"id","title","url","tags","post_date","scrap_date","content"
78208480,"serverless-offline module --> Cannot use import statement outside a module","https://stackoverflow.com/questions/78208480/serverless-offline-module-cannot-use-import-statement-outside-a-module","{aws-lambda,serverless-framework,es6-modules,commonjs}","2024-03-22 19:30:03+02","2024-05-17 04:47:11.489492+03","I am currently developing a simple lambda function using node js with serverless yml templates My project is using typescript and tsconfig is set to ESNext target version along with ESnext module as seen below The package jsons type is also set to module along with requiring node version to be 20 0 0 As you can see from devDependencies it does require serverlessoffline However when the function is running locally using serverlessoffline the following error was hit [ [UserFunction js error][1]][1] I already tried to compile everything into commonJs and that did not work any better Not sure why this is the case Has anyone who used serverless ran into this problem before Edit Tried to change the moduleResolution and module to NodeNext However the following error is encountered Not sure why that would be the case This is the same error I ran into when I set the module to commonJs I checked the file in question UserFunction js It is written with commonJs format and I can also see a module exports load defined [1] httpsi stack imgur comEvo66 png"
78269495,"executablePath error in puppeteer to launch a lambda function","https://stackoverflow.com/questions/78269495/executablepath-error-in-puppeteer-to-launch-a-lambda-function","{aws-lambda,puppeteer,chromium,serverless-framework}","2024-04-03 17:37:28+03","2024-05-17 04:47:12.292369+03","I have encountred a problem in my sst app where i wanted to launch a puppeteer lambda function these are my installed dependencies But i have got Error The input directory vartaskpackagesfunctionsbin does not exist in the deployment "
78270901,"Allow lambda internet connection inside VPC","https://stackoverflow.com/questions/78270901/allow-lambda-internet-connection-inside-vpc","{aws-lambda,serverless-framework,subnet,aws-nat-gateway}","2024-04-03 23:04:49+03","2024-05-17 04:47:13.192348+03","I have one lambda inside a VPC It has 2 subnets A B I need to call an external api inside the lambda I have been reading about NatGatway and RouteTables but I am not able to provide internet access output from Lambda to the API to the lambda I am using serverless framework Here is my serverless file serverless yml Here are my resources related to VPC and Routing I do not think that all others be needed to solve this trouble routing yml And my vpc yml Thanks in advance 3"
78275367,"Setting up the authorization for AWS Step function using serverless framework","https://stackoverflow.com/questions/78275367/setting-up-the-authorization-for-aws-step-function-using-serverless-framework","{amazon-web-services,yaml,serverless,serverless-framework,aws-step-functions}","2024-04-04 16:45:19+03","2024-05-17 04:47:14.314715+03","serverless yaml This is my serverless yaml file for AWS Step function This step function is working very well without authorizer property But I need to set up the authorizer so if I add the authorizer on step function I cannot get the token like second image submitQuestionnaire ts So how can I solve this issue So to solve this issue I tried to fix the serverless yaml file following this link httpswww serverless compluginsserverlessstepfunctions So I fixed the serverless yaml file like these images serverless yaml 1 serverless yaml 2 And I tried to deploy it on AWS environment But I got this error message error message"
78308917,"Cloudformation error when trying to create a DynamoDB table","https://stackoverflow.com/questions/78308917/cloudformation-error-when-trying-to-create-a-dynamodb-table","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless,serverless-framework}","2024-04-11 08:00:39+03","2024-05-17 04:47:15.309348+03","I am struggling to create a DynamoDB table through Cloudformation I am using the Serverless Framework as a layer on top of it but the resource is written with Cloudformation Yaml notation so it should work just as specified in their docs This is the part of my serverless yml to declare the DynamoDB resource but I am getting this error when I try to deploy which is confusing because I cannot define all the attributes in KeySchema only 1 or 2 are allowed Moreover I am following the same syntax as in examples like this httpsdocs aws amazon comAWSCloudFormationlatestUserGuidequickrefdynamodb html Any suggestion on how to fix this"
78311044,"serverless package fails on M1 MacBook","https://stackoverflow.com/questions/78311044/serverless-package-fails-on-m1-macbook","{serverless-framework}","2024-04-11 14:24:26+03","2024-05-17 04:47:16.119171+03","I have installed the serverless framework on my M1 MacBook using brew install serverless followed by sls plugin install n serverlesspythonrequirements I have my serverless yml set up This produces an error for a docker run command that says operation not supported Working through the docker run command it is because it cannot mount one of the directories on the Macbook privatetmpcom apple launchd mPzNbsd4ISListeners I can see that this is a file type Socket I am not sure how to resolve this and get sls package working on my MacBook and should be grateful for any help or advice that can be given "
78316692,"Does serverless framework version 2 supports Node.js version 18 or higher","https://stackoverflow.com/questions/78316692/does-serverless-framework-version-2-supports-node-js-version-18-or-higher","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2024-04-12 13:47:40+03","2024-05-17 04:47:16.860441+03","We got a lambda notification from AWS that follows AWS going to End of Support Life EOL for Node js versions 16 or below after June24 We are currently serverless frameworkVersion 2 in our serverless yml file Does node js 18 or higher version supports version 2 or do we need to upgrade to V3 for the same "
78321535,"Lambda API request to Cognito is timing out","https://stackoverflow.com/questions/78321535/lambda-api-request-to-cognito-is-timing-out","{aws-lambda,amazon-cognito,serverless-framework}","2024-04-13 17:52:55+03","2024-05-17 04:47:18.165241+03","I have a NodeJS application that is trying to create users in my Cognito user pool But this request is timing out the response is a 504 Request Timed Out My current setup is For the VPC I have setup the Route Table for requests to 0 0 0 00 be routed to the NAT gateway The NAT gateways state is Available and set to be Public The Route table has associated the lambdas subnets with this route The Lambda has a security group attached that allows inbound outbound requests for 0 0 0 00 on port 443 The lambda role has a cognito policy attached to it which is as follows I am using the serverlessframework and have set the timeout to be 60 seconds When running this code locally the request successfully completes in under 12 seconds In the code I am instantiating the CognitoIdentityServiceProvider using an IAM user which also has cognito permissions of And the code that I am using to make the request to Cognito is as follows I am not sure if this is relevant but the Lambda is able to successfully communicate with an RDS I would really appreciate any insight into why this request is timing out thank you I have double checked to ensure that the Route table for external calls 0 0 0 00 is becoming routed to the NAT gateway I have checked all the policies for the IAM user Lambda Role and security group to allow traffic from port 443 to 0 0 0 00 "
57906573,"How use Sub function wth GetAtt in serverless?","https://stackoverflow.com/questions/57906573/how-use-sub-function-wth-getatt-in-serverless","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-09-12 12:18:30+03","2024-05-17 05:16:51.933662+03","Consider the following code This gives me en error"
78328630,"Upload file to S3 through AWS API Gateway REST API using serverless.yml","https://stackoverflow.com/questions/78328630/upload-file-to-s3-through-aws-api-gateway-rest-api-using-serverless-yml","{amazon-s3,aws-api-gateway,serverless-framework}","2024-04-15 13:10:53+03","2024-05-17 04:47:18.30339+03","Is there any way to create AWS Api gateway REST API to create an endpoint and add a trigger to upload the file to S3 using serverless yml template without using AWS lambda I have gone through the documentation of serverless framework but not able to find any approach without using lambda "
78351530,"Does AWS Step Functions automatically update IAM role permissions when specifying a resource in Serverless Framework?","https://stackoverflow.com/questions/78351530/does-aws-step-functions-automatically-update-iam-role-permissions-when-specifyin","{amazon-web-services,serverless-framework,aws-step-functions,serverless-framework-step-functions}","2024-04-19 05:34:44+03","2024-05-17 04:47:19.113284+03","I am using the Serverless Framework with the AWS Step Functions plugin to build a state machine for an order checkout flow In one of the states I am trying to publish a message to an Amazon SNS topic Heres the relevant part of my serverless yml file In this configuration I am specifying the Resource as arnawsstatessnspublish which is the ARN for the SNS publish action I did not explicitly create an IAM role for this state machine However when I checked the IAM role associated with the state machine I found that it had the snsPublish permission I also noticed that when I changed the Resource value the permissions in the IAM role were updated accordingly Does AWS Step Functions automatically create and update an IAM role with the necessary permissions when I specify a resource like this in the Serverless Framework Or is there some other mechanism at work here"
78351893,"Serverless Lambda creation with vpc returns Variables/vpc: expected type: String, found: JSONObject","https://stackoverflow.com/questions/78351893/serverless-lambda-creation-with-vpc-returns-variables-vpc-expected-type-string","{amazon-web-services,aws-lambda,serverless-framework,amazon-vpc}","2024-04-19 07:03:16+03","2024-05-17 04:47:20.18699+03","im trying to deploy a simple lambda inside a vpc with serverless framework using this yml and this is returned"
78376494,"KafkaInstanceError: The producer is disconnected when calling the send function more than once","https://stackoverflow.com/questions/78376494/kafkainstanceerror-the-producer-is-disconnected-when-calling-the-send-function","{node.js,serverless-framework,kafkajs}","2024-04-24 07:00:34+03","2024-05-17 04:47:21.277889+03","Having error when sending messages when the producer needs to be executed more than once But when I executed it only once i got no error Code provided below to further illustrate my current scenario Would like to seek help as i am really stuck right now is there something in my implementationcode or is it something on kafkajs library using serverless nodejs with kafkajs On kafka JS file and here is my producer js file And here is the execution part take note when the event is only consist of 1 record no error on kafka but if i make it two the error occur which is KafkaInstanceError The producer is disconnected"
78411059,"Serverless Framework: Point to a pre-existing Lambda function from a REST API Gateway","https://stackoverflow.com/questions/78411059/serverless-framework-point-to-a-pre-existing-lambda-function-from-a-rest-api-ga","{amazon-web-services,serverless-framework}","2024-04-30 21:16:20+03","2024-05-17 04:47:22.904882+03","I referred to this question It is still unanswered Is not there a way at all to directly point to a preexisting Lambda function from serverless yml while creating a new REST API Gateway From the referred question it could ideally be like this"
78421413,"How to call an async method but end the program without waiting for the result?","https://stackoverflow.com/questions/78421413/how-to-call-an-async-method-but-end-the-program-without-waiting-for-the-result","{javascript,node.js,typescript,aws-lambda,serverless-framework}","2024-05-02 19:40:22+03","2024-05-17 04:47:23.388039+03","I have a Lambda function deployed with the Serverless Framework I am making a call to an async method specifically replicate run if that matters in the following way That code runs until the run function successfully returns or fails How can I skip the process of awaiting the response When I do not use the return statement the Lambda hangs until a timeout If I use the await keyword it of course awaits "
78433952,"How do I allow reference arn of an httpApi lambda","https://stackoverflow.com/questions/78433952/how-do-i-allow-reference-arn-of-an-httpapi-lambda","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework}","2024-05-05 22:37:20+03","2024-05-17 04:47:24.62827+03","I have the following test serverless yml Deploying this gives the following error api lambda function needs to invoke the second api2 lambda function and therefore needs InvokeFunction permission "
77759920,"(0 , core_1.default) is not a function on lambda handler using @middy/core","https://stackoverflow.com/questions/77759920/0-core-1-default-is-not-a-function-on-lambda-handler-using-middy-core","{node.js,typescript,aws-lambda,serverless-framework,middy}","2024-01-04 16:52:04+02","2024-05-17 04:47:26.086349+03","I am trying to use middy on my lambda middlewares my stack is created with TypeScript with Serverless v3 Node js v18 There is the minimal reproductive example tsconfig json package json serverless yml handler ts import middy from middycore const myProtectedFunction async event context export const handler middy handler myProtectedFunction After install serverless dependencies just execute serverless offline and then make the request to the endpoint Error image"
77791063,"Can we add event bridge trigger to step function, like we do for aws lambda, so that step function triggers when we push an event to the bus","https://stackoverflow.com/questions/77791063/can-we-add-event-bridge-trigger-to-step-function-like-we-do-for-aws-lambda-so","{aws-lambda,aws-cloudformation,serverless-framework,aws-step-functions,aws-serverless}","2024-01-10 05:18:16+02","2024-05-17 04:47:27.001055+03","I am trying to trigger step function once an event with matching pattern source is pushed to event bus Can we attach the event bridge trigger to step function like we do for lambda so that the step function triggers when we push an event to the bus using serverless framework I tried adding the same eventbridge configs to both lambda and SF lambda is triggering but step function will not Heres the yml block for lambda function Heres the yml block for Step function For the above case I am able to trigger lambda when i push an event with matching source to that even bus but not able to trigger step function Can we do like this for triggering stepfunction also if yes please let me know what I am missing Edit1 Also let me know if we can not attach custom events like this for SF Note I am able to trigger SF by creating a cloudformation bus and rule and configuring step function in target of that rule Please let me know if we can setup AWS Step Functions to react to events coming in via the EventBridge like above "
57594671,"nodejs: Using child process in aws lambda to run python script not working","https://stackoverflow.com/questions/57594671/nodejs-using-child-process-in-aws-lambda-to-run-python-script-not-working","{python,node.js,serverless-framework}","2019-08-21 15:13:53+03","2024-05-17 04:56:54.280543+03","Using the serverless framework and this post as guide I would like to print out some info from a python script I have got this relevant code in my handler js and I also have script py I am expecting my console to show output or an error when I invoke handler function but it prints nothing"
77794363,"serverless framework local testing with layers","https://stackoverflow.com/questions/77794363/serverless-framework-local-testing-with-layers","{aws-lambda,serverless-framework,aws-lambda-layers}","2024-01-10 15:05:22+02","2024-05-17 04:47:27.860585+03","I am trying to create a serverless framework template from our current SAM template due to a provider migration but have run into an issue importing our custom library in the serverless yml file The error in question is in the functions import statement saying no module named dal implying the layer is not being propperly attached to the function The content that is to be in the layer is a package in the same project as can be seen below The current project structure ressembles the following This is the my progress in the serverless yml file This is the current SAM template yaml working implementation I have tried changing the layers path to librariesdaldal to no avail same with librariesdal and librariesdaldal I am testing locally using the serverlessoffline plugin as I am unable to deploy to the cloud for the time being The plugin serverlesspythonrequirements has yielded no results either "
77802615,"Same TypeOrm code Code Executing differently on local and dev environment","https://stackoverflow.com/questions/77802615/same-typeorm-code-code-executing-differently-on-local-and-dev-environment","{javascript,postgresql,typeorm,serverless-framework}","2024-01-11 19:39:24+02","2024-05-17 04:47:28.542196+03","I am using typeorm with express and serverless js I am using postgres DB and I am using same DB on both sandbox local and dev env I am trying to upsert a model and from logs I see that different queries are being run on sandbox and dev env although the model and everything is same and a insert query is throwing error on dev env and the insert query is not being run on my sandbox env while doing the upsert Here are the logs Need Help with the discrepancies I tried everthing Synced all the dependencies like my common packages which contain code for type orm entities on both the envs but to no avail "
77806046,"Migrate resources from Terraform to Serverless Framework","https://stackoverflow.com/questions/77806046/migrate-resources-from-terraform-to-serverless-framework","{amazon-web-services,terraform,aws-cloudformation,serverless-framework}","2024-01-12 10:53:58+02","2024-05-17 04:47:29.5687+03","We have a cloudformation stack that was previously deployed with Terraform We are now using Serverless framework instead We have recreated the resource definitions in serverless yml but we cannot deploy this as the resources already exist with the same names Is there a way to migrate the resources that already exist to the serverless deployment"
77813461,"Can you setup absolute paths in a serverless application","https://stackoverflow.com/questions/77813461/can-you-setup-absolute-paths-in-a-serverless-application","{node.js,serverless-framework,aws-serverless}","2024-01-13 23:27:50+02","2024-05-17 04:47:30.529428+03","I have a serverless app where I have a bunch of folders like models handlers libs etc The directory structure looks like this I like to structure my serverless methods so that it is nested for the paths but it becomes very deep pretty fast For example it may look something like this This means that in the userauthloginpost handler I may have to import something models and the import is gonna look like What I would prefere to do is something like But I have not found any solutions to achieve this in serverless framework yet"
77817811,"AWS Serverless framework: Missing lower version constraint","https://stackoverflow.com/questions/77817811/aws-serverless-framework-missing-lower-version-constraint","{serverless-framework,aws-serverless}","2024-01-15 05:26:29+02","2024-05-17 04:47:31.398262+03","I am building an AWS serverless framework yaml file I am trying to deploy it to an enclosed server that requires I set the upper and lower version constraint This is how I have set it up but everytime I try to run it I end up getting an error deployment_structure_test go52 Error Trace deployment_structure_test go52 Error Should be true Test TestVerifyDeploymentFrameworkVersionIsCorrect Messages Missing lower version constraint what am I doing wrong your help is appreciated"
77818125,"Non VPC Lambda Timeout When Sending Http Requests","https://stackoverflow.com/questions/77818125/non-vpc-lambda-timeout-when-sending-http-requests","{java,multithreading,http,aws-lambda,serverless-framework}","2024-01-15 07:06:38+02","2024-05-17 04:47:32.455362+03","I have recently been trying out serverless infrastructure for a new project using the Serverless Framework Unfortunately I have been completely unable to send any Http Requests from the Lambda I have tried the Reactor Netty Client HttpRequest and HttpURLConnection I simply do not knowunderstand what the problem is All code in the function executes without any issue right up until any network related code is run then the function simply stalls until its execution time limit runs out It begins stalling when java net http HttpClient newHttpClient is run when HttpURLConnection opens a connection or when reactor netty http client HttpClient create is called Their are no error or debug messages in CloudWatch just the function timeout notice The code all runs perfectly locallyoutside of AWS Lambda I am using the following Serverless configuration for this function Edit I have gotten this down to a memory issue Running the Lambda with anything under 512 MB simply does not work even if the memory usage does not even exceed 200 MB "
77825817,"Serverless Framework create HTTP API template not Working","https://stackoverflow.com/questions/77825817/serverless-framework-create-http-api-template-not-working","{serverless-framework,aws-serverless}","2024-01-16 12:42:41+02","2024-05-17 04:47:33.307406+03","I am currently trying to start serverless http api request using serverless framework tremplate but it is returning Timeout error messages I have installed serverless with the following command I have created an IAM with programmatic Access key with aws cli also install and configured whenever i tried to create a service from the boilerplate it throws an error `Creating a new serverless project ` I have updated the node version and also tried a few hack online and it is not working"
77852951,"Can I contribute a full Nx executor for the Serverless framework?","https://stackoverflow.com/questions/77852951/can-i-contribute-a-full-nx-executor-for-the-serverless-framework","{serverless,serverless-framework,nrwl}","2024-01-20 22:18:50+02","2024-05-17 04:47:34.476337+03","I am currently working on a full support for the Serverless Framework Nx executor and I have 2 options To clarify my intentions I am working on a full supported executor not a casespecific support Do you have other options I did not mention Thanks Ofri As I mentioned I am working on a full executor my expectation is to hear the team and decide on the best path possible to ensure people can use it because currently the community developement do not work well and require many manually adjustments plus they do not support the full Serverless framework CLI "
77863279,"How does one add a resourcePolicy in serverless.yaml for an ECR that will be created on deploy?","https://stackoverflow.com/questions/77863279/how-does-one-add-a-resourcepolicy-in-serverless-yaml-for-an-ecr-that-will-be-cre","{serverless,serverless-framework,amazon-ecr}","2024-01-22 23:15:31+02","2024-05-17 04:47:35.427593+03","I really want to sls deploy this with an ecr policy for the resource so that Lambda can access it Heres the resource policy We have an explicit deny in our environment so I must also update this When I apply the resourcePolicy directly to ECR it works beautifully More information serverless yaml And my function code app js "
77866176,"Serverless framework with serverless-python-requirements does not work","https://stackoverflow.com/questions/77866176/serverless-framework-with-serverless-python-requirements-does-not-work","{python,aws-lambda,serverless-framework}","2024-01-23 12:09:49+02","2024-05-17 04:47:36.530138+03","I opened this thread on github I am trying to use libraries in my python backend I have it deployed with serverless framework This is my configuration serverless yml I have changed the names of the functions to show it here My requirements txt The problem I am having is that when I upload it to AWS with the serverless deploy command I get this error in only some lambda functions It is strange because some functions use this library and it works but in others it does not work This is the error un cloudWatch EDIT I will tell you about the changes I have made that have not been successful I have tried to upload the requirements to a lambda layer but I have not had any success with my problem either I have switched to python 3 8 and have been using pipenv instead of pythons native venv This is the new serverless yml I have also tried deleting the lambda functions and creating them again I am still surprised since in some functions the cachetools library is used and there is no error and yet in others the error appears using both the same function that uses cachetools"
77901626,"How can I add the dynamic stage name to cloudformation output keys with serverless framework","https://stackoverflow.com/questions/77901626/how-can-i-add-the-dynamic-stage-name-to-cloudformation-output-keys-with-serverle","{amazon-web-services,aws-cloudformation,serverless-framework}","2024-01-29 17:39:59+02","2024-05-17 04:47:38.079219+03","Problem I want to deploy the same service in two different cloudformation stacks on the same aws account This works great since the stacknames differ on the selfprovider stage However I had to add a cognito userpool with some exports to it like this However this does not work since Exports have to be unique across one region so when this export is already created by the other stack the second stack will get an error while deploying Unfortunatly my attept to add the stage and servicename to the key like this results in the following error The CloudFormation template is invalid Template format error Outputs name UserPool selfcustom serviceName selfprovider stage is non alphanumeric So how can I deploy the same service in two different stack with Exports"
77980581,"How to deploy nestjs app on azure function via serverless framework using serverless deploy","https://stackoverflow.com/questions/77980581/how-to-deploy-nestjs-app-on-azure-function-via-serverless-framework-using-server","{node.js,typescript,azure-functions,nestjs,serverless-framework}","2024-02-12 09:55:04+02","2024-05-17 04:47:38.389991+03","I want to deploy NestJS app on azure function via serverless framework Need help to setup handler and serverless yml for node 18 version I tried below solution but did not help "
77981105,"facing issue to setup nodejs version 18 for azure function via serverless deploy","https://stackoverflow.com/questions/77981105/facing-issue-to-setup-nodejs-version-18-for-azure-function-via-serverless-deploy","{node.js,azure,azure-functions,serverless,serverless-framework}","2024-02-12 11:25:47+02","2024-05-17 04:47:39.177434+03","I am trying to deploy NodeJS code to azure function via serverless framework It is working correctly for node 14 but facing issue when I tried to deploy is node 18 Ideally after deployment FUNCTIONS_EXTENSION_VERSION should set to 4 but it is set as 3 I am using below serverless yml file"
78021232,"Serverless error : Value not found at ""self""","https://stackoverflow.com/questions/78021232/serverless-error-value-not-found-at-self","{serverless,serverless-framework}","2024-02-19 14:01:37+02","2024-05-17 04:47:40.233265+03","I have this problem with serverless deploy Error message is Cannot resolve variable at resources Resources ClientsTable Properties TableName Value not found at self source when I try to run the yarn deploy command on my serverless project I dont know where is problem I attached screen with error from CLI Can you help me please enter image description here I check this problem Serverless yml error when running serverless deploy but without result"
77181207,"How to run custom code to parse a string in serverless.yaml?","https://stackoverflow.com/questions/77181207/how-to-run-custom-code-to-parse-a-string-in-serverless-yaml","{serverless-framework}","2023-09-26 15:01:57+03","2024-05-17 04:47:42.262069+03","I am using the fantastic tool serverless and the useDotenv true config I am loading env file like and can use it perfectly fine by referring to it envapp_url Now I do not want to use this variable but extract only the host out of this value something like extractHost envapp_url Can I declare nodejs code inside serverless yaml to run later or make some custom extension to do it "
77197502,"Serverless deploy seems to not access .env file","https://stackoverflow.com/questions/77197502/serverless-deploy-seems-to-not-access-env-file","{github,github-actions,serverless,serverless-framework}","2023-09-28 18:44:15+03","2024-05-17 04:47:43.037655+03","I want to deploy some serverless functions via GitHub Actions and the serverless framework However it seems that serverless cannot access the env file containing secrets and similar I always get this Iv tried to use the stage keyword and and a serverless plugin from the the market place but does not work Here my workflow file serverless yml file"
77222287,"how to use AWS + Serverless Framework + Credentials + MFA on Windows 10","https://stackoverflow.com/questions/77222287/how-to-use-aws-serverless-framework-credentials-mfa-on-windows-10","{amazon-web-services,serverless-framework}","2023-10-03 12:30:31+03","2024-05-17 04:47:43.93725+03","I am currently using an Ubuntu virtual machine where NODEJS and the Serverless Framework are up and running I have been deploying a container image as a Lambda function using the sls deploy command and it is been working fine on the Ubuntu VM However there have been occasional issues with boot errors on the VM since it is running within a virtual machine environment My AWS user has Administrator privileges and MultiFactor Authentication MFA is enabled Now I would like to set up Serverless and perform sls deploy from my Windows 10 machine Nodejs and Serverless are already installed on my Windows machine Could you please guide me on how to set up Serverless log in with MFA and perform sls deploy on my Windows 10 machine Thank you "
77223170,"AWS Lambda API blocked by CORS policy","https://stackoverflow.com/questions/77223170/aws-lambda-api-blocked-by-cors-policy","{python,docker,aws-lambda,cors,serverless-framework}","2023-10-03 14:24:48+03","2024-05-17 04:47:45.023061+03","I have an API in AWS Lambda and when I try to call it I get an error related to the CORS policy although I think I am configuring the CORS right I have an API writen in Python in AWS Lambda which I deployed with Serverless Framework Though when I fetch the API from the frontend it gets errors related to the CORS configuration Access to fetch at https0vdu10a3e6 executeapi euwest1 amazonaws comdevinit from origin httplocalhost8080 has been blocked by CORS policy Request header field accesscontrolalloworigin is not allowed by AccessControlAllowHeaders in preflight response After trying some fixes I got to this but I still get the error This is my Dockerfile This is my serverless yaml This is how I fetch I also do not get any log in Lambda If anyone could help I would be appreciated Thank you for your time "
77229214,"Concatenate YAML file with predefined values inside custom tag","https://stackoverflow.com/questions/77229214/concatenate-yaml-file-with-predefined-values-inside-custom-tag","{yaml,serverless-framework}","2023-10-04 11:33:05+03","2024-05-17 04:47:46.500261+03","I am trying to write a Serverless Framework file that will be a master template This template could then be used by a user with a child serverless file This would allow me to keep a global configuration while allowing some freedom to the users consuming the template In particular because we are using the serverlesspythonrequirements plugin I want to make sure that all serverless files include at least the following custom values But because some people might use the custom keyword as well for other things I want to make sure their values are included as well I have stumbled upon this forum post which seems to be able to solve my issue but after many tries I could not find a way to make this works This is what I tried But unfortunately I got the following error message when trying to run sls deploy I believe this is because yaml expects a keyvalue and thinks that custom yml file is only a key So how can I manage to solve this Thanks "
77234429,"Passing query params to aws lambda function return wrong results in postman","https://stackoverflow.com/questions/77234429/passing-query-params-to-aws-lambda-function-return-wrong-results-in-postman","{node.js,amazon-web-services,aws-lambda,serverless-framework,amazon-dynamodb-local}","2023-10-05 05:22:08+03","2024-05-17 04:47:47.058012+03","I am just starting with aws lambda functions with serverless framework I am trying to run lambda functions locally using dynamodblocal and serverlessoffline Problem I am trying to pass query param to a lambda function which queries the dynamodb local I can see the query results in the console log fetchResult in terminal but when returning the the desired value in header object I do not see it in postman response serverless yaml lambda function Here is what i am getting in postman as response and headers response Code is trying to redirect to the current url I just need to return the url and redirect the user to this orignal url I am not sure what needs to be done here When I hit the url httplocalhost3000localrecordHitshortUrln26L6FWr from browser it gives this "
77247851,"Serverless .yml error when running serverless deploy","https://stackoverflow.com/questions/77247851/serverless-yml-error-when-running-serverless-deploy","{javascript,serverless,serverless-framework,aws-serverless}","2023-10-07 00:02:45+03","2024-05-17 04:47:48.005199+03","I get the error Cannot resolve serverless yml Variables resolution errored with I was hoping somebody could point me in the proper direction as I am unsure why the TableName property can not be resolved Thanks Tate I am following a tutorial and am unsure about what to do with this error I double checked syntax "
77257724,"How to Add Node Loader in Serverless ESBuild to Resolve "".node"" Files Error?","https://stackoverflow.com/questions/77257724/how-to-add-node-loader-in-serverless-esbuild-to-resolve-node-files-error","{javascript,node.js,webpack,serverless-framework,esbuild}","2023-10-09 09:32:23+03","2024-05-17 04:47:48.981997+03","I am currently working on a serverless project where I am using ESBuild to bundle my JavaScript code for AWS Lambda functions Everything has been working smoothly so far but I have run into a situation where I need to load a Node js module that is not natively supported by ESBuild Whenever I run the serverless package command I encounter the following error Specifically I need to use a Node js module loader to load a module that contains native bindings with a node extension However ESBuild does not seem to support this out of the box and I am not sure how to configure it to work with a custom Node js module loader I have read about similar issues with Webpack where you can use the nodeloader package to load Node js modules but I am not sure how to achieve the same result with ESBuild in a serverless environment Has anyone successfully configured ESBuild to work with a custom Node js module loader to resolve node files in a serverless context Any guidance or examples would be greatly appreciated Thanks "
77268971,"metadata dependsOn not work in serverless framework template for GCP deployment manager","https://stackoverflow.com/questions/77268971/metadata-dependson-not-work-in-serverless-framework-template-for-gcp-deployment","{serverless-framework,google-deployment-manager}","2023-10-10 21:08:45+03","2024-05-17 04:47:49.760109+03","I want to create dependencies between resource services and find metadatadependsOn is used in Deployment manager template However when I applied the same syntax to serverless yml the resource that depends on the creation of others was not created Checking the status of the services that it depends on they were all created and no errors showed up on deployment manager console about the resource itself and those it depends on is this a syntax issue I do not find such example about resource dependency on the serverless gcp document "
77283269,"How to load file in serverless.yml using variables?","https://stackoverflow.com/questions/77283269/how-to-load-file-in-serverless-yml-using-variables","{serverless-framework}","2023-10-12 19:09:57+03","2024-05-17 04:47:50.500974+03","I want to load a file in sls yml based on env Something like this However this gives me Error Cannot resolve serverless yml Variables resolution errored with How can I load a file based on a variable"
77305426,"How do I configure Serverless Framework for dotenv in a monorepo for specific sub-folders?","https://stackoverflow.com/questions/77305426/how-do-i-configure-serverless-framework-for-dotenv-in-a-monorepo-for-specific-su","{aws-lambda,serverless-framework,monorepo,dotenv,npm-workspaces}","2023-10-16 23:24:27+03","2024-05-17 04:47:52.072284+03","I have got a basic monorepo using npm workspaces Folder structure is like so My serverless yml file Serverless only exists in my project for local debugging and it works asis with serverless yml in the root of the repo but it is also forcing me to place my env file in the root and will not allow me to place individual env files into different projects inside of the packages folder like I have got in the image above It only recognizes the env vars if it is in the root Really I would like serverless yml to also reside inside the packageslambda folder if possible since that is the only place it is relevant Is there a way to do this"
77308929,"Serverless Framework not creating AWS Scheduler trigger","https://stackoverflow.com/questions/77308929/serverless-framework-not-creating-aws-scheduler-trigger","{aws-lambda,serverless-framework}","2023-10-17 12:19:21+03","2024-05-17 04:47:52.6489+03","For some reason when I deploy my lambda it does not create a trigger This is the extract from the yaml This is adapted straight from the serverless documentation so not sure why it is not working It is not showing any errors at all just doing nothing "
77312497,"Creating lambda log subscription with serverless","https://stackoverflow.com/questions/77312497/creating-lambda-log-subscription-with-serverless","{serverless,serverless-framework}","2023-10-17 22:04:37+03","2024-05-17 04:47:53.616457+03","I am trying to deploy some lambdas via serverless and along with deploying the lambda I want to also set up a log subscription for said lambda I am trying to use the serverlesspluginlogsubscription in my serverless yml file When I try to run the serverless file I get the below error in my github workflow Below is my serverless yml file that I am using Not sure why I am getting that error when the file is running I looked at this documentation httpswww serverless compluginsserverlesspluginlogsubscription for reference "
77354288,"No module named 'pydantic_core._pydantic_core' server for python serverless on AWS lambda","https://stackoverflow.com/questions/77354288/no-module-named-pydantic-core-pydantic-core-server-for-python-serverless-on-a","{python,aws-lambda,serverless-framework,pydantic}","2023-10-24 17:40:42+03","2024-05-17 04:47:54.610951+03","I read these StackOverflow questions 1 2 that cover the same issue as well as this Github thread I still feel like I am missing something My Issue I have a function that is deployed to AWS LambdaAPI gateway using the serverless framework python 3 10 runtime I am also using the serverlesspythonrequirements plugin My function uses the pydantic module I have the following in my requirements txt excerpt I am not using Flask or FastAPI My function works just fine when invoked locally serverless invoke local f my_function After deploying and invoking the deployed function with the same command other than removing local I get this error What I Tried I read in the threads above that this problem could come about as a result of ISA mismatches in pydantic_core So I tried the following Specifying the ISA for all functions in serverless yml provider architecture arm64 and x86_64 Specifying that pip should build in a docker in serverless yml that it should use an arm64 image and pass the platform information to pip via the dockerRunCmdExtraArgs I am not sure what else to try "
77359048,"""errorType"": ""Runtime.ImportModuleError"",","https://stackoverflow.com/questions/77359048/errortype-runtime-importmoduleerror","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2023-10-25 11:27:59+03","2024-05-17 04:47:55.497771+03","Getting the following error while adding serverless middleware to my lambda getRecordsFromRequestId Here is my serverless yml What has to be changed If anybody could help I want API to run "
77368732,"Reducing Package Size in Serverless Project Monorepo using Prisma and AWS Lambda, serverless-esbuild","https://stackoverflow.com/questions/77368732/reducing-package-size-in-serverless-project-monorepo-using-prisma-and-aws-lambda","{prisma,serverless-framework,monorepo,esbuild}","2023-10-26 16:19:34+03","2024-05-17 04:47:56.455128+03","I am working on a serverless project in a monorepo and encountering an issue related to the package size For my prisma to integrate effectively with AWS lambda function I have to include two key files schema prisma and libquery_enginerhelopenssl1 0 x so node They need to be located alongside my handler js function in the build process I have been able to use esbuild coupled with the esbuildplugincopy to replicate the two files next to the handler js function The problem I have encountered is that the package size increasingly grows with each function I include in my serverless configuration This stems from the bundled ZIP file duplicating these files for each individual function Heres my esbuildplugincopy script please note that the issue persists even when I set once to true In my serverless config the following is the esbuild setup Could anyone guide me on how to copy the needed files for prisma only once for each packaged function I have tried changing all the esbuild plugin copy options to no avail I have tried switching over to serverless webpack but had other issues there I have tried various configurations of package include and excluse as shown here"
76622153,"Source maps not working VSCode debugger Typescript","https://stackoverflow.com/questions/76622153/source-maps-not-working-vscode-debugger-typescript","{typescript,serverless-framework,vscode-debugger,source-maps,esbuild}","2023-07-05 16:08:17+03","2024-05-17 04:47:58.401095+03","I realise this is a heavily asked question but through all the articles I have read I have not yet found a solution I am trying to debug my serverless Typescript project using VSCode debugger Setting breakpoints in the code is fine they are hit but when trying to output the values of variables in the debug console I always get a ReferenceError x is not defined This to me sounds like it cannot find the source maps created I am using serverlessesbuild to transpile the TS The custom config for that package in serverless yml is minimal being The sourcemap option in esbuild creating the source maps linking them to the transpiled JS files by setting sourceMappingURL at the end of the js files My project structure is The esbuild folder being created by esbuild My index ts is really basic with My launch json is The debug script in package json is export SLS_DEBUG node inspect enablesourcemaps usrlocalbinserverless offline stage dev When I run the configuration it works as expected with saying it exposes the functions in question i e Greeting function I then invoke the lambda from the terminal using the AWS CLI with aws lambda invoke devnull endpointurl httplocalhost3002 functionname Greeting If I put a breakpoint on the console log msg line then the breakpoint will be hit which is great but if I try to log out the value of msg in the console it throws back ReferenceError msg is not defined but if I play over that line it will output the msg correctly in the console so this seems like an issue to do with the debugger not finding the source maps but the outFiles property in the config seems correct so I cannot see what is wrong here EDIT If I make the additional config in launch json So using serverless invoke local I get the same result breakpoint is hit but cannot output the values"
76632782,"Serverless keeps returning this error libpq.so.5: cannot open shared object file: No such file or directory","https://stackoverflow.com/questions/76632782/serverless-keeps-returning-this-error-libpq-so-5-cannot-open-shared-object-file","{python,aws-lambda,serverless,serverless-framework}","2023-07-06 22:05:47+03","2024-05-17 04:47:59.345088+03","I am trying to install dependencies for my lambda functions I am using the serverless framework and I have specified the necessary configurations Note I am using a dockerfile The error I am getting is a postgres related error I am trying to connect to a remote postgresDB and I am seeing this error in my logs This is my Dockerfile Any form of help will be appreciated "
76654130,"detect is localhost AWS Serverless framework","https://stackoverflow.com/questions/76654130/detect-is-localhost-aws-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,serverless-offline}","2023-07-10 13:15:40+03","2024-05-17 04:48:00.483886+03","i am running my serverless with serverless offline library i am running using sls offline and i have several how i detect is my lambda API triggered from localhost or server thank you i already try like process env IS_LOCAL process env AWS_EXECUTION_ENV but returning undefined "
76668692,"Local Development of Lambda Functions","https://stackoverflow.com/questions/76668692/local-development-of-lambda-functions","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless-offline}","2023-07-12 08:44:04+03","2024-05-17 04:48:01.534067+03","I have a certain number of APIs which are being migrated to AWS These APIs are based on Nest js and for local development I simply run the application which bootstraps a web server and I can invoke certain end points using swagger or Postman at localhost3000 Most of these functions are to be triggered by an event While it is possible to migrate a Nest js application to Lambda and bootstrap a webserver upon events I do not like the idea of running a server in serverless function I stripped down my functions by removing all the dependencies of Nest js and made them a simple typescript application which gets invoked upon reception of certain events The way I test this so far is using the console of API gateway or lambda console test events Both of these approaches need the lambda function to be deployed which takes a significant amount of time because of the CI processes and PR approvals In my case I do not need to simulate AWS environment I have tried to use serverless offline plugin but the problem is my serverless yml has references with existing resources on AWS and this reference cannot be resolved Also I am creating some resources in serverless yml like secrets and Ref Secret would also not be resolved Also I do not need to mock any AWS services For instance one of the services does the following Removing Nest js dependencies significantly cut down the deployment size but the ease of local testing had been a issue Ideal flow for me would be I can feed a CSV file to my function and it processes the file and updates the local docker based DB Is it possible to only invoke the function without trying to mock or resolve the whole infrastructure in serverless yml either with serverlessoffline plugin or any other way"
76687126,"Serverless single stack with multiple stages","https://stackoverflow.com/questions/76687126/serverless-single-stack-with-multiple-stages","{amazon-web-services,aws-cloudformation,serverless,serverless-framework}","2023-07-14 11:11:22+03","2024-05-17 04:48:02.637522+03","Using the serverless framework it is possible to specify a CloudFormation stack using the stackName variable as described here When working with different stages using the CLI parameters and serverless yml code similar to this answer all other stages and corresponding resources are deleted from the specified stack when deploying e g they are overwritten with the new stages lambdapolciesetc I want both serverless deploy and serverless deploy stage prod be deployed to the same stack and create different versions of the resources Is there an easy way to have multiple stages under a single stack Or is this maybe a bad idea from the getgo My serverless yml looks similar to this atm"
76690609,"Severless Framework Skip Docker Build for ECS/Lambda","https://stackoverflow.com/questions/76690609/severless-framework-skip-docker-build-for-ecs-lambda","{serverless-framework}","2023-07-14 19:19:47+03","2024-05-17 04:48:03.396066+03","Is it possible to conditionally skip rebuilding Docker images when deploying a Serverless Framework service When doing updates and trying to test small infrastructureCF updates nonapplication changes it would nice to be able to deploy directly with the current images for ECS and Lambda to test these changes without doing a rebuild "
76719522,"Can we create resource after lambda is created in serverless framework?","https://stackoverflow.com/questions/76719522/can-we-create-resource-after-lambda-is-created-in-serverless-framework","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,aws-serverless}","2023-07-19 08:53:21+03","2024-05-17 04:48:04.253378+03","Am trying to create resource after my lambda is deployed so am using DependsOn attribute but I am getting an error stating I knew my syntax is wrong I have tried different thing but it is not working attaching my code snippet below So basically if I try to deploy without DependsOn the deployment fails as there is no lambda exists so all am trying to do is to deploy the lambda first and then create the resource how can I achieve this any help would be appreciated"
76728382,"Serverless Framework - AWS Lambda Functions","https://stackoverflow.com/questions/76728382/serverless-framework-aws-lambda-functions","{aws-lambda,serverless-framework}","2023-07-20 09:17:55+03","2024-05-17 04:48:04.978299+03","I have one deployed in AWS with the help of the serverless framework several lambda functions The functions work correctly But they take time to run since they have to unzip a zip file with the python requirements When I run the function for the first time the function does not have time to decompress and execute in less than 30 seconds 30 seconds in the API Gateway limitation So it returns HTTP error 503 service unavailable I understand Serverles Framwork it also creates a cache policy using that is why when I call it again for the second time the function executes correctly When a few minutes go by without me calling it the cache is cleared and it fails again the first time I call it What could I do to eliminate this unwanted behavior Do I have to put any extra configuration for serverless framework Do I have to configure something in AWS"
76733652,"Serverless custom plugin - compiledCloudFormationTemplate","https://stackoverflow.com/questions/76733652/serverless-custom-plugin-compiledcloudformationtemplate","{aws-cloudformation,serverless-framework,aws-serverless,aws-cloudformation-custom-resource}","2023-07-20 20:55:19+03","2024-05-17 04:48:06.047041+03","Im creating a custom plugin to change the resources with type AWSLambdaAlias Im using serverless service provider compiledCloudFormationTemplate Resources to get all the alias resources and amend them however when I log all the types it seems the alias are not resources cause they are not listed any idea why Project reference httpsgithub comEstefaniaExamplesNurseryServerlessAppblobd60c568f9ac87ddb2fc3da01cbbd9542d5b87125cipluginstechnicalconfig jsL49 Thanks so much in advance"
76748233,"Servlerless framework how to get AWS subnet and security group id dynamically","https://stackoverflow.com/questions/76748233/servlerless-framework-how-to-get-aws-subnet-and-security-group-id-dynamically","{typescript,amazon-web-services,aws-lambda,serverless-framework}","2023-07-23 12:28:17+03","2024-05-17 04:48:07.009815+03","I am using Serverless Framework to deploy a Lambda to AWS with Typescript When attaching Lambda to an existing VPC we need to provide the Subnet and Security group ids index ts as below"
76762400,"Add security header under api gateway section in serverless: Invalid configuration","https://stackoverflow.com/questions/76762400/add-security-header-under-api-gateway-section-in-serverless-invalid-configurati","{amazon-web-services,serverless,serverless-framework}","2023-07-25 11:48:22+03","2024-05-17 04:48:07.656988+03","I have couple of lambda functions invoked via api gateway and I am using serverless This is what I have tried serverless yml handler js But getting Warning Invalid configuration encountered at provider apiGateway unrecognized property response Any help or suggestion on how to add security in api gateway section instead of adding it for each function"
76767027,"Define custom authorizer for all functions (AWS + Serverless)","https://stackoverflow.com/questions/76767027/define-custom-authorizer-for-all-functions-aws-serverless","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2023-07-25 23:02:40+03","2024-05-17 04:48:09.176606+03","I have been creating an application using serverless framework with AWS as my cloud provider I have some HTTP routes for creating an user listing users etc I am using HTTP v2 But then I need to define the custom authorizer for each endpoint I have Would be possible to setup a custom authorizer for the whole gateway and then I just specify which route I do not want to be protected This would prevent mistakes such as forgetting to add the authorization to important routes and turning then into public I have searched all over and could not find anything related to "
76777918,"serverless removes some npm packages while packaging Runtime.ImportModuleError","https://stackoverflow.com/questions/76777918/serverless-removes-some-npm-packages-while-packaging-runtime-importmoduleerror","{amazon-web-services,npm,aws-lambda,serverless,serverless-framework}","2023-07-27 08:35:23+03","2024-05-17 04:48:09.780762+03","I am working on an awsnodejs Serverless js project When I deploy my lambdas I started to receive the Runtime ImportModuleError error indicating that some dependencies are missing Upon inspection I found that it is a transitive dependency of my project In my project I use an npm package called graphqltag which has a dependency called graphql which in turn has a dependency called iterall The Module ImportError is occurring due to this iterall dependency When I checked it locally I had this package in my local node_modules However when I checked the deployed code in Lambda it simply did not have this package Not only this but when comparing my local node_modules to the deployed code I noticed that only very few dependencies were included in the deployed code So I am a bit confused as I have not specified anything to include or exclude in serverless yml Why is it choosing only a few dependencies Why do the node_modules produced from the sls package contain fewer packages compared to the local node_modules Additionally iterall is not a dev dependency for the graphql package I checked for GitHub issues and StackOverflow questions but I did not find much related to my issue Can anyone explain this behaviour Thanks in advance "
76808227,"AWS S3 Image URL Showing Crack Image","https://stackoverflow.com/questions/76808227/aws-s3-image-url-showing-crack-image","{express,amazon-s3,aws-lambda,serverless-framework}","2023-08-01 02:52:34+03","2024-05-17 04:48:10.847976+03","I am new to AWS and serverless framework My problem is that same code written in express js without using any logic of serverless and for this code there is a separate Elastic Beanstalk backend is able to upload image to AWS S3 and resulting Image url is showing Image in browser However the same code configured with serverless framework there is Lambda function for this is also able to upload image to AWS S3 for both case bucket is same but this time the resulting image url is only showing crack image I mean whenever image cannot open default image something like that In both cases I am getting an image url after uploading to s3 and that url with other text data I am storing in my Amazon RDS MySQL database My serverless Yaml file index js file categoryroutes js file Here is upload to AWS file With serverless framework image url looks like this Without serverless image url is showing image I have checked my access key and secret key all fine "
76821496,"Should I be able to filter on data and a partition key at the same time?","https://stackoverflow.com/questions/76821496/should-i-be-able-to-filter-on-data-and-a-partition-key-at-the-same-time","{serverless-framework}","2023-08-02 15:39:36+03","2024-05-17 04:48:11.623067+03","Using the serverless framework to create a lambda that is consuming data off an AWS Kinesis stream Messages going onto the stream look like this id f19864170a4e445fb07ae5527c0adc2f success true result TagNotFound type Access tagId TEST04E026D27A5884 scanTime 20230731T212952 600Z companyId null createdAt 20230731T212955 172Z scannedBy jjjjjj mobileId 12435 Filter pattern on the lambda looks like this filterPatterns partitionKey [ MyPartitionKey ] data tagId prefix TEST success [ true ] Question is should this work As long as I have a partitionKey filter the data filter is ignored and all records regardless of prefix or success as passed to the lambda If I remove the partitionKey filter the data key works as expected I cannot find any documentation indicating that this is expected behaviour I expect both filters to work together I have tried removing the partitionKey filter to get the data filter to work In this case all the records on the stream have the same partitionKey anyway so the filter is not actually necessary This is more of a learning thing at this point I just want better understand if there is an underlying reason for this not working "
76825931,"Serverless logs on AWS CloudWatch dont work","https://stackoverflow.com/questions/76825931/serverless-logs-on-aws-cloudwatch-dont-work","{nestjs,serverless,serverless-framework}","2023-08-03 07:49:43+03","2024-05-17 04:48:12.388342+03","I am trying to get logs of a production Serverless deployment nestjs on AWS CloudWatch I tried setting cloudwatchLog on the function as well as the logs block on the api level to no avail I only see the general startup logs appear and then empty logs console log is supposed to write to the logs but it does not How this can be fixed I created the cloudwatch log group and set the cloudwatchLog line to it but that log group is completely empty so I am using the default awslambdax log group "
76104697,"Unrecognized property 'consumerGroupId' in Kafka -> Lambda Integration using Serverless Framework","https://stackoverflow.com/questions/76104697/unrecognized-property-consumergroupid-in-kafka-lambda-integration-using-ser","{apache-kafka,aws-lambda,serverless-framework}","2023-04-25 19:19:46+03","2024-05-17 04:48:14.529748+03","We are implementing a Self Managed Kafka Lambda implementation using the Serverless Framework I was able to successfully deploy a lambda with Kafka as an event using the documentation here but the only property it is unable to recognize is consumerGroupId I do not understand if I am missing an indentation or a type of variable all together but I tried deploying many times with trial and error and none of these worked Since this is an optional object and the template is unable to recognize it Lambda generated a UUID to assign to the consumergroupid which is failing the connection to Kafka Any eyes on this would be much appreciated Error Warning Invalid configuration encountered at functions someLambda events 0 kafka unrecognized property consumerGroupId Here is the example code with permissions as well I have tried to pass a string destroy the stack and redeploy with each try played around with the naming convention and indentation to just cross out the basics with the template but nothing worked I expect the consumer Id I am passing to be used instead of Lambda generating a UUID The consumer group I am passing is some consumer group That is the original format and not accessing some object value "
76111099,"Can not read from cloudformation stack when deploying to localstack","https://stackoverflow.com/questions/76111099/can-not-read-from-cloudformation-stack-when-deploying-to-localstack","{serverless-framework,localstack}","2023-04-26 13:04:25+03","2024-05-17 04:48:15.567252+03","I am trying to deploy my serverless yml to localstack but I am facing some issues I have one serverless yml which contains my infrastructure resources such a dynamoDB which I can successfully deploy to localstack Another serverless yml references those resources in the serverless yml like this This works perfectly when I deploy everything to AWS however when I try to deploy this to localstack I receive this error I am starting localstack via cli and deploying via sls deploy stage local When I look at the localstack cli output when deploying I can also not spot any error the AWS cloudformation ListStackResources returns 200 "
76126693,"Deploy app sync by using serverless framework","https://stackoverflow.com/questions/76126693/deploy-app-sync-by-using-serverless-framework","{amazon-web-services,graphql,serverless-framework,aws-appsync}","2023-04-28 06:08:28+03","2024-05-17 04:48:16.421722+03","Hi there I am trying to deploy AppSync using a serverless framework but every time I get an error Running serverless from node_modules Deploying app synclambdademo to stage dev useast1 Warning Invalid AppSync Configuration at app sync must be the object this is my serverless code this is a schema file this is my env file I tried many ways but was not able to find a solution"
76157652,"AssertionError [ERR_ASSERTION]: unknown message code: 4a (Serverless - MySQL - NodeJS)","https://stackoverflow.com/questions/76157652/assertionerror-err-assertion-unknown-message-code-4a-serverless-mysql-n","{node.js,docker,docker-compose,serverless,serverless-framework}","2023-05-02 18:00:29+03","2024-05-17 04:48:17.246206+03","I am getting following error when creating a connection to MySQL I debugged and found this line giving the error UserRespository js databaseClient js dockercompose yml Docker is running and when I try to client connect it is giving me the above error I created dockercompose file and now it is running on the docker and I am using Table Plus client and it is doing fine too "
76159222,"Serverless Postgress - Connection terminated unexpectedly","https://stackoverflow.com/questions/76159222/serverless-postgress-connection-terminated-unexpectedly","{node.js,database,postgresql,serverless,serverless-framework}","2023-05-02 22:16:58+03","2024-05-17 04:48:18.333401+03","I was trying to build a function that saves data to the database when called I am using a serverless framework and Postgress When doing so I am getting the following error The error is happening when I call the CreateUser function My Code as follows userRepo ts databaseClient ts What could be go wrong here Docker too working fine"
76162375,"`No module named...` while deploying an AWS Lambda using Serverless Framework, poetry, python3.10 and fastapi","https://stackoverflow.com/questions/76162375/no-module-named-while-deploying-an-aws-lambda-using-serverless-framework-p","{python,amazon-web-services,aws-lambda,serverless-framework,python-poetry}","2023-05-03 09:34:17+03","2024-05-17 04:48:18.967691+03","Il looks like theproblem comes from the Serverless plugin serverlesspythonrequirements When packaging with sls package when having python ^3 9 the dependencies are in the zip but having python ^3 10 they are not Everything else is the same end of edit I want to deploy an AWS Lambda using Serverless Framework poetry python3 10 and fastapi I did the same thing using python3 9 and it worked It must be something with my local config can you help please The answer I get when calling the endpoint https executeapi euwest3 amazonaws comdevelopmentapihealthcheck is message Internal server error The lambdas log says Here is what I do On my machine I have 3 versions of python Editing the python version in pyproject toml seams to unlock the situation Then I deploy with I get a warning that python3 10 is not in the list of expected runtime environments but it deploys correctly Here is the serverless yml file I was expecting the plugin serverlesspytohnrequirements to handle the deployment of fastapi as it does with python3 9 but with python3 10 things do not happen as expected Do you see what could go wrong"
76164531,"Using the Serverless Framework, how can I create a Lambda that uses Kinesis Firehose as the event source","https://stackoverflow.com/questions/76164531/using-the-serverless-framework-how-can-i-create-a-lambda-that-uses-kinesis-fire","{aws-lambda,serverless-framework,amazon-kinesis-firehose}","2023-05-03 13:37:59+03","2024-05-17 04:48:19.833881+03","I am trying to create a Lambda that uses a Firehose delivery stream as the event trigger I am creating this using the Serverless Framework serverless yml setup I have been using the Serverless framework docs as a reference as far as I can tell I am copying them but when I try to deploy my Lambda using sls deploy this error message is returned Invalid request provided Unrecognized event source must be kinesis dynamodb stream or sqs Can Kinesis Data Firehose be used as an event source and if so how do you configure this using the Serverless Framework"
76182968,"Error in Serverless Deploy with basic API HTTP - Rest template on AWS","https://stackoverflow.com/questions/76182968/error-in-serverless-deploy-with-basic-api-http-rest-template-on-aws","{node.js,aws-lambda,serverless-framework}","2023-05-05 13:56:23+03","2024-05-17 04:48:20.983871+03","I have a issue when I do serverless deploy in command line with a prebuilt Serverless Framework in AWS CLI for Node Js HTTP API Rest application CloudFormation Error Can someone help me I do not know what else I can do to fix this problem I created a user with Administrator access LambdaGetFunction and programatic access key which is configured in AWS CLI console and the problem continues AdministratorAccess JSON LambdaGetFunction custom JSON"
76188702,"Serverless Framework: CREATE_FAILED: filesBucketPolicy (AWS::S3::BucketPolicy) API: s3:PutBucketPolicy Access Denied","https://stackoverflow.com/questions/76188702/serverless-framework-create-failed-filesbucketpolicy-awss3bucketpolicy-a","{amazon-s3,serverless-framework,aws-serverless}","2023-05-06 11:48:10+03","2024-05-17 04:48:21.592676+03","Create S3 bucket with serverless framework get the error My Enviroment My serverless yml code is and I configure the serverless with IAM user credential AdminstratorAccess Policy Please how can I solve this problem what expected to happen is Create Bucket in S3 What I get is"
76222731,"Excluding @aws-sdk packages from the output of serverless package command in Serverless Framework","https://stackoverflow.com/questions/76222731/excluding-aws-sdk-packages-from-the-output-of-serverless-package-command-in-ser","{typescript,amazon-web-services,aws-lambda,aws-sdk,serverless-framework}","2023-05-10 21:42:02+03","2024-05-17 04:48:22.509768+03","I am using the Serverless Framework to deploy my AWS Lambda functions I want to exclude the awssdk packages from the build file generated by the serverless package command I have tried using both the exclude property and forceExclude option in my serverless yml file but the awssdk packages still appear in the build file Heres my current configuration in serverless yml I have doublechecked that the exclude property is correctly set and I have restarted the deployment process multiple times but the awssdk packages keep showing up in the build file Is there any other approach or configuration option that I am missing How can I effectively exclude the awssdk packages from the output of the serverless package command Any help would be appreciated Thank you "
76225990,"Serverless Framework - AWS AppSync Arn reference error","https://stackoverflow.com/questions/76225990/serverless-framework-aws-appsync-arn-reference-error","{serverless-framework,aws-appsync,serverless-appsync-plugin}","2023-05-11 09:15:26+03","2024-05-17 04:48:23.020844+03","Trying to create an IAM role for lambda to call AppSync API from the lambda function But having trouble with referencing the Appsync resource The serverless yml truncated Used the reference variable appsyncarn as mentioned in the Serverless AppSync Plugin But running this giving me an error If I hardcode the arn with currently deployed API arn in Resource I get the expected arn in Outputs after successful deployment So how can I dynamically reference the AppSync Api Arn in IAM role statement"
76226777,"How to retrieve ssm parameter value using serverless","https://stackoverflow.com/questions/76226777/how-to-retrieve-ssm-parameter-value-using-serverless","{amazon-web-services,yaml,aws-cloudformation,serverless-framework}","2023-05-11 10:46:16+03","2024-05-17 04:48:24.004093+03","I have a AWS SSM parameter which is stringlist type and it contains 3 subnet ids I want to get the first subnet id and below code I am using This is giving below error Template error every FnSplit object requires two parameters 1 a string delimiter and 2 a string to be split or a function that returns a string to be split How can I use intrinsic function to fetch the value of the string list parameter"
49084513,"""Determine if we run under AWS Lambda + Zappa?""","https://stackoverflow.com/questions/49084513/determine-if-we-run-under-aws-lambda-zappa","{aws-lambda,zappa}","2018-03-03 13:13:17+02","2024-05-17 04:31:26.62598+03","Is there a way to determine if we run under AWS Lambda Zappa Maybe some environment variable I want to load different settings if my Python app starts under Zappa "
76240292,"Issue with posting to a Lambda functions URL","https://stackoverflow.com/questions/76240292/issue-with-posting-to-a-lambda-functions-url","{typescript,amazon-web-services,aws-lambda,serverless-framework}","2023-05-12 22:28:25+03","2024-05-17 04:48:25.046198+03","When I try to post to my lambda function url I get a very generic 502 internal server error I deployed the function with serverless and when I invoke it locally as well as just invoke the function with serverless from my terminal in vscode I get a successful return "
76242329,"convert a string to lower case in openshift yaml","https://stackoverflow.com/questions/76242329/convert-a-string-to-lower-case-in-openshift-yaml","{docker,kubernetes,yaml,openshift,serverless-framework}","2023-05-13 10:49:19+03","2024-05-17 04:48:25.792005+03","In the openshift deployment config yaml file I have a parameter which is coming from my pipeline and it is a uppercase character and I want to convert that to lower case Below are the ones which I have tried but did not work "
76251720,"serverless deploy : Cannot read properties of undefined (reading 'enum') at new ServerlessPlugin","https://stackoverflow.com/questions/76251720/serverless-deploy-cannot-read-properties-of-undefined-reading-enum-at-new","{laravel,amazon-web-services,serverless-framework,bref}","2023-05-15 07:21:29+03","2024-05-17 04:48:26.766403+03","I am getting error in laravel when i am running command serverless deploy TypeError Cannot read properties of undefined reading enum at new ServerlessPlugin homesoftuvo localshareTrashfileslaravelbreflaravel how to solve this issue"
76259344,"'import' and 'export' may appear only with 'sourceType: module' on serverless deploy","https://stackoverflow.com/questions/76259344/import-and-export-may-appear-only-with-sourcetype-module-on-serverless-de","{typescript,nestjs,serverless-framework,aws-serverless}","2023-05-16 04:09:26+03","2024-05-17 04:48:27.586943+03","I am running serverless deploy and I have this error I already tried with the most thrown answers from StackOverflow and also with the least thrown After seeing the official documentation I think I have the configuration in tsconfig json and serverless yml correct for this The project had already deployed before I went back to previous commits where it was executed correctly but in that version of code I have the same error I cloned the project from scratch on a clean laptop installing node and dependencies again and the error persists with some orientation but I always get the same If you have any ideas or know of another open discussion about it I would be very grateful I already tried with the most thrown answers from StackOverflow and also with the least thrown After seeing the official documentation I think I have the configuration in tsconfig json and serverless yml correct for this The project had already deployed before I went back to previous commits where it was executed correctly"
75446911,"Selecting specific JSON fields to use in SNS message","https://stackoverflow.com/questions/75446911/selecting-specific-json-fields-to-use-in-sns-message","{json,amazon-web-services,serverless-framework,aws-step-functions}","2023-02-14 11:04:30+02","2024-05-17 04:48:29.287261+03","I am trying to build a step function which receives json as input and then uses only some of this JSON in a message sent via SNS in the step function I have tried using some of the instrinsic json manipulation functions available but with no luck Is there a way to extract specific json fields for an SNS message without using a lambda For the message field I would like the it to be But this does not work Here is my code"
75467575,"Lambda works locally, but not when deployed","https://stackoverflow.com/questions/75467575/lambda-works-locally-but-not-when-deployed","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2023-02-16 03:30:23+02","2024-05-17 04:48:30.34464+03","I am using serverless framework and my endpoint work locally with sls offline but when I sls deploy it to AWS I get 502 Bad Gateway in postman and if I go to AWS Lambda console and click test event to see what comes up I get There is nothing in my code that has in it so I made my endpoint super simple as a process of elimination and returned a response instantly ie but I still get the same error serverless yaml handler ts So as a recap it works locally but not after sls deploy in AWS in postman or aws console lambda test event So if it works locally why is not it working in aws I appreciate any help "
75474825,"How can I upload a local folder to s3 bucket with given prefix using serverless.yaml file","https://stackoverflow.com/questions/75474825/how-can-i-upload-a-local-folder-to-s3-bucket-with-given-prefix-using-serverless","{amazon-web-services,serverless,serverless-framework,aws-serverless}","2023-02-16 15:57:30+02","2024-05-17 04:48:30.795422+03","I want to upload a local folder to s3 bucket with given prefix before a glue job refers to the files I am using serverlesss3sync and below is my code in serverless yaml file When deploying getting error serverlesss3sync requires at least one configuration entry in custom s3Sync Whats wrong am I doing or any other method will be helpful "
75485025,"How to use AWS::LanguageExtensions transform with Serverless?","https://stackoverflow.com/questions/75485025/how-to-use-awslanguageextensions-transform-with-serverless","{serverless-framework}","2023-02-17 13:39:20+02","2024-05-17 04:48:32.004917+03","To be able to use conditionals in DeletionPolicy you have to use the AWSLanguageExtensions transform How would I add this to a Serverless template yamlfile"
75486835,"Invalid parameter error when creating SNS policy","https://stackoverflow.com/questions/75486835/invalid-parameter-error-when-creating-sns-policy","{amazon-web-services,amazon-sqs,serverless-framework,amazon-sns}","2023-02-17 16:24:05+02","2024-05-17 04:48:32.8258+03","I am trying to give SNS the permission to publish to an SQS queue but I keep getting error I am using the serverless framework and have read multiple posts describing the same issue but none of the fixes seem to work here is my current version Does anyone have any ideas thanks"
75494960,"Can't send file from tmp directory to webhook destination - AWS Lambda","https://stackoverflow.com/questions/75494960/cant-send-file-from-tmp-directory-to-webhook-destination-aws-lambda","{node.js,aws-lambda,serverless-framework}","2023-02-18 17:07:47+02","2024-05-17 04:48:33.120898+03","I am having issues writing a file to the tmp folder in lambda instance console log FILE PATHs in cloudwatch filePath1 full error How can I get the file to get stored temporarily successfully so that I can send it to it is destination webhook I have no issues sending the file locally via serverless offline but obviously in AWS is a little different filePath filePath1 and filePath2 all do not work in AWS but work locally What am I missing Any help is appreciated "
75498903,"ERR_OSSL_EVP_UNSUPPORTED - serverkess package","https://stackoverflow.com/questions/75498903/err-ossl-evp-unsupported-serverkess-package","{node.js,openssl,serverless-framework}","2023-02-19 08:35:21+02","2024-05-17 04:48:34.380649+03","I am getting error0308010Cdigital envelope routinesunsupported for a serverless package command Have referred to multiple SO questions and other documents Most of them suggest the following"
75501372,"Serverless Framework How to Get Access, Id and Refresh Tokens from AWS Cognito","https://stackoverflow.com/questions/75501372/serverless-framework-how-to-get-access-id-and-refresh-tokens-from-aws-cognito","{amazon-web-services,authentication,amazon-cognito,serverless-framework}","2023-02-19 15:52:52+02","2024-05-17 04:48:35.208181+03","I am trying to secure my serverless NodeJS apis using AWS Cognito User Pools Below is a sample of my serverless framework configuration I can successfully can call the signup and login endpoints to get a token and then use this token as an Authorization header to call my userslist endpoint to get a list of users My problem is that I was expecting the login endpoint to return 3 tokens an id token an access token and a refresh token The login endpoint currently only returns one token that has a claim of If I pass this token to the userslist api then it is successfully validated but I thought that the api would need the access token instead of the id token for authentication Does anyone know if my assumption is correct and how to fix the issue or have I misunderstood how the auth flow works "
48649037,"context.awsRequestId from lambda","https://stackoverflow.com/questions/48649037/context-awsrequestid-from-lambda","{node.js,amazon-web-services,lambda,serverless-framework}","2018-02-06 17:49:41+02","2024-05-17 05:08:44.778428+03","Is the uuid from context awsRequestId really unique I want to use it in association with the creation of a resource so I can now when the resource was created Thank you "
75502439,"AWS Lambda corrupts image buffer - Serverless Framework","https://stackoverflow.com/questions/75502439/aws-lambda-corrupts-image-buffer-serverless-framework","{node.js,aws-lambda,discord,discord.js,serverless-framework}","2023-02-19 18:21:18+02","2024-05-17 04:48:36.208333+03","I am having an issue where AWS lambda is corrupting my image buffer when I try and send it to a discord webhook It works locally with SLS Offline and I can see image in discord channel with no issues but when I deploy it to AWS I get instead of the image itself Looking around at similar people with this issue I have tried adding to my serverless yml with apigwBinary in custom path I also saw another post about adding AwsApiGateway under provider in serverless yml like so When I console log Sending Buffer buffer the buffer to make sure it is actually there in cloudwatch I see So the buffer is definitely making it to the lambda but it gets corrupted when it makes it to discord But again it does work locally with no issues So Lambda is corrupting it somehow I even tried adding a 3 second delay to see if that might fix it as if it was a race condition or something even though I can see buffer in console log but nope UPDATE I also tried uploading the image to S3 to see if the image would be corrupted there and again the file is fine when uploading locally but not when it is uploaded to S3 from Lambda Same issue Image is corrupted I noticed also that the file size when uploading from SLS offline is a little bigger by like 50 bytes than the lambda version so there is some weird compression going on from cloudfront that could be causing the image corruption End to end code of sending the image from Angular to Lambda to Discord component Angular Service Serverless function definition handler ts imported parser file from handler I appreciate any help with this "
75503147,"How can I use was sso login and sso-sessions with serverless-better-credentials serverless plugin?","https://stackoverflow.com/questions/75503147/how-can-i-use-was-sso-login-and-sso-sessions-with-serverless-better-credentials","{amazon-web-services,serverless-framework}","2023-02-19 20:13:39+02","2024-05-17 04:48:37.185703+03","I get ProcessCredentialsProviderFailure Profile default not found when trying to run ProcessCredentialsProviderFailure Profile default not found which does not seem right sense my awsconfig looks like this serverless json steps to reproduce However if I just export all my env variables secret keys then it works fine"
75505960,"How to retrieve the first value from a comma separated string in using cloudformation intrinsic function","https://stackoverflow.com/questions/75505960/how-to-retrieve-the-first-value-from-a-comma-separated-string-in-using-cloudform","{serverless,serverless-framework,aws-ssm}","2023-02-20 06:36:28+02","2024-05-17 04:48:38.084434+03","I have SSM Parameter with name vpcsubnetids and value is comma separated string like subnet1subnet2 I want to get the first subnet using serverless yaml file I am using this but this is not working Tried this as well Select [1 Split [ ssmvpcsubnetids ]] this is giving Serverless framework 3 26 0"
75517643,"Cannot import ssm string list variable in serverless v3","https://stackoverflow.com/questions/75517643/cannot-import-ssm-string-list-variable-in-serverless-v3","{amazon-web-services,serverless,serverless-framework,aws-ssm}","2023-02-21 07:56:29+02","2024-05-17 04:48:38.941276+03","I am in the process of upgrading my serverless project from version 1 7 to 3 but I am facing an issue when deploying with the SSM variable I have an SSM variable which is a string list but if I try to import it in the usual way it throws an error saying When I checked the documentation it says it will automatically process the string list But in my case it is throwing an error How can I fix this and successfully work with a string list"
75519340,"Serverless framework with python and aws lambda","https://stackoverflow.com/questions/75519340/serverless-framework-with-python-and-aws-lambda","{python,aws-lambda,serverless-framework}","2023-02-21 10:42:39+02","2024-05-17 04:48:39.3911+03","When i import a function from another file and do the deploy it does not work It gives me error 500 internal server error The python requirements works fine because the hello function does not give me an error But getPrediction does not work well In offline mode all works fine My handler js My serverless yml I have tried changing the way I import external functions but it keeps giving me the same error maybe i am doing it wrong I have also tried not to import functions from other files I have tried bringing the code from make_prediction to getPrediction but it keeps giving me an error "
75522787,"How best to manage Google API credentials in an AWS Lambda function and serverless framework?","https://stackoverflow.com/questions/75522787/how-best-to-manage-google-api-credentials-in-an-aws-lambda-function-and-serverle","{lambda,google-api,serverless-framework}","2023-02-21 15:47:19+02","2024-05-17 04:48:40.363459+03","I am porting a python flask app onto Lambda and have a google service account json file which is used by the app I am using serverless framework to manage the project deployment The google service account json file is normally loaded as a file from the hard drive into the os environ[GOOGLE_APPLICATION_CREDENTIALS] I understand that if you wish to load it from an escaped string stored in something like AWS property store an OAuth provider dependency is also needed to process the credentials and I would rather avoid that So I am currently thinking of storing the google service account json file in the lambda function deployment This makes me a bit uncomfortable but I cannot think of another way to do it I also do not want to commit the google service account json file to source control either of course Two questions please Does serverless framework have a way to copy a file from a location outside the project structure and include it in the project structure on deployment so that I can check my project structure into source control without the json file Is there a better approach for dealing with this Thank you "
75570503,"Why don't my types works with my prisma schema? (MongoDB)","https://stackoverflow.com/questions/75570503/why-dont-my-types-works-with-my-prisma-schema-mongodb","{mongodb,express,serverless-framework,prisma}","2023-02-26 07:13:50+02","2024-05-17 04:48:41.065463+03","So I have a simple schema and it works but the moment I try to do anything with my defines types it does not work Am I going about this correctly Here is my schema Here is my test function to create a user I am getting this error when I run it I have generated my prisma schema so I can rule that out at least Anyone got any idea"
66845303,"Deploying a Plotly/Dash app to AWS using Serverless Framework","https://stackoverflow.com/questions/66845303/deploying-a-plotly-dash-app-to-aws-using-serverless-framework","{python,amazon-web-services,aws-lambda,serverless-framework,plotly-dash}","2021-03-28 19:19:39+03","2024-05-17 04:52:15.563404+03","I am trying to deploy a Plotly Dash app as an AWS Lambda using Serverless framework The app works as expected locally and I can start it using serverless wsgi serve command serverless deploy reports success However when invoked lambda fails with the following error app py serverless yml requirments txt"
42384060,"""Deploy django with zappa doesn't working""","https://stackoverflow.com/questions/42384060/deploy-django-with-zappa-doesnt-working","{zappa}","2017-02-22 06:19:35+02","2024-05-17 04:31:51.023338+03","I tried deploy django with zappa many times get following error Need some help Seriously "
75596213,"Serverless framwork error on deploy - Property 'functions[].entrypoint' already have a definition","https://stackoverflow.com/questions/75596213/serverless-framwork-error-on-deploy-property-functions-entrypoint-already","{node.js,typescript,amazon-web-services,serverless-framework}","2023-02-28 18:55:48+02","2024-05-17 04:48:41.941909+03","I am having a problem when deploying a application with aws serverless framework The error message Property functions[] entrypoint already have a definition this property might have already been defined by the Serverless framework or one other plugin i have already searched for the error message but found nothing that could help me I am using serverless with TypeScript this is the serverless yml configuration and plugins that i am using And this is the function configuration file Does anyone know how can i solve this I have already tried to use all the functions inside of the serverless yml file and added the following webpack config file I have not been able to solve the problem but i was able to continue with my project by using a template for serverless with TypeScript This way i was able to complete the deploy If you want to you can find several templates in this repo The especific one that i used is this one"
74738559,"How to access self variable array type?","https://stackoverflow.com/questions/74738559/how-to-access-self-variable-array-type","{serverless,serverless-framework,environment,self,reusability}","2022-12-09 03:12:36+02","2024-05-17 04:48:43.705298+03","I have defined subnetIds in serverless Now at function define enviroment I want to get each subnet like that I am looking for a solution that can do it Thank for support I had found a solution to resolve it Just define like that"
74794517,"Unable to install serverless using atlassian/default-image","https://stackoverflow.com/questions/74794517/unable-to-install-serverless-using-atlassian-default-image","{npm,bitbucket,serverless-framework}","2022-12-14 06:49:55+02","2024-05-17 04:48:44.713625+03","I have a serverless application and I am trying to use Bitbucket pipeline to create a build I am using atlassiandefaultimage3 image for the Pipeline image It comes pre installed with node and few other useful libraries The pre installed Node and npm versions are as follows Node v14 17 5 npm 6 14 14 While trying to install serverless using the command npm install g serverless I am getting the following error "
74797250,"CircleCI Serverless framework build fails","https://stackoverflow.com/questions/74797250/circleci-serverless-framework-build-fails","{serverless,serverless-framework,circleci}","2022-12-14 11:04:11+02","2024-05-17 04:48:45.486762+03","CircleCI Install Serverless CLC build suddenly fails Have not changed anything in config file "
74826843,"Why does the headers option not work for setting Access-Control-Allow-Headers using Middy and Serverless?","https://stackoverflow.com/questions/74826843/why-does-the-headers-option-not-work-for-setting-access-control-allow-headers-us","{cors,serverless,serverless-framework,middy}","2022-12-16 15:54:57+02","2024-05-17 04:48:46.353772+03","I am getting the following error when trying to do a POST against my Serverless API that uses AWS API Gateway Access to fetch at httpsexample comshop from origin httpsotherexample com has been blocked by CORS policy Request header field shop is not allowed by AccessControlAllowHeaders in preflight response I tried using the header option to cors with middy but this does not work However this works Why does the latter work and not the former The middyhttpcors docs say the following so it seems like specifying headers in cors should work headers string optional value to put in AccessControlAllowHeaders default false "
74837704,"the default template for go lang ""aws-go"" in the serverless framwork isn't working","https://stackoverflow.com/questions/74837704/the-default-template-for-go-lang-aws-go-in-the-serverless-framwork-isnt-worki","{amazon-web-services,go,aws-lambda,serverless-framework}","2022-12-17 21:50:45+02","2024-05-17 04:48:47.421951+03","hello everyone noob here I am having trouble invoking prebuilt awsgo template function that i have deployed using the serverless framework not sure if it is relevant but here some details about my system i have i keep getting this error message here are the exact steps i have taken to deploy the functions no errors have occurred and everything seemed fine now i run serverless invoke f hello and i get that error message if i click on the Test button from the aws lambda console for the function it also fails with this is as the log message how do i go about resolving this issue please help "
74869715,"Replace string or normalize variable in serverless framework","https://stackoverflow.com/questions/74869715/replace-string-or-normalize-variable-in-serverless-framework","{string,serverless,serverless-framework}","2022-12-20 22:54:56+02","2024-05-17 04:48:48.307483+03","serverless recommends service name in stringstring format but this contains dash character which is not allowed in some resource names e g iot rule name What could be solution to replace dash with underscore character or similar like this is concept string it does not work Usage of selfcustom service_name_normalized results in literal string "
74879308,"create cloud function with trigger cloud storage","https://stackoverflow.com/questions/74879308/create-cloud-function-with-trigger-cloud-storage","{google-cloud-functions,serverless-framework}","2022-12-21 16:55:24+02","2024-05-17 04:48:49.367924+03","I am trying to deploy a cloud function from the serverless framework and setting as a trigger that is activated when files are created in a bucket but it does not work and I cannot find more information about this in the documentation serverless yml serverless response"
74900289,"How do you create a new version of an API using serverless framework?","https://stackoverflow.com/questions/74900289/how-do-you-create-a-new-version-of-an-api-using-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2022-12-23 13:40:34+02","2024-05-17 04:48:50.390137+03","I have a simple API developed using serverless framework that is deployed in production The serverless yaml is similar to this one The API will change in the next version and I want to offer backward compatibility to my clients I want to create a v1test route in API Gateway that will point to the new implementation of the function and I want test to remain the same Is there a way to do this using serverless framework"
74930304,"how to deploy a stack in multiple regions using the Serverless Framework?","https://stackoverflow.com/questions/74930304/how-to-deploy-a-stack-in-multiple-regions-using-the-serverless-framework","{amazon-web-services,aws-lambda,serverless,serverless-framework,aws-serverless}","2022-12-27 14:07:10+02","2024-05-17 04:48:51.036839+03","How to deploy a stack in multiple regions using the Serverless Framework For example I need to deploy a stack of API Gateway DynamoDB Elasticsearch and lambda resources in 6 regions I found a solution for regional deployment using pure CloudFormation and StackSet but how can I do this using the Serverless Framework this is the only solution I have found httpswww serverless comframeworkdocsprovidersawsclireferencedeploydeploymentwithstageandregionoptions"
56589113,"Serverless provider.environment variables not available in custom","https://stackoverflow.com/questions/56589113/serverless-provider-environment-variables-not-available-in-custom","{serverless-framework,serverless}","2019-06-13 22:05:05+03","2024-05-17 04:57:22.349255+03","I am trying to reference variables in selfprovider environment in my custom variables block however I get the following warning We are using serverless 1 28 0 heres a sample config I would like to reference the provider environment vars in my custom block "
74938315,"Is there an alternative to the serverless-cloudformation-changesets? for serverless version 3","https://stackoverflow.com/questions/74938315/is-there-an-alternative-to-the-serverless-cloudformation-changesets-for-serverl","{npm,aws-cloudformation,serverless,serverless-framework,dry-run}","2022-12-28 09:10:24+02","2024-05-17 04:48:52.056681+03","Im just trying to deploy servelesscloudformationchangesets on AWS codebuild But the build failed because of versioning error Below details The servelesscloudformationchangesets depends on [email protected] httpsgithub comtrek10incserverlesscloudformationchangesetsissues27 So executing delpoy with changesets opiton I encounterd error I checked the latest version of servelesscloudformationchangesets But the library has not maintained since 3 years ago cf httpsgithub comtrek10incserverlesscloudformationchangesets"
74944851,"serverless route works twice and then crashes - address already in use :::3000","https://stackoverflow.com/questions/74944851/serverless-route-works-twice-and-then-crashes-address-already-in-use-3000","{node.js,express,serverless-framework}","2022-12-28 20:47:11+02","2024-05-17 04:48:52.972548+03","I cannot figure out why a serverless route works twice then I get address already in use 3000 and it crashes It returns the response body back into postman the 2nd time and then crashes let me know if any other info is needed I appreciate any help Error Very basic route app ts handler"
74959269,"Create S3 Bucket and upload code in Serverless Framework","https://stackoverflow.com/questions/74959269/create-s3-bucket-and-upload-code-in-serverless-framework","{amazon-s3,serverless,serverless-framework}","2022-12-30 07:47:14+02","2024-05-17 04:48:53.74606+03","serverless yml I would like to specify bucket name at the same time if bucket does not exist I would like to create bucket first But I got an Error Error Could not locate deployment bucket myS3Bucket Error The specified bucket does not exist How can I create bucket if it does not exist and deploy to the bucket"
74982434,"Package or zip archive creation with serverless but without lambda","https://stackoverflow.com/questions/74982434/package-or-zip-archive-creation-with-serverless-but-without-lambda","{zip,serverless-framework}","2023-01-02 12:29:00+02","2024-05-17 04:48:54.749307+03","It is needed to create zip file before deployment and there is no lambda functions Just some folder to zip and upload Without functions section serverless skip packaging Any ideas Any work arounds"
74999939,"How to optionally apply environment configuration?","https://stackoverflow.com/questions/74999939/how-to-optionally-apply-environment-configuration","{yaml,serverless,serverless-framework,aws-serverless}","2023-01-04 00:38:59+02","2024-05-17 04:48:55.413196+03","I want to optionally apply a VPC configuration based on whether an environment variable is set Something like this I would also like to do similar for alerts optionally add emails to receive alerts and other fields too How can this be done I have tried the above configuration and a variety of others but just receive various different errors For example"
75024771,"AWS Cognito user pool does not send verification email when configured with Serverless framework and user signs up with AWS Amplify","https://stackoverflow.com/questions/75024771/aws-cognito-user-pool-does-not-send-verification-email-when-configured-with-serv","{amazon-web-services,amazon-cognito,aws-amplify,serverless,serverless-framework}","2023-01-05 21:56:06+02","2024-05-17 04:48:56.639354+03","I configured Cognito user pool and client with Serverless framework as follows I am able to sign user up with awsamplify in Next js app however the user is not yet confirmed I want to get confirmation email with the link to click on so that the user is confirmed and can log in so far I had to confirm the user in Cognito in AWS console However that does not happen with this configuration What am I doing wrong"
75036100,"How can i use AWS SAM Template File separation like Serverless Framework use?","https://stackoverflow.com/questions/75036100/how-can-i-use-aws-sam-template-file-separation-like-serverless-framework-use","{amazon-web-services,aws-lambda,microservices,serverless-framework,aws-sam}","2023-01-06 21:08:24+02","2024-05-17 04:48:56.979956+03","I have used Serverless Framework very well At the time using it i remember using one main file called serverless yml and after that for each service i use function yml and refering this file to the main serverless yml So now i am working with AWS SAML and i cannot find anything useful related to file separation AWS SAM template file gets very large for a big project is there any ways to make file serparation for each of microservice i have rather than making SAM template for each service For Serveless Framework example would be serverless yml servicesauthenticationfunctions yml Can i get this kind of freedom in AWS SAM template How can i achive this kind of solution in AWS SAM template for project I have searched a lot for this but could not find anything useful As i explained in the question i want to achieve AWS SAM template file separation I am hoping somebody worked with AWS SAM template could give me a good insight in how to make it so that it can be maintainable and easy for CICD too "
74058408,"Apply AWS Lambda Event configuration in Serverless to specific Lambda version?","https://stackoverflow.com/questions/74058408/apply-aws-lambda-event-configuration-in-serverless-to-specific-lambda-version","{aws-lambda,configuration,amazon-sqs,serverless,serverless-framework}","2022-10-13 15:35:30+03","2024-05-17 04:48:58.765501+03","I would like to give myself the ability to rollback the Lambda that my SQS events trigger if I ship bad code To do this I would like my SQS event configuration in serverless yml to apply to a specific lambda version rather than the default LATEST I want to pin a specific version of a lambda that events trigger to Is this possible Basically Id like to be able to do something like I dont see something like this mentioned anywhere in the Serverless event docs but this is so critical it has to exist right"
74062261,"serverless: custom response parameter mappings in HttpApi","https://stackoverflow.com/questions/74062261/serverless-custom-response-parameter-mappings-in-httpapi","{amazon-web-services,aws-api-gateway,serverless,serverless-framework}","2022-10-13 22:02:29+03","2024-05-17 04:48:59.847972+03","I am trying to send a custom Response header from my API I tried using events response statusCodes but it is not working looks like it was only implemented for http but not for httpApi event "
74065303,"TypeError: callback is not a function at terminate (node_modules/middy/src/middy.js:152:16)","https://stackoverflow.com/questions/74065303/typeerror-callback-is-not-a-function-at-terminate-node-modules-middy-src-middy","{javascript,node.js,jestjs,serverless-framework,middy}","2022-10-14 06:43:59+03","2024-05-17 04:49:01.106913+03","My test is failing whenever i used middy but when i remove it my test succeed the error that im encountering is TypeError callback is not a function at terminate C\cico\node_modules\middy\src\middy js15216 I am stuck and I need help command yarn run jest Heres my code test files handler middy"
56591281,"Generate Resource Logical Id name using a parameter in Sam template","https://stackoverflow.com/questions/56591281/generate-resource-logical-id-name-using-a-parameter-in-sam-template","{aws-lambda,serverless-framework}","2019-06-14 04:11:37+03","2024-05-17 04:57:23.234723+03","I am using Sam template to deploy a lambda with a api gateway Trying to generate a custom resource Logical Id based on a Timestamp for eg in example below ApiDeploymentTIMESTAMP which is not working Any ideas how I may achieve a dynamically configurable resource Logical Id name using Sam template"
74132044,"Schedule Serverless to specific function/endpoint","https://stackoverflow.com/questions/74132044/schedule-serverless-to-specific-function-endpoint","{aws-lambda,cron,aws-api-gateway,serverless-framework,aws-event-bridge}","2022-10-19 21:21:49+03","2024-05-17 04:49:02.089247+03","I have set up an express api a bunch of routes and am running them off a docker image I am trying to setup a specific path in API Gateway to trigger every minute Going off httpswww serverless comframeworkdocsprovidersawseventsschedule I am not quite sure how I achieve this and cannot find any examples specific to my purposes My functions section in serveless yml looks like With expressImage containing the necessary entrypoints and running of specified routes when run manually But I would like to run a GET through API gateway at api_cachingschedule every minute with the schedule routefunction within express handling the logic Any idea howif I can do this from serverless yml or do I need to make a hybrid EventBridge setup Should I be looking to run the entire express app and default route every minute then handling this by controller or can this be configured at a serverlesscloudformation level Appreciate any help "
74178413,"Share multiple api gateway in one serverless compose service","https://stackoverflow.com/questions/74178413/share-multiple-api-gateway-in-one-serverless-compose-service","{serverless,serverless-framework,aws-api-gateway,serverless-architecture}","2022-10-24 08:29:03+03","2024-05-17 04:49:03.006135+03","I have a project with serverless framework compose following this architecture The infra service create and share two apigateway a private and public one but in each service a can use only one In each service a have a public lambda for creating an object public api and a lambda to approuve the object by an admin private api I need this specific pattern cause it is a medical project How I can do select an api gateway for each lambda "
74187203,"Updating only one function in serverless","https://stackoverflow.com/questions/74187203/updating-only-one-function-in-serverless","{aws-cloudformation,serverless-framework}","2022-10-24 21:54:25+03","2024-05-17 04:49:04.092181+03","I have a serverless yml file with 3 functions When I run serverless deploy it updates all 3 functions which takes a lot of time Is there a way I can update just 1 function without affecting the rest of the stack i e not updating the cloud stack I tried serverless deploy f functionA but it seems to still process and upload the other functions "
74191749,"How do I update DeletionPolicy from Retain to Delete","https://stackoverflow.com/questions/74191749/how-do-i-update-deletionpolicy-from-retain-to-delete","{amazon-web-services,aws-cloudformation,serverless-framework}","2022-10-25 09:16:48+03","2024-05-17 04:49:05.296637+03","I have looked through a lot of CloudFormation documentations but could not find any reference to update the DeletionPolicy from Retain to Delete for a resource in an already deployed stack The existing resource that is deployed in the stack has the DeletionPolicy set to Retain I am unable to change it to Delete When I try updating the stack with the deletionPolicy set to Delete it says the Change set did not include any changes to be deployed But the change is obvious My intention is to get the deletionPolicy attribute removed from the resources in the stack or set them to Delete Framework being used for deployments Serverless Consider the below resource template as an existing resource in the stack Trying to get the above resource properties changed to The intention is to get rid of the deletion policy but having the deletionPolicy as Delete would also allow me to continue with what I am intending to do "
74195231,"Skip serverless build, if correct ECR image is provided","https://stackoverflow.com/questions/74195231/skip-serverless-build-if-correct-ecr-image-is-provided","{amazon-web-services,aws-lambda,serverless-framework}","2022-10-25 13:55:35+03","2024-05-17 04:49:06.180538+03","I might be missing something but in my serverless yml if I mention the correct and resolvable ECR URL serverless deploy will still package and bundle the application Any way to bypass the entire thing and jump directly on the deployments"
74212971,"How to setup a simple serverless framework monorepo","https://stackoverflow.com/questions/74212971/how-to-setup-a-simple-serverless-framework-monorepo","{webpack,serverless-framework,monorepo}","2022-10-26 19:00:42+03","2024-05-17 04:49:07.234323+03","I want to store all my services in a single repository in order to unify packaging and deployment process Briefly I want to hoist almost all dev dependencies to the root level of my repo All the service specific dependencies should be stored at the service level Target directory structure should look like this How can I setup following project How to setup webpack to work together with serverlesscompose and dependencies separation I do not want to use solutions like LernaNXTurborepo to keep it as simple as possible Maybe I am wrong please point me a proper direction"
74252398,"import python functions into serversless","https://stackoverflow.com/questions/74252398/import-python-functions-into-serversless","{serverless,serverless-framework,aws-serverless}","2022-10-30 10:46:30+02","2024-05-17 04:49:07.780319+03","I h got an issue with the following serverless config this is my handler and the filesfolders structure the issue is that after uploading my project to AWS when I test my lambda I got an error as follows lambda execution fails errorMessage Unable to import module app_monitor No module named monitoring errorMessage Unable to import module srcapp_monitor No module named monitoring errorType Runtime ImportModuleError requestId bca3f67d815f452ba2a6c713ad2c6baa stackTrace [] have you got any clue how can I add this into serverless config "
74263921,"AWS DynamoDB get rows sort by (order by) multiple columns","https://stackoverflow.com/questions/74263921/aws-dynamodb-get-rows-sort-by-order-by-multiple-columns","{amazon-web-services,amazon-dynamodb,serverless,serverless-framework,amazon-dynamodb-index}","2022-10-31 13:21:54+02","2024-05-17 04:49:08.569734+03","I need to get the rows by key e g where status is Active but with sorting on multiple columns I am using the pagination that is why I cannot sort the result after fetching it from the DynamoDB Just for the information I am using the serverless framework Expected Output is array of rows sorted ordered by multiple columns "
74283439,"Using JavaScript ESM in Serverless Framework functions","https://stackoverflow.com/questions/74283439/using-javascript-esm-in-serverless-framework-functions","{aws-lambda,serverless-framework,es6-modules}","2022-11-02 01:23:42+02","2024-05-17 04:49:09.420975+03","I am using the modern importexport syntax in my NodeJS functions for the Serverless Framework After deployment when I try and invoke the URL I see HTTP 502 message Internal server error error The CloudWatch logs say When I inspect the code through the AWS Console Lambda I can see the Serverless Framework has generated a s_getDns js file for my function and inside it is using the legacy require syntax I am using v3 23 0 of the Serverless Framework I have tried which lead to the error described above I have also tried manually editing the s_getDns js file in the Lambda console to use the new importexport syntax however I then start getting errors from the serverless_sdkindex js file which is minified so I have not been able to refactor that one This issue comment suggests that both AWS and the Serverless Framework now support ESM out of the box I am not sure why it is not working in my case What is the issue or what can I do to troubleshoot this further"
74285785,"Use existing Lambda layer(AWS) in Serverless(framework) project","https://stackoverflow.com/questions/74285785/use-existing-lambda-layeraws-in-serverlessframework-project","{aws-lambda,serverless,serverless-framework}","2022-11-02 07:39:30+02","2024-05-17 04:49:09.90405+03","I am migrating existing lambda functions created using the AWS GUI to a serverless framework project for better version control Few functions have layers now I am trying to add the layer in the config file by directly using the ARN of the layer This layer was created using the GUI not using the framework Now when I try to deploy the project I am getting Module not found Cannot resolve sharp so the layer is not working and unable to access the modules the sharp library is in the layer node_modules does not exist or is not a directory All the online tutorials and documentation add the layer files manually in the project and deploy a new layer and then use that is it not possible to use the ARN of an existing layer It is happening at the webpack compilation step of deployment This is the webpack config file The layer uses the folder structure mentioned in the docs it also works fine in the existing lambda function that I created in the GUI I am using multiple layers so I did not want to add the layer files in the serverless project to keep it clean The last thing to try would be to manually create layer directories and deploy the layers first using the serverless framework and then it might work though not sure Is it possible to use the ARN of an existing layer directly in the serverless function config given that the layers have already been created using the GUI and not using the framework"
74291420,"Serverless Framework Instrumentation not creating spans for DynamoDB queries using AWS SDK DynamoDB client when imported directly","https://stackoverflow.com/questions/74291420/serverless-framework-instrumentation-not-creating-spans-for-dynamodb-queries-usi","{serverless-framework,dashboard,instrumentation}","2022-11-02 15:06:37+02","2024-05-17 04:49:10.589069+03","I am seeing that the serverless instrumentation that occurs during package phase does not instrument database queries to dynamodb using the aws sdk when the dynamodb client is imported through const DynamoDb require awssdkclientsdynamodb but is instrumented when imported through const AWS require awssdk I see span details for a lambda invocation when importing the entire AWS SDK but not when importing just the dynamodb client Importing the Dynamodb client and not the entire AWS SDK is a best practice to reduce cold starts due to module initialization time I would prefer not to include the Serverless SDK as a dependency packaged in the Lambda where I could use the custom span event logging for this database query timing as that increases the lambda deployable size Any suggestions to get this default instrumentation during package phase when importing only the DynamoDB Client I am using serverless version 2 72 3 Thank you Using DynamoDB client by importing entire AWS SDK Using DynamoDB client by importing only the dynamodb client"
74296565,"Scaleway serverless function: DEBUG - No module named 'numpy' source=user stream=stdout","https://stackoverflow.com/questions/74296565/scaleway-serverless-function-debug-no-module-named-numpy-source-user-stream","{python,numpy,gitlab-ci,serverless,serverless-framework}","2022-11-02 23:12:05+02","2024-05-17 04:49:12.161296+03","I am trying to upload a serverless function using the serverless toolbox on Scaleway It works but I cannot include dependencies from the requirements txt file As soon as I add import numpy I get the error In the logs All my configuration and environment variables are correct they are uploaded Here is my configuration Path requirements txt serverless yaml package json handler py It is deployed via a Gitlab CI gitlabci yml"
74296675,"serverless (sls) deploy specific resource","https://stackoverflow.com/questions/74296675/serverless-sls-deploy-specific-resource","{serverless,serverless-framework}","2022-11-02 23:30:47+02","2024-05-17 04:49:12.34452+03","How to deploy a specific AWS resource using serverless framework I know it supports deploying specific lambda functions using sls deploy f function Wondering if there is similar option to target AWS resource In my use case I have an API 50 Lambdas Dynamodb SQS Cognito user pools etc Each time I make a change to Cognito or anything other than lambda code I have to run complete sls deploy which takes 1015 minutes Wondering if there is a way to skip complete deploy "
73309126,"Adding multiple log groups to Cloudwatch event triggers without having to specify them individually?","https://stackoverflow.com/questions/73309126/adding-multiple-log-groups-to-cloudwatch-event-triggers-without-having-to-specif","{amazon-web-services,amazon-cloudwatch,serverless-framework}","2022-08-10 15:42:07+03","2024-05-17 04:49:13.852013+03","I would like to trigger a Lambda function on error events generated from my other Lambda functions I see it is possible to add multiple log groups using Serverless Example from here however that means defining an event filter for each function I have about 2 dozen and this would need to be updated for any additional functions I add in the future Is there any way to use a catchall log group definition like awslambda I already set up a Cloudwatch alarm using a metric filter for the awslambda namespace with the Errors metric Easy and done however the SNS topic it publishes contains little information regarding the nature of the error I want to create a Lambda function that publishes an SNS topic directly that includes the stack trace I am hoping it would be as easy to selectall log groups in the same way "
73352359,"NodeJS Typescrip.: Getting error: Must use import to load ES Module on sls offline command","https://stackoverflow.com/questions/73352359/nodejs-typescrip-getting-error-must-use-import-to-load-es-module-on-sls-offli","{javascript,node.js,typescript,ecmascript-6,serverless-framework}","2022-08-14 14:16:24+03","2024-05-17 04:49:14.595406+03","I have created a NodeJS Typescript Serverless frameworkbased solution to create AWS Lambdas and use serverlessoffline libplugin to debug it locally in the VS Code My github repo is here When executing the command I am getting the following error My tsconfig json My current Node version Tried changing it to 12 like below That did not help Any suggestions"
73353777,"How to get CORS working with Serverless and httpApi","https://stackoverflow.com/questions/73353777/how-to-get-cors-working-with-serverless-and-httpapi","{node.js,amazon-web-services,cors,serverless-framework}","2022-08-14 17:39:18+03","2024-05-17 04:49:15.518663+03","I am having a problem with my serverless setup I am new to httpAPI just migratinging from http I would like to get it working but can not sort out CORS Postman returns the response just as I expect but chrome is throwing a CORS error Any help on what I have got wrong would be great my serverless yml looks like the handler for srcusersindex handler is This works fine in thunder clientpostman but i get cors issues in the web browser What am I missing here Edit Mihail Ferarus reply below was helpful once I resolved the root issue Turns out I had issues with my preflight check My custom authorizer was rejecting any preflight check thus requests via chrome were failing "
55007081,"Custom variable for ENV always error when deploy, serverless framework","https://stackoverflow.com/questions/55007081/custom-variable-for-env-always-error-when-deploy-serverless-framework","{aws-lambda,serverless-framework,aws-serverless}","2019-03-05 16:12:32+02","2024-05-17 04:58:10.548759+03","I am trying to use S3 service in my project I save custom variable use in my provider property When I am trying to deploy I am always getting an error message like this Any idea why this happens And how to better way to debug in a serverless framework especially for yml file"
73362174,"Error while deploying lambda function using serverless framework","https://stackoverflow.com/questions/73362174/error-while-deploying-lambda-function-using-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless,aws-sam}","2022-08-15 14:09:31+03","2024-05-17 04:49:16.560243+03","while deploying to aws lambda I get the following error as showin in picture and text[error][1] my serverless yml file is as follow requirement txt file is as follow handler py file I have followed the following tutorial httpswww serverless comblogserverlesspythonpackaging I do not understand what is the cause of this issue since I am a beginner Can anyone here please guide me"
73365218,"Serverless with aws container images","https://stackoverflow.com/questions/73365218/serverless-with-aws-container-images","{amazon-web-services,aws-lambda,serverless,serverless-framework,amazon-ecr}","2022-08-15 18:47:11+03","2024-05-17 04:49:17.512248+03","i am trying to use aws ecr for my serverless application but i am failing to do so my main problem is the 50mb upload limit lambda has and this is the config in my serverless i am not sure if it is correct since there is not lots of documentation about it online i am using awsnodejstypescript template addFriend is the function that i am trying to build with docker this is my Dockerfile and my serverless ts the error in the console is TypeError [ERR_INVALID_ARG_TYPE] The path argument must be of type string Received undefined i am stuck with this issue unable to continue working is there any solution for this with serverless framework"
73375643,"Serverless fails to deploy locally on localstack","https://stackoverflow.com/questions/73375643/serverless-fails-to-deploy-locally-on-localstack","{serverless-framework,localstack}","2022-08-16 14:25:59+03","2024-05-17 04:49:18.369106+03","I am trying to deploy my lambda locally using localstack but it fails because it cannot resolve variable configFile My framework version is 3 I keep getting"
73409743,"How to have a static URL for serverless framework AWS deployments?","https://stackoverflow.com/questions/73409743/how-to-have-a-static-url-for-serverless-framework-aws-deployments","{amazon-web-services,serverless,serverless-framework}","2022-08-18 21:42:17+03","2024-05-17 04:49:19.089097+03","When I use serverless framework to deploy with sls deploy to an AWS endpoint with lambdas and dynamodb the host of the endpoint changes every time with a different prefix This is a problem because if I release a client I will not be able to deploy with serverless again For example a host might look like this 9svhw8numd executeapi useast1 amazonaws com That 9svhw8numd part changes each time there is a new deployment I have checked the serverless documentation and I cannot seem to find anything that tells me how to configure it to have a static URL How do I keep the host static for each serverless deployment"
73416601,"Mocking function to unit test Serverless Lambda","https://stackoverflow.com/questions/73416601/mocking-function-to-unit-test-serverless-lambda","{node.js,unit-testing,lambda,mocking,serverless-framework}","2022-08-19 12:10:20+03","2024-05-17 04:49:20.171426+03","I am really struggling to understand unit testing within a Serverless Application So I obviously have my handler and I have a single Lambda function So this Lambda function is pretty straight forward gets some environment variables and awaits a response from a service It then returns the response So I have already done integration tests for this which is fine but now I wanted to do a Unit test I wanted to test this function in isolation so essentially I want to mock connectToService to return my own responses So I came up with the following msConnector is the filename of the service connectToService is the function name What I want to do is not invoke this function but return sometoken when my Lambda calls it However I have the console log and what I get from that is the real token not sometoken This tells me that the mocked function is really being called and executed and returning the real value So how can I mock this to make sure it returns sometoken Thanks Service function"
73430558,"How to implement a Dead Letter Queue using AWS","https://stackoverflow.com/questions/73430558/how-to-implement-a-dead-letter-queue-using-aws","{amazon-web-services,asynchronous,amazon-sqs,serverless-framework,dead-letter}","2022-08-20 22:44:27+03","2024-05-17 04:49:21.187225+03","I am trying to implement a dead letter queue for failed lambda events I created an SQS queue and two lambdas One lambda only throws an error and the other listens to the SQS queue and is triggered when the queue receives a message and logs the event to Cloudwatch In the AWS management console I am able to see that the function lambda the one that throws an error has a dead letter queue configured I am able to see that the dispatcher function the one that listens to SQS is configured correctly and if I send a message to the SQS queue I can also see Cloudwatch logs showing it is being triggered as expected Although everything seems to be configured correctly I am unable to get the function to send an event to SQS when it is failed in order to trigger the dispatcher lambda I have watched multiple videos read documentation and I have not been able to figure out why this is not working I have also tried the onError configuration but no luck there either handler js serverless yml Here are images of what I see in the AWS management console Screenshot of handler function lambda the one that has the DLQ configured Screenshot of the handler dispatcher function The one that listens to SQS and handles each message Screenshot of the SQS queue and the lambda trigger configuration "
73432238,"Lambda authorizer not granting permissions","https://stackoverflow.com/questions/73432238/lambda-authorizer-not-granting-permissions","{amazon-web-services,aws-lambda,amazon-dynamodb,authorization,serverless-framework}","2022-08-21 06:48:28+03","2024-05-17 04:49:22.245229+03","for a learning project I set up a Lambda authorizer which does a lookup in DynamoDB table DYNAMODB_TABLE_PROJECTS to determine access permissions to another table DYNAMODB_TABLE_TASKS It returns a policy which is not working as expected The permission error looks as follow What I tried so far What is happening between the authorizer lambda and the lambda I want to grant permissions to is a bit blackboxy to me From the examples I studied it is not clear to me what piece of information I am missing My configuration looks as follow Serverless yml api yml authRole assigned to authorizer lambda which gives permission to do the initial table lookup in DYNAMODB_TABLE_PROJECTS Policy document which is generated by the lambda authorizer that is supposed to grant access to read from DYNAMODB_TABLE_TASKS I would appreciate any help I get any questions asked that could bring me back on track "
73441175,"How to Validate a file which user send by Presigned URl to S3 Bucket during upload file","https://stackoverflow.com/questions/73441175/how-to-validate-a-file-which-user-send-by-presigned-url-to-s3-bucket-during-uplo","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2022-08-22 06:52:57+03","2024-05-17 04:49:23.146205+03","When user send a file or any data by Presigned URL to S3 Bucket In between no restriction So User Can send anything by Presigned URL to S3 Bucket But I want check data between Presigned URL and S3 Bucket which data user send I am using serverless framework please help me Thanks in Advance My lambda function code here"
73441609,"Serverless deploy stopped working suddenly","https://stackoverflow.com/questions/73441609/serverless-deploy-stopped-working-suddenly","{amazon-web-services,deployment,serverless,serverless-framework}","2022-08-22 07:34:15+03","2024-05-17 04:49:24.239739+03","When I am trying to deploy nothing is happening I am not getting any error last week it was working Any ideas Thank you "
73527986,"Is the cloudformation step necessary when we deploy the app to the aws lambda and if yes what are the exact permissions required under it","https://stackoverflow.com/questions/73527986/is-the-cloudformation-step-necessary-when-we-deploy-the-app-to-the-aws-lambda-an","{aws-lambda,serverless-framework}","2022-08-29 11:18:26+03","2024-05-17 04:49:25.345149+03","arnawsiam123456789userdemo is not authorized to perform cloudformationDescribeStacks on resource arnawscloudformationapsouth1987654321stackdemotestdev because no identitybased policy allows the cloudformationDescribeStacks action when I try to upload the app it gives me this error so can somebody help me out of this Note I have IAM user account with limited permissions "
73530246,"Dockerising a node serverless app returns directory listing only","https://stackoverflow.com/questions/73530246/dockerising-a-node-serverless-app-returns-directory-listing-only","{node.js,docker,serverless-framework}","2022-08-29 14:18:50+03","2024-05-17 04:49:26.436637+03","Noob NodeJSDocker question here I have written a node js serverless project in an Ubuntu environment I am now trying to dockerise it The project has the following in the scripts section of package js Running npm run dev in my Ubuntu environment 22 04 1 LTS node version 18 8 0 works fine no issues The API starts up and the project executes as expected I have the following in a Dockerfile I am using the Ubuntu image and the node distribution to try and get the container as close as possible to my dev environment The image builds successfully When running the built image I just get the directory listing of the container like I am happy to try using the node image as a base but I do not understand why the docker image is doing something different than my dev environment I do not even really understand why the directory listing is being output other than assuming Node is having trouble finding the serverless module But the package and packagelock files are being copied across and I can see the serverlessserverlessoffline and sls packages in the dependencies listing A Hello World Node app runs fine in the container so it seems to be something to do with serverless itself Any help appreciated Thanks EDIT To be clear I am expecting a serverless API to be run and accessible on port 3000 using the following serverless template npm run docker is the command I am using in the Dockerfile as an alias for node npm bin sls offline start host 0 0 0 0 test_func should talk to the database and return some values "
73549656,"Serverless is unable to find the handler in nestjs","https://stackoverflow.com/questions/73549656/serverless-is-unable-to-find-the-handler-in-nestjs","{node.js,aws-lambda,nestjs,serverless,serverless-framework}","2022-08-31 00:15:57+03","2024-05-17 04:49:27.415129+03","I am trying to deploy my NestJS project to AWS lambda with serverless framework I followed official documentation I created a file serverless ts in src directory along with main ts file When I run sls offline it successfull runs and gives following output But when I open the localhost URL httplocalhost4000 I get 502 Bad gateway and following error Here is code main ts serverless ts serverless yaml"
73571140,"how to resolve error ""lambda role already exists"" while execution of lambda function using serverless framework?","https://stackoverflow.com/questions/73571140/how-to-resolve-error-lambda-role-already-exists-while-execution-of-lambda-func","{amazon-web-services,aws-lambda,aws-api-gateway,serverless,serverless-framework}","2022-09-01 14:33:12+03","2024-05-17 04:49:28.394118+03","my yml file look like this I am unable to understand the cause of this error I have searched this on internet but I cannot find anything useful about this Please guide me "
72704139,"Modifying handler to return response body when certain endpoint is requested when using serverless framework","https://stackoverflow.com/questions/72704139/modifying-handler-to-return-response-body-when-certain-endpoint-is-requested-whe","{node.js,aws-lambda,serverless-framework,aws-serverless,api-gateway}","2022-06-21 16:21:00+03","2024-05-17 04:49:30.326083+03","I am using serverless framework to deploy entire nodejs typescript app on AWS Lambda When an endpoint is requested it invokes the lambda function after which function corresponding to that endpoint is called and gets executed I am certain that the lambda is able to get to that function as I can see the console log present in that function in CloudWatch logs From my backend code lambda receives the statuscode 200 but does not returns the response body My serverless file This is my handler which is in index ts My router My controller The mentioned console log is visible on CloudWatch logs logs What modification should be made to return the response body along with the statuscode"
67374932,"Define lambda authorizer response format using serverless framework","https://stackoverflow.com/questions/67374932/define-lambda-authorizer-response-format-using-serverless-framework","{amazon-web-services,serverless-framework,aws-serverless}","2021-05-03 19:44:56+03","2024-05-17 04:52:07.191116+03","According to this AWS documentation page covering authorizers for AWS API Gateway it is possible to define authorizer as lambda function returning a boolean value in isAuthorized response field to allowdeny the API request However after numerous attempts I cannot understand how to define it in serverless yml or at least in AWS console I am new to AWS and serverless framework I have decided not to dive into IAM access policies or Cognito just yet thus I am trying to build a very simple lambda authorizer function that just yields a boolean value to allowdeny API access I have defined my functions section in serverless yml as follows The authorizer function is as simple as However if I try to test it I see the following CloudWatch stacktrace In addition to that"
67375825,"AWS Lambda Python Function with pygsheets causing [Errno 97] Address family not supported by protocol","https://stackoverflow.com/questions/67375825/aws-lambda-python-function-with-pygsheets-causing-errno-97-address-family-not","{python-3.x,amazon-web-services,aws-lambda,serverless-framework,pygsheets}","2021-05-03 21:07:05+03","2024-05-17 04:52:08.651284+03","I am using python and the serverless framework to deploy functions to AWS Lambda I have been running into an issue when I want to run a SQL query and then output the results into a google sheet My code functions perfectly locally but not on AWS lambda I am also using a VPC configuration however I have already verified it has internet access and everything else in my code functions properly in Lambda The code breaks when calling ws gc open workbook_name and returns the error gc pygsheets authorize service_account_env_varservice_account This code works when creating my pygsheets client Bellow is the error message returned"
53333602,"Where I can find the application deployed with AWS serverless toolkit","https://stackoverflow.com/questions/53333602/where-i-can-find-the-application-deployed-with-aws-serverless-toolkit","{amazon-web-services,aws-lambda,serverless-framework}","2018-11-16 07:55:59+02","2024-05-17 04:58:54.646478+03","I used serverless toolkit serverless to deploy an application and all works fine After I logged in ASW console and I was looking for a dashboard or something where I can found and manage the deployed application The question is Where I can find inside the AWS console the application deployed with serverless toolkit"
72721749,"How to ""flatten"" Serverless Framework directories when deploying lambda functions to AWS","https://stackoverflow.com/questions/72721749/how-to-flatten-serverless-framework-directories-when-deploying-lambda-function","{aws-lambda,serverless-framework}","2022-06-22 20:40:01+03","2024-05-17 04:49:31.281557+03","service serverless yml file function serverless yml in the relative directory referenced above I need to use the directory in which the service serverless yml file resides as the base path for the individual lambda function source js files I originally expected that I could have just used the directory in which the function serverless yml resides as the base path to the individual lambda function source js files How can I tell sls deploy to use the directory in which the function serverless yml file resides as the base path to the individual lambda function source js files But a bigger issue with my approach is that when the individual lambda function source js files are deployed on AWS the directory structure is recreated e g the individual lambda function source js files land in my lambda functions authorizeUserlambdafunctionsauthorizeUser directory which causes the following error when I test my lambda function If I manually move the individual lambda function source js files to the authorizeUser the lambda functions root directory the function will execute How can I tell sls deploy to flatten the directory structure when it deploys the lambda function to AWS if this is even possible I realize that I can just place all of the files in the same directory in my development environment and these problems that I am experiencing will not occur but my preference is to manage source files in a nested directory structure to help categorize files into logic groups httpswww serverless comframeworkdocsprovidersawsguidefunctions"
72725980,"serverless framework: local kafka as event source","https://stackoverflow.com/questions/72725980/serverless-framework-local-kafka-as-event-source","{serverless,serverless-framework,localstack}","2022-06-23 07:12:45+03","2024-05-17 04:49:32.412071+03","I am trying to build a local development environment in order to make my local tests I need to use kafka as eventsource I have deployed a selfmanaged cluster into my local environment using docker An issue is running in my mind according to documentacion I need to provide authentication Here there is no problem the issue is which kind of values documentation is required I provide AWS secrets What do those kind of secret AWS secrets have to do with my selfmanaged selfdeployed kafka cluster How could I provide my kafka cluster as local event source I mean I thought I only need to provide bootstrap servers consumer group and topic Something like knative serverless documentation says Any ideas about how to connect to my local kafka"
72733792,"When a state of a step function times out, does the lambda execution correlated to it continue to be performed?","https://stackoverflow.com/questions/72733792/when-a-state-of-a-step-function-times-out-does-the-lambda-execution-correlated","{amazon-web-services,aws-lambda,serverless,serverless-framework,aws-step-functions}","2022-06-23 16:42:31+03","2024-05-17 04:49:32.928869+03","I want to know if a lambda execution continues to be performed even if the state of the step function correlated to it times out If it happens how can i stop it"
72739204,"Serverless - Use pre-generated api gateway url?","https://stackoverflow.com/questions/72739204/serverless-use-pre-generated-api-gateway-url","{amazon-web-services,aws-lambda,aws-api-gateway,serverless,serverless-framework}","2022-06-24 05:04:29+03","2024-05-17 04:49:33.660237+03","Am I able to define a pregenerated api gateway url for my serverless application Currently there are two applications already made that has their own that was generated with cloud formation The new application is using the serverless framework The client asked that I reuse the one that was generated for the other two applications on mine to extend the amount of endpoints over having its own url Its not a custom url that uses a cname just a straight generated api gateway one they would like me to piggy back off of "
72779780,"How to configure serverless.yml file to trigger lambda as soon as i recieving messages in sqs","https://stackoverflow.com/questions/72779780/how-to-configure-serverless-yml-file-to-trigger-lambda-as-soon-as-i-recieving-me","{node.js,aws-lambda,serverless-framework,aws-serverless,aws-sqs-fifo}","2022-06-28 01:23:24+03","2024-05-17 04:49:34.797678+03","I already have implementations for sending and recieving sqs messages The requirement is to conditionally trigger a new lambda as soon as i recieve any new meesage in sqs "
72787152,"Serverless new stage to use existing resources and only deploy the api gateway","https://stackoverflow.com/questions/72787152/serverless-new-stage-to-use-existing-resources-and-only-deploy-the-api-gateway","{amazon-web-services,serverless,serverless-framework,aws-serverless}","2022-06-28 13:17:26+03","2024-05-17 04:49:35.884262+03","I am trying to create new stages for the featurebranches test but the problem is that when I am deploying the new stage sls deploy s FEATURE it is creating everything in the serverless configuration I tried to find maybe an option in the resources to skip if exists but did not find any When I am creating a new env it is failed because when I try to point to an existing resource it is said that it cannot be created Thanks "
72802963,"Sending S3 Trigger to AWS Lambda","https://stackoverflow.com/questions/72802963/sending-s3-trigger-to-aws-lambda","{amazon-web-services,aws-lambda,serverless-framework}","2022-06-29 14:17:40+03","2024-05-17 04:49:36.664034+03","I have a lambda function that has a trigger on PUT in the root of an S3 bucket My function processes any file put in the bucket then it moves the file to either a processed or a failed subfolder depending on success I want to be able to move files in bulk back to the root easy to do via Management Console but how to I simulate sending an s3 trigger for each file I move so I can reprocess the file I see how to do it manually via the console but I would rather write a script to just take a list of files and simulate a trigger for each file Can I do this using serverless invoke"
72835567,"How to see failed lambda executions on datadog using lambda proxy integration","https://stackoverflow.com/questions/72835567/how-to-see-failed-lambda-executions-on-datadog-using-lambda-proxy-integration","{lambda,serverless-framework,datadog}","2022-07-02 00:02:46+03","2024-05-17 04:49:37.474798+03","I am kind of new on datadog and was wondering how to show errors for lambda executions that are integrated with API Gateway using the LAMBDA_PROXY integration This may sound simple but because of how you need to handle custom errors when using the LAMBDA_PROXY which basically makes you catch exceptions and return a specific object to API GATEWAY all lambda executions ends correctly on datadog even though many of them return an error object which means that debugging failed lambda executions is really hard Is there a way to show on Datadog that this executions are errors instead of a green check for better visibility am using the serverless framework with the datadog plugin serverlessplugindatadog We can try to change the LAMBDA_PROXY to the more raw lambda integration but that doesnt look right and present a big change in my configuration "
52564831,"Can you programmatically switch serverless cron functions on/off","https://stackoverflow.com/questions/52564831/can-you-programmatically-switch-serverless-cron-functions-on-off","{cron,serverless-framework,serverless}","2018-09-29 03:25:28+03","2024-05-17 04:59:09.894327+03","Scenario Is this doable using Serverless com or any of the FAAS providers it uses Thanks in advance "
72848697,"Defining API path with query string Serverless HTTP API (API Gateway v2)","https://stackoverflow.com/questions/72848697/defining-api-path-with-query-string-serverless-http-api-api-gateway-v2","{serverless-framework,aws-serverless,aws-http-api}","2022-07-03 17:47:53+03","2024-05-17 04:49:38.587079+03","How can I define the path in serverless yml with more than one query parameter using HTTP API API Gateway v2 so that the endpoint looks like the following I tried with deployment failed"
72862164,"Serverless Compose throwing symlink error on 'serverless offline'","https://stackoverflow.com/questions/72862164/serverless-compose-throwing-symlink-error-on-serverless-offline","{node.js,typescript,serverless-framework}","2022-07-04 21:27:50+03","2024-05-17 04:49:39.382916+03","I am playing around with serverlesscompose and typescript and I am getting the following error when trying to start the project locally It happens when I am running npx sls templateserviceoffline for the second time when the build folder has already been generated in the templateservice folder I am using serverlessplugintypescript for building the service My folder structure is the following serverlesscompose ts tsconfig json Update It seems like a general problem with serverless compose It is not working with either serverlessplugintypescript or serverlessbundle It also produces an error on sls deploy it is expecting the node modules folder to be inside the sub project folder I have opened issues both in the serverlessplugintypescript and in serverless httpsgithub comserverlessserverlessplugintypescriptissues274 httpsgithub comserverlessserverlessissues11213"
72862470,"CORS error Serverless Framework with Typescript?","https://stackoverflow.com/questions/72862470/cors-error-serverless-framework-with-typescript","{node.js,typescript,cors,serverless,serverless-framework}","2022-07-04 22:20:50+03","2024-05-17 04:49:40.463992+03","I am stuck on this basic CORS issue but nothing seems to help Tried everything in Serverless CORS Survival Guide httpswww serverless comblogcorsapigatewaysurvivalguide Everything working fine in serverless offline Here I am getting all the expected response headers for the same Error In Browser Access to fetch at httpsXXXXXXXXX executeapi useast1 amazonaws comdevspaces_configap1 from origin httpsXXXXXXXXX com has been blocked by CORS policy Request header field accesscontrolalloworigin is not allowed by AccessControlAllowHeaders in preflight response My Setup I am using this boilerplate httpsgithub comserverlessexamplesawsnoderestapitypescript Serverless yml Also tried with cors true Handler js File In the boilerplate there is a file message ts httpsgithub comserverlessexamplesblobmasterawsnoderestapitypescriptapputilsmessage ts where we can customize the response After middy was not working above I tried sending response headers manually I was not getting any response header when I was using middy message ts Dependencies Used Stuck on the problem for a very long time Any help will be appreciated Thanks"
72866819,"Configuring functionResponseType in typescript serverless template","https://stackoverflow.com/questions/72866819/configuring-functionresponsetype-in-typescript-serverless-template","{typescript,amazon-sqs,serverless-framework}","2022-07-05 09:11:46+03","2024-05-17 04:49:41.166021+03","I am trying to configure functionResponseType in a TypeScript Serverless framework template in order to make use of partial batch responses This is my event declaration for the function in question This is what the sqs block looks like in the type declaration file The source is here httpsgithub comserverlesstypescriptblobmasterindex d tsL534L543 When I include the functionResponseType property the template does not compile with the following error Types of property functionResponseType are incompatible Type string is not assignable to type ReportBatchItemFailures ts 2322 If I remove the functionResponseType property the template compiles fine and the function deploys as expected but then without the partial SQS response functionality I am no TypeScript guru so I am sort of stuck here What am I doing wrong"
72916029,"Unable to debug Node.js application in WebStorm using Serverless","https://stackoverflow.com/questions/72916029/unable-to-debug-node-js-application-in-webstorm-using-serverless","{node.js,debugging,webstorm,serverless,serverless-framework}","2022-07-08 19:13:11+03","2024-05-17 04:49:42.124977+03","I am currently creating a lambda function in Node js and want to debug the code locally I am using WebStorm as my IDE In my serverless yml in my package json And then I have added some screen shots I click on debug option The following runs My file structure When I send a request I get a response back but break points are ignored and debug is not triggered I am wondering what I am missing "
72922980,"Unable to call local server-less NodeJS setup from android device","https://stackoverflow.com/questions/72922980/unable-to-call-local-server-less-nodejs-setup-from-android-device","{android,node.js,localhost,serverless-framework}","2022-07-09 16:20:38+03","2024-05-17 04:49:43.030039+03","Hi all I have a local nodejs setup and using the serverless framework When I call the endpoint from browser of postman it works however when I call from my android device on the same network it does not work This is my serverless yml this generates the url httpslocalhost3000hello which when called from browser postman it works Then on my android dev app I have the following when this runs android studio gives the following error and the chrome inspector shows the errors in the pictures attached Pic1 Pic2"
72925522,"Event trigger using serverless framwork on an existing S3 bucket","https://stackoverflow.com/questions/72925522/event-trigger-using-serverless-framwork-on-an-existing-s3-bucket","{amazon-web-services,serverless-framework,aws-cloudformation-custom-resource}","2022-07-10 00:53:51+03","2024-05-17 04:49:44.089265+03","I am trying to set a lambda to trigger when an object is created in an S3 bucket My serverless yml includes this This results in an error I already have the bucket created created via uploading a cloudformation template directly our corporate version of AWS does not allow us to use serverless framework to create a bucket How to add S3 trigger event on AWS Lambda function using Serverless framework indicates this was not possible with older versions of serverless but following the rabbit hole you can see a feature request and later an answer that shows you need to add existing true So I add that to my serverless framework setup The IAM filerole referenced above looks like this Trying to deploy this gets me the error How can I deploy this lambda triggered by an s3 event"
71933946,"Api Gateway Cognito Authorizer: client token works on AWS ui but not on Postman","https://stackoverflow.com/questions/71933946/api-gateway-cognito-authorizer-client-token-works-on-aws-ui-but-not-on-postman","{authorization,aws-api-gateway,amazon-cognito,serverless-framework,lambda-authorizer}","2022-04-20 04:02:15+03","2024-05-17 04:49:45.800683+03","I used the serverless framework to setup some POST apis and then wrote a crude NextJs app to try to authenticate with Cognito and then use the apis protected by the authorizer I also looked at this article httpswww serverless comblogcorsapigatewaysurvivalguide but no luck and at this point I do not know what to do Part of my serverless yml"
50761591,"CORS on Serverless yml","https://stackoverflow.com/questions/50761591/cors-on-serverless-yml","{serverless-framework,serverless,aws-serverless}","2018-06-08 13:21:31+03","2024-05-17 05:00:02.542437+03","I have a React application and trying to access to serverless from aws But I have below error End point url is httpskey executeapi apsoutheast2 amazonaws comdevsamplefunction Setting on serverless yml is Is there any other place I need to do CORS configuration"
71937166,"Serverless: Running ""serverless"" installed locally (in service node_modules)","https://stackoverflow.com/questions/71937166/serverless-running-serverless-installed-locally-in-service-node-modules","{amazon-web-services,gitlab-ci,serverless-framework}","2022-04-20 09:21:34+03","2024-05-17 04:49:47.020336+03","I am trying to deploy a service to aws using serverless I am deploying it using gitlab cicd instead of doing it locally Initially my serverless version was latest had not mentioned any specific version but then when I pushed my code to gitlab and i got few errors in the pipeline as the latest version is not stable So had to change the version to a stable version Now when i pushed my code changes to gitlab my deployment failed and i got Serverless Error Cannot run local installation of the Serverless Framework by the outdated global version Please upgrade via npm install g serverless Note Latest release can run any version of the locally installed Serverless Framework I dont want to upgrade my serverless version in my gitlabci yml i have changed to this Is there any way I can fix this Any help would be appreciated thank you "
71975854,"Serverless V2: Value not found at ""opt"" source","https://stackoverflow.com/questions/71975854/serverless-v2-value-not-found-at-opt-source","{amazon-web-services,serverless,serverless-framework}","2022-04-23 00:23:13+03","2024-05-17 04:49:47.313915+03","We are currently using Serverless v2 0 0 and want to upgrade to the latest v3 As per their documentation I am first upgrading to the latest v2 We are using a python script to run serverless using the subprocess library as we use secrets manager to get some cli params The command string is as follows The serverless yml file looks like this I can confirm that elasticHost does exist I see it in the terminal when I run the script However when I run the script I get the following error My package json is as follows If I replace optelastic with its value I do not get the error but I do not want it hardcoded I am trying to understand why I am getting this error and how I can resolve it I have not used serverless before so any help on this would be greatly appreciated Thank you "
71977474,"Typeorm doesn't work with Serverless Framework AWS Lambda","https://stackoverflow.com/questions/71977474/typeorm-doesnt-work-with-serverless-framework-aws-lambda","{node.js,aws-lambda,typeorm,serverless-framework,aws-serverless}","2022-04-23 06:40:49+03","2024-05-17 04:49:48.141083+03","Well basically I get this error when I try to serverless deploy or serverless offline This is the code package json dependencies What should I do in order to fix that and get a working awslambda typeorm"
71998377,"Can’t set cookie from apigateway/lambda with cors","https://stackoverflow.com/questions/71998377/can-t-set-cookie-from-apigateway-lambda-with-cors","{reactjs,cookies,aws-lambda,serverless-framework,api-gateway}","2022-04-25 10:52:17+03","2024-05-17 04:49:49.190776+03","im setting a cookie with set cookie from apigatewaylambda to react app in another domain with all the relevant heders and i can see the setcookie header in response but the cookie is not getting set in chrome can someone help with this issue"
72005804,"What is the equivalent of AWS lambda Layers in Azure provider?","https://stackoverflow.com/questions/72005804/what-is-the-equivalent-of-aws-lambda-layers-in-azure-provider","{amazon-web-services,azure,webpack,serverless,serverless-framework}","2022-04-25 21:12:02+03","2024-05-17 04:49:50.30934+03","Problem I have a project which is standalone aws serverless backend which makes use of lambda layers concept to share node_modules and other custom dependencies One of the use case of custom dependencies in my case are having all the common codes like HTTP_STATUS_CODE enum and Api responses util for status code and sequelize models and services in a folder which is later copied in to node_modules and host it to a s3 bucket folder structure before deployment of the function to the AWS provider I copy all the files from customDependencies to node_modules and push this node_modules to S3 and create a layer resource where all the lambda functions refers for node_modules example of functions using common code I am having trouble implementing this for azure environment What I want to achieve I want to know if there is any way to replicate the lambda layers concept in azure What I tried I tried copying all the files inside customDependenciesnodejs to node_modules with this cp r customDependenciesnodejs node_modules I also have serverlesswebpack installed as plugin which makes use of this webpack config given below webpack config js when I try serverless package webpack is not able to find custom dependencies for example I get a warning Could not determine version of module api_response_utils js followed by an error I fixed this error by removing externals property from webpack config this was a workaround I did the deployment is working fine but I want to know if there are any better approaches to replicate the AWS Lambda Layers concept to azure "
72015085,"How to receive a RabbitMQ Event with Serverless + Golang","https://stackoverflow.com/questions/72015085/how-to-receive-a-rabbitmq-event-with-serverless-golang","{go,aws-lambda,serverless-framework}","2022-04-26 13:45:34+03","2024-05-17 04:49:51.212882+03","Using the serverless framework Go how should I receive a RabbitMQ Event e retrieve it is body content I have tried with the SQS Event type but it comes empty "
72034733,"Serverless.yml - Epilogue","https://stackoverflow.com/questions/72034733/serverless-yml-epilogue","{serverless-framework}","2022-04-27 20:11:06+03","2024-05-17 04:49:52.223883+03","One magical day I found a reference to an epilogue key to be used in the Serverless yml file It is the best We use it to cleanup after testing that occurs inside our CICD pipeline Today I do not want epilogue always but rather epilogue when it does not fail I cannot find one shred of documentation about this option Nothing to even explain how I got here in the first place Oh internet How do I run something only when my tests have passed"
72041801,"AWS IAM Role Access to Redshift:DescribeData","https://stackoverflow.com/questions/72041801/aws-iam-role-access-to-redshiftdescribedata","{amazon-web-services,aws-lambda,amazon-redshift,amazon-iam,serverless-framework}","2022-04-28 10:06:39+03","2024-05-17 04:49:53.233855+03","I despair of trying to get access to the redshiftdata api from a aws lambda function more specifically RedshiftdataDescribeStatement I can send BatchStatements but I cant receive them I think it is the condition key that I do not really understand how it works The following is my IAM Role Policy generated by the following serverless statement As said the BatchExecuteStatement passes but the DescribeStatement fails and I am not sure the ConditionSetting is the problem at all The Exception Does anybody have an idea how I can fix this Thanks in advance"
72043049,"Issue while configuring API routes with path parameter using serverless framework","https://stackoverflow.com/questions/72043049/issue-while-configuring-api-routes-with-path-parameter-using-serverless-framewor","{serverless,serverless-framework,aws-serverless}","2022-04-28 11:41:35+03","2024-05-17 04:49:53.949959+03","I am relatively new to the AWS serverless and serverless framework I have created the following API routes and tested them using the offline plugin and it is working as expected But when I am trying to deploy this using sls deploy to my AWS it is throwing me the following error My serverless yml look likes this I do not know what is wrong with the code as it is working well locally I would appreciated a help here "
72059713,"Use stage parameters to skip fields in Serverless Framework","https://stackoverflow.com/questions/72059713/use-stage-parameters-to-skip-fields-in-serverless-framework","{amazon-web-services,parameters,serverless-framework}","2022-04-29 14:45:16+03","2024-05-17 04:49:55.018255+03","Stage parameters in Serverless Framework are very useful to change stagedependent fields such as apiKey However I would like to use them to skip fields all together Would this be possible As an example below highly simplified I would like to have an API key for the dev stage but no API key for the v1 stage Unfortunately the null in the v1 stage does not allow for the apiKeys field to be skipped Instead Serverless produces an error This makes sense but I was wondering if there is any other way to achieve what I am aiming for here "
72064737,"Which version of the serverless framework is compatible with the serverless-aws-alias plugin?","https://stackoverflow.com/questions/72064737/which-version-of-the-serverless-framework-is-compatible-with-the-serverless-aws","{amazon-web-services,serverless-framework,serverless-aws-alias}","2022-04-30 00:08:02+03","2024-05-17 04:49:55.942827+03","I am trying to deploy a serverless yaml file that makes use of the serverlessawsalias plugin It used to work like a couple of years ago but today it started erroring out and no matter which combination of versions I test it fails Here are a few different scenarios and error messages I face For the sake of test I kept the yaml file as simple as possible Just a single lambda function BTW I tested different versions of the serverless since poeple were saying that downgrading was fixing it for them But for me no version works No matter what One last thing if I eliminate the serverlessawsalias plugin from the yaml file it will deploy But I need the alias so I need to make it work with the plugin For the sake of completeness heres my package json"
72070528,"Serverless Framework does not create SQS queue before Lambda with queue trigger","https://stackoverflow.com/questions/72070528/serverless-framework-does-not-create-sqs-queue-before-lambda-with-queue-trigger","{amazon-web-services,aws-lambda,amazon-sqs,serverless-framework}","2022-04-30 17:07:34+03","2024-05-17 04:49:57.125826+03","Using Serverless Framework how can I make my Lambda function depend on an SQS queue from the resources section as it is the trigger for the function itself In my serverless yaml I am defining a new queue and Lambda function Then I want to use the queue as an event source trigger for my Lambda function I do that by creating the queue ARN manually And creating the queue in resources This works fine if I create the queue in a deployment prior to using it as a function trigger But if I try to deploy both of them it fails with this error when it tries to create the event source mapping Invalid request provided Error occurred while ReceiveMessage SQS Error Code AWS SimpleQueueService NonExistentQueue SQS Error Message The specified queue does not exist for this wsdl version "
72091216,"Serverless Cognito User Pool authorizer","https://stackoverflow.com/questions/72091216/serverless-cognito-user-pool-authorizer","{amazon-web-services,serverless-framework}","2022-05-02 19:04:48+03","2024-05-17 04:49:57.96482+03","I want to use my Cognito User Pool as the authorizer for all my lambda functions deployed through the Serverless Framework and API Gateway The Serverless docs mention that this is possible as follows which exposes claims at event requestContext authorizer claims Or if you want more control of which attributes are exposed as claims use the following implementation which exposes claims at events cognitoPoolClaims I have a few questions about this and I am attempting to find the answers online but the terms are all commonlyused and it is hard to know what to search for and recognize the correct answer The docs also seem to show a few examples but never specifies all the available options as far as I have seen I would appreciate some clarification on the following or a link to the docs where it may explain some of this in more detail What scopes are available e g scopes myappread What is the difference between exposing the claims at event requestContext authorizer claims vs events cognitoPoolClaims Will this implementation work with httpApi functions instead of http like the docs show"
72096650,"Serverless Framework - C# and Node.js in a single serverless.yaml","https://stackoverflow.com/questions/72096650/serverless-framework-c-sharp-and-node-js-in-a-single-serverless-yaml","{c#,node.js,serverless-framework}","2022-05-03 08:26:12+03","2024-05-17 04:49:58.918547+03","Is it possible to deploy both a Node js service and a C service via a single serverless yaml file Any code examples would be highly appreciated "
72133788,"SQS → Lambda Problem With maximumBatchingWindow","https://stackoverflow.com/questions/72133788/sqs-%e2%86%92-lambda-problem-with-maximumbatchingwindow","{amazon-web-services,aws-lambda,serverless-framework}","2022-05-05 21:22:08+03","2024-05-17 04:49:59.572504+03","Our intention is to trigger a lambda when messages are received in an SQS queue Our consumer lambda is dealing with an API with limited API calls and strict concurrency limits The above solution ensures we never encounter concurrency issues and we can batch our calls together ensuring we never consume too many API calls Here is our serverless yml configuration The above does not give us the desired behavior We are seeing our lambda triggered every 1 to 3 minutes instead of 5 It indeed is using batches because well see multiple messages being processed in a single invocation but with even just one or two messages in the queue at a time it doesnt wait 5 minutes to trigger the lambda Our messages are extremely small so it is not possible we are coming anywhere close to the 6mb limit We would expect the only time the lambda is triggered to be when either 10000 messages have accumulated in the queue or five minutes have transpired since the previous invocation Instead we are seeing the lambda invoked anywhere in between every 1 to 3 minutes with a batch size that never even breaks 100 much less 10000 The largest batch size Ive seen it invoke the lambda with so far has been 28 and sometimes with only one message in the queue itll invoke the function when its only been one minute since the previous invocation We would like to avoid using Kinesis as the volume were dealing with truly doesnt warrant it "
71290401,"How to solve authorizer issue in Serverless framework 3?","https://stackoverflow.com/questions/71290401/how-to-solve-authorizer-issue-in-serverless-framework-3","{node.js,amazon-web-services,serverless,serverless-framework}","2022-02-28 03:54:04+02","2024-05-17 04:50:01.526172+03","When I use Serverless framework 2 I defined authorizer like the below way But It is not supported in Serverless framework 3 Now I am getting the below error I looked at their deprecated doc But I do not find the solution How can resolve this issue"
71292809,"Add custom domain to API gateway without serverless-domain-manager","https://stackoverflow.com/questions/71292809/add-custom-domain-to-api-gateway-without-serverless-domain-manager","{amazon-web-services,aws-api-gateway,serverless,serverless-framework,aws-serverless}","2022-02-28 09:23:42+02","2024-05-17 04:50:02.515906+03","I want to add a custom domain to the API Gateway using serverless framework but without serverlessdomainmanager or any other plugin I am looking for a more native way maybe extending a resource in serverless yml All articles suggest that plugin but it is not the best for multi environment pipelines httpswww serverless comblogserverlessapigatewaydomain"
71300373,"500 error when caching AWS Lambda Authenticator response","https://stackoverflow.com/questions/71300373/500-error-when-caching-aws-lambda-authenticator-response","{aws-lambda,serverless-framework,lambda-authorizer}","2022-02-28 19:50:59+02","2024-05-17 04:50:03.479719+03","I am using serverless stack now attempting to add a Lambda Custom Authenticator to validate authorization tokens with Auth0 and add custom data to my request context when the authentication passes Everything works mostly fine at this point except for when I cache the Authenticator response for the same token I am using a 5second cache for development The first request with a valid token goes through as it should The next requests in the 5second window fail with a mysterious 500 error without ever reaching my code Every uncached request succeeds with status code 200 an integration ID and everything as it is supposed to Every other request during the 5second cache fails with 500 error code and no integration ID meaning it does not reach my code Any tips I just found this in an apigateway d ts types file attention to the comments please And I did have this problem before I could get the Authorizer to work in the first place I had my roles and permissions properties as string arrays and I had to transform them to plain strings Then it worked Lo and behold I just ran a test right now removing the context information I was returning for successfully validated tokens and now the cache is working every request succeeds but I do need my context information Maybe there is a max length for the context object Please let me know of any restrictions on the context object As the types file states that thing is poorly documented This is the docs I know about "
71310039,"Serverless frameworks CORS failing to deploy to AWS CloudFormation","https://stackoverflow.com/questions/71310039/serverless-frameworks-cors-failing-to-deploy-to-aws-cloudformation","{terraform,aws-cloudformation,serverless-framework}","2022-03-01 14:29:13+02","2024-05-17 04:50:04.491681+03","Any idea on how to fix this issue deploying to AWS with Serverless Cors flag Added the cors flag to serverless yml of an existing endpoint as specified in the Serverless guide It works fine when deploy locally with ServerlessTerraformLocalstack but when deploy to AWS with Terraform get Method already exists for this resource Service AmazonApiGateway Status Code 409 Error Code ConflictException Request ID ea4b3ea8eb624314ac92993b617a575f Proxy null "
71314870,"sls offline GET /users (λ: getUsers) ✖ ENOENT: no such file or directory, open '~/reponame.go'","https://stackoverflow.com/questions/71314870/sls-offline-get-users-%ce%bb-getusers-enoent-no-such-file-or-directory-open","{go,serverless-framework,serverless-offline}","2022-03-01 21:33:40+02","2024-05-17 04:50:05.424739+03","While using serverless offline for Golang On sending any request from Postman GET users getUsers ENOENT no such file or directory open DesktopReponame go However the same works fine while using sls offline useDocker"
71326299,"Custom Lambda Authorizer Event Payload type","https://stackoverflow.com/questions/71326299/custom-lambda-authorizer-event-payload-type","{amazon-web-services,aws-api-gateway,serverless-framework}","2022-03-02 16:46:34+02","2024-05-17 04:50:06.3774+03","I am trying to create a custom lambda authorizer with the lambda event payload type as REQUEST the serverless yml is pretty simple Whenever I deploy this yaml file it creates an authorizer with a TOKENbased Event Payload instead of REQUESTbased "
71333243,"Serverless framework - schedule rate ""cron"" not yet supported","https://stackoverflow.com/questions/71333243/serverless-framework-schedule-rate-cron-not-yet-supported","{aws-lambda,cron,serverless-framework}","2022-03-03 07:04:00+02","2024-05-17 04:50:07.544046+03","I am using serverless ^2 43 1 I am following official docs from httpswww serverless comexamplesawsnodescheduledcron but this does not seems to work at all All I get is Tried with official example Or even just to invoke it every minute but the error persist and lambda is not invoked both locally serverless offline and on AWS cloud Can you help me with that"
71373223,"Trigger Lambda function based on attribute value in DynamoDB","https://stackoverflow.com/questions/71373223/trigger-lambda-function-based-on-attribute-value-in-dynamodb","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,amazon-dynamodb-streams}","2022-03-06 18:46:46+02","2024-05-17 04:50:08.178728+03","I have a DynamoDB table whose items have these attributes id user status Status can take values A or B Example trigger the lambda when a new item is added to DDB with status A or when the status of an existing item is updated to A I am looking into DynamoDB streams for achieving this but I have not come across an example where anyone is using it for this use case Example when status B I do not want to trigger lambda but only emit a metrics for that row Basically I want to have a metrics to see how many items in the table have status B at a given point If not from DynamoDB are the above two possible for any other storage type "
71392799,"How do you filter IP addresses on AWS API Gateway?","https://stackoverflow.com/questions/71392799/how-do-you-filter-ip-addresses-on-aws-api-gateway","{aws-api-gateway,serverless-framework}","2022-03-08 09:37:01+02","2024-05-17 04:50:09.313687+03","This is not strictly related to serverless framework per see but more related to AWS I guess My intention is to block everyone from accessing a Lambda by putting a resource policy on my API Gateway API GW to restrict access based on IP addresses I have the following code in my serverless yml If I execute serverless deploy then it completes successfully When looking in the AWS portal however I see no resource policy attached to the API GW When trying a POST request to my endpoint it indeed works from any IP address which clearly is not what I want Anyone knows what I am doing wrong or missing here I am also curious to know how serverless knows which API to attach my policy to I am using the simplified syntax for specifying the resource and I have been following these two guides so I think my code should work but it does not"
71393331,"Problem with layer when using serverless-offline with Bref","https://stackoverflow.com/questions/71393331/problem-with-layer-when-using-serverless-offline-with-bref","{php,docker,serverless-framework,serverless-offline,bref}","2022-03-08 10:20:56+02","2024-05-17 04:50:10.336658+03","I am trying to run a Symfony application with Bref and serverlessoffline I know that Bref does not officially support serverlessoffline but I want to give it a shot this thread httpsgithub combrefphpbrefissues875 implies that it should be possible but I am not getting the error described there yet When I run sls invoke local f MyLambda I get this error errorTypeexitErrorerrorMessageRequestId 09256631dcc71775350eb0c10a2c9c00 Error Could not find valid bootstrap s [vartaskbootstrap optbootstrap] So I assume that serverlessoffline fails to get the layer correctly The directory serverlesslayers contains a substructure php81fpm18 for the PHP layer but it is empty What is important is that I am running this setup in a development Docker container I mounted the docker socket so the Docker daemon on the host is used The serverless yml looks like this simplified I am happy to provide further information please let me know Do not hesitate to suggest lowlevel things as I am quite new to this ecosystem Thanks for your help "
76831028,"Cannot find module/ layer","https://stackoverflow.com/questions/76831028/cannot-find-module-layer","{aws-lambda,serverless-framework,aws-serverless}","2023-08-03 19:15:54+03","2024-05-17 05:33:50.110422+03","Having some issues accessing my layer from another lambda Here is a portion of my serverless yaml Here is my folder layout And here is my lambda attempting to import the layer"
71413205,"Serverless framework can't connect to existing REST API in AWS","https://stackoverflow.com/questions/71413205/serverless-framework-cant-connect-to-existing-rest-api-in-aws","{python,amazon-web-services,aws-api-gateway,serverless,serverless-framework}","2022-03-09 17:00:44+02","2024-05-17 04:50:11.808631+03","Hello and thanks in advance for the help Im trying to connect my serverless file to an existing API Rest in AWS but when I make the deploy it fails with the message CREATE_FAILED ApiGatewayResourceOtherversion AWSApiGatewayResource Resource handler returned message Invalid Resource identifier specified Here is the configuration in my serverless file and the API in the cloud"
71418526,"How to redirect routes from cloudfront to an API Gateway that contains multiple services created by serverless framework?","https://stackoverflow.com/questions/71418526/how-to-redirect-routes-from-cloudfront-to-an-api-gateway-that-contains-multiple","{amazon-web-services,aws-api-gateway,amazon-cloudfront,serverless-framework,aws-lambda-edge}","2022-03-10 03:32:01+02","2024-05-17 04:50:11.995839+03","I created an API Gateway using AWS CDK and I am using the serverless framework to create 3 different APIs using the same API Gateway My API Gateway structure looks like this I configured API Gateway as the origin of a cloudfront redirecting requests coming from domainapi to API Gateway The problem is that the path in API Gateway needs to match the selected path in cloudfront so I would have to change it to something like This solution would be ok but I cannot share the api path between multiple different services using the serverless framework I would like the API Gateway rootPath to be api and not but I have not been able to perform this configuration with the CDK I wish I had something like this is it possible So that requests with api were redirected by cloudfront to API Gateway but could be defined as service1 in the service not apiservice1 "
71470120,"Node.js POST request working correctly in local but always giving 404 not found after deployment","https://stackoverflow.com/questions/71470120/node-js-post-request-working-correctly-in-local-but-always-giving-404-not-found","{node.js,amazon-web-services,aws-lambda,serverless-framework,insomnia}","2022-03-14 15:19:06+02","2024-05-17 04:50:13.069121+03","I want to create an endpoint where others can post the data and then I can use it for further operations I am using lambda and serverless framework for deployment It is working fine in my local but each time I deploy it gives a 404 not foundError There are no issues in deployment I get the following message in insomnia when testing the API Cannot POST testupdate test is my basePath I have crossverified the domains and they are exactly the same as the ones present in serverless yml file Currently I have the following code for the post request The above code is present in index js in routes folder The lambda function present in serverless yml file is as following I am also not getting any error in cloudwatch logs and cannot find the root cause of the issue Any help would be appreciated Thanks in advance EDIT It is working with the domain address mentioned in lambda in aws the one automatically assigned by aws but not working with the domain address I have given in the serverless yml file Any fixes for this"
71488345,"Serverless Framework deprecation issue I can't fix","https://stackoverflow.com/questions/71488345/serverless-framework-deprecation-issue-i-cant-fix","{serverless,serverless-framework}","2022-03-15 20:02:17+02","2024-05-17 04:50:15.11307+03","When I try to install serverless framework I get the following deprecations I have run an npm install on each individual package Npm says the package installs worked but it does not change the sls output I reinstalled Windows thinking I may have changed a config file at some point still the exact some output even after reinstall I am running Windows 10 I am stuck and any help would be appreciated C\Users\Usernpm install g serverless npm WARN deprecated [email protected] The querystring API is considered Legacy new code should use the URLSearchParams API instead npm WARN deprecated [email protected] Please upgrade to latest formidable or formidable Check these notes npm WARN deprecated [email protected] The querystring API is considered Legacy new code should use the URLSearchParams API instead npm WARN deprecated [email protected] The querystring API is considered Legacy new code should use the URLSearchParams API instead npm WARN deprecated [email protected] Please upgrade to version 7 or higher Older versions may use Math random in certain circumstances which is known to be problematic See httpsv8 devblogmathrandom for details npm WARN deprecated [email protected] Please upgrade to v7 0 2 of superagent We have fixed numerous issues with streams formdata attach filesystem errors not bubbling up ENOENT on attach and all tests are now passing See the releases tab for more information at httpsgithub comvisionmediasuperagentreleases "
71494723,"Deployment failing after deleting API Gateway. How to recover?","https://stackoverflow.com/questions/71494723/deployment-failing-after-deleting-api-gateway-how-to-recover","{amazon-web-services,aws-lambda,aws-api-gateway,serverless,serverless-framework}","2022-03-16 09:41:55+02","2024-05-17 04:50:15.800062+03","After I removed the API gateway manually via the aws console because changing the configuration in my serverless yml file didnt seem to change the Gateway configuration anymore Now deployment fails with An error saying ApiGatewayMethodGet Template error API Gateway RestAPI dj1ivqgipb does not exist I understand that this is an error caused by me but can anyone please hint me into the direction of how to recover from this httpsi stack imgur comrzr8S png"
70727036,"!Join in Serverless Framework is broken","https://stackoverflow.com/questions/70727036/join-in-serverless-framework-is-broken","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-01-16 02:55:08+02","2024-05-17 04:50:17.165617+03","I have this block of code where I try and get a sourceArn for this block I realize the sourceArn is invalid in this example but so is the viewed output from Serverless "
70735658,"502 Bad Gateway Error on Serverless Framework Express Rest-API","https://stackoverflow.com/questions/70735658/502-bad-gateway-error-on-serverless-framework-express-rest-api","{amazon-web-services,express,aws-lambda,amazon-dynamodb,serverless-framework}","2022-01-17 01:39:07+02","2024-05-17 04:50:18.274612+03","I am trying to build a express restapi with the serverless framework with the following code I have a working POST request method to the path fruits but the following GET request method throws a 502 Bad Gateway error I have set up a serverless yml as follows Any help is much appreciated "
70742819,"NestJS Swagger UI generation for API Gateway","https://stackoverflow.com/questions/70742819/nestjs-swagger-ui-generation-for-api-gateway","{nestjs,swagger-ui,serverless-framework,nestjs-swagger,serverless-express}","2022-01-17 14:17:49+02","2024-05-17 04:50:19.350335+03","I am having trouble creating an endpoint to serve the swagger documentation The only way I can do it locally is if the path has a double slash at the end localhost3003devswagger If I omit one of the forward slashes it returns a 404 for the path localhost3003swagger without dev Once deployed API Gateway will return message Forbidden for either swagger endpoint with or without How can I get the API Gateway swagger endpoint to return the swagger UI I am not sure if I have missed some steps Below are the main ts for my NestJS application as well as the serverless yml and here is a sample repo with minimum setup to duplicate my issue httpsgithub comMRdgzserverlessnestjswagger"
70745945,"Serverless offline start error due to MongoDB connection string","https://stackoverflow.com/questions/70745945/serverless-offline-start-error-due-to-mongodb-connection-string","{node.js,serverless-framework,mongodb-atlas}","2022-01-17 18:28:24+02","2024-05-17 04:50:20.439586+03","I am testing a REST API locally The beginning of my serverless yml file looks like this When I run sls offline start skipCacheInvalidation it gives me the following error The config js file is in the root directory and looks as follows I am not sure what the issue could be Any help you can provide would be greatly appreciated "
70748365,"Serverless framework is ignoring CLI options","https://stackoverflow.com/questions/70748365/serverless-framework-is-ignoring-cli-options","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-01-17 22:44:39+02","2024-05-17 04:50:21.529621+03","I am trying to dynamically pass in options to resolve when deploying my functions with serverless but they are always null or hit the fallback I have also tried both yield missing but why also fails if I try with space instead of In my github action template I defined the following In addition I explicitly set the working directory for this stage like so In my serverless yml I added the following sls will read the contents from the file and load them properly"
70755219,"Is there a way to debug Serverless Framework Typescript functions deployed to AWS Lambda, without using serverless-offline?","https://stackoverflow.com/questions/70755219/is-there-a-way-to-debug-serverless-framework-typescript-functions-deployed-to-aw","{typescript,amazon-web-services,aws-lambda,serverless-framework,serverless-offline}","2022-01-18 11:56:13+02","2024-05-17 04:50:22.339559+03","What is the best way to debug Typescript Serverless framework functions deployed to AWS Lambda without using serverlessoffline package My project is quite reliant on other AWS services such as AWS Cognito SNS SQS etc and other external services that debugging live deployed Lambda code looks like the best option if possible I am starting to question Typescript as best choice for Lambda as its transpiles to optimized ES5 Javascript which is not suitable for live editing via AWS Lambda online editor What to use in complex AWS environments"
70755557,"Error when deploying serverless application in python","https://stackoverflow.com/questions/70755557/error-when-deploying-serverless-application-in-python","{amazon-web-services,docker,serverless,serverless-framework}","2022-01-18 12:24:54+02","2024-05-17 04:50:23.288213+03","After I signed in in my serverless account and then I tried to deploy my application on Amazon it shows me this error My application is with python and I have installed serverlesspythonrequirements and it is my package json like this Also in my serverless yml I have those How to solve this one"
70770618,"Serverless deploy - Stack policy ignoring condition and blocking update::delete on all resources","https://stackoverflow.com/questions/70770618/serverless-deploy-stack-policy-ignoring-condition-and-blocking-updatedelete","{aws-lambda,aws-cloudformation,serverless-framework}","2022-01-19 12:32:06+02","2024-05-17 04:50:24.178621+03","I am trying to apply a very simple stack policy within my serverless yml which otherwise works fine to prevent lambda aliases from being deleted relevant portion below However when I try to deploy I get the following error Serverless Error An error occurred AppName Action denied by stack policy Statement [1] does not allow [UpdateDelete] for resource [] I have followed the documentation here why does my policy block [UpdateDelete] for all resources instead of just ones of type AWSLambdaAlias"
70780069,"Handle an S3 'miss' with a lambda using serverless framework","https://stackoverflow.com/questions/70780069/handle-an-s3-miss-with-a-lambda-using-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2022-01-20 02:13:20+02","2024-05-17 04:50:25.010273+03","Noting the architecture design taken from this deprecated AWS documentation page httpsaws amazon comblogscomputeresizeimagesontheflywithamazons3awslambdaandamazonapigateway With each step described Steps 37 feel somewhat straight forward but how do you get an S3 bucket to configure a routing rule to redirect upon a missing object Specifically this neesd to be done in serverless framework In theory an updated version of this concept is laid out in the cloudformation template here httpsdocs aws amazon comsolutionslatestserverlessimagehandlertemplate html but I am not seeing any code in that template that configures an S3 bucket I follow deeper to their gitlab repo and it seems they are deploying with the awssdk httpsgithub comawssolutionsserverlessimagehandlerblobmainsourcecustomresourceindex ts"
70783114,"How to add the service name using env vairables in serverless.yml","https://stackoverflow.com/questions/70783114/how-to-add-the-service-name-using-env-vairables-in-serverless-yml","{python-3.x,amazon-web-services,boto3,serverless,serverless-framework}","2022-01-20 08:45:00+02","2024-05-17 04:50:26.116935+03","I am trying to set the serverless service name from the env file I have written it as It worked perfectly in previous versions of serverless framework However since I upgraded it to the latest version it has started throwing error stating I have tried setting the service name manually and it works like charm But the with env variable it stops working I have added all the plugins properly and the env variables works on different sections like resources and provider It just not work in service name serverless yml"
70802848,"Algolia search query deformed inside Lambda function(using Serverless Framework) but works fine in Express","https://stackoverflow.com/questions/70802848/algolia-search-query-deformed-inside-lambda-functionusing-serverless-framework","{javascript,amazon-web-services,aws-lambda,serverless-framework,algolia}","2022-01-21 14:24:12+02","2024-05-17 04:50:26.583526+03","I am getting the Algolia search requestquery from the frontend into my Lambda function which then executes the request and returns the result The format of the request is an array like After that I search using their API client Then the search query happens but I get 0 hits and when I console log results the query field is deformed but the results should be like below This is what I get when I console log on express server and I get the desired hits Notice how it sends an object with results field and the query attribute contains only the searched text My issue is why it console log 2 different things on lambda and express I am sending in the same requests array and using the same algolia API search in both occasions "
70804311,"Serverless HTTP API - serverless-domain-manager Error: Failed to find a stack","https://stackoverflow.com/questions/70804311/serverless-http-api-serverless-domain-manager-error-failed-to-find-a-stack","{amazon-web-services,express,aws-lambda,aws-api-gateway,serverless-framework}","2022-01-21 16:15:02+02","2024-05-17 04:50:27.766508+03","I am trying to deploy the basic serverless express api example httpsgithub comserverlessexamplestreev2awsnodeexpressapi with a custom domain It uses HTTP Api instead of the older REST API gateway The domain has been set up successfully certificate in place etc but when I run serverless deploy it throws an error Adding SLS_DEBUG revealed Clearly the stack exists but serverless domain manager cannot find it Can I not use custom domain via serverlessdomainmanager with HTTP api The documentation only shows a manual way to do this Any help would be greatly appreciated thanks "
68513570,"AWS EventBridge Cron Timezone - Fire on Specific Local Time","https://stackoverflow.com/questions/68513570/aws-eventbridge-cron-timezone-fire-on-specific-local-time","{amazon-web-services,aws-event-bridge}","2021-07-24 20:22:53+03","2024-05-17 04:50:28.590504+03","We have set an EventBridge to trigger a Lambda It should run every day at 930AM Local time US ESTEDT in my case The problem is the date seems to be set in EventBridge by UTC Is there a way to get this to always be based on a specific timezone IE 930AM regardless of the season"
70807725,"Serverless Framework - Variables resolution error","https://stackoverflow.com/questions/70807725/serverless-framework-variables-resolution-error","{amazon-web-services,yaml,serverless-framework}","2022-01-21 21:18:08+02","2024-05-17 04:50:29.588023+03","I have serverless yaml script that use to work before next after updating to newer version of SLS 2 72 0 I start getting warning my custom section looks like this how I can fix this warning"
70846549,"How to prevent recreation of subscription filters during serverless deployment","https://stackoverflow.com/questions/70846549/how-to-prevent-recreation-of-subscription-filters-during-serverless-deployment","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-01-25 09:52:33+02","2024-05-17 04:50:30.613534+03","I have a function lambda that is subscribed to cloudwatch logs of another function The IaC for this looks like this The subscription filter is already created for this in AWS but during deployment i get the following error I am not sure why serverless keeps attempting to recreate the subscription How do I prevent serverless from attempting to recreate the subscription during deployment and just ignore creating it if it is already there"
70876546,"Serverless error - unsupported function event - Kafka msk","https://stackoverflow.com/questions/70876546/serverless-error-unsupported-function-event-kafka-msk","{serverless,serverless-framework,aws-serverless}","2022-01-27 09:56:54+02","2024-05-17 04:50:31.714484+03","I have the following configuration for serverless Lambda which is supposed to be triggered by a Kafka MSK Using Serverless 2 72 2 Yet when deploying I get the error event[0] unsupported function event Please advise what I am not configuring properly "
70059531,"Serverless Framework: S3 Lambda Trigger with bucket from resources","https://stackoverflow.com/questions/70059531/serverless-framework-s3-lambda-trigger-with-bucket-from-resources","{amazon-web-services,amazon-s3,aws-lambda,aws-cloudformation,serverless-framework}","2021-11-21 23:43:33+02","2024-05-17 04:50:33.693455+03","I want to create a Lambda function that is triggered from a S3 bucket created within the same CloudFormation stack but cannot get the syntax quite right The event should only be fired when an object is uploaded to uploads I also need to specify some bucket properties CORS S3 bucket definition in resources Event in function definition I do not want to use existing true because it creates some helper objects for this simple task I cannot find any documentation or examples that fit my case "
70070354,"Access Denied when trying to PutObject to s3","https://stackoverflow.com/questions/70070354/access-denied-when-trying-to-putobject-to-s3","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2021-11-22 17:59:53+02","2024-05-17 04:50:35.144423+03","I am using the Serverless Framework to create a lambda that saves a CSV to a S3 bucket I already have a similar lambda that does this with another bucket This is where it gets weird I can upload the CSV to the first S3 bucket I created many months back but I am getting an AccessDenied error when uploading the same CSV to the new S3 bucket which was as far as I can tell created in the exact same way as the first via the serverless yml config The error is These are the relevant bits from the serverless yml Lambda code simplified "
70073044,"Best way to share common microservices with multiple teams that will each have their own databases","https://stackoverflow.com/questions/70073044/best-way-to-share-common-microservices-with-multiple-teams-that-will-each-have-t","{git,amazon-web-services,microservices,serverless,serverless-framework}","2021-11-22 22:16:21+02","2024-05-17 04:50:35.705428+03","We are working on a serverless project that uses serverless frameworks A couple of microservices will be shared across multiple projects at least 2 but each instance of the microservice will have its own database What is the best way to share these microservices One of the projects uses bitbucket pipelines another one uses code pipeline The AWS accounts for these projects are separate as well What is the best way to share the microservices"
70106678,"How to enable experimental features of nodejs in serverless framework or AWS lamda","https://stackoverflow.com/questions/70106678/how-to-enable-experimental-features-of-nodejs-in-serverless-framework-or-aws-lam","{node.js,amazon-web-services,aws-lambda,serverless,serverless-framework}","2021-11-25 06:29:22+02","2024-05-17 04:50:36.828446+03","I am using ServerlessFramework for my nodejs application but application requires the experimental features of nodejs to be enabled how can I do this in serverless using sls deploy cmd or direct on AWS lambda"
70132116,"model.hasMany called with something that's not a subclass of Sequelize.Model","https://stackoverflow.com/questions/70132116/model-hasmany-called-with-something-thats-not-a-subclass-of-sequelize-model","{aws-lambda,orm,sequelize.js,serverless-framework,aws-serverless}","2021-11-27 04:45:55+02","2024-05-17 04:50:37.797397+03","I am getting the below error whenever I tried to call any call from serverless framework lambda IMPORTANT Below code is the answer for the above error You might missed any steps So you can refer and fix Thanks Anatoly who helped me to solve the problem Product model Image model Category model This is the config file where we initialize sequelize Config file Here we are calling product details Calling function"
70158096,"Why is this CDK app giving ""Internal Failure"" with cdk deploy?","https://stackoverflow.com/questions/70158096/why-is-this-cdk-app-giving-internal-failure-with-cdk-deploy","{typescript,amazon-web-services,serverless-framework,aws-cdk,aws-codepipeline}","2021-11-29 16:36:54+02","2024-05-17 04:50:38.874395+03","I am attemping to create a CodePipeline that has 1 stage with 1 stack NextStack On cdk deploy I am getting CREATE_FAILED AWSCodePipelinePipeline TodolistPipelinePipeline Internal Failure without any other logs What could be causing this error bin ts pipelinestack ts frontendstage nextstack"
70171372,"serverless - setting injections \ compliance","https://stackoverflow.com/questions/70171372/serverless-setting-injections-compliance","{serverless,serverless-framework}","2021-11-30 14:53:43+02","2024-05-17 04:50:39.979412+03","Is there any solution to enforce compliance in serverless or to inject certain configuration on deployment we have quite a few repositories\services maintained by different developers and teams We are now considering making some crossorganizational configuration changes such as changing the deploymentbucket used the default until now or disabling lambda versioning the issue is that these changes must be the same across all repositories and serverless yaml files so we would like to ensure that each maintainer is using the correct settings All of our deployments are triggered via a jenkins pipeline that runs sls deploy "
70192606,"serverless python error: No such file or directory: '/tmp/_temp-sls-py-req' -> '/tmp/sls-py-req'","https://stackoverflow.com/questions/70192606/serverless-python-error-no-such-file-or-directory-tmp-temp-sls-py-req","{python-3.x,amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2021-12-01 23:38:36+02","2024-05-17 04:50:40.711419+03","I am working on a project using serverless framework and python I have used serverlesspythonrequirements plugins and it still giving me an error The deployment is fine but every time I trigger the function it gives me this error Heres a piece of my serverless yml file and heres a piece of my code that causing the error All I knew was it was giving an error when importing unzip_requirements line 2 I followed the documentation and it requires me to do the import The cause of the error seems like because it cannot find something on lambda tmp folder "
70225389,"Best Practices to deploy serverless app (s3, api gateway, lambda, cognito...) with AWS CDK","https://stackoverflow.com/questions/70225389/best-practices-to-deploy-serverless-app-s3-api-gateway-lambda-cognito-wi","{amazon-web-services,serverless-framework,aws-cdk,aws-serverless,serverless-architecture}","2021-12-04 11:59:01+02","2024-05-17 04:50:41.735827+03","I started to build an App using the serverless services of AWS and I am now on the point where I want to put it all into AWS CDK I also want to create a CICD pipeline using CodePipeline to automatically deploy the infrastructure by changes To use the API gateway interfaces I generated the SDK for Javascript from the AWS console and included it into the website folder manually Is it possible to generate the SDK and include it in the project or maybe some random bucket automatically with CDK Are there some best practices regarding the provisioning of such a Infrastructure in an automated way using a CICD Pipeline"
70244709,"folder structure for serverless framework handlers","https://stackoverflow.com/questions/70244709/folder-structure-for-serverless-framework-handlers","{serverless-framework}","2021-12-06 11:22:47+02","2024-05-17 04:50:42.808455+03","So I am working on a serverless framework project and am fairly new to it and I am struggling to choose a folder structure for my lambda handlers for example say I have a user path and I want to do CRUD operations for users in my project directory I would have the following the index js would contain all of the handlers e g module exports createUserupdateUserdeleteUsergetUser the alternative would be to use a folder structure with the following are there any implications of using the first approach in comparison to second approach when deploying the serverless application note the first approach is not using a mono function rather just having all the handlers for the path inside that one module "
70287332,"serverless framework: Connecting additional resources (sqs) to api gateway (httpapi)","https://stackoverflow.com/questions/70287332/serverless-framework-connecting-additional-resources-sqs-to-api-gateway-http","{aws-api-gateway,amazon-sqs,serverless-framework,aws-http-api}","2021-12-09 09:17:29+02","2024-05-17 04:50:43.582342+03","I have an httpapi apigateway that I need to integrate directly to an sqs queue directly I found this thread from over a year ago httpsforum serverless comtapigatewayintegrationwithsqs7339 that suggested two plugins but as mentioned in the thread both seem outdated unmaintained and do not support httpapi only restapi Is there a different plugin available or would this feature be supported natively in the new upcoming version 3 of serverless any other alternative ideas for accomplishing this Any help will be deeply appreciated"
70297377,"Add API endpoint to invoke AWS Lambda function running docker","https://stackoverflow.com/questions/70297377/add-api-endpoint-to-invoke-aws-lambda-function-running-docker","{r,amazon-web-services,docker,serverless-framework}","2021-12-09 22:14:49+02","2024-05-17 04:50:44.68928+03","Im using Serverless Framework to deploy a Docker image running R to an AWS Lambda This works fine and I can log into AWS and invoke the lambda function But I also want to invoke by doing a curl to it so I added an events property to the functions section However when I deploy with serverless it does not output the API endpoint And when I go to API Gateway in AWS I dont see any APIs here What am I doing wrong EDIT As per Rovelcio Juniors answer I went to AWS CloudFormation Stacks rlambdadev Resources But there is now Api Gateway listed in the resources EDIT Heres my DockerFile And the output when I deploy"
70298147,"Best way to add default rows in DynamoDB table when the stack is deployed","https://stackoverflow.com/questions/70298147/best-way-to-add-default-rows-in-dynamodb-table-when-the-stack-is-deployed","{amazon-dynamodb,microservices,serverless-framework,seeding}","2021-12-09 23:47:48+02","2024-05-17 04:50:45.653331+03","There is some application default I would like to be added to the DynamoDB table of each of the microservices when the stack is deployed for the first time I am using a Serverless framework What is the best way to do it I came across this httpswww npmjs compackageserverlessdynamodbseed but because of the possibility of overwriting data in the table I would like to use a safer option "
70302107,"Why do I get the error ""Code uncompressed size is greater than max allowed size of 272629760"" only for some deployment targets?","https://stackoverflow.com/questions/70302107/why-do-i-get-the-error-code-uncompressed-size-is-greater-than-max-allowed-size","{aws-lambda,aws-cloudformation,serverless-framework,aws-codepipeline,aws-lambda-layers}","2021-12-10 09:11:35+02","2024-05-17 04:50:46.740125+03","As part of an AWS CodePipeline in an AWS CodeBuild action I deploy resources created with the Serverless Framework to a UAT user acceptance testing stage The pipeline runs in its own tooling AWS account first deploying crossaccount into a separate UAT account then deploying crossaccount into a separate Production account The first deployment to UAT completes successfully whereas the succeeding deployment to Production fails with the error This started to happen once I introduced the usage of a private Lambda Layer The total size of all files seems way less than the maximum allowed size This question is not so much about the actual error there already exists a similar question I rather wonder why the behavior is inconsistent varying with the deployment targets Because the limits for the Lambda Function package size including the usage of Lambda Layers should be the same for all environments "
70304661,"Serverless Framework | How to use wildcard (*) in prefix path","https://stackoverflow.com/questions/70304661/serverless-framework-how-to-use-wildcard-in-prefix-path","{serverless,serverless-framework,aws-serverless}","2021-12-10 12:39:39+02","2024-05-17 04:50:47.7183+03","I am using Serverless Framework to create an S3 Lambda trigger Question Is it possible to use a wildcard in the prefix path I want the lambda to be triggered if object key is privatefooprofilepictures or privatebarprofilepictures The above example does not seem to work lambda not triggered "
66381773,"How to create login endpoint for serverless app with aws cognito service?","https://stackoverflow.com/questions/66381773/how-to-create-login-endpoint-for-serverless-app-with-aws-cognito-service","{node.js,amazon-web-services,authentication,amazon-cognito,serverless-framework}","2021-02-26 07:32:23+02","2024-05-17 04:52:25.69797+03","I need to create login endpoint using cognito and serverless framework i already created signUP and confirm email endpoints but whatever i do with logIn endpoint i get error message Internal server error I try everything but still get this error Help me please This is my login endpoind code Config file This object i use for returning responses from lambdas handlers"
70322882,"Why does `serverless` always try to resolve read default value?","https://stackoverflow.com/questions/70322882/why-does-serverless-always-try-to-resolve-read-default-value","{amazon-web-services,serverless-framework}","2021-12-12 10:52:43+02","2024-05-17 04:50:49.257588+03","I am using serverless framework for deploying to AWS Below is the version The problem I have is how to let sls skip default value for a variable Below is my configuration It has a variable dbStreamArn which will be assigned if there is a command line parameter dbStreamArn if not it tries to read it from a cloudformation output However when I run sls deploy dbStreamArn xxxx I got an error Trying to request a non exported variable from CloudFormation It seems that sls tries to get the default value even there is a command line parameter Is there a way to let sls skip parsing the default value"
69381940,"Can't activate CORS in serveless with only default endpoint","https://stackoverflow.com/questions/69381940/cant-activate-cors-in-serveless-with-only-default-endpoint","{amazon-web-services,aws-cloudformation,serverless-framework,serverless}","2021-09-29 18:49:51+03","2024-05-17 04:50:50.463278+03","I have a serverless file with only the default endpoint and I am deploying in AWS Everything seems to work fine when I make the petition to postman but when I try to implement this endpoint to my frontend in Vue localhost I get the following error has been blocked by CORS policy Response to preflight request does not pass access control check It does not have HTTP ok status I have already tried to activate the CORS options in AWS but it does nott work Thanks for your time and help"
69386274,"Serverless framework: All of a sudden receiving ""ERROR	TypeError: e is not a function"" after deployment of service","https://stackoverflow.com/questions/69386274/serverless-framework-all-of-a-sudden-receiving-errortypeerror-e-is-not-a-fun","{javascript,serverless-framework}","2021-09-30 04:44:42+03","2024-05-17 04:50:51.289413+03","Dear Stackoverflow community I am using the serverless framework to deploy my JS services to AWS It always worked perfectly but since today after deploying a little change to one of my functions code I am receiving the following error when calling any function in the service I do not understand where this comes from I did not change the serverless yml at all also I did not change any basics of the function code only a small change in an SQL statement has nothing to do with the JavaScript code at all I have read the following question Serverless framework TypeError e is not a function but nothing described there fits to my situation Some more context information Does anybody have an idea where this might come from all of a sudden EDIT 1 I have also already upgraded the serverless framework did not help EDIT 2 The strange thing is that this problem occured all of a sudden while I had not changed any code that is why I did not think posting any code would help Now I am also experiencing this problem in further services that I want to deploy I cannot deploy any function any more As soon as I deploy a single function or a full service that did not have the issue before the issue arises there as well PatrykMilewski I checked the Lambda console and what I realized is that after deploying the file that contains my function function js IS EMPTY whereas for services that had been deployed previously the file IS NOT EMPTY I would assume this might be the reason for the error message Could this be caused by a bug in the serverless framework EDIT 3 I just remembered that I recently upgraded Mac OS to the latest version including new XCode Command Line Tools v13 From a time perspective this could coincide with the issue popping up could this be related to the problem EDIT 4 Some more environment information From my operating system From Serverless console output"
69393069,"Serverless: Deprecation warning: Variables resolver reports following resolution errors","https://stackoverflow.com/questions/69393069/serverless-deprecation-warning-variables-resolver-reports-following-resolution","{amazon-web-services,serverless-framework,serverless,aws-serverless}","2021-09-30 13:25:19+03","2024-05-17 04:50:52.392994+03","[edited] After attempting to deploy my app to AWS I get these errors from the Serverless framework Steps to reproduce the error In short these are the remaining errors console serverless yaml"
69407838,"How to use env file per stage and region?","https://stackoverflow.com/questions/69407838/how-to-use-env-file-per-stage-and-region","{serverless-framework}","2021-10-01 14:45:12+03","2024-05-17 04:50:52.949996+03","I know that I can use either of the two options below to resolve serverless variables with values from env stage files But how would I do if I need my env file to also be per region e g env stage region "
69416876,"Serverless Framework with Typescript and MySql simple Project to connect AWS API Gateway ,Lambda and Cognito","https://stackoverflow.com/questions/69416876/serverless-framework-with-typescript-and-mysql-simple-project-to-connect-aws-api","{mysql,typescript,amazon-web-services,serverless-framework,knex.js}","2021-10-02 12:23:52+03","2024-05-17 04:50:53.86045+03","I am new to TypeScript and want to write a very simple code with Serverless Framework Typescript AWS API Gateway AWS Lambda and AWS RDS MySql and Cognito Also I want to use Knex as well What I need is for this project to receive the JSON object as a request through API gateway GET for return data and Post for inserting to MySql DB that is it I have tried the typescript template at the serverless website and lots of other templates and sample projects on the internet but none of them support all these steps as simple there are some but they have lots of other things which is too complicated for me to learn all of them at this stage So I was wondering if you know any simple project that can do this or if not I would be much grateful if you can let me know how I add Serverless config to a normal typescript project and make it automate for AWS I have already searched StackOverFlow for a similar question but could not find this if there is please let me know I will delete this then Thanks in advance "
69423637,"Unable to Delete an AWS Lambda function","https://stackoverflow.com/questions/69423637/unable-to-delete-an-aws-lambda-function","{amazon-web-services,aws-lambda,serverless-framework}","2021-10-03 09:39:06+03","2024-05-17 04:50:54.816023+03","I am trying to delete the Lambda function it is throwing an error An error occurred when deleting your function You do not have sufficient permission Access denied I never got this issue before I even tried using an IAM user with Administrator access permissions Still the same issue Also I am trying to make deployments to a Lambda function which is also throwing an error An error occurred FunctionNameLambdaFunction Resource handler returned message null Service Lambda Status Code 403 Request ID xxxxxxxxxxxxxxxxxxxx1071e7f17536 Extended Request ID null RequestToken xxxxxxxxxxxxxxxxxxxx9602c6f12b36 HandlerErrorCode AccessDenied I am not able to modify anything on the Lambda Console not even increase a functions memory limit All other AWS services are working normally This started happening after deleting a specific cloud formation stack by skipping its Lambda function "
69430570,"Why am I getting a timeout when executing a query against an Aurora Serverless instance from a Go lambda","https://stackoverflow.com/questions/69430570/why-am-i-getting-a-timeout-when-executing-a-query-against-an-aurora-serverless-i","{aws-lambda,amazon-rds,serverless-framework,aws-sdk-go,aws-aurora-serverless}","2021-10-04 03:18:50+03","2024-05-17 04:50:55.85322+03","This is my first attempt at using a lambda with Aurora Serverless postgres I wrote some code to essentially be able to check that the connection is working but it is not clear to me why I am getting a timeout when I try to execute the query This code seems pretty straightforward Is there something I am missing about the serverless environment"
48833923,"Managing EC2 instances via Serverless?","https://stackoverflow.com/questions/48833923/managing-ec2-instances-via-serverless","{serverless-framework}","2018-02-16 19:53:06+02","2024-05-17 05:08:55.757138+03","How do you use the Serverless framework to manage EC2 instances that Lamdas interact with Is there something built into the platform or do you have to manually create cloud formation instances like ImageId foobar"
69435456,"NestJS and Serverless - handler 'handler' is not a function","https://stackoverflow.com/questions/69435456/nestjs-and-serverless-handler-handler-is-not-a-function","{typescript,nestjs,serverless-framework,serverless}","2021-10-04 11:46:02+03","2024-05-17 04:50:56.907389+03","I am trying to implement NestJS as a AWS Serverless function using serverlessframework I was following this official documentation and my code is exactly as in the documentation However when I launch it I get the error Failure offline handler handler in [ ] is not a function If I go into my compiled source code of main js and change the line exports handler handler to module exports handler handler it starts working I also tried to do change the code in main ts to accommodate this but it does not help since webpack is compiling it differently then Here is my main ts Here is my serverless yml Here is my webpack config js And lastly here is my tsconfig json Am I missing some config on webpack Or maybe change in the typescript config files I have no idea and documentation says that it should just work however it does not Theoretically all I need is it to be module exports handler handler instead of exports handler handler in my compiled file because as I said I did change it and it started to work properly This is the interim fix I am using but obviously this is wrong way of approaching it "
69435619,"Can we have multiple serverless clouds in the same project?","https://stackoverflow.com/questions/69435619/can-we-have-multiple-serverless-clouds-in-the-same-project","{azure,aws-lambda,architecture,serverless-framework,serverless}","2021-10-04 11:57:27+03","2024-05-17 04:50:58.553199+03","I have a very small doubt and it is not related to the coding but the architecture so any help would be great I do not ask questions on Stack Overflow so please avoid if I did ask something wrong Case I am building an application that will run on AWS Lambda as well as Azure Serverless Is there any approach on how to reuse most of the development code in both the clouds also I am thinking to use their respective databases i e AWS RDS and Azure Postgres Will that be the right solution And I Have followed the article multicloud solutions azure"
69437500,"Is possible to assign already created AWS Lambda to a AWS REST API Gateway Resource via Serverless framework","https://stackoverflow.com/questions/69437500/is-possible-to-assign-already-created-aws-lambda-to-a-aws-rest-api-gateway-resou","{amazon-web-services,aws-lambda,serverless-framework}","2021-10-04 14:12:39+03","2024-05-17 04:50:58.971186+03","I have 5 Rest APIs in AWS api gateway which need to share a already created AWS lambda for its resources Manually using the console i was able to do that but i was not able to implement it in serverless framework Is there any way possible to implement this scenario with serverless framework"
69446696,"Validating api using serverless framework","https://stackoverflow.com/questions/69446696/validating-api-using-serverless-framework","{python,amazon-web-services,aws-lambda,serverless-framework}","2021-10-05 07:54:00+03","2024-05-17 04:50:59.716884+03","I am using Serverless framework The method I am using is GET but documentationblogs have examples related to POST method Basically I have cards in my website and each card has id associated with it so when user clicks on particular card that id is sent to backend we fetch data related to that id from database and return it to UI we can see data related to that card on UI How can I implement request validation for it do not want to write validation inside lambda function "
69461997,"How to use serverless framework in github actions using github actions OIDC feature","https://stackoverflow.com/questions/69461997/how-to-use-serverless-framework-in-github-actions-using-github-actions-oidc-feat","{amazon-web-services,github-actions,serverless-framework}","2021-10-06 08:09:16+03","2024-05-17 04:51:00.668128+03","I have followed this question How can I connect GitHub actions with AWS deployments without using a secret key however i am trying to go one step further by dpeloying a lambda function using serverless what i have tried so far "
69463434,"In what order is the serverless file evaluated?","https://stackoverflow.com/questions/69463434/in-what-order-is-the-serverless-file-evaluated","{serverless-framework}","2021-10-06 09:50:14+03","2024-05-17 04:51:01.79826+03","I have tried to find out in what order the statements of the serverless file are evaluated maybe it is more common to say that variables are resolved I have not been able to find any information about this and to some extent it makes working with serverless feel like a guessing game for me As an example the latest surprise I got was when I tried to run I got an error message stating that env is not available at the time when stage is resolved This was surprising to me since I have been able to use env to resolve other variables in the provider section and there is nothing in the syntax to indicate that stage is resolved earlier In what order is the serverless file evaluated"
69468888,"Laravel Migrate to AWS RDS using Lambda","https://stackoverflow.com/questions/69468888/laravel-migrate-to-aws-rds-using-lambda","{laravel,aws-lambda,amazon-rds,serverless-framework,bref}","2021-10-06 15:52:53+03","2024-05-17 04:51:02.71419+03","I am looking to deploy a Laravel app on AWS Lambda The app requires a PostgreSQL database access The idea is am using Bref to deploy on AWS Lambda I created a RDS PostgreSQL database manually and updated the inbound rule and added the connection parameter to the env file and serverless yml template in the app After deploying the app I am receiving error SQLSTATE[42P01] Undefined table I belive the problem is that no migration occurred So the question is how to migrate from LaravelLambda to RDS Shall I use the artisan and the CLI Or there is a way to create an automated way to migrate Thanks"
69474445,"Serverless: OperationalError: ENOENT: no such file or directory, scandir '.serverless/requirements'","https://stackoverflow.com/questions/69474445/serverless-operationalerror-enoent-no-such-file-or-directory-scandir-serve","{deployment,serverless-framework,aws-serverless}","2021-10-07 01:38:30+03","2024-05-17 04:51:03.427602+03","I am getting this error when I am trying to deploy my changes in serverless I tried creating a serverlessrequirements folder but it gets deleted when I deploy I also installed serverlesspythonrequirements Do you know how to fix this or what causes this error This is the command I am using for deployment"
69497431,"Nodejs upload file to S3","https://stackoverflow.com/questions/69497431/nodejs-upload-file-to-s3","{javascript,node.js,amazon-s3,aws-lambda,serverless-framework}","2021-10-08 14:23:27+03","2024-05-17 04:51:04.459386+03","I am using Serverless Framework with AWS Lambda to upload filesimages to S3 The data come from a multipartformdata form so I get file s in binary format Example of POST request from REST client Insomnia Upload to S3 code The problem is files or images uploaded to S3 are corrupted The image httpxxxxx euwest3 amazonaws comxxx cannot be displayed because it contains errors I already set binaryMediaTypes in my Serverless file config for api gateway and the same in AWS API Gateway Binary Media Types config I set when means all media types API Gateway Config Have you ever encountered this problem "
54146467,"Can we run multiple yml files using serverless offline plugins","https://stackoverflow.com/questions/54146467/can-we-run-multiple-yml-files-using-serverless-offline-plugins","{node.js,amazon-web-services,serverless-framework,serverless,aws-serverless}","2019-01-11 12:21:07+02","2024-05-17 05:12:55.222457+03","I have multiple yml files in different folder then how I run locally all those files using serverless offline plugins"
68862938,"Serverless command ""invoke test"" not found. Run ""serverless help"" for a list of all available commands","https://stackoverflow.com/questions/68862938/serverless-command-invoke-test-not-found-run-serverless-help-for-a-list-of","{amazon-web-services,npm,serverless-framework,serverless,serverless-plugins}","2021-08-20 13:20:37+03","2024-05-17 04:51:06.503112+03","I have my serverless yml like below in my package json I have am following the httpsgithub comnordcloudserverlessjestplugin documentation when i run sls invoke test I get the error Serverless Error Serverless command invoke test not found Run serverless help for a list of all available commands I tried sls invoke test help but I get the same error "
68891382,"Serverless: Layers No file matches include / exclude patterns","https://stackoverflow.com/questions/68891382/serverless-layers-no-file-matches-include-exclude-patterns","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2021-08-23 10:55:44+03","2024-05-17 04:51:07.495142+03","My serverless yml file works fine as soon as I add layers I starting getting this error Serverless Error runtime Node js Note using layers to add certificates to lambda Serverless version 2 31 0"
68894895,"Microservices and reports in a serverless application","https://stackoverflow.com/questions/68894895/microservices-and-reports-in-a-serverless-application","{amazon-web-services,api,microservices,serverless-framework,serverless}","2021-08-23 15:03:54+03","2024-05-17 04:51:08.345343+03","We are using microservices API gateway Lamba dynamo Each microservice has its own database that is not directly touched by another microservice We are looking to introduce a Reporting microservice that will be called when customers request reports The reports will be generated based on data from databases of multiple other microservices As DynamoDB is not great with aggregates How should these reports be generated and stored How should reporting microservice access this data from other DBs that are owned by different microservices"
68935560,"Is there a way to rename a cloudformation stack name?","https://stackoverflow.com/questions/68935560/is-there-a-way-to-rename-a-cloudformation-stack-name","{amazon-web-services,aws-cloudformation,serverless-framework}","2021-08-26 08:59:40+03","2024-05-17 04:51:08.969374+03","I have a cloudformation stack which is generated from stack_master Resources are already created but I would like to put it into serverless framework I have already added the resources section but It creates new stack I want the stack to update existing stack and any updates to take from there Thanks"
68941817,"versioning microservices developed using Serverless framework","https://stackoverflow.com/questions/68941817/versioning-microservices-developed-using-serverless-framework","{git,amazon-web-services,microservices,serverless-framework,auto-versioning}","2021-08-26 15:57:03+03","2024-05-17 04:51:10.096278+03","Our project structure is We have the following branches Develop staging master deployed to their respective environments How should the microservices versioning be handled automatically We use CodePipelinecode build for CICD with a pipeline per branch strategy Respective Pipeline is triggered when code is merged from feature branch develop or develop staging or staging master How can we auto version the microservices"
68950864,"How to run multiple microservices configured on same custom domain, locally?","https://stackoverflow.com/questions/68950864/how-to-run-multiple-microservices-configured-on-same-custom-domain-locally","{serverless-framework,aws-serverless,serverless-offline}","2021-08-27 09:11:13+03","2024-05-17 04:51:11.049807+03","I have configured my backend following this article How to deploy multiple microservices under one API domain with Serverless I understand that deploying the services one by one is possible using the serverless offline plugin But the plugin creates multiple miniAPIGateways on different ports My front end does not know that It assumes that everything is deployed and ready to be used on one port If I want to let us say test out a feature that requires a valid session I cannot do that locally as my session and the feature are managed by 2 different services Any manually testing in this kind of situation is only possible once I have deployed all the changes This takes a lot of time Is there a way to deploy all the services on the same port behind single API gateway"
68955812,"Sentry.io on Next.Js + Serverless: Module not found: Error: Can't resolve 'webpack'","https://stackoverflow.com/questions/68955812/sentry-io-on-next-js-serverless-module-not-found-error-cant-resolve-webpa","{next.js,serverless-framework,sentry}","2021-08-27 15:17:08+03","2024-05-17 04:51:12.105234+03","After adding Sentry io with the automatic wizard it added sentrynextjs ^6 11 0 in package json I cannot build my Next js project anymore I tried to npm install savedev webpack but I am running in other errors like How can I fix this [EDIT] I also use Serverless component slsnext [email protected] to deploy on AWS My next config js contains"
68985606,"serverless Cannot have overlapping suffixes in two rules if the prefixes are overlapping for the same event type","https://stackoverflow.com/questions/68985606/serverless-cannot-have-overlapping-suffixes-in-two-rules-if-the-prefixes-are-ove","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-08-30 14:15:04+03","2024-05-17 04:51:13.236463+03","I am trying to deploy AWS Lambda using Serverless framework and have following in serverless yaml But when I deploy I get following error any idea what wrong I am doing here "
69007365,"What is the serverless.yml file on serverless framework?","https://stackoverflow.com/questions/69007365/what-is-the-serverless-yml-file-on-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-09-01 03:10:48+03","2024-05-17 04:51:14.319068+03","I have a short question The serverless yml of the serverless framework is a wrapper of aws cloudformation yml or how does it work"
69012620,"How to transform a Serverless framework yaml to template of Cloudformation?","https://stackoverflow.com/questions/69012620/how-to-transform-a-serverless-framework-yaml-to-template-of-cloudformation","{amazon-web-services,aws-cloudformation,serverless-framework}","2021-09-01 11:08:56+03","2024-05-17 04:51:15.161479+03","is there a way to get the transformed Cloudformation template from a serverless framework yaml via the console CLI or another way"
69043591,"Serverless Localstack lambda functions send requests to AWS when endpoints are specified","https://stackoverflow.com/questions/69043591/serverless-localstack-lambda-functions-send-requests-to-aws-when-endpoints-are-s","{amazon-web-services,aws-lambda,serverless-framework,localstack}","2021-09-03 10:40:04+03","2024-05-17 04:51:15.725015+03","I have a pretty normal localstack setup with this part in the dockercompose yml file and this is the serverlesslocalstack part I have in the serverless yml file You see I even tried different cases and endpointsFile property with the same result The problem I am having is that when I try to connect to the Secrets Manager or any other service my code is still trying to knock to the AWS service This part is going to try to reach this URL secretsmanager eucentral1 amazonaws com How can I make my code talk to the local service instances without if env hacks"
69043735,"Middy Node js+ Serverless + AWS lambda : How can use single handler for multiple end points?","https://stackoverflow.com/questions/69043735/middy-node-js-serverless-aws-lambda-how-can-use-single-handler-for-multiple","{node.js,aws-lambda,serverless-framework,middy}","2021-09-03 10:51:07+03","2024-05-17 04:51:16.762818+03","We have a project in node js with serverless architecture We are planning to use Middy for AWS lambda function implementation Our problem is that we do not want to create separate lambda function for each and every api end points We have very large application which might have more than 100 api end points We want to use handler in following way For ex We have functionality to manager user It include api endpoints like We want to use all these three end points using single lambda function as all three apis shares some logics and models "
69050618,"Best way to attach WAF with different rules for production and non-production env","https://stackoverflow.com/questions/69050618/best-way-to-attach-waf-with-different-rules-for-production-and-non-production-en","{amazon-web-services,serverless-framework,aws-serverless,web-application-firewall}","2021-09-03 21:15:07+03","2024-05-17 04:51:17.621987+03","We have CloudFront in front of the s3 bucket that serves our static files We would like to add WAF to our nonproduction environments with certain rules such as block traffic from outside IPs other than corporate VPN but not on the production WAF What is the best way to manage it in the Serverless framework"
69066223,"How to deploy a AWS Lambda Function conditionally, using Serverless Framework, only to prd stage","https://stackoverflow.com/questions/69066223/how-to-deploy-a-aws-lambda-function-conditionally-using-serverless-framework-o","{amazon-web-services,aws-lambda,serverless-framework}","2021-09-05 18:32:33+03","2024-05-17 04:51:18.676349+03","thank you for taking the time to read this post Im trying to deploy an AWS Lambda Function conditionally based on stage only for prd stage This lambda has a Role which deploys conditionally too I already achieved this by using cloudformation conditions on the resources block as shown below However I dont know how to make it work for the lambda function as it is in the functions block I dont have idea how to reference the condition From the serverless yml reference I decided to do what is shown below and it doesnt work Can someone help me to understand what am I doing wrong And also what would be the solution to make this work Thanks in advance"
69080779,"Apply rate based rules in serveless","https://stackoverflow.com/questions/69080779/apply-rate-based-rules-in-serveless","{amazon-web-services,serverless-framework,aws-serverless}","2021-09-06 22:26:54+03","2024-05-17 04:51:19.709031+03","I am using serverless and want to implement rate based rules to protect against basic ddos attacks Ive been reading here httpsaws amazon comaboutawswhatsnew201706awsannouncesratebasedrulesforawswaf and can see it within the Api gateway console However there does not seem to be a way of adding this to serverless Ive looked through their docs but nothing Is this possible to add in serverless"
69092930,"How to setup swaggerUI for NodeJS Serverless framework?","https://stackoverflow.com/questions/69092930/how-to-setup-swaggerui-for-nodejs-serverless-framework","{node.js,swagger,swagger-ui,serverless-framework,swagger-2.0}","2021-09-07 18:21:43+03","2024-05-17 04:51:20.346094+03","Need help your to implement the swaggerUI for NodeJS Serverless framework I already have swagger installed and API documentation is also generate successfully in openapi yml and tested documentation successfully on httpseditor swagger io But I want to implement swaggerUI for local and AWS serverless also for different environment I also gone through the packages like awsserverlessswaggerui but no examples found "
68275083,"reference cognito user pool created by sst (serverless-stack) in serverless.yml","https://stackoverflow.com/questions/68275083/reference-cognito-user-pool-created-by-sst-serverless-stack-in-serverless-yml","{serverless-framework,serverless-stack}","2021-07-06 17:32:32+03","2024-05-17 04:51:22.196179+03","I have quite a big app built with serverless and now we are trying out serverlessstack I am trying to reference a user pool created by sst in serverless yml function Is it possible Below are the steps I have tried I have created a user pool and want to update my post confirmation trigger defined in serverless yml"
68276674,"Vercel Serverless Function has timed out error","https://stackoverflow.com/questions/68276674/vercel-serverless-function-has-timed-out-error","{server,nuxt.js,serverless,serverless-framework,vercel}","2021-07-06 19:52:15+03","2024-05-17 04:51:22.213906+03","I have a Nuxt js server side website deployed on Vercel I have noticed that on some occasions I get a 504 GATEWAY_TIMEOUT error with the code FUNCTION_INVOCATION_TIMEOUT and the message This Serverless Function has timed out Why am I seeing this error"
68283172,"How to replace ARN in dashboard body with something that doesn't include accountId?","https://stackoverflow.com/questions/68283172/how-to-replace-arn-in-dashboard-body-with-something-that-doesnt-include-account","{amazon-web-services,amazon-cloudwatch,serverless-framework,serverless}","2021-07-07 09:09:53+03","2024-05-17 04:51:23.051959+03","I am creating a CloudWatch dashboard with Serverless fetchDashboard publishingDashboard looks like this A widget I want to display is causing me problems The body references the accountId but the serverless parameter does not include it Is it possible to either get rid of the accountId in the body or get the account id to be included in the serverless parameter "
68287975,"Setup Existing DynamoDB stream with DLQ","https://stackoverflow.com/questions/68287975/setup-existing-dynamodb-stream-with-dlq","{amazon-web-services,amazon-dynamodb,serverless-framework,amazon-dynamodb-streams}","2021-07-07 14:30:24+03","2024-05-17 04:51:23.51734+03","I have a Lambda which needs to be triggered by DynamoDB Streams I am using the serverless framework to deploy it The DynamoDB tables already exist due to a large number of tables copying and pasting the ARN of streams is not an option I found that we can fetch streams ARN using this plugin serverlessdynamostreamplugin But this plugin does not support parameters like Is there any way to fetch streams ARN and add other properties on it"
68324195,"How to upload images/files to s3 bucket using lambda function using serverless framework using nodejs?","https://stackoverflow.com/questions/68324195/how-to-upload-images-files-to-s3-bucket-using-lambda-function-using-serverless-f","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,serverless}","2021-07-10 02:18:58+03","2024-05-17 04:51:24.267236+03","I have requirement to upload images to s3 bucket from lambda function using serverless framework in node js I want to get image file from react app So How can I get image file from react app to lambda ao that I can upload it to s3 bucket using lambda I have user lambdamultipartparser to upload It is working in local environment but not working after deployed to aws lambdamultipartparser is able to parae request in local but unable to parse request after deployed to aws lambdamultipartparser is able to parse complete image in buffer array but afrer deployed it is unable to parse complete image to image There are missing buffer data after deployed Suggest me any good solution "
68344335,"Serverless framework python packaging with custom modules","https://stackoverflow.com/questions/68344335/serverless-framework-python-packaging-with-custom-modules","{python,aws-lambda,serverless-framework}","2021-07-12 08:40:32+03","2024-05-17 04:51:25.351925+03","I have a serverless function serverless yml My lib contains three files xyz py xyz1 py xyz2 py Inside those files I am importing packages Inside my handler py I am importing my files like below it gets deployed successfully but when I invoke the function I am getting the following error Not sure what I am missing here Any help pointers would be helpful Thanks"
68346022,"Getting Parameter ScheduleExpression is not valid on aws lambda?","https://stackoverflow.com/questions/68346022/getting-parameter-scheduleexpression-is-not-valid-on-aws-lambda","{aws-lambda,serverless-framework,serverless}","2021-07-12 10:48:06+03","2024-05-17 04:51:26.426255+03","I want to schedule a job to run on Thursday every week but when I used this I am getting an error Cron Expression I am using I am getting the following error"
68352370,"Error running Serverless Framework with serverless-python-requirements plugin","https://stackoverflow.com/questions/68352370/error-running-serverless-framework-with-serverless-python-requirements-plugin","{python,amazon-web-services,docker,yaml,serverless-framework}","2021-07-12 18:33:13+03","2024-05-17 04:51:27.390094+03","I am trying to deploy my function with sls deploy but I am getting the error below This error only happens when I try to use the plugin serverlesspythonrequirements cause i tried run without this plugin and the lambda based on docker image runned successfully My currently serverless yml is The error happens on the ec2 function cause when I remove it the deploy run successfully the ec2 yml function is The requirements txt on srcec2 "
68373955,"Serverless-offline: route not found statusCode"": 404","https://stackoverflow.com/questions/68373955/serverless-offline-route-not-found-statuscode-404","{node.js,serverless-framework}","2021-07-14 07:39:13+03","2024-05-17 04:51:28.368886+03","Serverless offline not getting route I am using serverlessoffline ^3 25 4 serverless ^1 0 0 version"
68384015,"Prod grade Directory Structure for AWS serverless applications","https://stackoverflow.com/questions/68384015/prod-grade-directory-structure-for-aws-serverless-applications","{serverless-framework,serverless,production-environment,aws-serverless}","2021-07-14 19:24:58+03","2024-05-17 04:51:29.428102+03","I am trying to figure out what can be the best project directory structure for a serverless application developed using aws also to mention I am using serverless framework Directory structure I am looking for is a monorepo of multiple microservices It should be optimized to accomodate layers code reusability accommodate backend frontend code easy to deploy each service individually should accommodate testing framework so that app is tested in the cicd pipeline "
68418116,"Deploying multiple builds of a nodejs app on one server","https://stackoverflow.com/questions/68418116/deploying-multiple-builds-of-a-nodejs-app-on-one-server","{node.js,server,serverless-framework}","2021-07-17 06:49:17+03","2024-05-17 04:51:30.532889+03","We have about 200 customers and for each one we want to create a separate frontend application All the frontend apps use the same source code but they get different data from the backend server at build time So when I change something in the git repository I want all the frontends to rebuild Can I handle this on one server Or are there any other services like serverless services to manage multiple applications"
66765280,"Running multiple containers in single fargate task for clair container scanning","https://stackoverflow.com/questions/66765280/running-multiple-containers-in-single-fargate-task-for-clair-container-scanning","{amazon-web-services,networking,serverless-framework,aws-fargate,clair}","2021-03-23 14:33:48+02","2024-05-17 04:52:10.06514+03","We are running clair and clairdb containers in the same fargate task Below is a snippet of our task definition As per the AWS fargate docs localhost can be used to communicate between these two containers of a single task in awsvpc mode We have given the below option in Clair config yaml So as per this clair should ideally be able to link to the clairdb container running on localhost5432 on the same network Clairdb container is running fine in fargate but clair container is failing with the below logs In docker terms this is how we link these two conatainers Are we missing anything here Any idea why connection to localhost is not working in fargate containers for clair"
66775493,"What is the best way to develop, test and deploy serverless applications which uses AWS services SQS, SES, Lambda","https://stackoverflow.com/questions/66775493/what-is-the-best-way-to-develop-test-and-deploy-serverless-applications-which-u","{amazon-web-services,aws-lambda,cloud,amazon-sqs,serverless-framework}","2021-03-24 06:00:12+02","2024-05-17 04:52:11.074269+03","I am trying to develop a serverless application which will use AWS SQS Simple Queue Service AWS SES Simple Email Service and AWS Lambda The application will perform these steps To test this out I created the queue lambda and configured SES all manually using the web interface at httpsaws amazon com For the Lambda function I simply typed my code in the web IDE provided at Lambda console Since it was a very simple POC it didnt need any testing and I got it to work Now I want to turn this into a production ready application My requirements Based on what I read online I could find 3 different options for doing this My questions are I will be using NodeJS for the code and only AWS as my cloud platform "
66780749,"Serverless AWS Lambda Edge: MalformedHandlerName","https://stackoverflow.com/questions/66780749/serverless-aws-lambda-edge-malformedhandlername","{node.js,amazon-web-services,aws-lambda,handler,serverless-framework}","2021-03-24 12:10:56+02","2024-05-17 04:52:11.962418+03","I am following the below example to setup a Lambda Edge function httpswww serverless combloglambdaatedgesupportadded The code handler js The Config serverless yml The function deploys properly I am using the Amazon CloudFront Modify Response Headers test template for testing Attempt 1 with the same handlers naming as article I get the below error which I can understand as the article seems wrong the cloudfront function is not defined errorMessage functionshandler cloudfront is undefined or not exported Attempt 2 Trying to fix serverless yml I replaced handler functionshandler cloudfront with handler functionshandler to match the code and I get the below error errorTypeRuntime MalformedHandlerNameerrorMessageBad handlerstack[Runtime MalformedHandlerName Bad handler at _splitHandlerString If I look at the official doc the handler naming is the same ie exports handler httpsdocs aws amazon comAmazonCloudFrontlatestDeveloperGuidelambdaedgehowitworkstutorial html Q How should I name my handler in the codeconfig"
66790160,"Stage environment for Serverless Framework integration testing","https://stackoverflow.com/questions/66790160/stage-environment-for-serverless-framework-integration-testing","{serverless-framework,serverless}","2021-03-24 22:11:20+02","2024-05-17 04:52:13.06361+03","Serverless Framework has its own integration testing of endpoints as defined here The documentation does not mention any staging or parameters that can be used for complex authentication or other setup work that may need to be done to verify an endpoint is correctly setup Is it possible to use Serverless Frameworks integration testing tool with staged information If so how If not what is the intended purpose of this integration testing framework simply to verify that an endpoint returns unauthorized errors"
68424460,"Trying to get Image from Lambda but I get Access Denied. With the Amplify client library works well","https://stackoverflow.com/questions/68424460/trying-to-get-image-from-lambda-but-i-get-access-denied-with-the-amplify-client","{amazon-s3,aws-lambda,aws-amplify,serverless-framework,aws-amplify-cli}","2021-07-17 21:39:32+03","2024-05-17 04:51:31.537136+03","I have created the S3 Bucket with Serverless Framework like this Then I have created an identity pool and defined the roles I need These roles have these rules CognitoAuthorizedRole CognitoUnAuthorizedRole So heres my problem If I call an object with the method Storage get with the amplify library I get the image without any problem But If I do this in my LAMBDA The lambda returns me the URL but when I get this one from the client I get an Access Denied error I do not know why this error With the client the library works great but If I try something similar from a Lambda it does not work Here is more information about the headers HEADERS FROM CORRECT IMAGE Storage get method HEADERS FROM LAMBDA ERROR OF IMAGE Some parts of both headers are different For example the LAMBDA headers do not have ETag What can I do Thanks NEW UPDATE If I take the url from the LOGS of the lambda I get this httpsecommercegatewaydevelopassetsbucket72ahiv6louu0 s3 useast2 amazonaws compublicmenu_iconsREPORTES svgXAmzAlgorithmAWS4HMACSHA256XAmzContentSha256UNSIGNEDPAYLOADXAmzCredentialxxxxxxIM22YARUSUJ2F2xxxxx172Fuseast22Fs32Faws4_requestXAmzDate20210717T230538ZXAmzExpires3600XAmzSignature0a37f13e2a7axxxxf4d38cebxxxxxxxxx557c8805057ac6ddffe71cXAmzSignedHeadershostxidGetObject Which works great Then If I go to the webpage and I sign in as a user with the method Auth SignIn from Amplify and execute Storage get httpsecommercegatewaydevelopassetsbucket72ahiv6louu0 s3 useast2 amazonaws compublicmenu_iconsADMINISTRADOR svgXAmzAlgorithmAWS4HMACSHA256XAmzContentSha256UNSIGNEDPAYLOADXAmzCredentialASIA4YxxxxxxxxxxF202107172Fuseast22Fs32Faws4_requestXAmzDate20210717T230825ZXAmzExpires900XAmzSecurityTokenIQoJb3JpZ2luX2VjEG8aCXVzLWVhc3QtMiJHMEUCIE3FrI0oFvpEIxxxxxxxxdm1bcXAmzSignature716642f08xxxxxxxxxx988e954b0335a2e04df44e7XAmzSignedHeadershostxamzuseragentawssdkjs2F3 6 120os2FLinux20lang2Fjs20md2Fbrowser2FChrome_91 0 4472 12420api2Fs32F3 6 120awsamplify2F4 1 3_jsxidGetObject Which as well works great But If I call the lambda now the url changes httpsecommercegatewaydevelopassetsbucket72ahiv6louu0 s3 useast2 amazonaws compublicmenu_iconsADMINISTRADOR svgXAmzAlgorithmAWS4HMACSHA256XAmzContentSha256UNSIGNEDPAYLOADXAmzCredentialASIA4xxxxxxxxxNGRZ7U2F202107172Fuseast22Fs32Faws4_requestXAmzDate20210717T230824ZXAmzExpires3600XAmzSecurityTokenIQoJb3JpZ2luX2VjExxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxtZmeLenE30kHskEkfe43DXAmzSignatureb9a400dxxxxxxxxx047445657919ff3b993b893fcbb3XAmzSignedHeadershostxidGetObject Now this url have more parameters Here a example of what i am doing httpsgithub comMontoyaAndrestest_problem_s3_cognito"
68428955,"Serverless.yml AWS Lambda Embedding EJS Template into Handler.js","https://stackoverflow.com/questions/68428955/serverless-yml-aws-lambda-embedding-ejs-template-into-handler-js","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2021-07-18 12:10:30+03","2024-05-17 04:51:32.992881+03","I am trying to embed an EJS template named ui ejs into handler js The aim is to capture URL query parameters then pass them to a function name ui js to capture data that data is then passed onto the EJS UI template called ui ejs But I keep getting this error Seems webpack is interfering with my directory paths The directory is under viewsui ejs NOT webpack\serviceviewsui ejs like the error claims How do I fix it Thanks in advance Heres the handler js code"
68430197,"Serverless.yml AWS Lambda Embedding EJS Template body parameters into handler.js","https://stackoverflow.com/questions/68430197/serverless-yml-aws-lambda-embedding-ejs-template-body-parameters-into-handler-js","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2021-07-18 14:47:10+03","2024-05-17 04:51:33.534009+03","I am trying to embed an EJS template named ui ejs into handler js The aim is to capture URL query parameters then pass them to a function name ui js to capture data that data is then passed onto the EJS UI template called ui ejs The script works just fine but the actual web page looks scrumbled and wierd The actual web page UI looks something like this Is it a problem with the stringify parsing Thanks in advance Heres the handler js code"
68431384,"How to schedule an AWS lambda cron to run 7 days before the end of the month?","https://stackoverflow.com/questions/68431384/how-to-schedule-an-aws-lambda-cron-to-run-7-days-before-the-end-of-the-month","{amazon-web-services,aws-lambda,cron,serverless-framework}","2021-07-18 17:08:31+03","2024-05-17 04:51:34.576613+03","I am trying to schedule an AWS lambda to run 7 days before the end of the month using the Serverless framework but I just cannot figure it out Is there a way to specify a minus something with the L wildcard Looks like L7 does not work Thanks "
68437905,"Serverless.yml AWS Lambda testing handler.js functions with Jest","https://stackoverflow.com/questions/68437905/serverless-yml-aws-lambda-testing-handler-js-functions-with-jest","{node.js,amazon-web-services,aws-lambda,jestjs,serverless-framework}","2021-07-19 09:08:58+03","2024-05-17 04:51:35.727262+03","I am trying to test my handler js function using jest in Node js but I keep getting this error Did I import handler js wrong What could be the problem Thanks in advance The api test js function looks like below "
67748123,"Resource Based Policy In Serverless","https://stackoverflow.com/questions/67748123/resource-based-policy-in-serverless","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-05-29 05:39:23+03","2024-05-17 04:51:37.836018+03","I have a lambda which I have created using serverless framework I want it to be invoked through cloudwatch logs For this I need to create a resource based policy in my AWS lambda Since the cloudwatch logs which are invoking my lambda are created on the fly I cannot use resource name explicitly in events I wanted to use regex but apparently lambda updationcreation fails with the error below I wanted to know if I can create lambda invocation policy for log group with regex I tried using resourcePolicy too but it does not work I have two questions which can help me move ahead and was looking for the help "
67757943,"Is it not possible to have Custom domain in API Gateway with Lambda in VPC configured in serverless.yml","https://stackoverflow.com/questions/67757943/is-it-not-possible-to-have-custom-domain-in-api-gateway-with-lambda-in-vpc-confi","{amazon-web-services,aws-api-gateway,serverless-framework}","2021-05-30 05:19:41+03","2024-05-17 04:51:38.925508+03","Following are the steps I did My Serverless yml looks as below How can I address it "
67766166,"Serverless Framework with localstack, where to view error output","https://stackoverflow.com/questions/67766166/serverless-framework-with-localstack-where-to-view-error-output","{amazon-web-services,aws-cloudformation,serverless-framework,serverless,localstack}","2021-05-30 22:05:25+03","2024-05-17 04:51:39.827509+03","I am using serverless framework along with localstack and getting a failed deploy with the error message That link will ask me to sign into AWS console but i am running with localstack a mock environment where can i get info about the failed deploy"
67777524,"How to get secret from Secret Manager in serverless","https://stackoverflow.com/questions/67777524/how-to-get-secret-from-secret-manager-in-serverless","{server,serverless-framework,aws-serverless,aws-secrets-manager}","2021-05-31 16:40:33+03","2024-05-17 04:51:40.432768+03","I configured a secret to my RDS database Its name is qaaurora I am trying to make the reference on my serverless yml in the environment settings like this I want to use this DB environment variable to set the user and password to my Aurora database The problem is that I am getting this error According to the Serverless docs it should be working fine with getting a JSONObject What I am missing to make this work PS Why should I add true at the end of the string to find the secret If I remove this value i get the error"
70307338,"""Aws lambda deployment with zappa""","https://stackoverflow.com/questions/70307338/aws-lambda-deployment-with-zappa","{amazon-web-services,amazon-s3,aws-lambda,zappa}","2021-12-10 16:07:38+02","2024-05-17 04:35:00.848218+03","Also we tried to read and write kms policies but it did not work out "
67780269,"Serverless Framework - create postman collection with generated API ID","https://stackoverflow.com/questions/67780269/serverless-framework-create-postman-collection-with-generated-api-id","{python,node.js,amazon-web-services,scripting,serverless-framework}","2021-05-31 21:11:57+03","2024-05-17 04:51:41.332765+03","using Serverless build on node docker with localstack and using python lambdas I want to hand the project to someone allow them to build and run it using Docker This is fine the only problem is my endpoints are generated with a random API ID everytime and the less explaining I have to do for this the better I need to be able to either Export the API endpoints to a file serverlesspluginexportendpoints httpsgithub comar90nserverlesspluginexportendpoints I tried doing this with this plugin but ran into issue described in my other question which you can find below in my comment this question also has more detail around my project Use a custom domain with localstack serverless and docker not sure this is possible Any other solution that can get me a postman collection whether it be exported or one i make myself hardcoded because I know what it will look like when its deployed Thanks"
67782913,"InvalidSignatureException: Credential should be scoped to correct service: execute-api","https://stackoverflow.com/questions/67782913/invalidsignatureexception-credential-should-be-scoped-to-correct-service-execu","{javascript,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2021-06-01 04:55:42+03","2024-05-17 04:51:42.357981+03","i am implementing an AWS Lambda Function call it the frontend function call that calls another AWS Lambda function call it the backend function from its code I use serverless I used serverless yml to add an event path and method for my function using an existing API i created for the frontend function The frontend function works fine Calling the backend f only works locally using serverlessoffline with the local URL given by SLSOffline httplocalhost3002 When i replace that url with the AWS endpoint url for the backend f it fails with this error InvalidSignatureException Credential should be scoped to correct service executeapi The functions have authnone I have added all the possible permissions to both functions does not help Is there a place where i can specify the correct service when i invoke my backend f I could not find any documentation on this I am using Slacks Bolt JS SDK and my code is in JS Here is my invocation code inside of my frontend handler Any guidance is greatly appreciated "
67801275,"Serverless + Docker - adding command in dockerfile results in stack validation error","https://stackoverflow.com/questions/67801275/serverless-docker-adding-command-in-dockerfile-results-in-stack-validation-e","{amazon-web-services,docker,docker-compose,serverless-framework,localstack}","2021-06-02 08:08:25+03","2024-05-17 04:51:43.35011+03","I have a serverless project I am using with localstack and Docker When i build my project everything runs and works as expected When i add a plugin serverlesspluginexportendpoints httpsgithub comar90nserverlesspluginexportendpoints to serverless yml file and add CMD [slsexportEndpoints ] it results in the error ServerlessError ValidationError Stack with id pond5apilocal does not exist Here is my Dockerfile Here is my Dockercompose file All I have added is this to my serverless yml file Might be worth mentioning i am running this config for localhost"
67818658,"Serverless framework + Express.js | Uploading images turns out corrupt/broken","https://stackoverflow.com/questions/67818658/serverless-framework-express-js-uploading-images-turns-out-corrupt-broken","{typescript,amazon-web-services,express,serverless-framework}","2021-06-03 09:13:24+03","2024-05-17 04:51:44.718993+03","I have been pouring way too many hours into getting this to work and I see that similar questions are posted here on SO but I have yet to find a solution thatll solve my problem I have created a REST API using the Serverless Framework I now want to create an endpoint to which a user can send a POST request with an image as in the body as a formdata I have the endpoint here The endpoint uses a middleware uploader single param and then passes the result to a function uploadImage The middleware looks as following The image is stored by library multer But is broken I read that you might need to add binaryMediaTypes to the apiGateway provider in serverless ts so I did as following Can anyone help me out with this"
67841091,"Serverless lambda function failes in react with CORS","https://stackoverflow.com/questions/67841091/serverless-lambda-function-failes-in-react-with-cors","{reactjs,amazon-web-services,axios,serverless-framework}","2021-06-04 16:47:30+03","2024-05-17 04:51:45.258721+03","Hi all I have written a serverless lambda API using API gateway the API works as I expect it to do so while i use POSTMAN the api used PATCH method to update a record in dynamoDB I have then implemented axios in my in my React app to make the call to my API The call fails due to CORS fine i went over to API gateway and i enabled CORS for that end point by pressing on to the method PATCH going into Method Response and Integration Method added all the response headders deployed the API and does not work I then tried in my serverless yml to add cors true and deploy this didnt work either Here is my cod Serverless yml React Lambda"
67841803,"localstack serverless deploy is not getting deployed","https://stackoverflow.com/questions/67841803/localstack-serverless-deploy-is-not-getting-deployed","{amazon-web-services,serverless-framework,serverless,localstack}","2021-06-04 17:45:54+03","2024-05-17 04:51:45.942698+03","I am trying to deploy my serverless project locally with LocalStack and serverlesslocal plugin When I try to deploy it with serverless deploy it throws an error and its failing to create the cloudformation stack But I manage to create the same stack when I deploy the project in to real aws environment What is the possible issue here I checked answers in all the previous questions asked on similar issue nothing seems to work dockercompose yml serverless yml Config json which has the endpoints Error in Localstack container"
66810222,"serverless-s3-local writing to real S3 bucket","https://stackoverflow.com/questions/66810222/serverless-s3-local-writing-to-real-s3-bucket","{amazon-s3,serverless-framework,serverless-framework-offline}","2021-03-26 02:28:09+02","2024-05-17 04:52:13.933409+03","I am using Serverless framework with the serverlesss3local plugin to test my code during development However despite being in offline mode the real S3 bucket is being written to How can I alter my configuration to use a local fake s3 bucket when in offline mode Relevant serverless yml sections Endpoint Calling S3 Launching Serverless Offline"
66131012,"""OpenFaas : getting Upstream HTTP request error: Post http://127.0.0.1:8082/: EOF while deploying long running springboot service""","https://stackoverflow.com/questions/66131012/openfaas-getting-upstream-http-request-error-post-http-127-0-0-18082-eof","{spring-boot,openfaas}","2021-02-10 04:43:55+02","2024-05-17 04:30:38.843159+03","I am trying to deploy a long running Springboot service on OpenFaas and facing Upstream HTTP request error Post http127 0 0 18082 EOF I have a springboot service which exposes APIs To deploy this service on openfaas the following steps were performed "
69926806,"How to get default security group id with aws cli?","https://stackoverflow.com/questions/69926806/how-to-get-default-security-group-id-with-aws-cli","{amazon-web-services,serverless-framework}","2021-11-11 10:34:16+02","2024-05-17 05:28:27.968362+03","I want to create a serverless yml with vpc configuration added Assuming I do not have access to gui please tell me a method through which I can get security group id of default security group for aws services "
67849522,"Unable to deploy serverless framework application to localstack","https://stackoverflow.com/questions/67849522/unable-to-deploy-serverless-framework-application-to-localstack","{amazon-web-services,serverless-framework,serverless,localstack}","2021-06-05 12:20:28+03","2024-05-17 04:51:47.012691+03","I am learning how to use localstack to test my serverless app I started with a simple serverless app created from a template Heres the handler Then I installed serverlesslocalstack I have already installed localstack using pip This is my serverless yml file I have not specified any stages like local if no stages are specified then serverlesslocalstack by default will deploy to localstack for dev stage which is the default Now my expectation is that when I do sls deploy it should create the lambda function in localstack And when I do aws endpointurlhttplocalhost4566 lambda listfunctions I should see the created function However what actually happens is that it just ends with what seems like no errors but I see no function being created Here are the sls deploy logs Either there are no errors here or for some reason it is not visible Here are the logs form the localstack container As you can see the localstack container logs have an interesting error I see a mention of cloudformation but I can verify that it is running I checked httplocalhost4566health and got I need help in figuring why the lambda function is not created as expected"
67851539,"Serverless framework deploy does not install node dependancies","https://stackoverflow.com/questions/67851539/serverless-framework-deploy-does-not-install-node-dependancies","{javascript,node.js,amazon-web-services,serverless-framework,aws-serverless}","2021-06-05 16:15:01+03","2024-05-17 04:51:48.099429+03","I have a very simple node app which I got from the serverless examples httpsgithub comserverlessexamplestreemasterawsnodeexpressapi I deployed with serverless yml is handler js is package json is When I run a CURL I get When I check the logs I see I went to the Lambda function on AWS and I see So you can see there is no node_modules folder I dont want to push up the node_modules folder I expect the dependancies to get installed automtically Im pretty sure this happened before when I last create a serverless node function But it is not getting installed How can I ensure dependancies get installed"
67864335,"How can I provide resource-based policy in my lambda via serverles.yml?","https://stackoverflow.com/questions/67864335/how-can-i-provide-resource-based-policy-in-my-lambda-via-serverles-yml","{amazon-web-services,aws-lambda,serverless-framework}","2021-06-06 23:03:08+03","2024-05-17 04:51:49.450621+03","I am using serverless yml to deploy lambdas to AWS and I would like to know how to configure the resourcebased policy for my lambda I deploy a customised alias to my lambda and need to grant invokelambda in the policy of the resoucebased policy So when you open lambda configuration permission the policy should appear as below when I use the role configure in serverless yml it only changes the permission for my lambda execution role How can I modify the Resourcebased policy for my lambda"
67876387,"How to define multiple events in serverless?","https://stackoverflow.com/questions/67876387/how-to-define-multiple-events-in-serverless","{amazon-s3,serverless-framework,serverless,aws-serverless}","2021-06-07 17:43:07+03","2024-05-17 04:51:49.619889+03","I want to set multiple events to a function in serverless js framework Now the function is getting triggered from all object create events But I only want to trigger for s3ObjectCreatedPut s3ObjectCreatedPost and s3ObjectCreatedCompleteMultipartUpload how can I modify the yaml"
67880044,"sls invoke always gets ""Need to provide a name of function to invoke""","https://stackoverflow.com/questions/67880044/sls-invoke-always-gets-need-to-provide-a-name-of-function-to-invoke","{azure-functions,serverless-framework}","2021-06-08 00:27:43+03","2024-05-17 04:51:50.750405+03","I have successfully deployed a hello world Azure function named Hello using Serverless Framework from my Macbook PRO When I use I always received output This is strange since I have provided the correct function name for f However I can invoke the function successfully using CURL What may be the issue"
67904808,"Serverless deprecation warning on .env files","https://stackoverflow.com/questions/67904808/serverless-deprecation-warning-on-env-files","{serverless-framework,serverless,aws-serverless}","2021-06-09 13:08:08+03","2024-05-17 04:51:51.369877+03","I am using serverless framework to deploy react web application I have set up a CICD pipeline for deployment when serverless template gets executed I am receiving several deprecation warnings The way I understand these warnings it is trying to load environment variables from env file from the serverless directory But I have stored my variables from other files abc config and loading them to the serverless template through that file and not from the env file and for this reason I am getting these warnings Also I have used serverlessdotenvplugin to use environment variables in env file for local deployment and that is why the env file has to be there in the serverless directory But for now loading variables from abc config file is working fine and in the future I want to load variables from the same file abc config But in the future if I use the same approach for environment variables that will throw an error instead of giving a warning Questions 1 I am not sure how would I tackle this issue because in the upcoming serverless version release this will throw an error Question 2 What if I install a specific serverless version for example npm install g [email protected] in that case in the future will I still get these deprecation warnings In theory I will be still using the old serverless version and this version supports loading variables from other files So I should not be getting these warnings I can be wrong but what should be the ideal approach to resolve these warnings ahead of time Any help would be greatly appreciated Thank you "
67259949,"Are there real logs anywhere for S3 AccessDenied?","https://stackoverflow.com/questions/67259949/are-there-real-logs-anywhere-for-s3-accessdenied","{python,amazon-s3,aws-lambda,amazon-iam,serverless-framework}","2021-04-26 01:56:11+03","2024-05-17 04:51:53.464816+03","Using the serverless framework I am doing some image processing in lambda with python and put the result in S3 bucket to be publicly accessible via a URL I spent hours and read every stack overflow answer example code etc that I could find to show how this is done But no dice I simply cannot create minimum permissions that work For this python code It works fine with this big hammer for permissions But I cannot get it working with laser focused minimal permissions The stack trace is unhelpful AccessDenied and not much else There do not seem to be helpful logs anywhere Is there something obvious I am doing wrong or someplace I could see good information about the write failure"
66581554,"""Send a file and parameters to a OpenFaas Dockerfile function""","https://stackoverflow.com/questions/66581554/send-a-file-and-parameters-to-a-openfaas-dockerfile-function","{docker,ffmpeg,openfaas}","2021-03-11 11:21:41+02","2024-05-17 04:30:39.445355+03","I have a ffmpeg Dockerfile function that I deploy to my OpenFaaS But I cannot figure out how I would be able to stream a file to the function and give parameters so that ffmpeg knows about the file and parameter I am fairly new to OpenFaaS and maybe this is trivial but I cannot wrap my head around it Any help would be much appreciated "
67278136,"How can I use conditional configuration in serverless.yml for lambda?","https://stackoverflow.com/questions/67278136/how-can-i-use-conditional-configuration-in-serverless-yml-for-lambda","{amazon-web-services,aws-lambda,serverless-framework}","2021-04-27 06:43:50+03","2024-05-17 04:51:54.646663+03","I need to configure a lambda via serverless yml to use different provision concurrency for different environments Below is my lambda configuration The value PC is loaded from environment variable It works for values greater than 0 but I cannot set a value 0 in one environment What I want to do is to disable provision concurrency in dev environment I have read through this doc httpsforum serverless comtconditionalserverlessymlbasedonstage17633 but it does not seem to help in my case How can I set provisionedConcurrency conditional based on environment"
67281837,"Is it possible to trigger lambda by changing the file of local s3 manually in serverless framework?","https://stackoverflow.com/questions/67281837/is-it-possible-to-trigger-lambda-by-changing-the-file-of-local-s3-manually-in-se","{amazon-s3,aws-lambda,aws-sdk,serverless-framework,serverless-offline}","2021-04-27 11:05:42+03","2024-05-17 04:51:55.69583+03","I used the serverlesss3local to trigger aws lambda locally with serverless framework Now it worked when I created or updated a file by function in local s3 folder but when I added a file or changed the context of the file in local s3 folder manually it didnt trigger the lambda Is there any good way to solve it"
67282392,"How to deploy GCP API Gateway and Cloud function together without gcloud commands","https://stackoverflow.com/questions/67282392/how-to-deploy-gcp-api-gateway-and-cloud-function-together-without-gcloud-command","{google-cloud-platform,google-cloud-functions,serverless-framework,google-api-gateway}","2021-04-27 11:42:40+03","2024-05-17 04:51:56.931164+03","We built an API and integrated cloud function as backend Till now we were deploying cloud function first and API gateway later Is there a best way to club these two services and deploy it as a whole"
67285814,"DynamoDB tables without RANGE value","https://stackoverflow.com/questions/67285814/dynamodb-tables-without-range-value","{amazon-web-services,nosql,amazon-dynamodb,serverless-framework,serverless}","2021-04-27 15:12:43+03","2024-05-17 04:51:57.058601+03","Would there be any problem if I create my table without a RANGE value ie HASH value only I have heard that DynamoDB tables store entries in partitions and these partitions are determined using the HASH key If I use only HASH key on my table would it cause too many partitions Also would it increase the time to seek data in my table using queries"
67291818,"Send OTP on email instead of SMS -Cognito","https://stackoverflow.com/questions/67291818/send-otp-on-email-instead-of-sms-cognito","{amazon-cognito,aws-amplify,serverless-framework,aws-serverless,multi-factor-authentication}","2021-04-27 23:20:21+03","2024-05-17 04:51:57.80885+03","Is there a way to send OTP by email instead of SMS SMSs have a bunch of limitations and regulations in different countries and TOTP happens to be so not friendly to nontechnical users I understand I can have custom flow but we would like to continue using Amplify for the login What is the most straightforward way to achieve this in the cognito service"
77024572,"""Zappa + AWS Lambda for Asynchronous API""","https://stackoverflow.com/questions/77024572/zappa-aws-lambda-for-asynchronous-api","{flask,aws-lambda,aws-api-gateway,zappa}","2023-09-01 16:05:32+03","2024-05-17 04:30:19.028015+03","I am developing a Flask Python backend hosted on AWS Lambda using Zappa to automatically deploy to Lambda and API Gateway One of my endpoints takes around 3060s to execute which causes my API Gateway to sometimes time out due to CloudFront limitations I am thinking about reimplementing this endpoint in an asynchronous fashion like so However I am concerned that invoking separate AWS Lambda function to run my longrunning task after queuing from the initial Lambda function is not the right way to go about this My rationale is that Lambda functions are for stateless very quick processes so using it to execute a longrunning endpoint task seems wrong Is there a better way to do this particularly within the FlaskZappaAWS system that I am using right now Thanks for the help "
77133357,"""Django - zappa issue""","https://stackoverflow.com/questions/77133357/django-zappa-issue","{python,django,zappa}","2023-09-19 09:34:11+03","2024-05-17 04:30:20.051138+03","I got this error on Django Admin when I deployed Django after updating DB model I tried to redeploy the project from scratch sometimes it works but this issue occurs every hour "
77484225,"""How to make delay tasks using Zappa with Django?""","https://stackoverflow.com/questions/77484225/how-to-make-delay-tasks-using-zappa-with-django","{python,django,amazon-web-services,zappa}","2023-11-14 22:34:26+02","2024-05-17 04:30:20.579662+03","I am new to Zappa and I have usually used Django with celery in a server I know that with Zappa I can schedule tasks with a rate but how can I just execute a task delayed by a desired amount of time that does not have to be periodic For example give the user a finite time to buy a product or to write a review or to choose spots in a theater I am also using AWS What I have read is to create a periodic event that executes every minute to check if the desired time have passed and then do the task but I think that would be overkilling and I would prefer an event driven solution I simply dont know if that is possible Another option was to create an SQS queue as this But I dont know how to put arguments and just call one task I need without having one queue per function Thanks and sorry if this is a fool question "
77791099,"""django.server logs are not shown in CloudWatch - Using Zappa""","https://stackoverflow.com/questions/77791099/django-server-logs-are-not-shown-in-cloudwatch-using-zappa","{python,django,logging,aws-lambda,zappa}","2024-01-10 05:30:24+02","2024-05-17 04:30:21.326652+03","My django application is running on AWS Lambda with zappa I recently added the following to configure logs This is working well when I run this on docker local server But when I deployed this to AWS Lambda it is not showing the corresponding logs in the Cloudwatch Could anyone help Thanks in advance "
66918101,"""How to using typescript with openfaas handler?""","https://stackoverflow.com/questions/66918101/how-to-using-typescript-with-openfaas-handler","{node.js,openfaas}","2021-04-02 10:41:56+03","2024-05-17 04:30:40.220105+03","I am using openfaas for the first time I followed by this guide The cli creates handler js file Is it possible to working with typescript creates typescript file instead of javascript file"
67296831,"Processing large images with Sharp on Lambda@Edge","https://stackoverflow.com/questions/67296831/processing-large-images-with-sharp-on-lambdaedge","{serverless-framework,sharp,aws-lambda-edge}","2021-04-28 08:47:19+03","2024-05-17 04:51:58.800324+03","When using Sharp in a function deployed to Lambda I am getting the following error vips__write write failed unix error No space left on device Running on Lambda this can be fixed using the VIPS_DISC_THRESHOLD env variable but since env variable are not allowed for Lambda I am looking for an alternative solution "
77819298,"""Zappa is not deploying all the packages in my virtual env to Lambda""","https://stackoverflow.com/questions/77819298/zappa-is-not-deploying-all-the-packages-in-my-virtual-env-to-lambda","{django,amazon-web-services,aws-lambda,amazon-cloudwatch,zappa}","2024-01-15 10:57:44+02","2024-05-17 04:30:21.998316+03","I am deploying a django application using Zappa My applications dependencies are bigger than 1GB in size for this reason I am using slim_handlertrue parameter in zappa settings as well as increasing ephemeral size of lambda using ephemeral_storage Size 10240 but still i am getting error django not found in my cloudWatch logs All my configurations are attached below My zappa_settings py file teststaging ephemeral_storage Size 10240 aws_region uswest1 django_settings lu_development settings profile_name default project_name linkedunionbac runtime python3 10 s3_bucket zappasultantestmigration slim_handler true All the packages installed in my virtual env CloudWatch error I am getting after deployment to lambda via Zappa [ERROR] ModuleNotFoundError No module named django Traceback most recent call last File vartaskhandler py line 657 in lambda_handler return LambdaHandler lambda_handler event context File vartaskhandler py line 241 in lambda_handler handler global_handler or cls File vartaskhandler py line 150 in __init__ wsgi_app_function get_django_wsgi self settings DJANGO_SETTINGS File vartaskzappaextdjango_zappa py line 9 in get_django_wsgi from django core wsgi import get_wsgi_application"
77959243,"""Zappa: authorize my stack for AWS Secrets Manager""","https://stackoverflow.com/questions/77959243/zappa-authorize-my-stack-for-aws-secrets-manager","{aws-lambda,zappa}","2024-02-08 04:25:02+02","2024-05-17 04:30:23.195306+03","I have just started using Zappa to run apps in AWS Lambda My function uses a MySQL database and I keep the username password in the AWS Secrets Manager There is no problem storing the ARN of the secret in an INI file that is part of the lambda system However I need to authorize my Lambda instance to use the secret and secrets manager Is there any way to do this by default in the zappa_settings json file for example Or do I need to manually add it to the AWS console"
77959246,"""Zappa — why does the certificate have to be stored in us-east-1 even when I'm not running in that region?""","https://stackoverflow.com/questions/77959246/zappa-why-does-the-certificate-have-to-be-stored-in-us-east-1-even-when-im-no","{aws-lambda,zappa}","2024-02-08 04:26:39+02","2024-05-17 04:30:23.863868+03","Why does Zappas certificate have to be in useast1 and not in the region where I am running Zappa"
78333461,"""How to add VPCE endpoint Id for the Private REST API deployed using ZAPPA""","https://stackoverflow.com/questions/78333461/how-to-add-vpce-endpoint-id-for-the-private-rest-api-deployed-using-zappa","{zappa,python-zappa}","2024-04-16 09:25:35+03","2024-05-17 04:30:24.66611+03","Following the documentation from the Zappa Serverless httpsgithub comzappaZappa I have hosted a REST API in AWS API gateway which is configured as PRIVATE endpoint I have added the relevant resource policy as well But i see that the VPCE ID is not added in the api settings which is required for the PRIVATE endpoints to work and i could not find any property where i can define this Do you know how to add this or what is the property called in zappa_settings json My zappa settings for private endpoint looks like below"
67877704,"""Django zappa error: InconsistentMigrationHistory: Migration admin.0001_initial is applied before its dependency accounts.0001_initial on""","https://stackoverflow.com/questions/67877704/django-zappa-error-inconsistentmigrationhistory-migration-admin-0001-initial-i","{django,aws-lambda,amazon-rds,zappa,python-zappa}","2021-06-07 19:33:22+03","2024-05-17 04:30:26.246447+03","So I am using Zappa on AWS Lambda I just added a custom user model to my project and tried to migrate to the RDS on AWS and Zappa gives me the following error Now I know that if I got this error on my local server I would do this I would then run the migrations to destroy their tables and recreate them again see this helpful SO post However if I ran after that I get How should I do the same thing on the AWS RDS using Zappa or should I do something else"
12570426,"""how to make zappajs to handle all requests""","https://stackoverflow.com/questions/12570426/how-to-make-zappajs-to-handle-all-requests","{node.js,coffeescript,express,zappa}","2012-09-24 18:06:23+03","2024-05-17 04:31:35.150148+03","There is app all for express to handle all methods for any endpoint like this I could not find equivalent one for zappa It throws error if I try all What is the equivalent on in zappajs"
68007065,"""Is it possible to use lambda layers with zappa?""","https://stackoverflow.com/questions/68007065/is-it-possible-to-use-lambda-layers-with-zappa","{django,opencv,aws-lambda,zappa,aws-lambda-layers}","2021-06-16 16:55:40+03","2024-05-17 04:30:27.242272+03","I want to deploy my wagtail which is a CMS based on django project onto an AWS lambda function The best option seems to be using zappa Wagtail needs opencv installed to support all the features As you might know just running pip install opencvpython is not enough because opencv needs some os level packages to be installed So before running pip install opencvpython one has to install some packages on the Amazon Linux in which the lambda environment is running yum install The only solution that came to my mind is using lambda layers to properly install opencv But I am not sure whether it is possible to use lambda layers with projects deployed by zappa Any kind of help and sharing experiences would be really appreciated "
68137613,"""Is it possible to integrate an old/legacy Django application into Zappa for serverless integration?""","https://stackoverflow.com/questions/68137613/is-it-possible-to-integrate-an-old-legacy-django-application-into-zappa-for-serv","{django,zappa,python-zappa}","2021-06-25 22:24:47+03","2024-05-17 04:30:28.192072+03","I am trying to find a way to integrate our companys Django Web app into Zappa so we can go completely serverless with our REST API The problem is that our app has existed for several years making it a lot heavier than the brand new apps that all of these Zappa tutorials init over Is there a format that Zappa requires for integrating an old Django app into its framework I have no wait of knowing how much refactoring will be required for Zappa to know how to transition our API into lambda functions When I tried running Zappa deploy in our root directory I got the following error which probably means our app is poorly optimized for the Zappa system"
68138583,"""Invoking a Lambda function that has a Python library dependency in Docker container, deployed with Zappa; 500 response code error""","https://stackoverflow.com/questions/68138583/invoking-a-lambda-function-that-has-a-python-library-dependency-in-docker-contai","{docker,aws-lambda,serverless,zappa,feast}","2021-06-26 01:56:07+03","2024-05-17 04:30:28.891255+03","I am looking to invoke AWS Lambda functions deployed using Zappa The lambda functions will have dependencies that are too large for the usual zip file approach even with slim_handler true To do this I am using Zappa with Docker containers where the container holds the larger dependencies and the Lambda functions call upon the container as needed The application is a Flask app with the usual app py code that routes to a function Deploying a dockerized flask app with Zappa is pretty straightforward and I can do this successfully as long as there is only vanilla Python in the app py But as soon as I add Python that depends on a library I get the following error when attempting to invoke the Lambda function via the AWS API Gateway as setup by Zappa Here are the steps I am taking I am using Feast as the Python library I want to work with the dockerized Flask app pushed to Lambda with Zappa I Create the Dockerfile that works alongside Zappa for deploying to AWS Lambda I am using the steps outlined here to create this Dockerfile Briefly this uses a base image provided by AWS copies my application code into the image and sets up my Python environment with pipenv The Zappa specific steps are at the bottom where handler py is manually added to the Docker image The lambda_handler function contains all the Zappa magic that routes API Gateway requests to the corresponding Flask function The handler is specified in the CMD so that it runs whenever a Docker container using this image is started Here is my requirements txt file Since I want Feast to be available I install this inside the virtual environment Installing FEAST These steps are from here Install Feast Create a Feature Repo Register feature definitions and deployed feature store Load features into my online store To test that Feast will be successfully deployed on Lambda I will fetch the feature vectors for inference over the AWS API Gateway by invoking a Lambda Function over AWS So I need the necessary Feast code callable by Flask Fetching Feature Vectors for Inference I set up the Feast code inside the usual Flask app py The expected response from this is I also install Zappa inside the virtual environment here is my zappa_settings json The S3 bucket number shown here is fake Also installing Flask inside the virtual environment Building the Image I run the following to build the image I then Push to ECR ReTag the Image Get authenticated to push to ECR and push the image Finally I deploy the lambda function So altogether this is how one uses Zappa to push a docker image to AWS Lambda in order to invoke a lambda function over the AWS API Gateway In this case I am trying to invoke a lambda function that fetches Feast data via Flask with the dependencies made available inside a Docker container But upon running the deploy command I get IMPORTANT I have confirmed that all of these steps work if I put something simple inside the app py like this Everything is credentialized on AWS correctly the image deploys and I can call it perfectly through the API endpoint provided by Zappa via AWS Gateway I only get the mentioned error when I put the Feast code inside app py as I have shown above "
60694250,"""Django Zappa Lambda Deploy \""botocore.errorfactory.ResourceNotFoundException\""""","https://stackoverflow.com/questions/60694250/django-zappa-lambda-deploy-botocore-errorfactory-resourcenotfoundexception","{django,lambda,zappa}","2020-03-15 15:02:06+02","2024-05-17 04:30:41.614346+03","I am trying to deploy simple django application from zappa httpsromandc comzappadjangoguide I am getting the following error Is there any permission issue or some other issue with the dev setup"
68176733,"""Getting \""ERROR: Double requirement given: setuptools\"" error in zappa""","https://stackoverflow.com/questions/68176733/getting-error-double-requirement-given-setuptools-error-in-zappa","{python,flask,zappa}","2021-06-29 10:14:12+03","2024-05-17 04:30:29.914366+03","I tried to deploy my Flask app with zappa0 52 0 but I get an error as below ERROR Double requirement given setuptools already in setuptools52 0 0 post20210125 namesetuptools WARNING You are using pip version 20 2 3 however version 21 1 3 is available You should consider upgrading via the UsersyoonshinkwarkDocumentsJBR_reco_local_2JBR_reco_API_2dolaaldagramawsflask38binpython3 8 m pip install upgrade pip command Oh no An error occurred Traceback most recent call last File Usersyoonshinkwarkoptanaconda3libpython3 8sitepackageszappacli py line 3422 in handle sys exit cli handle File Usersyoonshinkwarkoptanaconda3libpython3 8sitepackageszappacli py line 588 in handle self dispatch_command self command stage File Usersyoonshinkwarkoptanaconda3libpython3 8sitepackageszappacli py line 630 in dispatch_command self deploy self vargs[zip] self vargs[docker_image_uri] File Usersyoonshinkwarkoptanaconda3libpython3 8sitepackageszappacli py line 852 in deploy self create_package File Usersyoonshinkwarkoptanaconda3libpython3 8sitepackageszappacli py line 2760 in create_package venvself zappa create_handler_venv File Usersyoonshinkwarkoptanaconda3libpython3 8sitepackageszappacore py line 513 in create_handler_venv raise EnvironmentError Pypi lookup failed OSError Pypi lookup failed The version of Python is 3 8 8 "
68334573,"""Why do I get TCP/IP error when trying to create DB in my Lambda?""","https://stackoverflow.com/questions/68334573/why-do-i-get-tcp-ip-error-when-trying-to-create-db-in-my-lambda","{mysql,django,lambda,zappa}","2021-07-11 08:38:35+03","2024-05-17 04:30:30.800293+03","So I am trying to deploy my Django project using lambda with zappa I am using MySQL for DB engine Now after doing some research I realized that I needed to create a custom Django command to create DB since I am using MySQL So I created crate_db command zappa update d then ran zappa manage dev create_db Then I got this error 2004 HY000 Cannot create TCPIP socket 97 below is my create_db py file for your information Any ideas Thanks "
68391621,"""Zappa deploy fails with AttributeError: 'Template' object has no attribute 'add_description'""","https://stackoverflow.com/questions/68391621/zappa-deploy-fails-with-attributeerror-template-object-has-no-attribute-add","{python,zappa}","2021-07-15 09:53:11+03","2024-05-17 04:30:31.948225+03","Since a few days ago zappa deploy fails with the following error zappa version 0 50 0 "
65110896,"""Is it possible to add packages to an openfaas container?""","https://stackoverflow.com/questions/65110896/is-it-possible-to-add-packages-to-an-openfaas-container","{python-3.x,containers,openfaas}","2020-12-02 15:15:58+02","2024-05-17 04:30:33.899605+03","I am new to Openfaas I have Python code that has dependency on Xvfb I have executed this code just fine running under Ubuntu however this code fails when trying to run in an Openfaas container I get the following error exit status 1 Traceback most recent call last File homeapppythoneasyprocess init py line 168 in start self popen subprocess Popen File usrlocallibpython3 9subprocess py line 947 in init self _execute_child args executable preexec_fn close_fds File usrlocallibpython3 9subprocess py line 1819 in _execute_child raise child_exception_type errno_num err_msg err_filename FileNotFoundError [Errno 2] No such file or directory Xvfb from what I can tell the Xvfb package is not installed In Ubuntu I resolved this by doing sudo aptget install xvfb I am trying to figure out the equivalent of this in Openfaas From my research I should be able to add build_options to the yml file I tried the following but the package still does not install Where am I going wrong"
65284469,"""OpenFaaS faasd function deployed but the URL fails with the message \""cannot find service\""""","https://stackoverflow.com/questions/65284469/openfaas-faasd-function-deployed-but-the-url-fails-with-the-message-cannot-find","{kubernetes,clojure,openfaas}","2020-12-14 06:17:58+02","2024-05-17 04:30:34.814684+03","I followed this tutorial for faasd httpsgithub comopenfaasfaasdblobmasterdocsMULTIPASS md I was able to deploy my function in Clojure successfully but the URL returned shows the message of And when I tried the URL without openfaasfn extension it just fails to load showing I wonder if there is anyway to debug this I tried faascli describe mybot Actually I tried to deploy with Kubernetes before but that did not work out either Functions can be deployed and work for a few minutes then get into CrashLoopBackOff stopped working and the page would keep loading forever How can I possibly solve this or would there be any alternatives for deployment Thanks in advance "
65550786,"""how to update cluster configuration of existing OpenFaas Cluster""","https://stackoverflow.com/questions/65550786/how-to-update-cluster-configuration-of-existing-openfaas-cluster","{openfaas}","2021-01-03 14:14:58+02","2024-05-17 04:30:35.905572+03","How to update the configuration of an existing OpenFaas cluster like While creating the cluster we can specify the configuration But how to update the existing configuration using Arkade "
65602942,"""How to make faasd secrets available to function using node12 template?""","https://stackoverflow.com/questions/65602942/how-to-make-faasd-secrets-available-to-function-using-node12-template","{node.js,serverless,openfaas}","2021-01-06 20:26:57+02","2024-05-17 04:30:36.807167+03","While writing this question I found the answer but still it might be helpful to someone else that start using node12 template model for making functions on openfaas and needs accessing secrets defined using faascli By creating a function for build and deploy with openfaas or faasd in my case we need a function yml file as follow Until here the function deployed will work but the directory varopenfaassecrets will not be available or visible to the function as it needs to be stated explicity in the yaml file as follows Now after a new buildpush and deploy the openfaas engine will make a link to each one of the secrets Note that the function only can acces those secrets stated on the yaml file even if there are more secrets on the gatweay machine here is a good example httpswww openfaas comblogfaasdtlsterraform From here a secret is easyly accessed using fs readFile as follows note that the function needs to be async and the fs must use promises so it can be used as All this came up because I followed an outdated example and by thinking that secrets are available to functions by default which is not crearly started on the docs But somehow it made me realize how well structured and secure the process is implemented in openfaas Thanks Alex Ellis and the openfaas team and community Hope this helps someone Regards Enrique note this is my first write in StackOverflow hope is readable and into to the standards "
66079490,"""openfaas deployment.kubernetes.io/max-replicas vs com.openfaas.scale.max""","https://stackoverflow.com/questions/66079490/openfaas-deployment-kubernetes-io-max-replicas-vs-com-openfaas-scale-max","{kubernetes,hpa,openfaas}","2021-02-06 17:00:17+02","2024-05-17 04:30:37.724185+03","I have a k8s cluster on which I have installed openfaas in the following way Now I have the following stack yml The deployed function is then decorated with the above mentioned labels which I found in the openfaas documentation However if I look at the replica set controlling the functions pod I see it is adorned with the following annotation What is the effect of this latter annotation on the functions replica set over the actual functions scaling What would happen if I set as my functions label I would like to make sure to really have control over my functions horizontal scaling How should I proceed"
60714279,"""aws lambda deployed by zappa is not able to connect to remote database""","https://stackoverflow.com/questions/60714279/aws-lambda-deployed-by-zappa-is-not-able-to-connect-to-remote-database","{django,mongodb,aws-lambda,zappa,djongo}","2020-03-16 23:02:35+02","2024-05-17 04:30:42.340509+03","I am deploying a django project using zappa to awslambda and using mongodb atlas as my database I am tring to connect to the database using djongo I set my django_setting in the zappa_settings json to my projects django settings The connection to the database with this settings works just fine in localhost when deploying it fails to connect to the server and I suspect that it tries to connect to a default local db the db sent to mongo_client py isnt valid or something and it needs to connect to default HOST The actual error I get is If anyone has an idea I would would love to hear attaching the settings with some fields unset but set at my settings Django settings database part DATABASES default ENGINE djongo NAME db HOST mongodbusernamepassword USER username PASSWORD password zappa_settings dev aws_region euwest1 django_settings settings profile_name default project_name name runtime python3 6 s3_bucket bucket timeout_seconds 900 manage_roles false role_name name role_arn arn slim_handler true "
60929286,"""AttributeError: module 'dateutil.tz' has no attribute 'UTC' on Zappa Deploy""","https://stackoverflow.com/questions/60929286/attributeerror-module-dateutil-tz-has-no-attribute-utc-on-zappa-deploy","{python-3.x,zappa,python-zappa}","2020-03-30 11:11:50+03","2024-05-17 04:30:43.369306+03","On trying to deploy my AWS Lambda function get this error on my Stacktrace"
61288483,"""Django zappa application's modular path to app's function? Don't know which one it is""","https://stackoverflow.com/questions/61288483/django-zappa-applications-modular-path-to-apps-function-dont-know-which-one","{django,amazon-web-services,zappa}","2020-04-18 11:39:11+03","2024-05-17 04:30:44.450114+03","I am new to django and aws and I am trying to get my project deployed I have a similar filestructure as in the project here httpsgithub comdivanov11crashcourseCRMtreePart8datatotemplatesandtemplatetagscrm1_v7_database_queries Now when I am initializing zappa and they ask What is the modular path to your apps function I have no idea which path I should put Could anyone help me with this"
61316084,"""Processing events using Zappa and Django app""","https://stackoverflow.com/questions/61316084/processing-events-using-zappa-and-django-app","{django,zappa,python-zappa}","2020-04-20 06:08:41+03","2024-05-17 04:30:45.463115+03","I am trying to use Zappa to deploy a Django eventdriven application that will process events based on SQS and Kinesis I have the following as part of my zappa settings file When an item is queued via SQS I am getting the following error from the Lambda ModuleNotFoundError No module named myproject Traceback I also tried dropping the myproject from the path and use just processor but that resulted in a similar error It appears as though the eventbased code cannot be invoked if it is part of the Django project Is this true Thanks "
61440878,"""Only able to deploy CloudFormation template to us-east-1 using Boto3""","https://stackoverflow.com/questions/61440878/only-able-to-deploy-cloudformation-template-to-us-east-1-using-boto3","{amazon-web-services,aws-lambda,aws-cloudformation,amazon-iam,zappa}","2020-04-26 12:34:35+03","2024-05-17 04:30:46.567918+03","I am trying to deploy my CloudFormation template to other regions for testing My template works fine with useast1 via Boto3 but if it try another region I get no error output Whilst trying different regions I got an email unexpectedly saying that the Canada region has been verified but since trying via Boto3 this has been unsuccessful billing console says all regions are now activated I am running Boto3 from Lambda No VPC that has been deployed using Zappa to useast1 It has an IAM policy that does not specify a specific region Python CF IAM"
61445245,"""Django, Zappa - RuntimeError: populate() isn't reentrant""","https://stackoverflow.com/questions/61445245/django-zappa-runtimeerror-populate-isnt-reentrant","{python,django,postgresql,amazon-web-services,zappa}","2020-04-26 17:38:32+03","2024-05-17 04:30:47.552917+03","I am beginner of django and zappa And I am trying to deploy django application using zappa on AWS lambda Also I would like to connect RDS database postgres To create database I entered zappa manage dev create_db Then error message occurred as below And I do not know how to solve this Other solutions on the Internet did not work for me zappa_settings json is django settings py is INSTALLED_APPS [ zappa_django_utils ] DATABASES default ENGINE django db backends postgresql_psycopg2 NAME blah USER blahblah PASSWORD blahblah HOST postgresinstance1 test1234 apnortheast2 rds amazonaws com PORT 5432 And Django version 2 2 Python version 3 6 Zappa version 0 45 1 Please help me to solve this problem References"
47943247,"""How install openfaas on openshift?""","https://stackoverflow.com/questions/47943247/how-install-openfaas-on-openshift","{openshift,faas,openfaas}","2017-12-22 14:39:35+02","2024-05-17 04:30:48.440896+03","I try to install OpenFaaS on OpenShift What I do In Openshift I deploy this image and I create a route But the route does not run I try kubectl in pod terminal but command does not exist Any ideas"
50155268,"""install OpenFaaS to your Kubernetes Cluster on Minikube issue""","https://stackoverflow.com/questions/50155268/install-openfaas-to-your-kubernetes-cluster-on-minikube-issue","{django,networking,cloud,openfaas}","2018-05-03 12:36:55+03","2024-05-17 04:30:49.506537+03","while install OpenFaaS to your Kubernetes Cluster on Minikube getting some URL issue Error Nonabsolute URLs should be in form of repo_namepath_to_chart got openfaas Help me to slove the following issue "
51256488,"""Openfaas function keeps returning the same result even after redeploying""","https://stackoverflow.com/questions/51256488/openfaas-function-keeps-returning-the-same-result-even-after-redeploying","{openfaas}","2018-07-10 02:32:59+03","2024-05-17 04:30:50.016875+03","I built a little Openfaas function using the tutorial After initial build and deployment it worked just fine and returned statusdone just as I intended After the initial successful run I made changes to the index js handler it is a node project I rebuilt and redeployed using the following commands faascli build f license yml faascli deploy f license yml and invoke the function using the following command curl 127 0 0 18080functionlicense H ContentType applicationjson databinary hosts[YYYXXXAAABBBCCC] In stead of returning a status object see above it should return a licenseKey However no matter how often I builddeploy this function it keeps returning the original object What do I have to do to make Openfaas use the new code"
54958613,"""Call Django command with phrase as argument""","https://stackoverflow.com/questions/54958613/call-django-command-with-phrase-as-argument","{python,django,zappa,django-commands}","2019-03-02 12:39:22+02","2024-05-17 04:30:58.89498+03","I am trying to run the command zappa manage staging run_sql sql \show databases\ But I get the following error I tried various things like But all fail for the same reason django core management base CommandError Error unrecognized arguments databases\\ It looks like Django command parser believes the phrase are several options or something but I cannot figure out the way to treat it as a single argument Based on the following Django Command"
51325211,"""Getting ImageInspectError when trying to run an OpenFaas function on Raspberry Pi 3B+""","https://stackoverflow.com/questions/51325211/getting-imageinspecterror-when-trying-to-run-an-openfaas-function-on-raspberry-p","{docker,kubernetes,raspberry-pi3,faas,openfaas}","2018-07-13 12:33:19+03","2024-05-17 04:30:50.877383+03","I am trying to deploy a function with OpenFaas project and a kubernetes cluster running on 2 Raspberry Pi 3B Unfortunately the pod that should handle the function is going to ImageInspectError state I tried to run the function with Docker directly and which is contain in a Docker image and everything is working fine I opened an issue on the OpenFaas github and the maintainer told me to ask directly the Kubernetes community to get some clues My first question is What does ImageInspectError mean and where it comes from And here is all the informations I have Pod should run The testfaceraspi does not run Logs from the pod Pod describe And the event logs Add the following code in the handler py Change gateway and image in the yml provider name faas gateway http127 0 0 131112 Run faas build f testfacepi yml FaaSCLI version Full output from faascli version Docker version Full output from docker version Operating System and version e g Linux Windows MacOS Thanks by advance and tell me if you need any more informations Gallouche"
51351182,"""can't submit an async task to openfaas""","https://stackoverflow.com/questions/51351182/cant-submit-an-async-task-to-openfaas","{openfaas}","2018-07-15 18:47:42+03","2024-05-17 04:30:51.932331+03","OpenFaas on GKE was working fine until the morning when I sent load on it Since then it is been unresponsive to async requests but sync requests are working fine How do I get the async tasks to work again"
52220414,"""Scaling with GPU usage""","https://stackoverflow.com/questions/52220414/scaling-with-gpu-usage","{gpu,google-kubernetes-engine,openfaas}","2018-09-07 10:18:18+03","2024-05-17 04:30:52.956244+03","I am using Openfaas to run some tasks on the GPU However since these tasks use only the GPU and the CPU remains mostly idle openfaas does not scale these pods and hence GKE does not scale our nodes How can I configure openfaas to use GPU metrics for scaling My understanding is that CPU usage is currently being sent to prometheus which is then being used by alert manager to scale the pods up or down I need to somehow make this such that whenever a pod uses more than 10 GPU for 1 second then scale it up "
53453517,"""how to return HTTP status code in Open FaaS?""","https://stackoverflow.com/questions/53453517/how-to-return-http-status-code-in-open-faas","{openfaas}","2018-11-23 22:29:54+02","2024-05-17 04:30:53.531868+03","How can a function deployed in openfaas return different HTTP status code to the caller Like 4xx codes As per documentation the watchdog would process the stdout or stderr for either a http status 200 or 5xx Is there a way to change the status like 400 409 etc I am using csharp template as downloaded by faascli"
53764707,"""Is there a way to specify logging driver for deployed functions""","https://stackoverflow.com/questions/53764707/is-there-a-way-to-specify-logging-driver-for-deployed-functions","{openfaas}","2018-12-13 15:04:42+02","2024-05-17 04:30:54.36765+03","Is there a way to specify logging driver for the functions deployed with OpenFaas I have setup fluentd logging driver and would like to configure it for the functions using openfaas yaml file"
56393379,"""How to change 'timeout' in \""zappa_settings.json\"" file""","https://stackoverflow.com/questions/56393379/how-to-change-timeout-in-zappa-settings-json-file","{django,python-3.x,zappa}","2019-05-31 10:29:50+03","2024-05-17 04:31:10.658033+03","So i deployed my django project on AWS account through Zappa Then i added the timeout_seconds parameter and set it to 300 in zappa_settings json On running zappa update dev it gives the following error I want to increase the timeout of the lambda function to 300 seconds Here is the full error traceback This is the zappa_settings json file Can someone help with this Thanks "
53957422,"""Fn project is missing http operations (CRUD)""","https://stackoverflow.com/questions/53957422/fn-project-is-missing-http-operations-crud","{docker,faas,fn,openfaas}","2018-12-28 10:57:25+02","2024-05-17 04:30:55.082834+03","I have spent my afternoon getting very excited about the containernative serverless platform fn project httpfnproject io I love the idea of the FaaS model but have no intention of locking myself into a particular cloud vendor for most of the lifetime of an app and several other reasons including the desire to spin up the entire app on a small server anywhere if I choose fn project seems great for my needs until I finish perusing the documentation and all the relevant blog posts and suddenly think what Wait what Where are the http operations I cannot find a single reference anywhere that states if it is even possible to to have http triggers for different http operations ie POST PUT PATCH DELETE let alone how I would do it I want to build REST apis or certainly at the very least jsonserving httpbased RPC apis if it does not have hypermedia links it is not REST but let us not get into that one in this thread Am I missing something here certainly the correct bit of documentation Can anybody please enlighten me as to how I would do this or even tell me if I have totally misunderstood what I should use this for My excitement has gone soft for now but I am hoping someone that will change with the right information It feels odd that I cannot find anyone else complaining about this so I think that indicates my misunderstanding perhaps Other solutions such as OpenFaaS look interesting but I dont want to have to learn how to deploy kubernetes and docker swarms if I can avoid it "
54827583,"""Django AWS Zappa deployement satic files error""","https://stackoverflow.com/questions/54827583/django-aws-zappa-deployement-satic-files-error","{django,amazon-web-services,amazon-s3,aws-lambda,zappa}","2019-02-22 12:51:11+02","2024-05-17 04:30:57.238131+03","I have manage to deploy my site to AWS Lambda using Zappa which was complicated but i got there in the end However i am running into an issue where some of my icons are not loading Please see the consol log below The site is hosted at httpsh28ijhkwy3 executeapi euwest2 amazonaws comDemoaccountlogin So i believe this files are being called from my style css file using I have tried putting the full AWS S3 path instead but it still does not work and i still get the same errors in the console "
54933044,"""Different settings.py file for different domains in Django""","https://stackoverflow.com/questions/54933044/different-settings-py-file-for-different-domains-in-django","{python,django,aws-lambda,wsgi,zappa}","2019-02-28 19:37:34+02","2024-05-17 04:30:57.979324+03","I have a Django project that will have multiple instances one for each of my clients each instance have your own DB and some custom APPs and your own domain but all share the same source code the only difference will be the settings py file pointing for the correct DB I know I can achieve this using different virtual hosts pointing to different settings using for exemple Apache and WSGI but in my case I will use AWS Lambda and Zappa to provide this service for my clients I want to know if exists a way to dynamically load some custom settings depending on the domain that loads the site "
46554621,"""Running Docker lambda image on local""","https://stackoverflow.com/questions/46554621/running-docker-lambda-image-on-local","{docker,aws-lambda,zappa}","2017-10-03 22:54:22+03","2024-05-17 04:32:01.317256+03","This is the Dockerfile However when I run dockercompose up I get I assume it is because I need to activate the virtualenv I want to be able to run the project on my local machine for development What am I missing Thanks "
55030817,"""Upload APNs certificate to AWS Lambda""","https://stackoverflow.com/questions/55030817/upload-apns-certificate-to-aws-lambda","{django,aws-lambda,apple-push-notifications,zappa}","2019-03-06 19:28:32+02","2024-05-17 04:30:59.875324+03","I am using Django with Zappa to connect to serverless AWS Lambda To get APNs Apple Push Notification services up and running I originally had to upload my certificate file to the server so that my backend can access it whenever it needs to But now that I migrated to AWS Lambda I am not sure how to upload the certificate file I use this package djangopushnotifications to use APNs and in my Django settings I have PUSH_NOTIFICATIONS_SETTINGS APNS_CERTIFICATE os path join BASE_DIR Certificates_and_keysprod_pushcert pem APNS_TOPIC org reactjs native example Spap UPDATE_ON_DUPLICATE_REG_ID True USER_MODEL social User Where the value for APNS_CERTIFICATE is the path of the APNs certificate file Before using AWS Lambda I had another server where I uploaded the certificate file with ftp I do not know how to do that with AWS Lambda Any suggestions"
55065103,"""Flask stream/multipart file from S3""","https://stackoverflow.com/questions/55065103/flask-stream-multipart-file-from-s3","{python,flask,boto3,wsgi,zappa}","2019-03-08 14:19:34+02","2024-05-17 04:31:00.807414+03","I am using Flask in AWS Api GatewayLambda environment Thanks to Zappa but there is a limit in response size so Flasks send_file is not enough in this context Is there a way I can streammultipart not sure if these are the correct terms a filelike object as response in Flask I cannot send request bodies with more than 5mb 6mb in the AWS Serverless environment Current code simple S3 proxy that deletes the object once downloaded I have seen some examples here but do not understand how to apply them or if that is even what I am looking for I also noticed that boto3 S3 module has options like callback for download_fileobj here and you can specify chunksize here but again I do not understand how to apply this to a Flask response I know of a way to solve this that involves sending a signed download link to the client to download the item but then I would have to implement in the client to delete the file "
55200708,"""How do I make my command line use a specific version of python?""","https://stackoverflow.com/questions/55200708/how-do-i-make-my-command-line-use-a-specific-version-of-python","{python,python-3.x,cmd,command-line,zappa}","2019-03-16 19:32:11+02","2024-05-17 04:31:01.907134+03","I am getting started on using Zappa However I already had installed python 3 7 on my computer while Zappa uses 3 6 I installed python 3 6 8 but when I try to use zappa in the cmd zappa init it uses python 3 7 by default How can I direct zappa to use 3 6 instead"
55381811,"""Working Django site breaks when deploying with Zappa""","https://stackoverflow.com/questions/55381811/working-django-site-breaks-when-deploying-with-zappa","{python,django,amazon-web-services,aws-lambda,zappa}","2019-03-27 16:10:26+02","2024-05-17 04:31:02.996154+03","I have a working Django site that hosts locally without errors however deploying it with Zappa gives me the following error Initially while getting setup with Django this error was caused by incorrectly pathed settings but that was fixed and the SECRET_KEY is present in a base py file One suggestion from the zappa output is to try turning slim_handler to false Doing that results in the following error instead This is another error I had experienced before when getting the site setup locally It meant that Django was not present in the virtualenv I had setup I checked and the correct version is present now What might be the reason that a Django site would work fine when hosted locally but would give errors seemingly pathing related when attempting to deploy with Zappa"
55433118,"""Why isn't my zbar library upload to Amazon Lambda? Docker, Zappa""","https://stackoverflow.com/questions/55433118/why-isnt-my-zbar-library-upload-to-amazon-lambda-docker-zappa","{python,docker,aws-lambda,zbar,zappa}","2019-03-30 15:48:02+02","2024-05-17 04:31:03.617758+03","I am trying to deploy a Django application to Amazon Lambda via Zappa The application uses pyzbar which has the zbar or libzabar0 requirement In my Dockerfile I install the zbar library and in the local docker file my code runs correctly However when I do zappa update dev it provides an error that it cannot find the zbar dependency ImportError Unable to find zbar shared library I have looked around and I am following this guide httpsblog zappa iopostsdockerzappaandpython3 Ive added the dependency in the Dockerfile see below and a said it is working correctly I have also tried deploying zappa in the directory above var but then zappa complains that the zip file is too large Dockerfile Zappa settings Docker run command docker run ti env env v cdvartask v awsroot aws p 80008000 library bash My goal is to get it uploaded to Amazon Lambda and have the zbar library working correctly However I get an ImportError ImportError Unable to find zbar shared library Any idea how I can fix this"
55474765,"""New branch/stage using Zappa""","https://stackoverflow.com/questions/55474765/new-branch-stage-using-zappa","{python-3.x,aws-lambda,zappa,python-zappa}","2019-04-02 12:26:40+03","2024-05-17 04:31:04.34444+03","I currently have an API up on AWS Lambda using ZappaFlask Py 3 7 My zappa_Settings json file looks like so However we are now working on a new set of features and sense dictates we have a separate branch or stage like testing where we deploy these and evaluate for maturity before pushing to the live environment The problem is try as I might I am unable to create a new stage from the console crashes with click exceptions ClickException This project already has a zappa_settings json file produces usage zappa [h] [v] [color autoneveralways ] certifydeployinitpackagetemplateinvokemanagerollbackschedulestatustailundeployunscheduleupdateshell zappa error unrecognized arguments stage2 outputs Now if I manually create an entry for a stage I need to have an s3 bucket for the deployment Is it safe to reuse the same one from the first instance What do I do here to deploy a new stage"
55683640,"""AWS xray + lambda exception handling, how can I return an error message and have my xray trace flagged as a failure""","https://stackoverflow.com/questions/55683640/aws-xray-lambda-exception-handling-how-can-i-return-an-error-message-and-have","{python,amazon-web-services,aws-lambda,zappa,aws-xray}","2019-04-15 06:32:11+03","2024-05-17 04:31:05.434262+03","I have an AWS Lambda written in Python 3 6 using the latest stable aws_xray_sdk and deployed as a lambda function not as an API gateway endpoint Everything is functioning as expected however I have created a custom exception handler for my lambda so if an exception occurs the error is logged and an error response is sent to the caller rather than just return false Is there a way to flag my current aws xray subsegment as being an error I found the subsegment object has an apply_status_code method however this does not appear to do what I was hoping for either edit 1 I have been able to get at least my own subsegments reporting with 400 and error status in the xray traces with the following code However this is not what is used to generate the xray service map I am starting to think I should have just made my lambdas rest APIs as at least those would return HTTP status codes which I could trace "
55742741,"""How to overcome cold start issue in AWS Lambda with Zappa?""","https://stackoverflow.com/questions/55742741/how-to-overcome-cold-start-issue-in-aws-lambda-with-zappa","{python,django,amazon-web-services,zappa,cold-start}","2019-04-18 09:09:04+03","2024-05-17 04:31:06.554436+03","I have deployed api Django application in AWS using zappa I am facing cold start issue It is taking nearly 78 sec to start application code is nearly 25 MB How to overcome this issue In zappa settings json i have kept keep_warmtrue but of no use I have written lambda function to trigger api using scheduling cloudwatch event it is triggering i can see in zappa logs but problem not solved sample code of my handler is My zappa configurations are "
56017721,"""Error on deploying Python app to AWS Lambda""","https://stackoverflow.com/questions/56017721/error-on-deploying-python-app-to-aws-lambda","{python-3.x,amazon-web-services,aws-lambda,tornado,zappa}","2019-05-07 07:38:52+03","2024-05-17 04:31:07.612968+03","I have built a PythonTornado app and am trying to deploy it to AWS Lambda using zappa But I am getting an error Error Warning Status check on the deployed lambda failed A GET request to yielded a 502 response code My folder structure inside the root folder is zappa deploy dev gives me zappa tail gives me zappa_settings json main py What is the mistake here and how can I fix it"
56021435,"""Error while deploying Tornado app to AWS Lambda""","https://stackoverflow.com/questions/56021435/error-while-deploying-tornado-app-to-aws-lambda","{python,amazon-web-services,aws-lambda,tornado,zappa}","2019-05-07 11:19:00+03","2024-05-17 04:31:08.607811+03","I am trying a simple Hello World to deploy a PythonTornado app to AWS Lambda using Zappa The code for the same in app py file is The error I get after I run zappa deploy dev is The error displyed when I run zappa tail is The zappa_settings json file is How can I fix this issue"
56074516,"""Django Zappa generated cloudfront generates 403 error""","https://stackoverflow.com/questions/56074516/django-zappa-generated-cloudfront-generates-403-error","{aws-lambda,aws-api-gateway,http-status-code-403,zappa,amazon-cloudfront}","2019-05-10 09:21:18+03","2024-05-17 04:31:09.635398+03","I run a Django project deployed on AWS lambda using serverless Zappa framework This can be accessed by a randomly generated link from AWS API Gateway lets say randomlygeneratedlink aws amazon comproduction I have also created an SSL certificate from ACM and verified it with my domain lets say example com Now when i run zappa certify this command certifies my domain successfully and creates a custom domain under API gateway console with the following configurations Endpoint Configuration Edge optimized Target Domain Name d25ihv8a5022zi cloudfront net Hosted Zone ID A2FDTNGATAQYW6 ACM Certificate example com c504428e Now I need to point my domain name example com to randomlygeneratedlink aws amazon comproduction so I updated my records on Godaddy with CNAME as follows TYPE CNAME NAME example com VALUE d25ihv8a5022zi cloudfront net TTL 1 HOUR EXPECTED RESULT My application thats running on randomlygeneratedlink aws amazon com show be accessable from example com WHAT I GET 403 ERROR The request could not be satisfied Bad request Generated by cloudfront CloudFront EDIT So I get rid of zappa created custom domain and created new cloudfront distribution manually as follows Delivery Method Web Domain name d35ihv8a5022fe cloudfront net origin randomlygeneratedlink aws amazon comproduction cNAMES example com Status Deployed State Enabled I did this because zappa generated cloudfront distribution is hidden in AWS console However I noticed Zappa generated distribution endpoint gives forbidden when I check the address in browser and the newly created distribution endpoint redirects to my application Still going to example com gives me 403 error "
62676125,"""Change endpoint for OpenFaaS function""","https://stackoverflow.com/questions/62676125/change-endpoint-for-openfaas-function","{openfaas}","2020-07-01 11:46:35+03","2024-05-17 04:33:26.160398+03","By default functions deployed to OpenFaaS are available at one of the following endpoints How can I create an endpoint like the following http[my_domain]apiv1[function_name]"
56552745,"""How to upload files to S3 bucket from Django lambda deployment using Zappa?""","https://stackoverflow.com/questions/56552745/how-to-upload-files-to-s3-bucket-from-django-lambda-deployment-using-zappa","{python,django,amazon-s3,aws-lambda,zappa}","2019-06-11 23:12:01+03","2024-05-17 04:31:11.259818+03","I have a basic web application that allows users to upload files There is no processing involved I just need them to be stored in a specific Amazon S3 bucket I have the application deployed using Zappa on AWS Lambda The document upload functionality works perfectly on the local test server but I am not sure how to make it work on the actual deployed instance I get the same error if I directly try to add a file through the admin panel Does anyone know what I am doing wrong or how to get around this I will include the traceback here I have tried various different configurations of settings and have not come up with a solution I constantly receive an S3ResponseError 400 Bad Request when I try to upload a file on the Lambda deployment I have added an S3 endpoint to my VPC because I assumed it might have something to do with accessing the internet but I have not received any time out errors which is what I would expect if that were the issue I also created a boto file in my projects main directory where my zappa_settings json and manage py are with the following My settings py My file upload form My CreateView for the model My UploadedDocument model The HTML page with the form"
47216585,"""Website deployment to AWS issues with domain""","https://stackoverflow.com/questions/47216585/website-deployment-to-aws-issues-with-domain","{python-2.7,amazon-web-services,aws-lambda,virtualenv,zappa}","2017-11-10 06:05:46+02","2024-05-17 04:31:13.285015+03","When I attempt to certify a Domain using I am getting this error I have recently transferred this domain from GoDaddy to AWS Does anyone know a solution to this issue"
47242351,"""Zappa Certify Issue""","https://stackoverflow.com/questions/47242351/zappa-certify-issue","{python-2.7,amazon-web-services,aws-lambda,amazon-route53,zappa}","2017-11-11 20:14:31+02","2024-05-17 04:31:14.354824+03","I have been having issues with deploying a domain I recently transferred from godaddy to AWS Heres the zappa settings On running zappa certify the first time I get this error The second time I am getting this error I have no idea why this is happening I have never had this kind of issue with Zappa When I go to minnidesign com there is a server not found error Does anyone know a solution to this problem Many thanks in advance "
47502218,"""How can I use non-Python dependencies for my Django Zappa project?""","https://stackoverflow.com/questions/47502218/how-can-i-use-non-python-dependencies-for-my-django-zappa-project","{django,aws-lambda,serverless-framework,zappa,mecab}","2017-11-26 23:40:57+02","2024-05-17 04:31:15.018114+03","I am using a Python package called nattopy which requires a nonpython Japanese tokeniser called MeCab Is it possible to use this for my Zappa project How can MeCab be installed on Lambda since pip does not work Django 1 10 Python 3 5"
47604237,"""Can I move an AWS Lambda site to a private domain?""","https://stackoverflow.com/questions/47604237/can-i-move-an-aws-lambda-site-to-a-private-domain","{flask,lambda,zappa}","2017-12-02 03:21:10+02","2024-05-17 04:31:16.205572+03","I am using Zappa to deploy a Flask app It works site Obviously I would like to not have it stuck behind the aws domain and put it on my personal domain Everything I am searching keeps talking about hosting a Lambda site with S3 and API Gateway Is there no way to just deploy my little app to a custom domain Edit Following mislavs answer I was able to get my google domain working with AWS But when I try to finish by running zappa certify I get an error about the domain existing raise error_class parsed_response operation_name botocore errorfactory BadRequestException An error occurred BadRequestException when calling the CreateDomainName operation The domain name you provided already exists My zappa_settings json is I am beginning to think I am doing something convoluted on my domain side I am using Google Domains since I have a custom domain for my email just using that but that seems to cause a headache trying to get AWS to talk to it "
47624422,"""Did I get aws CloudFront right? labmda, s3, cloudfront""","https://stackoverflow.com/questions/47624422/did-i-get-aws-cloudfront-right-labmda-s3-cloudfront","{python,amazon-s3,aws-lambda,amazon-cloudfront,zappa}","2017-12-03 23:18:17+02","2024-05-17 04:31:17.005696+03","I was reading and watching videos about aws lambda s3 and CloudFront CF I would like to confirm here that I understand or not the concept of aws cloudfront and more generaly CDNs aim I would like to serve images from my app via CF I intend to deploy aws lambda function In scenario that I depict my lambda function is simple flask app with probably just one endpoint POST endpoint implementing image upload Creates checsum from a file checks if the file checksum is already in s3 save or not and return image Image resize runs only if the arguments for it are provided via query string All images would be stored original resized rotated etc S3 is an origin for CF deployment As I use python I want to use zappa as a deployment tool example PROBLEM 800 User is uploading image from Australia Image was not there before so it is saved to S3 and returned 900 same user is asking for thumbnail of the image Image is resized and returned Here I assume that request for image resize for example httpsapp orgresizeimage1 jpegwidth80height80 is saved on Australian edge node of cloudfront together with response image jpg 80x80 1000 user is asking for the same thumbnail with the same query string he gets image jpg 80x80 from Australian cloudfront edge cache Did I get it right"
47651326,"""zappa deployment: deploy to same api gateway with different stages""","https://stackoverflow.com/questions/47651326/zappa-deployment-deploy-to-same-api-gateway-with-different-stages","{python,aws-lambda,zappa}","2017-12-05 10:27:51+02","2024-05-17 04:31:18.170597+03","when I define a new stage in zappa_settings json a new apigatewaybackend gets created What I would need is the same gateway but a different stage ie prod instead of dev Is there any way of accomplishing this in zappa"
47859420,"""Uploading Files instead of Zipfile?""","https://stackoverflow.com/questions/47859420/uploading-files-instead-of-zipfile","{zappa}","2017-12-17 21:01:26+02","2024-05-17 04:31:19.147864+03","EDIT Zappa does not use EC2 and not Beanstalk but Amazon Api Services So probably there ist no way I have a question for Zappa EC2 Serverless Services Launching zappa update dev creates one ZipFile and uploads this Because my upload is slow it would be great to have ability to upload only changed files especially in the beginning config files etc of a project Every single file change needs 5 minutes "
48156096,"""How to switch between multiple AWS accounts with Zappa""","https://stackoverflow.com/questions/48156096/how-to-switch-between-multiple-aws-accounts-with-zappa","{aws-lambda,zappa}","2018-01-08 18:31:59+02","2024-05-17 04:31:20.232646+03","I am experimenting with how to deploy lambdas into different AWS accounts in continuous delivery environment At the moment I am stuck with that Can you please give me a clue about this As an example with AWS CLI we could define which profile we need to use Ex aws s3 ls profile account2 In the AWS config file we define the profile as follows Can we use the same approach with zappa deployments Highly appreciate any clue to solve this issue "
48232283,"""Zappa / Async AWS Lambda Function times out in 30s""","https://stackoverflow.com/questions/48232283/zappa-async-aws-lambda-function-times-out-in-30s","{python-3.x,flask,aws-lambda,zappa}","2018-01-12 18:45:02+02","2024-05-17 04:31:21.130115+03","I have a Python 3 6 Flask application deployed onto AWS Lambda using Zappa in which I have an asynchronous task execution function defined using Task as discussed here However I find that the function call still times out at 30 seconds as against the 5 minute timeout that AWS Lambda enforces for nonAPI calls I even checked the timeout in my Lambda settings and it is set to 5 minutes The way I discovered this is when the lambdas debug output started repeating without a request something that happens because the lamba is called 2 more times because of either an error or timeout as per the AWS Lambda documentation Can anyone help me with getting this resolved [EDIT The lambda function is also not part of any VPC and is set to be accessible from the internet ] Here are the logs below Basically the countdown is a sleep timer counting to 20 seconds followed by a task call to application reviv_assign_responder but as we see there is no outpust past NEAREST RESPONDER and the countdown starts again indicating that the function has timed out and has been called again by AWS design As we can see in the second log it clearly states [1515842321866] wait_one_and_notify 30 26 [1515842322867] wait_one_and_notify 30 27 [1515842323868] wait_one_and_notify 30 28 [1515842324865] 20180113T111844 865Z 72a8d34af85311e7ac2fdd12a3d35bcb Task timed out after 30 03 seconds"
48272415,"""AWS Lambda function state (zappa)""","https://stackoverflow.com/questions/48272415/aws-lambda-function-state-zappa","{python,amazon-web-services,lambda,state,zappa}","2018-01-16 00:09:25+02","2024-05-17 04:31:21.843558+03","I think to optimize flask app lambda server by adding internal cache for relatively slow to change data e g site dropdowns might changes few times per year I use zappa to deploy to lambda Does it make any sense Or does it flash memory each time a request processed I know that I can not rely on aws preserving state my goal here optimize performance a bit without spending a fortune on some redis instance not to mention ElastiCache UPDATE Yup the serverless deployment frameworks like zappa recycle the state so why I should not Below a hackernoon blog discuss the state recycling in greater details httpshackernoon comwriterecursiveawslambdafunctionstherightway4a4b5ae633b6 Whilst Lambda functions are ephemeral by design containers are still reused for optimization which means you can still leverage inmemory states that are persisted through invocations Not sure can one invalidate such cache env variables are likely local to lambda instance http sns probably difficultexpensive "
58182213,"""How to secure zappa `remote_env` bucket?""","https://stackoverflow.com/questions/58182213/how-to-secure-zappa-remote-env-bucket","{amazon-web-services,security,amazon-s3,bucket,zappa}","2019-10-01 09:49:07+03","2024-05-17 04:32:55.650704+03","I am successfully deploy my Django and using remote_env in the zappa yml file One concern here is security I split into 2 buckets I had posted my question in the zappa github but people there their rarely answer the question then I decided to put my question to stackoverflow"
48276864,"""Zappa Python 3.6 Lambda Function without API Gateway""","https://stackoverflow.com/questions/48276864/zappa-python-3-6-lambda-function-without-api-gateway","{python-3.x,aws-lambda,zappa}","2018-01-16 08:26:02+02","2024-05-17 04:31:22.8037+03","I am trying to deploy and test an AWS Lambda function I am working on and have tried both Zappa and nficanos PythonLambda Zappa using Task The problem arises when I trigger an asynchronous function using Zappas Task decorator the task times out in 30s for some reason that it is called from a ZappaFlaskPython AWS function invoked via API Gateway may have something to do with it and using Task remote_aws_lambda_function_namefunction_name remote_aws_regionapsoutheast1 causes the output to freeze and the unmodified function to not work at all I do not even get debug output in zappa tail PythonLambda While I am able to invoke and test my lambda locally with PythonLambda my code does not work on deployment and I miss Zappas advanced functionality like zappa tail that allows me to view the logs easily and check my numerous debug statements Currently I have to log into CloudWatch and try to find the log entries I cannot and figure out how to fix whatever bug is in the code Standalone Zappa I tried using Zappa to deploy the code directly as a separate Lambda function but I have no clue how to deploy a nonWSGI function using Zappa as soon as I deploy I invoke tail to see the function executing without any input and bumming out P The logs are as follows This is a similar question as is this but both do not solve my problem as I do not seem to be doing something obviously wrong How do I get my function to work [EDITUPDATE] kevinchristopherhenry asked if i would tried using task_sns as an invocation method and I have Unfortunately I get an error message about Parameter Validation failing similar to the one in the bug report filed on this issue this is from the report I lost the message when I closed my terminal P "
48344595,"""x-api-key only secures some resources""","https://stackoverflow.com/questions/48344595/x-api-key-only-secures-some-resources","{amazon-web-services,flask,aws-lambda,aws-api-gateway,zappa}","2018-01-19 15:39:22+02","2024-05-17 04:31:23.656605+03","My setup flask awsLambda zappa api gateway I do have a simple app running via above mentioned services In my zappa_settings json I have api_key_required set to true Is it possible to set it up the way that I will be using api key for every resource endpoint but one swagger documentation If yes where actually do I have to set it up I do not have any api key setup in my flask app so I assume it has to be done somewhere in aws console but I cannot find it EDIT Just to add to correct answer below If you use flasgger it is not sufficient to add just one public endpoint pointing to apidocs To make documentation work without api key I had to open these enpoints"
48464044,"""Use Serverless or Zappa without Iam GetRole authorization""","https://stackoverflow.com/questions/48464044/use-serverless-or-zappa-without-iam-getrole-authorization","{amazon-web-services,serverless-framework,zappa}","2018-01-26 15:06:35+02","2024-05-17 04:31:24.637938+03","I am using AWS Educate Starter account but their user account policy do not allow to have Iam GetRole So I am having this kind off errors in both Serverless framework and Zappa Is there any way to get the job done without this authorization I know that my access key has the full access to AWS lamda S3 Api Gateway etc "
11166715,"""embedded coffeescript in a coffeekup view in zappa""","https://stackoverflow.com/questions/11166715/embedded-coffeescript-in-a-coffeekup-view-in-zappa","{node.js,coffeescript,coffeekup,zappa}","2012-06-23 03:56:20+03","2024-05-17 04:31:33.117108+03","Is there a way to pass variable values just for reading obviously from the app to the embedded coffeescript in a coffeekup view in zappa such as It seems really slick if it would work as an alternative to embedded javascript Update Here are a few attempts I am just trying to use the string in my embedded script as an id I have written some quick javascript in a script function since it is just a string I can interpolate the variables easily so I have worked around it but the coffeescript way would be cleaner It makes sense that the scope would be lost on the browser sideI was just trying to figure out how to do it "
11818893,"""Zappa Error unable to find view (jade template)""","https://stackoverflow.com/questions/11818893/zappa-error-unable-to-find-view-jade-template","{node.js,coffeescript,pug,zappa}","2012-08-05 18:18:18+03","2024-05-17 04:31:34.080468+03","I am trying a zappa node application and am unable to get it working beyond a trivial example I have application coffee and i am getting an error Zappa seems to be prepending a guid to the file name Here is the complete trace Here is how my package json dependencies are setup"
48932980,"""\""ImportError\"" / \""undefined symbol: PyFPE_jbuf\"" with pymssql""","https://stackoverflow.com/questions/48932980/importerror-undefined-symbol-pyfpe-jbuf-with-pymssql","{python-3.6,pymssql,undefined-symbol,zappa}","2018-02-22 16:50:49+02","2024-05-17 04:31:25.612555+03","I am currently trying to launch a Lambda as a Zappa Python3 6 After deploying the app configuring everything on the AWSside I ran the following command to test the app in my local environment zappa invoke production script main And got this error tmpvirtualenv_namepymssql cpython36mx86_64linuxgnu so undefined symbol PyFPE_jbuf ImportError Traceback most recent call last File vartaskhandler py line 509 in lambda_handler return LambdaHandler lambda_handler event context File vartaskhandler py line 237 in lambda_handler handler cls File vartaskhandler py line 129 in init self app_module importlib import_module self settings APP_MODULE File varlanglibpython3 6importlib init py line 126 in import_module return _bootstrap _gcd_import name[level] package level File frozen importlib _bootstrap line 978 in _gcd_import File frozen importlib _bootstrap line 961 in _find_and_load File frozen importlib _bootstrap line 950 in _find_and_load_unlocked File frozen importlib _bootstrap line 655 in _load_unlocked File frozen importlib _bootstrap_external line 678 in exec_module File frozen importlib _bootstrap line 205 in _call_with_frames_removed File tmpvirtualenv_namescript py line 3 in module import pymssql ImportError tmpvirtualenv_namepymssql cpython36mx86_64linuxgnu so undefined symbol PyFPE_jbuf Most of the issues with PyFPE_jbuf that I have read about seem to involve multiple installations of a certain dependency but none of the solutions seem to apply here So far I have tried Uninstalling and reinstalling cython in my virtual environment and running zappa update Is my understanding of this error correct Any suggestions for troubleshooting Fixes Thanks "
49186886,"""spaCy throws OSError when deployed to AWS Lambda using zappa""","https://stackoverflow.com/questions/49186886/spacy-throws-oserror-when-deployed-to-aws-lambda-using-zappa","{python,aws-lambda,spacy,zappa}","2018-03-09 05:02:43+02","2024-05-17 04:31:27.468994+03","When deploying a Python spaCy app to AWS Lambda I get the following error in the deploy see below Why deploy using zappa The zip file is 125MB compressed so a direct upload from the awscli fails on space and a transfer to S3 also fails because the uncompressed is more than 250MB My program itself is not doing any multithreading nor multiprocessing and it is only using spaCy 2 0 I built and deployed on an EC2 AWS Linux t2 medium What are the exact steps that get a roundtrip answer from a spaCy AWS Lambda function Failure trace below"
7697377,"""If I plan to use Node, is it a mistake to jump right in to a CoffeeScript framework like Zappa?""","https://stackoverflow.com/questions/7697377/if-i-plan-to-use-node-is-it-a-mistake-to-jump-right-in-to-a-coffeescript-framew","{javascript,node.js,coffeescript,zappa}","2011-10-08 14:15:20+03","2024-05-17 04:31:28.584697+03","I have not used much JavaScript since the early 00s and I am starting to see that my current app is well suited for Node js But as a ruby developer coffeescript looks like it will be more my forte But I am concerned that if I jump right into a framework like Zappa without having spent any time with bare bones Node js that there will be some holes in my understanding Is this a valid fear"
7702670,"""Express Ignores RegExp routes, but serves string routes?""","https://stackoverflow.com/questions/7702670/express-ignores-regexp-routes-but-serves-string-routes","{node.js,express,zappa}","2011-10-09 09:49:43+03","2024-05-17 04:31:29.639566+03","I am met with a perplexing issue today I have been building a CMS system in Zappa which uses the Express framework I am doing custom routing so I have quite a few Catch all routes Basically if a route is not claimed by the system this instead pings the database and sees if the user has defined content at that route and displays it if it exists This was working beautifully until today I do not know what I did I was working on something completely different and made about a bazillion changes but suddenly RegExp routes stopped working Completely it is as though Express just ignores them alltogether The following code works and the following code does not This is just an example of course All RegExp routes are being ignored I am at a loss I have tried removing the dynamicHelpers that I was working on my entire auth module which did not exist before today and every other major thing I could think of in turn I have not done anything to node js other than install bcrypt and nodevalidator Why is Express suddenly ignoring one type of route but not another"
8751099,"""NodeJS HTTPServer takes a long time to close""","https://stackoverflow.com/questions/8751099/nodejs-httpserver-takes-a-long-time-to-close","{node.js,express,zappa}","2012-01-05 22:55:25+02","2024-05-17 04:31:30.574692+03","I am working on a Zappa app and I am currently trying to make a little watch script that stops the server clears require cache then rerequires and restarts the server when a file changes something like I also have a console log server id line in my request handler so I can check if the IDs match So what happens is when I change a dependency the server stops a new one starts and the new ID is logged which is all gravy However for a random amount of time after requests to the server still log the old ID indicating that the old listener is still attached somehow Eventually the listener seems to switch over and the new ID is logged Update it seems this is related to the close event unsurprisingly if I attach a simple console log close callback to the close event the ID starts changing after close appears However it can take a long time 10s for the close event to be fired why might it take so long"
9124221,"""My CSS's wont apply to my application rendered through zappa\\express\\node.js""","https://stackoverflow.com/questions/9124221/my-csss-wont-apply-to-my-application-rendered-through-zappa-express-node-js","{css,node.js,coffeescript,express,zappa}","2012-02-03 05:44:47+02","2024-05-17 04:31:31.358864+03","A copy of my code is here httppastebin comjcLRCrQr Everything loads fine and the CCS sheets resolve the javascript\coffescript files load and work correctly however the styles fail to apply a wierd thing is when i access the css files directly i e libcssbootstrap css they do not come out formatted infact its as if all the whitespace has been stripped out I have tried this in firefox and chromium and get the same issue any help would be greatly appreciated "
9493931,"""Sessions in Zappa (node.js)""","https://stackoverflow.com/questions/9493931/sessions-in-zappa-node-js","{session,node.js,express,zappa}","2012-02-29 05:16:33+02","2024-05-17 04:31:32.198681+03","What is the proper way to sessions enabled with Zappa The Zappa Crash Course implies that I need to merely use cookies session secret asdf but this is not exporting request session Am I missing something My call to console log below results in undefined being printed "
15156827,"""zappa js @include coffeescript method doesn't work""","https://stackoverflow.com/questions/15156827/zappa-js-include-coffeescript-method-doesnt-work","{node.js,function,include,coffeescript,zappa}","2013-03-01 11:38:23+02","2024-05-17 04:31:36.15652+03","I want to be able to call coffeescript and js functions declared in other files from a zappa app I cannot get it to work at all I tried using include as explained on the zappajs crashcourse but I get TypeError Object has no method include Heres my test app code and heres the function I am trying to call in another file "
15292889,"""NodeJS Zappa using @response, @request in called functions""","https://stackoverflow.com/questions/15292889/nodejs-zappa-using-response-request-in-called-functions","{node.js,function,scope,zappa}","2013-03-08 11:25:31+02","2024-05-17 04:31:37.238642+03","I can do this but when I try this response is undefined So obviously this is now out of scope I tried using the function definition instead of which is meant to pass this through but it makes no difference I can achieve the desired result using a helper Is that the only way of doing this"
16372913,"""Tell Mocha to use CoffeeScript files by default""","https://stackoverflow.com/questions/16372913/tell-mocha-to-use-coffeescript-files-by-default","{node.js,makefile,mocha.js,zappa}","2013-05-04 09:48:18+03","2024-05-17 04:31:38.355736+03","I am currently trying to set up testing in Mocha for an application I am writing using Zappa js So far I have been following this tutorial and converting what I need from JS to Coffeescript However I am a little stuck with trying to run tests I have a Makefile which currently looks like this And I have set up my package json file to run tests like so The issue I am finding is that because I am trying to write my Mocha tests using Coffeescript as well Mocha does not pick up any of my tests in the test folder when I run npm test I know for a fact that I can tell Mocha to run coffee files by using the following in Terminal which works What I want to know is how do I go about telling Mocha to use Coffeescript files by default"
17130292,"""strange closure behaviour""","https://stackoverflow.com/questions/17130292/strange-closure-behaviour","{javascript,coffeescript,zappa}","2013-06-16 04:48:42+03","2024-05-17 04:31:39.486797+03","I have got this program simplified from my actual program where I am unable to access all variable from the method of the object passed to view though I can access it from get Am I missing something here I get an exception all not defined when run using coffee hello coffee "
20409449,"""Zappa ( Express JS ) - Configurable Path to Deliver Assets""","https://stackoverflow.com/questions/20409449/zappa-express-js-configurable-path-to-deliver-assets","{node.js,routes,zappa}","2013-12-05 19:59:01+02","2024-05-17 04:31:40.591597+03","I am needing to respond to http get requests to serve assets I am needing help to write a route that matches the following description Path Info Ex I need to write a get method that will respond to the above type of URL read the file and send it to the user The following obviously does not work but I guess now you know what I am asking for Attempting to create configurable route for delivering assets "
20791629,"""Coffee not working on Zappa install (Mac OSX 10.9)""","https://stackoverflow.com/questions/20791629/coffee-not-working-on-zappa-install-mac-osx-10-9","{node.js,coffeescript,zappa}","2013-12-26 21:41:46+02","2024-05-17 04:31:41.81344+03","I am following the zappa guide here httpzappajs github iozappajsdocscrashcourse but I cannot seem to get coffee to work on Mac OSX 10 9 as demonstrated into the guide If I type I get I installed zappa with the following command Now it is likely this is a paths issue but I can not determine where npm installed coffee to Other SO questions suggest it is stored under usrlocalsharenpmcoffee but it is not I can find the npm directory under usrlocalbinnpm but coffee is not there Any suggestions to setting it up so it works correctly"
28872290,"""What is in the folder \""src: '/zappa/\"" - what are these files""","https://stackoverflow.com/questions/28872290/what-is-in-the-folder-src-zappa-what-are-these-files","{coffeescript,zappa}","2015-03-05 07:29:53+02","2024-05-17 04:31:42.744775+03","What is zappafull js I have some code with a zappazappa js file ethercalc and the tutorial has zappafull js and there is even a zappasimple js in the examples What are these files what is the difference any docs e g zappafull js from httpszappajs github iozappajsdocscrashcourse Also I get a not found error with zappafull js and have no idea if I can use zappazappa js instead "
38548173,"""How do I get a stack trace from Zappa with Python on AWS Lambda""","https://stackoverflow.com/questions/38548173/how-do-i-get-a-stack-trace-from-zappa-with-python-on-aws-lambda","{python,flask,aws-lambda,zappa}","2016-07-24 02:23:13+03","2024-05-17 04:31:43.834743+03","I am using the Zappa framework httpsgithub comMiserlouZappa with Python and Flask on AWS Lambda When it raises an exception it appears in the CloudWatch log but is illegible to me I do get a normal Flask stack trace returned from a HTTP GET in debug builds however My question is how do I get a reasonable Flask stack trace in logs from production code When exceptions are raised in production all I have is log messages Nice stack trace from HTTP GET Hard to understand stack trace from CloudWatch log"
39008749,"""deploy web application using zappa""","https://stackoverflow.com/questions/39008749/deploy-web-application-using-zappa","{amazon-web-services,flask,aws-lambda,serverless-framework,zappa}","2016-08-18 01:47:55+03","2024-05-17 04:31:44.888574+03","I was following the steps here httpsgithub comMiserlouZappa to try to deploy my web app to AWS My app is using flask as server side and it also uses flask to host clientside JavaScript html and css files I can successfully host it on my local machine and on a server machine I used host0 0 0 0 on the server and I also specified a port number All I need to do is to run python my_app py The client side sends requests to the server and the server will respond I tried to deploy with zappa but the page loads to an empty one I am not sure where I did wrong One thing is that there are external libraries needed for my python program how do I install it when I deploy it to my AWS lambda"
45340414,"""Can I disable autocreate S3 Bucket in Zappa Init?""","https://stackoverflow.com/questions/45340414/can-i-disable-autocreate-s3-bucket-in-zappa-init","{python-2.7,amazon-web-services,serverless-architecture,zappa}","2017-07-27 02:38:31+03","2024-05-17 04:31:56.165357+03","I want to get started with zappa framework but when I am running init zappa I got this notification How to disable autocreate s3 bucket"
45805036,"""OpenCV install directory only has one .so file?""","https://stackoverflow.com/questions/45805036/opencv-install-directory-only-has-one-so-file","{python,amazon-web-services,opencv,lambda,zappa}","2017-08-21 20:26:29+03","2024-05-17 04:31:56.752445+03","I installed Opencv in a Docker container so that I can upload the linux binaries for support a git project that is not mine I need it to run python 3 6 and opencv 3 x which all seems to be working fine However the directory containing the cv2 folder only has one so file cv2 cpython36mx86_64linuxgnu so The project I am trying to contribute to has the build for opencv py2 7 and that folder has dozens of so files for many relevant opencv packages so I feel like something is wrong Can anyone help And heres the link to the project I am trying to add support to httpsgithub comMiserloulambdapackagestreemasterlambda_packagesOpenCV Assuming you do not want to unpack the tar heres how the inside looks for the python 2 7 package"
39678267,"""Deployment of Django app to AWS Lambda using zappa fails even though Zappa says your app is live at the following link""","https://stackoverflow.com/questions/39678267/deployment-of-django-app-to-aws-lambda-using-zappa-fails-even-though-zappa-says","{django,python-2.7,amazon-s3,lambda,zappa}","2016-09-24 15:59:39+03","2024-05-17 04:31:45.947367+03","I came across the amazing serverless AWS Lambda recently and thought it would be great to have my app up there and not have to worry about auto scaling load balancing and all for apparently a fraction of the cost So then I found out about Zappa which takes care of deploying your python app to AWS Lambda for you Amazing is what I thought Its actually on paper very easy to do just follow the instructions here httpsgithub comMiserlouZappa Anyway I followed the instructions with just a very basic django app using virtualenv that just contained the django rest framework tutorial in it Tested it locally and works fine Then I set up my s3 bucket and authenticated my credentials with the awscli Then I ran the 2 thing you need to deply Zappa init Zappa deploy dev Then it went through all its processes packaging into zip deploying etc Then at the end it said your app is live and here is the url It gave me a url to try I pasted the url into the browser and this is what the browser displayed for me Oh yeah and my s3 bucket is still empty and so is my aws lambda service If anyone as any ideas I would be very grateful I would love to get this working It would be an incredibly powerful resource "
40139989,"""Running Neo4j via a AWS lambda function error: [Errno 104] connection reset by peer""","https://stackoverflow.com/questions/40139989/running-neo4j-via-a-aws-lambda-function-error-errno-104-connection-reset-by-p","{python,amazon-web-services,neo4j,aws-lambda,zappa}","2016-10-19 19:28:35+03","2024-05-17 04:31:47.238371+03","I have deployed a flask app via zappa The flask app makes a call to graphene a service running neo4j db instances I can connect to graphene through the terminal like this flagging driver as unencrypted and can run queries etc However when I deploy this to AWS I get the error listed in the title Errno 104 connection reset by peer Stuck on this not sure if there is other relevant info that would help solve the problem "
41228986,"""Error in Flask App deployment using Zappa""","https://stackoverflow.com/questions/41228986/error-in-flask-app-deployment-using-zappa","{python,amazon-web-services,flask,aws-lambda,zappa}","2016-12-19 18:42:54+02","2024-05-17 04:31:47.971363+03","I am very new in zappa Currently I am trying to deploy my flask project using zappa While deploying my Flask app I get this error Does anyone know why this error is coming or how I can resolve this"
50763163,"Serverless Wrapper using Google Cloud Functions","https://stackoverflow.com/questions/50763163/serverless-wrapper-using-google-cloud-functions","{google-cloud-platform,google-cloud-functions,serverless-framework,serverless}","2018-06-08 14:46:43+03","2024-05-17 05:00:03.409032+03","I am trying to write a custom wrapper using serverless and google cloud functions On executing the above command I receive invoke command not found Is there a way I can assign the CLI options for serverless"
41635482,"""Asynchronous task queue for serverless AWS Lambda / Django / Zappa [duplicate]""","https://stackoverflow.com/questions/41635482/asynchronous-task-queue-for-serverless-aws-lambda-django-zappa","{django,amazon-web-services,aws-lambda,zappa}","2017-01-13 13:14:10+02","2024-05-17 04:31:49.061217+03","I have been experimenting with deploying Django apps to AWS Lambda with Zappa In some of my other EC2EBS hosted Django projects if there is a need to perform some heavier calculation that can take some time such as sending a lot of emails or just some processing that takes over a minute Celery is used It is a task queue system where the tasks are sent to a queue a response can be returned immediately and workers can process the tasks later What would be the best way to implement a Celerylike task queuing system for a ZappaDjango app running in Lambda ZappaLambda supports scheduled tasks and the models of the app could be designed in such a way that the processing could be done by scheduled functions later and the results could be saved to DB But I do not think polling for tasks once a minute is robust enough there is a oftena need to start the delayed task immediately Is there an easy way to return a response from a Django view immediately and have a function from inside the Django app with arbitrary parameters queued to be executed later"
41885825,"""Forbidden Error on get_thing_shadow with boto3, aws iot and alexa""","https://stackoverflow.com/questions/41885825/forbidden-error-on-get-thing-shadow-with-boto3-aws-iot-and-alexa","{aws-lambda,boto3,aws-iot,zappa}","2017-01-27 01:29:43+02","2024-05-17 04:31:50.026855+03","I am running a custom alexa skill with flaskask that connects to aws iot Using same credentials work when running the script on local machine and using ngrok to assign to Alexa skill endpoint But when I use zappa to upload as lambda I get the following When using ngrok the skill works completely fine What am I missing here Help "
44208455,"""zappa scheduling with Python""","https://stackoverflow.com/questions/44208455/zappa-scheduling-with-python","{python,twilio,aws-lambda,amazon-sns,zappa}","2017-05-26 18:55:42+03","2024-05-17 04:31:52.022525+03","I am running this code to send a sms message with Twilio My application is hosted on AWS Lambda using Pythons Zappa The problem is that I need to be able to schedule this message to be sent 10 minutes in the future Zappa offers task execution but their documentation is unclear for how something like this should be done Thanks for the help "
44988128,"""Zappa Deployment Error for Alexa Skill: Object 'NoneType' not callable?""","https://stackoverflow.com/questions/44988128/zappa-deployment-error-for-alexa-skill-object-nonetype-not-callable","{python,amazon-web-services,openssl,alexa-skills-kit,zappa}","2017-07-08 16:06:18+03","2024-05-17 04:31:53.269682+03","Whenever I try to deploy my Alexa Skill for the Amazon Promotion I see this error when I go to the web address of the endpoint After investigating this further I ran zappa tail to see what the issue is I scrolled up through the tail and noticed this error message What does this mean How can I resolve this I am working on Ubuntu 14 04 Python 3 6 using flaskask "
44999319,"""Failure of endpoint after deployment to AWS using Zappa""","https://stackoverflow.com/questions/44999319/failure-of-endpoint-after-deployment-to-aws-using-zappa","{python-3.x,amazon-web-services,flask-restful,zappa}","2017-07-09 17:49:18+03","2024-05-17 04:31:54.174306+03","I tried the quick start examples and deployed them all to the aws and they worked as expected After I deployed my project it did not work with unhelpful message when hitting the endpoint I checked AWS and everythign is there the API gateway endpoint proxy the lambda function and the role Here is my zappa_settings file Here is the zappa tail some data were masked wit xxx for security The output of pip freeze Any suggestions"
45106563,"""How do I get an AWS Lambda Remaining time using Python and Zappa?""","https://stackoverflow.com/questions/45106563/how-do-i-get-an-aws-lambda-remaining-time-using-python-and-zappa","{python,aws-lambda,python-3.6,zappa}","2017-07-14 15:22:52+03","2024-05-17 04:31:55.261288+03","I am using Flask and Zappa to deploy to AWS Lambda but one of my tasks takes more than 300 seconds to execute so the lambda shuts down I would like to call another lambda before it happens to finish the work is it possible to get the remaining time using Zappa"
45829958,"""Zappa serverless aws lambda issue""","https://stackoverflow.com/questions/45829958/zappa-serverless-aws-lambda-issue","{python,aws-lambda,serverless-architecture,zappa}","2017-08-23 03:00:11+03","2024-05-17 04:31:57.870443+03","With Zappa sample application to deploy into AWS using zappa deploy command all the steps are happening as expected as shown below But when accessing above endpoint getting internal error response Later verified created S3 bucket there is no file uploaded Empty bucket Later verified lambda as well it has got default code Hence getting internal error response As per logs it has got no module named builtins Unable to import module handler No module named builtins How to debug zappa deployment and how to install python packages "
45906285,"""Zappa not packaging nested source directories""","https://stackoverflow.com/questions/45906285/zappa-not-packaging-nested-source-directories","{python,python-2.7,zappa}","2017-08-27 14:56:53+03","2024-05-17 04:31:58.789247+03","I have a python application that I am trying to deploy with zappa The root level of my directory has the application and a directory named helper The structure looks like this Within the helper directory there is an api py file that is referenced in my app py like so When I run the command to package and deploy using zappa deploy dev it will not bundle the helper directory in the deployment only the root level application directory How do you tell zappa to include all subdirectories when packaging and deploying"
45918828,"""Custom Authoriser not called by AWS API Gateway""","https://stackoverflow.com/questions/45918828/custom-authoriser-not-called-by-aws-api-gateway","{flask,aws-lambda,aws-api-gateway,zappa}","2017-08-28 12:19:03+03","2024-05-17 04:31:59.689286+03","My Flask app users Facebook OAuth 2 for authorization and is deployed on API Gateway and Lambda with Zappa The app needs to request an authorizer token and I think I need to use a custom authorizer for this as the normal lambda cannot make external requests I have setup the resource and linked it to the custom authorizer and that to my authorizer lambda but I am getting an error and the lambda authorizer does not appear to have been called What am I doing wrong Thanks httpss3euwest1 amazonaws comawsapigatewaysupportendpointerror png httpss3euwest1 amazonaws comawsapigatewaysupportnoeventsinlambdamonitoring png httpss3euwest1 amazonaws comawsapigatewaysupportcustomautorizer png httpss3euwest1 amazonaws comawsapigatewaysupportapigatewayresourcesetup png"
46164054,"""Using Zappa as a conda user""","https://stackoverflow.com/questions/46164054/using-zappa-as-a-conda-user","{flask,virtualenv,aws-lambda,conda,zappa}","2017-09-11 20:41:29+03","2024-05-17 04:32:00.635986+03","I am trying to create an API and looking to use FlaskAWS Lambda to do so As best as I can tell Zappa looks like the best only deployment option The problem is that I use conda to manage my environments and Zappa does not currently have a version that can work in conda It requires virtualenv My questions are"
46554705,"""Deploying with zappa, Django project in subfolder""","https://stackoverflow.com/questions/46554705/deploying-with-zappa-django-project-in-subfolder","{django,aws-lambda,zappa}","2017-10-03 23:03:57+03","2024-05-17 04:32:02.54662+03","I am new to Docker AWS Lambda and Zappa but I am trying to configure a project with very little success I connect to Docker dockercompose run web bash activate the environment configure the AWS credentials and run zappa init and zappa deploy However after deployment I get an error executing zappa tail I believe that that is because my dir structure is not the standard So my django project is inside the project folder as I do not like having all the files thrown there and mixed with other configuration files My zappa config file looks like this And Dockerfile Can you tell me how to set it up correctly Thanks UPDATE Latest error after moving to subfolder"
46942082,"""zappa python 3.6 Flask lambda""","https://stackoverflow.com/questions/46942082/zappa-python-3-6-flask-lambda","{lambda,zappa,serverless}","2017-10-25 21:07:20+03","2024-05-17 04:32:03.320215+03","Here is the error I get message An uncaught exception happened while servicing this request You can investigate this with the zappa tail command traceback [Traceback most recent call last \n File \vartaskhandler py\ line 454 in handler\n response Response from_app self wsgi_app environ \n File \vartaskwerkzeugwrappers py\ line 903 in from_app\n return cls _run_wsgi_app app environ buffered \n File \vartaskwerkzeugtest py\ line 884 in run_wsgi_app\n app_rv app environ start_response \n \TypeError NoneType object is not callable\n\] I do not have the main block since lambda does not go into it I have code in init py and my class is in another file Can anyone please help I am clueless because this is my first time trying out lambda and zappa FYI The above code works great on local machine Vagrant venv Python 3 6 Flask Thanks for all your help"
47060661,"""zappa custom authorizer for flask with cors""","https://stackoverflow.com/questions/47060661/zappa-custom-authorizer-for-flask-with-cors","{python,amazon-web-services,aws-lambda,zappa,flask-cors}","2017-11-01 17:39:18+02","2024-05-17 04:32:04.440825+03","I am using flaskcors for a aws python aws lambda API I deployed it with zappa it worked as intended Yet cors does not work with custom authorizer inspired by httpsgithub comawslabsawsapigatewaylambdaauthorizerblueprintsblobmasterblueprintspythonapigatewayauthorizerpython py I changed the authorizer code with tryexcept and generate a policy for OPTION method on exception still Option method returns 401 I do not mind a workaround if it makes things easy Thanks I tried one of suggested solutions that is to set headers for 401 responses in API Gateway regretfully browser preflight expects a successful status code Update I felt back on implementing my authorizer also considered using aws auth service "
47108354,"""How to run an executable in aws lambda?""","https://stackoverflow.com/questions/47108354/how-to-run-an-executable-in-aws-lambda","{python,amazon-web-services,aws-lambda,zappa}","2017-11-04 07:04:32+02","2024-05-17 04:32:05.58848+03","I am trying to deploy a python file using Zappa The python file inturn calls an executable which is in the same directory as the python file It works fine when I run it locally using ngrok but it fails when deployed with Zappa I understand that we can use this workaround for executables in aws lambda using node js How can I do it using python"
50026220,"""AWS Lambda not receiving Content-Type""","https://stackoverflow.com/questions/50026220/aws-lambda-not-receiving-content-type","{flask,aws-lambda,aws-api-gateway,zappa}","2018-04-25 15:35:20+03","2024-05-17 04:32:14.187148+03","I am experimenting with zappa in order to deploy a Flask application to API Gateway Lambda Proxy However I am not receiving the ContentType header in my application not even as lowercased as I have seen in other answers Do I need to configure anything specific to this header Other headers get passed along to my application with no configuration necessary for instance These are the headers I am receiving in lambda"
47146586,"""AWS Lambda with Zappa fails on \""import module 'handler': No module named 'werkzeug' \""""","https://stackoverflow.com/questions/47146586/aws-lambda-with-zappa-fails-on-import-module-handler-no-module-named-werkze","{python,amazon-web-services,aws-lambda,zappa}","2017-11-06 22:02:46+02","2024-05-17 04:32:06.566751+03","After deploying my python application with Zappa and visiting the aws link I can see the following error When I checked the logs I found the source of the error I then decided to pip install r requirements txt to ensure that it is installed inside my virtual environment which it is Something is going wrong when it is uploaded to AWS I am not sure if this is the core issue but I did notice the package name in the logs is different than the one inside requirements txt file The package name in the logs does not start with a capitalized W while the package name in the requirements txt does Other than that I am not sure what I am doing wrong Any and all help is appreciated"
47179907,"""Server error when trying to reach a domain [Zappa]""","https://stackoverflow.com/questions/47179907/server-error-when-trying-to-reach-a-domain-zappa","{python-2.7,amazon-s3,aws-lambda,virtualenv,zappa}","2017-11-08 12:36:15+02","2024-05-17 04:32:07.68746+03","I deployed a website to AWS using Zappa a few hours ago I can access the API gateway url but when I try to access the domain url on a browser I get a server not found error Does anyone know a solution Or do you need to wait 24 hours or something "
49370016,"""Flask-ask Cannot Deploy zappa""","https://stackoverflow.com/questions/49370016/flask-ask-cannot-deploy-zappa","{python,pip,aws-lambda,zappa}","2018-03-19 18:29:02+02","2024-05-17 04:32:08.511663+03","I was trying to deploy flaskask alexa skill using Zappa I followed the instructions on Alexa Tutorial Deploy FlaskAsk Skills to AWS Lambda with Zappa` But I am getting a when I run zappa deploy dev"
49563491,"""Wrapper error in Django Zappa deployment""","https://stackoverflow.com/questions/49563491/wrapper-error-in-django-zappa-deployment","{python,django,amazon-web-services,aws-lambda,zappa}","2018-03-29 19:13:41+03","2024-05-17 04:32:09.581146+03","I am trying to deploy my Django application using Zappa I am using python 3 6 although I also have python 2 7 installed on my MacBook never used it Everything goes smoothly with the deployment except when I go to the url I get this error message An uncaught exception happened while servicing this request You can investigate this with the zappa tail command traceback [Traceback most recent call last \n File \vartaskhandler py\ line 452 in handler\n response Response from_app self wsgi_app environ \n File \vartaskwerkzeugwrappers py\ line 903 in from_app\n return cls _run_wsgi_app app environ buffered \n File \vartaskwerkzeugwrappers py\ line 57 in _run_wsgi_app\n return _run_wsgi_app args \n File \vartaskwerkzeugtest py\ line 884 in run_wsgi_app\n app_rv app environ start_response \n \TypeError NoneType object is not callable\n\] When I use the tail command I get the following error [1522350439826] NoneType object is not callable [1522350561286] [DEBUG] 20180329T190921 282Z afbf4f1c338411e88a03a1095dcd99f5 Zappa Event time 20180329T190919Z detailtype Scheduled Event source aws events account 753712688736 region useast1 detail version 0 resources [arnawseventsuseast1753712688736rulersuriproductionzappakeepwarmhandler keep_warm_callback] id f15a5fd5aaf9dfb71553d14bb33d1b2b kwargs [1522350561286] [DEBUG] 20180329T190921 282Z afbf4f1c338411e88a03a1095dcd99f5 Zappa Event I have tried resetting my virtual env and requirements txt from the scratch but no help This is what my Zappa settings file looks like Does anyone know what this error is and how can I fix it"
49790226,"""Public callback URLs using AWS API Gateway Cognito and Zappa""","https://stackoverflow.com/questions/49790226/public-callback-urls-using-aws-api-gateway-cognito-and-zappa","{amazon-web-services,aws-api-gateway,amazon-cognito,fitbit,zappa}","2018-04-12 07:14:25+03","2024-05-17 04:32:10.558164+03","I had a question about Zappa API Gateway AWS Cognito and callback urls I have setup Zappa with AWS Cognito and API Gateway so that all my backend routes are protected using this and this Every xmlhttprequest I make from the clientside to my API backend has a newly refreshed ID token attached to it in the HTTP Request authorization header and it all works fine Now I need my app to access user data from a thirdparty API The thirdparty API needs a callback URL Say for example it is httpsmyname executeapi uswest1 amazonaws comdevauththirdpartyappcallback Now when the third party app redirects to this I understand that this needs to be a public route on API gateway Is there a way from within Zappa to make that callback route public instead of protected Or would it be a pure API Gateway setup issue Zappa creates something called ZappaAuthorizer on API Gateway that seems to apply to all routes I am doing this to get a token during the Fitbit Oauth2 process after the client has given consent i e step 2 of the authorization grant flow here If it helps I am using pythonfitbit from orcasgit and Python Flask with blueprints for my backend "
49938509,"""Error after deploying my flask script in Amazon lambda using zappa""","https://stackoverflow.com/questions/49938509/error-after-deploying-my-flask-script-in-amazon-lambda-using-zappa","{python,amazon-web-services,flask,aws-lambda,zappa}","2018-04-20 09:32:43+03","2024-05-17 04:32:11.507061+03","I created my flask application to connect with mongodb and retrieve information from a collection based on the api methods here is my code I ran zappa init and zappa deploy dev and got the url but when I ran the url httpsabcd executeapi useast2 amazonaws comdevframework I am getting the below error here is my zappa json file Please help Thanks in advance zappa tail also not working"
49941407,"""Internal Server Error on deployed Zappa app""","https://stackoverflow.com/questions/49941407/internal-server-error-on-deployed-zappa-app","{python,aws-lambda,aws-api-gateway,zappa}","2018-04-20 12:12:39+03","2024-05-17 04:32:12.097403+03","I have managed to deploy a simple hello world app with zappa however when I visit the URL the app is deployed to all I get is message Internal server error When I tried to run zappa tail production I receive the error botocore errorfactory ResourceNotFoundException An error occurred ResourceNotFoundException when calling the DescribeLogStreams operation The specified log group does not exist I am running windows 10 python 3 6 and zappa 0 45 1 The virtual environment uses My app py looks like my zappa_settings json is"
49943148,"""Facing issue in Zappa when try to access the API with Authorization token""","https://stackoverflow.com/questions/49943148/facing-issue-in-zappa-when-try-to-access-the-api-with-authorization-token","{django,django-rest-framework,aws-lambda,auth0,zappa}","2018-04-20 13:48:22+03","2024-05-17 04:32:13.195687+03","I have implemented an API server using Django and DjangoRESTFramework with Zappa in AWS Lambda I use Auth0 for identity When I try to signup or login from localhost it works well and good but when I try to do the same from the AWS domain it throws timeout errors URL httpsapi bearete comapiv1signup Logs Starting new HTTPS connection 1 arete auth0 com Task timed out after 30 03 seconds I need help to solve this issue Thank you "
64850608,"""cannot import name 'Flask' from 'flask' while using Zappa and Windows 10""","https://stackoverflow.com/questions/64850608/cannot-import-name-flask-from-flask-while-using-zappa-and-windows-10","{python,windows,aws-lambda,zappa}","2020-11-15 22:50:47+02","2024-05-17 04:33:54.937847+03","I am getting this error while trying to deploy using Zappa from my Windows 10 machine The output of zappa deploy dev is and this is my code How can I solve it"
50774390,"""How to install c libraries in aws lambda?""","https://stackoverflow.com/questions/50774390/how-to-install-c-libraries-in-aws-lambda","{python,aws-lambda,zappa}","2018-06-09 12:39:49+03","2024-05-17 04:32:15.090097+03","I am deploying a deep learning model that uses mxnet using flask and zappa Everything works fine on the local system But when I deploy using zappa deploy myapp it gives the following error I was wondering if there is any way to zip these so files in the package and then deploy it using zappa "
50788813,"""AWS S3 boto download error""","https://stackoverflow.com/questions/50788813/aws-s3-boto-download-error","{python,amazon-web-services,flask,boto3,zappa}","2018-06-10 23:09:33+03","2024-05-17 04:32:16.048604+03","I am using AWS S3 with the help of the boto3 client in flask I am able to upload my files successfully to the s3 bucket Deployed Appliation httpsk8m00unpc6 executeapi useast1 amazonaws comdev I have been getting an error messageForbidden The following code explains the implementation of the download in flask Also I have given public access to all files I am also able to download the provided link when I enter it into a browser When I implement it in flask the efforts go in vain What might be the error"
50937959,"""Zappa deployment error : GET request yields 502 response code""","https://stackoverflow.com/questions/50937959/zappa-deployment-error-get-request-yields-502-response-code","{python,amazon-web-services,aws-lambda,zappa,flask-ask}","2018-06-19 22:50:39+03","2024-05-17 04:32:17.095699+03","I am trying to deploy the first zappa example app built with FlaskAsk It looks like everything works good but after the Deploying API statement I get the following error Error Warning Status check on the deployed lambda failed A GET request to yielded a 502 response code Here is the code I am executing with minor changes to the sample app Can someone please help me out here"
51020809,"""Zappa doesn't work with Flask Blueprint""","https://stackoverflow.com/questions/51020809/zappa-doesnt-work-with-flask-blueprint","{python,flask,blueprint,zappa}","2018-06-25 10:02:13+03","2024-05-17 04:32:17.925181+03","I have a Flask app and I am using flask_restful and blueprint to serve up my APIs After deploying my app with Zappa Zappa gives me Error like below When I removed my api zappa did not give me any error So I could know Blueprint is problem How can I solve this problem Of course Iam using Python 3 6 Zappa version used latest 0 46 1 Operating System and Python version mac os High Sierra 10 13 5 17F77 The output of pip freeze"
51064261,"""How to set Zappa to invoke lambda function directly?""","https://stackoverflow.com/questions/51064261/how-to-set-zappa-to-invoke-lambda-function-directly","{python,amazon-web-services,flask,aws-lambda,zappa}","2018-06-27 13:38:11+03","2024-05-17 04:32:18.858077+03","Heres my backend structure Heres my app py and lambda_handler in event_lambda py I have tried to invoke lambda function through the following event in zappa_settings json But it only returns This is the test function for backend without lambda from the app py The lambda function is invoked only when I invoke it manually using the command How can I set zappa to invoke the lambda function directly"
51165105,"""Zappa django response time""","https://stackoverflow.com/questions/51165105/zappa-django-response-time","{django,serverless,zappa,aws-serverless}","2018-07-04 02:44:54+03","2024-05-17 04:32:19.557569+03","When deploying a barebones Django application using Zappa I am finding my TTFB Time To First Byte times are between 280800ms however generally around 700ms Which is far too long for a website Other people seem to be getting much better response times such as 125ms to 500ms probably averaged about 175ms httpswww reddit comrdjangocomments44r55jannouncing_djangozappa_serverless_django_on_aws To reproduce my issue And go to the URL supplied Any advice on how to speed this up would be much appreciated "
51473971,"""Zappa set `app_function` correctly""","https://stackoverflow.com/questions/51473971/zappa-set-app-function-correctly","{python,flask,zappa}","2018-07-23 07:52:17+03","2024-05-17 04:32:20.176563+03","I have the following setup of my Flask application application py app__init__ py Now I am trying to deploy the application with zappa to AWS When running zappa init it prompts for an app_function however I am not entirely sure what to set it to So far I have tried Which returns a 502 error at the end Running zappa tail "
51912630,"""Zappa + RDS Connection Issues""","https://stackoverflow.com/questions/51912630/zappa-rds-connection-issues","{django,amazon-web-services,amazon-rds,zappa}","2018-08-18 21:19:06+03","2024-05-17 04:32:21.48739+03","I am hoping someone could help me out with some questions regarding VPC I am pretty new to AWS and I am just trying to build a sample web app to get my feet wet with everything I have been roughly following this guide to try and setup a basic project using Zappa Django I have gotten to the state where I am configuring a VPC and trying to add a Postgres instance that Djangozappa can talk to Per that article I have setup up my network like this My issue comes when I try and run migrations on my local machine using python manage py makemigrations I keep getting an error that says Is the server running on host zappadbinstance xxxxx rds amazonaws com 192 168 x xxx and accepting TCPIP connections on port 5432 I am not sure what step I am missing I followed this guide and this post to setup the bastion host and I know it is working because I am able to 1 ssh from my terminal and 2 establish a database connection using PSequel on my local machine I feel like I am really close but I must be missing something Any help or pointers would be greatly appreciated "
52081623,"""im trying to run \""zappa init\"" on my ubuntu server on aws also conda is installed.... when i init zappa its asking for \""active virtual env\""""","https://stackoverflow.com/questions/52081623/im-trying-to-run-zappa-init-on-my-ubuntu-server-on-aws-also-conda-is-installed","{zappa}","2018-08-29 15:55:11+03","2024-05-17 04:32:22.283206+03","Oh no An error occurred Need help Found a bug Let us know D File bug reports on GitHub here httpsgithub comMiserlouZappa And join our Slack channel here httpsslack zappa io Love Team Zappa "
52545827,"""Python AWS Lambda deploy - Zappa package without Zappa requirements""","https://stackoverflow.com/questions/52545827/python-aws-lambda-deploy-zappa-package-without-zappa-requirements","{python,aws-lambda,zappa}","2018-09-27 22:12:38+03","2024-05-17 04:32:22.872713+03","I want to package and deploy a simple project on AWS Lambda using Zappa but without the Zappa requirements overhead Given this simple scenario I have a deploy sh script that does that This works BUT the final lambda zip is way bigger then it needs to be I know that for this specific case the Zappa is not needed but in the real project I am using some libraries that requires httpsgithub comMiserloulambdapackages and using Zappa is the simplest way to install them How do I generate the python lambda package without this overhead"
54587976,"""Attribute not found for closure""","https://stackoverflow.com/questions/54587976/attribute-not-found-for-closure","{python,amazon-web-services,flask,boto3,zappa}","2019-02-08 07:47:37+02","2024-05-17 04:32:35.525935+03","Take a function and return a new function that is asynchronous and returns its response id lambda throws module rap_stats MapReduce has no attribute func_wrap_async AttributeError It works when I remove task and response_id but I need these in order for it to properly function asynchronously"
52649073,"""GraphQL on AWS lambda: The request could not be satisfied. How to solve 403 error?""","https://stackoverflow.com/questions/52649073/graphql-on-aws-lambda-the-request-could-not-be-satisfied-how-to-solve-403-erro","{django,aws-lambda,graphql,graphene-python,zappa}","2018-10-04 14:20:15+03","2024-05-17 04:32:23.886531+03","I have deployed an GraphQL API to AWS Lambda using the Zappa Framework If I do a request from my local machine to the local server version like this everything works fine If I do the same request to my AWS URL httpsxyz executeapi eucentral1 amazonaws comproductiongraphql it yields the following error It should be noted that the GraphiQL view works properly under the mentioned AWS URL where I can do my queries without any problems Am I missing something to get it going from other devices machine to machine Cheers "
53470739,"""Using django with sqlite on aws lambda""","https://stackoverflow.com/questions/53470739/using-django-with-sqlite-on-aws-lambda","{django,amazon-web-services,sqlite,aws-lambda,zappa}","2018-11-25 18:46:02+02","2024-05-17 04:32:24.988009+03","I am trying to deploy my django app on aws lambda using zappa However when I try to login to the app I get attempt to write a readonly database My understanding is that this is because sqlite is an embedded database and you cannot use embedded databases on lambda because they require writeaccess which is not possible on lambda and just generally not a good idea to try and persist data on lambda Is this correct Is my only option to thus switch to using postgres or mysql or another server database"
53736846,"""How to handle sessions in django app when deployed in aws lambda""","https://stackoverflow.com/questions/53736846/how-to-handle-sessions-in-django-app-when-deployed-in-aws-lambda","{django,amazon-web-services,zappa}","2018-12-12 05:54:00+02","2024-05-17 04:32:26.061998+03","I want to deploy Django application in aws using Zappa In my local server sessions are working fine Is it possible to handle same sessions in aws if not is there any method to handle sessions in aws Zappa TIA"
53738730,"""AWS lambda serverless website (using django ) session maintaining""","https://stackoverflow.com/questions/53738730/aws-lambda-serverless-website-using-django-session-maintaining","{django,amazon-web-services,zappa}","2018-12-12 08:17:42+02","2024-05-17 04:32:27.092979+03","I developed a website using django Recently I am trying to make it serverless by deploying to lambda I have not figured out how to maintain the session after user logged in when deployed to lambda any suggestions please "
53774428,"""Getting task timeout error when accessing the django application which is deployed on AWS""","https://stackoverflow.com/questions/53774428/getting-task-timeout-error-when-accessing-the-django-application-which-is-deploy","{django,amazon-web-services,zappa}","2018-12-14 06:21:08+02","2024-05-17 04:32:28.027359+03","I have my django application deployed on AWS It is working fine as of now but when i tried to hit an url which is deployed on ec2 instance it is showing task time out error is there any way to overcome it my django application is deployed on aws through zappa"
53856069,"""How to invoke a @app.route function set up in zappa from outside using boto3?""","https://stackoverflow.com/questions/53856069/how-to-invoke-a-app-route-function-set-up-in-zappa-from-outside-using-boto3","{python,amazon-web-services,aws-lambda,zappa}","2018-12-19 17:07:23+02","2024-05-17 04:32:29.040969+03","I have a zappa lambda deployed at arnawslambdauseast1xxxxxfunctionxxxxprod which serves a route like so I want to invoke the above test function from another lambda function like so The above call succeeds like so How do I tell the zappa handler to invoke the test function Update I found that I can add a custom handler in zappa_settings json like so lambda_handler lambdafilename test Then I changed the test like so Now the invocation returns the expected result test OK1 However with this custom handler I lose the WSGI functionality that zappaflask provides "
53979180,"""Getting NoSuchEntity Error on Zappa Deploy""","https://stackoverflow.com/questions/53979180/getting-nosuchentity-error-on-zappa-deploy","{python,aws-lambda,zappa}","2018-12-30 16:06:10+02","2024-05-17 04:32:29.570967+03","Trying to run zappa deploy and getting an error"
54013486,"""\""TypeError: 'Klein' object is not callable\"" while calling an endpoint from AWS Lambda""","https://stackoverflow.com/questions/54013486/typeerror-klein-object-is-not-callable-while-calling-an-endpoint-from-aws-l","{python,amazon-web-services,aws-lambda,serverless,zappa}","2019-01-02 21:38:14+02","2024-05-17 04:32:30.673139+03","I am trying to run a simple server I packaged and uploaded it to AWS Lambda using Zappa hover i am getting this after calling the endpoint any idea why"
54212375,"""How to deploy on AWS Lambda with Zappa through Git""","https://stackoverflow.com/questions/54212375/how-to-deploy-on-aws-lambda-with-zappa-through-git","{django,python-3.x,amazon-web-services,aws-lambda,zappa}","2019-01-16 07:43:35+02","2024-05-17 04:32:31.555629+03","I am looking for ways to deploy on AWS Lambda with ZAPPA through my github repository I could not find any videos or blogs about this Does anyone know"
54307715,"""Adding a Geo Django project to AWS Lambda using Zappa. Getting OSError: cannot open shared object file: No such file or directory""","https://stackoverflow.com/questions/54307715/adding-a-geo-django-project-to-aws-lambda-using-zappa-getting-oserror-cannot-o","{django,python-3.x,aws-lambda,zappa}","2019-01-22 11:51:43+02","2024-05-17 04:32:32.554982+03","I am trying to deploy my GeoDjango app to Zappa 1st I got Then I followed this link and added the below I set these environment variables in my AWS Lambda console and in my Django apps settings file I set Now I am getting the error How can I fix this Summary of what I have done Below is my zappa_settings json"
54340746,"""AttributeError: module '__main__' has no attribute 'text_process'""","https://stackoverflow.com/questions/54340746/attributeerror-module-main-has-no-attribute-text-process","{python,machine-learning,aws-lambda,zappa}","2019-01-24 06:42:40+02","2024-05-17 04:32:33.390915+03","i am deploying my ml model on lambda after successfully deployment when i hit gateway URL i am getting 500 response and and logs are model pipeline requires text_process I am using Python 3 6 No error AttributeError module main has no attribute text_process No idea apiapp py code run perfectly fine on my local machine Zappa version used Operating System and Python version The output of pip freeze "
54387861,"""Error: Please define stage 'create_pg_db' in your Zappa settings""","https://stackoverflow.com/questions/54387861/error-please-define-stage-create-pg-db-in-your-zappa-settings","{django,python-3.x,aws-lambda,amazon-rds,zappa}","2019-01-27 11:56:28+02","2024-05-17 04:32:34.621913+03","Intro I am deploying a django app to AWS lambda severlessly using zappa My RDS instance has a postgres database I am watching rich jones djangocon video on how to deploy django app severlessly using zappa So far I have managed to reach the part where I need to add a database to my project I have already done pip install zappadjangoutils and added it to my INSTALLED_APPS Now when I try to run zappa manage create_pg_db production I get the error I even tried zappa manage create_pg_db I am still getting the same error Below is how my zappa_settings json file looks How do I define stage create_pg_db in your Zappa settings Does anyone know the steps ahead of this Results with zappa manage production create_pg_db"
54600199,"""Import error when deploying Django app using Zappa?""","https://stackoverflow.com/questions/54600199/import-error-when-deploying-django-app-using-zappa","{django,django-rest-framework,zappa,python-zappa}","2019-02-08 21:05:18+02","2024-05-17 04:32:36.109099+03","I get the following error when instancing my Django app as a lambda function using Zappa I have tried running the app locally using and it works fine locally However I get the above error when the app is deployed to a lambda function I am using Django version 2 0 10 Python 3 6 along with an AWS Aurora RDS I expect the lambda function instance without errors in the same way as it does locally "
54632527,"""Flask + Selenium application on AWS Lambda""","https://stackoverflow.com/questions/54632527/flask-selenium-application-on-aws-lambda","{python,flask,aws-lambda,selenium-chromedriver,zappa}","2019-02-11 14:17:25+02","2024-05-17 04:32:36.963698+03","Encountered several problems deploying with zappa flask application with selenium using chromedriver and headless_chromium Deployment goes well right utill the end when it gives 502 error zappa tail reveals the following exception As far as i remember6 when this error is encountered locally it is easily fixed by installing some missing packages But is it the case with Lambda And if it is then how do I install them on Lambda Honestly I have ran out of all ideas what might be the case I deployed using this two guides 1 Deploying flask on Lambda with zappa 2 Deploying selenium on Lambda with no API "
54721189,"""Getting 403 for static files using django-s3-storage""","https://stackoverflow.com/questions/54721189/getting-403-for-static-files-using-django-s3-storage","{django,amazon-s3,zappa}","2019-02-16 08:19:04+02","2024-05-17 04:32:37.788964+03","I have set up the settings as follows but I keep getting The files was deployed successfully with collectstatic and I have set up the cors as per the docs on the bucket What else do I need to do"
54736701,"""zappa giving 413 request entity too large error for Django form with mutiple images""","https://stackoverflow.com/questions/54736701/zappa-giving-413-request-entity-too-large-error-for-django-form-with-mutiple-ima","{django,django-models,django-forms,zappa}","2019-02-17 19:13:31+02","2024-05-17 04:32:38.893044+03","I have a Django project that requires users to use add multiple images to a post article I am using django and deploying it using zappa I know that in Zappa the maximum size in the page load is 10mb I have 1 post image and 7 prep images When user adds 7 large files and then hits submit I get the error below HTTP413 PAYLOAD TOO LARGE The server is refusing to process a request because the request entity is larger than the server is willing or able to process Is there a way in which the images are added one by one instead of all at once so the form does not break and I do not get the above error Then I have the model that adds multiple images to the post In my views py both the models are merged to create 1 form"
56569076,"""Connecting a Python/Zappa Project on AWS Lamba to Mongodb Atlas""","https://stackoverflow.com/questions/56569076/connecting-a-python-zappa-project-on-aws-lamba-to-mongodb-atlas","{python,amazon-web-services,aws-lambda,mongodb-atlas,zappa}","2019-06-12 19:22:56+03","2024-05-17 04:32:39.68509+03","Are there any gotchas I am missing to set up a Zappa project on AWS with Mongodb Atlas I started following the guide on this page and have branched out to various other resources since httpsdocs atlas mongodb comsecurityvpcpeering I have a VPC peered with my Atlas Cluster Both sides say the connection is Active I have a Route Table with 2 routes The Route Tables VPG has Propogate set to True but none of the Routes are Propogated There are 4 Subnets associated with that Route Table All 4 Subnets and the VPC are connected to the Zappa Function on Lambda Also connected to the Function are a very liberal Execution Role and Security Group The Security Group and VPC CIDR are both Active on Atlas IP Whitelist page There is also a Network ACL associated with all 4 Subnets with very liberal Inbound and Outbound Rules The Atlas Cluster and AWS Region are the same I tried Whitelisting all IPS and that did not work The API Gateway does not have a VPC Link no NLBs exist Is that strictly an EC2 thing The plan is to deploy on Lambda and since I am in early dev I do not have a Certificate to select yet "
56571314,"""Mailing isn't working in Django AWS Lambda (Zappa) behind a VPC""","https://stackoverflow.com/questions/56571314/mailing-isnt-working-in-django-aws-lambda-zappa-behind-a-vpc","{django,amazon-web-services,aws-lambda,vpc,zappa}","2019-06-12 22:54:05+03","2024-05-17 04:32:40.633016+03","I have an AWS lambda function Django zappa that is running inside a VPC thus I am not able to send emails because Lambda is not connected to the internet I tried NAT Gatway but with no hope I would appreciate any help "
56617343,"""Unknown parameter in input: \""TerminologyNames\"", must be one of: Text, SourceLanguageCode, TargetLanguageCode""","https://stackoverflow.com/questions/56617343/unknown-parameter-in-input-terminologynames-must-be-one-of-text-sourcelang","{python,amazon-web-services,boto3,zappa}","2019-06-16 08:42:15+03","2024-05-17 04:32:41.300844+03","Anyone have any idea about this error I am using AWS translate boto3 and Zappa and made a script to convert the language which works fine in local and throw this error on AWS lambda I seriously do not know why Anyone face this error before Here is my code"
56640319,"""AWS lambda zappa not using latest boto3 version""","https://stackoverflow.com/questions/56640319/aws-lambda-zappa-not-using-latest-boto3-version","{python,aws-lambda,zappa}","2019-06-18 00:24:56+03","2024-05-17 04:32:42.155025+03","I have a flask app that I deploy to AWS lambda This application requires the latest version of boto3 1 9 71 however when deploying the application with zappa it does not use the latest version Here is the current setup The requirements txt Running the application locally with flask run and browsing to the route http127 0 0 15000test_boto I get However when deploying it to AWS lambda with zappa update and then browsing there I get Does anyone know how to fix this"
56775625,"""Solve Unable to import module 'lambda_function': cannot import name '_AES'""","https://stackoverflow.com/questions/56775625/solve-unable-to-import-module-lambda-function-cannot-import-name-aes","{python,aws-lambda,pycrypto,zappa}","2019-06-26 14:52:06+03","2024-05-17 04:32:42.80967+03","I am trying to deploy my lambda function that makes a requests and decrypts data using pycryptos module Crypto Cipher AES This is how my import looks I run my code in my local Mac Environment and it works perfectly but when I upload my package to AWS Lambda and test it I get the following error I checked this question and downloaded the pycrypto package from this git repo made the build and copied the results to my lambda folder packaged it and still did not work I checked the result of the build and I noticed that within this folder The AES files are generated with an extension related to my Mac OS I tried building the package on a Linux EC2 instance but still get the same error although the files change I tried a new path based on the following question but still failed with the exact same error errorMessage Unable to import module lambda_function Why is AWS Lambda not able to read the AES module in the pycrypto package I have deployed Lambda function with other external libraries and never faced this issue "
56796521,"""Can Zappa Update be used with the output package from Zappa Package?""","https://stackoverflow.com/questions/56796521/can-zappa-update-be-used-with-the-output-package-from-zappa-package","{python-3.x,amazon-web-services,aws-lambda,spacy,zappa}","2019-06-27 18:04:10+03","2024-05-17 04:32:43.650827+03","I am trying to load a model on AWS lambda using Zappa The problem is that the total unzipped file size from the package created by Zappa and uploaded to S3 is about 550mb which exceeds the limit One of the packages I am using is Spacy an NLP dependency that is very large and I am able to reduce the size of this package by manually removing unused languages in the lang folder Doing this I can get the unzipped file size under 500mb Problem is that Zappa automatically downloads the full Spacy version spacy2 1 4 Using locally cached manylinux wheel on deploy and update I have learned that I can call Zappa Package and it will generate a package that I can then upload myself What I have done is unzipped the generated package and removed the unnecessary lang files then I zipped it back up Is it possible for me to call Zappa DeployUpdate and use the modified package and handler that was created by Zappa Package This way Zappa can still handle the deployment "
56804090,"""django-zappa: Error loading psycopg2 module: libpq.so.5: cannot open shared object file: No such file or directory""","https://stackoverflow.com/questions/56804090/django-zappa-error-loading-psycopg2-module-libpq-so-5-cannot-open-shared-obje","{python,django,amazon-web-services,aws-lambda,zappa}","2019-06-28 09:12:33+03","2024-05-17 04:32:44.720369+03","When trying to deploy a Django project using djangozappa I get the following error in the zappa tail output I have made sure to include the psycopg2 module in the requirements file It is installed in the virtual environment that is active while running the zappa deploy command I am running on Linux and had to install libpqdev via apt before even being able to pip install psycopg2 as I received an error before saying that libpq was missing on the system similar to the above error I guess How can I overcome this error Thanks "
56985897,"""Pipenv dependency error with PyYAML in Zappa""","https://stackoverflow.com/questions/56985897/pipenv-dependency-error-with-pyyaml-in-zappa","{python,python-3.x,dependencies,pipenv,zappa}","2019-07-11 09:24:36+03","2024-05-17 04:32:45.791429+03","I am getting an error after updating zappa package on pip env I have tried pipenv lock clear and then retry the install and pipenv install skiplock following is a pipenv graph reverse for PyYAML and the error message is as following I did not try the following as I would want the package to be stable pipenv lock pre"
45741503,"How is the callback function passed in aws lambda?","https://stackoverflow.com/questions/45741503/how-is-the-callback-function-passed-in-aws-lambda","{aws-lambda,serverless-framework}","2017-08-17 17:26:22+03","2024-05-17 05:01:54.930205+03","I am new to awslambda please explain with example if possible Also in the documentation what does it mean by callback You can use the optional callback to return information to the caller otherwise return value is null Who is the caller I thought lambda functions are automatically called in response to events"
57081932,"""Flask redirect function redirects to raw API Gateway url instead of custom domain""","https://stackoverflow.com/questions/57081932/flask-redirect-function-redirects-to-raw-api-gateway-url-instead-of-custom-domai","{python-3.x,amazon-web-services,flask,serverless,zappa}","2019-07-17 18:09:58+03","2024-05-17 04:32:46.601109+03","I am using the redirect function in my flask app but whenever the function triggers it redirects the autogenerated API Gateway domain instead of my own domain which in turn gives me a message forbidden because it is and was internal url It works when I run in localhost but as soon as it is AWS it does not work I am using a cloudfront distro to redirect users from http to https zappa version 0 48 2 python 3 6 zappa_settings json it should redirect to example com instead it redirects to auto generated aws link"
57147993,"""How do I create multiple versioned APIs under a single domain with Zappa?""","https://stackoverflow.com/questions/57147993/how-do-i-create-multiple-versioned-apis-under-a-single-domain-with-zappa","{flask,aws-lambda,aws-api-gateway,zappa}","2019-07-22 14:15:56+03","2024-05-17 04:32:47.68079+03","I am written a number of services that live under a single domain and are deployed with Zappa Now I need to make a breaking change to one of the services so I would like to version it API Gateway does not allow me to include a version in the base path that points to the new lambda function I currently have this working I would like to use the following pattern The problem I am running into is when I try to configure the API Gateway mapping Each service_nameX is configured as the base path and points to the appropriate lambda function What I want to do is set the base path to service_name1version and point it to the new lambda function "
57228938,"""Unable to import module 'handler': No module named 'werkzeug'""","https://stackoverflow.com/questions/57228938/unable-to-import-module-handler-no-module-named-werkzeug","{django,aws-lambda,pip,python-3.6,zappa}","2019-07-27 03:38:14+03","2024-05-17 04:32:48.755296+03","I suddenly started getting this error on a Django AWS lambda setup with zappa I am using ubuntu 18 04 image on bitbucket pipelines to trigger the deployment Unable to import module handler No module named werkzeug It was working fine for python3 6 on zappa0 42 2 until the last deployment in 25July2019 I thought it was due to some code changes on the app that is causing it even though the code changes are not related to pip modules just some updates on the applications codebase but even reverting to previous deployments are throwing this error now My zappa config has a slim_handler true I have tried some suggested solutions in Zappas GitHub issues but without success I have also tried some SO solutions from questions related to import issues in zappa and have not been successful I would highly appreciate any pointers for debugging or workarounds for this zappa issue in AWS lambda with python3 6 "
57618071,"""How to send the event to the lambda_handler function from the command line using Zappa""","https://stackoverflow.com/questions/57618071/how-to-send-the-event-to-the-lambda-handler-function-from-the-command-line-using","{python,aws-lambda,zappa}","2019-08-22 23:16:15+03","2024-05-17 04:32:49.797212+03","I am using Zappa and I want to send the event to my lambda_handler function using the invoke command I am using the raw flag which means I am sending python code I am using Zappa 0 38 0 Python 2 7 10 and I have checked the official repository and several blog posts but when using invoke raw they use simpler examples I am extracting the event from a json file and this is what I came up with The response I get is Maybe I am sending the event wrong is there another way to send it Also even if it is sending the event right I wanted to know if there is a better way to do it "
57669033,"""Errno 30 when deploying pyhanlp to aws lambda""","https://stackoverflow.com/questions/57669033/errno-30-when-deploying-pyhanlp-to-aws-lambda","{python,amazon-web-services,zappa}","2019-08-27 06:47:34+03","2024-05-17 04:32:50.864346+03","When I deploy a small python app to aws lambda which depends on pyhanlp to the aws labmda by zappa I got following error Do I have a way to tell the aws lambda to allow the pyhanlp to install the package not in the tmp Edit I check the post on stackoverflow that cannot solve the issue because pyhanlp a 3rd party lib depends on the install path if I change to tmp many things will need to be changed too not realistic"
58776141,"""spacy with zappa showing error on AWS lambda""","https://stackoverflow.com/questions/58776141/spacy-with-zappa-showing-error-on-aws-lambda","{aws-lambda,spacy,zappa}","2019-11-09 03:27:03+02","2024-05-17 04:33:00.386956+03","My API was working perfectly fine with AWS lambda using Zappa But I need spacy for my code to run The moment I install spacy2 0 13 and update the zappa dev the api stops working It gives 502 error Kindly help me regarding this I have already increased the memory size to 3008 Following is returned as the response body Log from Zappa tail Log from Cloudwatch Console"
57830940,"""AWS Lambda deployment issue using zappa""","https://stackoverflow.com/questions/57830940/aws-lambda-deployment-issue-using-zappa","{python-3.x,amazon-web-services,flask,aws-lambda,zappa}","2019-09-07 05:26:33+03","2024-05-17 04:32:51.638978+03","I am using tensorflow and ImageAI in my python code but when trying to upload it on Lambda getting following warning It is successfull and working when I removed this line from my code from imageai Prediction Custom import CustomImagePrediction I have created virtual environment and uploaded package on lambda using zappa but no success Expected Result Your updated Zappa deployment is live httpsi8ppr4snid executeapi useast1 amazonaws com"
57989286,"""scheduling lambda function in zappa to stop instances""","https://stackoverflow.com/questions/57989286/scheduling-lambda-function-in-zappa-to-stop-instances","{python,flask,amazon-ec2,aws-lambda,zappa}","2019-09-18 09:19:57+03","2024-05-17 04:32:52.379565+03","Here I am I created a flask application and deploying using zappa While deployment I am facing no module found exception but same python code it working offline below is my stop app application"
58013175,"""Zappa async task results in 403 Bad Request Generated by Amazon Cloudfront""","https://stackoverflow.com/questions/58013175/zappa-async-task-results-in-403-bad-request-generated-by-amazon-cloudfront","{aws-lambda,amazon-cloudfront,zappa}","2019-09-19 14:22:22+03","2024-05-17 04:32:53.05857+03","I am trying to use the Zappa Async task for the first time in my project I keep getting 403 Bad request from Amazon cloudfront Here is the code Any thoughts anyone"
58033520,"""How to install OS dependent packages in Zappa (wkhtmltopdf)""","https://stackoverflow.com/questions/58033520/how-to-install-os-dependent-packages-in-zappa-wkhtmltopdf","{django,zappa,python-zappa}","2019-09-20 18:27:28+03","2024-05-17 04:32:54.155921+03","I am using Weasyprint to convert html to pdf in my code Everything runs fine locally Weasyprint depends on wkhtmltopdf package This package needs binaries installed on system with sudo apt install wkhtmltopdf which is dependancy else I get No wkhtmltoimage executable found b How can I install this binary required in zappa environment as this is OS depedent package"
58140517,"""Zappa Update failing in CircleCI""","https://stackoverflow.com/questions/58140517/zappa-update-failing-in-circleci","{python,circleci,zappa}","2019-09-27 19:35:53+03","2024-05-17 04:32:55.212531+03","I am trying to deploy my Python project to AWS Lambda using Zappa and circleci its throwing error Error Zappa requires an active virtual environment I am installing venv using the below commands Is there something that I am missing Could someone help me "
58219322,"""Running a scheduled zappa function manually""","https://stackoverflow.com/questions/58219322/running-a-scheduled-zappa-function-manually","{django,zappa}","2019-10-03 12:39:53+03","2024-05-17 04:32:56.458537+03","I want to test the event in zappa_settings json locally I have set up the environment and I have the server running a Django site on my local machine I am also able to deploy the Django site to AWS via Zappa Before pushing it to the cloud I would like to test the event which is used to deploy a cronjob to the cloud with Lambda functions I keep getting errors on the imports Here is my Event in zappa_settings json Here are the imports in my kpi_report py file Python3 manage py runserver Then finally when I run the auto_scrapper manually on my local machine I am not sure how to test the cron jobs events in Zappa Its very inefficient to upload the code to the cloud and wait for the event to run and check the logs in Lambda Please advice TYIA"
58322715,"""Packaging local python dependencies for Zappa deployment""","https://stackoverflow.com/questions/58322715/packaging-local-python-dependencies-for-zappa-deployment","{python,flask,python-import,zappa}","2019-10-10 12:16:51+03","2024-05-17 04:32:57.558434+03","Context I have a local folder containing multiple Python Flask applications and a commons python package As you can see I have created a virtualenv for each of the Flask applications because I would like to deploy to AWS Lambda using Zappa and want to include only the relevant dependencies in the package zip that goes to AWS Problem I am not able to include the commons package in the Flask applications I assume this has to do because it is collateral and not a subdirectory Question How can I make sure the commons package is included when I call zappa deploy from inside project_folderapplication1 "
58467642,"""Deployed flask_injector dependent project to Lambda doesn't work""","https://stackoverflow.com/questions/58467642/deployed-flask-injector-dependent-project-to-lambda-doesnt-work","{python,aws-lambda,zappa,flask-injector}","2019-10-19 20:17:33+03","2024-05-17 04:32:58.383971+03","I am trying to deploy a python project uses flask_restplus and flask_injector packages to AWS Lambda using Zappa project but it does not work it throws an error when I try to call the API gateway that Zappa automatically created for the project [ERROR] AttributeError type object Callable has no attribute _abc_registry Traceback most recent call last File vartaskhandler py line 602 in lambda_handler return LambdaHandler lambda_handler event context File vartaskhandler py line 245 in lambda_handler handler cls File vartaskhandler py line 139 in init self app_module importlib import_module self settings APP_MODULE File varlanglibpython3 7importlib init py line 127 in import_module return _bootstrap _gcd_import name[level] package level File line 1006 in _gcd_import File line 983 in _find_and_load File line 967 in _find_and_load_unlocked File line 677 in _load_unlocked File line 728 in exec_module File line 219 in _call_with_frames_removed File vartaskapp py line 1 in from startup import Startup File vartaskstartup py line 3 in from flask_injector import FlaskInjector File vartaskflask_injector py line 13 in from typing import Any Callable cast Dict get_type_hints Iterable List TypeVar Union File vartasktyping py line 1357 in class Callable extracollections_abc Callable metaclassCallableMeta File vartasktyping py line 1005 in new self _abc_registry extra _abc_registry The project consists of two Python files only And the zappa_settings json file I do not know what is the issue here why using flask_injector causes this error"
58662013,"""How to use custom lambda name instead of autogenerated one when deploying with zappa?""","https://stackoverflow.com/questions/58662013/how-to-use-custom-lambda-name-instead-of-autogenerated-one-when-deploying-with-z","{python,amazon-web-services,deployment,aws-lambda,zappa}","2019-11-01 15:40:55+02","2024-05-17 04:32:59.485012+03","I have existing lambdas deployed to AWS and chose Zappa for further lambda deployments The problem is that it does not seem to be a way of customising lambda name I found nothing similar on their configuration docs It would be a real pain to start using Zappas forced naming convention project_nameenv since there are multiple apps using these lambdas and as you already guessed I would need to update these apps separately to use new names so thats not an option Any suggestions for the best approach"
58790162,"""Unable to exclude certain python libraries from zappa package""","https://stackoverflow.com/questions/58790162/unable-to-exclude-certain-python-libraries-from-zappa-package","{python,aws-lambda,zappa}","2019-11-10 15:36:57+02","2024-05-17 04:33:01.456228+03","How do I correctly exclude certainly libraries like torch numpy from zappa package I tried setting the exclude parameter in zappa_settings json but it does not seem like excluding these packages Below is my zappa_settings json I am trying to exclude torch numpy as these are resulting in No space left error I would rather use a Lambda layer install in opt directory in Lambda rather than the tmp directory"
59693924,"""how to pass config file to flask startup command to zappa""","https://stackoverflow.com/questions/59693924/how-to-pass-config-file-to-flask-startup-command-to-zappa","{flask,aws-lambda,zappa,python-zappa}","2020-01-11 11:21:02+02","2024-05-17 04:33:01.874137+03","I am using python flask and using below command to start flask app but how do i pass this to zappa for aws lambda deployment "
59916021,"""Zappa deploy error deployed lambda failed. A GET request to '/' yielded a 502 response code""","https://stackoverflow.com/questions/59916021/zappa-deploy-error-deployed-lambda-failed-a-get-request-to-yielded-a-502-re","{python,flask,aws-lambda,aws-serverless,zappa}","2020-01-26 06:18:17+02","2024-05-17 04:33:02.808164+03","I have zappa setting json zappa_settings json as below I run my application in local by the command python manage py run here is my manage py when I run zappa deploy dev it returns 502 response error ERROR showing Error Warning Status check on the deployed lambda failed A GET request to yielded a 502 response code here is zappa log what is the option I am missing"
60006823,"""Route53 route subdomain to AWS Lambda getting 404""","https://stackoverflow.com/questions/60006823/route53-route-subdomain-to-aws-lambda-getting-404","{amazon-web-services,flask,aws-lambda,zappa,flask-jwt-extended}","2020-01-31 15:28:08+02","2024-05-17 04:33:03.334836+03","I have a domain in aws route53 My frontend is routed to that domain from cloudfront via alias and works perfectly My backend sits on aws lambda and I want to put it behind my domain so my users can authorize using jwt cookies I created api mydomain com in aws api gateway with Base Path Mappings of production pointing to my lambda and tried to add my lambda using CNAME and Alias but neither worked they return 404 when i call httpsapi mydomain comproductionlogin but when i call httpsxxxx executeapi xxxx amazonaws comproductionlogin it works perfectly "
64064886,"""cannot be assumed by principal 'events.amazonaws.com', when using events""","https://stackoverflow.com/questions/64064886/cannot-be-assumed-by-principal-events-amazonaws-com-when-using-events","{amazon-web-services,aws-lambda,zappa}","2020-09-25 13:13:31+03","2024-05-17 04:33:47.966197+03","I have a flask project and it is deployed to the AWS Lambda using the Zappa and it works fine I am trying to add an event in the zappa_settings json to run some function regularly The settings config that was working without events was and I added these two lines so the settings changed to But now I cannot update or schedule the project and I get this error This is the roles trust entities What should I do to fix this and have a working event cron job "
60031713,"""Long cold start on AWS Lambda python function""","https://stackoverflow.com/questions/60031713/long-cold-start-on-aws-lambda-python-function","{python,flask,aws-lambda,zappa,cold-start}","2020-02-02 23:54:07+02","2024-05-17 04:33:04.159311+03","I have converted a very simple flask function i e two simple routes linking to a sql query and turning them into a table to a Lambda function with Zappa The deployed function is around 20MB Because the traffic will be very low I am not using any warming mechanism for my function The function only requires 128MB memory and when run with this when all previous instances have been destroyed the cold start is approximately 16 seconds This seems like a long time intuitively and what I have read e g here which suggests that python functions not in a VPC have relatively low latency for cold starts If I add memory to the function the cold start time seems to decrease linearly Again this conflicts with what I have read e g here as above in terms of memory not being an issue for coldstart latency This is my table of invocation times Should I be surprised by these results or am I missing something Thanks Stephen"
60206006,"""Where does zappa upload environment variables to?""","https://stackoverflow.com/questions/60206006/where-does-zappa-upload-environment-variables-to","{python,aws-lambda,environment-variables,zappa}","2020-02-13 10:46:46+02","2024-05-17 04:33:04.732607+03","tldr Environment variables set in a zappa_settings json do not upload as environment variables to AWS Lambda Where do they go tswm I have a Lambda function configured deployed and managed using the Zappa framework In the zappa_settings json I have set a number of environment variables These variables are definitely present as my application successfully runs however when trying to inspect the Lambda function environment variables in the console or AWS CLI I see no environment variables have been uploaded to the Lambda function itself Extract from zappa_settings json Output of aws lambda getfunctionconfiguration functionname myprojectstagedev Environment is absent from the output despite being included in the zappa_settings and the AWS documentation indicating it should be included if present this is confirmed by checking in the console I want to know where zappa is uploading the environment variables to and if possible why it is doing so over using Lambdas inbuilt environment AWS CLI docs httpsdocs aws amazon comclilatestreferencelambdagetfunctionconfiguration html"
60218036,"""How do I set up a CI/CD pipeline using AWS CodePipeline for a Flask application deployed using Zappa?""","https://stackoverflow.com/questions/60218036/how-do-i-set-up-a-ci-cd-pipeline-using-aws-codepipeline-for-a-flask-application","{continuous-integration,continuous-deployment,aws-codepipeline,continuous-delivery,zappa}","2020-02-13 23:33:33+02","2024-05-17 04:33:05.511388+03","I need a step by step guide on setting up a CICD pipeline using AWS CodePipeline for a Flask application deployed using Zappa Zappa is an open source framework that helps in building and deploying serverless eventdriven Python applications particularly WSGI web applications like Django and Flask applications on AWS Lambda and API Gateway The GitHub repository for Zappa can be found at httpsgithub comMiserlouZappa "
60409432,"""zappa docker returns FileNotFoundError No such file or directory: venv/lib/python3.6/site-packages""","https://stackoverflow.com/questions/60409432/zappa-docker-returns-filenotfounderror-no-such-file-or-directory-venv-lib-pytho","{python,flask,aws-lambda,aws-serverless,zappa}","2020-02-26 08:13:15+02","2024-05-17 04:33:06.536572+03","I am trying to build my Flask app using Zappa and docker Serverless with Aws Lambda Here is DockerFile Docker build and enter into docker Trying to deploy But its getting the following error"
55744631,"""How to deploy a serverless application in openFaaS similar to AWS lambda with S3""","https://stackoverflow.com/questions/55744631/how-to-deploy-a-serverless-application-in-openfaas-similar-to-aws-lambda-with-s3","{amazon-web-services,amazon-s3,aws-lambda,openfaas}","2019-04-18 11:00:46+03","2024-05-17 04:33:13.710699+03","I want to deploy a serverless application on openFaaS It should be similar to the following example application with AWS Lambda using a S3 trigger httpsdocs aws amazon comlambdalatestdgwiths3example html So far I have not been able to find anything similar to use with openFaaS to result in the same functionality for this use case Thanks in advance "
56160430,"""Set quota for pods with the same namespace for Openfaas with Kubernetes""","https://stackoverflow.com/questions/56160430/set-quota-for-pods-with-the-same-namespace-for-openfaas-with-kubernetes","{kubernetes,openfaas}","2019-05-16 03:35:54+03","2024-05-17 04:33:15.856591+03","I deploy some functions using Openfaas over Kubernetes Openfaas function is using openfaasfn namespace which I can set quota for The question is how if I want to group functions kind of labeling and set quota for each group of functions Meaning fn1 fn2 fn3 limited to 1Gi memory but fn4 fn5 fn6 limited to 3Gi Is there any way to manage quota in this way"
60449533,"""aws lambda django app deployed with zappa - python import precendecy""","https://stackoverflow.com/questions/60449533/aws-lambda-django-app-deployed-with-zappa-python-import-precendecy","{django,amazon-web-services,aws-lambda,zappa}","2020-02-28 10:12:43+02","2024-05-17 04:33:07.189596+03","We have a Django application we deploy on AWS Lambda using Zappa We use pipenv to manage python packages of the project Some packages we use e g cryptography need to be compiled with the same configration as the lambda machine To do that I have generated wheels for those packages on a similar machine and included them in a sub folder in the directory So here is our deployment process now So after this we have two versions of those packages one installed via pipenv and one extracted manually from precompiled wheels The reason for this is I still want the project to be able to run locally using the package installed via pipenv and not using the precompiled ones So I want local versions of the project to use packages installed via pipenv but want Lambda to use extracted precompiled version I have added the directory where we keep precompiled packages to PYTHONPATH environment variable but as far as I can see zappa puts all python packages installed via pipenv in the root folder of the project Those have precedence over whatever I add in PYTHONPATH in import package resolution order So do I have any options in telling python to give a specific folder import resolution precedence over all others"
57258994,"""How to get size of NATS Streaming Queue?""","https://stackoverflow.com/questions/57258994/how-to-get-size-of-nats-streaming-queue","{kubernetes,nats-streaming-server,openfaas}","2019-07-29 17:47:55+03","2024-05-17 04:33:17.921472+03","Background I am going to be doing some experiments with OpenFaaS running in Kubernetes where I will be invoking several asynchronous execution requests OpenFaaS uses NATS Streaming to queue these requests for asynchronous function execution What I need is a way to determine the size of this NATS Streaming queue so I can know how many items are in the queue Is there a command to get the size or number of items in a NATS Streaming Queue I searched Google and the NATS documentation and found nothing of use I did find the command kubectl logs deploymentqueueworker n openfaas from here which displays the logs of the queue however this is not quite what I want I want the number of items left in the queue not the queues full logs "
60522968,"""Zappa Django Rest Framework API timeout on AWS Cognito call""","https://stackoverflow.com/questions/60522968/zappa-django-rest-framework-api-timeout-on-aws-cognito-call","{django,aws-lambda,aws-api-gateway,amazon-cognito,zappa}","2020-03-04 09:36:13+02","2024-05-17 04:33:08.277089+03","I am migrating a Django Rest Framework API to lambdas with Zappa This API is also running on an Elastic Beanstalk application and works fine there First I got error messages while trying to connect to the database Then I did set the lambda VPC and security groups and it seems that this error is gone however any call to the authentication endpoint that uses Cognito results in a timeout I know that API Gateway is hardcoded to timeout after 29s but I do not think this endpoint should be taking that long I have enabled XRay but it does not say much just that the function timed out Looking at the Cloudwatch logs I could point the moment it gets stuck As you can see this call seems to get stuck I tried to find if I need to setup any vpcsecurity group on the Cognito but have not find anything related Any idea what might be causing this issue UPDATE I have checked the VPC and there is an internet gateway associated with it 0 0 0 00 igxxxxxxxxx active No this is on the route table for the VPC Then I have created a NAT gateway and replaced the ig on the table by the NAT I still get the same error UPDATE 2 There is a main route table with explicit subnet association with my subnets Then there is a NAT gateway linked to 1 of the subnets and to the VPC and with a elastic IP If I click on any of my subnets and go to the Route Table tab I see something like this 172 31 0 016 local 0 0 0 00 natxxxxxxx I go to the Network ACL I see this what I am missing"
54389901,"""How does open-faas deployed on kubernetes determine when to scale a function up or down?""","https://stackoverflow.com/questions/54389901/how-does-open-faas-deployed-on-kubernetes-determine-when-to-scale-a-function-up","{kubernetes,openfaas}","2019-01-27 15:44:27+02","2024-05-17 04:33:09.379569+03","In Kubernetes I am a little unclear of what criteria needs to be met for openfaas to scale a functions replicas up or down According to the documentation Autoscaling in OpenFaaS allows a function to scale up or down depending on demand represented by different metrics It sounds like by default a reason for scaling would be requestssecond increasingdecreasing OpenFaaS ships with a single autoscaling rule defined in the mounted configuration file for AlertManager AlertManager reads usage requests per second metrics from Prometheus in order to know when to fire an alert to the API Gateway And this alert sent to the API Gateway would cause a functions replica count to scale up I do not see in the documentation or the AlertManager where the threshold for requestssecond is set to scale updown at My overall questions"
54620284,"""Kubernetes port forwarding between host machine and nodes? #LoadBalancer""","https://stackoverflow.com/questions/54620284/kubernetes-port-forwarding-between-host-machine-and-nodes-loadbalancer","{kubernetes,openfaas}","2019-02-10 19:44:39+02","2024-05-17 04:33:10.420569+03","I had 1 mission this weekend get OpenFaas Cloud working on my home server Disclaimer I know very little about Kubernetes I have been following the OpenFaas Cloud guide here The slack group has been very helpful but I still stuck httpsgithub comopenfaasincubatorofcbootstrap So I have a kubernetes cluster on a host machine Ubuntu 16 04 Its IP is 192 168 0 98 I would like to map port 80 on my host 192 168 0 98 so that it sends the traffic to the LoadBalancer 10 104 107 60 The LoadBalancer is running nginxingress when I asked about the port forwarding on the OpenFaas group they mentioned Nginx router auth gateway function On the cloud a load balancer gets an IP and you set the DNS then accessing the load balancer corresponds to nginx You are on premise so you need to edit your nginx config so that it binds to port 80443 or use HAProxy on the host to forward to the nginx you have running on the node inside the cluster This went a little beyond my skillset "
54750562,"""OpenFaaS serve model using Tensorflow serving""","https://stackoverflow.com/questions/54750562/openfaas-serve-model-using-tensorflow-serving","{docker,tensorflow,kubernetes,tensorflow-serving,openfaas}","2019-02-18 15:30:52+02","2024-05-17 04:33:11.412739+03","I would like to serve Tensorfow Model by using OpenFaaS Basically I would like to invoke the serve function in such a way that tensorflow serving is going to expose my model OpenFaaS is running correctly on Kubernetes and I am able to invoke functions via curl or from the UI I used the incubatorflask as example but I keep receiving 502 Bad Gateway all the time The OpenFaaS project looks like the following The inner Dockerfile is the following the stack yaml file looks like the following I build the image with faascli build f stack yaml and then I push it to my docker registry with faascli push f stack yaml When I execute faascli deploy f stack yaml e AWS_ACCESS_KEY_ID I get Accepted 202 and it appears correctly among my functions Now I want to invoke the tensorflow serving on the model I specified in my ENV The way I try to make it work is to use curl in this way but I always obtain 502 Bad Gateway Does anybody have experience with OpenFaaS and Tensorflow Serving Thanks in advance P S If I run tensorflow serving without ofwatchdog basically without the openfaas stuff the model is served correctly "
55414633,"""Why open source serverless frameworks (like OpenWhisk) need an orchestrator (like Kubernetes)""","https://stackoverflow.com/questions/55414633/why-open-source-serverless-frameworks-like-openwhisk-need-an-orchestrator-lik","{docker,kubernetes,serverless,openwhisk,openfaas}","2019-03-29 09:48:29+02","2024-05-17 04:33:12.560538+03","I am currently working on private cloud like AWS and I am using AWS lambda for serverless This is very cool like framework that is why I did some researches to find open source alternatives I came out with some names OpenWhisk OpenFaas These frameworks use Docker to supervise containers in which code is executed I am new with those technologies so I am still confused in some aspects Here is my point I do not understand if these frameworks need to be used with a orchestartor like Kubernetes If yes how does it work with an orchestrator If you have some information links or documentations it will be great Thank you very much "
56340064,"""Openfaas call one function from another in Multi-stage""","https://stackoverflow.com/questions/56340064/openfaas-call-one-function-from-another-in-multi-stage","{kubernetes,kubernetes-ingress,nginx-ingress,openfaas}","2019-05-28 10:22:13+03","2024-05-17 04:33:16.557704+03","I have followed these two documents openfaas workshop multistage implementing openfaas functions on Kubernetes Part of multistage article says Note that the above configuration will prohibit functions from calling each other or from reaching the OpenFaaS core services There is role binding configuration on ingress which avoid function to call each other What is the solution to that can able function to call each other but secure"
57102546,"""Prometheus not running with OpenFaaS""","https://stackoverflow.com/questions/57102546/prometheus-not-running-with-openfaas","{prometheus,openfaas}","2019-07-18 20:59:06+03","2024-05-17 04:33:17.115406+03","I just installed OpenFaaS on Kubernetes and was able to deploy and invoke a simple helloworldtype function which means OpenFaaS is working correctly However the guide I am following states that I should then be able to access the Prometheus UI at httplocalhost9090 Clicking that link results in an error message How can I view the Prometheus UI in OpenFaaS"
57298038,"""OpenFaaS Function cannot access Minio""","https://stackoverflow.com/questions/57298038/openfaas-function-cannot-access-minio","{minio,openfaas}","2019-07-31 19:58:19+03","2024-05-17 04:33:18.68351+03","I have OpenFaaS and Minio both deployed on Kubernetes I am following this tutorial to try to get an OpenFaaS function to interact with Minio buckets httpsblog alexellis ioopenfaasstorageforyourfunctions However whenever I try to invoke the processimages function which accesses a Minio bucket in OpenFaaS the program runs for a few seconds before returning a 502 Bad Gateway error In fact this happens anytime I try to access MinIO from within any OpenFaaS function Interestingly MinIO seems to work fine in functions that are not running in OpenFaaS but as soon as I try to run them from within OpenFaaS I get 502 Bad Gateway What could be causing this"
57928731,"""Error configuring OpenFaas - can't connect to nats://nats.openfaas.svc.cluster.local:4222""","https://stackoverflow.com/questions/57928731/error-configuring-openfaas-cant-connect-to-nats-nats-openfaas-svc-cluster-l","{openfaas}","2019-09-13 18:33:17+03","2024-05-17 04:33:19.680488+03"," kubectl logs queueworker5d86f844f86vg7 n openfaas tail100 f Loading basic authentication credentials Connect natsnats openfaas svc cluster local4222 cannot connect to natsnats openfaas svc cluster local4222 nats no servers available for connection panic cannot connect to natsnats openfaas svc cluster local4222 nats no servers available for connection"
58200127,"""Error while deploying Java AWS S3 code to openfaas""","https://stackoverflow.com/questions/58200127/error-while-deploying-java-aws-s3-code-to-openfaas","{java,amazon-web-services,openfaas}","2019-10-02 10:59:45+03","2024-05-17 04:33:20.14709+03","Following is a part of code I have written I get the following error while deploying my code to openfaas error incompatible types InputStream cannot be converted to S3ObjectInputStream S3ObjectInputStream instream obj1 getObjectContent "
58460455,"""Installing OpenFaas on local Kubernetes cluster""","https://stackoverflow.com/questions/58460455/installing-openfaas-on-local-kubernetes-cluster","{kubernetes,kubernetes-helm,openfaas}","2019-10-19 04:12:38+03","2024-05-17 04:33:21.158212+03","so I am attempting to install OpenFaaS on a local Kubernetes cluster made with Docker Desktop I am brand new to both OpenFaaS and Kubernetes so any help is appreciated I am following the interactive tutorial here I have installed Helm the OpenFaaS Cli FaaSnetes and followed everything in this tutorial up to page 4 On that page I am told to run this When I run that I get this error I am really lost at what I am supposed to do here Did I miss a step in the tutorial How do I deploy a release Any help would be really appreciated "
59972193,"""OpenFaas Autoscaling from 0""","https://stackoverflow.com/questions/59972193/openfaas-autoscaling-from-0","{autoscaling,openfaas}","2020-01-29 17:06:28+02","2024-05-17 04:33:22.322445+03","I am trying out OpenFaas auto scaling feature from 0 instances I tried running nodeinfo function with this and tried invoking it kubectl scale deployment replicas0 nodeinfo n openfaasfn Once replicas are down to 0 I wanted to try invoking it from Gateway UI to make it auto scale from 0 but status is not ready and Invoke button is inactive until I bump up replica count to more than 0 It seems like it is not possible to invoke a function that has 0 instances It does not look like auto scaling from 0 working unless I am missing something Any guidance or help is appreciated "
60098745,"""OpenFaas - Request Entity Too Large""","https://stackoverflow.com/questions/60098745/openfaas-request-entity-too-large","{kubernetes-helm,openfaas}","2020-02-06 15:44:28+02","2024-05-17 04:33:23.284672+03","I have deployed openfaas through helm using the following command helm upgrade openfaas install openfaasopehelmnfaas namespace default set functionNamespacedefault set generateBasicAuthtrue Everything is working properly but when I attempt a post request with data greater than 1000 KB I am getting the following response Is there a way I can control the request entity size threshold when installing through helm"
61806629,"""Autoscaling Google cloud kubernetes""","https://stackoverflow.com/questions/61806629/autoscaling-google-cloud-kubernetes","{kubernetes,google-cloud-platform,openfaas}","2020-05-14 20:14:55+03","2024-05-17 04:33:24.126936+03","We have an app running under a Google Cloud Kubernetes cluster things are running fine in my testing scenario We went to set up autoscaling for these pods we will probably never need to go to 0 but want it to scale up to for now 20 pods and back down obviously We are deploying using faascli First tried But that gave us 1 pod and never moved The it was suggested to use But that still gave us but one pod I most recently tried Which produced 5 pods but it has not scaled past that despite there being thousands of requests waiting Looking at the Cloud Console Deployment Details screen I see the five pods but cannot tell if all 5 are working Any idea why these things are not scaling"
62469925,"""How to add additional metric to Grafana dashboard""","https://stackoverflow.com/questions/62469925/how-to-add-additional-metric-to-grafana-dashboard","{prometheus,grafana,openfaas}","2020-06-19 12:05:31+03","2024-05-17 04:33:25.151405+03","I am currently using OpenFaas dashboard in Grafana but it does not have CPU metrics how can I add it to my existing dashboard I downloaded JSON file from httpsgrafana comgrafanadashboards3434"
62732334,"""OpenFaas keep forking the query and never stops when making lab4 tutorial""","https://stackoverflow.com/questions/62732334/openfaas-keep-forking-the-query-and-never-stops-when-making-lab4-tutorial","{kubernetes,openfaas}","2020-07-04 17:32:28+03","2024-05-17 04:33:27.204426+03","I am following the Lab4 from OpenFaas In the end of this lab you make a programmatic call for another function but the function start a loop and never finishes And int the execution is give me an error Here is the pod that should be called Someone can help me Here is my code"
62866325,"""OpenFaas vs serverless functions provided by cloud service providers [closed]""","https://stackoverflow.com/questions/62866325/openfaas-vs-serverless-functions-provided-by-cloud-service-providers","{python,amazon-web-services,azure,google-cloud-functions,openfaas}","2020-07-12 20:50:24+03","2024-05-17 04:33:28.133623+03","Want to improve this question Update the question so it can be answered with facts and citations by editing this post Closed 3 years ago why we should openfaas instead of lambda functions in AWS or other serverless functions by cloud service providers"
30171050,"""Start a process in background, do a task, then kill the process in the background""","https://stackoverflow.com/questions/30171050/start-a-process-in-background-do-a-task-then-kill-the-process-in-the-backgroun","{bash,command-line-interface}","2015-05-11 14:57:27+03","2024-05-17 04:33:28.678991+03","I have a script that looks like this The selenium servers needs to be running for the tests however after the phpunit command finishes I would like to kill the seleniumserver that was running How can I do this"
66889640,"""Zappa project and virtualenv have the same name""","https://stackoverflow.com/questions/66889640/zappa-project-and-virtualenv-have-the-same-name","{django,aws-lambda,web-deployment,zappa}","2021-03-31 14:20:23+03","2024-05-17 04:34:07.133118+03","When running I get this error Would renaming virtualenv be a safer route or renaming the project How do I define a project_name explicitly"
63297017,"""Serverless framework for trigger""","https://stackoverflow.com/questions/63297017/serverless-framework-for-trigger","{serverless-framework,knative,openfaas,kubeless,kubernetes-fission}","2020-08-07 07:18:08+03","2024-05-17 04:33:29.735+03","I am looking for a serverless framework free where i can create a kafka trigger and when triggered a kube function is to be invoked python I have tried nuclio but the problem is that i have kafka version higher and they do not support higher than 2 4 I want something like And a kube function like As simple as these two files and i have already existing kafka cluster so i just want to have trigger on that what are the possible alternatives apart from nuclio I looked into kubeless seemed complicated Fission does not support python "
64540738,"""Faasd - can't pull image from private registry""","https://stackoverflow.com/questions/64540738/faasd-cant-pull-image-from-private-registry","{docker,serverless,containerd,faas,openfaas}","2020-10-26 16:01:35+02","2024-05-17 04:33:30.401356+03","I have an application that uses OpenFaaS In particular I am using faasd because the function will run on devices with poor processing capacity I have a private registry on which an image of an X function is present I want to pull this image from faasd to deploy and execute it but I am facing a problem it seems like I am not authenticated when I try to perform the action but I pass correctly the registryAuth token Here there is an example of what I am doing following this httpsericstoekl github iofaasoperationsmanagingimagesdeployfunctionswithprivateregistriescredentials POST Headers Body I confirm that parameters are all correct and I receive this error unable to pull image registry_ip_addressfunctionsfunctionName cannot pull failed to resolve reference registry_ip_addressfunctionsfunctionName no scope specified for token auth challenge The registry is working well because if I try to download the image in a classic way with docker I am able to pull the image Thank you in advance "
61461139,"""Zappa+Flask: A GET request to '/' yielded a 502 response code""","https://stackoverflow.com/questions/61461139/zappaflask-a-get-request-to-yielded-a-502-response-code","{python,amazon-web-services,flask,aws-lambda,zappa}","2020-04-27 14:27:08+03","2024-05-17 04:33:31.505605+03","I am trying to deploy my flask app on aws lambda via zappa And I am getting the following error when I do zappa deploy dev When I do zappa init it generates the following zappa_settings json file and my main py file is My dependencies When I do zappa tail it gives Any suggestions on how this issue can be solved"
61476137,"""How to use zappa in gitlab CI/CD to deploy app to AWS Lambda?""","https://stackoverflow.com/questions/61476137/how-to-use-zappa-in-gitlab-ci-cd-to-deploy-app-to-aws-lambda","{amazon-web-services,aws-lambda,gitlab,gitlab-ci,zappa}","2020-04-28 08:46:36+03","2024-05-17 04:33:32.620338+03","I am trying to deploy a flask application on aws lambda via zappa through gitlab CI Since inline editing is not possible via gitlab CI I generated the zappa_settings json file on my remote computer and I am trying to use this to do zappa deploy dev My zappa_settings json file My gitlabci yml file The CI file upon running gives me the following error Any suggestions are appreciated"
61542923,"""Zappa deployment successful without url""","https://stackoverflow.com/questions/61542923/zappa-deployment-successful-without-url","{django,deployment,serverless,live,zappa}","2020-05-01 12:55:27+03","2024-05-17 04:33:33.706855+03","I am trying to deploy a django application through zappa When I deploy the application everything works correctly and I also get the message Your updated Zappa deployment is live But I cannot seem to find the url to access the live application "
61781648,"""AWS Lambda (Python Zappa) Understanding the Logs""","https://stackoverflow.com/questions/61781648/aws-lambda-python-zappa-understanding-the-logs","{python,amazon-web-services,aws-lambda,zappa}","2020-05-13 17:59:58+03","2024-05-17 04:33:34.57583+03","Zappa is a beautiful piece of code that makes your code serverless without anything to code I am trying to understand the intricacies of Zappa and I would like to start with the Logging I am successful in deploying my Python Django App on AWS Lambdas Following are the logs which I am not able to understand Any help is highly appreciated What is 1 Importing XYZPlugin 2 Changing event name from X to Y 3 Loading JSON file 4 Event creatingclientclass sns calling handler"
62263470,"""Why is my slack Slash command app on Lambda invoking every 4 minutes?""","https://stackoverflow.com/questions/62263470/why-is-my-slack-slash-command-app-on-lambda-invoking-every-4-minutes","{python,lambda,zappa,slack-commands}","2020-06-08 13:41:58+03","2024-05-17 04:33:35.49483+03","I created a slash command for Slack and using Lambda as a serverless method I followed a couple of tutorials online built the app locally with Python and flask and then uploaded it with Zappa The slash command works great but when I take a look at the lambda logs it shows the function is being invoked every 4 minutes I am obviously getting charged for this and I want it to only invoke when being called Can anyone shed some light on this new to Lambda Thanks "
62541300,"""Zappa packaged lambda error ..botocore.exceptions.SSLError: SSL validation failed for <s3 file> [Errno 2] No such file or directory""","https://stackoverflow.com/questions/62541300/zappa-packaged-lambda-error-botocore-exceptions-sslerror-ssl-validation-faile","{amazon-s3,openssl,zappa}","2020-06-23 18:18:07+03","2024-05-17 04:33:36.380434+03","Running AWS lambda service packaged using Zappa io The service is running however its not able to reach the S3 file due to ssl error Getting the below error while trying to access remote_env from an s3 bucket Zappa version used 0 51 0 Operating System and Python version Ubuntu Python 3 8 Output of pip freeze I have confirmed that my S3 file is accessible from my local ubuntu machine however does not work on aws"
62659595,"""Invalid signature exception during zappa deploy with gitlab CI/CD""","https://stackoverflow.com/questions/62659595/invalid-signature-exception-during-zappa-deploy-with-gitlab-ci-cd","{python-3.x,flask,zappa}","2020-06-30 14:20:33+03","2024-05-17 04:33:37.494009+03","I am having a problem with deploying my flask app aws via zappa in gitlab CICD First time i tried it got deployed correctly but every other try finishes with this exception manual deploy from commandline works just fine the actual error starts while uploading packaged application to aws Actual gitlabci is Full stack trace is"
64057340,"""Bad gateway when submitting a POST request form with Zappa Flask app""","https://stackoverflow.com/questions/64057340/bad-gateway-when-submitting-a-post-request-form-with-zappa-flask-app","{amazon-web-services,flask,aws-lambda,zappa}","2020-09-25 03:23:31+03","2024-05-17 04:33:46.724692+03","My flask app deployed to lambda and API Gateway using Zappa gives a Bad request error on form submission This only happens when I map this app to my custom domain and the app runs without error locally and with the URL generated by API Gateway I know most 400 errors are because of the backend asking for information not made available to by the front end like incorrect input names But such is not the case here Has anyone ran into a similar trouble with maybe enabling CORS or some issue with CloudFront Thanks"
63155657,"""\""Not a supported image format\"" error with a valid png/jpg on upload attempt in wagtail admin with lambda(zappa)/django-storages""","https://stackoverflow.com/questions/63155657/not-a-supported-image-format-error-with-a-valid-png-jpg-on-upload-attempt-in-w","{python,django,wagtail,zappa}","2020-07-29 14:14:15+03","2024-05-17 04:33:38.255868+03","I am setting up a wagtail site on AWS lambda via zappa with djangostorages where I have a page of news articles as child pages I currently allow an image in the news article and testing locally via localstack I am able to create an article and upload the desired image However when I deploy and try to upload an image in the production environment via the choose an image dialog and select the image set a title and click upload I get the error The adminimageschooserupload POST response is a 200 with the output Unfortunately there is no client side console log or server side log Any hints on where to look to debug this issue I suspect it is related to the MEDIA_URL or bucket permissions handling But not sure what would need to change httpsdocs djangoproject comen3 0howtostaticfilesservingfilesuploadedbyauserduringdevelopment I have a custom storage class for media defined as follows Related bucket lambda IAM role permissions On the server side lambda there is nothing of notice I have been poking around the wagtail code to see if I can find where the validation is failing and dropping in some prints etc but I cannot seem to find where this POST 200 response is coming from This seemed like the place but even raising exceptions here did not seem to hit this code httpsgithub comwagtailwagtailblobmasterwagtailimagesfields pyL59L64 Ok after debug print forced into place I have found that the error occurs in the django ImageField validation process on Image open attempt resulting in the error cannot identify image file _io BytesIO object at 0x7f66fc834590 "
63156803,"""Deploying django to AWS Lambda connecting to RDS MySQL, showing error: NameError: name '_mysql' is not defined""","https://stackoverflow.com/questions/63156803/deploying-django-to-aws-lambda-connecting-to-rds-mysql-showing-error-nameerror","{mysql,django,lambda,zappa}","2020-07-29 15:13:46+03","2024-05-17 04:33:39.189277+03","Deploying django to AWS Lambda using zappa connecting to RDS MySQL not able to deploy showing error NameError name _mysql is not defined zappa update dev gives error Error Warning Status check on the deployed lambda failed A GET request to yielded a 502 response code AWS Cloudwatch logs name _mysql is not defined NameError Traceback most recent call last File vartaskhandler py line 609 in lambda_handler return LambdaHandler lambda_handler event context File vartaskhandler py line 240 in lambda_handler handler cls File vartaskhandler py line 146 in init wsgi_app_function get_django_wsgi self settings DJANGO_SETTINGS File vartaskzappaextdjango_zappa py line 20 in get_django_wsgi return get_wsgi_application File vartaskdjangocorewsgi py line 12 in get_wsgi_application django setup set_prefixFalse File vartaskdjango init py line 24 in setup apps populate settings INSTALLED_APPS File vartaskdjangoappsregistry py line 114 in populate app_config import_models File vartaskdjangoappsconfig py line 211 in import_models self models_module import_module models_module_name File varlanglibpython3 6importlib init py line 126 in import_module return _bootstrap _gcd_import name[level] package level File line 994 in _gcd_import File line 971 in _find_and_load File line 955 in _find_and_load_unlocked File line 665 in _load_unlocked File line 678 in exec_module File line 219 in _call_with_frames_removed File vartaskdjangocontribauthmodels py line 2 in from django contrib auth base_user import AbstractBaseUser BaseUserManager File vartaskdjangocontribauthbase_user py line 47 in class AbstractBaseUser models Model File vartaskdjangodbmodelsbase py line 121 in new new_class add_to_class _meta Options meta app_label File vartaskdjangodbmodelsbase py line 325 in add_to_class value contribute_to_class cls name File vartaskdjangodbmodelsoptions py line 208 in contribute_to_class self db_table truncate_name self db_table connection ops max_name_length File vartaskdjangodb init py line 28 in getattr return getattr connections[DEFAULT_DB_ALIAS] item File vartaskdjangodbutils py line 207 in getitem backend load_backend db[ENGINE] File vartaskdjangodbutils py line 111 in load_backend return import_module s base backend_name File varlanglibpython3 6importlib init py line 126 in import_module return _bootstrap _gcd_import name[level] package level File vartaskdjangodbbackendsmysqlbase py line 16 in import MySQLdb as Database File vartaskMySQLdb init py line 24 in version_info _mysql version_info _mysql file NameError name _mysql is not defined My settings py DB config For DATABASES getting deployed successfully Am new to zappa deployment and serverless architecture Please assist am not able to find the solution anywhere Thanks in advance"
63300367,"""Is there a way to test an application deployed with Zappa?""","https://stackoverflow.com/questions/63300367/is-there-a-way-to-test-an-application-deployed-with-zappa","{python,django,amazon-web-services,zappa}","2020-08-07 10:54:20+03","2024-05-17 04:33:40.155469+03","I have created a Django application which is deployed to AWS using Zappa in a CICD pipeline using the following commands However I want to add a test step to the CICD pipeline that would test the application much like in a way that I would test the application locally using the Django command Is there a way to issue a zappa command to make run the python manage py test Do you have any suggestion"
63303008,"""Zappa AWS staticfiles issue""","https://stackoverflow.com/questions/63303008/zappa-aws-staticfiles-issue","{python,django,aws-lambda,zappa}","2020-08-07 13:38:06+03","2024-05-17 04:33:41.255108+03","When deploying a Django v3 0 3 project to AWS Lambda using Zappa I get an error that the package django contrib staticfiles could not be found This looks strange as this package is part of the Django core apps and the project runs on the local development server with no issues whatsoever My app listing looks as follows Cloudwatch gives me the following error log Have been trying various solutions reinstalling environment redeploying Lambda function Nothing works and this is slowly driving me nuts The Lambda function managed to run before and I have no idea what I changed to break it I can confirm that the necessary permissions to access static files in the designated S3 bucket are available and working Any ideas on what is happening from the community"
63558255,"""I am getting error while while using \""zappa init'""","https://stackoverflow.com/questions/63558255/i-am-getting-error-while-while-using-zappa-init","{python,django,amazon-web-services,aws-lambda,zappa}","2020-08-24 09:29:39+03","2024-05-17 04:33:42.327759+03","I am using python 3 8 and zappa 0 51 0 I have installed zappa in a virtual environment and created AWS account also but when I am trying to command zappa init its showing error given below what is happening and how I can get rid of this error"
63634155,"""Failed to find library: libmysqlclient.so.18""","https://stackoverflow.com/questions/63634155/failed-to-find-library-libmysqlclient-so-18","{mysql,aws-lambda,zappa}","2020-08-28 12:51:54+03","2024-05-17 04:33:42.903836+03","I have flask API running on AWS lambda deployed using zappa While instancing it is not able to find libmysqlclient so 18 file which I believe consumes a lot of time Error message in attached image Can someone please help Thanks "
63764298,"""ModuleNotFound cause 502 deploying django with zappa on aws lambda""","https://stackoverflow.com/questions/63764298/modulenotfound-cause-502-deploying-django-with-zappa-on-aws-lambda","{python-3.x,django,amazon-web-services,aws-lambda,zappa}","2020-09-06 12:45:16+03","2024-05-17 04:33:44.562233+03","[RESOLVED] I have faced ModuleNotFound error when try to deploy django to aws via zappa when i tried to run server locally using below commmand it works well zappa settings is like result zappa tail is like folder hierachy is like installed_app is like why i cannot get it"
63984420,"""OSError: [Errno 28] No space left on device - AWS Lambda + Zappa""","https://stackoverflow.com/questions/63984420/oserror-errno-28-no-space-left-on-device-aws-lambda-zappa","{python-3.x,aws-lambda,zappa}","2020-09-20 23:00:12+03","2024-05-17 04:33:45.703213+03","I have deployed an application on AWS lambda using Zappa I get the error in zappa tail OSError No space left on device The file size is large so I am using S3 as well Below is my zappa settings below is the stack trace Any suggestions"
70606680,"""So i‘m trying to deploy a function on openfaas based on arm architecture,but i failed.Can someone tell me how to solve it?""","https://stackoverflow.com/questions/70606680/so-i-m-trying-to-deploy-a-function-on-openfaas-based-on-arm-architecture-but-i-f","{kubernetes,openfaas}","2022-01-06 11:50:44+02","2024-05-17 04:34:24.163751+03","my kubernetes is based on armwith kubernetes1 22 4 my faascli command the response code then can someone tell me the currect way to build a function with arm in openfaasand why this happeneddid i do someting wrong"
64278323,"""convert flask application into aws lambda using Zappa""","https://stackoverflow.com/questions/64278323/convert-flask-application-into-aws-lambda-using-zappa","{python-3.x,amazon-web-services,lambda,zappa,python-zappa}","2020-10-09 10:35:10+03","2024-05-17 04:33:48.74119+03","I have a flask_application which will do some simple task My Requirement I want to deploy this flask_application as a aws lambda_function with the help of zappa To run my flask_application as a lambda function i am performing and then i am uploading that zipped file into lambda and running my lambda function My Issue when ever i run zappa init command it is creating a zappa_setting json file with some info like below I have 3 aws environments and seperate buckets for each environment like I want to deploy my flask application in all 3 aws environments by providing custom zappa_settings json Question Is there a way to provide zappa_settings json as a file and then whenever i run zappa init zappa will take this file as a input and set these environmental varible according to environment if anyone have an idea please let me know"
64380670,"""Zappa: Issue while running lambda function""","https://stackoverflow.com/questions/64380670/zappa-issue-while-running-lambda-function","{python,amazon-web-services,aws-lambda,zappa,python-zappa}","2020-10-15 22:50:46+03","2024-05-17 04:33:49.763391+03","I have a sample flask application and recently with the help of zappa i tryed deploying exiting flask application on lambda Basically I performed these stuff zappa_setting json file when i run the zappa package dev o myproject zip it is creating a myproject zip file and i placed that zip file in s3 bucket mybucketdev then i provided this zip file as an input to lambda when i try to run lambda function i am experiencing an issue Error i gone through the logs and found that my zip file name is mybucket zip and logs are showing this dev_mybucket_current_project tar gz from where this compressed file is coming can anyone suggest a solution for this"
64597633,"""zappa is ignoring flask project log messages""","https://stackoverflow.com/questions/64597633/zappa-is-ignoring-flask-project-log-messages","{python,python-3.x,aws-lambda,zappa,python-zappa}","2020-10-29 19:04:30+02","2024-05-17 04:33:50.647271+03","I have a flask project which i want to deploy on aws environment using zappa i packaged my flask application and placed in S3 my cicd will take care of running this packaged file as a lambda Issue Basically my flask project contains custom logging messages whenever i run flask application it used to log the data But whenever i deploy my flask application on lambda using zappa lambda is running but it is not logging any of my custom logging messages present in my flask application I tried these zappa_settings json but no success Can anyone suggest a solution for this"
64624231,"""Unable to send emails via SES on django app hosted through Zappa(lambda)""","https://stackoverflow.com/questions/64624231/unable-to-send-emails-via-ses-on-django-app-hosted-through-zappalambda","{amazon-web-services,aws-lambda,amazon-ses,zappa,amazon-simple-email-service}","2020-10-31 16:52:55+02","2024-05-17 04:33:51.672173+03","so i have hosted my site on lambda using zappa and i am using djangoamazonses to send email after submitting a form settings py view now this works fine on my local host but when i try to do it online it shows the following error on submitting At first i thought it is because i havent configued a vpc with the lambda function but then it showed me the same error after i configured a publicprivate vpc wizard not sure what am i doing wrong any help would be appreciated "
64704245,"""zappa is packaging extra files which are available in another directory""","https://stackoverflow.com/questions/64704245/zappa-is-packaging-extra-files-which-are-available-in-another-directory","{python-3.x,amazon-web-services,aws-lambda,zappa,python-zappa}","2020-11-05 19:40:58+02","2024-05-17 04:33:52.652333+03","I have a simple flask application and I want to deploy that on AWS environment using Zappa My repository structure will be like this If you see above project structure I have two different projects misc and MyFlaskApplication I went to MyFlaskApplication project path and performed these steps I want to upload this zipped artifact zip into S3 then my cicd will take care of deployment of this zip file on Lambda Issue When I try to package MyFaskApplication zappa is packaging misc project codes as well Because of this my zip file size increases rapidly like 400MB I want to package only my flask code not misc projects Can anyone suggest a solution for this"
64759311,"""Is a WSGI container relevant on AWS Lambda?""","https://stackoverflow.com/questions/64759311/is-a-wsgi-container-relevant-on-aws-lambda","{flask,aws-lambda,wsgi,zappa}","2020-11-09 21:10:10+02","2024-05-17 04:33:53.835388+03","I have got a Flask based web application that deploys to AWS Lambda via Zappa All is well and good The Flask documentation says While lightweight and easy to use Flasks builtin server is not suitable for production as it doesnt scale well Some of the options available for properly running Flask in production are documented here On a standalone server Python is single threaded Global Interpreter Lock GIL etc and therefore does not handle multiple requests well without due care and attention On AWS Lambda and presumably other FaaS infrastructure each HTTP requests gets a separate Python instance so the GIL is not an issue and Lambda takes care of scaling by using multiple function invocations Therefore is using a WGSI container Gunicorn uWGSI etc so strongly recommended when running on AWS Lambda Why or why not Some factors I can guess might be relevant include"
64903806,"""EventBridge vs API Gateway""","https://stackoverflow.com/questions/64903806/eventbridge-vs-api-gateway","{aws-lambda,aws-api-gateway,flask-restplus,zappa,aws-event-bridge}","2020-11-19 01:00:46+02","2024-05-17 04:33:55.651136+03","I am trying to learn how to work with AWS in the last few days because I want to deploy some APIs So far I was learning how to use API Gateway with Lambda Functions and it seemed like a nice workflow But because I am writting my APIs with flaskrestplus I tried the Zappa framework which uses EventBridge CloudWatch Events as a trigger for each Lambda Function I create So my questions are Thank you in advance "
64908458,"""zappa: A GET request to '/' yielded a 500 response code""","https://stackoverflow.com/questions/64908458/zappa-a-get-request-to-yielded-a-500-response-code","{http-status-code-500,zappa}","2020-11-19 09:05:23+02","2024-05-17 04:33:56.535531+03","this is my first attempt to use zappa and it failed for some unknown reason Saw some other similar posts but they do not seem to be related This is the zappa_settings json These are the console logs when I run zappo deploy dev Below are the selected logs I obtained from zappa tail This is a truncated version of my flask app app py which included some image processing tasks and then uploading to S3 dynamoDB "
64940495,"""zappa: where to put aws secret & access keys?""","https://stackoverflow.com/questions/64940495/zappa-where-to-put-aws-secret-access-keys","{zappa}","2020-11-21 06:35:47+02","2024-05-17 04:33:57.615421+03","I am trying to use zappa to launch my flask app in aws lambda api gateway The flask script requires a separate aws secret access keys needed for S3 dynamoDB different from the one i used for executing zappa I realised that I cannot put it in zappa_settings json as they will be blocked Where should I put them then"
65185765,"""Stop AWS CloudFront stripping custom domain when re-directing""","https://stackoverflow.com/questions/65185765/stop-aws-cloudfront-stripping-custom-domain-when-re-directing","{django,amazon-web-services,aws-lambda,amazon-cloudfront,zappa}","2020-12-07 16:42:04+02","2024-05-17 04:33:58.483001+03","I have CloudFront caching a Django Lambda Zappa deployment Everything is working fine except that when I visit my custom domain such as www example com it is redirecting to the Lambda execution URL like https1234xb7gmc executeapi euwest2 amazonaws com rather than keeping the custom domain I think the flow is as follows Custom Domain CloudFront Domain Lambda Domain I just want it so that at the end the user is still using the custom domain and not the Lambda one even though behind the scenes they are being invoked Is there a name for this behavior"
44810237,"""Cannot run `source` in AWS Codebuild""","https://stackoverflow.com/questions/44810237/cannot-run-source-in-aws-codebuild","{bash,amazon-web-services,terraform,aws-codebuild}","2017-06-28 18:41:17+03","2024-05-17 04:33:59.373091+03","I am using AWS CodeBuild along with Terraform for automated deployment of a Lambda based service I have a very simple buildscript yml that accomplishes the following The step source the creds file is where I am having my difficulty I have a simply bash oneliner that grabs the AWS container creds off of curl 169 254 170 2AWS_CONTAINER_CREDENTIALS_RELATIVE_URI and then saves them to a file in the following format Of course the obvious step is to simply source this file so that these variables can be added to my environment for Terraform to use However when I do source pathtocreds_file txt CodeBuild returns I have tried to install source through apt but then I get an error saying that source cannot be found yes I have run apt update etc I am using a standard Ubuntu image with the Python 2 7 environment for CodeBuild What can I do to either get Terraform working credentials for source this credentials file in Codebuild Thanks "
65292235,"""flask-slack-app-slash-command-Function executes if we click the button too""","https://stackoverflow.com/questions/65292235/flask-slack-app-slash-command-function-executes-if-we-click-the-button-too","{python,flask,slack,zappa}","2020-12-14 16:02:43+02","2024-05-17 04:34:00.44529+03","Slash command is actions whenever I post this n channel a message with button should be posted This is working correctly But if I click the button to open dialog or submit the dialog again message with button gets posted And I am not calling the post function during this too I am calling it under route actions Code Should Execute Only when actions slash command is used Should Not When a button from below function is clicked Question How can I achieve to stop this Below function that executes unnecessarily This function will post a message and a button Steps 1 actions is input in channel 2 triggers send_menu and post a message with a button 3 Now if I click that button again the message is posted and dialog is opened"
65468821,"""Accessing private API from Lambda Function""","https://stackoverflow.com/questions/65468821/accessing-private-api-from-lambda-function","{python,amazon-web-services,api,aws-lambda,zappa}","2020-12-27 18:02:31+02","2024-05-17 04:34:01.464595+03","I need to call a private API say rxinformation deployed on a server xxx xxx xxx xxx from a lambda function deployed using zappa library in python using flask framework Can anyone suggest the steps required to do so I tried going through this document httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayprivateapitestinvokeurl html but cannot understand it Thanks for the help "
66018600,"""How can I deploy zappa app to both https://www.my_domain.com and https://my_domain.com""","https://stackoverflow.com/questions/66018600/how-can-i-deploy-zappa-app-to-both-https-www-my-domain-com-and-https-my-doma","{python,zappa,amazon-certificate-manager}","2021-02-02 22:36:24+02","2024-05-17 04:34:02.530056+03","I have a Flask app that I use Zappa to deploy I have successfully deployed it to www my_domain com But a lot of folks have told me your sites down and when I followed up it is because they go to httpsmy_domain com no www I would like to redirect from that to the working site My certificate is via AWS and technically for www my_domain com my_domain com and my_domain com though when I did the emailbased approval my_domain com and my_domain com both were interpreted as my_domain com I have tried changing my zappa_settings json domain but no change "
66024061,"""Zappa is not invoking the right Virtual env correctly while deploy""","https://stackoverflow.com/questions/66024061/zappa-is-not-invoking-the-right-virtual-env-correctly-while-deploy","{python,django,pyenv,zappa}","2021-02-03 08:49:54+02","2024-05-17 04:34:03.355111+03","I am trying to deploy a Django app with Zappa using I have created virtualenv using pyenv Following commands confirms the correct virtualenv But when I am trying to deploy the application using zappa deploy dev following error is thrown You can see the line at which error is thrown is different where virtualenv is installed I do not know why Zappa deploy is looking for the sitepackages here "
66593641,"""How to make zappa work with my python 3.9 version?""","https://stackoverflow.com/questions/66593641/how-to-make-zappa-work-with-my-python-3-9-version","{python,python-3.x,aws-lambda,zappa,python-zappa}","2021-03-12 03:10:52+02","2024-05-17 04:34:04.03765+03","I am trying to do zappa init but unfortunately I get this error As you can see my version of python is 3 9 I installed pyenv to make it works with 3 8 but it still does not work Any suggestion "
66600865,"""Zappa trigger lambda from EventBridge pattern""","https://stackoverflow.com/questions/66600865/zappa-trigger-lambda-from-eventbridge-pattern","{amazon-web-services,aws-lambda,zappa,aws-event-bridge}","2021-03-12 13:32:11+02","2024-05-17 04:34:05.082208+03","I have the following event pattern that I want my lambda function to be triggered from but i am unable to find any documentation to allow this to be set in the zappa_settings json file I am only able to find SNS and EventBridge cron expressions How can I get my lambda function to create and trigger from this event"
66607064,"""How to force install all dependencies in virtualenv?""","https://stackoverflow.com/questions/66607064/how-to-force-install-all-dependencies-in-virtualenv","{python,virtualenv,zappa}","2021-03-12 20:52:46+02","2024-05-17 04:34:05.890667+03","I am trying to deploy my flask app on AWS Lambda by using Zappa I carefully followed all the tutorials but I always get deployment error I entered zappa tail and I figured out that the dependencies are not installed even after I made pip freeze requirements txt The problem is there are a lot of dependencies and it really boring to install each of them manually Is there any magic command that will allow me to automatically install all dependencies in the virtualenv "
66640624,"""Django - Run collectstatic to collect static files but collect all the files in the project directory instead""","https://stackoverflow.com/questions/66640624/django-run-collectstatic-to-collect-static-files-but-collect-all-the-files-in","{django,django-staticfiles,django-storage,zappa}","2021-03-15 15:10:35+02","2024-05-17 04:34:06.372187+03","I am trying to run collectstatic command to collect all of the my static files from the subdirectories of apps and deployed them to my Amazon S3 buckets I tried to use Zappa following the steps as found in this link httpsromandc comzappadjangoguidewalk_static After running the command python manage py collectstatic all of the files in my project directory get copied into the static folder Plus it is not deployed into the S3 bucket Here is my code Can anyone point out what I did wrong please Thank you "
67037706,"""botocore.exceptions.ClientError: An error occurred (AccessDenied) when calling the CreateBucket operation: Access Denied""","https://stackoverflow.com/questions/67037706/botocore-exceptions-clienterror-an-error-occurred-accessdenied-when-calling-t","{aws-lambda,web-deployment,zappa,python-zappa}","2021-04-10 18:09:14+03","2024-05-17 04:34:08.115206+03","I am trying to deploy my Django project on AWS lambda using Zappa Here is my zappa_settings json I get the error Any idea what is causing it and how to fix this My understanding is that Zappa zips the entire project and wants to upload it to AWS S3 bucket but it is missing a permission when calling the CreateBucket operation I do not understand where this permission should go Inside the IAM I have created ZappaGroup which has permissions using ZappaUserGeneralPolicy and ZappaUserS3Policy my ZappaUserGeneralPolicy Also my ZappaUserS3Policy And my ZappaDjangoRoles Trust relationships And finally here is my ZappaRolePolicy "
67199085,"""Serverless Django app (AWS Lambda via Zappa) times out when trying to OAuth to Twitter""","https://stackoverflow.com/questions/67199085/serverless-django-app-aws-lambda-via-zappa-times-out-when-trying-to-oauth-to-t","{django,twitter,aws-lambda,oauth,zappa}","2021-04-21 15:42:03+03","2024-05-17 04:34:09.078761+03","I have got a Django app setup to use djangoallauth to connect to Twitter The flow is all working locally and I have followed the same setup steps on Lambda to add my tokens site etc When I try to access the login url accountstwitterlogin the request eventually times out with this message from AWS Lambda The last message from zappa tail before the timeout event is I have seen that the gateways have a 30 second timeout but I do not think it should be taking this long anyway Locally it is taking a couple of seconds Does anyone with knowledge of these platforms have an idea where the bottleneck might be and where the issue could be Or have any pointed questions to help debug Things I have already checked and tentatively ruled out"
67475390,"""Error message: \""'NoneType' object is not callable\"". - received from zappa deployed django application on AWS Lambda""","https://stackoverflow.com/questions/67475390/error-message-nonetype-object-is-not-callable-received-from-zappa-deploy","{python,django,amazon-web-services,aws-lambda,zappa}","2021-05-10 17:52:38+03","2024-05-17 04:34:10.074208+03","I am running into an error after deploying my django app to lambda using zappa This is the error These are my zappa settings I have ensured that my API Gateway hostname has been added to my allowed hosts setting and redeployed I have called zappa tail but it gives me an even shorter error respons NoneType object is not callable Can anyone understand why I would be getting this"
67541167,"""Docker and Zappa: Wrong python path""","https://stackoverflow.com/questions/67541167/docker-and-zappa-wrong-python-path","{python,django,docker,zappa}","2021-05-14 21:33:25+03","2024-05-17 04:34:10.765898+03","I am trying to run Django in a Lambda using Zappa and Docker I am following the instructions outlined here When I run zappa deploy dev I keep getting the FileNotFound error below It looks like my pythonpath and virtual environment path is wrong and I have no idea how it got in there I tried setting the pythonpath in my Dockerfile but with no luck Dockerfile zappa_settings json"
67556906,"""ImproperlyConfigured: Error loading psycopg2 module: No module named 'psycopg2._psycopg' zappa""","https://stackoverflow.com/questions/67556906/improperlyconfigured-error-loading-psycopg2-module-no-module-named-psycopg2","{python,django,postgresql,zappa,python-zappa}","2021-05-16 12:53:48+03","2024-05-17 04:34:11.937238+03","I am using zappa to deploy backend to the AWS Lambda It worked well until I decided to use PostgreSQL I added it in the settings like this I am using AWS RDS I installed psycopg2binary and also psycopg2 versions 2 8 6 but the issue remains The python version is 3 8 The full error log"
67403336,"""Local Docker registry in K3d and OpenFaas""","https://stackoverflow.com/questions/67403336/local-docker-registry-in-k3d-and-openfaas","{docker,docker-registry,openfaas,k3d}","2021-05-05 14:29:42+03","2024-05-17 04:34:12.868142+03","I am tinkering around with OpenFaas and K3D in order to build a serverless infrastructure for local development For this to work efficiently I wanted to add a docker registry locally with K3D and have OpenFaas pull images from there however I am confused about how I can use the host machines IP as a registry source In order to create the cluster I used the following commands So building a sample function works fine but obviously OpenFaasKubernetes will not be able to reach the docker registry The only solution I have in mind is to configure a DNS service within K3d that can resolve to the hosts Docker registry Does anyone have an idea how this could be done easier Fortunately I do not need this for production systems as they would pull images from an external registry "
67699307,"""Trying to Access OpenFaaS with an Istio Gateway""","https://stackoverflow.com/questions/67699307/trying-to-access-openfaas-with-an-istio-gateway","{istio,istio-sidecar,openfaas,istio-gateway,istio-operator}","2021-05-26 06:02:53+03","2024-05-17 04:34:13.533127+03","I was trying to access OpenFaaS through istio in which I have included gateway and virtual service I need to create a separate endpoint for the OpenFaaS eg httpistio_ingress_Loadbalanceropenfaas This should give me OpenFaaS UI Can anyone please help me regarding I have hard time accessing this Below is the code I have written for gateway and virtual service "
67897137,"""How does openfaas solve the time zone problem of the container in the pod？""","https://stackoverflow.com/questions/67897137/how-does-openfaas-solve-the-time-zone-problem-of-the-container-in-the-pod","{kubernetes,serverless,openfaas}","2021-06-09 03:28:56+03","2024-05-17 04:34:14.635727+03","I am currently deploying openfaas on my local virtual machines kubernetes cluster I found that the time zone of the container started after publishing the function is inconsistent with the host machine How should I solve this problem"
68143474,"""OpenFaas' Ingress-operator doesn't rewrite path""","https://stackoverflow.com/questions/68143474/openfaas-ingress-operator-doesnt-rewrite-path","{kubernetes,serverless,openfaas}","2021-06-26 14:52:57+03","2024-05-17 04:34:15.545174+03","So I am trying to create a more RESTlike api path by using OpenFaaS ingressoperator using the following tutorial I verified that the ingressoperator is running by using kubectl get deployingressoperator n openfaas o wide which showed one available However it does not seem to properly change the functions path I currently have deployed the base node14 function which can be invoked normally by visiting httpgw example kubefunctiontestfn I also applied the following FunctionIngress But visiting httpexample kubeapiv1test results in a 404 from Nginx I tried removing the which will serve OpenFaaS own 404 page when revisiting the page Both example kube and gw example kube have been set in the hosts file Restarting the cluster also did not resolve the issue Additional information"
69248426,"""Zappa deployment error - troposphere==2.7.1 didn't help AttributeError: 'Template' object has no attribute 'add_description'""","https://stackoverflow.com/questions/69248426/zappa-deployment-error-troposphere-2-7-1-didnt-help-attributeerror-templat","{python,aws-lambda,zappa}","2021-09-20 02:07:52+03","2024-05-17 04:34:54.845731+03","I have migrated my python project from 2 7 to 3 8 and I am trying to deploy using zappa But as soon as it is starting updating Lambda function configs it hits this error I found this question and tried to downgrade troposphere as suggested in this post but again I face a new error as below Any thoughtshelp is much appreciated thanks"
68415312,"""Do Docker Hub image repositories contain the environment variables from .env file?""","https://stackoverflow.com/questions/68415312/do-docker-hub-image-repositories-contain-the-environment-variables-from-env-fil","{docker,docker-compose,openfaas}","2021-07-16 21:13:58+03","2024-05-17 04:34:16.36527+03","I am building out my product environments using Docker and want to make sure my secrets and keys are secure To do so I would like to use env files For convenience sake I would like to avoid dealing with Docker secrets For local development I am using OpenFaas which requires the image be pushed to Docker Hub for use with k3s OpenFaas I am concerned that the Docker Hub image may contain the variables from the env file used with dockercompose yaml Are the environment variables included in the Docker Hub image repository The docs and This stack overflow response suggest that environment variables are only used at runtime which I understand to mean they are not included That should mean only someone with admin access to the server would be able to inspect the image for the secrets Am I wrong in this assumption Should I be using Docker secrets Update 081921 Through testing I feel more confident that the env variables are not included in the image on Docker Hub Note I am using OpenFaas faascli to handle docker deployment To test this I did the following This gave me some confidence but not as much as I would like so next I did the following nocache ensures that the image is pulled fresh skippush skips the part where the docker image is pushed to the Docker Hub repository Thus the build of the image should use the image created with the environment_file commented out but now run with the environment_file uncommented on the local yml file After invoking the function this time the variable is available and returns appropriately As long as my interpretation of how the build push and deploy portions of the faascli works is correct then I feel confident the env file and variables are not part of the Docker Hub image "
68494612,"""Openfaas Invoke async function with queue name""","https://stackoverflow.com/questions/68494612/openfaas-invoke-async-function-with-queue-name","{openfaas}","2021-07-23 05:52:18+03","2024-05-17 04:34:17.027419+03","Is there a way to give the queuename with async openfaas function invocation We have a openfaas function deployed which will be invoked by multiple providers The execution time of the function depends on some parameters given by the provider We want to queue function invocation via a separate queuename but keep only a single function as the invocations are sparse but spiky What is the way to achieve this "
68544808,"""Deploy Spring Cloud Function to OpenFaaS""","https://stackoverflow.com/questions/68544808/deploy-spring-cloud-function-to-openfaas","{spring-boot,spring-cloud,serverless,openfaas}","2021-07-27 12:26:02+03","2024-05-17 04:34:18.002083+03","Spring Cloud Function is a way to write serverless functions with Spring Boot There are only adapters for AWS Azure etc but no way to deploy to OpenFaaS yet How do I deploy a Spring Cloud Function to OpenFaaS "
68922818,"""OpenFaaS : Receiving Timeout errors during health check of function Pod""","https://stackoverflow.com/questions/68922818/openfaas-receiving-timeout-errors-during-health-check-of-function-pod","{health-check,kubernetes-health-check,openfaas}","2021-08-25 12:18:50+03","2024-05-17 04:34:18.932076+03","Issue We have added health check configuration to our function However pod becomes Unhealthy due to timeout error in liveness and readiness checks and consequently getting restarted However if I hit same health check url using CURL or browser it returns correct response Health check configuration reference We are using Kubernetes HPAv2 for autoscaling Reference testfunction yml Error Trace Any idea what could be wrong "
69109572,"""Deploy FastAPI microservice in Kubernetes via OpenFaaS""","https://stackoverflow.com/questions/69109572/deploy-fastapi-microservice-in-kubernetes-via-openfaas","{python,kubernetes,aws-lambda,fastapi,openfaas}","2021-09-08 20:55:18+03","2024-05-17 04:34:19.815281+03","I have a big application structured with FastAPI with many routers that runs in AWS Lambda I want to migrate it to a container inside Kubernetes From my research OpenFaaS is a great solution However I cannot find documentation about how to do this Does anyone has references or a better solution"
70107243,"""Traffic is not being spread evenly between replicas of OpenFaas functions""","https://stackoverflow.com/questions/70107243/traffic-is-not-being-spread-evenly-between-replicas-of-openfaas-functions","{kubernetes,serverless,amazon-eks,kubernetes-pod,openfaas}","2021-11-25 07:28:47+02","2024-05-17 04:34:20.484948+03","As per this documentation I have configured direct_functions to false which allows the provider to balance traffic between replicas of OpenFaas functions But it sends the traffic to only one replica Without using any service mesh solution how do I archive the fairly balance the traffic to all pods that are related to one openfaas function I have deployed OpenFaas on the EKS cluster "
70174034,"""Open-faas function will not deploy""","https://stackoverflow.com/questions/70174034/open-faas-function-will-not-deploy","{openfaas}","2021-11-30 18:01:02+02","2024-05-17 04:34:21.430879+03","I am attempting to deploy an openfaas function from the cli The command I am using is below sudo usrlocalbinfaascli deploy f mytemplate yml This gives an error of Is OpenFaaS deployed Do you need to specify the gateway flag Put http127 0 0 18080systemfunctions dial tcp 127 0 0 18080 connect connection refused Function mytemplate failed to deploy with status code 500 I am thinking the Openfaas service might not be running but I cannot figure out how to turn it on Can anyone provide some insight Thanks"
77058394,"""How docker containers are shared with host directories""","https://stackoverflow.com/questions/77058394/how-docker-containers-are-shared-with-host-directories","{docker,kubernetes,minikube,openfaas}","2023-09-07 09:38:59+03","2024-05-17 04:34:43.322573+03","When creating a function on OpenFaaS OpenFaaS automatically creates a container How can I enable this container to share directories with the host machine I would like to access a specific file on the host machine from within the function code "
70332339,"""How to use vert.x eventbus to communicate between openfaas functions""","https://stackoverflow.com/questions/70332339/how-to-use-vert-x-eventbus-to-communicate-between-openfaas-functions","{kubernetes,vert.x,vertx-eventbus,openfaas}","2021-12-13 09:21:56+02","2024-05-17 04:34:22.361037+03","I am using Vert x in my openfaas function and I want to communicate between them using vert x event bus but I am not sure how to use event bus for out side of a function It works in same function I did not find any documentation or resource about this Currently I am using vertx java11 template for openfaas function but I also want to use python version for ml model and want to communicate between them using event bus Is it possible in openfaas "
70564456,"""How to illustrate concurrency benefits using an OpenFaas function?""","https://stackoverflow.com/questions/70564456/how-to-illustrate-concurrency-benefits-using-an-openfaas-function","{load-testing,openfaas,hey}","2022-01-03 10:33:29+02","2024-05-17 04:34:23.310854+03","I am experimenting with OpenFaas and trying to evaluate the performance benefit of having more than workers serve the same function the default shasum function available from the store I have a cluster of three small 1vcpu 2gb ram one medium 1vcpu 4gb ram and one big 2vcpu 4gb ram VMs Scheduling is done with Kubernetes and the medium and large VMs are exempt from hosting any functions which are hosted on the small VMs The hey tool is used to perform multiple invocations and I spawn workers i e additional pods instances of the function manually through the API The 8080 port of the gateway component is portforwarded to localhost kubectl portforward n openfaas svcgateway 80808080 and invocations of the function are made using a commandline similar to the following hey n 50 c 3 m POST D 50large txt httplocalhost8080functionshasum or hey n 20000 c 600 m POST d test httplocalhost8080functionshasum the first one tests with 50 shasums of a 30Mb file the other one with 600 concurrent publishers of a small request 20000 times The invocations are made from the big VM which cannot host any function pods cordoned Sometimes I notice that if I call the function with great amounts of concurrent requests or large file inputs the gateway fails to forward these requests and portforwarding is broken for example when using the first command when substituting c 3 with c 5 for 5 concurrent producers But even when portforwarding is not broken i e using c 3 I get some not easily explainable results Consider the execution log below for a case which makes continuous use of three workers function pods evenly spread over the three small VMs And the other execution log which only uses a single worker one function pod Why does using multiple function pods only achieve marginally better results Can anyone suggest an approach to verify that using multiple workers is actually better than using a single worker using this or a related setup"
70847716,"""Can we detect and get specific directory changed in gitlab CI/CD?""","https://stackoverflow.com/questions/70847716/can-we-detect-and-get-specific-directory-changed-in-gitlab-ci-cd","{gitlab,gitlab-ci,cicd,openfaas}","2022-01-25 11:18:27+02","2024-05-17 04:34:25.127153+03","I am a beginner to learn gitlab CICD and doing some projects related to it I have a trouble when using OpenFaaS and build a large number of function I want to use CICD to automatically build functions that have updates remain functions are not but I do not know how to get name of specific folder or directory changed in my source to build corresponding functions So I wonder if we have a way to get name of specific directory changed in Gitlab CICD Or another tools CICD can do that"
70882063,"""Kubernetes: one node per replica""","https://stackoverflow.com/questions/70882063/kubernetes-one-node-per-replica","{kubernetes,serverless,horizontal-pod-autoscaling,openfaas}","2022-01-27 16:21:09+02","2024-05-17 04:34:26.184169+03","I have got a CPUintensive serverless function deployed on a Kubernetes cluster running on OpenFaaS What I would like to achieve is that whenever my function is invoked a new node spins up in my cluster to execute the process as multiple processes might be executed at a given time I have so far created an HPA set to 70 of CPU utilisation I have also added a podAntiAffinity rule to the deployment make sure only a single replica is deployed on a given node The deployment also has resource configuration settings So far I was able to get new nodes spun up with a replica of my function deployed on each The desired outcome is that each node executes the serverless function isolated from each other For example Instead what I am seeing is that Node 1 executes the function with parameter A it then starts to execute the function with parameter B After CPU utilisation goes above 70 Node 2 spins up and starts to execute my function multiple times using parameters A and B What I would like instead is that Node 1 executes my function using parameter A only Node 2 executes my function using parameter B only and so on Is there a way to achieve the above"
70961403,"""Connect to Kafka does not work when called by the openfaas service""","https://stackoverflow.com/questions/70961403/connect-to-kafka-does-not-work-when-called-by-the-openfaas-service","{java,apache-kafka,kafka-producer-api,openfaas}","2022-02-02 19:06:56+02","2024-05-17 04:34:26.806054+03","Connect to Kafka normally via Java without using openfaas Successful Connect to Kafka does not work when called by the openfaas service When running a function as service created by openfaas it cannot connect to Kafka Kafka is running on Docker "
71493306,"""Enable use of images from the local library on Kubernetes""","https://stackoverflow.com/questions/71493306/enable-use-of-images-from-the-local-library-on-kubernetes","{kubernetes,kubernetes-helm,serverless,minikube,openfaas}","2022-03-16 07:44:36+02","2024-05-17 04:34:27.488739+03","I am following a tutorial httpsdocs openfaas comtutorialsfirstpythonfunction currently I have the right image there is a step that forewarns me to do some setup My case is I am using Kubernetes and minikube and do not want to push to a remote container registry I should enable the use of images from the local library on Kubernetes I see the hints I am not sure how to configure it correctly the final result indicates I failed Unsurprisingly I could not access the function service I find some clues in httpsdocs openfaas comdeploymenttroubleshootingopenfaasdidntstart which might help to diagnose the problem helloopenfaas yml I create a new project helloopenfaas2 to reproduce this error from httpsdocs openfaas comreferenceyaml I know I put the imagePullPolicy in the wrong place there is no such keyword in its schema I also tried eval minikube dockerenv and still get the same error I have a feeling that faascli deploy can be replace by helm they all mean to run the image whether from remote or local in Kubernetes cluster then I can use helm chart to setup the pullPolicy there Even though the detail is not still clear to me This discovery inspires me So far after eval minikube dockerenv In one shell and another shell"
71557667,"""Shell into faasd function container""","https://stackoverflow.com/questions/71557667/shell-into-faasd-function-container","{docker,containerd,openfaas}","2022-03-21 12:29:59+02","2024-05-17 04:34:28.29405+03","I am working with faasd and I want to troubleshoot my function I have a connectivity issue from within the function when I try to reach an external server I can reach the external server from the the host where faasdd is deployed but not from within the function Now I focus on troubleshooting this by logging into the function container and do some network checks from there The problem I am asking for is How can I log into that functions container I see nothing on docker ps or docker container list in the machine that hosts faasd I did not find any faasd documentation about this Does someone know how could I log into the faasd function container Thanks a lot Gabriel"
71577071,"""Do Node openfaas functions require a package.json in the deployment bundle?""","https://stackoverflow.com/questions/71577071/do-node-openfaas-functions-require-a-package-json-in-the-deployment-bundle","{node.js,npm,openfaas}","2022-03-22 18:16:56+02","2024-05-17 04:34:29.179807+03","Looking at openfaas Node templates there is a pattern of having a nested package json in the functions folder Seeing a nested package json file location other than the root in a nonmonorepo npm package is code smell to me and causes some dev flow problems The latter is particularly painful A developer cloning an openfaas repo for the first time and running npm ci or npm i will not have all the dependencies installed to run the function locally Same issue for any continuous integration like Jenkins that runs automated tests So one could add the dependencies in the functionpackage json to the root package json prone to human error Or write scripts that cd function npm ci cd npm run startwhatever to work around this but obviously that is a bit ridiculous "
71657530,"""How to trace logs in open faas serverless application?""","https://stackoverflow.com/questions/71657530/how-to-trace-logs-in-open-faas-serverless-application","{kubernetes,workflow,serverless,minikube,openfaas}","2022-03-29 06:42:05+03","2024-05-17 04:34:30.23699+03","I am using OpenFaas functions to dpeloy a serverless application KUbernetes cluster is being used for deployment via minikube I want to trace the function calls however any changes made inside build are not getting reflected in the kubernetes logs Any updations on the Handler file is not getting reflected on to the ouput from the curl command that is calling it How can I trace the function calls I tried checking logs in varlogs"
69413084,"""zappa {\""message\"":\""Forbidden\""} using flask""","https://stackoverflow.com/questions/69413084/zappa-messageforbidden-using-flask","{amazon-web-services,zappa}","2021-10-02 00:28:10+03","2024-05-17 04:34:55.889531+03","I have a flask app that i am able to deploy on aws using Zappa A simple Hello World works fine but when my app redirected to a uri not including the environment name uri instead of devuri i get a Forbidden error The above upload method fails while accessing giving me a messageForbidden Error I think it has to do something with the URI not being right because Zappa adds dev path during deployment "
72227878,"""Not able to use terraform command on OpenFaas Python 3 Function deployment""","https://stackoverflow.com/questions/72227878/not-able-to-use-terraform-command-on-openfaas-python-3-function-deployment","{python-3.x,docker,kubernetes,terraform,openfaas}","2022-05-13 10:10:53+03","2024-05-17 04:34:30.950939+03","I am using a Openfaas Python3 function with terraform to create bucket in my AWS Account I am trying it locally and created a local cluster using k3s and installed openfaas cli Steps Created local cluster and deployed faasnetes Created a new project using openfaas template of python3 Exposed the port Changed my project yaml file with new host on gateway key in provider I am creating my tf files with python only and I am sure that the files are created with proper info as checked it by executing ls and printing the file data after closing the file Checked if terraform is installed in image and live by executing terraformversion I have already changes my dockerfile to have terraform installed while building image OS Ubuntu 20 04 Docker 20 10 15 FaasCLI 0 14 2 Docker File Handler py But still not able to use terraform commands like terraform init and create bucket on AWS "
73483485,"""when i call another function in faas, I get an error like 'this function not published'""","https://stackoverflow.com/questions/73483485/when-i-call-another-function-in-faas-i-get-an-error-like-this-function-not-pub","{node.js,express,openfaas,faas}","2022-08-25 07:27:26+03","2024-05-17 04:34:31.834782+03","How can i import and use faas function in another faas function in express js"
73742297,"""AKS - public Load Balancer / Openfaas - \""Cannot connect to OpenFaaS on URL: https://...\""""","https://stackoverflow.com/questions/73742297/aks-public-load-balancer-openfaas-cannot-connect-to-openfaas-on-url-http","{azure,kubernetes,azure-aks,azure-load-balancer,openfaas}","2022-09-16 08:50:31+03","2024-05-17 04:34:32.914903+03","Situation I have an AKS cluster that I am trying to load my project into from localhost When I launch my Ansible scripts to get the project running I need to log in to openfaas but I encounter this error I have a PUBLIC Load Balancer I created from a yaml file and it is linked to the DNS com IP address of LB created My loadbalancer yml file My ingress file I have not found many tutorials that have the same situation or they use internal Load Balancers Is this Azure that is blocking the communication a Firewall problem Do I need to make my LB internal instead of external I saw a source online that stated this If you expose a service through the normal LoadBalancer with a public ip it will not be accessible because the traffic that has not been routed through the azure firewall will be dropped on the way out Therefore you need to create your service with a fixed internal ip internal LoadBalancer and route the traffic through the azure firewall both for outgoing and incoming traffic httpsdenniszielke medium comsettingupazurefirewallforanalysingoutgoingtrafficinaks55759d188039 But I am wondering if it is possible to bypass that Any help is greatly apprecated "
74766612,"""building containers on M1 for intel architecture""","https://stackoverflow.com/questions/74766612/building-containers-on-m1-for-intel-architecture","{docker,kubernetes,dockerfile,openfaas,faas}","2022-12-12 04:27:32+02","2024-05-17 04:34:34.121418+03","Folks Am unable to build a container on my M1 machine for intel k8s container logs all state Am I messing up the yaml definition somehow I have tried the following as well Thank you "
74839222,"""what is the difference between the serverless function instance and the container instance?""","https://stackoverflow.com/questions/74839222/what-is-the-difference-between-the-serverless-function-instance-and-the-containe","{docker,containers,serverless,openwhisk,openfaas}","2022-12-18 04:58:13+02","2024-05-17 04:34:35.035576+03","I am new to serverless computing and I have questions about serverless functions concurrency Some opensource serverless platforms like OpenWhisk OpenFaas deeply function using docker containers These functions can scale up and scale down based on the invocations rate Scaling up is achieved by increasing the number of instances But Here what is a function instance Is it another container hosting the requested function Or just another function handler inside the same container and if so when a container is duplicated"
75729270,"""How to create Common Faas function to run on all Faas Providers""","https://stackoverflow.com/questions/75729270/how-to-create-common-faas-function-to-run-on-all-faas-providers","{aws-lambda,google-cloud-functions,azure-functions,openfaas,faas}","2023-03-14 05:05:04+02","2024-05-17 04:34:35.931711+03","As we know we have some major Fass providers like AWS Lambda Google Cloud Functions and Microsoft Azure Functions each has its own SDK to develop the FaaS functions is there any way or SDK to write a function in plain JAVA and run it on any of the FaaS Providers I am aware of how to write the functions in AWS Lambda Google Cloud Functions and Microsoft Azure Functions individually but I need to write a common function that can run in any of the FaaS providers "
77126714,"""Openfaas common files during development""","https://stackoverflow.com/questions/77126714/openfaas-common-files-during-development","{python-3.x,openfaas}","2023-09-18 11:12:55+03","2024-05-17 04:34:44.272971+03","I am using the copy function to create reusable code in a common folder httpsdocs openfaas comreferenceyamlcopy I was reading most of the discussion before implementing this feature enter link description here and the PR enter link description here Cannot find any information about how to solve the problem that the files from the common folder are missing during development how to fix the Import function common could not be resolved during development I am used to step through the code when reading it but the connection is not there and very the code is very error prone "
76409980,"""MQTT Subscribing with Serverless Function""","https://stackoverflow.com/questions/76409980/mqtt-subscribing-with-serverless-function","{raspberry-pi,serverless,mosquitto,paho,openfaas}","2023-06-05 21:02:07+03","2024-05-17 04:34:36.757365+03","We have a project that uses a lidar detector to detect objects within 2 meters We are wanting to run this on a raspberry pi 4 using openfaasfaasd serverless framework We are using mosquitto as our MQTT Broker We have everything running locally on the raspberry pi We set up the raspberry pi locally as a publisher and set up a local subscriber and we are successfully seeing the input from the lidar detector However when we try to push the same code to openfaas we are getting connection errors We have configured our mosquitto configuration file to listener 18830 0 0 0 and allow_anonymous true We have tested mosquitto_sub and it is working successfully The only problem is when trying to invoke the subscriber function on faasd we are getting an error for connection refused to the mqtt broker while using paho python as our connector Attached is our code and error message Any further troubleshooting tipsinsight would be greatly appreciated Error httpsimgur comM34zmJ0 Link to config file httpsimgur comaiQm6c6i Link to our code httpsgithub comggg0241ServerlessADAS_SD config file YAML File for openfaas handler py file for openfaas"
41070639,"How to change aws credentials in Serverless 1.0?","https://stackoverflow.com/questions/41070639/how-to-change-aws-credentials-in-serverless-1-0","{amazon-web-services,serverless-framework}","2016-12-09 23:55:44+02","2024-05-17 05:02:45.670407+03","I try to use Serverless 1 0 with several AWS credentials In my PC 1 3 0 is installed I found some descriptions that admin env can change credentials in Stack overflow or github issues but I cannot found how to write and where to put admin env Are there any good document for admin env"
76447080,"""internalTrafficPolicy not work in Kubernetes""","https://stackoverflow.com/questions/76447080/internaltrafficpolicy-not-work-in-kubernetes","{kubernetes,knative,kube-proxy,openfaas}","2023-06-10 16:21:06+03","2024-05-17 04:34:37.752873+03","I am studying in Serverless Computing with OpenFaaS and Knative I have some problem with svc of K8s Arcording Kubernetes Documentation we can using internalTrafficPolicy and externalTrafficPolicy to force kubeproxy to forward incomming traffic to the pod in the same node In Knative the component kouriergateway comunicates to component activator via kubeproxy I edited activators service so I set internalTrafficPolicy to Local to forward all traffic from kouriergateway to activator to the podactivator in the same node But it was not effected the traffic routed to a pod in other node The same things happened in traffic from gateway to function pod in OpenFaas I want to ask what can overriding those properties causing them not to work as expected This is svcactivators yaml file I edited activators service so I set internalTrafficPolicy to Local to forward all traffic from kouriergateway to activator to the podactivator in the same node But it was not effected the traffic routed to a pod in other node "
76639585,"""Equivalent of Apache OpenWhisk Action Sequences in OpenFaas""","https://stackoverflow.com/questions/76639585/equivalent-of-apache-openwhisk-action-sequences-in-openfaas","{serverless,function-composition,openwhisk,openfaas}","2023-07-07 19:02:21+03","2024-05-17 04:34:38.791875+03","Apache OpenWhisk has the concept of Action Sequence Where if we write for example functions f1 and f2 we can write a command which shall compose the functions in such a way that the output of f1 shall be piped to f2 For example we have the first action as function1 And take the second action function2 as follows Then we compose a new action as And we invoke the new action as usual And we get the output as follows We note that here in the case of OpenFaaS the output of one function is automatically fed to the next function in the sequence when we create a new action with the sequence directive But here in the case of OpenFaaS we use a naive Linuxbased utility to pipe the outputs of one function to the input of another This is done on the client side But we try to create a wrapper that achieves the same for the server side Is this the only equivalent"
76691362,"""Updating Python Version of Docker""","https://stackoverflow.com/questions/76691362/updating-python-version-of-docker","{python,docker,openfaas}","2023-07-14 22:08:21+03","2024-05-17 04:34:39.645374+03","I have a Raspberry Pi 4 model B with Raspbian OS Lite x64 We are trying to upload a serverless function but some of our libraries might not be compatible with Dockers Python 2 7 that is currently on there How do we update the version of python that Docker is using"
76767547,"""How to use the OpenFaas 'mqtt-publisher' with FaasD""","https://stackoverflow.com/questions/76767547/how-to-use-the-openfaas-mqtt-publisher-with-faasd","{mqtt,serverless,mosquitto,openfaas,emitter}","2023-07-26 02:00:56+03","2024-05-17 04:34:40.562863+03","For some basic background we are trying to develop an ADAS application using a serverless framework OpenFaasFaasd We currently have a lidar sensor and a sunfounder rpi car as our vehicle We are also communicating the lidar data to our serverless function through MQTT broker Mosquitto using the OpenFaas mqttconnector We are using a Lidar to publish when objects are within 20cm to our serverless function using triggers with the mqttconnector Our serverless function receieves these messages but it cannot communicate with the car because the picar_4wd package import does not seem to work with OpenFaasd for some reason So we decided another approach to have an external controller to communicate with the car and publish commands for the rpi car through the serverless function This is where we reached another problem as we were using paho to publish the lidar data locally to our MQTT broker Mosquitto but I think our serverless function cannot communicate with our broker so we are running into errors trying to connect with the broker as it most likely has a different ip address We looked into this a bit futher on how to publish from the serverless function to an external broker and came across an example Drone tracking project for Packet coms session CES 2020 httpsgithub compacketlabsiot link to example github where we found some information regarding publishing however they are using the emitter broker and are not running faasd any ideas on how we can get something similar for our case Github code example and link httpsgithub comequinixlabsmetaliotblob50cb577271bc5162b56955b47a8cdfcb5e9ab711openfaasservicesmqttpublisherpublisher js When trying to connect to our MQTT broker Mosquitto on our RPI using local host ip address we got this error We tried again using the ip address of the RPI found using curl ifconfig me and we timed out as no connection was found Any response is extremely helpful Thank you "
76815763,"""Invoking Serverless Function as MQTT-Publisher""","https://stackoverflow.com/questions/76815763/invoking-serverless-function-as-mqtt-publisher","{serverless,mosquitto,paho,openfaas}","2023-08-01 23:33:06+03","2024-05-17 04:34:41.433417+03","I am trying to invoke my serverless function I am using the subset FaasD of the OpenFaaS serverless framework I am running it on a raspberry pi model 4b with Raspbian OS Lite x64 My serverless function publishes Hello World as an MQTT Message and I have a local subscriber to receive the message This is my handler py function This is my local subscriber I tried setting up a local publisher and subscriber and that worked just fine Every time I try to invoke our serverless function we get ConnectionRefusedError [Errno 111] connection refused"
76855656,"""Is there a way to increase the speed of Triggers 'mqtt-connector'?""","https://stackoverflow.com/questions/76855656/is-there-a-way-to-increase-the-speed-of-triggers-mqtt-connector","{triggers,mqtt,serverless,lidar,openfaas}","2023-08-07 23:16:21+03","2024-05-17 04:34:42.69195+03","We are trying to link data from a lidar to our serverless function running on OpenFaas subset Faasd We are using the trigger to invoke this function when an object is within a certain distance So we have the lidar publish data to the topic when an object is within a certain distance Then we have the OpenFaas mqttconnector to invoke the serverless function using triggers The issue is that the mqttconnector is being flooded by the publisher and is backed up within a second of an object being in the range We have tried changing the QOS quality of service all the way to 0 but even this change had no visible difference in the connector being backed up so quickly We tried looking at ways to decrease the lidar polling frequency but did not find much We are using the LD19 Lidar So Lastly we are trying to find a way to increase the CPU Utilization of the connector in hopes that this can be sufficient however we have only found ways to limit CPU Utilization This is our handler of the function being invoked"
77323790,"""OpenFaas kubernetes port forwarding""","https://stackoverflow.com/questions/77323790/openfaas-kubernetes-port-forwarding","{docker,kubernetes,openfaas}","2023-10-19 12:32:02+03","2024-05-17 04:34:45.18891+03","I am trying to use kubectl portforward n openfaas svcgateway 80808080 command for port forwarding and i am trying to forward port to permanently open I have tried VSCode kubernetes extension to open yaml file added line targetPort but it did not work also i could not restart the kubernetes to see yaml works or not i do not know where to look at and where the openfaas yaml files to make gateway open "
77569752,"""AttributeError: module 'pkgutil' has no attribute 'ImpImporter'. Did you mean: 'zipimporter'? while building openfaas function using: faas-cli""","https://stackoverflow.com/questions/77569752/attributeerror-module-pkgutil-has-no-attribute-impimporter-did-you-mean","{python,docker,kubernetes,openfaas}","2023-11-29 08:57:13+02","2024-05-17 04:34:45.731498+03","I am building openfaas function using faascli build f hello yml My YML file is My requirements txt has While building this YML file in getting the error I have handler py and requirements txt in the hello folder where my hello yml is there I tried building the faas function using the YML file but got this error When I keep only boto3 in my requirements txt file it builds successfully "
77638214,"""OpenFaaS with internal Docker registry on KinD failure""","https://stackoverflow.com/questions/77638214/openfaas-with-internal-docker-registry-on-kind-failure","{kubernetes,networking,dns,openfaas}","2023-12-11 08:14:42+02","2024-05-17 04:34:46.51062+03","I am trying to run OpenFaaS CE on KinD cluster where the Docker registry is also part of the cluster but running the functions fails because the internal registry is unreachable OpenFaaS was installed using a Helm chart and uses two namespaces In order to push an adequate function I had to expose port 5000 to the host create an etchosts record with the internal name of the Docker registry dockerregistry1702201453 default svc cluster local Then I had to build push and deploy accordingly when trying to run the function it remains in Not Ready state and the K8s logs show the following messages I thought it might be CoreDNS related so I started doing all sorts of manipulations adding static records etc when I finally realized I need to use the name with the numbers at the end I added a curl function and sent a request to my Docker registry it worked I could not find a way to exec into the faasnetes nats Docker nor the Queue Worker so I cannot simply run an nslookup directly from these services What am I missing"
77680258,"""Issue in OpenFaas Arkade install""","https://stackoverflow.com/questions/77680258/issue-in-openfaas-arkade-install","{kubernetes,openfaas}","2023-12-18 15:57:01+02","2024-05-17 04:34:47.658451+03","I tried to install OpenFaas CE on Kubernetes using the command but I get this error Someone know what can be the cause"
77854267,"""OpenFaas function failed to deploy with status code: 500""","https://stackoverflow.com/questions/77854267/openfaas-function-failed-to-deploy-with-status-code-500","{serverless,k3s,openfaas}","2024-01-21 09:30:57+02","2024-05-17 04:34:48.931584+03","my environment k3dopenFaas on mac I was deploying my first python function with OpenFaas and failed I suppose it might be a gateway problem but I do not know how it actually works I already check official troubleshooting and Alexs tutorial Vedio I saw he used g httpxxxxx but I do not know what it is"
78063653,"""go application faasd run fail due to /root/resolv.conf unknown""","https://stackoverflow.com/questions/78063653/go-application-faasd-run-fail-due-to-root-resolv-conf-unknown","{go,openfaas}","2024-02-26 20:20:48+02","2024-05-17 04:34:49.4151+03","After a successful go build when I try to launch faasd up in DEV mod it is unable to launch I was previously able to run the application with a successful go build What could have happened Attempts I have made"
68547092,"""Request takes too long to Django app deployed in AWS Lambda via Zappa""","https://stackoverflow.com/questions/68547092/request-takes-too-long-to-django-app-deployed-in-aws-lambda-via-zappa","{django,amazon-web-services,aws-lambda,zappa}","2021-07-27 14:49:53+03","2024-05-17 04:34:49.959927+03","I have recently deployed a Django backend application to AWS Lambda using Zappa After the lambda function has not been invoked for some time the first request to be made takes from 10 to 15 seconds to be processed At first I thought it would be because of the cold start but even for a cold start this time is unacceptable Then reading through Zappas documentation I saw that it enables by default the keep_warm feature that sends a dummy request to the lambda function every 4 minutes to keep it warm so this excessive delay in the response to the first request to the lambda is not due to a cold start Then I started using tools such as AWS XRay and Cloudwatch Insights to try to find the explanation for the delay Here is what I found out The invokation that takes a very long time to be processed is the following Crossed out in red are the names of the environment variables the application uses They are all defined and assigned a value directly in the AWS Console What I do not understand is first of all why it takes so long and secondly why it says the environment variables are casted as None The application works perfectly apart from the massive delay in the first request so the environment variables are correctly set somewhere This request is made every two hours religiously and the first time someone invokes the lambda function in some time as seen in the following chart The dots in the x axis correspond to Zappas dummy requests to keep the server warm The elevated dots correspond to the invocation shown in the previous image Finally the spike corresponds to a user invocation The time it took to process is the sum of the time it takes to process the long invocation the one shown in the first image and the time it takes to process the longest http request the client makes to the server This request was the following It was a regular login request that should be resolved much faster Other requests that are probably more demanding than this one were resolved in less than 100ms So to sum up Any ideas as to why these invocations could be taking so much time is very much appreciated as I have spent quite some time trying to figure it out on my own and I have ran out of ideas Thank you in advance Edit 1 280721 to further support my suspicion that this delay is not due to a cold start here is the Segments Timeline of the function in CloudwatchApplication monitoringTraces If it were a cold start the delay should appear in the Initialization segment and not in the Invocation one Edit 2 300721 I forgot to mention that I had previously deployed the application using Elastic Beanstalk and did not face this problem whatsoever so my codes performance is probably not the problem here Edit 3 300721 I found this thread in an AWS forum from 2016 regarding this exact issue An AWS engineer mentioned that this behaviour is not by any means expected for a Lambda function outside of a VPC like mine Nevertheless no answer was provided that explained the cause of the 1015 seconds delay Edit 4 030821 I tried doubling the functions assigned memory from 512 MB to 1024 MB but it did not help "
68659044,"""Django deployment with Zappa - root URL is wrong""","https://stackoverflow.com/questions/68659044/django-deployment-with-zappa-root-url-is-wrong","{django,zappa,python-zappa}","2021-08-04 23:38:15+03","2024-05-17 04:34:50.689575+03","I have successfully set up a Django app following a Zappa tutorial I found However the problem is that Zappa deploys my app to the location where devel is the name of my particular Zappa deployment The problem with this is that at this position I have pages that have links on them beginning with a that map to and not as I would want For example in one of my template files I have a link on an image where the href always maps to httpssomeawsaddress I do not want to have to do some hack to get my root URLS to map to httpssomeawsaddressdevel so the question is What must I have in my Django settings or elsewhere so that my URL root maps to the HTTP endpoint that Zappa creates Many thanks in advance "
68661781,"""Zappa Django one lambda per app in a monorepo""","https://stackoverflow.com/questions/68661781/zappa-django-one-lambda-per-app-in-a-monorepo","{python,django,zappa}","2021-08-05 06:41:58+03","2024-05-17 04:34:51.573775+03","My Django REST API is composed of multiples apps one app per resource like that The settings of the app are all in coresettings py How can I tell zappa to deploy each app in a different lambda function and configure API Gateway to handle the routing for each app"
68967389,"""I'm trying to access an AWS API Gateway inside of a VPC, but keep getting timeout errors""","https://stackoverflow.com/questions/68967389/im-trying-to-access-an-aws-api-gateway-inside-of-a-vpc-but-keep-getting-timeou","{aws-api-gateway,amazon-vpc,zappa}","2021-08-28 19:00:58+03","2024-05-17 04:34:52.437744+03","I have an AWS API gateway that I created with zappa and an ECR docker image I assigned the lambda function to a VPC but can no longer access the API I created an internet gateway and have the route table routing 0 0 0 00 and 0 to it I have all traffic allowed on all ports on the security group as well However whenever I try to access any endpoints I get a timeout error If I take the lambda function out of the VPC I am able to access all the endpoints "
69076040,"""Force Zappa to use API Gateway HTTP API instead of REST""","https://stackoverflow.com/questions/69076040/force-zappa-to-use-api-gateway-http-api-instead-of-rest","{aws-lambda,aws-api-gateway,zappa}","2021-09-06 14:17:07+03","2024-05-17 04:34:53.33443+03","I want to use AWS API Gateway HTTP API instead of old REST with my lambda functions for pricing reasons Difference here httpsdocs aws amazon comapigatewaylatestdeveloperguidehttpapivsrest html What is the option in Zappa for this [EDIT] Not sure if it is linked but I encountered Zappa deploy fails with AttributeError Template object has no attribute add_description and then using this as requirements txt using python3 8 "
71031484,"""Status check on the deployed lambda failed. A GET request to '/' yielded a 502 response code""","https://stackoverflow.com/questions/71031484/status-check-on-the-deployed-lambda-failed-a-get-request-to-yielded-a-502-r","{python,amazon-web-services,flask,aws-lambda,zappa}","2022-02-08 09:32:48+02","2024-05-17 04:35:03.702485+03","trying to simple zappa app built with Flask but after zappa deploy dev I get the following error Error Warning Status check on the deployed lambda failed A GET request to yielded a 502 response code Struct appmain py zappa_settings json zappa tail Anyone here to help"
69214257,"""AWS Lambda - removing Python packages to speed up deployment and execution""","https://stackoverflow.com/questions/69214257/aws-lambda-removing-python-packages-to-speed-up-deployment-and-execution","{python,flask,aws-lambda,zappa}","2021-09-16 19:39:16+03","2024-05-17 04:34:53.912636+03","Working to update an AWS Lambda function that relies on Flask zappa that was originally written by another programmer If Python modules are not imported used by the scripts that are running in Lambda can I remove them without any problem from requirements txt The example file provided by AWS seems to have very few requirements I just want to make sure that Cloudwatch continues to work and I am not deleting things that AWS depends on implicitly Some of the packages that I am considering removing since not imported by the Python scripts include i e removing pyarrow and scikitlearn cut the redeploy time down from 3 minutes to 2 minutes AWS Lambda also uses less RAM over shorter duration to execute "
41393143,"Creating an S3 bucket and adding a file using the Serverless Framework","https://stackoverflow.com/questions/41393143/creating-an-s3-bucket-and-adding-a-file-using-the-serverless-framework","{amazon-web-services,aws-cloudformation,serverless-framework}","2016-12-30 08:37:01+02","2024-05-17 05:02:54.365738+03","Is it possible to specify a static file to upload to an S3 bucket resource in my serverless yaml file i e "
69639344,"""Specify a library version in zappa deploy""","https://stackoverflow.com/questions/69639344/specify-a-library-version-in-zappa-deploy","{python,numpy,version,zappa,python-zappa}","2021-10-20 01:37:18+03","2024-05-17 04:34:56.835724+03","I am working on a very barebones zappa app that imports a few libraries and displays a success string numpy is giving me issues and one solution I have read is to revert from the current version 1 21 2 to a previous version 1 19 4 My process is But when I deploy I continue to get a 502 error and zappa tail shows that the deployed environment is still running 1 21 2 How do I force the zappa deployment to use the desired version of numpy in my deploys"
70075290,"""Zappa: UpdateFunctionConfiguration operation: The operation cannot be performed at this time. An update is in progress for resource""","https://stackoverflow.com/questions/70075290/zappa-updatefunctionconfiguration-operation-the-operation-cannot-be-performed","{amazon-web-services,aws-lambda,zappa}","2021-11-23 04:06:44+02","2024-05-17 04:34:57.94866+03","I am try update a lambda by zappa I created virtualenv and active virtualenv and install libraries but in the moment run zappa update enviroment I have this problem How can i fix this "
70125389,"""Python AWS Lambda deploy - Zappa unable to update lambda configuration""","https://stackoverflow.com/questions/70125389/python-aws-lambda-deploy-zappa-unable-to-update-lambda-configuration","{python,aws-lambda,zappa}","2021-11-26 13:43:41+02","2024-05-17 04:34:59.061684+03","I am facing an issue in pipeline deployment with Zappa unable to update lambda configuration It shows below error It was working previously file but now when I run the pipeline its starts failing I have not done any changes to requirements txt it is the same as the previous successful pass The version of Python is 3 7 and AWS is running in useast1 region "
70156550,"""Zappa Django: instead of re-querying the database, it uses an outdated in-memory cache. Can this behavior be changed?""","https://stackoverflow.com/questions/70156550/zappa-django-instead-of-re-querying-the-database-it-uses-an-outdated-in-memory","{django,aws-serverless,zappa}","2021-11-29 14:44:14+02","2024-05-17 04:35:00.023707+03","In my project I use Django as a frontend only All backend logic is several AWS Lambda Python functions coordinated by the state machine The database is SQLite in the S3 bucket I use django_s3_storage and django_s3_sqlite My backend functions change the number of model instances and their details in the SQLite database I would like those changes to be reflected by the Django frontend ASAP However it does not happen I see only the outdated inmemory cache I have tried several things My initial view I have read the advice to do stuff inside the get function In this case supposedly a query to the database must be executed every time the function is called Variant 2 It worked but did not help Then I tried to force querying the database as recommended by the Django documentation Variant 3 It did not help either Only disabling the periodic keep_warm event in the zappasettings json helped After that if there are no calls the server is released in 1015 minutes and the obsolete cache disappears On the next call the system has no choice but to requery the database and display the recent data Is there a better solution"
70321647,"""Zappa Update Dev raised an AccessDeniedError""","https://stackoverflow.com/questions/70321647/zappa-update-dev-raised-an-accessdeniederror","{amazon-web-services,aws-lambda,zappa}","2021-12-12 07:10:45+02","2024-05-17 04:35:02.105511+03","I am trying to update my flask application deployed on AWS lambda it was working fine at first and then i add CORS library to Flask app and tried to update it on AWS lambda But when i run zappa update dev it failed with following error I have given all the permission to zappa user in IAM but still i cannot update the flask app on lambda Any idea why Thanks "
70378229,"""How to reload the Flask app inside a lambda function once an s3 object has been updated?""","https://stackoverflow.com/questions/70378229/how-to-reload-the-flask-app-inside-a-lambda-function-once-an-s3-object-has-been","{flask,aws-lambda,zappa}","2021-12-16 11:28:17+02","2024-05-17 04:35:03.06666+03","I have a Flask app deployed on AWS lambda via Zappa The app reads a csv file from s3 performs some data lookup operations and gives response to a GET request Now this csv file in s3 gets updated replaced with an updated file with same name everyday through an external process My question is How do I reload the flask application everyday to make sure that it starts reading from the updated file I have been unable to do so as the Flask app reads the csv data file in memory and does not refresh it "
71047149,"""Zappa: No module named '_cffi_backend'""","https://stackoverflow.com/questions/71047149/zappa-no-module-named-cffi-backend","{django,lambda,zappa,python-zappa}","2022-02-09 09:38:42+02","2024-05-17 04:35:04.648431+03","I recently uploaded an Django application with the use off Zappa which was running perfectly fine Now I wanted to update this application and It suddenly gives me this error The changes I made was not really that much removed a blankTrue in my models py I use a package CairoSVG and when disabling this my application works again The weird thing is that I was using this package in previous version aswell without any problems when updating with zappa update dev it shows me this I have noticed that on previous updates there was a 4th dependency called cffi but is gone now I have no idea how it is gone and from where those dependenties come from because I have much more in my requirements txt"
71217467,"""If statement in Github actions if Zappa already deploy application""","https://stackoverflow.com/questions/71217467/if-statement-in-github-actions-if-zappa-already-deploy-application","{github-actions,serverless,aws-serverless,zappa,python-zappa}","2022-02-22 07:35:21+02","2024-05-17 04:35:05.672225+03","How do I specify whether to zappa deploy or zappa update my application in Github actions with some sort of if statement My Workflow Actions as per below If application already deployed once I get the error In which case I would want to run zappa update dev"
72174111,"""How to manage zappa settings to dev environment using django""","https://stackoverflow.com/questions/72174111/how-to-manage-zappa-settings-to-dev-environment-using-django","{python,django,zappa,python-zappa}","2022-05-09 15:00:59+03","2024-05-17 04:35:06.729424+03","What is the best practices to manage dev enviroment using zappa Currently I have my zappa_settings json in my project and inside it I have api urls keys etc when I deploy It to AWS these keys will be used correctly like API_KEY os getenv API_KEY the code above will get the API_KEY from my zappa_seetings json But what if I want to run the code locally I will need to create a env file with the same enviroment keys and every time I change the zappa_settings json file I will need to change the env file too If there is a different way to do it I would like to know "
67296931,"Serverless: create api key from SecretsManager value","https://stackoverflow.com/questions/67296931/serverless-create-api-key-from-secretsmanager-value","{aws-api-gateway,serverless-framework,aws-secrets-manager}","2021-04-28 08:53:54+03","2024-05-17 04:51:59.798344+03","I have a Serverless stack deploying an API to AWS I want to protect it using an API key stored in Secrets manager The idea is to have the value of the key in SSM pull it on deploy and use it as my API key serverless yml As far as I can tell the deployed API Gateway key should be the same as the SSM Secret yet when I look in the console the 2 values are different What am I overlooking No error messages either "
72405680,"""zappa wagtail how to use s3 for media/images (server error 500)""","https://stackoverflow.com/questions/72405680/zappa-wagtail-how-to-use-s3-for-media-images-server-error-500","{image,wagtail,zappa}","2022-05-27 12:46:57+03","2024-05-17 04:35:07.644165+03","Im using wagtail on an aws lambda with zappa Everything is working fine except the images i am trying to upload in the blog posts That is to say when i try to upload an image in the cmsadmin in the images menu i get a server error 500 message I have configured the images to be stored on s3 following this post httpswagtail orgblogamazons3formediafiles but it seems there is a problem Here is my models py Here is my settings py I have seen in other posts here Configuring DjangoWagtail media to use S3 that a special class is used inherited from S3BotoStorage I was wondering if i didnt need to use that in my models py for the Images Could you help me understand what is not properly configured so the images are properly uploaded to s3 and print on the screen normally I ve tried to set AWS_DEFAULT_ACLpublicread following another stackoverflow post but it is the same zappa tail gives me the following error botocore exceptions ClientError An error occurred InvalidToken when calling the PutObject operation The provided token is malformed or otherwise invalid I ve managed to overcome this error by providing two separate credentials AWS_S3_ACCESS_KEY_ID and AWS_ACCESS_KEY_ID but i am still having problems with the images I am considering giving up on aws lambda with zappa and switching to a container service"
73383470,"""(DJANGO + S3) + ZAPPA An error occurred (400) when calling the HeadObject operation: Bad Request""","https://stackoverflow.com/questions/73383470/django-s3-zappa-an-error-occurred-400-when-calling-the-headobject-operat","{python,django,aws-lambda,zappa,aws-permissions}","2022-08-17 05:52:25+03","2024-05-17 04:35:08.353152+03","I have a project with django and s3 acl enable private public the deployment is done with zappa when i try to upload a file to a specific s3 bucket through the django admin i got the following error error zappa_settings json user aws configure had a next general policy Zappa lambda execution role default Bucket static acl policy requirements txt please if someone knows how to solve it I thank you I do not have much knowledge with aws permissions "
73638861,"""Is it possible to define the AWS Role you want to use in the zappa_settings.json file""","https://stackoverflow.com/questions/73638861/is-it-possible-to-define-the-aws-role-you-want-to-use-in-the-zappa-settings-json","{python,amazon-web-services,aws-lambda,zappa}","2022-09-07 16:27:35+03","2024-05-17 04:35:09.436732+03","When deploying a Python Flask app to AWS Lambda using Zappa I would rather do it this way than have a Zappa role automatically created for me which I have to modify"
73988381,"""ImportError while using AWS Lambda in Python (via zappa serverless); Numpy""","https://stackoverflow.com/questions/73988381/importerror-while-using-aws-lambda-in-python-via-zappa-serverless-numpy","{python,numpy,aws-lambda,zappa,python-zappa}","2022-10-07 14:04:51+03","2024-05-17 04:35:10.615654+03","I have an ImportError issue with my AWS Lambda function I am not sure of the change I made 3 that made this code go from working to ImportError The log output is as follows I am unclear if this is a Numpy issue a Python issue or a Zappa issue Two changes I made that may have had an impact The code runs from VS Code locally and wholly contained from within the virtual environment i e I do not have any packages installed via pip on my machine outside of virtual environments at this point The suggestions above may or may apply to this error I have tried adding a system PATH variable to my Python 3 8 directory I have tried downgrading numpy to 1 23 0 I have tried uninstalling all dependencies within the virtual environment and reinstalling them UPDATE I found this link and am looking into these comments httpsgithub comMiserlouZappaissues1222 UPDATE2 I deleted the virtual environment and recreated per a suggestion at the link above This did not work UPDATE3 I think my issue relates to the private package dependencies I installed via pip from my personal github repos 22 This link may be related Something about dependencies not being at the top level I am unsure how to fix this issue andor repackage my private repo or install correctly Any clarification is appreciated UPDATE4 I have isolated my issue to the private package dependencies and how they get called A the solution may be related to Lambda Layers tutorial here Looking into this "
74042045,"""AWS RDS PostgreSQL with Python 3.8 version with Zappa""","https://stackoverflow.com/questions/74042045/aws-rds-postgresql-with-python-3-8-version-with-zappa","{python,postgresql,amazon-web-services,amazon-rds,zappa}","2022-10-12 12:43:57+03","2024-05-17 04:35:11.525369+03","I am trying to deploy Zappa app for connecting AWS RDS to PostgreSQL using Python When we execute from the code from the terminal the code works fine and RDS gets connected to PostgreSQL But when I try to execute the code in Zappa it throws the following error Error Warning Status check on the deployed lambda failed A GET request to yielded a 502 response code The zappa_settings json file is given below The log of deployment using zappa tail is given here In the log file [ERROR] ModuleNotFoundError No module named app is generated But I have app py is present where I have written the codes The structure of the file is Python version is Python3 8 and zappa version is 0 55 0 I do not know what has gone wrong "
74889192,"""Why is Zappa deploy missing all / most packages present in virtual environment?""","https://stackoverflow.com/questions/74889192/why-is-zappa-deploy-missing-all-most-packages-present-in-virtual-environment","{python,python-3.x,python-3.8,openai-api,zappa}","2022-12-22 13:27:17+02","2024-05-17 04:35:12.408207+03","Trying to deploy a python script to AWS via Zappa Script works in local virtual environment using virtualenv but Zappa deploy fails with multiple missing packages Must be missing something pretty fundamental despite extensive troubleshooting Details below any ideas appreciated Error zappa deploy dev errors zappa tail shows [ERROR] ModuleNotFoundError No module named pandas It errors on whatever is the first import statement in main py` suggesting issue is not specific to Pandas pkg Screenshot of settings json project directory structure included below Tried the following with no luck EDIT RESOLVED Project directory size was too big AWS Lambda and consequently Zappa limit project directory including dependencies to 512MB Exploring alternative cloud infra "
75129718,"""How to automatically change lambda layer version in zappa_settings.json file while publishing a new lambda layer version?""","https://stackoverflow.com/questions/75129718/how-to-automatically-change-lambda-layer-version-in-zappa-settings-json-file-whi","{aws-lambda,aws-cloudformation,aws-lambda-layers,zappa,python-zappa}","2023-01-16 02:18:32+02","2024-05-17 04:35:13.404604+03","I have a lambda layer set up and a shell file that deploys it I have written github workflows that triggers this shell file whenever there is a change in code in that particular repository Since a newer version is published I would like to change the lambdalayerversion to change in zappasettings json Is there a way to automate this or will I have to manually do it everytime Heres my zappasettings json file Over here I would like to change 2 to the latest version I have tried using LATEST but it throws regex error "
75482907,"""Django + React app deployment via zappa on aws""","https://stackoverflow.com/questions/75482907/django-react-app-deployment-via-zappa-on-aws","{reactjs,django,amazon-web-services,amazon-cloudfront,zappa}","2023-02-17 10:15:16+02","2024-05-17 04:35:14.116683+03","I am currently deploying a django react app on amazon aws using zappa Django is used as a restful api in combination with the DRF React is hosted by django i e django has a route that sends the index html file of React as a response to all noneapi URLs The page works as intended as long as I navigate on the page via clicking However when I refresh the page I do always get a 404 error Why is this The URL that I am located on when refreshing the page is like this myDomainNamecurrentPath When I refresh the page an immediate redirect is caused and the new request is made to myDomainNamestageNamecurrentPath Therefore the URL that I see in the browser search bar when everything is done loading is myDomainNamestageNamecurrentPath instead of myDomainNamecurrentPath As react does not know this URL with the prepended stageName it raises a 404 error My question is How can I make sure that the URL after loading is of form myDomainNamecurrentPath I think the redirect of CloudFront must happen as its origin is simply located at path stageNamecurrentPath Thus I cannot change anything here Note Once this problem happened once on a specific page the next refresh works correctly as CloudFront uses cached data Another solution that I thought of is changing the behaviour of CloudFront First the request made by the user by refreshing the page is sent to CloudFront CloudFront then prepends the stage name of the origin the stage name identifies different origins If CloudFront makes a request to the origin with this new pathname everything works well at the origin When CloudFront receives the response from the origin it could forward the data it received from the origin to the client but to the URL requested by the user CloudFront in turn only works as a proxy Any advice is warmly welcome as it is very frustrating to have a fully functional page which does not work correctly on page refresh Cheers"
75531785,"""AWS Zappa static files""","https://stackoverflow.com/questions/75531785/aws-zappa-static-files","{amazon-web-services,django-rest-framework,aws-lambda,static,zappa}","2023-02-22 10:59:55+02","2024-05-17 04:35:14.865534+03","I am trying to create my first app with zappa Everithing works fine exept css style I installed also django_s3_storage storages and add them to my app Also I have the AWS settings What is wrong The admin page still without css"
76052989,"""I deployed a Django project packaged with Zappa to AWS Lambda, but it always returns null""","https://stackoverflow.com/questions/76052989/i-deployed-a-django-project-packaged-with-zappa-to-aws-lambda-but-it-always-ret","{django,amazon-web-services,zappa}","2023-04-19 09:38:56+03","2024-05-17 04:35:15.877204+03","I am trying to use a zip file created with zappa package instead of zappa deploy to match my CICD process When I access the HTTP endpoint it always returns null in the browser I created a Django project It is a basic project and you can check this project on the following GitHub repository httpsgithub comhongminguzappa1sample I used the zappa package dev command to create a zip file and uploaded it to S3 Then I set the S3 URL as the source in AWS Lambda Heres my zappa_settings json file dev aws_region apnortheast2 django_settings zappa1sample settings project_name zappa1sample runtime python3 9 s3_bucket lambdasaver12123 production aws_region apnortheast2 django_settings zappa1sample settings project_name zappa1sample runtime python3 9 s3_bucket lambdasaver12123 AWS CloudWatch logs are as follows It keeps repeating like this but the browser screen only shows the word null Just in case I unzipped the zip file packaged with Zappa and found handler lambda_handler as follows The returned LambdaHandler class can be found at the following address httpsgithub comMiserlouZappablobmasterzappahandler py What should I do to solve this issue Please help "
76243462,"""New deploy with django and zappa only returns the error \""NoneType object has no attribute read\""""","https://stackoverflow.com/questions/76243462/new-deploy-with-django-and-zappa-only-returns-the-error-nonetype-object-has-no","{python,django,amazon-web-services,zappa}","2023-05-13 15:13:36+03","2024-05-17 04:35:16.900042+03","I have been using Django zappa aws perfectly for a few years now However when trying to deploy a new project using the latest versions of Django 4 2 1 and zappa 0 56 1 the project deploy only returns Error Warning Status check on the deployed lambda failed A GET request to yielded a 500 response code And using the zappa tail command just returns NoneType object has no attribute read"
76367255,"""Zappa with Docker don't found handler""","https://stackoverflow.com/questions/76367255/zappa-with-docker-dont-found-handler","{python,docker,zappa}","2023-05-30 17:28:59+03","2024-05-17 04:35:17.505785+03","I tried to use zappa docs to use Zappa with Docker But the doc is outdated and not work There is a tutorial about how to use zappa with docker and a suggestions about how to use with pipenv that do not work too I tried to change the dockerfile to it and I use the command docker build t lambdadockerflasklatest and It works fine but when I try to run docker run p 90008080 lambdadockerflasklatest I received the following error I was googling a lot about docker and some insights was to change CMD [handler lambda_handler] to CMD handler lambda_handler But I receive a different error binsh 1 handler lambda_handler not found I would like a suggestion about what I can do The code is available here httpsgithub comLeonardoFurtadozappadocker"
76373819,"""Why use Zappa in lambda rather than API gateway?""","https://stackoverflow.com/questions/76373819/why-use-zappa-in-lambda-rather-than-api-gateway","{python,amazon-web-services,zappa}","2023-05-31 13:06:45+03","2024-05-17 04:35:18.515555+03","In both case you can use sqlAlchemy for sql part So my question is simple why would you chose zappa flask to deploy an API on lambda I have tried both way I cannot find why zappaflask seems to be better On every tuto they use this architecture why "
76407797,"""Problem with Python Zappa deploy to AWS Lambda""","https://stackoverflow.com/questions/76407797/problem-with-python-zappa-deploy-to-aws-lambda","{python,django,amazon-web-services,aws-lambda,zappa}","2023-06-05 15:10:49+03","2024-05-17 04:35:19.525808+03","I could not fix the problem with zappa aws lambda deploy My zappa settings and I have got the error in the end Part of Logs How can I fix it And after first deploy zapa zip was like 30Mb every time its gets bigger and bigger Now its 72Mb but files still the same I have got the message Warning Application zip package is likely to be too large for AWS Lambda Try setting slim_handler to true in your Zappa settings file requirements txt"
76507895,"""Python zappa task for uploading files to S3 bucket""","https://stackoverflow.com/questions/76507895/python-zappa-task-for-uploading-files-to-s3-bucket","{amazon-web-services,amazon-s3,cron,celery,zappa}","2023-06-19 15:06:21+03","2024-05-17 04:35:20.227298+03","I have tried to move upload photos functional to zappa task views py tasks py Locally everything works fine photos uploaded to S3 bucket But when I deployed zappa to AWS I have got the error on img save As I understand the problem with temporarily saving file in memory Maybe I have to specify tmp path Any ideas how can I fix it"
66830849,"Lambda funciton not triggering after s3 upload","https://stackoverflow.com/questions/66830849/lambda-funciton-not-triggering-after-s3-upload","{python,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2021-03-27 11:32:41+02","2024-05-17 04:52:14.741662+03","I am trying to trigger a Lambda function after uploading a file Below I have defined the file Lambda function Within it a file is uploaded to s3 I then want the process Lambda function to triger However I cannot get it to trigger Also in AWS s3 the bucket Properties Event notifications is empty My serverless yml In my handler I have When I do a CURL to the endpoint the file gets uploaded to s3 but the process function is never triggered I have tried removing existing true Same result I have tried changing bucket name to something completely different e g devstoragebucket99999999968686 but I then see the error And no the bucket does not exist What else can I try"
76543114,"""What is the best way to centralize microservices URL on aws?""","https://stackoverflow.com/questions/76543114/what-is-the-best-way-to-centralize-microservices-url-on-aws","{amazon-web-services,aws-lambda,microservices,zappa}","2023-06-23 19:53:19+03","2024-05-17 04:35:21.264885+03","Lets suppose I have 3 backend microservices that my frontend team consumes Pokemons microservice auth microservice graphs microservice these 3 microservices are deployed using Zappa that is a serverless python to send microservices to lambda When I deploy my microservices to zappa I receive a url to access then like urlrandomjdbcaur amazonaws comproduction Each microservice has one different url and if I want to change from zappa to an ec2 for example I will need to change the urls and the frontend team will need to replace the old URL to the new url used to access the service What I would like to do is have an url to acess all microservices and each time i want to change a service from zappa to ec2 or ec2 to zappa or ecs to zappa the frontend team will not need to care about it so imagine that my pokemon microservice have the url urlrandomjdbcaur amazonaws comproduction I would like to have something like backendapi aws compokemon and the frontend will consume all about pokemons from this urls and my auth microservice will be consumed from the url backendapi aws comauth and etc This way frontend team will never care about change urls again This is a good practice If yes what is the best way to do it using AWS"
67313522,"How to run jest using AWS Lambda?","https://stackoverflow.com/questions/67313522/how-to-run-jest-using-aws-lambda","{typescript,amazon-web-services,aws-lambda,serverless-framework,aws-code-deploy}","2021-04-29 08:15:44+03","2024-05-17 04:52:00.83061+03","I am trying to run my e2e test after deployment so I can roll back in case of any failure I followed the instruction described in this blog This is my lambda this is my post hook my test are written in typescript and I uploaded my jest config js and tsconfig json to the serverless application zip file No matter what I do the global symbols of jest such as describe expect etc are not recognized Cannot find name describe Do you need to install type definitions for a test runner Try npm i typesjest or npm i typesmocha and then add jest or mocha to the types field in your tsconfig How can I run my test using aws lambda the only choice I have is either trigger some other task such as codebuild to run my test or change my test framework to mocha is there any better solution"
67319846,"Assume role and deploy resources using CloudFormation / Serverless into a separate account from the root account","https://stackoverflow.com/questions/67319846/assume-role-and-deploy-resources-using-cloudformation-serverless-into-a-separa","{amazon-web-services,aws-cloudformation,serverless-framework}","2021-04-29 14:55:10+03","2024-05-17 04:52:01.790761+03","My client has a root account with sub accounts as environments dev test production The idea is that a ci_user within the root account assumes a role in each of these and performs deployment from CodeBuild CodePipeline They are using serverless to automate the creation of Lambas Ideally they want the following Is it possible to assume such role Or do IAM accounts need creating in those sub accounts for this to work i e use those IAM accounts within sub accounts to perform deployments and thus run CodeBuild CodePipeline deployments from each sub account "
67326936,"What causes cold start in serverless [closed]","https://stackoverflow.com/questions/67326936/what-causes-cold-start-in-serverless","{kubernetes,azure-functions,serverless-framework,serverless,aws-serverless}","2021-04-30 01:07:22+03","2024-05-17 04:52:02.770901+03","This question does not appear to be about a specific programming problem a software algorithm or software tools primarily used by programmers If you believe the question would be ontopic on another Stack Exchange site you can leave a comment to explain where the question may be able to be answered Closed 3 years ago I have read enough papers on serverless cold start but have not found a clear explanation on what causes cold start Could you try to explain it from both commercial and opensource platforms points of view My initial understanding about cold start latency is time spent on spinning up a container After the container being up it can be reused if not being killed yet so there is a warm start Is this understanding really true I have tried to run a container locally from the image no matter how large the image is the latency is near to none Is the image download time also part of cold start But no matter how many cold starts happened in one node only one image download is needed so this seems to make no sense Maybe a different question I also wonder what happened when we instantiate a container from the image Are the executable and its dependent libraries e g Python library copied from disk into memory during this stage What if there are multiple containers based on the same image I guess there should be multiple copies from disk to memory because each container is an independent process "
67348789,"How build a serverless.yml file to deploy a http api + lambda project using serverless-express?","https://stackoverflow.com/questions/67348789/how-build-a-serverless-yml-file-to-deploy-a-http-api-lambda-project-using-serv","{aws-lambda,aws-cloudformation,serverless-framework,serverless}","2021-05-01 17:01:36+03","2024-05-17 04:52:03.873562+03","I am trying to replace the default samtemplate from vendiaserverlessexpress v2 example with a serverless yml to deploy via serverless deploy httpsgithub comvendiaserverlessexpresstreemainlineexamplesbasicstarterapigatewayv2 How the serverless yml will need to look like to deploy this httpApi example Thank you very much "
67365494,"My .zip file size is 45mb but it's showing the error of large file size on AWS layer","https://stackoverflow.com/questions/67365494/my-zip-file-size-is-45mb-but-its-showing-the-error-of-large-file-size-on-aws-l","{serverless-framework,serverless,aws-serverless,serverless-architecture,serverless-offline}","2021-05-03 08:06:17+03","2024-05-17 04:52:04.961749+03","I am using the serverless framework for the deployment It is throwing the following error while we are deploying it on the AWS But my zip file size is 45mb and unzipped size is 130mb on local Serverless Error An error occurred SharedLambdaLayer Unzipped size must be smaller than 262144000 bytes Service AWSLambdaInternal Status Code 400 Error Code InvalidParameterValueException Request ID 27f9378eb9ea42c5ad73a3b7cf9d584c This is my environment Operating System win32 Node Version 12 19 0 Framework Version 2 35 0 Plugin Version 4 5 3 SDK Version 4 2 2 Components Version 3 8 2 Following is my yml file content"
67369884,"Bitbucket CI/CD pipeline with aws codepipeline using serverless framework and aws lambda gets success but does not create lambda function","https://stackoverflow.com/questions/67369884/bitbucket-ci-cd-pipeline-with-aws-codepipeline-using-serverless-framework-and-aw","{aws-lambda,bitbucket,serverless-framework}","2021-05-03 13:35:38+03","2024-05-17 04:52:06.074659+03","serverless yml file bitbucketpipeline yml script sh Logs When I try to pipeline bitbucket with aws codepipeline it gets success but lambda function is not created I am using serverless framework but it doesnt work There are no error message in logs but also no output as well Any help is appreciated Thank you "
66861646,"Throughput in Standard SQS vs FIFO SQS with a unique groupId for every message","https://stackoverflow.com/questions/66861646/throughput-in-standard-sqs-vs-fifo-sqs-with-a-unique-groupid-for-every-message","{amazon-web-services,amazon-dynamodb,amazon-sqs,serverless-framework,serverless}","2021-03-29 21:05:55+03","2024-05-17 04:52:16.136633+03","I do not care much about the order of events but I would like the message to be processed exactly once The lambda listening to SQS messages will store it in DynamoDB so throughput is pretty important as I have multiple microservices as producers writing messages to this SQS that will be read by a single microservice About processing messages exactly once that is something that FIFO queue supports but is said to have not a good throughput Is the throughput of the FIFO queue the same as the Standard queue if each message has a unique groupId If not my next option is probably to use attribute_not_exists in DynamoDB while storing the message Which of these should work better"
66862626,"Unable to write to cloudwatch logs despite correct permissions","https://stackoverflow.com/questions/66862626/unable-to-write-to-cloudwatch-logs-despite-correct-permissions","{python,aws-lambda,amazon-cloudwatch,serverless-framework}","2021-03-29 22:51:06+03","2024-05-17 04:52:16.677733+03","Despite using correct permissions and trying to both print and to log to cloudwatch I am unable to see any output Here is my lambda handler version 1 version 2 My code times out and does not print anything to cloudwatch logs What is the issue edit IAM Permission Policies AWSLambdaVPCAccessExecutionRole has full cloudwatch createLogGroup createLogStream and PutLogEvents access "
66868865,"I Allowed CORS, But Still Stuck Login Redirect, API Server Can't save token","https://stackoverflow.com/questions/66868865/i-allowed-cors-but-still-stuck-login-redirect-api-server-cant-save-token","{node.js,reactjs,amazon-web-services,serverless-framework}","2021-03-30 10:07:22+03","2024-05-17 04:52:17.637745+03","Thank you for Click it and then I Deployed by serverless framework Browser Network tab Says This is 3 NETWORK MESSAGE What should I do Thx "
66892919,"Prevent the serverless framework from uploading artifact","https://stackoverflow.com/questions/66892919/prevent-the-serverless-framework-from-uploading-artifact","{java,amazon-web-services,aws-lambda,serverless-framework}","2021-03-31 17:56:57+03","2024-05-17 04:52:18.533673+03","Im using serverless framework to try to implement AWS Step functions I have the Lambda functions running correctly These are packaged in a jar and I have manually uploaded to AWS s3 I then have point to this jar path on s3 in my serverless yaml file I run This then takes 1015 minutes to complete far too long In the logs I see Firstly I have no idea how it is locating the HelloWorldFunction1 0SNAPSHOT jar file locally it is in a completely different directory Secondly I do NOT want serverless to upload any jar it is already on s3 How can I do this"
66906760,"Share CORS configuration across functions in serverless.yml","https://stackoverflow.com/questions/66906760/share-cors-configuration-across-functions-in-serverless-yml","{serverless-framework,serverless,aws-serverless}","2021-04-01 14:50:59+03","2024-05-17 04:52:20.252367+03","We have a bunch of API endpoints set up in serverless yml that need to support CORS This configuration works But that means we need to duplicate the list of our custom CORS headers for each function potentially dozens of places we need to update this as soon as we add a new header How do we specify the allowed CORS headers once and have them apply to all functions Ideally we could also automatically make all functions have CORS enabled at the same time "
66913028,"I get bcrypt error after deployed my nodejs/expressjs app to AWS lambda","https://stackoverflow.com/questions/66913028/i-get-bcrypt-error-after-deployed-my-nodejs-expressjs-app-to-aws-lambda","{node.js,express,aws-lambda,serverless-framework,bcrypt}","2021-04-02 00:19:39+03","2024-05-17 04:52:20.643374+03","I am trying to make my express js app works on AWS Lambda The deployment using serverless framework completes successfully however the app returns a 500 internal error when I test my requests My logs shows me this error vartasknode_modulesbcryptlibbindingnapiv3bcrypt_lib node invalid ELF header I have tried to replace bcrypt with bcryptjs but the problem persists Also in my serverless yml I have added the following line to force lambda to install bcrypt by itself but apparently it did not make the trick Any suggestion "
66922486,"Deploy a Java Google Function on Google Cloud using Serverless Framework","https://stackoverflow.com/questions/66922486/deploy-a-java-google-function-on-google-cloud-using-serverless-framework","{java,google-cloud-functions,serverless-framework}","2021-04-02 16:41:49+03","2024-05-17 04:52:21.634385+03","Im trying to deploy a simple google Function written in Java but something is going wrong this is my serverless yaml When I run the command I get this stack and nothing else Could you help me to figure out the problem Thank you "
66922651,"Generate files from SSM parameters and include in Serverless Framework lambda bundle","https://stackoverflow.com/questions/66922651/generate-files-from-ssm-parameters-and-include-in-serverless-framework-lambda-bu","{amazon-web-services,webpack,aws-lambda,serverless-framework,aws-parameter-store}","2021-04-02 16:56:56+03","2024-05-17 04:52:22.708307+03","I have some JSON stored in SSM Parameter Store that I would like to use in my Serverless Framework lambda functions contains some details about infrastructure generated earlier by Terraform I can make a call to SSM to get the data at runtime but Parameter Store has very low throughput limits 40tps by default so I would likely exceed that almost immediately and even the higher limits are still far too low to be doing this in production More generally I would like to avoid the overhead of calling external services to retrieve this information as it will be used in a custom lambda authorizer so I want it to be fast and not rely on any external dependencies where possible I was thinking of retrieving the JSON from Parameter Store and baking it in to my lambda bundle when I do a serverless deploy I am happy with the tradeoff of having to redeploy my backend to when they change I could use environment variables but the maximum size of all environment variables is 4kb so I cannot be putting JSON in there I am using the Serverless Webpack Plugin which I think might hold the key but I am a Webpack novice and not sure where to start "
66930908,"AWS Cognito created by Serverless doesn't send confirmation emails","https://stackoverflow.com/questions/66930908/aws-cognito-created-by-serverless-doesnt-send-confirmation-emails","{amazon-web-services,amazon-cognito,serverless-framework,aws-serverless}","2021-04-03 12:00:08+03","2024-05-17 04:52:23.609779+03","I am working on an serverless authentication and I have got a problem with sending confirmation email When I create a user by AWS Console the user is created and email with confirmation code is sent But when I do a request to API user is created in Cognito but no email is sent What could be wrong with my code or request This is Cognito resource defined in serverless yml And it is request which I send to API"
35744288,"How to handle customRole in serverless?","https://stackoverflow.com/questions/35744288/how-to-handle-customrole-in-serverless","{serverless-framework}","2016-03-02 10:18:21+02","2024-05-17 05:03:23.074551+03","I would like to have different roles for different stages in serverless Example for stage dev I have roleAdev and for stage prod the role is roleAprod What is best way to handle this kind of situation in serverless"
66413164,"How to set keepOutputDirectory to true when using serverless-bundle plugin","https://stackoverflow.com/questions/66413164/how-to-set-keepoutputdirectory-to-true-when-using-serverless-bundle-plugin","{webpack,serverless-framework,aws-serverless,serverless-architecture,serverless-webpack-plugin}","2021-02-28 19:40:44+02","2024-05-17 04:52:26.738465+03","serverlessbundle plugin does not seem to have an option to override keepOutputDirectorytrue By default it gets removed on sls deploy command How can we keep webpack folder with js and jsmap files after deployment as we need it to be able to debug remotely using thundra and as specified here httpsapm docs thundra ionode jsonlinedebugging it asks for the path where js and js and jsmap files are in case using typescript"
66413503,"Typescript syntax for a lambda that is triggered from different events","https://stackoverflow.com/questions/66413503/typescript-syntax-for-a-lambda-that-is-triggered-from-different-events","{typescript,aws-lambda,amazon-sns,serverless-framework,aws-event-bridge}","2021-02-28 20:22:20+02","2024-05-17 04:52:27.820293+03","Using the serverless framework I have defined a lambda that can be either triggered every hour or via SNS What is the correct typescript syntax when defining fooAction function I have tried but evt resolves to any "
66435435,"Async function is not executed (awaited) in one AWS Lambda function but is in another","https://stackoverflow.com/questions/66435435/async-function-is-not-executed-awaited-in-one-aws-lambda-function-but-is-in-an","{typescript,express,aws-lambda,serverless-framework,nodemailer}","2021-03-02 08:00:26+02","2024-05-17 04:52:28.972277+03","Consider the following MailService Then in my express endpoints I am using the service like this Everything runs fine locally Here is my functions definition from serverless yml And finally my handlers Sending emails is done both in the API endpoints handler handler and the cronjobs handler sendDeliveryReminders However only the latter works When trying to send an email from an API endpoint with the exact same parameters as those working in the cronjobs the lambda function stops at the sendMail call EDIT or even a few instructions before It can fail as soon as it hits the await fs readFile in MailService sendMail It is as if await this transporter sendMail mailOptions is never really awaited even though it is called within an async function and should have something inside to await for I assume the implementation of Nodemailer is correct Here is a log from CloudWatch Any idea why this would work in some lambda functions and not others Another mystery at least for me is why the execution of the handler spans over multiple Lambda invokations cfr the logs FYI I am using nodemailer ^6 4 18 and typesnodemailer ^6 4 0"
66443490,"How to mix env variables with output variables in the environment declaration","https://stackoverflow.com/questions/66443490/how-to-mix-env-variables-with-output-variables-in-the-environment-declaration","{serverless-framework}","2021-03-02 16:40:13+02","2024-05-17 04:52:29.836669+03","So I have a env yml file which lets me have a different variables for each stage I also need to share some output variables to Lambda which are declared like so I have seen I can do this by adding this to my provider but this conflicts with my env yml I tried putting these into the env yml but that did not work Trying to request a non exported variable from CloudFormation Stack name XXXXalpha Requested variable UserPoolId I tried using custom instead of environment and it deployed but the Lambda functions no longer had access to the variables So how can I mix these two together Thank you so much "
66448138,"Serverless Framework - Trying to populate non string value error","https://stackoverflow.com/questions/66448138/serverless-framework-trying-to-populate-non-string-value-error","{amazon-web-services,yaml,aws-cloudformation,amazon-sns,serverless-framework}","2021-03-02 22:36:26+02","2024-05-17 04:52:30.693421+03","I have serverless yaml with many SNS topics that I need to build ARNs from names across accounts and regions so I come with a custom prefix however when I deploy it I can not pass an error Trying to populate non string value into a string for variable selfcustom snsTopicPrefix Please make sure the value of the property is a string "
66459622,"How to add item to YML collection conditionally using Serverless framework?","https://stackoverflow.com/questions/66459622/how-to-add-item-to-yml-collection-conditionally-using-serverless-framework","{yaml,serverless-framework,serverless}","2021-03-03 15:01:35+02","2024-05-17 04:52:31.625472+03","Given I have the following defined in a YML file for a resource How can I add a second item when only certain conditions are met Unfortuantely it is not possible to simply set it to an empty string or null as it fails deployment validation E G something like Is this possible in any way at all Happy to use Plugin solutions etc "
66461385,"How to invoke a Lambda from another Lambda correctly","https://stackoverflow.com/questions/66461385/how-to-invoke-a-lambda-from-another-lambda-correctly","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2021-03-03 16:46:27+02","2024-05-17 04:52:32.569675+03","I try to invoke a child lambda from a parent lambda The example of code is very simple as below I am using Serverless framework child_lambda parent_lambda serverless yml I run the parent from Postman and the result is ResourceNotFoundException Function not found arnawslambdaxxxxxxxxxfunctiondev_child_lambda I tried to trigger the child_lambda from an S3 event it worked fine but never work with invoke as AWS SDK Any suggestion is appreciated"
66464642,"Serverless define a Dynamodb that has GlobalSecondaryIndexes","https://stackoverflow.com/questions/66464642/serverless-define-a-dynamodb-that-has-globalsecondaryindexes","{amazon-dynamodb,serverless-framework,serverless,dynamodb-queries}","2021-03-03 20:42:38+02","2024-05-17 04:52:33.454409+03","Serverless Error I have gone back and forwards the documentation seems like it should be a simple thing but cannot figure out why it does not let me An error occurred documentsTable One or more parameter values were invalid Some index key attributes are not defined in AttributeDefinitions Keys [UserId] AttributeDefinitions [userId id] Service AmazonDynamoDBv2 Status Code 400 Error Code ValidationException Request ID K28DP2ST778DAN7CP1MV4BDKM3VV4KQNSO5AEMVJF66Q9ASUAAJG Proxy null then ofcourse I will have a query like this error"
66471200,"Convert Lambda synchronise to async event issue","https://stackoverflow.com/questions/66471200/convert-lambda-synchronise-to-async-event-issue","{aws-lambda,event-handling,amazon-dynamodb,serverless-framework,aws-sdk-js}","2021-03-04 08:27:47+02","2024-05-17 04:52:34.305406+03","I am trying to make basic todo app by using Serverless framework My synchronous lambda function works fine and store my task and taskdetails in the dynamodb table I decided to convert my synchronous lambda function into async function And I am testing api by using Postman But now I have event trigger problem It does not store my taskDetails it just store my task only In my post man I can see event trigger and here is the postmethod and this is what I get I dont get what I am doing wrong in here Ps I am new to Lambda This is synchronous lambda function This is my async and put in try catch where I got error "
35943185,"Using curl with OpenWhisk","https://stackoverflow.com/questions/35943185/using-curl-with-openwhisk","{curl,ibm-cloud,serverless-framework,openwhisk,ibm-cloud-functions}","2016-03-11 14:49:53+02","2024-05-17 05:03:24.152972+03","I am trying to use IBM OpenWhisk It has its own CLI but I wanted to invoke a simple echo sample using curl How can I invoke it OpenWhisk via curl or similar tools how do I authenticate"
66473923,"How to query big data in DynamoDB in best practice","https://stackoverflow.com/questions/66473923/how-to-query-big-data-in-dynamodb-in-best-practice","{amazon-web-services,architecture,amazon-dynamodb,serverless-framework,dynamodb-queries}","2021-03-04 11:16:44+02","2024-05-17 04:52:35.220423+03","I have a scenario query the list of student in school by year and then use that information to do some other tasks let say printing a certificate for each student I am using the serverless framework to deal with that scenario with this Lambda So far its working well with about 5k students just sample data My concern is it a scalable solution to query large data in DynamoDB As I know Lambda has limited time execution if the number of student goes up to a million does the above solution still work Any best practice approach for this scenario is very appreciated and welcome "
66478126,"Why my lambda can't attend the entire queue?","https://stackoverflow.com/questions/66478126/why-my-lambda-cant-attend-the-entire-queue","{node.js,amazon-web-services,aws-lambda,amazon-sqs,serverless-framework}","2021-03-04 15:28:28+02","2024-05-17 04:52:36.16853+03","I have a lambda function that sends events to my SQS and another lambda function that serves this SQS My first lambda sends many events to the SQS but my second lambda cannot catch all events from this SQS Normally my second lambda retrieves thirty out of one hundred events The idea is that the second lambda function gets one by one events from my SQS but do not miss the others Can anyone give me a tips Thanks SQS config Lambda config"
66483030,"How to secure an endpoint that is accessed by unauthenticated users in a serverless application","https://stackoverflow.com/questions/66483030/how-to-secure-an-endpoint-that-is-accessed-by-unauthenticated-users-in-a-serverl","{node.js,security,aws-lambda,aws-api-gateway,serverless-framework}","2021-03-04 21:06:38+02","2024-05-17 04:52:37.22601+03","We have an endpoint that needs to be queried for the pool Id for a given tenant before the users login request can be sent What is the best way to secure such an endpoint that is open for access by unauthenticated users We are using API gateway and lambda functions and serverless framework "
66484530,"Serverless framework, yaml and AWS lambda/DynamoDB concepts","https://stackoverflow.com/questions/66484530/serverless-framework-yaml-and-aws-lambda-dynamodb-concepts","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,serverless}","2021-03-04 23:24:02+02","2024-05-17 04:52:37.723171+03","I recently explored serverless and I would like to create a kind of simple backend for my app It should like CRUD connected to DynamoDB like it is nicely shown here And then later converted into logging users with Cognito Link1 and link2 During my implementation I have got into a few issue and would like to ask you for help because I do not like using something I only copied and do not exactly know how it is working Using callbacks vs returns in lambda functions Please can you describe the difference between these two I have found some resources on this however they will not clear it for me On Amazon Docs and here Stack overflow Why I do not need to set CORS headers when initializing lambdas with serverless as opposed to lambda functions created in the amazon console like here In serverless frameworks what is the difference between functions events http and functions events httpapi Serverless yml Is there any guide to YAML I understand that Amazon writing user guides and templates like AWSIAMRole or for Dynamo Tables and all others And also that resources make a cloudformation but what is the purpose for example for Lambda functions listing there when I createcode them To reference them Add them privileges Also how the referencing works there Do I only specify resources that should be created or can I also reference already existing ones via ARN If so how Do the policies are only set globally like documentation showing or the only other option is to use plugin serverlessiamrolesperfunction The same question could be applied to roles and policies in resources I am just overwhelmed with the documentation and all the different guides and sometimes cannot find the right answers I appreciate any answers to any of my questions I like serverless functions and see huge potential in it and therefore want to get more knowledge about it and start using it more Cheers and thanks in advance Lukas "
66486012,"A JNI error has occurred in Serverless DynamoDB Local on Mac","https://stackoverflow.com/questions/66486012/a-jni-error-has-occurred-in-serverless-dynamodb-local-on-mac","{serverless-framework}","2021-03-05 02:45:23+02","2024-05-17 04:52:38.283395+03","When I try to use DyanmoDB Local httpswww serverless compluginsserverlessdynamodblocal A JNI error has occurred In terminal java javac version is samed And JAVA_HOME is not set but it is not problem Because it was executed in other Mac without JAVA_HOME"
66495073,"Automatically import Typescript namespace from namespace/type only NPM module in mono-repo","https://stackoverflow.com/questions/66495073/automatically-import-typescript-namespace-from-namespace-type-only-npm-module-in","{typescript,npm,serverless-framework}","2021-03-05 15:15:26+02","2024-05-17 04:52:39.119206+03","I have a number of private repositories that use the same Typescript types repeatedly so instead of copying them from one project to another I have created a private NPM package that houses all of these shared types under a Typescript namespace Each project installs that NPM package if it uses the shared types index d ts One of the projects that use these types is a Serverless monorepo that has this project structure Where the tsconfig json is in the parent directory and then there are several serverless projects in a services subdirectory where only service1 has the private NPM types installed When I try to use the namespace inside of the service1 project I get an error Which I assume I am getting for two reasons My question is what is the best way to have it included in our global type scope My first attempt was to extend the base tsconfig json file with a custom one inside of the service1 directory But even after the I get the same error However if I do import the namespace manually where I need it the error goes away Ideally we would not have to import it all the time If I use the following tsconfig json I now get the error Cannot find type definition file for types The file is in the program because Entry point for implicit type library types However in the package json of the private NPM module and in the project directory So I am not sure why it cannot find that file"
65912346,"How to add a filter name to cloudWatchLog using the serverless framework?","https://stackoverflow.com/questions/65912346/how-to-add-a-filter-name-to-cloudwatchlog-using-the-serverless-framework","{serverless-framework}","2021-01-27 03:05:07+02","2024-05-17 04:52:41.263335+03","The cloudWatch filter name picks it by its random name on the deployment cloudwatchLog logGroup awslambdahelloworld filterName helloworld cloudwatchLog logGroup awslambdahelloworldpython filterName helloworldpython enter image description here enter image description here"
65913442,"python serverless not being deployed","https://stackoverflow.com/questions/65913442/python-serverless-not-being-deployed","{python,docker,serverless-framework,dlib,dlib-python}","2021-01-27 05:35:21+02","2024-05-17 04:52:42.180142+03","I am trying to deploy an app created with the serverless framework However due to adding some packages that I need the whole thing breaks This is my requirements txt This is my serverless yml I am working on a windows environment The package that breaks everything is the dlib After following some tutorial I was able to install dlib on my local however whenever I run the serverless deploy the python packages are left on my project folder and this error pops up Before trying with docker I tried with my own python installation by adding the pythonBin removing Dockerfile option and DockerizePip however nothing works If I leave my requirements txt with just PyJWT and SQLAlchemy the deploy works with local python or with docker I also added the SLS_DEBUG env variable but no additional or relevant information shows up What should I do"
65916940,"Environment variables in deployed Next.js Serverless App","https://stackoverflow.com/questions/65916940/environment-variables-in-deployed-next-js-serverless-app","{next.js,amazon-cloudfront,serverless-framework}","2021-01-27 10:10:57+02","2024-05-17 04:52:43.275351+03","So in my project I have one env file on the root of the project which has default environment variables for all stages Then I have config folder where I keep environment and serverless yml file for each environment env staging env production etc Like this When I run and then It loads all the environment variables env env staging Which is good and it works perfectly but only locally This is my serverless yml file So for staging deployment I run this On the deployed version All environment variables from root env are available but NOT from env staging What I am doing wrong "
65947548,"Setting up AWS credentials","https://stackoverflow.com/questions/65947548/setting-up-aws-credentials","{amazon-web-services,serverless-framework,aws-serverless}","2021-01-29 01:23:37+02","2024-05-17 04:52:44.36435+03","I am having problems configuring my AWS credentials on Serverless using my terminal Once I place After that the system responds setting up aws and does not do anything else Am I doing something wrong"
65947908,"Using the Serverless Framework with AWS, Sequelize's auto-generated table aliases differ depending on environment (offline vs. Lambda)","https://stackoverflow.com/questions/65947908/using-the-serverless-framework-with-aws-sequelizes-auto-generated-table-aliase","{aws-lambda,sequelize.js,serverless-framework,sequelize-typescript,serverless-offline}","2021-01-29 02:17:25+02","2024-05-17 04:52:45.249847+03","I am using the Serverless Framework with the serverlessoffline plugin I have been developing an AWS Lambda function offline and so far have not had many huge problems I need to do a more complicated SQL query and so I opted to use the literal method to write some pure SQL I checked the log and saw that Sequelize with sequelizetypescript was assigning aliases to the table names so that they matched the model names or in the case of table relationships the aliases matched the key that the relationship was assigned to So I wrote my SQL accordingly I ended up with the following So again to clarify in the logs I could see that the customers table was being aliased to Customers and the coupon table was being aliased to coupon I did a bunch of local development offline using the serverlessoffline plugin just put it up on lambda and it does not work It does not work because for some reason on Lambda the same customers table is getting aliased as l If I edit my hard coded query to reference the customers table as l then it works fine on Lambda but it stops working offline because offline it is getting aliased as Customers Is there any way to force Sequelize to alias the table as a certain name Or something I can do to normalize the names between the two environments"
65949994,"How can I reference a object value from secret manager in serverless.yml?","https://stackoverflow.com/questions/65949994/how-can-i-reference-a-object-value-from-secret-manager-in-serverless-yml","{amazon-web-services,serverless-framework,aws-secrets-manager}","2021-01-29 06:49:07+02","2024-05-17 04:52:46.269079+03","I am deploying apps to AWS via serverless And need to read values from secretmanager during deployment I have read this doc httpswww serverless comframeworkdocsprovidersawsguidevariablesreferencevariablesusingthessmparameterstore it shows how to read it custom supersecret ssmawsreferencesecretsmanagersecret_ID_in_Secrets_Managertrue however it can be used to read a string value from secret manager My secret is an object which includes keyvalue pairs How can I read the key inside a secret I have tried something like this custom supersecret ssmawsreferencesecretsmanagersecret_ID_in_Secrets_ManagerMY_KEYtrue custom supersecret ssmawsreferencesecretsmanagersecret_ID_in_Secrets_ManagerMY_KEYtrue but none of them working "
65958498,"Configuring Serverless to handle required path parameters","https://stackoverflow.com/questions/65958498/configuring-serverless-to-handle-required-path-parameters","{node.js,aws-lambda,aws-api-gateway,serverless-framework}","2021-01-29 16:45:58+02","2024-05-17 04:52:47.124091+03","I am new to serverless and writing my first service It is built for the AWS API gateway and node js lambda functions Consider this as my serverless yaml file The functions listShirts createShirt and getShirt all work as I expected and deleteShirt works too when a ShirtId is passed The issue is when I do not pass the ShirtId on a delete Assuming my service url is httpsshirts mywardrobeapi com I would expect this request to trigger an error response from the API gateway Instead the deleteShirt function is invoked Of course I could handle this simple check inside the function but I thought that is what the shirtId true setting in the serverless yaml file was for How can I get this setting to treat shirtId as required and not invoke the function when it is not provided If I cannot what is this purpose of this setting"
65975743,"[serverless-framework]Deploying app to a new stage tries to update old stage","https://stackoverflow.com/questions/65975743/serverless-frameworkdeploying-app-to-a-new-stage-tries-to-update-old-stage","{amazon-web-services,serverless-framework,staging}","2021-01-31 04:27:31+02","2024-05-17 04:52:48.178213+03","We have a simple serverless application that contains a dynamo DB table a few lambdas and an API endpoint We currently have the app deployed in the dev stage We are having some trouble deploying to the prod stage Here is the serverless yaml file We deployed this to the dev stage using the following cli command serverless deploy This created a stack in CloudFormtion called lookupsdev a DymanoDB table DB table called lookupdev and lambdas called lookupsdevcreateOrUpdateLookups and lookupsdevgetLookup Now when try to deploy to a new stage called prod using this cli command serverless deploy stage prod We get an error saying the table lookupsdev already exists in the stack with the stack id of the lookupsdev stack This is the full error An error occurred lookupTable lookup_dev already exists in stack arnawscloudformationuseast1aaaaabbbbbbbccccccddddddstacklookupsdevwwwwwwwwwwwwwwwwwwwwaws Question How do we deploy to a new stage when we have already deployed out app the dev stage "
65983931,"How to include package.json using serverless deploy?","https://stackoverflow.com/questions/65983931/how-to-include-package-json-using-serverless-deploy","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-01-31 20:29:43+02","2024-05-17 04:52:49.277487+03","I am using webpack and serverless to deploy to aws lambda So far I have been able to configure it to bundle all dependencies into one ts file but aws complains there is no package json So I found a way to upload the node modules folder as well which also brought in the package json but since I am on windows the aws instances do not like the libraries How do I include package json when I run the serverless package or deploy commands so that aws lambda can run the install Does not work "
64755315,"Node.js: Native crypto module could not be used to get secure random number","https://stackoverflow.com/questions/64755315/node-js-native-crypto-module-could-not-be-used-to-get-secure-random-number","{node.js,amazon-cognito,serverless-framework}","2020-11-09 16:19:48+02","2024-05-17 04:53:15.216202+03","I am using serverless and amazoncognitoidentityjs ^4 5 3 for auth and stumbled over the error Error Native crypto module could not be used to get secure random number when using CognitoUser authenticateUser There are several git issues opened with multiple solutions saying the issue is fixed with the version 3 2 0 but it is still happening in the latest verions "
65991929,"Puppeteer using google fonts in headers and footer in Node.js serverless AWS lambda","https://stackoverflow.com/questions/65991929/puppeteer-using-google-fonts-in-headers-and-footer-in-node-js-serverless-aws-lam","{node.js,aws-lambda,puppeteer,serverless-framework}","2021-02-01 11:29:09+02","2024-05-17 04:52:50.261436+03","I am using Node js AWS lambda with serverless framework The PDF generation is working fine Now I have a requirement to use custom fonts in headers and footer section I have tried to add the google fonts using layer in serverless and also tried to import the fonts through css it is is not working in both ways does anyone knows how can we use custom fonts in Header and Footer using puppeteer Below is my helper class that generates the PDF"
65992128,"Should .webpack folder be committed to source code? Serverless Framework - serverless-bundle","https://stackoverflow.com/questions/65992128/should-webpack-folder-be-committed-to-source-code-serverless-framework-serve","{javascript,ecmascript-6,serverless-framework}","2021-02-01 11:43:28+02","2024-05-17 04:52:51.361046+03","I would like to understand if webpack should be committed to source code repository I am using serverlessbundle within Serverless Framework to be able to write ES6 syntax "
66000642,"HTTPApi + Serverless Framework + API Gateway CORS not working","https://stackoverflow.com/questions/66000642/httpapi-serverless-framework-api-gateway-cors-not-working","{aws-lambda,serverless-framework,aws-api-gateway,aws-http-api}","2021-02-01 21:48:42+02","2024-05-17 04:52:52.108134+03","I have an HTTPApi API Gateway created with the Serverless Framework But for some routes the CORS is not working I tried setting the corstrue option on the provider but still doesnt work This is the response returned on all routes wether it is 4xx or 2xx codes If I check the console I can see that the options are indeed applied However some routes actually work And some others do not the ones that do not work have the XTransactionKey header and the OPTIONS does not return the accesscontrolallowheaders authorizationcontenttypexamzdatexamzsecuritytokenxamzuseragentxapikeyxtransactionkey header What am I missing Thanks in advance"
66002119,"How can I package symbolic link in node_modules with `serverless?","https://stackoverflow.com/questions/66002119/how-can-i-package-symbolic-link-in-node-modules-with-serverless","{aws-lambda,yarnpkg,serverless-framework,yarn-workspaces}","2021-02-02 00:36:07+02","2024-05-17 04:52:53.224209+03","I am using serverless to package nodejs application I am using yarn workspace in my project the projectA and projectB are using common module which is managed by yarn workspace It creates a link inside node_modulescommon common But when I package the application with sls deploy it does not inlude the link node_modulescommon How can I make it package symbolic link"
66016451,"Serverless invoke local data type problem","https://stackoverflow.com/questions/66016451/serverless-invoke-local-data-type-problem","{serverless-framework,serverless,aws-serverless}","2021-02-02 19:33:08+02","2024-05-17 04:52:54.234192+03","When I run this local invoke in my NodeJS lambda the payload comes as an object instead of string Is there a reason for this How can I pass this json payload as a string"
66024257,"How to run a severless lambda function every 10 minutes at 00, 10, 20, 30, 40, 50","https://stackoverflow.com/questions/66024257/how-to-run-a-severless-lambda-function-every-10-minutes-at-00-10-20-30-40-5","{amazon-web-services,aws-lambda,cron,serverless-framework,serverless}","2021-02-03 09:03:04+02","2024-05-17 04:52:55.305997+03","I have a function that is deployed on AWS as a lambda using a serverless framework written in nodejs I have scheduled an event to have this functioncron job run every 10 minutes I want this cron job to run every 10 minutes I assume that it would run at 001020304050 min mark every hour However that is not the case it seems like it is running every 10 minutes from the time at which it was deployed for example if I deployed the app at 1005 it will run at 1015 1025 1035 1045 1055 1105 Sure it is every 10 minutes but it is not quite what I am looking for is there a way to get my lambda function to execute every 10 minutes at 00 10 20 30 40 50 serverless ts serverless yml thanks"
66038142,"Serverless python requirements slim:true does nothing for dependency size","https://stackoverflow.com/questions/66038142/serverless-python-requirements-slimtrue-does-nothing-for-dependency-size","{python,aws-lambda,serverless-framework}","2021-02-04 01:29:39+02","2024-05-17 04:52:55.865179+03","when using the following settings in serverless yml slimtrue and slimfalse result in the same file size What can I do to decrease the file size of the zip file I am trying to get python code and it is dependencies onto an aws lambda function using the serverless framework following the recommendations provided here to reduce the dependency size to comply with the 250MB lambda limit in my serverless yml file I have the following my requierments txt is the following I keep getting the following error which leads me to believe that my requierments zip file is too large the verbose output stated uploading service test zip file to s3 271 17 MB I was playing around with making the file smaller and I ran sls deploy with dockerizePip and slim set to false for testing purpose and I got the same result a test zip file of 271 17 Mb This seemed perplexing as I understood it slim true would reduce the file size prior to zipping the file but running with slimtrue and slimfalse resulted in the same file size How can I make slim work I tried adding a slimPattern as discussed here within pythonRequierments but all dist info directories still exist in the zip file and the output is the same size 271 17MB I kept everything the same from update 1 but removed the serverless directory and requierments zip All the distinfo directories remain even though I excluded them in slimPatterns or so I thought I tried using package exclude doing the following this did succeed in getting node_modules removed which I should have done before but did not succeed in changing requierments zip in any way all distinfo directories remain I followed this and added a noDeploy field in pythonRequirements which included setuptools and six despite this both ended up in my requirements zip and my file size has not changed 269 9 Mb the same as update 3 which was slightly smaller due to the removal of node_modules "
65413690,"Serverless Framework with lambda-proxy integation and API Model Validation","https://stackoverflow.com/questions/65413690/serverless-framework-with-lambda-proxy-integation-and-api-model-validation","{aws-lambda,aws-api-gateway,serverless-framework}","2020-12-22 18:07:40+02","2024-05-17 04:52:57.601964+03","I have an issue validating a request with a model when the user changes the contenttype of the request in a serverless framework lambdaproxy integration As per AWS docs we can not change too much when using lambdaproxy integration For example the passthrough behavior that explains what happens when a validation model does not match the request type can not be used on lambdaproxy integration My problem I want to reject all requests that are not JSON so they must be forced to use the model validation But at the same time I do not want to change the integration type from lambdaproxy to lambda What can I do to solve this issue BR"
65436190,"Pg-native failing on webpack","https://stackoverflow.com/questions/65436190/pg-native-failing-on-webpack","{javascript,webpack,serverless-framework}","2020-12-24 09:08:54+02","2024-05-17 04:52:58.424153+03","I have an issue with my serverless project Here is my webpack config And my serverless yml And package json The error I cannot remove is Does anyone have any advice here I tried adding alias I tried to use the exclude packages as currently in the webpack config but to no avail "
64376481,"Unable to send GET request with AWS Lambda & DynamoDB Rest API using serverless","https://stackoverflow.com/questions/64376481/unable-to-send-get-request-with-aws-lambda-dynamodb-rest-api-using-serverless","{amazon-web-services,aws-lambda,amazon-dynamodb,amazon-cloudfront,serverless-framework}","2020-10-15 17:02:56+03","2024-05-17 04:53:38.022545+03","I am creating an API to make GET and POST request to a table in DynamoDB I deployed it using serverless and received the endpoints for each API type But when testing it out with Postman I get the following error Code for creating the data in the table"
65446631,"AWS Lambda + Angular web app throwing ""Error: Cannot find module '@vendia/serverless-express'""","https://stackoverflow.com/questions/65446631/aws-lambda-angular-web-app-throwing-error-cannot-find-module-vendia-server","{angular,amazon-web-services,serverless-framework,aws-serverless}","2020-12-25 08:48:20+02","2024-05-17 04:52:59.332359+03","I am trying to deploy angular web app on AWS serverless Lambda following the tutorial httpsmedium combetterprogramminggettingstartedwithserverlessangularuniversalonawslambda8754bcc4dc19 It was working fine till last week but started to throw error Error Cannot find module vendiaserverlessexpress even though there is no mention of vendiaserverlessexpress anywhere The generated lambda js usesawsserverlessexpress Installed vendiaserverlessexpress through npm it got added to package json Deployed post that still error is reported Steps to reproduce Let me know in case of any further information required Thanks in advance "
65465640,"Serverless framework deployment error: You're not authorized to access this resource","https://stackoverflow.com/questions/65465640/serverless-framework-deployment-error-youre-not-authorized-to-access-this-reso","{amazon-web-services,deployment,serverless-framework}","2020-12-27 12:19:01+02","2024-05-17 04:53:00.358739+03","When I deploy my serverless framework project using AWS as provider I get You are not authorized to access this resource Please contact support and provide this identifier to reference this issue BLAHBLAH I am logged into Serverless framework with serverless login My serverless yaml"
65469201,"Serverless Typescript Rest API with Typeorm and Express.js","https://stackoverflow.com/questions/65469201/serverless-typescript-rest-api-with-typeorm-and-express-js","{typescript,express,aws-lambda,serverless-framework,typeorm}","2020-12-27 18:38:23+02","2024-05-17 04:53:01.626223+03","I am new to Node js Currently I have a working microservices architecture based system working in Heroku and my goal is to change our infrastructure to AWS Lambda using Serverless with Typescript while also switching from Sequelize to TypeORM and keep using express js as the Restful API framework I have tried to make all of those things work together and eventually when running a basic GET request against my service running with sls offline i receive Cannot Get documents I am sure that the problem lies in app ts The routes are empty but I do not know how to fix that I have tried many other options but this one seems to work well with the DB it even automatically migrated my Entity and created the table correctly in my DB Any hint or guidance would be appreciated My code"
65473030,"Attempting to use apollo-server's playground results in Unexpected end of JSON input","https://stackoverflow.com/questions/65473030/attempting-to-use-apollo-servers-playground-results-in-unexpected-end-of-json-i","{graphql,serverless-framework,apollo-server,serverless-offline}","2020-12-28 04:31:29+02","2024-05-17 04:53:02.492919+03","I am getting this error when I launch the playground in my apollyserverlambda application The app has only one test resolver I use typegraphql to define the schema And then I configured the apollo server with the generated schema Finally I have it all set with serverless As you can see in the configs I use serverlessoffline to develop and I start things with serverless offline start And it seems to start successfully I can access the playground UI at httplocalhost3000devgraphql but immediately I start seeing the error above in the console over and over I cannot see the schema or doc tabs essentially all polling fails and no query reaches that resolver Do you guys see anything wrong in how I wired things"
65475724,"Get SQS URL Name from within Serverless function?","https://stackoverflow.com/questions/65475724/get-sqs-url-name-from-within-serverless-function","{serverless-framework,serverless,aws-serverless}","2020-12-28 09:49:42+02","2024-05-17 04:53:02.911147+03","I would like to grab the name of the serverless function Here is my code What I am trying to achieve is instead of arn httpssqs useast1 amazonaws comxxxxchannels fifo I want to the env SQS_URL to be set to channels fifo I looked at FnSplit fucntion of cloudformation but was unable to properly use it to set it on env "
65482763,"API Gateway changing url invoke and api key","https://stackoverflow.com/questions/65482763/api-gateway-changing-url-invoke-and-api-key","{amazon-web-services,serverless-framework,aws-api-gateway}","2020-12-28 19:09:27+02","2024-05-17 04:53:03.807176+03","The invoke url and api key of of an api that I implemented in the gateway api changed without me asking I do not want them to keep changing all the time I did not find an answer to my problem in the aws documentation Maybe the problem is usage plan Here the serveless yml"
65489210,"AWS step function: Use nested variable inside condition","https://stackoverflow.com/questions/65489210/aws-step-function-use-nested-variable-inside-condition","{serverless-framework,serverless,aws-step-functions}","2020-12-29 08:16:05+02","2024-05-17 04:53:04.863158+03","I am are trying to write a step function where each function Let us say this is the output of one of the function is I have a choice statement which needs to check what is the value of test_key and dereference it in foo dictionary How do I use dynamic reference in choice states"
65580071,"Serverless Framework - unrecognized property 'params'","https://stackoverflow.com/questions/65580071/serverless-framework-unrecognized-property-params","{aws-lambda,serverless-framework,amazon-cloudwatch-events}","2021-01-05 13:42:19+02","2024-05-17 04:53:06.478872+03","I am trying to create a scheduled lambda function using the Serverless framework and to send it different parameters from different events here is my serverless configuration The issue is that when I run sls deploy I get the following error This is basically copied from the documentation here so should work Am I missing something"
65592019,"Is it possible to attach multiple schedule/cron events with one AWS Lambda function?","https://stackoverflow.com/questions/65592019/is-it-possible-to-attach-multiple-schedule-cron-events-with-one-aws-lambda-funct","{amazon-web-services,aws-lambda,cron,serverless-framework,serverless}","2021-01-06 07:50:53+02","2024-05-17 04:53:06.860946+03","Currently my lambda function works successfully with one schedule event attached to it Relevant excerpt from my template yaml Lambda is triggered every one hour here and it works fine Now I would like to add another schedule event that triggers same lambda once a day at 12 Noon One way of doing it would be to create a separate lambda and attach daily schedule event to that but I do not want to create a new lambda just for that I was hoping if I could attach two schedule events to the same lambda I could not find any example online where more that one schedule events were attached to a lambda but I think following addition in template yaml file would be needed I want to test it locally so I downloaded and configured samsdk But I do not think that supports running cron jobs locally I was able to trigger events manually but could not find any provision to run schedule jobs automatically based on cron expression provided So I would like to know This will go directly into production and I cannot seem to figure out a way to test it locally "
40656603,"Rename an Azure Function","https://stackoverflow.com/questions/40656603/rename-an-azure-function","{azure,azure-webjobs,azure-functions,serverless-framework,serverless-architecture}","2016-11-17 13:47:18+02","2024-05-17 05:04:31.747606+03","How to rename an Azure Function I want to replace a default HttpTriggerCSharp1 name to my own At the moment unfortunately this name is included in the function url and there is no option to change it httpsfunctionsxxx azurewebsites netapiHttpTriggerCSharp1"
65600660,"Using fn::split in Serverless yaml configuration not working","https://stackoverflow.com/questions/65600660/using-fnsplit-in-serverless-yaml-configuration-not-working","{amazon-web-services,yaml,aws-cloudformation,serverless-framework}","2021-01-06 17:36:42+02","2024-05-17 04:53:08.005732+03","I am using serverless framework to deploy an API on AWS I have the following in my serverless yml file VPC_SG_ID contains the following string sg1111111111sg222222222sg3333333333 However when deploying the application I get the following error An error occurred MyLambdaFunction Value of property SecurityGroupIds must be of type List of String If I hardcode the SGs list it is working without any issue Why the fnsplit function is not returning a list of strings Edit The following configuration results in the same error"
65608537,"Serverless Offline - ECONNREFUSED Elasticmq with Docker-Compose","https://stackoverflow.com/questions/65608537/serverless-offline-econnrefused-elasticmq-with-docker-compose","{docker,docker-compose,serverless-framework,aws-serverless}","2021-01-07 07:57:07+02","2024-05-17 04:53:08.981652+03","I am trying to work on a webscraper using the Serverless Framework that I want to be easily ran locally by users without having to install any necessary depedencies on their local machine I am using serverlessofflinesqs with a local Elasticmq server hosted on a Docker container Currently I have a dockercompose file that I run then run serverless offline in another terminal which works well That dockercompose yml file looks like this This works well with no issues and after ensuring that all of my containers are up I can run serverless offline and my app works I am trying to also include the act of running Serverless in its own docker container I have created the following Dockerfile I am trying to follow the Docker documentation for affecting the startup order found here to ensure that my queue service is up before running this This has led me to this dockercompose yml I am using the waitforit sh script which the Docker documentation suggests but it says that I am getting the following error Am I still getting some race condition Any suggestions here would be much appreciated "
65608892,"Is there a time limit for running serverless batch job?","https://stackoverflow.com/questions/65608892/is-there-a-time-limit-for-running-serverless-batch-job","{aws-lambda,serverless-framework,serverless,aws-serverless,serverless-architecture}","2021-01-07 08:24:43+02","2024-05-17 04:53:10.063068+03","Is there a time limit for running a serverless batch job I followed the ETL job following this link httpswww serverless comblogetljobprocessingwithserverlesslambdaandredshift I am wondering is there a limit which running the batch job"
65614528,"using serverless for large scale cloud database [closed]","https://stackoverflow.com/questions/65614528/using-serverless-for-large-scale-cloud-database","{azure,aws-lambda,azure-functions,azure-cosmosdb,serverless-framework}","2021-01-07 14:46:12+02","2024-05-17 04:53:10.757338+03","Want to improve this question Update the question so it can be answered with facts and citations by editing this post Closed 3 years ago What guidelines have been useful for folks who are looking to have a very large 100TB PB cloud database with multiple readerswriters IoT sources We expect to have a REDIS cache backed by either DynamoDB Azure CosmosDB or other Not yet decided But is it a problem to have purely lambda and serverless to service the readwrite requests There are some guidelines from AWS about this and one case study"
65628599,"Is there no setting for AWS API Gateway REST API to disable execute-api endpoint in CloudFormation template?","https://stackoverflow.com/questions/65628599/is-there-no-setting-for-aws-api-gateway-rest-api-to-disable-execute-api-endpoint","{amazon-web-services,rest,aws-cloudformation,aws-api-gateway,serverless-framework}","2021-01-08 12:03:14+02","2024-05-17 04:53:12.054817+03","I have setup an API Gateway v1 not v2 REST API resource using CloudFormation template Recently I have noticed that the default executeapi endpoint is also created which I can disable in the settings The type of this API is AWSApiGatewayRestApi Naturally I would like this to be done through the template so the question is can this setting be defined in the CloudFormation template rather than havign to be clicked manually in the AWS Console This option is available for the APIGateway V2 API resource AWSApiGatewayV2Api but not the APIGateway V1 REST API resource AWSApiGatewayRestApi in the CloudFormation templates even though it can be changed manuall for the APIGateway V1 REST API in the console There is also a CLI way of doing this for the AWSApiGatewayRestApi Here are some links I have used to search for this setting AWSApiGatewayV2API AWSApiGatewayRestApi Disabling default apiexecute endpoint via CLI"
64732591,"AWS Lambda function with python, Boto3, and QuickSight SDK, getting error message: InvalidParameterValueException/Invalid ResourceId","https://stackoverflow.com/questions/64732591/aws-lambda-function-with-python-boto3-and-quicksight-sdk-getting-error-messag","{python,aws-lambda,boto3,amazon-iam,serverless-framework}","2020-11-07 21:25:37+02","2024-05-17 04:53:13.586266+03","I recieved an interesting error message and may have an idea what is going on but need some guidance on the best way to resolve it I have a CloudFormation Stack with a Lambda Function that is creating some AIM policies and permissions when generating a QuickSight Data Source A portion of the function here The error from the logs indicates Doing a search found a similar situation with a solution but with JavaScript What would be the best way or to implement that in Python Or are there some other options such as placing time sleep somewhere within the function and if so where Also I am assuming that allowing AWS to replicate the role through the regions would solve this issue but I might be wrong and going down a blind ally and the issue is something unrelated Thank you EditUpdate I realized something that is pretty obvious but did not see it because I fixated on other situations which were similar but the IAM resources that I am creating for that bucket are being created through CloudFormation in the Yaml file and independent of the Lambda Function or when it is triggered As such I I redeployed the stack including the IAM resources and then left it alone for about 25 minutes before triggering the function and still received that error message so I do not think it is a result of the AIM role not propagating through AWS in time But I am pretty new to Boto3 and I might have made a mistake in instantiating the client I have quicksight_client boto3 client quicksight but should it be quicksight_client boto3 resource quicksight instead Additional Edit So I attempted to try it with boto3 resource quicksight but no that is not going to work That resource does not exist and got an error message Potentially still could be a timing issue perhaps "
64742297,"How to pass parameters to a cloudformation template which is embedded inside serverless.yaml file","https://stackoverflow.com/questions/64742297/how-to-pass-parameters-to-a-cloudformation-template-which-is-embedded-inside-ser","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-11-08 19:42:04+02","2024-05-17 04:53:14.112824+03","I have a cloudformation template that I would like to embed in the resources section but the existing cloudformation template contains parameters Is it possible to handle this resources Resources file cloudformationresources yaml I am trying to create IAM roles and Lambda functions using the template and the template takes the environment name security groupId bucket name where the lambda code resides as passing as parameters and I am using Sub arnawslogs AWSRegion AWSAccountId loggroupawslambda to get the log group inside the template But I am ending up with an error Invalid variable reference syntax for variable AWSRegion You can only reference env vars options files You can check our docs for more info How can I handle this using serverless yaml file Here is the serverless yaml which i am trying Thanks in advance"
64765112,"Is there a way to directly trigger an ECS Task (i.e. without Lambda) on object upload to S3 using the Serverless Framework?","https://stackoverflow.com/questions/64765112/is-there-a-way-to-directly-trigger-an-ecs-task-i-e-without-lambda-on-object-u","{amazon-s3,amazon-ecs,serverless-framework}","2020-11-10 08:14:33+02","2024-05-17 04:53:16.221786+03","Problem Trigger an ECS Task on object upload to S3 This AWS tutorial makes it seem like it is possible however there does not seem to be much information about how to do emulate this using the Serverless Framework Constraint As explained in this AWS tutorial trigger the ECS task without using an intermediary Lambda Disclaimer I am very new to serverless both the technology and this framework so I may be misunderstanding something fundamentally Nevertheless I am super eager to learn and build with these incredible tools and would appreciate any helpguidance "
64771296,"Lambda custom authorize, how to return custom message?","https://stackoverflow.com/questions/64771296/lambda-custom-authorize-how-to-return-custom-message","{node.js,aws-lambda,serverless-framework,lambda-authorizer}","2020-11-10 14:56:00+02","2024-05-17 04:53:17.091783+03","i am using serverlessframework node js and typescript for my service I have a custom authorizer where I fetch from external service some data and depending on the response from that service I want to return such an error code in my lambda The problem is that each time the response from the authorizer is no matter how I return the error and what error and what status code it passes Is this the specifics of the custom authorizer and nothing else can be returned or is it possible to modify the response somehow serverless yml and this is a simply code from my handler handler ts"
64776802,"Issues for escaping brackets, backslash and double quotes on YAML Cloudformation","https://stackoverflow.com/questions/64776802/issues-for-escaping-brackets-backslash-and-double-quotes-on-yaml-cloudformation","{amazon-web-services,yaml,aws-cloudformation,serverless-framework}","2020-11-10 21:09:13+02","2024-05-17 04:53:17.964854+03","I am struggling with putting a sed command into a YAML AWS CloudFormation template which is handled from a serverless template So the command I need to execute inside my AWSCloudFormationInit block is First I had issues with Variables since Serverless thought they were variables it should concern about I workarounded it using a Join function to break up the command in this way this approach does not work on Serverless This does not produce the desired output since someone Serverless or CloudFormation or YAML interpreter is scaping the backslash and the doublequotes My result is something like As you can see is adding an extra on the current character and on the doublequotes I tried to escape the string on my YAML to avoid this behavior but it was worst Any ideas or suggestions to have my literal command on the YAML template Thanks"
64790992,"Unable to load Python dependencies with Serverless Framework for AWS Lambda: Error: STDOUT","https://stackoverflow.com/questions/64790992/unable-to-load-python-dependencies-with-serverless-framework-for-aws-lambda-err","{python,amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2020-11-11 17:10:05+02","2024-05-17 04:53:18.744793+03","This should be fairly straightfoward I think I have been using Serverless Framework for the past several months without much issue and have been able to load packages such as pandas and numpy but had recently tried loading email and sklearn and received the bellow message when I try to deploy the stack I retried deploying the stack with just numpy pandas and datetime and had no issueserrors but adding email or sklearn creates this error message Any idea on how to resolve this and I can load those packages into my Lambda Function with Serverless Framework Edit As requested the Yaml file Although this worked with other dependenciespackages I have worked before additional edit I corrected for the lack of indentation under custom and python requirements but still receiving an error message "
64797208,"Get data from dynamoDB in lambda function","https://stackoverflow.com/questions/64797208/get-data-from-dynamodb-in-lambda-function","{python,aws-lambda,serverless-framework}","2020-11-12 02:52:17+02","2024-05-17 04:53:19.782767+03","the function successful but the output empty Any code I m missing"
64819729,"How to set environment variables for serverless framework on jest tests","https://stackoverflow.com/questions/64819729/how-to-set-environment-variables-for-serverless-framework-on-jest-tests","{jestjs,environment-variables,serverless-framework,serverless}","2020-11-13 11:00:05+02","2024-05-17 04:53:20.85697+03","I am using Jest to make integration tests for my serverless framework service Currently I have env files specifying the environment variables and there is where I have my problem In my package json i have When I call yarn start the service starts correctly reading from env local file But when I call exec yarn start inside the beforeAll function because I need to run the service to test the endpoints the service starts with the configuration from the env file and not env local I ran out of ideas of how to set the right variables I have used jest setupFiles and tried to set the variable manually like process env ENV1XX but it did not work Until now the only thing that worked out was to change my test script from jest to ENV1X ENV2Y ENV3Z jest but it does not feel right "
64821675,"Catch a Dynamo Stream Event locally with serverless offline","https://stackoverflow.com/questions/64821675/catch-a-dynamo-stream-event-locally-with-serverless-offline","{serverless-framework}","2020-11-13 13:20:58+02","2024-05-17 04:53:21.83588+03","I am trying to debug on visual studio code a dynamo stream event handler Can I connect my local serverless offline program with streams of a deployed DynamoBD I have tried many ways but my handler was not triggered At the moment I am using serverlessofflinedynamodbstreams and I have added And I have connected my function to the remote resource arn And added the following custom configuration I am running my application with But still I did not manage to have my handler triggered Any ideas on what I am doing wrong "
64825977,"ServerlessError: Documentation part already exists while deploying Serverless AWS apigateway","https://stackoverflow.com/questions/64825977/serverlesserror-documentation-part-already-exists-while-deploying-serverless-aw","{aws-lambda,serverless-framework,aws-serverless,aws-api-gateway}","2020-11-13 18:13:29+02","2024-05-17 04:53:23.432218+03","I am getting [ServerlessError Documentation part already exists] while deployment when I have updated the version in documentation object from version8 0 2 to version9 0 1 serverlessErrorImage1 serverlessErrorImage2 But it succeed when run deployment again by updating version in documentation object from version9 0 1 to version9 0 2 I am unable to understand how serverlessawsdocumentation versioning is working while deployment "
63273102,"How do I create a parameter store configuration value with Serverless Framework?","https://stackoverflow.com/questions/63273102/how-do-i-create-a-parameter-store-configuration-value-with-serverless-framework","{amazon-sqs,serverless-framework,aws-parameter-store,aws-ssm}","2020-08-05 20:33:26+03","2024-05-17 04:54:10.084045+03","I have the following queue that is getting created with the serverless yml file of Serverless Framework project How do I take URL of the queue that gets created and store it as a parameter in AWS Systems Manager I need to store it there so other applications outside of this one know how to access it "
64837397,"Serverless Framework with API Gateway, Lambda Layers, and Webpack (Configuration Hell)","https://stackoverflow.com/questions/64837397/serverless-framework-with-api-gateway-lambda-layers-and-webpack-configuration","{serverless-framework,webpack-4,aws-lambda-layers}","2020-11-14 18:44:39+02","2024-05-17 04:53:23.944894+03","I want to use a AWS Lambda Layer with some AWS API Gateway endpoints that I am building and deploying using the Serverless Framework and Webpack I created one Lambda Layer in the AWS Console which I want to use with all of my API Gateway endpoints It is a collection of node_modules used by all functions e g lodash axios mysql2 etc In the serverless config I have told each endpoint where the layer is referencing the ARN However whenever I package one of my services e g serverless package auth stage dev with Webpack the resulting bundle always includes the required node modules even though I have specified in the config webpacknodeexternals that I do not want them in the bundle So I am confused I have read several examples of using ServerlessWebpackLambda Layers and tried numerous configuration settings in those posts but none of the tutorials seem to work for my use case Any suggestions would be greatly appreciated Thanks "
64854640,"Question on Serverless Microservices Project using AWS & NodeJs","https://stackoverflow.com/questions/64854640/question-on-serverless-microservices-project-using-aws-nodejs","{node.js,amazon-web-services,aws-lambda,microservices,serverless-framework}","2020-11-16 08:23:29+02","2024-05-17 04:53:24.426742+03","I am trying to learn Serverless microservices for an assignment I have zero experience in AWS Serverless and Microservices As I have understood up to now I can create an awsnodejs project using sereverless framework and deploy it to AWS and then I can have a Lambda function and an API endpoint Then I have an microservice Let us say I want to build a complete system which provide free ebooks and displays advertisements Then I will need an UI to communicate with the backend I will need one microservice to get the ebooks from the database one microservice to load the advertisements That means there are two microservices for my system Q1 Do I need to create two separate serverless projects for two microservices Q2 If I want to have CRUD operations in my ebooks microservice I will have to create 5 functions right That means serverless framework will create 5 lambdas in AWS Are these five lambdas considered as five microservices or 5 functions of one microservice"
64855191,"Dependencies Missing while deploying an AWS Lambda using Serverless Framework","https://stackoverflow.com/questions/64855191/dependencies-missing-while-deploying-an-aws-lambda-using-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2020-11-16 09:09:00+02","2024-05-17 04:53:25.386964+03","I am trying to use serverless framework to deploy a prediction Lambda handler to AWS my codes dependencies are pytorch and transformers HF I am facing this problem not sure how to overcome the same I have configured the requirements txt file properly and it has the below 2 lines When I try to use the command serverless deploy at times it creates a package with all the dependencies in the requirements zip within the package which comes to around 144 MB this is the expected result The log for your reference But at times when I use the same command to deploy it creates a package with 128KB approx without any dependencies in the requirements zip file within the package The log for your reference So why is this happening and how can I tweak the deployment command so that the dependencies are always included"
64865213,"Best practice for using AWS and serverless CLIs for both professional and educational projects from the same computer?","https://stackoverflow.com/questions/64865213/best-practice-for-using-aws-and-serverless-clis-for-both-professional-and-educat","{amazon-web-services,serverless-framework}","2020-11-16 20:25:22+02","2024-05-17 04:53:26.470478+03","I am using AWS and serverless framwork at work Work credentials are stored in the awscredentials file What is best practice to be able to use the AWS and serverless CLI from the same computer account without risking deploying my educational projects to the work account or even worse deploying work stuff on my educational account It cannot be that I always need to specify the credentials I want to use whever I write an awsserverless command because sometime I will forget It is okay if using the cli tools in the educational project becomes more cumbersome "
64866025,"Serverless Websocket service deploy fails with Status Code: 400; Error Code: BadRequestException","https://stackoverflow.com/questions/64866025/serverless-websocket-service-deploy-fails-with-status-code-400-error-code-bad","{websocket,serverless-framework,serverless,aws-serverless}","2020-11-16 21:31:23+02","2024-05-17 04:53:27.200424+03","Using Serverless Framework I have build a websocket service On serverless deploy I am getting An error occurred WebsocketsDeployment1605517494880 A route target typically an Integration must be defined for route X with key default Service AmazonApiGatewayV2 Status Code 400 Error Code BadRequestException Request ID Y Proxy null Attempt to fix this I added to the serverless yaml file and now I am getting An error occurred SdefaultWebsocketsRoute Route with key default already exists for this API Service AmazonApiGatewayV2 Status Code 409 Error Code ConflictException Request ID X Proxy null I am not sure what the problem is how do I fix this"
64306563,"Lambda function behavior with schedule event after deploy","https://stackoverflow.com/questions/64306563/lambda-function-behavior-with-schedule-event-after-deploy","{amazon-web-services,aws-cloudformation,serverless-framework,aws-serverless,aws-event-bridge}","2020-10-11 16:43:05+03","2024-05-17 04:53:28.799399+03","So at first I deploy my function with config like this for debugging purposes Then I decided to change schedule rate to 1 day I got 2 questions"
64315636,"AWS serverless dynamodb - deleting item not working","https://stackoverflow.com/questions/64315636/aws-serverless-dynamodb-deleting-item-not-working","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2020-10-12 10:01:22+03","2024-05-17 04:53:29.873835+03","I have deployed a serverless app to aws with serverless framework I have a simple todo application TodoItem looks like this This is how I have set up the dynamodb My delete todo lambda function looks like this And I am deleting an item like this But when I am try to delete an item I get 502 Bad Gateway In cloudwatch logs I can see that I get this error 20201012T084345 648Z 7ff99035bf3d4158b3111e6d7e73a6e5 ERROR Invoke Error errorTypeValidationExceptionerrorMessageThe provided key element does not match the schemacodeValidationExceptionmessageThe provided key element does not match the schematime20201012T084345 629ZrequestIdSRSL15PC9C3BN4RC4F5K3ERFNNVV4KQNSO5AEMVJF66Q9ASUAAJGstatusCode400retryablefalseretryDelay49 16692204166978stack[ValidationException The provided key element does not match the schema at constructor httpResponse vartasksrclambdahttpwebpacknode_modulesawssdklibprotocoljson js471 at constructor shift [as callListeners] vartasksrclambdahttpwebpacknode_modulesawssdklibsequential_executor js1001 at constructor doneCallback [as emit] vartasksrclambdahttpwebpacknode_modulesawssdklibsequential_executor js751 at constructor call [as emitEvent] vartasksrclambdahttpwebpacknode_modulesawssdklibrequest js6831 at constructor emit vartasksrclambdahttpwebpacknode_modulesawssdklibrequest js221 at r call [as runTo] vartasksrclambdahttpwebpacknode_modulesawssdklibstate_machine js141 at runTo vartasksrclambdahttpwebpacknode_modulesawssdklibstate_machine js261 at constructor done vartasksrclambdahttpwebpacknode_modulesawssdklibrequest js381 at constructor call vartasksrclambdahttpwebpacknode_modulesawssdklibrequest js6851 at constructor Error [as callListeners] vartasksrclambdahttpwebpacknode_modulesawssdklibsequential_executor js1081 ] I am suspecting that I have set up hash and range keys for the dynamodb table wrongly I am not sure what is the correct way to set this up for such table"
63313483,"Is console app parameter in react.js code outside serverless.yaml?","https://stackoverflow.com/questions/63313483/is-console-app-parameter-in-react-js-code-outside-serverless-yaml","{serverless-framework}","2020-08-08 08:51:05+03","2024-05-17 04:54:11.854742+03","I want to print an env variable to console I added following veriables in parameters of Serverless app console And in js file in my React js project I tried But it returns nothing How come it does not work"
64321708,"Download dependencies using serverless-python-requirements plugin on GitHub Actions throws ""cannot find Python 3.7""","https://stackoverflow.com/questions/64321708/download-dependencies-using-serverless-python-requirements-plugin-on-github-acti","{python,amazon-web-services,aws-lambda,serverless-framework,github-actions}","2020-10-12 16:29:16+03","2024-05-17 04:53:30.759255+03","Here is my workflow deploy yml Heres my serverless yml Project structure Whenever the actions runs I get Error python3 7 not found Try the pythonBin option So I updated my serverless yml to reference the python install in the opt directory read more about that here But now I get Error opthostedtoolcachePythonbinpython3 7 not found Try the pythonBin option I am not sure how I can reference where actionssetuppython installed Python and reference that in serverlesspythonrequests I have seen a few other questions on SO around serverlesspythonrequests but none mentioning issues when running on GitHub actions I have also tried setting dockerizePip true but I get Errorr cannot find docker errors Any feedback is greatly appreciated "
64323888,"Using the serverless framework, is it possible to have functions call each other locally? Similar to SAM's sam local start-lambda?","https://stackoverflow.com/questions/64323888/using-the-serverless-framework-is-it-possible-to-have-functions-call-each-other","{aws-lambda,serverless-framework,serverless,aws-sam,aws-sam-cli}","2020-10-12 19:03:23+03","2024-05-17 04:53:32.299362+03","I am using serverless with AWS I want to be able to test lambda functions calling other lambda functions locally I noticed that there is a way to do this with the aws SAM tool httpsdocs aws amazon comserverlessapplicationmodellatestdeveloperguidesamclicommandreferencesamlocalstartlambda html Is there a way to do this with the serverless framework If not out of the box would it be simple to implement Does serverless invoke local use SAM under the hood"
64325024,"DynamoDB docClient scan does not respond","https://stackoverflow.com/questions/64325024/dynamodb-docclient-scan-does-not-respond","{amazon-dynamodb,serverless-framework,aws-sdk-nodejs}","2020-10-12 20:37:10+03","2024-05-17 04:53:32.735291+03","I use DynamoDB with nodeJS on a Lambda function using serverless When I scan item from my local computer it works but when I deploy my function scan does not respond No errors When I call this function on AWS I can see in my log before scan but I do not see after scan nor error message from catch DynamoDB operations like create works fine I have been looking for a solution for several days Without success"
64350072,"Serverless variable interpolation env:VAR fallback using Fn::GetAtt","https://stackoverflow.com/questions/64350072/serverless-variable-interpolation-envvar-fallback-using-fngetatt","{yaml,aws-cloudformation,serverless-framework}","2020-10-14 09:10:32+03","2024-05-17 04:53:33.708956+03","When using the serverless framework to deploy my application my stagingproduction environments use the respective ElasticCache instances spun up as part of the resources required for the application and the endpoint is set as an environment variable The above implementation works fine but when using serverlessoffline this obviously does not get a real Endpoint and REDIS_URL ends up as redis[object Object] What I would like to do is use envREDIS_URL if present and if not set it using FnGetAtt as above Given the normal fallback syntax is envREDIS_URL fallback I assumed I would be able to use some form of the above FnGetAtt but I cannot seem to get the syntax to work How can this be done"
64355108,"Which is the first hook executed on Serverless?","https://stackoverflow.com/questions/64355108/which-is-the-first-hook-executed-on-serverless","{serverless-framework,serverless-architecture}","2020-10-14 14:07:14+03","2024-05-17 04:53:34.363861+03","There is a predefined hook how to default on Serverless I want to know if the framework execute any hook before and with are these ordered by execution Looking at the official docs I cannot found any explanation of this in details Thanks in advance "
64356291,"Setting composite sort keys for dynamodb with serverless framework","https://stackoverflow.com/questions/64356291/setting-composite-sort-keys-for-dynamodb-with-serverless-framework","{amazon-dynamodb,serverless-framework}","2020-10-14 15:08:51+03","2024-05-17 04:53:35.267159+03","I am new to dynamodb and serverless and I have read about composite sort keys I think they could be a solution to my problem but I am not completely sure how to implement them In my case I have a table with a Post entity that has the following fields it looks like this The queries that I need to do are I could set the public attribute only to the entities that are marked with public How does one define composite sort keys with servless framework So for example This is what I have set up previously "
64362053,"Structuring a serverless application on a single domain with 40+ services and 150+ functions","https://stackoverflow.com/questions/64362053/structuring-a-serverless-application-on-a-single-domain-with-40-services-and-15","{serverless-framework,serverless,serverless-architecture}","2020-10-14 21:56:21+03","2024-05-17 04:53:36.350321+03","Currently working on a serverless application which utilises serverlessdomainmanager to maintain our API under httpsapi business com The whole project is structured as a monorepo with microservices as suggested at serverlessstack com The main reason for this is code sharing between services there is a lib directory contains 80 of the actual code business logic and the individual services map onto these lib helpers think of user and admin APIs which do the same thing with more granular permissions There are currently 40 services each of which has it is own base path on the API for example 3 of the services are The problem is some of the services are getting a little heavy with 25 individual functions in them From my understanding you are suppose to keep these microservices as light as possible If you think of the user service mentioned above we have the following You get the idea it is been drastically simplified In the case of this user service it feels like the case of users stores are the perfect candidate for a separate micro service userstores or even userprofile and usersettings etc The problem is the serverlessdomainmanager only supports a single word as the basePath So the API endpoint would change from userstoreSTORE_IDproducts to userstoreSTORE_IDproducts While perfectly possible this feels like I am losing the ability to clearly structure my APIs with the perfect tool a How have others managed to structure their larger applications in similar situation"
64365824,"adding serverless apis as a resource server AWS cognito AWS api gateway","https://stackoverflow.com/questions/64365824/adding-serverless-apis-as-a-resource-server-aws-cognito-aws-api-gateway","{amazon-cognito,serverless-framework,serverless}","2020-10-15 06:14:37+03","2024-05-17 04:53:37.10778+03","Hello I am using serverless apis using aws api gateway lambda proxy golang and aws cognito this allows me to make request using the ID token to mydomain commybasepathmyendpoint I want to make it more standard and use access tokens it will not take the access token API Gateway authorizer would bounce it off I added this as Resource Server to the Cognito user pool settings in the App client settings I check the resource for the app client I log out create a new session for the user new tokens and i would get a 401 Unathorized I think I am following the documentation correctly as it is here maybe I am missing something else or perhaps because it is a serverless api it is a different set up that i need Any help or guidence is fully appreciated "
64395111,"Webpack + Sequelize: Import model definitions from files","https://stackoverflow.com/questions/64395111/webpack-sequelize-import-model-definitions-from-files","{node.js,webpack,sequelize.js,serverless-framework}","2020-10-16 19:14:46+03","2024-05-17 04:53:39.102571+03","I am using Sequelize in a Serverless project which uses Webpack to bundle the function files into a single script I have a models folder which contains the model definitions modelsExampleModel js I then have an modelsindex js file which contains a loader to import these files and call the associate function to set up associations The problem is that this function is obviously executed at runtime when you try to import a model so Webpack does not recognize that the model files are required and has not included them in the build To get around this I tried adding the below to my Webpack config When I look at the output from Webpack it has successfully copied the models directory to srcmodels However when testmodels js is run it fails with the error Error Cannot find module Usersredacted webpacktestmodelssrcmodelsExampleModel js The console log in the filter function of index js successfully logs all the model file names and the files exist so I cannot work out why the require call cannot find the file Running the below successfully lists the content of the file in the error message I have checked the permissions of the copied files and they are all rwrr so should be readable by the script "
64398596,"How to Trigger a lambda function with RDS database changes using SNS and serverless framework","https://stackoverflow.com/questions/64398596/how-to-trigger-a-lambda-function-with-rds-database-changes-using-sns-and-serverl","{aws-lambda,amazon-rds,amazon-sns,serverless-framework,aws-serverless}","2020-10-17 03:00:33+03","2024-05-17 04:53:39.985753+03","I want to create a lambda that triggers when there is a changes in RDS table Any tutorials or guides Thanks guys "
64407961,"How to change function to export function for decorator?","https://stackoverflow.com/questions/64407961/how-to-change-function-to-export-function-for-decorator","{angular,serverless-framework,echarts}","2020-10-17 22:28:21+03","2024-05-17 04:53:40.83575+03","I have an angular project where I am importing a module using the following code in app module ts But when I am trying to build the project into serverless I am getting the following regarding the above import and asking me to change it to export function so that it can be supported by decarator How do I do that I tried different export approaches but it is not working For reference I am trying to import ngxecharts into angular project httpswww npmjs compackagengxecharts Thank you for any help "
64419049,"Accessing SQS queue in a different AWS account using a serverless framework","https://stackoverflow.com/questions/64419049/accessing-sqs-queue-in-a-different-aws-account-using-a-serverless-framework","{amazon-web-services,serverless-framework,serverless}","2020-10-18 22:43:59+03","2024-05-17 04:53:41.952695+03","I havent been able to find the answer to this question related to serverless framework and being unable to deploy the lambda but please let me know if I have missed it My scenario is I have my lambda in account 0001 and I need to read messages from an SQS queue in AWS account 0002 The role interestingrole is created in account 0001 via Terraform and I would prefer to keep it that way unless there is a reason to do it via serverless The SQS queue in account 0002 has a trust relationship set up for the role interestingrole in account 0001 The policy looks like this in account 0001 In account 0002 a trust relationship has been set up with the role created in account 0001 same as where the lambda runs I dont control account 0002 If I in my serverless yml creates a queue with the same name and set the resource as 0001 instead of 0002 it will deploy just fine and also works to read messages from that queue but if I use account 0002 I get the deployment error An error occurred EventHandlerEventSourceMappingSQSCinterestingqueue Invalid request provided The provided execution role does not have permissions to call ReceiveMessage on SQS Service Lambda Status Code 400 Do I need to set up AssumeRole in my serverless yml or refer to the role I have created interestingrole in some other way I couldnt find an example for this particular case where my role is in the account I control and execute the lambda 0001 but the resource I want to access is in a different account I dont have iAmRoleStatement configured for the queue currently serverless yml Thank you "
64421636,"Serverless: sqs:CreateQueue Access ... denied","https://stackoverflow.com/questions/64421636/serverless-sqscreatequeue-access-denied","{amazon-web-services,amazon-iam,serverless-framework}","2020-10-19 05:31:50+03","2024-05-17 04:53:42.449623+03","I am trying to deploy my Serverless Framework application to multiple stages I created an IAM user with all the permissions I need and placed their accesskey in awscredentials When I deploy to stage beta the deploy works perfectly When I deploy to stage dev I get an accessdenied error This command Generates these errors My serverless yml looks like this Heres the policy for myProfile What am I doing wrong"
63710044,"KeyError: 'requestContext', FastAPI, Mangum, Serverless","https://stackoverflow.com/questions/63710044/keyerror-requestcontext-fastapi-mangum-serverless","{python,aws-lambda,serverless-framework,fastapi}","2020-09-02 16:47:46+03","2024-05-17 04:53:44.004685+03","I am trying to use Serverless Framework to deploy a Python Fast API WebApp Is is related to issue httpsgithub comjordaneremieffmangumissues126 When I deploy it using serverless sls depoy and Invoke the function I am getting the following error I have tried with python 3 8 and 3 7 Not able to find a resolution on the web for the same Also tried using the parameters spec_version2 which is not required I feel I feel something is missing here the issue is somewhere around Wondering if anyone has got FastAPI working on AWS Lambda using serverless Framework My handler serverless yml My requirements txt"
63728391,"AccessDenied executable in AWS Lambda Layer - FFMPEG","https://stackoverflow.com/questions/63728391/accessdenied-executable-in-aws-lambda-layer-ffmpeg","{node.js,ffmpeg,aws-lambda,serverless-framework,chmod}","2020-09-03 17:00:38+03","2024-05-17 04:53:45.052515+03","I have an FFMPEG executable as a Lambda Layer deployed with Serverless framework Unfortunately I am not able to execute it getting AccessDenied EACCESS errors I am tried fixing it with FSCHMOD like the following And getting this error My question is what now"
63742723,"TypeError : i is not a function (AWS Lambda wrapped with epsagon)","https://stackoverflow.com/questions/63742723/typeerror-i-is-not-a-function-aws-lambda-wrapped-with-epsagon","{node.js,webpack,aws-lambda,serverless-framework}","2020-09-04 14:05:31+03","2024-05-17 04:53:46.105797+03","This error is popped up on a lambda when I have upgraded got npm module to 11 5 x from 9 6 0 I am using serverlessframework to develop and deploy micro services Using Epsagon wrapper for better monitoring I have been struggling with this error from the past 3 days Any help would be well appreciated AWS lambda runtime Node 10 x following are a few npm packages serverlesswebpack ^5 3 3 terserwebpackplugin ^4 1 0 webpack ^4 44 1 epsagon ^1 82 0 got ^11 6 0 with got 9 0 6 there is no issue While I cannot paste the entire code snippet following is a snippet If I use the same code in a simple index js file and run it then I cant reproduce this issue The following log snippet is from cloudWatch "
63744115,"Cloudwatch putMetricData hanging within Lambda","https://stackoverflow.com/questions/63744115/cloudwatch-putmetricdata-hanging-within-lambda","{node.js,aws-lambda,serverless-framework}","2020-09-04 15:33:24+03","2024-05-17 04:53:47.145686+03","I am trying set up a lambda to periodically query our queue service and report message counts back to Cloudwatch so we can monitor queue sizes The code all works when invoked locally using the serverless framework However when triggered from Lambda itself the request to AWS Cloudwatch never completes and the lambda times out I suspect this to be some kind of permissions issue as I saw a similar issue locally when I had not configured access keys on my laptop But the policy includes this statement which I believe should be enough To access the queues api this lambda has been added to a VPC and security group This Security Group however has no outgoing restrictions only incoming Any help would be appreciated"
63744500,"Custom Header not being added at final HTTP response - APIGatewayHttpApiV2ProxyResponse class from AWS .NET Lambda SDK","https://stackoverflow.com/questions/63744500/custom-header-not-being-added-at-final-http-response-apigatewayhttpapiv2proxyr","{aws-lambda,serverless-framework,aws-serverless,aws-sdk-net}","2020-09-04 15:59:50+03","2024-05-17 04:53:47.824701+03","I am working with AWS Lambda BUT without the Amazon Lambda AspNetCoreServer package everything is working fine except the fact that I am adding some basic custom response headers such as JSON content type and nothing is being added at the final HTTP response headers In my particular case I am not using the Amazon Lambda AspNetCoreServer because I am building a serverless framework template The only problem is that any header added to APIGatewayHttpApiV2ProxyResponse class is not being added to the final HTTP response as expected Note I have already tried use the SetHeaderValues of it such as git clone httpsgithub comRichardSilveiraUserServerlessMicroservice cd UserServerlessMicroservice cd srcuserService npm i g serverless Note The serverless framework creates an abstraction layer upon Cloudformation it means that a Stack will be deployed into the AWS Account you can delete the stack easily nothing will be charged at this stack that you will upload You can inform a profile name from your local machine AWS credentials file in the serverless yml file by adding a profile name such as the in the example above It is optional if you do nothing the default profile will be used build sls deploy v NA I believe that is better to show off all my project description file Any thoughts Thanks in advance "
63758900,"API Gateway: Lambda Integration content-disposition header to interpolate values from $context","https://stackoverflow.com/questions/63758900/api-gateway-lambda-integration-content-disposition-header-to-interpolate-values","{amazon-web-services,aws-api-gateway,serverless-framework,serverless,response-headers}","2020-09-05 22:02:56+03","2024-05-17 04:53:48.610451+03","I am trying to set the filename of a CSV which is downloaded from API gateway the file name is fine if I hardcode it and set the ContentDisposition header in my serverless yaml but I need to set the filename dynamically based on the current date and one of the request parameters which is passed to the API when it is invoked I am looking at this page httpswww serverless comframeworkdocsprovidersawseventsapigatewaycustomresponseheaders which says that it is possible to use the integration response variables for your header values This AWS page is then referenced httpsdocs aws amazon comapigatewaylatestdeveloperguiderequestresponsedatamappings htmlmappingresponseparameters which seems to suggest I can get the request time and the values from the remapped request although when I try different variants such as context requestOverride querystring my_param or context requestOverride querystring my_param it always renders as a literal string Here is a code snippet which hopefully demonstrates what I am trying to do I do not want to use lambda proxy integration if it is possible to use one of the query parameters and the request time to generate my file name but I need to interpolate the values into the string which forms the ContentDisposition header value "
63795916,"How to exclude files from the packaging in serverless.yaml?","https://stackoverflow.com/questions/63795916/how-to-exclude-files-from-the-packaging-in-serverless-yaml","{serverless-framework,serverless}","2020-09-08 14:20:32+03","2024-05-17 04:53:49.321399+03","I have the following configuration in my serverless yaml file But anyways all the folders in my root are being included in the service zip file What am I missing here"
63805110,"Unable to invoke aws lambda locally using sls","https://stackoverflow.com/questions/63805110/unable-to-invoke-aws-lambda-locally-using-sls","{aws-lambda,serverless-framework}","2020-09-09 05:10:43+03","2024-05-17 04:53:50.375711+03","Im using sls framework to launch my code and it was working fine until today serverless ymls configuration wasnt modified and ive tried reinstalling sls but nothing seems to work The following message occurs for all my repos after throwing the following command sls invoke local f function_name accountId accountId Error message"
63820011,"Missed comma between flow collection entries when using Fn::GetAtt in YAML","https://stackoverflow.com/questions/63820011/missed-comma-between-flow-collection-entries-when-using-fngetatt-in-yaml","{yaml,serverless-framework,serverless,amazon-dynamodb-streams}","2020-09-09 21:49:54+03","2024-05-17 04:53:51.318699+03","I am trying to add an event stream for DynamoDB in YAML DynamoDB table is a variable that changes based on the environment it gets deployed to I am using FnGetAtt to determine TABLE_NAME but it is giving me an exception Exception Code"
63847295,"Serverless Python Local Module Not Found","https://stackoverflow.com/questions/63847295/serverless-python-local-module-not-found","{python,serverless-framework,serverless}","2020-09-11 12:40:41+03","2024-05-17 04:53:52.378507+03","I am looking to import my local python module file into my handler file in my serverless project but despite this local file being located in the parent directory with my handler file it does not appear to recognize the module I am relatively new to the python serverless setup and am wondering if there is something missing about how serverless file importation works Here are the files Error Message data py"
63881532,"'serverless invoke -f hello' gives KeyError","https://stackoverflow.com/questions/63881532/serverless-invoke-f-hello-gives-keyerror","{serverless-framework,serverless,aws-serverless}","2020-09-14 09:22:51+03","2024-05-17 04:53:53.222317+03","I am following a tutorial in order to learn how to work with the serverless framework The goal is to deploy a Django application This tutorial suggests putting the necessary environment variables in a separate ymlfile Unfortunately following the tutorial gets me a KeyError I have a serverless yml variables yml and a handler py I will incert all code underneath together with the given error serverless yml variables yml handler py The error in my terminal The command i am trying is sls invoke f hello The command sls deploy has been already executed succesfully I am new to serverless so please let me know how to fix this or if any more information is needed "
35945251,"How do you make use of cloudformation outputs within serverless framework?","https://stackoverflow.com/questions/35945251/how-do-you-make-use-of-cloudformation-outputs-within-serverless-framework","{serverless-framework}","2016-03-11 16:29:20+02","2024-05-17 05:03:25.370357+03","If you deploy a cloudformation creating a kinesis stream how can you provide the outputs such as an arn to a lambda created in the same deployment Does cf happen before serverless creates the lambdas and is there a way to store the cloudformation values in the lambda"
63883770,"Transpile Non-imported Typescript Files in Serverless Framework","https://stackoverflow.com/questions/63883770/transpile-non-imported-typescript-files-in-serverless-framework","{typescript,nestjs,serverless-framework,serverless,typeorm}","2020-09-14 11:54:23+03","2024-05-17 04:53:54.21038+03","How can I enable the option to transpile nonimported typescript files In my NestJS project serverless framework skips typeorm migration files as they are not imported anywhere in project I can make it work by manually importing migrations in one of the file Is there any option in tsconfig json that automatically transpile nonimported file Here is my tsconfig json file My typeorm migration files are located in srcmigrations directory and they run automatically as migrationsRun is true My migrations directory is srcmigrations but they do not transpile into distsrcmigrations directory when I deploy via Serverless framework "
63890216,"Using a key condition expression that includes conditions on the sortkey (AWS DynamoDB with Serverless Framework)","https://stackoverflow.com/questions/63890216/using-a-key-condition-expression-that-includes-conditions-on-the-sortkey-aws-dy","{aws-lambda,amazon-dynamodb,serverless-framework,dynamodb-queries}","2020-09-14 18:47:55+03","2024-05-17 04:53:54.783577+03","I want to retrieve just ONE item from a DynamoDB table todosTable with partitionKey userID and sortKey todoID Just to show you something below there is an example that correctly gets ALL the todo items for a user with userIduserId But that is not what I want I want just one item As per the documentation I will use a key condition expression that acts upon Primary keys partition andor sort key So I tried to do it this way but this is incorrect Could someone please help me get the correct query that retrieves just one item where partition key userID and sort key todoID Is the correct pattern to use a GlobalSecondaryIndex in this case Thanks"
63896939,"Serverless option as default value for option not working","https://stackoverflow.com/questions/63896939/serverless-option-as-default-value-for-option-not-working","{serverless-framework,serverless,aws-serverless,serverless-architecture}","2020-09-15 07:20:14+03","2024-05-17 04:53:55.324574+03","Hi I am trying to do the following with serverless If I am not giving an option I want it to pick another option However something is wrong as this error always appear as I call sls deploy I do not understand what is wrong as apparently it seem to pick the value correctly Able to help me out Thanks"
63897507,"A valid SSM parameter to satisfy the declaration 'ssm:MY_ENV_VAR' not found","https://stackoverflow.com/questions/63897507/a-valid-ssm-parameter-to-satisfy-the-declaration-ssmmy-env-var-not-found","{serverless-framework,serverless-offline}","2020-09-15 07:57:39+03","2024-05-17 04:53:56.378191+03","I am running Serverless Offline and have configured environment variables based on stages When I run serverless offline start It is throwing warning about A valid SSM parameter to satisfy the declaration ssmMY_ENV_VAR could not be found by default the stage is dev so why it is trying to access the SSM paramter store Any help will be appreciated Thanks"
63900484,"Domain masking with serverless automation","https://stackoverflow.com/questions/63900484/domain-masking-with-serverless-automation","{url-rewriting,web-deployment,serverless-framework}","2020-09-15 11:03:04+03","2024-05-17 04:53:57.449229+03","We are running microsites for our clients each Microsite is a sub domain of the main site All sub domains are controlled by vapor Laravel We are trying to find a way we can mask the URL so instead of being clientname our name io it could show whatever the client wants it to show We know we need to manage getting to the site as that URL would not navigate them there My question is it seems domain masking isnt working on the serverless design we have Has anyone successfully made it work If so any advise"
63064610,"Lambda@Edge limitation to be deployed to us-east-1 prevents me from deploying S3 bucket to Europe","https://stackoverflow.com/questions/63064610/lambdaedge-limitation-to-be-deployed-to-us-east-1-prevents-me-from-deploying-s3","{amazon-s3,aws-cloudformation,amazon-cloudfront,serverless-framework,aws-lambda-edge}","2020-07-23 23:30:29+03","2024-05-17 04:53:59.290562+03","Update The short version of the issue that I wanted to crossreference some values in different stacks in different regions but the documentations were so confusing to let me think it is not possible to do that but it is possible just I had to output those values as exported values in that stack and then use cf useast1anotherstack theNeededArn in the other stack The Long version if you are interested I am maintaining the infrastructure code using a Serverless framework I have CloudFront that connecting to an S3 bucket that hosted in Europe I got a client request to limit access to this bucket through the CloudFront to be limited only to the authenticated users custom auth Lambda was the best solution and I already implemented it that way but because Lambda has to be deployed to useast1 I ended up moving the S3 and the Cloudfront to the same region useast1 That is because Cloufront depends on the lambda edge and S3 depends on the CloudFront so I have to keep them in the same stack or at least the same region But I do not want to move my bucket to the US for legal stuff and I want to keep the data in Europe Also my S3 has a lambda trigger function that listens to it and writes some data to a DynamoDb hosted in Europe So The problem I had S3 in Europe and I want to keep it in Europe but due to using lambda edge and because that the cloud formation or the serverless does not support a crossregion stack reference I ended up moving this S3 to the US but that is not the requirements Here in this questions answer I specified my approach and the full code example in case you are interested How to access AWS CloudFront that connected with S3 Bucket via Bearer token of a specific user JWT Custom Auth Any Suggestions Update Steps to show the exact problem I did not want to configure lambda edge using a serverless framework but instead I used cloud formation to configure the cloud front and everything Please note that now I am using the lambda edge ARN inside my Cloudfront so they need to be in the same region and because lambda should be in useast1 so I decided to move the CloudFront to the same region and that does not really matter cause it has edge behavior by design As you may see in the role I just gave access to CloudFront to get and gave access to the lambda edge to get and put but not sure if that is correct but anyways even if we need the CloudFrontOriginAccessIdentity only to be connected to my bucket so now the bucket linked with my CloudFront which is also linked to the lambda edge so I cannot separate them to put the S3 in Europe only And by that even if I have an S3 trigger lambda function so I should put this function in the US even if this function is doing some stuff related to DynamoDb in Europe So what is the point Also even if the Cloudfront is edged but the bucket is regional so if I really need to process some data related to it that means by putting it in us I increased the latency So that is my full detailed problem Update2 I wanted to post the code as screenshots so I can highlight some lines and make it easier but for whom interested to check the code itself I already posted the full version of it in my answer to this question here How to access AWS CloudFront that connected with S3 Bucket via Bearer token of a specific user JWT Custom Auth "
63081991,"How to subscribe Lambda to an AWS Iot Jobs topic in Serverless Framework","https://stackoverflow.com/questions/63081991/how-to-subscribe-lambda-to-an-aws-iot-jobs-topic-in-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,aws-iot}","2020-07-24 21:59:08+03","2024-05-17 04:54:00.347755+03","I am using the Serverless Framework and I need to subscribe my Lambda function to an AWS Iot Jobs topic more specifically the startnext topic I already have another Lambda function subscribed to another topic of the AWS Iot tools using this piece of code in the serverless yml file This works just fine the Lambda function is triggered and I am able to process what I need but when I try to use this piece of code it simply will not work no matter what I try to do Could someone give me any sugestions of what I can do to trigger my Lambda function when new messages are published to the awsthingsjobsstartnext topic"
63107494,"Sharing Python code as a lambda layer using the Serverless framework","https://stackoverflow.com/questions/63107494/sharing-python-code-as-a-lambda-layer-using-the-serverless-framework","{python,serverless-framework}","2020-07-27 01:27:01+03","2024-05-17 04:54:01.266365+03","This is a follow up question to This Question I am trying to upload some shared Python code as a lambda layer to AWS Lambda using the serverless framework I had followed mscs solution with some modifications Step 1 Create a serverless project with the following structure Step 2 Setup my yml file Step 3 Install my requirements into the commonpython folder requirements txt Install requirements to folder pip install r requirements txt commonpython Step 1 Reference the uploaded layer as from Project 1 in my yml file Step 2 All imports now work From my handler py Function foo runs as expected My question now is that my_shared_script py is now in the same folder as all the installed Python packages there are a lot of files and folders which makes it hard to find and maintain my own modules scripts It makes sense for me to put my own scripts in a separate folder lib and install all other requirements to the python folder However if I use the above folder structure the code fails I have put this at the top of my handler py in Project 2 hoping that the script would be able to find my code in lib I am struggling to understand Python pathing folder structure in this serverless framework Hopefully some expert can share their solution thank you "
63317067,"Knative kafka version and python support","https://stackoverflow.com/questions/63317067/knative-kafka-version-and-python-support","{python,apache-kafka,serverless-framework,knative}","2020-08-08 15:22:30+03","2024-05-17 04:54:12.853471+03","I want to use Knative for kafka event trigger I found a good doc around it httpsknative devdocseventingsampleskafkasourceindex html My questions are Does it support kafka version 2 5 or higher I want to write code in python and the file that i came across is in go httpsgithub comknativeeventingcontribblobmastercmdevent_displaymain go All i want to know can i have the same in python or would i need a docker image that will use python as base image also in that case what would be the function syntax I want something like this in Knative event trigger python "
63125147,"serverless DeployCustomS31 Access point ARN region is empty","https://stackoverflow.com/questions/63125147/serverless-deploycustoms31-access-point-arn-region-is-empty","{amazon-web-services,amazon-s3,serverless-framework,serverless}","2020-07-27 23:47:24+03","2024-05-17 04:54:01.892339+03","When deploying a Stack to AWS at some point I get an error and the deployment fails and rollbacks In the Stacks Console Event pane the first error states FancyStuffCustomS31 in Logical ID field and the reason is Failed to create resource Access point ARN region is empty and status CREATE_FAILED I did not define any S3 Bucket like that so I am assuming it is created by the serverless framework So I peeped into the serverless directory and get the following snippet No wonder my Lambda Function is called FancyStuff I am guessing that at some point it is trying to create an access point to that S3 Bucket to upload the code and not specifying the region in the arn but do not really know for sure Tried deleting and recreating the stack from scratch changing names etc Currently the only plugin I am using is serverlesssam These are my versions"
63139851,"AWS HTTP Gateway: Multiple Methods for same Route excluding OPTIONS with Serverless Framework","https://stackoverflow.com/questions/63139851/aws-http-gateway-multiple-methods-for-same-route-excluding-options-with-serverl","{amazon-web-services,aws-api-gateway,serverless-framework}","2020-07-28 17:40:10+03","2024-05-17 04:54:02.744495+03","I am pretty excited about HTTP Gateways due to the drastically reduced pricing in comparison to REST Gateways but I am stuck on creating routes that do not completely blow up my serverless yml file The documentation for HTTP Gateway at Serverless describes this to define routes There is a support for but this causes issues with OPTIONS cause those will overwrite the created CORS policies so OPTIONS requests would actually get to the application which does not make any sense especially if the route is protected via an authorizer Also it is not possible to define multiple methods The only configuration I found is to define all routes separately This works fine the UI is even bundling the routes cause they are on the same prefixed path But with this I have to define all HTTP methods for all my main resources separately including the attached authorizer Is there some way to combine this"
63166496,"How can I put lambda function in a nested stack in serverless?","https://stackoverflow.com/questions/63166496/how-can-i-put-lambda-function-in-a-nested-stack-in-serverless","{amazon-web-services,aws-cloudformation,serverless-framework,serverless}","2020-07-30 05:01:30+03","2024-05-17 04:54:03.260476+03","I am using serverless to manage my AWS resources and come cross this plugin to support nested stacks httpswww serverless compluginsserverlesspluginnestedstacks I have tried that but it seems that I can only put Resources in a nested stacks I cannot put serverless lambda functions in the nested stack because lambda function uses a different syntax than cloudformation For example below is my lambda function defined in serverless yml I cannot put this definition in a nested stack I will have to convert it to cloudformation syntax AWSLambdaFunction Do I understand it correctly If I have to use cloudformation syntax to define everything there is no point to use serverless at all "
63169491,"AWS Build Project succeeds even when a command fails in buildspec.yml","https://stackoverflow.com/questions/63169491/aws-build-project-succeeds-even-when-a-command-fails-in-buildspec-yml","{amazon-web-services,serverless-framework,aws-codepipeline}","2020-07-30 08:46:25+03","2024-05-17 04:54:04.394481+03","I am using AWS CodeBuild to deploy the function to AWS lambda using serverlessframework Here is my buildspec yml The problem is even when the serverless deploy stage STAGE region AWS_DEFAULT_REGION tee deploy out command fails the build project is shown as success by AWS codebuild in the codepipeline I want the build status as failure when serverless deploy command fails "
63173358,"Why i get undefined in console?","https://stackoverflow.com/questions/63173358/why-i-get-undefined-in-console","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2020-07-30 12:39:05+03","2024-05-17 04:54:05.40901+03","I am new to aws and serverless I do not know why i get undefined in the variable called first When i execute the function the command The object is send to the serverless function And it is in the response in the event property Why when i try to get the value of event first i get undefined When i try eventfirst i need to get only the number in this case 2but i get undefined"
63192836,"I get internal server error when i try to hit api endpoint from postman","https://stackoverflow.com/questions/63192836/i-get-internal-server-error-when-i-try-to-hit-api-endpoint-from-postman","{amazon-web-services,aws-api-gateway,serverless-framework}","2020-07-31 13:30:17+03","2024-05-17 04:54:06.072235+03","I am new to aws I have this code When i try with serverless offlineor when i test the api on the aws console it works great but when i hit the endpoint after successfully deploy in postmani get internal server error message Also there are no logs in the cloud Please help My yml file"
63204150,"AWS s3 create pre signed post does not work on deploy","https://stackoverflow.com/questions/63204150/aws-s3-create-pre-signed-post-does-not-work-on-deploy","{amazon-s3,serverless-framework,pre-signed-url}","2020-08-01 10:22:12+03","2024-05-17 04:54:07.445446+03","I am creating presigned url using awssdks nodejscreatePresignedPost method Its all working via serverlessoffline plugin on my local cause my personal accesskey has all accesses But when I deploy it via serverless framework it errors out with HTTP 403 and the error in browser reads as follows The key starts with ASIA ASIAQDGRI5OSPEXMAPLE I have granted all action permission to my lambda on target bucket My Api gateway and lambdas that return the signed url are in useast1 region and the bucket is in apsouth1 region I am sure I am missing some IAM permissions but I can not figure it our Can some one help me here Here is my function that returns a promise on getting pre signed post url"
63250258,"Serverless.yml config to deploy one lambda function to a service without removing the others","https://stackoverflow.com/questions/63250258/serverless-yml-config-to-deploy-one-lambda-function-to-a-service-without-removin","{aws-lambda,serverless-framework}","2020-08-04 15:34:28+03","2024-05-17 04:54:08.033441+03","I have the following serverless yml But deploying this will purge all other functions in myservice apparently even though I use the individually true option Is it possible to deploy one lambda function without change to the other functions"
63259742,"Serverless Invalid variable reference syntax for variable ([\s\S]+?)","https://stackoverflow.com/questions/63259742/serverless-invalid-variable-reference-syntax-for-variable-s-s","{serverless-framework}","2020-08-05 06:41:04+03","2024-05-17 04:54:09.162424+03","I am getting the following error when doing a serverless deploy I think it is caused by the following line in my serverless yml in the environment block of the provider block Why is this invalid Or is the error actually elsewhere and if it is how can I see what line in what file is causing the error"
43302843,"Serverless Framework sls Conflicts with Powershell sls (Select-string)","https://stackoverflow.com/questions/43302843/serverless-framework-sls-conflicts-with-powershell-sls-select-string","{node.js,powershell,serverless-framework}","2017-04-09 03:53:53+03","2024-05-17 05:05:19.583558+03","I installed the Serverless Framework using the following NPM command When I try to run the serverless command sls in Powershell I get a strange result which mentions cmdlet Selectstring Can someone help me with this issue"
62681011,"psycopg2 does not work with Serverless framework deployment on AWS Lambda","https://stackoverflow.com/questions/62681011/psycopg2-does-not-work-with-serverless-framework-deployment-on-aws-lambda","{amazon-web-services,docker,aws-lambda,psycopg2,serverless-framework}","2020-07-01 16:11:43+03","2024-05-17 04:54:14.942992+03","I am trying to make a lambda function connect to Redshift and deploy the same via The Serverless Framework serverless yml config Dockerfile requirements txt Deployment is done via AWS Lambda gives an error And I can confirm that it is missing but when I test the same with local docker image the file is present I am still unsure on how serverless actually deploys the package I do not want to use psycopg2binary and I am still unsure about awspsycopg2 any suggestions on how to get the code to run"
62686712,"Serverless Framework - JavaScript heap out of memory","https://stackoverflow.com/questions/62686712/serverless-framework-javascript-heap-out-of-memory","{node.js,aws-lambda,nestjs,serverless-framework}","2020-07-01 23:23:42+03","2024-05-17 04:54:15.765582+03","I am facing with this issue of JavaScript heap out of memory when I deploy or ru service with serverless offiline command I am using nestjs a node framework and building the project for node 10x On my terminal I got this below I found some fixes like any clue"
62688108,"Error: Cannot find module '/bin' in lambda deployment issue with serverless framework","https://stackoverflow.com/questions/62688108/error-cannot-find-module-bin-in-lambda-deployment-issue-with-serverless-fram","{webpack,aws-lambda,serverless-framework,mysql2}","2020-07-02 02:35:26+03","2024-05-17 04:54:16.929629+03","I have encountered following error message after deployment lambda function with serverless framework integrated with webpack It was working perfectly when I deployed without webpack Please help me how to resolve that issue Thanks Here is my part of serverless yaml and webpack config js is as follow const slsw require serverlesswebpack "
62699333,"Define optional query parameters in serverless.yml","https://stackoverflow.com/questions/62699333/define-optional-query-parameters-in-serverless-yml","{node.js,aws-lambda,serverless-framework}","2020-07-02 15:01:45+03","2024-05-17 04:54:17.611112+03","I am fairly new to serverless framework sls and trying to define a function and deploy it to AWS While declaring a function in serverless yml I have defined the necessary parameters for a function along the lines of the following snippet but I am not able to define an optional query parameter in the http path of the new function Desired behavior The issue is that I am not able to declare an optional parameter in the path I wish the endpoint would work as expected even if the limit parameter in not passed in the http GET request Note I have tried path apiv1resource limit but no luck "
62714921,"How log serverless outputs to console?","https://stackoverflow.com/questions/62714921/how-log-serverless-outputs-to-console","{amazon-web-services,serverless-framework}","2020-07-03 11:55:50+03","2024-05-17 04:54:19.158633+03","Consider serverless template Is there a way to log resource like DataDeliveryRole arn into console Please note that resource name is not set "
62738487,"serverless.yml how to use more than one path parameter?","https://stackoverflow.com/questions/62738487/serverless-yml-how-to-use-more-than-one-path-parameter","{aws-api-gateway,serverless-framework}","2020-07-05 08:28:26+03","2024-05-17 04:54:19.745591+03","I would like to configure a url of this pattern team tid player pid I was trying to achieve this like that But im getting an error when trying to deploy ApiGatewayResourceAnalysisAidVar A sibling uid of this resource already has a variable path part only one is allowed When using one path param everything works When removing the request part which should validate it I still get the same error "
62771363,"Serverless.yml: Reference existing environment variable in another","https://stackoverflow.com/questions/62771363/serverless-yml-reference-existing-environment-variable-in-another","{python-3.x,environment-variables,serverless-framework,aws-serverless}","2020-07-07 08:44:46+03","2024-05-17 04:54:20.737033+03","I have a serverless yml which looks like this Here I want to reference the existing environment ACCOUNT_ID in ANOTHER_VARIABLE The ACCOUNT_ID does not work I also tried to look at the serverless documentation but I am not able to find anything related to that "
62773866,"How to use intrinsic functions of CloudFormation properly in yml","https://stackoverflow.com/questions/62773866/how-to-use-intrinsic-functions-of-cloudformation-properly-in-yml","{amazon-web-services,yaml,aws-cloudformation,serverless-framework}","2020-07-07 11:05:41+03","2024-05-17 04:54:21.686105+03","I am writing a YAML file for my serverless services I deployed and tested my REST APIs all work fine but why the YAML file always shows errors like this I followed links httpsdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreference html httpswww serverless compluginsserverlesspseudoparameters Any suggestions on how to implement it properly please share it with me "
62794558,"DynamoDB table name created with the serverless framework has a random suffix","https://stackoverflow.com/questions/62794558/dynamodb-table-name-created-with-the-serverless-framework-has-a-random-suffix","{amazon-dynamodb,aws-cloudformation,serverless-framework}","2020-07-08 12:12:51+03","2024-05-17 04:54:22.771086+03","I am using the serverless framework to create a DynamoDB table and then I want to access it from a Lambda function In the serverless yml file I have the definitions below for the environment variable and CF resources What I was expecting was a table with the name accountsapidevaccounts but what the cloudformation stack is creating for me is accountsapidevaccountsSOME_RANDOM_LETTERS_AND_NUMBERS_SUFFIX In my lambda function the environment variable DYNAMODB_ACCOUNTS_TABLE_NAME is exposed to the function without the SOME_RANDOM_LETTERS_AND_NUMBERS_SUFFIX part Is the CF stack supposed to add a random suffix How do I actually retrieve the right table name And the following CF resource"
62795107,"Ingest files from GCP Cloud Storage to AWS S3 bucket dynamically","https://stackoverflow.com/questions/62795107/ingest-files-from-gcp-cloud-storage-to-aws-s3-bucket-dynamically","{amazon-web-services,amazon-s3,google-cloud-platform,google-cloud-storage,serverless-framework}","2020-07-08 12:43:52+03","2024-05-17 04:54:23.514246+03","I am working on a pet project based on multicloud AWS and GCP which is based on serverless architecture Now there are files generated by the business logic within GCP using Cloud Functions and PubSub and they are stored in GCP Cloud storage I want to ingest these files dynamically to AWS S3 bucket from the Cloud Storage One possible way is by using the gsutil library Exporting data from Google Cloud Storage to Amazon S3 but this would require a compute instance and run the gsutil commands manually which I want to avoid "
62797958,"Combine properties in serverless.yml","https://stackoverflow.com/questions/62797958/combine-properties-in-serverless-yml","{serverless-framework}","2020-07-08 15:09:58+03","2024-05-17 04:54:24.103271+03","I have a custom section in serverless common yml which is common to all the services Some services use some additional properties in their serverless yml appart from the defined in the file mentioned before My idea would be to perform something like But this does not work Any idea about how can I achieve that behaviour Thank you"
62798979,"Aurora PostgreSQL permissions to access s3","https://stackoverflow.com/questions/62798979/aurora-postgresql-permissions-to-access-s3","{amazon-s3,amazon-rds,amazon-iam,serverless-framework,amazon-aurora}","2020-07-08 16:10:28+03","2024-05-17 04:54:25.516206+03","Im trying to give my Aurora PostgreSQL permissions to access an s3 bucket I am using the serverless framework and have the following code This should grant the DB permission to execute querys using SELECT aws_commons create_s3_ur However when I try and deploy I get the error message The featurename parameter must be provided with the current operation for the Aurora PostgreSQL engine "
62806727,"Dockerize a Flask REST API with Serverless and DynamoDB","https://stackoverflow.com/questions/62806727/dockerize-a-flask-rest-api-with-serverless-and-dynamodb","{docker,rest,flask,amazon-dynamodb,serverless-framework}","2020-07-09 03:02:12+03","2024-05-17 04:54:25.73006+03","So what I am trying to do is to dockerize a Flask REST API that uses Serverless and DynamoDB I followed this tutorial but it does not mention about dockerizing the whole thing I have also tried to do some research and came up with very minimal resources like this for example Is this even possible If so some links to guidesadvice would be helpful Thanks "
62814461,"AWS Step Functions: new startExecution.sync:2 <role> not authorized to create managed-rule","https://stackoverflow.com/questions/62814461/aws-step-functions-new-startexecution-sync2-role-not-authorized-to-create-ma","{amazon-web-services,serverless-framework,aws-step-functions}","2020-07-09 12:07:51+03","2024-05-17 04:54:26.218123+03","I want to try the new AWS Step Functions functionality to start a nested Step Function via startExecution sync2 which should do exactly the same as startExecution sync but return the result as jsonobject and not as serialized string When I want to deploy the Step Functions with CloudFormation I get the Error is not authorized to create managedrule Service AWSStepFunctions Status Code 400 Error Code AccessDeniedException Request ID Proxy null This Error does only occur with the new startExecution sync2 startExecution sync works perfectly My InlineIAMStatement is The Code for the Task to Start the other Function is Does anyone have an idea why this is not working I am using the serverless framework for deployment but I think it should not be a difference since it only creates CloudFormation stacks "
62820073,"Serverless Framework / Python for Lambda - packaging up local shared libraries","https://stackoverflow.com/questions/62820073/serverless-framework-python-for-lambda-packaging-up-local-shared-libraries","{python,aws-lambda,serverless-framework}","2020-07-09 17:07:00+03","2024-05-17 04:54:27.053094+03","Python package novice here I am working in Python and using the serverless framework for stack config and deployment I have a file structure like this handler py needs to reference mylib py so it includes it My virtual env is set up to add the project root to PYTHONPATH so this works on my local dev but libsmylib py does not get included when I package it up for Lambda How do I tell serverless to include the libs file in the package I have tried including a relative path in my requirements txt file from both the servicesservice1 path and from the root path both have resulted in an error like this I have also tried including libs without a path and that just installs the pypi package "
62825314,"Policy malformed when deploying serverless application","https://stackoverflow.com/questions/62825314/policy-malformed-when-deploying-serverless-application","{amazon-web-services,aws-lambda,serverless-framework}","2020-07-09 23:44:34+03","2024-05-17 04:54:28.120243+03","I have a lambda function created using the serverless framework that is running into an error when deploying it to a dev environment Issue seems to be IAM related and is not a perissions issue so much as AWS says it is a malformed policy I have included the error message seen in the cloudformation console as well as the entire serverless yml file Was hoping some could help me fix it I had it working on another account though have made changes like memory limit and specifying the resource for iam policy Should add to that I have confirmed the sqs queue referenced in the iam part does in fact exist and I have tried the exact arn without the optaccID part Error message Serverless yaml file Cloudformation in S3"
62221815,"Serverless framework: Serverless Error Function not found:","https://stackoverflow.com/questions/62221815/serverless-framework-serverless-error-function-not-found","{node.js,serverless-framework}","2020-06-05 18:17:15+03","2024-05-17 04:54:29.775216+03","I am getting started with nodejs and the serverless framwork My handler js contains My serverless yml contains my index js When I run The error is in the title What am I doing wrong here"
62223064,"How to change APIGatewayRestApiStage StageName in Serverless framework?","https://stackoverflow.com/questions/62223064/how-to-change-apigatewayrestapistage-stagename-in-serverless-framework","{aws-api-gateway,serverless-framework,serverless}","2020-06-05 19:43:22+03","2024-05-17 04:54:30.75713+03","The stageName of my deployed API Gateway is being set by This is frustrating because I have four environments dev staging qa production each with a separate RestAPI per environment which is fine but I would like my stageName to be default as naming the stage by the environment is semantically incorrect How can I achieve this Ideally I would like to do so without using a plugin but open to answers that involve plugins "
62225725,"Context and module.exports in serverless framework functions","https://stackoverflow.com/questions/62225725/context-and-module-exports-in-serverless-framework-functions","{node.js,aws-lambda,serverless-framework}","2020-06-06 00:00:19+03","2024-05-17 04:54:31.672807+03","I am getting started with nodejs and the serverless framwork in some of the examples i have seen and even used the following code from httpswww serverless comframeworkdocsprovidersawsguidefunctions 2 questions 1 does module exports have anything to do with the common node method of making functions available to other nodules 2 What is the context they are referring to here based on httpryanmorr comunderstandingscopeandcontextinjavascript I see Does this apply here"
62227576,"How does internal invocation of AWS lambda affect costing?","https://stackoverflow.com/questions/62227576/how-does-internal-invocation-of-aws-lambda-affect-costing","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless,serverless-architecture}","2020-06-06 05:07:43+03","2024-05-17 04:54:32.75811+03","Working on product which is served as PaaS backend of product is completely developed for serverless using NodeJS Serverless Framework and deployed on AWS Lambda When I started working on it I found there are lots of duplicate code LambdaFunctionOne and LambdaFunctionTwo both have same function performing same operation and this is the problem if we have to change the logic of function then we will have to change the function in all lambda function Wanted to remove the duplicated so if LambdaFunctionTwo required the some function which is LambdaFunctionOne then instead of replicating should invoke LambdaFunctionOne and call its function Suppose created a lambda function for utils and used that utils in every function of Lambda by invoking lambda instead of replicating "
62233176,"AWS Api-Gateway error 500 on postman / success on api gateway test","https://stackoverflow.com/questions/62233176/aws-api-gateway-error-500-on-postman-success-on-api-gateway-test","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,aws-serverless}","2020-06-06 14:33:17+03","2024-05-17 04:54:33.684164+03","I am facing a strange issue with a lambda intergration in api gateway tried proxy as well same issue lambda first hits AppSync and returns either JSON content on error or a XLXS file on success while testing on API gateway test console it brings back status 200 and the binary results as expected but when i try it externally through postman it fails More info Intergration type Lambda Success response Error Response Serverless apigateway setup"
62233450,"Serverless framework: Chrome ""Error: spawn ETXTBSY"",","https://stackoverflow.com/questions/62233450/serverless-framework-chrome-error-spawn-etxtbsy","{node.js,google-chrome,aws-lambda,puppeteer,serverless-framework}","2020-06-06 14:54:08+03","2024-05-17 04:54:34.640506+03","I am getting started trying to write a lambda function with node and puppeteer I am using the serverless framework I have been trying to follow directions at httpsgithub comalixaxelchromeawslambda My function is working as expected locally with However when I run I get How can I get this working My handler js contains my index js contains package json dependencies chromeawslambda ^3 1 1 puppeteercore ^3 1 0 serverless yml"
62240072,"Serverless WebSocket route responses","https://stackoverflow.com/questions/62240072/serverless-websocket-route-responses","{websocket,aws-lambda,aws-api-gateway,serverless-framework}","2020-06-07 02:03:20+03","2024-05-17 04:54:36.187188+03","I am using serverless to create a WebSocket service for which I am able to successfully trigger my WebSocket routes locally using serverlessoffline and for the deployed service The issue I am having now is responding to those WS events I am able to use AWS ApiGatewayManagementApi postToConnection to respond to my local WebSocket events though I cannot seem to get the return value of my handler to actually send a WebSocket event in response as these serverlessoffline docs and these AWS docs suggest The serverless yml route The handler Invoking the function in my browser JavaScript The result is that my serverlessoffline logs or CloudWatch in the case of the deployed project will create an event with the log successfully but my client will receive no events in response Does anyone know how I can do this with the return value of the handler EDIT The problem seems to exist within my serverlessoffline setup I will attempt to get it working locally and will create an issue necessary "
62256716,"serverless offline start working but internal server error shows up when deployed","https://stackoverflow.com/questions/62256716/serverless-offline-start-working-but-internal-server-error-shows-up-when-deploye","{node.js,amazon-web-services,express,aws-lambda,serverless-framework}","2020-06-08 07:05:35+03","2024-05-17 04:54:36.776384+03","I created a MERN stack app but when I wrapped in in server less docs i was successfully able to use my REST APIs when started via server less offline start but as soon as i deploy them I get error on my cloud watch log insight I have been stuck on this problem for quite a long time and have tried every solution available one of them was using bcryptjs rather than bcrypt as it was a previous error Can anybody suggest a solution"
62267558,"Chrome in lambda layers not found by lambda function","https://stackoverflow.com/questions/62267558/chrome-in-lambda-layers-not-found-by-lambda-function","{node.js,aws-lambda,serverless-framework}","2020-06-08 17:10:09+03","2024-05-17 04:54:38.036153+03","I am getting started trying to write a lambda function with node and puppeteer I am using the serverless framework I have been trying to follow directions at httpsgithub comalixaxelchromeawslambda My function is working as expected locally with working as expected However when I run I get How can I get this working My handler js contains my index js contains package json dependencies chromeawslambda ^3 1 1 puppeteercore ^3 1 0 serverless yml"
62294619,"Serverless Computing versus Function As A Service (FaaS)","https://stackoverflow.com/questions/62294619/serverless-computing-versus-function-as-a-service-faas","{cloud,serverless,serverless-framework,faas}","2020-06-10 01:53:46+03","2024-05-17 04:54:38.453124+03","From Azure Docs Serverless computing is a cloudhosted execution environment that runs your code but completely abstracts the underlying hosting environment You create an instance of the service and you add your code no infrastructure configuration or maintenance is required or even allowed They seem to give serverless computing its own category which is different than PaaS Caas or FaaS My issue is that I do not quiet understand the difference between it and FaaS Where does Serverless computing stand from IaaS PaaS CaaS SaaS FaaS "
62304631,"Print to console Cloudfront Domain","https://stackoverflow.com/questions/62304631/print-to-console-cloudfront-domain","{aws-cloudformation,serverless-framework,serverless}","2020-06-10 13:20:00+03","2024-05-17 04:54:39.380916+03","Trying to print to console the Cloudfront Domain Name but the output just does not seem to be stored against the service Outputs look like this"
62307297,"Serverless framework for APIGateway deployment with HTTP endpoint invocation?","https://stackoverflow.com/questions/62307297/serverless-framework-for-apigateway-deployment-with-http-endpoint-invocation","{amazon-web-services,deployment,automation,aws-api-gateway,serverless-framework}","2020-06-10 15:28:02+03","2024-05-17 04:54:40.418684+03","I am trying to acheive APIGateway deployment using serverless framework having an http endpoint invocation How to achieve this Thanks"
62321856,"Deploying a next.js application, via the serverless framework, within an azure devops pipeline(YAML)","https://stackoverflow.com/questions/62321856/deploying-a-next-js-application-via-the-serverless-framework-within-an-azure-d","{amazon-web-services,azure-devops,next.js,serverless-framework}","2020-06-11 10:05:02+03","2024-05-17 04:54:41.534092+03","I have created a next js application and have installed the serverless framework so that I can deploy the application I can do this via cli with either a env file containing the AWS credentials or with no env file but with my AWS credentials sitting in the aws folder locally However I cannot have the AWS credentials sitting in the root folder permanently as this poses security risks What I need to achieve now is for the application to be deployed as part of an Azure devops pipeline YAML The challenge I am facing is passing the AWS credentials to the serverless deployment without making it part of version control This is the current state of my yaml pipeline "
62323975,"!GetAtt not working with !Sub in cloudformation","https://stackoverflow.com/questions/62323975/getatt-not-working-with-sub-in-cloudformation","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-06-11 12:03:49+03","2024-05-17 04:54:42.665859+03","I am trying to create some resources using Cloudformation with serverless framework In which I need to substitute resource name from another resource Tried to use Sub but still I could not get Arn of another resource created Tried all the approaches in this stackoverflow question How to use Sub and GetAtt functions at the same time in CloudFormation template to no avail I appreciate any help "
62329048,"How to send an array of variables from an env.yml to serverless.yml?","https://stackoverflow.com/questions/62329048/how-to-send-an-array-of-variables-from-an-env-yml-to-serverless-yml","{arrays,yaml,serverless-framework}","2020-06-11 16:28:59+03","2024-05-17 04:54:43.468497+03","I have an env yml file where I store some variables that should be be sent to the serverless yml I want to send this array of variables from the env yml to the serverless yml This is what I have in the env yml This is what I have in the serverless yml And this is what I was expecting to get inside serverless yml when I sls print stage dev It is not working What am I doing wrong"
62335700,"Issues with python and the serverless framework","https://stackoverflow.com/questions/62335700/issues-with-python-and-the-serverless-framework","{python-3.x,aws-lambda,serverless-framework}","2020-06-12 00:34:34+03","2024-05-17 04:54:44.340123+03","I am trying to understand how to setup multiple python lambdas and a step function within one single serverless yml with each python lambda having its own dependencies All of my lambda functions collaborate in the context of a step function for a shared common goal With this rationale it makes sense to me to put all of the code under one serverless yml file As part of my MANY hours of trial and error and reading I found about the serverlesspythonrequirements plugin for The Serverless Framework that helps in packaging python functions that rely on OSspecific python libraries and also allow the separation of multiple requirements txt in case different lambdas require different dependencies So at this point my problem is that the generated package is not including the dependencies that I provide in the requirements txt whenever each function has its own requirements txt These are my artifacts finally my 2 python lambda functions are in separate folders and one of them requires specific dependencies Note I did try using the modulehandler keywords in the serverless xml as recommended on this link ttpsgithub comUnitedIncomeserverlesspythonrequirements without any success Something that I noted is that if I use the modulehandler as follows Then when I try running the function locally using serverless invoke local f function1 log I get an error saying Also if anyone has an example of multiple lambdas with different requirements txt that works I would be very gratelful ideally something just different than the typical hello world examples the hello worlds all work very well for me but in scenarios like this one where I would like to setup common libraries have different dependencies etc and use one common serverless yml things seem to fall apart Again my opinion is that these lambdas will operate together under one step function umbrella so there is strong cohesion here and I think that their build and deployment should happen under one common serverless service "
61692364,"Anyone having problem deploying a lambda function with serverless?","https://stackoverflow.com/questions/61692364/anyone-having-problem-deploying-a-lambda-function-with-serverless","{aws-lambda,serverless-framework}","2020-05-09 05:45:40+03","2024-05-17 04:54:46.219043+03","I am getting this error when trying to deploy a simple function "
61712238,"Serverless with Localstack not using S3 from localhost","https://stackoverflow.com/questions/61712238/serverless-with-localstack-not-using-s3-from-localhost","{aws-lambda,serverless-framework,serverless,localstack}","2020-05-10 12:47:27+03","2024-05-17 04:54:47.259653+03","I am using serverless in conjunction with localstack and have some troubles getting it working There are several smells of which this one looks most suspicious to me I would expect serverless to request my local S3 rather than the real AWS Whe I replace httpss3 amazonaws com with httplocalhost4572 I successfully can see the configuration Prior to this output I receive additional warningserrors like I am starting localstack via DEFAULT_REGIONeucentral1 SERVICESs3cloudformationsnslambdastsapigateway localstack start and my app with yarntarget startlocal SLS_DEBUG2 sls deploy s local profile local This is my localstack configuration in serverless yml Versions Serverless console output"
61717959,"Does it matter, from cold-start perspective, whether we write handler in the same file or in multiple files for AWS Lambda?","https://stackoverflow.com/questions/61717959/does-it-matter-from-cold-start-perspective-whether-we-write-handler-in-the-sam","{aws-lambda,serverless-framework,aws-serverless}","2020-05-10 19:56:39+03","2024-05-17 04:54:48.346026+03","I am writing my lambda handlers using serverless com framework Does the 2nd way multiple file handler functions cause more cold start than the first one For example at 110000am my app calls GET pets and at 110030am my app calls POST store If both functions are packaged into the same lambda package then 2nd call will not cause cold start however if they are packaged into different lambda package then 2nd call will be a cold start Thanks for sharing One way to write it is the following single file handlers way And the other way to organize it is the following multiple file handlers way "
61717991,"XGBoost Library (libxgboost.so) could not be loaded","https://stackoverflow.com/questions/61717991/xgboost-library-libxgboost-so-could-not-be-loaded","{python,docker,aws-lambda,serverless-framework,xgboost}","2020-05-10 20:00:23+03","2024-05-17 04:54:49.260075+03","In a serverless project I want to import XGBoost into a lambda written on Python But when I am trying to invoke the lambda I see this error on CloudWatch [ERROR] XGBoostError XGBoost Library libxgboost so could not be loaded Likely causes OpenMP runtime is not installed vcomp140 dll or libgomp1 dll for Windows libgomp so for UNIXlike OSes You are running 32bit Python on a 64bit OS Error message s [libgomp so 1 cannot open shared object file No such file or directory] I am running sls deploy on macOS so I have added dockerizePip true to my serverless yml I tried to fix missing dependency by using custom Dockerfile I also must specify library path in dockerExtraFiles but I have no idea where libgomp so should be located on Linux So I stuck on this point serverless yml package json requirements txt"
61737981,"AWS DotNetCore Lambda - Multiple Project in one solution","https://stackoverflow.com/questions/61737981/aws-dotnetcore-lambda-multiple-project-in-one-solution","{.net,amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2020-05-11 19:44:13+03","2024-05-17 04:54:50.189763+03","I am trying to publish a net core 3 web api project using a serverless template To publish the Lambda I am using Code Pipeline to call AWS CloudFormation Package on the serverless template to get the code into S3 so it can be published as a Lambda The visual studio solution is split into two projects one DotNetCore Lambda function and a supporting net standard class library which is referenced by the main project When the package step is run only the code for the first project is zipped into S3 and not the dependant class library meaning the lambda fails to run It is not clear to me how to tell the serverless template it must include the code in both projects"
61826215,"AWS SAM required query string parameters","https://stackoverflow.com/questions/61826215/aws-sam-required-query-string-parameters","{amazon-web-services,serverless-framework,serverless,aws-sam,sam}","2020-05-15 18:41:22+03","2024-05-17 04:54:59.427733+03","I am having trouble on specifying requred query string params within the template yml file of a SAM project So far I had no luck on finding a such method and only found that we can access the query string params within a lambda functoin via the event queryStringParameters header So should I check if a parameter is required or not at the lambda layer Or is there a way to do this at the API layer itself Because I know that in serverless framework we can specify if a query string param is required or not as below"
54996261,"Swagger defined API can not be executed locally on Serverless framework","https://stackoverflow.com/questions/54996261/swagger-defined-api-can-not-be-executed-locally-on-serverless-framework","{serverless-framework,serverless}","2019-03-05 05:54:38+02","2024-05-17 04:58:09.634231+03","When api specification of serverless yml is described in swagger format in resources instead of functions API can not be executed locally serverless yml is below The result of sls offline does not have routes for test API The result of sls offline have routes for test API I want to run the API locally by describing specifications in swagger format in resources Is there a way to achieve this"
61747619,"serverless - How to dynamically add resources generated from a javascript file and merge them with other resources?","https://stackoverflow.com/questions/61747619/serverless-how-to-dynamically-add-resources-generated-from-a-javascript-file-a","{javascript,amazon-web-services,yaml,aws-cloudformation,serverless-framework}","2020-05-12 08:56:35+03","2024-05-17 04:54:51.216887+03","I want to create a serverless file that deploys Cognito resources to AWS I have a config yml file that holds all the scopes that should be created in the Cognito Resource Server config yml What I want to accomplish is to dynamically generate one Cognito App Client for each scope we register as well as adding these scopes to a Cognito Resource Server in my case the Cognito User Pool and Domain Name are already created To do that I tried to make a javascript file that will load the config yml file and generate two variables slstemplate js Now this looks like it returns exactly what I wanted I have tested it and it works great My problem is rather in the implementation on the serverless yml file and how to combine a fixed Resources and a dynamically generated one serverless yml This throws an error as the syntax is not correct However when I try to deploy the resources individually one time just the cognitoResourceServer resource the other time the generated variable from the javascript file everything works fine The problem really is on how I should combine or merge these two resources I have been trying a lot of different combinations to try to make it work but it always give me an invalid template So I was wondering if what I try to accomplish is even possible in serverless and if so how can I change my final serverless yml file to make it work Thanks a lot "
61750445,"Lambda and modifySpotFleetRequest","https://stackoverflow.com/questions/61750445/lambda-and-modifyspotfleetrequest","{amazon-web-services,lambda,aws-lambda,serverless-framework,serverless}","2020-05-12 11:22:11+03","2024-05-17 04:54:52.672968+03","I have a lambda function which I want to modify the capacity of a spotFeel Request Whenever I run the function in aws it does not seem to do anything no errors happen The console logs inside modifySpotFleetRequest do not seem to work If I move the code into a file I can run locally everything seems to work as expected My lambda role has the correct permissions from what I can see Any ideas"
61754003,"Is it possible to generate expressJS app from serverless.yml?","https://stackoverflow.com/questions/61754003/is-it-possible-to-generate-expressjs-app-from-serverless-yml","{node.js,amazon-web-services,express,aws-lambda,serverless-framework}","2020-05-12 14:13:27+03","2024-05-17 04:54:53.40178+03","I have got aws lambda app discribed by serverless yml comfig file I need to start my application localy Is there any aws mock for node to run aws lamdas localy"
61755763,"Initializing an array from serverless.yaml and calling it from the handler","https://stackoverflow.com/questions/61755763/initializing-an-array-from-serverless-yaml-and-calling-it-from-the-handler","{serverless-framework}","2020-05-12 15:35:26+03","2024-05-17 04:54:53.820029+03","I have an array in my handler that looks like this I want to be able to set them in serverless yaml Is there an elegant way to do this"
61762127,"Sequelize - Adding a limit to a query with an include, fails to properly limit retrievals","https://stackoverflow.com/questions/61762127/sequelize-adding-a-limit-to-a-query-with-an-include-fails-to-properly-limit-r","{mysql,node.js,sequelize.js,serverless-framework}","2020-05-12 21:17:56+03","2024-05-17 04:54:54.956957+03","Adding a limit to a Sequelize Query with a SubQuery fails to limit retrievals Multiple online resources referencing this error and no solutions Is this a Sequelize error or user error I expected 10 records based on the limit currently set to 10 retrieved from the AssociationTable since I have at least 15 records in the database that match this query Returns 6 in my case instead of 10 with the limit set to 10 Instead of pulling the first 10 matches If I remove the limit it works as intended even with the includes If I remove the include it works as intended even with the limit If I copypaste the SQL Query generated by Sequelize and insert it directly into Workbench it retrieves the proper amount of rows It seems the issue is the limit combined with the include cause the query to retrieve only the records that match within the first 10 searched in the DB Other references to the same issue without a proper solution presented httpsgithub comsequelizesequelizeissues7344 httpsgithub comsequelizesequelizeissues7585 Sequelize limit include association I am well aware that this exact same issue has been brought up in multiple other threads and platforms as I have linked a few of them above however none of them have a direct answer and 1 of them marked an irrelevant point as the answer which did not solve the intended issue I am hoping we can get an answer to this or a realistic workaround beyond hard coding the SQL Query last resort It would be unthinkable for Sequelize not to be able to handle a limit with an include in the same query so there must be something missing user error on my side I have searched multiple times and certainly started with Sequelize documentation of which does not reference this issue or a similar example or any problems that may arise with combining a limit and include Many thanks for any contributions made to help solve this issue Hopefully some Sequelize Engineer is out there able to help answer this "
61781626,"Severless Error: The CloudFormation template is invalid: Template error: instance of Fn::GetAtt references undefined resource name-of-role","https://stackoverflow.com/questions/61781626/severless-error-the-cloudformation-template-is-invalid-template-error-instanc","{yaml,amazon-iam,serverless-framework,serverless,aws-serverless}","2020-05-13 17:58:36+03","2024-05-17 04:54:56.054953+03","I am trying to deploy a service to AWS using serverless framework and keep getting the following error Error The CloudFormation template is invalid Template error instance of FnGetAtt references undefined resource devexample Here are the relevant parts of my serverless yml file Any insights as to what is causing this error would be great The resources format for the custom IAM Role was created using the template here httpswww serverless comframeworkdocsprovidersawsguideiam"
61788276,"Using variables in Serverless resource name","https://stackoverflow.com/questions/61788276/using-variables-in-serverless-resource-name","{serverless-framework}","2020-05-14 02:28:59+03","2024-05-17 04:54:56.889752+03","In my serverless yml I have I want to parametrise the publicfunction line but I am not sure how to do this I know I can add a name attribute to the function and use the syntax documented at httpswww serverless comframeworkdocsprovidersawsguidevariables but this only half solves my problem as publicfunction is used by Serverless as a basis for the names of other resources which I also want to have parametrised names Is there some way of using variables in the resource name"
61801520,"Serverless Framework - Create a Lambda and S3 and upload a file in S3. Then, extract to DynamoDB with Lambda","https://stackoverflow.com/questions/61801520/serverless-framework-create-a-lambda-and-s3-and-upload-a-file-in-s3-then-ext","{amazon-s3,aws-lambda,serverless-framework}","2020-05-14 15:40:57+03","2024-05-17 04:54:57.617897+03","It is my first time using serverless framework and my mission is to create a lambda s3 and dynamodb with serverless and then invoke lambda to transfer from s3 to dynamo I am trying to get a name generated by serverless to my S3 to use it in my Lambda but I had no luck with that This is how my serveless yml looks like and here is the part where it creates s3 bucket and this is the error I am currently getting"
61806437,"Node express server not rendering static content using aws lambda for angular app","https://stackoverflow.com/questions/61806437/node-express-server-not-rendering-static-content-using-aws-lambda-for-angular-ap","{node.js,angular,express,aws-lambda,serverless-framework}","2020-05-14 20:03:02+03","2024-05-17 04:54:58.326542+03","I am newly trying to deploy angular application on AWS lambda but getting exception 403 for my static content I am using express js to configure server Please visit and inspect this [AWS lambda URL] httpswww mypleaks com where i am facing this issue this is the server ts file and here lambda js and here serverless yml Thanks in advance "
61838910,"How a serverless function be faster than a normal endpoint called to a server?","https://stackoverflow.com/questions/61838910/how-a-serverless-function-be-faster-than-a-normal-endpoint-called-to-a-server","{amazon-web-services,google-cloud-platform,google-cloud-firestore,serverless-framework}","2020-05-16 15:08:47+03","2024-05-17 04:55:00.531261+03","As per my limited knowledge A serverless function Ex Firebase Cloud Function execute the whole code per invocation It might include loading dependencies 3rd party modules setting up database connections and tearing them down etc that take a lot of time In a traditional server all the dependencies are loaded database connections are cached and reused Therefore how does a serverless function work faster than a typical server call"
61050997,"File uploaded successfully to s3 using serverless api but it doesn't open(corrupted)","https://stackoverflow.com/questions/61050997/file-uploaded-successfully-to-s3-using-serverless-api-but-it-doesnt-opencorrup","{amazon-web-services,amazon-s3,aws-lambda,graphql,serverless-framework}","2020-04-05 23:48:54+03","2024-05-17 04:55:02.337753+03","I have the following ts code that submit a file came from GraphQL API to my AWS S3 bucket it works perfectly when I run the project using nodejs http lib but when I run it using sls offline start or from aws lambda function it uploads the file but it does not open like a damaged file except text files the code data object looks like this I have tried converting the createReadStream to buffer and use s3 putObject function instead but still not working Added the following configrations to allow binary files in serverless yml but still the same problem"
61071164,"lambda function outputted an error ""e is not a function""","https://stackoverflow.com/questions/61071164/lambda-function-outputted-an-error-e-is-not-a-function","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2020-04-07 00:53:17+03","2024-05-17 04:55:03.570674+03","created two lambda functions by serverlessframework first function recordsongvote writes DynamoDB it works fine second function getvotecounts reads all records from DynamoDB but it continually return error function getvotecounts I have tried to comment all line in this file but I still got same error does anybody have idea"
61081919,"How to properly deploy Lambda layers with Serverless framework","https://stackoverflow.com/questions/61081919/how-to-properly-deploy-lambda-layers-with-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-lambda-layers}","2020-04-07 14:06:59+03","2024-05-17 04:55:04.174864+03","I am trying to configure and deploy some layers in AWS using the Serverless framework The structure of the directory where the files for the layers are is this My serverless yml file looks like this I run sls deploy and I can see that the layer has been deployed but when I try accessing functions from the files in the layer in my Lambda like this const index require optnodejsindex My Lambda crashes and complains that the index module does not exist When I zip the layer contents and upload them manually to AWS everything works fine Things that I have tried Moving serverless yml inside the nodejs directory and deploying from there but this was giving me the following error No file matches include exclude patterns"
61088533,"Serverless offline - Migration on local dynamoDb is not working","https://stackoverflow.com/questions/61088533/serverless-offline-migration-on-local-dynamodb-is-not-working","{node.js,amazon-dynamodb,serverless-framework,aws-amplify,amazon-dynamodb-local}","2020-04-07 20:06:05+03","2024-05-17 04:55:05.320657+03","I am working in a Serverless project and I am having issues to run locally my application with dynamodb It is not creating a data table thus not executing correctly the seed What is wrong with my configurations start command sls offline start stage dev error message Serverless file dynamodbhandler file seed file v0 json package json"
61120978,"How to define multiple paths for one handler in serverless?","https://stackoverflow.com/questions/61120978/how-to-define-multiple-paths-for-one-handler-in-serverless","{amazon-web-services,serverless-framework,serverless}","2020-04-09 12:17:18+03","2024-05-17 04:55:06.404834+03","I have been trying and searched online but was not able to find a response Is it possible to achieve the following using Serverless Framework I want to use the get handler that has the code to the following definition for both getting one item and getting all the items So So far in the get handler I check event pathParameters event pathParameters itemId null if the specific item exists and call some getItem itemdId function and if it does not exits I call a getAll function If I pass the item id in the path it works but when I make a request for api example comitems I get the following error not a valid keyvalue pair missing equalsign in Authorization header This means something is wrong in my path and I have to pass the item id to the path parameters My question is Is there a way I can use multiple paths in the http area or what would be a recommended way to solve this issue just create two separate handlers "
61122339,"How to create AWS StateMachine Activity via serverless","https://stackoverflow.com/questions/61122339/how-to-create-aws-statemachine-activity-via-serverless","{amazon-web-services,yaml,serverless-framework,serverless,aws-step-functions}","2020-04-09 13:31:21+03","2024-05-17 04:55:07.567884+03","I am trying to deploy Step Function but I see no ways to define activity in serverless config AWS docs httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcestepfunctionsactivity html saying that activity should be defined that way but every time I do sls deploy I cannot see new activity in step function console Is it possible at all to create activity via serverless or I have to run scriptcreate it manually"
61174428,"How do you receive an event from AWS event bridge within a dotnet core lambda?","https://stackoverflow.com/questions/61174428/how-do-you-receive-an-event-from-aws-event-bridge-within-a-dotnet-core-lambda","{amazon-web-services,.net-core,serverless-framework}","2020-04-12 16:10:18+03","2024-05-17 04:55:09.27179+03","I am unable to find an example of how to receive an event from AWS event bridge using dotnet core 3 1 preferably Thanks"
61180556,"Serverless framework lambda function access denied to S3 [closed]","https://stackoverflow.com/questions/61180556/serverless-framework-lambda-function-access-denied-to-s3","{amazon-s3,aws-lambda,serverless-framework,serverless}","2020-04-13 02:00:05+03","2024-05-17 04:55:09.566617+03","This question was caused by a typo or a problem that can no longer be reproduced While similar questions may be ontopic here this one was resolved in a way less likely to help future readers Closed 4 months ago Anyone have any ideas why I am getting Access Denied when trying to put object into S3 inside a lambda function I have the serverless AWS user with AdministorAccess and allow access to s3 resource inside serverless yml Edit here are the files serverless yml handler js"
61193347,"What is a Lambda Group in serverless?","https://stackoverflow.com/questions/61193347/what-is-a-lambda-group-in-serverless","{amazon-web-services,serverless-framework,split-stacks}","2020-04-13 17:32:53+03","2024-05-17 04:55:10.252147+03","I am looking into the serverlesspluginsplitstacks plugin of the serverless framework since I have hit the CloudFormation limit of 200 resources In the Migration Strategies section of its Github page it says that I have three options The first two I kinda get what they mean but I am not 100 sure My question here is about the last option What is a lambda group And how can I group my lambda functions Is it something done manually or they are grouped automatically"
61206124,"AWS Lambda timeouts when requesting internet resource","https://stackoverflow.com/questions/61206124/aws-lambda-timeouts-when-requesting-internet-resource","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2020-04-14 10:59:16+03","2024-05-17 04:55:11.92837+03","Im doing a small app using serverless Im simply writing some webscraping in an aws lambda in order to retrieve some data with an API Gateway The problem is my lambda returns a timeout changed the timeout to 30s just to be sure and I have no clue how to debug this in the context of serverless Here is my lambda I notice two things With all this I suppose there is something that makes httpsstats nba com unavailable but I dont know what Also since it can be a problem I have no VPC configuration on my lambda The real question here is simply how would you work to debug such a behavior Thank you for your time "
61209464,"Package serverless python service with individually packaged functions but shared code","https://stackoverflow.com/questions/61209464/package-serverless-python-service-with-individually-packaged-functions-but-share","{python,serverless-framework,serverless,aws-serverless}","2020-04-14 13:57:25+03","2024-05-17 04:55:12.405734+03","Files from the utils folder are not included in the package when individually packaging with serverlesspythonrequirements plugin In my Serverless com AWS Python project I have the following folder structure The relevant section of my serverless yml looks as follows I would not include everything that is in the utils folder with each individually packaged function there are more than one and they share some code Unfortunately when I use the serverlesspythonrequirements it appears that it will not let me do that It only includes whatever is in the module directory I would basically like to add additional modules though Any ideas Am I not seeing some obvious way to include utils adding at the function level unfortunately does not seem to work Thx"
61245783,"Integrate unit testing for appsync mapping templates in serverless framework","https://stackoverflow.com/questions/61245783/integrate-unit-testing-for-appsync-mapping-templates-in-serverless-framework","{unit-testing,graphql,serverless-framework,aws-appsync}","2020-04-16 08:25:17+03","2024-05-17 04:55:13.544761+03","Is there a method to create unit tests to test the queries and mutations of AWS AppSync before deploying it using serverless framework I have created appsync api and data source is relational database but now i want to integrate test case for all queries and mutations which are in vtx file format but not getting relevant information "
61265620,"REST API openapi spec AWS API Gateway integration with the serverless.com framework","https://stackoverflow.com/questions/61265620/rest-api-openapi-spec-aws-api-gateway-integration-with-the-serverless-com-framew","{aws-cloudformation,serverless-framework,openapi}","2020-04-17 06:48:27+03","2024-05-17 04:55:14.471557+03","I am trialing the serverless com with AWS as the provider I would like to do a simple hello world app with API Gateway and Lambda where I publish the API from an openapi spec I have seen in this forum post that I need to declare the spec as a resource in the serverless yml file but when doing so I get the following error when doing sls deploy I think I have mostly correct except that in the openapi spec file I do not know how to correctly refer to the URI for the API I am creating Is that the reason I am getting the error I am trying the simplest example I can think of and the openapi spec"
61280210,"How to deploy a serverless project bigger than one CloudFormation stack while lambda functions are having aliases","https://stackoverflow.com/questions/61280210/how-to-deploy-a-serverless-project-bigger-than-one-cloudformation-stack-while-la","{amazon-web-services,serverless-framework}","2020-04-17 20:33:59+03","2024-05-17 04:55:15.431552+03","I am trying to deploy a serverless yaml file that does not fit into a single CloudFormation stack Searching online it seems there are plugins for that So far I have tested serverlesspluginsplitstacks It works but I managed to deploy my project which includes more than 200 CloudFormation resources I could not do this without the aforementioned plugin It is just that I need to use the serverlessawsalias plugin as well Previously without the serverlesspluginsplitstacks plugin I was deploying my project and the serverlessawsalias plugin was creating the aliases for me without any issues But now after adding serverlesspluginsplitstacks plugin the lambda function are created has with no aliases I looked into the CloudFormation stack list and I can see the stack for the alias but still not alias is actually created for the lambda I was wondering if anyone has actually managed to deploy a serverless function with more than one stack while using the serverlessawsalias plugin [UPDATE] Heres a simple test case If you deploy this serverless yml file like this The lambda functions created will not have any aliases as they should And these are the version of the packages I use"
61288412,"How to improve the speed of deployment for a python based serverless framework project using Gitlab CI","https://stackoverflow.com/questions/61288412/how-to-improve-the-speed-of-deployment-for-a-python-based-serverless-framework-p","{python,docker,gitlab,gitlab-ci,serverless-framework}","2020-04-18 11:34:27+03","2024-05-17 04:55:16.312609+03","I am trying to integrate my serverless project with an existing Git repository with a CI setup The existing gitlabci yml requires a docker image I am new to Gitlab CI so I was playing around in a different git repository just trying to get it to work I have been able to get it to work with two different gitlabci yml setups However there is a significant difference in speed Using an ubuntu image it takes 6 minutes to deploy I was then able to get it to work with a docker image which is what I needed to do to integrate it with the existing git repository however it takes 24 minutes to deploy Does anyone know why there would be such a difference in speed Also is there any way of improving the speed of deployment when using a docker image Any help on this would be appreciated I am a total beginner when it comes to this so any of your advice would be much appreciated Many thanks "
61291219,"Is it possible to configure throttling for WebSocket APIS in API Gateway using the Serveless Framework?","https://stackoverflow.com/questions/61291219/is-it-possible-to-configure-throttling-for-websocket-apis-in-api-gateway-using-t","{amazon-web-services,websocket,aws-api-gateway,serverless-framework,serverless}","2020-04-18 14:56:59+03","2024-05-17 04:55:17.228677+03","I would like to control the rate at which clients can connect to my WebSocket API running in AWS API Gateway The provider usagePlan config allows me to do this for private HTTP endpoints via an API key set in provider apiKeys Is there an equivalent for WebSockets"
60079790,"Set a timeout-delay before batch batch execution for AWS Kinesis","https://stackoverflow.com/questions/60079790/set-a-timeout-delay-before-batch-batch-execution-for-aws-kinesis","{aws-lambda,serverless-framework,amazon-kinesis}","2020-02-05 16:10:23+02","2024-05-17 04:55:40.914514+03","I am using AWS Kinesis configured with the Serverless Framework and I am using batchSize of 1 Is there a way to set a timeout of 20 seconds for example before reading the next batch I want to have a time delay before each lambda executes pulling basically a record from the stream Thank you "
60535080,"AuthorizerConfigurationException in AWS API Gateway / Lambda custom authorizer","https://stackoverflow.com/questions/60535080/authorizerconfigurationexception-in-aws-api-gateway-lambda-custom-authorizer","{typescript,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2020-03-04 21:38:27+02","2024-05-17 04:55:19.210525+03","I am building a REST service using serverless framework on AWS Lambda I have created a custom authorizer that is called pre to any invocations of my lambdas When I run serverlessoffline everything works When I deploy I get an error in AP Gateway I have enabled loging in API gateway but nothing is written to the log Here is my serverless yml file My authorization handler looks like this The method picks up my authentication token and verify it using JOSE and returns a principalId for the user and some roles If do serverless offline start the emulated APIgateway is started on port 3000 I call the API So It works locally and my handler logs the userId and roles Then I deploy to AWS with serverless deplpy without any warnings I try to invoke my APIgateway endpoint The invokation does not return instantly but times out What is going on"
60544631,"Start NodeJS runtime in AWS lambda with a specific option or environment variable","https://stackoverflow.com/questions/60544631/start-nodejs-runtime-in-aws-lambda-with-a-specific-option-or-environment-variabl","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2020-03-05 11:42:25+02","2024-05-17 04:55:20.264731+03","Getting NodeJS deprecation error when execute an AWS Lambda using node 12 x can not find which modulepiece of code is producing it Nothing seems to reference _headers or _headerNames In Node should be possible to set a parameter or environment variable as explain here to tracedeprecation andor tracewarnings andor throwdeprecation When setting one or multiple of these values in AWS Console Environment variables for the lambda no extra information is displayed What is the way to set this runtime parameter for an AWS Lambda Is there a way to catch the stack trace to know where is the deprecated error happening"
60548478,"deployment of serverless 1.65.0 returns error ECONNREFUSED 127.0.0.1:4567","https://stackoverflow.com/questions/60548478/deployment-of-serverless-1-65-0-returns-error-econnrefused-127-0-0-14567","{node.js,serverless-framework,serverless,localstack}","2020-03-05 15:11:19+02","2024-05-17 04:55:20.886011+03","since updating to the latest version 1 65 0 of serverless I am getting an error message after deploying to Localstack here is the serverless file I compared the logs of the two versions and seems like in the version 1 65 0 i am missing this part here after checking the code in the repo I noticed that most of these logs come from the function interceptRequest service method params the lambda function works as expected but this error message keeps on popping off after each deploy prior I was using serverless 1 53 0 and everything was smooth"
60576587,"How get generated deployment bucket name in serverless?","https://stackoverflow.com/questions/60576587/how-get-generated-deployment-bucket-name-in-serverless","{amazon-s3,serverless-framework}","2020-03-07 10:27:41+02","2024-05-17 04:55:21.861453+03","By default Serverless creates a bucket with a generated name like service nameserverlessdeploymentbuck1x6jug5lzfnl7 to store your services stack state But how can I get this name inside serverless yml Important using provider deploymentBucket name is not en option because it where you set this name not where you can get it especially when it generated by serverless itself "
60578874,"How fallback cmd parameter to environment variable to defaul valune in serverless?","https://stackoverflow.com/questions/60578874/how-fallback-cmd-parameter-to-environment-variable-to-defaul-valune-in-serverles","{serverless-framework}","2020-03-07 15:01:38+02","2024-05-17 04:55:23.040473+03","Consider exmaple If stage parameter is not pass dev value will be used Leads to error because stage value is not a string Resolves to dev even if I set STAGE system variable So is there a way to make the following logic 1 if STAGE system variable is present it should be used 1 if stage parameter is present it should be used overrides STAGE system variable if both are present 1 when no parameter or system variable are provided default dev is used How to define variables to do this"
60588274,"Frequent timeout with app using Serverless Framework (AWS Lambda/Gateway), Express, Mongoose/MongoDB Atlas","https://stackoverflow.com/questions/60588274/frequent-timeout-with-app-using-serverless-framework-aws-lambda-gateway-expre","{express,mongoose,aws-lambda,aws-api-gateway,serverless-framework}","2020-03-08 14:03:17+02","2024-05-17 04:55:23.753659+03","Trigger warning Beginner question I built an api using Express and Mongoose with a MongoDB Atlas DB Most of the time it works normally but often I get timeout errors This seems to happen very randomly and concerns all routes etc Precisely I get and in the Serverless Dashboard I get and span log I used this tutorial to wrap my express app to deploy it with serverless framework httpsdev toadnanrahicacrashcourseonserverlessapiswithexpressandmongodb193k Serverless yml file server js file app js file and finally db js file From what I have read it is related to cold start in Lambda and the way API Gateway handles timeouts I have read this on mongoose documentation httpsmongoosejs comdocslambda html and read also other tutorials but I do not how exaclty I should adapt it to my situation Thank you for your help"
60606403,"Using CloudFormation, how can I create an Identity Pool that authorizes based on User Pool roles?","https://stackoverflow.com/questions/60606403/using-cloudformation-how-can-i-create-an-identity-pool-that-authorizes-based-on","{amazon-web-services,aws-cloudformation,amazon-cognito,serverless-framework}","2020-03-09 18:29:09+02","2024-05-17 04:55:24.608136+03","I am using Serverless Framework to handle my CloudFormation stuff I am building a User Pool with groups that have their own roles I want to build my Identity Pool so that the Cognito provider setting for Authenticated role selection is set to Choose role from token with a Role resolultion of DENY This is my relevant CloudFormation ignore the selfcustom stuff This does_not work because the IdentityPoolRoleAttachment is requiring a Roles section But I do_not want to use the authenticated and unauthenticated roles with the Identity Pool I want the Identity Pool Cognito provider to only check the tokens being passed in This is the error I am getting How can I do this Do I need to create an empty role and assigned it to the IdentityPoolRoleAttachment I am able to do this without Identity Pool roles in the console "
60614295,"serverless-s3-sync just specifc folders to s3","https://stackoverflow.com/questions/60614295/serverless-s3-sync-just-specifc-folders-to-s3","{amazon-web-services,amazon-s3,serverless-framework}","2020-03-10 09:01:24+02","2024-05-17 04:55:25.640444+03","I am currently using the serverlesss3sync plugin for syncing my local directory into an S3 Bucket My code in the serverless yml looks like this My problem is I do not want to sync the whole directory to the S3 bucket Is there a way to define just specific foldersfiles for sync to S3 or is there a betterother way to do so e g another plugin "
60088117,"How to deploy AWS Lambda Function Correctly","https://stackoverflow.com/questions/60088117/how-to-deploy-aws-lambda-function-correctly","{python-3.x,aws-lambda,serverless-framework,aws-appsync}","2020-02-06 05:15:25+02","2024-05-17 04:55:41.863159+03","Using serverless I am trying to deploy a lambda function through AppSync I see that my function gets deployed in the AWS Console however it is showing that it is over 50MB and cannot display the inline editing How do I properly deploy my lambda function Heres what the console looks like "
60640954,"serverless - How to add multiple files to iamRoleStatements?","https://stackoverflow.com/questions/60640954/serverless-how-to-add-multiple-files-to-iamrolestatements","{amazon-web-services,yaml,serverless-framework}","2020-03-11 16:52:17+02","2024-05-17 04:55:26.77161+03","In my serverless yml file I want to be able to add iamRoleStatements from two differents files this cannot change So I tried doing it like this Each of these files have an iamRoleStatements section __environments yml custom yml Individually each of them works great But when I try to run sls deploy with both of them I encounter the following error iamRoleStatements should be an array of objects where each object has Effect Action NotAction Resource NotResource fields Specifically statement 0 is missing the following properties Effect Action NotAction Resource NotResource statement 1 is missing the following properties Effect Action NotAction Resource NotResource I searched online and this appears to work for other sections of the serverless file such as resources So I wonder if there is any solution to this or if it is something that is not currently supported by the Serverless Framework Thanks for your help "
60644595,"How do I use a json file as a DashboardBody in CloudFormation with Serverless?","https://stackoverflow.com/questions/60644595/how-do-i-use-a-json-file-as-a-dashboardbody-in-cloudformation-with-serverless","{amazon-web-services,serverless-framework}","2020-03-11 21:20:50+02","2024-05-17 04:55:27.574671+03","To create a CloudWatch Dashboard in CloudFormation you must supply the dashboards source code as a stringified JSON rather than as a separate JSON structure This is annoying because my JSON has to be escaped inside of a string literal within my serverless yml I tried using a file reference but serverless inserts the content as part of the YAML structure rather than as part of the JSON string Is there a way to stringify the JSON from mydashboard json "
60645671,"Serverless Framework - Configure Cognito User Pool to send emails through SES","https://stackoverflow.com/questions/60645671/serverless-framework-configure-cognito-user-pool-to-send-emails-through-ses","{aws-cloudformation,amazon-cognito,serverless-framework,amazon-ses}","2020-03-11 23:25:02+02","2024-05-17 04:55:29.093694+03","I am able to create a Cognito User Pool with Serverless Framework Unfortunately the email verification after a new user registers is being sent using Cognitos email delivery system which is quite limited I know I can go into the console and change the option to use Amazons SES instead but how do I do this in Serverless Framework"
60657261,"How to Debug AWS python lambdas using serverless offline through VS Code?","https://stackoverflow.com/questions/60657261/how-to-debug-aws-python-lambdas-using-serverless-offline-through-vs-code","{python,amazon-web-services,debugging,serverless-framework,serverless-offline}","2020-03-12 15:31:31+02","2024-05-17 04:55:29.652431+03","I am trying to figure out a way to debug AWS python lambdas in VS Code using the serverless framework and serverless offline I have gotten to the point where I can run the lambdas in VS Code but I cannot set breakpoints I am not sure if this is possible but from what I have read it seems like it may be If anyone can help it would be much appreciated This is my current launch json Scripts section of package json is as follows Again this setup works I just would like the ability to set breakpoints in my py files When I hover over the breakpoints in the left gutter they are greyed out and read Breakpoint ignored because generated code not found source map problem I am not sure how to get around this given that python files do not have source maps I tried setting the outfile field of launch json to be the python files themselves but that obviously did not work Thanks in advance to those of you that are able to help NOTE I know there is a way to get this to work with AWS SAM CLI but unfortunately that is not an option for me Must be serverless framework EDIT I thought this should be possible however the more I look into it the more skeptical I become If you can even inform for certain that this is not possible it would be much appreciated I have been hunting around for a while now with no further developments "
60657498,"How do I transitively reference external files with serverless?","https://stackoverflow.com/questions/60657498/how-do-i-transitively-reference-external-files-with-serverless","{serverless-framework}","2020-03-12 15:45:27+02","2024-05-17 04:55:30.631523+03","I am trying to do some transitive file references in my serverless yml but it seems like serverless always resolves references based on the serverless yml file regardless of where other referenced files live Example serverless yml cloudformationresourcesmydashboard yml cloudformationresourcesdashboardbodymy js cloudformationresourcesdashboardbodymy json Am I supposed to put all my resource files in the same directory as my serverless yml The only reference I have found about this is The popular Serverless Framework is built to deploy only files inside the directory in which the serverless yml file is contained This limitation is probably by design all the external code your Lambda needs can be usually included with a package manager "
60662650,"Alternate lambda functions deployment for production","https://stackoverflow.com/questions/60662650/alternate-lambda-functions-deployment-for-production","{serverless-framework,aws-serverless}","2020-03-12 22:31:43+02","2024-05-17 04:55:32.119562+03","I am developping a web extension for the chrome store that calls a backend deployed on aws lambda using the serverless framework When developing the Rest API I may introduce breaking chances As publishing an update on the chrome store can take a lot of time and is unpredictable 1 day to 3 weeks the solution I am think about to keep a compatible API with the extension is to deploy 2 different lambda functions in production The idea is when I push new changes on the master branch the lambda function with the oldest version is updated and ready to receive calls as soon as the update is approved on the chrome store without erasing the API currently used First is it a good pattern to handle the updates of a client consuming an API when you do not have full control on them Second is this something doable with the serverless framework and how I coulnt find any resources on the subject Thanks"
60664074,"How to create multiple database sequelize sessions in NodeJS","https://stackoverflow.com/questions/60664074/how-to-create-multiple-database-sequelize-sessions-in-nodejs","{node.js,postgresql,aws-lambda,sequelize.js,serverless-framework}","2020-03-13 02:22:32+02","2024-05-17 04:55:32.464789+03","I am creating a backend APIs using Serverless framework in which I am using Nodejs with Sequelize My dialact is postgresql I need to interact with two databases at the same time and maintain session What I am doing is this My folder structure is this runs fine but when I try to add models This above gives error that import is not a function of undefined Can anyone please help me in that"
58983901,"Does Serverless, Inc ever see my AWS credentials?","https://stackoverflow.com/questions/58983901/does-serverless-inc-ever-see-my-aws-credentials","{serverless-framework,serverless,aws-serverless}","2019-11-21 21:17:50+02","2024-05-17 04:56:17.490762+03","I would like to start using serverlessframework to manage lambda deploys at my company but we handle PHI so securitys tight Our compliance director and CTO had concerns about passing our AWS key and secret to another company When doing a serverless deploy do AWS credentials ever actually pass through to Serverless Inc If not can someone point me to where in the code I can prove that Thanks "
60664329,"Nexmo Client Library for Node.js is working after getting deployed to AWS lambda","https://stackoverflow.com/questions/60664329/nexmo-client-library-for-node-js-is-working-after-getting-deployed-to-aws-lambda","{node.js,amazon-web-services,serverless-framework,vonage}","2020-03-13 03:01:35+02","2024-05-17 04:55:33.392739+03","Created an issue on nexmonexmonode repo but posting here nevertheless for a greater reach I have deployed a phone number verifier lambda function through serverless The nexmo message sendSms is working without an issue on my local dev environment tested it with serverless offline But I do not think it is working after deployed to AWS Heres what I am doing See that log messages inside the callback console log nexmo err err etc They are not showing up after deployed As I said working fine on local Since I set the debug true it is logging the following info sending message from 44750 info Request host rest nexmo com port 443 But the callback is not getting called no message log is registered on the Nexmo dashboard too Is there any additional serverless related config that I am unaware of"
60006437,"Serverless Framework - Reference Layer sans version, or always latest version","https://stackoverflow.com/questions/60006437/serverless-framework-reference-layer-sans-version-or-always-latest-version","{aws-lambda,serverless-framework}","2020-01-31 15:05:15+02","2024-05-17 04:55:34.971517+03","I have a layer defined in a separate file from any functions and my functions are dependent upon the layer If I deploy the layer I get a new version number for the layer and I have to redeploy all items dependent on the layer to use the new layer version Is there a way for a function to reference the separatelydefined layer generally without a version number or for the function to always reference the latest version Below is the serverless yaml that defines the layer with a few substitutions in brackets Thank you very much "
60017442,"How to upload multipart form data in serverless","https://stackoverflow.com/questions/60017442/how-to-upload-multipart-form-data-in-serverless","{amazon-s3,aws-lambda,multipartform-data,serverless-framework,aws-serverless}","2020-02-01 13:43:36+02","2024-05-17 04:55:35.869426+03","I am uploading files from front end Angular using multipartformdata to S3 via AWS Lambda I have installed the serverlessapigwbinary plugin and in my serverless yml have included the configuration as mentioned in this plugins documentation On my API gateway I can see that the plugin adds the binary media types values mentioned in the serverless yml file However when I view the file on S3 it is corrupted Does not matter what type of file I upload image doc pdf I cannot open it on download This issue is also present when I make a direct POST request to my lambda function from Postman Am I missing any step What is the correct way to accept binary files in Lambda"
60021467,"How can I deploy a Serverless Framework application the macOS that uses the sharp library to AWS?","https://stackoverflow.com/questions/60021467/how-can-i-deploy-a-serverless-framework-application-the-macos-that-uses-the-shar","{node.js,macos,amazon-web-services,serverless-framework,sharp}","2020-02-01 22:03:29+02","2024-05-17 04:55:36.811409+03","I am developing a Serverless Framework application that is using the Node runtime and is deployed to AWS One of my AWS Lambda functions uses the sharp library When I run the AWS Lambda function the following error occurs darwinx64 binaries cannot be used on the linuxx64 platform Please remove the node_modulessharpvendor directory and run npm install I believe this error is occurring because when I run the sls deploy command on my local computer the application is packaged on macOS and then moved to AWS I think the application needs to be packaged on an operating system using linuxx64 How can I deploy my Serverless Framework from my computer and still be able to use the sharp library"
60030568,"Receive and send multipart/form-data file in AWS Lambda","https://stackoverflow.com/questions/60030568/receive-and-send-multipart-form-data-file-in-aws-lambda","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2020-02-02 21:02:41+02","2024-05-17 04:55:37.765611+03","I am trying to do a multipartformdata POST containing a pdf file to an AWS lambda function do a few checks on the file and then POST the file to an external API I am using the serverless framework with node js and the awslambdamultipartparser plugin to receive the file The file upload from the client to lambda works and I can print the buffer content to the console The part that does not work is the forwarding of the file to an external API This is my current axios setup to make a POST request to the external API file content actually contains a Buffer with the file content but when I make the request the external API returns an error and the request fails Interestingly the whole setup works when I run the serverless function locally with sls offline That may suggest that there is a problem with the API Gateway setup Some additional info Based on the instructions from the multipart plugin I added the binary data type in the API Gateway settings This is the config of the endpoint in AWS Gateway I also tried this SO question and the AWS documentation but they only cover how to receive a binary file not how to send one Is it possible to receive and then send a file in lambda or should this be solved in a different way"
60043717,"Refer properties in serverless yaml","https://stackoverflow.com/questions/60043717/refer-properties-in-serverless-yaml","{aws-lambda,serverless-framework}","2020-02-03 16:52:53+02","2024-05-17 04:55:38.790309+03","In documentation httpsserverless comframeworkdocsprovidersawsguideserverless yml I find there are a couple of places where certain properties or variables are referred to as something like stageVariables time userIdentity type etc It is kind of confusing to me about their meanings Is there any documentation somewhere around this kind of variables I only find the variable related documentation here httpsserverless comframeworkdocsprovidersawsguidevariablesreferencingserverlesscorevariables which did not cover anything on this Thanks "
60049779,"EC2/ECS Cross Account Serverless Deploy","https://stackoverflow.com/questions/60049779/ec2-ecs-cross-account-serverless-deploy","{amazon-web-services,amazon-ec2,serverless-framework,serverless}","2020-02-04 02:31:32+02","2024-05-17 04:55:39.905717+03","I have a problem deploying serverless service on EC2ECS environment Since I am deploying on EC2ECS environment I need to use credential_source to access instance iam role No file on awscredentials It is working on AWS cli But when I try to deploy serverless it is not working Below is the error stack After touching awscredentials below is the new error Here is the error stack "
60060499,"Download, process and save in database as a server less on Azure c#","https://stackoverflow.com/questions/60060499/download-process-and-save-in-database-as-a-server-less-on-azure-c-sharp","{c#,azure,real-time,serverless-framework,serverless-architecture}","2020-02-04 15:23:06+02","2024-05-17 04:55:40.197814+03","I am trying to download big files that are bigger than 1GBytes and process them and store the results into the database I would like to do this as a serverless application which is keeping an eye on the FTP server that is holding files and then compare it with the previous snapshot from then files and process those files that have been changed I created this in 5 different azure functions but it almost does not work and it is extremely slow compared to the local version of it My question is what is the best technology or framework for me to have a fast realtime serverless program that does this for me"
60096160,"Use sharp on lambda@edge","https://stackoverflow.com/questions/60096160/use-sharp-on-lambdaedge","{serverless-framework,sharp,aws-lambda-edge}","2020-02-06 13:31:45+02","2024-05-17 04:55:42.977917+03","I am trying to use sharp on a couple of AWS lambda The idea is to resize and cache an image when requested see this I am also using serverless with serverlesswebpack to deploy the lambdas I can deploy the lambdas and everything goes well if I test them in AWS console However these are lamda and they will be used as cloudwatch requestresponse triggers Therefore the maximum lambda size is 1Mb My problem is I cannot seem to get even near that size the best I could achieve was 11 6Mb And it seems it is possible as seen in that first link This is the serverless configuration which results in 34 7Mb lambda And with this I got 11 6Mb I have also played around with the package exclude but with no luck and this is my webpack config When running locally I can see what it is packaging the node_modules folder has sharp and its dependencies it seems But the biggest folder is sharp I suspect I am packaging stuff inside sharp folder that I do not need but I cannot seem to understand what Any help Thanks UPDATE Reading more carefully it seems the function where I need sharp originresponse size limit is 5Mb I just need to find a way to package sharp only for that function Webpack seems to put it in both even though I do not need it on the other function viewer request Any help on this"
60125824,"Deploying serverless, getting ""user already exists"" error","https://stackoverflow.com/questions/60125824/deploying-serverless-getting-user-already-exists-error","{amazon-dynamodb,serverless-framework}","2020-02-08 10:17:02+02","2024-05-17 04:55:44.063357+03","Serverless Error An error occurred SDynamoDbTable spaceserverlessbetadynamodbtestuser already exists I am redeploying serverless once deployed in another system but I am getting this error I am getting while deploying serverless yml using command"
60138424,"Serverless API Gateway Resource not coming back after manual delete on aws.com","https://stackoverflow.com/questions/60138424/serverless-api-gateway-resource-not-coming-back-after-manual-delete-on-aws-com","{amazon-web-services,aws-lambda,serverless-framework,aws-api-gateway}","2020-02-09 15:51:48+02","2024-05-17 04:55:45.066456+03","I was trying to delete a test GET resource I manually created on an AWS API Gateway but it deleted my POST that was in the same resource path and now when I sls deploy that lambda resource is not coming back on the API Gateways list of resources Missing the libraryupdated POST resource What an old deployment of the dev stage looks like with the libraryupdated POST resource What the sls deploy logs result in I see the in those logs maybe it is just trying to do an update operation and not trying to create the resource again because it thinks therere already there I tried sls deploy force but the same result "
60142665,"Serverless Lambda Authorizer not invoked when deployed to AWS","https://stackoverflow.com/questions/60142665/serverless-lambda-authorizer-not-invoked-when-deployed-to-aws","{aws-lambda,aws-api-gateway,serverless-framework,lambda-authorizer}","2020-02-10 00:25:00+02","2024-05-17 04:55:46.337045+03","Using serverless I have deployed an API Gateway with several lambda functions in Node js I have also added authentication to one GET endpoint with a lambda authorizor authenticate js I am out of ideas so any help would be appreciated The only thing I can see is there is no Lambda Invoke Role assigned to the authorizer I did not find any docs on how to add that to the serverless yaml but the Cloudwatch logs dont show any authorizer executions so I would expect a 403 or something serverless yaml Lambda Authorizer"
60150356,"What is the recommended way to fanout in SQS lambda environment?","https://stackoverflow.com/questions/60150356/what-is-the-recommended-way-to-fanout-in-sqs-lambda-environment","{amazon-web-services,aws-lambda,architecture,amazon-sqs,serverless-framework}","2020-02-10 12:21:37+02","2024-05-17 04:55:46.894747+03","I would like to send a push notification to users in my database in a lambda environment via SQS messaging queue architecture in order to do that Is there a better way to implement this to avoid querying a big number of users andor looping over all the results to send a SQS message for each"
60165040,"Function ""timeout"" doesn't exist in this Service","https://stackoverflow.com/questions/60165040/function-timeout-doesnt-exist-in-this-service","{serverless-framework,serverless,aws-serverless}","2020-02-11 08:56:29+02","2024-05-17 04:55:48.056298+03","I have the following function definition within my serverless yml file AWS Within my deploy i am doing sls deploy function f taskUpload i get the following error message and i cant figure out what i have done wrong If i run sls deploy i do not get the error message The docs say i can have timeout so i guess something else is wrong Any help would be much appreciated "
60176610,"How to declare or create a scheduled GCP function using serverless framework?","https://stackoverflow.com/questions/60176610/how-to-declare-or-create-a-scheduled-gcp-function-using-serverless-framework","{google-cloud-platform,triggers,google-cloud-functions,serverless-framework,schedule}","2020-02-11 20:09:19+02","2024-05-17 04:55:48.258223+03","I am using GCP and serverless framework And wish to create a scheduled function For AWS lambdas i can add to the yml Seems like no such option for GCP correct me if i am wrong What is the simplest way to implement it in CGP"
59410386,"How to Update node version in existing serverless project","https://stackoverflow.com/questions/59410386/how-to-update-node-version-in-existing-serverless-project","{node.js,serverless-framework}","2019-12-19 13:05:10+02","2024-05-17 04:55:50.35333+03","my serverless project use runtime nodejs8 10 How can i update latest version of node in my project"
59416413,"Serverless.yml Aurora RDS: Infrastructure as code","https://stackoverflow.com/questions/59416413/serverless-yml-aurora-rds-infrastructure-as-code","{serverless-framework,amazon-aurora}","2019-12-19 20:16:59+02","2024-05-17 04:55:50.817402+03","I am looking for a way to declare via serverless yml an Aurora DB with all the tables I would like to be able to deploy via serverless deploy a new Aurora instance with all the tables Thanks"
59418841,"How to remove subscription in AWS CloudWatch Log Groups","https://stackoverflow.com/questions/59418841/how-to-remove-subscription-in-aws-cloudwatch-log-groups","{amazon-web-services,amazon-cloudwatch,serverless-framework,amazon-cloudwatchlogs}","2019-12-20 01:25:16+02","2024-05-17 04:55:51.669735+03","I am not able to delete these subscriptions attached to the CloudWatch Logs Groups These subscriptions are created by CloudFormation stack via Serverless Framework However when I finished testing and deployed to the template there was a permission error during the cleanup Hence these subscriptions became dangled and I am not able to locate it Tried with CLI and seems no relevant info regarding that "
58589368,"cannot import name 'HTTPException' from 'urllib3.connection'","https://stackoverflow.com/questions/58589368/cannot-import-name-httpexception-from-urllib3-connection","{aws-lambda,serverless-framework}","2019-10-28 10:35:03+02","2024-05-17 04:56:33.792935+03","I am building an application on AWS Lambda using serverless framework And trying to import requests library through requirements txt But it did not work came out cannot import name HTTPException from urllib3 connection error message I cannot understand why it does not work please help serverless yml requirements txt dep2_handler py"
59430509,"Webpack still including an explicitly excluded folder","https://stackoverflow.com/questions/59430509/webpack-still-including-an-explicitly-excluded-folder","{node.js,webpack,aws-lambda,serverless-framework}","2019-12-20 19:36:05+02","2024-05-17 04:55:52.363279+03","I am using webpack on a nodeJs repo with the serverless com framework for deploying to AWS Lambda functions Since the Lambda container on AWS already contains awssdk I am attempting to exclude it from packaging The output during the build in fact identifies awssdk as excluded Yet the zip file which is built to be uploaded to Lambda still contains awssdk and is making the package almost 60MB I also watched the folders in webpack during the build process and noticed that the node_modules folder is in both a dependencies folder and a service folder and awssdk is under the service folder I do not really know what that means though Any help is appreciated It is frustrating that it blatantly says it is excluding it yet it winds up in the zip anyway My webpack config js is below And in my serverless yml custom section for the serverlesswebpack plugin my config is"
59431650,"Serverless Framework deploy through CircleCI","https://stackoverflow.com/questions/59431650/serverless-framework-deploy-through-circleci","{serverless-framework,circleci}","2019-12-20 21:44:15+02","2024-05-17 04:55:53.275097+03","I am trying to integrate serverless to my circleci workflow I tried first adding both key and secret to AWS permissions but that did not work Then I added key and secret to Environment variables and in my config file But I see the same error Anyone had this issue I could not find an answer or hint online Thanks "
59432459,"Cloud Function CPUMilliSeconds quota exceeded","https://stackoverflow.com/questions/59432459/cloud-function-cpumilliseconds-quota-exceeded","{go,google-cloud-functions,serverless-framework,google-cloud-run}","2019-12-20 23:47:51+02","2024-05-17 04:55:54.345344+03","I have noticed a substantial number in my golang Cloud Function errors What strange is that I have no more than 60 invocations per second with 30 active instances cloud function running at the peak I understand that is that you can have a max of 1000 concurrent instances which in my case 30 is far cry to hit CPU limit Cloud function quota here What is the best way to control Cloud Function CPU execution Would you recommend using CloudRun instead of Cloud Functions for some more CPU demanding task"
59444571,"AWS SAM : Nested Stacks, Referring to API gateway from the Root stack","https://stackoverflow.com/questions/59444571/aws-sam-nested-stacks-referring-to-api-gateway-from-the-root-stack","{amazon-web-services,aws-cloudformation,aws-api-gateway,serverless-framework,aws-sam}","2019-12-22 13:25:35+02","2024-05-17 04:55:55.24333+03","I want to split my SAM application into multiple parts I want to create a API AWSServerlessApi in the root stack I am creating lambda functions in my child stacks where I want to give the reference of the API from the root stack to the API Events Is this feasible I did not find any good examples for the accessing the API from the root stack into child stack I tried with the below template When I tried to deploy this template I got below errors Error Failed to create changeset for the stack childtemplate ex Waiter ChangeSetCreateComplete failed Waiter encountered a terminal failure state Status FAILED Reason Transform AWSServerless20161031 failed with Internal transform failure Any pointerssuggestions I was referring to below links httpsaws amazon comblogscomputeannouncingnestedapplicationsforawssamandtheawsserverlessapplicationrepository Can the API Gateway Id AWSApiGatewayRestApi from the root stack used here httpsdev tograhamcox82buildingalargerserverlessapplicationpart3modularmonorepos3mon Can this be achieved using serverless framework"
59457094,"overwrite variables or environment values after packaging","https://stackoverflow.com/questions/59457094/overwrite-variables-or-environment-values-after-packaging","{aws-lambda,serverless-framework}","2019-12-23 14:39:02+02","2024-05-17 04:55:56.340137+03","Our goal is to create immutable artifacts and deploy these on different environments The Serverless Framework already supports this with the package function so we can build only one build package and deploy it in different environmentsAWS accounts We create the package with sls package v p build in our build accountenvironment and deploy this afterwards in our development integration and production environments with sls deploy v p build Unfortunately we have not found a way to overwrite environment variables in the different accountsenvironments The used variables and environments are hard coded in the cloudformationtemplateupdatestack json after the packaging what we tried Have we missed anything Thanks "
59458979,"Issue with Serverless Deploy after Deleting Object in AWS","https://stackoverflow.com/questions/59458979/issue-with-serverless-deploy-after-deleting-object-in-aws","{amazon-web-services,serverless-framework,serverless}","2019-12-23 17:08:46+02","2024-05-17 04:55:57.892111+03","I have a Serverless project that was successfully deployed to AWS with multiple Lambda functions and a Step Function state machine with an API Gateway event I manually deleted the Step Function in AWS and now doing a sls deploy does not deploy the Step Function How do I get things back in sync Thanks "
59499834,"What activities sections refer to in serverless step functions plugin?","https://stackoverflow.com/questions/59499834/what-activities-sections-refer-to-in-serverless-step-functions-plugin","{amazon-web-services,yaml,serverless-framework,aws-step-functions}","2019-12-27 11:05:06+02","2024-05-17 04:55:57.921365+03","Here is a configuration snippet What does this mean With quick test search on page I have found no results Any idea UPDATED Some links with docs But any way it is unclear what is activities section Is it just place holder Or serverless can package activities like lambda functions and deploy"
59508877,"Getting 500 response while invoking API with post request","https://stackoverflow.com/questions/59508877/getting-500-response-while-invoking-api-with-post-request","{python-3.x,aws-lambda,aws-api-gateway,serverless-framework}","2019-12-28 07:08:51+02","2024-05-17 04:55:58.841113+03","I have deployed serverless function with an API integreated Below is the code I called api with the body request for eg Name123 But still it returns 500 internal error I searched different ways to get the solution and everybody says its only due to the lack of permission that API must have to invoke the lambda As i already provided the permission to the API i want to know what exactly what would be the solution for this Appreciate if anyone can help on this"
59511237,"Are private HTTP events possible with Serverless?","https://stackoverflow.com/questions/59511237/are-private-http-events-possible-with-serverless","{aws-lambda,serverless-framework}","2019-12-28 13:16:26+02","2024-05-17 04:55:59.692107+03","I would like to have this architecture Here the ScoringService has GET and POST endpoints The POST endpoints may only be available for for services within the VPC ExerciseService and QuizService The GET endpoint of the ScoringService must be available for the client According to the Serverless documentation I can make the entire ScoringService private But for this architecture I only want the POST endpoint to be private The GET endpoint should be accessible for the client So something like this But I do not think this is a valid Serverless configuration Is the architecture above somehow possible with Serverless"
59529304,"Lambda - Pass source IP to custom authorizer","https://stackoverflow.com/questions/59529304/lambda-pass-source-ip-to-custom-authorizer","{aws-lambda,serverless-framework,serverless}","2019-12-30 10:29:15+02","2024-05-17 04:56:00.67126+03","Im using the serverless framework to build a REST API which runs on AWS Lambda The app has a custom authorizer which verifies the access token Everything up to this point is working great New tokens are generated inside my app and can be restricted by IP CIDR etc Now I want my custom authorizer to be able to allowdeny requests based on this setting I am not able to get the source IP inside the authorizer but I am able to get that on the lambda functions If the authorizer has no way to access the IP then is there a way to execute some common logic before each lambda is run"
59536442,"Serverless Cloudwatch events appearing encrypted","https://stackoverflow.com/questions/59536442/serverless-cloudwatch-events-appearing-encrypted","{aws-lambda,amazon-cloudwatch,serverless-framework,serverless,aws-serverless}","2019-12-30 20:23:00+02","2024-05-17 04:56:01.243431+03","I am testing out Cloudwatch logs as a trigger for serverless functions However when my serverless function is triggered it is just outputting jibberish which I figured was some form of encryption Unfortunately I do not know what that encryption is Heres the output And heres the functions code"
59537033,"Lambda + Sequelize randomly getting SequelizeConnectionError ETIMEDOUT","https://stackoverflow.com/questions/59537033/lambda-sequelize-randomly-getting-sequelizeconnectionerror-etimedout","{mysql,aws-lambda,sequelize.js,serverless-framework}","2019-12-30 21:27:15+02","2024-05-17 04:56:02.090083+03","We are using Sequelize within Aws Lambda and for the most part everything is working great however randomly it is erroring out with the following error We are using Rds mysql 8 0 15 Serverless framework serverlesshttp serverlesswebpack Here is our file configuration I thought potentially that we reached the max mysql connections which for my instance is 66 however the rds dashboard shows the most we have is in the 40s What are we doing wrong"
59537156,"""Missing Authentication Token"" for OPTIONS preflight","https://stackoverflow.com/questions/59537156/missing-authentication-token-for-options-preflight","{aws-lambda,axios,aws-api-gateway,serverless-framework,serverless}","2019-12-30 21:43:52+02","2024-05-17 04:56:03.151757+03","I am using API Gateway provided by AWS and I have a serverless framework endpoint for delete method The client is using Axios and is configured like this This delete request is failing 403 apparently because of a failed OPTIONS preflight messageMissing Authentication Token What would be the best practices in this case Should I forcefix Axios client to send the Auth token in OPTIONS and how to do that Or should I disable Auth for OPTIONS in the aws gateway endpoint and how to do that EDIT added cors true did not create OPTIONS for todos todoId at AWS Gateway maybe this is a bug with serverlessframework I had to explicitly define an endpoint for OPTIONS which is not ok "
58897287,"Invoke the Lambda Function from Serverless Canary Deployments Plugin","https://stackoverflow.com/questions/58897287/invoke-the-lambda-function-from-serverless-canary-deployments-plugin","{node.js,amazon-web-services,aws-lambda,serverless-framework,canary-deployment}","2019-11-17 03:38:28+02","2024-05-17 04:56:04.860053+03","I use the serverless framework to develop an application using AWS Lambda using Node I would like to use serverlessplugincanarydeployments to run a pretraffic test of a Lambda Function How do I invoke the new Lambda Function from the pretraffic hook I do not want to simply call the Lambda Functions handler from within the pretraffic hook I would like the test to demonstrate that the permissions on the Lambda Function function are sufficient Therefore I would like to actually invoke the Lambda Function rather than simply calling its handler from within the pretraffic hook "
58903023,"Serverless Framework - deploying multiple AWS cloudfront distributions","https://stackoverflow.com/questions/58903023/serverless-framework-deploying-multiple-aws-cloudfront-distributions","{node.js,amazon-web-services,amazon-cloudfront,serverless-framework,serverless-plugins}","2019-11-17 17:12:58+02","2024-05-17 04:56:05.695229+03","I want to have multiple based on stage param AWS cloudfront distribution So if stage dev passed it would deploy a different CloudFront dist than stage qa Each stage should updatecreate a distribution based on the stage params Is it possible to achieve with serverless yml I have found the following plugin serverlessapicloudfront not sure it will create additional distribution if domain name is changed and not sure it is possible to add origins with this plugin Thanks"
58904172,"Set API Gateway integration request timeout with Serverless Framework","https://stackoverflow.com/questions/58904172/set-api-gateway-integration-request-timeout-with-serverless-framework","{aws-lambda,aws-api-gateway,serverless-framework}","2019-11-17 19:10:44+02","2024-05-17 04:56:06.782214+03","Is it possible to set a custom request integration timeout in AWS API Gateway in serverless yml configuration Although the question is quite straight forward I find a little of context always useful I need to notify the final user when the lambda function has timed out Such situation could happen due to project requirements lambda is communicating with thirdparty systems that may not be up I came up with some other solutions I believe setting the APIGW request timeout to the same time as lambda timeout is the best one though "
58909431,"Getting ""internal server error"" on passing binary data to AWS Lambda function deployed using serverless framework and apigw-binary plugin","https://stackoverflow.com/questions/58909431/getting-internal-server-error-on-passing-binary-data-to-aws-lambda-function-de","{aws-lambda,binary,aws-api-gateway,serverless-framework}","2019-11-18 07:02:02+02","2024-05-17 04:56:07.371018+03","Passing binary data via Lambda integration in API gateway Lambda returns back text The function returns desired output when API gateway is configured from console To implement it using serverless framework I installed serverlessapigwbinary plugin The required binary types show up in API gatewaysettingsbinary media types However on calling API I get internal server error The function works properly on applicationjson type input After enablingdisabling lambda proxy integration and adding mappings via console I get correct output I compared swagger definitions and found this 1 API generated from console working produces applicationjson is missing How do I add it in serverless"
58919590,"AWS Lambda connect via PG.js to RDS Postgres database (connection made, no timeout, but no database?)","https://stackoverflow.com/questions/58919590/aws-lambda-connect-via-pg-js-to-rds-postgres-database-connection-made-no-timeo","{aws-lambda,amazon-rds,serverless-framework}","2019-11-18 17:01:12+02","2024-05-17 04:56:08.347668+03","I have my lambda function is trying to connect to an RDS PostGreSQL DB Since I use httpsserverless com to deploy the function sets up my cloudfront it puts the LF in a separate VPC from the RDS DB Not a big issue If you read httpsdocs aws amazon comlambdalatestdgservicesrdstutorial html you see you can setup the serverless yml file as below with the subnet and security Group IDs and then give a role to the Lambda Function that has AWSLambdaVPCAccessExecutionRole I gave it full for the VPC and for Lambda If you do not do this you will get a ECONNREFUESED But even after doing this I get an 3D00 error which says that the db with name ysgdb is not found But in RDS I see it is there and is public The code works fine when the DB is set to a local PostGreSQL Any ideas where to go next"
58929018,"Serverless Framework Python lambda return JSON directly","https://stackoverflow.com/questions/58929018/serverless-framework-python-lambda-return-json-directly","{python,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2019-11-19 07:50:58+02","2024-05-17 04:56:09.336222+03","I am trying to find out how can I return the response as a JSON directly using Serverless Framework This is a function on AWS with Lambda Proxy Integration All default setting The goal is to from the python lambda function the HTTP response client gets is directly a JSON object instead of a string serialization of a JSON The python handler is as simple as this one The function looks like this With these configurations the response BODY I get in Postman is So this is strange why I get everything as body How do I configure it properly so that I only get the real body"
58932848,"AWS Cognito Identity: Why do I get 403 Forbidden when invoking API Gateway with iam_role authorizer","https://stackoverflow.com/questions/58932848/aws-cognito-identity-why-do-i-get-403-forbidden-when-invoking-api-gateway-with","{amazon-web-services,aws-lambda,aws-api-gateway,amazon-cognito,serverless-framework}","2019-11-19 11:18:17+02","2024-05-17 04:56:10.481003+03","I have a simple serverless yml as follows I also have configured AWS Cognito User Pool APP Client and Identity Pool Both my authenticated and unauthenticated roles have the following IAM Policy However when I make a request to my API using the awsapigatewayclient I keep getting Note All credentials and IAM Policies listed in the question are hypothetical "
58933941,"AWS Serverless, CloudFormation : Error, Trying to populate non string value into a string for variable","https://stackoverflow.com/questions/58933941/aws-serverless-cloudformation-error-trying-to-populate-non-string-value-into","{amazon-web-services,aws-cloudformation,serverless-framework,aws-serverless}","2019-11-19 12:17:15+02","2024-05-17 04:56:10.898198+03","I am using serverless framework for deploying my application on AWS Cloud I want to use the value of AWS Account ID in my serverless yml file and I want to export the acccount ID as the environment variable so that it can be accessed from Lambda functions Based on the value of this lambda function I want to create some resources like IAM roles etc which refer to this accountId variable But when I try to deploy the stack I get the below error Trying to populate non string value into a string for variable selfcustom accountId Please make sure the value of the property is a string My Serverless yml file is as below Is there any way to refer to the value of the Account Id in the serverless yml file"
58949826,"Unexpected error: WHERE parameter ""undefined"" has invalid ""undefined"" value","https://stackoverflow.com/questions/58949826/unexpected-error-where-parameter-undefined-has-invalid-undefined-value","{python,sqlalchemy,serverless-framework,aws-serverless,forestadmin}","2019-11-20 08:30:04+02","2024-05-17 04:56:12.224161+03","Im trying to implement forest admin for one of my projects that has been developed using SQLAlchemy I have defined my models in the following structure When I navigate to supplier from forest admin and try to create an entry for supplier_categories Im facing an error saying Unexpected error WHERE parameter undefined has invalid undefined value I am really not sure how to solve this problem I really need some help here modelssupplier js modelscategory js modelssupplier_category js Screenshot of the error Here is the request payload from the console that is being sent to the server Server returns an error with status code 500 "
58951709,"Serverless AWS - is it worth using custom authorizers (as a lambda)?","https://stackoverflow.com/questions/58951709/serverless-aws-is-it-worth-using-custom-authorizers-as-a-lambda","{amazon-web-services,jwt,serverless-framework,lambda-authorizer}","2019-11-20 10:10:17+02","2024-05-17 04:56:13.031962+03","Hey I am getting started with the serverless framework apigateway lambdas and authorizers Here my questions In order to verify a proper JWT token which seems nowadays the best solution for serverless authentication I would need a client id Since the authorizer lambda is not capable of reaching any other parameters of the request into the lambda except for the token itself this is a difficult task to do How can I achieve this Since with every authenticated call an additional lambda is called my costs are doubled May be I am misunderstanding something here but it seems to me like implementing a method for verifying my token without using the authorizer is cheaper and I do not need to implement the authorizer lambda itself "
58958175,"How to push third-party realtime API data consumed pushed to SQS using Lambda function and Python?","https://stackoverflow.com/questions/58958175/how-to-push-third-party-realtime-api-data-consumed-pushed-to-sqs-using-lambda-fu","{amazon-dynamodb,amazon-sqs,amazon-cloudwatch,serverless-framework}","2019-11-20 15:40:35+02","2024-05-17 04:56:13.901981+03","I have a thirdparty realtime API that must be consumed pushed to SQS and later the SQS data must be put into DynamoDB Is it possible Any suggestion or reference must be appreciated Mentioning that i am fully new to SQS and DynamoDB Consider me i have zero idea about SQS and DynamoDB Passionate about creating AWS serverless application "
58968492,"Tell webpack to explicitly include a folder","https://stackoverflow.com/questions/58968492/tell-webpack-to-explicitly-include-a-folder","{node.js,webpack,serverless-framework,aws-serverless}","2019-11-21 06:24:06+02","2024-05-17 04:56:14.822149+03","I am using serverless com to deploy my node js app to AWS I need to include the dir srcemailtemplates which includes ejs and scss files that are used by the emailtemplates module For example Heres what my webpack looks like When I run sls deploy stagedev to deploy the EmailTemplates instance cannot find that folder Heres the error Hence it looks like webpack is not packaging it Is there anyway to explicitly tell webpack to include a folder"
58968720,"How to cache or reuse MongoDB database connection in Serverless (AWS Lambda) application","https://stackoverflow.com/questions/58968720/how-to-cache-or-reuse-mongodb-database-connection-in-serverless-aws-lambda-app","{node.js,mongodb,amazon-web-services,aws-lambda,serverless-framework}","2019-11-21 06:38:46+02","2024-05-17 04:56:15.605553+03","I am building a Serverless application using NodeJS and using MongoDB I noticed that a lot of connections are created when handling a request So I came up with a caching mechanism but it does not seem to be working Here is my code Connection file Handler code I am using a global variable cachedDb to store the database connection but each and every time I make a request it logs New Connection any idea how to achieve this Is there a better way to handle this "
58976146,"AWS Serverless Framework : MalformedPolicyDocument Error while creating IAM Role and Policy","https://stackoverflow.com/questions/58976146/aws-serverless-framework-malformedpolicydocument-error-while-creating-iam-role","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-11-21 13:25:55+02","2024-05-17 04:56:16.915137+03","I am trying to create an IAM role and a policy through a serverless template When I try to deploy this I am getting an error An error occurred SQSConnectPolicy Syntax errors in policy Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Here is the snippet of my serverless yml file Is this valid to create the policy and the role in the same Serverless yml file Do I need to add dependencies Any inputs to the above problem"
58989363,"How to parse multipart/form-data forwarded by Mailgun API on AWS Lambda?","https://stackoverflow.com/questions/58989363/how-to-parse-multipart-form-data-forwarded-by-mailgun-api-on-aws-lambda","{amazon-web-services,aws-lambda,multipartform-data,serverless-framework,mailgun}","2019-11-22 07:21:38+02","2024-05-17 04:56:18.483094+03","Here is what I am trying to achieve Users will be able to email me at [email protected] which is integrated with the Mailgun service Based off a rule I will have set Mailgun will forward this email as a POST request to httpsurltomylambdafunction amazonaws comemail I then receive this POST request in Lambda parse it then grab and use the html from the email for further work The issue I am running into is that Mailgun sends their POSTs not as JSON but as a multipartformdata I have not been able to find a way to parse this content type and grab the email html Here is a sample forwarded email from Mailgun note that technically mailgun sends along attachments too but all I care about is the strippedhtml field Also note that I am working with the Serverless framework and need to write this function in either Python or Node js Things I have tried to do to parse the POST request How can I parse this POST request Is this even possible"
58406594,"Serverless Framework / Lambda Errors on External Http Calls","https://stackoverflow.com/questions/58406594/serverless-framework-lambda-errors-on-external-http-calls","{async-await,axios,serverless-framework,serverless}","2019-10-16 05:55:26+03","2024-05-17 04:56:20.261507+03","I wrote a simple service with Serverless Framework deployed to AWS Lambda that makes a call to an External Http Service and returns the results Currently the service works fine locally but does not work when deployed to AWS There seems to be some problem with the async call resolve on response If I remove the external http call the simple hello function works fine remotely Here is some code for review httpsgithub comkevbakerserverlesstypescriptcallmockapi Here is a snippet of the handler Any thoughts I have done a bunch of poking around for this issue Change to Fetchnode reviewed logs no luck yet "
58450176,"Serverless packaging issue","https://stackoverflow.com/questions/58450176/serverless-packaging-issue","{serverless-framework}","2019-10-18 11:42:03+03","2024-05-17 04:56:21.410284+03","I am using NodeJS 10 to create number of lambdas Many functions has shared code that included into each function so overall structure looks like Each serverless yml contains function declaration like During development it works also working offline well but after packaging it becomes unusable because package changes relative paths to shared folder like Is it possible to keep same structure in package as during development Or any other way to fix module paths that will work locally and on AWS both"
58455418,"In a Serverless project, how can one get the ARN of one Lambda function deployed a the project to another in the same project?","https://stackoverflow.com/questions/58455418/in-a-serverless-project-how-can-one-get-the-arn-of-one-lambda-function-deployed","{serverless-framework,aws-serverless,cross-reference}","2019-10-18 17:12:52+03","2024-05-17 04:56:22.296348+03","I am working on a web service in which one Lambda function serves requests from a web browser This request handling kicks off some slow work that can be completed asynchronously so I have a separate Lambda function that I want to invoke asynchronously to handle the slow work This is being deployed as a Serverless project The serverless yml file looks like this The question is how can I get the ARN of the AsyncWorker Lambda function into an environment variable of the FrontEnd Lambda function without hardcoding it I need it there to be able to invoke the AsyncWorker Lambda "
58471308,"How to configure multiple Cognito triggers in Serverless framework?","https://stackoverflow.com/questions/58471308/how-to-configure-multiple-cognito-triggers-in-serverless-framework","{serverless-framework,serverless}","2019-10-20 08:39:04+03","2024-05-17 04:56:23.382045+03","I am trying to create multiple Cognito triggers to the same userpool in the Serverless framework but for some reason I cannot get it to work my functions config is as the following the thing is when I try to signup I get an error says that PostConfirmation invocation failed due to error AccessDeniedException but the really weird thing is that if I swap the positions of the functions in the config file say for example then the error message becomes PreSignUp invocation failed due to error AccessDeniedException which means that the error has something to do related somehow with the order of the functions config so the function that comes first at the config file works just fine but the other one ends up with AccessDenied error "
58479173,"where clause in serverless framework + postgresql","https://stackoverflow.com/questions/58479173/where-clause-in-serverless-framework-postgresql","{node.js,postgresql,rest,serverless-framework,serverless}","2019-10-21 02:48:00+03","2024-05-17 04:56:24.218864+03","I am mobile developer trying to deploy Restful Api for testing purposes using serverless framework and postgresql I manage to get it working but only with simple CRUD getAll getById delete insert those functions that found on the postgresql What if I need to execute query like Select from table_name where x xx Here is what I do to get user by Id in my handler js what if I need to get users where they belong to class A I need to write normal query and pass it so it can be executed "
58482806,"Error the deployment function in lambda with graphene module","https://stackoverflow.com/questions/58482806/error-the-deployment-function-in-lambda-with-graphene-module","{aws-lambda,serverless-framework,graphene-python}","2019-10-21 08:50:48+03","2024-05-17 04:56:25.051263+03","error when executing the function in aws lambda while locally there is no error When executing the code in AWS lambda this error arises what I want is to be able to use graqpl to perform dynamodb queries and to use them Solution attempt uninstall typing from the python virtual environment Error that occurs Code used"
58487344,"File ‘../foo.ts’ is not under rootDir. rootDir is expected to contain all source files","https://stackoverflow.com/questions/58487344/file-foo-ts-is-not-under-rootdir-rootdir-is-expected-to-contain-all-source","{serverless-framework}","2019-10-21 13:27:36+03","2024-05-17 04:56:25.840861+03","I have a serverless app that is composed by 3 apis They share a large amount of code I prepared the whole application in a way that it allows me to boot every api solely or every single one of them at the same time regarding my needs for that moment There are some scripts to deploy the apis separately and all in once as well The problem here is the shared code As it is shared I needed to copy them through all apis to keep everything running smoothly because I cannot have a folder with that code outside any of the apis It throws the error I put in the title My folder structure is this one I registered those 2 folders as paths in my tsconfig json but it throws the error anyway How can I share this code between apis without duplicating it"
57972248,"How to remove serverless dashboard?","https://stackoverflow.com/questions/57972248/how-to-remove-serverless-dashboard","{serverless-framework}","2019-09-17 10:23:42+03","2024-05-17 04:56:34.973009+03","I have decided to try the new Serverless framework dashboard and now I just cannot get rid of it It is getting my CloudWatch logs and asking me to be logged in to be able to deploy it is so annoying Does anyone know how to remove it I can only find how to install it on their docs "
58499081,"Deploy the same function to different endpoint on ASW Lambda","https://stackoverflow.com/questions/58499081/deploy-the-same-function-to-different-endpoint-on-asw-lambda","{aws-lambda,serverless-framework}","2019-10-22 07:26:13+03","2024-05-17 04:56:26.540951+03","I have a function which I successfully deploy to AWS Lambda using the Serverless framework This function relies on some environment variables which I set in the serverless yml file like this Now I want to deploy the same logic just with a different value of MY_ENV_VAR to a different endpoint If I change simply the value of MY_ENV_VAR and then deploy the endpoint does not change But even if I change the deploymentBucket and the name of the function i e myFunction the deployment generates always the same endpoint Is it possible to deploy the same function to a different endpoint"
58503480,"Pointing Two AWS Lambda Functions to Same Domain","https://stackoverflow.com/questions/58503480/pointing-two-aws-lambda-functions-to-same-domain","{aws-lambda,serverless-framework,aws-serverless,serverless-plugins}","2019-10-22 11:41:11+03","2024-05-17 04:56:27.330002+03","I am using the serverless framework and AWS Lambdas to deploy two function with different path names message and subscribe to my subdomain at form example com I am using the serverlessdomainmanager plugin for serverless and successfully configured my domain for the message function using serverless create_domain but since I also needed to do that for subscribe I tried to follow the same process receiving messages that the domain already existed and caught an error Error Unable to create basepath mapping After flipping a configuration createRoute53Record false and rerunning it started to work but now when I run sls deploy for my message function I get the error message I used to see for subscribe Error from sls deploy Here is my config for the serverlessdomainmanager Does this have to do with the deployment of two functions to the same domain Is there a proper process to allow that to happen"
58512322,"Difference of the three lambda function definitions (handler.js)","https://stackoverflow.com/questions/58512322/difference-of-the-three-lambda-function-definitions-handler-js","{aws-lambda,serverless-framework}","2019-10-22 21:06:34+03","2024-05-17 04:56:28.42303+03","I see different examples of skeleton function definitions in handler js when I play with Serverless Framework In handler js Version 1 and Version 2 are similar in the way that they are both defined as async function and the only difference is number of parameters but why can Version 2 ignore context entirely I assume the APIGateway will pass the context parameter to the lambda function anyway how can the lambda function not define the argument will not this cause run time error during lambda invocation Version 3 is defined in an entirely different paradigm i e not an async function and I think this this the skeleton function generated by an older version Serverless framework Can someone give me some guide here"
58524563,"Serverless Django using Azure Functions","https://stackoverflow.com/questions/58524563/serverless-django-using-azure-functions","{python,django,azure,serverless-framework,serverless}","2019-10-23 13:57:55+03","2024-05-17 04:56:29.260789+03","I have been trying to find ways to run Django on a Serverless environment on Azure Functions Assuming the constraint that I can only use Azure services I want to make sure that the Django code that we will write should be portable can be deployed anywhere else I have been trying a couple of methods including Python on Azure Part 4Running serverless Django and the Serverless Framework still I am not able to get the environment running errorfree I wanted to be sure that even if someone has a working idea on running Django serverless and some guidance towards a good resource"
58528061,"Path parameters, body coming as null while using authorizer in aws lambda","https://stackoverflow.com/questions/58528061/path-parameters-body-coming-as-null-while-using-authorizer-in-aws-lambda","{node.js,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-10-23 17:24:00+03","2024-05-17 04:56:30.777789+03","I have create a Lambda authorizor method token based with custom vpc and integrated with another lambda for api gateway authorization when the authorization succeeds and when it wents to the destination lambda the path parameters and query parameters in event are coming as null in serverless yml file authorizor function in serverless yml file normal lambda when user authorized i am passing returning the object as but when i tried to use the id in event pathParameter it is returning null the same goes with queryStringParameters any one can help thanks in advance "
58531837,"How to access SSM Parameter Store Values through AWS Lambda Function Environment Variables using Serverless Framework?","https://stackoverflow.com/questions/58531837/how-to-access-ssm-parameter-store-values-through-aws-lambda-function-environment","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-parameter-store}","2019-10-23 22:40:36+03","2024-05-17 04:56:31.09978+03","So I have configured my lambda functions yaml file like so and my lambda function looks like this and I can access the hardcoded database_server value just fine but the ssm [myParam] command is interpreted as a string instead of following the path and accessing the value stored in SSM Parameter Store Most of the examples I see have long complicated paths to point to their SSM Params but as I am just trying to show that it is possible to access the SSM Params at all in this manner I am trying to keep it as simple as possible I am also assuming that the ssm [] command is just not escaping at all because I would expect an undefined value to be returned if no SSM Param was found at the defined path "
58548512,"type error for fetch while using aws-cognito-identity-js","https://stackoverflow.com/questions/58548512/type-error-for-fetch-while-using-aws-cognito-identity-js","{javascript,typescript,amazon-web-services,amazon-cognito,serverless-framework}","2019-10-24 20:09:42+03","2024-05-17 04:56:31.797196+03","I am building an serverless a app using the serverless framework and typescript and using aws cognito for user authentication When I am using the application in local serverless environment everything works I can sign up a user and also sign the user in to recieve jwt token But when I deploy the code to aws it gives me message fetch is not a function So i go through different github issues stack overflow and see that everyone suggests the similar solution by adding global fetch Similar solution in this post Nuxt application with amazoncognitoidentityjs package gives error fetch is not defined so I added the above and did an npm install of nodefetch and pushed the code but then the problem is different which is that since I am using typescript i cannot use global fetch So i find different ways to change that in local And when I run it in both ways in local and also in AWS LAMDA it fails with the same error TypeError fetch is not a function So I am out of options and looking if someone can help me out "
58574842,"Serverless scheduled, detect cron","https://stackoverflow.com/questions/58574842/serverless-scheduled-detect-cron","{node.js,aws-lambda,serverless-framework}","2019-10-26 21:22:31+03","2024-05-17 04:56:32.908333+03","I would like to run a function via both HTTP and cron but not seeing any documentation that let us me determine if it was an http request or cron request explicitly Is there a property in event or context that would allow me to detect what triggered the function"
57974473,"Serverless public access","https://stackoverflow.com/questions/57974473/serverless-public-access","{python,amazon-web-services,aws-lambda,serverless-framework}","2019-09-17 12:43:08+03","2024-05-17 04:56:35.995481+03","I am using Serverless framework to create a Lambda on AWS I have added this simple code to test Internet connectivity within my lambda This code always fails to connect to Internet saying timed out I am launching my lambda in my own VPC I am reusing RDS VPC to be specific I have created my own VPC and it has few subnets each has connectivity to Internet Gateway This is what my security group configuration looks like As given here if the subnet has igw route then it should have Internet access Which I have verified by launching an EC2 instance and trying to ping from there and I was successful in doing so What am I missing here How do I enable Internet access from my Lambda code"
57986030,"mapping API Gateway websockets directly to a kinesis stream in serverless","https://stackoverflow.com/questions/57986030/mapping-api-gateway-websockets-directly-to-a-kinesis-stream-in-serverless","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,amazon-kinesis}","2019-09-18 06:06:06+03","2024-05-17 04:56:36.919893+03","I have a kinesis stream and a function that can be triggered either by a message from a websocket connection or the kinesis stream Is there a way to define API Gateway websocket endpoint and link it directly to kinesis stream without an intermediary lambda I want my lambdas listen to kinsesis streams and my kinsesis streams fed data directly from AWS sources which i want defined in serverless yml outside of lambda definitions "
58004398,"Serverless Framework and DynamoDB: Unexpected token in JSON at JSON.parse","https://stackoverflow.com/questions/58004398/serverless-framework-and-dynamodb-unexpected-token-in-json-at-json-parse","{rest,aws-lambda,amazon-dynamodb,serverless-framework,aws-serverless}","2019-09-19 05:43:43+03","2024-05-17 04:56:38.046924+03","Hi I followed this Serverless AWS REST API tutorial and it went great I got it to work Now I am trying to modify it but have hit a wall while trying to submit data into the DynamoDB table Using Postman to submit a valid JSON object I get a 502 response If I test the function in Lambda I get the following error After searching for solutions what I found out is that it seem like the event that is being passed as JSON parse event is undefined Heres the serverless yml and the interview js If I replace the event param for a valid JSON object and then deploy again I am able to successfully insert the object into dynamoDB Any clues Please let me know if there is anything I missing that could help Thanks "
58007371,"Just deploy cloudformation changes with serverless framework for AWS","https://stackoverflow.com/questions/58007371/just-deploy-cloudformation-changes-with-serverless-framework-for-aws","{serverless-framework}","2019-09-19 09:00:33+03","2024-05-17 04:56:38.949153+03","I am making changes just to custom resources in my serverless yml with an AWS provider The package from the lambda code is not changing it is already uploaded to S3 from a previous deploy How can I say use the artifacts already in S3 just upload the changed cloudformation template and update the stack using that"
58029898,"Using GCP connector with serverless framework","https://stackoverflow.com/questions/58029898/using-gcp-connector-with-serverless-framework","{google-cloud-platform,google-cloud-functions,serverless-framework,connector}","2019-09-20 14:02:29+03","2024-05-17 04:56:39.710538+03","How do I deploy a Google Cloud function with Serverless framework if I need to specify a connector see httpscloud google comfunctionsdocsconnectingvpc I have tried adding these lines to serverless yml Also I tried this As a result connector is not added To deploy a function I use serverless deploy command httpsserverless comframeworkdocsprovidersgoogleguideintro"
58036272,"API Gateway: Can't Enable CORS","https://stackoverflow.com/questions/58036272/api-gateway-cant-enable-cors","{aws-lambda,cors,aws-api-gateway,serverless-framework,serverless}","2019-09-21 00:06:20+03","2024-05-17 04:56:40.516709+03","I cannot Enable CORS on my API Gateway instance this is how it looks 1 Settings 2 Result I have tried a bunch of things like checking the DEFAULT 4XX and DEFAULT 5XX and manually inputting the AccessControlAllowMethods as suggested in some posts If I hover over the error I get Invalid Response status code specified I am able to GET using my browser but POST can only be done from Postman My ReactJS website will not post either throwing Access to XMLHttpRequest at ENDPOINT from origin S3REACTBUCKET has been blocked by CORS policy No AccessControlAllowOrigin header is present on the requested resource I have read that I have my React app should send the CORS headers have not got to that but I cannot even Enable CORS in the API Gateway "
58054877,"Can't connect Lambda function to Aurora RDS","https://stackoverflow.com/questions/58054877/cant-connect-lambda-function-to-aurora-rds","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework,serverless}","2019-09-23 02:09:11+03","2024-05-17 04:56:41.288814+03","I am using the serverless framework to try and have my lambda function throw some records into an always on Aurora RDS instance So far I have been met with connect timeouts when using the mysql npm package and trying to connect to the RDS instance Here is what I have checked\tried serverless yml What am I missing here It is connect timing out when it is triggered from the SQS queue "
58061250,"Import self made Python module from outside serverless folder","https://stackoverflow.com/questions/58061250/import-self-made-python-module-from-outside-serverless-folder","{python,aws-lambda,serverless-framework}","2019-09-23 11:16:17+03","2024-05-17 04:56:41.874852+03","I have a serverless folder with a Python AWS Lambda Function in it I want to include a module from outside of the serverless folder This is my folder structure I have added sys path append \src\utils in handler py and this works locally However when triggering handler py lambda in AWS I get No module named utils Is there a way I can import myModule py into handler py and still leave it where it is now"
58073360,"How to execute a Linux exec file in an AWS lambda func to process 200 imgs in s3?","https://stackoverflow.com/questions/58073360/how-to-execute-a-linux-exec-file-in-an-aws-lambda-func-to-process-200-imgs-in-s3","{node.js,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2019-09-24 05:03:01+03","2024-05-17 04:56:42.570661+03","I need to execute a Linux file who will process some images with the next structure LinuxCLI frames keyFrames output The idea is that a lambda function will receive 1400 images from an s3 bucket and passed to the CLI as a folder I am using node js and serverless framework I can change the CLI to accept different parameters if need Does it possible"
57585157,"Getting double quotes when returning html","https://stackoverflow.com/questions/57585157/getting-double-quotes-when-returning-html","{node.js,serverless-framework,hapi.js,serverless,hapi}","2019-08-21 05:46:37+03","2024-05-17 04:56:53.57081+03","I have below route to return privacy policy for my app However when I am returning the html content I am getting double quotes at the start and at the end of my content How can I remove them Thank you"
58083730,"how i can decode or parser ""multipart/form-data"" in ruby 2.5 and get hash with params","https://stackoverflow.com/questions/58083730/how-i-can-decode-or-parser-multipart-form-data-in-ruby-2-5-and-get-hash-with-p","{ruby,aws-api-gateway,serverless-framework,serverless}","2019-09-24 15:33:21+03","2024-05-17 04:56:43.285648+03","I want decode body what do i get of apigateway request to a lambda in ruby 2 5 and get hash with params This one comes with Contenttype formdata 106174163609970174188191\r\nContentDisposition formdata name\packageName\\r\n\r\ncom orbemnetworks americatv\r\n106174163609970174188191\r\nContentDisposition formdata name\subscriptionId\\r\n\r\nsuscripcion_mensual\r\n106174163609970174188191\r\nContentDisposition formdata name\token\\r\n\r\ndaomloifokamoigolhhapeap AOJ1OxQBm7mW7z6pPPfwE9bJ23n5oeQwOBf46gKFSjjdHmkRHJDIRRCbXtuDD6L_C_KfYEVETbvpu0M72t9FXTNdHbB67dfJqzGMpx197Pb_IN8kLyU6ngb8Yvo1rxJzcC04Rg\r\n106174163609970174188191\r\nContentDisposition formdata name\idusuario\\r\n\r\n1577633\r\n106174163609970174188191\r\nContentDisposition formdata name\os\\r\n\r\nA\r\n106174163609970174188191\r\n"
58091043,"kinesis data stream is not real time?","https://stackoverflow.com/questions/58091043/kinesis-data-stream-is-not-real-time","{amazon-web-services,aws-lambda,serverless-framework,amazon-kinesis}","2019-09-25 04:11:43+03","2024-05-17 04:56:44.69063+03","Got a function triggered on kinesis stream messages serverless yml The function does get triggered eventually 25 sec after the message is sent but not immediately Is this by design Can I assume kinesis data streams are not good for near real time event driven architecture What actually triggers a lambda when the trigger is a kinesis stream It looks like there is just background periodic polling every 12 sec the lambda is triggered if new messages found in the stream "
58092402,"Access denied error from SES serverless framework","https://stackoverflow.com/questions/58092402/access-denied-error-from-ses-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-09-25 06:34:43+03","2024-05-17 04:56:45.17182+03","Im trying to send an email through calling api from lambda function Everything works fine locally but after deployment am getting Access Denied error from SES "
58110563,"How to add a new lifecycle rule to existing s3 bucket using serverless framework","https://stackoverflow.com/questions/58110563/how-to-add-a-new-lifecycle-rule-to-existing-s3-bucket-using-serverless-framework","{amazon-web-services,serverless-framework}","2019-09-26 06:13:34+03","2024-05-17 04:56:45.932015+03","I have a s3 bucket I am using serverless to create a lambda function to read from s3 httpsserverless com Everything works very well I want to add a lifecycle rule to this s3 bucket to delete files from s3 after few days using the serverless framework How can this be done in serverless yml file "
58113632,"Can we use combination of AWS and Google Cloud resources in a single serverless.yml file?","https://stackoverflow.com/questions/58113632/can-we-use-combination-of-aws-and-google-cloud-resources-in-a-single-serverless","{amazon-web-services,google-cloud-platform,google-cloud-firestore,serverless-framework,aws-serverless}","2019-09-26 09:26:21+03","2024-05-17 04:56:47.219615+03","We are using AWS primarily for our application but we also need to use a particular Google service This service requires us to upload media on Google Cloud Storage Like AWS resources we want to use the serverless framework to create all required GCP resources I need your help to know the answer to the below questions"
58116840,"How to import fluent-ffmpeg in AWS lambda?","https://stackoverflow.com/questions/58116840/how-to-import-fluent-ffmpeg-in-aws-lambda","{ffmpeg,aws-lambda,serverless-framework,fluent-ffmpeg}","2019-09-26 12:29:49+03","2024-05-17 04:56:47.762832+03","I am trying to use fluentffmpeg in AWS Lambda but cannot get it setup correctly At the top of my index js import ffmpeg from fluentffmpeg But it is always undefined ffmpeg undefined I am using Serverless and have ffmpeg included as a layer serverless yaml package json The uploaded lambda seems to be constructed correctly from what I can tell Webpack builds the file with fluentffmpeg merged in and it is linked to the ffmpeg layer I can load other packages It is just fluentffmpeg that comes back undefined From the docs it mentions passing FFMPEG_PATH and FFPROBE_PATH as environment variables Are these necessary with a layer I would be grateful to see a configuration that works "
57576427,"Serverless Lambda Proxy Integration using request validation model - how to get detailed validation error response","https://stackoverflow.com/questions/57576427/serverless-lambda-proxy-integration-using-request-validation-model-how-to-get","{aws-lambda,aws-api-gateway,serverless-framework}","2019-08-20 14:57:25+03","2024-05-17 04:56:49.785125+03","I am validating the payload of a request via a model see serverless yml extract below All works as expected but the validation response for a payload that does not match the schema is I have tried adding a response template but get a warning that response will be removed this is a lambda proxy integration not a lambda integration How do I get API Gateway to give a detailed validation error message response in this scenario i e a Lambda Proxy integration Any help would be much appreciated as I cannot find anything relevant online "
57578938,"Is the .serverless folder needed for trouble-free execution?","https://stackoverflow.com/questions/57578938/is-the-serverless-folder-needed-for-trouble-free-execution","{amazon-web-services,serverless-framework,serverless,aws-serverless}","2019-08-20 17:38:56+03","2024-05-17 04:56:50.510612+03","Will I need to push the serverless folder to my repo and keep it updated to allow for a frictionless sls deployment or can I discard it at any time"
57579797,"setting up serverless.yml file to use a specific aws profile","https://stackoverflow.com/questions/57579797/setting-up-serverless-yml-file-to-use-a-specific-aws-profile","{serverless-framework}","2019-08-20 18:42:09+03","2024-05-17 04:56:51.116495+03","Instead of running sls deploy awsprofile name is there a way to configure the serverless yml file to just contain this information"
57580631,"Serverless+Webpack: include .pem files in ZIP","https://stackoverflow.com/questions/57580631/serverlesswebpack-include-pem-files-in-zip","{amazon-web-services,webpack,serverless-framework,serverless,aws-serverless}","2019-08-20 19:48:22+03","2024-05-17 04:56:51.840991+03","I try to deploy my lambda function to AWS using serverless Everything works fine but the function cannot be executed because two files are not found thats what fs readFileSync says I include them with the following lines in the serverless yml When I look in the zip file which is uploaded to S3 both pem files are not included I already tried using __dirname to get the complete file path on the lambda function My webpack config js looks as following Can someone of you help Cheers "
57580849,"Add and Update DNS Records in Route 53 to Cloudfront with Serverless Framework","https://stackoverflow.com/questions/57580849/add-and-update-dns-records-in-route-53-to-cloudfront-with-serverless-framework","{dns,amazon-route53,serverless-framework,serverless,aws-serverless}","2019-08-20 20:04:39+03","2024-05-17 04:56:52.56416+03","I am currently working on expanding this repo It contains source code to deploy a sappersvelte webapp with the Serverless Framework to AWS I am thinking about how to expand the serverless yml to include Route53 DNS routing to Cloudfront but I cannot seem to wrap my head around it The serverlessdomainmanager plugin seems to be designed for Route53 to API Gateway routing but I am deploying my app only with Cloudfront an S3 bucket and an Lambda handler serversiderendering the application "
57608422,"Why is my Lambda unable to access the internet?","https://stackoverflow.com/questions/57608422/why-is-my-lambda-unable-to-access-the-internet","{amazon-web-services,aws-lambda,serverless-framework}","2019-08-22 11:33:55+03","2024-05-17 04:56:55.393804+03","I have a Lambda function which can be triggered from an API gateway or ALB request I also have an RDS Aurora PostgreSQL instance both of which are running within a VPC I am able to connect to the RDS instance from the Lambda just fine however I cannot access the internet e g attempting to fire off a request to httpsjsonplaceholder typicode comtodos1 will cause a timeout I also cannot connect to the remote database using a SQL client such as DBeaver Heres some detail below but let me know if you need anything else I am stumped Lambda Inbound Rules Lambda Outbound Rules RDS Connectivity VPC Public Subnet Private Subnet EDITS Nat Gateway associated with public subnet Route Tables Route Table Routes EDIT 2 Lambda Subnets"
57624100,"How to run cron in serverless for every minute?","https://stackoverflow.com/questions/57624100/how-to-run-cron-in-serverless-for-every-minute","{node.js,cron,serverless-framework,serverless,aws-serverless}","2019-08-23 10:10:07+03","2024-05-17 04:56:56.494223+03","I need to run cron for every minute for my server less But it throws me error"
57639922,"Serverless Framework With AWS, scheduling","https://stackoverflow.com/questions/57639922/serverless-framework-with-aws-scheduling","{amazon-web-services,aws-lambda,serverless-framework}","2019-08-24 16:57:38+03","2024-05-17 04:56:56.925975+03","I have a function that runs on a schedule The crontab looks like this When I deploy the function I am not sure what triggers it in the aws lambda In the console I only see the API gateway How do I know what triggers my schedule that I set in serverless"
57648157,"Serverless invoke returns ""Unable to marshal response: OSError(30, 'Read-only file system') for my Python lambda","https://stackoverflow.com/questions/57648157/serverless-invoke-returns-unable-to-marshal-response-oserror30-read-only-fi","{amazon-web-services,docker,aws-lambda,serverless-framework,pyppeteer}","2019-08-25 17:20:16+03","2024-05-17 04:56:58.06001+03","When running my pythonbased aws lambda I get a readonly file system error But I am not doing any logging it looks like serverless is Here is my serverless yml I have wrapped my handler in a trycatch but it does not even get to my code I expect my lambda to run my code without error"
57653077,"Serverless configuration for IoT rules, SQS Topic and Lambda function","https://stackoverflow.com/questions/57653077/serverless-configuration-for-iot-rules-sqs-topic-and-lambda-function","{amazon-web-services,aws-lambda,amazon-sqs,serverless-framework,aws-iot}","2019-08-26 06:54:23+03","2024-05-17 04:56:58.605495+03","I am using Serverless framework I have written a rule for the MQTT topic When a message is published on a MQTT topic by the device I extract the required fields from the message payload and trigger a Lambda functions This works perfectly file Here is the serverless configuration snippet for the same I want to convert this synchronous event processing to Asynchronous mode From the AWS console I have created another rule for IoT wherein the message coming to MQTT broker is published to the SQS queue Then I have configured a Lambda function which gets triggered when a message is published to the SQS queue This also works fine I want to configure this IoT Rule SQS Queue and the Lambda function at the time of deployment using the serverless yml file Are there any sample configuration files which provide the example of this setup IoT Topic IoT rule SQS Queue Lambda invocation So far the example I have seen only show the configuration for SQS and lambda functions only httpsmedium comconsulnerawslambdasqseventswithserverlessframework7429471ac664"
57663547,"Error when deploying python C packages on Google Cloud functions","https://stackoverflow.com/questions/57663547/error-when-deploying-python-c-packages-on-google-cloud-functions","{python-3.x,google-cloud-platform,google-cloud-functions,serverless-framework,google-cloud-pubsub}","2019-08-26 19:05:27+03","2024-05-17 04:56:59.56648+03","I am deploying a Google Cloud function with python37 using serverlessgooglecloudfunctions This function uses the pubsub API to publish a message However I am getting the following error It seems to be because you cannot pip install a C library with requirements txt How to I fix this My code is below My requirements txt is the following I have tried adding grpcio1 22 0 to no avail My serverless yml"
57665970,"How do I get the ARN of an AWS Lambda function for a Cloud Formation specific resource property?","https://stackoverflow.com/questions/57665970/how-do-i-get-the-arn-of-an-aws-lambda-function-for-a-cloud-formation-specific-re","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2019-08-26 23:21:40+03","2024-05-17 04:57:00.297312+03","I cannot seem to get Ref or FnGetAtt to return a valid value for use with setting up a resource serverless yml serverless_resources yml No matter what I do GetAtt cannot find the ARN for the Lambda function declared in bearerTokenAuthentication I just keep getting this error Error The CloudFormation template is invalid Template error instance of FnGetAtt references undefined resource bearerTokenAuthentication or if trying Ref Error The CloudFormation template is invalid Template format error Unresolved resource dependencies [bearerTokenAuthentication] in the Resources block of the template Is it possible to reference Lambda ARNs from the resource section It seems by the error messages it is looking for resource names I always thought the lambda function declaration was also considered a resource besides the obvious Resources block of course perhaps I am misunderstanding something "
57677713,"Serverless azure-node.js template unable to find functions : Error : ""No job functions found"" (VS-code)","https://stackoverflow.com/questions/57677713/serverless-azure-node-js-template-unable-to-find-functions-error-no-job-fun","{node.js,azure,azure-functions,serverless-framework,serverless}","2019-08-27 15:11:09+03","2024-05-17 04:57:01.332484+03","I am using serverless framework httpsserverless comframeworkdocsprovidersazureguidequickstart to create node js based azure functions I followed the procedure as stated in the quick start guide but facing the following issue while running it locally with npm start No job functions found Try making your job classes and methods public If you are using binding extensions e g Azure Storage ServiceBus Timers etc make sure you have called the registration method for the extension s in your startup code e g builder AddAzureStorage builder AddServiceBus builder AddTimers etc Though the azure function service is up locally but it does not seem to find my functions What maybe missing here I am running this on VS code "
57691028,"Badge count option in amazon SNS","https://stackoverflow.com/questions/57691028/badge-count-option-in-amazon-sns","{node.js,amazon-sns,serverless-framework,serverless,aws-serverless}","2019-08-28 11:09:23+03","2024-05-17 04:57:02.354641+03","I need to get badge count in my application I am using amazon SNS service Here is my code I need to know where I can add badge option here Thank you "
43538747,"Openwhisk serverless setup on premise","https://stackoverflow.com/questions/43538747/openwhisk-serverless-setup-on-premise","{apache,serverless-framework,openwhisk,serverless-architecture}","2017-04-21 09:19:59+03","2024-05-17 05:05:30.154271+03","I want to setup apache openwhisk onpremise in my organization so that we can use it internally within the org i am not able to find much on the net on this i tried cloning the code from git and building it in the windows but it does not work kindly help"
57123404,"Getting Item by ID not working for DynamoDB","https://stackoverflow.com/questions/57123404/getting-item-by-id-not-working-for-dynamodb","{amazon-dynamodb,serverless-framework,aws-amplify}","2019-07-20 09:27:43+03","2024-05-17 04:57:04.522619+03","I have run into an issue trying to retrieve an item from my DynamoDB table I am trying to retrieve one item by its id but I get the error ValidationException The provided key element does not match the schema I have logged event pathParameters id and this is return the id I would expect but am struggling to work out the correct syntax contactId is the primary partition key on my table I have a primary sort key of userId is this the problem Do I have to use the sort key as well in order to retrieve a record dynamolib js get js Table schema Oddly if I run the below in the terminal It gives me the record back Any help would be appreciated Thanks Tim"
57129011,"How to invoke (Serverless) and display in my terminal a output from a AWS-Lambda trigged by AWS-IoT topic (Production)?","https://stackoverflow.com/questions/57129011/how-to-invoke-serverless-and-display-in-my-terminal-a-output-from-a-aws-lambda","{lambda,invoke,serverless-framework}","2019-07-20 22:18:52+03","2024-05-17 04:57:05.312717+03","I have a Lambda function whose the event is an AWSIoT topic Some time ago I used to use a command to invoke using serverless a function in production trough my terminal and when that function was trigged by the event I saw the output in my terminal I dont remeber exactly the command In fact I dont want to run the function by sls invoke f myFunction I want to listen that function when it is trigged How to do that"
57167856,"How do you ""DependsOn"" a Lambda function from a CFN resource?","https://stackoverflow.com/questions/57167856/how-do-you-dependson-a-lambda-function-from-a-cfn-resource","{aws-lambda,aws-cloudformation,amazon-cognito,serverless-framework}","2019-07-23 15:45:44+03","2024-05-17 04:57:05.907663+03","In Serverless I am creating an AWSLambdaPermission CFN resource that allows Cognito to invoke a Custom Message Lambda Handler AWSLambdaPermission depends on the lambda How do I ensure that the lambda is created first I have already tried adding a DependsOn property to the AWSLambdaPermission CFN resource with no luck Below is my CFN resource that is trying to add permissions to Cognito to invoke a lambda Here is what my lambda looks like in my serverless yml Here is what my lambda is doing on a very basic level The error I get from the above is An error occurred CognitoCustomMessageLambdaFunction Function not found arnawslambdauswest21234567890myservicedevcognitoCustomMessage Service AWSLambdaInternal Status Code 404 Error Code ResourceNotFoundException Request ID e2a9852550904d0fa1f520610474f93b If I add a DependsOn The error I get from above is The CloudFormation template is invalid Template format error DependsOn must be a string or list of strings I have also tried The error I get from above is An error occurred CognitoCustomMessageLambdaFunction Function not found arnawslambdauswest21234567890myservicedevcognitoCustomMessage Service AWSLambdaInternal Status Code 404 Error Code ResourceNotFoundException Request ID b888ae82a0d74d69888e9e63027925c1 I expect that there should be some method to create a lambda function first prior to the CFN resource needing to use it but this does not seem to be the case with DependsOn "
57168310,"How to fix 'InvalidClientTokenId: The security token included in the request is invalid.' error in AWS Lambda","https://stackoverflow.com/questions/57168310/how-to-fix-invalidclienttokenid-the-security-token-included-in-the-request-is","{amazon-web-services,lambda,amazon-iam,amazon-sqs,serverless-framework}","2019-07-23 16:12:45+03","2024-05-17 04:57:06.863877+03","I am using Serverless for the first time and have a Lambda inside a VPC that is trying to add a payload to a SQS queue which gives the following error InvalidClientTokenId The security token included in the request is invalid The error means that the access key is missing or invalid which has me stumped and looking for some help This is my serverless yml file I have tried creating new access keys Here is the code sending to SQS"
57172699,"Running Lambda Function written in Go on AWS - error while loading shared libraries","https://stackoverflow.com/questions/57172699/running-lambda-function-written-in-go-on-aws-error-while-loading-shared-librar","{amazon-web-services,go,aws-lambda,serverless-framework,aws-sam}","2019-07-23 21:54:01+03","2024-05-17 04:57:07.698993+03","My question is similar to libtensorflow so cannot open shared object file No such file or directory but I do not see an answer for it so I would appreciate any kind of help Once I print my LD_LIBRARY_PATH I get the following output I have created and deployed TensorFlow Lambda Layer To my knowledge Lambda Layers should be cached in optbin directory right But on documentation httpsdocs aws amazon comserverlessapplicationmodellatestdeveloperguideserverlesssamclilayers html I see that default cache directory is awssamlayerspkg Once I try to run my Lambda function with AWS SAM and once I uncomment code which uses package in which I import tensorflow with go library I get the following error I have even tried to include these libraries in lib directory and I have made that lib directory as part of LD_LIBRARY_PATH Same result "
57182515,"AWS: Re-use amazon Cognito Userpool in multiple serverless applications","https://stackoverflow.com/questions/57182515/aws-re-use-amazon-cognito-userpool-in-multiple-serverless-applications","{amazon-web-services,aws-lambda,aws-cloudformation,amazon-cognito,serverless-framework}","2019-07-24 12:05:10+03","2024-05-17 04:57:08.690388+03","I have divided my serverless project in to multiple projects to avoid template error resource 200 Now I am facing another error I have implemented authentication and authorization using AWS cognito which works well for lambda functions in one serverless application I am trying to reuse same Cognito Userpool for authorizing APIs in another serverless project However each serverless project creates UserPool again with same name in Cognito How to avoid this issue Here is the how my serverless yml and dummy response look like in lambda functions Lamdba function "
57183102,"AWS Lambda Python - Return BytesIO file?","https://stackoverflow.com/questions/57183102/aws-lambda-python-return-bytesio-file","{python-3.x,amazon-web-services,aws-lambda,serverless-framework}","2019-07-24 12:35:31+03","2024-05-17 04:57:09.774564+03","I am setting up a function in AWS Lambda using python 3 7 and it will not let me return a bytes type Please notice that this is not an issue with API Gateway I am invoking the lambda directly The error is Runtime MarshalError is not JSON serializable If I do It outputs a corrupted file because it adds b to the string If I do It also outputs a corrupted file probably because it changes the binary representation of the file Maybe I need to upload to S3 But it does not fit in my flow this is a one time file creation and it would stay in S3 Limbo until TTL"
56579100,"How to do not deploy lambda if no changes on code","https://stackoverflow.com/questions/56579100/how-to-do-not-deploy-lambda-if-no-changes-on-code","{aws-lambda,serverless-framework,serverless}","2019-06-13 11:06:56+03","2024-05-17 04:57:21.433495+03","AWS Lambda are deployed even if there is no change on code and serverless configuration I would like to do not deploy it My code is redeployed even after 2 consecutive serverless deploy I tried to launch on the same code base serverless package twice and the only the difference is on the S3Key and artifactDirectoryName The resulting serverlessstates json files contain the following S3Key So I would like to understand if this can cause deployment Or is this a bad behavior of serverless Actually I am expecting to do not deploy my lambdas"
57192255,"How to get same host on api gateway aws using serverless fraemwork in different service","https://stackoverflow.com/questions/57192255/how-to-get-same-host-on-api-gateway-aws-using-serverless-fraemwork-in-different","{node.js,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-07-24 22:56:28+03","2024-05-17 04:57:10.48356+03","I have to 2 service I want to deploy it and get the same aws host 1 This is first configuration serverless yml When I deploy first service I got end point httpsabcdefgh executeapi apsoutheast1 amazonaws comprodtestsatu And when I deploy second service I got end point httpsabcdefgh executeapi apsoutheast1 amazonaws comprodtestdua But when I deploy second service the first service will be deleted I want to use same host like httpsabcdefgh executeapi apsoutheast1 amazonaws com with different end point "
57202252,"Serverless apiKey error API Keys must be strings","https://stackoverflow.com/questions/57202252/serverless-apikey-error-api-keys-must-be-strings","{amazon-web-services,continuous-integration,continuous-deployment,serverless-framework}","2019-07-25 12:42:48+03","2024-05-17 04:57:11.680715+03","I have a requirement to create a usagePlan for an endpoint with two different apiKeys This is the piece of config that gives me a lot of headache This is taken from the serverless docs from here I tried all the varieties from the docs and all the possibilities but one give me the following error And the one that works look like this Which does not work for me because I need to have 2 keys that are parametrised with the environment name I tried all the variations from the docs and it seems nothing works Any help greatly appreciated Thanks "
57206342,"Serverless framework and path mapping from tsconfig.json don't work","https://stackoverflow.com/questions/57206342/serverless-framework-and-path-mapping-from-tsconfig-json-dont-work","{typescript,webpack,serverless-framework,serverless,tsconfig}","2019-07-25 16:17:20+03","2024-05-17 04:57:13.071678+03","I have a path mapping defined in the tsconfig json file like this and it works with tsnode r tsconfigpathsregister but when it comes to lambdas that are compiled from ts to js files with the help of serverlessplugintypescript plugin it does not work I cannot do this inside my lambdas import as db from dbpsql any more I know why and that is ok but what can I do to make it work I am trying to switch to serverlessplugintypescript to compile ts files to js files Before I was using webpack with tsconfigpathswebpackplugin and that worked but I would like to avoid webpack for compiling lambdas "
57209484,"How to resolve ApiLambdaFunction error using serverless to deploy Angular app to AWS","https://stackoverflow.com/questions/57209484/how-to-resolve-apilambdafunction-error-using-serverless-to-deploy-angular-app-to","{amazon-web-services,aws-lambda,serverless-framework}","2019-07-25 20:08:51+03","2024-05-17 04:57:13.552527+03","I am trying to deploy my Angular app to AWS using the serverless package following the steps in this tutorial I have followed the steps correctly ran npm run buildserverlessdeploy but rather than the app being successfully deployed I get the following error message in the console An error occurred ApiLambdaFunction The runtime parameter of nodejs6 10 is no longer supported for creating or updating AWS Lambda functions We recommend you use the new runtime nodejs10 x while creating or updating functions Service AWSLambdaInternal Status Code 400 Error Code InvalidParameterValueException Request ID dba0ade81f2c4dc78ddcc2966a54a67c When I run node v in my command line I see that it is version 10 14 1 However I did find the following nodejs6 10 reference in serverless yml Can someone please tell me why this is occurring how to resolve it"
57212441,"How to use serverless framework without destroying API Gateway","https://stackoverflow.com/questions/57212441/how-to-use-serverless-framework-without-destroying-api-gateway","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-07-26 02:34:46+03","2024-05-17 04:57:14.629335+03","I have a problem using the serverless framework I have two services with the same API Gateway When I remove one of my services API Gateway will be removed too I want to remove one of my services but not remove API Gateway "
57213929,"Using s3 getObject in Lambda function generates url with InvalidToken error","https://stackoverflow.com/questions/57213929/using-s3-getobject-in-lambda-function-generates-url-with-invalidtoken-error","{node.js,amazon-web-services,amazon-s3,lambda,serverless-framework}","2019-07-26 05:57:35+03","2024-05-17 04:57:15.511758+03","I am trying to get presigned URL to s3 object using getObject method in Lambda function But result URL displays an InvalidToken error when I open it in browser I have uploaded a data txt file to a bucket content ts serverless yml"
57228078,"Pdf not returning from Aws Lambda, but working fine in local","https://stackoverflow.com/questions/57228078/pdf-not-returning-from-aws-lambda-but-working-fine-in-local","{node.js,amazon-web-services,serverless-framework,aws-serverless,node-pdfkit}","2019-07-26 23:49:09+03","2024-05-17 04:57:16.531609+03","I am creating a serverless app in nodejs and using the command sls deploy to Aws Cloud The app function is to send back pdf when accessed through an get endpoint I am using pdfkit to create pdf content and returning it on GET request This is working fine in local However when i deploy the code to aws i am seeing my function execution is fine Cloud formation logs says so however my pdf is coming back as empty the below is the pdfkit package which i am using httppdfkit orgdocsgetting_started html please let me know how i can fix this issue "
57239101,"The batchWrite method of DocumentClient and GSI","https://stackoverflow.com/questions/57239101/the-batchwrite-method-of-documentclient-and-gsi","{node.js,amazon-dynamodb,serverless-framework,dynamodb-queries,documentclient}","2019-07-28 08:18:16+03","2024-05-17 04:57:17.519285+03","I am trying to delete some items from DynamoDB table My table has a global secondary index And I am wondering if it is possible to use the batchWrite method of the DocumentClient to delete items from GSI table Or we can use GSI for fetching data only if it is possible please provide some example of params docs"
57257457,"Getting Two Step Function Executions in serverless for one call [AWS]","https://stackoverflow.com/questions/57257457/getting-two-step-function-executions-in-serverless-for-one-call-aws","{amazon-web-services,aws-lambda,aws-sdk,serverless-framework,aws-step-functions}","2019-07-29 15:56:40+03","2024-05-17 04:57:18.414699+03","I am working with serverless framework and step functions I have a lambda function that triggered by an s3 object upload then that lambda is programmed to start a state machine execution but each time I upload some file it always shows two executions serverless yml Function Execution for one single file upload both success executions are for one file upload I am not sure why something like this happens anything that I miss out or making it act weird Thanks in advance "
56578779,"NodeJS and serverless framework cannot find module ""chrome-aws-lambda"" when invoking lambda function","https://stackoverflow.com/questions/56578779/nodejs-and-serverless-framework-cannot-find-module-chrome-aws-lambda-when-invo","{node.js,puppeteer,serverless-framework}","2019-06-13 10:46:58+03","2024-05-17 04:57:20.540261+03","My code works fine when running locally I have installed the module with npm install chromeawslambda before deploying and tried chmod R r node_modules incase it was a read permission error still no luck My code for handler js My code for getArrayOfPages js"
56623501,"serverless and alamofire ""User is not authorized to access this resource"" but works with postman","https://stackoverflow.com/questions/56623501/serverless-and-alamofire-user-is-not-authorized-to-access-this-resource-but-wo","{swift,lambda,alamofire,serverless-framework,serverless}","2019-06-17 00:12:32+03","2024-05-17 04:57:24.230157+03","I am getting an error that I have not been able to solve From my serverless function only through iOS Alamofire I have about 15 functions and this is only happening on two The rest of the functions are working fine MessageUser is not authorized to access this resource It works fine when I am using postman I am using tokens but all the other functions are working is the same way It also wont nessicerly be a serverless permissions error becuase it is working through post man Here is the basic Alamofire code I am using a request adaptor for the headers "
56627160,"Serverless-framework Api Gateway output model","https://stackoverflow.com/questions/56627160/serverless-framework-api-gateway-output-model","{amazon-web-services,aws-api-gateway,serverless-framework}","2019-06-17 08:05:05+03","2024-05-17 04:57:24.944934+03","I am creating a serverless application and I want to 1 Create a model 2 Use it as Output model I am reading the serverlessframework documentation and the only reference to Model is about request schema validation Any idea or example"
56687900,"AWS API Gateway request body as Java POJO for function","https://stackoverflow.com/questions/56687900/aws-api-gateway-request-body-as-java-pojo-for-function","{java,amazon-web-services,aws-lambda,serverless-framework}","2019-06-20 14:12:09+03","2024-05-17 04:57:25.954146+03","I was just having a really basic problem using awslambda API Gateway and the serverless framework I just wanted to hand over the body of a post request as a Java POJO Okay so heres the setup POJO Handler And the payload in the posts request body would be And last but not least the serverless yml Well looks pretty straight forward does not it Unfortunately it is not that simple The Person POJO will always be empty when calling the function How can we give the body as a POJO in AWS API Gateway Lambda"
56690298,"Cognito User Pool trying to send SMS when it's configured for email sending","https://stackoverflow.com/questions/56690298/cognito-user-pool-trying-to-send-sms-when-its-configured-for-email-sending","{amazon-web-services,amazon-cognito,serverless-framework,aws-serverless,serverless-architecture}","2019-06-20 16:26:11+03","2024-05-17 04:57:27.020406+03","I am using the serverless framework in order to create a Cognito User Pool using the following CloudFormation configuration As you can see the AutoVerifiedAttributes is set to email so Cognito should send the verification code through the email configured in SES But I am getting the following error in my CICD pipeline User pool does not have SMS configuration to send messages Any hints of why is this happening"
56698808,"Serverless(aws-node): Call a function from a different file returns internal server error","https://stackoverflow.com/questions/56698808/serverlessaws-node-call-a-function-from-a-different-file-returns-internal-ser","{javascript,node.js,serverless-framework,aws-serverless}","2019-06-21 07:29:47+03","2024-05-17 04:57:27.827058+03","So I have this following functions on my serverless yml and I have this code in handler js that calls getQuotation function from lalamoveindex getQuotation after serverless deploy and I look run the getEstimate endpoint I get message Internal server error but if I try to run getQuotation I get messagehermbs which should be printed too when I run getEstimate this is my index js am I missing something here"
56700731,"serverless(node-aws) ""TypeError"",""errorMessage"":""callback is not a function""","https://stackoverflow.com/questions/56700731/serverlessnode-aws-typeerror-errormessagecallback-is-not-a-function","{javascript,node.js,serverless-framework,aws-serverless}","2019-06-21 09:36:36+03","2024-05-17 04:57:28.902378+03","on my handler js I have been passing the string hi to getQuotation on lalamoveindex js and it logs in the console log it works in the console but it cannot be returned when I check the logs ERROR Invoke Error errorTypeTypeErrorerrorMessagecallback is not afunctionstack[TypeError callback is not a function at Object getQuotation vartasklalamoveindex js109 at Runtime module exports getEstimate[as handler] vartaskhandler js1412 at Runtime handleOnce varruntimeRuntime js6325 at process _tickCallback internalprocessnext_tick js687 ] I tried to remove context but it is still the same I tried to use return instead of callback but it does not work I still get instead of"
56704657,"How to build an app using a serverless architecture?","https://stackoverflow.com/questions/56704657/how-to-build-an-app-using-a-serverless-architecture","{rest,backend,serverless-framework,serverless}","2019-06-21 13:43:18+03","2024-05-17 04:57:29.864386+03","I am confused about Firebase and serverless in general as I was just introduced to this concept recently note that I am still studying computer science and I am just exploring on my own now In the past I have been part of a project that had the following structure Front End in a Singlepageapp Back End built as a REST API Now let us say I want to build a product that might have a website and mobile apps It also has to have backend logic as there are accounts objects owned by users and possible integration with a payment service What I initially expected from this before knowning about serverless is that you build a backend using something like Go was my case where you handle all the database data and thirdparty integrations build a front end with something like Vue and then use the backends REST API to communicate between both of them Is this still the case with serverless Do you build the whole backend server code or does it work in another way I do not needwant you to explain all of it to me I just need some insight on what is done and common so I can investigate further "
56709408,"403 Forbidden when trying to upload PDF as blob to S3 bucket using PUT","https://stackoverflow.com/questions/56709408/403-forbidden-when-trying-to-upload-pdf-as-blob-to-s3-bucket-using-put","{node.js,amazon-web-services,amazon-s3,serverless-framework}","2019-06-21 19:29:16+03","2024-05-17 04:57:29.991344+03","Upload a PDF file from a browser client without exposing any credentials or anything unsavory Based on this I thought it could be done but it does not seem to work for me The premise is you request a presigned URL from an S3 Bucket based on a set of parameters supplied to a function that is part of the JavaScript AWS SDK you supply this URL to the frontend which can use it to place a file in the S3 Bucket without needing to use any credentials or authentication on the frontend This part is simple and it works for me I just request a URL from S3 with this little JS nugget This is the part that does not work and I cannot figure out why This little chunk of code basically sends a blob of data to the S3 bucket presigned URL using a PUT request I have found that using any POST requests results in 400 Bad Request so PUT it is ContentType in my case it would be applicationpdf so blobData type they match between the backend and frontend xamzacl header More ContentType Similar use case Looking at this one it appears that no headers need to be supplied in the PUT request and the signed URL itself is all that is necessary for the file upload Something weird that I do not understand It looks like I may need to pass the length and type of the file to the getSignedUrl call to S3 Exposing my Bucket to the public no bueno Upload file to s3 with POST 403 Forbidden Response type cors url https bucketname s3 regionid amazonaw nedHeadershost3Bxamzaclxamzaclpublicread redirected false status 403 ok false body bodyUsed false headers Headers ok false redirected false status 403 statusText Forbidden type cors url https bucketname s3 regionid amazonaws comactionID pdfContentTypeapplication2FpdfXAmzAlgorithmSHA256XAmzCredentialCREDZXAmzDate20190621T192558ZXAmzExpires900XAmzSecurityToken token XAmzSignedHeadershost3Bxamzaclxamzaclpublicread proto Response I am thinking the parameters supplied to the getSignedUrl call using the AWS S3 SDK are not correct though they follow the structure suggested by AWS docs explained here Aside from that I am really lost as to why my request is rejected I have even tried exposing my Bucket to the public fully and it still did not work After reading this I tried to structure my PUT request like this this resulted in a 400 Bad Request instead of a 403 different but still wrong It is apparent that putting any headers on the request is wrong "
56712973,"passing a JSON file in event: event cannot read keys, only values","https://stackoverflow.com/questions/56712973/passing-a-json-file-in-event-event-cannot-read-keys-only-values","{javascript,node.js,serverless-framework}","2019-06-22 05:54:19+03","2024-05-17 04:57:30.994168+03","so I have this simple code and I get this on my logs and I pass this body via Postman I used to code in AWS Lambda and when I call event message henlo will be the value but here it does not it says undefined so I logged the whole event and as you can see when I console log the whole event I can see the henlo as part of the log but the key message is not there how can I call henlo This is a Post Request too "
56734619,"Serverless yml assigning an S3 'array' variable instead of multiple config values","https://stackoverflow.com/questions/56734619/serverless-yml-assigning-an-s3-array-variable-instead-of-multiple-config-value","{javascript,node.js,serverless-framework,serverless,aws-serverless}","2019-06-24 10:27:57+03","2024-05-17 04:57:32.110136+03","I have a plugin in serverless that I am using that has a config value that requires multiple entries see below Instead of defining each sample entry I want to be able to read from somewhere externally so I can automate the appending of new values I know you can define S3 variables but is there any way to supply the samples config value with some array data in S3 So it might look something like Array Or alternatively a way to append values to serverless yml in node js based on the name key"
56739402,"Use External Id in cross-account role of AWS using Serverless Framework","https://stackoverflow.com/questions/56739402/use-external-id-in-cross-account-role-of-aws-using-serverless-framework","{amazon-web-services,amazon-iam,serverless-framework,serverless,aws-serverless}","2019-06-24 15:05:23+03","2024-05-17 04:57:33.166152+03","Here is the problem I need to use the Lambda function in AWS Account A In root AWS Account A to write some data to the DynamoDB tables in AWS Account B in root AWS Account B All the project in written with Serverless Framework in Node js I know I need to use CrossAccount Role in the Lambda function to do that Since Serverless use the template that shares a lot of things similar to the cloudformation template Then I did some research on how to use the cross account role here is the AWS Documentation httpsdocs aws amazon comzh_cnIAMlatestUserGuideid_roles_create_foruser_externalid html this is the sample iam specification for the task like this The yaml template in the serverless looks like this in my project But When I tried to deploy the serverless template I got the error like this An error occurred IamRoleLambdaExecution Policy document should not specify a principal Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Request ID XXXXXXXXXXXXXXXXXXXX I am wondering what is the correct way to specify the template according to the demand Appreciate to the help of any kinds"
56741638,"MongoDB Connection created for every AWS serverless function call","https://stackoverflow.com/questions/56741638/mongodb-connection-created-for-every-aws-serverless-function-call","{express,mongoose,aws-lambda,serverless-framework,aws-serverless}","2019-06-24 17:52:32+03","2024-05-17 04:57:33.959289+03","I have set up Express js with Serverless and connecting to mongoDb atlas The Code works fine but It creates a connection for each call I tried the Caching method also but no luck with it Here is my code below"
55978956,"How can I load a third-party ML model into a serverless function","https://stackoverflow.com/questions/55978956/how-can-i-load-a-third-party-ml-model-into-a-serverless-function","{python,lambda,scikit-learn,serverless-framework}","2019-05-04 02:23:01+03","2024-05-17 04:57:35.897105+03","I have built an ML model using the sklearn module and I want to serve it predictions via AWS API Gateway Lambda function My problems are I have tried this tutorial in order to reduce the bundle size However it raises an exception because of the usewheel flag httpsserverlesscode compostscikitlearnwithamazonlinuxcontainer Where z_features are my features after using a scalar"
55983168,"How to manipulate request Accept header for AWS API Gateway Lambda LAMBDA_PROXY integration","https://stackoverflow.com/questions/55983168/how-to-manipulate-request-accept-header-for-aws-api-gateway-lambda-lambda-proxy","{aws-lambda,aws-api-gateway,serverless-framework}","2019-05-04 13:47:45+03","2024-05-17 04:57:36.980313+03","I have written a small lambda function and deployed to AWS using the serverless framework It provides a single function that returns a png file When the resource is opened in a browser it correctly loads a png When requested with curl curl https executeapi useast1 amazonaws comdevimage png it produces a base64 encoded version of the image When I request on the command line with Accept header curl H Accept imagepng https executeapi useast1 amazonaws comdevimage png it produces a binary imagepng version of the image How do I manipulate the request to the API gateway so that all requests have Accept imagepng set on them regardless of origin Or is there another way to ensure that the response will always be binary rather than base64 Source Code The handler code loads a png image from disk and then returns a response object with a base64 encoded output of the image The serverless configuration sets up the function and uses the serverlessapigwbinary and serverlessapigwybinary plugins to set content handling and binary mime types for the response package json"
55986229,"API Gateway Resource policy returning 403","https://stackoverflow.com/questions/55986229/api-gateway-resource-policy-returning-403","{amazon-web-services,aws-api-gateway,serverless-framework}","2019-05-04 19:44:05+03","2024-05-17 04:57:37.780268+03","So I am trying to restrict access on API Gateway for one API endpoint for Auth0 to call when a user has signed Up I have tried a few permutations on this the example below in my mind should work that does not I allow everything As a test I specifically allowed one endpoint also Then I deny everyone the securedEnpoint Then I allow auth0 IP addresses access to the securedEnd endpoint my IP was also on that list I have removed it for security The securedEndpoint does not have an authorizer attached with this policy applied ALL endpoints return 403 from APIG I am using serverless to deploy this what you see below is the resulting JSON from the resource policy section in the APIG console "
55999325,"Google HTTP Cloud Function returns 403","https://stackoverflow.com/questions/55999325/google-http-cloud-function-returns-403","{google-cloud-functions,serverless-framework}","2019-05-06 05:34:51+03","2024-05-17 04:57:38.728292+03","I use serverless framework to manage my cloud functions Some of them are of HTTP type Recently all the HTTP functions started to fail with 403 error No matter if you enter a URL in a browser or trigger it with the cloud scheduler The only place where it works is the testing tab of the function in the cloud console when you click the Test the function button "
56012953,"SNS Topic says it wants a string","https://stackoverflow.com/questions/56012953/sns-topic-says-it-wants-a-string","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-05-06 22:02:39+03","2024-05-17 04:57:39.592255+03","I have looked around through several guides and they all follow this same pattern yet I still get the following error Using the serverless framework here is the section that declares that resource I have been going over and over this for a few hours now would love some help thanks "
56027074,"Unauthenticated and authenticated APIs using Cognito","https://stackoverflow.com/questions/56027074/unauthenticated-and-authenticated-apis-using-cognito","{aws-lambda,amazon-cognito,amazon-iam,serverless-framework,serverless}","2019-05-07 16:42:09+03","2024-05-17 04:57:40.228813+03","I followed the tutorial at httpsserverlessstack com to create an events API The admin creates an event and then can set a property as published to allow guests to view those events This works well and I have the backend setup Now I need to create a frontend calendar that fetches all of the published true events I created a service called getPublished that will fetch the published events I want to allow guestunauthenticated access to this service while requiring authentication for all other routes besides listPublished but I can figure that out when I get getPublished figured out "
56036806,"Cannot put event to a cloud watch log stream using aws-sdk with serverless","https://stackoverflow.com/questions/56036806/cannot-put-event-to-a-cloud-watch-log-stream-using-aws-sdk-with-serverless","{amazon-web-services,aws-lambda,aws-sdk,serverless-framework,amazon-cloudwatchlogs}","2019-05-08 08:45:04+03","2024-05-17 04:57:41.131232+03","I am trying to log some information to a log stream I created in aws watchlog using a lambda function with awssdk but I cannot get any logs even when the lambda is triggered This is my code Triggering Lambda Code Lambda function serverless yml I am not sure what is going wrong here pls help me to find the possible error and the fix for it "
56045868,"How to create different access levels in aws cognito?","https://stackoverflow.com/questions/56045868/how-to-create-different-access-levels-in-aws-cognito","{javascript,aws-lambda,aws-api-gateway,amazon-cognito,serverless-framework}","2019-05-08 17:11:19+03","2024-05-17 04:57:42.452551+03","I have a working web app developed using aws web services including api gateway lambda and dynamo db I used cognito user pool to authenticate the users But I failed to find a way to achieve following scenario"
56063565,"Why do I get an error when I put the cors:true option back in to serverless.yml?","https://stackoverflow.com/questions/56063565/why-do-i-get-an-error-when-i-put-the-corstrue-option-back-in-to-serverless-yml","{aws-lambda,cors,aws-api-gateway,serverless-framework}","2019-05-09 16:10:54+03","2024-05-17 04:57:42.839043+03","To test that I needed CORS enabled in my API Gateway for a Lambda Proxy I removed the corstrue definition in my serverless yml Then when I put it back I get the following error You can only use origin or origins but not both at the same time to configure CORS Please check the docs for more info I cant find anything in the docs that would explain why my code would be throwing that error I know that the single line version is synonomous with a multi line version like so as per httpsserverless comframeworkdocsprovidersawseventsapigatewayenablingcors Does it perhaps cache the config and now it thinks Im declaring it twice once as origin and another as origins I cannot see why I would get that error if I just toggled the `corstrue line between deploys as I did This is from my serverless yml Update This issue appears to be a bug that is being tracked in the serverless project found here httpsgithub comserverlessserverlessissues6098"
56064035,"SQS messages are always one message behind in serverless","https://stackoverflow.com/questions/56064035/sqs-messages-are-always-one-message-behind-in-serverless","{amazon-web-services,aws-lambda,aws-sdk,amazon-sqs,serverless-framework}","2019-05-09 16:42:54+03","2024-05-17 04:57:43.381209+03","I am working with a serverless API and I have a lambda function triggered from an sqs queue with the batch size of 1 which means my intention is to trigger the lambda soon as I send a message to the queue it is working fine but when I deploy the function for the first time it is not triggering and and when i request for the second time it is sending the first message it is always one message behind what I am sending I have attached my code not sure what I am missing here any help is appreciated serverless yml code"
56064839,"AWS Serverless VPC Subnet Creation","https://stackoverflow.com/questions/56064839/aws-serverless-vpc-subnet-creation","{amazon-web-services,aws-lambda,serverless-framework}","2019-05-09 17:41:29+03","2024-05-17 04:57:44.29805+03","If I create VPC and Subnets using my serverless yml file and I deploy it later again does the VPC get created again Or only incremental changes are pushed "
56088468,"How to properly setup an IAM execution role and a bucket policy for getting lambda writing to a public read S3 bucket?","https://stackoverflow.com/questions/56088468/how-to-properly-setup-an-iam-execution-role-and-a-bucket-policy-for-getting-lamb","{amazon-s3,aws-cloudformation,amazon-iam,serverless-framework}","2019-05-11 08:12:49+03","2024-05-17 04:57:45.354264+03","For context I am using serverless framework so a few things happening I got the following iamRoleStatements section I can actually confirm that it produces the following policy to the generated role Having this I ran the lambda function to perform a putObject over that bucket Getting an Access denied error so I thought what if the bucket itself needs to allow writes so I included a write statement to the bucket policy Which generates the following policy at S3 bucket So in a few words I tried What am I missing"
56096916,"Custom api gateway websocket endpoint using serverless","https://stackoverflow.com/questions/56096916/custom-api-gateway-websocket-endpoint-using-serverless","{websocket,aws-api-gateway,serverless-framework}","2019-05-12 06:59:11+03","2024-05-17 04:57:46.363999+03","Im trying to custom my api gateway websocket endpoint via serverless because I need to initialize it for cloudfront which is deployed before websocket The initialize code is below And I exported it as an output Then ApiGatewayWebsocketApiId will represent an endpoint string like b6hnpuyzq6 And I can get it in websocket serverless yml But here is the problem how can I import it to my function such as connectionHandler so that this websocket can use the endpoint imported above"
56098792,"Deploying multiple AWS Lambda functions","https://stackoverflow.com/questions/56098792/deploying-multiple-aws-lambda-functions","{amazon-web-services,aws-lambda,serverless-framework}","2019-05-12 11:29:38+03","2024-05-17 04:57:47.566987+03","If I have several AWS Lambda functions is it possible to specify deployment configuration for all three functions in a single YML file or do I need to write specific YML file for each Lambda function"
56107144,"Attempting to check if s3 bucket item exists within nested asyncs","https://stackoverflow.com/questions/56107144/attempting-to-check-if-s3-bucket-item-exists-within-nested-asyncs","{amazon-s3,async-await,es6-promise,serverless-framework}","2019-05-13 06:57:08+03","2024-05-17 04:57:48.616729+03","I have a Serverless Lambda function that in response to an S3 s3ObjectCreated event tries to check if a separate item exists in an S3 bucket using the following bit of code using the AWS JavaScript SDK I am quite rusty with promises in JS so I am not sure why this bit of code does not work For reference it just dies without outputting anything However the following does work How can I get the initial bit of code working and what am I doing wrong"
44669027,"Serverless offline custom error from API gateway with Lambda","https://stackoverflow.com/questions/44669027/serverless-offline-custom-error-from-api-gateway-with-lambda","{aws-lambda,serverless-framework}","2017-06-21 07:07:02+03","2024-05-17 05:06:04.518697+03","Is there any way to return a custom error object and status code from API gateway I am getting 200 status "
56107229,"Having multiple main.go files in order to deploy AWS Lambda based application","https://stackoverflow.com/questions/56107229/having-multiple-main-go-files-in-order-to-deploy-aws-lambda-based-application","{amazon-web-services,go,aws-lambda,serverless-framework}","2019-05-13 07:04:02+03","2024-05-17 04:57:49.586089+03","I have following complex structure How do I create YML deployment file for all these functions in GoLang Will there be any issues if all of these functions have their own main I am new to GoLang but as far as I know package can contain only one main go file and in YML file for handler property I have to specify executable from bin Here is what I had in mind Since I have multiple packages representing multiple Lambda functions it should be okay for me to have main go in each of them correct If not then what is the right way to do this Also if this is fine how do I specify correct main binary for each function and is this really the convention to deploy multiple lambdas with GoLang NOTE in each main go there is a corresponding function Handler "
55500375,"Serverless Deploy Pip fails - Manual Pip succeeds","https://stackoverflow.com/questions/55500375/serverless-deploy-pip-fails-manual-pip-succeeds","{python,pip,serverless-framework,serverless}","2019-04-03 16:51:56+03","2024-05-17 04:57:51.610134+03","I wrote a python Serverless application I have a requirements txt file that looks like When I run sls deploy or sudo sls deploy it fails saying Command git clone q httpsgithub comBlah1blah2 git tmppipinstalljxs9quvpblah2 failed with error code 128 in None I have tried changing to ssh same error I have tried to download it manually works fine I have tried changing the command to use the local files I downloaded and"
55515815,"Serverless Framework error Policy statement must contain actions","https://stackoverflow.com/questions/55515815/serverless-framework-error-policy-statement-must-contain-actions","{aws-cloudformation,serverless-framework,serverless}","2019-04-04 12:16:30+03","2024-05-17 04:57:52.675316+03","I have a IAM policy which fails to deploy using the Serverless Framework The error message is Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument The policy looks like this Any help to point me in the right direction is appreciated Thanks "
55517630,"Serverless Deploy - LogicalResourceId","https://stackoverflow.com/questions/55517630/serverless-deploy-logicalresourceid","{python,amazon-web-services,serverless-framework,serverless}","2019-04-04 13:50:19+03","2024-05-17 04:57:54.318101+03","I have the following serverless yml file httpspastebin com9V6AY13e Whenever I deploy it I get the following error Googling this error brings up one or two threads that I do not think are relevant to the reason I am getting this error "
55539223,"Serverless - Lambda Layers ""Cannot find module 'request'""","https://stackoverflow.com/questions/55539223/serverless-lambda-layers-cannot-find-module-request","{aws-lambda,serverless-framework,aws-serverless}","2019-04-05 15:51:41+03","2024-05-17 04:57:54.811037+03","When I deploy my serverless api using The lambda layer gets created but when I go to run the function is gives me this error But if I upload the zip file manually through the console the exactly same file thats uploaded when I deploy it works fine Any one have any idea why this is happening Thats what my serverless yaml script looks like "
55542422,"How to get URL endpoint detail as variable in Serverless Framework's `serverless.yml` file?","https://stackoverflow.com/questions/55542422/how-to-get-url-endpoint-detail-as-variable-in-serverless-frameworks-serverless","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-04-05 19:46:34+03","2024-05-17 04:57:55.752577+03","Using Serverless Framework to deploy AWS Lambda functions Serverless creates or receives the specific URL endpoint string I want to use that string as a variable in another section of the serverless yml specification file Is that URL endpoint available as a variable in serverless yml The Serverless Framework documentation on AWSrelated variables does not seem to answer that case Details my serverless yml contains a provider specification similar to and a functions section starting with After a serverless deploy profile [myawsprofile] the Lambda function sampleexperimentsstagingroundcontrol is reported to be available at endpoint https1a234bc5de executeapi euwest1 amazonaws comstagingroundcontrol Question is there a variable in Serverless available that contains that 1a234bc5de or 1a234bc5de executeapi or perhaps even 1a234bc5de executeapi euwest1 amazonaws com Obviously I can also construct the last two if I know the first With that variable I can construct the full URL endpoint which I need in another place in the serverless yml file N B That 1a234bc5de is not a dynamically generated random string my current project is per stage per region fixed to the same string Perhaps that string is generated at AWS Lambda or AWS API Gateway"
55557911,"Is there a front-end open source for Parse like ""http://adminca.com/""?","https://stackoverflow.com/questions/55557911/is-there-a-front-end-open-source-for-parse-like-http-adminca-com","{parse-platform,serverless-framework,serverless,mbaas,faas}","2019-04-07 10:23:51+03","2024-05-17 04:57:56.19903+03","In my company our team needs an admin panel like adminca Adminca is slow to connect in our country so I want to build an adminca website using open source for just a few people in our team Can you give me some advice"
55560495,"How to put items in dynamodb using c# lambda functions using AWSSDK.Dynamodbv2 using serverless framework","https://stackoverflow.com/questions/55560495/how-to-put-items-in-dynamodb-using-c-sharp-lambda-functions-using-awssdk-dynamod","{c#,amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2019-04-07 15:15:21+03","2024-05-17 04:57:57.237573+03","I am trying to write a lambda function which does CRUD operations on DynamoDB using serverless framework in C I downloaded a nuget package and used putitem getitems functions but in cloudwatch the error was like no credential file found I added roles in my serverless yml file why do I need to add credentials again I really want this solution in C I used boto3 for python it never asked for aws credentials in code other than roles "
55574154,"Function ""SaveSlotDetails"" does not presented in serverless.yml","https://stackoverflow.com/questions/55574154/function-saveslotdetails-does-not-presented-in-serverless-yml","{serverless-framework,serverless,aws-step-functions,aws-serverless}","2019-04-08 13:03:49+03","2024-05-17 04:57:58.353859+03","I am using npm package httpswww npmjs compackageserverlessstepfunctionsoffline for running step functions offline However I get the output form serverless as Function SaveSlotDetails does not presented in serverless yml I have follwed the steps exactly as per the documentation but I am not able to run the step function locally Below is my serverless yml file content for the related context I have tried using both function names createSubscription and CreateSubscription but nothing helps I checked issues previously raised but does not help much I am tried using versions 2 1 2 and 2 1 1 but does not work Any help would be appreciated"
55574283,"What is the best way to handle node_modules in a microservice architecture project using serverless framework on AWS Lambda?","https://stackoverflow.com/questions/55574283/what-is-the-best-way-to-handle-node-modules-in-a-microservice-architecture-proje","{node.js,mongoose,aws-lambda,serverless-framework}","2019-04-08 13:11:16+03","2024-05-17 04:57:59.314027+03","Here I am using this architecture please suggest me a better one I am new in this field Project structure"
55590156,"Serverless Offline undefined module when loaded from lambda layer","https://stackoverflow.com/questions/55590156/serverless-offline-undefined-module-when-loaded-from-lambda-layer","{amazon-web-services,serverless-framework,serverless}","2019-04-09 10:02:59+03","2024-05-17 04:58:00.027944+03","I have the following project tree Where nodejs folder is a lambda layer defined in the following serverless yaml The layer1 only contains UUID package So when I try to run the lambda locally using serverless offline plugin it says cannot find module UUID But when I deploy the code to AWS it run like a charm Any way we can get lambda layers running locally for testing purpose and for speeding up the development Or is there any way where I can dynamically set the node_module path to point to the layer folder during the development and once I need to push to production it change the path to the proper one"
55600767,"How to Deploy dotnet core functions using the Serverless Framework?","https://stackoverflow.com/questions/55600767/how-to-deploy-dotnet-core-functions-using-the-serverless-framework","{amazon-web-services,.net-core,aws-lambda,serverless-framework,serverless}","2019-04-09 20:23:13+03","2024-05-17 04:58:01.036459+03","I am finding it a challenge to properly package and deploy dotnet functions using dotnet core 2 1 runtime utilizing Serverless to AWS Lambda I am not finding any examples other than ones that use the SAM and dotnet deploy lambdaserverless commands Example How do you package up a visual studio aws serverless project Using command line and Serverless what needs to be done to properly deploy a dotnet core function to AWS Lambda Is this even possible using the Serverless Framework"
55606567,"SequelizeJS Can't connect to RDS Instance on ""MY"" internet","https://stackoverflow.com/questions/55606567/sequelizejs-cant-connect-to-rds-instance-on-my-internet","{node.js,sequelize.js,amazon-rds,serverless-framework,serverless-offline}","2019-04-10 07:02:26+03","2024-05-17 04:58:02.066064+03","I have a NodeJSServerless Framework API up and running on AWS Lambda It is connected to an AWS RDS which was working fine however all of a sudden it cannot connect to the RDS Instance only on my office internet The API and database connection works fine on my home internet and even on mobile data The API works fine when deployed on AWS Lambda EC2 Instance successful database connections Security Group has inbound traffic access open for PORT 3306 You can find the repo here "
55612331,"How to include folder but excluding some files inside that folder when packaging for serverless?","https://stackoverflow.com/questions/55612331/how-to-include-folder-but-excluding-some-files-inside-that-folder-when-packaging","{serverless-framework,serverless,aws-serverless}","2019-04-10 12:15:36+03","2024-05-17 04:58:02.782888+03","I want to include node_modules but exclude the bin dir and the cache and yarnintegrity files since they take up space on the lambda Like wise I would like to include the server folder but exclude the tests and eslint config files But neither work and the files are not excluded What is the correct way to do this"
55614236,"AWS x-ray not generating","https://stackoverflow.com/questions/55614236/aws-x-ray-not-generating","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-xray}","2019-04-10 13:48:08+03","2024-05-17 04:58:03.545853+03","I am trying to generate an xray using aws xray but it is not generating Currently I am generating it for a lambda function in node js I have tried below example but still it is not generating and in serverless yml Is there anything I am missing"
55633805,"lambda@edge functions without hardcoding variables","https://stackoverflow.com/questions/55633805/lambdaedge-functions-without-hardcoding-variables","{serverless-framework,aws-lambda-edge}","2019-04-11 13:35:11+03","2024-05-17 04:58:04.329285+03","I am using the serverless framework and I am building all my resources all at once I have lambda function in AWS cloudfront viewer request side and the function needs access to cognito user pool id Since I am not able to pass environment variables to lambda functions I have no choice but to hard code the user pool id in the lambda function which is very annoying to say the least But things get even worst I am not able to get the user pool id until I deploy everything then pick the user pool id and hard code it in the function and then redeploy Is there a better solution to all this"
55640097,"AWS Lambda with Cognito right approach","https://stackoverflow.com/questions/55640097/aws-lambda-with-cognito-right-approach","{amazon-web-services,amazon-cognito,serverless-framework}","2019-04-11 19:44:17+03","2024-05-17 04:58:05.245872+03","I would like to make a simple API available to a client The client uses the output of my API within his application The API is a pretty simple one I am deploying with the serverless framework to AWS Lambda The functions exposed via the API do not use any other AWS services like S3 etc My question is what kind of authentication to use I was thinking to try to use cognito for this 1 Question Does this make sense Or is for this simple use case even an easier option available 2 Question So I get this right I would first create a user pool Then create an identity pool based on this user pool 3 Question At the end my client gets the access token from cognito and attaches is to the header in the request This gives him then access through API Gateway to my REST API and the lambda function is triggered But how does the client in the first place can create an account doe the user pool Am I involved i this"
54977598,"Building a multi page serverless application using AWS Lambdas Serverless application model","https://stackoverflow.com/questions/54977598/building-a-multi-page-serverless-application-using-aws-lambdas-serverless-applic","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2019-03-04 06:19:16+02","2024-05-17 04:58:07.17397+03","I am new to the serverless application model for the web and want to understand a few things I went through the AWS Building your first serverless tutorial and have a couple of questions I am used to the MVC model of LEMP or using NET Thanks "
54980249,"Include exclude packages in serverless yml from same folder","https://stackoverflow.com/questions/54980249/include-exclude-packages-in-serverless-yml-from-same-folder","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2019-03-04 09:31:17+02","2024-05-17 04:58:07.767611+03","I have a node_modules folder from there i want to exclude only few modules but other modules should be added while packaging How can i do that Also how to exclude some modules using regex like in my node_modules I have created custom modules that starts with mdrequest mdmodels etc so i want to exclude only these modules from packaging Thanks in advance "
54984191,"Tag missing from API Gateway when using tags in serverless","https://stackoverflow.com/questions/54984191/tag-missing-from-api-gateway-when-using-tags-in-serverless","{serverless-framework,serverless,aws-serverless}","2019-03-04 13:21:13+02","2024-05-17 04:58:08.689281+03","I put tag information in tags in provider of serverless yml After executing sls deploy I checked lambda from console of AWS tag setting was done However when we confirmed the apigateway from AWS console the tag information was empty How can I tag information to the API gateway resource"
55019923,"Upload image to Cloudinary via Lambda using node.js","https://stackoverflow.com/questions/55019923/upload-image-to-cloudinary-via-lambda-using-node-js","{node.js,lambda,serverless-framework,cloudinary}","2019-03-06 09:43:56+02","2024-05-17 04:58:11.509071+03","I am working on a Serverless Webapp node js and have come across a problem which has been blocking me now for 2 days Scenario User comes to the site uploads an image directly to our S3 bucket Event is fired and is added to the AWS SQS queue ready for Lambda to pick up Lambda picks up the image key Lambda then connects to Cloudinary via SDK Lambda then tries to upload via the SDK command cloudinary v2 uploader upload s3bucketnamefilename error result console log error result Problem Nothing gets uploaded to Cloudinary no Errors are found in Cloudwatch console log is empty from callback The S3 bucket is whitelisted I have created a file in my S3 wellknowncloudinarycloud_name index js imageTransform js"
55026399,"Allow serverless lambda to be called by cloud watch","https://stackoverflow.com/questions/55026399/allow-serverless-lambda-to-be-called-by-cloud-watch","{aws-lambda,serverless-framework,aws-serverless}","2019-03-06 15:15:32+02","2024-05-17 04:58:12.610273+03","I have one lambda function within my serverless yml It looks somehow like this It works pretty well and out of the box lambda gets called every 2 hours When I add new rule in AWS Console and sets the newly created lambda as a target it also works Both AWS Console and Serverless framework creates on the background policy that events amazonaws com service can invoke this specific function The policy looks somehow like this I would like to define rule s programatically and without the need to maintain those permissions What I do is I create rule then I create target similarly as described in docs httpsdocs aws amazon comAmazonCloudWatchlatesteventsRunLambdaSchedule html Without the permission step it doesnt work I would like to have generic permission on the serverless yml level that enables the lambda to be called by any existing or not yet existing rules so I care only about rules and targets I mean something that would say Grant cloud watch permission to invoke any lambda function with any rule defined on my account That would increase usability of my function alot more Is it possible to define same policy that gets usually generated by AWS Console code above but little more generic and within serverless yml file Update I end up trying example bellow It was supposed to create generic rule Though it showed up it didnt work and my lambda never got called by programatically created rules until I added explicit SourceArn that maps exactly one rule to one single specific function I am doing it also programatically in three steps 1 Create rule 2 Create target 3 Create permission For delete I need proceed in reverse order I didnt find if this not allowing wildcards is bug or intentional behaviour "
55068409,"Give Lambda Invoke permission to ApiGateway with one deployment","https://stackoverflow.com/questions/55068409/give-lambda-invoke-permission-to-apigateway-with-one-deployment","{amazon-web-services,aws-api-gateway,serverless-framework,serverless}","2019-03-08 17:46:22+02","2024-05-17 04:58:13.201916+03","I wrote resources in my serverless yml like below When I sls deploy below error occured An error occurred LoginApiToInvokeLambda Function not found arnawslambdaapnortheast1xxxxxxxxxxxxfunctionapidevlogin Service AWSLambda Status Code 404 Error Code ResourceNotFoundException In the initial deployment I thought that permissions were set before creating lambda functions Therefore I commented out LoginApiToInvokeLambda in my serverless yml I sls deploy again it succeeded But ApiGateway does not have permission to invoke lambda After that I restored the commented out part and sls deploy Finally I was able to give ApiGateway the permission of Lambda invoke Is there a way to accomplish this at the same time"
55069013,"How to render new lines with Pino.js","https://stackoverflow.com/questions/55069013/how-to-render-new-lines-with-pino-js","{node.js,logging,aws-lambda,serverless-framework}","2019-03-08 18:29:51+02","2024-05-17 04:58:14.218705+03","I have a node app that uses the aws serverless framework For some reason pino is not rendering \n characters My logs ending up looking something like notice the \n in the code block formatting instead of"
55073549,"Safe way to backup env.yml - Serverless Framework","https://stackoverflow.com/questions/55073549/safe-way-to-backup-env-yml-serverless-framework","{security,serverless-framework}","2019-03-09 02:50:47+02","2024-05-17 04:58:15.117696+03","It is best practice to put sensitive environment variables into env yml and reference them in serverless yml Of course this also means not checking env yml into a code repository So where is a safe place to store a backup of env yml We have a number of microservices so we are accumulating several env yml files for our projects Even sharing them among devs and keeping them updated can become a bit of an issue they really could benefit from version control but security trumps convenience so we keep them out of git I would be interested to hear how others manage secrets config in general "
55074559,"Serverless plugin domain manager not reducing the resource limit","https://stackoverflow.com/questions/55074559/serverless-plugin-domain-manager-not-reducing-the-resource-limit","{aws-api-gateway,amazon-route53,serverless-framework,serverless-plugins}","2019-03-09 06:12:01+02","2024-05-17 04:58:16.163057+03","I ran into the 200 resource limit on cloudformation when using serverless I saw on the blog that using the domain manager will help mitigate this issue by freeing a few resources from the api gateway After implementing this I realized it did nothing to help resource limit Do I need to do something else after this I am not sure if I should remove my sls stack and redeploy it"
55079725,"Serverless Webtask Function - Invalid verification code","https://stackoverflow.com/questions/55079725/serverless-webtask-function-invalid-verification-code","{serverless-framework,algolia,serverless,hugo}","2019-03-09 16:57:12+02","2024-05-17 04:58:17.278881+03","I am trying to install a Serverless Webtask Function that can automatically update my Algolia index each time my static site hugo is updated using web hooks Unfortunately I can not create a a Webtasks profile Eveytime I try to execute serverless config credentials provider webtasks to create a new profile it says Invalid verification code Here is my environment information OS darwin Node Version 10 15 Serverless Version 1 38 0 Thank you for your help "
55091595,"Connect to remote MongoDB from Serverless/Lambda","https://stackoverflow.com/questions/55091595/connect-to-remote-mongodb-from-serverless-lambda","{node.js,mongodb,amazon-ec2,aws-lambda,serverless-framework}","2019-03-10 19:36:39+02","2024-05-17 04:58:18.068666+03","Using ServerlessLambda and Node I am failing to connect to a remote MongoDB database The database is hosted on a separate EC2 server Heres my Serverless function code Heres part of Serverless config file I have had a surprising amount of trouble with this Tried every combination I can think of for the mongo URI tried using useNewUrlParser tried connecting to a different remote database hosted on Compose com Everything I have done has resulting in errors When I secondguess my EC2MongoDB server permissions I remember that I have no problem connecting via command line on my Mac using this command I think you have everything you would need to repro Any thoughts Any clue might help "
55094540,"How to call AWS lambda function in my PHP code to send emails","https://stackoverflow.com/questions/55094540/how-to-call-aws-lambda-function-in-my-php-code-to-send-emails","{php,amazon-web-services,api,aws-lambda,serverless-framework}","2019-03-11 02:35:57+02","2024-05-17 04:58:19.52186+03","I have created a PHP script which uses PHP Mailer and Twilio API to send emails and SMS messages to some clients Now when I run that script it takes very long to send even to only one client Is it possible to create an AWS lambda function and pass the parameters to from etc from my PHP code to that lambda function and then that function will run in the background to send emails and SMS messages"
55105631,"Importing serverless-http error - Cannot invoke an expression whose type lacks a call signature","https://stackoverflow.com/questions/55105631/importing-serverless-http-error-cannot-invoke-an-expression-whose-type-lacks-a","{typescript,aws-lambda,serverless-framework}","2019-03-11 15:50:03+02","2024-05-17 04:58:20.143162+03","Im using AWS with Serverless Framework v1 36 3 with TypeScript Today when I make a deploy the whole APILambdas was affected and in my IDE I see some issue from tslint The problem is the way to importing serverlesshttp v1 9 1 using When I call serverless api app it come with that error TS2349 Cannot invoke an expression whose type lacks a call signature Type typeof import node_modulesserverlesshtt has no compatible call signatures To Fix it I changed the import and it work again What is the difference between import as serverless from serverlesshttp and const serverless require serverlesshttp I always I use import as serverless from serverlesshttp I the error appear in the serverlesshttp v1 9 1 Thanks in advances "
55112507,"How to use a specific version of aws-sdk in lambda function building by serverless and webpack?","https://stackoverflow.com/questions/55112507/how-to-use-a-specific-version-of-aws-sdk-in-lambda-function-building-by-serverle","{amazon-web-services,webpack,aws-lambda,aws-sdk,serverless-framework}","2019-03-12 00:47:43+02","2024-05-17 04:58:21.160963+03","I need to use a higher version of awssdk than what lambda function provides by default I am using serverless framework and webpack to build my serverless application In serverless I can include or exclude dependencies in serverless yml configuration So I can provide my own awssdk in the package But in my webpack config I have this configuration which relies on awssdk on lambda container When I remove this to not use the awssdk provided by lambda I am getting JavaScript heap out of memory error What is the best way to accomplish this task"
54428908,"Understanding input in scheduled events in the serverless framework?","https://stackoverflow.com/questions/54428908/understanding-input-in-scheduled-events-in-the-serverless-framework","{node.js,aws-lambda,serverless-framework}","2019-01-29 20:13:20+02","2024-05-17 04:58:23.273485+03","I am trying to pass some inputs into my lambda function on a specific event and am researching ways of doing it The serverless documentation shows examples of defining an input like such serverless yml I am still unsure what exactly this is and how it can be accessed if at all from my handlers js function If someone could demystify this it would be highly appreciated "
54429564,"Creating a lambda function as an event handler for an S3 bucket","https://stackoverflow.com/questions/54429564/creating-a-lambda-function-as-an-event-handler-for-an-s3-bucket","{amazon-s3,serverless-framework}","2019-01-29 21:06:19+02","2024-05-17 04:58:24.036443+03","I am trying to do something pretty simple I want to create a lambda function an S3 bucket and make the lambda function the event handler for the S3 bucket using the serverless framework Heres my definition file But when I run I get Does anyone know what is wrong"
54430743,"How to get an AWS SSM Key Arn from an Alias using CloudFormation?","https://stackoverflow.com/questions/54430743/how-to-get-an-aws-ssm-key-arn-from-an-alias-using-cloudformation","{amazon-web-services,serverless-framework,amazon-kms}","2019-01-29 22:44:52+02","2024-05-17 04:58:24.685771+03","Is it possible to get a KMS Key ARN using CloudFormation using an alias I want to give specific permissions to a Key in my AWS Account Something like the following"
54440671,"How to handle multiple AWS AppSync service versions","https://stackoverflow.com/questions/54440671/how-to-handle-multiple-aws-appsync-service-versions","{amazon-web-services,versioning,serverless-framework,aws-appsync}","2019-01-30 12:27:39+02","2024-05-17 04:58:25.524596+03","I have an iOS app which works with AWS AppSync deployed through the Serverless Framework Until then every update to the API were nonbreaking changes Today I need to make breaking changes to the service How do I do so without preventing not uptodate apps from working Do I have to create a new AppSync API for every new version "
54454395,"Cannot access restApiId & restApiRootResourceId for cross stack reference in serverless yml","https://stackoverflow.com/questions/54454395/cannot-access-restapiid-restapirootresourceid-for-cross-stack-reference-in-ser","{aws-cloudformation,serverless-framework}","2019-01-31 06:12:51+02","2024-05-17 04:58:26.62511+03","Since I had an issue of 200 resource error I found a way of using cross stack reference by dividing into different services I managed to do that by using the crossstack reference The issue is I cannot give the restApiId restApiRootResourceId dynamically Right now am statically setting ids into the service2 Basically the service1 looks like And the service2 looks like this As the above service2 config I cannot reference the Ids FYI Both services are in different files So How what is wrong with this approach"
54490606,"DynamoDB query using secondary index, how to query with different keys","https://stackoverflow.com/questions/54490606/dynamodb-query-using-secondary-index-how-to-query-with-different-keys","{amazon-dynamodb,serverless-framework,dynamodb-queries,dynamo-local,amazon-dynamodb-index}","2019-02-02 06:27:52+02","2024-05-17 04:58:27.492579+03","i am using serverless framework with dynamodb [in Local] trying to query with secondary indexed fields goal is to query with few keys like we do in basic find queries in Mongo urlSomevalue or may be like this urlsomevaluehasomevalue Table config i am using currently serverless yml with this currently i am only able to search with id field Q 1 What are the changes needs to be made to query with different fields [which is secondary indexed without using id in the query] 2 How do i search with multiple attributes [i e urlsomevaluehasomevalue ] Query i am using Output of the query"
54496641,"Deploy lambda using serverless without worrying about node_modules","https://stackoverflow.com/questions/54496641/deploy-lambda-using-serverless-without-worrying-about-node-modules","{aws-lambda,serverless-framework,serverless}","2019-02-02 19:19:05+02","2024-05-17 04:58:28.529726+03","I would like serverless to deploy a nodejs lambda function without taking 56 minutes in the packaging phase My package looks like My build folder is a combination of prebuilt static assets and transpiled javascript code that I create and does not require any extra dependency resolution I simply want serverless to zip that folder and deploy it "
44678952,"Moonmail installation issue - Command ""project"" not found","https://stackoverflow.com/questions/44678952/moonmail-installation-issue-command-project-not-found","{serverless-framework,moonmail}","2017-06-21 14:28:32+03","2024-05-17 05:06:05.789708+03","I am initializing Moonmail and following the readme executing the following command I am getting the following It seems that Serverless no longer has the project command since version 0 5 and it has been replaced with service which works a little differently What would be the way forward here"
54507574,"serverless deploy: Stop watching after CloudFormation has the update","https://stackoverflow.com/questions/54507574/serverless-deploy-stop-watching-after-cloudformation-has-the-update","{aws-cloudformation,serverless-framework,serverless,aws-serverless}","2019-02-03 21:05:26+02","2024-05-17 04:58:29.609539+03","I am using Bitbucket Pipelines to do CD for a Serverless app I want to use as few build minutes as possible for each deployment The lifecycle of the serverless deploy command when using AWS as the backing seems to be Because of the huge time difference I do not want to do step two So my question is simple how do I deploy a serverless app such that it only does step one and returns success or failure based on whether or now CloudFormation successfully accepted the new package I have looked at the docs for serverless deploy and I cannot see any options to enable that Also there seem to be AWS specific options in the serverless deploy command already so maybe this is an option that the serverless team will consider if there is no other way to do this N B As for how will you know if CloudFormation fails for that I would rather set up notifications to come from CloudFormation directly The build can just have the responsibility of pushing to CloudFormation "
54509173,"Native compile python libraries for serverless with serverless-python-requirements","https://stackoverflow.com/questions/54509173/native-compile-python-libraries-for-serverless-with-serverless-python-requiremen","{numpy,docker,python-3.6,serverless-framework,aws-serverless}","2019-02-04 01:17:17+02","2024-05-17 04:58:30.692728+03","I am trying to compile numpy for use in AWS Lambda functions from my windows machine I have been following this simple example of serverlesspythonrequirements for a lambda to print a numpy array I run serverless deploy from within a virtualenv in my local directory numpytest My requirements txt file simply contains and my YML file looks like When I attempt to test the function after upload with serverless invoke f numpy log I get the following error When I download the dependencies directly from AWS lambda it looks like the package is compiled in windows I have Docker installed and as far as I can tell it is working properly I have not used it before so that is why I am trying to use this solution as opposed to learning a lot of new commands in Docker What is going wrong"
54516623,"Issue With Deploy Services Under Custom API Domain","https://stackoverflow.com/questions/54516623/issue-with-deploy-services-under-custom-api-domain","{amazon-web-services,serverless-framework}","2019-02-04 12:56:19+02","2024-05-17 04:58:31.465154+03","I was following the Serverless blog post httpsserverless comblogapigatewaymultipleservices using it as a guide in my attempt to deploy services under a custom domain However I am receiving the following error An error occurred pathmapping Only one base path mapping is allowed if the base path is empty The relevant entry in the serverless yml is Anything sticks out that I screw up on Thanks for looking "
54526895,"debugging java functions via serverless-framework invoke local","https://stackoverflow.com/questions/54526895/debugging-java-functions-via-serverless-framework-invoke-local","{java,amazon-web-services,debugging,aws-lambda,serverless-framework}","2019-02-05 02:06:45+02","2024-05-17 04:58:32.414179+03","I am working on a project using the serverless framework with code written in Java and deployed on AWS I am able to deploy the lambda functions to AWS and I am also able to use the serverless invoke local command to run them locally What I have not figured out is how to attach to and debug this locally running function I do not see any promising command line options and the java invocation did not make use of the JAVA_OPTS environment variable to configure it there "
54528932,"DynamoDB,how to query with BEGINS_WITH","https://stackoverflow.com/questions/54528932/dynamodb-how-to-query-with-begins-with","{amazon-dynamodb,serverless-framework,dynamodb-queries,documentclient}","2019-02-05 06:39:31+02","2024-05-17 04:58:33.392271+03","i am using DocumentClient for query and using serverless framework with DynamoDb i am trying to query with BEGINS_WITH without providing any primary key here is how my data looks like here is my serverless yml [i e Table config i guess] Q Using DocumentClinet i want to query with the first few elements of some_string which will return all the docs that is matching like in this case i want to query some_string77 and it will return currently my query looks like this [this gives error ][Running in Local DynamoDB JS shell] seems like this above query needs a primary key and in my case that is id if i pass that then it will point to a single doc Here is what i have achived so far this above query does what i want but any better approach or solution always welcome "
54530537,"Serverless framework Cognito Userpool Pre Token Generator","https://stackoverflow.com/questions/54530537/serverless-framework-cognito-userpool-pre-token-generator","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2019-02-05 08:43:59+02","2024-05-17 04:58:34.510694+03","I have a PreTokenGenerator function which adds an additional claim to the id token In my serverless yml I have the following definition This runs and deploys however does not wire up the user pool trigger in the userpool see below How can I get this trigger to be setup The documentation seems to be pretty lacking when it comes to cognito triggers"
54557325,"RDBMS vs. DynamoDB and Serverless vs. not Serverless","https://stackoverflow.com/questions/54557325/rdbms-vs-dynamodb-and-serverless-vs-not-serverless","{mysql,amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2019-02-06 15:40:19+02","2024-05-17 04:58:35.534485+03","I have a little bit of a problem concerning the design of a planned application especially database engine and Serverlessnot serverless The goal is a Web Application which talks via the Rest API to the database The Rest API itself is really just CRUD operations so for that the Serverless aproach AWS Lambda would fit pretty good in my opinion For that the probably most efficient database to choose would be DynamoDB NoSQL I am familliar with RDBMS and have only little knowledge of NoSQL databases The Schema of the application is not yet finished and should be expandable at later points because there could be new features to implement and so on Because of this i would rather use a RDBMS and not a NoSQL database because they do not scale that well in terms of editing the schema at later points at least that is what i read the last couple of hours Choosing for example Amazon RDS MySQL database would be much more expensive and i do not know how well they do with the Serverless aproach of the Rest API So i am standing at a point i really do not know what services to use here Could i still use DynamoDB The schema would propably be very relational "
54586500,"Difference in serverless.zip file sizes - what could be causing it","https://stackoverflow.com/questions/54586500/difference-in-serverless-zip-file-sizes-what-could-be-causing-it","{serverless-framework,serverless,aws-serverless}","2019-02-08 05:30:18+02","2024-05-17 04:58:36.568479+03","A colleague and I are both working with serverless both on windows 10 with the latest serverless version of 1 37 0 with the same npm version of 6 70 Yet running the serverless command his computer bundles up the node modules folder to upload a package of on average 89 MB yet mine bundles to 20Mb i cannot figure out what could be causing this Dev dependencies are being excluded so not sure why my laptop is packaging it up so inefficiently compared to his Does any one know of any reasons as to why this could be or any other recommendations"
54589188,"How to add Method Response in serverless.yml","https://stackoverflow.com/questions/54589188/how-to-add-method-response-in-serverless-yml","{amazon-web-services,aws-api-gateway,serverless-framework}","2019-02-08 09:17:22+02","2024-05-17 04:58:37.648644+03","I am trying to add CORS header to Method Response header with serverless Heres my config My expectation is that CORS is enabled in GET method but only OPTION method comes up From my research I stumbled upon this setting However nothing showed up and no error when I deployed serverless My understanding is that a 200 response status code has to exist before CORS can be added here When I create a new resource using UI console a 200 status code is added automatically but serverless does not create it Any suggestion to achieve this without me creating a 200 status code manually"
53910973,"lambda task timed out error while using rekognition","https://stackoverflow.com/questions/53910973/lambda-task-timed-out-error-while-using-rekognition","{amazon-web-services,react-native,aws-lambda,serverless-framework,amazon-rekognition}","2018-12-24 08:26:09+02","2024-05-17 04:58:39.259619+03","I am building a React native app with serverless framework using AWS services I created a RESTapi with lambda function nodeJs8 10 environment and API gateway to use rekognition services such as indexFaces listCollection etc My lambda is in VPC with RDS later I will Aurora to store faceID and other data Everything works fine except rekognition services When I call any rekognition services it shows Task timed out after 270 04 seconds But it works when I call locally using serverlessofflineplugin I attach all necessary permissions to my lambda like AmazonRekognitionFullAccess Here is my code index js How to solve this timeout error as it does not show any error on CloudWatch logs "
53921419,"Problem when deploying a NodeJS function using Serverless Framework","https://stackoverflow.com/questions/53921419/problem-when-deploying-a-nodejs-function-using-serverless-framework","{node.js,amazon-web-services,serverless-framework}","2018-12-25 10:21:27+02","2024-05-17 04:58:39.927218+03","I have an application with this architecture My problem is when i call serverless deploy i end up with the entier application in the NodeJS function Function1 This problem is happend only with the NodeJS function the Python functions has only the code that is related to each one of them NOTE I have this in my serverless yml Thanks for your help "
53936747,"Serverless - Numpy - Unable to find good bind path format","https://stackoverflow.com/questions/53936747/serverless-numpy-unable-to-find-good-bind-path-format","{python,windows,numpy,lambda,serverless-framework}","2018-12-26 20:20:44+02","2024-05-17 04:58:40.88807+03","I have been beating on this for over a week and been through all sorts of forum issues and posts and cannot resolve I am trying to package numpy in a function individually building requirements I have multiple functions with multiple requirements that I would like to keep separate Environment Windows 10 Home Docker Toolbox for Windows Serverless Version Directory Structure serverless yml I have my project files in C\Serverless\test I run npm init followed by npm i save serverlesspythonrequirements accepting all defaults I get the following on sls deploy v even though I have added C\ to Shared Folders on the running default VM in VirtualBox and selected automount and permanent If I comment out both dockerizePip and dockerFile I get the following as expected based on here and other SO posts If I comment out dockerfile I get With Dockerfile If I move my project to C\Users\ I get this instead I have seen the Makefile style recommendation from brianz here but I am not sure how to adapt that to this Makefiles are not my strong suit I am a bit at a loss as to what to do next and advice would be greatly appreciated TIA "
53938737,"How to setup serverless.yml and webpack.config for a multiple-runtime AWS Lambda service","https://stackoverflow.com/questions/53938737/how-to-setup-serverless-yml-and-webpack-config-for-a-multiple-runtime-aws-lambda","{node.js,ruby,aws-lambda,serverless-framework,serverless-webpack-plugin}","2018-12-27 01:10:39+02","2024-05-17 04:58:42.014406+03","I want to deploy AWS Lambda functions with Node8 10 and Ruby2 5 runtimes from one serverless yml file I set up the following folder structure with node and ruby holding my respective handlers Here is my serverless yml My webpack configuration This is the base example I just added the bit to ignore ruby files when I got my first error Fail 0 [Webpack Compilation error] Module parse failed Fail 1 Basically webpack assumes all functions are js and tries to package them as such Based off this suggestion I forced my entry point in webpack config to be my handler js This packages ONLY the Node Lambda An empty placeholder for the Ruby Lambda is created on AWS Fail 2 I commented out webpack from serverless yml and added include and exclude statements in the functions package options This gets an [ENOENT no such file or directory] for nodenode_modulesbabelcorenode_modules binparser This file is not there but I do not understand why it is looking for it since webpack is not being called Sort of success I was able to get the Lambdas to deploy if I commented out webpack and used to deploy the Ruby Lambda and then uncommented webpack and used the same thing to deploy the Node Lambda I am convinced that there is a better way to get them to deploy Have I missed something in my setup Is there another option I have not tried P S I did see this pull request httpsgithub comserverlessheavenserverlesswebpackpull256 but it seems to be abandoned since 2017 "
53952491,"Serverless + Cognito, adminAddUserToGroup post confirm lambda trigger","https://stackoverflow.com/questions/53952491/serverless-cognito-adminaddusertogroup-post-confirm-lambda-trigger","{javascript,amazon-web-services,amazon-cognito,serverless-framework,amazon-cognito-triggers}","2018-12-28 00:49:18+02","2024-05-17 04:58:42.924225+03","I am crafting a post trigger lambda function with NodeJS to move a newly registered user to a specific pool My serverless yml has iamRoleStatements added so the function has the right permissions I think Currently my error is UPDATE It inexplicably started working with the same code Go figure "
53962442,"Can't return integer from Conditional function in cloud formation yaml","https://stackoverflow.com/questions/53962442/cant-return-integer-from-conditional-function-in-cloud-formation-yaml","{aws-lambda,yaml,aws-cloudformation,serverless-framework}","2018-12-28 17:53:06+02","2024-05-17 04:58:43.854406+03","I am writing a cloudformation serverless yaml for a lambda function I need a conditional parameter reservedConcurrency to be 100 if IsProduction is true 20 if false But error happens when I deploy the yaml file You should use integer as reservedConcurrency value on function"
53967127,"Parameter ScheduleExpression is not valid. on aws lambda?","https://stackoverflow.com/questions/53967127/parameter-scheduleexpression-is-not-valid-on-aws-lambda","{aws-lambda,serverless-framework}","2018-12-29 06:03:29+02","2024-05-17 04:58:44.804674+03","I am trying to setup a Cloudwatch Scheduled Event and my cron expression seems to be invalid though I cannot figure out why My cron expression is i want to run my cron in every min but i am getting the following error every time whenever i deploy my function on serverless please tell me if i did somthing wrong"
53984052,"Able to invoke function directly but unable to curl the exposed POST http endpoint","https://stackoverflow.com/questions/53984052/able-to-invoke-function-directly-but-unable-to-curl-the-exposed-post-http-endpoi","{aws-lambda,spring-cloud,serverless-framework}","2018-12-31 05:52:19+02","2024-05-17 04:58:45.552575+03","While I am able to run httpsgithub commbsambangiawsjavaspringcloudfunctiondemo as is by invoking the function it is not working when I introduce a http event to the serverless yml The modified serverless yml file is below This is happening with other functions too Am I missing something or is it a bug The error"
53998940,"s3.upload() works but uploads broken image","https://stackoverflow.com/questions/53998940/s3-upload-works-but-uploads-broken-image","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2019-01-01 21:06:20+02","2024-05-17 04:58:46.588136+03","I have got a Lambda function in AWS that is hooked up to a POST method which basically takes an image URL and uploads the image to an S3 bucket My Lambda function looks like this It seems to upload the image to the bucket specified but when I view the image it seems to be broken I am very inexperienced with using AWS for anything outside of the GUI they provide If anyone has any idea of what might be going on I would appreciate any help Thanks in advance "
54000463,"Testing serverless with Mocha plugin","https://stackoverflow.com/questions/54000463/testing-serverless-with-mocha-plugin","{testing,mocha.js,serverless-framework}","2019-01-02 02:07:07+02","2024-05-17 04:58:47.565581+03","I have been using serverless for a while now however this is the first time I am trying to use mocha for writing tests When I am trying to run the following sls create test function insiderscreate create I get the following error Cannot read property handler of undefined This is how my serverless yml looks like for the handler I have created This is how the plugin Mocha is defined The code is deployed and it works fine The namespacing is as insiderscreate js is where I have defined my function I have also tried the following ways"
54015460,"How to package and deploy serverless framework code in separate steps?","https://stackoverflow.com/questions/54015460/how-to-package-and-deploy-serverless-framework-code-in-separate-steps","{serverless-framework}","2019-01-03 02:04:15+02","2024-05-17 04:58:48.6917+03","My question is about separate packagedeploy steps What I want to do is to package the service at step 1 of the deployment process then copy the content of the package to another machine and deploy from there Cannot make it work I use no parameters and serverless package seems to work fine creates serverless folder without an attempt to deploy but when I copy the serverless folder to another location and execute serverless deploy it only says packaging service and does nothing Is this how deployment of a package supposed to work This happens on a vanilla aws node service "
54041479,"""Invalid or unexpected token"" error when trying to execute ffmpeg build on lambda","https://stackoverflow.com/questions/54041479/invalid-or-unexpected-token-error-when-trying-to-execute-ffmpeg-build-on-lambd","{javascript,amazon-web-services,ffmpeg,aws-lambda,serverless-framework}","2019-01-04 15:04:41+02","2024-05-17 04:58:49.470522+03","I have a node js script that uses ffmpeg to convert mp4 downloaded from YT to mp3 and save to Amazon S3 Uploading using the serverless framework The ffmpeg file is included in the main directory with yml downloaded from here httpsjohnvansickle comffmpeg The code When triggered the function writes an error in logs It is most definetely an error in the ffmpeg file I have mentioned above link provided But I do not know what is the exact issue I followed the first answer here httpsstackoverflow comquestions47882810lambdanotconnectingtoffmpeg to include the ffmpeg build "
54066857,"What is the recommended way of creating Serverless (or) AWS lambda functions on the fly","https://stackoverflow.com/questions/54066857/what-is-the-recommended-way-of-creating-serverless-or-aws-lambda-functions-on","{amazon-web-services,aws-lambda,serverless-framework}","2019-01-06 23:27:55+02","2024-05-17 04:58:50.398326+03","I am creating a SaaS product which allows users to create their own apps For each application I need to deploy a serverless app or just a lambda function with cloud watch events api gateway configurations through cloud formation stack when a particular request hits my backend API which is also a serverless application I need to know the best practice or the recommended way of achieving that task There are two approaches I found by doing a bit of research 1 Using aws sdk and create a cloud formation stack without using the serverless framework 2 Using serverlessplatformsdk which deploys an app on serverlessplatform beta which I am not completely sure about "
54073122,"Serverless - DynamoDB","https://stackoverflow.com/questions/54073122/serverless-dynamodb","{node.js,amazon-dynamodb,serverless-framework}","2019-01-07 11:02:57+02","2024-05-17 04:58:51.481515+03","Need help with this error errorMessage RequestId 18120028124f11e99e46b3db6ae39b34 Process exited before completing request Also I have the following in the logs 20190107T073732 797Z 18120028124f11e99e46b3db6ae39b34 UnexpectedParameter Unexpected key BillingMode found in params at ParamValidator fail varruntimenode_modulesawssdklibparam_validator js5037 at ParamValidator validateStructure varruntimenode_modulesawssdklibparam_validator js7714 at ParamValidator validateMember varruntimenode_modulesawssdklibparam_validator js8821 at ParamValidator validate varruntimenode_modulesawssdklibparam_validator js3410 at Request VALIDATE_PARAMETERS varruntimenode_modulesawssdklibevent_listeners js12542 at Request callListeners varruntimenode_modulesawssdklibsequential_executor js10520 at callNextListener varruntimenode_modulesawssdklibsequential_executor js9512 at varruntimenode_modulesawssdklibevent_listeners js859 at finish varruntimenode_modulesawssdklibconfig js3207 at varruntimenode_modulesawssdklibconfig js3389 Here is my package json Here is the action serverless yml"
54082026,"Facebook Graph API in aws lambda failing","https://stackoverflow.com/questions/54082026/facebook-graph-api-in-aws-lambda-failing","{javascript,amazon-web-services,facebook-graph-api,aws-lambda,serverless-framework}","2019-01-07 21:16:56+02","2024-05-17 04:58:51.990518+03","I am having trouble getting this to run It runs just fine if I make the same FB api call directly from the front end or through serverless invoke local and it console logs my response But when I deploy this function to a lambda and try to call it I hit the console log TRY get a 502 error and then nothing after that No response from the FB api call no errors no info at all I have tried upping the timeout as well and have brought it up to as much as 15 seconds and still getting no response Anyone else run into this Thanks "
54083057,"Passing in integer parameter to AWS StepFunction causes Invalid State Machine Definition","https://stackoverflow.com/questions/54083057/passing-in-integer-parameter-to-aws-stepfunction-causes-invalid-state-machine-de","{amazon-web-services,aws-lambda,serverless-framework,aws-step-functions,aws-serverless}","2019-01-07 22:59:07+02","2024-05-17 04:58:52.701201+03","Im defining a waiting type step function with the serverless framework stack that takes a variable as its timeout setting like so The one that matters here is submission duration Its supposed to be an integer but when I try to deploy my stack I get the follow error Does anyone know how I can grab a variable from the stack and pass it in to the step function and have it be an integer when I do so"
53337235,"serverless webpack warning could not determine version of module","https://stackoverflow.com/questions/53337235/serverless-webpack-warning-could-not-determine-version-of-module","{webpack,serverless-framework,serverless}","2018-11-16 11:45:54+02","2024-05-17 04:58:55.228278+03","I have a typescript serverless project with serverlesswebpack It uses such modules as knex sql query builder pg ioredis Since these are designed to work serverside there were some issues with bundling those with webpack so I listed those as externals in webpack config Everything works but every time when packaging I get WARNING Could not determine version of module X for each of those Can someone explain me what is the real underlying issue which causes that and how can it be fixed to make things cleaner"
53344944,"Serverless Error: The security token included in the request is invalid","https://stackoverflow.com/questions/53344944/serverless-error-the-security-token-included-in-the-request-is-invalid","{amazon-web-services,amazon-iam,serverless-framework,serverless}","2018-11-16 20:29:54+02","2024-05-17 04:58:56.099612+03","when i type serverless deploy appear this error ServerlessError The security token included in the request is invalid "
53345168,"How do I return errors on an AWS Lambda function written in Node.js through the AWS API Gateway using the Serverless framework?","https://stackoverflow.com/questions/53345168/how-do-i-return-errors-on-an-aws-lambda-function-written-in-node-js-through-the","{node.js,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2018-11-16 20:48:23+02","2024-05-17 04:58:57.50612+03","I am writing an API for internal use and for the first time I am using the serverless framework I am writing a Lambda function in Node js and using the AWS API Gateway to connect to it In some cases I want to return a custom error message and I am trying to write a function that would allow me to do that Right now any time the Lambda process fails I get a standard message from the API In the code if I try to kill the process using process exit 1 I get a generic error even if I have already returned an error using callback If I do not use process exit 1 I see the error I returned via callback in the logs but the process continues ultimately timing out I have tried a few different ways of returning an error using the callback method but so far I have not been successful I have tried this method and this one Sorry about the minor syntax changes between the two So far I have not been able to return any error to the user via the API My error always gets logged and the function continues Any help would be appreciated Thank you For reference the relevant parts of my serverless yml file"
53350316,"DB Connection Management in AWS Lambda functions","https://stackoverflow.com/questions/53350316/db-connection-management-in-aws-lambda-functions","{amazon-web-services,aws-lambda,serverless-framework}","2018-11-17 10:25:50+02","2024-05-17 04:58:57.828259+03","I am using AWS Lambda to build out my API I decided to go with a monolith architecture to minimize cold starts I am using express js for routing and the mysqljs library to connect to my database The API is into different folders routes controllers and models I am using the serverless framework and serverlessoffline for local development One problem I have been having is with my database connection pools And I think the problem is because serverlessoffline and lambda functions behave differently and in ways I do not fully understand I have gone through several different approaches The current is I create the pool in index js inside the exports handler and then pass it to the routes which passes it to the routes which passes it to the controllers which passes it to the models When the model returns the to the controller and I call res json and pool end This works well in serverlessoffline but when I call the API from inside the Lambda function the first time it works fine but the second time I get Cannot enqueue Query after invoking quit I thought every API call would be a new invocation "
53350777,"AWS S3 web site with custom domain","https://stackoverflow.com/questions/53350777/aws-s3-web-site-with-custom-domain","{amazon-web-services,amazon-s3,serverless-framework}","2018-11-17 11:27:17+02","2024-05-17 04:58:58.556339+03","I have successly deployed and application on AWS S3 with ngtoolkitserverless on the AWS generated endpoint Now I want to use a custom domain I have purchased in order to access the app from i e mydomain com Following the AWS guide I have to modify the policy bucket with the following JSON I used mydomain com The problem is that when I save I got error with Access denied message I used both root user and generated secondary user as AWS suggests with AdministratorAccess permissions but I am unable to save the policy "
53351843,"Export a CloudFormation stack from an AWS instance and import into another one","https://stackoverflow.com/questions/53351843/export-a-cloudformation-stack-from-an-aws-instance-and-import-into-another-one","{amazon-web-services,aws-cloudformation,serverless-framework}","2018-11-17 13:49:59+02","2024-05-17 04:58:59.970422+03","I am using serverless com framework to deploy some Lambda functions to an AWS instance Now I need to make the same deployment to another AWS instance that I do not have access to I have to provide only a CloudFormation stack so another team will make the deployment there Can I export the CloudFormation stack from AWS instance A and import that into AWS instance B Is this supposed to work Thanks "
53361254,"DynamoDB.putItem function not saving item with sls command","https://stackoverflow.com/questions/53361254/dynamodb-putitem-function-not-saving-item-with-sls-command","{node.js,aws-lambda,amazon-dynamodb,serverless-framework}","2018-11-18 13:14:11+02","2024-05-17 04:59:00.138219+03","I am having trouble with my Lambda function with Serverless framework which should be putting data to DynamoDB I am unsure of the issue as I am getting no error message in the console when I run sls invoke local f scrape d thelastbookstorelosangeles saveRatingsToDB js handler js serverless yaml As mentioned I get no error message in the console I can the log and see the params object from the saveRatingsToDB js but nothing within the actual dynamoDb put function Any help would be appreciated "
53384450,"serverless not recognizing s3 bucket is deleted through console","https://stackoverflow.com/questions/53384450/serverless-not-recognizing-s3-bucket-is-deleted-through-console","{amazon-s3,serverless-framework,serverless,aws-serverless}","2018-11-20 00:14:19+02","2024-05-17 04:59:00.923571+03","I created an s3 bucket through serverless then deleted it through the console Serverless is not recognizing the bucket is deleted How do I get it to see bucket does not exist anymore Am I missing something else Error message"
53395187,"How to send aws cognito token from client","https://stackoverflow.com/questions/53395187/how-to-send-aws-cognito-token-from-client","{python,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2018-11-20 14:28:04+02","2024-05-17 04:59:02.006269+03","I use serverlessframework with aws lambda and aws cognito I have set up a user pool and registered the app I can login in the login ui and get the code and then exchange the code programmatically for tokens But how should I send the tokens from the web client to the aws lambda I can use the program Postman or curl but I need to use a web client http browser How should I set the header with the token"
53398606,"Serverless Offline: Error while running handler, cannot find module","https://stackoverflow.com/questions/53398606/serverless-offline-error-while-running-handler-cannot-find-module","{python,serverless-framework,serverless-offline}","2018-11-20 17:41:34+02","2024-05-17 04:59:02.812616+03","I have been trying to use serverlessoffline serverlessofflinepython and a family of other node packages serverlesss3local for example to build an offline testing environment for some lambdas that I have written Using serverlessofflinepython I am able to start my python lambdas and invoke each function manually with This works but does not quite simulate what the lambda is actually doing Ideally I would simulate an S3 bucket having a new object imported and that action would be the catalyst for the lambda importprocessorstage1 Enter serverlesss3local I have rigged up a pretty fantastic configuration with the plugin but for some reason when serverlesss3local goes to trigger an event to my lambda handler I receive this error Sadly I know that these plugins are in their enfancy particularly serverlessofflinepython but I am quite sure that this should be a very easy fix The module that is not found actually exists within the package Im thinking that it is because it is a Python file and not a JS file Is there a way within the js script to accept python files So far I have tried replacing all references of serverlessoffline with serverlessofflinepython within the serverlesss3local code base but I get the same error For reference here is my serverless yml file for the record the handler file is available correctly located and works fine while manually invoking it Any and all help is appreciated Thank you for taking a look Can confirm that this works for a js environment "
53399929,"Property validation failure ""SNSDestination"" while creating a ConfigurationSetEventDestination from CloudFormation","https://stackoverflow.com/questions/53399929/property-validation-failure-snsdestination-while-creating-a-configurationsetev","{amazon-web-services,aws-cloudformation,amazon-sns,amazon-ses,serverless-framework}","2018-11-20 19:10:15+02","2024-05-17 04:59:03.819196+03","I am trying to create a ConfigurationSetEventDestination using serverless resources but it not recognizing the EventDestination for value SNSDestination here is the output And here the resource from serverless yml Following the documentation ConfigurationSetEventDestination EventDestination seems to not be available but here it is with this description object SNSDestination is also available when creating from console AWS What is going on here Thanks PS I am not the only one httpsforums aws amazon comthread jspamessageID858616858616 httpsforums aws amazon comthread jspamessageID809004809004 httpsforums aws amazon comthread jspamessageID848013848013 [UPDATED] I tried creating the same via nodejs sdk it works its possible docs here Could be something with serverless CloudFormation generated stack"
53409369,"Serverless packaging problems with TypeScript","https://stackoverflow.com/questions/53409369/serverless-packaging-problems-with-typescript","{javascript,typescript,serverless-framework}","2018-11-21 09:54:14+02","2024-05-17 04:59:04.729352+03","I developed a lambda function in plain JavaScript which uses the following node modules When I deploy this project it has about 3 94 MB I recently switched to TypeScript and added the following additional DEV dependencies When I deploy it now it has 15 11 MB which is kind of strange since I only added dev dependencies As default serverless usually excludes dev dependencies but in my case it seems that something is wrong with that config Has anybody discovered a similar problem with serverless and typescript"
53440948,"Local Serverless Invoke of Void Handler - InvokeBridge Exception","https://stackoverflow.com/questions/53440948/local-serverless-invoke-of-void-handler-invokebridge-exception","{serverless-framework,aws-serverless}","2018-11-23 05:13:54+02","2024-05-17 04:59:05.80237+03","After running mvn package to generate a valid updated jar file I get an error when trying to invoke any of my functions locally These are all working functions that are deployed to Production Heres a short barebones example of a Handler that receives that error It does some background processing and both the input and output are Void I can invoke the live versions but I cannot perform a local invoke I can get by the error by getting rid of the Voids in the RequestHandler but that is not how these functions work What is going on here and how can I get local invoke working"
53471498,"Serverless how to return 405 for unsupported HTTP methods","https://stackoverflow.com/questions/53471498/serverless-how-to-return-405-for-unsupported-http-methods","{serverless-framework,aws-serverless}","2018-11-25 20:14:52+02","2024-05-17 04:59:06.468552+03","Lets say I have a lambda function that POST s to myPath following how do I provide a default error message for other http methods When I make a GET on myPath I get an ugly api gateway error I want to return a 405 if anyone calls anything but POST on my endpoint "
53474231,"Serverless Error code 10021: Uncaught ReferenceError: require is not defined","https://stackoverflow.com/questions/53474231/serverless-error-code-10021-uncaught-referenceerror-require-is-not-defined","{node.js,webpack,cloudflare,serverless-framework,cloudflare-workers}","2018-11-26 02:57:45+02","2024-05-17 04:59:07.495903+03","I have been stuck for a while trying to deploy the template cloudflare worker with any package I have been tinkering around with webpack for the past several hours with no luck Without the require statement deploying it and invoking the function works fine index js webpack config js Running this command seems to work too curl X PUT httpsapi cloudflare comclientv4zoneszoneIdworkersscript H XAuthEmailCLOUDFLARE_AUTH_EMAIL H XAuthKeyCLOUDFLARE_API_KEY H ContentTypeapplicationjavascript databinary distmain js The result is a huge blob of text followed by I do not know why I cannot seem to require any libraries can someone please enlighten me Forgot to also say that invoking the function with the lodash also works "
52548570,"DynamoDB. I just want to list items","https://stackoverflow.com/questions/52548570/dynamodb-i-just-want-to-list-items","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,serverless}","2018-09-28 04:57:09+03","2024-05-17 04:59:08.933028+03","I am currently working myself through the very helpful Serverless Stack Tutorial In the tutorial an AWS Lambda API to DynamoDB is made with the Endpoints called create get list and so on Trying to implement the get function into my own project worked fine This function uses the dynamoDbLib call get params operation I do not understand why it should not be getItem as in the Documentation I am using the template of this chapter and the libfiles of this chapter But trying to use either batchget or BatchGetItem instead results in the following Error Message dynamoDb[action] is not a function Just to make my intention clear I just want to list all the Items of my table and maybe specify a range of primary key values later I tried adapting the list function of the tutorial but the query action did not seem to be suitable as the KeyConditionExpression string only allows primary keys to be compared with the equality operator Sort keys can be queried with a between b and c though Do you have any suggestions about how I should proceed The BatchGetItem operator is not ideal as well as I have to specify the items as an array and not as a numeric range Finally this is the last status of the code Thanks for support and feedback but do not be too hard on me with criticism since I consider myself as a noob Have a nice day "
52570011,"why can't docker find my own package when deploying via serverless?","https://stackoverflow.com/questions/52570011/why-cant-docker-find-my-own-package-when-deploying-via-serverless","{docker,aws-lambda,serverless-framework}","2018-09-29 15:49:16+03","2024-05-17 04:59:10.87213+03","I want to deploy my python package to Amazon and make it available via lambda For this I am trying serverless When I try to deploy my package I get the following error message my serverless yml file looks like this and of top the directory includes all the required files in particular the built python package I am currently running Debian 9 5 I have also shared the code with a friend running the same OS via Github and it seems he can deploy the package Therefore it looks it has to do with my local setup of serverless docker But I cannot figure out how to resolve this Any help would be really appreciated The requirements txt just contains one line Now the package itself has some dependency By including only the package it takes the dependencies in the setup py file from the package EDIT as asked in one of the comments This is my gitignore and this is how my serverless looks like All the requirements txt have exactly the same content as the one above "
52583162,"CloudFormation S3 NotificationConfiguration to SQS","https://stackoverflow.com/questions/52583162/cloudformation-s3-notificationconfiguration-to-sqs","{amazon-s3,aws-lambda,aws-cloudformation,amazon-sqs,serverless-framework}","2018-10-01 00:05:11+03","2024-05-17 04:59:11.61453+03","I am new to CloudFormation and currently trying to send a S3ObjectCreated to a specific SQS Queue The setup is in the Serverless Framework with Resources defined in CloudFormation The problem is with the NotificationConfiguration with a QueueConfigurations that keeps giving error after error The syntax below seems to be correct when looking at the CloudFormation Designer online The exact error for this resource is"
52584814,"S3 event Multiple prefix on AWS Lambda function using Serverless framework","https://stackoverflow.com/questions/52584814/s3-event-multiple-prefix-on-aws-lambda-function-using-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2018-10-01 05:03:20+03","2024-05-17 04:59:12.528108+03","I want to add trigger event on a Lambda function on an already existing bucket and for that I am using below configuration where my bucket test is already existing on S3 I have added below plugins to serverless yml plugins Config My Bucket Structure is Json object with test_loc_timsetamp json will get created Json object with test_rou_timsetamp json will get created Now I wanted to configure multiple event rule any json object created in above path should trigger one single lambda That is any loc file created in three folders ending with loc to be triggered to run a loc lambda That is any rou file created in three folders ending with rou to be triggered to run a rou lambda "
52585572,"Deploy Lambda function in 2 Stages of Gateway via serverless","https://stackoverflow.com/questions/52585572/deploy-lambda-function-in-2-stages-of-gateway-via-serverless","{amazon-web-services,aws-api-gateway,serverless-framework}","2018-10-01 06:24:49+03","2024-05-17 04:59:13.580266+03","I tried to deploy a lambda function via serverless framework in 2 stages with different environment variables I wanted to have one lambda for production and one for development The only difference is the environment variable of the database that should be used I used the serverless deploy s dev and serverless deploy s prod function to deploy it The needed roles for example have the suffix dev or prod So there is no problem But I am not able to use the same API Gateway resource e g foo for the GET method I expected that i would have something like that example comdevfoo and example comprodfoo but unfortunately the following error occurs ApiGateway Method method already exists for this resource Am i missing something here Is the method GET method for the resource foo independent of the stage"
52601859,"How to set SLS_DEBUG in windows?","https://stackoverflow.com/questions/52601859/how-to-set-sls-debug-in-windows","{serverless-framework}","2018-10-02 04:03:16+03","2024-05-17 04:59:14.527086+03","I am using serverless framework and getting the following error For debugging logs run again after setting the SLS_DEBUG environment variable Which environment are they talking about How to set this Am using windows 10 "
52602809,"how to add multiple targets in serverless.yml schedule event","https://stackoverflow.com/questions/52602809/how-to-add-multiple-targets-in-serverless-yml-schedule-event","{amazon-web-services,aws-lambda,serverless-framework}","2018-10-02 06:04:37+03","2024-05-17 04:59:15.62807+03","I am trying to call multiple lambda from Cloudwatch event I am not sure how to add other target lambda using serverless yml below code add only add one target but I want multiple from console I can add multiple targets where I triggered different Lambda From Console I can add multiple targets how can we do it using yml"
52632229,"Re-deploy AWS CloudWatch Logs with serverless framework","https://stackoverflow.com/questions/52632229/re-deploy-aws-cloudwatch-logs-with-serverless-framework","{amazon-web-services,serverless-framework}","2018-10-03 17:04:01+03","2024-05-17 04:59:16.702257+03","I deployed an AWS service using the serverless framework which created and deployed all the resources automatically But later on I accidentally deleted the log group for this service and no logs are beeing created anymore Is there a way to recreate redeploy just the loggroup resource because serverless remove serverless deploy would delete all existing resources and create new ones which would be bad in my case Any ideas"
52640684,"How to configure serverless.yml to read Python boolean values correctly?","https://stackoverflow.com/questions/52640684/how-to-configure-serverless-yml-to-read-python-boolean-values-correctly","{python-3.x,serverless-framework}","2018-10-04 06:51:07+03","2024-05-17 04:59:17.676812+03","My serverless yml file looks like this However when I try to evaluate the IS_OFFLINE variable it parses it into a string thus making the value truthy although it is set with False If possible I would rather avoid this type of condition in Python of all languages if there is an alternative way of configuring the yml file if os environ get IS_OFFLINE true"
52657506,"How do I authorize CognitoIdentityCredentials for my API?","https://stackoverflow.com/questions/52657506/how-do-i-authorize-cognitoidentitycredentials-for-my-api","{amazon-web-services,aws-sdk,aws-api-gateway,amazon-cognito,serverless-framework}","2018-10-05 02:20:55+03","2024-05-17 04:59:18.280408+03","I have a Serverless backend that implements AWS_IAM authorizer using the serverless framework My client is a React application I am using AWS Cognito to authenticate users and AWS Federated Identities to retrieve temporary credentials for the user The user is assuming an IAM Role that has APIGatewayInvokeFullAccess policy attached I then sign my request using aws4 and make my request using Axios To my understanding I am doing everything right But I am still receiving a 403 error on my client request I even logged the tokens that are being retrieved to the console and used those tokens in postman When I use postman the error message says The security token included in the request is invalid I have read every doc and tried every possible solution but I am still unable to debug this error Any help at all would be incredible I am following this guide for the application flow "
52716949,"How can we trace axios http requests with aws x-ray?","https://stackoverflow.com/questions/52716949/how-can-we-trace-axios-http-requests-with-aws-x-ray","{node.js,aws-lambda,serverless-framework,aws-xray}","2018-10-09 08:50:46+03","2024-05-17 04:59:19.315893+03","I am looking for a method to trace axios http requests in my node js based aws lambda function I have found a method to trace HTTP request on aws official docs httpsdocs aws amazon comxraylatestdevguidexraysdknodejshttpclients html But I did not found any doc or blog regarding axios request tracing I have tried this code as well but it is not working I need help in this regards Thanks "
52717634,"How to combine multiple serverless.yml files to single serverless.yml file?","https://stackoverflow.com/questions/52717634/how-to-combine-multiple-serverless-yml-files-to-single-serverless-yml-file","{serverless-framework}","2018-10-09 09:28:07+03","2024-05-17 04:59:20.10241+03","I read this doc httpsserverless comframeworkdocsprovidersgoogleguideservices how can I combine these serverless yml files to single serverless yml file Beside deploy each service I can run serverless deploy once to deploy all services too "
52736029,"How to user Fn::Join in serverless framework YAML?","https://stackoverflow.com/questions/52736029/how-to-user-fnjoin-in-serverless-framework-yaml","{amazon-web-services,aws-cloudformation,amazon-iam,serverless-framework}","2018-10-10 08:39:58+03","2024-05-17 04:59:21.155212+03","I have a Policy in Serverless yaml file as mentioned bellow when sls deploy is done it throws an error as mentioned bellow An error occurred AppSyncDynamoDBPolicy Syntax errors in policy Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Request ID 166ba0b3cc6711e88f743339d857f829 What am i missing here"
52764757,"How do I revise a live Alexa skill?","https://stackoverflow.com/questions/52764757/how-do-i-revise-a-live-alexa-skill","{aws-lambda,alexa-skills-kit,serverless-framework}","2018-10-11 16:21:10+03","2024-05-17 04:59:22.119012+03","I need to revise my published Alexa skill I am familiar with the In Development skill version which Amazon automatically creates after publishing a skill What I do not understand is how do I iterate on my skill particularly when I need to change the interaction model and the linked Lambda function at the same time For example I could create a separate In Development Lambda function and make it my default endpoint for my In Development Alexa skill But then when I submit my In Development Alexa skill for publication that In Development Lambda endpoint would become the new endpoint for my published skill I suppose that could work and I think that is what Amazon intends but I do not want to have to recycle my Lambda functions reconfigure xray tracing etc I use the Serverless Framework to deploy the Lambda functions linked to my Alexa skills and it versions my Lambdas for me What is the recommended workflow I feel like I am missing something basic here I could not find any Amazon documentation for this beyond edit the development version which is obviously inadequate That page has a link to Revise and Update Your Skill after Publication but clicking it sends me to a page about skill distribution "
52780026,"Custom error status codes using pattern matching not working","https://stackoverflow.com/questions/52780026/custom-error-status-codes-using-pattern-matching-not-working","{amazon-web-services,serverless-framework,serverless,aws-serverless,serverless-framework-offline}","2018-10-12 12:57:50+03","2024-05-17 04:59:22.813415+03","In my project I am using serverless I am trying to change the default statusCodes and response I have tried the following In my lambda I am returning the error callback as Still I am not able to get the response with the specified statusCode I am not sure where the exact error is Following is the response I am getting Please help me solve this Thank you "
51939709,"Serverless and uploading image from Lambda endpoint to S3","https://stackoverflow.com/questions/51939709/serverless-and-uploading-image-from-lambda-endpoint-to-s3","{python,amazon-s3,aws-lambda,aws-api-gateway,serverless-framework}","2018-08-20 23:28:11+03","2024-05-17 04:59:24.811369+03","I am using the Serverless framework with Python What I am trying to accomplish is have an HTTP endpoint setup by Serverless and have that endpoint upload an image to S3 The client Android would upload an image from their phone and hit the endpoint with the image I have been able to successfully upload to S3 but when I click on download for the image and try to open it it appears to be corrupted I am using the file_uploadobj function and it expects a file like object as its first argument It should be noted that the type of event[body] is unicode Here is the code that I am using to accomplish this upload Does anyone have any ideas as to what I am doing wrong I have also tried the following using upload_file "
51944673,"Can't debug serverless app in Visual Studio Code","https://stackoverflow.com/questions/51944673/cant-debug-serverless-app-in-visual-studio-code","{node.js,visual-studio-code,serverless-framework}","2018-08-21 08:32:26+03","2024-05-17 04:59:25.602214+03","I am trying to find out how can I use Visual Studio Code debugger to debug serverless lambda function For testing purposes I have very simple test lambda function Then in launch json I created such a configuration Now I am puting a breakpoint inside my lambda function and pressing F5 to start debugger I am expecting then to go in code put some watches and walk my code stepbystep But nothing happens No errors No console outputs no code paused on breakpoints Nothing All I get is message in debug console homeset nvmversionsnodev8 4 0binnode node_modules binsls invoke local function test data foobar If I go then in terminal and run that line I got exactly what is expected What am I doing wrong How can I debug serverless application in Visual Studio Code"
51951810,"Use Swagger API validation with Serverless Framework","https://stackoverflow.com/questions/51951810/use-swagger-api-validation-with-serverless-framework","{aws-lambda,swagger,aws-api-gateway,serverless-framework,request-validation}","2018-08-21 15:14:41+03","2024-05-17 04:59:26.69115+03","I want add an api validation to the serverless awsnodes template and nothing I have tested until now has worked very well My current approach is to overwrite the existing apigateway which is generated by the serverless framework with a ymljson swagger definition that contains my models for the validation This works for me when I test it in the APIGateway UI but on external requests the api do not validate the request for the lambdaproxy When I use normal lambda the api gateway also passthrough the request body without validation or transformation My current swagger api definition with validation My api definition from my serverless yml the lambda functions only readwrite feedback fromto an DynamoDB Has someone an idea how I can add some kind of api validation to my serverless project without using small plugins serverlessreqvalidatorplugin or how to solve the problem with the data transformation "
51956895,"Kubeless function invoke error","https://stackoverflow.com/questions/51956895/kubeless-function-invoke-error","{kubernetes,serverless-framework,kubeless}","2018-08-21 21:23:52+03","2024-05-17 04:59:27.400354+03","Im having trouble invoking functions using kubeless Here is the function spec When I try to call the function as below I get FATA[0000] Unable to find the service for smk Two part question Update Running kubeless function ls namespacesmktest yields below Next I tried kubectl logs n kubeless l kubelesscontroller there is tons of error logs but I do not see anything specific to this function"
51958749,"Serverless Enable CORS","https://stackoverflow.com/questions/51958749/serverless-enable-cors","{cors,aws-api-gateway,serverless-framework,aws-amplify}","2018-08-22 01:34:46+03","2024-05-17 04:59:28.595477+03","How do I enable CORS in Serverless I keep getting the following error msg while calling my lambda function I have searched everywhere and I still could not figure out how to fix it Any help would be greatly appreciated Here is my setup My Python handler tested with serverless invoke local My serverless yml My frontend a React app The API call is made with awsamplify Thanks Edit While I was trying to enable CORS manually in API Gateway I got this Invalid Response status code specified error msg Capture"
51964517,"How to package executables in aws lambda function when using serverless framework?","https://stackoverflow.com/questions/51964517/how-to-package-executables-in-aws-lambda-function-when-using-serverless-framewor","{amazon-web-services,aws-lambda,wkhtmltopdf,serverless-framework,serverless}","2018-08-22 10:08:33+03","2024-05-17 04:59:29.355345+03","I need to upload an executable file i e wkhtmltopdf to be exact along with my function code in aws lambda I am using serverless framework I tried different ways but the exe is not uploaded The function works well when the code is zipped and uploaded via the aws dashboard Given below is the directory structure of the function that need to be uploaded node_modules index js wkhtmltopdf This is my serverless yml This is my index js handler But I still get the error Error binbash wkhtmltopdf command not found How to get this working in serverless"
51974560,"Serverless does not create SQS events","https://stackoverflow.com/questions/51974560/serverless-does-not-create-sqs-events","{javascript,amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-08-22 20:22:45+03","2024-05-17 04:59:30.432106+03","I am trying to make serverless create a trigger to fire whenever an object queues But it does not create and also does not fire any errors My serverless yml I did according to the documentation httpsserverless comframeworkdocsprovidersawseventssqs But it does not create Image console lambda"
51975528,"AWS lambda serverless `schedule` event creation error: LimitExceededException","https://stackoverflow.com/questions/51975528/aws-lambda-serverless-schedule-event-creation-error-limitexceededexception","{aws-lambda,serverless-framework,serverless}","2018-08-22 21:39:39+03","2024-05-17 04:59:31.330213+03","I am getting the following error while trying to sls deploy a function with a schedule event Config The strange aspect of this error is that there are no other schedule events associated with this lambda stack "
51975717,"AWSLogs Resource Limit Exceeded - serverless `cloudwatchLog` event","https://stackoverflow.com/questions/51975717/awslogs-resource-limit-exceeded-serverless-cloudwatchlog-event","{amazon-web-services,aws-lambda,serverless-framework}","2018-08-22 21:56:45+03","2024-05-17 04:59:32.460583+03","I am trying to add the cloudwatchLog event to my lambda function and am getting an unexpected error The error message is not very descriptive Does anyone know what is going on Config Error Message"
52009801,"AWS Amplify returns generic Network Error on any Lambda failure","https://stackoverflow.com/questions/52009801/aws-amplify-returns-generic-network-error-on-any-lambda-failure","{reactjs,amazon-web-services,aws-lambda,serverless-framework,aws-amplify}","2018-08-24 18:13:36+03","2024-05-17 04:59:32.665613+03","I am building an app that connects with a serverless API on AWS API GatewayLambda via AWS Amplify used on a web React frontend When the request is successful everything works just fine definitionally I suppose There are no CORS issues or anything But if I try to return a failed response my frontend does not receive that response It receives a generic Network Error with no information about what happened and the console logs a failure I think the code will make more sense of this I request to the API using code like this Amplify configured elsewhere In the Lambda I am returning and Cloudwatch verifies this as I log right before running callback null responseObject a full response object like this or this In the 200 case the response reaches my frontend perfectly shows up in the then function as response In the 500 or general error case the catch is called and the err object is not what I put in the response body but rather a generic Network Error with no relevant information or status code To clarify simply changing the statusCode from 200 to 400 both means the request is caught on the frontend good and that the error has none of the information I am returning from the Lambda bad The console also logs errors It also logs stuff related to a CORS failure that makes no sense to me because I am following the exact same pattern as for success cases just with a higher statusCode Any idea what is going on here It is really frustrating not to have access to the real informative error on the frontend Please let me know if there is any other information that would be helpful for solving this issue EDIT following Michaels feedback below I checked to see if my app was using lambda or lambdaproxy and it is in fact using lambdaproxy which should not produce this behavior as I understand it Heres some code in my serverless yml file And heres a screenshot with the endpoint whited out from AWS API Gateway for one of these endpoints I want to confirm that this is then unexpected behavior for lambdaproxy Is there possibly some setting that is mucking things up"
52014759,"How to package knex migrations to a module?","https://stackoverflow.com/questions/52014759/how-to-package-knex-migrations-to-a-module","{node.js,webpack,serverless-framework,serverless-webpack-plugin}","2018-08-25 06:50:14+03","2024-05-17 04:59:33.592633+03","I have a Serverless framework project with serverlesswebpack Webpack bundles the application itself nicely I have setup the lambdas to try migrations after update like described in the linked blog post httpsspin atomicobject com20180106databasemigrationawslambda The code is in ES6 and serverless framwork runs it through webpack babelloader I have also setup the webpack to include migration files in the bundle by copying them to correct folder When I get the files in the correct folder so that they should be found I get this error I tried to include the migrations folder to package json as a dependency migrations srcmigrations I tried to require all files from the file where withDB function is called still the same error Migration files contain up and down exports Question is that I could create a module that I can ship with serverless deployment so that knex is able to find the modules By creating a index js file to migrations folder that exports all migrations somehow require migrationfile js did not work "
52019039,"How to test AWS Lambda handler locally using NodeJS?","https://stackoverflow.com/questions/52019039/how-to-test-aws-lambda-handler-locally-using-nodejs","{javascript,node.js,aws-lambda,serverless-framework}","2018-08-25 16:07:39+03","2024-05-17 04:59:34.683305+03","I am following these instructions to create a basic web scraper that executes in Lambda I have experience writing selenium code but not with Node JS I got the project running in Lambda but when I tried editing the project locally in order to execute the selenium code I want It does not work Anything in the exports handler does not get executed when I run node index js How would I execute this project locally Thanks "
52022189,"How to deploy a new lambda function from another lambda function","https://stackoverflow.com/questions/52022189/how-to-deploy-a-new-lambda-function-from-another-lambda-function","{aws-lambda,serverless-framework}","2018-08-26 00:04:15+03","2024-05-17 04:59:35.531045+03","Is it possible for one lambda function to deploy a new lamda function with serverless yml and handler py stored in s3 or github I am using serverless framework and python"
43737590,"How/Where to run sequelize migrations in a serverless project?","https://stackoverflow.com/questions/43737590/how-where-to-run-sequelize-migrations-in-a-serverless-project","{migration,sequelize.js,serverless-framework,sequelize-cli,serverless-architecture}","2017-05-02 12:12:34+03","2024-05-17 05:02:13.975238+03","I am trying to use Sequelize js with Serverless coming from traditional server background I am confused wherehow to run database migrations Should I create a dedicated function for running migration or is there any other way of running migrations"
52071539,"Always require stage parameter for Serverless framework","https://stackoverflow.com/questions/52071539/always-require-stage-parameter-for-serverless-framework","{aws-lambda,serverless-framework}","2018-08-29 07:11:27+03","2024-05-17 04:59:36.462273+03","Is there a way to make Serverless abort execution if the stage is not given Looks like it defaults to dev which is not preferred in a multienvironment setup where a default environment does not exist The closest I could get was reading a stage config variable from a local file Unfortunately Serverless still defaults to dev if the stage variable is missing from the existing local file It does give a warning for the missing variable though "
52073161,"Error while deploying kubeless function to kubernetes cluster by using serverless framework","https://stackoverflow.com/questions/52073161/error-while-deploying-kubeless-function-to-kubernetes-cluster-by-using-serverles","{node.js,kubernetes,serverless-framework,faas,kubeless}","2018-08-29 08:43:43+03","2024-05-17 04:59:37.491963+03","I am trying to deploy a kubeless function using serverless I created a kubernetes cluster using minikube and I am trying to follow this link following which but I am getting an error Please point me in the right direction"
52122905,"StreamEnabled table property causes Serverless failure","https://stackoverflow.com/questions/52122905/streamenabled-table-property-causes-serverless-failure","{aws-cloudformation,serverless-framework,amazon-dynamodb-streams}","2018-08-31 21:44:09+03","2024-05-17 04:59:38.578123+03","I am using Serverless to deploy my AWS cloudformation stack On one of my tables I enable streams via StreamEnabled true When this is enabled I get an error on deployment Encountered unsupported property StreamEnabled If I remove the property I get a validation exception ValidationException Stream StreamEnabled was null I found a git issue that was addressed and apparently fixed here but after upgrading to v1 3 I am still getting the same errors on deployment Can anyone lend insight as to what the issue may be"
51313677,"What is the best way to share some data (like fileds name for a dynamodb table ) among multiple lambda functions in serverless framework?","https://stackoverflow.com/questions/51313677/what-is-the-best-way-to-share-some-data-like-fileds-name-for-a-dynamodb-table","{aws-lambda,serverless-framework,serverless}","2018-07-12 20:09:04+03","2024-05-17 04:59:40.655216+03","I want a single place for all the data that multiple lambda functions need them So that I can modifychangeadd the data freely without any side effect How can I achieve this requirement when building a serverless application using serverless framework"
51342423,"AWS Cognito with the serverless framework","https://stackoverflow.com/questions/51342423/aws-cognito-with-the-serverless-framework","{node.js,amazon-web-services,aws-cloudformation,serverless-framework}","2018-07-14 18:43:58+03","2024-05-17 04:59:41.460005+03","I am trying to implement Cognito into my nodejs app for user management using the serverless framework I am stuck at configuring the IdentityPoolRoleAttachment I have a role for cognitofbgoogle provided identities and this is what I have come up with Googling around and searching the docs only show how to configure the attachment with just a Cognito User Pool how can I add in the roles for FBGoogle If i try to deploy this it fails with Which is not much help Any input would be greatly appreciated Here is the full config just in case"
51343271,"How do I check my serverless cli version?","https://stackoverflow.com/questions/51343271/how-do-i-check-my-serverless-cli-version","{version,ubuntu-16.04,serverless-framework}","2018-07-14 20:49:38+03","2024-05-17 04:59:42.224813+03","I am following this serverless quick start tutorial Here I see that I must have the Serverless CLI v1 9 0 or later Ran serverless v then I have got 1 28 0 In the serverless gitHub I see current version is 1 28 0 04 07 2018 The same as mine How can I check my serverless cli version Maye another command that could display 1 9 0 I am running Ubuntu 16 04 "
51355250,"API Mapping Templates with Serverless","https://stackoverflow.com/questions/51355250/api-mapping-templates-with-serverless","{aws-api-gateway,serverless-framework}","2018-07-16 05:46:27+03","2024-05-17 04:59:43.243536+03","When using http event with serverlessframework multiple response status are created by default In case of error a Lambda returns an error message stringified in the errorMessage property so you need a mapping template such as input path errorMessage for any status code you want to use F e But the serverlessframework does not create one by default thus rendering the default status codes useless If I would create a mapping template myself the default response status would be overwritten by my custom ones What is the correct way of mapping with the default status codes created by the [email protected] "
51355700,"Figure out lambda name from AWS API-Gateway","https://stackoverflow.com/questions/51355700/figure-out-lambda-name-from-aws-api-gateway","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2018-07-16 06:23:34+03","2024-05-17 04:59:43.908812+03","There is a Jenkins job which deploys AWSlambda and by default APIs get created at APIGateway Since AWS provides facility to modify lambda on AWS itself I want to make some changes in the functionality and test it I have access to the APIGateway Is there a way I can know the name of lambda deployed behind one of the APIs "
51361719,"Cannot JSON.parse serverless event.body","https://stackoverflow.com/questions/51361719/cannot-json-parse-serverless-event-body","{serverless-framework,serverless,aws-serverless}","2018-07-16 12:20:11+03","2024-05-17 04:59:45.507317+03","Ive been working on a simple function with the serverless framework that gets some data in a http POST does some analysis and sends the results back I got it working locally on my machine using serverlessoffline but when it comes to deploying it Im getting an error parsing the event body Logging out the event body its a string that looks like this so it makes sense that the parse is failing but I have no idea why this error it happening Any suggestions Ive tried a bunch of different things but am completely stumped Thanks in advance "
51363983,"How upload node_modules with serverless to aws?","https://stackoverflow.com/questions/51363983/how-upload-node-modules-with-serverless-to-aws","{amazon-web-services,aws-lambda,serverless-framework,serverless,serverless-webpack-plugin}","2018-07-16 14:20:34+03","2024-05-17 04:59:45.922147+03","I have project on serverless framework I need to resize image I wrote lambda function and install module sharp Also I use serverlesswebpack In webpack I add externals [sharp] and add in serverless yml next I deployed it successfully but when I run lambda I get error Cannot find module sharp maybe I doing something wrong If need more information I can write it "
50763569,"How to run a DynamoDB script when deploying a serverless project using serverless framework?","https://stackoverflow.com/questions/50763569/how-to-run-a-dynamodb-script-when-deploying-a-serverless-project-using-serverles","{amazon-dynamodb,serverless-framework}","2018-06-08 15:08:58+03","2024-05-17 05:00:04.386284+03","I am using serverless framework to package and deploy my project One requirement is to load some metadata to one of the DynamoDB table after the table is created Does the framework provide a mechanism to do this running a script to load data when the table creation is complete I could not find anything similar to this "
51386828,"set execution permission to files deployed from windows to lambda using serverless","https://stackoverflow.com/questions/51386828/set-execution-permission-to-files-deployed-from-windows-to-lambda-using-serverle","{aws-lambda,serverless-framework,serverless}","2018-07-17 17:04:05+03","2024-05-17 04:59:47.139947+03","I am using serveless to deploy lambda function I need to add an executable bin file but when it is uploaded I do not have executable permissions also I cannot change permissions after deployed the only thing I can do is to move the file to tmp and there change the permissions it works ok but adds a lot of overhead because I have to move the files on every Invoke becasue tmp is ephemeral I know there is a known issue that windowslinux files permission are different so if you zip a file on windows and unzip it on a linux machines you will have problem with permission especialy with execution and that happens when serverless deploys the files Anyone have a better workaround for this rather than deploy from a windows machine "
51406480,"Sequelize with Singleton","https://stackoverflow.com/questions/51406480/sequelize-with-singleton","{node.js,aws-lambda,singleton,sequelize.js,serverless-framework}","2018-07-18 16:02:55+03","2024-05-17 04:59:48.070934+03","I am working with Sequelize in node js and the idea is to use the Singleton pattern Reading about how node works with the modules caching and some singleton examples My file in this moment is So as expected when i require this file anywhere in my project the references are the same and works as expected I am not sure if this is the right way to implement the Singleton pattern or if there is a defined and documented one because the oficial documentation does not say anything about this "
51433042,"Get AWS Cognito user ID in Serverless Java function","https://stackoverflow.com/questions/51433042/get-aws-cognito-user-id-in-serverless-java-function","{java,aws-lambda,serverless-framework,serverless}","2018-07-19 23:26:50+03","2024-05-17 04:59:49.171928+03","I am following the httpsserverlessstack com tutorial which uses the Serverless framework to create an API that inserts objects into a DynamoDB table and associates them to the authenticated AWS Cognito user I am attempting to convert the Node js code to Java but I have hit a problem when getting the Cognito identity as shown on this page I expected the following lines of Java code to be equivalent but userId is empty I am using the awsapigatewayclitest utility to call my API with credentials of a Cognito user as shown on this page The authentication passes but the userId is empty in the handler This is my function And this is the function definition in serverless yml Am I missing some configuration or have I not translated the Node js code correctly In case I have missed any pertinent information the full code is available here httpsgithub comstuartleylandcolemealplannertreeaddusers I will update this question with anything that is missing to ensure all relevant information is selfcontained "
51436924,"Serverless reference variable from file cannot used twice","https://stackoverflow.com/questions/51436924/serverless-reference-variable-from-file-cannot-used-twice","{serverless-framework}","2018-07-20 07:05:57+03","2024-05-17 04:59:49.980205+03","Hi I am implementing a custom CORS for all of my functions and I used an external file to define the CORS object The first reference went ok but the subsequent ones will have when I use sls print [functions][create][events][0][http][cors] And it resulted in failure in deploying Is this a known issue How can I get past this heres the content of serverlesscors yml I also tried using a single level file serverlesscors yml cors variable instead of two level like above with no luck"
51446477,"Unable to import module 'handler': Error for serverless","https://stackoverflow.com/questions/51446477/unable-to-import-module-handler-error-for-serverless","{serverless-framework,serverless}","2018-07-20 16:05:53+03","2024-05-17 04:59:51.007184+03","Error Unable to import module handler Error for serverless Here is my handler Here is my serverless yml I did notice inside the serverless zip that the handler js is not in there Could this be the reason And if so how do I fix that"
51458578,"AWS - Caching the response of a scheduled lambda function","https://stackoverflow.com/questions/51458578/aws-caching-the-response-of-a-scheduled-lambda-function","{amazon-web-services,caching,aws-lambda,serverless-framework,serverless}","2018-07-21 17:39:15+03","2024-05-17 04:59:52.018879+03","Using AWS I have followed an example of a lambda function using the serverless framework It is working as expected but now I wonder what the best way of caching the response is My final version of this will consist of one or more json objects that will be retrieved on a regular basis The client side will call an api that will retrieve the already cached data So what AWS service should I implement to actually make the cache"
51464084,"How to create an API Gateway HTTP Proxy without any lambda function","https://stackoverflow.com/questions/51464084/how-to-create-an-api-gateway-http-proxy-without-any-lambda-function","{amazon-web-services,serverless-framework,serverless}","2018-07-22 10:15:21+03","2024-05-17 04:59:53.135836+03","i use the serverless framework and would like to deploy an API Gateway HTTP Proxy but i do not have a Lambda function connected with API Gateway I found this in the internet but this example require one lambda function connected to API Gateway If i deploy this i got the error It is possible to deploy just an API Gateway HTTP Proxy Thanks"
51470960,"serverless framework, typescript, nodejs and mysql - Error: Received packet in the wrong sequence","https://stackoverflow.com/questions/51470960/serverless-framework-typescript-nodejs-and-mysql-error-received-packet-in-t","{mysql,node.js,typescript,lambda,serverless-framework}","2018-07-23 02:36:15+03","2024-05-17 04:59:53.648248+03","When invoking a function with using mysqljsmysql as installed with I get the following error and trace My example code is The code errors when I attempt to call the connect method My research has resulted has resulted in several people saying to turn mangle off in Uglify in older versions of Uglify and Webpack I am however running a modern webpack My package json"
50740129,"Use one dynamoDB table with two different serveless app","https://stackoverflow.com/questions/50740129/use-one-dynamodb-table-with-two-different-serveless-app","{amazon-web-services,aws-lambda,amazon-dynamodb,yaml,serverless-framework}","2018-06-07 11:32:28+03","2024-05-17 05:00:00.836839+03","I have starting work on DynamoDB Lambda function and serverless framework I have some knowledge of this all and still learning on this Now my point is that I crated one serverless app and deploy into AWS In this app I have created like 40 endpoints Lambda functions and 4 dynamoDB tables like A B C D Now I need to create another separate serverless app and I want to use dynamoDB table A into this app which I created into the previous serverless app Is it possible or not If possible then how can I implement this I already try to scan operation into this new app but throughs error like 20180607T110219 352Z 3e8b6b276a4211e8acf97f86fa9df706 AccessDeniedException User arnawsstsXXXXXXXassumedroleserverlessrestapidevuseast1lambdaRoleserverlessrestapidevtodoList is not authorized to perform dynamodbScan on resource arnawsdynamodbuseast1XXXXXXtableA Here i need to define anything else related to dynamoDB table A into my new serverless yml Please help me here if anyone is found the solution for this Thanks in advance"
51471298,"Error with Serverless Framework Deployment","https://stackoverflow.com/questions/51471298/error-with-serverless-framework-deployment","{python,lambda,serverless-framework,binance}","2018-07-23 03:39:18+03","2024-05-17 04:59:54.512188+03","Background I have been working in Python to create a lambda function that will hit the Binance API to fetch balances and transactions To deploy I have been using the Serverless Framework httpsserverless com and virtualenv which has made it a breeze up until this point I have 2 other functions working perfect with other exchanges Error When I deploy I am getting the following getBinanceTransactions being the function I created to return what I want Nothing crazy just following the pythonbinance documentation httpsgithub comsammchardypythonbinance to grab all transactions and then data wrangling Note that this works on my local machine I do a serverless deploy and everything updates just fine using serverlesspythonrequirements to package everything separately Here are my imports only 2 external packages And my requirements txt with both this and the code separated in a directory just like the other I have working in a similar format I have been searching for the solution but no one has seem to run into this problem It also seems that _regex is a code method to Python which makes the situation even more strange I have tried wiping my virtualenv out and rebuilding rebuilding the entire file structure pip freeze requirements txt on installing both packages to make sure nothing was missed changing the name of the imports and requirements importing regexre in my function even switching to Python 2 7 for a hail mary Nothing seems to work despite the others working and I get the same error every time Does anyone have any ideas"
50693046,"DynamoDB query secondary index ValidationException: Condition parameter type does not match schema type","https://stackoverflow.com/questions/50693046/dynamodb-query-secondary-index-validationexception-condition-parameter-type-doe","{amazon-dynamodb,serverless-framework,dynamodb-queries,aws-serverless}","2018-06-05 06:02:52+03","2024-05-17 04:59:56.319886+03","I am developing an AWS service using the Serverless Framework So far it has one table and a couple global secondary indexes I am trying to query against a global secondary index Query It gives an exception using the Node js DynamoDB client not the Node js DocumentClient I understand from the documentation that KeyConditionExpression must do an equality match on the partition index In this case the room field is the partition index of the roomIndex global secondary index According to the documentation you substitute values into the expression using the ExpressionAttributeValues array and as far as I can determine this is constructed correctly The exception message is making me think of a type mismatch between the supplied value in the query and the type of the column being queried Is that the correct interpretation But that cannot be the case as you can see below the room column is defined as S for String Hence this is a string comparison and should be fine Again I am not using the DocumentClient I have seen plenty of answers suggesting to simplify the query by using that client I am not using it The table is defined in the Serverless serverless yml as so The table has a simple primary key and then two Global indexes each with simple primary keys The query code"
50704566,"Serverless Framework function HTTP trigger event configuration","https://stackoverflow.com/questions/50704566/serverless-framework-function-http-trigger-event-configuration","{refactoring,yaml,serverless-framework}","2018-06-05 16:08:03+03","2024-05-17 04:59:57.249844+03","Say I have a serverless app that uses multiple Lambda functions triggered by HTTP event where they all follow a similar URL format same path parameter for example Function 1 path is events id Function 2 path is events id attendees Function 3 path is events id join My serverless yml is starting to look like What is a good way to refactor these http event declarations to reduce the redundancy I am aware of the serverless variables syntax but unsure of how I can make something more like a function that accepts as arguments the different path parameters and returns the appropriate YML I believe doing something like only works if all the HTTP functions I ever write only have that one path parameter id "
50708598,"Why would a Serverless Node 8 function work locally but fail on AWS with no error messages?","https://stackoverflow.com/questions/50708598/why-would-a-serverless-node-8-function-work-locally-but-fail-on-aws-with-no-erro","{node.js,aws-lambda,aws-api-gateway,serverless-framework}","2018-06-05 20:40:31+03","2024-05-17 04:59:58.21009+03","Im writing a function to be deployed to AWS Lambda using node 8 its OSS take a look httpsgithub comhacksecureutilityserverlessfunctions It runs perfectly on local npm run dev but when deployed npm run deploy all I get is internal server error when I make a GET request The Cloudwatch logs have nothing besides the logs showing the request started ended and specifications on the billing The issue looks similar to this but pinning my version of Serverless to 1 25 x as you can see in the package json did nothing I do not have serverless globally installed so I know theres no sort of weird version conflict I cant find any good examples of anything but the simplest Promise based lambda functions so its very possible that my code has some flaw that serverlessoffline will not be able to detect My best guess is that this issue is either related to my local node version which is higher than the Node 8 LTS that AWS uses or something in my AWS CloudFormation stack that the offline does not emulate Since I think an error caused by an older Node version would log something I think the error is with something involving API Gateway That is pure conjecture and I do not have a good way of verifying that "
50708602,"Make synchronous with nodejs + mysql on aws serverless","https://stackoverflow.com/questions/50708602/make-synchronous-with-nodejs-mysql-on-aws-serverless","{mysql,node.js,serverless-framework,serverless,aws-serverless}","2018-06-05 20:40:47+03","2024-05-17 04:59:58.99119+03","I am using nodejs with serverless trying to query to mysql In shop class When I execute this start 1 finish 2 callback This is what I had on the log I want to execute callback before finish so This code can return the data I am using below mysql moudle httpswww npmjs compackagemysql Thanks in advance "
50719584,"How to call python from Java serverless function in AWS","https://stackoverflow.com/questions/50719584/how-to-call-python-from-java-serverless-function-in-aws","{java,python,amazon-web-services,serverless-framework}","2018-06-06 11:43:25+03","2024-05-17 04:59:59.774862+03","I have created a serverless function in Java and need to call a python script from this function I included the script within the zip file and deployed in AWS When running my function I am getting I searched a bit and found that AWS has support for Python Lambdas but in my case I need to call a python script from a Java Lambda Is this supported from AWS or is there any trick I can do "
50746902,"AWS Serverless IdentityPoolRoleAttachment","https://stackoverflow.com/questions/50746902/aws-serverless-identitypoolroleattachment","{amazon-web-services,serverless-framework}","2018-06-07 17:19:57+03","2024-05-17 05:00:01.984794+03","So I am creating a role for my Cognito users to be able to call API Gateway Then I am attaching the role to my IdentityPoolRoleAttachment According to the docs it should work but it of course does not Can someone please shed some light on this P S As I have already pasted this snippet there is one more thing I am using FnJoin because otherwise I am greeted with Is not of type String error is there a better way to handle it"
50828774,"Is there a way to deploy multiple api gateways sharing same lambdas using serverless","https://stackoverflow.com/questions/50828774/is-there-a-way-to-deploy-multiple-api-gateways-sharing-same-lambdas-using-server","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2018-06-13 03:42:06+03","2024-05-17 05:00:04.926655+03","My use case is as follows I have built a rest api written in nodejs with serverless and when deployed will create lambdas and an api gateway that gives url which works fine However I will have multiple clients who would want to use this application with their clients consuming the api and I would not want to duplicate the lambdas for each client as the business logic would not change What would be different is the stage variables set in the api gateway for each client Is there a way I can deploy and manage this using serverless so that when a new client comes on board I should be able to do something like update the serverless yml with new api gateway details and then running the deploy command would generate the new gateway with it is own stage variables sharing the previously created lambdas Hope the question is clear and apologies if this has been previously asked and answered "
50832013,"""Stack with id X does not exist"" on all sls commands after successful sls remove","https://stackoverflow.com/questions/50832013/stack-with-id-x-does-not-exist-on-all-sls-commands-after-successful-sls-remove","{amazon-web-services,aws-cloudformation,serverless-framework}","2018-06-13 08:01:10+03","2024-05-17 05:00:05.858031+03","After successfull sls remove all sls commands fail with Stack with id X does not exist Checked that stack additional stacks and S3 deployment bucket were deleted Tried removing serverless but it did not help "
50842194,"Serverless Framework Cloudwatch Events","https://stackoverflow.com/questions/50842194/serverless-framework-cloudwatch-events","{amazon-web-services,serverless-framework}","2018-06-13 16:33:34+03","2024-05-17 05:00:06.863867+03","I am using serverless version 1 27 3 trying to get a cloudwatchEvent to link codebuild to a lambda as the state changes here is the function When I do sls deploy The cloudwatch event never gets created "
50855281,"Serverless aws Cors setting","https://stackoverflow.com/questions/50855281/serverless-aws-cors-setting","{aws-lambda,serverless-framework,serverless,aws-serverless}","2018-06-14 10:27:10+03","2024-05-17 05:00:07.870723+03","I am building serverless application and want to restrict only 1 url can access to the server I tried two ways on serverless yml And on login function But it is open to public Anyone has the serverless url can visit and see the json output Which part should I change"
50865741,"creating dialogflow v2 project with serverless","https://stackoverflow.com/questions/50865741/creating-dialogflow-v2-project-with-serverless","{amazon-web-services,dialogflow-es,serverless-framework}","2018-06-14 20:50:12+03","2024-05-17 05:00:08.994046+03","Having issues trying to run a new AWSServerlessDialogflow project I am sure it is something simple that I am just not seeing Created initial project using serverless create template awsnodejstypescript moved handler js to src updated serverless yml followed the actionsongoogle example and updated srchandler js also updated tsconfig json to match another Typescript project For thoroughness here is my serverless yml I manually created the API Gateway because serverless creates the lambdaproxy and I have not looked into the other config The project compiles and deploys successfully but when the lambda is called I keep getting node1 UnhandledPromiseRejectionWarning Unhandled promise rejection rejection id 1 TypeError Cannot convert undefined or null to object P S the example source chose to use a cat "
50881012,"How to avoid deployment of all five functions in a server of serverless framework if only one function is changed","https://stackoverflow.com/questions/50881012/how-to-avoid-deployment-of-all-five-functions-in-a-server-of-serverless-framewor","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-codepipeline}","2018-06-15 18:32:14+03","2024-05-17 05:00:09.410716+03","I have a serverless framework service with say five aws lambda functions using python By using github I have created a CodePipeline for CICD When I push the code changes it deploys all the functions even only function is changed I want to avoid the deployment of all functions and the CICD should determine the changed function and deploy it Rest of functions should not be deployed again Moreover is there anyway to deal with such problems using AWS SAM as at this stage I have an option to switch towards SAM by quitting serverless framework"
49928742,"AWS AppSync Subscription Arguments","https://stackoverflow.com/questions/49928742/aws-appsync-subscription-arguments","{amazon-web-services,graphql,serverless-framework,serverless,aws-appsync}","2018-04-19 19:23:19+03","2024-05-17 05:00:11.543735+03","What can the arguments on an AppSync GraphQL subscription be used for According to the realtime data page on the docs An important part of using GraphQL subscriptions is understanding when and how to use arguments as subtle changes will allow you to modify how and when clients are notified of mutations that have occured In the default sample clients can subscribe to Comments when a specific eventId argument is passed through I cannot find any way to access the subscription arguments though I have different channels of comments that I would like users to be able to subscribe to individually optionally with a password The subscription I have set up responds to comments in all channels instead Is there any way to filter the data coming through the subscription with a mapping template or similar If not what is the intended use of the subscription arguments Must the filtering be done client side"
49933952,"How to return multiple cookies with AWS APIGateway and Lambda?","https://stackoverflow.com/questions/49933952/how-to-return-multiple-cookies-with-aws-apigateway-and-lambda","{python,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2018-04-20 04:22:25+03","2024-05-17 05:00:12.656965+03","I am trying to return two cookies from Lambda to client Postman via APIGateway I referred to the aws blog and could return 1 cookie to client httpsaws amazon comjpblogscomputesimplyserverlessusingawslambdatoexposecustomcookieswithapigateway But I have no idea to return 2 kind of cookies I tried like this but not working Could anyone give me an advise"
49955595,"Numpy lambda error using serverless","https://stackoverflow.com/questions/49955595/numpy-lambda-error-using-serverless","{python,pandas,numpy,lambda,serverless-framework}","2018-04-21 12:06:32+03","2024-05-17 05:00:13.56936+03","I am on mac OSX and deploying a python lambda on AWS I have created a local env source venvbinactivate following these instructions httpsserverless comblogserverlesspythonpackaging I have installed all of the packages then i deploy the package using error when running on the lambda START RequestId Version LATEST Unable to import module main Missing required dependencies [numpy] Also note my code is not calling numpy it is calling quandl and quandl is calling numpy requirements txt Running the same code on an ec2 looks like its numpy is having an issue calling it I added the below to the python file error"
49963141,"Providing multiple api versions on API Gateway and Lambda using Serverlesss Framework","https://stackoverflow.com/questions/49963141/providing-multiple-api-versions-on-api-gateway-and-lambda-using-serverlesss-fram","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless-architecture}","2018-04-22 06:19:48+03","2024-05-17 05:00:14.467885+03","I am building a serverless app using API Gateway and Lambda Serverless Framework and trying to find a way to provide multiple versions of our apps API Heres the way I can think of serverless yml list js fooUtil js However I need to pass ver parameter to all functions this way Is there any way easier and testable to fetch version no from request like below fooUtil js I prefer not to divide repositories or git branches to manage multiple versions "
49991349,"Serverless/Cloudformation resource that depends on the existence of another resource","https://stackoverflow.com/questions/49991349/serverless-cloudformation-resource-that-depends-on-the-existence-of-another-reso","{amazon-web-services,aws-cloudformation,serverless-framework}","2018-04-23 23:35:27+03","2024-05-17 05:00:15.645895+03","I am trying to use the Serverless Framework to deploy a Kinesis Firehose that outputs to an ElasticSearch domain Since the Firehose needs the ES domain to already exist before it can be created I am running into this error An error occurred MyFirehoseStream Domain arnawsesuseast11234567890domainmyelasticsearch is still being created Is there a way to make the Firehose creation wait until after the ES domain creation is complete Just in case its helpful here are the relevant parts of my serverless yml file fyi I am using the serverlesspseudoparameters plugin to use AWSRegion and AWSAccountId UPDATE I have this fixed now so in case the specifics are helpful for anyone I changed the DomainARN property to FnGetAtt [MyElasticSearch DomainArn ] The reason I was originally generating the ARN dynamically was because with FnGetAtt I originally tried to use just Arn instead of DomainArn which did not work Coincidentally though DomainArn has been deprecated in the latest version so if you are using the latest version Arn actually would be correct "
50037552,"Is there a way in aws lambda where I can trigger a hook before handler is invoked","https://stackoverflow.com/questions/50037552/is-there-a-way-in-aws-lambda-where-i-can-trigger-a-hook-before-handler-is-invoke","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-04-26 07:49:20+03","2024-05-17 05:00:16.58998+03","I have a rest api using serverless framework with the following endpoints GET clients id POST clients id payments type both clients and payments having it is own handlers I want to know if there is a way by which I can get the client details injected to the payment handler by some sort of hooks rather than calling the code to fetch the client with in the payment handler This way handlers of all subresources of clients will not need to fetch the client details with in the handler It would be interesting if I can utilize the plugins of serverless framework to achieve the same "
50048368,"Internationalization on serverless backend (AWS)","https://stackoverflow.com/questions/50048368/internationalization-on-serverless-backend-aws","{amazon-web-services,internationalization,serverless-framework,i18next,react-intl}","2018-04-26 16:54:30+03","2024-05-17 05:00:17.707467+03","I am building a serverless node js web app on AWS using Serverless Framework and trying to implement internationalization on the backend API GatewayLambdaDynamoDB For frontend React I use redux to store the selected language and reactintl to switch multiple languages For the backend what is the best way to implement internationalization Here are two ways I can think of but there must be better ones A Translate on the backend Get language from path parameter validate js This way I need to pass the language as a function parameter to everywhere which is not desirable B Translate on frontend i18n reactintl backend hello js response frontend hello js ja json translation file for i18n This way it looks like everything works fine without any trouble but am I missing anything"
50069352,"Use AppSync and Amazon RDS with serverless-graphql","https://stackoverflow.com/questions/50069352/use-appsync-and-amazon-rds-with-serverless-graphql","{node.js,graphql,amazon-rds,serverless-framework,aws-appsync}","2018-04-27 19:47:32+03","2024-05-17 05:00:18.389819+03","There is this great repository with example implementations of different serverless scenarios Right now I am struggling with the combination of AppSync and Amazon RDS I tried the implementation of the standalone rds and the appsync examples provided in the repository These are working like a charm But obviously there are many differences and difficulties if you would like to combine these technologies I used the schema resolver and handler functions from the rds directory and combined it with the appsync lambda implementation I adjusted the mapping templates and updated the serverless yml file I could successfully deploy the whole appsync service and all resources without any errors I am able to access the graphql endpoint from graphiql and do my queries But when I try it from the appsync console I get null as a response I guess it has something to do with the mapping templates but I am not quite sure Has anybody got any suggestions or maybe a working example of this specific combination"
50070317,"jenkins npm or node not found tried the plugin jenkins suders","https://stackoverflow.com/questions/50070317/jenkins-npm-or-node-not-found-tried-the-plugin-jenkins-suders","{serverless-framework}","2018-04-27 21:07:04+03","2024-05-17 05:00:19.206891+03","npm command not found it is unable to find node or npm in Jenkins user ["
50105577,"Serverless framework, subscribe multiple topics","https://stackoverflow.com/questions/50105577/serverless-framework-subscribe-multiple-topics","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-04-30 17:40:47+03","2024-05-17 05:00:20.107253+03","I am having difficulties on subscribing all my topics to a function handler What I would like to do is something like this When I try to add all topics that I have without a wildcard I am facing this error An error occurred bla bla bla The final policy size 20526 is bigger than the limit 20480 How can I subscribe all my topics to a function handler while avoiding this problem"
50140885,"Difference between SAM template and Cloudformation template","https://stackoverflow.com/questions/50140885/difference-between-sam-template-and-cloudformation-template","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2018-05-02 18:02:11+03","2024-05-17 05:00:20.341943+03","I am finding it hard to understand the difference between SAM template and Cloudformation template I know that SAM template can be used to define Serverless Applications like Lambda but how does that make it different from Cloudformation template Is the syntax different I can still specify the Lambda definitions in cloudformation template So my question is why should I care about SAM Will not knowing about just cloud formation template be sufficient"
49223133,"Circular dependency between resources: CognitoUserPool and environment","https://stackoverflow.com/questions/49223133/circular-dependency-between-resources-cognitouserpool-and-environment","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,serverless}","2018-03-11 17:44:59+02","2024-05-17 05:00:31.004054+03","I am getting an error when i try to use Ref to AWSCognitoUserPool in lambda environment when the lambda is bound to events from cognitoUserPool This is the error The CloudFormation template is invalid Circular dependency between resources Serverless code"
50145879,"Using Serverless, how do you set a Lambda function's authorizer to a Cognito User Pool from the Resources?","https://stackoverflow.com/questions/50145879/using-serverless-how-do-you-set-a-lambda-functions-authorizer-to-a-cognito-use","{amazon-web-services,aws-lambda,yaml,serverless-framework,serverless}","2018-05-03 01:59:55+03","2024-05-17 05:00:21.396153+03","In my serverless yml I have a Lambda function and I want to set it is authorizer to a Cognito User Pool that I have declared in the Resources section down below I have seen examples where the authorizer is set to aws_iam but that seems wrong Any help would be amazing I am thinking I need to set the authorizers ARN to the Pools ARN but how do I get that Or is that even correct"
50151882,"Connection error during serverless deploy of python package","https://stackoverflow.com/questions/50151882/connection-error-during-serverless-deploy-of-python-package","{amazon-web-services,aws-lambda,serverless-framework}","2018-05-03 09:44:57+03","2024-05-17 05:00:22.469588+03","I am trying to deploy a sample python code into aws using serverless I have followed the steps outlined here My yml file is as follows I have also used serverless config credentials and entered my access id and key After running serverless deploy I get the following Now I am using windows 10 for this and I have a docker installed as well How do I make serverless deploy this into lambda What did I miss"
50158593,"Work around circular dependency in AWS CloudFormation","https://stackoverflow.com/questions/50158593/work-around-circular-dependency-in-aws-cloudformation","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,serverless}","2018-05-03 15:19:18+03","2024-05-17 05:00:23.421577+03","The following AWS CloudFormation gives a circular dependency error My understanding is that the dependencies flow like this rawUploads generatePreview previewPipeline rawUploads Although it does not seem like rawUploads depends on generatePreview I guess CF needs to know what lambda to trigger when creating the bucket even though the trigger is defined in the lambda part of the CloudFormation template I have found some resources online that talk about a similar issue but it does not seem to apply here httpsaws amazon compremiumsupportknowledgecenterunablevalidatecirculardependencycloudformation What are my options for breaking this circular dependency chain Scriptable solutions are viable but multiple deployments with manual changes are not for my use case "
50188932,"Invoke Lambda function by SNS message on local serverless-offline environment","https://stackoverflow.com/questions/50188932/invoke-lambda-function-by-sns-message-on-local-serverless-offline-environment","{amazon-web-services,aws-lambda,amazon-sns,serverless-framework,serverless}","2018-05-05 11:32:08+03","2024-05-17 05:00:24.195752+03","I am using Serverless Framework serverlessoffline plugin to develop serverless web application locally and trying to test the following procedure serverless yml I tested it on AWS and it worked but I do not know how to test it locally serverlessofflinesns does not support subscription by lambda for now serverlessofflinesns supports http https and sqs subscriptions email emailjson sms application and lambda protocols are not supported at this time httpswww npmjs compackageserverlessofflinesns I think this is a very common use case for serverless eventdriven architecture How do you test this on local environment"
50190553,"Unable to import module 'src/index': Error at Function.Module._load (module.js:438:3)","https://stackoverflow.com/questions/50190553/unable-to-import-module-src-index-error-at-function-module-load-module-js4","{aws-lambda,serverless-framework}","2018-05-05 14:32:21+03","2024-05-17 05:00:25.220046+03","I deployed some changes to a TypeScript project using serverless I added this code and called it elsewhere When I now invoke the AWS Lambda function I receive this error message in my logs Unable to import module srcindex Error at Function Module _load module js4383 How can I find out more about the error"
49148771,"Serverless AWS (Python) read from S3 : Access Denied","https://stackoverflow.com/questions/49148771/serverless-aws-python-read-from-s3-access-denied","{python,amazon-web-services,amazon-s3,boto3,serverless-framework}","2018-03-07 09:49:38+02","2024-05-17 05:00:27.094177+03","I have a problem with getObject access from my lambda function FrameWork serverless to S3 service in AWS here a sample of my code and in my serverless yml i gave to my lambda the full access to the bucket but when i run the code i receive the error do you have any idea why the boto3 dosent not take the permission from the iam role Because its working only if i declare boto3 with private and access keys Thank you in advance"
49159159,"Create Lambda Trigger from Kinesis Stream in serverless.yml file","https://stackoverflow.com/questions/49159159/create-lambda-trigger-from-kinesis-stream-in-serverless-yml-file","{serverless-framework}","2018-03-07 18:44:23+02","2024-05-17 05:00:28.027217+03","I am trying to create a lambda triggered aws via my serverless yml file I am able to create both the Kinesis stream and attach it to the lambda via the yml process no problem but I am not able to do both at once in what appears to be a race condition I am creating the Kinesis strea via the resources function httpsserverless comframeworkdocsprovidersawsguideresources And I can attach a Lambda this way httpsserverless comframeworkdocsprovidersawseventsstreams However when I do both of these the Lambda appears to encounter a race condition deploying and I have to reenable manually the kinesis trigger on the lambda This appears to be because these both get created in parallel and the stream does not exist when the Lambda has it added as it is trigger Is there a workaroundbest practice for this Is the only solution to create the stream before deploying my serverless elements"
49179199,"How to get the CloudFront distribution's domain name","https://stackoverflow.com/questions/49179199/how-to-get-the-cloudfront-distributions-domain-name","{amazon-web-services,amazon-cloudfront,aws-api-gateway,aws-cloudformation,serverless-framework}","2018-03-08 17:36:56+02","2024-05-17 05:00:28.86293+03","The goal is to create a custom domain for my Serverless api api example com So my approach is to create this Route53 record But how do I provide the domain name from the CloudFront emitted by Serverless"
49208985,"Is there a way to import TS vars file in serverless.yml?","https://stackoverflow.com/questions/49208985/is-there-a-way-to-import-ts-vars-file-in-serverless-yml","{serverless-framework}","2018-03-10 12:17:53+02","2024-05-17 05:00:29.481451+03","I have a huge config object nicely typed in a TS file and I wanna reuse it within the rest of my app I also need to pass it to serverless But serverless only supports js files and I dont wanna lose the config type information So inside my serverless yml would ideally be something like"
49221791,"Serverless create command not working","https://stackoverflow.com/questions/49221791/serverless-create-command-not-working","{node.js,python-3.x,npm,serverless-framework}","2018-03-11 15:39:43+02","2024-05-17 05:00:30.149507+03","I have installed node js and the serverless framework If I type Its showing the output as 1 26 1 However if I run the command below Its throwing the op What am I missing"
49248164,"Using serverless framework, how to setup a Azure CosmosDB in yml file?","https://stackoverflow.com/questions/49248164/using-serverless-framework-how-to-setup-a-azure-cosmosdb-in-yml-file","{azure,azure-cosmosdb,serverless-framework}","2018-03-13 04:03:15+02","2024-05-17 05:00:31.480614+03","Using serverless js framework how to setup a Azure CosmosDB by setting settings in the serverless yml file"
49274262,"How to set response headers in serverless.yml?","https://stackoverflow.com/questions/49274262/how-to-set-response-headers-in-serverless-yml","{javascript,amazon-web-services,http-headers,httpresponse,serverless-framework}","2018-03-14 09:41:39+02","2024-05-17 05:00:32.503512+03","I have serverless API which is working with serverless framework version 1 25 Due to security reason I want to add response header Please help me how can I set below headers via serverless yml file Is it necessary to add this header for the security reason ContentSecurityPolicy Include defaultsrc self StrictTransportSecurity maxage31536000 includeSubDomains preload XContentTypeOptions nosniff XXSSProtection 1 CacheControl max age0 Expires1 or Expires Fri 01 Jan 1990 000000 GMT nocache mustrevalidate Below is my serverless application serverless yaml"
49289302,"How to read the POST parameters in a serverless application with Lambda?","https://stackoverflow.com/questions/49289302/how-to-read-the-post-parameters-in-a-serverless-application-with-lambda","{amazon-web-services,serverless-framework,serverless}","2018-03-14 23:37:56+02","2024-05-17 05:00:33.018256+03","I am submitting a form to a Lambda function deployed by serverless heres the yml Now my hello function is I can see on the output that the variables were passed but they are stored in the event body property as such Now I can access this string but I cannot read individual variables from it unless I do some regex transformation which I believe would not be the case in such a modern stack such as serverlessaws What am I missing How do I read the individual variables"
49320549,"Serverless duplicates user pools instead of reusing by name","https://stackoverflow.com/questions/49320549/serverless-duplicates-user-pools-instead-of-reusing-by-name","{amazon-web-services,aws-cloudformation,serverless-framework,serverless}","2018-03-16 12:15:38+02","2024-05-17 05:00:34.130663+03","I am using serverless to deploy an AWS CloudFormation template and some functions here is a part of my serverless yml file As you can see both user pool names are the same but when I run serverless deploy 2 user pools with the same name are created Is this a bug or am I missing something"
49330149,"How to export serverless cloudformation output variables to a file or a task runner?","https://stackoverflow.com/questions/49330149/how-to-export-serverless-cloudformation-output-variables-to-a-file-or-a-task-run","{amazon-web-services,aws-cloudformation,serverless-framework}","2018-03-16 22:05:57+02","2024-05-17 05:00:34.717683+03","I am using serverless yml to create a couple services in AWS cloudformation specifically cognitoUserPool and UserPoolClient Both of these creations will return IDs that I will use on my flat html files with the cognito library to connect to amazon cognito so since I am serving flat files from S3 I need these values to be coded inside the files Now I am looking for a way of automating this perhaps leaving a placeholder in the files and then running them through a preprocessor that changes the placeholders with the output values before uploading them to S3 Any ideas how this can be achieved My first guess would be to export the output variables from serverless deploy and then use these values on a task runner "
49352041,"CORS issues with Serverless Lambda and API Gateway","https://stackoverflow.com/questions/49352041/cors-issues-with-serverless-lambda-and-api-gateway","{aws-lambda,axios,aws-api-gateway,serverless-framework,http-status-code-502}","2018-03-18 19:31:41+02","2024-05-17 05:00:35.924361+03","Solved The below issue was simply caused by the body property of the response object constructed in my Lambda I was forgetting to stringify the data returning body data instead of body JSON stringify data This problem with the response appeared to trigger an error with API Gateway which caused the request failures with some rather confusing error messages Problem I am working on a ecommerce site using React Serverless and the Stripe API My frontend React app is making a GET request using Axios to my Lambda function which has been exposed via API Gateway The Lambda function in turn queries the Stripe API and returns the Stripe response data to my React app However I am experiencing CORS issues as my React app tries to call the Lambda it receives the following error Querying the Lambda endpoint in Insomnia returns a 502 response with message internal server error But executing the serverless invoke command from the Lambda function from the terminal successfully returns the Stripe data I am enabling cors for the function in my serverless yml file and including AccessControlAllowOrigin in my Lambda code response as advised in this Serverless blog post I have also attempted adding a various combinations of the following headers to my Lambda response and my Axios request based on suggestions found on this issue on Axios and this issue on Serverless I have deleted and redeployed the service multiple times and Lambda response headers ReactAxios config Currently my code is as follows React app Lambda Serverless yml I have been at this for hours any insights much appreciated EditAdditional Making an options request from the CLI returns the following"
49358739,"Setup AWS API gateway custom authorizers in serverless framework","https://stackoverflow.com/questions/49358739/setup-aws-api-gateway-custom-authorizers-in-serverless-framework","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2018-03-19 08:40:34+02","2024-05-17 05:00:36.556209+03","I need to add AWS API gateway custom authorizer to a Lambda function Currently I have added the authorizer for each endpoint As in the following serverless yml serverless yml How can I add the custom authorizer to the entire lambda function rather than adding separately to each endpoint"
49369688,"Lambda + RDS Postgres not working","https://stackoverflow.com/questions/49369688/lambda-rds-postgres-not-working","{postgresql,amazon-web-services,serverless-framework}","2018-03-19 18:09:00+02","2024-05-17 05:00:37.121898+03","I am trying to make rds with postgres work with lambda but no luck so far I have read all other threads about it here doublechecked my Lambda VPC Subnet config it is the same as the RDS one but still no luck connecting what am I missing here Some screenshots to clarify Before I enabled the Public access and I could connect through serverless offline Thanks EDIT "
49409515,"Map request into aws service without lambdas and using AWS service proxy integration on Api Gateway","https://stackoverflow.com/questions/49409515/map-request-into-aws-service-without-lambdas-and-using-aws-service-proxy-integra","{amazon-web-services,aws-api-gateway,amazon-kinesis,serverless-framework,serverless}","2018-03-21 14:51:10+02","2024-05-17 05:00:37.944985+03","So i have got a scenario that i want to use an endpoint and map the provided requests directly into Kinesis stream I was able to do that manually in the aws console But is there a way to do change the integration to aws service using serverless or serverless plugin I tried to find a way to deploy an endpoint that communicates directly with an aws service without lambdas and could not find it "
42449195,"I need a list in a dynamodb using cloud formation","https://stackoverflow.com/questions/42449195/i-need-a-list-in-a-dynamodb-using-cloud-formation","{amazon-dynamodb,serverless-framework}","2017-02-24 22:15:10+02","2024-05-17 05:02:31.688538+03","I have a users table and a requests table Many requests for one user I would like to have a list of requests in the users table But I am not sure how to write the cloud formation call to build it Currently I have just a flat set of attributes I would like requests to be a list of request ids for the user not a string value so no S type so I can cycle through them and call the ones I want Let me know if my schema is ok Thanks in advance "
49419715,"Strange PUT error when uploading to S3 with Serverless Framework","https://stackoverflow.com/questions/49419715/strange-put-error-when-uploading-to-s3-with-serverless-framework","{amazon-s3,serverless-framework,serverless}","2018-03-22 02:46:44+02","2024-05-17 05:00:38.887072+03","I used Serverless Framework to create an S3 bucket and Lambda functions for uploading a file In my Resources section I have the following to create the S3 bucket For some reason every time I executed the file upload the PUT request generated a 403 Forbidden So I started manually editing the CORS configuration XML directly in the S3 console when suddenly and inexplicably it started working Out of curiosity I restored the CORS configuration back to the original manually and it still worked I redeployed using the sls deploy command and it continues to work I am curious why it is working all of a sudden and more importantly what I can do to make sure I do not run into this again "
48462965,"AWS Serverless Protect API Paths for different User Roles","https://stackoverflow.com/questions/48462965/aws-serverless-protect-api-paths-for-different-user-roles","{amazon-web-services,lambda,aws-api-gateway,amazon-cognito,serverless-framework}","2018-01-26 14:08:42+02","2024-05-17 05:00:40.964266+03","right now my head is exploding from all the information about AWS So I need your help I have the following architecture on AWS API Gateway Lambda Cognito I am using the serverless framework to configure everything On Lambda several functions are deployed Let us say the API and functions are like I have two types of users A and B A is an admin and should access everything but B is restricted to certain paths e g How can I achieve this with Cognito API Gateway and Lambda The informationideas I have found so far are Which is the best way to go Or is there a better solution Nevertheless a good example would be nice So far I have found only examples with like 50 lines of code which do not suit my case So actually my problem might be that I do not know how and where to start "
48497318,"Serverless framework. Exclude not needed functions from package","https://stackoverflow.com/questions/48497318/serverless-framework-exclude-not-needed-functions-from-package","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-01-29 08:42:59+02","2024-05-17 05:00:42.905186+03","My service structure yaml file When im deploying i have 3 different lambda functions but each one contain Function1 js Function2 js Function3 js inside Can somebody explain me please how to exclude from resulted Lambda not needed files"
48510018,"How to set um a Node.JS proxy on AWS Lambda","https://stackoverflow.com/questions/48510018/how-to-set-um-a-node-js-proxy-on-aws-lambda","{javascript,node.js,amazon-web-services,lambda,serverless-framework}","2018-01-29 21:09:33+02","2024-05-17 05:00:43.991884+03","I was trying to make a Polyfill io server as a microservice on AWS Lambda it was supposed to run a JavaScript file on a GET request When I run the service locally the call goes through but it returns an undefined object instead of JS file I am running it locally using serverless my code is based on polyfill ios github repo I have modified the serviceindex js to be like so This is my serverless yml"
48516592,"Serverless deploy not picking-up AWS credentials","https://stackoverflow.com/questions/48516592/serverless-deploy-not-picking-up-aws-credentials","{serverless-framework,serverless,serverless-plugins}","2018-01-30 08:02:44+02","2024-05-17 05:00:44.893867+03","On PowerShell I defined two environment variables to define AWS secret and access key Why serverless dosent pick my credentials"
48522653,"How to get SNS topic ARN inside lambda handler and set permissions to wite to it?","https://stackoverflow.com/questions/48522653/how-to-get-sns-topic-arn-inside-lambda-handler-and-set-permissions-to-wite-to-it","{serverless-framework}","2018-01-30 13:30:01+02","2024-05-17 05:00:45.913509+03","I have two lambda functions defined in serverless yml graphql and convertTextToSpeech The former in one of the GraphQL endpoints should write to SNS topic to execute the latter one Here is my serverless yml file And GraphQL endpoint writing to SNS There are two issues here Topic ARN which is required to write to a topic is hardcoded it How I can get this in my code dynamically Is it provided somehow by serverless framework Even when topic arn is hardcoded lambda functions does not have permissions to wrote to that topic How I can define such permissions in serverless yml file"
48532841,"How to get the target domain name of a custom domain for Regional AWS API Gateway in Cloudformation?","https://stackoverflow.com/questions/48532841/how-to-get-the-target-domain-name-of-a-custom-domain-for-regional-aws-api-gatewa","{amazon-web-services,aws-api-gateway,aws-cloudformation,serverless-framework,regional}","2018-01-31 00:53:29+02","2024-05-17 05:00:46.827491+03","I am trying to create a multiregion serverless application on AWS I have followed the instructions given here I am using Serverless framework which uses Cloudformation scripts for creating all the resources on AWS I want to create a custom domain for API gateway as a Regional Endpoint When it creates a Regional endpoint it generates a target domain I would like to know how can I get the value of the target domain in my Cloudformation script When I create an Edge optimized Endpoint I get the value of the CloudFront deployment by using the DistributionDomainName attribute But I do not see any attribute for the target domain name when a Regional Endpoint is created I tried using the DistributionDomainName attribute for a Regional endpoint but it throws an error which says that there is no DistributionDomainName Below is a part of my script Please help Thanks UPDATE Cloudformation now returns the regional domain name through RegionalDomainName property It could be used as FnGetAtt [customDomain RegionalDomainName] "
48534740,"How to properly connect AWS Lambda to RDS in VPC?","https://stackoverflow.com/questions/48534740/how-to-properly-connect-aws-lambda-to-rds-in-vpc","{amazon-web-services,aws-lambda,amazon-rds,amazon-vpc,serverless-framework}","2018-01-31 04:57:30+02","2024-05-17 05:00:47.739816+03","I am trying to build a graphQL API with Serverless Framework on AWSLambda using ApolloServerLambda etc I need to use a not publicly available PostgreSQL RDS instance I can get lambdas up and running and sending back requests when not in VPC I can get a Postgres RDS Database up and running and connected to PgAdmin when in publicly available mode The problem is once I make the RDS Postgres non public and try to get all these pieces talking together I fail I have tried multitude of different approaches This is regularly portrayed as magic It is wonderfully written httpsgist github comreggidc5f2620b7b4f515e68e46255ac042a7 I could not get access to Postgres with my lambdas using this So my first question Do I need a NAT gateway for incoming ingress api calls to lambdas in a VPC My current understanding is that maybe I only need a NAT gateway for my lambdas to make outgoing calls to other apis out of aws or things like S3 Is this correct Next up I have made a security group for my lambdas and have added this security group to the inbound list for the security group that was created for RDS My understanding is this is how the lambdas should gain access to RDS I have not had such luck Maybe this is related to public or non public subnets Maybe this is related to my understanding of the necessity of a NAT Basically the only visibility I have been able to get is Lambdas timing out after 20 or 30 seconds depending on my limit when they are trying to connect to postgres in private Cloudwatch logs reveal nothing else Lastly for now what is the best way to connect my dev machine to Postgres once it is not public I have my machines IP listed for inbound TCPIP to port 5432 to postgres in the RDS security group but that does not seem to give me the access I was hoping for Do I really need a VPN connected to VPC Whats the simplest way I have done this tutorial with basic alterations for Postgres httpsdocs aws amazon comlambdalatestdgvpcrds html I have read and considered answers from this question more Allow AWS Lambda to access RDS Database I have had many successfull deployments with serverless framework with many variations on serverless yml config to try these options or else I would show a specific one I thought was failing but this is more broadly that I cant seem to grasp exactly how all these VPC security groups routing tables etc are supposed to interact Any help greatly appreciated "
48554917,"Getting Sequelize.js library to work on Amazon Lambda","https://stackoverflow.com/questions/48554917/getting-sequelize-js-library-to-work-on-amazon-lambda","{amazon-web-services,aws-lambda,amazon-rds,serverless-framework,node-mysql2}","2018-02-01 03:33:30+02","2024-05-17 05:00:48.748126+03","So I am trying to run a lambda on amazon and narrowed down the error finally by testing the lambda in amazons testing console The error I got is this Easy enough so I have to install mysql2 So I added it to my package json file I noticed when I do sls deploy however it seems to only be packaging some of the modules I think this is why it is not working In short how do I get mysql2 library to be packaged correctly with serverless so my lambda function will work with the sequelize library Please note that when I test locally my code works fine My serverless file is below UPDATE So I confirmed that running sls package stage dev seems to create this in the zip folder that would eventually upload to AWS This confirms that serverless is not creating the package correctly with the mysql2 reference for some reason Why is this webpack config file as requested"
48562937,"How to include static files on Serverless Framework?","https://stackoverflow.com/questions/48562937/how-to-include-static-files-on-serverless-framework","{node.js,amazon-web-services,lambda,aws-lambda,serverless-framework}","2018-02-01 12:35:02+02","2024-05-17 05:00:49.44737+03","I am creating a NodeJS service with serverless framework to validate a feed so I added a schema file json to the service but I cant make it work It seems to not be included in the package Lambda does not find that file First I just run sls package and check the zip contents but the file is not present I also tried to include the file with but still not works How can I make sure a static file is included in the package and can be read inside the lambda function"
48573826,"serverless webpack config, manually add directory","https://stackoverflow.com/questions/48573826/serverless-webpack-config-manually-add-directory","{node.js,webpack,sequelize.js,serverless-framework,serverless-webpack-plugin}","2018-02-02 00:11:16+02","2024-05-17 05:00:50.215933+03","I have the following code I am running that is failing to work because it can not find the models folder when I upload to amazon After investigating the issue I found out its because the models folder is not being packaged by the serverless webpack plugin I found out recently how to force certain packages to upload using this code in my serverless file This will only seem to include packages however and when I tried to reference the models folder to automatically include all my sequelize models I got an error saying it was not a package which of course makes sense This does leave me with the question of how I can get it to package the models directory without manually doing a require for each model I wrote a dynamic function to get them at runtime and import it to sequelize Information on the plugin is here httpsgithub comserverlessheavenserverlesswebpack I looked through it all but cannot seem to find the answer The output of packaging with serverless looks like this missing the models folder with all my sequelize models My main directory before doing webpack looks like this Here is my webpack config js as well "
48574178,"Cannot access SQS queue message through Lambda function - Serverless framework","https://stackoverflow.com/questions/48574178/cannot-access-sqs-queue-message-through-lambda-function-serverless-framework","{node.js,lambda,serverless-framework}","2018-02-02 00:58:13+02","2024-05-17 05:00:50.629625+03","I have a lambda function which is suppose to read message from a SQS queue and process When I deployed everything to AWS and try to call the lambda function getting errorMessageAccess to the resource httpssqs useast1 amazonaws com is denied However Lambda function can read the messages when it is run locally through Serverless Offline plugin I have given proper permission as below And my project is based on Serverless framework using node js Here is the permission block Effect Allow Action sqs Resource FnGetAtt NotificationQueue Arn"
48591940,"TypeScript And Serverless: `this` Undefined When Calling Private Methods from Public Methods","https://stackoverflow.com/questions/48591940/typescript-and-serverless-this-undefined-when-calling-private-methods-from-pu","{javascript,typescript,webpack,serverless-framework}","2018-02-02 22:43:29+02","2024-05-17 05:00:51.35631+03","I am trying to build an AWS Serverless httpsserverless com function in TypeScript Specifically I am defining an abstract class with a single public method that calls some private methods Here is my simplified TypeScript class I use webpack transpile this into ES5 which produces the following JavaScript The exact exception is So far I have tried setting the webpack config to use ES6 and have tried to use arrow functions to declare the functions in typescript Both produce the same exception The processPayload function is being called somewhere within the Serverless framework but I do not know the implementation details If anyone has experience with the framework and can shed some light on that I would appreciate it Thanks for reading "
48594646,"How to connect Mongo Atlas Database in Lambda function with Mongoose","https://stackoverflow.com/questions/48594646/how-to-connect-mongo-atlas-database-in-lambda-function-with-mongoose","{javascript,mongodb,mongoose,lambda,serverless-framework}","2018-02-03 06:32:20+02","2024-05-17 05:00:52.422484+03","I am using Serverless framework to deploy my backend to API Gateway and AWS Lambda Here is my serverless yml for this specific lambda function It is a cron job that runs every hour Now when I test on localhost it works perfectly But when I deploy to aws I get the following error Here is my function in my handler js "
48604282,"Restrict api key to specific functions in Serverless","https://stackoverflow.com/questions/48604282/restrict-api-key-to-specific-functions-in-serverless","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2018-02-04 03:07:29+02","2024-05-17 05:00:52.900316+03","I am using Serverless and have a service with two functions I have setup API Keys to restrict access to the service One function does a basic task The 2nd function is activated at the end of the 1st function to return a more thorough result I would like all API Keys be to able to access the 1st function but only some API Keys to access the 2nd function kind of like a premium feature that is activated for some users The only solution I can think of that works is having two separate services but this seems like a waste of resources as I have to request one API from the other Is there a better way to do this"
48606485,"how to set existing kinesis stream arn in function event","https://stackoverflow.com/questions/48606485/how-to-set-existing-kinesis-stream-arn-in-function-event","{aws-lambda,serverless-framework}","2018-02-04 09:09:53+02","2024-05-17 05:00:53.960261+03","I am using serverless framework and trying to deploy Lambda function with eventtrigger definition The event source is Kinesis stream that already exist I am trying to set the stream ARN with FnJoin function but it seems not supported How can I set the event stream ARN without hard coding the AWS region and account Id My yml code"
45755167,"Can we use plugins like Helmet.js and body-parser to secure a serverless function? If not, any alternatives?","https://stackoverflow.com/questions/45755167/can-we-use-plugins-like-helmet-js-and-body-parser-to-secure-a-serverless-functio","{lambda,aws-lambda,serverless-framework}","2017-08-18 11:04:52+03","2024-05-17 05:06:39.656758+03","Can we use plugins like Helmet js and bodyparser to secure a serverless function If we cannot how can we implement those features to our serverless functions"
47567549,"Serverless Error, CloudFormation cannot update a stack when a custom-named resource requires replacing","https://stackoverflow.com/questions/47567549/serverless-error-cloudformation-cannot-update-a-stack-when-a-custom-named-resou","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless-framework,serverless}","2017-11-30 06:55:17+02","2024-05-17 05:00:55.765528+03","I have the following error Serverless Operation failed I tried deleting the database to see if it could recreate it then but it still gives the same error and doesnt remake the database What do I do here What I did was recently change in my serverless yml file the following for the resource I accidentally created it with userId when I was copying and pasting so I changed it to phoneNumber for the hash key but the change will not reflect now Edit I found a solution but it is terrible If I do sls remove stage dev it will remove everything for my stage but literally everything then I have to do sls deploy stage dev to start the deploy over again in the meantime my database is cleared of all data there has to be a better way somehow "
47569793,"How do I query DynamoDB with non primary key field?","https://stackoverflow.com/questions/47569793/how-do-i-query-dynamodb-with-non-primary-key-field","{node.js,amazon-web-services,amazon-dynamodb,serverless-framework}","2017-11-30 09:19:23+02","2024-05-17 05:00:56.814652+03","I have the following data in my dynamoDB table Here is my code Amazon returns back this error How do I have it return all records where loggedIn true My database is currently structured like this via my serverless yml config I did a little research into this via other answers but could not figure out for my situation In other answers they had sort keys but I do not use a sort key here "
47577377,"Add additional individual IAM policy to serverless yaml to extend managed policy","https://stackoverflow.com/questions/47577377/add-additional-individual-iam-policy-to-serverless-yaml-to-extend-managed-policy","{amazon-iam,amazon-kinesis,serverless-framework}","2017-11-30 15:50:04+02","2024-05-17 05:00:57.765528+03","I have a managed policy that allows or read access to a kinesis stream AWSLambdaKinesisExecutionRole I am trying to add additional permissions to also allow write access to PutRecord and PutRecords on to the kinesis stream My serverless yml currently looks like I am still getting a is not authorized to perform kinesisPutRecord on resource error What am I doing wrong"
47585581,"Order Results by Priority & Group Values & then filter results","https://stackoverflow.com/questions/47585581/order-results-by-priority-group-values-then-filter-results","{node.js,amazon-web-services,amazon-dynamodb,serverless-framework}","2017-12-01 02:03:22+02","2024-05-17 05:00:58.856235+03","Here is my DynamoDB current data My goal is to create a query which filters the result in the Group Set to like Default and then sorts by priority and then filters the results to those where loggedIn true and status idle In SQL it would be something like How would I create a query to do this Below is my serverless yml file description of the DynamoDB table Things I have tried Below is my current code so far This uses scan and is able to return all the results that meet the criteria however it does not sort the results by priority in descending order Note status and group are reserved keywords apparently so I had to use ExpressionAttributeNames to account for that Also note that this table will have thousands of users in it eventually "
47594168,"AWS Lambda Task timed out after 6.00 seconds","https://stackoverflow.com/questions/47594168/aws-lambda-task-timed-out-after-6-00-seconds","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,api-gateway}","2017-12-01 13:10:18+02","2024-05-17 05:00:59.755775+03","I am using serverless framework My Lambda function connects to DynamoDB table for updating item in table Read Write capacity units of table are 5 auto_scaling is disabled AWS Lambda function has 128MB memory allocated I have used Jmeter for performance testing I have sent 1000 requests concurrently and some response giving me perfect output while other giving internal server error 502 Bad Gateway i have also analyzed cloudwatch for logs and only get Task Timeout error can anyone suggest me why i am getting this error and how to solve it"
47617935,"Does serverless framework supports Lambda canary deployment (Alias Traffic Shifting )?","https://stackoverflow.com/questions/47617935/does-serverless-framework-supports-lambda-canary-deployment-alias-traffic-shift","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2017-12-03 11:36:52+02","2024-05-17 05:01:00.517335+03","Does serverless framework support canary deployment by switching weights on Lambda alias like SAMCodeDeploy httpsaws amazon comblogscomputeimplementingcanarydeploymentsofawslambdafunctionswithaliastrafficshifting I will appreciate any response Thanks"
47621920,"What are some of the pros and cons for using SAM vs serverless framework? [closed]","https://stackoverflow.com/questions/47621920/what-are-some-of-the-pros-and-cons-for-using-sam-vs-serverless-framework","{aws-lambda,serverless-framework,serverless}","2017-12-03 18:44:52+02","2024-05-17 05:01:01.349673+03","Want to improve this question Update the question so it focuses on one problem only by editing this post Closed 6 years ago I was wondering which approach to useexplore more I am currently exploring options to choose the bestsuitable framework for building microservices on AWS Lambda and canary deployments is a huge feature SAM supports it but serverless dont right now Following are my questions Thanks"
47627036,"AWS - Serverless - ""message"": ""Internal server error"" when deploying, but work offline","https://stackoverflow.com/questions/47627036/aws-serverless-message-internal-server-error-when-deploying-but-work-o","{amazon-web-services,express,aws-api-gateway,serverless-framework}","2017-12-04 05:30:28+02","2024-05-17 05:01:02.34273+03","I have a problem when deploying a project using Serverless framework and Amazon Web Services more specifically API Gateway service On my local machine when I do serverless offline everything works fine When going to httplocalhost3000 I have When navigating to httplocalhost3000examples I have However when deploying with serverless deploy only the first one works The next one displays the following In my code I have the following routes And this is what I have in my ExampleController What can be the problem here"
47632899,"Serverless framework does not deploy internal folders to aws","https://stackoverflow.com/questions/47632899/serverless-framework-does-not-deploy-internal-folders-to-aws","{amazon-web-services,aws-lambda,serverless-framework}","2017-12-04 12:00:15+02","2024-05-17 05:01:03.153745+03","I have a folder structure for lambda as follows created using serverless create template awspython path base_folder base_folder serverless yml src srchandler py srcanother_folder srcanother_folderfile json When I run serverless deploy I do not see the another_folder in the lambda management console on aws "
46870035,"How can I define a composite key in serverless.yml for DynamoDB?","https://stackoverflow.com/questions/46870035/how-can-i-define-a-composite-key-in-serverless-yml-for-dynamodb","{amazon-web-services,amazon-dynamodb,serverless-framework}","2017-10-22 02:49:41+03","2024-05-17 05:01:18.385585+03","I am trying to define a dynamodb table that has a 3 column composite key Is this possible I have seen examples and tutorials that have code like this But that only has a single column and a single key My table looks like this I want a key on id server and room A user can be in multiple rooms on the same server and in multiple rooms on multiple servers But across the three keys it will always be unique I do not know how to define the KeySchema part Any help"
47655872,"AWS SAM local with JAVA and Docker Toolbox","https://stackoverflow.com/questions/47655872/aws-sam-local-with-java-and-docker-toolbox","{java,amazon-web-services,aws-lambda,aws-sdk,serverless-framework}","2017-12-05 14:23:09+02","2024-05-17 05:01:03.990419+03","I want to test my lambda functions locally with Serverless Application Model SAM In the AWS docs they write SAM Local leverages the dockerlambda Docker images to run your code in a sandbox that simulates the Lambda execution environment I pulled the docker image on my computer I could successfully run a simple Hello World Lambda Function Command to run Lambda function locally results Code of Lambda function automatically generated with Eclipse Toolkit This is my progress till yet What i couldnt do is to use sam local which uses the dockerlambda image Maybe i should not have to download it manually I installed sam local on my windows created a template yaml config sam file the name for CodeUri i choosed after i build my shaded jar file with after this i should run to run my lambda function NOW i have this ERROR What is my mistake to use SAM Local with Java Can it be that its not working because my computer has not HyperV and iam using dockertoolbox here you can see Advanced sam docs with compiled languages like java "
47693281,"c++ error in AWS lambda?","https://stackoverflow.com/questions/47693281/c-error-in-aws-lambda","{c++,amazon-web-services,aws-lambda,serverless-framework,serverless}","2017-12-07 10:47:00+02","2024-05-17 05:01:04.814891+03","I have a lambda expression that works fine with serverless on localhost But when deploying with lambda I have the following error I have not been able to find anything about this so is someone able to provide help about this"
47698244,"Serverless, codepipeline and Java Guidance","https://stackoverflow.com/questions/47698244/serverless-codepipeline-and-java-guidance","{java,serverless-framework,aws-codepipeline,aws-codebuild,serverless}","2017-12-07 15:18:21+02","2024-05-17 05:01:05.789124+03","Background Ive been using the serverless framework since version 0 5 successfully The project was made in python using lambda and apigateway and we group all our APIs on the same git repo separated by folders simulating the same structure that our services have at the end this is a Nanoservice architecture and was integrated with cognito custom authorizer stages the entire deal An example of the structure Problem Now I am trying to do the same in Java and of course because of Java is not supported in 0 5 then I go for V1 The first issue that I found how to use the same API gateway for multiple resources using nanoservice architecture Assuming that this will be fixed soon I want to include in the process Codepipeline and Codebuild Checking all examples over the internet with serverless everyone is making one single Java package with several handlers for post get requests and one serverless yml with the configuration then the buildspec yml and one git repo for this This works great but if im going to create a combination of Micro and Nano services how im going to have N git repos where i can isolate deploys with Codepiline for me this is exponential support for repositories codepipeline builds etc but on the other hand if i want to edit one single function make a push and trigger the codepipeline builddeploy and test this single java handler and no the entire infrastructure how can i achieve this In the real world everyone has one git repo per micronano service easily we can have 100 resources in one single apigateway project all CI deployments are isolated in this way and how to group an entire api to manage order in local development to recreate the same order of resources with folders or this aproach is wrong Hopefully anyone else solve this problem before and can give me some guidance"
47715448,"serverless framework - babel-runtime warnings","https://stackoverflow.com/questions/47715448/serverless-framework-babel-runtime-warnings","{javascript,babeljs,serverless-framework}","2017-12-08 13:33:41+02","2024-05-17 05:01:06.875573+03","I am using the serverless framework with the serverlesswebpack plugin and whenever I run sls deploy I am getting the following warning in yellow Serverless WARNING Could not determine version of module babelruntime Serverless WARNING Could not determine version of module babelruntime Serverless WARNING Could not determine version of module babelruntime Does anyone know how to handle these I coulndt find any information about it Thanks "
47718004,"Exclude Lambda function from deploy to a particular stage","https://stackoverflow.com/questions/47718004/exclude-lambda-function-from-deploy-to-a-particular-stage","{aws-lambda,serverless-framework}","2017-12-08 16:03:17+02","2024-05-17 05:01:07.833314+03","I am trying to exclude a Lambda function from being deployed via serverless to my prod stage within AWS A snippet from my serverless yaml looks something like Is there a way to exclude somedevfunction from being deployed to prod"
47775546,"Serverless and AWS: API Gateway Override Stage to Cache Method","https://stackoverflow.com/questions/47775546/serverless-and-aws-api-gateway-override-stage-to-cache-method","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-12-12 14:56:15+02","2024-05-17 05:01:08.860492+03","I am using the Serverless framework with AWS and I have enabled caching in my stage and set the stage MethodSettings Enable Caching to false so all methods do not cache I would like to enable caching for specific methods and see that I can override the stage settings in the console What config value needs to be set to allow me to do this from the Serverless CF template UPDATE I have done the following in my serverless yml I would expect his to set caching to false for all methods but then override the given resource on the stage to enable caching "
47775785,"Unexpected behaviour with AWS Lambda","https://stackoverflow.com/questions/47775785/unexpected-behaviour-with-aws-lambda","{kotlin,aws-lambda,serverless-framework}","2017-12-12 15:10:09+02","2024-05-17 05:01:09.72791+03","What I have done I have created a project using Serverless cli from awskotlinjvmmaven template After that I have edited my serverless yml template this way And I have edited my Handler this way I was expecting my Lambda to run every 2 minutes logging a Hello World on CloudWatch every 2 minutes My problem What I found on cloudWatch logs is the following 1st run Hello World 2nd run Hello World Hello World 3rd run Hello World Hello World Hello World and so on Any suggestion on what is happening here"
46770045,"Override Global VPC configuration in function level","https://stackoverflow.com/questions/46770045/override-global-vpc-configuration-in-function-level","{aws-lambda,serverless-framework}","2017-10-16 12:11:50+03","2024-05-17 05:01:11.258223+03","I have defined VPC settings for the all the functions globally in serverless yml file and this configurations are applied for all the functions correctly But now I want to override this in function level not to have VPC configurations for a single function Is this possible with Serverless framework "
46786688,"Get information about a file uploaded to S3","https://stackoverflow.com/questions/46786688/get-information-about-a-file-uploaded-to-s3","{python-2.7,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2017-10-17 09:19:21+03","2024-05-17 05:01:12.079068+03","i have created a lambda function that sends emails whenever a file is uploaded on s3 bucket but now i want to have all the informations related to that file as the name size date and time of upload and if it is possible where it comes from I have all this infortmation on aws console but want to have it in the email body i am using serverless framework v 1 22 0 here is my code"
35969178,"Serverless Framework with Node MySQL","https://stackoverflow.com/questions/35969178/serverless-framework-with-node-mysql","{mysql,node.js,aws-lambda,serverless-framework}","2016-03-13 10:36:13+02","2024-05-17 05:03:26.759305+03","How to use mysql connection with serverless framework connection should be available in my component functions without creating mysql connection each time in component function Tried like this but above code will be only available for current functionwant to make common thing for mysql connection in serverless frameworkcan not find proper document about how to use mysql in serverless framework"
46813324,"Azure Function DocumentClient Binding","https://stackoverflow.com/questions/46813324/azure-function-documentclient-binding","{azure,azure-cosmosdb,azure-functions,serverless-framework,serverless}","2017-10-18 15:01:01+03","2024-05-17 05:01:12.990071+03","I am trying to upgrade my DocumentDB nuget package from 1 13 to 1 18 I am facing issue while upgrading my azure function which is having a DocumentClient binding In DocumentDB 1 13 the binding sections does not take Id as an binding parameter and was creating the DocumentClient object perfectly Whereas the DocumentDB 1 18 needs Id as an binding parameter [ Which i dont want as I want to iterate through entire documents in the collection ] my host json binding before 1 18 was my local settings json had only and my azure function looks like Now when running the azure function with updated package of documentDB 1 18 it says to bind the Id which will give only the single document with the specified id Whereas my requirment is same as the previous version of DocumentDB 1 13 Please tell how can i get the entire documents binded with my DocumentClient with the new updated package "
46830328,"Errors when activating API Gateway’s cache on AWS: no CORS headers returned from CloudFront","https://stackoverflow.com/questions/46830328/errors-when-activating-api-gateway-s-cache-on-aws-no-cors-headers-returned-from","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-10-19 12:51:32+03","2024-05-17 05:01:14.030059+03","We have a set of different APIs created by serverless 1 18 They work nicely with CORS in production since months Now we need to activate the API Gateways cache but after that the API gives errors Specifically I see this in browsers Javascript console No AccessControlAllowOrigin header is present on the requested resource When we press the Flush cache button in the API Gateway console the first call to the API works it does not go through the CloudFront cache but as soon as the resource gets cached again we immediately get the mentioned error again In summary it seems that when activating the API Gateway cache responses coming from CloudFronts cache lose the CORS headers For the moment we have disabled all API Gateway caches and everything is working back to normal but this is going to create performance issues on the backend as usage of the API is increasing Has anybody else experienced this behavior or are we missing any configuration on serverless side Is there any workaround Serverless Framework Version 1 21 1"
46833984,"AWS Lambda - Cognito Identity ID changes with same login","https://stackoverflow.com/questions/46833984/aws-lambda-cognito-identity-id-changes-with-same-login","{javascript,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2017-10-19 15:52:58+03","2024-05-17 05:01:15.017866+03","I am using AWS Lambda Cognito and API Gateway orchestrated with Serverless to build an API for my webapp A user authenticates using Cognito and then makes an authenticated request to the API pattern copied from the Serverless Stack tutorial where I grab their Cognito ID event requestContext identity cognitoIdentityId Then I grab the user record associated with that cognitoIdentityId to perform rolepermissions based logic and return the relevant data The trouble I have been running into is that when different people other devs I am working with currently log in using the same credentials but from different computers and in some cases countries the cognitoIdentityId sent with their request is completely different for the same user userPool user record Note I am not integrating with any Federated Identities ie Facebook etc This is plain old email signin And everyone is using the same creds but some peoples requests come from different Cognito IDs This is highly problematic because I do not see another way to uniquely identify the user record in my DB associated with the Cognito record QUESTIONS Am I missing something Is there a better way to do this Is this the expected behavior The API is currently not actually plugged into a DB Because our data structure is still in flux and the app is far from live I have built out an API that acts like it integrates with a database and returns data but that data is just stored in a JSON file I will reproduce some of the relevant code below in case it is relevant An example lambda for fetching the current user That parser stuff up top is just a util to get the ID I want The associated user record might look like this"
46857335,"How to remove stage from URLs for AWS Lambda functions + Serverless framework?","https://stackoverflow.com/questions/46857335/how-to-remove-stage-from-urls-for-aws-lambda-functions-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,serverless-plugins}","2017-10-20 21:05:35+03","2024-05-17 05:01:16.039598+03","I am using Serverless Framework to deploy functions in AWS Lambda but I cannot find wherehow I can remove the stage specifier from the URL endpoints created The documentation does not seem to cover this part For example this is my serverless yml with irrelevant parts omitted After a serverless deploy the following service information is returned Notice the dev part in the URL endpoint and also in the function That dev is the default value for the stage parameter in the configuration file Specifying stage something in the serverless yml file will have that something as suffix in the URL and as part of the function Question how can I remove the stage specification from the generated URL endpoints or how can I prevent that stage specification to become part of the generated URLs That the stage is part of the function is fine That will be easy to separate staging and production functions in the AWS Lambda dashboard "
46861678,"Serverless Framework: ways to achieve full ""infrastructure as code""?","https://stackoverflow.com/questions/46861678/serverless-framework-ways-to-achieve-full-infrastructure-as-code","{aws-cloudformation,terraform,serverless-framework,serverless}","2017-10-21 09:00:17+03","2024-05-17 05:01:16.793879+03","I have followed an excellent guide Serverless Stack that creates a typical CRUD serverless infrastructure with a react frontend It is using the Serverless Framework for AWS What I do not like is that to bootstrap the setup there is a lot of manual clicking in GUIs mostly Amazons console interface involved I e the setup is not version controlled and is not easily reproducible It would not be easy to extend it with a CICD process etc In this example the following resources need to be setup manually The only resources that are being built from code are the serverless functions lambdas themselves as well as API Gateway instances This is what the serverless framework does using its serverless yml file But all of the above resources are not automatically created They sometimes need to be referenced to using their ARNs but they are not being created by the serverless yml configuration Running such a system in production which relies heavily on the manual creation of services through GUIs would seem risky I was thinking that a solution for this would be to use Terraform or Cloudformation But the Serverless Framework itself is using Cloudformation for the setup of Lambdas already though not for other resources So how would one eliminate this gap In other words how would one rebuilt the entire setup described at Serverless Stack in code It would seem strange and perhaps not possible to have CloudFormation setup Serverless which then has its own Cloudformation templates to setup lambdas It might make more sense to extend the Serverless Framework to not just define the functions and API Gateways that need to be created on a serverless deploy but also other resources like a DynamoDB or a Cognito User Pool Are there any examples or attempts of people doing this already"
46875006,"How to decrease the size of serverless deploy?","https://stackoverflow.com/questions/46875006/how-to-decrease-the-size-of-serverless-deploy","{aws-lambda,serverless-framework,serverless}","2017-10-22 14:08:36+03","2024-05-17 05:01:18.511011+03","I am deploying an aws lambda function using serverless framework My problem is there is a large file 44MB that is deployed every time I do sls deploy f any_fn I have had similar problems when there is a node_modules folder which can be quite big Is there a way to reduce the upload size by uploading the common files only once and for all functions Because right now it keeps zipping and deploying that same binary file again and again though it never changes "
46887794,"Reduce size of serverless deploy package","https://stackoverflow.com/questions/46887794/reduce-size-of-serverless-deploy-package","{amazon-web-services,aws-lambda,serverless-framework}","2017-10-23 11:03:19+03","2024-05-17 05:01:19.82+03","I have a python script that I want to run as a lambda function on AWS Unfortunately the package is unzipped bigger than the allowed 250 MB mainly due to numpy 85mb and pandas 105mb I have already done the following but the size is still too big 1 Excluded not used folders 2 Zipped the python packages If I unzip the zip file generated by serverless package I find a requriements zip which contains my python packages and then there is also my virtual environment in the virtualenv folder which contains again all the python packages I have tried to exclude the virtualenv libpython3 6sitepackages folder in serverless yml but then I get an Internal server error when calling the function Are there any other parameters to decrease the package size"
46906025,"read csv file triggered by s3 event","https://stackoverflow.com/questions/46906025/read-csv-file-triggered-by-s3-event","{python,csv,amazon-s3,serverless-framework}","2017-10-24 08:49:16+03","2024-05-17 05:01:20.458726+03","i want to read a csv file that is triggered by s3 event in other words when a csv file is uploaded to s3 my lambda function will read this file and send email with info and content My code works fine when there is no reading of the csv file but whenever i put the reading part i cannot recieve mail I am using serverless framework v1 22 0 and python 2 7 Here is my code and here is my serverless yml file"
46912563,"Serverless framework - Enabling X-Ray in serverless.yml","https://stackoverflow.com/questions/46912563/serverless-framework-enabling-x-ray-in-serverless-yml","{serverless-framework,serverless,aws-xray}","2017-10-24 14:02:38+03","2024-05-17 05:01:21.345676+03","Is there a way to enable XRay from the serverless yml for Lambda functions I have added the XRay permissions in the file But Advanced Tracing still needs to be manually enabled in the AWS console "
46928105,"reading files triggered by s3 event","https://stackoverflow.com/questions/46928105/reading-files-triggered-by-s3-event","{python,csv,amazon-s3,aws-lambda,serverless-framework}","2017-10-25 08:57:39+03","2024-05-17 05:01:22.270975+03","Here is what i want to do Local environment Serverless framework version 1 22 0 Python 2 7 Here is my serverless yml file and here is my lambda function i do not know what i did wrong cause the part when i just get info about the file works fine it is when i add the reading part that the lambda function does not return anything"
46935384,"serverless invoke local with mocked SNS event","https://stackoverflow.com/questions/46935384/serverless-invoke-local-with-mocked-sns-event","{python,python-3.x,amazon-web-services,amazon-sns,serverless-framework}","2017-10-25 14:41:50+03","2024-05-17 05:01:23.27653+03","I am having some trouble invoking locally using serverless Using Python3 6 runtime The function in serverless yml is My command is Serverless does not like the syntax on the myMockedSnsMessage json When I log the event in my lambda function I get something like That is the SNS message is a string with valid JSON inside How should I store a mock event for an SNS message and still have valid JSON so serverless does not yell at me for bad JSON syntax"
46956660,"How to set up different domains based on stage with serverless-domain-manager plugin?","https://stackoverflow.com/questions/46956660/how-to-set-up-different-domains-based-on-stage-with-serverless-domain-manager-pl","{amazon-web-services,serverless-framework,serverless}","2017-10-26 14:12:59+03","2024-05-17 05:01:23.787765+03","I am trying to set up different custom domains in serverless with serverlessdomainmanager plugin I have followed this tutorial httpsserverless comblogserverlessapigatewaydomain but the example does not show how to set up more than one custom domain In my serverless yml file I have How can I add another domain For example for prod stage"
46960611,"Serverless.yml rejecting cloudformation ""Ref"" functions","https://stackoverflow.com/questions/46960611/serverless-yml-rejecting-cloudformation-ref-functions","{serverless-framework,serverless}","2017-10-26 17:41:19+03","2024-05-17 05:01:24.871427+03","Here is a snippet from my serverless yml file Here is the error I receive This template works perfectly well as it is when used in cloudformation to create a stack Why is Ref being rejected by serverless yml "
46161538,"How to make Serverless return 404 instead of 403 for non-existing endpoints?","https://stackoverflow.com/questions/46161538/how-to-make-serverless-return-404-instead-of-403-for-non-existing-endpoints","{serverless-framework}","2017-09-11 17:44:22+03","2024-05-17 05:01:27.05517+03","I tried the Serverless framework following the instructions to create the Hello World application Everything works well calling the [url]devhelloworld returns 200 response with the json output as expected By default looks like the response for nonexisting endpoints is 403 http status code with json messageMissing Authentication Token I would like to host a website using the framework Is there any way to make the Serverless return 404 instead of 403 for nonexisting endpoints"
46154758,"serverless with azure functions and webpack","https://stackoverflow.com/questions/46154758/serverless-with-azure-functions-and-webpack","{azure,webpack,azure-functions,serverless-framework,serverless-architecture}","2017-09-11 11:34:52+03","2024-05-17 05:01:27.065172+03","I am wondering if there is anyone using serverless framework with azure functions and how you handle sharing code across functions bundling I am converting hapi js app to serverless serverlessazurefunctions and I am trying to bundle my code before deploying so I can use various require for reusable modules I found serverlesswebpack and It create bundles that probably works on AWS Lambda but there is a problem on azure because of lack of function json files ex listfunction json so the functions are not visible at all inside azureportal nor I cannot invoke them Also found article about this problem but It shows how to handle this with azurefunctionscli which only support Windows platform Best JH"
46168826,"AWS Lambda time out in 6 seconds","https://stackoverflow.com/questions/46168826/aws-lambda-time-out-in-6-seconds","{amazon-web-services,aws-lambda,nodes,sequelize.js,serverless-framework}","2017-09-12 05:51:39+03","2024-05-17 05:01:28.079717+03","I am using the serverless framework with nodejs Version 4 4 to create AWS lambda functions The default timeout is 6 seconds for lambda execution I am connecting to mysql database using sequelize ORM I see errors like execution timed out Sometimes my code works properly even with this error But sometimes nothing works after this timeout error Its really hard for me make sense out of this timeout I am afraid increasing the timeout will incur more charge "
46173773,"Firebase admin.auth().getUser(uid) hangs (NodeJS)","https://stackoverflow.com/questions/46173773/firebase-admin-auth-getuseruid-hangs-nodejs","{node.js,serverless-framework,firebase-admin}","2017-09-12 10:14:58+03","2024-05-17 05:01:29.162925+03","I am using admin auth getUser uid in the Firebase Admin SDK NodeJS in a Serverless project and it does successfully return a result But even though my function returns the result my lambda still does not terminate and I have to use CTRLC to end it Heres the full code of my function in TypeScript Is there something I am doing wrong Note that if I comment out the admin auth getUser uid block and replace it with promise resolve ok my function does terminate properly I mean this does not hang but it is a bit useless ^^ I am using Serverless 1 21 1 Typescript 2 5 2 Node 6 11 3 or 8 4 0 2 different dev environments both same result "
46189597,"AWS codeBuild/codePipeline with serverless framework","https://stackoverflow.com/questions/46189597/aws-codebuild-codepipeline-with-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,aws-codepipeline,aws-codebuild}","2017-09-13 05:37:10+03","2024-05-17 05:01:30.247218+03","I am trying to automate Deployment Pipeline for my application Here is the automation architecture I came up with As you can see I am using codePipeline and codeBuild to automate my deployment My backend is based on Serverless Framework which deploys lambda functions on firing sls deploy command This is the reason I did not use codeDeploy to do traditional deployment buildspec yml file looks like this Now I have 3 Questions in regards to CodeBuild and Serverless Question 1 The command sls deploy depends on a file called config yml which contains secrets such as db password This file will not be checked into git What do you think is the best possible way to include config yml in codeBuild Question 2 Rollbacks can be done with AWS if we have to deploy traditional EC2 applications using codeDeploy In case of serverless we are not using codeDeploy and serverless also supports rollback features How do we leverage serverless rollback within the codePipeline Question 3 Triggering codePipeline when a Pull Request happens I saw some posts saying it is not supported by codePipeline But those posts were from last year Is Pull Request now supported by codePipeline Hack Answers Not correct but works Need better answers from you Answer 1 The config yml file can be saved in a private S3 bucket and can be pulled to codeBuild as part of prebuild setup or We can add all secrets to codeBuilds Env variables I dont like the second option as I want to have consistent across all environments Any better solutions for this problem Answer 2 I cannot think of an hack for this Looking out for answers from you Answer 3 I came across some blog posts that use [APIGateway Lambda S3] to trigger codePipeline for pull requests But I feel this feature has to be provided as an outofbox one Is there any updates on the codePipeline for this feature"
46212719,"Mixing Node.js API with AWS Lambda","https://stackoverflow.com/questions/46212719/mixing-node-js-api-with-aws-lambda","{javascript,node.js,aws-lambda,serverless-framework,serverless-architecture}","2017-09-14 07:11:43+03","2024-05-17 05:01:31.157668+03","I have a never ending discussion with my manager about the usage of AWS Lambda I would like to get some help from one of you guys I am a bit hesitated to utilize serverless architecture for production level projects yet First of all its a bit timeconsuming to test what I am building in the local setup Even if we can test the code through the unit testing we cannot remove the possiblity of faliure of mocked request and response objects The fact that I cannot invoke the lambda in my local setup makes me very bored when I am testing my Lambdawritten API during the development process Secondly as far as I know so far there is no promised SLA for AWS Lambda for its availability and reliability This just make me kind of hesitate adopting Lambda to build RESTful API So now what I do is to use Lambda only the case when to catch events triggered from AWS For example to do something after a user uploaded his profile picture to S3 bucket or to do something after a user registered throuh Cognito However what my manager expects is to mix my Node js API with AWS Lambda for a single project From my perspective it totally doesnt make sense Once we have set up Node API on EC2 instances I think it will be more productive to think about setting up autoscaling or how to utilize all the resources running on the current EC2s But my manager insists me to set up both Node API and Lambda API altogether For example the services A and B will be served by Node API and the services C D and E by AWS Lambdas I tried it before but it caused a lot of confusion to me I feel like it will be better to choose either Node API or AWS Lambda API when building an API instead of mixing them together I do not want to say that my manager is totally false and I am right I want to just have a clear answer in this case I would really appreciate any comment and answers on this situation "
46215800,"Assign Lambda Function To Specific VPC ID in serverless.yml","https://stackoverflow.com/questions/46215800/assign-lambda-function-to-specific-vpc-id-in-serverless-yml","{amazon-web-services,aws-lambda,serverless-framework}","2017-09-14 09:46:51+03","2024-05-17 05:01:32.036513+03","I am using Serverless framework to deploy a Python lambda function to AWS In my serverless yml file I have defined a function which I need to deploy to a VPC with specific ID as only that VPC has network connectivity needed to make some business related requests from the lambda function In the documentation the above example is what they mention as a way to attach the function to a VPC httpsserverless comframeworkdocsprovidersawsguidefunctions However the function is not deployed to a VPC at all e g I end up with I have tried specifying VPC ID directly like this But that does nothing as well The documentation for this issue is basically nonexistent and I tried searching a lot so I finally have to post here to ask for help "
46221827,"Serverless invoke test returns status 500 when using Vandium: Expected event type of apigateway but identified as unknown","https://stackoverflow.com/questions/46221827/serverless-invoke-test-returns-status-500-when-using-vandium-expected-event-typ","{node.js,testing,lambda,serverless-framework}","2017-09-14 14:32:59+03","2024-05-17 05:01:33.007673+03","When running serverless invoke test and using Vandium I am getting Status Code 500 and Error Here is the code to reproduce the problem First working example without Vandium timehandler js serverless yml Finally autogenerated test code that checks status code testcurrentTime js This works fine I can start the server serverless offline start and I am able to get the httplocalhost3000ping endpoint fine with curl or POSTMAN If I run serverless invoke test then the test runs fine No problems up to this point Now when I refactor the code and use Vandium timehandler js Then everything works fine i e I can start the server and connect to endpoint with curl or POSTMAN Yet when I run the test again serverless invoke test then instead of status code 200 I get 500 and error typeErrormessageExpected event type of apigateway but identified as unknown What is wrong"
46267065,"How do I configure pip inside a virtualenv to install packages to the current directory root?","https://stackoverflow.com/questions/46267065/how-do-i-configure-pip-inside-a-virtualenv-to-install-packages-to-the-current-di","{python,amazon-web-services,pip,aws-lambda,serverless-framework}","2017-09-17 17:47:01+03","2024-05-17 05:01:33.907664+03","I am using the serverless framework with AWS Lambda When using pip conf with pip3 6 I would like to set the targetdir to the current directory Setting it to like so does not work because pip creates a new directory called in my virtualenv root and proceeds to install stuff in there I have tried without the quotes I had also tried but this creates a directory called I am using virtualenv via venv with python3 6 but I need the packages to live in the root directory of the virtualenv when I install with pip because of AWS Lambdas limitations "
46276828,"S3 create bucket fails","https://stackoverflow.com/questions/46276828/s3-create-bucket-fails","{amazon-web-services,amazon-s3,amazon-iam,serverless-framework}","2017-09-18 10:16:13+03","2024-05-17 05:01:34.97563+03","I am trying to create a serverless project which deploys a CloudFormation and as a part of that it tries to create an S3 bucket But this fails due to following error I have tried to create an S3 bucket with command aws s3api createbucket bucket mybucket region uswest2 which successfully creates the bucket I am not sure why I am getting access denied while creating the S3 bucket via serverless What could be the issue here Heres my serverless yml file I deploy the service using serverless deploy Also content of awscredentials Which I got by running aws sts getsessiontoken serialnumber arnawsiamnumbermfausername tokencode 123456"
45578021,"Serverless framework won't start with dynamodb local","https://stackoverflow.com/questions/45578021/serverless-framework-wont-start-with-dynamodb-local","{node.js,amazon-dynamodb,serverless-framework}","2017-08-08 21:06:18+03","2024-05-17 05:01:46.384721+03","I had a working dev environment of an AWS Lambda function developed on the Serverless framework using DynamoDB plugins serverlessoffline serverlessdynamodblocal After deleting node_modules and reinstalling I have lost the ability to start the development server which I used to do with serverless offline start serverless offline works properly but if I try to run dynamodb locally it throws the following error Oddly enough if I go to localhost8000shell the dynamodb shell is running has anyone had a similar problem"
46294293,"Implement Role Based Access Control using AWS Cognito with Serverless","https://stackoverflow.com/questions/46294293/implement-role-based-access-control-using-aws-cognito-with-serverless","{amazon-web-services,serverless-framework,amazon-cognito}","2017-09-19 07:19:54+03","2024-05-17 05:01:35.736635+03","I created a Serverless Application using AWS Services S3 Lambda Cognito DynamoDB and the serverless framework with ReactJS by following this tutorial httpsserverlessstack com The Tutorial uses AWS Cognito User Pool and Identity Pool for User Management and Authentication Purposes The application in the tutorial is a NoteTaking Application which does not have Role Based Access Control within the Application However the Application that I am creating requires RBAC and after reading about it I have understood that RBAC can be implemented either using the User Groups or the Federated Identities However I could not still figure out how to properly use either of those in my application This is what I have done in the Application till now Policy This allows everyone to access all the APIs How do I assign role to each user and then restrict the access to certain APIs based on their Role"
46300614,"serverless - AWS Lambda scala example","https://stackoverflow.com/questions/46300614/serverless-aws-lambda-scala-example","{scala,aws-lambda,serverless-framework}","2017-09-19 12:35:47+03","2024-05-17 05:01:36.74545+03","I am trying to deploy with serverless a scala project on AWS lambda I have followed the tutorial and used this template where I have only replace the default region with eucentral1a which is where I am based I get the error ServerlessError Inaccessible host cloudformation eucentral1a amazonaws com This service may not be available in the eucentral1a region I could not see any hint of cloudformation not being available in our target region "
46302742,"Serverless plugin ""serverless-offline"" not found. Make sure it's installed and listed in the ""plugins"" section of your serverless config file","https://stackoverflow.com/questions/46302742/serverless-plugin-serverless-offline-not-found-make-sure-its-installed-and-l","{amazon-web-services,serverless-framework}","2017-09-19 14:11:54+03","2024-05-17 05:01:37.601553+03","When I deploy my SLS project I get the following error Serverless plugin serverlessoffline not found Make sure it is installed and listed in the plugins section of your serverless config file But I did install the plugin serverlessoffline correctly please can someone help me fix it Here is my serverless yml file"
46322899,"send email whenever ec2 is shut down using serverless","https://stackoverflow.com/questions/46322899/send-email-whenever-ec2-is-shut-down-using-serverless","{python,amazon-web-services,amazon-ec2,aws-lambda,serverless-framework}","2017-09-20 13:05:51+03","2024-05-17 05:01:39.060783+03","i am new to serverless framework and aws and i need to create a lambda function on python that will send email whenever an ec2 is shut down but i really do not know how to do it using serverless So please if any one could help me do that or at least give me some tracks to start with "
46342792,"AWS Lambda function do not work after deploy","https://stackoverflow.com/questions/46342792/aws-lambda-function-do-not-work-after-deploy","{node.js,amazon-web-services,lambda,serverless-framework}","2017-09-21 11:29:48+03","2024-05-17 05:01:39.553598+03","When I deploy my server less function locally it works fine but it docent when deploy it to aws lambda I have included web pack also Nothing wrong in offline run"
46351920,"Cloud Front : The request could not be satisfied","https://stackoverflow.com/questions/46351920/cloud-front-the-request-could-not-be-satisfied","{amazon-web-services,amazon-ec2,amazon-cloudfront,serverless-framework}","2017-09-21 19:35:16+03","2024-05-17 05:01:40.11295+03","I am coming across this problem i have a chat server which needs to communicate to the lambda service hosted in aws but cloud front throws the following error This is how my request goes in application the chat server js is hosted in ec2 what is the issue here"
45482657,"how to generate swagger document with tags using serverless-aws-documentation plugin for serverless","https://stackoverflow.com/questions/45482657/how-to-generate-swagger-document-with-tags-using-serverless-aws-documentation-pl","{aws-lambda,swagger,serverless-framework}","2017-08-03 11:17:53+03","2024-05-17 05:01:41.924943+03","I am using serverlessawsdocumentation plugin to autogenerate swaggerdoc Followed all the steps provided at httpsgithub com9cookiesserverlessawsdocumentation Under documentation key I am defining tags but it is not getting generated in the output swagger doc Following is the sample handler I want to segrigate APIs depending on the tags but not able to achieve it Thanks in advance for the help "
45537170,"how ot add a kinesis stream to trigger lambda function","https://stackoverflow.com/questions/45537170/how-ot-add-a-kinesis-stream-to-trigger-lambda-function","{serverless-framework}","2017-08-06 22:19:46+03","2024-05-17 05:01:43.44897+03","When configuring a lambda function in the serverless framework i am trying to add a kinesis stream as the event course here is the snippet from serverless yml The deployment via serverless deploy is successful however the trigger does not get added to the function configuration I checked the yml file using a yml validatior and there are no errors What am i missing here "
45551806,"Packages compiling native code (npm install) using AWS Lambda","https://stackoverflow.com/questions/45551806/packages-compiling-native-code-npm-install-using-aws-lambda","{lambda,aws-lambda,serverless-framework,serverless-architecture,sharp}","2017-08-07 16:38:56+03","2024-05-17 05:01:43.698565+03","I need to use the sharp package to resize images in a Lambda function but it builds the native code when doing an npm install in my Windows machine which definitely wont work in Amazon Linux server where Lambda is hosted Whats the recommended way to solve this when using serverless"
45569065,"Serverless Framework and multiple AWS profiles","https://stackoverflow.com/questions/45569065/serverless-framework-and-multiple-aws-profiles","{serverless-framework}","2017-08-08 13:00:03+03","2024-05-17 05:01:44.828812+03","I have multiple AWS profiles setup in my credentials file When deploying is there anyway to inform the Serverless Framework which credentials to use For example"
45569086,"uploading image from lambda to s3 ( corrupted file )","https://stackoverflow.com/questions/45569086/uploading-image-from-lambda-to-s3-corrupted-file","{express,amazon-s3,aws-lambda,serverless-framework}","2017-08-08 13:00:50+03","2024-05-17 05:01:45.312732+03","I have created an node express app which is using multer to upload images to my assetsin s3 bucket after the images have been uploaded to s3 an image processing lambda function takes the image and and is resizing it to another s3 bucket upload script I can run this express app on the localhost without any problems but when I am running the express app by lambda using awsserverlessexpress I cannot access the image Access denied and the image processing lambda functions gives me the follwoing log error TypeError Cannot read property width of undefined at gm vartaskindex js10350 at emitMany events js12713 at gm emit events js2017 at gm vartasknode_modulesgmlibgetters js7016 at cb vartasknode_modulesgmlibcommand js32216 at ChildProcess onExit vartasknode_modulesgmlibcommand js3059 at emitTwo events js10613 at ChildProcess emit events js1917 at maybeClose internalchild_process js88616 at Socket internalchild_process js34211 gm is the GraphicsMagick and ImageMagick module for node I guess the problem is in the express app which I am running on aws lambda using serverless Maybe its a problem with the multer settings which are getting in conflict with the lambda environment my assetsBucket has the AmazonS3FullAccess role by the way UPDATE Actually I just found out that the problem is not the acces permission It is ok that the public access gets denied sry for that missleading information When I download the image which gets uploaded to my assets bucket I cannot open it and getting the following error code Error interpreting JPEG image file Not a JPEG file starts with 0xef 0xbf But I am getting this error only if I am uploading the pictures with aws lambda serverless when I am running the upload process locally everything seems to be fine with the file so somehow the file gets corrupted when uploading via lambda"
45589504,"Input validation for NodeJS lambda functions backed by DynamoDB","https://stackoverflow.com/questions/45589504/input-validation-for-nodejs-lambda-functions-backed-by-dynamodb","{node.js,validation,lambda,amazon-dynamodb,serverless-framework}","2017-08-09 11:33:26+03","2024-05-17 05:01:47.328523+03","I was wondering which library to use for validating user input in lambda functions using e g the Serverless Framework NodeJS lambda functions and DynamoDB as NoSQL storage Especially is there any library for NodeJS which can detect and validate potential DynamoDB injection vectors I did some research and came up with a few possibilities to do validation in NodeJS but I could not find any useful information regarding NodeJS with DynamoDB NoSQL injection validation Of course this list is not complete but it seems that these are the most popular validation librarys for NodeJS Is there any library you know which handles NoSQL injection detection for DynamoDB or do you have further informations about handling NoSQL injection vectors with one of those libraries 24 "
45611268,"How to call .env file from YAML?","https://stackoverflow.com/questions/45611268/how-to-call-env-file-from-yaml","{yaml,serverless-framework,pyyaml}","2017-08-10 10:32:32+03","2024-05-17 05:01:47.980274+03","I want to hide my secret credential from my yaml i need to use env so how to call env file from my yaml so that every I call this YAML YAML will automatic call env file Please help me thx"
45612940,"Use same Cognito UserPool with Lamda Function and Resources?","https://stackoverflow.com/questions/45612940/use-same-cognito-userpool-with-lamda-function-and-resources","{amazon-web-services,lambda,amazon-cognito,serverless-framework}","2017-08-10 11:49:32+03","2024-05-17 05:01:49.033978+03","I am using the serverless framework and I need to override some default values for the UserPool created by the Lambda function What is the correct way to do it My serverless yml is creating two userpool same name one for the lambda function and another for the UserPool resource"
45631460,"Serverless Framework with server-side authentication and Cognito","https://stackoverflow.com/questions/45631460/serverless-framework-with-server-side-authentication-and-cognito","{rest,authentication,aws-lambda,amazon-cognito,serverless-framework}","2017-08-11 09:21:30+03","2024-05-17 05:01:50.533673+03","I have already implemented various RESTAPIs using the Serverless Framework with APIG DynamoDB as data storage and Cognito for user authentication with Angular2 as frontend The functions can easily be secured by a Cognito authorizer on the serverside The downside is that I have to integrate AWS SDK in my frontend applications in order to authenticate the user with Cognito first signupsignin I could also use the AWS_IAM authorizer but then I also have to sign all requests on the client side with an AWS specific signature before sending the request to the API Gateway Now I was wondering if there is any possibility to keep authentication and authorization on the server side so I can use an open standard like JSON Web Tokens for signupsignin This would allow me to open my RESTAPI for other developers as well without forcing them to use Cognito at all I know that one possibility would be to implement a custom authorizer for my lambda functions but is not there anything stable which can be used outofthebox already Most of the examples I found are using Cognito or IAM auth AWS signature signin on client side e g serverlessstack com It is curious that I did not find any useful informations about this on the web so far since I think that this is a typical use case for REST APIs Or do I have a conceptual misunderstanding about API Gateway Cognito"
45665574,"How to call mongodb functions from an aws lambda in the Serverless Framework?","https://stackoverflow.com/questions/45665574/how-to-call-mongodb-functions-from-an-aws-lambda-in-the-serverless-framework","{node.js,mongodb,amazon-web-services,aws-lambda,serverless-framework}","2017-08-13 22:55:03+03","2024-05-17 05:01:51.430167+03","I have been watching video tutorials on the Serverless Framework such as this one and based on the information I have gathered it appears that using the framework is one of the most efficient ways to manage aws lambda functions In the video link above an example is given that uses a lambda function to connect to a DynamoDB table and then save data it What I need to do is to connect to a MongoDB table and then get data from it I have only found examples of using DynamoDB with Serverless but none with MongoDB I thought that the process should be similar but that does not seem to be the case I found this tutorial but it does not use the serverless framework Here is an example of connecting and saving to a Dynamo db table from a lambda in serverless framework The following snippet is code used to connect to a MongoDB Atlas database using an npm package called lambdalocal Is there a way to implement the logic used for MongoDB Atlas and npm lambdalocal except with Serverless Framework"
45689042,"How to call mongodb model inside serverless function using aws lambda","https://stackoverflow.com/questions/45689042/how-to-call-mongodb-model-inside-serverless-function-using-aws-lambda","{javascript,mongodb,aws-lambda,serverless-framework}","2017-08-15 08:20:52+03","2024-05-17 05:01:51.985564+03","After the Firebase authentication I want to save some data on MongoDB by using newly created user id in Firebase When the code is executing it creates a new user in Firebase and does not save the data in the MongoDB "
45703778,"Can't deploy using serverless framework from Windows 10","https://stackoverflow.com/questions/45703778/cant-deploy-using-serverless-framework-from-windows-10","{serverless-framework}","2017-08-16 01:28:52+03","2024-05-17 05:01:52.786988+03","Attempt to deploy via serverless framework using Windows 10 fails C\Users\xxxxxxsls deploy verbose Serverless Packaging service Serverless Excluding development dependencies Error EPERM operation not permitted scandir C\Users\xxxxxx\AppData\Local\ElevatedDiagnostics For debugging logs run again after setting the SLS_DEBUG environment variable Your Environment Information OS win32 Node Version 6 11 2 Serverless Version 1 19 0 Tried again with command prompt under elevated privileges EBUSY resource busy or locked scandir C\Users\xxxxxx\AppData\Local\Microsoft\InputPersonalization\TextHarvester\WaitList dat I assumed there was a permissions issue at first so I retried with the command prompt at full admin mode but just ran into the the second error My research suggested an issue with windows search so I turned it off and also all background apps Trying again and again I just ran into more similar issues and am unable to deploy anything Anyone had similar issues and found a way around them"
45720046,"How do I setup email configuration for aws cognito user pools?","https://stackoverflow.com/questions/45720046/how-do-i-setup-email-configuration-for-aws-cognito-user-pools","{amazon-web-services,serverless-framework,amazon-cognito}","2017-08-16 17:49:52+03","2024-05-17 05:01:53.854606+03","I am not sure how to setup the EmailConfiguration part of the serverless cloudformation resource section Does anyone have an example on how to do this Any guidance would be much appreciated Here is my serverless yml file after running that i get this error I do not think I am using SourceArn of EmailConfiguration properly I just copied the example from SNS to SES using the gist below hoping it would work Here is aws documentation reference for the resource that I need setup httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpool htmlcfncognitouserpoolemailconfiguration this has helped me as a reference but does not show how to use SES httpsgist github comsingledigit2c4d7232fa96d9e98a3de89cf6ebe7a5"
45743643,"Undo disabling pip cache","https://stackoverflow.com/questions/45743643/undo-disabling-pip-cache","{python,caching,lambda,pip,serverless-framework}","2017-08-17 19:36:53+03","2024-05-17 05:01:56.088628+03","I accidentally ran pip with the nocachedir option Now i am running into the following error message when I try and deploy a serverless project The directory cachepiphttp or its parent directory is not owned by the current user and the cache has been disabled Please check the permissions and owner of that directory If executing pip with sudo you may want sudos H flag The directory cachepip or its parent directory is not owned by the current user and caching wheels has been disabled check the permissions and owner of that directory If executing pip with sudo you may want sudos H flag Command python setup py egg_info failed with error code 1 in tmppipbuildUc5FLIunroll Is there a way to reenable pip caching"
44703374,"Serverless proxy of custom domain (with sub domain) to S3 endpoint","https://stackoverflow.com/questions/44703374/serverless-proxy-of-custom-domain-with-sub-domain-to-s3-endpoint","{amazon-s3,proxy,aws-lambda,aws-api-gateway,serverless-framework}","2017-06-22 15:15:22+03","2024-05-17 05:01:57.472573+03","I have an S3 bucket named exampledev com configured for web hosting My S3 bucket has several child folders named clientsite com or bigproject com So on S3 the URL to access the dev homepage for clientsite com is exampledev com s3websiteuseast1 amazonaws comclientsite comindex html This carries over to about a dozen sites and the list of sites changes regularly as clients come and go I am trying to map that raw S3 URL to a sub domain of my exampledev com custom domain I want clientsite com exampledev com index html to serve the file at exampledev com s3websiteuseast1 amazonaws com clientsite com index html I would use DNS for the mappings but there is a child folder for each site and the folders change regularly I would like to do this using serverless architecture if possible I have a version of this that works just fine using httpproxy on a node server but I wanna see if it is possible without a VPS I think I am meant to use API Gateway andor Lambda but I am struggling to wrap my head around API Gateway and I do not know if Lambda is capable of remapping requests the same way httpproxy does Any help is appreciated thanks very much "
44712890,"Lambda + API Gateway: optional proxy param","https://stackoverflow.com/questions/44712890/lambda-api-gateway-optional-proxy-param","{aws-lambda,aws-api-gateway,serverless-framework}","2017-06-23 04:05:36+03","2024-05-17 05:01:58.589502+03","I have made a Lambda API Gateway function that has a proxy param as the final param in the URL So as defined this is the behavior I am experiencing Is it possible to make that proxy parameter optional"
44729088,"How can I install GraphicsMagick or ImageMagick on AWS Lambda?","https://stackoverflow.com/questions/44729088/how-can-i-install-graphicsmagick-or-imagemagick-on-aws-lambda","{node.js,imagemagick,aws-lambda,graphicsmagick,serverless-framework}","2017-06-23 19:58:06+03","2024-05-17 05:01:59.523405+03","I am using the gm package for Node js along with the default ImageMagick installation that is available on AWS Lambda const gm require gm subClass imageMagick true For some reason the resize functionality fails for certain images I created an EC2 instance with Amazon Linux AMI amihvm2016 03 3 x86_64gp2 I installed the old 6 x version of ImageMagick that is available from yum When I run my script with that install on the EC2 instance it reproduces the failure I see when the code runs on Lambda confirming it is something with this version of IM that is causing the failure If I install GraphicsMagick with sudo yum install GraphicsMagick This allows my script to perform the resizes without error const gm require gm subClass imageMagick false However I am not sure how to bundle this in my deploy with serverless If I install GraphicsMagick to the same folder as the script with sudo yum installrootvartask install GraphicsMagick and run my script using this require statement instead const gm require gm subClass imageMagick false appPath usrbin The resizes work when I run my script on the EC2 instance But when I deploy with serverless and the script runs in Lambda the executable appears to be broken gm fails with the following error on a call to gm buffer size could not get the image size ERR codeEPIPEerrnoEPIPEsyscallwrite How can I build a version of ImageMagick or GraphicsMagick that can be deployed with serverless"
44738429,"Malformed Lambda proxy response: string indices must be integers","https://stackoverflow.com/questions/44738429/malformed-lambda-proxy-response-string-indices-must-be-integers","{python,aws-lambda,aws-api-gateway,serverless-framework}","2017-06-24 16:16:37+03","2024-05-17 05:01:59.874195+03","I am trying to write a serverless backend for an application with AWS Lambda and am running into the error in the title The error occurs when testing with API Gateway proxy integration but the function works fine when tested in the Lambda console Here is the error Here is context for where it occurs Basically proxy integration seems to be reading in the event object as a JSON formatted string as opposed to a dict but heres what happens if I adjust my code for that I cannot win Any help is appreciated "
44753811,"How to restrict a Lambda function to respond only to specific origins?","https://stackoverflow.com/questions/44753811/how-to-restrict-a-lambda-function-to-respond-only-to-specific-origins","{amazon-web-services,cors,aws-lambda,serverless-framework}","2017-06-26 05:59:42+03","2024-05-17 05:02:00.810812+03","I want to restrict my Lambda function created with the Serverless Framework tool to accept requests only from abc com and def com It should reject all other requests How can I do this I tried setting access control origins like this and like this in the handler but nothing worked Any idea why"
44755534,"Detecting environment in GCloud Functions (Live/Emulator)","https://stackoverflow.com/questions/44755534/detecting-environment-in-gcloud-functions-live-emulator","{node.js,development-environment,gcloud,serverless-framework}","2017-06-26 08:18:02+03","2024-05-17 05:02:01.76639+03","GCloud Functions are great and the emulator is a cool tool but I am having problems figuring out a way to detect wether I am running in a live mode or in the emulator Environment variables would come to mind but I cannot find a way to pass them along to the function when calling Runtime config might also be a solution but the emulator does not support this Easy fix would be using a param in the payload e g isDev true and then check in the function but I would keep that as a last resort solution Any other ideas on what could be a better solution"
44761583,"How to secure an AWS Lambda function?","https://stackoverflow.com/questions/44761583/how-to-secure-an-aws-lambda-function","{javascript,aws-lambda,aws-api-gateway,serverless-framework,serverless-architecture}","2017-06-26 14:04:07+03","2024-05-17 05:02:02.711574+03","I have a simple Lambda function which sends emails through SES I can call it using a POST request with the required data and it will send an email My question is what are the methods I can use to secure this function Currently anyone can call that endpoint and execute the function with any data "
44777269,"How to set Tags for DynamoDb in serverless.yml","https://stackoverflow.com/questions/44777269/how-to-set-tags-for-dynamodb-in-serverless-yml","{amazon-dynamodb,aws-lambda,serverless-framework}","2017-06-27 09:53:22+03","2024-05-17 05:02:03.674137+03","I want to set tags for Dynamo DB did we have a serverless yml configuration for it like we have it for function"
44794464,"Prototyping a workflow app with Apps Script [closed]","https://stackoverflow.com/questions/44794464/prototyping-a-workflow-app-with-apps-script","{google-app-engine,google-apps-script,serverless-framework,google-workspace}","2017-06-28 05:44:42+03","2024-05-17 05:02:04.976189+03","Want to improve this question Update the question so it focuses on one problem only by editing this post Closed 6 years ago I want to prototype an app and I thought Apps Script could be a quick way to do this but being new to Google toolset I need someone to put me in the right direction to figure what is available and what components I need to put together to get this working Heres what the app does I do not need specific code but I need to find out what to use for each step Also any examples or samples that could help me on the way would be very useful Update My specific question for now to get started is Is it possible to use Google Forms to have dynamic fields entering data in one field defines next fields with their choices custom validations validations are more than regex and multiple fields are validated together and previews when entering data show some live calculations If not how can I use Apps Script with Html to do that Thanks "
44812204,"serverless-webpack Cannot find module './node/NodeTemplatePlugin'","https://stackoverflow.com/questions/44812204/serverless-webpack-cannot-find-module-node-nodetemplateplugin","{webpack,serverless-framework}","2017-06-28 20:42:16+03","2024-05-17 05:02:05.506354+03","I am trying to use the serverlesswebpack plugin and while running webpack alone works just fine attempting to run serverlesswebpack fails with Cannot find module nodeNodeTemplatePlugin My serverless yml file is as follows And my webpack config is as follows Webpack alone compiles the reason file into bundle js however serverlesswebpack runs with the aforemention error I am trying to use the plugin because compiling and deploying alone causes a lambda error where it cannot find the handler I have tried removing the global webpack installation and using only the local one as well as with serverless Has anyone encountered something similar Thanks "
44818114,"How to add S3 trigger event on AWS Lambda function using Serverless framework?","https://stackoverflow.com/questions/44818114/how-to-add-s3-trigger-event-on-aws-lambda-function-using-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2017-06-29 06:45:10+03","2024-05-17 05:02:06.584333+03","I want to add trigger event on a Lambda function on an already existing bucket and for that I am using below configuration where bucket serverlesstest is already existing on S3 This configurations is throwing the error An error occurred while provisioning your stack S3BucketServerlesstest serverlesstest already exists How can I resolve this error using Serverless Framework"
44842070,"AWS Serverless resources deploy from v0.5 to v1.0","https://stackoverflow.com/questions/44842070/aws-serverless-resources-deploy-from-v0-5-to-v1-0","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless-framework}","2017-06-30 08:32:11+03","2024-05-17 05:02:07.158399+03","I want to migrate a huge Serverless project created with the Serverless Framework from v0 5 to v1 and my biggest concerns are that resources DynamoDB tables that were deployed in sls 0 5 version will be deleted or modified if I would try to deploy from sls version v1 It is known fact that v1 is not compatible with 0 5 So is it possible to migrate 0 5 resources to 1 0 without breaking the cloud formation structure of DynamoDB tables in AWS In another word how to migrate 0 5 resources to 1 0 in a safely manner Edit I have full AWS API gateway in front "
44847257,"Cognito User Pool doesn't Retain users","https://stackoverflow.com/questions/44847257/cognito-user-pool-doesnt-retain-users","{amazon-web-services,amazon-cognito,serverless-framework}","2017-06-30 13:06:57+03","2024-05-17 05:02:08.150513+03","Changing Cognito User Pool schema that is provisioned with DeletionPolicy Retain using serverless deletes the whole user pool But adding a custom attribute using the console is not destructive "
44858622,"Serverless Architecture based on a domain model?","https://stackoverflow.com/questions/44858622/serverless-architecture-based-on-a-domain-model","{serverless-framework,serverless-architecture}","2017-07-01 07:48:59+03","2024-05-17 05:02:09.194315+03","I have recently started using serverless I completed the tutorial on serverlessstack com and I wanted to see if there was a way could represent the domain model in an application I have searched for some samples but I cannot seem to find anything I have an application that I would like to model How would I reference this in the main serverless yml file How would I make them part of the same API gateway thanks in advance"
44863974,"Serverless GraphQL Subscriptions","https://stackoverflow.com/questions/44863974/serverless-graphql-subscriptions","{aws-lambda,graphql,serverless-framework,graphql-subscriptions,aws-appsync}","2017-07-01 18:05:41+03","2024-05-17 05:02:09.895269+03","I recently started working with GraphQL and have been able to successful set it up on AWS Lambda giving me a serverless architecture However I would like to utilize GraphQL Subscriptions for more realtime functionality I understand that AWS Lambda does not allow WebSockets since the connections only last as long as the function runs or the timeout limit is reached But is there some way to setup the GraphQL backend so that it can utilize subscriptions and keep it within AWS services and have it scale like a serverless application Something like using AWS Lambda for GraphQL Queries and Mutations and then a different AWS service for GraphQL Subscriptions "
44864615,"Serverless NodeJS File/Folder Structure","https://stackoverflow.com/questions/44864615/serverless-nodejs-file-folder-structure","{node.js,aws-lambda,serverless-framework}","2017-07-01 19:25:18+03","2024-05-17 05:02:10.920483+03","I am setting up my first project using serverless and while I am finding a lot of great getting started tutorials I am having a hard time finding anything about actual project structure My thoughts is to use the below structure for my functions shared libs and core configurationdependencies My main curiosity is around deployment and how that pertains to dependencies and shared files Additionally automating deploy of this structure seems strange as I am gathering I would need to deploy each of the functions separately which I can script but wondering if that is needed or advised "
43708167,"How to test serverless lambda functions with constructors and dependencies?","https://stackoverflow.com/questions/43708167/how-to-test-serverless-lambda-functions-with-constructors-and-dependencies","{node.js,tdd,aws-lambda,sinon,serverless-framework}","2017-04-30 15:40:30+03","2024-05-17 05:02:12.890308+03","How do I stub out a constructor to pass an expectation on the constructed object that it has received a function call I am using serverless and I have a lambda function which has dependencies and runs every minute via a scheduled event I want to focus on the behavior of the lambda function so I want one of my tests to be as follows it dequeues messages from messagequeue The test will verify that my queue has received a function dequeueMessages and that is it Heres my sample lambda I know there are other dependencies there but I just want to focus on getting the first test to pass and I am struggling with stubbing out new Queue to make the assertion that the constructed object queue has invoked dequeueMessages I have explored sinon and I have tests set up with mocha and chai but I just do not know how to put all the tools together to do this very simple test "
43745192,"Set CloudWatch timers as a resource using the Serverless Framework","https://stackoverflow.com/questions/43745192/set-cloudwatch-timers-as-a-resource-using-the-serverless-framework","{amazon-web-services,aws-lambda,amazon-cloudwatch,serverless-framework}","2017-05-02 18:51:38+03","2024-05-17 05:02:14.888235+03","I am using the Serverless Framework v1 9 I have a number of Lambda functions that require minimal latency The current bestpractice appears to be setting up CloudWatch timers to ping the functions so they stay warm as you can read in this blog post How to Keep Your Lambda Functions Warm Currently I am manually setting up these timers after I deploy a new function but ideally I would like to set up a cloudwatch timer as a resource that automatically gets deployed with each function Is this possible Is this something that will ever be possible"
43753692,"Serverless Framework with Azure functions","https://stackoverflow.com/questions/43753692/serverless-framework-with-azure-functions","{node.js,azure,azure-functions,serverless-framework,serverless-architecture}","2017-05-03 07:23:36+03","2024-05-17 05:02:15.910653+03","I am writing services with Serverless Framework Azure Functions Examples out there are very simple But when I try to take a step further I run into problem Currently learning from AWS Lambda and then trying to implement it on Azure Functions The goal of doing so is 1 Implement functions as es6 classes and then building the project with webpack 2 Find a right project structure which makes more sense 3 Follow SoC pattern I have created a github project httpsgithub comGeekOnGadgetsserverlessazuresettings and when I try to build this project serverless package it creates serverless folder and inside it there is zip file the compiled version Which I understand gets deployed to azure when you run serverless deploy But when I check on Azure the function is just development code and not the compiled one please refer to the code below Can someone please help with this Any suggestions is appreciated "
43763504,"Serverless Stack Applications","https://stackoverflow.com/questions/43763504/serverless-stack-applications","{javascript,reactjs,web-applications,serverless-framework}","2017-05-03 14:53:21+03","2024-05-17 05:02:16.484571+03","I have recently came across this term Serverless Stack and while I did a little research about it I found it helps us in creating serverless web applications using framework like ReactJS and DynamoDB for backend which can be hosted over cloud using AWS However when it comes to the scalability of applications there is very little to no information available across various blogs Had anyone tried this stack in your applications I would want to hear What are the other tech stack languages frameworks which can be used as part of this new Serverless Stack Does it scale well Particularly when a website has more viewers Can someone shed some light"
43765040,"How to escape $ sign in serverless yaml config?","https://stackoverflow.com/questions/43765040/how-to-escape-sign-in-serverless-yaml-config","{amazon-web-services,yaml,aws-api-gateway,serverless-framework}","2017-05-03 16:04:11+03","2024-05-17 05:02:17.582414+03","I want to escape sign when using stage variables for api gateway Following error appears when I try to deploy Invalid variable reference syntax for variable stageVariables capabilitySecurityUrl You can only reference env vars options files You can check our docs for more info I have tried following options but not working 1 Using Without Quotes Uri https stageVariables capabilitySecurityUrl 2 Using with quotes Uri https stageVariables capabilitySecurityUrl 3 Access variable from file Any help"
43769891,"AWS Lambda Function Executing Multiple Times (Serverless)","https://stackoverflow.com/questions/43769891/aws-lambda-function-executing-multiple-times-serverless","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-05-03 20:57:02+03","2024-05-17 05:02:18.560079+03","I am in the process of creating a facebook messenger bot using AWS Lambda and the Serverless framework For now I just want it to repeat whatever is sent right back to the user Here is the code So the bot does successfully echo back the messages but in my logs I can see it getting executed multiple times Sometimes the message has no message key in the JSON for some reason so the multiple executions have different outcomes I believe it has something to do with me sending the message back to the user because when I comment out the axios post the problem stops Any idea why this is happening"
43771000,"How to migrate dynamodb data on major table change?","https://stackoverflow.com/questions/43771000/how-to-migrate-dynamodb-data-on-major-table-change","{amazon-dynamodb,aws-cloudformation,serverless-framework}","2017-05-03 22:27:08+03","2024-05-17 05:02:19.686203+03","During development structures and requirements change Key and index settings need to be changed that might break incremental table update So my solution so far is to delete the table and recreate it from the cloudformation stack But how to solve this problem with a production deployment Is it possible to automate dynamodb deployment as follows"
43778562,"Error:Unable to invoke action : The server is currently unavailable","https://stackoverflow.com/questions/43778562/errorunable-to-invoke-action-the-server-is-currently-unavailable","{apache,serverless-framework,openwhisk,serverless-architecture}","2017-05-04 09:10:10+03","2024-05-17 05:02:20.552584+03","I am doing a on prem setup of openwhisk using local couchdb installation on ubuntu 16 04 for which I downloaded the code from the github I have followed all the steps of the setup after the build I have to run various playbooks when is run the below playbook with the below command ansibleplaybook i environmentslocal openwhisk yml I get error error The server is currently unavailable because it is overloaded or down for maintenance code 4 when I check I found it is coming while executing installRouteMgmt sh from openwhiskansiblerolesroutemgmtfiles the line in the script which is throwing error is where"
43793888,"How to make search using ""contains"" with DynamoDB","https://stackoverflow.com/questions/43793888/how-to-make-search-using-contains-with-dynamodb","{javascript,reactjs,amazon-web-services,amazon-dynamodb,serverless-framework}","2017-05-04 22:44:40+03","2024-05-17 05:02:21.529662+03","I am trying to make search function on my React app I have this DynamoDB table I want to make a search function to search b on the React apps search input and get name b from the DB as the result I tried to query with CONTAINS but did not work and does not seem to be a proper way to do it What is the best way to create search function on my React app with DynamoDB Does it even make sense to run a query by the search keyword to check if the data contains keyword value"
42457386,"Debugging error in AWS Lambda and API Gateway Endpoint response","https://stackoverflow.com/questions/42457386/debugging-error-in-aws-lambda-and-api-gateway-endpoint-response","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-02-25 14:36:31+02","2024-05-17 05:02:32.558538+03","I have a lambda function that is wired up to work with API Gateway When I run it locally it works when I simulate it with serverless offline it works But against the published dev endpoint it returns an error 500 and a json object with an error message In the CloudWatch logs there are no errors In the callstack in the API gateway endpoint testing page I see my correct response body in the Lambda portion of the process and then when it gets to the API gateway response step something goes wrong How should I debug API Gateway when there are not any errors in logs"
43818401,"Error compiling Typescript with graphql files","https://stackoverflow.com/questions/43818401/error-compiling-typescript-with-graphql-files","{node.js,typescript,graphql,tsc,serverless-framework}","2017-05-06 08:34:11+03","2024-05-17 05:02:21.974025+03","So I am new in this area the thing is that I am trying to compile a Typescript project with graphql files on it with graphql extension It based on the serverless framework so to compile it I launch npm start which launches a cd srcapp tsc in the command line The ts file references the graphql file like this import SchemaDefinition from schemaDefinition graphql And the error is dataschemaindex ts 230 error TS2307 Cannot find module schemaDefinition graphql I think the issue here is in the tsc compilation as it creates the output directory built but it is not copying the graphql files Here is my tsconfig json file I am not sure if I have to do some trick to copy these files or put a precompiler step to convert the graphql files in ts files using something like this GraphQL Code Generator Any ideas out there I am stuck S"
43826710,"How do I add SQS IAM for my Lambda function?","https://stackoverflow.com/questions/43826710/how-do-i-add-sqs-iam-for-my-lambda-function","{amazon-web-services,amazon-iam,serverless-framework}","2017-05-07 00:37:58+03","2024-05-17 05:02:22.798374+03","I was able to get this to work with the serverless yml But I want to apply it only to a certain function How can I do this"
43829577,"Unable to send xml response with serverless framework","https://stackoverflow.com/questions/43829577/unable-to-send-xml-response-with-serverless-framework","{twilio,aws-lambda,aws-api-gateway,serverless-framework,twilio-twiml}","2017-05-07 08:49:19+03","2024-05-17 05:02:23.899269+03","I am working with twilio in which when call comes to my twilio number it invokes webhook I am using lambda function as webhook twilio expects xml formerly called twiml response from webhook and i am unable to send xml response from lambda function I am using serverless framework here is my code function yml Response please let me know if I am making some mistake in code also created an issue on github Thanks Inzamam Malik"
43871759,"Testing Elasticache and Serverless AWS Lambda locally","https://stackoverflow.com/questions/43871759/testing-elasticache-and-serverless-aws-lambda-locally","{node.js,amazon-web-services,aws-lambda,amazon-elasticache,serverless-framework}","2017-05-09 13:52:40+03","2024-05-17 05:02:24.438347+03","I am using serverless to create a lambda function using the nodejs template When I try to serverless invoke local f functionName it always times out so I have to deploy it to test it Is it possible to test this out locally with serverless "
43888228,"Sending Response Header with the Serverless Framework on AWS","https://stackoverflow.com/questions/43888228/sending-response-header-with-the-serverless-framework-on-aws","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-05-10 09:15:20+03","2024-05-17 05:02:25.363327+03","I am using the Serverless Framework for my Lambda functions on AWS How can I send authorization headers My current config Lambda function serverless yml The above config sends the response object as body The status is still 200 I am using Serverless v1 10"
43908662,"Set environment variables from external file in serverless.yml","https://stackoverflow.com/questions/43908662/set-environment-variables-from-external-file-in-serverless-yml","{environment-variables,yaml,serverless-framework}","2017-05-11 07:04:43+03","2024-05-17 05:02:25.926163+03","I am using serverless and serverlesslocal for local development I have got an external file which holds references to environment variables which I retrieve from node env in my app From what I understand I should be able to set my environment variables such as and have those environment variables included in my app through the following line in my serverless yml then in the commandline I call serverless offline stage dev port 9000 I thought this would include the correct vars in my app but it is not working Is this not how it is supposed to work Am I doing something wrong here"
42400269,"Wondering where to find docs on serverless dynamoDB Schema","https://stackoverflow.com/questions/42400269/wondering-where-to-find-docs-on-serverless-dynamodb-schema","{amazon-web-services,serverless-framework}","2017-02-22 19:11:32+02","2024-05-17 05:02:28.408762+03","I am writing the following for a db schema resources But I copied that from a few tutorials and figured out how to post to a db but I am not sure what all the options are For example KeyType HASH what are the other options what do they do I saw one tutorial tell me this creates a table and sets up the properties with required keys but I am not sure how to call one primary or how to reference these Attributes and keyTypes I understand the S is for String but I am not sure what the other Properties do I have looked in the documentation but came up empty Thanks in advance "
42415688,"Serverless Framework with custom packaging","https://stackoverflow.com/questions/42415688/serverless-framework-with-custom-packaging","{amazon-web-services,aws-lambda,serverless-framework}","2017-02-23 12:23:58+02","2024-05-17 05:02:28.827103+03","I am using the Serverless Framework and I cannot seem to package my functions the way I want My current folder directory looks like this Is it possible to cherry pick which folder I want to include in the zip file and also specify the corresponding destination path inside the zip file For example I want to zip everything inside function1 folder but all of them should be at root level of the zip file Right now all the generated files are in a folder called function1 in the zip file "
42429275,"How do I reference a function that is not in the root folder using the Serverless Framework?","https://stackoverflow.com/questions/42429275/how-do-i-reference-a-function-that-is-not-in-the-root-folder-using-the-serverles","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-02-24 01:36:33+02","2024-05-17 05:02:29.897126+03","I am using the Serverless Framework 1 x and I want to define my serverless yml to reference a function that is located in another folder not in the root level For example in the following folder structure I want to reference a handler function that is defined in a function1 js file inside the folder functions All examples that I see consider the following basic scenario where the file is in the root Where the serverless yml file is defined by"
42448692,"Access AWS Resource Outside of VPC from Within VPC - Serverless Framework","https://stackoverflow.com/questions/42448692/access-aws-resource-outside-of-vpc-from-within-vpc-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,aws-vpc}","2017-02-24 21:34:45+02","2024-05-17 05:02:30.802642+03","I am trying to access a kinesis stream outside a VPC from a lambda function inside a VPC Currently when the code to write to the kinesis stream is executed it will hang and then timeout When I take the lambda out of the VPC the code to write to the stream works fine But I need to access a resource within the VPC and then write to the stream Anyone know how to fix this Here is my function that is in the VPC Here is my policy And finally here is my kinesis stream resource"
42457673,"Duplicated mapping key in serverless.yml","https://stackoverflow.com/questions/42457673/duplicated-mapping-key-in-serverless-yml","{aws-lambda,aws-api-gateway,serverless-framework}","2017-02-25 15:03:58+02","2024-05-17 05:02:34.113073+03","I am using Serverless to deploy a couple of functions written in C to AWS While deploying a message duplicated mapping key in \serverless yml is thrown Separately both functions get deployed but when put together the said error message is shown What am I missing"
42474264,"Lambda Integration vs. Lambda Proxy: Pros and Cons","https://stackoverflow.com/questions/42474264/lambda-integration-vs-lambda-proxy-pros-and-cons","{aws-lambda,aws-api-gateway,serverless-framework}","2017-02-26 21:06:12+02","2024-05-17 05:02:34.333077+03","What do you think are the Pros and Cons of using Lambda integration with and without the proxy feature in AWS API Gateway and more specifically when using the Serverless framework Heres what I think up to now Lambda Integration with Proxy Lambda Integration without Proxy What are your thoughts Do you generally use Lambda Proxy or plain Lambda integrations What do you prefer and why EDIT So far I am inclined to always choose not to use the proxy features due to the reasons mentioned decoupling and stating dependencies headers status codes etc upfront "
42492510,"DynamoDB limitations when deploying MoonMail","https://stackoverflow.com/questions/42492510/dynamodb-limitations-when-deploying-moonmail","{amazon-dynamodb,serverless-framework,moonmail}","2017-02-27 17:51:30+02","2024-05-17 05:02:35.583831+03","I am trying to deploy MoonMail on AWS However I receive this exception from CloudFormation Subscriber limit exceeded Only 10 tables can be created updated or deleted simultaneously Is there another way to deploy without opening support case and asking them to remove my limit"
42532824,"assign Role For Each Function with a role defined in aws account in Serverless Framework","https://stackoverflow.com/questions/42532824/assign-role-for-each-function-with-a-role-defined-in-aws-account-in-serverless-f","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework}","2017-03-01 13:16:29+02","2024-05-17 05:02:36.607308+03","I am trying to apply an IAM Role defined in my aws account for each lambda function Serverless docs example is something like this The difference between this code and what I want to do is the fact they are creating the IAM role in the yml what I want to do is to assign an existing role from my aws acount to my functions I also found the way it should be to assing an existin role using the Role ARN This way is not working for me serverless ends up creating a new default IAM role for my functions anyway My yml is"
42539296,"Amazon DynamoDB Attribute Type with CloudFormation","https://stackoverflow.com/questions/42539296/amazon-dynamodb-attribute-type-with-cloudformation","{amazon-dynamodb,aws-cloudformation,serverless-framework}","2017-03-01 18:29:24+02","2024-05-17 05:02:37.132034+03","I am working on a Serverless web application and I am trying to create a CloudFormation YAML template for a DynamoDB table The documentation says that each attribute in the table should follow the style below where AttributeType can be either S N or B for string number or binary AttributeName String AttributeType String My table includes attributes that are maps How do I include them in the template"
42612499,"How do I get the AccountId as a variable in a serverless.yml file?","https://stackoverflow.com/questions/42612499/how-do-i-get-the-accountid-as-a-variable-in-a-serverless-yml-file","{amazon-web-services,serverless-framework}","2017-03-05 18:49:03+02","2024-05-17 05:02:38.062422+03","I want to build an ARN in my file dynamically but I need to get my current AccountId How can I access it as a variable For example What is the proper way to reference the current region and accountId "
42631587,"Does Serverless Framework support any kind of multi-cloud load balancing?","https://stackoverflow.com/questions/42631587/does-serverless-framework-support-any-kind-of-multi-cloud-load-balancing","{aws-lambda,azure-functions,serverless-framework,openwhisk,serverless-architecture}","2017-03-06 17:12:44+02","2024-05-17 05:02:38.940518+03","Does Serverless Framework support the ability to deploy the same API to multiple cloud providers AWS Azure and IBM and route requests to each provider based on traditional load balancer methods i e round robin or latency Does Serverless Framework support this function directly Does Serverless integrate with global load balancers e g dyn or neustar "
42638236,"Running Serverless Framework CLI commands, like ""deploy"", from Maven","https://stackoverflow.com/questions/42638236/running-serverless-framework-cli-commands-like-deploy-from-maven","{java,maven,amazon-web-services,aws-lambda,serverless-framework}","2017-03-07 00:45:34+02","2024-05-17 05:02:39.9482+03","What I am trying to do Build the AWS Lambda function Java Maven module with the mvn command and goals as usual Depending on given custom goals Maven will call Serverless CLI commands to deploy the Java based Lambda function using the serverless yml file in the root dir of the module Maven continues with end to end test using URLs returned by Serverless CLI command call deploy Or by sending messages to a queue if that is the event triggering the function So I have been searching for a Maven plugin for Serverless Framework CLI but I cannot find anyone I really want Maven to execute the Serverless CLI when certain goals are given This is what I think my options might be right now I appreciate all ideas but really I am focusing to solve this within the Maven lifecycle "
42714963,"An error occurred while provisioning your stack:functionlog - /aws/lambda/Serverless/function already exists","https://stackoverflow.com/questions/42714963/an-error-occurred-while-provisioning-your-stackfunctionlog-aws-lambda-server","{amazon-web-services,aws-lambda,serverless-framework}","2017-03-10 09:36:39+02","2024-05-17 05:02:40.938848+03","I get this error when I try to do sls deploy An error occurred while provisioning your stackfunctionlog awslambdaServerlessfunction already exists This is because the framework version changed How can I solve this error"
42844435,"Is there a way to direct serverless to put functions under a pre-existing API Gateway?","https://stackoverflow.com/questions/42844435/is-there-a-way-to-direct-serverless-to-put-functions-under-a-pre-existing-api-ga","{aws-api-gateway,serverless-framework}","2017-03-16 20:44:08+02","2024-05-17 05:02:41.870947+03","I am building a serverless application My ops team has some restrictions that are best resolved by me using a preexisting but currently empty API gateway Is there a way to tell serverless to use this gateway instead of creating its own"
41038072,"serverless events are missing","https://stackoverflow.com/questions/41038072/serverless-events-are-missing","{node.js,amazon-web-services,yaml,aws-lambda,serverless-framework}","2016-12-08 11:12:05+02","2024-05-17 05:02:43.178141+03","I have a problem with my serverless configuration resulting in lambda functions being deployed without their triggers I have a main serverless yml for my skills as below service file envDEPLOY_FILE_NAME service Then I have two sets of yaml settings files One for skill_type _ localization ie customskill_eu yml and another stagespecific skill_type localization stage like smarthome_us_dev yml etc What is wrong Please advise Thank you "
41045135,"How to make lambda work with ajax?","https://stackoverflow.com/questions/41045135/how-to-make-lambda-work-with-ajax","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2016-12-08 17:14:38+02","2024-05-17 05:02:44.227944+03","I get 403 forbidden when making ajax request to lambda endpoint It is likely to be a CORS Issue serverless yml handler js ``` I tried to enable CORS in API gateway but I get invalid response code error Can you suggest how to fix the error and what could be causing it"
41070737,"How to migrate ""project"" in Serverless 0.X to Serverless 1.0?","https://stackoverflow.com/questions/41070737/how-to-migrate-project-in-serverless-0-x-to-serverless-1-0","{amazon-web-services,serverless-framework}","2016-12-10 00:07:31+02","2024-05-17 05:02:46.105929+03","I once used Serverless 0 X frameworks and have some of my own projects with it After that I have a long blank period for half year or so and I back to Serverless 1 0 In Serverless 0 X we have the concept of project which can handle many functions under same environment But in Serverless 1 X project looks retired only one handler js under root folder How can I handle many functions under same environment Should I code all functions within one handler js And how can I avoid 50MB limits of each functions In Serverless 0 X it is easy to avoid this limitation because each function uploaded separately but I do not know how to avoid this limitation in Serverless 1 X Including these questions are there any good documentation for migrating Serverless 0 X projects to Serverless 1 X"
41070858,"How to deploy API Gateway on Serverless 1.X?","https://stackoverflow.com/questions/41070858/how-to-deploy-api-gateway-on-serverless-1-x","{amazon-web-services,serverless-framework}","2016-12-10 00:24:33+02","2024-05-17 05:02:47.10193+03","From Serverless 1 X I cannot found API Gateway settings in serverless yml or web search results It include only lambda settings and I deployed Hello World template to my AWS actually only lambda was deployed How to deploy and configure API Gateway on Serverless 1 X"
41145659,"AWS Custom Authorizer with request parameters","https://stackoverflow.com/questions/41145659/aws-custom-authorizer-with-request-parameters","{amazon-web-services,aws-lambda,aws-api-gateway,amazon-cognito,serverless-framework}","2016-12-14 14:57:46+02","2024-05-17 05:02:48.514898+03","I am building a rest API with serverless I have built a custom authorizer to retrieve custom policies everything was working fine until I have bump into retrieving policies with request parameters example baseAs aId Bs bId Example of policies I am retrieving right now so my issue is the above policy should only be to retrieve a specific A but when I want to call some B that only is accessible through a A I will need to call a endpoint like baseAs aId Bs bId with the above policy I will have permission to access request this endpoint when I should not Is there a way to have request parameters in the resource in the policy"
41156203,"Serverless compute on Windows in AWS","https://stackoverflow.com/questions/41156203/serverless-compute-on-windows-in-aws","{amazon-web-services,aws-lambda,serverless-framework}","2016-12-15 03:59:27+02","2024-05-17 05:02:49.041106+03","I have got a piece of code that I need to make available over the Net It is a perfect fit for an AWS Lambda with an HTTP API on top a stateless side effect free rather CPU intensive function blob in blob out It is written in C NET but it is not pure NET it makes use of the UWP API therefore requires Windows Server 2016 AWS Lambdas only run on Linux hosts even C ones Is there any way to deploy this piece in the Amazon cloud in serverless manner maybe something other than a Lambda I know I can go with a EC2 VM but this is the very kind of thing serverless architecture was invented for "
41156444,"Is it possible to correctly point to Python Shapely library's LIBGEOS_C in AWS Lambda environment?","https://stackoverflow.com/questions/41156444/is-it-possible-to-correctly-point-to-python-shapely-librarys-libgeos-c-in-aws-l","{python,amazon-web-services,aws-lambda,serverless-framework,shapely}","2016-12-15 04:28:52+02","2024-05-17 05:02:49.929135+03","I am attempting to write a AWS python Lambda function that utilizes Shapely for simple point in polygon operations I spun up an AWS linux EC2 instance installed Shapely and had a working script I then downloaded the linux specific libgeos_c so 1 binary from my EC2 instance and bundled it via serverless framework to exist in the same directory as my lambda function However once I deploy the script will not execute because it throws a Could not find library or load any of its variants error I have even tried to explicitly point to libgeos_c so 1 path via the GEOS_LIBRARY_PATH environment variable to no effect Is this an impossible deployment Here is a code snippet that sets the environment variable and then invokes a secondary script which actually imports and utilizes shapely Has anyone every successfully deployed shapely in lambda My fallback plan is to go back to good old postgrespostgis instead of shapely but I would sure like to try to build this out in a dynamolambda stack "
41173775,"Serverless: You're using the LAMBDA-PROXY in combination with request / response","https://stackoverflow.com/questions/41173775/serverless-youre-using-the-lambda-proxy-in-combination-with-request-response","{node.js,serverless-framework}","2016-12-15 21:40:34+02","2024-05-17 05:02:50.87489+03","Could someone please help explain what this warning message means Serverless Warning You are using the LAMBDAPROXY in combination with request response configuration in your function indexPage This configuration will be ignored during deployment I believe I understand the LAMDAPROXY part I am pretty sure this is a reference to the Integration section of the serverless yml I have no idea what it is referencing with the request response configuration "
41194734,"Serverless CORS Error: Did not find method in CORS header ‘Access-Control-Allow-Methods'","https://stackoverflow.com/questions/41194734/serverless-cors-error-did-not-find-method-in-cors-header-access-control-allow","{javascript,ajax,cors,aws-api-gateway,serverless-framework}","2016-12-17 02:09:23+02","2024-05-17 05:02:51.948059+03","I tried using Serverless framework and have followed the guide to enable CORS And I also added in the serverless yml The final endpoint is here Somewhat when I tried calling the endpoint via AJAX There is nothing happens The Firefox console shows this message CrossOrigin Request Blocked The Same Origin Policy disallows reading the remote resource at httpsdgyoawr9n0 executeapi useast1 amazonaws comdevcommentslist Reason Did not find method in CORS header AccessControlAllowMethods And the Chrome console also shows this XMLHttpRequest cannot load httpsdgyoawr9n0 executeapi useast1 amazonaws comdevcommentslist Method JSON is not allowed by AccessControlAllowMethods in preflight response But when I tried the endpoint in httpwww testcors org it looks okay though Heres the response header for OPTIONS Heres for the GET What did I do wrong"
41197983,"How to add bucket permission in serverless.yml","https://stackoverflow.com/questions/41197983/how-to-add-bucket-permission-in-serverless-yml","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2016-12-17 11:15:00+02","2024-05-17 05:02:52.538379+03","I have following serverless yml file when I deploy it gives me permission denied on productimagedev bucket how do I set permission in iamRoleStatements or it has to be set somewhere else "
41214544,"How to attach a managed policy to a lambda function in serverless framework","https://stackoverflow.com/questions/41214544/how-to-attach-a-managed-policy-to-a-lambda-function-in-serverless-framework","{amazon-web-services,aws-lambda,amazon-cognito,amazon-iam,serverless-framework}","2016-12-19 01:06:05+02","2024-05-17 05:02:53.468825+03","How can I attach a managed policy to a lambda function I tried But this resulted in the following error An error occurred while provisioning your stack GaDashextractLambdaFunction 1 validation error detected Value arnawsiamawspolicyAmazonCognitoReadOnly at role failed to satisfy constraint Member must satisfy regular expression pattern arnawsiam\d 12 role[azAZ_09 _] "
41413360,"Having trouble setting environment variables for AWS Lambda using Serverless v1.4.0","https://stackoverflow.com/questions/41413360/having-trouble-setting-environment-variables-for-aws-lambda-using-serverless-v1","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-01-01 04:27:49+02","2024-05-17 05:02:55.438012+03","Following the documentation I tried declaring environment variables in the serverless yml file under provider None of these are available to me when trying to get them using process env IS_REMOTE or process env REMOTE_ENV This is the log of trying to console log them This is inside Lambda when using serverless invoke not locally Hope someone can help me figure this out as it seems like I am following the docs about right "
41419941,"Return JSON in response to S3 Upload","https://stackoverflow.com/questions/41419941/return-json-in-response-to-s3-upload","{amazon-s3,aws-lambda,aws-api-gateway,serverless-framework,serverless-architecture}","2017-01-01 23:30:24+02","2024-05-17 05:02:57.056809+03","I am relatively new to AWS Lambda so maybe this is trivial but I have not figured it out so far I would like to return JSON data the same was that I can return it as a callback in response to an API Gateway request The problem that I have is that I would like to process an image that a user uploads and return the result of that processing to the user in JSON format I know that I can create Lambda functions that respond to S3 uploads triggers but I cannot return data to the user that way "
41452848,"Deploy Isomorphic react starter kit to AWS Lambda","https://stackoverflow.com/questions/41452848/deploy-isomorphic-react-starter-kit-to-aws-lambda","{node.js,reactjs,aws-lambda,serverless-framework,react-starter-kit}","2017-01-03 21:42:53+02","2024-05-17 05:02:57.633764+03","I am a newbie when it comes to Node js nad React I am trying to deploy React Starter Kit isomorphic web app boilerplate to the cloud I am currently using heroku but I have read that I can do this using AWS Lambda and API gateway I tried to do this using Serverless framework and also do this on my own but did not succeed Running the serverless framework using a webpack plugin failed because my webpack file is written in ES6 and I do not know how to run babel before webpack locally I am running babelnode that calls webpack As for doing this manually I could not find instructions for the starterkit setup should I upload the entire folder to S3 how to define the lambda function do I need to change something in my current code Any help would be appreciated "
38408493,"Serverless framework v1 - multiple resources in one service","https://stackoverflow.com/questions/38408493/serverless-framework-v1-multiple-resources-in-one-service","{aws-api-gateway,serverless-framework}","2016-07-16 06:35:10+03","2024-05-17 05:02:59.419871+03","I have two resources games and players both have crud functions Are these supposed to be in the same serverless service I would like to separate them but how do I then put them in the same api gateway"
38456057,"Api gateway 304 responses with Last-Modified header","https://stackoverflow.com/questions/38456057/api-gateway-304-responses-with-last-modified-header","{aws-lambda,aws-api-gateway,serverless-framework}","2016-07-19 10:34:50+03","2024-05-17 05:03:00.008199+03","I want to response a 304 response with LastModified header At first I use Error response to implement Handler js sfunction json in endpoints However I find it on Lambda doc If an error is provided callback parameter is ignored So this does not work Is there any solution to response a 304 response with header Updated Is it possible to return a Error object and map responses 304 in sfunction Below code cannot map to 304 sfuntion json Handler js I also try this It can mapping to 304 but header cannot get integration response body errorMessage LastModified I try util parseJson but not working on responseParameter Invalid mapping expression specifiedutil parseJson input path errorMessage LastModified"
38650052,"custom authorizers in Amazon API Gateway 500 error","https://stackoverflow.com/questions/38650052/custom-authorizers-in-amazon-api-gateway-500-error","{aws-lambda,aws-api-gateway,serverless-framework}","2016-07-29 03:25:34+03","2024-05-17 05:03:01.081363+03","I use ServerlessAuthenticationboilerplate and want to map custom error response But it always return 500 error authorize js sfunction json"
38713469,"API Gateway + Lambda download CSV file","https://stackoverflow.com/questions/38713469/api-gateway-lambda-download-csv-file","{csv,aws-lambda,aws-api-gateway,serverless-framework}","2016-08-02 06:46:45+03","2024-05-17 05:03:01.73009+03","I want to do a csv download link with API Gateway Lambda But there is a problem that lambda always return JSON stringify Is there a way to resolve this sfunction json handler js In the downloaded csv file \car\\price\\color\\n\Audi\40000\blue\\n\BMW\35000\black\\n\Porsche\60000\green\ Updated I still trying but thank you at least I have direction By the way I cannot find API Gateway doc about input body replaceAll replaceAll is Java function Finally I resolve this by below code in Api Gateway template sfunction escaped double quotes return data The template final replaceAll is weird CSV do not recognize \n or \r\n but I try copy new line in IDE and pass to code It work and it is magical "
38919753,"Is it possible to set request authorization in 'serverless.yml' file with Serverless 1.0.0-beta.1.1?","https://stackoverflow.com/questions/38919753/is-it-possible-to-set-request-authorization-in-serverless-yml-file-with-server","{amazon-web-services,yaml,aws-api-gateway,serverless-framework}","2016-08-12 13:54:42+03","2024-05-17 05:03:03.317947+03","I just tried version 1 0 0beta 1 1 of Serverless which looks very promising I wish to authentify requests using AWS_IAM I can use the AWS Gateway API console and change each method request from none to AWS_IAM By hand I can make it work However I would rather change the serverless yml file in my Serverless services I tried to add an authorizationType field like so but it did not update the authorization settings of API Gateway and unauthorized requests are still accepted Any idea if the serverless yml file can be set to use AWS_IAM "
39097572,"Use path params in serverless framework 1.0","https://stackoverflow.com/questions/39097572/use-path-params-in-serverless-framework-1-0","{amazon-web-services,aws-lambda,serverless-framework}","2016-08-23 09:37:04+03","2024-05-17 05:03:04.807741+03","I want to use the path param customer customerId of a GET request in order to query a customer using AWS Lambda How do I have to define the path param in order to pass it to my AWS Lambda function using serverless framework 1 0 "
39120750,"How to create S3 bucket via CloudFormation with Transfer Acceleration on by default?","https://stackoverflow.com/questions/39120750/how-to-create-s3-bucket-via-cloudformation-with-transfer-acceleration-on-by-defa","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework}","2016-08-24 10:27:32+03","2024-05-17 05:03:05.565914+03","My Serverless project creates an S3 bucket I would like it to have Transfer Acceleration turnedon by default I have tried this but that is not an accepted Property and I cannot find anything appropriate in the aws docs httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiess3bucket html Is there any way to do this during the resources deployment"
39143243,"Serverless with nodejs and mysql => Process exited before completing request","https://stackoverflow.com/questions/39143243/serverless-with-nodejs-and-mysql-process-exited-before-completing-request","{mysql,node.js,aws-lambda,serverless-framework}","2016-08-25 10:47:39+03","2024-05-17 05:03:06.455743+03","I am developing some functions with serverless with the nodejs template I have a service that connects to a mysql database and retrieves some data Everything is fine when I make the first call but when I repeat it I receive a Process exited before completing request error message If I try that same call again I receive data So the service is doing right on the odd calls and it is returning the error on the even calls funny right This is the code of the handler function and this is the code of the repository function As you can see I use promises with the when library I call the done callback in the handler and there should be a response from the promise in every possible situation I cannot see what is wrong with this and why is making the odd requests wrong Anyone can help Thanks in advance "
39171675,"How to create an EventSourceMapping with serverless 1.0?","https://stackoverflow.com/questions/39171675/how-to-create-an-eventsourcemapping-with-serverless-1-0","{lambda,serverless-framework}","2016-08-26 17:23:54+03","2024-05-17 05:03:07.373132+03","I am trying to set up an event source map so the Lambda Function gets call every time a record gets committed into my dynamodb table I am trying to follow up the instructions from httpsgithub comserverlessserverlessblobmasterdocsguideoverviewofeventsources md My current serverless yml is using And every time I call serverless deploy I get I am guessing this has to do with IAM role permissions but cannot figure out how to fix it For the role I use for serverless itself I have tried to just use so it should be able to do anything Note that if I remove the resources section from the serverless yml I can deploy correctly I can even go to the dynamodb table and manually add the trigger to the lambda function and it all works Thanks in advance"
39194776,"Serverless framework 1.0 : Converting Cloudformation to Yaml for AWS Firehose","https://stackoverflow.com/questions/39194776/serverless-framework-1-0-converting-cloudformation-to-yaml-for-aws-firehose","{amazon-web-services,yaml,aws-cloudformation,serverless-framework,amazon-kinesis-firehose}","2016-08-28 19:00:50+03","2024-05-17 05:03:08.441446+03","Does anyone know of a definitive guide for converting cloudformation to yaml in Serverless v1 0 I can make quite a few things work but I am completely stuck on how to setup Firehose and allow a lambda to write to it I think the resources section would look something like this But I have no idea how to convert the Cloudformation for the IAM section which is described here httpdocs aws amazon comfirehoselatestdevcontrollingaccess html Any pointers examples or guides on CFYaml conversion much appreciated "
39244928,"How do I debug AWS Api Gateway & Lambda's ""AWS/ApiGateway 5XXError""","https://stackoverflow.com/questions/39244928/how-do-i-debug-aws-api-gateway-lambdas-aws-apigateway-5xxerror","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2016-08-31 08:49:49+03","2024-05-17 05:03:09.555404+03","I have an API Gateway resource that runs a lambda function I am calling the API Gateway resource using the AWS Generated SDK from my Api Gateway Heres the portion of the stacktrace from my client that seems relevant Now looking at the AWS console within my Api Gateway Dashboard I see the requests coming in and resulting in AWSApiGateway 5XXError However there are 0 logs that I can find My lambda function does NOT appear to be called and no lambda logs are shown Right now this is what my lambda looks like What can I do to debug this Edit Okay here is the cloudformation script that is throwing everything together Edit 2 When I test the endpoint using API Gateways test feature in the AWS Console everything works great Edit 3 Updated the cloudformation script againstill not working "
39374581,"Handle multipart/form-data with Serverless?","https://stackoverflow.com/questions/39374581/handle-multipart-form-data-with-serverless","{multipartform-data,serverless-framework}","2016-09-07 15:59:58+03","2024-05-17 05:03:10.407867+03","How to handle multipartformdata with serverlessframework v 0 5 6 Just tried this action js But got an error errorMessage Cannot read property contentlength of undefined"
39408726,"Lambda function producing old results after request","https://stackoverflow.com/questions/39408726/lambda-function-producing-old-results-after-request","{node.js,amazon-web-services,caching,aws-lambda,serverless-framework}","2016-09-09 09:50:44+03","2024-05-17 05:03:11.10706+03","I am writing a script to scrap a certain webpage For the architecture it is a serverless function which scrapes the certain page every minute so that we are notified as soon as possible about changes My problem is that the result of the query says no new entry was found only old ones which it does not report Today there is another entry which is new so I should have gotten a report about it When I execute the function manually it does actually work and report it When I removed the entry it still did not report it automatically from AWS After doing some debugging I noticed that on the client side the result from a request is the new version of the web page On AWS Lambda I still get the old result of the page Clientside commands tried both work The server does run the function entirely and does not report any errors in cloudwatch Personally I started to think that the problem was related to caching although that does not exist there right Any ideas or suggestions are welcome The line that gets the old version request url function error response html Example code async part get get the html checkLogged if already reported doLog logs if not reported Code that check for all entries"
39450504,"Serverless Framework - Two services under one APIGW endpoint","https://stackoverflow.com/questions/39450504/serverless-framework-two-services-under-one-apigw-endpoint","{microservices,aws-cloudformation,aws-api-gateway,serverless-framework}","2016-09-12 12:37:05+03","2024-05-17 05:03:12.161077+03","If I have two services Users and Products each with several functions with endpoints defined for each one as any traditional API would is it possible for them to be organised separately in a code base for clarity but once deployed share the same API base URL For example consider I have the following structure and my srcusersserverless yml has the following defined and my srcproductsserverless yml has basically the same thing just swap user for products Currently both of those services will be deployed to distinctly different API endpoints one with a URL httpsfghijklmnop executeapi and another with a URL httpsabcdevwxyz executeapi My question is would it be possible to have these services be deployed but remain under a single API with a single URL so both would be served under URL httpsabcdevwxyz executeapi I am assuming the answer to be No because Cloud Formation but I thought I would post the question here simply for the sake of discussion and to aid my own understanding of building serverless applications I am aware of using Custom Domains as per the answer here but for a quicker development cycle this is not really an ideal solution My only solution so far would be to simply create a service called api which would contain all the endpoints my API would need which would simply invoke my other services Lambda functions directly rather than via previouslyconfigured endpoints It would be an abstraction layer really but add potentially unnecessary layers to my application Again curious to see what the community feels on this "
39451505,"How to return the inserted item in dynamoDB","https://stackoverflow.com/questions/39451505/how-to-return-the-inserted-item-in-dynamodb","{node.js,amazon-web-services,amazon-dynamodb,aws-lambda,serverless-framework}","2016-09-12 13:29:52+03","2024-05-17 05:03:12.828665+03","I am using nodeJS sdk to put the item to dynamoDB The item is The present code for the putting the item in dynamoDB The insertion happens correctly and the return value is an empty object I would like to return the inserted item I found this doc But this returns only in case of updating the old value I could not find any other useful info other than this Is there any work around or we simply need to query using get method with the primary key"
33837797,"Is it possible to specify more than one method for an API Gateway -> Lambda mapping?","https://stackoverflow.com/questions/33837797/is-it-possible-to-specify-more-than-one-method-for-an-api-gateway-lambda-mapp","{aws-lambda,serverless-framework}","2015-11-20 23:32:23+02","2024-05-17 05:03:14.528658+03","I am currently using Serveless Framework to create a new application and was wanting to map the same lambda function to multiple HTTP methods say GET and POST in my API gateway and I have gotten stuck on how to do this Here is what Serverless Framework generated in awsm json for my default resourceaction endpoint for the apiGateway configuration So this allows my endpoint to accept a POST request but how do I change this file to have this lambda also accept GET requests I have tried the following and"
33884968,"How to test aws lambda functions locally","https://stackoverflow.com/questions/33884968/how-to-test-aws-lambda-functions-locally","{python,node.js,amazon-web-services,aws-lambda,serverless-framework}","2015-11-24 03:31:17+02","2024-05-17 05:03:15.559984+03","I have a mobile application backend developed with node js express I tried it to deploy it as lambda service For that I created a Serverless Framework project httpsgithub comserverless Previously I tested mobile app locally by starting express backend application Now I cannot find a method to test my mobile app locally without local backend jaws run command only run once I called it Is there any method to start the lambda function as a web service Or is there any alternative to Serverless Framework"
34050300,"Is there a way to send data to Logentries in a NodeJS + Browserify context?","https://stackoverflow.com/questions/34050300/is-there-a-way-to-send-data-to-logentries-in-a-nodejs-browserify-context","{node.js,browserify,aws-lambda,logentries,serverless-framework}","2015-12-02 18:28:21+02","2024-05-17 05:03:16.610982+03","I am trying to send data to Logentries from an AWS Lambda function created using the JAWS Framework which is now the Serverless Framework which uses Browserify as its default builder However Is there some way to send data to Logentries in this situation I looked briefly at connecting Logentries to AWS CloudWatch directly but the option for enabling that via Logentries says Enable Cloudwatch infrastructure information whereas I am just looking for a way to feed specific CloudWatch streams into specific Logentries log sets and I do not need any of the infrastructure information EDIT Based on feedback from Logentries support staff I ended up using an HTTP POST API that they have not to be confused with their deprecated HTTP PUT API Heres the code I used httpsgithub comsilinternationallambdalelogger"
34359675,"Can AWS Lambda reach/interact with S/FTP?","https://stackoverflow.com/questions/34359675/can-aws-lambda-reach-interact-with-s-ftp","{node.js,ftp,sftp,aws-lambda,serverless-framework}","2015-12-18 16:12:16+02","2024-05-17 05:03:17.43212+03","I wrote some basic js to just list the files of a FTP but I get Process exited before completing request Is that because Lambda cannot interact with FTP I am using jsftp btw Heres my setup My code My ftp lambda code I added some console log all over the place and it seems like it choked once it tried to ftp auth The output I see in cloud watch So it looks like it just choked somewhere "
34751377,"Using env variables in serverless s-resources-cf.json","https://stackoverflow.com/questions/34751377/using-env-variables-in-serverless-s-resources-cf-json","{amazon-web-services,aws-lambda,serverless-framework}","2016-01-12 18:39:27+02","2024-05-17 05:03:18.362018+03","Is there a way to use serverless env variable in sresourcescf json I create a RDS instance in sresourcescf json that is used by some of my lambdas Instead of putting the db name and password into sproject json or svariablesenv json Id like to reference env vars and have them filled in as part of the deployment similar to how vars in svariablesenv json can be references in sresourcescf json using "
35067236,"Why my Serverless Lambda unable to access S3 bucket and items?","https://stackoverflow.com/questions/35067236/why-my-serverless-lambda-unable-to-access-s3-bucket-and-items","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2016-01-28 16:48:06+02","2024-05-17 05:03:19.263601+03","I am sure I have set up my Lambda to have readwrite access to the private bucket more specifically my lambda will execute s3 headObject and s3 upload What am I missing to get this to work My Lambdas policy My S3 buckets policy"
35108295,"Universal rendering react components using serverless, react-router, lambda, api gateway and cloudflare","https://stackoverflow.com/questions/35108295/universal-rendering-react-components-using-serverless-react-router-lambda-api","{react-router,cloudflare,aws-lambda,aws-api-gateway,serverless-framework}","2016-01-30 23:03:00+02","2024-05-17 05:03:20.008602+03","I would like to do Universal rendering of react components using serverless reactrouter lambda API gateway and Cloudflare How would you map the API gateway endpoint URLs to a serverside instance of reactrouter running inside an AWS lambda function in a way that was compatible with Cloudflare I found an interesting hackapproach to doing it with CloudFront httphighscalability comblog2015127theserverlessstartupdownwithservers html but I would prefer using Cloudflare for cost and DDoS attack prevention reasons Thanks "
35252815,"How to access DynamoDB from AWS Lambda when using the Serverless Framework?","https://stackoverflow.com/questions/35252815/how-to-access-dynamodb-from-aws-lambda-when-using-the-serverless-framework","{amazon-web-services,amazon-dynamodb,aws-sdk,aws-lambda,serverless-framework}","2016-02-07 11:21:07+02","2024-05-17 05:03:21.157984+03","I am using the Serverless Framework to manage my AWS Lambda deploys The framework credentials has access to DynamoDB resources but my Lambda deployed with the framework cannot access my DynamoDB tables How can I give my Lambda functions the proper access"
35382007,"How to define variables in a DRY way","https://stackoverflow.com/questions/35382007/how-to-define-variables-in-a-dry-way","{serverless-framework}","2016-02-13 16:00:31+02","2024-05-17 05:03:22.095568+03","Let us say I have function that writes to a S3 bucket So the bucket name is clearly a variable that should not be hardcoded into the function might be different buckets for dev vs prod for example Now I need to use the bucket name in at least two places if I want the function to be able to access it For 1 I can use a variable and refer to the variable in the IAM policy defined in smodule or whatever it is called in v0 4 For 2 I can use an env var whose value I could then access in the function code during runtime But I certainly do not want to have to define the variable twice once with sls env set and once in the svariables file That is not very DRY However I do not see a way to refer to variables when defining envars or vice versa How could I define the bucket name in just one place"
36016455,"Unable to create new stage when using multiple accounts?","https://stackoverflow.com/questions/36016455/unable-to-create-new-stage-when-using-multiple-accounts","{amazon-web-services,amazon-s3,aws-lambda,aws-api-gateway,serverless-framework}","2016-03-15 16:07:02+02","2024-05-17 05:03:27.177533+03","So I have multiple accounts for my different environments when I try to create a new stage I get bucket exists you dont have permission After checking my AWS permissions my dev and test are identical any idea why this would happen For dev I had no issues with creating cf s3 bucket project inside the sls folder For test I get the above error the bucket doesnt exist yet it says bucket exists and I have no permission First run Now I try to create a new stage"
36044074,"Add Endpoint to Serverless CLI Generated Function","https://stackoverflow.com/questions/36044074/add-endpoint-to-serverless-cli-generated-function","{aws-lambda,aws-api-gateway,serverless-framework}","2016-03-16 18:29:57+02","2024-05-17 05:03:27.755511+03","I am new to Serverless www serverless com and learning the CLI I am having trouble creating a POST PUT or DELETE endpoint for a function In looking at the documentation I used the following to create a function This worked great and the resulting sfunction json has a GET endpoint automatically added What I would like is to be able to add PUT POST or DELETE endpoints on some functions It looks like from documentation that I could use endpoint deploy but I attempted this and it did not work This errors out saying that no such endpoint name exists I assume because it is not in the sfunction json file Do I need to handcode the sfunction json file to include the other endpoints or is there a way to do this through the CLI Thanks for your help "
36087745,"How can I check that Openwhisk (IBM Cloud Functions) gets invoked?","https://stackoverflow.com/questions/36087745/how-can-i-check-that-openwhisk-ibm-cloud-functions-gets-invoked","{node.js,docker,ibm-cloud,serverless-framework,openwhisk}","2016-03-18 15:03:27+02","2024-05-17 05:03:28.8108+03","I have a web application that uploads data to a Cloudant database Change events should trigger OpenWhisk IBM Cloud Functions activations or actions How can I check that OpenWhisk is invoked is there a debugging mechanism I tried using the dashboard but is there something I can use on the command line I am experimenting with node js and Docker actions so it would be great if the solution would be independent of whether the action is in node js Swift or a Docker container "
32707970,"How do you bundle aws-sdk-js into a Serverless Framework optimized package?","https://stackoverflow.com/questions/32707970/how-do-you-bundle-aws-sdk-js-into-a-serverless-framework-optimized-package","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2015-09-22 03:40:11+03","2024-05-17 05:03:29.903856+03","AWS SDK for node js can not be run through browserify due to how the SDK is loaded I want to included a newer version of the AWS SDK for node then what is included in lambda but I also want to optimize via browserify my lambda node js code How do I pull this off"
33001798,"How to protect Serverless Framework endpoints from abuse / DoS?","https://stackoverflow.com/questions/33001798/how-to-protect-serverless-framework-endpoints-from-abuse-dos","{amazon-web-services,serverless-framework}","2015-10-07 20:24:02+03","2024-05-17 05:03:30.945224+03","I plan to have the following setup I want to store my frontend in S3 and my backend in Lambda Since I am charged every time the lambda function gets executed I do not want everyone to be able to make requests directly to it On the other hand I want to store my frontend simply in S3 as opposed to a server How do I go about protecting my backend API from abuse or DoS"
33062564,"Serverless Framework - How to merge module resources into cloud formation","https://stackoverflow.com/questions/33062564/serverless-framework-how-to-merge-module-resources-into-cloud-formation","{amazon-web-services,serverless-framework}","2015-10-11 07:24:29+03","2024-05-17 05:03:31.996416+03","I am having trouble merging my moduleawsm json into resourcescf json Nothing I am trying will merge them Here are my steps jaws deploy resources does not update the cloud formation and produces Redeploying the lambda and endpoint does not update the cloud formation resources either What is the proper process to get the changes into the resourcescf json and apply them on AWS"
33261828,"Serverless Framework with Node MySQL: PROTOCOL_INCORRECT_PACKET_SEQUENCE error","https://stackoverflow.com/questions/33261828/serverless-framework-with-node-mysql-protocol-incorrect-packet-sequence-error","{mysql,node.js,aws-lambda,aws-api-gateway,serverless-framework}","2015-10-21 14:18:53+03","2024-05-17 05:03:32.99122+03","I am having difficulties implementing a simple query on a AWS Lambda NodeJS with Serverless Framework Running it locally works but when I upload it to AWS and then try to run it using the API Gateway endpoint I get this error I cannot find any information on Google StackOverflow or GitHub about this error and I cannot figure out what I am doing wrong This is what I am trying "
33633891,"How can I have multiple API Gateway paths with GET requests in the awsm.json?","https://stackoverflow.com/questions/33633891/how-can-i-have-multiple-api-gateway-paths-with-get-requests-in-the-awsm-json","{aws-cloudformation,aws-lambda,aws-api-gateway,serverless-framework}","2015-11-10 15:43:45+02","2024-05-17 05:03:33.655456+03","I am trying to create an endpoint with many path parameters Using JAWS awsm json I want to create GET methods for all 3 routes How if possible can I accomplish this using Serverless Framework CF"
36122250,"requestParameters returning ""Invalid mapping expression specified: true""","https://stackoverflow.com/questions/36122250/requestparameters-returning-invalid-mapping-expression-specified-true","{amazon-web-services,aws-cli,aws-api-gateway,serverless-framework}","2016-03-21 02:33:46+02","2024-05-17 05:03:35.086677+03","I am configuring a lambda functions API gateway integration with the Serverless Framework version 0 4 2 My problem is with defining an endpoints request parameters The AWS docs for API gateway entry says requestParameters Represents request parameters that can be accepted by Amazon API Gateway Request parameters are represented as a keyvalue map with a source as the key and a Boolean flag as the value The Boolean flag is used to specify whether the parameter is required A source must match the pattern method request location name where location is either querystring path or header name is a valid unique parameter name Sources specified here are available to the integration for mapping to integration request parameters or templates As I understand it the config in the sfunction json is given directly to the AWS CLI so I have specified the request parameters in the format method request querystring startYear true However I am receiving an Invalid mapping expression specified true error I have also tried specifying the config as method request querystring startYear true with the same result sfunction json Any ideas Thanks in advance "
40692799,"Lambda Function does not return until async request ends","https://stackoverflow.com/questions/40692799/lambda-function-does-not-return-until-async-request-ends","{javascript,node.js,aws-lambda,node-request,serverless-framework}","2016-11-19 12:19:42+02","2024-05-17 05:04:32.744897+03","I want to make a function that calls an API third party and returns immediately but it is waiting for API response Here is the code sample Moreover if i try to call context succeed instead of cb it even prevent API call and function return immediately without calling the API I have also created an issue on GitHub Additional info"
36127475,"What local node-version is recommended for AWS Lambda and Serverless","https://stackoverflow.com/questions/36127475/what-local-node-version-is-recommended-for-aws-lambda-and-serverless","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2016-03-21 09:40:30+02","2024-05-17 05:03:35.379822+03","Starting with AWSLambda and the Serverless Framework i am confused about node versions The AWS help site says that on 21March2016 AWS Lambda supports the following runtime versions Node js v0 10 36 So i did install Node js v0 10 36 on my local machine Installing the latest v 0 4 2 serverless framework via it gives the following warning npm WARN engine [email protected] wanted node4 0 current node0 10 36npm1 4 28 I thought having the same version locally as on AWS might help having a consistent development environment Am i wrong What Node js version should i run locally to get the most out of serverless"
36551410,"run lambda function with input parameter in serverless framework command line","https://stackoverflow.com/questions/36551410/run-lambda-function-with-input-parameter-in-serverless-framework-command-line","{aws-lambda,serverless-framework}","2016-04-11 14:21:11+03","2024-05-17 05:03:36.338059+03","I have started a aws project with help of serverless framework but i have one question regarding run lambda function How can I run lambda function with input parameters I can do it via amazon console lambda test configurationtest event but I cannot find a correspondning function in serverless does anyone know Thanks"
36559256,"Serverless getting started demo errors on deploy","https://stackoverflow.com/questions/36559256/serverless-getting-started-demo-errors-on-deploy","{serverless-framework}","2016-04-11 21:07:35+03","2024-05-17 05:03:37.016415+03","I am following the instructions for the serverless quickstart demo httpsgithub comserverlessserverlessstarter and I am getting an error on serverless dash deploy What am I doing wrong it seems like such a basic walkthrough "
36748324,"How to pass a JSON string to API Gateway as query Parameter","https://stackoverflow.com/questions/36748324/how-to-pass-a-json-string-to-api-gateway-as-query-parameter","{json,velocity,aws-lambda,aws-api-gateway,serverless-framework}","2016-04-20 15:20:18+03","2024-05-17 05:03:37.998775+03","How can i pass a JSON object like val 1 to my Lambda function as a query parameter Following Standardized way to serialize JSON to query string i URLencoded my JSON object and requested the following mysite compathjson7B22val223A2017D As requestTemplates i tried the following two options But i got this error message message Could not parse request body into json Unexpected character \v\ code 118 was expecting comma to separate OBJECT entries\n at [Source [B line 1 column 47] If i do not encode the query string so mysite compathjson val1 i get a 400 error"
36783641,"AWS serverless projects cannot be shared via Git?","https://stackoverflow.com/questions/36783641/aws-serverless-projects-cannot-be-shared-via-git","{amazon-web-services,github,serverless-framework}","2016-04-22 02:17:53+03","2024-05-17 05:03:38.951083+03","sfunction json needs that variable customRole myLambdaRole BUT if somebody else get my serverless project via git clone he does not get the _meta folder Now he calls serverless project init with the same stage and region That creates the _meta folder BUT it does NOT populate the svariablescommon json with the Output Variables from sresourcescf json Now he tries to deploy with serverless dash deploy and that errors Unfortunately even calling serverless resources deploy will not fix the problem because it says and the svariablescommon json is still not populated with the necessary output variables What that means is basically that it is impossible to work as a team together at the same stage in the same region with the same resources when sharing the project via Git So since we do not want to check in the _meta folder into Git I would suggest that a serverless project init call should make sure that all the Output Variables are properly fetched and populated in the svariablescommon json This is pretty important or how do you guys share projects via Git "
36853719,"serverless variables in local tests","https://stackoverflow.com/questions/36853719/serverless-variables-in-local-tests","{aws-lambda,serverless-framework}","2016-04-26 01:13:43+03","2024-05-17 05:03:39.821715+03","serverless offers a nice workflow for using variables in both the runtime function code as well as in the AWS configuration of Lambda functions and API Gateway routing This is described at httpdocs serverless comdocstemplatesvariables and How to define variables in a DRY way I am having trouble figuring out how to assign variables when I am testing my Lambda functions locally using sls function run s stage The function runs fine when I run the test on Lambda by including the d option but it fails without it because a necessary variable has not been assigned serverless provides these messages I am using DRY variables as described in link 2 Specifically svariablesaguldmanuseast1 json functionsfn1sfunction json functionsfn1handler js Any advice Thanks "
36877647,"How to create and assign API Key to a created stage-API using serverless?","https://stackoverflow.com/questions/36877647/how-to-create-and-assign-api-key-to-a-created-stage-api-using-serverless","{amazon-web-services,aws-api-gateway,serverless-framework}","2016-04-26 23:33:50+03","2024-05-17 05:03:40.585367+03","I want to create a secure APIG using serverless in my current sfuction json I have already have And in my sresourcescf json I already have It correctly creates all a Lambda an APIG for that lambda including CORS and the API Key but I need to manually assign the key to the generated APIGStage do you have any ideas on how could I do this automatically using serverless I have read the AWS documentation about the feature I want and It seems it is possible from here AWS CloudFormation API Key The documentation shows that it can be done by But I do not know how add a reference to the APIG automatically created by serverless and how to wait for that APIG is created "
36902720,"MongoDB NodeJS driver's browserify compatibility (debugging help)","https://stackoverflow.com/questions/36902720/mongodb-nodejs-drivers-browserify-compatibility-debugging-help","{node.js,lambda,node-mongodb-native,serverless-framework}","2016-04-27 23:35:34+03","2024-05-17 05:03:41.688993+03","Trying to figure out what is the problem that I cannot browserify mongodb native nodejs driver I am assuming there is something wrong here in my setup as I tried googling if there was any known current compatibility problem with MongoDB NodeJS driver and browserify but nothing conclusive came up after couple days trying After running my code on browserify I get a I read on the drivers github repo that this driver depends on some native functionality and on kerberos and nodegyp I installed the driver on my machine without any problem with npm install mongodb save so I do not know if that might be the case I ran out of debugging ideas so I am turning to the blessed SO community I am developing for AWS Lambda using the Serverless Framework so I am concerned if the driver will actually run on a Lambda instance as the driver requires some native functionality Here is my testing code I was using some ES6 syntax like import and let bc in my original code I also transform it with babelify but removed so just plain browserify creates some problem I ran it like If someone can shed a light on this I would appreciate Thanks"
41620437,"How to continue deploy if DynamoDb table already exists","https://stackoverflow.com/questions/41620437/how-to-continue-deploy-if-dynamodb-table-already-exists","{lambda,amazon-dynamodb,serverless-framework}","2017-01-12 18:29:52+02","2024-05-17 05:04:43.720843+03","I would like to continue the deployment or force even if a resource already exists Atm I got this error"
36944330,"How do I deploy a function in python with its dependencies?","https://stackoverflow.com/questions/36944330/how-do-i-deploy-a-function-in-python-with-its-dependencies","{python,amazon-web-services,aws-lambda,serverless-framework}","2016-04-29 17:33:00+03","2024-05-17 05:03:42.688136+03","I am trying to use the serverless framework to create and deploy an AWS Lambda function I created a folder named vendored in the root of the project and installed using pip install the function dependencies However whenever I try to run it using serverless function run I got an error Serverless Running isNewUser Serverless WARNING This variable is not defined region Serverless Serverless Failed This Error Was Returned Serverless exception [Traceback most recent call last \n File \homefernando nvmversionsnodev5 10 1binserverlessrunpythonhandler\ line 170 in \n handler import_program_as_module path \n File \homefernando nvmversionsnodev5 10 1binserverlessrunpythonhandler\ line 149 in import_program_as_module\n module make_module_from_file lambda_handler handler_file \n File \homefernando nvmversionsnodev5 10 1binserverlessrunpythonhandler\ line 129 in make_module_from_file\n py_source_description\n File \homefernandoworkspaceoscacisNewUserhandler py\ line 11 in \n from vtex order import Order\n ImportError No module named vtex order\n] success false Serverless Exception message from Python Serverless Traceback most recent call last File homefernando nvmversionsnodev5 10 1binserverlessrunpythonhandler line 170 in handler import_program_as_module path File homefernando nvmversionsnodev5 10 1binserverlessrunpythonhandler line 149 in import_program_as_module module make_module_from_file lambda_handler handler_file File homefernando nvmversionsnodev5 10 1binserverlessrunpythonhandler line 129 in make_module_from_file py_source_description File homefernandoworkspaceoscacisNewUserhandler py line 11 in from vtex order import Order ImportError No module named vtex order ` vtex order is a module imported in handler py The structure of my project is something like Is there anything I am doing wrong Should I somehow configure my function to include the dependencies from vendored"
37094695,"How should I connect to a Redis instance from an AWS Lambda function?","https://stackoverflow.com/questions/37094695/how-should-i-connect-to-a-redis-instance-from-an-aws-lambda-function","{node.js,amazon-web-services,redis,aws-lambda,serverless-framework}","2016-05-07 23:27:26+03","2024-05-17 05:03:43.820026+03","I am trying to build an API for a singlepage web app using AWS Lambda and the Serverless Framework I want to use Redis Cloud for storage mostly for its combination of speed and data persistence I may use more Redis Cloud features in the future so I would prefer to avoid using ElastiCache for this My Redis Cloud instance is running in the same AWS region as my function I have a function called related that takes a hashtag from a GET request to an API endpoint and checks to see if there is an entry for it in the database If it is there it should return the results immediately If not it should query RiteTag write the results to Redis and then return the results to the user I am pretty new to this so I am probably doing something adorably naive Heres the event handler Heres the librelated js file All of this works as expected to a point If I run the function locally using sls function run related I have no problems whatsoevertags are read from and written to the Redis database as they should be However when I deploy it using sls dash deploy it works the first time it is run after deployment and then stops working All subsequent attempts to run it simply return null to the browser or Postman or curl or the web app This is true regardless of whether the tag I use for testing is already in the database or not If I then redeploy making no changes to the function itself it works againonce On my local machine the function first logs Connected true to the console then the results of the query then Connection closed On AWS it logs Connected true then the results of the query and that is it On the second run it logs Connection closed and nothing else On the third and all subsequent runs it logs nothing at all Neither environment ever reports any errors It seems pretty clear that the problem is with the connection to Redis If I do not close it in the callbacks then subsequent attempts to call the function just time out I have also tried using redis unref instead of redis quit but that did not seem to make any difference Any help would be greatly appreciated "
37108120,"How do I use CloudFormation resources in a Lambda function?","https://stackoverflow.com/questions/37108120/how-do-i-use-cloudformation-resources-in-a-lambda-function","{aws-lambda,aws-cloudformation,amazon-elasticache,serverless-framework}","2016-05-09 05:14:10+03","2024-05-17 05:03:44.476335+03","I have added a Redis ElastiCache section to my sresourcecf json a CloudFormation template and selected its hostname as an output I can get CloudFormation to output the Redis server host when running sls resources deploy but how can I access that output from within a Lambda function There is nothing in this starter project template that refers to that IamRoleArnLambda which came with the example project According to the docs templates are only usable for project configuration they are not accessible from Lambda functions Templates Variables are for Configuration Only Templates and variables are used for configuration of the project only This information is not usable in your lambda functions To set variables which can be used by your lambda functions use environment variables So then how do I set an environment variable to the hostname of the ElastiCache server after it has been created"
37169377,"Serverless Framework: How to add external NPM packages?","https://stackoverflow.com/questions/37169377/serverless-framework-how-to-add-external-npm-packages","{node.js,aws-lambda,serverless-framework}","2016-05-11 17:20:43+03","2024-05-17 05:03:45.521507+03","My situation is that I am having a bit of trouble in adding external NPM packages to my Serverless Framework project specific package is geopoint I went to the root folder of the Serverless project and ran npm install geopoint save package json got updated with dependencies geopoint ^1 0 1 and node_modules folder was created My folder structure looks like this rootprojectfolder functions geospatial handler js node_modules geopoint In my functionsgeospatialhandler js I declared the geopoint module with The lambda console returns an error of How can I properly add external NPM modules to a Serverless Framework project"
37297339,"AWS API Gateway default response and Trigger AWS Lambda","https://stackoverflow.com/questions/37297339/aws-api-gateway-default-response-and-trigger-aws-lambda","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2016-05-18 10:47:47+03","2024-05-17 05:03:46.344275+03","I have been experimenting with AWS API Gateway and AWS Lambda to try out a serverless architecture Have been going through blogs and AWS documentation Have tried out sample GETPOST But I have the following requirement w r t tracking user events from my custom application As per the documentation I understand a I can post events to API end point b On GETPOST trigger an AWS Lambda Function Respond back from AWS Lambda function to API request I wanted to change the above and modify it to a Post events to API end point a 0 Respond back acknowledging that request is received [Say fine ] b Trigger AWS Lambda function to process the event payload Please share across suggestions on how to achieve the same "
37347003,"Serverless framework with DynamoDB: Lambda function work, but data hasn't been saved to DynamoDB","https://stackoverflow.com/questions/37347003/serverless-framework-with-dynamodb-lambda-function-work-but-data-hasnt-been-s","{amazon-dynamodb,aws-lambda,serverless-framework}","2016-05-20 12:40:32+03","2024-05-17 05:03:47.564405+03","I have dealing with some trouble serverless framework and DynamoDB After my lambda function executed the context succeed result would return the result but nothing write into the DynamoDB Here is the link of demo repo I have read this question And I added the resource to the sresourcescf json then serverless resources deploy again After sending the request it still do nothing with DynamoDB Heres the thing I have done Create a table posts with primary key in specific region Attach AdministratorAccess to my IAM role I know it is bad to do that Add Effect Allow Action [] Resourcearnawsdynamodb region table to the sresourcescf json Do there anything I still misunderstand"
37403141,"How to optimize AWS Lambda?","https://stackoverflow.com/questions/37403141/how-to-optimize-aws-lambda","{node.js,aws-lambda,serverless-framework}","2016-05-24 01:48:20+03","2024-05-17 05:03:48.658667+03","I am currently building web API using AWS Lambda with Serverless Framework In my lambda functions each of them connects to Redis elasticache and RDB Aurora RDS or DynamoDB to retrieve data or write new data And all my lambda functions are running in my VPC Everything works fine except that when a lambda function is first executed or executed a while after last execution it takes quite a long time 13 seconds to execute the lambda function or sometimes it even respond with a gateway timeout error around 30 seconds even though my lambda functions are configured to 60 seconds timeout As stated in here I assume 13 seconds is for initializing a new container However I wonder if there is a way to reduce this time because 13 seconds or gateway timeout is not really an ideal for production use "
37423542,"How to use endpoint URL for API Gateway in client hosted at S3?","https://stackoverflow.com/questions/37423542/how-to-use-endpoint-url-for-api-gateway-in-client-hosted-at-s3","{serverless-framework}","2016-05-24 20:45:50+03","2024-05-17 05:03:49.158702+03","I am working on a serverless app that would involve SPA client hosted at S3 calling Lambda functions on the backend via API Gateway When I deploy my Lambda function with Servless it prints out endpoint URL like httpsia6dga0can executeapi useast1 amazonaws comstagenamefnname That is great but how can I wire it together with my client code hosted at S3 I am looking for a fully automated solution ideally something that does not involve manually copying this URL anywhere or modifying the source in a way that would make it unusable with multiple stages deployments "
37426088,"AWS Lambda Duration vs Function run time","https://stackoverflow.com/questions/37426088/aws-lambda-duration-vs-function-run-time","{javascript,node.js,amazon-web-services,lambda,serverless-framework}","2016-05-25 00:39:15+03","2024-05-17 05:03:50.08948+03","I noticed a duration vs function run time issue in Cloud watch log with my Nodejs Lambda function I am using Serverless plugin to deploycode my functions This is my lambda function code In cloud watch logs Im getting the following I am wondering why the function run time is at 477ms however the duration is at 1866ms Is there something in my code I need to call to end the Lamdba function earlier Thanks"
37612655,"upload dynamically generated pdf from aws-lambda into aws-s3","https://stackoverflow.com/questions/37612655/upload-dynamically-generated-pdf-from-aws-lambda-into-aws-s3","{angularjs,node.js,amazon-s3,aws-lambda,serverless-framework}","2016-06-03 11:01:58+03","2024-05-17 05:03:50.980093+03","In my serverless app I want to create pdf which is generated dynamically and then upload that created pdf into aws s3 My problem is when a url is returned to clientside code from server uploaded url does not working My code is given below Clientside javascript code angular js Serverless Code"
37669198,"How to load a lib folder in aws lambda?","https://stackoverflow.com/questions/37669198/how-to-load-a-lib-folder-in-aws-lambda","{node.js,aws-lambda,serverless-framework}","2016-06-07 01:34:26+03","2024-05-17 05:03:52.344649+03","In Serverless I have the following folder structure When I try to load util js from function_1 js using it works from the serverless CLI serverless function run function_1 However in lambdaapigateway it cannot find libutil js This is the error Error Cannot find module libutil How can I fix it"
37748423,"How do I add a Request Model for a POST end point in serverless framework","https://stackoverflow.com/questions/37748423/how-do-i-add-a-request-model-for-a-post-end-point-in-serverless-framework","{node.js,aws-lambda,aws-api-gateway,serverless-framework}","2016-06-10 12:33:57+03","2024-05-17 05:03:53.648471+03","How do I add a Request Model for a POST end point so that it appears in the API Gateway when I then export the API for iOS I can manually add the request model in AWS but since this is deployed through server less I need it in there I see there is a responseModels for defining endpoints but I cannot see a requestModels My sfunctions json has this In AWS APIGateway I then need to manually add the request model as When I then export the API for iOS I do get the correct method in order to send a graphQL query and it works But since I want to deploy this with the serverless deploy I cannot keep adding this manually And I need the API endpoint call to go through the APIGateway SDK fro iOS in order to use the cognito credentials rather than manually doing a https "
37779324,"How to troubleshoot Serverless IAM permissions","https://stackoverflow.com/questions/37779324/how-to-troubleshoot-serverless-iam-permissions","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework}","2016-06-12 21:38:12+03","2024-05-17 05:03:54.207832+03","After setting up Serverless 0 5 6 on OSX 10 11 Node v4 4 5 NPM 3 9 5 I run serverless project install serverlessgraphqlblog and provide IAM credentials for a new profile I get When I use an existing set of credentials I get QUESTION How can I troubleshoot what is wrong with the security token Is there a verbose option where I can buy a vowel"
37815711,"How to get entire request headers/querystrings in Serverless framework?","https://stackoverflow.com/questions/37815711/how-to-get-entire-request-headers-querystrings-in-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework}","2016-06-14 15:04:03+03","2024-05-17 05:03:55.28273+03","I started to try Serverless framework but it looks little confusable for some points One of them is request headersquerystrings I made request template like this stemplates json sfunction json With this setting I expected to get the request something like this But in real what I get is This results inconvenient to handle I know also method like below sfunction json But this is also inconvenient need to specify all parameters in configuration Is there any way to get entire requestheaders querystrings as json object in lambda function I tried to change stemplate json to But result was same And in AWS document what I want can be seen here httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewaymappingtemplatereference htmlinputvariablereference But I do not know how to set this setting to Serverless frameworks stemplates json "
37822230,"How can I response exact error status code and message by Serverless framework?","https://stackoverflow.com/questions/37822230/how-can-i-response-exact-error-status-code-and-message-by-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework}","2016-06-14 21:15:11+03","2024-05-17 05:03:56.572985+03","I created Serverless frameworks function by command below Then schelton code was created and response template is like below sfunction json But when I returned error object to callback function like cb err null then error message was properly shown but statusCode is 200 If I changed to call callback function like cb 400 err then statusCode properly returns 400 but response body is not good errorMessage400 Are there any good settings to show bot statusCode Not only 400 but also 401403404500 and so on and error messages"
37883864,"Starting AWS Serverless Framework can't install starter sample","https://stackoverflow.com/questions/37883864/starting-aws-serverless-framework-cant-install-starter-sample","{node.js,amazon-web-services,serverless-framework}","2016-06-17 14:15:38+03","2024-05-17 05:03:57.399531+03","I want to run the serverless framework for use with my AWS solution But the sample starter is not installing properly why"
37935040,"AWS Serverless framework use GIT for collaboration","https://stackoverflow.com/questions/37935040/aws-serverless-framework-use-git-for-collaboration","{git,amazon-web-services,serverless-framework}","2016-06-21 03:23:38+03","2024-05-17 05:03:58.426194+03","I have created a sample project on my laptop using serverless AWS framework Working fine Now I pushed the project to my GIT account Then I pulled that project on another computer So how can I Install the project on the new computer Is this the way to manage collaboration with GIT what is preferred Thanks "
41633800,"Use Cognito locally [offline]","https://stackoverflow.com/questions/41633800/use-cognito-locally-offline","{amazon-web-services,amazon-cognito,serverless-framework}","2017-01-13 11:37:43+02","2024-05-17 05:04:44.277734+03","I have got a feeling this is a noob question Is there a way to simulate the use of Cognito User pools locally so offline I have got a feeling that resorting to aws cognito normal user pools while developing is bit unnecessary I now that with serverless there is a plugin to use it offline but did not found one for cognito "
38156623,"How could I go about signing a response from API Gateway and Lambda?","https://stackoverflow.com/questions/38156623/how-could-i-go-about-signing-a-response-from-api-gateway-and-lambda","{json,amazon-web-services,lambda,aws-api-gateway,serverless-framework}","2016-07-02 04:55:20+03","2024-05-17 05:03:59.492932+03","We are designing an iOS game where some users will likely modify responses coming back from the serverless created backedend to cheat via MITM fake certs To help counteract this to some extent we would like to have a signature included which will be hard to figure out This implementation is all completed and worked on ServerlessOffline but we are having a hard time returning raw JSON from out of Lambda due to restrictions in API Gateway We need to be able to have a snapshot of our JSON in order to ensure that the stringified version is in the same order when we take a checksum Otherwise it might be calculated differently on the iOS side where it is already a string prior to being inflated into an object Is there any possible way to return a string and not have API Gateway escape it For instance yields a correct response on ServerlessOffline as it allows you to return a string When actually hosted in APIGateway we get something escaped such as I do know of ways to pass in a block like this but I do not want it to be parsed and restringified and risk the order changing due to the checksum I am also aware that there are good javascript frameworks for getting hases of objects but this is obviously not available client side on iOS "
38206954,"How to generate API html documentation from mocha BDD tests?","https://stackoverflow.com/questions/38206954/how-to-generate-api-html-documentation-from-mocha-bdd-tests","{node.js,mocha.js,apiblueprint,api-doc,serverless-framework}","2016-07-05 15:09:43+03","2024-05-17 05:04:00.395166+03","I worked on a project with Spring Boot java framework where guys automated API docs generation Every time you run BDDIntegration style tests there was api blue print file created out from mocha tests Then it ran generatehtmlfromapi blueprint I liked this approach as it has two advantages Has anyone tried and has working example for node projects I found apidoctest plugin however its documentation is limited Ideally I would like just to run Which would generate apidoc html and place under testtmp I have looked at swagger but I really do not want to specify endpoint information twice and it would really be awesome just write once in BDD tests and have double result tests docs at the same time "
38238496,"Best Practices in Serverless Framework","https://stackoverflow.com/questions/38238496/best-practices-in-serverless-framework","{node.js,amazon-dynamodb,serverless-framework}","2016-07-07 06:04:39+03","2024-05-17 05:04:01.837564+03","I am new beginner in serverless framwork When study Best Practices in Serverless here I have a question about Initialize external services outside of your Lambda code How to implement it For example Below code in handler js The question is that how to initial DynamoDB outside of my Lambda code Update 2 Is below code optimized Handler js survey js"
38271477,"p2p direct data exchange...via HTTPS?","https://stackoverflow.com/questions/38271477/p2p-direct-data-exchange-via-https","{https,p2p,serverless-framework}","2016-07-08 16:26:27+03","2024-05-17 05:04:02.303022+03","Is there any protocol API or software in existence that can send dataIMetc directly from one device to another with no server Can you not use HTTP GETPOSTDELETE directly between two devices when their device data is known to the user s I would very much like to know if there is ANY softwareprotocols that can do this thank you "
38327946,"Changing default runtime serverless v1.0","https://stackoverflow.com/questions/38327946/changing-default-runtime-serverless-v1-0","{python,lambda,serverless-framework}","2016-07-12 11:42:50+03","2024-05-17 05:04:03.379174+03","Trying to use serverless v1 0 alpha but cannot set the runtime variable I tried setting it in serverless yaml as But it always shows a runtime of nodejs I also tried python2 7 and that did not work as well I can get it to work no problem in v0 5 by changing runtime in sfunction json I figured it would be the same Folder with the files is as such handler py and serverless env yaml are boilerplate Thanks "
38363618,"Serverless: Deploy Endpoint with Custom Authorizer - Name Not Found Error","https://stackoverflow.com/questions/38363618/serverless-deploy-endpoint-with-custom-authorizer-name-not-found-error","{amazon-web-services,lambda,serverless-framework}","2016-07-14 00:11:14+03","2024-05-17 05:04:03.828319+03","I am working with the Serverless framework deploying a function with a custom authorizer The issue is similar to the one described in this thread but there is no solution detailed Basically I have a custom authorizer and function set up as specd in the documentation yet when I deploy the function with endpoint the error I get is this error Here is my sfunction json portion for the endpoint Here is the entire sfunction json for the custom authorizer Not sure if it matters but the function and the custom authorizer are in the same project but different folders i e the authorizer is not a subfolder to the function Lastly if I manually add the custom authorizer everything works fine Thanks for any help or direction EDIT After additional research I believe the issue is related to the authorizer portion of the sfunction json This is in the header of the file not in the endpoint I do not see a sample of this setting and I am not sure what to put here Any ideas or an example would be appreciated "
38393872,"Lambda and API gateway mapping","https://stackoverflow.com/questions/38393872/lambda-and-api-gateway-mapping","{aws-lambda,aws-api-gateway,serverless-framework}","2016-07-15 10:30:34+03","2024-05-17 05:04:04.922924+03","I want to return a value from handler to API gateway response header Handler js sfunction json in endpoints This can work But I want to know how to use integration response header LastModified Is my handler callback formate wrong Edit sfunction json in endpoints integration response header LastModified This does not work I want to know specific handler return formate to pass data to integration response header LastModified "
39867904,"Serverless deploying multiple functions","https://stackoverflow.com/questions/39867904/serverless-deploying-multiple-functions","{aws-lambda,serverless-framework}","2016-10-05 07:30:41+03","2024-05-17 05:04:12.898081+03","I have recently updated my serverless project and I have found that many things have changed in the last few updates httpsserverless com I do not fully understand whats the correct way to have multiple lambda functions and api gateway endpoints related to the same project With the old serverless I have every lambda and endpoint as a completely seperate function this worked pretty well for me I cannot seem to do this anymore if I try my second lambda function overrides my first presumably because my service name for both is the same My service name is the same because I want both rest endpoints in the same API in API Gateway Since serverless creates the API name based on the service name So then I tried to add both functions to the same Service this worked for the most part except that now I need to include my custom role statement for all my functions into the same role because this one role is now being linked to all my functions Effectively giving more permissions to each individual function than it should have The other issue is that all my handler files for the different functions are being put into each functions deployment bundle So basically I am not sure what is the correct approach to have multiple functions that relate to the same project but are separate in functionality It used to make sense now does not If anybody can give me some pointers please Thanks"
39500865,"Not getting a specific header from AWS API Gateway","https://stackoverflow.com/questions/39500865/not-getting-a-specific-header-from-aws-api-gateway","{amazon-web-services,cors,aws-lambda,aws-api-gateway,serverless-framework}","2016-09-14 22:58:39+03","2024-05-17 05:04:05.283547+03","I have built an SPA which has react as its frontend and the serverless AWS lambda framework has its backend The react app has been deployed in S3 This app communicates to the lambda functions serverless through AWS API Gateway Since the react app which is in S3 domain and the backend AWS API Gateway AWS lambda DynamoDB is in different domain CORS problem occurs To rectify the CORS problem I have hardcoded the AccessControlAllowOrigin header as react apps domain URL So the backend understands the origin is from known source and resolves the originCORS error But There is another header called AccessControlAllowCredentials which has to be true to access requests cookies IF AccessControlAllowOrigin is then AccessControlAllowCredentials must be false for privacy concern so I have set AccessControlAllowOrigin to Reacts domain then AccessControlAllowCredentials may be true I added AccessControlAllowCredentials header in APIgateway response method and in integration response method The problem is I am not getting the AccessControlAllowCredentials header in client side as response I am getting all other headers except this one Testing API Gateway console gives the header but testing on postman and in browser does not receive the above header The headers in client are but on testing AWS API Gateway gives this The problem is AccessControlAllowCredentials header is not retrieved as response in browser and in postman but appears when testing in AWS API Gateway console What might be the problem "
39507004,"How to add a custom domain for a serverless-1.0.0 framework defined/deployed API?","https://stackoverflow.com/questions/39507004/how-to-add-a-custom-domain-for-a-serverless-1-0-0-framework-defined-deployed-api","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2016-09-15 09:01:52+03","2024-05-17 05:04:06.308306+03","Serverless1 0 0rc 1 enables to deploy an API to be accessible via a AWS API Gateway The question I need the deployed API exposed via a custom domain with SSL certificate instead of the randomly assigned one URL httpsqwertylgbtqert executeapi Can that be done from within serverless yml or serverless framework Here is my simple service serverless yml definition There is an question which relates to this the answer here but does not provide an applicable answers Especially how to assign the custom domain from within the serverless yml itself It thought if it is possible to create a AWSRoute53 resource and leverage that however I do not know how to do that in serverless "
39618450,"Serverless Deployment of Common Functions Package in AWS Lambda","https://stackoverflow.com/questions/39618450/serverless-deployment-of-common-functions-package-in-aws-lambda","{aws-lambda,serverless-framework}","2016-09-21 13:47:46+03","2024-05-17 05:04:07.411418+03","I have several AWS Lambda functions in Serverless and found I was writing the same sendEmail function over and over Just setting up the client and composing the SES response with a few minor tweaks I decided it would be best to abstract this to a single function that is called by the others My folder structure resembles My question is how do I call this email function from other deployments Is it as simple as including a fullyqualified path to it in the calling functions serverless yml file which already has the proper SES IAM permissions or will this need its own serverless yml file with a trigger instead of an event schedule Can I even make use of it from other functions if it belongs to its own deployment Obviously I would prefer the former but I am confused as to how it should all come together "
39627727,"API Gateway Response Download File using Node, PDFMake, Serverless","https://stackoverflow.com/questions/39627727/api-gateway-response-download-file-using-node-pdfmake-serverless","{node.js,aws-lambda,aws-api-gateway,pdfmake,serverless-framework}","2016-09-21 22:55:02+03","2024-05-17 05:04:08.09084+03","I am in the process of migrating my NodeJS project to API Gateway and I cannot figure out how to download a file from Lambda Here is a snippet of the response code on my local Node project Piping to the response I was able to get back a PDF Here is a snippet of my lambda function using serverless Here is the endpoint in my serverless yml I do not know how to get reference to the response object in Lambda to pipe to Is that possible Is there another way Update I ended up solving this issue by returning the base64 encoded PDF binary in a JSON response and decoding on the client Note using the base64 decoding in the response mapping template did not work Sample code"
39676532,"Adding API to Usage Plan using Serverless Framework","https://stackoverflow.com/questions/39676532/adding-api-to-usage-plan-using-serverless-framework","{python,amazon-web-services,aws-api-gateway,serverless-framework}","2016-09-24 12:50:40+03","2024-05-17 05:04:09.046088+03","My serverless yaml file is as follows I want to add this API to a Usage Plan How is this done"
39774436,"How to import Python dependencies in Serverless v1.0","https://stackoverflow.com/questions/39774436/how-to-import-python-dependencies-in-serverless-v1-0","{python,serverless-framework}","2016-09-29 15:30:41+03","2024-05-17 05:04:10.089478+03","Language Python Framework Serverless v1 0 Typically I would run pip freeze requirements txt in the project root How can I get these dependencies packaged into every deploy"
39793242,"Serverless Response Template with Status code","https://stackoverflow.com/questions/39793242/serverless-response-template-with-status-code","{serverless-framework}","2016-09-30 13:56:28+03","2024-05-17 05:04:11.16912+03","I want to create response template for redirect web page using 302 http status I can do it manually with aws lambda user interface but i need to do it with serverless framework version v1 I tried following code But it is not working How to write response template with status code "
39854690,"Connect Lambda to Elasticache using Serverless framework","https://stackoverflow.com/questions/39854690/connect-lambda-to-elasticache-using-serverless-framework","{amazon-web-services,redis,aws-lambda,serverless-framework}","2016-10-04 14:17:34+03","2024-05-17 05:04:11.810251+03","I am trying to access AWS Elasticache cluster from a Lambda function using Serverless framework v 0 5 6 without loosing access to Dynamodb I have tried using this Gist with no luck Inside the Lambda function first thing I do is to connect to the Redis instance but I keep getting timeouts I have double checked CloudFormation outputs variables and its visibility inside the function and Lambda RolesPolicies for VPC but still nothing I have not found either any guide on how to create VPCs and Security Groups with CloudFormation and Serverless in order to create Public and Private subnets NATs and Internet gateways as suggested here Can anyone help"
40463255,"altering paths inside serverless artifact","https://stackoverflow.com/questions/40463255/altering-paths-inside-serverless-artifact","{node.js,lambda,serverless-framework}","2016-11-07 10:44:58+02","2024-05-17 05:04:26.869665+03","My topology is as I have a project that is perfect for serverless nodelambda Managed to setup stages and configurations as needed with one exception We use config cfg in project root for local testing with app js and config files inside the stages for those respectful configurations One way to do this is to move local configuration into another file then use a shell script to copy the target config into the project root before packaging Would it be possible to specify paths so that serverless takes config cfg from the directory where one is located and packages it into the project root somehow Thank you "
39937095,"Mocha tests in serverless AWS Lambda Express App","https://stackoverflow.com/questions/39937095/mocha-tests-in-serverless-aws-lambda-express-app","{node.js,amazon-web-services,mocha.js,aws-lambda,serverless-framework}","2016-10-08 20:33:26+03","2024-05-17 05:04:13.847855+03","I have a nodejs App based on expressjs that I am testing using gruntjs as task runner and mochajs as test framework Thus I have written component integration and unit tests that are executed via grunt test or directly via mocha testcomponentv1apiX locally when I develop and on a test VM during deployment as part of a CI process Now when thinking about moving this app to an AWS Lambda aka going serverless the following questions come to mind regarding my testing and CI process note that I am going to use awsserverlessexpress and thus will not have to write lambda functions explicitely 1 How to implement the component e2e tests that are done via HTTP api requests 2 How to implement the integration unit tests that only load test a part of the app 3 How to integrate both with a new CI flow that rejects deployment if any of the tests fail I consider question 1 mostly solved there are many approaches to test AWS Lambdas from the outside You can do lambatolambda testing calling your lambdatotest from a testlambda directly or you can call the lambdatotest via AWS API Gateway using HTTP from testlambda as described here You can also use the serverlessmochaplugin for local lambda testing if using serverless It is 2 where it gets interesting once your lambda is deployed it is a black box You cannot execute anything that is not declared as lambda interface explicitely How do I save or reimplement my existing mocha unit integration tests Same for 3 how do you make your CI run all the tests on deployment and reject deployment if they fail Here my own approach I would make my node app serverless only if in TEST environment Simply let it work as classical node HTTP service by making all serverless changes conditional depending on environment Since few changes are required this should be possible and maintainable Now I can run the tests as usual locally and on deployment with grunt and mocha Then I can still have final lambdatolambda testing if I want to be sure the serverless version works as well "
39956794,"serverless rest api gateway nodejs","https://stackoverflow.com/questions/39956794/serverless-rest-api-gateway-nodejs","{amazon-web-services,aws-lambda,serverless-framework}","2016-10-10 11:03:01+03","2024-05-17 05:04:14.806958+03","hey how can i get params data but event some_data print undefine anyone know whats wrong with the code"
39978877,"How do you reuse S3 buckets when deploying Lambdas with Serverless?","https://stackoverflow.com/questions/39978877/how-do-you-reuse-s3-buckets-when-deploying-lambdas-with-serverless","{amazon-web-services,aws-lambda,serverless-framework}","2016-10-11 13:51:53+03","2024-05-17 05:04:15.615284+03","Recently we have adopted Serverless to handle the deployment of Lambda functions in our AWS environment but for every unique function that is deployed a new S3 bucket is created This is inefficient and having a single bucket for every stack that Serverless creates would be ideal Is there any way to do this from within the serverless yml file I have attempted the following yml file configurations for resources without any success 1 Listing the bucket as a resource to use in the yml Output 2 Attempting to reference the bucket in the yml Output"
40070216,"Serverless Framework v1.0.0 GA - Environment variables within Python Handlers","https://stackoverflow.com/questions/40070216/serverless-framework-v1-0-0-ga-environment-variables-within-python-handlers","{python,aws-lambda,serverless-framework}","2016-10-16 12:24:04+03","2024-05-17 05:04:16.301628+03","What is the best practice in regards to env variable with serverless framework Ive heard some discussion on the python dotenv environment but Im not too experience with python so looking for guidance on setting this up and using an example would be good For example I want to have an environment variable for db_arn in my serverless handler function db_arn ec2xxxxxxxxx euwest1 compute amazonaws com def getCustomer connect using db_arn Id like db_arn to be an environment variable dev test prod for example rather then the hard coded string How can this be done with dotenv and how would you organise the serverless service to enable this Help much welcome thanks "
40071125,"Serverless Framework - Python and Requirements.txt","https://stackoverflow.com/questions/40071125/serverless-framework-python-and-requirements-txt","{aws-lambda,serverless-framework}","2016-10-16 13:58:48+03","2024-05-17 05:04:17.316011+03","Using the serverless framework v1 0 0 I have a requirements txt in my service root with the contents being the list of dependant python packages e g requests However my resulting deployed function fails as it seems these dependencies are not installed as part of the packaging Unable to import module handler No module named requests I assume it is serverless that does the pip install but my resulting zip file is small and clearly its not doing it either by design or my fault as I am missing something Is it because its Lambda that does this If so what am I missing Is there documentation on what is required to do this and how it works Is it serverless that pip installs these or on aws lambda side"
40174530,"How to disable CloudFront caching in serverless.yml","https://stackoverflow.com/questions/40174530/how-to-disable-cloudfront-caching-in-serverless-yml","{amazon-web-services,aws-lambda,serverless-framework}","2016-10-21 10:41:58+03","2024-05-17 05:04:18.291742+03","Serverless1 0 0 enables deploying an API to be accessible via a AWS API Gateway with a custom domain The question With my serverless yml I need to disable CloudFronts caching e g by setting some zero TTL for caching headers is there any other way Can that be done from within serverless yml or serverless framework"
40216890,"How to handle errors in serverless","https://stackoverflow.com/questions/40216890/how-to-handle-errors-in-serverless","{rest,error-handling,serverless-framework}","2016-10-24 11:07:46+03","2024-05-17 05:04:19.198162+03","i am doing this and when i call api from postman it is returning me even i am not sending any key named errorMessage My question is am i using correct way to return error if yes why it is behaving like this if no what is the correct way to handling error in serverless I will be thankful "
40282468,"Deploying Universal Angular on Google Cloud Function or AWS Lambda","https://stackoverflow.com/questions/40282468/deploying-universal-angular-on-google-cloud-function-or-aws-lambda","{angular,aws-lambda,google-cloud-functions,serverless-framework}","2016-10-27 10:37:59+03","2024-05-17 05:04:20.035013+03","While experimenting with Angular 2 I happened to see Angular Universal It is Serverside Rendering for Angular 2 apps same like we have in ReactJs There is also a getting started guide with one code snippet here I am trying to understand if this is something we can deploy in serverless environment like Google Cloud Function or AWS Lambda Docs of both services indicates that nodejs is supported I am very new to both Angular2 serverless hosting pattern "
40476193,"Bluebird with Lambda not returning data","https://stackoverflow.com/questions/40476193/bluebird-with-lambda-not-returning-data","{node.js,lambda,promise,bluebird,serverless-framework}","2016-11-07 22:57:57+02","2024-05-17 05:04:27.907075+03","We have a simple query to fetch information from our database using a serverless application deployed on nodejs Unfortunately I am not able to get any responses from Bluebird promise the response always timesout and I am not sure what could be causing the issue Below are my files serverless yml handler js dbConn js I added console log entries and I can see that it completes them however it does not return anything and I end up with a connection error I see that the data is fetched and Lambda just sits there without returning anything for 6 seconds Below is the latest entry from cloud watch 181501 START RequestId 195a7218a51611e6b52d5f028bb2bdf6 Version LATEST 181501 20161107T181501 820Z 195a7218a51611e6b52d5f028bb2bdf6 found roles 9 181507 END RequestId 195a7218a51611e6b52d5f028bb2bdf6 181507 REPORT RequestId 195a7218a51611e6b52d5f028bb2bdf6 Duration 6002 14 ms Billed Duration 6000 ms Memory Size 1024 MB Max Memory Used 18 MB 181507 20161107T181507 468Z 195a7218a51611e6b52d5f028bb2bdf6 Task timed out after 6 00 seconds Is there something that breaks when using Bluebird with Lambda"
40323897,"AWS API Gateway Authentication (Cognito Vs custom authrorizer)","https://stackoverflow.com/questions/40323897/aws-api-gateway-authentication-cognito-vs-custom-authrorizer","{amazon-web-services,oauth-2.0,aws-lambda,amazon-cognito,serverless-framework}","2016-10-29 21:33:58+03","2024-05-17 05:04:21.04496+03","I am trying to make a serverless application ReactJS API Gateway AWS Lambda DynamoDB with federated authentication Below is the kind of architectire that I am envisioning Have not added STS for brevity Also I don not think that I understand the flow fully I have created API Gateway endpoints that trigger lambda functions I want to authenticate my users with google first and if they are successful then they should be able to use API endpoints First step is to authenticate the user with google using standard Outh2 I have created 2 unauthenticated endpoints signingoogle and callbackgoogle for the purpose Once I get the successful authentication response from google in callback lambda function I have id_token among others that I can use At this point in time I have 2 approaches that I can use for authenticating APIs Build a custom authorizer that I can use for API endpoints Here is the code httpsgithub comprabhatsharmaapigatewaycustomauthorizer This is pretty straightforward I can use the same id_token provided by google to authenticate API endpoints Custom authorizer will validate that id_token is good and grant access to the endpoint It will also cache the result so that this verification is not needed everytime Is this a good approaach to reuse the id_token of google in this way You can use the authorizer with this httpsgithub comprabhatsharmalambdacustomauth I can use AWS cognito for authentication For this I have created a federated identity pool and have set the google app client Id to cognito console In my callbackgoogle lambda function I am using AWS SDK to get the identityId sessionToken and accessKeyId Source code httpsgithub comprabhatsharmalambdacognitoauth Now I can use the credentials to get Token using following code I can now pass the identityId and Token to my front end reactJS application This is where I need little help understanding the concept I can now use the AWS SDK in browser to access AWS resources But hold on Was not the purpose of creating standard RESTful APIs via Gateway was to use standard javascript without reliance on any specific library Using AWS SDK directly looks like a more apt use case for androidiosunity apps I would like developers in my team to be able to use the standard javascript libraries of front end that they use for this situation too Also I do not want to use the exported API SDK for my API endpoints and really want to keep the front end app clean of AWS SDK specifics Signing every request with v4 signature manually is redundant work Cannot we have standard token based API endpoint access using Cognito What is the best practice for this kind of authentication Am I thinking in right direction Disclaimer Please do not use the code in the repos as yet It is work in progress and not yet production ready "
40334566,"Webpack externals not requiring","https://stackoverflow.com/questions/40334566/webpack-externals-not-requiring","{amazon-web-services,webpack,aws-lambda,serverless-framework}","2016-10-30 22:59:00+02","2024-05-17 05:04:22.024944+03","In my environment awslambda I have the awssdk set up so in the webpack config i have added When building it seems to set it as module exports awssdk instead of module exports require awssdk weird thing was it was working fine before just randomly stopped any ideas using serverlesswebpack and webpack "
40335932,"Callback on microsoft bot framework end","https://stackoverflow.com/questions/40335932/callback-on-microsoft-bot-framework-end","{node.js,aws-lambda,botframework,serverless-framework}","2016-10-31 02:43:43+02","2024-05-17 05:04:23.034945+03","I am developing a Chatbot using Microsoft Bot framework with nodejs and I want to deploy this on aws lambda using serverless framework but to do that I need to call the lambda callback I cant find how I can have a callback when processing a message ends saved data and sent all the necessary messages I tried to simulate the response and call the callback but it didnt work microsoft bot framework continues processing the message here is the current handler I have And here is my channel js"
40384979,"After installing serverless on Windows 10, I can't run ""serverless"" at the command prompt","https://stackoverflow.com/questions/40384979/after-installing-serverless-on-windows-10-i-cant-run-serverless-at-the-comma","{node.js,lambda,serverless-framework}","2016-11-02 16:28:09+02","2024-05-17 05:04:23.647163+03","I installed NodeJS which seems to work fine Running npm worked fine and I could install packages Then I ran which also ran fine But when I try to run at the windows command prompt I get an error about the command not being found I have included the answer is below "
40386505,"How do I pass json inputs to a Cron scheduled Lambda deployed in Serverless using event?","https://stackoverflow.com/questions/40386505/how-do-i-pass-json-inputs-to-a-cron-scheduled-lambda-deployed-in-serverless-usin","{aws-lambda,serverless-framework}","2016-11-02 17:48:38+02","2024-05-17 05:04:24.467993+03","I have been trying to deploy a Lambda in Serverless to run on a Cron schedule that invokes it every hour When it is invoked I want the event inside the Lambda to be populated by my own JSON input rather than the info from the Cron event which is the default input when it is deployed Inside the AWS Console I am able to manually go into the Cron trigger for the Lambda and change the input from Matched event to Constant JSON text in order to get the result that I want Since Serverless creates this rule while deploying the Lambda I feel like there should be some way of changing the input through a configuration in the serverless yml file I have not been able to find anything while searching through the docs for Serverless so now I am wondering if this is possible through Serverless in its current state and if so how to go about it Any advice would be appreciated Edit There was an update that should have added this functionality however I still have not been able to deploy with a schedule with JSON using Serverless 1 3 0 and have also tested with 1 2 0 Some examples of the serverless yml I used are below Would anybody be able to comment on the state of this feature in Serverless as of 1 3 0 and whether or not my serverless yml above looks fine Edit 2 Posting the working serverless yml"
40404411,"Use Lambda to load a non-string object from S3 to perform computation","https://stackoverflow.com/questions/40404411/use-lambda-to-load-a-non-string-object-from-s3-to-perform-computation","{python,amazon-web-services,aws-lambda,lda,serverless-framework}","2016-11-03 14:40:55+02","2024-05-17 05:04:25.282929+03","I am doing test development on how to use Lambda and S3 together with other possible AWS services to create a web service The background is to use a LDA model constructed using Gensim to analyse a text file that exist in S3 And the goal is to use Lambdas event trigger to automatically analyse texts that gets uploaded into the S3 bucket So far I have tried to create simple functions in Lambda to print and log an items properties when it gets uploaded to S3 bucket However the analysis is an issue because of the LDA model is required to perform the analysis I can extract objects in S3 using the key by essentially calling However that makes the data variable as string I need to extract the metadata so it can be loaded into a model object So more in the style of First Is this possible Loading a model file around 200300mb into memory in Lambda to perform tasks Second Since this task should be invoked repeatedly for each file my logic tells me to find ways to store the model in persistent memory to save fetch time Is it possible to do more efficient object passing elsewhere P S to perform the analysis the required parameters are the model a wordid dict the actual text that needs to be analysed Any help would be much appreciated and if there is an better fitting alternative that would also be really awesome Thanks "
40442288,"DynamoDB/CF - Subscriber limit exceeded: Only 10 tables can be created, updated, or deleted simultaneously","https://stackoverflow.com/questions/40442288/dynamodb-cf-subscriber-limit-exceeded-only-10-tables-can-be-created-updated","{amazon-dynamodb,aws-cloudformation,serverless-framework}","2016-11-05 19:25:11+02","2024-05-17 05:04:26.668937+03","I was trying to create 24 DynamoDB tables using serverless yml when I got below error How do I circumvent this This seems to be a general issue with Cloudformation Here is a workaround in the AWS forum httpsforums aws amazon comthread jspathreadID167996 I tried adding dependson but it still does not solve the issue I get following error Putting DependsOn DevPolicyTable in quotes also does not make any difference"
40569505,"Proper request template mapping or process in order to upload a photo to s3 using Serverless Framework","https://stackoverflow.com/questions/40569505/proper-request-template-mapping-or-process-in-order-to-upload-a-photo-to-s3-usin","{node.js,amazon-s3,aws-lambda,aws-api-gateway,serverless-framework}","2016-11-13 01:11:22+02","2024-05-17 05:04:28.911793+03","I am using Serverless Version 1 0 0 and Node Version 5 7 1 I have an endpoint for updating a photo of a table in a mysql database So prior to inserting the said photo i am uploading the formdata i get from the browser to s3 and then update the photo url using the return image url The problem is i do not know what is the proper way to define the request mapping template in serverless yml so that i could extract the photo AND the path parameters AND the context variable for the principal id Here is my current serverless yml function definition Now here is the handler i have I tried to use WHEN_NO_TEMPLATES passthrough option and defined no template but i only get the photo buffer input variable and no boardId BUT i successfully upload the photo to s3 isOffline true stageVariables Using the ff request definition I see no variables in my event variable at all No photo nor boardId Can anyone tell me what i am doing wrong I am using postman to test "
40596182,"Using an existing API key with the Serverless Framework in AWS","https://stackoverflow.com/questions/40596182/using-an-existing-api-key-with-the-serverless-framework-in-aws","{amazon-web-services,aws-lambda,serverless-framework}","2016-11-14 19:16:04+02","2024-05-17 05:04:29.517892+03","In the serverless yml file you can specify the name of an API key to use with functions in the deployed API You list the API key name s and then mark the methods you wish to secure with it as private For example Upon deploy the framework generates the API key and assigns it to the functions It generates the key even if one with the same name already exists in the environment Is there a way to specify an existing API key rather than have the framework generate it We really wish to keep generating the key separate from deployments "
40640433,"What is the syntax in serverless yml file to deploy lambda to multiple regions?","https://stackoverflow.com/questions/40640433/what-is-the-syntax-in-serverless-yml-file-to-deploy-lambda-to-multiple-regions","{amazon-web-services,aws-lambda,serverless-framework}","2016-11-16 19:14:19+02","2024-05-17 05:04:30.681905+03","I have a requirement to deploy my lambda artifact to 3 different regions I am using serverless framework My yml file looks like this"
48272249,"Can you connect to an Amazon RDS Instance by Database Name instead of hostname in Lambda Function?","https://stackoverflow.com/questions/48272249/can-you-connect-to-an-amazon-rds-instance-by-database-name-instead-of-hostname-i","{node.js,aws-lambda,amazon-dynamodb,amazon-rds,serverless-framework}","2018-01-15 23:47:09+02","2024-05-17 05:08:32.320202+03","One of the things I like about DynamoDB is you can connect to it like so Note that all you need is the TableName and from your AWS credentials it knows what DynamoDB table you are referring I want to connect to RDS in much the same way I am using the serverless framework to create the resource like below Which in turn uses cloud formation to create the database instance for me In particular I am dynamically creating the database name and its identifier DBInstanceIdentifier selfcustom databaseName That name changes based on the stage parameters dev beta alpha prod etc that I use when deploying via serverless The idea is that a developer can automatically have a database created for him for testing purposes based on the stage if needed Say they created a custom stage like joe for themselves to test with real resources before pushing to staging The advantage of this is real testing and is easy to remove resources with sls remove stage joe for example which removes all associated resources with that stage The problem is to connect to RDS you need to have the username password and host These are located in the console after the resource is created but I need access to these somehow during my serverless script so I can set them to environment variables to easily connect to the correct databases for all my scripts So in short the way DynamoDB works is perfect since I just reference the tableName and I do not have to worry about the hostnameusernamepassword etc and it knows which tables are what I need to do the same thing for RDS if possible or a workaround type solution Any ideas"
48277558,"Cloud Formation Set RDS Endpoint to Route53 CName Record","https://stackoverflow.com/questions/48277558/cloud-formation-set-rds-endpoint-to-route53-cname-record","{amazon-rds,aws-cloudformation,amazon-route53,serverless-framework,serverless}","2018-01-16 09:07:59+02","2024-05-17 05:08:33.38059+03","Below is an example cloud formation file in YAML format The idea is to make the Route53 Record depend upon creation of the RDS Database and then once its created get the value from the endpoint of the RDS Database I did a lot of poking around in these reference documents but kept failing to get the syntax correct httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesrdsdatabaseinstance htmlawspropertiesrdsdatabaseinstancereturnvalues You can see it should have a return value but I am not sure how to get it and use it for the route53 cName record name I tried doing this but no luck Ref RDSDatabase Endpoint Address "
48304178,"Serverless Web App Architecture","https://stackoverflow.com/questions/48304178/serverless-web-app-architecture","{serverless-framework,serverless,serverless-architecture}","2018-01-17 15:07:48+02","2024-05-17 05:08:34.441054+03","I am currently designing a simple Serverless Web App using Serverless My current expected stack is I have followed a few tutorials for building the Serverless API Lambda and DynamoDB using the Serverless Framework and I have built my single page app however right now they are 2 separate entities What I am looking to do now is bring the static site nodejs into the same project as my API Lambda and DynamoDB and use the Serverless Framework to control the deployment however I am struggling to find guidance on Could anyone provide any insight into how this is supposed to work or maybe point me int he direction of some good blogsresources Kind Regards John"
48310072,"Is there a way to create an usage plan per api key for AWS Api Gateway in serverless?","https://stackoverflow.com/questions/48310072/is-there-a-way-to-create-an-usage-plan-per-api-key-for-aws-api-gateway-in-server","{aws-api-gateway,serverless-framework}","2018-01-17 21:13:03+02","2024-05-17 05:08:35.359034+03","In official docs only has the default configuration with a list of API Keys and only one Usage Plan All API keys are connected to that single usage plan Is there a way to configure separate usage plan for each API key in serverless framework "
48865505,"Lambda - headObject fails (NotFound) though objectCreated is the event","https://stackoverflow.com/questions/48865505/lambda-headobject-fails-notfound-though-objectcreated-is-the-event","{amazon-s3,aws-lambda,serverless-framework}","2018-02-19 11:44:49+02","2024-05-17 05:08:56.746408+03","In a lambda function with the event s3ObjectCreated calling head object on the created object returns a NotFound error And this is the error I get I have noticed that it says region null in the error I suspect this is irrelevant as I am 99 sure I am setting it correctly Heres the serverless yml function declaration in case anybodys curious And here is a sample for a received event It is puzzling that the object head is not found though the very event that triggered the function is the objects creation Am I doing something wrong Any thoughts on where to look"
40709990,"How to improve SEO for Serverless Websites?","https://stackoverflow.com/questions/40709990/how-to-improve-seo-for-serverless-websites","{javascript,facebook,amazon-s3,seo,serverless-framework}","2016-11-20 22:11:34+02","2024-05-17 05:04:33.605832+03","I want to improve SEO i e correctly index my pages on search engines in a serverless architecture when my website is hosted on AWS S3 As I am using a JavaScript approach to routing something akin to angular but simpler and getting dynamic content to fill metatags I am finding everything to be quite troublesome for scrapers without JavaScript support like Facebooks I have default metatags already inserted and those are of course loaded just fine but I need the updated ones I know most people uses prerendering on a server or through something like Prerender io but I really wanted to find an alternative that makes sense on a serverless approach I thought I had it figured out since Open Graph metatags allow for a pointers URL where you can have a metatagsonly HTML if needed So I was thinking of using a Lambda function to generate the HTML response with the right metatags on a GET request The problem is since the Facebook scraper has no JavaScript support how can I send the dynamic content on the GET request"
40750387,"What is the best folder structure for a serverless project?","https://stackoverflow.com/questions/40750387/what-is-the-best-folder-structure-for-a-serverless-project","{aws-lambda,aws-api-gateway,serverless-framework,serverless-architecture}","2016-11-22 19:47:13+02","2024-05-17 05:04:34.67285+03","I am starting to work on a new serverless project using AWS Lambda and API gateway What is the best way to organize my project without being locked into one framework such as the serverless framework or chalice Heres what I am using so far Do any of you recommend a better way to organize my project Does each microservice get a separate git repo Am I missing other important folders"
40823889,"Property Projection cannot be empty","https://stackoverflow.com/questions/40823889/property-projection-cannot-be-empty","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless-framework}","2016-11-26 22:41:45+02","2024-05-17 05:04:35.385846+03","I am trying to create a table using serverless framework and even though I have specified Projection for the GSI serverless is complaining that property Projection cannot be empty Am I getting the syntax wrong If I remove the GSI section it works pretty fine "
41474358,"How do I assign function level IamRoleStatements in Serverless Framework?","https://stackoverflow.com/questions/41474358/how-do-i-assign-function-level-iamrolestatements-in-serverless-framework","{aws-lambda,amazon-iam,serverless-framework}","2017-01-04 22:33:30+02","2024-05-17 05:04:36.288867+03","I want to assign different permissions for different functions listed in my serverless yml This does not seem to work When I add the iamRoleStatements at the provider level it works but ends up applying the permissions to all the functions "
41537178,"User credentials (id and secret) with API Gateway","https://stackoverflow.com/questions/41537178/user-credentials-id-and-secret-with-api-gateway","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-01-08 19:55:45+02","2024-05-17 05:04:37.09865+03","I am new to API Gateway and I am trying to write a REST API that exposes endpoints for users to call From having worked with other APIs I know that typically you receive an ID and a secret that you can then use to access the API programmatically I have researched a bit but so far I have only found ways to generate access tokens for a limited amount of time up to 1 hour but I would like users to retain their ID and secret permanently Any help or pointing to further reading would be greatly appreciated "
41544241,"AWS Lambda connection timeout to Elasticache","https://stackoverflow.com/questions/41544241/aws-lambda-connection-timeout-to-elasticache","{amazon-web-services,aws-lambda,amazon-elasticache,serverless-framework}","2017-01-09 08:57:41+02","2024-05-17 05:04:38.037602+03","I am trying to make Serverless work with Elasticache I wrote a custom CloudFormation file based on serverlessexamplesserverlessinfrastructure repo I managed to put Elasticache and Lambda in one subnet checked with the cli I retrieve the host and the port from the Outputs but whenever I am trying to connect with noderedis the connection times out Here are the relevant parts"
41569982,"Add role as CloudFormation template in serverless yml","https://stackoverflow.com/questions/41569982/add-role-as-cloudformation-template-in-serverless-yml","{node.js,aws-lambda,aws-cloudformation,serverless-framework}","2017-01-10 13:27:01+02","2024-05-17 05:04:38.781668+03","I am trying to invoke a lambda from another following the example from this answer Nodejs Invoke an AWS Lambda function from within another lambda function The answer says that both lambda functions should have AWSLambdaExecute and AWSLambdaBasicExecutionRole permissions Using Serverless how can I add these 2 roles to a CloudFormation template in serverless yml "
41570810,"Create Lambda permission in serverless","https://stackoverflow.com/questions/41570810/create-lambda-permission-in-serverless","{node.js,aws-lambda,serverless-framework}","2017-01-10 14:09:05+02","2024-05-17 05:04:39.882455+03","I am running into an issue with Serverless v1 5 latest version currently available at the time of writing I have to add permission to the lambda function and I am trying to achieve this by creating a CF template and running along with the deploy of the function This is how it should look like My problem is that when I try to deploy it I get an error which says that the function is not created yet which is understandable How can I overcome to this issue Any ideas"
41572237,"How can we use serverless.yml to create an AWS S3 bucket and add a file to it?","https://stackoverflow.com/questions/41572237/how-can-we-use-serverless-yml-to-create-an-aws-s3-bucket-and-add-a-file-to-it","{amazon-s3,aws-lambda,aws-cloudformation,serverless-framework}","2017-01-10 15:21:11+02","2024-05-17 05:04:40.799266+03","I am wondering if it is possible to leverage serverless yml to create a bucket and add a specific file to it during the deploy process of serverlessframework So far I have been able to add the S3 resource that creates the bucket but not sure how to add a specific file Not sure if it is possible or how to leverage the serverless yml to upload a default file during the deploy process if it is not there yet "
41576552,"Return null if key does not exist in VTL / API Gateway Template","https://stackoverflow.com/questions/41576552/return-null-if-key-does-not-exist-in-vtl-api-gateway-template","{aws-lambda,aws-api-gateway,serverless-framework,vtl}","2017-01-10 19:11:09+02","2024-05-17 05:04:41.85334+03","The following template returns if the Authorization header is not present How can i get null instead So return null if key is not present "
41590483,"Serverless Framework: how to deploy with CloudFormation?","https://stackoverflow.com/questions/41590483/serverless-framework-how-to-deploy-with-cloudformation","{node.js,amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2017-01-11 12:03:56+02","2024-05-17 05:04:42.616013+03","I am new to the serverless framework Well at least to the latest version which depends heavily on CloudFormation I installed the framework globally on my computer using I then created a service using Finally I ran Everything seems to deploy normally it shows no error in the terminal I can see the CloudFormation files in a newly created dedicated S3 bucket However I cannot find the default hello Lambda function in the AWS Lambda console What am I missing Are the CloudFormation files not supposed to create Lambda functions upon deployment"
41640394,"Modify response header / body / status code with lambda integration in Serveless framework 1.5","https://stackoverflow.com/questions/41640394/modify-response-header-body-status-code-with-lambda-integration-in-serveless","{aws-lambda,serverless-framework}","2017-01-13 17:39:33+02","2024-05-17 05:04:44.994712+03","I use Serveless framework 1 5 With lambdaproxy integration modifying response header body status code is very easy But I want to use path_info value so I use serverless yml like below To get path_info setting must use lambda integration But also I want to modify response header body status code of response How should I make setting to modify these response values with lambda integration Regards Postscript After submitting question I found the document httpsserverless comframeworkdocsprovidersawseventsapigatewaylambdaintegration According to this body can be customized But for response header document says I make setting same as above and code handler js like below though header content_type did not become imagepng How can I modify response header dynamically"
41657302,"How can I pass binary content to API Gateway from node JS AWS lambda backend using Serverless framework?","https://stackoverflow.com/questions/41657302/how-can-i-pass-binary-content-to-api-gateway-from-node-js-aws-lambda-backend-usi","{aws-lambda,aws-api-gateway,serverless-framework}","2017-01-15 02:45:57+02","2024-05-17 05:04:45.941651+03","As we know API Gateway and lambda support binary requestresponse but I have one question for backend programing in node JavaScript Environment With above environments in my code I have response content as Binary Buffer objects array But if I give Buffer objects array as response directly Receiving response is like this If I give Buffer objects array as response by base64 encoded Receiving response is like this How can I give binary response to API Gateway from node JS backend using Serverless framework PostScript According to this document AWS API Gateway Binary output without Accept header We must set Content Handling of Integration response change to CONVERT TO BINARY for responding binary response But how can I set this I have no idea both from serverless yml and AWS console GUI And if I successfully set this Content Handling CONVERT TO BINARY might I solve responding binary response Edited Jan 17th Hi kahouieong You wrote restapiid and resourceid they are in below images right But using these ids command result said What wrong with this I use latest awscli awscli1 11 37 Python2 7 9 Darwin16 3 0 botocore1 5 0 "
41660476,"How to enable logging when using Serverless framework","https://stackoverflow.com/questions/41660476/how-to-enable-logging-when-using-serverless-framework","{javascript,webpack,serverless-framework}","2017-01-15 11:15:30+02","2024-05-17 05:04:46.625707+03","I currently have a Webpack build which outputs logs as it is running As soon as I try and run the Webpack build through Serverless by running serverless webpack or serverless webpack build it swallows all the logs and it is difficult to see when Webpack has finished running I have checked the documentation and could not find anything "
41664708,"Cognito user pool authorizer With Serverless Framework","https://stackoverflow.com/questions/41664708/cognito-user-pool-authorizer-with-serverless-framework","{amazon-web-services,aws-lambda,aws-api-gateway,amazon-cognito,serverless-framework}","2017-01-15 18:28:09+02","2024-05-17 05:04:47.557985+03","I need to authorize my API end point using aws cognito userpool I can do it manually but I need to automate the authorization part with the serverless framework Does the Serverless framework have support for aws cognito If so how do we setup an awsuserpool with serverless"
41683730,"Comma separator in Lambda function environment settings using the Serverless Framework","https://stackoverflow.com/questions/41683730/comma-separator-in-lambda-function-environment-settings-using-the-serverless-fra","{mongodb,amazon-web-services,aws-lambda,serverless-framework}","2017-01-16 19:29:47+02","2024-05-17 05:04:48.025037+03","I am trying to add a MongoDB cluster as part of a Serverless deployment but I cannot set the environment variable Here is part of the serverless yml file How do I pass the MONGO_URI to contain the cluster as a comma separated value Any advise is much appreciated "
41779051,"What is wrong about this AWS cron ScheduleExpression?","https://stackoverflow.com/questions/41779051/what-is-wrong-about-this-aws-cron-scheduleexpression","{amazon-web-services,cron,serverless-framework}","2017-01-21 11:55:43+02","2024-05-17 05:04:48.935677+03","Trying to run the schedule every monday at 815 I tried the following expression I thought this means Documentation httpdocs aws amazon comAmazonCloudWatchlatesteventsScheduledEvents html"
41789192,"How to build serverless web site on Azure (rather then on AWS Amazon)","https://stackoverflow.com/questions/41789192/how-to-build-serverless-web-site-on-azure-rather-then-on-aws-amazon","{azure,aws-lambda,azure-functions,serverless-framework,serverless-architecture}","2017-01-22 09:13:01+02","2024-05-17 05:04:49.915671+03","How to build serverless web site on Azure as autoscaling payperexecution eventdriven app There are tons of good examples how to build serverlessarhitecture web site on AWS Amazon e g httpszanon iopostsbuildingserverlesswebsitesonawstutorial It consumes S3 for HTML and JS Lambda for REST API Simple DB for data Microsoft has Azure Functions that is analogue for AWS Lambda but it is serverless computing not serverless web site I can create serverless REST API with Azure Functions but what about HTML JS CSS for web site database etc I tried Azure App Service but it lacks pay only for what you use option as all plans have Monthly payments as well as Azure SQL for database And App Service does not seem to be constructed to host serverlessarchitecture web sites more for classic ASP NET web sites that you can easily deploy there Also there is popular library httpsgithub comserverlessserverless and they even mentioned Azure using AWS Lambda Azure Functions Google CloudFunctions more but there is no a single example how to use it for Azure and all Docs are for Amazon AWS Thanks "
41860539,"How to configure a Serverless S3 bucket resource to use a CORS AllowOrigin set to the http endpoint of its function","https://stackoverflow.com/questions/41860539/how-to-configure-a-serverless-s3-bucket-resource-to-use-a-cors-alloworigin-set-t","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2017-01-25 19:57:34+02","2024-05-17 05:04:50.441409+03","I am using Serverless to create a web application that serves its static content e g a web font from a S3 bucket The S3 bucket is configured as a resource in my serverless yml file Its CORS configuration has an AllowOrigin set to a wildcard I want to change this to have an AllowOrigin with the http endpoint of the service as created by Serverless e g 31alib51b6 executeapi euwest1 amazonaws com I wondered if it is possible to configure this in the serverless yml file itself My example serverless yml file"
42124131,"Setting ""local"" stage env variable in Serverless v1.x","https://stackoverflow.com/questions/42124131/setting-local-stage-env-variable-in-serverless-v1-x","{serverless-framework}","2017-02-08 21:39:23+02","2024-05-17 05:04:59.157989+03","In the Serverless 1 x framework you set environment variables in the serverless yml file at the service root I am trying to set the STAGE variable that corresponds with the stage that the service is running in It is easy for dev and prod like so This means that if stage is explicitly defined then the env variable uses that If it is not it uses the default dev When I use sls invoke local however the default stage will be dev and that is not correct What is the best way to get the stage to be local when invoking locally"
41860851,"MoonMail Lambda architecture with Serverless","https://stackoverflow.com/questions/41860851/moonmail-lambda-architecture-with-serverless","{node.js,aws-lambda,serverless-framework,moonmail}","2017-01-25 20:14:40+02","2024-05-17 05:04:51.140113+03","I have been looking into this project because the idea of having the whole system be a collection of Lambda functions seems very appealing As a matter of fact a few years ago I wrote some software that does pretty much the same as MoonMail does and it is due for an update as some specs have changed I am evaluating porting my software to Lambda or just adapting the thing to use MoonMail I have the following questions In my tests using Serverless I noticed that when I changed a resource name like the name of a DynamoDb table and redeployed there was no warning and the old table and its contents were destroyed I think that a simple mistake like an extra character in the config file resulting in the deletion of all data on a database is pretty risky How do you handle this kind of issue Regarding sending email through SES How do you handle throttling when you reach the sending limit for a particular account Do you do exponential backoffs I cannot seem to find this in the code base I will be very grateful if you could point me in the general area in the repo where this happens "
41931892,"How do I schedule an AWS Lambda cron to run at 11:30pm on the last day of the month?","https://stackoverflow.com/questions/41931892/how-do-i-schedule-an-aws-lambda-cron-to-run-at-1130pm-on-the-last-day-of-the-mo","{amazon-web-services,cron,aws-lambda,serverless-framework}","2017-01-30 08:51:37+02","2024-05-17 05:04:52.102396+03","I would like my Lambda function to run on the last day of every month at 1130pm I am using the Serverless Framework so all I need is the right Schedule Expression docs here info here Any help greatly appreciated NB Unfortunately I cannot just do it at the start of the month as there is a dependency on pulling data from a 3rd party tool that only calculates data for this month "
41940001,"graphql and serverless offline running in docker","https://stackoverflow.com/questions/41940001/graphql-and-serverless-offline-running-in-docker","{docker,dockerfile,serverless-framework}","2017-01-30 15:48:48+02","2024-05-17 05:04:52.939003+03","I have this docker file When I run it all works without problems but when I try to access the docker instance When I go to 172 17 0 39999 I am not able to connect to the instance Whereas if I run my application from my local machine localhost9999 responds Here is a copy of my serverless yml Any advice is much appreciated "
41948509,"Setting CORS via API Gateway for Serverless Architecture Model Proxy Endpoint","https://stackoverflow.com/questions/41948509/setting-cors-via-api-gateway-for-serverless-architecture-model-proxy-endpoint","{amazon-web-services,cors,aws-lambda,aws-api-gateway,serverless-framework}","2017-01-31 01:51:49+02","2024-05-17 05:04:53.847809+03","I am working on a C Net serverless application using the AWS Visual Studio Toolkit and I am having a bit of trouble figuring out what I am missing as far as CORS configuration I based my project off of the ASP Net example included with the toolkit which configured API Gateway to have a single API endpoint that works as a proxy into the ASP Net Web API framework In testing this application in chrome serving a local node project I am getting No AccessControlAllowOrigin header is present on the requested resource Origin httplocalhost8080 is therefore not allowed access I know this means I have to configure CORS on the API Gateway endpoint but I seem to be missing something I use the actions dropdown to enable CORS as such But I get some errors and the problem persists I used a chrome extension to disable CORS temporarily and have confirmed that the API endpoint works normally without CORS So what am I missing here The examples of setting CORS online do not usually have instructions of a catchall endpoint like this is set up to use and even breaking GET into its own method did not seem to help As an additional question if there is some CORS configuration I am missing is there a good way to get it integrated into the serverless template file or some other automated deploy step"
41961359,"Serverless Titan graph stack with AWS DynamoDB and Lambda","https://stackoverflow.com/questions/41961359/serverless-titan-graph-stack-with-aws-dynamodb-and-lambda","{amazon-dynamodb,aws-lambda,titan,gremlin,serverless-framework}","2017-01-31 15:30:48+02","2024-05-17 05:04:54.887654+03","As announced here it is possible to use Titan with DynamoDB as its backend Is it possible to build a serverless Titan Graph DB stack that is accessed via AWS Lambda functions Theoretically there should be nothing stoping this implementation but I could not find any example There had been a discussion on the issue under the code repository but did not yield anything concrete yet "
41974569,"Passing serverless API Gateway URL as a parameter for a Lambda function in the same stack","https://stackoverflow.com/questions/41974569/passing-serverless-api-gateway-url-as-a-parameter-for-a-lambda-function-in-the-s","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-02-01 07:56:26+02","2024-05-17 05:04:55.985608+03","I started building a JAM app using AWS Lambda AWS API Gateway and serverless as well as another vendors API This vendor API is invoked by a Lambda function and requires a callback URL to be passed to receive some data once it has done its job As I am spawning everything with serverless going to the console and extracting the API URL to manually set is as an env variable is of no use to me and I need a way so that serverless can pass the exposed API endpoint URL to the lambda function How do I get the Lambda function HTTP event URI as an env or something passable to another Lambda function in the same stack Can someone provide some serverless snippet on how to achieve this Thanks "
42085694,"Debugging Serverless Framework invoke local function","https://stackoverflow.com/questions/42085694/debugging-serverless-framework-invoke-local-function","{node.js,debugging,serverless-framework}","2017-02-07 09:07:41+02","2024-05-17 05:04:59.033031+03","I am trying to debug sls invoke local My setup However I keep getting"
42034563,"How to call an AWS Step Function using the definitions in the serverless-step-functions plugin?","https://stackoverflow.com/questions/42034563/how-to-call-an-aws-step-function-using-the-definitions-in-the-serverless-step-fu","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-step-functions}","2017-02-03 23:19:27+02","2024-05-17 05:04:59.044028+03","I am using Serverless Framework to create my Lambda functions and the serverlessstepfunctions plugin to define my step functions Is it possible to call an step function directly from one of the lambda functions using the name defined into the serverless yml file"
42095258,"Unable to create S3Buckets through serverless.yml","https://stackoverflow.com/questions/42095258/unable-to-create-s3buckets-through-serverless-yml","{amazon-s3,bucket,aws-cloudformation,serverless-framework}","2017-02-07 16:37:11+02","2024-05-17 05:04:59.112545+03","I simply tried to add a new S3Bucket into the Resources section and the stack is not being built anymore and the error I am getting is not helping too much Template format error Unresolved resource dependencies [] in the Resources block of the template nothing between the [] that could indicate what to look for Any idea what is going on I am running serverless v1 5 0 serverless yml"
42158768,"Lambda event.body object from browser POST response is of different type","https://stackoverflow.com/questions/42158768/lambda-event-body-object-from-browser-post-response-is-of-different-type","{javascript,aws-lambda,aws-api-gateway,serverless-framework}","2017-02-10 11:53:32+02","2024-05-17 05:05:01.536587+03","When I console log event body and perform a POST request by submitting a classical HTML form from the browser through AWS API GatewayLambda I get something like a query string when running the same function via serverlessoffline plugin on my localhost I get which looks like a JSON string I used same Node js version 4 3 2 Why is there this difference"
42197896,"API Gateway variable number of path parameters","https://stackoverflow.com/questions/42197896/api-gateway-variable-number-of-path-parameters","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-02-13 06:30:33+02","2024-05-17 05:05:01.615633+03","Is it possible to have a variable number of path parameters on an API gateway URL i e APIGW runs theoretical lambda function that sums numbers in a URL If this is possible then how do I do it"
42285813,"AWS Lambda with poor performance when using RDS","https://stackoverflow.com/questions/42285813/aws-lambda-with-poor-performance-when-using-rds","{node.js,aws-lambda,amazon-rds,serverless-framework,serverless-architecture}","2017-02-16 22:22:05+02","2024-05-17 05:05:02.035551+03","I have implemented an AWS Lambda function using the Serverless Framework That Lambda function is using RDS and MongoDB The MongoDB endpoint runs around 500ms but RDS runs on 12 sec cold start and 3 sec hot start Note I am using Sequelize in this endpoint How to speed up my RDS Lambda endpoint"
42299974,"Error Handling in AWS API Gateway and Lambda always return 502","https://stackoverflow.com/questions/42299974/error-handling-in-aws-api-gateway-and-lambda-always-return-502","{amazon-web-services,lambda,aws-api-gateway,serverless-framework}","2017-02-17 14:09:48+02","2024-05-17 05:05:03.655463+03","I use serverless to implement Lambda and Api gateway When I implement Error Handling below code always get 502 bad gateway handler js CloudWatch do log error I code this way by following the method Custom error object serialization in below AWS blog Ref"
42302798,"How to use Serverless functions, says doesn't exist","https://stackoverflow.com/questions/42302798/how-to-use-serverless-functions-says-doesnt-exist","{serverless-framework}","2017-02-17 16:26:30+02","2024-05-17 05:05:04.214153+03","I am trying to deploy my first serveless project and want to have it update a simple item in my dynamodb So I started making a simple service in serverless yml Then I found some more code online to link up the dynamodb portion of my app and added it into serverless yml at the bottom resources My function in handler js is I ran serverless deploy and it worked on many levels Created my lambda for me gave me an endpoint and functions endpoints POST httpstbwg38fvc0 executeapi useast1 amazonaws comdevmoviescreate functions serverlessdevhello serverlessdevcreateMovie But I run it in postman and I get an internal server error and I tried calling serverless invoke f serverlessdevcreateMovie l and it says Serverless Error So I am confused what I am doing wrong Is there another setting in AWS I am missing that needs to be set for invoke to work"
42302980,"AWS Lamba Serverless .Net C# App Error","https://stackoverflow.com/questions/42302980/aws-lamba-serverless-net-c-sharp-app-error","{c#,.net,amazon-web-services,aws-lambda,serverless-framework}","2017-02-17 16:34:53+02","2024-05-17 05:05:05.149528+03","I am getting an error when trying to use a Lamba Function in AWS Lamba using the Visual Studio Template When I deploy to lamba and try to test my function I get the below error I did not really change anything about the project just using it as it was given I have been trying to figure out what the issue is but am not able to do it This is really my first time learning about Lamba and Serverless Architecture Any ideas"
42877521,"Is it possible to keep an AWS Lambda function warm?","https://stackoverflow.com/questions/42877521/is-it-possible-to-keep-an-aws-lambda-function-warm","{amazon-web-services,aws-lambda,serverless-framework}","2017-03-18 17:25:30+02","2024-05-17 05:05:06.072534+03","There are a few pieces of my app that cannot afford the additional 12 second delay caused by the freezethaw cycle that Lambda functions go through when they are new or unused for some period of time How can I keep these Lambda functions warm so AWS does not have to reprovision them all the time This goes for both 1 infrequentlyused functions and 2 recentlydeployed functions Ideally there is a setting that I missed called keep warm that increases the cost of the Lambda functions but always keeps a function warm and ready to respond but I am pretty sure this does not exist I suppose an option is to use a CloudWatch timer to ping the functions every so often but this feels wrong to me Also I do not know the interval that AWS uses to put Lambda functions on ice "
42880987,"Serverless Framework with AWS Lambda error ""Cannot find module""","https://stackoverflow.com/questions/42880987/serverless-framework-with-aws-lambda-error-cannot-find-module","{node.js,amazon-web-services,aws-lambda,aws-sdk,serverless-framework}","2017-03-18 23:11:57+02","2024-05-17 05:05:06.817006+03","I am trying to use the Serverless Framework to create a Lambda function that uses open weather NPM module However I am getting the following exception but my node_modules contain the specific library I have managed to run the sample httpsgithub comserverlessexamplestreemasterawsnoderestapiwithdynamodb successfully now hacking to add node module to integrate open weather API My code"
42894202,"AWS CloudFormation resource limit of 200","https://stackoverflow.com/questions/42894202/aws-cloudformation-resource-limit-of-200","{amazon-web-services,aws-cloudformation,serverless-framework}","2017-03-20 00:45:16+02","2024-05-17 05:05:07.955501+03","I have an app with a lot of resources a bunch of DynamoDB tables lambda functions etc and apparently I have run into the hard limit of 200 resources The specific error is The error message is pretty clear but I would like to know what my options are Worst case I can split the app into several pieces Are there any alternative strategies"
42910561,"aws + serverless + webpack => cannot find module xxx in prod","https://stackoverflow.com/questions/42910561/aws-serverless-webpack-cannot-find-module-xxx-in-prod","{node.js,amazon-web-services,webpack,serverless-framework,serverless-architecture}","2017-03-20 17:49:52+02","2024-05-17 05:05:08.42117+03","I want to create a package to deploy on AWS using serverless and webpack In serverless yml I want to declare all the resources mainly DynamoDb tables and the functions I want to use external node js libraries The folder structure is Extract from serverless yml Extract from webpack congfig js When doing a serverless deploy everything is ok but when testing the lambda I get an error Can you tell me what am I doing wrong Given that I am a newbie with serverless can you suggest me some better practice for the code and development organisation serverless and nodejs are imposed webpack and everything else is not "
43230808,"Trouble deploying function using serverless and MoonMail","https://stackoverflow.com/questions/43230808/trouble-deploying-function-using-serverless-and-moonmail","{serverless-framework,moonmail}","2017-04-05 12:10:28+03","2024-05-17 05:05:18.502794+03","I am trying to deploy a serverless function however I cannot achieve it serverless v 0 5 6 node v v7 8 0 Any idea Maybe I am using the wrong version of Serverless I have ajv^4 9 1 under node_modules "
42924784,"Open source serverless computing framework","https://stackoverflow.com/questions/42924784/open-source-serverless-computing-framework","{lambda,aws-lambda,serverless-framework,serverless-architecture}","2017-03-21 10:41:57+02","2024-05-17 05:05:09.49119+03","I am currently working on deploying a FaaS solution on a private distributed storage system I have been searching for a serverless computing tool that can be deployed in custom storage backend where data can be stored and later processed by executing some client code AWS seems to be the most popular option regarding serverless computing implementations However it is not open source Do you know any alternative to AWS that can be implemented on top of a proprietary storage backend Thank you in advance for contributing "
42938365,"CORS issue with Serverless and PUT command","https://stackoverflow.com/questions/42938365/cors-issue-with-serverless-and-put-command","{node.js,amazon-web-services,serverless-framework}","2017-03-21 21:23:48+02","2024-05-17 05:05:10.379543+03","I am running into another CORS issue with Serverless and AWS Seems I need to tell it specifically to allow a PUT method but I am not sure where this code goes I have the following code for my Lambda function The error I am getting is XMLHttpRequest cannot load httpspwqlomgq89 executeapi useast1 amazonaws comdevtimeoffgroup7d463800093511e7b6184b1d72ddca8etimeOffGroupHolidayedited No AccessControlAllowOrigin header is present on the requested resource Origin httplocalhost9000 is therefore not allowed access The response had HTTP status code 502 angular js14328 Possibly unhandled rejection datanullstatus1config methodPUTtransformRequest[null]transformResponse[null]jsonpCallbackParamcallbackdata url httpspwqlomgq89 executeapi useast1 amazonaws comdevtimeoffgroup7d463800093511e7b6184b1d72ddca8e params timeOffGroupHoliday edited headers Acceptapplicationjson textplain ContentTypeapplicationjsoncharsetutf8 statusText I have followed all of the calls on serverless tutorials to get the CORS to work But it seems I got the get and create to work but the PUT command is not working Is there some place I need to still set the update command to allow PUT for cross domain Looks like I might need more here for a PUT method access headers"
42950758,"Building a node module for aws lambda","https://stackoverflow.com/questions/42950758/building-a-node-module-for-aws-lambda","{amazon-web-services,aws-lambda,serverless-framework,sharp}","2017-03-22 11:47:34+02","2024-05-17 05:05:11.509642+03","I am trying to use the Sharp library in AWS Lambda but it requires the module be compiled for the lambda environment The instructions say to create an ec2 instance and compile it on there but I noticed that there are a few tools to help with that but they are all at least a year old with no maintenance Is there a package that comes with Serverless or something that is considered the standard way now I have found these but they are all at least a year old since a commit httpsgithub comnodehocuspocusthaumaturgy httpsgithub comMaxKolodezniyawslambdabuild httpsgithub comtomdalelambdapackager Maybe there is a directory somewhere where I can just download a precompiled Sharp library for AWS lambda"
42963184,"How to pass values to a Lambda function in CloudWatch?","https://stackoverflow.com/questions/42963184/how-to-pass-values-to-a-lambda-function-in-cloudwatch","{amazon-web-services,aws-lambda,amazon-cloudwatch,serverless-framework}","2017-03-22 21:42:01+02","2024-05-17 05:05:12.640444+03","What is the best way to wrap functions in a way that handles a ping from a CloudWatch timer For example take the lambda function below If I ping the function it will error because there are no queryStringParameters on the CloudWatch request Technically this will still do the job of keeping the Lambda function warm which is my goal but I do not want to have a needlesslylong list of errors I noticed that CloudWatch allows you to include inputs that presumably are passed to a Lambda function What is the smartest way to wrap the function above so that it can accept a ping Ideally it would look like this Where I would pass some JSON that allows me to alter the event such as I have read through the documentation for the inputs but it is not at all clear to me what the various input types mean or how to use them "
42995058,"Deploy Lambda functions without binaries","https://stackoverflow.com/questions/42995058/deploy-lambda-functions-without-binaries","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-03-24 08:51:10+02","2024-05-17 05:05:13.511456+03","I have some problems with serverless deploy because when I deploy my Lambda function the Serverless Framework start packing my node_modules but it takes a lot of time I mean why to upload node_modules again if it have not been updated Maybe somebody know how deploy only a Lambda function code without packing binaries"
43018630,"Serverless - Options for communicating between services?","https://stackoverflow.com/questions/43018630/serverless-options-for-communicating-between-services","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-03-25 16:03:47+02","2024-05-17 05:05:14.413768+03","I have a few different services generated by the Serverless Framework that need to communicate between each other The data is sensitive and requires authentication My current strategy is to create an api key for each service communicate between services using json web token like the token below What are some other options for communicating between services Are there any downsides to this approach To reiterate the request needs to be authenticated and appropriately handle sensitive data "
43033730,"How do I debug an 's3:CreateBucket Access Denied' from CloudFormation","https://stackoverflow.com/questions/43033730/how-do-i-debug-an-s3createbucket-access-denied-from-cloudformation","{aws-cloudformation,serverless-framework}","2017-03-26 19:51:31+03","2024-05-17 05:05:15.474428+03","I have a CloudFormation Stack created from a Serverless YAML file One of the resources is this I am having no problems deploying the Stack files which includes creating an S3 bucket itself but when the Stack starts to get built I am getting Problem is the User associated with the Serverless service has as part of its policy How do I even go about debugging this Either my Resource is wrong or its some other user being used but that makes no sense because they are attached to an Access Key ID "
43166190,"Use AWS Lambda to access S3 using only Roles","https://stackoverflow.com/questions/43166190/use-aws-lambda-to-access-s3-using-only-roles","{amazon-web-services,amazon-s3,aws-lambda,aws-sdk,serverless-framework}","2017-04-02 08:21:07+03","2024-05-17 05:05:16.356311+03","I have a Lambda function written in Java I and I want it to access S3 putObject I do not want to use or store credentials in my Lambda function in order to access S3 Instead I would like to use IAM roles How can I code an AWS S3 client inside my java code that would be ran by Lambda that will not need any credentials and assume that the Lambda has the appropriate Role"
43187686,"What does the Serverless Framework offers for Azure Functions?","https://stackoverflow.com/questions/43187686/what-does-the-serverless-framework-offers-for-azure-functions","{azure,azure-functions,serverless-framework}","2017-04-03 14:46:10+03","2024-05-17 05:05:17.458474+03","I wonder what are the featurescapabilities that Serverless Framework gives me when developing Node js functions in Azure Functions environment When I look to this CLI there is nothing I cannot do with Kudu and GitHub integration or for simpler scenarios directly with IDE built into the portal So I wonder if I am missing something and I will regret in the future or Serverless Framework at this stage is more useful for AWS Lambdas"
43328619,"Serverless/Lambda + S3: Is it possible to catch a 'GetObject' event and select a different resource?","https://stackoverflow.com/questions/43328619/serverless-lambda-s3-is-it-possible-to-catch-a-getobject-event-and-select-a","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2017-04-10 16:38:23+03","2024-05-17 05:05:20.570564+03","What I am trying to do is catch any image file request and check if that image does not exists return a different image I am taking a look at Lambda and the Serverless Framework but I could not find much information about this Is it even possible"
43333376,"Backing up a Serverless Framework deployment","https://stackoverflow.com/questions/43333376/backing-up-a-serverless-framework-deployment","{serverless-framework}","2017-04-10 21:45:43+03","2024-05-17 05:05:21.576536+03","I am familiar with Terraform and its terraform tfstate file where it keeps track of which local resource identifiers map to which remote resources I have noticed that there is a serverless directory on my machine which seems to contain files such as CloudFormation templates and ZIP files containing Lambda code Suppose I create and deploy a project from my laptop and Serverless spins up fooxyz cloudfront net which points to a Lambda function arnawslambdauseast1123456789012functionhandleRequest456 If I naively try to run Serverless again from another machine or if I git clean my working directory it will spin up a new CloudFront endpoint since it does not know that fooxyz cloudfront net already represents the same application I am looking to back up the state it keeps internally so that it modifies an existing resource rather than creates a new one The equivalent in Terraform would be to back up the terraform tfstate file If I wished to back up or restore a Serverless deployment state which files would I back up In the case of AWS it seems like I should be backing up the CloudFormation templates I do not want to back up the Lambda code since it is directly generated from the source However I am likely going to use more than just AWS in the future and so do not want to specialcase the CloudFormation templates if at all possible How can I back up only the files I cannot regenerate"
43381418,"Server-less applications - how to","https://stackoverflow.com/questions/43381418/server-less-applications-how-to","{serverless-framework}","2017-04-12 23:54:28+03","2024-05-17 05:05:22.616418+03","I would like to get started with serverless applications but not sure which languages can be used I am constantly searching Google for any tutorials or any information but I am coming up short Can anyone point me in the right direction Also how do serverless apps differ from other web apps"
43387296,"How to build complex apps with AWS Lambda and SOA?","https://stackoverflow.com/questions/43387296/how-to-build-complex-apps-with-aws-lambda-and-soa","{amazon-web-services,aws-lambda,serverless-framework,serverless-architecture}","2017-04-13 08:34:19+03","2024-05-17 05:05:23.672104+03","We currently run a Java backend which we are hoping to move away from and switch to Node running on AWS Lambda Serverless Ideally during this process we want to build out a fully service orientated architecture My question is if our frontend angular app requests the current users ordered items to get that information it would need to hit three services the user service the order service and the item service Does this mean we would need make three get requests to these services At the moment we would have a single endpoint built for that specific request which can then take advantage of DB joins for optimal performance I understand the benefits SOA but how to do we scale when performing more compex requests such as this Are there any good resources I can take a look at"
43401141,"How to package by stage/region using the Serverless Framework?","https://stackoverflow.com/questions/43401141/how-to-package-by-stage-region-using-the-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework}","2017-04-13 20:26:18+03","2024-05-17 05:05:24.665508+03","I would like to know how to create a separate package per stageregion because I want to have the package step create a separate bundle for each variation of stageregion I am deploying to The docs indicate I can call the package command however when running I get Command package not found Run serverless help for a list of all available commands These are the commands I have tried running but with the error mentioned Any help is much appreciated "
43425065,"Serverless: deploy particular profile","https://stackoverflow.com/questions/43425065/serverless-deploy-particular-profile","{serverless-framework}","2017-04-15 10:42:53+03","2024-05-17 05:05:25.800384+03","In the serverless yml the deployment profiles are set like this While the default deploy is dev I would like to deploy the profile suku without changing the defaultStage What is the command for this sls deploy profile suku did not work"
43445570,"How to get the 'Endpoint' of a deployed 'Lambda' function in AWS?","https://stackoverflow.com/questions/43445570/how-to-get-the-endpoint-of-a-deployed-lambda-function-in-aws","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-04-17 05:20:01+03","2024-05-17 05:05:26.56044+03","I am developing a serverless application using the Serverless Framework I deployed my application using After deploying I got the endpoints for my functions which look like this which I did not note down Now I need it but could not find it Where can I find the Endpoints"
43449289,"how to make webpack use shared node modules in the parent directory","https://stackoverflow.com/questions/43449289/how-to-make-webpack-use-shared-node-modules-in-the-parent-directory","{node.js,webpack,serverless-framework}","2017-04-17 10:02:13+03","2024-05-17 05:05:27.620314+03","I want to use shared node modules which is kept in the parent directory I have the following folder structure I have to use webpack to create packages and upload into awslamda But the webpack is looking for node modules But I am getting the following error How can I make webpack config point to the node_modules in the parent directory"
43520629,"Unable to install serverless framework on macosx","https://stackoverflow.com/questions/43520629/unable-to-install-serverless-framework-on-macosx","{node.js,serverless-framework}","2017-04-20 13:14:16+03","2024-05-17 05:05:28.104294+03","Actually I am unable to install serverless on my Mac Here are some information about my config Command launched to install serveless result Any help would be appreciated "
43527150,"AWS API gateway cache mismatch","https://stackoverflow.com/questions/43527150/aws-api-gateway-cache-mismatch","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless-architecture}","2017-04-20 18:25:21+03","2024-05-17 05:05:29.082709+03","I setup an API Gateway with a Lambda Proxy and set caching on my staging URL using the Stage Editor Settings in API Gateway Currently I have the Method Request caching the request path proxy I have noticed that GET requests work for my API and are individually cached However when I do two POST requests sequentially with different JSON payloads The Cache will be set for the first response data and then not realize that the second request has completely different payload and return the first response again When the response data is completely different Is there a way to tell API Gateway to use the JSON payload as a cache key for POST method"
43540198,"Angular SPA inconsistent with ANY access-control-allow-methods from API Gateway","https://stackoverflow.com/questions/43540198/angular-spa-inconsistent-with-any-access-control-allow-methods-from-api-gateway","{angularjs,node.js,aws-api-gateway,serverless-framework}","2017-04-21 10:22:46+03","2024-05-17 05:05:31.195255+03","We are currently using a Serverless deployment model for our API with a NodeJS express code base All was well until we ran into a hard limit for the CloudFormation stacks created by serverless which have a created resource limit of 200 Trying to work around this while the Serverless team is working on nested stack integration was to replace GETPUTPOSTDELETE for a single route with ANY which saved us roughly 75 in CloudFormation resources API Gateway seemed to take it well the integration response for the OPTIONS route returned AccessControlAllowMethods OPTIONSANY Testing this with postman worked like a charm being able to use all previously mentioned methods without a hitch Exercising this from our Angular frontend does not seem to work though XMLHttpRequest cannot load Method PUT is not allowed by AccessControlAllowMethods in preflight response In Angulars eyes POST PUT DELETE do not match up to ANY whereas for postman it does Any input why this might be occurring will be greatly appreciated A POST request works through the Angular application just the PUT and DELETE requests throw the not allowed by AccessControlAllowMethods error "
43542901,"How to set default status code for a serverless function?","https://stackoverflow.com/questions/43542901/how-to-set-default-status-code-for-a-serverless-function","{aws-lambda,serverless-framework}","2017-04-21 12:35:35+03","2024-05-17 05:05:32.127298+03","I am deploying microservices onto AWS Lambda using serverless I want to set the default status code as 500 and if the HTTP process succeeds then I want response to have status Code of 200 How to do this Can this be done through the serverless yml file Function"
43580664,"Getting exponential backoff in AWS SNS with AWS Lambda","https://stackoverflow.com/questions/43580664/getting-exponential-backoff-in-aws-sns-with-aws-lambda","{amazon-web-services,aws-lambda,amazon-sns,serverless-framework}","2017-04-24 05:51:56+03","2024-05-17 05:05:32.872271+03","As it currently stands AWS SNS provides functionality for retrial Linear Geometric and Exponential backoff with HTTPHTTPS endpoints in case of a 5XX response returned from the endpoint Because of this my application architecture changes and I forcefully need to insert a API gateway between my SNS and Lambda so that in case of a failure I can return a 5XX status from the API gateway and utilise the retrial functionality of SNS But there is nothing mentioned for retrial mechanism with AWS lambda Is there any way I can use the SNS retrial facilities for nonHTTP based subscriptions Thanks"
43654084,"Moonmail/Serverless: ""s-variables-<stage>-<region>"" location?","https://stackoverflow.com/questions/43654084/moonmail-serverless-s-variables-stage-region-location","{serverless-framework,moonmail}","2017-04-27 09:38:41+03","2024-05-17 05:05:33.924213+03","I am looking to install Moonmail One early step of installing Moonmail is Add variables to svariables stage region I cannot find the relevant file to enter this information Where exactly do I enter this The files created by serverless in my Moonmail location are sproject json sresourcescf json and stemplates json"
43658561,"Where store and retrieve data for Google Cloud Functions API?","https://stackoverflow.com/questions/43658561/where-store-and-retrieve-data-for-google-cloud-functions-api","{database,rest,google-cloud-functions,serverless-framework}","2017-04-27 12:57:49+03","2024-05-17 05:05:35.0074+03","I am playing with the Google Cloud Functions API and I m confused how to use it the right way for a simple REST API to retrieve some data from a database and respond to the client with the data its need I m using serverless to deploy my code that looks like this for a function but this is just a simple 200 OK response with no data from a database Coming from MVC frameworks like Rails or Django I would write a controller action to retrieve some data from my database and render a JSON for the response but Google Cloud Functions is working different by just having functions and nothing else Where should I store my database with Google Cloud Services and how can I retrieve the data in a function Do I have to call some kind of Database API and process the result and send it back as JSON inside a function"
43932117,"serverless custom authorizer denying authorization","https://stackoverflow.com/questions/43932117/serverless-custom-authorizer-denying-authorization","{authorization,aws-api-gateway,serverless-framework}","2017-05-12 07:42:36+03","2024-05-17 05:05:36.108227+03","I am building an api with serverless and a custom authorizer on apigateway When running serverlesslocal and passing a valid authorization token I am getting 401 responses I have mostly copied this from examples the function which is called by the authorizer is The policy is generated via The returned policy looks like Is there something I am obviously doing wrong here My token sub is a string of unique user name for my app but AWS has no concept of who the user is I thought this was fine "
43959961,"Serverless lambda function throwing error when trying to insert data into dynamoDB Table","https://stackoverflow.com/questions/43959961/serverless-lambda-function-throwing-error-when-trying-to-insert-data-into-dynamo","{javascript,json,amazon-web-services,aws-lambda,serverless-framework}","2017-05-14 02:59:57+03","2024-05-17 05:05:37.720451+03","I am trying to test CRUD functionality on a aws lambda function using the Serverless Framework Here is the command I am running When I try to create a record an error is thrown Here is the error in the console Now I have linted my javascript and validated my event json file Here is my javascript Here is my event json file Why is the error getting thrown And how do I set that environmental variable I tried in my serverless yml file but I did not get any output "
43962148,"Invoking the lambda gets timed out after adding VPC configurations","https://stackoverflow.com/questions/43962148/invoking-the-lambda-gets-timed-out-after-adding-vpc-configurations","{amazon-web-services,lambda,aws-lambda,amazon-vpc,serverless-framework}","2017-05-14 09:02:23+03","2024-05-17 05:05:38.157367+03","I am using Serverless framework for creating lambdas I created a simple Lambda function which queries from an Mongo instance and returns the response Initially I created the Mongo instance with publicIp and made the Lambda access that instance with publicIP It worked well Now in order to increase the security I added the VPC configuration to the Lambda Here is my serverless yml Adding the above configuration the serverless deployment was successful Now when I tried to access the function by invoking the APIGateway URL in postman I get an timeout error Here is the screenshot of Postman Does adding the VPC configuration to Lambda make it inaccessible by invoking it publicly"
44024567,"Serverless framework 'dev' and 'prod' seperation","https://stackoverflow.com/questions/44024567/serverless-framework-dev-and-prod-seperation","{amazon-web-services,serverless-framework}","2017-05-17 12:13:59+03","2024-05-17 05:05:39.226846+03","I am writing a backend service using the Serverless framework What is the best way for separating Dev and Prod environments Let us say I want my dev profile to deploy in a certain region and my prod profile to deploy in another Is there a way to achieve this in the Serverless framework I would like to do something like"
44032664,"Reference function from within serverless.yml","https://stackoverflow.com/questions/44032664/reference-function-from-within-serverless-yml","{javascript,amazon-web-services,aws-lambda,serverless-framework,aws-cloudformation}","2017-05-17 18:47:59+03","2024-05-17 05:05:39.601422+03","I have several AWS lambdas running supported by the Serverless Framework I need one lambda called lambdaOne which will call a second lambda called lambdaTwo using AWS javascript sdk The issue is that I am getting an AccessDenied Exception when I attempt this UnhandledPromiseRejectionWarning Unhandled promise rejection rejection id 1 AccessDeniedException User arnawssts12345678909876assumedroletestdevuswest2lambdaRoletestdevlambdaOne is not authorized to perform lambdaInvoke Function on resource arnawslambdauswest2994979977450functiontestdevlambdaTwo To my understanding Serverless creates a default IAM role for all lambda functions So I should be able to just to add a new entry under iamRoleStatements My confusion arises from the fact that the resource I want to reference lambdaTwo is already defined as a function Is there a way to reference a function as a resource"
44032667,"Serverless Cron Syntax For Scheduled Lambda","https://stackoverflow.com/questions/44032667/serverless-cron-syntax-for-scheduled-lambda","{amazon-web-services,cron,amazon-cloudwatch,serverless-framework}","2017-05-17 18:48:07+03","2024-05-17 05:05:40.933673+03","How can I write the cron syntax to schedule a Lambda to run every ten minutes at the start of every hour Here is what I have tried but keep running into errors"
44052476,"(ReactJS + serverless) static served page vs virtual DOM bug","https://stackoverflow.com/questions/44052476/reactjs-serverless-static-served-page-vs-virtual-dom-bug","{javascript,reactjs,webpack,webpack-dev-server,serverless-framework}","2017-05-18 15:51:17+03","2024-05-17 05:05:41.696328+03","We are rending serverside ReactJS components with httpsgithub comelasticcodersserverlesswebpack Everything is working great the component datamarkup is rendered out However the problem happens when we run serverless webpack serve We hit the localhost link and for a split sec we see the app then it is gone to a white page On deeper inspection if we do a View Source we see ALL the markup including CSS and JS everything However in the Chrome Inspector we only see the app div and nothing else It is like once our app script line runs we replace the static content with the Virtual DOM To those are who rendering static pages with React and serverless how have you overcome this problem It seems at the moment that we can still use React to build the components we get the data back from the server and pass that data down as props into the components to set active states selected states etc etc serverless then renders the static view However once the user gets the page We can not add the actual app bundle js file because that will destroy the app as seen above But what we need to do is add raw Javascript or Jquery at the bottom of the static page to handle any logic Does that seem like the correct only move here"
44094766,"Mocking intrinsic functions on top of serverless-framework","https://stackoverflow.com/questions/44094766/mocking-intrinsic-functions-on-top-of-serverless-framework","{aws-lambda,serverless-framework}","2017-05-21 08:29:04+03","2024-05-17 05:05:42.830377+03","I have a simple aws lambda function written in node js on top of the serverless framework My serverless yml file contains calls to aws intrinsic functions FnGetAtt In the example below I am making a call to Rds which is a CustomStackOutput to get my database password which would be saved to an environment variable and used by the lambda function Is there a way to mock the calls to these intrinsic functions when using the command serverless invoke local function exampleLambda In other words mock the response value of FnGetAtt rds password Otherwise I would not be able to run the invoke local command successfully as the function depends on the output of the intrinsic functions Any help would be appreciated "
44113266,"Storing and reading HTML files in JavaScript using AWS Lambda","https://stackoverflow.com/questions/44113266/storing-and-reading-html-files-in-javascript-using-aws-lambda","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-05-22 12:47:57+03","2024-05-17 05:05:43.840861+03","I am trying to save large amounts of HTML in JavaScript so that I can read it and replace some bits with custom text I am not sure what is the best way to do this I am working on a Serverless infrastructure i e using Lamdba functions Any help would be greatly appreciated "
44150905,"Installing /whisk.system/messaging package in my local installation","https://stackoverflow.com/questions/44150905/installing-whisk-system-messaging-package-in-my-local-installation","{serverless-framework,openwhisk,serverless-architecture}","2017-05-24 06:48:10+03","2024-05-17 05:05:44.601956+03","I am doing my local openwhisk installtion on Ubuntu 16 04 I was try to do my handson on the below sample httpsgithub comIBMopenwhiskdataprocessingmessagehub it using whisk systemmessaging package but when i check the installed packages i see below Can someone let me know how to install the messaging package"
44154025,"How to access dataset of an identity in cognito federated identities from lambda","https://stackoverflow.com/questions/44154025/how-to-access-dataset-of-an-identity-in-cognito-federated-identities-from-lambda","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-05-24 09:14:03+03","2024-05-17 05:05:45.642104+03","Let me start with the overall description of what I am trying to achieve I am building a serverless API using Lambda Cognito Federated Identities API Gateway etc I am using aws_iam as the authorizer in API Gateway In some endpoints I need to access for example user email or username or whatever so I can send it back in the response also data of users who did not make the request I guess I am looking for some kind of admin access to the identity pool so I can retrieve data based on cognitoIdentityId Now in my case this data is stored in a dataset in Cognito The question is how can I access this data from my Lambda function node js Is this a good approach at all Should I use something else instead of datasets Is there a working example somewhere I will be happy to provide more details if necessary Thanks EDIT 1 here is the code of my lambda function and this is what i get in err when calling listRecords message Missing credentials in config code CredentialsError time 20170526T084239 298Z requestId 46712a9b41ef11e79e3c074afafb3349 statusCode 400 retryable false retryDelay 21 688148977111666 originalError message Could not load credentials from CognitoIdentityCredentials code CredentialsError time 20170526T084239 298Z requestId 46712a9b41ef11e79e3c074afafb3349 statusCode 400 retryable false retryDelay 21 688148977111666 originalError message Unauthenticated access is not supported for this identity pool code NotAuthorizedException time 20170526T084239 298Z requestId 46712a9b41ef11e79e3c074afafb3349 statusCode 400 retryable false retryDelay 21 688148977111666 EDIT 2 solved by removing from the code and adding the AmazonCognitoReadOnly policy to the role that invokes the lambda "
44156935,"Querying Dynamodb in a different AWS account - Serverless Framework","https://stackoverflow.com/questions/44156935/querying-dynamodb-in-a-different-aws-account-serverless-framework","{amazon-web-services,amazon-dynamodb,amazon-iam,serverless-framework}","2017-05-24 11:22:43+03","2024-05-17 05:05:46.681095+03","I need to connect to the dynamoDB table in one AWS account from lambda of a different AWS account Currently I am trying to connect to dynamodb through Serverless Offline I am able to connect to a table in my AWS account but get an error when trying to connect to dynamoDB table in another account Error Request Not Found I have checked twice The table does exist The role I am using in the serverlesss yml has full admin privileges including DynamoDB I think I am making some mistake with permissions but I am able to identify the problem Please help "
44223282,"AWS Lambda + API Gateway Development Best Practices","https://stackoverflow.com/questions/44223282/aws-lambda-api-gateway-development-best-practices","{amazon-web-services,aws-lambda,serverless-framework}","2017-05-28 02:28:14+03","2024-05-17 05:05:48.41507+03","We are a team of 5 developers and need some guidance on the best way to develop on AWS specifically using AWS Lambda API Gateway DynamoDB and Cognito We are looking for the best practices for development How can 5 developers develop without stepping on each other toes Is it better to have individual accounts and use cloud formation templates that can be used by each developer Or use the serverless framework and use a different environment for each developer It looks like serverless provides the ability to deploy to various environments but I believe the intent for different environments is for CICD where the same code can be moved through various SDLC or specific code can be pushed to a specific environment "
44239296,"How to change cloudwatch log names using serverless?","https://stackoverflow.com/questions/44239296/how-to-change-cloudwatch-log-names-using-serverless","{aws-lambda,serverless-framework}","2017-05-29 09:42:08+03","2024-05-17 05:05:48.912245+03","I am using serverless and AWSLambda So I need a method where the name of the cloudwatch logs can be managed from the serverless yml this is the yml for the function No cloudwatch log name has formed with this title "
44336417,"Serverless Node.js Project Structure","https://stackoverflow.com/questions/44336417/serverless-node-js-project-structure","{node.js,unit-testing,tdd,mocha.js,serverless-framework}","2017-06-02 19:48:49+03","2024-05-17 05:05:49.70818+03","I am building a RESTful API with the serverless framework to run on AWS API Gateway Lambda DynamoDB It is my first Node project and my first serverless production project and I have no idea how to structure it So far I have the following Functions Function1 InternalModule Function2 Function3 InternalModule Function4 Shared Module1 Module2 Module3 Tests Functions Function1 InternalModule Function2 InternalModule Function3 InternalModule Function4 InternalModule Modules Module1 InternalModule Module2 InternalModule Module3 InternalModule I keep my API endpoints Lambda handlers in Functions Some of them have internal modules which they only use and there are some who use modules from Shared I want to have unit tests for all my modules inner and shared as well as API testing on the lambda functions I am using mocha and chai and want to integrate everything in a pipeline which on a git push runs the linters and tests and if they are successful deploy the API to the appropriate stage The problem is that in order to test each module I have to have chai as a local node module in every folder where I have a test file and reference the modules to be tested by a relative path In most cases it looks really ugly because of the nesting If I want to test an internal module from TestsFunctionsFunction1InternalModule and I require it on top of the test like so require TestsFunctionsFunction1InternalModule I have to install chai in every folder so it is reachable The same goes for mocha and all the dependencies needed for the test and I have not even mentioned configuration The main idea I am now considering is weather or not I should bring all modules to a folder called modules and require them when needed worst case from FunctionsFunction1 require ModulesModule1 Also keep the test files in the module folder and run them inside but that would require the assertion library installed in every folder I have read about npm link and symlinks but I want to keep track of what dependencies each folder has so I can install them on the CI environment after the clean project is downloaded from GitHub where I cannot do links or I have got the whole concept wrong If anyone can suggest a better solution I would highly appreciate it "
44370048,"Why does my serverless Lambda function reject Cache-Control header?","https://stackoverflow.com/questions/44370048/why-does-my-serverless-lambda-function-reject-cache-control-header","{amazon-web-services,http-headers,aws-lambda,fine-uploader,serverless-framework}","2017-06-05 13:25:04+03","2024-05-17 05:05:50.829426+03","I am using FineUploader to upload files to S3 While utilizing the DELETE functionality I get the following error XMLHttpRequest cannot load httpsxxxxxxx executeapi useast1 amazonaws comproddeleteS3File Request header field CacheControl is not allowed by AccessControlAllowHeaders in preflight response The lambda function was created using the awesome Serverless Framework with the following configuration Any idea what this error means for a Lambda function and how to tackle it"
44396427,"Serverless Offline: handle multiple API gateways","https://stackoverflow.com/questions/44396427/serverless-offline-handle-multiple-api-gateways","{serverless-framework,serverless-architecture,serverless-offline}","2017-06-06 17:38:02+03","2024-05-17 05:05:51.917233+03","You can easily debug your serverless application with the Serverless Framework and the Serverless Offline Plugin when you only have one but how do you handle the case when you have multiple API Gatewaysservices Should I run serverless offline for every service with a different port configured in each yml and hardcode that port in the environment variables so I can access that port if process env offline is true"
44419465,"Serverless / AWS API Gateway CORS Unable to Access Headers","https://stackoverflow.com/questions/44419465/serverless-aws-api-gateway-cors-unable-to-access-headers","{javascript,aws-lambda,aws-api-gateway,axios,serverless-framework}","2017-06-07 17:43:58+03","2024-05-17 05:05:52.847276+03","My functions config OPTIONS is returning these headers to the browser My POST method is returning these headers to the browser I send back a response from my handler with an Authorization header containing Bearer MY_TOKEN I am still however unable to access xamznremappedauthorization from my JS client using axios All I get back in JS is contenttype "
44423438,"Stop node-debug from opening a new browser window","https://stackoverflow.com/questions/44423438/stop-node-debug-from-opening-a-new-browser-window","{node.js,serverless-framework,node-inspector,node-debugger}","2017-06-07 21:55:41+03","2024-05-17 05:05:53.715016+03","The command opens a new browser window every time it is run How do we stop it from opening a new window every time I want to reuse the existing window "
44462723,"Can you dynamically switch a Serverless function authorizer based on your stage?","https://stackoverflow.com/questions/44462723/can-you-dynamically-switch-a-serverless-function-authorizer-based-on-your-stage","{serverless-framework}","2017-06-09 16:31:38+03","2024-05-17 05:05:54.77276+03","The concept is fairly straightforward I want to be able to use a different authorizer for functions when testing locally with serverlessoffline vs when the API is deployed Is there any way to dynamically switch between that localAuthorizer and a full arn to my remote authorizer based on the stage I am running"
44467080,"SignUp User via AWS Lambda & Cognito (Serverless Architecture)","https://stackoverflow.com/questions/44467080/signup-user-via-aws-lambda-cognito-serverless-architecture","{javascript,authentication,aws-lambda,amazon-cognito,serverless-framework}","2017-06-09 21:40:58+03","2024-05-17 05:05:56.048567+03","I am working with the Serverless Framework in my approach to Authentication My goal is to create an API endpoint that triggers via AWS API Gateway a Lambda Function that creates a new AWS Cognito user The endpoint will have a custom authorizer to protect it My Lambda function is below When it is run I receive the error NotAuthorizedException SignUp is not permitted for this user pool Any thought on how to authorize my Lambda function to create a new user"
44493807,"Serverless: How to integrate gateway response using serverless library?","https://stackoverflow.com/questions/44493807/serverless-how-to-integrate-gateway-response-using-serverless-library","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-06-12 07:36:33+03","2024-05-17 05:05:56.484989+03","How to integrate gateway response using serverless framework I am not able to find documentation in serverless com as well as in plugin serverlessawsdocumentation"
44497896,"Facebook messenger bot scheduled messages using Serverless and AWS","https://stackoverflow.com/questions/44497896/facebook-messenger-bot-scheduled-messages-using-serverless-and-aws","{amazon-web-services,aws-lambda,message-queue,serverless-framework,facebook-messenger-bot}","2017-06-12 11:06:10+03","2024-05-17 05:05:57.494727+03","I am planning to create a Facebook messenger bot which sends scheduled messages based on user input time Eg If User selects 6 AM then I need to send him some message in this time daily Now I have created a basic messenger bot with help of serverless I am stuck with this scheduled messages part My question is what are the basic things I need to take care for this Do I need a queuing system for this like AWS SQS and CloudFront event scheduler I do not have prior experience with these services But I pretty much want to stay with in AWS land Could you guys point me towards a right direction"
44498563,"Flyway and JOOQ for AWS Aurora DB/embedded MySQL","https://stackoverflow.com/questions/44498563/flyway-and-jooq-for-aws-aurora-db-embedded-mysql","{maven,amazon-web-services,flyway,jooq,serverless-framework}","2017-06-12 11:41:11+03","2024-05-17 05:05:58.284294+03","The question I am going to ask might be a bit more of a proof of concept area so I fully expect to find out that it is not possible to achieve what I want Background What I am trying to achieve Maven build that invokes JOOQ code generation using the given Aurora DB which is based on MySQL above What I have tried and problems I have faced Another concern I have for this design currently Aurora cluster runs on the security group that allows ingress from anywhere for debug purposes However this will change to only access ingress from its own group that will restrict access to only lambdas sharing same security group Has anyone tried to achieve anything similar Do you have any suggestions for my approach"
44534099,"Reference AWS API Gateway's hostname within the serverless.yml file for other CloudFormation resources?","https://stackoverflow.com/questions/44534099/reference-aws-api-gateways-hostname-within-the-serverless-yml-file-for-other-cl","{amazon-web-services,aws-api-gateway,serverless-framework,serverless-architecture,aws-cloudformation}","2017-06-14 01:43:49+03","2024-05-17 05:05:58.812017+03","I am using the Serverless framework to create a image resizing service using S3 Lambda and API Gateway This is similar to the concept here but this will use Serverless to setup and configure the entire stack Right now I need to find a decent way to reference the generated API Gateways hostname within the serverless yml file This is what I have under my resources Just a snippet Where it says HOSTNAME HERE I need to be the hostname of the API Gateway API that the serverless framework generates Right now the best way that I can think of is to create a CNAME alias somewhere and use that in front of my API Then I will pass that CNAME in as an environment variable and then reference it in this file That is not ideal for me though I would like someone have the ability to pull this project down and be able to run it with just a bucket name Is there anyway to accomplish this"
44544392,"AWS Serverless application load time with the Spring framework","https://stackoverflow.com/questions/44544392/aws-serverless-application-load-time-with-the-spring-framework","{amazon-web-services,aws-lambda,serverless-framework,serverless-architecture}","2017-06-14 12:09:14+03","2024-05-17 05:05:59.869196+03","I am building a web application in AWS using the serverless architecture The purpose of the application is to expose a public API to upload files from around the world I use AWS APIGateway and Lambda to execute my code and S3 as storage I know that it is very much possible and well supported even by 3rd parties like the Serverless framework to use Java Spring framework to write the code that I deploy in my Lambda function However is it really recommended Spring applications usually take 30 seconds or more to load completely and Lambda should run Immediately How come this option is even supported by AWS since it sounds like a very bad idea "
44545847,"Returning HTML with Azure Serverless Function req.body","https://stackoverflow.com/questions/44545847/returning-html-with-azure-serverless-function-req-body","{javascript,node.js,azure,serverless-framework,serverless-architecture}","2017-06-14 13:11:40+03","2024-05-17 05:06:00.532774+03","I have got some TIF files in Azure Blob Storage I would like to display them in the browser via a link embedded in a spreadsheet The simplest way to do this should be to take the file code as a request parameter and return the properly formatted HTML right So right now I have got it returning a req body with some HTML Unfortunately the HTML just shows up as a string in the browser How do I make it render as HTML with minimal rigamarole Heres my code"
44611695,"Serverless Framework Facebook Bot Slow (AWS Lambda)","https://stackoverflow.com/questions/44611695/serverless-framework-facebook-bot-slow-aws-lambda","{node.js,amazon-web-services,aws-lambda,serverless-framework,facebook-messenger-bot}","2017-06-18 04:14:26+03","2024-05-17 05:06:01.682294+03","I am working on a facebook chat bot and I am developing it using the serverless framework Node js and deploying it to aws lambda For the first few weeks I just ran a local serverless lambda simulator using the serverless offline plugin and everything was working great Yesterday I finally decided to deploy it to AWS lambda and now I see a significant drop in performance and consistency Sometimes the bot takes 10 seconds to respond and sometimes it is instantaneous The weird part is on the lambda cloud logs it always says the function completes in around 150 ms which seems super fast but the facebook bot simply does not mirror that speed I am hitting a database but the queries are definitely not taking anywhere near 10 seconds to run UPDATE I decided to try to test the bot my manually sending requests to the API endpoint using postman which is basically curl Every time the api responded instantly even when I send the exact same request body that the messenger does So it seems like the request is just taking a long time to reach the lambda api but when it gets there it runs as it should Any ideas of how to fix this"
44626308,"How to deploy AWS elasticsearch using serverless.yml","https://stackoverflow.com/questions/44626308/how-to-deploy-aws-elasticsearch-using-serverless-yml","{amazon-web-services,elasticsearch,serverless-framework}","2017-06-19 09:03:42+03","2024-05-17 05:06:02.627114+03","I need to use AWS elasticsearch service but also want to automate it We have serverless configuration How can we create an AWS elasticsearch service using serverless yml"
44635309,"GCloud Functions debugging deployment failure","https://stackoverflow.com/questions/44635309/gcloud-functions-debugging-deployment-failure","{node.js,gcloud,serverless-framework}","2017-06-19 16:10:59+03","2024-05-17 05:06:04.083122+03","Just started using GCloud Functions today and I am having a problem I have updated one of my projects to be functionready and used googles localemulator googlecloudfunctionsemulator to debug and test my new function Everything went well and emulator deployment went just fine ``` ``` But when i try to do the same thing using the actual gcloud beta functions I get a build error without any reason or obvious way to debug it ``` ``` In the GClould logs I am not getting any other details either httpspastebin com6H7DRkE8 How can I debug this deployment issue"
44683761,"Serverless Not creating s3 bucket or registering to function","https://stackoverflow.com/questions/44683761/serverless-not-creating-s3-bucket-or-registering-to-function","{aws-cloudformation,serverless-framework}","2017-06-21 18:35:23+03","2024-05-17 05:06:06.692193+03","I have a serverless function that looks like The docs say that running this should create an s3 bucket and fire it whenever an object is created However the template it creates makes no mention of an S3 bucket and does not create an s3 bucket named scooterdata nor attempt to register any triggers to the lambda Whats happening here"
44701914,"how to send cookie and redirect at same time in response ? (serverless framework)","https://stackoverflow.com/questions/44701914/how-to-send-cookie-and-redirect-at-same-time-in-response-serverless-framework","{javascript,node.js,cookies,serverless-framework}","2017-06-22 14:11:07+03","2024-05-17 05:06:07.501162+03","Below is code i used to set cookie and redirect link at a single response but only either will work If statusCode is 301302 the redirection is happening but cookie is not set If statusCode is 200 cookie is set but redirect is not working Does anyone know how to use both in a single request Should i change the StatusCode some status code dont allow setting cookie I am using serverless framework of nodejs Here is a screenshot of the response But in cookie noting is der"
44894202,"Keeping emails synchronized between Firebase auth and database","https://stackoverflow.com/questions/44894202/keeping-emails-synchronized-between-firebase-auth-and-database","{firebase,firebase-realtime-database,firebase-authentication,serverless-framework}","2017-07-03 21:42:03+03","2024-05-17 05:06:08.367162+03","I am using Firebase Web for a SaaS solution My purpose is to have access to users email at any time either for sending notifications or triggering alerts from the backend For security reasons Firebase auth does not allow to list users email or to fetch emails based on user IDs As a consequence I keep a copy of the email into a specific collection in the Firebase database when a user account is created The copy is made by a Cloud function that is triggered on user creation following guidelines httpsfirebase google comdocsauthextendwithfunctions Thanks to the copy available in the Firebase database I can access users email However my issue is when a user changes his email Firebase auth provides the updateEmail function that returns a promise I use this last to update the email in Firebase auth Then when the promise resolves I update the user email in the Firebase database However this has a major drawback all the logic is performed on the client side and since both operations are not performed in a transaction if the client refreshes or closes his browser or assume it crashes then it is possible that Firebase auth is updated but not the Firebase database thus leading to an inconsistent state I looked at the documentation expecting the possibility to trigger a Cloud function when user auth information is updated Unfortunately I cannot find such a feature Another solution I thought about is to update the database from the Web client Then this last triggers a Cloud function that updates Firebase auth with the admin SDK This last solution works but bypasses the check performed by updateEmail that ensures the new email is not used by another account Also the account hijacking protection performed by updateEmail is evicted which is really bad from a security point of view Any idea to solve this problem properly is welcome "
44898431,"Mirror a Git repository directly to AWS CodeCommit","https://stackoverflow.com/questions/44898431/mirror-a-git-repository-directly-to-aws-codecommit","{git,aws-lambda,serverless-framework,aws-codecommit}","2017-07-04 06:29:14+03","2024-05-17 05:06:09.523913+03","I want to create a backup of one of my Git repositories and save it to AWS CodeCommit I do not want to include the use of my local machine Can anyone tell me how can I do it directly or through AWS Lambda"
44899374,"GCloud: Debug ""function crashed out of request scope""","https://stackoverflow.com/questions/44899374/gcloud-debug-function-crashed-out-of-request-scope","{javascript,error-handling,gcloud,serverless-framework}","2017-07-04 07:17:16+03","2024-05-17 05:06:09.940018+03","I am running a GCloud function which seems to crash silently without any kind of error trace Everything works perfectly in the emulator but crashes when running on GCloud The following message shows up in the functions logs Error function crashed out of request scope Function killed Any idea on how to debug this"
44930572,"""errorMessage"": Task timed out after 3.00 seconds aws lambda nodejs lambda function trying to connect with RDS","https://stackoverflow.com/questions/44930572/errormessage-task-timed-out-after-3-00-seconds-aws-lambda-nodejs-lambda-funct","{amazon-web-services,lambda,devops,serverless-framework}","2017-07-05 15:35:35+03","2024-05-17 05:06:10.57725+03","I have written a simple lambda function in nodejs which queries data from amazon rds note my lambda and rds are in default vpc with all ports open and also tried increasing time out in lambda My issue is when I test my lambda function I get log output with the queried data but I am also getting Execution result failed with errorMessage 20170705T150527 425Z 596fdf39619311e79176f58796899f9b Task timed out after 3 00 seconds "
44936360,"Lambda function returns null from nested async function","https://stackoverflow.com/questions/44936360/lambda-function-returns-null-from-nested-async-function","{node.js,amazon-web-services,asynchronous,aws-lambda,serverless-framework}","2017-07-05 21:34:15+03","2024-05-17 05:06:11.508381+03","The Lambda function is not hitting the memory limit neither timing out I read somewhere that it may return because the event loop is empty but I have context callbackWaitsForEmptyEventLoop set to false Here is the function"
44937666,"Need to configure serverless resource output to get api gateway api id","https://stackoverflow.com/questions/44937666/need-to-configure-serverless-resource-output-to-get-api-gateway-api-id","{aws-api-gateway,aws-cloudformation,serverless-framework}","2017-07-05 23:47:42+03","2024-05-17 05:06:12.398018+03","I have a serverless project that is creating an API Gateway API amongst other things One of the functions in the project needs to generate a URL for an API endpoint My plan is to get the API ID using a resource output in serverless yml then create the URL and pass it through to the lambda function as an env parameter My problemquestion is how to get the API ID as a cloud formation output in serverless yml I have tried but this give the error"
44941218,"`serverless deploy` command in azure does not complete no response received in terminal","https://stackoverflow.com/questions/44941218/serverless-deploy-command-in-azure-does-not-complete-no-response-received-in-t","{node.js,azure,microservices,azure-functions,serverless-framework}","2017-07-06 06:23:13+03","2024-05-17 05:06:12.880684+03","I am using serverless framework with azure functions for microservices and installed all the dependencies and there are no errors but when i run serverless deploy command it produces a code After that this Microsoft Link opens in the browser and ask for the code then i have put the code HS that was received and it asks for login and after i login with my azure account it opens a new link displaying this message You have signed in to the Microsoft Azure Crossplatform Command Line Interface application on your device You may now close this window After closing the window nothing happens in the terminal the terminal does nothing and it got stuck i have tried many times but no help "
45768747,"Multiple entry points in webpack config in Serverless framework","https://stackoverflow.com/questions/45768747/multiple-entry-points-in-webpack-config-in-serverless-framework","{node.js,amazon-web-services,webpack,aws-lambda,serverless-framework}","2017-08-19 07:06:25+03","2024-05-17 05:06:40.416254+03","I am developing a serverless application using the Serverless Framework I need webpack to compile the js files inside root folder as well as src folder The config file and src folder are right inside root folder This is the webpack config js file"
44944226,"node.js mysql insert ER_PARSE ERROR near HANDLER RESOLVED","https://stackoverflow.com/questions/44944226/node-js-mysql-insert-er-parse-error-near-handler-resolved","{javascript,mysql,node.js,serverless-framework}","2017-07-06 08:58:09+03","2024-05-17 05:06:13.911832+03","I have an API running in AWS Lambda written on Node JS 6 10 3 using the npm package mysql 2 13 0 This is deployed and managed using Serverless I am Inserting a single row into a table on a MariaDB RDS instance using the following code If I check the table I can see that the insert has completed successfully and the new row has been added however error is being set meaning something has gone wrong somewhere possibly after the insert The error returned by mysql in console log is This is followed by a second error stating that callback is not a function Similar code is working elsewhere in the API for selects Thanks Further notes The table is The result from console log sql is Which works when I run it directly in mysql workbench "
45005202,"What is an elegant way to create a ""logic glue"" of a serverless app","https://stackoverflow.com/questions/45005202/what-is-an-elegant-way-to-create-a-logic-glue-of-a-serverless-app","{amazon-web-services,aws-lambda,serverless-framework,aws-step-functions}","2017-07-10 06:34:56+03","2024-05-17 05:06:14.895805+03","I need to implement the following logic One of my main issue is how to get triggered when all the concurrent lambdas of step 3 has finished What is the best most elegant way to accomplish that I had suggestions to try using AWS step function but it seems that the Parallel state can only have fixed number known in advance branches "
45020092,"My lambda Execution result is done getting queried data in log output","https://stackoverflow.com/questions/45020092/my-lambda-execution-result-is-done-getting-queried-data-in-log-output","{node.js,amazon-web-services,lambda,microservices,serverless-framework}","2017-07-10 19:23:23+03","2024-05-17 05:06:15.945657+03","I have my nodejs lambda function connecting to rds and select data and gives me output in log output Please help me how to pass parms and get output My code is attached My nodejs function connecting to rds but I cannot see mydata in execution result "
45029129,"Granting CloudWatch access to a lambda function deployed using the Serverless framework","https://stackoverflow.com/questions/45029129/granting-cloudwatch-access-to-a-lambda-function-deployed-using-the-serverless-fr","{aws-lambda,aws-cloudformation,amazon-iam,amazon-cloudwatch,serverless-framework}","2017-07-11 08:21:50+03","2024-05-17 05:06:16.971997+03","I am writing a Lambda function using the Serverless framework The function is invoked by an HTTP request It parses the request parameters fetches some logs from a CloudWatch group and stream according to the parameters and replies with a summary of the logs I would like to grant CloudWatch read access to the Lambda function using the serverless configuration file The function definition serverless yml is pretty basic How do I grant read andor write permissions that will enable this Lambda function to access Specific CloudWatch logs"
45035906,"IdentityPool Creation with CloudFormation","https://stackoverflow.com/questions/45035906/identitypool-creation-with-cloudformation","{serverless-framework,amazon-cognito,aws-cloudformation}","2017-07-11 13:26:18+03","2024-05-17 05:06:18.059302+03","I am attempting to follow along with a tutorial located at httpserverlessstack comchapterscreateacognitoidentitypool html for identity pool creation and document the creation by using cloudformation so that I can easily undo everything when I am done However I am having trouble finding any examples that show how to effectively do this using the template syntax What I currently have is the following The deployment step is failing when it attempts to create the ScratchIdentityPool I get an error stating that An error occurred while provisioning your stack ScratchIdentityPool Invalid Cognito Identity Provider Service AmazonCognitoIdentity Status Code 400 Error Code InvalidParameterException Request ID bc058020663b11e79f2aXXXXXXXXXX Am I not referencing the Client or Provider name correctly"
45075395,"Reduce the size of the node-modules zip sent by the serverless framework","https://stackoverflow.com/questions/45075395/reduce-the-size-of-the-node-modules-zip-sent-by-the-serverless-framework","{node.js,npm,dependencies,aws-lambda,serverless-framework}","2017-07-13 08:31:38+03","2024-05-17 05:06:19.210014+03","I am writing a few nodejs functions using the serverless framework The package json file requires a few dependencies The size of the nodemodules directory is almost 50mb Deployment time is more than 35 seconds given a zip size of 9 5MB This is somewhat inefficient I only change one file but I have to pack all the unchanged dependencies whenever I make the slightest change Any idea how to reduce the zip size perhaps removing devDependencies or upload only the changed file"
45083814,"How to set a description for an API Gateway using the Serverless Framework?","https://stackoverflow.com/questions/45083814/how-to-set-a-description-for-an-api-gateway-using-the-serverless-framework","{aws-cloudformation,serverless-framework}","2017-07-13 14:35:22+03","2024-05-17 05:06:19.531916+03","I want to do this in the serverless yml file but cannot find the way in the docs I would like to avoid doing this after every deploy from the CLI with something like"
45089604,"How can I access both AWS Elasticache(Redis) and AWS EC2 (MongoDB) from same lambda function?","https://stackoverflow.com/questions/45089604/how-can-i-access-both-aws-elasticacheredis-and-aws-ec2-mongodb-from-same-lam","{mongodb,aws-lambda,amazon-vpc,serverless-framework}","2017-07-13 19:37:37+03","2024-05-17 05:06:20.321688+03","I can access separately but I cannot connect both of theese services AWS Elasticache Redis and AWS EC2 MongoDB I tried theese EC2 Elasticache and Lambda in same security group in AWS VPC Also tried EC2 and Elasticache in different security group AWS VPC and lambda has these security groups But did not change anything I used serverless framework 1 0 These connections in localhost redis and EC2 MongoDB worked together succesfully When I was writing to console serverless deploy these operations didnt work Postman error is 502 Bad Gateway Here it is I can connect to redis succesfully Here it is can connect to mongodb succesfully Here it is i can connect MongoDB but con not redis Any ideas"
45125273,"How to configure AWS data pipeline using serverless.yml?","https://stackoverflow.com/questions/45125273/how-to-configure-aws-data-pipeline-using-serverless-yml","{amazon-web-services,amazon-data-pipeline,serverless-framework,data-pipeline}","2017-07-16 05:15:42+03","2024-05-17 05:06:21.532613+03","I am new to both data pipeline and serverless I want to know how can I automate AWS data pipeline using serverless Below is my diagram of AWS data pipeline which exports dynamo db table to S3"
45130789,"serverless: command not found in ubuntu 16.04","https://stackoverflow.com/questions/45130789/serverless-command-not-found-in-ubuntu-16-04","{node.js,ubuntu,aws-lambda,serverless-framework}","2017-07-16 16:21:05+03","2024-05-17 05:06:22.314305+03","I am trying to set up the AWS Serverless framework in Ubuntu 16 04 LTS I installed Node js and have also installed Serverless using the following command npm install g serverless in the terminal But when I try to run serverless it returns an error saying serverless command not found Below is a screenshot for reference"
45198064,"When using the Serverless framework, my environment variable is being parsed as a number","https://stackoverflow.com/questions/45198064/when-using-the-serverless-framework-my-environment-variable-is-being-parsed-as","{types,environment-variables,aws-lambda,serverless-framework}","2017-07-19 18:11:29+03","2024-05-17 05:06:23.383392+03","I have an application which uses an environment variable The environment variable itself is a bunch of numbers with a dot in the middle e g 36478236853794287 234798237543893 yet it should be interpreted as a string I want to deploy this application on AWS Lambda using the Serverless framework I have set the environment variable in a separate file secrets yml which is gitignored I then included it in serverless yml like this However when I print out MY_ENV_VAR in my application the log shows it as a scientifically formatted number like 3 6478236853794287E14 "
45213362,"Running R and packages on GCP cloud function [closed]","https://stackoverflow.com/questions/45213362/running-r-and-packages-on-gcp-cloud-function","{r,google-cloud-platform,google-cloud-functions,serverless-framework}","2017-07-20 11:26:22+03","2024-05-17 05:06:24.357105+03","We dont allow questions seeking recommendations for software libraries tutorials tools books or other offsite resources You can edit the question so it can be answered with facts and citations Closed 5 years ago I have been using AWS Lambda to execute some R code by packaging the dependencies CRAN Packages and deploying it along with AWS Lambda This helps me parrallelise running a small chunk of R code over huge set of data compared to running it on an instance I have referred to this article GENOMICS ON AWS LAMBDA The Lambda executes using RPY2 on Python I am exploring possibility of running the R code on Google Cloud Functions as I am using Big Query for querying some data I see that Google Cloud Functions now supports only NodeJS There are few ways to execute R script from NodeJS NPM Stackoverflow But I need to package all the necessary packages to run my R code also On AWS I did it by using a AWS AMI to install all R packages then create a Zip which would get deployed I wonder if someone has tried running R code with packages on Google Cloud functions "
45222993,"Lambda/Serverless inline require vs. header require","https://stackoverflow.com/questions/45222993/lambda-serverless-inline-require-vs-header-require","{javascript,node.js,memory,aws-lambda,serverless-framework}","2017-07-20 18:49:53+03","2024-05-17 05:06:25.412905+03","I am building an API using AWS Lambda and API Gateway Rather than splitting each API endpoint into individual lambda functions I am wrapping them into a single library and using the awsserverlessexpress library Given that only a portion of the entire API might be used in a single Lambda execution from a memory utilization standpoint to cut down on cost is there a difference between or So for example a single API request might result in only handleSomething2 being called before the Lambda function is powered down In that case are we effectively wasting memory by calling var myModule require mymodule up top I suppose the more direct question is when I var myModule require mymodule does the node js runtime actually allocate memory for myModule at that moment Or is it effectively a noop until I actually do something with myModule "
45234813,"AWS Lambda Container destroy event","https://stackoverflow.com/questions/45234813/aws-lambda-container-destroy-event","{node.js,containers,aws-lambda,serverless-framework}","2017-07-21 10:03:22+03","2024-05-17 05:06:26.564682+03","When to release connections and cleanup resources in lambda In normal Node JS application we do use the hook However this does not work on AWS Lambda Resulting the Mysql connection in sleep mode We do not have enough resource for such active connections None of the AWS documentation specify a way to achieve this How to receive stop event of AWS Lambda container "
45236308,"Serveless Framework and CodeBuild : Missing required key 'Bucket' in params","https://stackoverflow.com/questions/45236308/serveless-framework-and-codebuild-missing-required-key-bucket-in-params","{amazon-iam,serverless-framework,aws-codebuild}","2017-07-21 11:17:59+03","2024-05-17 05:06:27.619517+03","I am having problems getting AWS CodeBuild to Build and Deploy a project created using Serverless Framework Here is the story so far I have followed the docs to create the beginnings of a Serverless project and left as is basically Hello World I have then put the project in a git repo Then from the CLI I have called and as expected the lambda has been deployed A good start Next on the agenda was to have a go at building and deploying using AWS CodeBuild I have added a buildspec yml file in the root of the project Then using the AWS ConsoleWeb Interface I have defined a code build project which references the git repo When doing so AWS created an IAM Role with the following policy So I pressed Start Build on the CodeBuild project and got the following errors ServerlessError User arnawsstsassumedrolecodebuildmyapibuildserviceroleAWSCodeBuild is not authorized to perform cloudformationDescribeStackResources on resource arnawscloudformationeuwest1stackmyapidevelopment which I fixed by adding the following to the policy created by code build Pressed Start Build again and got An error occurred while provisioning your stack ServerlessDeploymentBucket API s3CreateBucket Access Denied which I fixed by adding the following to the policy created by code build Serverless Error Missing required key Bucket in params"
45273443,"How to install gatsby in AWS lambda?","https://stackoverflow.com/questions/45273443/how-to-install-gatsby-in-aws-lambda","{lambda,aws-lambda,serverless-framework,gatsby}","2017-07-24 05:50:52+03","2024-05-17 05:06:28.583665+03","I want to create gatsbyjs site using aws lambda Any one have idea how we can install gatby nmp package globally in AWS lambda I want to execute How can I execut this in aws lambda"
45279437,"How do I use jquery within the serverless framework?","https://stackoverflow.com/questions/45279437/how-do-i-use-jquery-within-the-serverless-framework","{javascript,jquery,lambda,aws-lambda,serverless-framework}","2017-07-24 11:27:01+03","2024-05-17 05:06:29.573653+03","I would like to make use of the jquery deferred method in my serverless lambda project However after requiring both jquery jqueryui as dependencies the following error occurs when I attempt to make use of the jquery library I am new to serverless and lambda so please see the handler js function below handler js model js package json After requiring Jquery instead of JqueryUI I get this exception"
45303121,"Serverless: The specified bucket does not exist","https://stackoverflow.com/questions/45303121/serverless-the-specified-bucket-does-not-exist","{lambda,serverless-framework,serverless-architecture}","2017-07-25 12:19:54+03","2024-05-17 05:06:30.457816+03","I stupidly removed the s3 bucket for my serverless project When I now try and deploy or remove my application I get this error The specified bucket does not exist How can I recreate the s3 bucket from Serverless"
46058826,"Module initialization error","https://stackoverflow.com/questions/46058826/module-initialization-error","{amazon-web-services,aws-lambda,serverless-framework}","2017-09-05 15:40:16+03","2024-05-17 05:07:06.691989+03","I am using virtualenv and serverlesspythonrequirements for my Python deployment in AWS Lambda using the serverless framework But after upload when I am calling the function it is giving module initialization error [Errno 22] Invalid argument error I am new to the serverless framework so could not find out what I am doing wrong Here is my serverless yml file httpsgist github comhimadrigangulyf9571c09a3c01c79ebf920034f5e5e55"
45324276,"What's the best server solution to handle high traffic?","https://stackoverflow.com/questions/45324276/whats-the-best-server-solution-to-handle-high-traffic","{amazon-web-services,aws-lambda,serverless-framework}","2017-07-26 10:26:35+03","2024-05-17 05:06:31.524637+03","There should be a web service where it inserts some data into a table The service should be able to handle 800 to 900 requests per second Simply we get a POST request so we insert the data in to a table We thought of go with Amazon serverless solutions AWS Lambda Can our solution achieve the requirements any bottlenecks in the process or the services we use Is there any better solutions to handle this kind of a traffic We need to analyze our data which we collect through our Lambda function For that we are planning to move the data into a different table and this data migration part happens once a day probably during the offpeak What is the best way to handle this data migration"
45348580,"AWS Lambda fails to return PDF file","https://stackoverflow.com/questions/45348580/aws-lambda-fails-to-return-pdf-file","{node.js,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-07-27 10:47:11+03","2024-05-17 05:06:32.120794+03","I have created a lambda function using serverless This function is fired via API Gateway on a GET request and should return a pdf file from a buffer I am using htmlpdf to create the buffer and trying to return the pdf file with the following command but the browser is just failing to load the pdf so I do not know exactly how to return the pdf file directly to the browser Couldnt find a solution for that "
45349124,"How to mention elastic search roles serverless.yml","https://stackoverflow.com/questions/45349124/how-to-mention-elastic-search-roles-serverless-yml","{python-3.x,aws-lambda,serverless-framework}","2017-07-27 11:10:22+03","2024-05-17 05:06:32.894111+03","I am working on an serverless project with awspython3 template The lambda needs to write to amazon elastic search database So how do I mention these thing in serverless yml file in iamroles section "
45437205,"Cannot debug serverless application in Visual Studio Code","https://stackoverflow.com/questions/45437205/cannot-debug-serverless-application-in-visual-studio-code","{node.js,visual-studio-code,serverless-framework,serverless-architecture}","2017-08-01 11:59:17+03","2024-05-17 05:06:33.938785+03","I have tried to debug serverless application developed using serverless framework in VS code I have followed this article But when I trying to debug the code I am getting an error from VS code as below Cannot launch program g\Projects\Serverless1\node_modules bin\sls setting the outDir or outFiles attribute might help sls command file already exists in the folder and following are the launch json file settings Please help me to fix this issue "
45443678,"How to deploy a serverless code into a stage in AWS API Gateway","https://stackoverflow.com/questions/45443678/how-to-deploy-a-serverless-code-into-a-stage-in-aws-api-gateway","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-08-01 16:57:30+03","2024-05-17 05:06:35.053575+03","To deploy a serverless project into a stage of a service following command can be used serverless deploy stage dev Extracted from the docs httpsserverless comframeworkdocsprovidersawsguidedeploying However when above command is used to deploy a service it creates a new service with name devawsnodejs in API Gateway Is it possible to create a service with name awsnodejs and have different stages like dev stag prod etc Therefore when you run the following command serverless deploy stage stag A new stage called stag will be created under service awsnodejs "
45453680,"Serverless: Deploy to same api from different yml","https://stackoverflow.com/questions/45453680/serverless-deploy-to-same-api-from-different-yml","{node.js,aws-api-gateway,aws-cloudformation,serverless-framework}","2017-08-02 07:01:12+03","2024-05-17 05:06:36.159447+03","I have api api demo It has following structure I have two separate folders service1 service2 Each one having its own serverless yml file When I deploy It creates tow separate apis in api gateway as below How to update service2 to take same api endpoint api demo id1 How I can achieve this Any pointers would be helpful "
45458993,"AWS ApiGateway Latency Issue","https://stackoverflow.com/questions/45458993/aws-apigateway-latency-issue","{java,aws-lambda,aws-api-gateway,serverless-framework}","2017-08-02 11:00:35+03","2024-05-17 05:06:36.641311+03","I am currently using AWS Lambda for my internal application to application calls using spring framework implemented with jrestless Application to application call is working perfect with decent latency 1015ms ideally But when I am trying to leverage same lambda function via API Gateway the latency shoots up to 700800 ms Even though my lambda function is taking same 1015 ms Lambda Function Configurations API Gateway Configurations No Authentication is being used and its an HTTPS call Has anyone faced a similar issue"
45465350,"Serverless ApiGatewayMethodOptions template error","https://stackoverflow.com/questions/45465350/serverless-apigatewaymethodoptions-template-error","{aws-lambda,serverless-framework}","2017-08-02 15:43:24+03","2024-05-17 05:06:37.645743+03","I am trying to deploy AWS lambda using sls deploy command and got next error Environment Information my serverless yml looks like below"
45471447,"AWS CloudFormation: pathmapping - Invalid stage identifier specified","https://stackoverflow.com/questions/45471447/aws-cloudformation-pathmapping-invalid-stage-identifier-specified","{amazon-web-services,aws-cloudformation,serverless-framework}","2017-08-02 21:40:17+03","2024-05-17 05:06:38.311741+03","I am deploying Lambdas and APIGateway config through CloudFormation ultimately using Serverless The generated CloudFormation pathmapping section in the cloudformationtemplateupdatestack json looks like this When this is run I get back the error I am not really sure what this means The stack gets uploaded to S3 and everything looks fine however no matter how I play around with it I continue to get this message Curious if anyone has any thoughts about what causes this or how to fix it"
45751946,"Setting up a NAT gateway with VPC using Serverless framework","https://stackoverflow.com/questions/45751946/setting-up-a-nat-gateway-with-vpc-using-serverless-framework","{node.js,amazon-web-services,amazon-vpc,amazon-elasticache,serverless-framework}","2017-08-18 08:22:32+03","2024-05-17 05:06:39.010115+03","I am trying to use the serverless framework to create a Lambda function that can access an Elasticache cluster as well as call out to the internet I have got as far as configuring serverless yml to create the Lambda function create the Elasticache cluster memcached engine and finally to create a VPC and place both the Lambda function and Elasticache cluster within it otherwise they cannot communicate I understand that things within a VPC do not have access to the internet and from researching around the topic I have come to the conclusion that the best practice way of handling this is to create a NAT gateway for the VPC that will allow it external access I can see how to do this within the AWS Console however I would like to stick to defining this within serverless yml to avoid any manual infrastructure setup In getting to the point I am currently at I heavily copied from one of the serverless examples it is a Java based example but the concept and service definition is the same It creates a Lambda function an Elasticache cluster and puts them in a VPC so they can communicate I believe it has the same issue whereby the Lambda function cannot access the internet httpsgithub commugglmenzelserverlessexamplescachedrdswsblobmasterserverless yml"
45768908,"How do I create a subfolder in Azure functions","https://stackoverflow.com/questions/45768908/how-do-i-create-a-subfolder-in-azure-functions","{azure,azure-functions,serverless-framework}","2017-08-19 07:26:38+03","2024-05-17 05:06:41.08346+03","I am following this guide httpssqldusty com20170621howtoautomateprocessingofazureanalysisservicesmodels In step 4 Configure the Function App we need to create a subfolder called bin Select your function TimerTriggerCSharp1 and expand the View files windows on the far right of your screen Here you need to add a folder called bin Click Add to do this When I click add it adds a file not a folder What am I missing EDIT In the end I kept getting inconsistent assembly errors and easily hit the 5 minute timeout limitation So I looked into Azure Automation instead This appears to be a much simpler way to achieve what I need I am just having difficulty with the scheduling now"
45771213,"Microsoft bot on AWS Lambda (botbuilder-aws-lambda) errors","https://stackoverflow.com/questions/45771213/microsoft-bot-on-aws-lambda-botbuilder-aws-lambda-errors","{node.js,aws-lambda,botframework,serverless-framework}","2017-08-19 11:54:01+03","2024-05-17 05:06:41.85461+03","I have a developed a Microsoft bot that works using the botframework emulator I want to host it on AWS Lambda and am using the following code and when I execute it on lambda it results in errors The following are the errors The detailed log file shows the following"
45774104,"Node Serverless Webpack not working on Lambda","https://stackoverflow.com/questions/45774104/node-serverless-webpack-not-working-on-lambda","{node.js,lambda,webpack,babeljs,serverless-framework}","2017-08-19 16:54:16+03","2024-05-17 05:06:42.953021+03","I have a situation where my serverlesswebpack code works locally using serverlessoffline but when when I deploy to Lambda I get a 502 It is a fairly simple Hello World Node js application but I have thrown in some twists as I am trying to build a starter kit for a real app As with any real JavaScript application I would like to code in ES next i e ES7 Babel etc so I am building with serverlesswebpack which supports Babel I am using babelpresetnode6 instead of babelpresetes2015 as shown in many examples and babelpresetstage2 but that shouldnt matter I am also moving the http handler logic i e handlerjs away from the hello world code i e srchelloWorld js You know separation of concerns and all Any help would be greatly appreciated The complete code is on Github Output from my deploy is"
45775676,"How does Web App refresh Google Login token in AWS serverless configuration?","https://stackoverflow.com/questions/45775676/how-does-web-app-refresh-google-login-token-in-aws-serverless-configuration","{amazon-web-services,amazon-cognito,google-oauth,serverless-framework}","2017-08-19 19:42:27+03","2024-05-17 05:06:43.352705+03","I have a ReactRedux application which talks with AWS Resources e g DynamoDB To get access to DynamoDB The problem is when Facebook Google tokens expire after 12 hours Then I cannot refresh my Federated Identities token and I cannot talk with AWS resources How to refresh Google token directly from Web App using Javascript Google recommends to NOT to use and store refresh token in Web Application but send access token or id token to the backend which exchanges it on refresh token According to this have I setup additional Lambda function to exchange access token to refresh token with Google and table in DynamoDB where I store refresh token or Can I force to receive refresh token to Web Application and store in local storage"
45807461,"How to properly close the database connection in a lambda function?","https://stackoverflow.com/questions/45807461/how-to-properly-close-the-database-connection-in-a-lambda-function","{lambda,aws-lambda,serverless-framework}","2017-08-22 00:58:56+03","2024-05-17 05:06:44.48723+03","In my lambda function I tried to close the mongo connection as soon as I send a callback But it has a problem I think lambda reuse the connection for all the functions because I open the connection in the top of the handler Any idea what how to fix this Do we really have to close the connection at this point"
45837105,"How to rename the aws lambda function without changing anything in it","https://stackoverflow.com/questions/45837105/how-to-rename-the-aws-lambda-function-without-changing-anything-in-it","{aws-lambda,serverless-framework}","2017-08-23 10:24:09+03","2024-05-17 05:06:45.215479+03","Earlier my function in serverless was I want to change fun with some meaningful name So I changes it as Earlier my function in serverless was Now When I deployed this function through serverless Got the below error An error occurred while provisioning your stack myfunLogGroup awslambdalambdafun already exists Please help me What I can do more to do this "
45847009,"how to develop socket like approach with aws lambda (serverless architecture)","https://stackoverflow.com/questions/45847009/how-to-develop-socket-like-approach-with-aws-lambda-serverless-architecture","{node.js,amazon-web-services,socket.io,aws-lambda,serverless-framework}","2017-08-23 18:29:22+03","2024-05-17 05:06:46.207438+03","How to developrefactor a node js project that uses socket io and send JSON data from a client to another in a room I have developed a project with node js and socket io that there is a board game in a part of it the user1 select a place and its information send to the user2 in JSON format and this part developed with socket io now I want to deploy the project to AWS Lambda but I realize that socket io cannot run because of serverless nature so my question is how can I develop this board game with AWS Lambda and what technologylibrary can I use"
45855775,"How to enable HTTP/2 support in CloudFront using serverless?","https://stackoverflow.com/questions/45855775/how-to-enable-http-2-support-in-cloudfront-using-serverless","{amazon-cloudfront,http2,serverless-framework}","2017-08-24 07:45:11+03","2024-05-17 05:06:47.062646+03","How to enable HTTP2 support in CloudFront using serverless I am using serverless httpsgithub comserverlessserverless to create a simple serverless application that serves HTML JS from S3 container using CloudFront To this end I am writing a serverless yml template that will afterwards build this setup for me What do I need to includeconfigure in the template in order to enable HTTP2 support in CloudFront"
45869508,"Serverless with Google Cloud Functions - delete old deployment ZIPs","https://stackoverflow.com/questions/45869508/serverless-with-google-cloud-functions-delete-old-deployment-zips","{google-cloud-platform,google-cloud-storage,google-cloud-functions,serverless-framework}","2017-08-24 19:27:54+03","2024-05-17 05:06:48.166127+03","Each time my Serverless function is deployed with serverless deploy Serverless appears to package up the function with its dependencies and place it in a new folder in Google Cloud Storage and redeploy the function The problem is over time my old deployment ZIPs are still sitting in Google Cloud Storage collecting dust and using up space Is there a way to get Serverless to delete any previous deployment ZIPs after a successful deploy"
46082516,"Debugging 'serverless-webpack': GraphQL error: Lambda services-publishService threw an Error during invocation","https://stackoverflow.com/questions/46082516/debugging-serverless-webpack-graphql-error-lambda-services-publishservice-th","{node.js,deployment,webpack,aws-lambda,serverless-framework}","2017-09-06 18:58:32+03","2024-05-17 05:07:07.375421+03","Using serverlesswebpack trying to deploy I issue SLS_DEBUG sls deploy verbose and all is well until Not entirely sure where to start My babelrc is using babelpresetenv My webpack config js is relevant serverless yml is"
45872046,"Thawing Lambda functions doesn't decrease latency","https://stackoverflow.com/questions/45872046/thawing-lambda-functions-doesnt-decrease-latency","{node.js,aws-lambda,serverless-framework}","2017-08-24 22:50:35+03","2024-05-17 05:06:49.268112+03","I am using serverlesswarmupplugin to run a cron that invokes a Lambda function every 10 minutes The code for the Lambda function looks like this This works on paper but in practice the cron does not keep the Lambda function warm even though it successfully invokes it every 10 minutes When the Lambda is invoked via a different event source other than the cron it takes around 23 seconds for the code to execute Once it is executed this way Lambda actually warms up and starts responding under 400ms And it stays warm for a while What am I missing here"
45898048,"Can I schedule a one-shot action in openwhisk?","https://stackoverflow.com/questions/45898048/can-i-schedule-a-one-shot-action-in-openwhisk","{javascript,ibm-cloud,serverless-framework,openwhisk}","2017-08-26 17:35:58+03","2024-05-17 05:06:50.798537+03","I am playing a bit with openwhisk in IBM Bluemix and now I am looking for a way to shedule a one shot action I know I can run actions at fixed intervals in a cron fashion using feed whisk systemalarmsalarm What I am looking for is similar to the at linux command The closest I figured out involves another server used to generate events but I would like to be as serverless as possible Another non desirable solution would be using js setTimeout but I suppose that would waste execution time And possibly hitting execution time limit Thanks in advance "
45907122,"I cannot just deploy a function with Serverless-framework 1.20.2","https://stackoverflow.com/questions/45907122/i-cannot-just-deploy-a-function-with-serverless-framework-1-20-2","{deployment,aws-lambda,serverless-framework}","2017-08-27 16:39:33+03","2024-05-17 05:06:51.307596+03","I wanted to follow these tips and just redeploy my function as the serverless yml had not been changed However it just hangs on the Serverless Uploading function stage Forever apparently The whole deploy with sls deploy works though slowly How can debug this as there is apparently no error message EDIT When I use sls deploy my project takes about 4 min and 15s to deploy It seems rather long to me so I thought I would use sls deploy function f myFunction instead which is supposed to be much faster However when I try sls deploy function f myFunction it seems to just hang forever on Serverless Uploading function myFunction I have no idea how to debug that It seems using verbose with Serverless Uploading function myFunction verbose does not make a difference the messages returned are the same I will try to wait and see if eventually the function deploy completes Well I waited and it does not after about 8 min 30s I get the following error message Serverless Error Connection timed out after 120000ms Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Forums forum serverless com Chat gitter imserverlessserverless Your Environment Information OS linux Node Version 7 10 0 Serverless Version 1 20 2 Another oddity when hanging it reads Serverless Uploading function myFunction 12 05 MB But the function itself is just 3 2 kB and does not include any packages When I use sls deploy the size displayed is the same Serverless Uploading service zip file to S3 12 05 MB What could be wrong with my function deploy EDIT 2 As dashmug hinted there is a config issue in serverless yml In the functions dir of my serverless project I would like to have a common package json and node_modules Then each function could import modules as needed I tried to follow the official guide My serverless yml is like so Now I get with sls deploy Serverless Uploading service zip file to S3 31 02 MB and the function works However with sls deploy function f myFunction I get Serverless Uploading function dispatch 1 65 MB It does upload in a reasonable time but the function now gives the following error Unable to import module functionsmyFunction Error"
45911191,"integrating redis into serverless","https://stackoverflow.com/questions/45911191/integrating-redis-into-serverless","{redis,node-redis,serverless-framework}","2017-08-28 02:48:52+03","2024-05-17 05:06:52.079676+03","I am looking at integrating a caching service with serverless I have decided to go with redis However through reading through the npm redis it seems that you are required to call client quit after completing the request The way serverless seems to work is that the instance is spawned and then deleted when not in use So I was wondering if there was a way to quit the redis connection when the serverless instance is being deleted Or whether I just have to actually just start a connection on every request and quit the connection before each request finishes I was hoping I could do it on the app state instead of request state that way I wont have to spawn so many connections "
45911450,"How to use realm with AWS serverless lambda?","https://stackoverflow.com/questions/45911450/how-to-use-realm-with-aws-serverless-lambda","{amazon-web-services,realm,aws-lambda,serverless-framework,realm-mobile-platform}","2017-08-28 03:32:46+03","2024-05-17 05:06:53.183381+03","So I am currently using AWS serverless to make a createObject endpoint which takes the values from the http body and uses the keyvalues to store an item in DynamoDB I am doing this via AWS Lambda We recently started using Realm Realm io and we see that they have a Javascript library for node Is it possible to invoke a realm function to store the same object via AWS Lambda"
45918399,"Correct implementation of babel with serverless","https://stackoverflow.com/questions/45918399/correct-implementation-of-babel-with-serverless","{node.js,mocha.js,aws-lambda,babeljs,serverless-framework}","2017-08-28 11:56:02+03","2024-05-17 05:06:54.241957+03","In our project we have recently decided that for some implementations es6 functions are making our life a lot easier However this easier is not being very translated by babel in combination with serverless The project structure is the following This shows the overall project folder Following are the source code for the individual files serverless yaml package json toplevel note that this probably has too too many packages the actual code has more usages however cleaning this could be in order babelrc srchandler js obviously not everything is defined this is just an example srcpackage json this one only contains all the different packages needed in src now this just contains enough to do the Request testtest js tests local code So what are we doing to run this code We have a pipeline or a local script if you so please to run the following commands in order npm run installbase npm run testsrc npm run build npm run testdist npm run svldeploy Explanation of the different commands 1 npm run installbase Installs all the dev dependencies and the commands to run the linting testing babel and serverless It also goes into src to install the required pacakges there so that src can run 2 npm run testsrc Copies test to src and runs it this will test all the code to the local folder in this case the src folder 3 npm run build Removes node_modules test from src translates src to dist using babel this actually properly translates 4 npm run testdist Copies test to dist and runs it this will test to the local folder in this case dist Here the problem is that this does not work without require babelpolyfill command However the translation is made 5 npm run svldeploy Given that everything went fine deploy to serverless The problems appear on step 4 if I run it without require babelpolyfill I get the error I can fix that with giving the mocha the following command require babelpolyfill However running that leaves my serverless deployment broken My question now is what is the sane way of going about this If possible I want to keep the folder overview like this as it really clearly shows what is needed where without cluttering the overall view BR Mathieu"
45926811,"Serverless: dynamodb delete where condition","https://stackoverflow.com/questions/45926811/serverless-dynamodb-delete-where-condition","{node.js,amazon-dynamodb,serverless-framework}","2017-08-28 20:22:06+03","2024-05-17 05:06:55.342113+03","I am trying and failing to delete a record with a condition I keep getting this error The provided key element does not match the schema This is my definition in the yml These are the params when trying to delete I know it is something I am not getting but I do not know what Any ideas"
45944285,"Serverless computing marketplace?","https://stackoverflow.com/questions/45944285/serverless-computing-marketplace","{serverless-framework}","2017-08-29 16:40:18+03","2024-05-17 05:06:56.349238+03","I am looking for a place to buysell AWS lambdaazure functionsgoogle functions scripts Does anyone know if such a thing exists Would anyone else be willing to pay for this"
45952948,"mongoose pre function doesn't work on middle ware remove","https://stackoverflow.com/questions/45952948/mongoose-pre-function-doesnt-work-on-middle-ware-remove","{node.js,mongodb,mongoose,serverless-framework}","2017-08-30 05:58:28+03","2024-05-17 05:06:57.480922+03","I have tries to delete referenced documents in mongoDb when Company is deleting But after i execute following it only deletes the Company and not executing middle ware body inside schema file"
45962924,"Serverless deploy error provisionning stack","https://stackoverflow.com/questions/45962924/serverless-deploy-error-provisionning-stack","{aws-lambda,serverless-framework}","2017-08-30 14:19:04+03","2024-05-17 05:06:58.688587+03","When I try to deploy my application on AWS I get the following error An error occurred while provisioning your stack HelloLambdaFunction Lambda was unable to configure your environment variables because the environment variables you have provided contains reserved keys that are currently not supported for modification Reserved keys used in this request AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY My AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY are stored in env yml and I access them using process env AWS_ACCESS_KEY_ID How can I fix this error "
45973694,"Serverless NodeJS / Native node_modules","https://stackoverflow.com/questions/45973694/serverless-nodejs-native-node-modules","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-08-31 05:18:01+03","2024-05-17 05:06:59.092067+03","I am having an issue getting a node module to load in AWS Lambda using the Serverless Framework One of my node packages uses native libraries so I used an EC2 to create the node_module folders and then copied them to my Serverless project Everything works if I manually zip the project and upload to AWS Lambda but if I use serverless deploy without an artifact specified I get an error about the module specifically ELF files phentsize not the expected size regarding a node file I have tried adding excludeDevDependencies false which makes the deployment larger but still gives me the error Currently it only works if I zip the contents of the project folder and specify that file as the artifact to upload Is there a different way to get a node module with native bindings to deploy with Serverless UPDATE After turning off the exclusion of dev dependencies packaging using serverless package and examining the expanded zip file serverless creates I discovered the file sizes of the o and a files are different in the packaged version as compared to the original Is this normal"
45977137,"AWS API Gateway don't populate method request in transformation","https://stackoverflow.com/questions/45977137/aws-api-gateway-dont-populate-method-request-in-transformation","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-08-31 08:46:38+03","2024-05-17 05:07:00.113316+03","We are using AWS API Gateway which provide HTTP endpoint with POST method which we can to call like on this image This Gateway call our AWS Lambda function using Lambda Proxy integration The issue is that input object which we pass to function handler came with not populated fields when we make call to Gateway from external REST client If try to call Gateway in test mode from AWS Gateway console page with the same headers and body we see that Lambda handler get correctly populated request object There are some details from logs below Log records on method request before transformation in testmode call Log records related to method request body in testmode call after transformation As you can see after transformation request body contains populated fields like resource path headers etc That is correct behavior But when I call API Gateway not from AWS Console but from my HTTP client I see in logs that request fields are empty Any ideas why can this happens"
45990013,"Making native Kubeless calls via REST","https://stackoverflow.com/questions/45990013/making-native-kubeless-calls-via-rest","{node.js,rest,curl,kubernetes,serverless-framework}","2017-08-31 21:01:17+03","2024-05-17 05:07:01.170712+03","I want to submit a function via httptrigger from a NodeJS process to kubeless but I do not want to use the javascript equivalent of because that needs me to know the actual IP address of the service running the function I want to be able to access the kubeless api that gives me the level of indirection by just knowing the name of the function Is there anyway to access the above function call api via node"
45991897,"Can't access to RDS from Amazon Lambda, same VPC and correct role permissions","https://stackoverflow.com/questions/45991897/cant-access-to-rds-from-amazon-lambda-same-vpc-and-correct-role-permissions","{amazon-web-services,amazon-rds,serverless-framework}","2017-09-01 00:44:05+03","2024-05-17 05:07:02.148295+03","I cannot successfully connect to RDS from Amazon Lambda in production For Amazon Lambda I am using Serverless framework executing sls offline I can connect with RDS from localhost but in production Amazon Lambda does not Both are in same VPC in same security group that has all traffic inbound access and a rule that is pointing to Vpcs CIDR I have these permissions attached AmazonRDSFullAccess AWSLambdaFullAccess AmazonVPCFullAccess AWSLambdaExecute and AWSLambdaVPCAccessExecutionRole "
46003563,"!ImportValue in Serverless Framework not working","https://stackoverflow.com/questions/46003563/importvalue-in-serverless-framework-not-working","{aws-cloudformation,serverless-framework}","2017-09-01 15:29:37+03","2024-05-17 05:07:02.911465+03","I am attempting to export a DynamoDb StreamArn from a stack created in CloudFormation then reference the export using ImportValue in the serverless yml But I am getting this error message The cloudformation and serverless yml are defined as below Any help appreciated StackA yml serverless yml"
46029454,"DynamoDBContext does not have Save() method","https://stackoverflow.com/questions/46029454/dynamodbcontext-does-not-have-save-method","{.net,amazon-web-services,amazon-dynamodb,serverless-framework}","2017-09-04 02:10:09+03","2024-05-17 05:07:03.935294+03","I am new to AWS server less programming I am trying to following sample using server less architecture httpdocs aws amazon comamazondynamodblatestdeveloperguideDynamoDBContext ArbitraryDataMapping html But I could not find Save method in DynamoDBContext class it only contains SaveAsync Could anyone tell me why is that"
46043872,"serverless deployment error - Code storage limit exceeded","https://stackoverflow.com/questions/46043872/serverless-deployment-error-code-storage-limit-exceeded","{serverless-framework}","2017-09-04 20:51:06+03","2024-05-17 05:07:04.510581+03","Deployment of my serverless project has started returning the following error An error occurred while provisioning your stack [lambda name][GUID] Code storage limit exceeded I have tried deleting zip packages thinking there a limit to how many upload packages can be stored in the S3 bucket but no luck As mentioned by Trent below I have looked at the deployment limits but with a compressed packaged of 2 1MB 8MB uncompressed I cannot see what limits I would be exceeding Any suggestions on what might be causing this My Solution I was hoping to get a better understanding of the underlying problem and was hoping to do this as a last resort But it appears by deleting the stack from cloudformation and redeploying the serverless project the problem has fixed itself "
46047478,"Can serverless be used to to create RDS instance?","https://stackoverflow.com/questions/46047478/can-serverless-be-used-to-to-create-rds-instance","{amazon-web-services,amazon-elastic-beanstalk,serverless-framework}","2017-09-05 05:21:19+03","2024-05-17 05:07:05.591596+03","Currently we are using Serverless framework to update our devtest environments and manage our environments manually Eg each time we create a new environment we manually create Elastic Beanstalk application RDS instance Is it possible to automate all this using serverless script or cloudformation"
46098047,"How to fetch GET and POST params inside a AWS Lambda Function","https://stackoverflow.com/questions/46098047/how-to-fetch-get-and-post-params-inside-a-aws-lambda-function","{python,aws-lambda,aws-api-gateway,serverless-framework}","2017-09-07 13:46:27+03","2024-05-17 05:07:08.479484+03","I am playing around with AWS Lambda API Gateway Serverless Python It is amazing So I figured that the event parameter in the function holds a lot of information including the HTTP Request information Furthermore I found that Are the keys that hold the GET and POST parameters and How could I get a hashdictionary from the body key Thanks"
46098173,"How to Add iamRoleStatements to S3 Trigger Bucket in Serverless Framework","https://stackoverflow.com/questions/46098173/how-to-add-iamrolestatements-to-s3-trigger-bucket-in-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,amazon-iam,serverless-framework}","2017-09-07 13:51:20+03","2024-05-17 05:07:09.427453+03","When I am adding the following code in serverless yml file On deployment I am getting The CloudFormation template is invalid Circular dependency between resources I am using boto3 with python3 to get the private file that is uploaded to the S3 bucket after the trigger event so like to give the permission to Lambda function for that bucket "
46358050,"Mongo connection occasionally makes the lambda function timeout","https://stackoverflow.com/questions/46358050/mongo-connection-occasionally-makes-the-lambda-function-timeout","{mongodb,lambda,aws-lambda,serverless-framework,serverless-architecture}","2017-09-22 06:17:33+03","2024-05-17 05:07:10.482419+03","I have been using MLab MongoDB and mongoose library to create a db connection inside a serverless Lambda handler It works smoothly on local machine But sometimes it does not work after deployment The request returns an Internal server error The weird thing is sometimes it works But If I remove the database connection code the handler works The serverless log just says Process exited before completing request No real errors so no idea what to do The db connection looks like this handler js No error in here too Any idea what is happening"
46361980,"how to verify if the schedule cron is working on serverless framework","https://stackoverflow.com/questions/46361980/how-to-verify-if-the-schedule-cron-is-working-on-serverless-framework","{python-2.7,amazon-ec2,cron,aws-lambda,serverless-framework}","2017-09-22 10:00:19+03","2024-05-17 05:07:11.584356+03","i have a 2 lambda functions the first one gets an instance ec2 the second one check status of ec2 i added a schedule events to the second one a cron witch rates every 15 min so now i want to verify if my status function is really called every 15 min i have checked on the triggers in aws console but nothing happend i wonder what did i do wrong here is my handler py file and here is my yml file"
46371287,"how to enable api gateway logs via cloud formation template (serverless.yml)?","https://stackoverflow.com/questions/46371287/how-to-enable-api-gateway-logs-via-cloud-formation-template-serverless-yml","{lambda,aws-lambda,aws-api-gateway,aws-cloudformation,serverless-framework}","2017-09-22 18:41:28+03","2024-05-17 05:07:12.637027+03","I want to enable api gateway logs for my api gateway which is the wraparound for my lambda function When I deploy this I do see lambda logs in cloud watch But API gateway logs are not being recoded in cloudwatch Can any one enlighten me on cloud formation syntax to enable logs for my api gate way I tried adding below code but looks like it is trying to create new api endpoint resources Resources"
46394171,"How do I define resources for iamrolestatements for multiple dynamodb tables in serverless framework?","https://stackoverflow.com/questions/46394171/how-do-i-define-resources-for-iamrolestatements-for-multiple-dynamodb-tables-in","{amazon-web-services,amazon-dynamodb,serverless-framework}","2017-09-24 19:46:12+03","2024-05-17 05:07:13.898355+03","I want to use more than one dynamodb table in my serverless project How do I properly define multiple resources in the iamrolestatements I have an example serverless yml You can see the area in question in the comments there "
46400550,"use serverless to get instance's status","https://stackoverflow.com/questions/46400550/use-serverless-to-get-instances-status","{python-2.7,amazon-web-services,amazon-ec2,boto3,serverless-framework}","2017-09-25 08:19:03+03","2024-05-17 05:07:14.752626+03","i am new to serverless framework and i want to get an instances status so i used boto3 describeinstancestatus but i keep getting error that i am not authorized to perform this kind of operation althought i have administrator access to all aws services please help do i need to change or add something to be recognized here is my code and here is my serverless yml file and here is the error message i am getting errorType ClientError errorMessage An error occurred UnauthorizedOperation when calling the DescribeInstanceStatus operation You are not authorized to perform this operation "
46405045,"How to attach an existing role to serverless.yml?","https://stackoverflow.com/questions/46405045/how-to-attach-an-existing-role-to-serverless-yml","{amazon-web-services,amazon-ec2,serverless-framework}","2017-09-25 12:16:39+03","2024-05-17 05:07:15.771702+03","I want to attach an existing role to my serverless yml file I have created a role in aws console my code works fine when I test it in aws console but when I try to test it with the http endpoint it gives me the following I think is because I did not specify any role in the serverless yml file for the simple reason that I do not know how to do it Here is my serverless yml file Please help Thank you "
46412929,"AWS Lambda - Java Beans","https://stackoverflow.com/questions/46412929/aws-lambda-java-beans","{java,scala,aws-lambda,aws-api-gateway,serverless-framework}","2017-09-25 19:38:14+03","2024-05-17 05:07:16.700316+03","I have a request that looks like the following The handler is as follows which has been documented as well this is a copy and paste from one of the tutorials And it is not working I guess that the BeanProperty refers to body object properties and this is what I can guess from the example here if I would like to have query strings A try was Which results in suggesting that the class has been initialized with an empty map in place of the queryStringParameters which was however submitted correctly Note I am following this path because I feel it would be convenient and expressive to replace the Map in BeanProperty queryStringParameters Map[String String] with a type T for example However the code above looks at nameciao surnamebonjour as a String without figuring out that it should deserialize that String EDIT I have also tried to replace the scala map with a java util Map[String String] without success"
46417182,"Serverless not including my node_modules","https://stackoverflow.com/questions/46417182/serverless-not-including-my-node-modules","{node.js,amazon-web-services,serverless-framework,serverless}","2017-09-26 03:02:26+03","2024-05-17 05:07:17.33745+03","I have a nodejs serverless project that has this structure my serverless yml my sls info shows When I run sls it works and my script where I included googleapis and awssdk work But when I deploy those functions are skipped and show no error "
46423346,"display ec2.describe.instance.status 's parameters","https://stackoverflow.com/questions/46423346/display-ec2-describe-instance-status-s-parameters","{python,amazon-ec2,boto3,serverless-framework}","2017-09-26 09:59:26+03","2024-05-17 05:07:18.280333+03","i am writtnig a lambda function on serverless framework that resturns instances status i used boto3 my code works fine i get all the parameters but i want to display just The state of the instance pending running shuttingdown here is my code Here is the http output "
46439875,"How to configure CORS for an AWS API Gateway Custom Authorizer?","https://stackoverflow.com/questions/46439875/how-to-configure-cors-for-an-aws-api-gateway-custom-authorizer","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-09-27 05:06:51+03","2024-05-17 05:07:18.701356+03","I have an API powered by API Gateway and Lambda that uses a custom authorizer For successful requests it passes through the authorizer and then my Lambda can return proper responses with CORS headers with no problems However for unsuccessful authorizations eg invalid tokens I get no CORS headers and that causes my client app which uses fetch API to throw How do I setup CORS for an API that uses a custom authorizer"
46449906,"How to run a common function before every serverless function like an express middleware?","https://stackoverflow.com/questions/46449906/how-to-run-a-common-function-before-every-serverless-function-like-an-express-mi","{lambda,aws-lambda,serverless-framework}","2017-09-27 14:01:37+03","2024-05-17 05:07:19.540848+03","I need to run a function before running every serverless function to authenticate the user and sanitize the data Then pass that data to the actual function like an ExpressJS middleware Can we do something like that with serverless"
46473585,"graphiql UI is broken for Serverless/AWS-Lambda setup","https://stackoverflow.com/questions/46473585/graphiql-ui-is-broken-for-serverless-aws-lambda-setup","{aws-lambda,graphql,serverless-framework,apollo-server,serverless-framework-offline}","2017-09-28 15:59:25+03","2024-05-17 05:07:20.458861+03","Heres a reference setup of AWS Lambda and Serverless and GraphQL that i am following httpsgithub comserverlessserverlessgraphqlapollo I am trying with yarn run startserverlambdaoffline to start the project offline it does start without any problems but upon navigating to graphiql I get this"
46491769,"How to remove the 'unexpected Token export' error from serverless project?","https://stackoverflow.com/questions/46491769/how-to-remove-the-unexpected-token-export-error-from-serverless-project","{babeljs,serverless-framework}","2017-09-29 15:06:36+03","2024-05-17 05:07:21.550872+03","I am creating a project using the serverless framework with es7 support But i am getting an unexpected Token export error when i try to run my function locally using the following command I think i have included the required babel dependencies package json babelrc serverless yml webpack config js handler js What can I do to get rid of this error"
46498399,"How to run a node web app and aws serverless function locally","https://stackoverflow.com/questions/46498399/how-to-run-a-node-web-app-and-aws-serverless-function-locally","{angularjs,node.js,aws-lambda,serverless-framework}","2017-09-30 00:26:52+03","2024-05-17 05:07:22.246988+03","I am working on a project for work trying to debug an aws serverless repo and there is a lot of input to include from the POST method from the angularjs web app UI I can already run both locally separately but would like to have the angularjs web app point to the local serverless nodejs app rather than the one hosted on amazon One of the developers said you can replace the link in the angularjs web app which currently points to the aws nodejs serverless and change it to which would look someething like this in a json file This is so that it points to my local serverless rather than to the one on amazon so I can debug it I was thinking maybe attaching as a process might work but do not really know how to do that anyway the method above which is replacing the amazon aws serverless link for the sls one does not work either It is not hitting the local serverless nodejs app when I have it running It seems the only way I have to debug it is using Rest Client extension in Chrome or Postman I would rather just run it in the angularjs UI web app and have it be stopped by the local serverless nodejs app at the breakpoints so I know all of the information is being passed for the POST calls I know this is harder to setup but I think ultimately easier for debugging thanks"
46500957,"Are there a cloud service that was reliably schedule execute a job at exact time? [closed]","https://stackoverflow.com/questions/46500957/are-there-a-cloud-service-that-was-reliably-schedule-execute-a-job-at-exact-time","{web-services,cloud,job-scheduling,serverless-framework}","2017-09-30 08:22:52+03","2024-05-17 05:07:23.881381+03","We dont allow questions seeking recommendations for software libraries tutorials tools books or other offsite resources You can edit the question so it can be answered with facts and citations Closed 2 months ago I was writing server with serverless model currently aws lambda And have a requirement to run a job on exact datetime Currently now I was running a cron job with aws cloudwatch to execute my server every minute find all tasks which has timestamp older than present then do those task Which is both wasteful and sometimes make a delay or in advanced by one minute from the actual time it need because cloudwatch has maximum frequency only one ping per one minute Not a desirable approach And the work is not the same everyday It can be dynamic datetime by client to ping my server I wish there should be some service that like a message queue but can actively call target URL on scheduling timestamp Is there something like that It could be any service outside aws if it can put a URL for request Thank you very much"
46568278,"Domain name already associated with an ""existing"" CloudFront distribution","https://stackoverflow.com/questions/46568278/domain-name-already-associated-with-an-existing-cloudfront-distribution","{amazon-web-services,amazon-cloudfront,amazon-route53,serverless-framework}","2017-10-04 15:09:25+03","2024-05-17 05:07:24.18899+03","When I try to setup a domain through serverlessdomainmanager with sls create_domain it fails with BadRequestException The domain name you provided is already associated with an existing CloudFront distribution Remove the domain name from the existing CloudFront distribution or use a different domain name If you own this domain name and are not using it on an existing CloudFront distribution please contact support api example com was not created I tracked down the line where the library fails Note that my account does not have anything in CloudFront This is what I see when I open it It is also interesting that in Certificate Manager it says that the certificate is in use Under Associated Resources I can see an entry for cloudfront arnawscloudfront "
47533166,"Serverless Python package- dlib dependency","https://stackoverflow.com/questions/47533166/serverless-python-package-dlib-dependency","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2017-11-28 13:48:36+02","2024-05-17 05:08:07.355002+03","I am building a Python deployment package for AWS Lambda that relies on dlib dlib has OS dependencies and it relies on cmake in order to build out the binaries I am wondering how to do this given that I have a Mac and am doing my development on that environment I am aware of Docker but I am not sure how to setup an image to compile the binaries for AWS Any help in doing this would be appreciated "
46577881,"Malformed Lambda proxy response: deploying python endpoints through serverless","https://stackoverflow.com/questions/46577881/malformed-lambda-proxy-response-deploying-python-endpoints-through-serverless","{python,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-10-05 04:31:56+03","2024-05-17 05:07:25.351836+03","I am trying to send a JSON response back through a Lambda function building through Serverless but it is erroring out I am creating the response But AWS is only returning I am printing out that response object and it is When I invoke through API Gateway this is the logs I am getting Not very experienced with Python any help would be greatly appreciated According to this the response needs to be formatted properly for API Gateway Not sure why my response is not conforming to what API Gateway is looking for "
46579421,"How to deploy to a specific object key inside an S3 Bucket with the Serverless framework?","https://stackoverflow.com/questions/46579421/how-to-deploy-to-a-specific-object-key-inside-an-s3-bucket-with-the-serverless-f","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2017-10-05 06:45:18+03","2024-05-17 05:07:26.270275+03","Serverless framework configuration allows However it always creates a serverless object key inside the foo bucket I want to be able to deploy to a different key like BAR What are my options here"
46595148,"How to protect non-production API Gateway endpoints?","https://stackoverflow.com/questions/46595148/how-to-protect-non-production-api-gateway-endpoints","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-10-05 21:35:39+03","2024-05-17 05:07:27.183026+03","In our previous regular instancebased backends for a pretty good portion of the development process of the API we were protecting the dev version of the endpoints with basic auth Is there a pattern of how to efficiently hide our serverless endpoints API Gateway from public but still available for the frontend team to develop on"
46602254,"How to obtain working template from CloudFormation Management Console?","https://stackoverflow.com/questions/46602254/how-to-obtain-working-template-from-cloudformation-management-console","{amazon-web-services,lambda,deployment,aws-lambda,serverless-framework}","2017-10-06 09:10:04+03","2024-05-17 05:07:28.161021+03","I am working to extend this solution httpsgithub comadieuadieuserverlesschrome to my needs I am using serverless on my laptop with Debian 9 to deploy it to AWS Lambda I would like to use AWSSamlocal httpsgithub comawslabsawssamlocal to run it locally for developing I would like to use AWSSamlocal because I believe that there is difference between running this solution via serverless webpack serve function run and sam local startapi The difference I think is event object which I want to make contain POST or binary data multipart files transfer For that I have to allow binary transfer via API Gateway But correct me if I am wrong because I am totally green in the AWS and Serverless field and this is my first time with this technologies The problem I get is awssamlocal needs the CloudFormation template to know how to run serverlesschrome project If I make deploy to AWS and go to CloudFormation Console I can copy that template after selecting it in Stacks table and clicking Template tab Then I use cfnflip to convert JSON into YAML In the end I got template yml but running sam local startapi gives me error Please tell me what to do to make serverlesschrome run locally as it would run on AWS Lambda "
46603227,"Ip whitelisting in AWS proxy API gateway using SAM template","https://stackoverflow.com/questions/46603227/ip-whitelisting-in-aws-proxy-api-gateway-using-sam-template","{amazon-web-services,aws-lambda,serverless-framework}","2017-10-06 10:03:41+03","2024-05-17 05:07:29.263999+03","Im trying to create a ip whitelist to allow access to the APi gateway I need to do it using the sam template Could not find any documentation regarding this Can anyone please point me out to anything related Thanks"
46619746,"AWS Cognito - How to create pool allowing sign up with email address, using CloudFormation?","https://stackoverflow.com/questions/46619746/aws-cognito-how-to-create-pool-allowing-sign-up-with-email-address-using-clou","{amazon-web-services,aws-cloudformation,serverless-framework,amazon-cognito}","2017-10-07 11:42:12+03","2024-05-17 05:07:30.271596+03","I am attempting to create a UserPool using CloudFormation syntax but I am unable to find which property I need to set in order to create the pool with email address sign up How do I specify this As you can see in the screenshot by default the pool is created with Usernames Heres my current pool config"
46668483,"Breakpoints not being hit when debugging Serverless in vscode","https://stackoverflow.com/questions/46668483/breakpoints-not-being-hit-when-debugging-serverless-in-vscode","{debugging,visual-studio-code,serverless-framework}","2017-10-10 13:49:05+03","2024-05-17 05:07:30.984172+03","None of my breakpoints are active when debugging my serverless based application in VSCode launch json My package json When I choose Start Debugging from the menu all the red breakpoints go grey and the program just executes without stopping on the breakpoints I am running Node 6 11 2 Serverless 1 23 0 on a Mac Thanks all "
46689554,"What's the correct way of returning HTTP error codes in serverless lambda","https://stackoverflow.com/questions/46689554/whats-the-correct-way-of-returning-http-error-codes-in-serverless-lambda","{node.js,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2017-10-11 13:31:58+03","2024-05-17 05:07:32.107384+03","I have a serverless lambda function written in Node JS What is the best correct way of returning error codes The pattern that I use right now and it works is When I make a call for example from POSTMAN to my endpoint I get Status 404 Not Found which is exactly what I am expecting Moreover in the logs I can see That works well What bothers me is that I am passing null as the error Looking into a few other tutorialsexamples I have found patterns like httpsaws amazon comblogscomputeerrorhandlingpatternsinamazonapigatewayandawslambda httpsserverless comframeworkdocsprovidersawseventsapigateway callback the sky is falling callback [BadRequest] Validation error Missing field name callback [404] Not Found callback new Error [404] Not found callback JSON stringify myErrorObj All of them make perfect sense and you can specify HTTP Status Code yet what I am getting is HTTP Status Code 200 in the end When I look at the logs I can see that the error was followed straight after with 200 In this place I have found following explanation httpsgithub comserverlessserverlessissues4119 If you want to respond with HTTP errors in that case you have to encode the HTTP error as successful Lambda response with following example So that is basically the same way I have For the sake of completeness I can add that there is also a plenty of examples that uses context fail result or context succeed result but from what I gathered context is deprecated and should not be used even though it still works What is the point of using callback error "
48869655,"AWS - API keys available on the Serverless Offline framework?","https://stackoverflow.com/questions/48869655/aws-api-keys-available-on-the-serverless-offline-framework","{aws-lambda,yaml,serverless-framework,serverless,serverless-framework-offline}","2018-02-19 15:51:12+02","2024-05-17 05:08:57.728237+03","I use Serverless Offline to develop a Web project I need of API Keys to access to resource on Serverless AWS Lamda I have a serverless yml with my service and my provider In Postman I access to my route http127 0 0 13333segmentsUUIDtest and I have not any error as Forbidden message the Lambda is executed The route in question is not protected by private "
46690906,"serverless express can't retrieve pdf file (base64 encoding)","https://stackoverflow.com/questions/46690906/serverless-express-cant-retrieve-pdf-file-base64-encoding","{node.js,amazon-web-services,express,pdf,serverless-framework}","2017-10-11 14:30:21+03","2024-05-17 05:07:32.7758+03","I have setup an expressserverless application to retrieve a pdf file on a GET request But I just retrieve a corrupted repsonse pdf response I just wondering If my settings are correct to achieve a correct response I am using awsserverlessexpress and want to return my pdf buffer to the client browser it should open in the browser My code so I am sending a base64 encoded string to APIGW I am not actually sure if I can set the isBase64Encoded flag via header I read this before but I am not so certain about that I have done this whole procedure before but did not make use of awsserverlessexpress where I Could set the isBase64Encoded flag easily I am also using serverlessapigwbinary to automatically setup APIGW for the correct decoding of the base64 encoded data"
46694083,"How can we use the AWS lambda ""event"" (API Gateway) as a Readable stream?","https://stackoverflow.com/questions/46694083/how-can-we-use-the-aws-lambda-event-api-gateway-as-a-readable-stream","{javascript,amazon-web-services,lambda,aws-lambda,serverless-framework}","2017-10-11 17:17:03+03","2024-05-17 05:07:33.893952+03","I am trying to send a file in a POST request to the AWS lambda and get a result after some processing I want to use the request body as a readable stream as explained in the example below I can do the same in Express easily but unable to use the event object provided by AWS lambda "
46698545,"Update several attributes only in DynamoDB","https://stackoverflow.com/questions/46698545/update-several-attributes-only-in-dynamodb","{node.js,lambda,amazon-dynamodb,aws-sdk,serverless-framework}","2017-10-11 22:31:28+03","2024-05-17 05:07:34.610373+03","Use below codes I successfully update an item httpsgithub comserverlessexamplesblobmasterawsnoderestapiwithdynamodbtodosupdate jsL22L37 Then I add more attributes Above codes work fine if I feed all attributes But if I only want to update part of them since I need not update email and password every time I got error Could not fetch the user item So how to change the code that I do not have to update all attributes "
46699410,"How to write binary ZIP file received from CURL upload in AWS Lambda?","https://stackoverflow.com/questions/46699410/how-to-write-binary-zip-file-received-from-curl-upload-in-aws-lambda","{node.js,amazon-web-services,file-upload,lambda,serverless-framework}","2017-10-12 00:12:00+03","2024-05-17 05:07:35.693589+03","I would like to make my code save binary data uploaded via CURL Here is CURL command I use curl header ContentTypeapplicationoctetstream traceascii debugdump txt databinary testfilessmalltest zip httplocalhost8000chrome On the Node JS receiving side there is script that takes AWS Lambda event object and takes event body property into this function The document zip lands inside tmp folder when I issue cat document zip it looks different from the input file testfilessmalltest zip I do not know why it differs Here is the screenshot at the top is original file at the bottom is received file I am using serverlessoffline to do developing of the solution How can I properly save this ZIP file on in Lambdas tmp first my own linux laptop "
46711598,"Why would serverless package need creds?","https://stackoverflow.com/questions/46711598/why-would-serverless-package-need-creds","{serverless-framework}","2017-10-12 14:00:54+03","2024-05-17 05:07:36.715961+03","According to the docs you can package your project without deploying it to AWS If this is the case why would I get the below error"
46762906,"What causes a ECONNREFUSED, Connection refused at Error (native) in an AWS node Lambda?","https://stackoverflow.com/questions/46762906/what-causes-a-econnrefused-connection-refused-at-error-native-in-an-aws-node","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2017-10-16 04:22:52+03","2024-05-17 05:07:37.757321+03","In load testing our AWS Lambda node function we have got the following error message in our Cloudwatch logs This is the only line that is output and it only happens during load testing With 10000 requests there are 200 of these errors and they happen towards the beginning of the load test Eventually everything succeeds because of retries but it would be nice to know what causes this We have a trycatch block wrapping all of our code but it is not catching this error What causes this error and how can it be avoided or caught"
46765894,"can we use cloudwatch events on s3 object with serverless","https://stackoverflow.com/questions/46765894/can-we-use-cloudwatch-events-on-s3-object-with-serverless","{amazon-web-services,amazon-s3,amazon-cloudwatch,serverless-framework}","2017-10-16 08:23:33+03","2024-05-17 05:07:39.37028+03","I want to know if we can create a cloudwatch event that triggered on S3 bucket every time that a change occurs on S3 For example if a file is uploaded on s3 we recieve an email I am using serverless framework i found on the serverless documentation only stuff related to ec2 but not much things on s3 So please if anyone knows how to use cloudwatch with s3 i am all ears"
46965942,"Access Postgres database with AWS Lambda function using Node.js","https://stackoverflow.com/questions/46965942/access-postgres-database-with-aws-lambda-function-using-node-js","{node.js,postgresql,aws-lambda,serverless-framework,serverless}","2017-10-27 00:56:34+03","2024-05-17 05:07:39.941627+03","My handler js functions connects to the Postgres database and performs few queries using node js My function worked successfully in local but when accessed as AWS lambda the queries do not work I have also added the corresponding vpc security groups and subnet ids in serverless yml The error logs in Cloudwatch just shows the console log statements before and after queries and the function terminates with timed out error I could not figure out the issue I have attached the example handler js code below"
46971822,"Run cleanup function at end of serverless function execution?","https://stackoverflow.com/questions/46971822/run-cleanup-function-at-end-of-serverless-function-execution","{aws-lambda,serverless-framework,serverless}","2017-10-27 09:29:53+03","2024-05-17 05:07:41.026859+03","If I do not close the DB connection at the end of my serverless function my script will hang and timeout I am hoping there is a way I can run a clean up function at the end of any of my serverless functions which will close active DB connections etc "
47047539,"dynogels update trashing other keypairs","https://stackoverflow.com/questions/47047539/dynogels-update-trashing-other-keypairs","{amazon-dynamodb,serverless-framework,dynogels}","2017-11-01 02:55:27+02","2024-05-17 05:07:41.988603+03","Anyone with dynogels experience might be able to help me on this one Simplified example of my dynamodb table with a nested structure If I update the table and send the below as the update params then date1 gets trashed from my item in the table Is there some config option in the update call that Im making that I am missing somewhere to NOT delete values that I dont want to touchupdate Thanks"
47078759,"API timeouts in AWS Lambda?","https://stackoverflow.com/questions/47078759/api-timeouts-in-aws-lambda","{amazon-web-services,aws-lambda,serverless-framework}","2017-11-02 15:17:29+02","2024-05-17 05:07:42.948065+03","I am trying to create a lambda function in AWS which will create a new Stripe token However this will time out every time I have a security group for outbound connections as follows However the only thing I seem to be able to connect to are other AWS services How can I open my Lambda function up to connections outside AWS"
47127849,"Referencing external model in API Gateway without using API ID","https://stackoverflow.com/questions/47127849/referencing-external-model-in-api-gateway-without-using-api-id","{amazon-web-services,swagger,aws-api-gateway,jsonschema,serverless-framework}","2017-11-05 23:44:28+02","2024-05-17 05:07:43.381073+03","I am writing an API Gateway model using JSON Schema and deploying it using Serverless framework According to this page it is possible to reference a model that is defined in a different file but in the same API using The problem is that this requires knowing the API ID In my case the model will be reused across several APIs each with it is own ID so it does not make sense to hardcode the ID in the model Is there any way to either reference an external model without using the API ID or inject the API ID into the model during deployment"
47155378,"How can I have multiple API endpoints for one Google Cloud Function?","https://stackoverflow.com/questions/47155378/how-can-i-have-multiple-api-endpoints-for-one-google-cloud-function","{google-cloud-functions,serverless-framework}","2017-11-07 10:19:53+02","2024-05-17 05:07:44.438026+03","I have a Google Cloud Function which contains multiple modules to be invoked on different paths I am using the serverless framework to deploy my functions but it has the limitation of only one path per function I want to use multiple paths in one function just like we can in the AWS serverless framework Suppose a user cloud function will have two paths useradd as well as userremove both the paths should invoke the same function Something like this serverless yml How can I have multiple API endpoints for one GCF"
47185826,"DB Connection Unavailable Lambda with Cloud Watch Event Rules","https://stackoverflow.com/questions/47185826/db-connection-unavailable-lambda-with-cloud-watch-event-rules","{amazon-web-services,aws-lambda,serverless-framework}","2017-11-08 17:16:33+02","2024-05-17 05:07:45.413819+03","I am having issues connecting to mongodb when I am using a cloud watch event rule to trigger lambdas to keep them warm and also the same issue when I tried using serverlesspluginwarmup Anyone have and ideas as to why this would be happening Also I whitelist IPs for my database and use an Elastic IP for my lambda functions Could the cloud watch event rules be causing the lambdas to use a different IP error nameMongoErrormessageno connection available I wrap my functions with the following to make sure the database is connected before running code"
47217486,"Putting environment variables to env.yml","https://stackoverflow.com/questions/47217486/putting-environment-variables-to-env-yml","{amazon-web-services,aws-lambda,serverless-framework}","2017-11-10 07:13:15+02","2024-05-17 05:07:46.129777+03","I have these config files serverless yml and env yml and when I try to deploy I get an error The Lambda functions cannot be deployed serverless yml env yml ERROR Serverless Operation failed Serverless Error An error occurred PingLambdaFunction Value of property Variables must be an object with String or simple type properties "
47249256,"AccessDenied error message when calling aws s3 buckets from serverless lambda function with boto3","https://stackoverflow.com/questions/47249256/accessdenied-error-message-when-calling-aws-s3-buckets-from-serverless-lambda-fu","{amazon-web-services,aws-lambda,boto3,serverless-framework}","2017-11-12 13:17:47+02","2024-05-17 05:07:46.858482+03","I am building a Serverless application with Amazon AWS Iam now testing boto3 to get lists of buckets from my aws s3 service Although my IAM user has AdministratorAccess access everytime I try to invoke my lambda function it shows an error message Could anyone help me please Thanks for your attention This is my error message Here is my lambda functionhandler py Here is my serverless yml file"
47253027,"How to access plugin output in serverless.yml of Serverless Framework?","https://stackoverflow.com/questions/47253027/how-to-access-plugin-output-in-serverless-yml-of-serverless-framework","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2017-11-12 19:31:11+02","2024-05-17 05:07:47.725301+03","Context to achieve full infrastructure as code I want to codify the process of requesting a SSL certificate using certbot validating a domain using DNS TXT records uploading the certificate to Amazon Certificate Manager ACM and finally attaching the certificate ACM ARN to my Cloudfront distribution This should all be done through the Serverless framework I saw 2 potential options to make this work Option 1 use of asynchronous javascript file variables I e in serverless yml I would define entries like Where resources would then use these variables like so Where scriptsrequestcert js would look like The problem here is that it appears to be impossible to send parameters to requestcert js or for this script to be aware of the serverless or options plugin parameters as it is not a plugin but a simple script without context This means that the script cannot be aware of the stage and domain etc that the deployment is for and therefore it is missing necessary variables in order to request the certificate So option 1 seems out of the question Option 2 create a plugin Of course I can create a plugin which will have all required variables because it can access the serverless and options objects The problem now is that I would have to access the output of the plugin inside serverless yml and so far I have not seen how this can be done I e I would like to be able to do something like this But this does not seem possible Is that right If this is also not possible how can I achieve my purpose to programatically i e following infrastructure as code principles deploy my services with custom SSL certificates without any manual steps I e "
47258082,"502 Bad Gateway Internal Server error","https://stackoverflow.com/questions/47258082/502-bad-gateway-internal-server-error","{node.js,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2017-11-13 06:12:01+02","2024-05-17 05:07:48.451645+03","I am trying to send notifications using FCM serverless framework making an HTTP POST request using API Gateway of AWS The notification to the respective users are getting delivered but receiving below response from AWS with status code 502Bad Gateway Here is the code for the aws lambda function Actually I am not able to track the reason for Internal Server error how to rectify the same"
47282928,"TypeError: a bytes-like object is required, not 'str' with serverless and Python3","https://stackoverflow.com/questions/47282928/typeerror-a-bytes-like-object-is-required-not-str-with-serverless-and-python","{python,csv,amazon-web-services,amazon-s3,serverless-framework}","2017-11-14 10:09:43+02","2024-05-17 05:07:48.976995+03","I have an awslambda function that is triggered whenever a CSV file is uploaded to s3 bucket I am using serverless framework with Python 3 6 the issue is that i am getting this error message a byteslike object is required not str TypeError Traceback most recent call last File vartaskhandler py line 33 in csvfile fichier obj[Body] read split \n TypeError a byteslike object is required not str I have did some research in the net here the issue is i am not using the open method cause the file is read by s3 event so do not know how to fix it Here is my code and here is my serverless yml code"
56283412,"How do I connect to an RDS defined under ""Resources"" in serverless.yml from a Lambda function?","https://stackoverflow.com/questions/56283412/how-do-i-connect-to-an-rds-defined-under-resources-in-serverless-yml-from-a-la","{aws-cloudformation,serverless-framework}","2019-05-23 21:54:22+03","2024-05-17 05:15:08.251703+03","Say I have a section in my serverless yml like this How can my Lambda functions written in node js connect to this database i e what is the hostnameip and wherehow can I capture it Thanks "
47286970,"DynamoDB: Query on GSI (Global secondary index) does not return data","https://stackoverflow.com/questions/47286970/dynamodb-query-on-gsi-global-secondary-index-does-not-return-data","{amazon-dynamodb,aws-lambda,serverless-framework}","2017-11-14 13:23:29+02","2024-05-17 05:07:50.035967+03","I am using the Serverless framework to setup the below table Now I am able to get to do a get to retrieve items from the DB by ID However if I try to do a query on the GSI it returns nothing There is no failure but I never get data back The below is what my query looks like I should add here that I cannot get data if I do a filterless scan as well If I try to search for items by index or otherwise on the AWS Dynamo web portal I get results though I cannot figure out what it is that is going wrong here Any light that someone can shed would be much appreciated "
47301055,"serverless-aws-documentation model definitions with optional fields?","https://stackoverflow.com/questions/47301055/serverless-aws-documentation-model-definitions-with-optional-fields","{amazon-web-services,aws-api-gateway,serverless-framework,serverless-plugins}","2017-11-15 06:49:19+02","2024-05-17 05:07:51.165957+03","I want to define request and response models I use the Serverless Framework with AWS and everything I am seeing recommends using serverlessawsdocumentation The README says that I need to have this line in custom documentation models MODELNAME But they do not have an example file of modelserror json to use as a baseline In the actual example serverless yml they have a definition like this This does not provide enough detail for what I am trying to do My goal is to have a schema defined for an array of string objects a message and a status code The message and status code though are optional These could also be part of other models and if possible I would like to not repeat their definition for each model My current attempt is I think this is going to do what I want but how can I have message and statusCode be optional and repeat these two items in my other models I would be happy with either a yml solution I can put in my serverless yml file or a json file that I can reference "
47303128,"Serverless package separately or not?","https://stackoverflow.com/questions/47303128/serverless-package-separately-or-not","{amazon-web-services,aws-lambda,serverless-framework,serverless-architecture,serverless}","2017-11-15 08:59:19+02","2024-05-17 05:07:52.703768+03","If I want to deploy my serverless project should I package it individually or should I not Also please tell me why "
47306224,"MoonMail Source Code - AWS integration with serverless","https://stackoverflow.com/questions/47306224/moonmail-source-code-aws-integration-with-serverless","{node.js,amazon-web-services,aws-lambda,serverless-framework,moonmail}","2017-11-15 11:27:29+02","2024-05-17 05:07:53.246966+03","I am trying to configure the MoonMail source code on AWS by Serverless but when following the steps on github it doesnt work According to the information an error occurred while provisioning the cloud formation ServerlessError ServerlessError An error occurred while provisioning your cloudformation The following resource s failed to create [AutomationsTable AwsMarketplaceNotificationsQueue ScheduledEmailsTable ListExportS3Bucket PrecompileCampaignTopic SentEmailsTable SendCampaignTopic PrecompileEmailTopic AttachRecipientsTopic ListSegmentsTable CampaignsTable TemplatesTable FreeUsersSendEmailQueue AttachSegmentRecipientsTopic UsersTable EventsBusTopic IamRoleLambda AttachListRecipientsTopic RecipientsTable StaticDataBucket AutomationActionsTable ClicksReportTable PaymentLogsTable LinksTable UpdateListImportStatusTopic ExpertsTable EmailAdminsTopic ClicksTable ListsTable UpdateCampaignTopic SendEmailsTopic OpensTable OpensReportTable RecipientsImportS3Bucket ReportsTable] Delete requested by user On CloudFormation no stack is created I already tried some suggestions that can be found online mainly on stackOverflow trough the MoonMail tag but none seemed to work Thanks "
47327765,"Creating two dynamoDB tables in serverless.yml","https://stackoverflow.com/questions/47327765/creating-two-dynamodb-tables-in-serverless-yml","{node.js,amazon-dynamodb,serverless-framework}","2017-11-16 10:52:21+02","2024-05-17 05:07:53.974743+03","I am try to add 2 tables to serverless yml to link with DynamoDB A part of my code in serverless yml Is that correct My tables are Do I need more changes in serverles yml what is the meaning of the expressions ReadCapacityUnits and WriteCapacityUnits"
47356928,"Serverless get list of local functions","https://stackoverflow.com/questions/47356928/serverless-get-list-of-local-functions","{aws-lambda,serverless-framework,serverless,serverless-framework-offline}","2017-11-17 18:19:25+02","2024-05-17 05:07:54.502166+03","Scenario I am writing unit tests for local Lambda Output Instead of manually putting in the names of all the different lambda functions I am wanting to dynamically generate the list Will return the list of functions that are deployed to aws but not the ones that are in the local serverless environment Question How do I get a list of functions that are local The help menu is useful for how to run a local function but not to assemble a local functions list "
47377205,"Serverless Framework AWS 403 Forbidden Error with Domain Only","https://stackoverflow.com/questions/47377205/serverless-framework-aws-403-forbidden-error-with-domain-only","{amazon-web-services,aws-lambda,amazon-cognito,serverless-framework,serverless-plugins}","2017-11-19 13:07:34+02","2024-05-17 05:07:55.374905+03","I am working on a serverless setup for a project and ran into a strange error This was working fine before I had to delete my old certificates and make a new one In short I am following the tutorial series at serverlessstack com for reference and when running the apigtest command I get the following error This screams to me policy error So I went to check my policy to make sure it allows execution for the AuthRole and indeed it does I verified this in IAM section under Roles and looked my services Auth_Role that I created when I set up Cognito I do not want to give information overload here but if anyone has any ideas for where to look next I would be much appreciative and I will give any details you want to see here One thing I want to note is that if I run the apigtest command with the direct URL to the Lambda function instead of my domain it works perfectly fine This proves that nothing is wrong with my code but more a policy setting regarding how I setup the domain I ran sls create_domain accordingly and I see the entries in the Route53 API Gateway and they have finished their 40 minutes many hours ago I insured its using correct certificate since I wiped out the other one My custom domains have worked in the past thanks to a plugin I found and this tutorial here httpsserverless comblogserverlessapigatewaydomain its only recently that it stopped working when I realized I needed to add some more domains to my SSL cert So I assume the policy error is somewhere around this but not sure where to look"
47385177,"Serverless Framework Dynamo DB Table Resource Definition with Sort Key","https://stackoverflow.com/questions/47385177/serverless-framework-dynamo-db-table-resource-definition-with-sort-key","{amazon-web-services,amazon-dynamodb,serverless-framework}","2017-11-20 04:40:00+02","2024-05-17 05:07:56.442453+03","I have some code in my serverless yml like this currently My goal is to create a table with primary key userId sort key visitId and have fields for comments attachments ph ch When I try to sls deploy I get the following error Serverless Error An error occurred visitsTable Property AttributeDefinitions is inconsistent with the KeySchema of the table and the secondary indexes What am I doing wrong here Edit Another attempt I tried"
47385994,"Destroy resources created via Serverless without destroying Lambda endpoints","https://stackoverflow.com/questions/47385994/destroy-resources-created-via-serverless-without-destroying-lambda-endpoints","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2017-11-20 06:13:31+02","2024-05-17 05:07:57.233698+03","I have the following resource defined in my serverless yml file Its working great to create the resource for all my different stages of development Problem is if I do sls remove while deleting the database it made it also deletes everything else including the lambda functions and their api gateway endpoints which I need to stay around since I have policies explicitly set for them How do I tell serverless I want to delete just the database or S3 or whatever it is and not the rest Things I have Tried I deleted manually on AWS but if you do this and do sls deploy it does not create the database again So not sure best way to do this Entire Serverless yml file"
47400276,"Use newer version of botocore in AWS lambda","https://stackoverflow.com/questions/47400276/use-newer-version-of-botocore-in-aws-lambda","{amazon-web-services,aws-lambda,boto3,serverless-framework,botocore}","2017-11-20 20:13:54+02","2024-05-17 05:07:58.318162+03","I would like to use the Boto3 put_bucket_encryption inside a lambda function but the current Lambda execution enviornment is at botocore version 1 7 37 and the put_bucket_encryption was introduced in botocore 1 7 41 So I would like to package up my local version of boto3botocore I have included pip packages in lambda functions using serverless framework along with serverlesspythonrequirements but it does not seem to work for boto3botocore The function responds to a CreateBucket event and tries to put_bucket_encryption but fails with How can I force my lambda function to use a more up to date botocore"
47400464,"Serverless Deploy From another Directory","https://stackoverflow.com/questions/47400464/serverless-deploy-from-another-directory","{amazon-web-services,serverless-framework,aws-codecommit,aws-codebuild}","2017-11-20 20:26:48+02","2024-05-17 05:07:59.201871+03","Here is my root folder and i want to deploy AWS Lambda functions to codecommit from the Backend folder Therefore i wrote this command but AWS CodeBuild gives this error This command can only be run in a Serverless service directory How can i deploy it from the backend folder Edit I forgot to edit the version Now i changed it to version 0 2 and it works fine "
47404025,"Serverless WARNING: Could not determine version of module babel-runtime","https://stackoverflow.com/questions/47404025/serverless-warning-could-not-determine-version-of-module-babel-runtime","{serverless-framework,serverless}","2017-11-21 01:57:02+02","2024-05-17 05:08:00.088312+03","I am running sls deploy and getting the following warning that spams many lines What is the cause of this warning should I be concerned How do I fix it If I need to add extra information to this question please let me know and I will edit the question right away "
47414559,"API Gateway sorting Query string","https://stackoverflow.com/questions/47414559/api-gateway-sorting-query-string","{node.js,express,aws-lambda,aws-api-gateway,serverless-framework}","2017-11-21 13:40:59+02","2024-05-17 05:08:00.520836+03","I am currently trying to implement an Express application using the Serverless framework on API Gateway Lambda Everything worked as expected until I started introducing request signing on our end The signing works in a way that it signs the complete URL including the query string using a secret token Unfortunately it seems like either API Gateway or Cloudfront are resorting the query string alphabetically which leads to the checksum generated on our side to be different from the one the client generated What our Express server sees httpsexample comendpointbuild_number1platformios What the client was sending httpsexample comendpointplatformios build_number1 As you can see the query parameters got resorted alphabetically which is no behaviour I would expect Any idea"
47453599,"Get sorted by field items from DynamoDB in Serverless App?","https://stackoverflow.com/questions/47453599/get-sorted-by-field-items-from-dynamodb-in-serverless-app","{javascript,node.js,amazon-web-services,amazon-dynamodb,serverless-framework}","2017-11-23 10:45:43+02","2024-05-17 05:08:01.188298+03","I have a function in Serverless project to get all items from Amazon DynamoDB Table Each of response items contains date field How can I get sorted items in ascdesc by this field using the queryscan from DynamoDB"
47464573,"Serverless read POST Variables in sensible way","https://stackoverflow.com/questions/47464573/serverless-read-post-variables-in-sensible-way","{javascript,node.js,aws-lambda,twilio,serverless-framework}","2017-11-23 23:39:12+02","2024-05-17 05:08:02.230212+03","I have the following serverless lambda function code below This code works and sends me an email with the POST variables but as one long string looking like this Called2B15622222222ToStateCACallerCountryUSDirectioninboundCallerStateCAToZip90670CallSidCA47e5131dd5e7375190aaf5fab773a9b0To2B15622221234CallerZip92606CallerName etc How do I convert the POST parameters I am receiving from Twilio into a nicer format maybe an Array or Object instead of a String"
47479757,"How would you compare Hashicorp-Terraform with serverless framework?","https://stackoverflow.com/questions/47479757/how-would-you-compare-hashicorp-terraform-with-serverless-framework","{terraform,serverless-framework,serverless}","2017-11-24 20:41:19+02","2024-05-17 05:08:03.483634+03","I would like to know what is the difference between Terraform and Serverless Arent they doing the same thing like managing your infrastructure and representing your infrastructure as code Do you really need a serverless framework serverless com Thanks"
47511942,"Dynamically accessing Resource metadata from inside a function in the Serverless framework","https://stackoverflow.com/questions/47511942/dynamically-accessing-resource-metadata-from-inside-a-function-in-the-serverless","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2017-11-27 13:19:31+02","2024-05-17 05:08:05.141609+03","I just started using Serverless framework I was trying to deploy an endpoint that connects to RDS from a lambda so I defined a handler a route and a resource in the serverless yaml file Now I would like to write the code that connects to the database in the foo handler and in order to do so I need to obtain the database host Is there any way to get this information dynamically from the serverless yaml resource definition instead of hardcoding it in the handler itself"
47515464,"how to manage secrets for different environment in serverless framework","https://stackoverflow.com/questions/47515464/how-to-manage-secrets-for-different-environment-in-serverless-framework","{serverless-framework}","2017-11-27 16:22:31+02","2024-05-17 05:08:06.736111+03","I am trying to figure out how to manage secrets for different environements while creating serverless applications my serverless yml file looks something like this when deploying i use the following command I want the configuration information to be picked up from AWS parameter store as described here httpsserverless comblogserverlesssecretsapikeys However I do not see a way to provide different keys for development or prod environment Any suggestions "
47536542,"Serverless Service update Dynamodb table created with DeletionPolicy retain","https://stackoverflow.com/questions/47536542/serverless-service-update-dynamodb-table-created-with-deletionpolicy-retain","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless-framework,serverless}","2017-11-28 16:34:52+02","2024-05-17 05:08:08.504969+03","I am encountering some problems using Serverless framework since i accidentally used the same name of a service on another one An error occurred tableX TableX already exists Let us suppose that i have two serverless yml files both with the same name of service One of them let us call it test1 have resources DynamoDB tables the other has not test2 Like the following snippets Test1 Test2 When i sls deploy the test1 he creates the tables as i wanted with DeletionPolicy Retain for the tables with very sensible data Then i sls deploy test2 that has other functions but does not have any resources DynamoDB tables he does what is expected skip the deletion of the tables But when i sls deploy test1 again he does not recognizes the tables he starts to create existing tables rather than update them and fails to deploy I need the tables that are not deleted and need the functions on the service It looks like the Cloud Formation losted the track of the created tables from the first deploy I do not whant to separate the services one only for the resources like was said on this github thread I need the tables that are running it has a lot of data and it is too much expensive to backup and restore it to another one a lot of users could be affected So how do i tell to Cloud Formation Stack that i am updating that table and not trying to create it How to keep track of a service on the Cloud Formation Stack And how do i prevent to deploy a service with resources without them What is the best solution for this case Hope that my questions are clear enough to understand "
47557222,"serverless-offline optional path parameter","https://stackoverflow.com/questions/47557222/serverless-offline-optional-path-parameter","{node.js,serverless-framework,serverless-framework-offline}","2017-11-29 16:16:10+02","2024-05-17 05:08:09.283564+03","I am trying to set up a GET request with an optional parameter but I get an error when I call the url locally without the optional parameter It works fine online on lambda though What did I do wrong I am using serverless version 1 24 1 with the serverlessoffline plugin version 3 16 0 here is my request definition in serverless yml this url works this do not and gives me this output Thanks a lot"
47778415,"Unit test AWS DynamoDB take a lot of time","https://stackoverflow.com/questions/47778415/unit-test-aws-dynamodb-take-a-lot-of-time","{amazon-web-services,asp.net-core,amazon-dynamodb,xunit,serverless-framework}","2017-12-12 17:35:23+02","2024-05-17 05:08:10.120811+03","I do run some test against an AWS Dynamo DB I got some integration tests and I need to speed them up SetupTableAsync takes 10 seconds and the code is in my constructor so it runs on every instancetest Is it possible to use the same IAmazonDynamoDB instance on every test This code is from the AWS Serverless Application with tests template in Visual Studio "
47807729,"AWS CloudFormation Retain Deployed Endpoints","https://stackoverflow.com/questions/47807729/aws-cloudformation-retain-deployed-endpoints","{amazon-web-services,aws-cloudformation,serverless-framework}","2017-12-14 07:08:33+02","2024-05-17 05:08:11.111156+03","Is there any way to retain the endpoints from previous deployment I have gone through CloudFormation DeletionPolicy but it is available only for resources not for endpoints To be precise I have an serverless application which has 5 lambda functions and more than 100 endpoints while i try to deploy i get below error The Cloud Formation template is invalid Template format error Number of resources 232 is greater than maximum allowed 200 Since there is no native support for nested stacks in serverless I am planning to upload my application in multiple chunks like i will upload few endpoints in 1st deployment and upload remaining in 2nd deployment But during my 2nd deployment 1st deployment endpoints are getting deleted Is there any way to fix this Any help would be really appreciated "
47819015,"Serverless-AWS Lambda-Typescript-How do I include additional scripts?","https://stackoverflow.com/questions/47819015/serverless-aws-lambda-typescript-how-do-i-include-additional-scripts","{amazon-web-services,webpack,aws-lambda,serverless-framework}","2017-12-14 17:27:35+02","2024-05-17 05:08:11.964731+03","I am very new to this area I created the below folder structure The models files have shared code between different functions I already installed serverlesswebpack and other webpack I also added the below into the yml file When I run serverless package I can see function1 ts get compiled into js file and included in serverless s zip file but I do not see the models files get compiled How do I get that work Thanks"
47833344,"Declaring resources in multiple files in Serverless framework","https://stackoverflow.com/questions/47833344/declaring-resources-in-multiple-files-in-serverless-framework","{serverless-framework}","2017-12-15 13:26:51+02","2024-05-17 05:08:13.033522+03","Is there any way to split the resource definitions in serverless framework into multiple files Something like I have been trying multiple combinations but I keep getting errors about references not being found "
47872662,"Permission required for the server less deploy command","https://stackoverflow.com/questions/47872662/permission-required-for-the-server-less-deploy-command","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework,serverless}","2017-12-18 16:33:54+02","2024-05-17 05:08:13.930281+03","When creating an IAM usergroup to run the AWS_ACCESS_KEY_IDx AWS_SECRET_ACCESS_KEYy serverless deploy v on aws lambda what rolespermissions should be granted to that usergroup "
47873257,"how do you start serverless node server locally?","https://stackoverflow.com/questions/47873257/how-do-you-start-serverless-node-server-locally","{node.js,aws-lambda,serverless-framework}","2017-12-18 17:10:40+02","2024-05-17 05:08:14.752512+03","How do you start awslambdaserverlessnode6 server locally What I tried My ls output"
47898748,"How to have different yml file for different branch in Serverless framework","https://stackoverflow.com/questions/47898748/how-to-have-different-yml-file-for-different-branch-in-serverless-framework","{git,aws-lambda,serverless-framework}","2017-12-20 04:22:42+02","2024-05-17 05:08:15.874684+03","I use Serverless framework for managing my AWS lambda function And I also use git for managing with other developer I have 2 branch which is development and production If the feature is ready for release we will merge the development branch into the master which is my production branch My question is is there any way to seperate the provider and functions configuration in yml file I need to ignore the provider section so each branch has its own config but I need the functions to be updated from development stage to production stage "
47904989,"how to deploy function using serverless so that it includes only required folder/files","https://stackoverflow.com/questions/47904989/how-to-deploy-function-using-serverless-so-that-it-includes-only-required-folder","{javascript,amazon-web-services,aws-lambda,aws-sdk,serverless-framework}","2017-12-20 11:28:13+02","2024-05-17 05:08:16.941576+03","This is my folder structure how to deploy function using serverless so that it includes only handler js and node_modules and lib Can you please specify the function command to be written on main serverless yml My YML function statement"
47918269,"How to render HTML to the user of a step function endpoint?","https://stackoverflow.com/questions/47918269/how-to-render-html-to-the-user-of-a-step-function-endpoint","{serverless-framework,aws-step-functions}","2017-12-21 05:08:03+02","2024-05-17 05:08:17.991469+03","I am using serverless and httpsgithub comhorike37serverlessstepfunctions to try and implement a system that is hit by a user returns HTML based on a database entry for the params provided and then moves to a second function that writes to the database without forcing the user to wait I think a step function in the right approach but I cannot seem to get it to return HTML it always returns a JSON body with the executionArn and startDate e g Is it possible to have my html body return At the moment my lambda function returns a simple h1 tag This is the state machine I am aiming to create "
47919233,"Serverless - large app","https://stackoverflow.com/questions/47919233/serverless-large-app","{serverless-framework,serverless,serverless-architecture}","2017-12-21 06:34:34+02","2024-05-17 05:08:18.939707+03","I am new to serverless framework I am starting a Rest API that will have multiple routing for example GET user userid POST user GET account accountid POST account Do I need 2 services account users What are the best practices If 2 services then 2 serverless yml does any one have example for serverless large app Thanks everybody "
47947413,"Cloudformation template to SAM or serverless?","https://stackoverflow.com/questions/47947413/cloudformation-template-to-sam-or-serverless","{amazon-web-services,aws-cloudformation,serverless-framework,aws-sam-cli}","2017-12-22 21:07:13+02","2024-05-17 05:08:19.852446+03","I want to extend lambCI cloudformation template but am finding myself lost in barley humanreadable jsonyml it provides Is it possible to reversetransform CF template to something else sam serverless edit it and then transform back"
47990383,"Oauth2 to google people api on aws lambda","https://stackoverflow.com/questions/47990383/oauth2-to-google-people-api-on-aws-lambda","{python,python-3.x,oauth-2.0,aws-lambda,serverless-framework}","2017-12-27 10:20:56+02","2024-05-17 05:08:20.507959+03","I am trying to use googles people api on aws lambda As the api requires oauth2 I tried to fetch the oauth2 token locally and then transfer it to aws lambda I store the secrets with this function Then I transfer peopleapisecret json to aws lambda using the serverless framework But when I try to load the secret on lambda then store get returns None The file is really there on AWS os path isfile credential_path returns True Is it not possible to copy those secrets on another computerIP address If not what would the minimal way of getting this to work without doing the full fledged way described e g here Update Found out that it is a simple permission denied error on lambda print open credential_path read yields [Errno 13] Permission denied vartaskpeopleapisecret json I guess those variables should be put into environment instead of being read from file"
47990789,"How to configure StreamArn of existing dynamodb table","https://stackoverflow.com/questions/47990789/how-to-configure-streamarn-of-existing-dynamodb-table","{amazon-dynamodb,serverless-framework,amazon-dynamodb-streams}","2017-12-27 10:45:35+02","2024-05-17 05:08:21.497692+03","I am creating serverless framework project DynamoDB table is created by other CloudFormation Stack How I can refer existing dynamodb tables StreamArn in serverless yml I have configuration as below"
48002587,"How to allow CORS for custom headers in Serverless?","https://stackoverflow.com/questions/48002587/how-to-allow-cors-for-custom-headers-in-serverless","{node.js,lambda,cors,serverless-framework,serverless}","2017-12-28 06:23:04+02","2024-05-17 05:08:22.645682+03","The core question here is how do I allow custom headers in a CORS GET request that is handled with the Serverless framework If you know the answer to that pass Go collect 200 and please answer that question If it is not a question with a straight answer here are the details I am writing an app using the Serverless framework on AWS Lambda the API is managed through AWS API Gateway Frankly I am not entirely sure what that means or what benefit that provides me but that is what Serverless automatically configured for me I am attempting to create an open API which requires CORS to be enabled I am using the Lambda Proxy integration I have followed the practices found here They have brought me partial success My app currently has CORS enabled if I do not include my custom headers However it still does not work with custom headers When I send the following request to my API I get this error This error message is confirmed if I check the response headers using Chrome dev tools there is no AccessControlAllowOrigin in the response headers However if I send the same request with the setRequestHeader commented out it works perfectly yes I know it returns a 403 error that is intentional behavior Heres what I think is happening My service has two potential CORS problems domain related a request not coming from the origin domain and custom header related a header not safelisted by the CORS spec more here Somehow the Serverless framework trips up on the second issue which causes it not even get to the point where it issues the appropriate headers to allow all domains Here is my serverless yml config file and here is the function that I am trying to run You can see my many attempts to set the headers properly I am 60 convinced that a fix will come via the serverless yml file at this point You can replicate my problem my running the above XMLHttpRequest in the dev console on the following sites"
48010627,"API Gateway configure http integration with input passthrough serverless 1.x","https://stackoverflow.com/questions/48010627/api-gateway-configure-http-integration-with-input-passthrough-serverless-1-x","{amazon-web-services,aws-api-gateway,serverless-framework}","2017-12-28 16:03:37+02","2024-05-17 05:08:23.954413+03","Is there a way to map all parametersheaders and body to the other http endpoint does it require a special template This is what I have got so far Whenever i create directly in the console the the passthrough option is enabled by default and it maps the resourceId correctly I tried to look into the documentation but seems that there is almost no documentation on the http integration unless i am missing something "
48014067,"Serverless / AWS Lambda - Create the triggers for the published lambda versions","https://stackoverflow.com/questions/48014067/serverless-aws-lambda-create-the-triggers-for-the-published-lambda-versions","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2017-12-28 20:38:12+02","2024-05-17 05:08:24.155818+03","I am using the Serverless framework to deploy my functions on the AWS Lambda I am trying to create a trigger automatically for each version of my Lambda functions published When I deploy my serverless app the Lambda function and the triggers are created in this case my AWS IOT trigger as we can see on the following image But for my published version of the lambda function the trigger does not exist only the resources I do not want to create new triggers every time I publish a new lambda version So there is any way to create the triggers for my versioned lambdas too And if is possible disable the old ones using the Serverless framework my serverless yml file"
48646923,"elasticache redis - python - connection times out","https://stackoverflow.com/questions/48646923/elasticache-redis-python-connection-times-out","{python,redis,serverless-framework,amazon-elasticache}","2018-02-06 15:51:52+02","2024-05-17 05:08:43.878953+03","I have a rather simple test app which I have deployed as a HTTP endpoint with serverless When I trigger the endpoint via API Gateway the lambda just times out after about 7 seconds The environmental variable is read properly no error message displayed I suppose there is a problem connecting to the redis but the tutorial are quite explicit not sure what the problem could be The problem might need the need to set up a NAT not sure how to accomplish this task with serverless"
48018338,"Create a response for invalid and incomplete end points using the Serverless Framework?","https://stackoverflow.com/questions/48018338/create-a-response-for-invalid-and-incomplete-end-points-using-the-serverless-fra","{amazon-web-services,aws-lambda,serverless-framework}","2017-12-29 06:21:22+02","2024-05-17 05:08:25.13+03","I have a series of HTTP endpoints that involve lambda functions that hit detail information like so There is not a corresponding endpoint for products users or package I have a custom authorizer around the users id and package id endpoints If a user goes to users or packages using GET they receive messageMissing Authentication Token If they hit these end points with POST a valid option for my endpoint if they were to also pass the ID they receive Is there a way to adjust either of these messages My first thought was to just create that associated end points But that quickly gets to be a lot of work because I have more than three of these end points to do I also need to include DELETE and PUT on a few of those Can I easily create a response for invalid or incomplete endpoints My serverless yml has definitions look like this currently"
48047990,"Create SimpleDB domain using serverless.yaml","https://stackoverflow.com/questions/48047990/create-simpledb-domain-using-serverless-yaml","{amazon-web-services,serverless-framework,amazon-simpledb,serverless}","2018-01-01 07:46:30+02","2024-05-17 05:08:25.733708+03","So I am creating a server less application on Amazon AWS using the Serverless Framework For our stack we create a number of Lambda functions DynamoDB table API Gateway and now we want to add a simpleDB domain as well I cannot seem to find any information online on what code snippet to add to serverless yaml to create a SimpleDB domain I wrote the following code which creates the domain but the name of the domain is not as expected And the variable SimpleDB is defined as So when I deploy using the command I expect the name of the SimpleDB table to be gitpushrprocessingstaging instead I get a domain with the following name gitpushrapistagingLogSimpleDBTable1P7CQH4SGAWGI Where the last bit of sequence 1P7CQH4SGAWGI varies every time We are using the exact same pattern to name our DynamoDB tables and they seem to get created with correct name We get a DynamoDB table with the following name gitpushrprocessingstaging So what am I doing wrong here "
48082561,"Outputs JobQueueName instead of ARN for an AWS::Batch::JobQueue resource","https://stackoverflow.com/questions/48082561/outputs-jobqueuename-instead-of-arn-for-an-awsbatchjobqueue-resource","{amazon-web-services,aws-cloudformation,serverless-framework,aws-batch}","2018-01-03 17:48:54+02","2024-05-17 05:08:26.478595+03","Is it possible to export the JobQueue Name instead of the ARN of an AWSBatchJobQueue resource in the Outputs section of CloudFormation actually serverless yml This is how I export the ARN FnGetAtt does not return anything for an AWSBatchJobQueue see the table in the bottom of page FnRef returns the Arn for an AWSBatchJobQueue see table in the bottom of page Is it possible to directly obtain the JobQueueName for my resource in order to avoid any further split FnSplit and select FnSelect on the ARN"
48121200,"cannot execute binary file (Xvfb) on mac os","https://stackoverflow.com/questions/48121200/cannot-execute-binary-file-xvfb-on-mac-os","{node.js,macos,serverless-framework,xvfb}","2018-01-05 21:00:51+02","2024-05-17 05:08:27.207593+03","I am using mac os and for some reasons I have to use Xvfb but I am getting the following error"
48137499,"How to get the latest lambda version in cloudformation yml?","https://stackoverflow.com/questions/48137499/how-to-get-the-latest-lambda-version-in-cloudformation-yml","{amazon-web-services,amazon-cloudfront,aws-cloudformation,serverless-framework}","2018-01-07 13:21:37+02","2024-05-17 05:08:28.307951+03","I am trying to reference an edge lambda for cloudfront distribution in cloudformation What I have now is But I get this error An error occurred GGGCloudFrontDistribution The function ARN must reference a specific function version The ARN must end with the version number So is there some kind of technique to reference the latest version of the function"
48171076,"How to have optional resources with Serverless framework on AWS","https://stackoverflow.com/questions/48171076/how-to-have-optional-resources-with-serverless-framework-on-aws","{amazon-web-services,resources,aws-lambda,serverless-framework,serverless}","2018-01-09 15:05:48+02","2024-05-17 05:08:29.334366+03","Question what is the best way to have optional resources on a Serverless framework based Lambda I want to let Serverless cares about resources that the Lambda needs on lower environments dev test staging and have independent ones for higher environments like production I was thinking about using something like my resources yml is like the following But it is not working Any ideas on what is the best practice to achieve that"
48216035,"AWS Nested Stacks - Referencing a Parent Stack's Resource","https://stackoverflow.com/questions/48216035/aws-nested-stacks-referencing-a-parent-stacks-resource","{amazon-web-services,aws-api-gateway,aws-cloudformation,serverless-framework,serverless}","2018-01-11 21:25:06+02","2024-05-17 05:08:30.543338+03","I am trying to pass resources ApiGatewayRestApi and a custom authorizer to a nested stack through stack parameters however they continually fail with Embedded stack stack_name was not successfully created The following resource s failed to create Heres my set up in Serverless Parent Stack Nested Stack Am I not referencing or passing in parameters correctly Update based on comments Unless I am missing something the only error message in the CF section of the console is as far as log groups go they look like this Update 2 The log group issue was due to these logs being moved from the parent stack to the nested stack and needing a new name In the LogGroup docs I found If you specify a name you cannot perform updates that require replacement of this resource You can perform updates that require no or some interruption If you must replace the resource specify a new name This looks like it may have solved the issue Some more testing is needed to confirm "
48218421,"AWS Lambda fails with NodeJS Dependencies","https://stackoverflow.com/questions/48218421/aws-lambda-fails-with-nodejs-dependencies","{node.js,lambda,aws-lambda,web-worker,serverless-framework}","2018-01-12 01:44:45+02","2024-05-17 05:08:31.454517+03","I am receiving the following error when executing my NodeJS Lambda function with dependencies Running NodeJS v8 4 0 with NPM v5 6 0 on MacOSX High Sierra v10 13 3 Beta I have narrowed it down to the natural module which requires the WebWorkerThreads module triggering the error Below is my dependencies I have raised this question on AWS Forums with no answers and would greatly appreciate any help the stack overflow community could give I have done allot of googling and found the following answers I am not using custom modules or Docker though "
48255681,"Serverless Detect Running Locally","https://stackoverflow.com/questions/48255681/serverless-detect-running-locally","{aws-lambda,serverless-framework,serverless}","2018-01-15 00:50:22+02","2024-05-17 05:08:31.503497+03","I am running a command like the following When I run locally in my code I plan to detect this and instead of looking for POST variables look for a MOCK file I will be giving it I do not know how to detect if I am running serverless with this local command however How do you do this I looked around on the serverless website and could find lots of info about running in local but not detecting if you were in local "
48364481,"Looking for reactjs vscode crud example code","https://stackoverflow.com/questions/48364481/looking-for-reactjs-vscode-crud-example-code","{reactjs,amazon-web-services,graphql,serverless-framework,amazon-aurora}","2018-01-21 07:07:40+02","2024-05-17 05:08:36.409687+03","I would like to build a simple web app and learn reactjs at the same time using vscode The web app I would like to build is very simple just one form with multiple sections and in each section multiple elements can be added An example would be a section called People and there is a form element for a person first name last name etc If I add that person it appears in a list under People and I can add another Person Another section could be Cars and I add a new car etc etc For each new person or car I add it gets stored in a database and I can editupdate I have never build a reactjs app before but I have built many angularjs apps but it is been a while I am looking for an example or demo that uses reactjs to create a UI like this and uses MySQL or aurora on the backend Ultimate goal is to get this app onto AWS Maybe using Serverless and graphql also tools I have never used before Can anyone point me to an example or tutorial that might be a good fit for what I am trying to learn And if there is a better place to post this please let me know "
48397748,"CNAME already exists cannot point www. in my Cloud Front Distribution","https://stackoverflow.com/questions/48397748/cname-already-exists-cannot-point-www-in-my-cloud-front-distribution","{amazon-web-services,https,amazon-cloudfront,amazon-route53,serverless-framework}","2018-01-23 09:02:38+02","2024-05-17 05:08:37.444376+03","I am currently trying to create a distribution for the domain I own with Route 53 runway supply I created a distribution and created A and AAA records for runway supply which currently routes to my static site I am getting other server related issues when trying to fetch my data and now want to do the same for www runway supply However when I try to add www runway supply to the alternate cname for its distribution I get the following issue CNAMEAlreadyExistsException One or more of the CNAMEs you provided are already associated with a different resource Please note that in my screenshot where www runway supply is alternate domain name it cannot be saved because of the error which I have screen shotted below This is weird because I am able to add runway supply for its distribution as an alternate cname and I own the domain and cannot seem to find what resource is using it that would keep me from adding it to the distribution As a result of visiting www of my domain i get the following"
48418581,"connection pooling and lambda termination","https://stackoverflow.com/questions/48418581/connection-pooling-and-lambda-termination","{node.js,connection-pooling,serverless-framework,serverless}","2018-01-24 09:08:34+02","2024-05-17 05:08:38.033278+03","I have been messing around with serverless and postgresql It seems that connection pooling is possible but when I declared a connection pool to my postgresql instance outside Not calling pool end at the end of request handlers seem to cause lambdalocal to not terminate when I call it If I call pool end lambdalocal does terminate but I wonder if this means that the function will stop working If I do not call pool end will the function run forever on AWS costing me a lot of money"
48450603,"Update UserPool Triggers in a Lambda gives error invoking lambda","https://stackoverflow.com/questions/48450603/update-userpool-triggers-in-a-lambda-gives-error-invoking-lambda","{aws-lambda,serverless-framework,amazon-cognito}","2018-01-25 19:35:55+02","2024-05-17 05:08:38.954257+03","We have a scenario that needs to update a User Pool triggers from our rest api that is using a lambda Whenever we do that the update shows in the Cognito User Pool panel but when the lambda is triggered gives an AccessDeniedException If i go to the AWS Console Cognito User Pool my pool Trigger console and save the same configuration without changing anything the next time the Lambda is triggered works without any problem I have looked into the IAM Permissions of the Lambda that updates the user pool configuration and we changed to full access on Cognito User Pool to see if that solved but got the some result Do we need any other permission for this"
48451715,"Email arn does not belong to your account SES Cloudformation","https://stackoverflow.com/questions/48451715/email-arn-does-not-belong-to-your-account-ses-cloudformation","{amazon-web-services,aws-cloudformation,amazon-cognito,amazon-ses,serverless-framework}","2018-01-25 20:51:36+02","2024-05-17 05:08:40.001235+03","I am trying to confirm a user my sending a confirmation email Cogntio requires the arn for email I set up with SES Below is my template When I deploy with serverless I get What am I doing wrong"
48612240,"React app hosted on s3 unexpected token <","https://stackoverflow.com/questions/48612240/react-app-hosted-on-s3-unexpected-token","{reactjs,amazon-s3,npm,amazon-cloudfront,serverless-framework}","2018-02-04 19:38:16+02","2024-05-17 05:08:40.933008+03","I am using servereless to deploy me backend and front end My front end is using create react app I believe after I made the following changes Where I changed Icons to icons I get the following issue Uncaught SyntaxError Unexpected token In my s3 bucket I navigate to img and verify that my directory is also lowercase for icons The file in question of the syntax error is main 977eb738 js under staticjsmain 977eb738 js of my domain But when I go to my bucket I do not see that js file I see The code in the file its complaining about is the index html in publicindex html in the create react app boilerplate One more thing to note is this works fine locally and even on mobile I thought this could be cloudfront caching so I waited a full day and still cannot get to the bottom of this error "
48617237,"fs.readFileSync cannot find file when deploying with lambda","https://stackoverflow.com/questions/48617237/fs-readfilesync-cannot-find-file-when-deploying-with-lambda","{json,node.js,amazon-web-services,aws-lambda,serverless-framework}","2018-02-05 06:55:39+02","2024-05-17 05:08:41.878405+03","In my code I am calling a query from my lambda function This works locally because my featured json is in the directory that I am reading from However when I deploy with serverless the zip it generates does not have those files I get a ENOENT no such file directory open I tried packaging by adding but it just does not work The only way I get this to work is manually adding the json file and then change my complied handler js code to read from the json file in the root directory In this screenshot I have to add the jsons then manually upload it again and in the compiled handler js code change the directory to exclude the datajsons I want to actually handle this in my servereless yml"
48636053,"Why am I unable to set Amazon S3 as a trigger for my Serverless Lambda Function?","https://stackoverflow.com/questions/48636053/why-am-i-unable-to-set-amazon-s3-as-a-trigger-for-my-serverless-lambda-function","{node.js,amazon-web-services,serverless-framework,serverless}","2018-02-06 05:28:44+02","2024-05-17 05:08:42.850743+03","I am attempting to set a NodeJS Lambda function to be triggered when an image is uploaded to an Amazon S3 bucket I have seen multiple tutorials and have the yml file set up as shown Below is the YML config file Is there something I am missing for the configuration Is there something I need to do in an IAM role to set this up properly"
48663465,"Google credential json file on Serverless AWS","https://stackoverflow.com/questions/48663465/google-credential-json-file-on-serverless-aws","{node.js,amazon-web-services,google-cloud-platform,serverless-framework,dialogflow-es}","2018-02-07 12:09:15+02","2024-05-17 05:08:45.847365+03","I try to use DialogFlow API AI or Google Cloud Dialogflow API on my serverless project but the problem that I could not find any solution for pushing google credential json file to serverless side I followed this tutorial it is on google cloud website and It works correctly on my local but not on lambda I even tried to copy the file from webpack but It still does not work For DialogFlow I am using dialogflow v2 nodejs library edit I am getting this error on lambda which is related to not find the json file I think because I am not using this module dialogFlow is using rejection id 2 Error Cannot find module vartasknode_modulesgrpcsrcnodeextension_binarynodev48linuxx64glibcgrpc_node node edit end node js 6 x serverless 1 26 serverless yml webpack config js"
48670635,"serverless many functions in a project","https://stackoverflow.com/questions/48670635/serverless-many-functions-in-a-project","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-02-07 18:10:19+02","2024-05-17 05:08:46.66316+03","Does it matter if I have many functions in one serverless project Even if they are independent of each other I was thinking that the only thing it did was make the zip file big So if I initiate a serverless project and code 10 lambda functions that are not connected in any way This is the same as initiating 10 serverless projects with 1 lambda function each "
48690247,"TypeError: Path must be a string. Received undefined","https://stackoverflow.com/questions/48690247/typeerror-path-must-be-a-string-received-undefined","{node.js,amazon-dynamodb,jestjs,serverless-framework,serverless-plugins}","2018-02-08 16:27:45+02","2024-05-17 05:08:47.82117+03","I a persistent error while using serverless framework with serverlessoffline and jest unit testing module I am trying to test my serverless function lambda using serverlessjestplugin which is supposed to integrate jest on serverless Following is my jest configuration in my serverless yml I have a lambda function which uses dynamoDB to get some data etc Whenever I use sls invoke test I have the following I am running the following package json Cheers "
48691576,"How to store JWT token response from dynamo","https://stackoverflow.com/questions/48691576/how-to-store-jwt-token-response-from-dynamo","{amazon-web-services,amazon-dynamodb,jwt,serverless-framework}","2018-02-08 17:37:45+02","2024-05-17 05:08:48.658672+03","I have stored my JWT token in dynamodb from a step function used to generate it I have fetched the token using api gateway to my static site hosted in s3 Does anyone know how to save it in cookie I am using the serverless framework to deploy my lambdas if that is any help Thanks"
48709277,"Lambda / Pre-signed url access denied","https://stackoverflow.com/questions/48709277/lambda-pre-signed-url-access-denied","{amazon-web-services,aws-lambda,serverless-framework}","2018-02-09 15:38:50+02","2024-05-17 05:08:49.329381+03","I wrote a lambda function who return a presigned url for documents in S3 Buckets The code is really simple The funny thing is when I call this function locally with serverless framework like this It is working I have a url which give me the file But when I deploy to AWS Lambda the function return a URL which always says access denied on the file Why is it working locally and not deployed Thank you "
48732348,"Can I integrate firebase authentication with aws lambda","https://stackoverflow.com/questions/48732348/can-i-integrate-firebase-authentication-with-aws-lambda","{firebase-authentication,aws-lambda,serverless-framework}","2018-02-11 14:05:17+02","2024-05-17 05:08:51.001114+03","I am using Serverless framework aws Lambda functions but I want the authentication to be done by firebase Is it possible to integrate this two"
48766225,"How to switch provider serverless framework?","https://stackoverflow.com/questions/48766225/how-to-switch-provider-serverless-framework","{lambda,serverless-framework}","2018-02-13 11:52:15+02","2024-05-17 05:08:51.529405+03","Ive deployed some functions using Serverless framework on AWS Lambda I would like to switch provider to IBM Functions because theyre using OpenWhisk and its a really cool open source project backed up by apache I assume just changing provider in the yml wont work because openwhisk functions have different signature then lambda Also Im using the context object in my functions but openwhisk doesnt pass it as a parameter How can I do this switch or should I say migration Why does it say that Serverless is cloud agnostic if I cannot just switch to another provider in a transparent way Thanks in advance "
48773229,"Multiple serverless files sharing the same api gateway","https://stackoverflow.com/questions/48773229/multiple-serverless-files-sharing-the-same-api-gateway","{serverless-framework,serverless}","2018-02-13 18:22:26+02","2024-05-17 05:08:52.490797+03","I am using serverless framework to build a REST API I have reached the 200 limit stack size and read about the multiple approaches to circumvent it The most common approach is to split the stacks in a microservices fashion where each stack handles a particular set of resources that make sense together Because of how serverless works each of those services would create a new api gateway for itself and then as explained in this blog post a shared domain can be setup between them so all endpoints can be accessed through the same base url Even though this is a valid solution I would really like to be able to work with a single API gateway resource shared between the different stacks so I do not have to decide upfront a separation of concerns between the different components of my api Is this possible"
48806535,"Serverless - AWS Lamda with MongoDB Atlas Queries Not Running","https://stackoverflow.com/questions/48806535/serverless-aws-lamda-with-mongodb-atlas-queries-not-running","{node.js,mongodb,aws-lambda,serverless-framework,mongodb-atlas}","2018-02-15 11:48:14+02","2024-05-17 05:08:53.206507+03","I have created an AWS account and want to use MongoDB Atlas with AWS Lambda The only dependency I have downloaded is mongodb locally Driver based connection string given from mongoDB Atlas for Nodejs is I think the connection is successful because err parameter is NULL But I cannot figure out how to create collection how to find results how to insert documents I have tried this code but it returns in Windows console a huge Object in JSON format its like a configuration data not a query result enter image description here I am executing this code locally by"
48816456,"Accessing SSM variables with Serverless","https://stackoverflow.com/questions/48816456/accessing-ssm-variables-with-serverless","{node.js,amazon-web-services,serverless-framework}","2018-02-15 21:19:24+02","2024-05-17 05:08:53.932923+03","I would like to use SSM Parameters in Serverless Variables Following the docs I ran this command And I added this to my serverless yml When I deploy I get this warning however How do I access this variable Thanks "
48818839,"Possible to reference variables from lambda functions?","https://stackoverflow.com/questions/48818839/possible-to-reference-variables-from-lambda-functions","{serverless-framework}","2018-02-16 01:19:37+02","2024-05-17 05:08:54.860816+03","Is it possible to reference variables defined in serverless yml For example in a Node lambda something like I am using the serverlesswebpack plugin "
48887000,"serverless authentication with JSON Web Tokens","https://stackoverflow.com/questions/48887000/serverless-authentication-with-json-web-tokens","{node.js,aws-lambda,aws-api-gateway,serverless-framework}","2018-02-20 14:00:32+02","2024-05-17 05:08:58.483209+03","I learning serverless architecture based on AWS Lambda API gateway and Dynamodb Here is my config file serverless yml I set up a custom authorizer for API Gateway And I test all lambda functions firstly and all works fine However when I test getAllCustomers API it does not return correct response it returns supposes to be It supposes to go through the authorize lambda function and pass to getAllCustomers but when I check the log only authorize function received the request Here is my authorize function"
48896014,"Deploying multiple CloudFormation stacks from a single serverless.yml template?","https://stackoverflow.com/questions/48896014/deploying-multiple-cloudformation-stacks-from-a-single-serverless-yml-template","{aws-cloudformation,serverless-framework}","2018-02-20 23:43:26+02","2024-05-17 05:08:59.041237+03","When I do an sls deploy I ended up with a CloudFormation stack named name of servicestage I would like to deploy multiple CloudFormation stacks using the same template One way this could work is based on an environment variable Something like SOURCEtwitter sls deploy would yield a cloud formation stack named name of serviceSOURCE env varstage which in this case would be scrapetwitterprod Is this possible"
48903072,"Serverless - How to share provider config across unrelated services/functions?","https://stackoverflow.com/questions/48903072/serverless-how-to-share-provider-config-across-unrelated-services-functions","{amazon-web-services,serverless-framework}","2018-02-21 10:05:00+02","2024-05-17 05:08:59.877286+03","I am trying to figure out how to deploy my AWS lambdas using serverless I have a bunch of lambdas that are not related so I would like each one packaged and deployed individually along with its resources The only way I figured out to do this so far is by giving each function folder its own serverless yml file But in order to keep it DRY I would like to have one master template config yml that I can read the provider info from The problem is it doesnt work sls deploy v with debug var on doesnt show me any errors it just stops after Excluding development dependencies It creates the zip file but it doesnt go any further It seems to me that the provider gets set up before the file variable gets interpolated something like that is there any way around this This is the folder structure the relevant part of func1serverless yml looks like this and config yml looks like this"
48931307,"How to store flask sessions on serverless APP","https://stackoverflow.com/questions/48931307/how-to-store-flask-sessions-on-serverless-app","{flask,aws-lambda,auth0,serverless-framework}","2018-02-22 15:35:11+02","2024-05-17 05:09:01.502015+03","I am trying to build a serverless Flask APP To login users I use auth0 com After the user logs in I get an access token I send a post request with it to my flask backend and there I exchange the token for the user info doing this Once I have done this I redirect the user to their dashboard There I send a second post request to fetch the user profile something like this This second function returns always profileNot logged in So I am wondering what is the best way to do this Should I always send back the auth0 token send a request to them to ask who is the user and then return his data It seems like an overkill to send always a request to auth0 everytime I need to return some data Is there a better method"
48945389,"How could I use aws lambda to write file to s3 (python)?","https://stackoverflow.com/questions/48945389/how-could-i-use-aws-lambda-to-write-file-to-s3-python","{python,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2018-02-23 10:07:35+02","2024-05-17 05:09:02.541387+03","I have tried to use lambda function to write a file to S3 then test shows succeeded but nothing appeared in my S3 bucket What happened Does anyone can give me some advice or solutions Thanks a lot Heres my code "
48947073,"Deployment(CI-CD) pipeline for serverless application","https://stackoverflow.com/questions/48947073/deploymentci-cd-pipeline-for-serverless-application","{deployment,continuous-integration,release-management,serverless-framework,serverless-architecture}","2018-02-23 11:42:05+02","2024-05-17 05:09:03.35977+03","I have created a simple node express MongoDB app which has 3 API endpoints to perform basic crud operations If I was to deploy this to Heroku as a service and use bitbucketpipeline to perform CICD this would do the job for me On top of this I can have Heroku pipelines to have multiple stages of environments like dev and production And after doing all above I would be done with my pipeline and happy about it Now coming back to Serverless I have deployed my API endpoints to AWS as lambda functions And that is the only environment let us say DEV present at the moment Now how can I achieve a pipeline similar to the one mentioned earlier in a serverless architecture All the solutions out there do not suggest maybe I missed some promoting the actual code which is tried and tested on dev env to Production But rather a deploy a new set of code is this a limitation"
48952567,"Why does serverless require you to be very specific with your dynamodb settings?","https://stackoverflow.com/questions/48952567/why-does-serverless-require-you-to-be-very-specific-with-your-dynamodb-settings","{aws-lambda,amazon-dynamodb,serverless-framework}","2018-02-23 16:44:03+02","2024-05-17 05:09:04.509156+03","From httpsgithub comserverlessexamplesblobmasterawsnoderestapiwithdynamodbserverless yml Is not DynamoDB supposed to be schemaless And why is throughput provisioning done here This config is supposed to be committed right What is the idea behind including specific config details"
48953841,"AWS Serverless PDF download","https://stackoverflow.com/questions/48953841/aws-serverless-pdf-download","{aws-lambda,serverless-framework,serverless}","2018-02-23 18:06:17+02","2024-05-17 05:09:05.548082+03","I would like to download a PDF file using a nodejs lambda function deployed in AWS Please let me know the configurations to be provided in serverless settings yaml file I am able to download PDF by making below configuration changes from console 1 Add ContentType as applicationpdf 2 Map the response model for applicationpdfEmpty 3 Change the content handling in integration response from passthrough default to Convert to Binary I am looking for options where these can be provided in serverless configuration file I am looking for options where content handling and response model can be set using serverless Below is the snippet from serverless yml"
49006352,"Not able to invoke locally AWS Lambda using Serverless","https://stackoverflow.com/questions/49006352/not-able-to-invoke-locally-aws-lambda-using-serverless","{java,amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-02-27 10:23:46+02","2024-05-17 05:09:06.322946+03","I have a problem and maybe someone can help me I am trying to build a simple java aws lambda and deploy it using serverless framework I have tried to build a simple lambda using When I try to invoke the remote function using it works But when I try to invoke it locally I have the following error EDIT To run it locally I use I have googled it and I found nothing I do not understand the error It looks like something about maven"
49045256,"Serverless deploying to AWS, Azure or GCP","https://stackoverflow.com/questions/49045256/serverless-deploying-to-aws-azure-or-gcp","{amazon-web-services,azure,google-cloud-platform,serverless-framework,serverless}","2018-03-01 08:12:13+02","2024-05-17 05:09:07.268199+03","Does anyone using the Serverless framework know if it is possible to use the same serverless deploy file to deploy to all three cloud providers if the underlying code is capable Or are the serverless files specific to each cloud provider Thanks"
49065665,"QueryString parameters are not getting validated even after setting the params to be required in serverless yaml","https://stackoverflow.com/questions/49065665/querystring-parameters-are-not-getting-validated-even-after-setting-the-params-t","{aws-lambda,serverless-framework}","2018-03-02 08:54:48+02","2024-05-17 05:09:07.887316+03","I have configured API gateway via lambda function deployed with serverless framework I have defined some queryStringParameters to be true in the yaml file But the request is passing through the service even when the Required mandatory queryStringParams are not passed in URL PFB the similar config functions functionName name serviceName handler handler handle events http path path method get request parameters querystrings param1 true param2 true Seems serverless is not validating whether param1 and param2 are passed as queryString Should we have an explicit Request validator Is it possible to do so with Serverless"
49068548,"Event subscription when entering data to AWS RDS","https://stackoverflow.com/questions/49068548/event-subscription-when-entering-data-to-aws-rds","{amazon-web-services,lambda,aws-api-gateway,rds,serverless-framework}","2018-03-02 11:51:11+02","2024-05-17 05:09:08.708322+03","I am using serverless framework AWS lambda functions and RDS database When inserting data to RDS database I also want to insert it into Algolia database to sync the two databases is it possible to call a lambda function when a record is inserted into RDS maybe event subscription "
49111504,"AWS Lambda : Original error was: cannot import name multiarray","https://stackoverflow.com/questions/49111504/aws-lambda-original-error-was-cannot-import-name-multiarray","{python,numpy,aws-lambda,serverless-framework}","2018-03-05 13:24:48+02","2024-05-17 05:09:09.794114+03","Hi i deployed an application with lambda aws using Serverless Framework but i receive the error when i run a test I removed the numpy package folder multiple times and reinstalled but still not working So do you have any solution for this problem for the code Thank you in advance"
49133294,"Request validation using serverless framework","https://stackoverflow.com/questions/49133294/request-validation-using-serverless-framework","{amazon-web-services,validation,aws-lambda,aws-api-gateway,serverless-framework}","2018-03-06 14:34:18+02","2024-05-17 05:09:10.819153+03","I am using serverless framework for the backend How can I implement request validation do not want to write validation inside lambda functions "
49430008,"Unable to import module 'api/candidate': Error at Function.Module._resolveFilename","https://stackoverflow.com/questions/49430008/unable-to-import-module-api-candidate-error-at-function-module-resolvefilena","{node.js,amazon-web-services,aws-lambda,aws-sdk,serverless-framework}","2018-03-22 13:31:22+02","2024-05-17 05:09:11.311887+03","I am creating Serverless application using Lamda functions in nodejsDynmodb and Serverless framwork I have created Lamda function to get data from Dynmodb table but I am getting this error when I am trying to fetch data through end point Lamda Function index js error in CloudWatchLog GroupsawslambdamyservicedevlistCandidates While fetching data from Endpoint I am getting this message Internal server error "
49506341,"MqttClient sends the one before last message","https://stackoverflow.com/questions/49506341/mqttclient-sends-the-one-before-last-message","{node.js,rabbitmq,aws-lambda,mqtt,serverless-framework}","2018-03-27 07:04:28+03","2024-05-17 05:09:11.854075+03","In my code which is a handler serverless framework I push a message to RabbitMQ but the problem is that when I send the first message the subscribers do not receive anything and with the second one they receive just the first message and the same happens for the rest when I send a message the previous one is delivered Any Idea Edit I have replaced the actual code with a very basic and simple code but still the same result Lambda create ts publisher ts export default publish sample log from cloudwatch START RequestId ea63e6ca318f11e8b766b78fb7754d27 Version LATEST 20180327T072441 744Z ea63e6ca318f11e8b766b78fb7754d27 test started 20180327T072441 744Z ea63e6ca318f11e8b766b78fb7754d27 publish started 20180327T072441 767Z ea63e6ca318f11e8b766b78fb7754d27 connected to the queue 20180327T072441 767Z ea63e6ca318f11e8b766b78fb7754d27 message to publish \floatId\0 24342369749799642 20180327T072441 767Z ea63e6ca318f11e8b766b78fb7754d27 err undefined 20180327T072441 767Z ea63e6ca318f11e8b766b78fb7754d27 packet undefined 20180327T072441 767Z ea63e6ca318f11e8b766b78fb7754d27 calling the callback END RequestId ea63e6ca318f11e8b766b78fb7754d27"
49510870,"Why should i declare my dynamodb resources in the serverless.yml?","https://stackoverflow.com/questions/49510870/why-should-i-declare-my-dynamodb-resources-in-the-serverless-yml","{amazon-dynamodb,serverless-framework}","2018-03-27 10:46:38+03","2024-05-17 05:09:12.968793+03","I wanna know this because I am just starting a new project with serverless dynamodb And I am constantly changing or adding indexes so everytime I make these changes I cannot deploy again due to same table name conflict And if I make changes to the Resources section all old data is removed So is it necessary to define the dynamodb resources attribs key GSI before hand Is not nosql supposed to be flexible"
49532186,"same domain name for lambda function api endpoints(backend) and for frontend","https://stackoverflow.com/questions/49532186/same-domain-name-for-lambda-function-api-endpointsbackend-and-for-frontend","{amazon-s3,aws-lambda,amazon-dynamodb,serverless-framework}","2018-03-28 10:32:04+03","2024-05-17 05:09:14.056281+03","How to use same domain name for front end and for lambda function endpoints for Serverless framework I am using reactjs for frontend design and for frontend hosting I am using s3 and Aws Dynamodb for lambda functions "
40096470,"Get Webpack not to bundle files","https://stackoverflow.com/questions/40096470/get-webpack-not-to-bundle-files","{javascript,node.js,reactjs,typescript,webpack}","2016-10-17 22:08:41+03","2024-05-17 05:09:15.146238+03","So right now I am working with a prototype where we are using a combination between webpack for building tsx files and copying html files and webpackdevserver for development serving As you can assume we are also using React and ReactDOM as a couple of library dependencies as well Our current build output is the following structure This places ALL of the modules including library dependencies into on big bundled file I want the end result to look like this I have references to each of the libraries in index html and in import statements in the tsx files So my question is this How do I go from webpack producing this gigantic bundled js file to individual js files libraries included without having to specify each individually Bonus I know how to do proddev environment flags so how do I just minify those individual files again without bundling them current webpack config"
49532205,"VSCode breakpoints disabled (greyed-out) when working with Typescript and Serverless Offline","https://stackoverflow.com/questions/49532205/vscode-breakpoints-disabled-greyed-out-when-working-with-typescript-and-server","{typescript,webpack,visual-studio-code,serverless-framework,serverless-framework-offline}","2018-03-28 10:32:58+03","2024-05-17 05:09:15.998081+03","I am developing some Lambda functions using serverlessframework The servelessframework has been installed globally I am using Typescript and serverlesswebpack I am also using serverlessoffline to test locally Everything works fine except when I try to debug from within VSCode The problem is that as soon as I start serverlessoffline from the Debug facility of VSCode all my breakpoints get greyedout Here my configuration files package json webpack config ts launch json tsconfig json By the way if I try to debug any normal function written in Typescript using the Current TS File launch configuration all my breakpoints work perfectly If I use the Debug Offline launch configuration then all breakpoints get greyedout "
49566890,"Lamda function reuse best practices","https://stackoverflow.com/questions/49566890/lamda-function-reuse-best-practices","{amazon-web-services,aws-lambda,serverless-framework}","2018-03-30 00:24:39+03","2024-05-17 05:09:17.477844+03","Should Lambda functions call other Lambda functions or should they be self contained My environment is I have build several CRUD for API resources each Dynamo table and now I am creating some specialized ones that cross tables If I have a function createTeamForecast and I need to get a single row from table Team should I import the function getTeam or just write the Dynamo query I lean to importing the function but I have not see anything saying that is OK getTeam js In my createTeamForecast can I just import that function and then call it My alternative is to just do a Dynamo get and check results within my createTeamForecast js function That is more self contained but not very DRY The way that Serverless and Lambda manage the functions it feels a little disconnected Anyone have any pros or cons"
49571663,"Serverless deployed lambda not invoking callbacks.","https://stackoverflow.com/questions/49571663/serverless-deployed-lambda-not-invoking-callbacks","{aws-lambda,serverless-framework,amazon-cognito}","2018-03-30 09:16:21+03","2024-05-17 05:09:17.548061+03","I am pretty new to serverless and I have come across a bizarre situation I have created a lambda function which lists the users from the cognito user pool I have used cognitoidentityserviceprovider listUsers to get the user list from user pool I tried creating the lambda function using serverless framework Everything works fine but the callback for listUsers is never triggered There are no error logs in cloudwatch and nothing happens until it gets timed out I tired creating a test function from lambda console directly and used the same code there and the test function works perfectly fine I am getting the user list from the test function Can anyone please give me an idea of what is happening here If you want any more info please let me know I would be very happy to get it fixed I do not want to have two mediums for handling the lambda function which I am currently having both serverless framework as well as lambda console "
49590451,"DynamoDB API in Serverless","https://stackoverflow.com/questions/49590451/dynamodb-api-in-serverless","{amazon-dynamodb,serverless-framework,serverless,aws-sdk-js}","2018-03-31 17:21:37+03","2024-05-17 05:09:18.617041+03","I am using serverless framework to create an application that writes and reads data from DynamoDB I follow their official docs and look into other examples on github As far as I understand Serverless uses AWS SDK for NodeJS under the hood I noticed the DynamoDB API Difference in Serverless and official AWS SDK Method names They are different in the official AWS SDK docs for reading there is a getItem method link for the docs whereas in the Serveless get method is being used link everywhere Params definition In accordance to the official documentation I need to use the following convention to create params However Serverless shows a different approach Question Could somebody please explain the difference and why is that It is a little bit confusing and hard to understand which convention to follow Thanks "
49607378,"Missing or invalid ""path"" property in function ""func_name"" for http event in serverless.yml","https://stackoverflow.com/questions/49607378/missing-or-invalid-path-property-in-function-func-name-for-http-event-in-ser","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-04-02 07:50:44+03","2024-05-17 05:09:19.499756+03","When I am trying to deploy to aws I have got an error due to Missing or invalid path property "
49643250,"How to upload large files >5mb in API Gateway? using serverless and nodejs","https://stackoverflow.com/questions/49643250/how-to-upload-large-files-5mb-in-api-gateway-using-serverless-and-nodejs","{amazon-web-services,aws-api-gateway,serverless-framework}","2018-04-04 05:12:23+03","2024-05-17 05:09:20.521786+03","I am doing an API that recieves multiple files I read them and then upload them on S3 but i have problems with large files 5mb only when it recives some small files works I think it is API Gateway that only accepts a limit size of request but even if that is right I do not know how to change those values I am using nodejs express multer multipartformdata and serverless for that API I upload the files with the function putObject Could someone help me please Is it really API Gatewy the problem how solve it Or what do you think it is the problem thanks for the answer the error that I get with files 5mb is this The response body is message Internal server error headers are I am gonna check the Uploading Objects Using PreSigned URLs i didt know them Do you have any idea why i cannot handle files 5mb edit I have been looking and I saw that lambda AWS has a limit of 6 mb I think it is another problem if I upload the file using presigned URLs will the problem be solved"
49644106,"AWS cognito with serverless framework","https://stackoverflow.com/questions/49644106/aws-cognito-with-serverless-framework","{aws-lambda,aws-api-gateway,serverless-framework,amazon-cognito}","2018-04-04 06:21:07+03","2024-05-17 05:09:21.588528+03","I am working on serverless framework For user authentication I am using aws cognito and I want to create api using lambda function for signup userAuthenticate userschange password etc Is it possible using serverless framework if possible please suggest any example "
49645157,"AWS Codebuild Golang Lambda using Serverless Framework","https://stackoverflow.com/questions/49645157/aws-codebuild-golang-lambda-using-serverless-framework","{go,lambda,bitbucket,serverless-framework,aws-codebuild}","2018-04-04 07:27:44+03","2024-05-17 05:09:22.45619+03","I am building golang lambda functions using the serverless framework in AWS CodeBuild This project is in a private bitbucket repository And the CodeBuild source is the bitbucket repo I am having some problems of using local packages in the code I have this project structure what I am trying to do is to use package test in hellotesttest go in the hellomain go And I have tried 2 options the problems So what can I do to use my golang packages in AWS CodeBuild And it is a private repo not a public one "
49645453,"Using SSM parameter to set logRetentionInDays in serverless.yml","https://stackoverflow.com/questions/49645453/using-ssm-parameter-to-set-logretentionindays-in-serverless-yml","{amazon-web-services,serverless-framework,ssm,aws-parameter-store}","2018-04-04 07:45:11+03","2024-05-17 05:09:22.934962+03","I am having issues on using EC2 Parameter Store SSM Parameters in serverless yml file for setting logRetentionInDays configuration value I am getting error that logRetentionInDays should be an integer over 0 Is there any possibility to use SSM here I think the problem is that the parameter is read as String value instead of Number but not sure Wrong SSM key is failing to find the value so reference is correct Any ideas"
49675890,"How to debug serverless deploy - hangs during packaging","https://stackoverflow.com/questions/49675890/how-to-debug-serverless-deploy-hangs-during-packaging","{node.js,aws-lambda,serverless-framework,puppeteer}","2018-04-05 15:13:52+03","2024-05-17 05:09:24.507155+03","While executing sls deploy s MY_STAGE v serverless stops during packaging I use verbose and I set SLS_DEBUG to get more information However this does not show what is happening with packaging and why it is waitinghanging What else can I do to check what is causing packaging to hang More details The package that is actually causing issues is puppeteer If I comment out in the code That helps and sls deploy works However I want to use puppeteer Moreover I also set PUPPETEER_SKIP_CHROMIUM_DOWNLOAD1 this has not made any difference In serverless folder I can see services being zipped fine except the one that is using puppeteer If I do sls package s MY_STAGE it hangs in the same place My environment"
49677774,"Support for `{where: 'raw query'}` has been removed","https://stackoverflow.com/questions/49677774/support-for-where-raw-query-has-been-removed","{javascript,lambda,sequelize.js,graphql,serverless-framework}","2018-04-05 17:01:09+03","2024-05-17 05:09:24.910944+03","I am running a GraphQL server using the serverless framework on AWS Lambda I am fetching the data in the UI using apollolinkbatchhttp If I run it locally using serverlessoffline it works fine But if I run it on AWS Lambda it successfully resolves the fooResolver but not the barResolver as it throws the above error message The Model cached 300 is a tiny cache wrapper I made You can see it here httpsgist github comlookapanda4676083186849bb6c5ae6f6230ad7d8f It basically just makes me able to use my own findById function and so on The weird thing is this error only appears if I use apollolinkbatchhttp but not if I use apollolinkhttp So if the request is batched into a single GraphQL request there is no such errors although then I get this error httpsgithub comsequelizesequelizeissues9242 I really do not know what is going on there there is no raw where query in any of those resolvers And it gets even weirder It only happens with the cached result The first request is totally valid and successful but then every consecutive request fails with the above error message I really hope someone can help me I am getting insane D"
49678102,"How to reference the latest Stream of a DynamoDB table in a Cloudformation template","https://stackoverflow.com/questions/49678102/how-to-reference-the-latest-stream-of-a-dynamodb-table-in-a-cloudformation-templ","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless-framework,amazon-dynamodb-streams}","2018-04-05 17:22:40+03","2024-05-17 05:09:25.561001+03","I am writing a plugin for the serverless framework which references a DynamoDB Stream by its ARN I can construct the DynamoDB tables ARN with the information I have at hand but I do not know the timestamp part that would be necessary to build the full stream ARN I do not have access to the original DynamoDB Cloudformation definition when I need to reference the Stream ARN those two things can happen in entirely different templates All I have is the ARN of the already created DynamoDB at this point Is there a way to reference the latest stream via a variable similar to arnawsdynamodb AWSRegion AWSAccountId tableeventbusteststream LATEST Or can I build it in another way by means of a serverless configuration or Cloudformation template"
49707043,"Internal server error when returning an object with X-Ray dependency","https://stackoverflow.com/questions/49707043/internal-server-error-when-returning-an-object-with-x-ray-dependency","{node.js,serverless-framework,aws-xray}","2018-04-07 11:47:20+03","2024-05-17 05:09:27.031744+03","I am trying to update my current functions from Node 6 10 to Node 8 10 In this migrating I would like to return objects instead of calling the lambda callback For example the code below works correctly The issue occurs when the AWS X Ray dependency is added For example the code below fails with 502 Internal Server Error Did anyone had this issue before"
49707752,"Serverless framework Lambda AppSync error","https://stackoverflow.com/questions/49707752/serverless-framework-lambda-appsync-error","{aws-lambda,aws-cloudformation,serverless-framework,serverless,aws-appsync}","2018-04-07 13:16:29+03","2024-05-17 05:09:27.405002+03","I am using the serverless framework to upload an AWS Lambda function to be used as a data source in AppSync The serverless yml that I have is very basic When I run an AppSync GraphQL query I get the error I am pretty sure that I need to flesh out my YML so that this lambda stack will play nice with AppSync but I am not quite sure what to do A little more info When looking at the resources in Lambdas CloudFormation I see Whereas in the Lambda that I made using the AppSync docs AWS CLI has the following CloudFormation resources"
49722289,"Serverless: WARNING: Inappropriate call of provider.request()","https://stackoverflow.com/questions/49722289/serverless-warning-inappropriate-call-of-provider-request","{serverless-framework}","2018-04-08 20:11:13+03","2024-05-17 05:09:28.395903+03","I am using Serverless the ServerlessFinch plugin to deploy a Serverless website to S3 Serverless Finch config is below When I run serverless client deploy the deployment is successful and my site is online hosted on S3 however the logs in the terminal show this warning repeated about 30 times I have tried searching for the causemeaning of this warning but have not been able to find any info any help explaining the error meaning or pointing me to the right bit of documentation is much appreciated I have tried changing my YML to not take the stage from the provider object for the bucketName however the warning persisted so I know that is not the source of the issue "
49724939,"how to name uploaded directory in serverless framework?","https://stackoverflow.com/questions/49724939/how-to-name-uploaded-directory-in-serverless-framework","{python,amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-04-09 02:56:23+03","2024-05-17 05:09:29.122789+03","I am building an application with AWS lambda and the serverless framework My folder structure looks like this when deployed When I run serverless deploy it correctly packages and uploads my service It uses the naming convention service name dev function name This is not the name of the parent folder locally so it is messing up the imports I thought that instead I should move everything into src but the serverless plugin packages libraries like pythonlibrary1 and pythonlibrary2 and places them outside src Is there a way to change the naming convention to fix these import errors"
49729188,"AWS Lambda VPC ENI overflow","https://stackoverflow.com/questions/49729188/aws-lambda-vpc-eni-overflow","{amazon-vpc,serverless-framework}","2018-04-09 09:02:14+03","2024-05-17 05:09:30.241688+03","My Lambda accesses resources on my VPC so as instructed in the documentation I have given the Lambda a role to create network interfaces I was under the assumption that the ENI is reused but looks like every invocation is creating a new ENI which caused to throw an error Lambda was not able to create an ENI in the VPC of the Lambda function because the limit for Network Interfaces has been reached My role has ec2 permissions like it said in the documentation Apart from manually deleting these ENIs periodically is there a better way"
49733367,"How to configure DynamoDB ProvisionedThroughput for multiple envs using Serverless Framework","https://stackoverflow.com/questions/49733367/how-to-configure-dynamodb-provisionedthroughput-for-multiple-envs-using-serverle","{amazon-dynamodb,yaml,aws-cloudformation,serverless-framework,serverless}","2018-04-09 12:48:17+03","2024-05-17 05:09:30.772612+03","I am building serverless application on AWS and trying to create DynamoDB tables with certain values of ProvisionedThroughput or auto scaling enabled using Serverless Framework For example I know how to configure settings for 1 environment by serverless yml but how can I manage different values for each environment using same serverless yml file Is it possible to change values or enabledisable auto scaling for each env in any way"
49745938,"WebStorm code indentation issue","https://stackoverflow.com/questions/49745938/webstorm-code-indentation-issue","{node.js,webstorm,serverless-framework}","2018-04-10 05:26:28+03","2024-05-17 05:09:31.587091+03","My WebStorm IDE has problems with indentation It show notification at the top of the screen like JSCS Node interpreter file is not found and ESLint Please specify ESLint package It shows when I tried to load the serverless framework project file There is no problem when I write the NodeJS code directly "
49764571,"How to upgrade nodejs version on Azure","https://stackoverflow.com/questions/49764571/how-to-upgrade-nodejs-version-on-azure","{node.js,azure,azure-functions,serverless-framework}","2018-04-11 00:14:44+03","2024-05-17 05:09:33.213655+03","Currently I have Azure function and Node js version 6 5 0 defined by default there The goal is to upgrade it I have checked the list of available Node js versions on Azure and the latest one is 8 9 4 I have read some documentation about it where 2 ways to do it are mentioned 1 package json Put the following configuration to package json file So I did it but no success 2 Application Settings Go to Application Settings and update the value for WEBSITE_NODE_DEFAULT_VERSION to 8 9 4 Here I have 3 issues with this method One more issue with Azure Functions When I deploy a function with changes Azure Portal web UI still shows me not updated function old one while new version of that function is running there Weird Please let me know if any of you faced these issues and maybe someone knows the reason or even solution Thank you "
49769287,"What thes normal setup Serverless with S3","https://stackoverflow.com/questions/49769287/what-thes-normal-setup-serverless-with-s3","{amazon-s3,aws-lambda,serverless-framework}","2018-04-11 07:43:48+03","2024-05-17 05:09:33.801663+03","Are there commonly used plugins that are used with serverless that supports integrating a single S3 bucket as static content and having lambda functions to do the heavy lifting I am thinking that by default content be served from a bucket based on routes and anything under api be served by lambda Thanks"
49795148,"Connecting Cassandra from AWS Lambda","https://stackoverflow.com/questions/49795148/connecting-cassandra-from-aws-lambda","{amazon-web-services,cassandra,aws-lambda,serverless-framework}","2018-04-12 11:17:54+03","2024-05-17 05:09:34.811887+03","We are checking the feasibility of migrating one of our application to Amazon Web Services AWS We decide to use AWS API Gateway to expose the services and AWS Lambda java for back end data processing The lambda function has to fetch a large amount of data from our database Currently using Cassandra for data storage which has been set up with in an EC2 instance and it has no public ip Can anyone suggest a way to access Cassandra EC2 from AWS Lambda using the private Ip 10 0 x x Is it a right choice to use AWS Lambda for large scale applications"
49810775,"AWS Lambda randomly gives back 502 as status","https://stackoverflow.com/questions/49810775/aws-lambda-randomly-gives-back-502-as-status","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,graphql-js}","2018-04-13 06:40:43+03","2024-05-17 05:09:35.834819+03","I am having a lambda function which makes use of Graphql and webscraping to return some data as response Sometimes it works without giving an error like 502 sometimes it does not To me it looks like the 502 errors are completely random because I send the same requests with the same data all the time My timeout is set to 5 minutes in AWS console These are the errors I get in browser Failed to load [BIG URL] No AccessControlAllowOrigin header is present on the requested resource Origin [mydomainurl] is therefore not allowed access The response had HTTP status code 502 spread js25 GET [BIG URL] 502 However when I go to the Network tab in Chrome and view the copied link address in browser I get a JSON response back with the data I want I cannot find the error in CloudWatch Headers Response headers Request headers Response message Internal server error My handler js Maybe there is something wrong in the way I return the err in the callback"
49817622,"Adding custom Response Body encoding serverless yaml","https://stackoverflow.com/questions/49817622/adding-custom-response-body-encoding-serverless-yaml","{amazon-web-services,aws-api-gateway,serverless-framework,serverless}","2018-04-13 12:58:07+03","2024-05-17 05:09:36.915987+03","I have yaml for my APIs deployment using serverless everything is running nice and fine There is requirements about response body encoding in texthtml charsetutf8 what i need to achieve is showed in below image its actually aws APIGATEWAY Method Response Image httpsi stack imgur com6WAWn jpg Gone through serverless Documentation but have not found anything useful any hint Thanks"
49818723,"Access external file for serverless variable for Amazon Web Server AWS","https://stackoverflow.com/questions/49818723/access-external-file-for-serverless-variable-for-amazon-web-server-aws","{amazon-web-services,serverless-framework}","2018-04-13 13:57:50+03","2024-05-17 05:09:37.848891+03","I am want to read variable in external json file in my serverless file But I get this error This in my code in serverless yml This is my configserverless_config json Thank you "
50237714,"Error: Cannot find module './drivers/node-mongodb-native/connection using Serverless","https://stackoverflow.com/questions/50237714/error-cannot-find-module-drivers-node-mongodb-native-connection-using-server","{node.js,mongoose,serverless-framework}","2018-05-08 15:53:49+03","2024-05-17 05:09:44.434104+03","I am using serverless and when I run my serverless invoke local function func I get Error Cannot find module driversnodemongodbnativeconnection Mongoose is installed 5 0 17 My func does not even call mongoose but I just include it at the top with const mongoose require mongoose and this error is thrown Not sure where to go from here "
49837840,"AWS Lambda/APIG - Error at new ConnectionManager at new PostgresDialect at new Sequelize","https://stackoverflow.com/questions/49837840/aws-lambda-apig-error-at-new-connectionmanager-at-new-postgresdialect-at-new-s","{node.js,postgresql,aws-lambda,serverless-framework}","2018-04-15 02:01:57+03","2024-05-17 05:09:39.369591+03","I am developing a web app with AWS Lambda and API Gateway with Nodejs When I run my api with localhost through serverless offline pointing my production DB on AWS RDS everything works fine However when I deploy to AWS I get the following module initialization error Error at new ConnectionManager vartasknode_modulessequelizelibdialectspostgresconnectionmanager js2915 at new PostgresDialect vartasknode_modulessequelizelibdialectspostgresindex js1430 at new Sequelize vartasknode_modulessequelizelibsequelize js23920 at Object vartasksrccontrollersruncontroller js4 I assume this means there is some issue connecting to the database I have no issue hitting it with postman via localhost but using my APIG url the above error is thrown and shown in the cloudwatch logs Please let me know what other information I can provide Update Narrowing in on this a bit more when I run a test in the lambda console against one of my functions it shows the following errorMessage Please install pg module manually It seems my node modules are not available Like I said I am using Serverless does sls deploy not include node modules Update 2 Indeed there was an issue with the node module pg not being included in the package I have added pg to be forced included with the following That resolves the above issue with needing to install pg manually However I am now only getting timeouts from my deployed functions but they still work locally "
49839924,"Packaging Python dependencies in subdirectory for AWS Lambda","https://stackoverflow.com/questions/49839924/packaging-python-dependencies-in-subdirectory-for-aws-lambda","{python,pip,aws-lambda,serverless-framework,python-packaging}","2018-04-15 08:23:59+03","2024-05-17 05:09:39.959202+03","I came across an article on serverlesscode com about building Python 3 apps for AWS Lambda that recommends using pip or pip3 to install dependencies in a vendored subdirectory I like this idea as it keeps the file structure clean but I am having some issues achieving it I am using Serverless Framework and my modules are imported in my code in the normal way e g from pynamodb models import Model I have used the command pip install t vendored r requirements txt to install my various dependencies per requirements txt in the subdirectory which seems to work as expected I can see all modules installed in the subdirectory When the function is called however I get the error Unable to import module handler No module named pynamodb where pynamodb is one of the installed modules I can resolve this error by changing my pip installation to the project root i e not in the vendored folder pip install t r requirements txt This installs exactly the same files There must be a configuration that I am missing that points to the subfolder but Googling has not revealed whether I need to import my modules in a different way or if there is some other global config I need to change To summarise how can I use Pip to install my dependencies in a subfolder within my project Edit noting tkwargs good suggestion on the use of the serverless plugin for packaging it would still be good to understand how this might be done without venv for example The primary purpose is not specifically to make packaging easier it is pretty easy asis with pip but to keep my file structure cleaner by avoiding additional folders in the root "
49856483,"Dns not resolve for Subdomain in Route 53 From Parent Domain in Different Registrar","https://stackoverflow.com/questions/49856483/dns-not-resolve-for-subdomain-in-route-53-from-parent-domain-in-different-regist","{subdomain,aws-api-gateway,amazon-route53,cname,serverless-framework}","2018-04-16 11:43:17+03","2024-05-17 05:09:40.984593+03","I am creating serverless application in nodejs env using aws lambda I need to add custom domain in API Gateway Domain lets say example com is registered with domain com and hosted with other company Parent domain example com is working fine with other hosting company Now I want to add its subdomain api example com in route 53 aws I know dns can take upto 48 hours to resolve I have also seen WHM cname can also be added there but i did not touch there please help Update 1 I have done as deceze described in the answer section below are the screenshots screenshot of NSRecord entered in my Parent Domain Registrar Subdomain route53 screenshot I have some doubts on this nameserver section in my parent domain registrar may be it has some effect on NSrecord as the default nameservers not used its has been around 20 hours still not worked Any Suggestions "
49884618,"AWS CloudFormation stack deploy fails with error ""property Responses not defined for resource of type API""","https://stackoverflow.com/questions/49884618/aws-cloudformation-stack-deploy-fails-with-error-property-responses-not-defined","{amazon-web-services,aws-api-gateway,serverless-framework,dotnet-cli,macos-high-sierra}","2018-04-17 17:58:26+03","2024-05-17 05:09:41.681525+03","This is now resolved but I would like to leave it in case it helps someone else The issue was that I misinterpreted the error I interpreted property Responses not defined for resource of type Api to mean that I had not defined any when it actually meant that an Api resource does not have a property called Responses I do not know why it worked earlier but once I removed the Responses entry the deployment succeeded 3 weeks ago I created a CloudFormation stack for the creation of an API gateway with lambda functions I used the dotnet lambda EmptyServerless project type on a Mac running Visual Studio Community Edition I successfully deployed the app via the dotnet cli many times using But as of yesterday the deployment fails with the error Failed to create CloudFormation change set Transform AWSServerless20161031 failed with Invalid Serverless Application Specification document Number of errors found 1 Resource with id [PostRegistrationPutResource] is invalid property Responses not defined for resource of type Api This is the exact same template I used before the method is not new and I have not changed its Resource entry Here is the relevant entry formatting is correct but changes when I past it here Here are some things I feel may be relevant about my environment Another symptom of strangeness was that when I tested this lambda function directly on the Lambda Management site it failed to read the body of the post and therefore the lambda failed This is what caused me to try to rebuild the stack in the first place I was not seeing data posted that should have been When I ran my unit test from with VS Community for the post operation it failed with the same ssh issue that I saw with SQL Ops yesterday As a last resort I deleted the whole stack it is still in dev and tried deploying again with the same error result I do not know what else to try and I cannot find any other reference to this type of problem Clues anyone"
49885172,"serverless dynamodb streams and triggers","https://stackoverflow.com/questions/49885172/serverless-dynamodb-streams-and-triggers","{amazon-dynamodb,serverless-framework,serverless}","2018-04-17 18:33:19+03","2024-05-17 05:09:42.503565+03","I have searched high and low and can not for the life of me get serverless to setup a dynamodb trigger I have used I tried a hard coded arn and nothing has occurred that I can see in the aws console I am new to serverless If you have any pointers please post "
50212300,"How would I create a global Counter for AWS Lambda functions?","https://stackoverflow.com/questions/50212300/how-would-i-create-a-global-counter-for-aws-lambda-functions","{amazon-web-services,aws-lambda,serverless-framework}","2018-05-07 10:42:12+03","2024-05-17 05:09:43.511181+03","If I wanted to launch a lambda function every 2 minutes that makes a call to an api with an index number How would I store the index number for lambda to read upon initialisation and increment it by one every time the lambda function makes a successful api call I think that having a dynamo table just for a counter is overkill "
50241159,"Unable to reference CloudFormation resource in serverless.yml. Invalid variable reference syntax for variable UserPoolId","https://stackoverflow.com/questions/50241159/unable-to-reference-cloudformation-resource-in-serverless-yml-invalid-variable","{node.js,amazon-web-services,yaml,serverless-framework,serverless}","2018-05-08 19:39:48+03","2024-05-17 05:09:45.397839+03","I am using the Serverless framework to deploy a serverless app to AWS However the CloudFormation part is not working as expected I have looked up on the web and could not find anything wrong with my YAML I am creating a UserPool and then UserPoolClient by using CloudFormation I have the following YAML for resources I am unable to reference UserPool when specifying UserPoolClient to be used as UserPoolId The following yields the error Invalid variable reference syntax for variable UserPoolId You can only reference env vars options files You can check our docs for more info Another thing which I am not sure about I have seen people sharing YAML containing the following syntax But it also fails and errors about the invalid syntax due to Ref Can anyone clear me on this"
50257269,"dotenv not working with serverless/webpack","https://stackoverflow.com/questions/50257269/dotenv-not-working-with-serverless-webpack","{javascript,node.js,webpack,environment-variables,serverless-framework}","2018-05-09 15:41:57+03","2024-05-17 05:09:46.249879+03","EDIT If I log out dotenv config I get an error of Error ENOENT no such file or directory open UsersmyPathToApplication webpacktest env I am bundling my serverless handler in order to use es6es7 code I have some env variables that I am trying to use as well The problem is it seems that dotenv is not working when I bundle the handler For example one of the utils I am using is connecting mongoose to my application In here I store the DB_URI as an env variable import envdotjs from envdotjs However the DB_URI is undefined and the code breaks Here is my webpack I am running this in order to use es67 on serverless handler which is working just fine But the env variables are breaking I also tried using a module called envdotjs and got the same results that the env variables are undefined so I do not think this is a problem with dotenv "
50272459,"How can I set an AWS Lambda to be invoked asynchronously through HTTP/API Gateway?","https://stackoverflow.com/questions/50272459/how-can-i-set-an-aws-lambda-to-be-invoked-asynchronously-through-http-api-gatewa","{amazon-web-services,aws-lambda,serverless-framework}","2018-05-10 11:59:01+03","2024-05-17 05:09:47.239769+03","I am writing an AWS Lambda that is invoked via HTTP i e the API Gateway integration I wish to use that API as a GitHub webhook When the webhooklambda is called I want the HTTP response to be sent right away and the lambda to keep executing because it can take some time This is similar to the Event invocation type when invoking a lambda Is that possible to use that invocation type with the HTTP integration Note I am using the serverless com framework "
50288961,"AWS Lamda/API Gateway Every Second Call Results in Internal Server Error","https://stackoverflow.com/questions/50288961/aws-lamda-api-gateway-every-second-call-results-in-internal-server-error","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,serverless}","2018-05-11 09:14:12+03","2024-05-17 05:09:48.82976+03","I am need to Nodejs and Serveless I have created a Serverless API and deployed to AWS Everything works as expected The issue i have and i cannot seem to find anything about this is on every second call i get an internal server error the first call is returns data as expected I have deployed to AWS only in a dev stage I am wondering if there is some configuration i am missing or something If you need the Serverless config or code examples i can provide Thanks ANSWER I think there was an issue with the DB call not returning data in time for the callback therefore i was finding inconsistent results So basically what i did was create a Database class returning Promises like so So when i made my query there was a result ready for the callback I hope that helps anyone that may have run into the same issue "
50294527,"serverless build webpack config failing to resolve modules for aws deployment","https://stackoverflow.com/questions/50294527/serverless-build-webpack-config-failing-to-resolve-modules-for-aws-deployment","{amazon-web-services,webpack,ecmascript-6,serverless-framework,serverless}","2018-05-11 14:26:09+03","2024-05-17 05:09:49.229585+03","I am trying to build a backend based on the httpserverless com framework started following this repository for reference httpsgithub comAnomalyInnovationsserverlessstackdemoapi Now I have added the same config resources files but wanted to organize my handler funtions So updated the directory structure to be something like controllersservicehandler js Now with this I changed my function definitions in serverless yml to be like this where the contents of user routes file are Now I am getting the following error when trying serverless deploy Now my controller file starts from this apart from this I have tried libs libs but still the same error I am assuming this has to do something with the webpack So here is the webpack config I am using Can anyone help identify fix the issue here"
50300743,"Malformed Lambda proxy response when access lambda REST","https://stackoverflow.com/questions/50300743/malformed-lambda-proxy-response-when-access-lambda-rest","{javascript,aws-lambda,serverless-framework}","2018-05-11 21:52:13+03","2024-05-17 05:09:50.231472+03","I use Javascript to create simple function that would be deployed on AWS Lambda and used as REST It supposed to generate random names but for now I use hardcoded value In this file I handle requests I use serverless to deploy lambda function After serverless deploy it shows me the response But when I try to run it using test on API gateway I get this error What is the problem"
50306196,"Import Data from S3 To Dynamo using Lambda","https://stackoverflow.com/questions/50306196/import-data-from-s3-to-dynamo-using-lambda","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-05-12 12:22:08+03","2024-05-17 05:09:51.268606+03","If I have a 1GB file in JSON format on S3 I would need a lambda function that has more than 1GB memory to load all of the file at once I would like to transform it with lambda then put it into a dynamodb table The json format for many of the files are So it is an array of data items that will be loaded with Golang Another option would be to split up the big file into 100MB files for example I would have about 100 files as there are many 1GB files Not sure of the best solution to go right now this would only happen once as an initial migration "
50325522,"serverless-dynamodb-local web shell error","https://stackoverflow.com/questions/50325522/serverless-dynamodb-local-web-shell-error","{serverless-framework,serverless-plugins}","2018-05-14 07:56:24+03","2024-05-17 05:09:51.840453+03","First time trying out serverless framework Am trying to use the local web shell to do some inspection But realise I could not list tables or show a list of records Web shell example The above command throws a status code 413 error But aws cli works fine aws dynamodb scan tablenamestockstabledev endpointurlhttplocalhost8000 I start the web shell with the command sls dynamodb start Prior to that I used the following commands to install the plugin Am I suppose to use the web shell for inspection Is there some configuration to be done for the web shell to work"
50383499,"API Gateway serverless Lambda integration ""Unsupported Media Type""","https://stackoverflow.com/questions/50383499/api-gateway-serverless-lambda-integration-unsupported-media-type","{amazon-web-services,aws-api-gateway,serverless-framework,serverless}","2018-05-17 04:47:02+03","2024-05-17 05:09:52.872633+03","I am using serverless to deploy my API using the lambda integration and I am getting the error Unsupported Media Type I am doing something wrong here but not sure what If I set it up manually in the AWS console it works just fine but I want to do it in serverless Below is a snippet from my serverless yml a screenshot of what I want it to look like after deploy and a screenshot of what it currently looks like with my serverless yml as it is What Integration Response Method Response currently look like in AWS console What I want them to look like Basically the Integration Response HTTP status Pattern and Method Response Models need to be included in the serverless yml but I have yet to find the correct configuration They are not included in my example at all as I did not know which failing example to put in The docs make it look fairly straight forward yet I have failed to get the result I want with all of my attempts so far "
50396250,"Serverless Cron Job firing twice","https://stackoverflow.com/questions/50396250/serverless-cron-job-firing-twice","{javascript,cron,webhooks,serverless-framework,serverless}","2018-05-17 16:22:00+03","2024-05-17 05:09:53.495647+03","I am not sure why but my webhook is being fired twice in my cron job So this cron job is suppose to run once every 15 min which it does but it is firing off twice I will post the logs handler and yml file to help out Basically my cron job will make some request to a salsify api to store a url inside a mongodb Once that file has been completed and built the next time the cron job runs it should trigger the webhook for netlify Then the process starts all over again In my netlify I noticed the build was being ran twice and have pin pointed the source to the serverless cron job EDIT Something I should add in here is that even if my cron job runs twice it still should still only technically call the webhook once if there is a file in the MongoDB Yet it is still calling it twice somehow which is causing my netlify build to fail because it needs that file in order to build function part of serverless yml Logs handler"
50409749,"Serverless-webpack deploy script is ""hanging"" with Webpack 4.8, while running ok with 3.12.","https://stackoverflow.com/questions/50409749/serverless-webpack-deploy-script-is-hanging-with-webpack-4-8-while-running-ok","{javascript,node.js,webpack,serverless-framework,serverless}","2018-05-18 10:53:40+03","2024-05-17 05:09:54.592598+03","I am using serverless and serverlesswebpack webpack config is pretty straightforward serverless yml When deploying with webpack version 8 4 the console output is absolutely clear even with verbose on and the node process consumes 0 CPU When downgrading webpack to 3 12 latest 3 version the build runs successfully At least how can I debug this I am not seeing any errors or hints in the output unfortunately "
50471802,"Serverless: Using a private Python package as a dependency","https://stackoverflow.com/questions/50471802/serverless-using-a-private-python-package-as-a-dependency","{python,pip,serverless-framework,serverless}","2018-05-22 15:48:53+03","2024-05-17 05:09:55.539374+03","I have a Python Serverless project that uses a private Git on Github repo Requirements txt file looks like this Configurations of the project mainly looks like this When I deploy using this command I get this error What am I doing wrong I am suspecting either the way I configured my SSH key for Github access or the configurations of the serverless package "
50482529,"AWS Cognito for facebook users with serverless framework","https://stackoverflow.com/questions/50482529/aws-cognito-for-facebook-users-with-serverless-framework","{aws-lambda,amazon-cognito,serverless-framework,serverless,amazon-cognito-facebook}","2018-05-23 07:39:29+03","2024-05-17 05:09:56.451415+03","I use Serverless Framework for AWS Serverless Application for creating REST Full APIs Requirement Any Users e g register facebook google any devices e g Mobile or Web use API that authenticates via JWT token if the token is valid user can access AWS Lambda function via AWS API Gateway What I do Use AWS Cognito User Pools for Register and Facebook users for social user I use Identity providers for getting JWT token that access API It is work perfectly fine What I need For mobile users in social login Facebook gives access token using that token can I register or login in AWS Cognito User Pools not AWS Cognito Federated Identities After login AWS Cognito User Pools gives JWT token for access AWS lambda function using AWS API gateway Why I need Because of Serverless framework handle authorizer with JWT Link Is it right flow"
50498620,"Serverless Framework add Lambda to an Existing VPC and Subnet","https://stackoverflow.com/questions/50498620/serverless-framework-add-lambda-to-an-existing-vpc-and-subnet","{aws-lambda,aws-sdk,aws-api-gateway,aws-cloudformation,serverless-framework}","2018-05-23 22:58:57+03","2024-05-17 05:09:57.476814+03","Is it possible to create a Serverless Framework Lambda deployment where the Lambda is deployed into an existing VPCs SecurityGroup I do not want the service deployment or it is stack to own an of the network artifacts"
50503912,"How to deploy large python packages with AWS Lambda?","https://stackoverflow.com/questions/50503912/how-to-deploy-large-python-packages-with-aws-lambda","{python,amazon-web-services,tensorflow,aws-lambda,serverless-framework}","2018-05-24 07:53:54+03","2024-05-17 05:09:58.252392+03","I need some advice I trained an image classifier using Tensorflow and wanted to deploy it to AWS Lambda using serverless The directory includes the model some python modules including tensorflow and numpy and python code The size of the complete folder before unzipping is 340 MB which gets rejected by AWS lambda with an error message saying The unzipped state must be smaller than 262144000 bytes How should I approach this Can I not deploy packages like these on AWS Lambda Note In the requirements txt file there are 2 modules listed including numpy and tensorflow Tensorflow is a big module "
50518925,"How to use DynamoDBStreamEvent Trigger Lambda when only update certain attribute","https://stackoverflow.com/questions/50518925/how-to-use-dynamodbstreamevent-trigger-lambda-when-only-update-certain-attribute","{amazon-web-services,amazon-s3,aws-lambda,amazon-dynamodb,serverless-framework}","2018-05-24 22:15:06+03","2024-05-17 05:09:58.716595+03","I use serverless framework to deploy cloudFormation I want to trigger lambda to deleteObject on my S3 bucket after I update my DynamoDB Table with certain attribute eg my table has account user icon I only want when I update icon it trigger Lambda to delete my iconObject on S3 bucket As I read the documentation on AWS it seems the eventName of dynamoDB stream Event only have three status REMOVE MODIFY INSERT AWS Documentation Amazon DynamoDB API Reference Data Types Amazon DynamoDB Streams Record Record Could I do as below But how do I know it update icon instead other attribute like account or user"
56940915,"Cannot read property 'getCompilationErrors' of undefined","https://stackoverflow.com/questions/56940915/cannot-read-property-getcompilationerrors-of-undefined","{server,serverless-framework,next.js}","2019-07-08 18:47:32+03","2024-05-17 05:15:35.572408+03","I am having issues setting up an express server instance on serverless with nextJs I keep getting a Cannot read property getCompilationErrors of undefined when running the server function It seems to be an issue with app render Server js index js Serverless yml"
50529092,"How to load native libraries in AWS Lambda?","https://stackoverflow.com/questions/50529092/how-to-load-native-libraries-in-aws-lambda","{java,amazon-web-services,aws-lambda,serverless-framework}","2018-05-25 12:19:03+03","2024-05-17 05:09:59.43027+03","In my java serverless project I have to call a native library for image processing libvips I am using Gradle to create a zip file and sending to the lib folder all the dependencies including the native libraries In the generated zip file in the lib folder all the libraries are there jarsnativeetc After deploying the function through serverless deploy I am not able to load the libvips so library using Native loadLibrary vartaskliblibvips so Object class Apparently in vartasklib are located only java dependencies and not the native libraries Is there another path where AWS stores native libraries EDIT Exception being thrown"
50578577,"Fetch all the records without one attribute in dynamoDB using node","https://stackoverflow.com/questions/50578577/fetch-all-the-records-without-one-attribute-in-dynamodb-using-node","{node.js,aws-lambda,amazon-dynamodb,serverless-framework}","2018-05-29 07:22:23+03","2024-05-17 05:10:00.497622+03","I am working with dynamoDB AWS lambda function serverless framework with the node js runtime I want to fetch all the records from a particular table without a particular attribute In my case the user table records like Here id is a primary key Now I dontt want to fetch password attribute when I fetch all the records of the user table Right now I did this with the help of ProjectionExpression My current query is like In the above query i do not want to write this line ProjectionExpression fullName email address createdAt I just want to define the attribute which i do not want into the result So is there any way to this kind of things into dynamoDB query Thanks in advance for the help"
50590798,"Nodejs serverless Windows 10","https://stackoverflow.com/questions/50590798/nodejs-serverless-windows-10","{node.js,windows-10,serverless-framework}","2018-05-29 18:32:04+03","2024-05-17 05:10:01.537413+03","I have a serverless nodejs project which was working just fine Did not touch it for a week wanted to redeploy it and now I am greeted with the following errors 1 EPERM operation not permitted scandir D\GIT\awesome build\node_modules 2 EEXIST file already exists symlink D\GIT\awesome\node_modules D\GIT\awesome build\node_modules First off I get the first error If I try for a second time I get the second one If I delete build I am back to receiving the first I know that during the idle week I did get the spring Windows update Windows 10 17134 48 NPM 6 1 0 Nodejs 8 11 1 Any ideas what could be causing this"
50597480,"express serverless configure lambda function","https://stackoverflow.com/questions/50597480/express-serverless-configure-lambda-function","{node.js,express,aws-lambda,serverless-framework}","2018-05-30 06:12:59+03","2024-05-17 05:10:02.633533+03","I have created a new lambda function when I do I tried like below But it says does not exist in this service it is uploading in existing function where to change the configuration to hit new lamdba function Thanks"
50597791,"DynamoDB queries on secondary index, how to define the indexes","https://stackoverflow.com/questions/50597791/dynamodb-queries-on-secondary-index-how-to-define-the-indexes","{amazon-dynamodb,serverless-framework,dynamodb-queries,amazon-dynamodb-index}","2018-05-30 06:33:52+03","2024-05-17 05:10:03.562335+03","I have been going around and around this and it is just not clear what to do I have a simple table where I want to make queries against several columns As I understand it that means creating a secondary index for each column there is to query against I have defined the table using the Serverless framework serverless yml and am getting a variety of strange error messages The current serverless yml definition is It is meant to be something like a Slack service and therefore I want to query for entries from a room by a user and so forth This definition makes sense going by the documentation I have been able to find One is supposed to declare Attributes for the columns used in indexes and I have done so The KeySchema I really only need the messageId field but an error message indicated it needed a RANGE index so I added the userId field to the KeySchema just to shut that up The secondary index fields look right based on the documentation I have been able to find With this definition I am getting this error when trying to deploy using serverless deploy I have tried several variations and gotten other strange errors as well What follows is a few but I do not remember what the corresponding changes were to the definition "
50598080,"Serverless invoke local does nothing","https://stackoverflow.com/questions/50598080/serverless-invoke-local-does-nothing","{javascript,node.js,debugging,lambda,serverless-framework}","2018-05-30 06:51:23+03","2024-05-17 05:10:04.336762+03","I am trying to run locally a node lambda to debug it I am using Serverless and this launch config in vsCode My export handler looks like this When I run de debug mode it does nothing Serverless does not throw any error I just can not reach inside the function Also there is another thing I can not understand In serverless documentation it said I do not know what they are refering in this if a function that we call to run the lambda or the function that it is called when the lambda is called In this case the function that I am exporting is handler but it does not work either Thanks in advance "
50598291,"Send email to new sign user using AWS sns with lambda function","https://stackoverflow.com/questions/50598291/send-email-to-new-sign-user-using-aws-sns-with-lambda-function","{amazon-web-services,aws-lambda,amazon-sns,amazon-ses,serverless-framework}","2018-05-30 07:03:03+03","2024-05-17 05:10:05.451302+03","I am working on one project with AWS lambda function DynamoDB serverless architecture with the node js runtime environment Now thing is that I want to send an email when a new user signup in my system for email address confirmation First I tried with SES SMTP credentials and nodemailer module When we try to send an email using SES then we need to verify both the email addresses From and TO But thing is that suppose I verify my From email address but the new signup user has a new email address so this when I try to send an email to the new signup users email address then it through error like email address not verified So i want to know that if I want to send an email to this new signup user how can I send the email confirmation mail Can I use SNS with AWS lambda and serverless architecture Thanks in advance for the help "
50614381,"su and sudo not installed, but I need root permission to install them","https://stackoverflow.com/questions/50614381/su-and-sudo-not-installed-but-i-need-root-permission-to-install-them","{linux,docker,serverless-framework}","2018-05-30 22:56:39+03","2024-05-17 05:10:06.584705+03","I try to yum install package into docker container lambcilambdapython3 6 I get the interactive console with but both su and sudo are not installed then I try to install anything with root permission is asked How to solve this evil circle "
51170451,"Correct .env file with serverless-dotenv-plugin","https://stackoverflow.com/questions/51170451/correct-env-file-with-serverless-dotenv-plugin","{serverless-framework,serverless,serverless-plugins}","2018-07-04 09:35:06+03","2024-05-17 05:10:32.171027+03","I am using the following as a custom serverlessdotenvplugin plugin configuration custom dotenv path env optstage local But what I am really trying to get is that the environment be loaded from env file when I give no arguments and env staging file when I use staging as a CLI argument I do not know how this can be reflected in path above Any help please"
50619290,"AWS Serverless Lambda unencoded character","https://stackoverflow.com/questions/50619290/aws-serverless-lambda-unencoded-character","{amazon-web-services,aws-lambda,serverless-framework}","2018-05-31 07:50:00+03","2024-05-17 05:10:07.891277+03","I have a simple serverless function on aws lambda The QA team decided to create a curl request for testing with character ^ when it is not encoded ie so this call does not even get to my code as it returns nothing Blank none Any ideas how to solve this on lambda ApiGateway CloudFront Any idea will be great Thanks verbose curl request and now I see this in the log Error from cloudfront so any idea how to resolve that now the same call with http1 1"
50624912,"CognitoIdentityCredentials is not authorized to access this resource","https://stackoverflow.com/questions/50624912/cognitoidentitycredentials-is-not-authorized-to-access-this-resource","{lambda,serverless-framework}","2018-05-31 12:56:40+03","2024-05-17 05:10:09.318273+03","I have been following httpsserverlessstack comchapterscreateacognitouserpool html this tutorial to create a react app that connects to an authenticated API All of it is working fine with the exception of authenticating via the API Ive setup the Cognito User pool Identity Pool and client ID Im able to login via the app but I keep getting the error below CognitoIdentityCredentials is not authorized to access this resource My config for the API is Im not sure what else I need to add to my serverless yml Any help is appreciated "
50628841,"How to use customized docker container with serverless framework","https://stackoverflow.com/questions/50628841/how-to-use-customized-docker-container-with-serverless-framework","{docker,aws-lambda,serverless-framework,serverless}","2018-05-31 16:27:26+03","2024-05-17 05:10:09.703636+03","I use serverless framework to deploy python function onto aws lambda my configuration file serverless yml is following and my docker file but seemingly sls do not use my dockerfile it still create a image called slspyreqscustom How can I force serverless to use my customized docker "
50661792,"DynamoDB w/ Serverless, using Fn::GetRef to reference global secondary index","https://stackoverflow.com/questions/50661792/dynamodb-w-serverless-using-fngetref-to-reference-global-secondary-index","{amazon-dynamodb,serverless-framework,dynamodb-queries,aws-serverless}","2018-06-02 22:43:20+03","2024-05-17 05:10:10.220113+03","I have an APIservice I am defining with a DynamoDB table I have a couple indexes defined as Global Secondary Index to support a couple queries I have the table designed with the GSI definitions and what looks like correct queries However I get this exception when making the query At the top of the exception it says the ARN for my getRoomMessages method is not authorized to perform dynamodbQuery on resource and shows the ARN for the global secondary index It seems clear I need to define the policy to grant rights to access the global secondary index But it is not at all clear how I have seen other StackOverflow questions about DynamoDB complain about the fragmented documentation and how difficult it is to find anything I have to agree The word fragmented is putting it too mildly I am using the Serverless Framework The provider section shows this policyrole definition In the Resource section I believe I am supposed to list the resources for which the permissions are declared The first references the table as a whole The last two I just added and reference the indexes EDIT When I run serverless deploy the following message is printed I tried several variations on this only to get the same error What this boils down to is how do I in the serverless yml using Cloudfront syntax get the ARN for the indexes The ARN does exist because it is shown in the exception The DynamoDB table definition The query being used corresponding to the above exception And the Lambda function code snippet which generates the query"
50672380,"Finding logs for lambda function errors in AWS Cloudwatch?","https://stackoverflow.com/questions/50672380/finding-logs-for-lambda-function-errors-in-aws-cloudwatch","{node.js,amazon-web-services,amazon-cloudwatch,serverless-framework,aws-serverless}","2018-06-04 01:14:49+03","2024-05-17 05:10:11.089289+03","I am going to profess that I have not actually started deploying AWS Lambda functions yet but this article says this The logs on AWS CloudWatch are horrible It took me an eternity to find failing functions for simple applications imagine the horror with large scale applications Is there something particularly hard about filtering the log on AWS Cloudwatch For example if we deploy the stock hello lambda from Servlesss node template I imagine that it is fairly easy to find the invocations Error or otherwise in the log If anyone has any simple best practice tips that we can follow to make the log statements easy to find that would be awesome "
50674084,"Serverless Framework: Request must be smaller than 69905067 bytes for the UpdateFunctionCode operation","https://stackoverflow.com/questions/50674084/serverless-framework-request-must-be-smaller-than-69905067-bytes-for-the-update","{serverless-framework}","2018-06-04 05:49:09+03","2024-05-17 05:10:12.163263+03","I am using package uploading zipped file like Can not understand this error is not 52 18 under 69905067 bytes "
50679725,"Getting Cloudtrail Cloudwatch Events Working","https://stackoverflow.com/questions/50679725/getting-cloudtrail-cloudwatch-events-working","{amazon-cloudwatch,serverless-framework,amazon-cloudtrail}","2018-06-04 11:39:02+03","2024-05-17 05:10:13.649972+03","Im attempting to process cloudwatch events specifically cloudtrail ones since I am deploying into useast1 but would like to get events from all regions Everything deploys but the events are not triggering the lambda My cloudtrail is configured for all regions and delivering to a Cloudwatch Log Group My cloudwatch event is created I launch an instance and in the cloudwatch log group I get an event that contains what I expect Yet my lambda never fires so its not matching the cloudtrail event I was trying to somewhat dupe this httpsserverless comblogserverlesscloudtrailcloudwatchevents"
50688624,"Serverless authorizer async await not working","https://stackoverflow.com/questions/50688624/serverless-authorizer-async-await-not-working","{async-await,serverless-framework}","2018-06-04 20:53:59+03","2024-05-17 05:10:14.190291+03","I have been working with Node 6 with my Serverless application and I decided to migrate to asyncawait since version 8 x was released Altough I am having an issue with the authorizer function Since I removed the callback parameter and just returning the value it stopped to work If I send something to the callback parameter it keeps working fine but it is not asyncawaitlike It is not working even if I throw an exception Any suggestions of how to proceed Thank you all "
50895367,"How to create multiple stages in serverless framwork","https://stackoverflow.com/questions/50895367/how-to-create-multiple-stages-in-serverless-framwork","{serverless-framework}","2018-06-17 09:30:43+03","2024-05-17 05:10:15.586315+03","i am trying yo create multiple stages in serverless with no success Here is my serverless yml What i wish to add is a prod stage with a different timeout Can i do it in the same yml Any way an example or a reference will be helpful thanks "
58641916,"Serverless Lambda SQS access denied error","https://stackoverflow.com/questions/58641916/serverless-lambda-sqs-access-denied-error","{amazon-sqs,serverless-framework,aws-sdk-nodejs}","2019-10-31 11:00:10+02","2024-05-17 05:17:31.538223+03","I have a node application running through serverlessframework The application writes messages to the SQS and code is The permission given to the user is When the lambda function is executed it gives an error What other credentials are required for SQS to run"
50909510,"Is it possible to bundle/minimize ONLY the node_modules folder with webpack?","https://stackoverflow.com/questions/50909510/is-it-possible-to-bundle-minimize-only-the-node-modules-folder-with-webpack","{webpack,serverless-framework,serverless-webpack-plugin}","2018-06-18 12:27:11+03","2024-05-17 05:10:15.648411+03","I have a relatively small codebase which requires not to be bundled and I need to keep the folder structure in the output Yet node_modules folder is quite large and I would like to keep it bundledminimized with dead code elimination Example folder structure binfile1 js binfile2 js binfolderAfileA1 js binfolderAfileA2 js binfolderBfileB1 js binfolderBfileB2 js binfolderBfolderBBfileBB1 js binfolderBfolderBBfileBB2 js node_modulesmodule1 node_modulesmodule2 node_modulesmodule3 node_modulesmodule4 I just need all 4 modules under node_modules minimized so that it will not take so much space when I deploy it with serverless fw to AWS lambda"
50931569,"Unable to create new function with Alibaba Cloud Function Compute Serverless Plugin","https://stackoverflow.com/questions/50931569/unable-to-create-new-function-with-alibaba-cloud-function-compute-serverless-plu","{node.js,serverless-framework,alibaba-cloud,serverless-plugins,alibaba-cloud-function-compute}","2018-06-19 15:03:45+03","2024-05-17 05:10:16.564385+03","I am following this guide Aliyun Function Compute Serverless Plugin to try to create a new service with a new Node js serverless function under the Alibaba Cloud Function Compute using the Serverless Framework as well as the Aliyun Function Compute Serverless Plugin However after I have done with the serverless deploy command I can only see a new service without any function created in the Alibaba Cloud Function Compute console which is not what I expect I do not see any error during the deployment process Does anyone have any experience and solution on this Thanks very much The serverless yml is as shown below"
50931730,"Deploying Lambda + API-gateway + CloudFront through serverless framework at a time","https://stackoverflow.com/questions/50931730/deploying-lambda-api-gateway-cloudfront-through-serverless-framework-at-a-ti","{amazon-web-services,serverless-framework}","2018-06-19 15:12:58+03","2024-05-17 05:10:17.462178+03","I want to deploy Lambda APIgateway CloudFront through serverless framework Lambda and APIgateway can be deployed by defining function in serverless yml and for CloudFront I define resources However for CloudFront I had to define DomainName attribute which should be filled with APIgateway endpoint that is not yet deployed As the result I have to follow the steps Is there any way to deploy all CloudFront APIgateway Lambda at a time But I do not want to give APIgateway DNS "
50956654,"control destination of packaged folders (serverless framework)","https://stackoverflow.com/questions/50956654/control-destination-of-packaged-folders-serverless-framework","{aws-lambda,aws-cloudformation,serverless-framework}","2018-06-20 20:36:05+03","2024-05-17 05:10:18.735888+03","I have organised my serverless yml to be in a different folder to my code The serverless yml has the following attributes When this is packaged and deployed there is still a src folder with all my code in it I would rather the code be in the root of the deployment Is there anyway to fine tune the actual destination folders with includeexclude or are there any other attributes I can use to achieve what I want This is just a simple example for the moment the real life deployment might grow to be more complicated "
50991250,"Check env variables in serverless.yml file (Serverless Framework)","https://stackoverflow.com/questions/50991250/check-env-variables-in-serverless-yml-file-serverless-framework","{node.js,serverless-framework}","2018-06-22 15:29:31+03","2024-05-17 05:10:19.65116+03","I am new to using serverless framework and I would like to check that env variables inside serverless yml are changing according to the stage I am on Here is what I have in serverless yml Config dev json Config prod json So I would like to know if there is a way to print the following variables selfprovider stage and file config selfprovider stage json items_updates when the deployment is happening And is there best practice using different env with serverless framework Thanks in advance "
51005379,"How do you manage updates/rollbacks and multiples versions with AppSync and serverless?","https://stackoverflow.com/questions/51005379/how-do-you-manage-updates-rollbacks-and-multiples-versions-with-appsync-and-serv","{aws-lambda,serverless-framework,aws-appsync,aws-serverless}","2018-06-23 21:57:41+03","2024-05-17 05:10:20.34736+03","I am using AppSync with Lambdas To do so I use the serverless framework I have few questions about the way you manage your serverless project with it is devtestprod versions I currently use the stage option like sls deploy s test to have multiple version But if there is a problem after a deployment I cannot rollback so I wonder if I should deploy with a new name all the time and remove the preview version later EDIT I have found this that should do it for lambdas but will that work for AppSync How do you manage your devtestprod versions of AppSync and Lambdas"
51014209,"serverless: function doesn't exist in this service","https://stackoverflow.com/questions/51014209/serverless-function-doesnt-exist-in-this-service","{javascript,serverless-framework,serverless,aws-serverless}","2018-06-24 21:41:20+03","2024-05-17 05:10:21.367622+03","In serverless i have the following directory structure for my functions my serverless yml then looks like this however when i run a test to check the create serverless invoke local function create path mockscreateevent json i get the following error I managed to get one function working that looks like this Since i added the get function i decided i needed to add the create and get parts after stories but no matter how i change the handler the functions never seem to exist I have tried changing the path to functionsstoriescreatecreate main with no difference is there anything obvious i am missing to allow multiple handlers within the same location I was looking at the following example which uses one folder of todos which contains multiple functions but i cannot see any obvious difference between it and mine except i have added an extra folder "
51026602,"Access AWS auto-generated URL for deployed resources","https://stackoverflow.com/questions/51026602/access-aws-auto-generated-url-for-deployed-resources","{amazon-web-services,serverless-framework,serverless}","2018-06-25 15:05:47+03","2024-05-17 05:10:22.187566+03","Is there a way to access autogenerated URLs for deployed resources before the deployment is finished like db host lambda function URL etc I can access them after the deployment is finished but sometimes I need to access them while building my stack E g use them in other resources What is a good solution to handle this usecase I was thinking about outputting them into the SSM parameter store from CloudFormation template but I am not sure if this is even possible Thanks for any suggestion or guidance "
51059692,"Failed to deploy function","https://stackoverflow.com/questions/51059692/failed-to-deploy-function","{ibm-cloud,serverless-framework,serverless,openwhisk,ibm-cloud-functions}","2018-06-27 09:52:40+03","2024-05-17 05:10:23.025312+03","I have created a sample demo site and trying to deploy using serverless deploy on IBM Openwhisk platform I am getting the following error message and I am unable to figure out what is causing the issue Failed to deploy function myPackage due to error PUT httpsapi ng bluemix netapiv1namespaces_actionsmyPackageoverwritetrue Returned HTTP 500 Internal Server Error Response Missing Error Message My handler js code my serverless yml code "
51088606,"npm install fails on serverless project on my mac, what is the cause?","https://stackoverflow.com/questions/51088606/npm-install-fails-on-serverless-project-on-my-mac-what-is-the-cause","{node.js,npm,serverless-framework,serverless}","2018-06-28 17:33:03+03","2024-05-17 05:10:23.959202+03","I am attempting to go through a tutorial on serverless projects yet have hit a point where I cannot continue I have installed the serverless package and used it to setup the initial project structure using serverless install url httpsgithub comAnomalyInnovationsserverlessnodejsstarter name notesappapi That appeared to succeed the next step is to run npm install however this is failing with the messages below Any suggestions most welcome as to how to diagnose the cause Thanks "
51089982,"It's possible an lambda function schedule another function execution?","https://stackoverflow.com/questions/51089982/its-possible-an-lambda-function-schedule-another-function-execution","{aws-lambda,schedule,serverless-framework,aws-serverless}","2018-06-28 19:22:21+03","2024-05-17 05:10:25.057318+03","I have this one function that is triggered every time an user quits the chat withouth properly ending the attendance I want to know if its possible this function of mine create an schedule to execute another function to alert the user about the unfinished attendance "
51094284,"Serverless Deploy on Windows","https://stackoverflow.com/questions/51094284/serverless-deploy-on-windows","{python,windows,amazon-web-services,aws-lambda,serverless-framework}","2018-06-29 04:25:15+03","2024-05-17 05:10:25.710291+03","I have been facing a trouble to do Serverless deploy on my dev machine This is the error that I have got This is my serverless yml file configuration Any idea which configuration that should I used to running serverless deploy command with python flask application Thank you"
51106025,"AWS Lambda Python PIL/pillow import error","https://stackoverflow.com/questions/51106025/aws-lambda-python-pil-pillow-import-error","{python-3.x,aws-lambda,python-imaging-library,serverless-framework,serverless}","2018-06-29 16:30:23+03","2024-05-17 05:10:27.311073+03","I am trying to deploy a simple service to AWS Lambda on Python 3 6 that requires PIL I am using the serverless framework so to start I simply did pip3 freeze requirements txt on an ec2 instance with my code and all of the dependencies installed and when I called the Lambda function I got the following error from CloudWatch logs Unable to import module lambda_function No module named PIL I then tried to install package pillow manually by doing pip3 install pillow t vendor and added the following to my serverless yml package include vendor But I am still getting the same error Am I doing something wrong EDIT It seems that not using the serverless architecture and instead packaging the dependencies myself fixed the issue Why is this"
51118756,"Using Serverless framework on monorepo of multiple services with shared code","https://stackoverflow.com/questions/51118756/using-serverless-framework-on-monorepo-of-multiple-services-with-shared-code","{amazon-web-services,aws-lambda,serverless-framework,serverless,monorepo}","2018-06-30 21:45:50+03","2024-05-17 05:10:27.882086+03","I have a pythonic serverless project on AWS in which several services are contained in a single repository a monorepo which looks like general is a package that is shared between different services and therefore we must use a single serverless yml file at root directory otherwise it will not be deployed We have two difficulties A single serverless yml may be too messy and hard to maintain and it prevents us from using global configuration which may be quite useful Deplyoing a single service is complicated I guess that package feature may help but I am not quite sure how to use it right Any advise or best practices to use for this case"
51120613,"Jest not finding typescript tests","https://stackoverflow.com/questions/51120613/jest-not-finding-typescript-tests","{typescript,jestjs,serverless-framework}","2018-07-01 05:16:47+03","2024-05-17 05:10:28.981072+03","I am trying to write a jest test but it is giving me an odd error I am not sure if posting all the various config files would help so maybe I will just point out the pieces I am using serverless framework with serverlessplugintypescript plugin typescript jest tsjest My understanding is that tsjest should be compiling the TS for me and then handing it over to Jest One thing is I know serverless is opinionated about it is TS configuration so maybe that is causing an issue with tsjest Any ideas about what I should be looking at Edit formatting on code block"
51123626,"serverless-openwhisk Package Configuration does not include files","https://stackoverflow.com/questions/51123626/serverless-openwhisk-package-configuration-does-not-include-files","{serverless-framework,openwhisk}","2018-07-01 13:14:40+03","2024-05-17 05:10:29.493295+03","I am trying to individually package my openwhisk actions using the serverless framework My action simply prints out all files and directories from My problem is I cannot find the included files workflow js and workflow json anywhere Are they even included at all The src directory does not contain the files either it only contains a file called service js My serverless yml looks like this"
51130235,"What are the Possible Serverless System Architectures for Web Application (AWS) for Cost Cutting","https://stackoverflow.com/questions/51130235/what-are-the-possible-serverless-system-architectures-for-web-application-aws","{azure,amazon-ec2,aws-lambda,cloud,serverless-framework}","2018-07-02 06:31:04+03","2024-05-17 05:10:30.51523+03"," APOLOGIES for the IMAGES Posted I am looking for potential cost cutting measures for an application that is hosted on AWS with the following configuration setup The application is used 95 of the time for 1 week in a month and the remaining time 5 distributed over the remaining 3 weeks For the sake of cost cutting so as to not pay for the EC2 instances we are looking to go serverless My Background w r t Cloud AWS I have prepared a presentation based on the materials I have read online But I need expert opinion confirmation that the solution options in the presentation are The presentations slides are as below I am not limiting to AWS but since current application is hosted on AWS would like to use the same platform But if similar implementations are possible using Azure or other platforms we are open All that we are looking for is to cut costs I may be missing to provide some important information for you to help advice me Please let me know what you need and I will get it for you Thanks Regards"
51154324,"serverless deployment fails on checking stack progress AWS","https://stackoverflow.com/questions/51154324/serverless-deployment-fails-on-checking-stack-progress-aws","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2018-07-03 12:11:13+03","2024-05-17 05:10:31.631035+03","Problem I have two lambda functions on AWS representing two different environments staging and production The production environment has a data import function which runs every 10 mins The problem I am facing is that when I try to deploy staging environment error occurs on the stack update progress as shown EDIT schedulefullimport function is for only production environment not the staging environment My understanding is that when I try to deploy it just tries to find the trigger for the staging environment In this case it does not find it and then goes towards the production environment serverless yml I dont want to trigger this function for the staging environment since it is not needed Any help is appreciated "
51181290,"Response from AWS lambda function called from another lambda function is always null","https://stackoverflow.com/questions/51181290/response-from-aws-lambda-function-called-from-another-lambda-function-is-always","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-07-04 22:12:44+03","2024-05-17 05:10:33.286205+03","I have two lambda functions and I need to call a function named sendHealthData from a function named receiveHealthData I am using Node JS 8 10 and the Serverless framework Heres the code to receiveHealthData And this is sendHealthData remainingHealthData[Payload] is null everytime The output of console log JSON stringify remainingHealthData is StatusCode200Payloadnull When I invoke sendHealthData through serverless invoke function sendHealthData I get the expected result Sent Health Data I got the expected response only once when I changed the timeout of the sendHealthData function But the strange thing is that I changed it to a smaller value It was 10 and I changed it to 6 "
51181359,"Cloudformation - how to set filter policy of SNS subscription in code?","https://stackoverflow.com/questions/51181359/cloudformation-how-to-set-filter-policy-of-sns-subscription-in-code","{aws-cloudformation,amazon-sqs,amazon-sns,serverless-framework}","2018-07-04 22:21:08+03","2024-05-17 05:10:34.05948+03","UPDATE Cloudformation now supports SNS Topic Filters so this question is not relevant anymore no custom plugins or code is needed I am building a system with a number of SNS topics and a number of Lambdas which are each reading messages from their assigned SQS queue The SQS queues are subscribed to the SNS topics but also have a filter policy so the messages will end up in the relevant SQS queues It works well when I set up the subscriptions in the AWS console Now I am trying to do the same in my code but the AWS Cloudformation documentation does not describe how to add a filter policy to a subscription Based on the python examples here I tried the following But then I get this error How can I set the filter policy that I need using CloudFormation And If that is not supported what do you suggest as an alternative I want it to be set up automatically when I deploy my serverless app with no manual steps required "
51188498,"Serverless framework + AWS + Lambda + DynamoDB + GraphQL + Apollo Server = Can't make POST Request Work","https://stackoverflow.com/questions/51188498/serverless-framework-aws-lambda-dynamodb-graphql-apollo-server-cant","{amazon-web-services,aws-lambda,graphql,serverless-framework,apollo-server}","2018-07-05 10:03:50+03","2024-05-17 05:10:34.432003+03","Ok I am on this problem since a few days I try to take this tutorial httpsserverless comblogmakeserverlessgraphqlapiusinglambdadynamodb And make it work with apolloserverlambda This tutorial help httpsmedium comvesselsapolloserverserverlessgraphqlbliss68e8e15195ac The problem is that nothing is working for me when you tried to use apollo server lambda with a real connection with DynamoDB I got a list of errors that i cannot remember anymore it is just discouraging Here my code And my handler I tried to used Apollo 1 and 2 nothing work I am back to the version 1 since there is more forum posts about it Mostly I have internal server error I tried differents versions of server that i found on apollo docs but all my request failed with curl on a terminal or directly on the API Gateway on AWS to test the function I write the request body following this doc httpswww apollographql comdocsapolloserverrequests html Here my cloudwatch log Any help would be greatly appreciate "
51188668,"Is there a way to specify an already created s3 deployment bucket in serverless?","https://stackoverflow.com/questions/51188668/is-there-a-way-to-specify-an-already-created-s3-deployment-bucket-in-serverless","{serverless-framework,serverless,aws-serverless}","2018-07-05 10:11:56+03","2024-05-17 05:10:35.690163+03","So we are currently using serverless in our recent project and our client provided us the aws iam user because we will be deploying into their aws resources The problem is that they will not give create s3 policy to the user The creation of the s3 bucket will be done by them manually So where in the serverless yml can i add the s3 bucket they created and have serverless use it as a deployment bucket instead of creating a new one"
51246325,"How to connect to an existing serverless deploy","https://stackoverflow.com/questions/51246325/how-to-connect-to-an-existing-serverless-deploy","{serverless-framework}","2018-07-09 13:06:46+03","2024-05-17 05:10:36.279052+03","Say I am working on one computer and I do a serverless deploy And lets say for arguments sake that I toss my computer out the window out of anger and buy another Is there any way when I start working on my serverless project to connect to the existing deployed version"
51247080,"How to capture the URL of your serverless deployment in Bash?","https://stackoverflow.com/questions/51247080/how-to-capture-the-url-of-your-serverless-deployment-in-bash","{serverless-framework}","2018-07-09 13:44:31+03","2024-05-17 05:10:37.397218+03","After doing serverless deploy how can I set URL which my serverless application gets deployed to a variable This is useful for me because then I can use this URL in the future to pass down to my Javascript website when it is built "
51249449,"How I can join two table in DynamoDb?","https://stackoverflow.com/questions/51249449/how-i-can-join-two-table-in-dynamodb","{amazon-web-services,amazon-dynamodb,serverless-framework,dynamodb-queries}","2018-07-09 15:48:01+03","2024-05-17 05:10:38.482972+03","I am new to DynamoDB can anyone help me using JOIN in DynamoDB I use Serverless framework and mappingtemplate I have table with POST and USER POST has userId field How I can get all posts with info about user In MYSQL I can use JOIN but how it work in DynamoDB I read posts in stackoverflow created 2 years ago And guys wrote that it is not available Maybe something had changed "
51262660,"DynamoDB table not created in serverless.yml file","https://stackoverflow.com/questions/51262660/dynamodb-table-not-created-in-serverless-yml-file","{amazon-dynamodb,serverless-framework}","2018-07-10 10:15:54+03","2024-05-17 05:10:39.599148+03","Getting the error cannot do operation on a nonexistent table after running sls offline start and attempting to access the users endpoint serverless yml file is as follows Can anyone help point out what is wrong here I have looked through the docs and at many different examples available online but nothing I can see is different than the above "
51271780,"AWS Lambda with Nodejs native modules","https://stackoverflow.com/questions/51271780/aws-lambda-with-nodejs-native-modules","{node.js,aws-lambda,serverless-framework}","2018-07-10 18:17:16+03","2024-05-17 05:10:40.722937+03","Recently I started with AWS Lambda functions my Nodejs application was working well until I tried to use web3 js package After I added the line I got the error Internal Server Error for the HTTP endpoint and the following in CloudWatch logs Locally I have no issues to use web3 js package So I started to dig deeper to understand what is wrong here There are some native modules among dependencies Some googling ends up with the idea that these packages should be compiled on Amazon Linux platform otherwise it will not work I started to create docker image to reach this goal Dockerfile Now in the root directory of my app I run the following command to install npm packages and compile native modules using docker image with Amazon Linux I use serverless framework for deployment In theory after deploy Lambda function should work but in practice it does not I found similar issues on Stackoverflow but none helpful Moreover I think this is a common problem for cloud functions to support Nodejs native modules which should be compiled for specific OS Any idea and help to solve this issue appreciated Thank you "
51273658,"Troubles with ""X-Forwarded-*"" headers in HTTP request done by AWS Lambda","https://stackoverflow.com/questions/51273658/troubles-with-x-forwarded-headers-in-http-request-done-by-aws-lambda","{aws-lambda,amazon-cloudfront,serverless-framework,aws-serverless}","2018-07-10 20:47:17+03","2024-05-17 05:10:41.432925+03","I developed an AWS Lambda Proxy using Serverless in order to call a private API process its result and return it It is simple enough though the private API does not return anything once XForwardedFor is set in the HTTP request I have not found a way to blacklist this header in CloudFront nor in CloudFormation or API Gateway Where should I look for For reference the serverless yml I use"
51275679,"How to solve “Error validating stack policy"" ""Unsupported action"" when using Serverless?","https://stackoverflow.com/questions/51275679/how-to-solve-error-validating-stack-policy-unsupported-action-when-using-ser","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2018-07-11 00:38:58+03","2024-05-17 05:10:42.300508+03","I am trying to write a Serverless script to create an AWS lambda function with S3 permissions However I am getting Error validating stack policy to be applied after stack update Unsupported action lambdaInvokeFunction in statement Here is a snippet of my serverless yml so far Note that values inside of curly braces are environment variables Everything works until I try adding the permissions What is going wrong here"
51481320,"How to setup Sentry to AWS lambda functions? Many errors","https://stackoverflow.com/questions/51481320/how-to-setup-sentry-to-aws-lambda-functions-many-errors","{amazon-web-services,serverless-framework,sentry}","2018-07-23 14:32:34+03","2024-05-17 05:10:43.258644+03","Trying to setup Sentry to a service with lambda functions AWS I have followed the instructions on serverlesssentrylib and it works for local environment but not for prod 1Have installed raven and serverlesssentrylib Basically this is what I have in my serverless yml And this is how I send the error That code works good in Local but when I try to push to Serverless AWS lambda I get the follow error Checking this post and setting SLS_DEBUG to And I still have the same error It did not disappear Does someone have any clue what is going on wit this settings"
51484745,"Create a getMethod using serverless framework","https://stackoverflow.com/questions/51484745/create-a-getmethod-using-serverless-framework","{amazon-web-services,serverless-framework}","2018-07-23 17:58:35+03","2024-05-17 05:10:44.310891+03","I use the serverless framework I use AWS API GateWay I would like to create an API to enter this command at the terminal and receive the parameter name and the parameter type With this command the API was created successfully However none of the parameters were set As a result I set the parameters manually in the AWS console But wait for correct knowledge As a result is not it possible to eliminate manual input with the serverless framework Reflecting the setting of parameters in API GateWay If anyone knows how to write yml please let me know I want to easily hit the API with curl "
51528696,"API Gateway using serverless-domain-mananger returns 403 error","https://stackoverflow.com/questions/51528696/api-gateway-using-serverless-domain-mananger-returns-403-error","{amazon-web-services,http-status-code-403,serverless-framework}","2018-07-25 22:47:19+03","2024-05-17 05:10:45.979194+03","When I use the custom domain httpsapidev testapp net I have set up an API where each path is a microservice all pointing back to a custom domain name Each stage also has a different domain I am using cognito for user authentication and as far as I can tell the authentication is functioning properly Here is a sample of my serverless yml I have confirmed that the Route 53 entry has been setup and pointing to the Cloudfront distribution The base path mappings are also setup and the custom domains have valid TLS certs attached to them Things should be working but I think I need a hand debugging this Any help would be appreciated Edit 1 When I use the API Gateway generated url e g OPTIONS httpsnnxxxxxe1d executeapi useast1 amazonaws comdevlocations with no addition headers the request is successful This makes sense since there is no authorizer on this endpoint and it has a hardcoded 200 response body Edit 2 When I run the request OPTIONS httpsapidev testapp netdevlocations in Postman I get the following response Which makes me think that the problem is with CloudFront refusing the request "
51529804,"AWS Serverless deployment error NodeJS","https://stackoverflow.com/questions/51529804/aws-serverless-deployment-error-nodejs","{javascript,node.js,amazon-web-services,lambda,serverless-framework}","2018-07-26 01:39:45+03","2024-05-17 05:10:46.505276+03","I have a fairly basic NodeJS API that I have built offline using the serverless framework for AWS in NodeJS I have gotten it working fine in the offline configuration however when I try to deploy I initially got the following log error I found a few threads on GitHub talking about a similar issue in this thread however after going over it I could not make any of the fixes work in my situation I have checked the deployed zip file and it seems to have the dependancies required Serverless yml Package json The full code is on my github here and I have included a package zip here which contains the contents env emptied prior I am hoping someone is able to show me where I am going wrong with this I have seen some suggestions prior to use serverlesswebpack but for something small like this I am not sure it is required also I am not sure how to set it up either to work here Update I have found the reason I have been getting a lot of 500 errors is due to Request I am still unclear as to why as the dependency seems to be included in the zip but maybe it is missing one it requires on top of that I will look over it more in a bit but currently I have worked around this by using a simple implementation of HTTPS module and now the requests are all firing correctly"
51533060,"Serverless.yml VPC parameters","https://stackoverflow.com/questions/51533060/serverless-yml-vpc-parameters","{serverless-framework}","2018-07-26 07:15:37+03","2024-05-17 05:10:47.060871+03","I would just like to ask what are the correct format for the value in the vpc section in serverless yml especially the securityGroupIds field and the subnetIds field It is confusing me cause if I go to lambda service in aws console when we add vpc settings in there the string format for securityGroupIds is something like xxxxxxxxxx xx_xx_xxx_xxxxxx_xxxxxx xx_xx_xxx_xxxxx_xxxxxx while if I go to vpc service in aws console and click the security group the security group id has a string format of xxxxxxxxxx xx_xx_xxx_xxxxxx_xxxxxx And for subnet ids the one in lambda page has a format like this subnetxxxxxxxx xx xxx xx 0xx apsoutheast1a subnetpublic1a while in the vpc page the format is this subnetxxxxxxxx My question is which format should I enter in the serverless yml The on in the lambda page or the one in the vpc page"
51537795,"AccessDenied on DynamoDB GSI Index","https://stackoverflow.com/questions/51537795/accessdenied-on-dynamodb-gsi-index","{serverless-framework,serverless}","2018-07-26 11:31:43+03","2024-05-17 05:10:47.713851+03","I have wrote a serverless yml to deploy some lambdas and I am using GSI in a specific API If I run locally using serverlessoffline it is working but I am facing an error when deploy the lambda Here is how I have created serverless yml Probably it is missing some permission on iAmRoleStatements but I am not sure what else should I do "
51541513,"Serverless: Not all typescript files compiled within the same directory","https://stackoverflow.com/questions/51541513/serverless-not-all-typescript-files-compiled-within-the-same-directory","{typescript,serverless-framework}","2018-07-26 14:38:52+03","2024-05-17 05:10:48.816441+03","The weirdest thing is happening Im using typescript and not all my typescript files within a single directory are getting compiled i e theres one directory in my source tree where a few of the ts files are being compiled to js and the others arent When I run a simple tsc all files are compiled but when I run serverless offline start not all files are compiled Anybody know how to fix Basics of my serverless yml tsconfig json"
51552861,"How can I update an existing serverless 0.5.x stack with serverless 1.x?","https://stackoverflow.com/questions/51552861/how-can-i-update-an-existing-serverless-0-5-x-stack-with-serverless-1-x","{serverless-framework,aws-serverless}","2018-07-27 07:25:31+03","2024-05-17 05:10:49.833314+03","We have several aws stacks that were deployed using serverless 0 5 and now we are trying to move to serverless 1 x We have migrated the configuration serverless yml and all but our problem comes when we try to update the actual stack Serverless 1 uses deployment buckets that the old serverless 0 5 stacks do not have and we cannot seem to get those buckets to create We get the following error Resource ServerlessDeploymentBucket does not exist for stack stack name Is there any way around this other than simply deleting all the old stacks Some of them have database tables and buckets associated with them and we cannot risk loosing the data in them Any help would be greatly appreciated "
51579814,"Serverless WSGI Local Server Running Slow","https://stackoverflow.com/questions/51579814/serverless-wsgi-local-server-running-slow","{python,wsgi,serverless-framework,werkzeug}","2018-07-29 11:23:33+03","2024-05-17 05:10:50.632014+03","Im using the node package serverlesswsgi 1 4 9 to serve the routes of my serverless framework application When I run by dev server serverless wsgi serve I am having problems with the requests taking a long time 10seconds 1min to return a response in chrome To avoid hitting a database I am sending GET request to a route that immediately returns hello world 200 So far the only predictable behaviour I can find is that making a request using jquery will always cause a long delay before returning If I try to request the same URL in the browser tab whilst the jquery request is still waiting the tab also waits a long time for for the request to return However once the jquery request returns calling the URL in a browser tab then returns immediately Refreshing the tab gives a response immediately Sometimes if jquery request is pending calling the URL in a browser tab WILL return immediately When this happens this seem to also make the jquery request return a response Jquery code below I have tried restarting the server browsers and my machine but the problem still persists I have tried multiple browsers safari chrome firefox and all have the same issue I have tried making a javascript request using axios instead of jquery but still the requests are returning slowly Does anyone have any idea how I might solve this or any additional debugging I can do"
51583083,"Where can I see my Lambda functions on AWS after I deploy with serverless?","https://stackoverflow.com/questions/51583083/where-can-i-see-my-lambda-functions-on-aws-after-i-deploy-with-serverless","{serverless-framework,serverless}","2018-07-29 17:58:41+03","2024-05-17 05:10:51.186034+03","I have deployed two functions using the amazon provider they are working great and I can hit the API endpoint Where on the AWS website can I see and manage the logsinstances of these I cannot find them anywhere in the Lambda section "
51592020,"cannot update an existing lambda with serverless 1.x","https://stackoverflow.com/questions/51592020/cannot-update-an-existing-lambda-with-serverless-1-x","{serverless-framework,serverless,aws-serverless}","2018-07-30 10:33:26+03","2024-05-17 05:10:52.17686+03","We have several aws stacks that were deployed using Node 4 and serverless 0 5 and now we are trying to move to Node 6 and serverless 1 x We have migrated the configuration serverless yml and all but our problem comes when we try to update the actual stack Serverless fails at the actual lambda update process with an error like this An error occurred GroupDashshipmentsLambdaFunction xxxmanifestservicegroupshipments already exists I know it may be possible to go in and delete the lambdas one by one but on a production environment this is not really a good thing to do How can I tell serverless to go ahead and update those lambdas Any help would be greatly appreciated "
51597303,"How does one obtain the client's IP address in an AWS Lambda when the data comes from an IoT Core Rule?","https://stackoverflow.com/questions/51597303/how-does-one-obtain-the-clients-ip-address-in-an-aws-lambda-when-the-data-comes","{aws-lambda,ip-address,serverless-framework,aws-iot}","2018-07-30 15:22:22+03","2024-05-17 05:10:52.876027+03","We want to track the ip of the sender for some MQTT topics I see in the Lambda event body or context that the data does not appear available Is there an option to enable that I am missing or a work around to get the calling ip at the same time the message is being processed in the Lambda"
51643318,"serverless azure functions cannot install on Ubuntu desktop","https://stackoverflow.com/questions/51643318/serverless-azure-functions-cannot-install-on-ubuntu-desktop","{serverless-framework,serverless}","2018-08-01 22:55:43+03","2024-05-17 05:10:53.943977+03","Trying to install serverlessazurefunctions on Ubuntu 18 machine but get the below error Looks like a permission error I use the following command to install it"
51667179,"Amazon S3 waitFor() inside AWS Lambda","https://stackoverflow.com/questions/51667179/amazon-s3-waitfor-inside-aws-lambda","{node.js,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2018-08-03 07:14:22+03","2024-05-17 05:10:54.961975+03","I am having issue when calling S3 waitFor function from inside Lambda function Serverless nodejs I am trying to asynchronously write a file into Amazon S3 using S3 putObject from one rest api and poll the result file from another rest api using S3 waitFor to see if the writing is readyfinished Please see the following snippet Given valid bucketName and invalid fileName when the code runs in my local test script it returns error after 15secs 3secs x 5 retries and generates result as follows Meanwhile when it is running inside AWS lambda function it returns result directly as follows As you can see that the retryable and statusCode values are different between the two On lamba it seems that it always get statusCode 403 when the file does not exists While on my local everything works as expected retried 5 times every 3 seconds and received statusCode 404 I wonder if it has anything to do with IAM role Heres my IAM role statements settings inside my serverless yml How to make it work from lambda function Thank you in advance "
51678005,"Serverless: Service files not changed. Skipping deployment","https://stackoverflow.com/questions/51678005/serverless-service-files-not-changed-skipping-deployment","{deployment,serverless-framework}","2018-08-03 18:09:19+03","2024-05-17 05:10:55.891957+03","After some successful projects I have deleted the functions inside AWSlambda deleted the logs in CloudWatch and the IAM roles Also deleted the myservice folder from my Documents Then I followed the steps in this tutorial in serverless Now when I run where testUser_atWork is one of my profiles to connect in AWS I get the follow error And this my handler js I do not understand why it is skipping deployment "
51687740,"Serverless Lambda invoking Lambda. Getting no errors but a empty response","https://stackoverflow.com/questions/51687740/serverless-lambda-invoking-lambda-getting-no-errors-but-a-empty-response","{amazon-web-services,aws-lambda,serverless-framework}","2018-08-04 16:53:56+03","2024-05-17 05:10:57.254943+03","Now day we can use the AWS StepFunctions if we want to make an lambda function to call another one But for now I need do support the code in production that was written before the StepFunctions time For that reason I need to understand how it works I was trying to create a very simple lambda calling another lambda function trough AWSSDk I have the follow serverless yml And this is the handler js After deploy sls deploy and call funcOne I get this 2 outputs LOCAL sls invoke local function funcOne Invoking remotely in AWS sls invoke function funcOne Does someone knows hat is happening here Specially for the first scenario where I dont have any error This is what I get from the documentation After Eduardo Diaz suggestion I have changed lambda invoke to And this what I get for Local and Remote It is a SyntaxError There is a somewhere I have found another developer with the same error here No error logs in CloudWatch"
51706578,"Deploy at once multiple aws netcore lambda functions","https://stackoverflow.com/questions/51706578/deploy-at-once-multiple-aws-netcore-lambda-functions","{visual-studio,.net-core,aws-lambda,aws-cloudformation,serverless-framework}","2018-08-06 11:27:49+03","2024-05-17 05:10:57.781744+03","Is there any solution with Serverless Framework or with AWS CloudFormation template to publish multiple lambda that are located each in an individual visual studio proj and in an individual visual studio sln Any example I can find contains lambda function in the same class or proj "
51714795,"What is ""hellostepfunc1"" in the serverless documenation for setup AWS stepfunctions?","https://stackoverflow.com/questions/51714795/what-is-hellostepfunc1-in-the-serverless-documenation-for-setup-aws-stepfuncti","{serverless-framework,aws-step-functions}","2018-08-06 19:57:13+03","2024-05-17 05:10:58.864928+03","In these documentation from the serverless website How to manage your AWS Step Functions with Serverless and GiTHUb serverlessstepfunctions we can find this word hellostepfunc1 in the serverless yml file I could not find reference to it I dont understand what is it and I cannot find any reference to it even after the State Machine was created into AWS If I delete it I get the follow error But if I change its name for someName for example I have no error and the State Machine will works good I could assume it is only an identifier but I not sure Where can I find reference to it"
51717381,"ResourceNotFoundException with full deploy to prod","https://stackoverflow.com/questions/51717381/resourcenotfoundexception-with-full-deploy-to-prod","{serverless-framework}","2018-08-07 00:49:23+03","2024-05-17 05:10:59.807758+03","I have a fully developed set of functions which work fine in the dev stage and it is now time for me deploy to production Unfortunately every time I try to deploy it goes for a long time but after printing Checking Stack update progress it fails with a 404 error An error occurred SentinelLambdaFunction Function not found arnawslambdauseast1837955377040functionxyzservicesprodsentinel Service AWSLambda Status Code 404 Error Code ResourceNotFoundException Request ID 38f86b7a99cd11e8af06fffd92e40dc5 This error is nonsensical to me as this function does exist and executing precisely the same full deployment to dev results in no error Note that in both environmentstage we are deploying 10 functions with a fully deployment I tried removing the function which was being complained about first with the hope that I could reinclude it on a second deployment but then it simply complained about a different function not existing I also thought maybe the force parameter might push this deployment into place but it has had no impact on the error I get The cycle time for each attempt is very long so I would be very grateful if anyone could help to point me in the right direction on this Below is a screenshot of the output when run in verbose mode In attempt to get around the error I thought maybe I would have a better chance if I went into CloudFormation and explicitly deleted the template for prod I attempted to do this from the GUI and got the following This actually has further convinced me that this removal is important but I am not sure what to do next "
51722526,"AWS Serverless | Code storage limit exceeded","https://stackoverflow.com/questions/51722526/aws-serverless-code-storage-limit-exceeded","{amazon-web-services,serverless-framework,serverless}","2018-08-07 08:45:37+03","2024-05-17 05:11:00.632721+03","I have an error Code storage limit exceeded deploy the serverless application in AWS Total size 409 B The error message says An error occurred HelloLambdaFunction Code storage limit exceeded Service AWSLambda Status Code 400 Error Code CodeStorageExceededException Request ID "
51745107,"What is the difference between AWS lambda and AWS Lambda@EDGE?","https://stackoverflow.com/questions/51745107/what-is-the-difference-between-aws-lambda-and-aws-lambdaedge","{aws-lambda,serverless-framework,serverless}","2018-08-08 11:05:17+03","2024-05-17 05:11:01.733882+03","What is the difference between simple aws lambda and aws lambda "
51747907,"Delete Item from DynamoDB not deleting","https://stackoverflow.com/questions/51747907/delete-item-from-dynamodb-not-deleting","{javascript,node.js,aws-lambda,amazon-dynamodb,serverless-framework}","2018-08-08 13:25:50+03","2024-05-17 05:11:02.663746+03","I cannot for the life of me figure out why this is not actually deleting the Item from the DB It returns with a success as if it actually deleted the item but it is not actually performing the delete I am using the Javascript SDK in a lambda using serverless framework The dynamodblib file looks like this Every other call so far put and scan to list all are working just fine delete is the only one so far that is not actually doing anything EDIT This is my table structure by the way Here is the function in serverless yml"
51752703,"Attach bucket policy to bucket generated by serverless","https://stackoverflow.com/questions/51752703/attach-bucket-policy-to-bucket-generated-by-serverless","{amazon-web-services,amazon-s3,serverless-framework}","2018-08-08 17:44:49+03","2024-05-17 05:11:03.701675+03","I am attempting to create an S3 bucket with serverless which works however in order to manipulate files in it I need a bucket policy I am having a hard time understanding where and how to add a policy that uses the generated S3bucket name created when serverless deploys for the first time serverless yml s3database yml I have tried various combinations I have found on the internet as well as adding it to an iamroles property in the serverless yml file but I cannot seem to get anything to work"
51762438,"How to specify multiple resources in a single entry in serverless.yml?","https://stackoverflow.com/questions/51762438/how-to-specify-multiple-resources-in-a-single-entry-in-serverless-yml","{amazon-web-services,serverless-framework,serverless}","2018-08-09 08:39:21+03","2024-05-17 05:11:05.019161+03","I would like to be able to specify multiple resources using a single entry in serverless yml My use case is as follows Naturally I would like the Fatal Error Reporter to report the Fatal Error from any logGroup and explicitly specifying all of them is a recipe for poorly maintained serverless yml in the future Is there some way to specify a wildcard or loop over the logGroup s as serverless deploys"
51799267,"Serverless invoke works but curl gives error","https://stackoverflow.com/questions/51799267/serverless-invoke-works-but-curl-gives-error","{aws-lambda,serverless-framework,serverless}","2018-08-11 11:38:19+03","2024-05-17 05:11:05.561835+03","I have a serverless function you can find the code below and this function is deployed on aws lambda using the serverless framework from within this function i call an external web api When i do serverless invoke f my_func i get the expected response but if i run a curl command it fails and i get message Internal server error this is my curl command this is my code this is the serverless yml file It must have to do something with the calling of the web api in my function if i do not call a web api it works fine If I check the logs via serverless logs f my_func i only get the logs of the calls that worked using serverless invoke what can i do to find out what is going wrong inside my function when making a curl command adding corstrue to the http section does not solve the problem cloudwatch is attached to aws lambda but it seems there is nothing written to"
51821316,"boto3 s3 copy access denied","https://stackoverflow.com/questions/51821316/boto3-s3-copy-access-denied","{aws-lambda,serverless-framework}","2018-08-13 11:29:15+03","2024-05-17 05:11:06.368479+03","I am trying to run a lambda that copies a file from a public folder to my s3 bucket This is my serverless yaml permissions I am getting the following error on invocation Something must be wrong with the way I am setting up the permission Any pointers appreciated "
51848242,"AWS Serverless Java Lambda Debug","https://stackoverflow.com/questions/51848242/aws-serverless-java-lambda-debug","{aws-lambda,serverless-framework,aws-java-sdk}","2018-08-14 19:04:57+03","2024-05-17 05:11:07.352674+03","Please let me know if it is possible to debug Java AWS Lambda serverless framework in eclipse Any pointers will be really helpful"
51893940,"Configure a SQS trigger for lambda function on serverless","https://stackoverflow.com/questions/51893940/configure-a-sqs-trigger-for-lambda-function-on-serverless","{serverless-framework,serverless}","2018-08-17 11:00:49+03","2024-05-17 05:11:08.673992+03","I would like to add a trigger on my lambda function using serverless yml instead of configure it manually Im trying to recover QueueArn using FnGet because its not a good practice paste the entire string Here is what Im trying This is not working My lambda function is deployed without any errors but the trigger is not added If I replace sqs attribute value with the string arnawssqsuseast1XXXXXXXXwaitingdev it works like a charm How can I change my code to make it work"
51902484,"Cannot reference an API in Outputs section from AWS::ApiGateway::Model resource","https://stackoverflow.com/questions/51902484/cannot-reference-an-api-in-outputs-section-from-awsapigatewaymodel-resource","{yaml,aws-api-gateway,aws-cloudformation,serverless-framework,aws-serverless}","2018-08-17 20:30:57+03","2024-05-17 05:11:09.044817+03","I am able to define and deploy my API Gateway Lambda stack using Cloudformation Serverless Application Model an want to add a model to my API I have created the model in YAML but it appears to be unable to reference the API defined in the Outputs section of my file The error I see is Failed to create the changeset Waiter ChangeSetCreateComplete failed Waiter encountered a terminal failure state Status FAILED Reason Template format error Unresolved resource dependencies [MyApi] in the Resources block of the template Is it possible to reference the Output object or is it not considered a Resource in this context i e do I need to explicitly define an AWSServerlessApi instead of using the Output "
51902951,"How to query table by non primary key attribute in Amazons DynamoDB with DocumentClient.get","https://stackoverflow.com/questions/51902951/how-to-query-table-by-non-primary-key-attribute-in-amazons-dynamodb-with-documen","{amazon-dynamodb,serverless-framework}","2018-08-17 21:13:20+03","2024-05-17 05:11:09.725792+03","I seem to be having a lot of difficulty querying data with AWS DynamoDB DocumentClient get I am using Serverless and set up my serverless yml with this schema What I want to be able to do is search the DB for a shortUrlItem using either longUrl or shortPath So far I have this set up All I seem to be getting is this error message returned to me I cannot seem to figure out if I am querying correctly or setting up my schema correctly for the secondary index to be the searchable key in my table "
51925672,"""sls dynamodb start"" throws spawn java ENOENT","https://stackoverflow.com/questions/51925672/sls-dynamodb-start-throws-spawn-java-enoent","{node.js,amazon-web-services,amazon-dynamodb,serverless-framework,aws-serverless}","2018-08-20 07:11:49+03","2024-05-17 05:11:10.363609+03","running on Mac I have created a basic serverless service using the awsnodejs template After that I used the following commands to add serverless local No matter what I do I cannot get dynamodblocal to start When I run I get the following error Running java version gives me the following info I am using Node 8 11 4 with serverless 1 30 1 Awssdk is also installed and I have setup my profile Thanks"
51935386,"What it means when AWS Lambda is configured with VPC?","https://stackoverflow.com/questions/51935386/what-it-means-when-aws-lambda-is-configured-with-vpc","{aws-lambda,serverless-framework,amazon-vpc}","2018-08-20 16:57:44+03","2024-05-17 05:11:11.117778+03","Even after going through the AWS documentation and various blogs I still do not understand how AWS lambda would behave when it is configured with VPC Projected peak concurrent executions Memory in GB 3GB Does it means AWS lambdas running instance used to have 3 GB memory And when that exceeds another ENI would get attached Here Im sure Im missing a few pieces of information Any pointers would be helpful "
51939336,"How to handle manual invoked AWS lambda using serverless framework","https://stackoverflow.com/questions/51939336/how-to-handle-manual-invoked-aws-lambda-using-serverless-framework","{go,aws-lambda,aws-sdk,serverless-framework}","2018-08-20 22:33:35+03","2024-05-17 05:11:12.098712+03","I am manually invoking my lambda function since the 30s HTTP gateway timeout is too short for my purpose The function was working when using HTTP but when I manually invoke the function the request Body is empty Here is the handler on my lambda code Here is how I invoke it I have printed out payload and it looks correct I am just not sure how to access the payload in my lambda handler "
51939395,"How to use Typescript's references and build mode to compile a mono repo to a serverless bundle?","https://stackoverflow.com/questions/51939395/how-to-use-typescripts-references-and-build-mode-to-compile-a-mono-repo-to-a-se","{typescript,serverless-framework,serverless,lerna,monorepo}","2018-08-20 22:41:12+03","2024-05-17 05:11:12.794776+03","Typescript recently introduced a new feature to work with monorepos references By specifying references you can build all interdependent packages using tsc b see also this blog post This seems ideal for use with a large mono repo where some packages are serverless services These services typically depend on one or more packages of the monorepo I have created an example here httpsgithub comtommedemaserverlessmonoexample While building works well with tsc b the problem is that the serverless framework needs to upload a single artifact zip to AWS in my case When building a serverless service like this example only the compiled files of the nearest source files will be bundled How would one use typescripts references feature for use with serverless mono repos"
52134100,"Parameter Store request timing out inside of AWS Lambda","https://stackoverflow.com/questions/52134100/parameter-store-request-timing-out-inside-of-aws-lambda","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-09-02 04:58:39+03","2024-05-17 05:11:13.355318+03","I am attempting to access the AWS SSM Parameter store like this article does I have tested the lambda function locally and it works as expected When pushed to AWS however the lambda fails when attempting to retreive the config it times out I have the following permissions added to my serverless yml I have made it as unrestricted as possible to try to find where the error is Additionally the parameter is just a string so it does not use KMS What am I missing"
52146473,"Unable to import module 'handler' aws lambda function in nodejs","https://stackoverflow.com/questions/52146473/unable-to-import-module-handler-aws-lambda-function-in-nodejs","{node.js,aws-lambda,serverless-framework,aws-serverless}","2018-09-03 09:03:10+03","2024-05-17 05:11:14.449569+03","I keep getting this error and I do not know what is causing it I am having an API that based on a condition will post to another API but I get this error in my wrapping API Here is the code handler js serverless yaml Any advice would be appreciated ERROR MESSAGE"
52152414,"Deploy multiple functions using serverless creating each function with all files in it","https://stackoverflow.com/questions/52152414/deploy-multiple-functions-using-serverless-creating-each-function-with-all-files","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-09-03 15:16:35+03","2024-05-17 05:11:15.5073+03","I am working on serverless I have created a project using serverless create Then I have added multiple lambda functions to it Whenever I deploy every function is having the entire tree structure as which is not my requirement I used indivudually true under package Still no use Please help me solve this Thank you "
52156214,"incorrect node_module getting deployed to lambda as based on OS","https://stackoverflow.com/questions/52156214/incorrect-node-module-getting-deployed-to-lambda-as-based-on-os","{lambda,serverless-framework,serverless}","2018-09-03 21:08:50+03","2024-05-17 05:11:16.463734+03","I am using the serverless framework to create a lambda function and to deploy all works great locally on my mac when testing by invoking it but once its deployed onto AWS I get the following error Is there a way in Serverless to do a yarnnpm install so all the packages installed match the OS they are running on"
52157979,"Setting up AWS IoT using Serverless Framework for Multiple IoT Devices","https://stackoverflow.com/questions/52157979/setting-up-aws-iot-using-serverless-framework-for-multiple-iot-devices","{aws-cloudformation,iot,serverless-framework,serverless,aws-iot}","2018-09-04 02:22:28+03","2024-05-17 05:11:17.838621+03","My goal is to create a system on AWS using the serverless framework for multiple IoT devices to send JSON payloads to AWS IoT which in turn will be saved to DynamoDB I am very new to using AWS outside of creating EC2 servers and this is my first project using the serverless framework After referring to an example the modified version that I came up with is posted below Problem It appears that the example is for just 1 device to connect to AWS IoT which I concluded from the hardcoded IoT Thing certificate being used such as If this conclusion is correct that serverless yml is configured for only 1 Thing then what modifications can we make such that more than 1 Thing can be used Maybe setup all the Things outside of serverless yaml Which means removing just SensorPolicyPrincipalAttachmentCert and SensorThingPrincipalAttachmentCert Also how should we set the Resource property to in SensorThingPolicy They are currently set to is this too broard Or is there a way to limit to just Things serverless yml"
52169226,"How to make readline work in a python subprocess?","https://stackoverflow.com/questions/52169226/how-to-make-readline-work-in-a-python-subprocess","{python,subprocess,readline,serverless-framework,pdb}","2018-09-04 15:04:38+03","2024-05-17 05:11:18.430527+03","I have spent quite something enabling readline support in pdb on MacOS Sierra in a subprocess which I do not understand why it fails hence the question Please note that I have proper readline support without adding a pdbrc file in all my python environemnts including python2 and 3 installations and also in virtual environments created with pipenv venv or pew All work just fine The problem arises when I want to drop into a pdb shell in a subprocess I use a nodejs program along with a plugin which I use to invoke AWS code locally The first nodejs process starts the second and the second one starts a python process which I have my usual pdb code in it However the pdb shell that I get has no readline support I tried the following alternatives which did not work as well I also added pdbrc file with above content minus ipdb import to no avail I tried also setting PYTHONSTARTUP point to a file with this content It did not help too People had reported that these solutions have worked for them but they did not have readline support to start with which for me it works just fine without these tricks I also tried patching my nodejs process env PATH and process env PYTHONPATH and added directories where I have python installation which have readline support to no avail I appreciate if anybody can explain whether there is a fundamental difference between launching pdb from a subsub process and directly from terminal which in anycase it is a subprocess too Moreover I appreciate any suggestion that might help me solve this problem I noticed that even without pdb I do not get the readline support If I run the above code I get a python shell without readline support Some relevant thread on the net After giving some thought to the problem and thanks to the georgexsh comment I think my problem boils down to launching an interactive python REPL from nodejs It must run in its own process and inputs such pressing TAB key should be sent to the python process and its stdout should be printed on the screen In nodejs the oneliner below will do it"
52219478,"Mocking DynamoDB using moto + serverless","https://stackoverflow.com/questions/52219478/mocking-dynamodb-using-moto-serverless","{amazon-web-services,amazon-dynamodb,boto3,serverless-framework,moto}","2018-09-07 09:26:04+03","2024-05-17 05:11:19.513701+03","I am trying to write tests for a serverless application using the AWS serverless framework I am facing a weird issue Whenever I try to mock S3 or DynamoDB using moto it does not work Instead of mocking the boto3 call actually goes to my AWS account and tries to do things there This is not desirable behaviour Could you please help Sample Code Please see the above code I am trying to insert a record into the table and then call a function that would verify if the specified id is already present in the table Here I get an error table already exists when I run this code If I disable the network I get an error botocore exceptions EndpointConnectionError Could not connect to the endpoint URL httpsdynamodb useast1 amazonaws com I fail to understand why there is an attempt to connect to AWS if we are trying to mock "
52228361,"What's the difference between AWS SAM (Serverless Application Model) and serverless framework?","https://stackoverflow.com/questions/52228361/whats-the-difference-between-aws-sam-serverless-application-model-and-serverl","{amazon-web-services,serverless-framework,aws-serverless}","2018-09-07 19:07:40+03","2024-05-17 05:11:20.292493+03","We are working on project we are tring to build serverless application in nodejs I come terms across AWS SAM and Serverless Which is best for implementing serverless application"
52250522,"How to disable GraphQL Playground in Serverless production?","https://stackoverflow.com/questions/52250522/how-to-disable-graphql-playground-in-serverless-production","{graphql,serverless-framework}","2018-09-10 03:01:52+03","2024-05-17 05:11:21.339488+03","Is there a way to disable the playground function in production In my serverless yml In my handler js"
52251075,"How to pass parameters to serverless invoke local","https://stackoverflow.com/questions/52251075/how-to-pass-parameters-to-serverless-invoke-local","{aws-lambda,serverless-framework,aws-serverless}","2018-09-10 04:26:50+03","2024-05-17 05:11:22.133411+03","I am working on a aws serverless project and need to test the lambda functions locally I am using serverless invoke local f function_name command to test the API calls that does not request any path or query parameters My question is how can I use this command to pass any path or query parameter to the function Example serverless description"
52265824,"docker container does not start - spawn Java enoent error","https://stackoverflow.com/questions/52265824/docker-container-does-not-start-spawn-java-enoent-error","{node.js,docker,docker-compose,dockerfile,serverless-framework}","2018-09-10 21:36:27+03","2024-05-17 05:11:23.193143+03","I have a dockerfile and a dockercompose file which I use to start a node serverless container This has been working fine until today when I tried adding a new endpoint to the serverless yaml file I stopped the container to start it again and I got a Java enoent spawn error I tried reverting the changes to the serverless file reverting the changes to the main js file of the node app and every other change tried recreating the container cleaning up all existing images and whatever I could think of to try and start the container and always get the same error This is the Dockerfile I am using This is the dockercompose file These are both located within project directory and I run sudo dockercompose up to start the container I cannot understand what has happened but something must have changed How can I debug this Thank you "
52290976,"Serverless command ""project"" not found","https://stackoverflow.com/questions/52290976/serverless-command-project-not-found","{serverless-framework}","2018-09-12 08:41:13+03","2024-05-17 05:11:24.057164+03","I want to create a large project not a simple template with serverless framework The template should be created by running the command line but i receive the error Here the docs of this command line Do you have any idea about this issue My serverless version is 1 31 0"
52327139,"Optimizing the deployment for serverless applications","https://stackoverflow.com/questions/52327139/optimizing-the-deployment-for-serverless-applications","{aws-lambda,aws-cloudformation,serverless-framework,serverless}","2018-09-14 07:38:33+03","2024-05-17 05:11:24.93759+03","If i have the previous deployment package generated using serverless package handy is there a way only changed lambdas and new lambdas get deployed and the unchanged lambdas are skipped What would be correct way to go about this What other things can I look at to optimize the deployment process for enterprise applications "
52333418,"AWS + serverless - (InvalidPermission.NotFound) The specified rule does not exist in this security group","https://stackoverflow.com/questions/52333418/aws-serverless-invalidpermission-notfound-the-specified-rule-does-not-exis","{amazon-web-services,boto3,serverless-framework}","2018-09-14 13:52:30+03","2024-05-17 05:11:26.007491+03","I created a small script to interact with AWS updating Security Groups and EC2 instances This script is working fine on my machine but I am having trouble when testing it on the AWS lambda console I am using serverless to deploy a lambda function to Amazon web services I also create a IAM role for this new lambda function The error I am experiencing is an InvalidPermission NotFound error The complete error stack is presented below Error This error occurs on the following piece of code Once again this code works fine on my machine but raises the error during the lambda function testing I find this error strange because it is complaining about the rule RevokeSecurityGroupIngress which I have added to the IAM role specified on the serverless yaml file which is presented below Does anyone know why I am experiencing this error I appreciate any help I can get Thank you "
52355285,"serverless framework with json parsing error","https://stackoverflow.com/questions/52355285/serverless-framework-with-json-parsing-error","{javascript,json,amazon-web-services,yaml,serverless-framework}","2018-09-16 14:50:37+03","2024-05-17 05:11:26.900428+03","I use serverless framework with javascript my code is inside App js I use fellow command to deploy it my error is my serverless yml is here httpsgist github comthinksource9fd0c8728df2195b7110b3be04aec2ae why json first element error how Can I see the json string"
52359263,"Passing JSON when invoking function using serverless","https://stackoverflow.com/questions/52359263/passing-json-when-invoking-function-using-serverless","{amazon-web-services,go,aws-lambda,serverless-framework}","2018-09-16 23:36:34+03","2024-05-17 05:11:27.933994+03","I am running a lambda function written in Go using Serverless and I want to pass a couple of parameters to it when it is invoked Heres the struct I created to receive the request And in the handler I am trying to print out the values I tried invoking it using the raw option so I tried doing this serverless invoke f orders raw d startAt1533513600endAt1534118399 and I tried wrapping it in double quotes instead serverless invoke f orders raw d startAt1533513600endAt1534118399 serverless invoke f orders raw d \startAt\1533513600\endAt\1534118399 I received a marshal error with all three I am not sure what I am doing wrong and I can find any examples for that online there is only this serverless doc about how to do the invoke and this aws doc about how to handle the event in Go Update I tried invoking the event from the AWS Console and it worked so odds are the issue is in the serverless invoke command "
52378254,"Disable SLS_DEBUG=* in the Serverless Framework","https://stackoverflow.com/questions/52378254/disable-sls-debug-in-the-serverless-framework","{macos,serverless-framework,serverless,serverless-architecture,aws-serverless}","2018-09-18 02:59:36+03","2024-05-17 05:11:28.979283+03","When using the serverless framework on a Mac OS X High Sierra the SLS_DEBUG environmental variable was set to enable verbose debug info Question Now how do you disable it other than moving to a new terminal export SLS_DEBUGfalse did not do the trick "
52382555,"Install Latex on Python AWS Lambda Function using Serverless Framework","https://stackoverflow.com/questions/52382555/install-latex-on-python-aws-lambda-function-using-serverless-framework","{python,amazon-web-services,docker,aws-lambda,serverless-framework}","2018-09-18 08:48:37+03","2024-05-17 05:11:30.02073+03","I have a Python Lambda function that should create a PDF report I tried to add a custom Dockerfile to install Latex at Lambda similar to httpsgithub comsamoconnorlambdalatex 1 But the function cannot find the installed Latex files The copied file template tex at the end of the Dockerfile is there My serverless yaml The Dockerfile The Python requirements from the requirements txt are working perfectly Here is the output of the deploy from the Docker part Serverless Building custom docker image from Dockerfile Serverless Docker Image slspyreqscustom Do you have any idea what I am doing wrong"
53515869,"Way to reference SSM in different region in serverless framwork","https://stackoverflow.com/questions/53515869/way-to-reference-ssm-in-different-region-in-serverless-framwork","{amazon-web-services,serverless-framework,aws-ssm}","2018-11-28 09:14:37+02","2024-05-17 05:12:19.737572+03","Serverless offers a function to access SSM However It seems only to allow access to SSM parameter in the same region Is there way to reference SSM in a different region Sometimes there are parameters globally used For those I want to create them in a single region then share them accross multiregion Otherwise I should redefine the same parameters in every region "
52405613,"Edit AWS Cognito Identity Pool using serverless.yml","https://stackoverflow.com/questions/52405613/edit-aws-cognito-identity-pool-using-serverless-yml","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework}","2018-09-19 12:12:33+03","2024-05-17 05:11:31.044615+03","I am configuring an AWS Cognito Identity Pool using the severless framework and I am editing a file in the yml configuration to add an unauthenticated role for users to upload an image to an s3 bucket The code was previously deployed without an unauthenticated role being specified and the deployment went fine and was stable After I went looking for a way to control the permissions regarding accessing the S3 bucket I discovered that the only way to give write but not read permissions on an S3 bucket is to specify it in a user policy so I have to add an unathenticated role to the identity pool However when I deploy the code I get an error stating I have managed to get around the problem in the dev environment but it required totally deleting the stack and rebuilding it from scratch I also do not want to go in and adjust the resources manually in the AWS console since resources should be managed in cloudformation or in the console but doing it both ways leads to chaos So at the moment the options I see are to delete the entire stack and rebuild it with the new roles or find a way to update through cloudformation Does anyone have a way to avoid the first option and allow me to update the stack without attaching the role in the console Relevant section of serverless yml is below "
52406234,"Serverless offline response issue while sending JSON response in lambda function","https://stackoverflow.com/questions/52406234/serverless-offline-response-issue-while-sending-json-response-in-lambda-function","{node.js,aws-lambda,aws-api-gateway,serverless-framework,serverless-framework-offline}","2018-09-19 12:48:04+03","2024-05-17 05:11:32.163563+03","Error on Console According to the API Gateway specs the body content must be stringified Check your Lambda response and make sure you are invoking JSON stringify YOUR_CONTENT on your body object"
52414232,"debug Server less (Node js) locally in Visual code using break points.","https://stackoverflow.com/questions/52414232/debug-server-less-node-js-locally-in-visual-code-using-break-points","{node.js,debugging,visual-studio-code,serverless-framework,serverless}","2018-09-19 21:07:56+03","2024-05-17 05:11:33.260367+03","I am new to the serverless framework and is trying to debug Serverless Node js locally in Visual code using breakpoints I referred to some articles but did not help me out that much httpsmedium comOneMuppet_debugginglambadafunctionslocallyinvscodewithactualbreakpointsdeee6235f590 httpshackernoon comrunninganddebuggingawslambdafunctionslocallywiththeserverlessframeworkandvscodea254e2011010"
52416184,"dynamodb how to define none key schema in serverless.yml?","https://stackoverflow.com/questions/52416184/dynamodb-how-to-define-none-key-schema-in-serverless-yml","{amazon-dynamodb,serverless-framework,serverless}","2018-09-20 01:22:30+03","2024-05-17 05:11:34.255096+03","I try to apply a dynamodb in my serverless aws lambda My file is like I try to apply lat and lng as attributes of storeTable just the attribute not key Schema but every store element should have these attributes But there is error An error occurred StoreDynamoDbTable Property AttributeDefinitions is inconsistent with the KeySchema of the table and the secondary indexes How to make lat and lng just mast attributenot key element for index"
52416775,"How to determine whether Lambda is running locally or under AWS under Java AWS serverless framework setup","https://stackoverflow.com/questions/52416775/how-to-determine-whether-lambda-is-running-locally-or-under-aws-under-java-aws-s","{java,amazon-web-services,serverless-framework}","2018-09-20 02:37:53+03","2024-05-17 05:11:35.188155+03","I am playing with AWS SAM Java serverless application I am using the eclipse AWS serverless plugin to create simple Dynamo DB based CRUD application Application takes an http request and depending on the HTTP method tries the corresponding CRUD operation on DynamoDB So all is working good except that I am not able to figure out how to pass an environment variable or a property file to my Lambda java code to determine whether lambda is running locally or in AWS environment Depending on that I want to use local Dynamo DB client or AWS DB client Here is the code snippet for that Trying to figure out how to pas this environment variable profile In SAM local rundebug config I do not see any option to do that "
52435006,"Bad indentation on iamRoleStatements yaml serverless","https://stackoverflow.com/questions/52435006/bad-indentation-on-iamrolestatements-yaml-serverless","{function,amazon-web-services,aws-lambda,aws-sdk,serverless-framework}","2018-09-21 00:27:33+03","2024-05-17 05:11:36.119656+03","I am creating a Role Statement for my Lambda functions inside of serverless yml file but i keep getting this error bad indentation of a mapping entry And this is how the file looks like"
52436836,"Serverless S3 bucket events enabling default encryption in template","https://stackoverflow.com/questions/52436836/serverless-s3-bucket-events-enabling-default-encryption-in-template","{amazon-web-services,amazon-s3,serverless-framework,serverless}","2018-09-21 04:55:23+03","2024-05-17 05:11:36.893516+03","According to httpsserverless comframeworkdocsprovidersawseventss3 I can create an S3 bucket in the serverless template that triggers an event when a jpg file gets dropped into the uploads directory Great With another example for when you want add custom S3 bucket properties Also great If I want to add default encryption to that bucket I need to create the bucket in the Resources section of the template and reference it in the event handler ok I can do that But now I am stuck on how I specify the event and rules prefix and file type that I want to be triggering the handler I cannot add them to the resize handler block and I am having trouble scouring the documentation find the answer "
52445951,"Cache invalidation in serverless applications","https://stackoverflow.com/questions/52445951/cache-invalidation-in-serverless-applications","{aws-lambda,amazon-dynamodb,aws-api-gateway,serverless-framework,serverless}","2018-09-21 14:32:41+03","2024-05-17 05:11:37.635993+03","I am trying to implement a user service that has a GET and PUT API using AWS lambda API gateway and Dynamo as the datastore GET API will fetch the data for a given userId and PUT will update the user details for a given userId My requirements are since the throughput on the GET APIs are large I would need to cache the API response so that the response time is reduced in the subsequent requests cache will also need to have a TTL Any successful put request on the same userId will invalidate the cache and subsequent GET request will fetch from DB and cache it again I could possibly use a redis cluster for caching But that might add addition VPC invocation overhead Question"
52914527,"Serverless Framework: Invoke local python function is slow to respond","https://stackoverflow.com/questions/52914527/serverless-framework-invoke-local-python-function-is-slow-to-respond","{python-3.x,serverless-framework}","2018-10-21 10:54:13+03","2024-05-17 05:11:54.562309+03","Trying to run my serverless python lambda functions locally using serverless invoke local f hello The function runs but it seems to take 25 seconds before the handler is called This is a real issue for me as I am hoping to use invoke to support local testing My handler is super simple Rough timings Since I cant find any other people with this issue suggests its something to do with my local machine No idea what it could be or even where to start fault finding Serverless 1 32 globally installed Python 3 6 5"
52450015,"serverless.yml - How to force numbers not to be converted to strings?","https://stackoverflow.com/questions/52450015/serverless-yml-how-to-force-numbers-not-to-be-converted-to-strings","{types,aws-lambda,yaml,serverless-framework}","2018-09-21 19:28:34+03","2024-05-17 05:11:38.570312+03","I am running into an odd behaviour I have a YAML file serverless yml from the httpsserverless comframework that defines some variables some of them are integer like When I load that file locally number are not converted to string But when I deploy it on AWS numbers are automatically converted to strings When I run it locally I use something that simulates AWS Lambda behaviour may be related Anyway I tried to find a way of forcing types in YAML files but did not find anything that works so far And I cannot use a custom YAML file loader AFAIK because the serverless yml file is loaded from the Serverless framework itself "
52479994,"Serverless API gateway transforming request into base64","https://stackoverflow.com/questions/52479994/serverless-api-gateway-transforming-request-into-base64","{aws-api-gateway,serverless-framework,aws-serverless}","2018-09-24 12:56:09+03","2024-05-17 05:11:39.620296+03","I have a serverless app which uploads files to s3 via POST request and serves them via GET request I am using serverlessapigwbinary and serverlessapigwybinary plugins to allow me to return binary data in the form of an image In order to allow the URL to work with browsers I have to set the binary types to In order to upload an image the POST endpoint takes a body like base64 However with this configuration the entire body is coming through as a base64 encoded string How can I prevent the request body with applicationjson being transformed See serverless yml below"
52522096,"Trying to give my lambda putObject access to an existing S3 bucket via serverless","https://stackoverflow.com/questions/52522096/trying-to-give-my-lambda-putobject-access-to-an-existing-s3-bucket-via-serverles","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2018-09-26 16:10:34+03","2024-05-17 05:11:40.724473+03","I am stuck trying to assign permissions to an S3 bucket for my lambda when using the Serverless framework I have a single lamba function that ultimately writes a JSON config file to an S3 bucket that I would like to serve via the web to an application I initially set up an S3 bucket separately not in serverless yml and my lamba successfully creates the file in the correct S3 bucket but I get an internal server error when I deploy it to AWS I assume this is because the permissions set up on deploy do not grant it write access to the bucket I am a bit at odds how to do this I have read this thread e g and tried supplementing my serverless yml with this In this case arnawss3com joostschuur quizdata is the manually created S3 bucket that I set up and would like my deployed lambda to have write access to However this results in an error on deploy The CloudFormation template is invalid Template format error Unresolved resource dependencies [arnawss3com joostschuur quizdata] in the Resources block of the template If there is a way to put all the S3 setup into serverless yml i e specify the bucket specify that files in it should be accessible via the web etc I am happy to do it that way too Suggestions"
52525042,"Invoke a lambda function with deployment using serverless framework","https://stackoverflow.com/questions/52525042/invoke-a-lambda-function-with-deployment-using-serverless-framework","{serverless-framework,serverless}","2018-09-26 19:43:26+03","2024-05-17 05:11:41.816858+03","Is there a way to invoke a lambda function immediately after deployment using serverless framework This function just creates the SNS Application which is required to be done once only during setup I can use serverless deploy stage serverless invoke function functionName but that will not tear down the setup if the function fails I want it to be deployed as part of setup Thanks"
52528384,"Deployment Strategy for deploying multiple serverless services in one Pipeline","https://stackoverflow.com/questions/52528384/deployment-strategy-for-deploying-multiple-serverless-services-in-one-pipeline","{continuous-integration,continuous-deployment,serverless-framework,serverless}","2018-09-27 02:04:04+03","2024-05-17 05:11:42.776282+03","I have a multiple serverless services in one directory Each of the services have their own serverless yaml My directory is as follows What is the recommended way of deploying such project structure Is it possible to have a parent serverless yaml to deploy all other serverless yamls What is the recommended way to deploy these services"
52535433,"Serverless Lambda deployment in node8.10 not uploading any code","https://stackoverflow.com/questions/52535433/serverless-lambda-deployment-in-node8-10-not-uploading-any-code","{amazon-web-services,aws-lambda,serverless-framework,serverless-plugins}","2018-09-27 10:58:00+03","2024-05-17 05:11:43.581233+03","I have a lambda function deployed with Serverless It was deployed with node6 10 runtime so I decided to redeploy the service with the node8 10 runtime instead However after making this redeploy I faced a strange issue where I could not invoke the function and could no longer deploy updates to the function as the filesize was too large 60mb I was able to resolve this by uninstalling and reinstalling serverlesspluginoptimize This solved the file size issue now it is about 2mb but I still cannot invoke the function Attempting to invoke it yields the following log in CloudWatch My expectation then was that the file path in my serverless yml for the function was wrong or that it was not exporting correctly serverless yml lambdaindex js However this does not appear to be the case I know this because setting debug true for the serverlesspluginoptimize leaves behind the _optimize folder with my minified code in However somehow despite it being present locally it seems it is not making the upload to Lambda Viewing this in the AWS console I get the following 2 6mb upload listed in Lambda directory Error in Lambda console code editor 60mb file still listed in S3 deployment bucket I cannot explain why I am getting this issue or what about switching to node8 10 would cause it Outside of the serverless yml file none of the code has been changed from the working node6 10 version Has anyone encountered this issue before or knows of anything that might fix it"
52538062,"How to add AWS user permissions using serverless?","https://stackoverflow.com/questions/52538062/how-to-add-aws-user-permissions-using-serverless","{node.js,amazon-web-services,serverless-framework,aws-serverless}","2018-09-27 13:22:58+03","2024-05-17 05:11:45.330417+03","I have created a user in the AWS console with access only to the Lambda service My question is using the serverless framework in my serverless yaml is it possible to add S3 Full access to my user and possibly any other service Thank you handler js serverless yaml"
52921582,"serverless-framework, EISDIR: illegal operation on a directory, read","https://stackoverflow.com/questions/52921582/serverless-framework-eisdir-illegal-operation-on-a-directory-read","{serverless-framework}","2018-10-22 02:12:07+03","2024-05-17 05:11:55.023401+03","When I try to package a service using SLS_DEBUG npm bin serverless package serverlessframework give me an error How can I solve this Thanks "
53764902,"Cannot find module 'puppeteer'","https://stackoverflow.com/questions/53764902/cannot-find-module-puppeteer","{node.js,webpack,aws-lambda,serverless-framework,serverless-webpack-plugin}","2018-12-13 15:16:40+02","2024-05-17 05:12:37.004921+03","In a AWS LambdaNodeJS runtime I am attempting to import from an absolute path optnodejsnode_modulespuppeteer Source runs fine locally but once bundled with Webpackserverlesswebpack and run in AWS Lambda require puppeteer results in I have checked"
52546563,"Deploy does not generate all packages","https://stackoverflow.com/questions/52546563/deploy-does-not-generate-all-packages","{aws-lambda,serverless-framework}","2018-09-28 00:02:12+03","2024-05-17 05:11:45.733399+03","I am using a Google library called DialogFlow And in the last 6 or 7 days all the lambda functions that import this library started to give initialization error I noticed that it does pretty much the same time the serverless framework has been upgraded from version 1 31 0 to 1 32 0 In my serverless yml file I put frameworkVersion 1 0 0 2 0 0 If I compile a simple code like this The error generated in lambda is as follows START RequestId 907fe23dc2b111e8b74527859211eefc Version LATEST module initialization error The googleapicore distribution was not found and is required by the application END RequestId 907fe23dc2b111e8b74527859211eefc REPORT RequestId 907fe23dc2b111e8b74527859211eefc Duration 47 02 ms Billed Duration 100 ms Memory Size 1024 MB Max Memory Used 32 MB module initialization error The googleapicore distribution was not found and is required by the application"
52780625,"Why serverless lambda deploy will error with: No module named '_sqlite3' ?","https://stackoverflow.com/questions/52780625/why-serverless-lambda-deploy-will-error-with-no-module-named-sqlite3","{python-3.x,sqlite,aws-lambda,serverless-framework}","2018-10-12 13:30:28+03","2024-05-17 05:11:46.710203+03","There are other similar question like mine but I think no one looks complete or fitsanswer my case I am deploying a Python 3 6 application on AWS lambda via serverless framework With this application I am using diskcache to perform some small file caching not using at all sqlite actually I am using serverlesspythonrequirements plugin in order to have all my dependencies defined in requirements txt file packed up and uploaded diskcache in this case When application is live on AWS and I request it I will get back a 500 error And in my logs I can read Then from answer below I get that sqlite module should not be needed to be installed Python sqlite no matching distribution found for sqlite So no need and it wont work to add sqlite as a requirement Then I wonder why AWS lambda is unable to find sqlite once deployed Any hint pls Thanks"
52817039,"Is it possible to separate my code and infrastructure in serverless framework?","https://stackoverflow.com/questions/52817039/is-it-possible-to-separate-my-code-and-infrastructure-in-serverless-framework","{amazon-web-services,continuous-integration,aws-lambda,serverless-framework}","2018-10-15 12:41:20+03","2024-05-17 05:11:47.482908+03","Is it possible to separate my code and infrastructure in serverless framework I am using serverless framework httpsserverless com to deploy my AWS resources I have a lambda functions defined in a serverless yml file like this Now I want to separate my infrastructure serverless yml from my code There would be two separated git projects one for the infrastructure and one for the lambda the code part This would be the development flow Changes made in lambda project git merge would trigger a CICD pipeline to pull the code do the necessary checks hint test etc and deploy the lambda to an s3 bucket After this I could include the s3 as a source of my lambda function and update the stack with the function that includes the changes Something like this My questions 1 Is it a good CICD approach 2 Is it possible with serverless framework or it is possible only using AWSLambdaFunction s code attribute to specify the s3 bucket Thank you "
52826389,"When to use terraform vs serverless framework to deploy AWS lambdas and surrounding resources? [closed]","https://stackoverflow.com/questions/52826389/when-to-use-terraform-vs-serverless-framework-to-deploy-aws-lambdas-and-surround","{amazon-web-services,aws-lambda,terraform,serverless-framework}","2018-10-16 00:29:11+03","2024-05-17 05:11:48.33145+03","Want to improve this question Update the question so it can be answered with facts and citations by editing this post Closed 2 years ago The community reviewed whether to reopen this question 2 years ago and left it closed Original close reason s were not resolved When you use serverless to deploy AWS lambdas you can create AWS resources However now I am starting to use Terraform to develop resources and I am not sure what resources should be defined via the Terraform files vs serverless "
52887034,"No module named pymysql - aws serverless framework","https://stackoverflow.com/questions/52887034/no-module-named-pymysql-aws-serverless-framework","{python,amazon-web-services,serverless-framework,pymysql}","2018-10-19 06:41:12+03","2024-05-17 05:11:49.429501+03","I deployed a python lambda function through server less framework Installed pymysql through pip My handler info is dynamodbtoauroradbauroradatamanagementauroradatamanagement handler I get this error Unable to import module dynamodbtoauroradbauroradatamanagementauroradatamanagement No module named pymysql Not sure where the mistake is "
52890795,"How to use excludeDevDependencies?","https://stackoverflow.com/questions/52890795/how-to-use-excludedevdependencies","{serverless-framework}","2018-10-19 10:44:35+03","2024-05-17 05:11:50.521182+03","After read the doc httpsserverless comframeworkdocsprovidersgoogleguidepackagingdevelopmentdependencies I made a sample to test this config Here is my serverless yml The problem is excludeDevDependencies only works fine when I comment the exclude node_modules It will generate serverless directory and excludedevelopmentdependencies zip include dependency node modules But for GCP you do not need upload node_modules You just need upload package json and packagelock json files to GCP GCP will install the node_modules based on packagelock json So when should I use excludeDevDependencies "
52900200,"AWS SES template from Cloudformation / serverless","https://stackoverflow.com/questions/52900200/aws-ses-template-from-cloudformation-serverless","{aws-cloudformation,amazon-ses,serverless-framework}","2018-10-19 21:35:41+03","2024-05-17 05:11:51.603785+03","I am using the serverless framework to deploy my AWS stacks and Im trying to add an AWS SES template to my resources However I keep getting unrecognized type from CloudFormation for AWSSESTemplate This is definitely a defined CloudFormation resource type so I dont know whats going on I have seen identical snippets describing SES templates that supposedly work but for me it does not Any ideas what could be causing this The section in my serverless yml looks like this"
52909194,"Restrict API gateway access to specific IAM users","https://stackoverflow.com/questions/52909194/restrict-api-gateway-access-to-specific-iam-users","{amazon-web-services,amazon-iam,serverless-framework}","2018-10-20 19:08:19+03","2024-05-17 05:11:52.332345+03","How can I restrict an API deployed using serverless to only be accessible to specific IAM users I see that I can use IAM authorizers However it does not say how can I make it restrict it to specific users "
52909604,"Get the ARN for the API gateway resource that the serverless framework creates within my serverless.yml file","https://stackoverflow.com/questions/52909604/get-the-arn-for-the-api-gateway-resource-that-the-serverless-framework-creates-w","{amazon-web-services,aws-api-gateway,serverless-framework}","2018-10-20 19:58:40+03","2024-05-17 05:11:52.952338+03","How can I get the ARN for the API gateway resource that the serverless framework creates within my serverless yml file I want to get the ARN for the API Gateway resource so that I can use it within an IAM policy to perform IAM based authorization on the gateway "
52936651,"Serverless Database Connection Pooling","https://stackoverflow.com/questions/52936651/serverless-database-connection-pooling","{amazon-web-services,aws-lambda,serverless-framework,serverless,amazon-aurora}","2018-10-22 19:40:03+03","2024-05-17 05:11:56.136965+03","Im trying to build an application on aws that is 100 serverless minus the database for now and what Im running into is that the database is the bottleneck My application can scale very well but my database has a finite number of connections it can accommodate and at some point my lambdas will run into that limit I can do connection pooling outside of the handler in my lambdas so that there is a database connection per lambda container instead of per invocation and while that does increase the number of concurrent invocations before I hit my connection limit the limit still exists I have two questions 1 Does serverless aurora solve this by autoscaling to increase the number of instances to meet the need for more connections 2 Are there any other solutions to this problem Also from other developers interested in serverless am I trying to do something thats not worth doing I love how easy deployment is with serverless framework but is it better just to work with Microservices in something like Kubernetes instead"
52949280,"Execute Typescript code inside Serverless config","https://stackoverflow.com/questions/52949280/execute-typescript-code-inside-serverless-config","{typescript,serverless-framework,serverless-webpack-plugin}","2018-10-23 12:37:07+03","2024-05-17 05:11:57.405661+03","I use Serverless framework to deploy my backend My lambdas are written in Typescript and I deploy them using serverlesswebpack plugin Serverless allows to reference variables in javascript files using syntax But it works for javascript How can I do the same with Typescript code My goal is to have all project code written in Typescript "
52959008,"AWS Lambda Timeout Followed by Connection Error","https://stackoverflow.com/questions/52959008/aws-lambda-timeout-followed-by-connection-error","{amazon-web-services,aws-lambda,serverless-framework}","2018-10-23 23:14:03+03","2024-05-17 05:11:57.828207+03","I have an AWS Lambda that runs every five minutes The Lambda will create a connection to an RDS database inside my VPC and run some queries The Lambda will successfully run three times so for about 15 minutes or so but then I get a timeout error Task timed out after 600 10 seconds After this timeout error the next time the Lambda attempts to run I can no longer connect to my RDS database I get the following timeout error Error connect ETIMEDOUT I am pretty stumped at this point and could use some more eyes on this"
52979424,"npm install fails with message ""Error: socket hang up""","https://stackoverflow.com/questions/52979424/npm-install-fails-with-message-error-socket-hang-up","{javascript,node.js,npm,serverless-framework,serverless}","2018-10-24 23:49:28+03","2024-05-17 05:11:58.944918+03","I met this problem when execute the npm install modulename save It fails no matter what I install And it fails if I specified it in the package json and then run the npm install for the whole project There are some similar question posted like NPM does not install any modules network socket hangs up NodeJS What does socket hang up actually mean but unfortunately it does not work for me Also npm install is OK with my other projects My environment npm v6 4 1 node js v10 10 0 serverless v1 28 0 Appreciated for the help of any kinds Here is my log message in my console"
52979583,"Serverless Function ARN for Lambda@Edge within serverless.yml","https://stackoverflow.com/questions/52979583/serverless-function-arn-for-lambdaedge-within-serverless-yml","{amazon-web-services,serverless-framework,serverless}","2018-10-25 00:11:58+03","2024-05-17 05:11:59.580109+03","I am trying to work out if it is possible to get the ARN of a Lambda function defined in a serverless yml file to be used within the same file for Lambda on a CloudFront distribution My code is below right at the bottom I want to specify the ARN of the Lambda function that I have defined within the same serverless file Thanks in advance "
53017599,"Lambdas stop invoking after a period of time","https://stackoverflow.com/questions/53017599/lambdas-stop-invoking-after-a-period-of-time","{aws-lambda,serverless-framework}","2018-10-26 23:56:12+03","2024-05-17 05:12:00.922265+03","Heres my setup A Python 3 6 lambda function which I want to keep prewarmed at a certain concurrency level say 10 The lambdas initialization is painful enough that I do not want to inflict this cost on visitors at random I call these lambdas workers A Node lambda function which runs every 5 minutes to try to prewarm 10 instances It uses the Event invocation type for 9 of them and RequestResponse for 1 There is only either one or zero of this lambda running at any one time I call this a warmer I followed the guidelines at [ httpswww jeremydaly comlambdawarmeroptimizeawslambdafunctioncoldstarts] namely Heres a problem this works great for several minutes Then as I watch the logs I start to get timeouts from my worker lambda invocations The timeouts quickly take over all the invocations that the warmer is trying to launch Now no worker lambdas are prewarmed any more But the warmer keeps on trying on a Cloudwatch event cron schedule suffering 100 timeouts Finally Lambda stops trying to launch my worker lambdas at all It feels like some aspect of Lambdas getting its state scrambled The only way to recover is to redeploy the lambda That buys me another hour with prewarmed lambdas working Questions Heres the warmup lambda code Node And heres the worker lambda Python "
53057390,"binary vs. string vs. number for storing UUID in DynamoDB partition key?","https://stackoverflow.com/questions/53057390/binary-vs-string-vs-number-for-storing-uuid-in-dynamodb-partition-key","{amazon-web-services,amazon-dynamodb,uuid,serverless-framework,aws-sdk-js}","2018-10-30 04:22:57+02","2024-05-17 05:12:01.620061+03","I am trying to decide whether to use binary number or string for my DynamoDB tables partition key My application is a React jsNode js social eventmanagement application where as much as half of the data volume stored in DynamoDB will be used to store relationships between Items and Attributes to other Items and Attributes For example friends of a user attendees at an event etc Because the schema is so keyheavy and because the maximum DynamoDB Item size is only 400KB and for perf cost reasons I am concerned about keys taking up too much space That said I want to use UUIDs for partition keys There are wellknown reasons to prefer UUIDs or something with similar levels of entropy and minimal chance of collisions for distributed serverless apps where multiple nodes are giving out new keys So I think my choices are Obviously there is a tradeoff in developer experience Using a hex string is the clearest but also the largest Encoded strings are smaller but harder to deal with in logs while debugging etc Binary and Number are harder than strings but are the smallest I am sure I am not the first person to think about these tradeoffs Is there a wellknown best practice or heuristic to determine how UUID keys should be stored in DynamoDB If not then I am leaning towards using the Binary type because it is the smallest storage and because its native representation as a base64encoded string can be used everywhere humans need to view and reason about keys including queries logging and client code Other than having to transform it tofrom a Buffer if I use DocumentClient am I missing some problem with the Binary type or advantage of one of the other options in the list above If it matters I am planning for all access to DynamoDB to happen via a Lambda API so even if there is conversion or marshalling required that is OK because I can do it inside my API BTW this question is a sequel to a 4yearold question UUID data type in DynamoDB but 4 years is a looooooong time in a fastevolving space so I figured it was worth asking again "
58799497,"What does ""Fn::Join"" refers to in a config file?","https://stackoverflow.com/questions/58799497/what-does-fnjoin-refers-to-in-a-config-file","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-11-11 10:20:44+02","2024-05-17 05:17:48.954168+03","I am new to Serverless but take a look at this config file Does this resources refers to fnproject I looked at awsresourcetype but could not find reference information "
53104847,"AWS Serverless Template Configurations with Custom Authorization and Rest API","https://stackoverflow.com/questions/53104847/aws-serverless-template-configurations-with-custom-authorization-and-rest-api","{amazon-web-services,asp.net-core,aws-lambda,aws-api-gateway,serverless-framework}","2018-11-01 15:55:40+02","2024-05-17 05:12:02.146133+03","I am a newbie to AWS Lambda Services I have created a serverless lambda method and successfully deployed it on the AWS cloud Next I created a Lambda custom Authorizer and configured the API Gateway for the Lambda method and custom Authorizer As I need to expose many other server less lambda methods therefore I decided to move my lambda method in a serverless Net API Project I can deploy this api project to AWS cloud and then manually I can setup the authorizer to use my custom Authorize lambda method The struggling part is I want to configure all these things through serverless template file I am struggling in getting the RESTAPIID for my custom authorizer method and how to set authorizer for my lambda function using the serverless template file Below is the configurations I have done Also how to get AuthorizerUri I do not want to hard code any thing "
53126841,"Serverless architecture services pattern path parameters","https://stackoverflow.com/questions/53126841/serverless-architecture-services-pattern-path-parameters","{web,serverless-framework,serverless}","2018-11-02 23:08:56+02","2024-05-17 05:12:03.308382+03","I was reading this blog post from Serverless about the different patterns that exist for Serverless architecture I am interested in the services pattern and thought I would try it out With this configuration in my serverless yml file The following output comes from running serverless deploy Now in a CRUD service if I wanted to get a single resource I would probably have something like this for a get endpoint stagingusers id With the above pattern is it up to the user to pass in a query string parameter like this stagingusersid id instead of having a path parameter like this stagingusers id Is it possible to get the endpoint to have a path parameter It does not seem like the path can be overwritten this way "
53140947,"Serverless get list of all existing endpoints from Api handler","https://stackoverflow.com/questions/53140947/serverless-get-list-of-all-existing-endpoints-from-api-handler","{endpoint,serverless-framework,serverless,aws-serverless}","2018-11-04 12:45:21+02","2024-05-17 05:12:04.28727+03","I am trying to create a service root endpoint which will respond with a list of all existing path templates I can create the response manually Is there any way to get the list other than this manual approach"
53141934,"Is it possible to push test events to AWS Lambda with the Serverless Framework?","https://stackoverflow.com/questions/53141934/is-it-possible-to-push-test-events-to-aws-lambda-with-the-serverless-framework","{testing,aws-lambda,serverless-framework}","2018-11-04 14:37:46+02","2024-05-17 05:12:05.646436+03","I am using the Serverless Framework to push to AWS Lambda To test my functions I am currently just using the Lambda console to add each method which is getting rather tedious and I would like to have a way to push them along side with the code with serverless deploy I have found this reference on the Serverless method for testing locally but it does not seem to deploy those test events to Lambda Ideally I would like to be able to to do this in Serverless but if there a way to do it via awscli it might be a good option too "
53161533,"How to use default request templates when using the serverless framework?","https://stackoverflow.com/questions/53161533/how-to-use-default-request-templates-when-using-the-serverless-framework","{serverless-framework}","2018-11-05 20:13:27+02","2024-05-17 05:12:06.188203+03","I understand that I need to specify a request template for the API gateway in order to gain access to the request headers The Serverless docs say Serverless ships with the following default request templates you can use out of the box The default templates look like they provide access to what I want i e request headers but how do you tell Serverless to use them"
53165530,"How to manage production, test and development environments with serverless framework","https://stackoverflow.com/questions/53165530/how-to-manage-production-test-and-development-environments-with-serverless-fram","{aws-lambda,serverless-framework,serverless}","2018-11-06 03:54:43+02","2024-05-17 05:12:07.333922+03","I am planning to build an enterprise application using aws lambda and serverless framework I want to separate the dev test and prod environments and I am planning to use AWS Parameter store for it I do not want my production environment configuration be exposed to developers If the developer runs the command serverless offline s production start then the production configuration should not be obtained It should be obtained only when the serverless function has been successfully deployed to aws lambda "
53178343,"serverless framework deploy fails on AWS","https://stackoverflow.com/questions/53178343/serverless-framework-deploy-fails-on-aws","{aws-cloudformation,serverless-framework,aws-serverless}","2018-11-06 19:03:20+02","2024-05-17 05:12:08.775179+03","sls deploy verbose I encounter the problem like One thing raised my attention from the log message before the error message the compiledcloudformationtemplate json should be in the URL start with s3 uswest2 amazonaws rather than s3 amazonaws Is this the issue that leads to the s3 error If so how could I fix it If not what is the real problem this is not the first time I deployed and I have several successful experiences before Appreciate to help of any kinds "
53198356,"Serverless framework outputs","https://stackoverflow.com/questions/53198356/serverless-framework-outputs","{amazon-web-services,serverless-framework,serverless}","2018-11-07 21:48:11+02","2024-05-17 05:12:09.410985+03","I just want to be able to print out information I need for my app configuration Starting with the basics UserPoolId Output is not working Anyone know why Output Here is the output after running serverless deploy Apparently I have to add more text because it is complaining that my post is mostly code I do not really know how to explain much further so I am just going to continue to rant until I have enough text that StackOverflow stops yelling at me Thanks Update I was able to get the output if I ran serverless deploy v Is this the expected behavior Does the Output only display if the verbose flag is set"
53212285,"Cloudformation template Lambda environment variable error - Value of property Variables must be an object with String","https://stackoverflow.com/questions/53212285/cloudformation-template-lambda-environment-variable-error-value-of-property-va","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2018-11-08 16:41:01+02","2024-05-17 05:12:10.419994+03","I want to set environment variiable for my lambda function using cloudformation mappings Hence I am using FnFindInMap to get the value of variable from a mapping But I am getting the error Value of property Variables must be an object with String or simple type properties"
53221483,"When creating custom serverless template, ""ServerlessError: serverless.yml not found"" Error","https://stackoverflow.com/questions/53221483/when-creating-custom-serverless-template-serverlesserror-serverless-yml-not-f","{serverless-framework}","2018-11-09 07:32:57+02","2024-05-17 05:12:10.980216+03","I have tried to create a custom serverless template It is to share the same file structure between all serverless projects I have done The below is the git repository structure for serverless template However when I run the command above it returns the error What have I been wrong If I clone the repository I can see a severless yml file on root dir "
53232729,"How to get environment variables defined in serverless.yml in tests","https://stackoverflow.com/questions/53232729/how-to-get-environment-variables-defined-in-serverless-yml-in-tests","{node.js,integration-testing,jestjs,serverless-framework}","2018-11-09 20:15:03+02","2024-05-17 05:12:12.11414+03","I am using the serverless framework for running lambda functions on AWS In my serverless yml there are environment variables that are fetched from SSM When I write integration tests for the code I need the code to have the environment variables and I cannot find a good way to do this I do not want to duplicate all the variables definitions just for the tests they are already defined in the serverless yml Also some are secrets and I cannot commit them to source conrol so I would have to also repeat them in the ci environment Tried using the serverlessjestplugin but it is not working and not well maintained Ideas I had for solutions Any ideas"
53266709,"First time going Serverless - how is the learning curve? Do you recommend using a third party framework?","https://stackoverflow.com/questions/53266709/first-time-going-serverless-how-is-the-learning-curve-do-you-recommend-using","{aws-lambda,serverless-framework,serverless}","2018-11-12 16:52:17+02","2024-05-17 05:12:13.070942+03","Currently looking into setting up a personal project on a Serverless model Considering AWS Lambda but open to other providers The question is does anyone have experience using serverless component frameworks i e Serverless httpsserverless comframework in addition to going directly through AWS or a similar provider If so do you have a recommendation for someone who has not setup a serverless model before whether or not to use a framework For reference I have worked with traditional cloud services in the past and this project involves financial data and machine learning and has a client facing front end "
53274624,"Deploying multiple AWS lambdas separately","https://stackoverflow.com/questions/53274624/deploying-multiple-aws-lambdas-separately","{python-3.x,amazon-web-services,aws-lambda,serverless-framework,aws-step-functions}","2018-11-13 05:51:31+02","2024-05-17 05:12:13.997949+03","I am using Serverless Framework 1 32 0 with AWS Lambdas and Python 3 6 I would like to deploy multiple lambdas in a separate way since at this moment I can only do deployments one by one for every lambda in my directory which can be confusing with many lambdas in a short future This is my current project structure serverless yml hello_catfunctions yml The problem is that when I deploy it with serverless deploy stage dev it zips the full project and does not separate lambdas so the actual Lambda in the AWS console shows as hello_cat but includes the full project structure instead of separating every lambda files in its own directory Is there a way to deploy separate lambdas in the same project with only one serverless yml Thanks in advance "
53277683,"Serverless Framework - Get API Gateway URL for use in tests","https://stackoverflow.com/questions/53277683/serverless-framework-get-api-gateway-url-for-use-in-tests","{aws-cloudformation,serverless-framework,aws-serverless}","2018-11-13 09:24:22+02","2024-05-17 05:12:15.035373+03","I am using the Serverless framework and I want to be able to reference my API Gateway URL in my acceptance tests My test environment is regularly destroyed and then recreated so hardcoding a URL into the tests is not possible I can see there are ways to reference API Gateway as an AWS environment variable but this doesnt help me to locally get the URL for my tests I was hoping that the cloudformation output would be referenced in the serverless package and accessible via json but this doesnt seem to be the case Any idea how I can reference the API Gateway URL in my acceptance test files NOTE These tests need to be run on AWS not using a local server to mimic API Gateway"
53282581,"serverless plugin behind proxy","https://stackoverflow.com/questions/53282581/serverless-plugin-behind-proxy","{proxy,http-proxy,serverless-framework,serverless,serverless-plugins}","2018-11-13 13:53:51+02","2024-05-17 05:12:15.828391+03","How can I use the command serverless plugin list behind proxy I am getting this error The command serverless deploy works fine with my proxy so the proxy andor proxy configuration should not be the problem Versions Environment variables cURL Even if I curl it it works fine with my proxy settings Truncated for brevity "
53299053,"How set AWS Cognito App client settings via code in serverless.yml","https://stackoverflow.com/questions/53299053/how-set-aws-cognito-app-client-settings-via-code-in-serverless-yml","{amazon-web-services,amazon-cognito,serverless-framework,serverless}","2018-11-14 11:22:07+02","2024-05-17 05:12:16.677697+03","I am trying to find a way to configure the equivalent options you see in the screenshot below via code using serverless yml I can already setup most of the infrastructure user pool identity pool lambdas using serverless yml but I cannot find any docs for how to set those settings Any idea Thanks"
53302266,"Shared Lambda authorizer setup in Serverless Framework","https://stackoverflow.com/questions/53302266/shared-lambda-authorizer-setup-in-serverless-framework","{amazon-web-services,serverless-framework}","2018-11-14 14:15:30+02","2024-05-17 05:12:17.779876+03","I am trying to create a custom Lambda authorizer that will be shared between a few different servicesserverless stacks If I understand the documentation here httpsserverless comframeworkdocsprovidersawseventsapigatewaynotewhileusingauthorizerswithsharedapigateway that means that I need to create a shared authorizer resource in a common resources serviceserverless stack and then refer to that shared authorizer from my other services First of all Is my understanding correct If my understanding is correct my next question becomes How do I do this The documentation doesnt provide a clear example for lambda authorizers so heres how I tried to customize it I dont understand what the syntax for AuthorizerUri is supposed to be Ive tried Ref authorizerFunc FnGetAtt [authorizerFunc Arn] etc to no avail When I get the authorizerUri working do I just add an Output for my authorizer resource then FnImportValue it from the services containing my API Lambdas Link to my question on the Serverless forum for posterity httpsforum serverless comtsharedlambdaauthorizer6447"
53488312,"AWS Serverless Framework User Groups in .yml file?","https://stackoverflow.com/questions/53488312/aws-serverless-framework-user-groups-in-yml-file","{amazon-web-services,amazon-cognito,serverless-framework}","2018-11-26 20:10:00+02","2024-05-17 05:12:19.317646+03","Has anyone set up user groups in a cognito user pool in serverless framework I understand that I can create both a user pool and a user group in the resources section of the yml file but the problem I am facing is that the user group requires the user pool Id which I do not get back until the user pool is created I could always deploy without the user groups and then do a second deployment with the user groups after I have the user pool Id but I am curious if anyone has had any experience or ideas on how to do this in one single deployment I am sure many of you have come across this but for reference I have added serverlesss docs on resources as well as AWS docs on adding user pool and user group resources below Thanks for the help everyone Serverless docs httpsserverless comframeworkdocsprovidersawsguideresources User Pool Docs httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpool html User Group Docs httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpoolgroup html"
53523232,"Seems to conflict between Serverless syntax and CloudFormation syntax","https://stackoverflow.com/questions/53523232/seems-to-conflict-between-serverless-syntax-and-cloudformation-syntax","{aws-cloudformation,serverless-framework}","2018-11-28 15:46:33+02","2024-05-17 05:12:20.748626+03","The below is the part of CloudForamtion file loaded by Serverless AWSAccountId is CloudFormation Pseudo Parameter and envSERVICE is Serverless variable When I run sls deploy it returns the error It seems to say that Serverless recognize AWSAccountId as Serverless variable not as CloudFormation Pseudo Parameter Right If so how to have Serverless not to parse Pseudo Parameter so that it will be parsed by CloudFormation later"
53539193,"Serverless framework AWS cross-account custom authorizer","https://stackoverflow.com/questions/53539193/serverless-framework-aws-cross-account-custom-authorizer","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2018-11-29 12:33:54+02","2024-05-17 05:12:21.896864+03","How to setup cross account custom authorizer with serverless framework Custom authorizer configured with sls framework works fine if it is in the same AWS account as function that needs authorization What I have now is organization root account where authorizer function has been deployed On the second account which is organization member I have a serverless service deployed with the endpoints that needs to be authorized from the root account Is it possible to configure something like this inside serverless yml that will be deployed on the member account 111111111111 is root account number I have tried this and received following error An error occurred AuthorizerApiGatewayAuthorizer The policy of Lambda function must explicitly authorize the method or custom authorizer with a SourceArn condition for cross account integration Service AmazonApiGateway Status Code 400 Error Code BadRequestException which makes sense according to the AWS docs These docs explains how to manually do it using API Gateway console which is exactly what I did for now authorizer in the root authorizer in the member account manually connected through API gateway same as described in the docs I need a better solution as the number of services and organization member accounts is going to grow Is it possible to configure and make this work with serverless framework"
53542085,"AWS CloudFormation Fn::Join - escape single quotes","https://stackoverflow.com/questions/53542085/aws-cloudformation-fnjoin-escape-single-quotes","{amazon-web-services,escaping,aws-cloudformation,serverless-framework}","2018-11-29 15:12:57+02","2024-05-17 05:12:22.906846+03","I would like to escape single quotes such that they are part of the string From something like this I would to get this I use it for the serverless framework as an environmental variable which treats it as a straing such that it puts two more single quotes around it "
53546181,"Error:""Failed to get the current sub/segment from the context"" when use AWS X-ray in Lambda with node.js","https://stackoverflow.com/questions/53546181/errorfailed-to-get-the-current-sub-segment-from-the-context-when-use-aws-x-ra","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-xray}","2018-11-29 19:24:27+02","2024-05-17 05:12:23.933165+03","I am trying to use implement the AWS Xray into my current project using Node js and Serverless framework I am trying to wire the Xray to one of my lambda function I got the problem of code below for this problem I use the solution from httpsforums aws amazon comthread jspamessageID821510821510 the other solution I tried is from httpsforums aws amazon comthread jspamessageID829923829923 code is like Still not working Appreciated to the help of any kind "
53549447,"${} syntax in Serverless","https://stackoverflow.com/questions/53549447/syntax-in-serverless","{serverless-framework}","2018-11-30 00:12:49+02","2024-05-17 05:12:24.638299+03","On line 19 of this serverless yml example the following appears 1 Is the syntax an instance of bash parameter expansion like the expansion covered by this guide 2 In any case what does the line above do"
53557849,"Serverless on gcp add custom http path","https://stackoverflow.com/questions/53557849/serverless-on-gcp-add-custom-http-path","{google-cloud-functions,serverless-framework,serverless}","2018-11-30 12:44:05+02","2024-05-17 05:12:25.748808+03","I have this serverless function that I deploy on Google Cloud Functions but I want it to sit at a custom http path instead of the function handler name The desired path is boardmeta but this simply ignores the http boardmeta direction And it deploys the function with boardMeta as a path I also tried with This results with an error"
53571905,"Serverless CloudFormation template error instance of Fn::GetAtt references undefined resource","https://stackoverflow.com/questions/53571905/serverless-cloudformation-template-error-instance-of-fngetatt-references-undef","{aws-cloudformation,serverless-framework}","2018-12-01 14:46:20+02","2024-05-17 05:12:26.590106+03","I am trying to setup a new repo and I keep getting the error in my uat stage however the dev stage with the exact same format works fine I have a resource file for each of these environments dev uat In my serverless yml my role is defined as and the stage is set as Running serverless deploy stage dev verbose succeeds but running serverless deploy stage uat verbose fails with the error Can anyone see what I am doing wrong The uat resource was copied directly from the dev one with only the stage name change Here is a screenshot of the directory the resource files are in"
53594391,"Preflight CORS issue on serverless AWS Lamba fucntions.","https://stackoverflow.com/questions/53594391/preflight-cors-issue-on-serverless-aws-lamba-fucntions","{node.js,cors,serverless-framework,aws-serverless}","2018-12-03 13:00:00+02","2024-05-17 05:12:27.334141+03","I have tried as official documentation for CORS fix by serverless different solutions but the issue still persists What i have done so far is 1 Set CORS true on all functions 2 Set authorizer fix for CORS 3 In response header i have set as Still am getting issue based on CORS"
53616268,"No env variables in bash after exported with command in docker-compose","https://stackoverflow.com/questions/53616268/no-env-variables-in-bash-after-exported-with-command-in-docker-compose","{django,docker,docker-compose,environment-variables,serverless-framework}","2018-12-04 15:29:11+02","2024-05-17 05:12:28.248758+03","I have a serverless yml file that defines environment variables In order to use the ones for my local stage in a docker container I use the serverless dotenv plugin in order to export them to an env file I do this in my dockercompose yml where I also export the variables from this file It works as my django settings have access to them However if I bash into the container or run a command the environment variables are not available anymore What am I missing"
53878014,"Export the Lambda ARN","https://stackoverflow.com/questions/53878014/export-the-lambda-arn","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2018-12-21 01:08:42+02","2024-05-17 05:12:46.955993+03","I would like to export my Lambda ARN that I created using the serverless framework as I need to use this ARN in other CF template I defined Outputs and Export in my serverless yml file It is working fine However the export contains the lambda version ARN i e arnawslambdaregion12345functionservicename2 This is causing issue as this ARN is used by other CF thus cannot be updated Export MyServiceArn cannot be updated as it is in use by xyz Is there a way to get the ARN without the version number Thanks for your help "
53621187,"How to implement the alias for a step function in Serverless framework","https://stackoverflow.com/questions/53621187/how-to-implement-the-alias-for-a-step-function-in-serverless-framework","{serverless-framework,aws-step-functions}","2018-12-04 20:49:02+02","2024-05-17 05:12:29.810757+03","In my project I am using serverlessawsalias alongside serverless to deploy my code and everything to AWS I have lambda functions which are aliased for dev and prod versions Each time I make a change I would first use the serverless command prompt tool to deploy a dev version and make sure that everything is fine before I use the same tool to deploy the prod version This works all fine more or less but when I tried to include a step function definition in my serverless yml file I faced a limitation While lambda functions can have versions and aliases in AWS step functions do not have such functionality So far I have tested this which is a fail While this does create a step function like MyStepFunctiondev but the problem with it is that as soon as I create the prod version it will delete the dev version the serverless assumes I am renaming the step function Even worse if I create the dev version it will delete the prod version which of course is unacceptable Does anyone know how I can have two step functions one for dev and one for prod implemented with one single definition in my serverless yml "
53626962,"what is the correct way to get the origin header in a serverless deployed lambda fronted by api gateway?","https://stackoverflow.com/questions/53626962/what-is-the-correct-way-to-get-the-origin-header-in-a-serverless-deployed-lambda","{aws-lambda,aws-api-gateway,serverless-framework}","2018-12-05 07:09:21+02","2024-05-17 05:12:30.272015+03","I am using the serverless framework to deploy a simple lambda written in node express behind api gateway In a GET I can see the origin header but in a POST I cannot it is not passed into my lambda function Anyone know why not and how to make it pass Background I did notice that in the POST the origin appears to be appended to the query string in the logs So I could extract the origin from the query string values but I want to know if this is the correct way to do things on the serverless framework or should I be setting something to allow the API Gateway to send the origin through on a POST like it does on a GET Why are the 2 verbs behaving differently My Code Config the function definition in the serverless yml looks like If I just put the following in my index handler In my handler function I only want to get the origin request header that was sent In the GET it is easy the cloudwatch logs show that it is available in the GET request in the headers object BUT in the POST all the other headers are there but origin is blank "
53645757,"Serverless framework can't use promise?","https://stackoverflow.com/questions/53645757/serverless-framework-cant-use-promise","{node.js,typescript,serverless-framework}","2018-12-06 06:29:01+02","2024-05-17 05:12:31.081634+03","I am trying to make REST apis with the serverless framework Some of the functions are asynchronous So I am using Promise But the promise is not working no response So I am using the await keyword It works fine I think this is bad way How to use promise in serverless framework Any advice or suggestion would be appreciated Thank you in advance "
53663879,"Authorization code grant in lambda AWS with Serverless Framework","https://stackoverflow.com/questions/53663879/authorization-code-grant-in-lambda-aws-with-serverless-framework","{amazon-web-services,amazon-cognito,serverless-framework}","2018-12-07 05:39:48+02","2024-05-17 05:12:31.996955+03","I am developing a lambda service with Serverless Framework that is responsible for logging into Cognito For business reasons I need to simulate the UI that Cognito generates The system should support OAUTH flows Authorization code grant and Implicit grant Implicit grant works without problems but I can not obtain the authorization code for Authorization code grant Is there any way to obtain the authorization code with the AWS SDK Thanks "
53666687,".NET Core Web Api on AWS Lambda is slow upon first request","https://stackoverflow.com/questions/53666687/net-core-web-api-on-aws-lambda-is-slow-upon-first-request","{amazon-web-services,.net-core,aws-lambda,serverless-framework,serverless}","2018-12-07 09:31:07+02","2024-05-17 05:12:33.26931+03","I am deploying my net core 2 1 application on AWS Lambda I am using AspNetCoreServer Package for proxy routing to my controllers and I found the problema on this solution in my first request lambda is very slow for executing the action controller but in anothers requests is fast I look in CloudWatch logs for understand whats is happen and i saw in logs that the longest time is in ControllerActionInvoker Route Match to invoke my action I would to know if i did anything wrong or is net core is slow for aws lambda My logs evidencies Here is my first request log And my second request log Thank you"
53689712,"Is it possible to upload a video file to IBM Cloud Functions / OpenWhisk function and encode it?","https://stackoverflow.com/questions/53689712/is-it-possible-to-upload-a-video-file-to-ibm-cloud-functions-openwhisk-functio","{ibm-cloud,serverless-framework,openwhisk,serverless-architecture}","2018-12-09 05:38:55+02","2024-05-17 05:12:34.169838+03","We are developing a video streaming platform In that we want to encode video into H 264 format after uploading it We decided to use IBM Cloud Functions OpenWhisk to encode the video but having some doubts Is it possible to upload a video file to IBM Cloud Functions OpenWhisk and encode it Is it supported how can it be done"
53727072,"serverless event.body was an object but content-type is not json","https://stackoverflow.com/questions/53727072/serverless-event-body-was-an-object-but-content-type-is-not-json","{aws-api-gateway,serverless-framework,serverless,aws-serverless}","2018-12-11 15:15:06+02","2024-05-17 05:12:34.293719+03","i am using serverless to deploy my api my api routes look like this getting following error when i hit apigatewayurl"
53727459,"Swagger in AWS API Gateway","https://stackoverflow.com/questions/53727459/swagger-in-aws-api-gateway","{amazon-web-services,.net-core,swagger,swagger-ui,serverless-framework}","2018-12-11 15:34:51+02","2024-05-17 05:12:34.9277+03","I have documented my Dotnet Core API with Swagger Swashbuckle on my local machine Now I am have deployed my API through the Serverless framework to AWS but Swagger is not working I tried to add Open API to AWS API GateWay but it did not work also Any ideas on how to do it I expect to get the Swagger UI when I navigate to httpsMyAmazonApiDevelopmentswagger but instead of that I get messageMissing Authentication Token Which is some generic error from Amazon web services Please note I do not have any authentication implemented This is my current code "
53735289,"Serverless cannot read the default value for stage even though I specified one","https://stackoverflow.com/questions/53735289/serverless-cannot-read-the-default-value-for-stage-even-though-i-specified-one","{serverless-framework}","2018-12-12 02:37:56+02","2024-05-17 05:12:36.209718+03","Hi when i tried to serverless config it returned an error Trying to populate non string value into a string for variable optstage Please make sure the value of the property is a string However in my yml file I have specified a default value for stage OS darwin Node Version 8 11 1 Serverless Version 1 27 3 Why is is showing this error"
53797848,"Serverless Framework AWS Fine-Grained Access Control","https://stackoverflow.com/questions/53797848/serverless-framework-aws-fine-grained-access-control","{amazon-web-services,aws-lambda,amazon-dynamodb,amazon-cognito,serverless-framework}","2018-12-15 22:37:19+02","2024-05-17 05:12:38.14967+03","I am attempting secure my AWS API such that DynamoDB rows can only be accessed by the corresponding authenticated Cognito user by implementing fine grained access control in my Serverless Framework config serverless yml See example of what I am attempting in the AWS Documentation I have tried to convert the Cloudformation syntax to Serverless without success when I try something like the following expression in my policy statement I then get an error Invalid variable reference syntax for variable cognitoidentity amazonaws comsub You can only reference env vars options files You can check our docs for more info Is this even possible in Serverless Or is it Cloudformation and SAM only"
53817238,"Serverless - Local path and Lambda Path","https://stackoverflow.com/questions/53817238/serverless-local-path-and-lambda-path","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2018-12-17 14:26:10+02","2024-05-17 05:12:39.620682+03","I am wondering how I can force my local serverless deployment to mimic what happens when I deploy it to AWS Here is my serverless yaml file My file structure looks like this When I deploy it to AWS the lib folder gets put into the lambda functions folder but locally I need to define its path which usually is How can I make it so that locally or deployed I do not have to change the paths"
53818812,"Serverless framework on AWS - Post API gives Internal server error","https://stackoverflow.com/questions/53818812/serverless-framework-on-aws-post-api-gives-internal-server-error","{amazon-web-services,aws-lambda,serverless-framework}","2018-12-17 16:01:32+02","2024-05-17 05:12:40.097448+03","My serverless yml looks like this And the actual API function looks this Works very well on my serverless local but when I try it on AWS Lambda function then it gives Internal server error Message I have looked into my cloudwatch logs and the response looks correct to me Here is the response that I am sending back to callback Any help please"
53857201,"Serverless + Firebase: API is not reply message","https://stackoverflow.com/questions/53857201/serverless-firebase-api-is-not-reply-message","{node.js,amazon-web-services,firebase,aws-lambda,serverless-framework}","2018-12-19 18:26:36+02","2024-05-17 05:12:41.105052+03","I am creating an api which will update a Firebase Realtime database using Nodejs Serverless Javascript my js file I deploy API to AWS and test on Postman Problem and my attempts The API does not return callback in AWS environment lambda Any Suggestion is appreciated "
53857591,"Import path is different when service is deployed to AWS lambda using serverless framework","https://stackoverflow.com/questions/53857591/import-path-is-different-when-service-is-deployed-to-aws-lambda-using-serverless","{node.js,aws-lambda,serverless-framework}","2018-12-19 18:57:23+02","2024-05-17 05:12:41.92664+03","When I deploy a serverless function to AWS I get Cannot find module knexfile That import path works when im working using serverlessoffline However when I deploy to AWS all the packages get included at the root level so the import path is not correct When I change it to knexfile instead of knexfile it works when deployed but not when ran locally What can I do for the path to be what it needs to be automatically I would like for the path to get automatically resolved when deployed to AWS or tested locally "
53859666,"How to fix CORS error when posting form from client to AWS API gateway function?","https://stackoverflow.com/questions/53859666/how-to-fix-cors-error-when-posting-form-from-client-to-aws-api-gateway-function","{javascript,reactjs,amazon-web-services,cors,serverless-framework}","2018-12-19 21:53:54+02","2024-05-17 05:12:42.985346+03","I have a contact form on my front end react application that I want to post to an Lambda function that is behind a API Gateway which in turn has a custom domain on top of it My front end runs on domain dev example com3000 My API Gateway is on contact example com Further more I have created my Lambda function with serverless and in my YAML file have enabled CORS as so I am using AXIOS to make my post request which happens client side And the error I get is Access to XMLHttpRequest at httpscontact example comemailsend from origin httpdev example com3000 has been blocked by CORS policy The AccessControlAllowOrigin header contains the invalid value example com I would have thought having the front end and API on the same domain would get around any cors errors although I am spoofing dev example com locally in order to test I would also think the cors setting in my YAML file would get around it Anybody know why I might still be getting this CORS error Edit Showing handler code that runs in Lambda function handler js"
53862698,"How to configure serverless.yml or AWS API gateway or AWS lambda handler to read request.headers from POST request","https://stackoverflow.com/questions/53862698/how-to-configure-serverless-yml-or-aws-api-gateway-or-aws-lambda-handler-to-read","{python,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2018-12-20 05:08:39+02","2024-05-17 05:12:44.011592+03","I was trying to deploy a API created with flask and serverless framework to AWS lambda and API gateway however I was not able to read the proper header I did read some post from httpsstackoverflow coma438309502806237 which indicates that request details will be available in event of the handler function However I am use wsgi handler as my handler so how am I supposed to read event variable which exists in wsgi hander Should I create my own handler or I can get the request details of event from somewhere FYI I am using AWS V4 signature to sign each request from both client side and server side then compare each signature to ensure the request is secured This will generate a header like below Howeverthe header I am getting like this This is the application py code This is the serverless yml file"
53864505,"UnhandledPromiseRejectionWarning: AccessDeniedException","https://stackoverflow.com/questions/53864505/unhandledpromiserejectionwarning-accessdeniedexception","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2018-12-20 07:55:28+02","2024-05-17 05:12:45.591764+03","The above YAML file I provided I tried to connect with AWS Dynamo DB using AWS LAMBDA But once I upload the project and tried to call save item function through postman it gives the following log on AWS cloud watch I gave the both full administrative and dynamo DB access to the IAM User Actually I am new to AWS and pardon my English"
53875503,"Serverless Framework, Google Cloud Functions & Firestore Event Triggers","https://stackoverflow.com/questions/53875503/serverless-framework-google-cloud-functions-firestore-event-triggers","{node.js,firebase,google-cloud-firestore,google-cloud-functions,serverless-framework}","2018-12-20 20:21:10+02","2024-05-17 05:12:46.117745+03","Is it possible to trigger a Google Cloud Function from a Firestore Event with the Serverless Framework Im using Google Cloud Functions Serverless Framework and I am trying to figure out if the Serverless Framework supports firestoreevents I want to use Cloud Firestore triggers but unsure if its support and if it is then how I correctly specify the event in the serverless yml file An example of a function that should trigger event when any changes to a document happens From here httpsfirebase google comdocsfunctionsfirestoreevents Note I am importing functions from firebase in a separate file and then importing it in my index js If supported how do I configure it in serverless yml"
53883835,"Serverless Framework not configuring properly Lambda subscription to SNS Topic","https://stackoverflow.com/questions/53883835/serverless-framework-not-configuring-properly-lambda-subscription-to-sns-topic","{amazon-web-services,aws-lambda,amazon-sns,serverless-framework}","2018-12-21 11:14:48+02","2024-05-17 05:12:47.852977+03","I am trying to implement this simple architecture with Serverless Framework File Upload to S3 Bucket SNS Topic 2 Lambda Functions Actually i am just testing with just 1 lambda function and here is my code In the console i can see that the Lambda function is subscribed to the the Topic But in the Lambda Function the SNS topic is not set in the Trigger section Am i missing something "
53885255,"""iamRoleStatements should be an array of objects"" when trying to add multiple Roles to a Lambda function","https://stackoverflow.com/questions/53885255/iamrolestatements-should-be-an-array-of-objects-when-trying-to-add-multiple-ro","{amazon-web-services,serverless-framework}","2018-12-21 13:02:46+02","2024-05-17 05:12:49.003953+03","I am trying to add 2 roles for my Lambda function buy i am getting this error iamRoleStatements should be an array of objects where each object has Effect Action Resource fields Specifically statement 1 is missing the following properties Resource My code Note that i am using the serverlessiamrolesperfunction which allows to add seperate Roles to each function "
53901880,"How to locally run my cloudflare worker serverless function, during development?","https://stackoverflow.com/questions/53901880/how-to-locally-run-my-cloudflare-worker-serverless-function-during-development","{cloudflare,serverless-framework,serverless,cloudflare-workers,serverless-plugins}","2018-12-23 07:10:30+02","2024-05-17 05:12:50.372542+03","I managed to deploy my first cloudflare worker using serverless framework according to httpsserverless comframeworkdocsproviderscloudflareguide and it is working when I hit the cloud During development would like to be able to test on httplocalhost8080 What is the simplest way to bring up a local http server and handle my requests using function specified in serverless yml I looked into httpsgithub comserverlessexamplestreemastergooglenodesimplehttpendpoint but there is no start script There seem to be no examples for cloudflare on httpsgithub comserverless"
54089897,"Response duplicated but the count shows as 1","https://stackoverflow.com/questions/54089897/response-duplicated-but-the-count-shows-as-1","{loops,serverless-framework,dynamoose}","2019-01-08 10:31:49+02","2024-05-17 05:12:50.382879+03","Using Dynamoose ORM with Serverless I have a scenario where I am finding user information based on recommendation The response is as follows Not sure where I am going wrong as the items in the response seems to be duplicated but the count is 1 Here is the code"
54094363,"Dynamo db Seed data insertion not working when deploying to aws","https://stackoverflow.com/questions/54094363/dynamo-db-seed-data-insertion-not-working-when-deploying-to-aws","{amazon-web-services,amazon-dynamodb,serverless-framework,seeding,dynamo-local}","2019-01-08 14:54:33+02","2024-05-17 05:12:51.332738+03","I have a serverless framework and dynamo db in my local I am trying to seed data When i do sls offline start seed data is getting inserted into my local dynamo db but when i deploy it to aws using sls deploy i do not see the seed data getting inserted on aws dynamo db I am very new to serverless and this is my 1st serverless application and deployment I am using serverlessoffline and serverlessdynamo db Below is my configuration on serverless yml Above configuration is working good for local setup When i run sls offline start everything is working fine But when i do sls deploy I do not see seed data in dynamo db tables on aws Also wanted to know where can i see the json seed data file test json on aws server Does it automatically gets deployed somewhere"
54096502,"How to get the result from other Promise with async await?","https://stackoverflow.com/questions/54096502/how-to-get-the-result-from-other-promise-with-async-await","{javascript,async-await,es6-promise,serverless-framework}","2019-01-08 17:03:57+02","2024-05-17 05:12:52.247517+03","Im try working with serverless framework right now im have 2 files I want to get the result from server js first before running the next step I am trying to use await dan save the result to a variable the process in handler js will run synchronous but the startServer result is undefined how to get the result from await properly from nested asyncawait Thanks"
54118447,"Deploying aws lamda with seed.run generates No file matches include / exclude patterns","https://stackoverflow.com/questions/54118447/deploying-aws-lamda-with-seed-run-generates-no-file-matches-include-exclude-pa","{node.js,aws-lambda,serverless-framework,aws-serverless}","2019-01-09 21:13:46+02","2024-05-17 05:12:53.239759+03","I have followed the httpsserverlessstack com tutorial and have split my code into multiple services Now when I deploy it with seed run I can only deploy the database services tabels The first phase of the deployment When I get to the lambda services I receives an No file matches include exclude patterns error I have tried to add the services with different path types like servicesservice servicesservice etc I also tried to deploy only some of the lambda functions with the same results service appapinotes I would expect the lambda service to be deployed but instead I get the following error"
54129180,"AWS API gateway call to multiple lambda functions possible?","https://stackoverflow.com/questions/54129180/aws-api-gateway-call-to-multiple-lambda-functions-possible","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-01-10 12:54:28+02","2024-05-17 05:12:54.321907+03","We have a front end implemented in ECS This front end communicates to API Gateways which in turn makes calls to Lambda functions We are implementing Disaster Recovery Solution for this architecture This is not complete architecture but enough for this question So we are pretty sure about DNS failovers Routing Policies etc and we are good when it comes to implementing DR just for front end Now we moved to the second part which is API Gateway and Lambda For API gateway we moved to the conclusion that front end can check for API gateway health if it does not receive response in T time and make Tdelta t as RTO If API gateway is not healthy it will send request to API gateway in other AWS region We are good till here But problem is what if lambda is not functional in region A and API gateway is not functional in region B In that case API gateway of region A should be able to call lambda of region B and it should also be able to call lambda of region A when it is healthy What comes in my mind is that in my Terraform code I can put some logic obviously in declarative way or some work around way so that API gateway should make calls only to the healthy lambda and gets itself integrated back to lambda of Region A when lambda of region A is back to healthy state This can be checked by some continuous health checks However it needs some effort Although this is a rare scenario of AWS Lambda not working in whole one region but client is an E COM giant and if we mention RTO of Tdelta t it should be within limits We trust AWS but we also want to be safe in all the scenarios and have minimum RTO and RPO Is there any better way for this Can we somehow integrate multiple lambda to API gateways"
54162354,"Get File From S3 bucket using Serverless and Node js","https://stackoverflow.com/questions/54162354/get-file-from-s3-bucket-using-serverless-and-node-js","{amazon-web-services,amazon-s3,serverless-framework,serverless,aws-serverless}","2019-01-12 17:54:03+02","2024-05-17 05:12:56.291587+03","I am new to Serverless and AWS also So My requirement is like I need to download a file from S3 I have tried in many ways I read many articles but could not find a proper document for this purpose So What I did was I created a boilerplate using Serverless and got all the files like handler js serverless yml I need to know the correct steps to download a file from S3 What I tried is Handler js Serveless yml Whatever I did I am always getting an error like INTERNAL SERVER ERROR What is the proper way to get the file from S3"
54165697,"When setting up an AppSyncAPI with serverless-framework is it possible to have more than one velocity template in a single file?","https://stackoverflow.com/questions/54165697/when-setting-up-an-appsyncapi-with-serverless-framework-is-it-possible-to-have-m","{velocity,serverless-framework,aws-appsync}","2019-01-13 02:44:56+02","2024-05-17 05:12:57.315668+03","Following instructions on the repository httpsgithub comsid88inserverlessappsyncplugin I was able to set an AWS AppSyncAPI successfully but It turns I end up with a lot of mappingtemplates eg customercreate vtl as each domain object needs a request and response vtl file to be referred on serverless yml I wonder if is it possible to put more than one template in a single file I mean instead of having customercreate vtl and customerdelete vtl paste both contents in a single file like customer vtl and then point to template by a property name Have tried this but it did not worked"
54185556,"How to login with facebook or link facebook account to current user in user pool","https://stackoverflow.com/questions/54185556/how-to-login-with-facebook-or-link-facebook-account-to-current-user-in-user-pool","{node.js,amazon-cognito,serverless-framework,federated-identity,aws-userpools}","2019-01-14 16:34:01+02","2024-05-17 05:12:57.8541+03","I am using cognito node serverless framework in my app to manage users I have been able to perform operations on cognito Signup Login etc using amazoncognitoidentityjs However I need to implement two features I have searched and read alot of articles but could not make any sense on how to achieve this So far I have been able to get identityId from AWS library using the following gist httpsgist github combrianberlin443c3bd005ff63282394 However I am not sure what to do about the identityId I am getting from AWS I am not even sure that I am on right direction or not so any help would be appreciated Regards"
54185709,"Scheduled Lambda function not able to make 3rd party API calls","https://stackoverflow.com/questions/54185709/scheduled-lambda-function-not-able-to-make-3rd-party-api-calls","{aws-lambda,serverless-framework,serverless}","2019-01-14 16:43:25+02","2024-05-17 05:12:58.547526+03","I have got 3 functions The Cron job function The event driven function The function called by both of the event and scheduled function The event function works when the DynamoDB has a new insert and then calls the 3rd party API which works as expected The scheduled function fires every 4 hours and is works and gets to the sharedFunction but when its gets to the API call await axios get it just does nothing I am not getting any errors in the CloudWatch I have placed console logs before and after the call and it logs the one before but nothing after "
54207835,"How to fix DynamoDB JS API blocking and timing out my Lambda function?","https://stackoverflow.com/questions/54207835/how-to-fix-dynamodb-js-api-blocking-and-timing-out-my-lambda-function","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,aws-serverless}","2019-01-15 22:34:49+02","2024-05-17 05:12:59.151618+03","I am attempting to access AWS DynamoDB from a Lambda function When I call the document clients scan function using a promise it never returns even when I extend the functions timeout to a whole minute I am using Serverless platform Node 8 10 and I have set up the iamRoleStatements to allow dynamodb and the tables ARN serverless yml handler js I am expecting to get dynamodb go then dynamodb success or even dynamodb error in the console However after printing dynamodb go the function hangs and ends up timing out Am I doing the promise wrong somehow It seems like this should be the correct format based on what I have seen "
54217315,"""serverless deploy"" doesn’t work with –aws-profile option and no error to debug","https://stackoverflow.com/questions/54217315/serverless-deploy-doesn-t-work-with-aws-profile-option-and-no-error-to-debug","{aws-lambda,serverless-framework,serverless,aws-serverless}","2019-01-16 12:41:51+02","2024-05-17 05:13:00.176686+03","I am trying to deploy serverless with narrow IAM permission specified below When I run this with awsprofile switch the process returns after presumably after assumeRole with no error or any other trace I do not see any events in Cloudwatch and Cloudtrail as well So basically stuck at this point any help appreciated"
54219776,"SQS Lambda serverless: the Sqs Message is not consumed","https://stackoverflow.com/questions/54219776/sqs-lambda-serverless-the-sqs-message-is-not-consumed","{python,amazon-web-services,aws-lambda,amazon-sqs,serverless-framework}","2019-01-16 14:58:13+02","2024-05-17 05:13:01.265602+03","I deployed a Python Post API lambda using Serverless framework Detail of code as below app py serverless yml I configured the SQS to trigger the lambda I send a SQS Message the lambda is triggered I checked it from CloudWatch but the SQS message is stuck in flight It seems that SQS cannot be consumed by lambda Any suggestion is appreciated UPDATE After check the CloudWatch carefully I found some exceptions"
54220447,"Serverless Email Attachment","https://stackoverflow.com/questions/54220447/serverless-email-attachment","{amazon-web-services,amazon-ses,serverless-framework,serverless,aws-serverless}","2019-01-16 15:35:10+02","2024-05-17 05:13:02.238413+03","I am a starter in Serverless and AWS I am actually stuck in situation I want to attach a file when sending email via serverless The fact is I cannot find any perfect article or documentation regrading my requirement What I did is JS File What I did is to send is to send a mail This is working as expected But do not know where to insert the attachment section Any help or suggestion is much appreciated Thanks in advance"
54229782,"Self signed certificate error in serverless deply","https://stackoverflow.com/questions/54229782/self-signed-certificate-error-in-serverless-deply","{node.js,aws-lambda,aws-sdk,serverless-framework,aws-serverless}","2019-01-17 05:53:31+02","2024-05-17 05:13:03.33175+03","I am trying to deploy serverless application on AWS from my local machine The machine is behind company firewall Initially I was getting connection error so I added http_proxy and https_proxy settings on terminal Now when I try to deploy I am constantly getting the error self signed certificate in certificate chain I have also created a certificate from puttygen and set the npm ca file path to it but all in vain My npm install works the only issue is with serverless deploy Not sure what to do next Thanks already for the help I have added the screenshot of the image if thats of any help "
54238775,"AWS SES, email attachment sends base64 string instead converting into DOCX format","https://stackoverflow.com/questions/54238775/aws-ses-email-attachment-sends-base64-string-instead-converting-into-docx-forma","{amazon-web-services,amazon-ses,serverless-framework,serverless,aws-serverless}","2019-01-17 15:07:49+02","2024-05-17 05:13:04.246118+03","Requirement What I am trying to do is First I will download a document from S3 Bucket Then sending that document through SES sendRawEmail method as attachment with the file downloaded from S3 What I Did till Now I have downloaded the file from S3 I can send a mail with attachment It reaches the destination as expected form docx Error When I am sending the attachment I have to append the base64 which is the attachment String in the formdata I am attaching the string But When I download the attachment There I can see inside the form docx there is converted base64 string inside the attachment It is not as expected I should see tables and some fill in the blanks kind of thing But here it is a very big base64 string Code Any help or suggestions much appreciated Thanks in Advance"
54272682,"Keep getting 502 on a Lambda request with API Gateway. No 'Access-Control-Allow-Origin' header is present on the requested resource","https://stackoverflow.com/questions/54272682/keep-getting-502-on-a-lambda-request-with-api-gateway-no-access-control-allow","{javascript,node.js,aws-lambda,serverless-framework}","2019-01-20 00:56:36+02","2024-05-17 05:13:04.912291+03","I built a API Gateway with Serverless and the first route I made with allowCredentials true will not work The user is signed in and I use AWSAmplify Auth post to post to the route I tried to put my localhost on ngrok to have a better feel of a real environment but it will not work My ResponseBuilder provide correct headers I think I use it on every requests I tried to put the ngrok origin and the wildcard but it keeps telling me the same error Is there something I do not know about the Response of a lambda or a setting that I should add to my serverless file Thank you very much for your help "
54285015,"How to access API Gateway's pathParameters in step function using Serverless framework?","https://stackoverflow.com/questions/54285015/how-to-access-api-gateways-pathparameters-in-step-function-using-serverless-fra","{aws-lambda,aws-api-gateway,serverless-framework}","2019-01-21 07:13:12+02","2024-05-17 05:13:05.744405+03","How to pass the pathParameter user_id to the first function in a Step Function PS I am using API Gateway to invoke the step function "
54285038,"Serverless: Your serverless.yml has an invalid value with key: ""Ref""","https://stackoverflow.com/questions/54285038/serverless-your-serverless-yml-has-an-invalid-value-with-key-ref","{dialogflow-es,serverless-framework,alexa-skills-kit,serverless,serverless-plugins}","2019-01-21 07:14:29+02","2024-05-17 05:13:07.387779+03","While installing serverless with following command sls plugin install n serverlessalexaskills stage dev I am getting an error like Your serverless yml has an invalid value with key Ref The following is my sample serverless yml file Got a block here can some one help me here "
54290649,"how to download S3 file in Serverless Lambda (Python)","https://stackoverflow.com/questions/54290649/how-to-download-s3-file-in-serverless-lambda-python","{python,aws-lambda,boto3,serverless-framework}","2019-01-21 13:03:43+02","2024-05-17 05:13:07.868853+03","I created a lambda in Python using Serverless which will be triggered by a SQS message handler py const py I created a folder raw same level with the file handler py then deploy the serverless lambda I got an error from CloudWatch when lambda is triggered As I understand the lambda folder is not accessible or folder cannot be created in lambda Just in case of best practices I share the objectives of lambda Any suggestion is appreciated "
54301134,"Using AWS Cognito to Create New User with Serverless Framework","https://stackoverflow.com/questions/54301134/using-aws-cognito-to-create-new-user-with-serverless-framework","{aws-lambda,amazon-cognito,serverless-framework}","2019-01-22 04:08:44+02","2024-05-17 05:13:08.847011+03","I am very new to AWS I am trying to use Serverless and Cognito signup a new user I am using ApolloGraphQL and I am seeing all the info I want from the front end but I have everything hardcoded to eliminate any request errors For the life of me I cannot figure out why I cannot get a new user to register When I run my sls logs I never see anything return inside of my UserPool signUp function It always on the line just before Here is a look at my serverless yml file that I got from this SO post I was able to create a new user via a curl request so I know I have it setup right on the AWS side It is been a few nights now and I am about to scrap Cognito and go with JWTs "
54307884,"Sequelize 4 Association is not working as It suppose to be","https://stackoverflow.com/questions/54307884/sequelize-4-association-is-not-working-as-it-suppose-to-be","{node.js,orm,sequelize.js,serverless-framework}","2019-01-22 12:00:27+02","2024-05-17 05:13:09.990716+03","I need to fetch data from User and address table I have User table and Address table its one to many association between them but its not working as it should be When I tried to pull data from user and add address as a include option but did not work please see my code User Model Address Model How I am fetching Data and where is fail with error when I used as include [Address] error Message Address is not associated to User when I used as include [Address] Error Message Association with alias \Address\ does not exists I also tried include [ model Address ] Error Message Address is not associated to User I would thankful for the help otherwise I have to leave Sequelize because my project is stuck for this Updated Code I change my fetching code To Then Error Message Changed Unknown column User user_id in field list So now the problem is this column does not exist in Users model attributes I still do not get it why User user_id in field list but anyways I make further change in my code i e I added attributes [id ] specifically and it works fine Please do not put this question into duplicate because I tried everything then I am post this question for help"
54310730,"Passing environment variables from command line","https://stackoverflow.com/questions/54310730/passing-environment-variables-from-command-line","{serverless-framework}","2019-01-22 14:45:10+02","2024-05-17 05:13:10.983226+03","Is it possible to pass environment variable with sls deploy sls does not seem to have switch like e and the only possible way looks like having a seperate yaml file to manage variables and pass it on using environment element in the serverless yml file as mentioned in this article "
54384219,"What is causing Serverless deploy error: Unable to validate the following destination configurations, S3 InvalidArgument?","https://stackoverflow.com/questions/54384219/what-is-causing-serverless-deploy-error-unable-to-validate-the-following-destin","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-01-27 00:56:21+02","2024-05-17 05:13:19.378233+03","I am using the serverless framework to deploy my app The end goal is to create an SES receipt rule that captures emails to a certain subdomain and upload them to an S3 bucket The object upload will trigger my lambda function When trying to deploy my serverless yml I get the following error My serverless yml file Before I added the role policy I was getting an error related to my receipt rule not being able to write to my S3 bucket I have only found references of this error when it relates to an SNS topic However I do not think this applies to my situation because I am only uploading the bucket to S3 and not configuring and SNS topic "
54310778,"serverless warm up plugin concurrent execution of warmup functions","https://stackoverflow.com/questions/54310778/serverless-warm-up-plugin-concurrent-execution-of-warmup-functions","{aws-lambda,serverless-framework,serverless,aws-serverless}","2019-01-22 14:47:53+02","2024-05-17 05:13:11.882667+03","I got the serverlesspluginwarmup 4 2 0rc 1 working fine with serverless version 1 36 2 But it only executes with one single warmup call instead of the configured five Is there any problem in my serverless yml config It is also strange that I have to add warmup true to the function section to get the function warmed up According to the docs on httpsgithub comFidelLimitedserverlesspluginwarmup the config at custom section should be enough in AWS Cloud Watch I only see one execution every 2 minutes I would expect to see 5 executions every 2 minutes or do I misunderstand something here EDIT Now using the master branch concurrency works but now the context that is deliverd to the function which should be warmed is broken Using Spring Cloud Functions Error parsing Client Context as JSON Looking at the JS of the generated warmup function the delivered source looks not ok Config is"
54314930,"AWS lambda SyntaxError: Unexpected token import","https://stackoverflow.com/questions/54314930/aws-lambda-syntaxerror-unexpected-token-import","{node.js,aws-lambda,aws-api-gateway,serverless-framework,aws-serverless}","2019-01-22 19:10:13+02","2024-05-17 05:13:12.895538+03","I have followed the guide from serverlessstack com and divided my api up in multiple services in one mono repo The code deploys fine with seed run but when I try to reach some of the endpoints from my reactjs webclient if gets an error from my api I have tried to console log the error but it dosent reveals more details I guess from other questions here at stackowerflow that it might be related to ES6 or babel but Iam not sure My babelrc looks like this I receive the following error at AWS cloudwatch Any ideas what I might be missing UPDATED My babelrc My webpack config js Package json"
54320728,"PolicyDocument vs AssumeRolePolicyDocument","https://stackoverflow.com/questions/54320728/policydocument-vs-assumerolepolicydocument","{aws-lambda,serverless-framework}","2019-01-23 05:49:16+02","2024-05-17 05:13:13.83052+03","I am trying to configure an s3 bucket thats generated by serverless to restrict put access by IP Looking at this documentation for AWS I assume what I want is PolicyDocument but I also see AssumeRolePolicyDocument And sometimes they appear to be used in conjunction What are the differences between these two properties"
54328886,"aws lambda SES function timeout","https://stackoverflow.com/questions/54328886/aws-lambda-ses-function-timeout","{amazon-web-services,aws-lambda,aws-sdk,serverless-framework,amazon-ses}","2019-01-23 13:55:18+02","2024-05-17 05:13:14.714631+03","I am using nodejs version 8 1 and severless framework in my serverless yml I have and my lambda looks like this I do not understand why the getIdentity function is never executed The function exit with a timeout "
54350957,"Serverless Framework - AWS Lambda dependency limit exceed","https://stackoverflow.com/questions/54350957/serverless-framework-aws-lambda-dependency-limit-exceed","{python,amazon-web-services,pip,aws-lambda,serverless-framework}","2019-01-24 16:14:03+02","2024-05-17 05:13:15.210404+03","I am working in a serverless project with AWS a kind of call center using Twilio I have previously built another 23 little projects I am using Serverless Framework now though I did not use it so far So I am quite a newbie in both AWS and Serverless I am somehow following the next link httpsserverless comblogflaskpythonrestapiserverlesslambdadynamodb So I am basically using this Python dependecies Flask Twilio boto3 for AWS See requirements txt below I uninstalled some packages however there probably are some packages I could clean Using Serverless Framework I was able to deploy serverless deploy the project without issues until I installed boto3 However now I exceed allowed dependency size and get this error I am stuck on this I guess I could solve it the old way without using Serverless Framework directly in AWS but I would ideally like to solve this issue Is it possible to partially install boto3 I mean a way to install just the modules I need Any other idea Thanks in advance "
54357368,"How to pass an environment variable to an AWS Lambda function using the Serverless framework?","https://stackoverflow.com/questions/54357368/how-to-pass-an-environment-variable-to-an-aws-lambda-function-using-the-serverle","{node.js,aws-lambda,environment-variables,serverless-framework}","2019-01-25 00:24:03+02","2024-05-17 05:13:16.752428+03","I am using the awsnode template I want to do something like this Where URL is the environment variable I am trying to pass this env variable to my serverless yml Then access it in my handler js I susspect that the issue is in how I am passing the environment variable to the program but my research has been to no avail "
54370736,"Environment Variables with Serverless and AWS Lambda","https://stackoverflow.com/questions/54370736/environment-variables-with-serverless-and-aws-lambda","{node.js,serverless-framework,serverless,aws-serverless}","2019-01-25 18:10:36+02","2024-05-17 05:13:17.186768+03","I am learning serverless framework and I am making a simple login system Here is my serverless yml file As you can see I have two environment variables and both of them are referencing to a different file in the same root folder Here is that env yml file When I do sls deploy I see that both the variables are logging as null The environment variables are not sent to lambda How can I fix this Also currently I am using this method and adding the env yml to gitignore and saving the values Is there any other efficient way of hiding sensitive data"
54378453,"Google Firestore python library not working in AWS Lambda","https://stackoverflow.com/questions/54378453/google-firestore-python-library-not-working-in-aws-lambda","{python,aws-lambda,google-cloud-firestore,serverless-framework}","2019-01-26 12:43:10+02","2024-05-17 05:13:18.32249+03","I am trying to use Google Cloud Firestore in my existing Serverless AWS Lambda application Heres what I have done I have added the library googlecloudfirestore in the requirement txt I have done the required setup and added creds json file I am using serverlesspythonrequirements and docker deployment for the application deployment I can run everything fine on my local environment but when I deploy it on AWS lambda I get the following error I tried a lot I have even tried forking the google cloud python repo and setting static values where pkg_resources get_distribution is called This seems to work but not the right solution Heres the link to the fork and edit httpsgithub comAmitChotaliyagooglecloudpythoncommitf23539f0905721f2b1b11d2439e351d438f541dddiff5e99793fe69a94f0f27267a2fba86306"
54407146,"aws iam policy for serverless framework, only allow to delete deployment buckets","https://stackoverflow.com/questions/54407146/aws-iam-policy-for-serverless-framework-only-allow-to-delete-deployment-buckets","{amazon-web-services,amazon-s3,serverless-framework}","2019-01-28 17:17:12+02","2024-05-17 05:13:19.953469+03","I am using the serverless framework for deployment to aws I would like to define a policy that allows all resources to be created necessary for the serverless framework However I do not want the user to get full access to s3 In particular only delete the buckets containing the specific string serverlessdeploymentbucket none else Here is an attempt that is not working as serverless gives the error of access denied when deploying "
54422655,"Serverless and Shared Handlers","https://stackoverflow.com/questions/54422655/serverless-and-shared-handlers","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-01-29 13:54:08+02","2024-05-17 05:13:20.750238+03","In using the Serverless framework is it possible to have shared handlers If you have multiple domains and there are some handlers that are shared across those domains how would you reference them within the servlerless yml file We have common handlers where their functionality is different based on parameters passed in through the environment section of the serverless yml file but cannot figure out how to reference them correctly through the serverless yml file more specifically the handler entry I have tried entries such as and the directory structure looks like this However this does not seem to work "
54594610,"How to increase NodeJS heap (--max-old-space-size) in Bitbucket Pipelines for Typescript/Webpack?","https://stackoverflow.com/questions/54594610/how-to-increase-nodejs-heap-max-old-space-size-in-bitbucket-pipelines-for-ty","{node.js,typescript,serverless-framework,bitbucket-pipelines}","2019-02-08 14:33:55+02","2024-05-17 05:13:21.389481+03","I am running into memory issues during the webpack packaging step in a serverlessTypeScript project I have tried Calling the following command from an npm run script Calling the following command directly through bitbucketpipelines yml It works fine locally with this command but in Bitbucket pipelines I get the following output I have done a lot of googling and searching here to try to find if Bitbucket has some kind of env variable you can set for runtime args etc but cannot seem to find anything that does not tie back into the aforementioned NPM package "
54614473,"Adding a User Sign-in for Mobile App on a serverless backend on AWS","https://stackoverflow.com/questions/54614473/adding-a-user-sign-in-for-mobile-app-on-a-serverless-backend-on-aws","{aws-sdk,aws-api-gateway,amazon-cognito,serverless-framework,aws-serverless}","2019-02-10 07:54:37+02","2024-05-17 05:13:22.365395+03","i am creating a mobile app for multiple platforms iOS Android PWA Web and have my backend build with the serverless framework on AWS Lambda using API Gateway and DynamoDb My most recent goal is to add a user login using AWS Cognito enabling my users to either login using their email and password or a facebook login I read multiple threads tutorials and the official AWS Documentation but am super confused because of the mass of different information I want to integrate authorized API Endpoints which can only be called when the user is logged in Therefore my first question is 1 Should i rather use AWS Cognito User Pools or AWS Cognito Identity Pools I also read that for user pools you can solely use the hosted UI for login which is not a possibility for my app I want to style my own login page As i could not find any sample code for the client side integration i went with identity Pools for now and created an endpoint in my serverless yml which is specified the following So my second question is 2 How do i properly integrate the authorization for my Cognito Identity Pool or User Pool From another Thread i read that there is the possibility to generate an SDK for the API one created on API Gateway which handles the signature procedures of the request for you As i tried to do so in my iOS application i first log the user in using the following code and then use the following created code to submit the PUT request But i cannot see any code that signs the HTTP request Therefore the third question is 3 How do i create the SDK that properly sends the signed HTTP request to my API Gateway backend I also tried the same for Cognito User Pools using a simple Authorization header but could not figure out a way to obtain the respective Authorization token on the iOS application without using any kind of hosted UI It would be very kind if someone could explain this jungle to me "
54614852,"SSL Handshake for CNAME to Custom Domain in API Gateway fails","https://stackoverflow.com/questions/54614852/ssl-handshake-for-cname-to-custom-domain-in-api-gateway-fails","{amazon-web-services,aws-api-gateway,serverless-framework}","2019-02-10 08:56:49+02","2024-05-17 05:13:23.409187+03","I am using the Serverless framework together with the serverlessdomainmanager plugin to create an API with custom domain in AWS Suppose my custom domain is api mycompany com and I have multiple customers that want to access the api with CNAMES that include their names for example customer1 api mycompany com and customer2 api mycompany com I make sure to have a certificate that supports api mycompany com and also api mycompany com so certificatewise I am OK Now I create a CNAME for a customer with name customer1 api mycompany com and value api mycompany com When I try to access the api using the CNAME the SSL handshake fails if I add a Host header to the request with the value api mycompany com all works well According to AWS support if I understand them correctly this is because the CloudFront distribution created to support my custom domain is not aware of the CNAME My question has anyone tried to do something similar Any suggestions how to work around this Thanks "
54616601,"deploy serverless application to docker","https://stackoverflow.com/questions/54616601/deploy-serverless-application-to-docker","{amazon-web-services,docker,amazon-dynamodb,serverless-framework,serverless}","2019-02-10 12:53:57+02","2024-05-17 05:13:24.249026+03","I created a small service using serveless framework by following this guide httpsserverless combloghowtocreatearestapiinjavausingdynamodbandserverless I am using AWS Lambda APIGateway and DynamoDB I want to be able to deploy my service to a docker container so I can test my api and dynamodb locally I want to be able to send curl commands to my localhost and be able to see the response How do I go about doing this Are there any tutorials or step by step guide"
54630124,"AWS Lambda NodeJS Request using Certificate, Private Key and CA","https://stackoverflow.com/questions/54630124/aws-lambda-nodejs-request-using-certificate-private-key-and-ca","{node.js,typescript,ssl,aws-lambda,serverless-framework}","2019-02-11 11:58:32+02","2024-05-17 05:13:25.122573+03","To connect to a specific API we need to include a certificate the private key and a CA from a NodeJS function deployed to AWS Lambda In test environments we can just use the fs readFileSync to a local path on the test server but this does not apply of course in AWS Lambda Our call is as follows Is there a way to read the certificate information from either a AWS KMS or is the only way to upload these certificates to a private S3 bucket and read them from there We have also tried to store the raw certificates in the Parameter Store as encrypted values and read them from there as NodeJS process variables but this did not seem to work "
54631337,"serverless framework and use key management service (KMS)","https://stackoverflow.com/questions/54631337/serverless-framework-and-use-key-management-service-kms","{serverless-framework,serverless,amazon-kms,aws-serverless,google-cloud-kms}","2019-02-11 13:07:59+02","2024-05-17 05:13:26.131983+03","Basically I use serverless framework serverless for a function that allows me to sendreceive emails through mailgun For this I have a config js file set up in my serverless folder This config js contains all my API keys email address login etc for my mailgun function I want to use Google Cloud KMS to encrypt the resource config js because I am afraid my senstive data gets stolen and misused The encrypted file is config js enc google_key_management_service But serverless deploy does not decrypt my config js enc It throws me a resourcesyntax error Any solutionsideas how I can make KMS work for my config js file in my serverless framework I added AWS tags also because they have a similar KMS as Google Cloud But actually I think the real issue is with the serverless framework and to make encrypted files work in deploying serverless with sls deploy command but I could be mistaken "
54635500,"Docx Document Serverless S3 Error while Putobject Method","https://stackoverflow.com/questions/54635500/docx-document-serverless-s3-error-while-putobject-method","{amazon-web-services,amazon-s3,serverless-framework,serverless,aws-serverless}","2019-02-11 16:58:37+02","2024-05-17 05:13:27.028298+03","I am stuck in a situation for a long time I am trying to upload a docx file to S3 bucket using Serverless framework I was successful in uploading the docx document to S3 bucket But what happened is when I opened the document from S3 The document contained a buffer data converted to base64 string i e the big string about 23 pages The docx was corrupted MY Code Serverless yml I think the code is almost working but this issue of the base 64 string which is contained in the uploaded document is the issue Any kind of help appreciated Thanks in advance"
54640494,"Why does AWS Lambda CFN S3-response returns 403 upon Delete event?","https://stackoverflow.com/questions/54640494/why-does-aws-lambda-cfn-s3-response-returns-403-upon-delete-event","{amazon-web-services,amazon-s3,aws-lambda,aws-cloudformation,serverless-framework}","2019-02-11 23:08:56+02","2024-05-17 05:13:27.903084+03","I am using serverless to deploy an application where I use a Custom Resource to migrate a RDS database Everything works while I deploy but when I delete the stack the Custom Resource timeouts after an hour with the message Custom Resource failed to stabilize in expected time The request to the presigned AWS S3 URL returns 403 with the error code AccessDenied My first sent successfull response body to the presigned URL upon Create My second sent failing response body to the presigned URL upon Delete lambda go serverless config for Lambda CFN Heres a gist with my full source files and log Update with identified problem It seems that my VPCEndpoint to S3 SheltersVPCS3Endpoint is getting deleted before dBMigration and that is why I receive 403 With pure Cloudformation I guess this could have been solved easy by putting a DependsOn onto dbMigration but with serverless it seems that is not possible "
54657766,"Given an aws-lambda, how can I change the cloudwatch rule associated with it using boto3?","https://stackoverflow.com/questions/54657766/given-an-aws-lambda-how-can-i-change-the-cloudwatch-rule-associated-with-it-usi","{python,amazon-web-services,aws-lambda,boto3,serverless-framework}","2019-02-12 19:55:43+02","2024-05-17 05:13:28.572604+03","I have seen the docs but I cannot find how to change the scheduled event Heres the example on serverless yml Using boto3 how can I change the rate of the schedule programmatically"
54674817,"Configure serverless framework not to upload to S3?","https://stackoverflow.com/questions/54674817/configure-serverless-framework-not-to-upload-to-s3","{amazon-web-services,aws-lambda,serverless-framework}","2019-02-13 16:18:02+02","2024-05-17 05:13:29.613283+03","Need to deploy a serverless function in aws lambda using serverless Serverless uses aws Cloud formation to build the stack completely and uploads the module into S3 It uploads by default into S3 but the intended file is less than 10 mb which could be attached in aws lambda directly How to configure the serverless yml to achieve the scenario "
54676885,"In serverless.yml what's the difference between tags and stackTags?","https://stackoverflow.com/questions/54676885/in-serverless-yml-whats-the-difference-between-tags-and-stacktags","{serverless-framework}","2019-02-13 18:17:05+02","2024-05-17 05:13:30.33074+03","httpsserverless comframeworkdocsprovidersawsguideserverless yml What is the difference between the two"
54699293,"serverless - aws - SecureLambdaFunction env","https://stackoverflow.com/questions/54699293/serverless-aws-securelambdafunction-env","{serverless-framework,serverless}","2019-02-14 21:26:05+02","2024-05-17 05:13:31.279788+03","I am having the following case I setting several environments variables on my serverless yml file like let say I have like 10 envs when I try to deploy I get the following error So I cannot deploy I have an idea of what the problem is but I dont have a clear path to solve it so my questions are 1 How can I extend the 4Kb limit 2 assuming my variables are set using SSM I am using the EC2 Parameter store to save them this is more related to a serverless team or someone that knows the topic how does it work behind the scenes when I run sls deploy does it fetch for the values and included on the zip file this is what I think it does I just want to clarify or does it fetch the values when I exec the lambdas I am asking cause I go to the aws lambda console and I can see em set there Thanks "
54711268,"Giving OriginAccessIdentity reference in CloudFormation or serverless.yml","https://stackoverflow.com/questions/54711268/giving-originaccessidentity-reference-in-cloudformation-or-serverless-yml","{amazon-s3,aws-cloudformation,serverless-framework,serverless}","2019-02-15 14:19:39+02","2024-05-17 05:13:32.392374+03","I want to have a CloudFront distribution with access to a private S3 bucket For that I have to create an origin access identity Manually I can do that using the AWS console but I wanted to create it via a CloudFormation script or with Serverless using serverless yml While doing this I am able to add a physical Id of the origin access identity to my CloudFront distribution using one script Relevant documentation httpsdocs aws amazon comAWSCloudFormationlatestUserGuidequickrefcloudfront html I tried this I have to create an origin access identity and a CloudFront distribution having this identity Can we do both of these things in one CloudFormation script or with Serverless using serverless yml "
54762237,"AccessDeniedException when testing GET method in AWS API Gateway with HttpMethod POST","https://stackoverflow.com/questions/54762237/accessdeniedexception-when-testing-get-method-in-aws-api-gateway-with-httpmethod","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-02-19 08:56:46+02","2024-05-17 05:13:33.901777+03","I want to implement a GET method in AWS API Gateway that returns the messages from a AWS SQS When I test it I get an exception I have all the stack defined in a Serverless yml file I have defined the GET method with IntegrationHttpMethod POST and I cannot see what is wrong with my implementation AWS API Gateway has another method that posts a message directly to AWS SQS and works properly "
54765370,"how can i connect my Heroku database with serverless framework","https://stackoverflow.com/questions/54765370/how-can-i-connect-my-heroku-database-with-serverless-framework","{serverless-framework,serverless,serverless-architecture}","2019-02-19 11:33:57+02","2024-05-17 05:13:34.494753+03","I am using serverless framework to create one of my ruby service as serverless My current infrastructure is using Ruby on rails framework Now i need to configure the database in serverless yml file So Any help regarding to this will be appreciated "
54778380,"Cognito permission to lambda function using serverless framework","https://stackoverflow.com/questions/54778380/cognito-permission-to-lambda-function-using-serverless-framework","{permissions,aws-lambda,amazon-cognito,serverless-framework}","2019-02-20 03:31:07+02","2024-05-17 05:13:35.582701+03","I tried giving my lambda function permission to access Cognito and also to invoke another lambda function using the following code in my serverless yml file The code When I added the permissions for dynamodb those got added to my lambda Role But the cognito permissions arent getting attached to the role The Serverless Framework handles the creation of role on its own based on the yml file Once the role gets created I can add the policy through the AWS console But the framework does not create them even after specifying "
54805730,"Serverless Framework with AWS cognito generates CORS error","https://stackoverflow.com/questions/54805730/serverless-framework-with-aws-cognito-generates-cors-error","{python,cors,aws-lambda,amazon-cognito,serverless-framework}","2019-02-21 11:12:31+02","2024-05-17 05:13:36.610731+03","I get this error message from the Angular frontend and I am not authorized to touch my lambda code I have looked everywhere and there seems to be no bug in my code My serverless code is I have triplechecked all the settings and everything seems correct Any advice what to do The functionality works in the dev environment but not when I deploy it to the test environment If I try the token directly against the API then it does not work either but worked fine in dev I do not even believe anymore that it is a CORS problem I think that the jwt token is wrong "
54807051,"Inconsistent ENOENT on npm rebuild looking for serverless","https://stackoverflow.com/questions/54807051/inconsistent-enoent-on-npm-rebuild-looking-for-serverless","{node.js,docker,npm,serverless-framework}","2019-02-21 12:26:00+02","2024-05-17 05:13:37.324801+03","Context I have a Lambda function which uses a native node module nodesnowball that requires compilation to run as I am running macOS the compiled code that runs on my local machine will not run in AWS Lambdas Amazon Linux environment For that reason I am using Docker and the lambcilambdabuildnodejs8 10 IMAGE to compile to code that will run on Lambda which I then deploy via Serverless Problem Inside my project directory with the compiled for mac node modules installed I run the container with the following command 910 times the compilation step completes successfully but then errors out on the node postinstall step with an ENOENT error looking for serverless full output below However looking in my project directory I can see the serverless files are there What makes this more confusing is that 110 times the operation will complete successfully without throwing any errors output below What could be causing this inconsistent behaviour and how can I fix it"
54823750,"how to resolve native gem dependencies for AWS Lambda function?","https://stackoverflow.com/questions/54823750/how-to-resolve-native-gem-dependencies-for-aws-lambda-function","{serverless-framework,serverless,ruby-2.5}","2019-02-22 09:19:40+02","2024-05-17 05:13:38.269907+03","I am using serverless framework with awsruby template In my Gemfile i have pg and nokogiri gem When I run bundle install deployment it actually creates a vendor folder in my current working directory and also build the dependency based on my local system environment I am having issue related to native extension error on AWS environment when i run my lambda function Any idea how can i resolve the native dependencies of ruby gems on AWS lambda environment"
54840576,"AWS serverless function is not responding with an image","https://stackoverflow.com/questions/54840576/aws-serverless-function-is-not-responding-with-an-image","{node.js,amazon-web-services,serverless-framework,aws-serverless}","2019-02-23 10:21:36+02","2024-05-17 05:13:39.267101+03","I am trying to have AWS API Gateway respond back with an image My Serverless Lambda code is the following serverless yml The image that is coming back is a black box "
54878346,"Getting request body as a string from API gateway, expecting JSON content","https://stackoverflow.com/questions/54878346/getting-request-body-as-a-string-from-api-gateway-expecting-json-content","{javascript,aws-api-gateway,serverless-framework,serverless}","2019-02-26 04:13:15+02","2024-05-17 05:13:39.780081+03","I have recently started to create a slack slash command bot for learning purpose I am getting the different format of request body from API gateway and nodejs app on EC2 server I just want to get JSON format of request body from API gateway How can get it Let us have a look at both the body format and serverless yml file First I have installed the serverless framework created the serverless yml file with the following code Now I have deployed it successfully However when I execute slack slash command I receive request body in string format from API gateway While for the same action I am getting JSON formatted request body in EC2 nodejs app So how can I get request body in JSON format from API gateway"
54882872,"Serverless conditional function deployment by region","https://stackoverflow.com/questions/54882872/serverless-conditional-function-deployment-by-region","{server,serverless-framework,aws-serverless}","2019-02-26 10:00:54+02","2024-05-17 05:13:41.372182+03","Following config is extracted from my serverless yml I want to deploy apiHandler and taskHandler function in only regiona And deploy alexaHandler in regionb regionc and regiond If I execute the command sls deploy region useast1 all three functions will be deployed but I do not need that I need only 2 functions to be deployed Any suggestion to deal with this requirement"
54894526,"Installing serverless with aws-go-dep not working","https://stackoverflow.com/questions/54894526/installing-serverless-with-aws-go-dep-not-working","{go,serverless-framework}","2019-02-26 21:38:12+02","2024-05-17 05:13:41.901155+03","I am just getting starting with Golang and Serverless I have basically gone through these steps on MacOS Not sure what I am doing wrong Also I followed the blog article for getting setup with the example httpsserverless comblogframeworkexamplegolanglambdasupport According to go env my path is GOPATHUsersddibiasemacbookgoUsersddibiasemacbookProjectscentiveapi There is not much helpful documentation online to get through this "
54900150,"Define role for both Http and websocket API in one serverlss.yml","https://stackoverflow.com/questions/54900150/define-role-for-both-http-and-websocket-api-in-one-serverlss-yml","{lambda,serverless-framework}","2019-02-27 07:27:11+02","2024-05-17 05:13:42.914705+03","I am using AWS Websocket API with serverless framework 1 38 0 and I want to deploy both http and websocket event lamda with single serverless yml and with one existing IAM role Hence for this I have declared role arn in provider tab but when I run sls deploy v it says error cannot read properties undefined My understanding is we can only define role arn at function level either for event type http or wss or vice versa Please help me how to define EXISTING role for both APIs either at global level or function level sample YAML configuration will really help My Sample YAML Thanks Ankur"
54912219,"Create SNS topic with email protocol and email address endpoint using serverless","https://stackoverflow.com/questions/54912219/create-sns-topic-with-email-protocol-and-email-address-endpoint-using-serverless","{python,aws-lambda,amazon-sns,serverless-framework,serverless}","2019-02-27 18:28:31+02","2024-05-17 05:13:44.209354+03","Creating Lambda functions using serverless and I am trying to create a SNS topic with Email protocol I want to then pass that arn as an ENV variable to a lambda function I cannot find any documentation other than appending a topic to function in the creation process Any helpexamples is appreciated I am working in python To elaborate the below would create a function with an sns topic attached Looking to do something like this does not work just an example Ideally the sns part would be created outside of the functions and the I could reference the sns arn and use it as a env var"
54921201,"Accessing Cognito user attributes from Appsync","https://stackoverflow.com/questions/54921201/accessing-cognito-user-attributes-from-appsync","{amazon-web-services,serverless-framework}","2019-02-28 08:22:14+02","2024-05-17 05:13:44.56797+03","Imagine that you have a simple AWS stack with Appsync Aurora RDS and Cognito Obviously Cognito manages the users registration process where each user has a few attributes let us say email first_name and last_name Also there is a table called users in Aurora RDS which among other columns has the cognito_id column where it stores the reference to the Cognito users IDs The last thing is AppSync GraphQL query that would list all the available users with fields that should come both from the users RDS table and Cognito attributes And that is where the question arises If it was needed to only fetch attributes from the users table the problem would be solved with some small and tidy SQL query that could be put into the AppSync VTL request template But since it is also required to get the attributes from the Cognito users pool things get complicated How could something like that be done in an efficient and scalable way Or is it a bad design and there is a better way to do it"
54930200,"How to deploy a Serverless function using Gitlab CI?","https://stackoverflow.com/questions/54930200/how-to-deploy-a-serverless-function-using-gitlab-ci","{environment-variables,gitlab-ci,serverless-framework}","2019-02-28 16:28:42+02","2024-05-17 05:13:45.484438+03","I am trying to deploy my Serverless function using a gitlabci yml file and to inject environment variables into my function I am using this format in my serverless yml file My serverless env yml file looks something like this My issue is that I am not committing my serverless env yml file which means Gitlab will not be able to use it to deploy the function I could alter the variables to this format envVARIABLE_KEY but this leaves me with the issue where the SUBNET_IDS are a list of values and does not work when resolving the value from an environment variable Is there a better way to define secrets within the project that is compatible with the Gitlab CI process"
54936032,"Testing Apollo graphql query on AWS lambda web console","https://stackoverflow.com/questions/54936032/testing-apollo-graphql-query-on-aws-lambda-web-console","{aws-lambda,serverless-framework,apollo-server}","2019-02-28 23:50:07+02","2024-05-17 05:13:46.076912+03","I can deploy and run successfully my lambda with a GraphqlClient in the URL https4er563if executeapi useast1 amazonaws comdevzipcodes As far as I understand that passes through the AWS API gateway that triggers the lambda the gateway takes the POST data and delivers it to the lambda But now I want to try the code directly on the Lambda browser console There is the option Configure test event where I can define and send a JSON string to the lambda but I do not know what info event and context should hold I tried but I am getting"
54945218,"AWS Lambda node-soap function (serverless framework)","https://stackoverflow.com/questions/54945218/aws-lambda-node-soap-function-serverless-framework","{node.js,aws-lambda,serverless-framework,node-soap}","2019-03-01 13:00:55+02","2024-05-17 05:13:47.687228+03","I am testing a call to a SOAP service using nodesoap library This works fine as a standalone node js app and the SOAP service responds however when I package the same code up as a serverless AWS lambda function using serverless framework but also executed directly in AWS lambda it doesnt appear to create the soap client Any thoughts on why this might be happening"
54946323,"Setting the env using a .env file in Serverless","https://stackoverflow.com/questions/54946323/setting-the-env-using-a-env-file-in-serverless","{serverless-framework}","2019-03-01 14:09:00+02","2024-05-17 05:13:48.108052+03","Using the Serverless framework I want to be able to change the AWS region from an envrionment variable Then AWS_REGION can be set to euwest2 However I want to have that set in a env file And then have that env read by Serverless There are many topics about setting variables in the serverless yml file and exporting them from that file but I want to put them into the file "
54947779,"Issue handling Lambda errors in Go","https://stackoverflow.com/questions/54947779/issue-handling-lambda-errors-in-go","{lambda,serverless-framework}","2019-03-01 15:34:27+02","2024-05-17 05:13:49.090679+03","I recently found an article that has a very specific suggestion for handling errors in Go and Lambda httpshackernoon comerrorhandlingwithapigatewayandgolambdafunctionsfe0e10808732 I am having trouble implementing it though I have taken their lambdaError struct and included it in my source On an error I am doing the following The error reads to logs properly however Lambda sends the request a 502 with the body Within serverless yml I added the template to my response Having trouble sorting this out could use a pointer or two "
55113512,"Run local lambda using python 3.7","https://stackoverflow.com/questions/55113512/run-local-lambda-using-python-3-7","{python,serverless-framework}","2019-03-12 03:04:16+02","2024-05-17 05:13:50.197715+03","I am trying to run a local lambda function using the command sls invoke local f marketingAnalytics but this throws me an error Here is my handler py same level of file serverless yml The import marketing analytics refers to file analytics py from module marketing This code is working on AWS I am using Python 3 7 2 Is there something that should be configured to enable run locally"
55129644,"API Gateway HTTP Proxy integration with serverless-offline (NOT Lambda Proxy)","https://stackoverflow.com/questions/55129644/api-gateway-http-proxy-integration-with-serverless-offline-not-lambda-proxy","{aws-api-gateway,serverless-framework,serverless,serverless-offline}","2019-03-12 19:50:47+02","2024-05-17 05:13:51.125923+03","I am trying to use serverlessoffline to develop simulate my API Gateway locally My API gateway makes liberal use of the HTTP proxy integrations The production Resource looks like this I have created a serverlessoffline configuration based on a few documents and discussion which say that it is possible to define an HTTP Proxy integration using Cloud Formation configuration I have adapted the above two configuration examples for my purposes see below Have any tips for what I might be doing wrong here For the above configuration I get this output Apparently the configuration registers no routes at all Related I am also attempting to solve the same problem using awssam at the following post API Gateway HTTP Proxy integration with awssam NOT Lambda Proxy "
55130796,"Serverless offline not getting route","https://stackoverflow.com/questions/55130796/serverless-offline-not-getting-route","{serverless-framework,serverless}","2019-03-12 21:18:49+02","2024-05-17 05:13:52.545794+03","I have a serverless project that I just newly initialized severless yml And I run it with sls offline port 8080 and in my handler ts I hit up this endpoint on Postman locally and it does not seem to work All I get is some HTML saying Cannot GET hello I have tried making GET requests to httplocalhost8080devhello or httplocalhost8080hello and I still get the same errors Am I doing something wrong here"
55357793,"Serverless - use same bucket from other stack in my current stack","https://stackoverflow.com/questions/55357793/serverless-use-same-bucket-from-other-stack-in-my-current-stack","{serverless-framework}","2019-03-26 12:58:52+02","2024-05-17 05:14:11.43639+03","I have 2 stacks running on serverless using AWS Cloud and I want to share S3 Bucket between stack A and stack B On stack A I have exported the output as follow And on stack B I am trying to import it Something is wrong because when I try to deploy it I got the following error How can I share a bucket between stacks"
55145405,"Is there a way to generate YAML instead of JSON CloudFormation templates using the Serverless Framework?","https://stackoverflow.com/questions/55145405/is-there-a-way-to-generate-yaml-instead-of-json-cloudformation-templates-using-t","{serverless-framework,serverless}","2019-03-13 15:20:05+02","2024-05-17 05:13:52.967356+03","The Serverless framework is such a great tool I use it wherever possible I would like to know if there is a way to update the serverless yml file to output yaml instead of json when generating CloudFormation templates In the serverless folder they are in json format but would really be great if they can be autogenerated to yaml instead I would not prefer to use great tools like httpswww json2yaml com Any help greatly appreciated "
55151331,"AWS Lambda error ""Cannot find module 'mongodb'""","https://stackoverflow.com/questions/55151331/aws-lambda-error-cannot-find-module-mongodb","{node.js,serverless-framework}","2019-03-13 21:15:25+02","2024-05-17 05:13:55.082429+03","I have successfully deployed my function to AWS When trying to invoke the function serverless invoke f facebookAdInsert l I get the following error Here are my dependencies Any ideas as to what the issue could be Based on my research possible solutions were running npm install before deploying and moving all devDependencies to dependencies but those have not worked "
55151807,"serverless-offline: remote Lambda custom authorizer for API Gateway","https://stackoverflow.com/questions/55151807/serverless-offline-remote-lambda-custom-authorizer-for-api-gateway","{aws-lambda,aws-api-gateway,serverless-framework,serverless,serverless-offline}","2019-03-13 21:58:07+02","2024-05-17 05:13:55.889811+03","I have declared an HTTP Proxy method on my API Gateway resource using CloudFormation syntax detailed in this earlier post I am trying to attach a custom authorizer of type Request which uses an existing AWS Lambda function The serverless docs have a decent example of setting up custom authorizers using CloudFormation Meanwhile serverlessoffline clearly supports source requestscoped custom authorizers I have closely crossreferenced the relevant AWS CloudFormation documentation for AWSApiGatewayResource and AWSApiGatewayAuthorizer together with the related serverless docs in creating the below serverless template But so far I am not getting the expected output or behavior from serverlessoffline When I boot up the below serverless configuration no authorizers are loaded for my resource I do not see what is wrong or missing in my serverless yml file Do you have any tips Thanks in advance The below template file includes the APIG resources and the authorizer configuration Related"
55156501,"Set Request Validator of API Gateway by serverless","https://stackoverflow.com/questions/55156501/set-request-validator-of-api-gateway-by-serverless","{swagger,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2019-03-14 06:49:13+02","2024-05-17 05:13:56.715866+03","I want to set Request Validator of API Gateway by serverless I tried two different settings for the Request Validator But both methods have failed I have summarized what I did so please let me know if there is something wrong swagger yaml is below My serverless yml is below"
55160576,"serverless rate is working but cron is not working","https://stackoverflow.com/questions/55160576/serverless-rate-is-working-but-cron-is-not-working","{cron,serverless-framework}","2019-03-14 10:48:44+02","2024-05-17 05:13:57.805146+03","In serverless yml I want to get this function is working at 1028 of 15th every month with UTC When rate 1 minute instead of cron it is worked well Plugin serverlessofflinescheduler I want to know that whether serverless supports cron with exact time If someone can fix this error please let me know "
55161871,"Rate Exceeded on AWS Lambda Using API Gateway and serverless framework","https://stackoverflow.com/questions/55161871/rate-exceeded-on-aws-lambda-using-api-gateway-and-serverless-framework","{amazon-web-services,lambda,aws-api-gateway,serverless-framework}","2019-03-14 11:53:39+02","2024-05-17 05:13:58.667308+03","When I try to invoke a method that has a HTTP event it results in 500 Internal server error On CloudWatch logs it shows Recoverable error occurred Rate Exceeded When I try invoke a function without lambda it executes with response Here is my serverless config"
55168878,"Decrypting keys from aws-kms in Ruby","https://stackoverflow.com/questions/55168878/decrypting-keys-from-aws-kms-in-ruby","{node.js,ruby,serverless-framework,amazon-kms}","2019-03-14 17:39:58+02","2024-05-17 05:13:59.573206+03","Im using serverlesskmssecrets on serverless frameword to set some ENV variables I want to consume using Ruby I can confirm that the plugin works perfectly it generated the file with the encrypted variable and I can see the encrypted variable in my environment on AWS lambda The problem is that I cant decrypt it in Ruby The code that decrypts it correctly in the plugin is here I understand it gets the string saved in the file and encodes it using Base64 so no big deal In Ruby The client should get my credentials automatically but Im not sure I understand how the keyArn is used doesnt look relevant though Does anybody have any idea how to solve this"
55174070,"Running Wand on lambda return ImageMagick in the system is likely to be impossible to load liblqr","https://stackoverflow.com/questions/55174070/running-wand-on-lambda-return-imagemagick-in-the-system-is-likely-to-be-impossib","{aws-lambda,imagemagick,serverless-framework,wand}","2019-03-15 00:49:38+02","2024-05-17 05:14:00.566264+03","Trying to run wand library to resize image image using liquid resize in serverless framework when invoke the function locally it works fine but running on Lambda results in the following error"
55194185,"How can I customize the deployment bucket name for Google Cloud via the Serverless Framework?","https://stackoverflow.com/questions/55194185/how-can-i-customize-the-deployment-bucket-name-for-google-cloud-via-the-serverle","{google-cloud-functions,serverless-framework}","2019-03-16 06:46:34+02","2024-05-17 05:14:01.720625+03","Is there a way to use a predefined bucket using serverless and gcp I tried using but it ignores it and create it is own bucket "
55223865,"How to use Stage Variables in API gateway to point to different lambda functions with the serverless framework","https://stackoverflow.com/questions/55223865/how-to-use-stage-variables-in-api-gateway-to-point-to-different-lambda-functions","{aws-lambda,aws-api-gateway,serverless-framework}","2019-03-18 14:38:22+02","2024-05-17 05:14:02.702039+03","I have been trying to automate my serverless deployment and found this article about how you can use stage variables to point to different functions I thought this is great and would make stages useful However I cannot find any documentation on it from serverless com and was wondering how others have tackled this issue Our back up plan is to change the path it is deployed to instead of using stages "
55774522,"How to Pass integer as variable to Wait Type of State in aws-step-function using serverless.io framework and the serverless.yml file","https://stackoverflow.com/questions/55774522/how-to-pass-integer-as-variable-to-wait-type-of-state-in-aws-step-function-using","{serverless-framework,serverless,aws-step-functions}","2019-04-20 14:39:35+03","2024-05-17 05:14:33.119054+03","In serverless yml I am using AWS step function and one of the state is Wait where I am trying to use the output from other state but the generated CFT puts \ around the variable and so the deploy of that state engine is failing How to handle this I get below error Invalid State Machine Definition SCHEMA_VALIDATION_FAILED Expected value of type Integer at StatesWaitTillSeconds Tried putting a hard coded integer value and it works fine sls version is 1 38 0"
55299255,"What interface should a Serverless scheduled java function implement?","https://stackoverflow.com/questions/55299255/what-interface-should-a-serverless-scheduled-java-function-implement","{java,amazon-web-services,serverless-framework}","2019-03-22 12:04:59+02","2024-05-17 05:14:03.776094+03","I am trying out writing a Java AWS Lambda using Serverless While my Lambdas triggered by HTTP endpoints deploy and work correctly my attempt at at scheduled one fails The config looks like from serverless yml If I try to implement RequestHandler like The logs complain that An error occurred during JSON parsing java lang RuntimeException java lang RuntimeException An error occurred during JSON parsing Caused by java io UncheckedIOException com fasterxml jackson databind JsonMappingException Can not construct instance of com amazonaws Request I assume because the scheduled event is not passing in a Request object but something specific to a scheduled trigger But if I do not implement an interface which the AWS docs suggest is fine the AWS logs complain Class does not implement an appropriate handler interface com serverless TimedHandler Is there a specific AWS interface I need to implement for a scheduled lambda that passes in appropriate arguments"
55303733,"Decompress-zip emit anything in this Express route, why?","https://stackoverflow.com/questions/55303733/decompress-zip-emit-anything-in-this-express-route-why","{node.js,express,zip,serverless-framework,aws-serverless}","2019-03-22 16:12:00+02","2024-05-17 05:14:04.758037+03","Maybe I am just tired but I cannot figure out why this will not work This is an express route running on AWS Lambda using the serverless framework serverlesshttp I am using Multer to handle the file upload and that seems to be working fine I can see the file is uploaded and available I am deriving most of the file path from the req file property that multer created This code does not console log anything in my cloudwatch logs no error no extraction complete no IN HERE from the filter on unzipper extract I have tested with fs exists to ensure the file does actually exist it does and when I intentionally use a fake filename the error is accurately emitted What is going on"
55307194,"How should I post a file to AWS Lambda function, process it, and return a file to the client?","https://stackoverflow.com/questions/55307194/how-should-i-post-a-file-to-aws-lambda-function-process-it-and-return-a-file-t","{amazon-web-services,aws-lambda,multer,serverless-framework}","2019-03-22 20:14:49+02","2024-05-17 05:14:05.368785+03","I am using serverlesshttp to make an express endpoint on AWS Lambda pretty simple in general The flow is basically I am not stuck on this flow 100 but that is the gist of what I am trying to do Lambda functions SHOULD give me access to tmp for storage so I have tried messing around with Multer to store files there and then read the contents I have also tried the decompresszip library and it seems like the files never work I have even tried just uploading an image and immediately sending it back It sends back an files called incoming [extension] but it is always corrupt Am I missing something Is there a better way to do this"
55320558,"Why I’m getting an `AccessDenied` when trying to upload to my S3 bucket with `PutObject` permissions?","https://stackoverflow.com/questions/55320558/why-i-m-getting-an-accessdenied-when-trying-to-upload-to-my-s3-bucket-with-pu","{amazon-web-services,amazon-s3,amazon-iam,serverless-framework}","2019-03-24 03:46:57+02","2024-05-17 05:14:06.806901+03","Any idea why Im getting an AccessDenied error when trying to upload to my S3 bucket serverless yml I am trying to add a file to S3 with publicread permissions "
55326585,"Use Telegram Database Library (TDLib) in GCP Functions or AWS Lambda with JavaScript","https://stackoverflow.com/questions/55326585/use-telegram-database-library-tdlib-in-gcp-functions-or-aws-lambda-with-javasc","{javascript,aws-lambda,google-cloud-functions,telegram,serverless-framework}","2019-03-24 17:36:16+02","2024-05-17 05:14:07.305526+03","The main project is to have a Telegram Application that would read the groupssupergroups I am signed up for and forward all new posts to the group that I own I need to implement it in serverless environment meaning running through GCP Functions or AWS Lambda I have a solution that does that with the local setup I had to compile TDLib for Mac OS X but it seems I only needed tdjson library for using with the code provided in this example This solution obviously requires the script to be running in the console and the moment I shutdown the computer all forwarding stops I am not very good at Python but I can rewrite that in JavaScript There are Node js wrappers for TDLib but what I cannot understand is how to useconnect it to the serverless functions like Lambda and GCP Functions Namely I cannot understand whether I need to compile the library for some specific environment and where I need to store it for the Functions to be able to access it There is an example of setting Node environment on Lambda with Serverless but I cannot seem to be able to extrapolate that to my situation "
55349017,"How to remove last element in set in dynamo?","https://stackoverflow.com/questions/55349017/how-to-remove-last-element-in-set-in-dynamo","{node.js,amazon-dynamodb,serverless-framework}","2019-03-26 02:30:06+02","2024-05-17 05:14:08.192228+03","I have created a set using dynamoDB document client I am able to remove items in this set however when i remove to the last element in the set nothing returns until i make a new post Then all the other data is displayed and im calling it like const dynamoPromise dynamodb update params promise return await dynamoPromise then result stuff The UpdateExpression i do not think is wrong httpsdocs aws amazon comamazondynamodblatestdeveloperguideExpressions UpdateExpressions htmlExpressions UpdateExpressions DELETE I belive the problem is with ExpressionAttributeValues if i remove dynamodb createSet I get many validation errors When i make a get request to app i get I make a delete request and remove the feature test from username x This works and returns the same response minus the test feature I make another delete request to remove blah Blah is removed however when I make a get request I recieve The other data is returned when i make a new post to that specific user EDIT I think the issue might be due to dynamo not liking an empty set"
46010926,"How to use webpack with a monorepo (yarnpkg workspaces)","https://stackoverflow.com/questions/46010926/how-to-use-webpack-with-a-monorepo-yarnpkg-workspaces","{node.js,express,webpack,yarnpkg}","2017-09-02 05:58:49+03","2024-05-17 05:14:09.317294+03","I am using yarn workspaces where the root directory has a package directory with all my repos Each repo has its own node_modules directory containing its dependencies The root node_modules directory contains all the dev dependencies for the whole project as well as all other dev related things such as webpack config files Webpack uses hot module reload for the express server package The problem I have is how to configure webpack externals to exclude all node_modules directories through the whole project not just in the root webpacknodeexternals does not seem to work given this scenario Error message Webpack config"
55353752,"How to get the variables inside a function as a global variables?","https://stackoverflow.com/questions/55353752/how-to-get-the-variables-inside-a-function-as-a-global-variables","{javascript,node.js,serverless-framework,alibaba-cloud}","2019-03-26 09:31:49+02","2024-05-17 05:14:10.299311+03","I am getting http post message but cannot get the body outside the getRawBody function Here is my code The first console log outputs the correct JSON like id ddeklj But the second console log outputs is undefined My question is How can I get the variables object from the function"
55366403,"failure on serverless deploy Template format error: Unresolved resource dependencies","https://stackoverflow.com/questions/55366403/failure-on-serverless-deploy-template-format-error-unresolved-resource-dependen","{serverless-framework,serverless,aws-serverless}","2019-03-26 21:23:53+02","2024-05-17 05:14:12.435519+03","all As it said in the title I just delete all the cloudformation stack and try to do the fresh deploy again but when I run the sls deploy verbose it shows the error The CloudFormation template is invalid Template format error Unresolved resource dependencies [ServerlessDeploymentBucket] in the Resources block of the template For debugging logs run again after setting the SLS_DEBUG environment variable I double check my serverless yml file but found I dont define a bucket with Name ServerlessDeploymentBucket Then I go to the AWS console after clicking my root stack I am using the serverlesssplitstack plugin there is only a simple template while actually in my origin serverless yaml there are more than 1200 lines Quite wondering what is the error related to the serverless Appreciated for anyone could help Thanks Edit there are a bunch of plugin I am using which maybe useful for troubleshooting the error Regards "
55390461,"Making an HTTPs request on AWS ApiGatewayV2 websocket connection to Respond, or Delete it","https://stackoverflow.com/questions/55390461/making-an-https-request-on-aws-apigatewayv2-websocket-connection-to-respond-or","{node.js,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-03-28 04:58:56+02","2024-05-17 05:14:13.369726+03","This issue is partially resolved the problem now lies in authenticating the ApiGateway request I am unsure of how to acquire the necessary tokens to send with the request so that it is valid because this is a [serverlessframework] service so I cannot use the AWS Console to copy paste the tokens into the requests json data Moreover I would not know what json key they would have to be under anyways So I guess this question has changed considerably in scope I need to responddelete an active websocket connection established through AWS ApiGatewayV2 in a Lambda How do I use node js to send a POST request that ApiGateway can understand I saw on the websocket support announcement video that you could issue an HTTP POST request to respond to a websocket and DELETE request to disconnect a websocket Full table from the video transcribed here this is not documented anywhere else AFAIK Seeing as the AWS SDK does not provide a deleteConnection method on ApiGatewayManagementApi I need to be able to issue requests directly to the ApiGateway anyways When I use wscat to test it out this code results in the console log showing up in CloudWatch And wscat says But does not print hello world or similar I was missing in the response handler which was breaking things This still doesnt work though "
55397592,"Update lambda function code (created using the console) using serverless framework","https://stackoverflow.com/questions/55397592/update-lambda-function-code-created-using-the-console-using-serverless-framewo","{aws-lambda,serverless-framework}","2019-03-28 12:26:05+02","2024-05-17 05:14:14.258541+03","I have created a lambda function from the console test_lambda_function and updated it with sample code as shown below I would like to now update the functions code using the serverless framework PFA my serverless template I am trying to deploy the template using the following command sls deploy I am getting an error that says the lambda function already exists and the command is failing Can anyone help me out here I have created a lot of lambda functions earlier and now I wish to use this serverless framework in my CICD pipeline Thanks in advance "
55400408,"AWS Cognito and DynamoDB, Authentication with Many to Many Relationships","https://stackoverflow.com/questions/55400408/aws-cognito-and-dynamodb-authentication-with-many-to-many-relationships","{amazon-web-services,amazon-dynamodb,amazon-cognito,serverless-framework}","2019-03-28 14:42:50+02","2024-05-17 05:14:15.894764+03","I am building an API in Node with Serverless on AWS There is a Many to Many Relationship between Projects and Users What is the best way to ensure that when a user makes a request the projectID that they are requesting belongs to them Authentication is handled by Cognito in DynamoDB I have a Partition Key that holds the cognitoIdentityId and the Sort Key holds the projectId My current thinking is that each time the API is called I check in DynamoDB for the Partition Key and the Sort Key and if that returns as true it means that the user has access to the project and I proceed with the other requests However I am not sure if this is particularly efficient or if there are better ways that this can be achieved"
55422052,"Serverless Framework - Lambda to call another lambda without being through API Gateway","https://stackoverflow.com/questions/55422052/serverless-framework-lambda-to-call-another-lambda-without-being-through-api-g","{python,amazon-web-services,aws-lambda,serverless-framework}","2019-03-29 16:48:48+02","2024-05-17 05:14:16.225179+03","I am building the following architecture a user posts a string to API Gateway which in turn calls a Lambda function using that string as input This Lambda function writes the string to DynamoDB After that this Lambda function calls another Lambda function passing as input the id of the item inserted into DynamoDB and returns a 200 status code To call the second Lambda function I use How should I configure serverless yml for the second Lambda in order for it not to use API gateway I do not want to use API Gateway because it limits the Lambda to finish in 30 seconds For instance to use API Gateway I would just do this What is the alternative to that"
55431794,"MongoDB Change Stream watcher has been fired on second execution of aws-lambda function or has not been fired at all","https://stackoverflow.com/questions/55431794/mongodb-change-stream-watcher-has-been-fired-on-second-execution-of-aws-lambda-f","{node.js,mongodb,aws-lambda,serverless-framework}","2019-03-30 13:13:44+02","2024-05-17 05:14:16.821073+03","I am building Angular PWA app with nodejs server After few investigations I decided to put my frontend on S3 and backend on awslambda using serverlessframework and connect it with mongo atlas In my backend I use mongoose watch to listen for appropriate changes in my DB On change happenes I use FCM to send data to device according to token Once app is launched I send 34 requests different pathes to get data from my DB So here is my issue If I use sls offline start skipCacheInvalidation to work locally everything works almost fine I received 2 or more dublications so it seems like each my starting requests begin awslambda function Once I sls deploy I get all my starting data but once I update DB by another request in awslambda logs streams I do not see that my code reach on change listener And awslambda request execution ends Sometimes my code reaches this listener and print change stream data of my previous request Here is part of my serverless yml server js app js db js and my quotewatcher js"
55434944,"serverless function can be deployed on AWS, invoked locall but not on found on AWS","https://stackoverflow.com/questions/55434944/serverless-function-can-be-deployed-on-aws-invoked-locall-but-not-on-found-on-a","{aws-lambda,serverless-framework}","2019-03-30 19:24:23+02","2024-05-17 05:14:17.796977+03","I am a bit puzzled and would really appreciate some help I am new to serverless and would like to play around with it a bit I have followed this tutorial to setup a serverless test function I have also mentioned to deploy my function to AWS Invoking locally works perfect However invoking on AWS failes as the function is not found Finally here is my serverless yml file"
55454539,"Serverless - Running an Express instance in a Lambda function, good or bad?","https://stackoverflow.com/questions/55454539/serverless-running-an-express-instance-in-a-lambda-function-good-or-bad","{aws-lambda,serverless-framework,serverless,aws-serverless}","2019-04-01 11:55:50+03","2024-05-17 05:14:18.730838+03","While learning the Serverless Framework I came across several tutorials showing how to run an Express instance in a Lambda This seems to me like an overkill and against the purpose of Lambda functions The approach usually involves running an Express instance in the Lambda and proxying API Gateway requests to the Express router for internal handling To me the trivial approach is to just create an API in API Gateway and route individual requests to a Lambda for handling Am I missing something Taking into account that Lambdas execution time is 15 minutes is not just spinning up the Express instance quite expensive in terms of memory Also limited to 100 concurrent Lambda executions would create a bottleneck no Would not an EC2 instance be a better fit in such case Using a Lambda like this seems like an overkill The only two benefits I see in running an Express instance in a Lambda are What would be the benefit of such approach in case I am missing something Some resources promoting this approach"
55482627,"AWS Cognito User Cannot Invoke Lambda (403 Not Authorized)","https://stackoverflow.com/questions/55482627/aws-cognito-user-cannot-invoke-lambda-403-not-authorized","{amazon-web-services,aws-lambda,amazon-dynamodb,amazon-cognito,serverless-framework}","2019-04-02 19:58:07+03","2024-05-17 05:14:19.78841+03","Ive created a set of AWS Lambdas using the Serverless framework and a React app which calls these A user pool and an identity pool have been setup in AWS Cognito and a table in DynamoDB I have followed the tutorial on serverlessstack com It is a simple notes app The client app is deployed to httpsdev cakebook co The API is deployed httpsapi cakebook codevorders However after I log in using this Cognito user [email protected] Passw0rd I get a 403 response for the GET of the orders I am new to all this but it looks like my Cognito user does not have permission to call the Lambda or API gateway Is that the issue If so how do I give the users permission to call the Lambdas UPDATE requested JSON Execution Role Function Policy"
55496081,"How to resolve ""specified origin access identity does not exist or is not valid""","https://stackoverflow.com/questions/55496081/how-to-resolve-specified-origin-access-identity-does-not-exist-or-is-not-valid","{amazon-s3,amazon-cloudfront,serverless-framework,serverless}","2019-04-03 13:13:02+03","2024-05-17 05:14:20.474066+03","I have a problem with these lines in my serverless yml file I am using the Serverless plugin serverlesssinglepageappplugin I want use s3OriginConfig and disable access through the S3 bucket I can do this manually But I want to get the effect as in the picture below"
55499975,"serverless dynamodb enable continuous backups","https://stackoverflow.com/questions/55499975/serverless-dynamodb-enable-continuous-backups","{amazon-dynamodb,serverless-framework,aws-serverless,serverless-plugins}","2019-04-03 16:26:00+03","2024-05-17 05:14:21.424128+03","How do I enable continuous backups for my DynamoDB table when using the Serverless Framework Ideally I would define something in serverless yml that would enable automatic DynamoDB backups"
55500247,"How to pass multiple get parameters in my lambda function?","https://stackoverflow.com/questions/55500247/how-to-pass-multiple-get-parameters-in-my-lambda-function","{java,amazon-web-services,path,aws-lambda,serverless-framework}","2019-04-03 16:43:03+03","2024-05-17 05:14:22.529502+03","I have multiple GET parameters so how should i pass in lambda function and how would my serverless yml look like Currently below is the configuration serverless yml Also how should i call in sls invoke local I have tried without the paramsIt is not working in serverless"
55654880,"Writing authorizers for serverless framework in Ruby","https://stackoverflow.com/questions/55654880/writing-authorizers-for-serverless-framework-in-ruby","{ruby,lambda,serverless-framework}","2019-04-12 15:22:49+03","2024-05-17 05:14:23.854569+03","I am attempting to write an authorizer to protect calls to a lambda using the serverless framework I am using Ruby Configuration The authorizer The authentication I would like to implement is token based the is_authorized method would receive the token and then return a policy that would allow access to the protected lambda function I am not entirely sure what goes in the PrincipalId argument I have no user id Right now it complains that seekerdevauthorize is not authorized to perform iamCreatePolicy on resource policy seekerallowed which leaves me quite confused I cannot create a policy on the policy And where should I set this permission On IAM or serverless yml Because I have set the permissions to encodedecode keys in serverless maybe I should do the same with this"
55667376,"Serverless Toolkit for Private Lambda Functions","https://stackoverflow.com/questions/55667376/serverless-toolkit-for-private-lambda-functions","{aws-lambda,serverless-framework,aws-code-deploy,aws-serverless}","2019-04-13 16:03:36+03","2024-05-17 05:14:24.428893+03","Using the serverless toolkit serverless com I would like to deploy some AWS Lambda functions that are used for internal purposes only private API Gateway events can be set to private requiring a key however the endpoint would still be exposed to the public and add overhead of gateway to invocations I was hoping to find some invocation event such as RPC What event type can I use with serverless to invoke a nonpublicly exposed Lambda function during deploys in CodePipeline or manual invocation"
55667603,"Creating AWS Cognito User Pool from serverless.yml","https://stackoverflow.com/questions/55667603/creating-aws-cognito-user-pool-from-serverless-yml","{amazon-web-services,amazon-cognito,serverless-framework}","2019-04-13 16:30:12+03","2024-05-17 05:14:25.319203+03","I am trying to use an AWS Cognito User Pool for user authentication but I cannot seem to figure out how to create one from the serverless yml file I know that to create other resources you do something like I am assuming that I just need to change the type to AWSCognitoUserPool and change the properties However I have no idea what to change it to "
55669010,"How do I post a test Kinesis event from Postman to a local Lambda function running on serverless?","https://stackoverflow.com/questions/55669010/how-do-i-post-a-test-kinesis-event-from-postman-to-a-local-lambda-function-runni","{aws-lambda,serverless-framework,amazon-kinesis}","2019-04-13 19:14:43+03","2024-05-17 05:14:26.364724+03","Sorry was not sure how to make the question itself brief enough I can post data from Postman to my local Lambda function The issue is that when running locally I have use this line of code so that I can do this But when I deploy the function to AWS parsing event body is unnecessary In fact it throws an error I was assuming that there is something different about the JSON or other aspects of the request that I am posting from Postman to my local app when compared to what Kinesis actually sends But the JSON blob I am posting locally was logged directly from Lambda on AWS to Cloudwatch I am missing something TBH this only matters because having to comment out that line as a step in the deployment process is annoying and errorprone Heres the JSON names have been changed to protect the innocent "
55692683,"DynamoDB, can't save encrypted data, ""not authorized to perform: kms:GenerateDataKey on resource""","https://stackoverflow.com/questions/55692683/dynamodb-cant-save-encrypted-data-not-authorized-to-perform-kmsgeneratedat","{amazon-dynamodb,serverless-framework,amazon-kms}","2019-04-15 15:35:58+03","2024-05-17 05:14:27.377558+03","I am trying to save encrypted data to DynamoDB with the help of the Amazon DynamoDB Encryption Client for Java I also use the Serverless framework to deploy my application some Lamdba functions using DynamoDB The AWS Lamdba functions are written in Kotlin I have this in my serverless yml in the iamRoleStatements section under the provider section Effect Allow Action kmsGenerateDataKey Resource I thought that it should be enough but I am getting this error when I am trying to save encrypted data to DynamoDB com amazonaws services kms model AWSKMSException User arnawssts120102300450assumedroleappnameusernameeuwest1lambdaRoleappnameusernamefunctionname is not authorized to perform kmsGenerateDataKey on resource arnawskmseuwest1120102300450key12d3f45c6fff0007b1235bfe5678e012 Service AWSKMS Status Code 400 Error Code AccessDeniedException Request ID the alphanumeric IDs are obfuscated here to not disclose real data I also tried to add several other KMS permissions but it did not help Effect Allow Action kmsGenerateDataKey kmsGenerateDataKeyWithoutPlaintext kmsCreateAlias kmsCreateKey kmsDecrypt kmsEncrypt kmsEnableKey kmsUpdateAlias Resource So the whole purpose of the Amazon DynamoDB Encryption Client for Java cannot be achieved in this case What is missing here"
55699768,"How to fix mongoose typescript error on AWS lambda?","https://stackoverflow.com/questions/55699768/how-to-fix-mongoose-typescript-error-on-aws-lambda","{typescript,mongoose,serverless-framework}","2019-04-16 02:36:04+03","2024-05-17 05:14:28.951659+03","I am trying to set up a simple call to a Mongo Atlas Database using the serverless framework AWS lambda and mongoose I am currently set up using the latest command from serverless for typescript create t awsnodejstypescript serverless yaml tsconfig json I have a file that is imported to handle the actual connection connect ts which is then imported to my handler functions handler ts When I deploy this to AWS lambda and try to test I get the following error along with the following Log It looks like this is an error from compilation or from something not being imported correctly I have tried different versions of importing or requiring mongoose but nothing seems to work Any help would be appreciated "
55704912,"AWS Lambda function on Java with Serverless framework and GraalVM","https://stackoverflow.com/questions/55704912/aws-lambda-function-on-java-with-serverless-framework-and-graalvm","{java,amazon-web-services,aws-lambda,serverless-framework,graalvm}","2019-04-16 09:32:01+03","2024-05-17 05:14:29.466573+03","I know that there is an ability to create AWS Lambda functions on Java using Serverless framework Basic configuration in serverless yml usually looks something like But with coming of GraalVM and nativeimage compilation for Java I look for the ability to build AWS Lambda functions written on Java using GraalVM and deploy it with Serverless Does Serverless framework already support native Java images feature"
55744177,"using custom vpc instead of default vpc in aws lambda serverless framework","https://stackoverflow.com/questions/55744177/using-custom-vpc-instead-of-default-vpc-in-aws-lambda-serverless-framework","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,amazon-vpc}","2019-04-18 10:32:17+03","2024-05-17 05:14:30.385672+03","There are two vpcs default that comes when an account is created and another one created by me in my aws account i wanted to deploy my lambda function in custom created vpc rather than in default vpc above creates the lambda function in default vpc serverless docs does not contain the way of specifying custom vpc in serverless yml"
55749067,"Can I deploy my azure function on a normal VM?","https://stackoverflow.com/questions/55749067/can-i-deploy-my-azure-function-on-a-normal-vm","{c#,azure,serverless-framework}","2019-04-18 15:16:41+03","2024-05-17 05:14:31.227211+03","A client would like to go to the cloud in the future but I would like to start working on new devs using Azure Functions locally using the func exe Is there a way that I can deploy my azure functions code to a normal VM running normal IIS not Azure itself and have it working on Prod This will make it easy to go to Azure when the client gives his go ahead"
55768817,"Correct way to call a lambda in serverless (nodejs 8)","https://stackoverflow.com/questions/55768817/correct-way-to-call-a-lambda-in-serverless-nodejs-8","{node.js,amazon-web-services,aws-lambda,jestjs,serverless-framework}","2019-04-19 23:15:56+03","2024-05-17 05:14:31.790466+03","I have read some guides and because I am a noob and also pretty stupid I still cannot see a way to actually correctly locally invoking a Lambda in serverless I started by implementing a really basic lambda function below I am not using DynamoDB yet but I want to get to that I just need the basic call working first and then I set up a very simple Jest unit test that calls the lambda function above I have tried various ways of making the call const result lambda put event context invoking the lambda just with its name recasting the object as a function and tons of others but all I ever get is variations on the error or I feel like I am just missing one bit of information that the guides I linked to are not saying Does anyone know how to get this working As I hope is obvious I am eventually targeting node js 8 1 on AWS Lambda thanks"
55769484,"Unable to send email using SES/Lambda but code works on a container","https://stackoverflow.com/questions/55769484/unable-to-send-email-using-ses-lambda-but-code-works-on-a-container","{node.js,aws-lambda,amazon-ses,serverless-framework,nodemailer}","2019-04-20 01:31:23+03","2024-05-17 05:14:32.568161+03","I have a lambda function that takes in a bunch of info and does some stuff then is to send an email using SES I currently have the code that sends the email working in a container but I have decided that I want to use AWS step functions so am converting it to Lambda functions In theory there should be no major differences yet I cannot get emails to send Requiring the function which sends the email const sendEmail require utilssendEmail The first line of the lambda function declaring the function module exports sendFirstAlert async event context callback Calling the sendEmail function await sendEmail Joshs Email fromEmail toEmail Alert message Note for this the ` was swapped for just for SO formatting but is working fine in the code The utilssendEmail So inside the send email function I have those 3 console log statements Only the third one gets called The firstsecond is not being called This exact code minus the console log is working perfectly fine in a container I am using the node serverless framework to create my steplambda function s I have set AWS SES permissions wide open for this testingresolving this issue not prod The ENV variables I am trying to call is working perfectly fine The function is getting all of the required parts from to subject message correctly and in the correct formats I also am using the same API keys as in the container so should be fine to send emails considering that the email I am sending to is the same in the lambda function as in the container Any ideas what might be wrong"
55784236,"Is there any way not to get a null return when query over a sort key in dynamodb using nodejs and serverless framework?","https://stackoverflow.com/questions/55784236/is-there-any-way-not-to-get-a-null-return-when-query-over-a-sort-key-in-dynamodb","{node.js,aws-lambda,amazon-dynamodb,serverless-framework}","2019-04-21 15:47:34+03","2024-05-17 05:14:33.886541+03","I am querying a dynamodb table with a partion key and a sort key using serverless framework and nodejs I am not sure to be using a correct syntax because if y add a condition over the sort key I am always getting a null result I am trying this I should be seeing some output or even a [] there are registers that match the query but getting a null and"
55785733,"Can we use AWS amplify only for its react library (components) but not the backend cli?","https://stackoverflow.com/questions/55785733/can-we-use-aws-amplify-only-for-its-react-library-components-but-not-the-backe","{reactjs,serverless-framework,aws-amplify}","2019-04-21 18:51:46+03","2024-05-17 05:14:34.508239+03","We are trying to use amplify only for the react components in its library But as we understand Amplify is more of a serverless backend configuration tool amplifycli see httpsawsamplify github iodocsjsreact Can we use our own backend configuration such as serverless com"
55787756,"Howto pass correct JSON Event in Jest test of AWS Lambda local invocation","https://stackoverflow.com/questions/55787756/howto-pass-correct-json-event-in-jest-test-of-aws-lambda-local-invocation","{node.js,aws-lambda,jestjs,serverless-framework}","2019-04-21 23:55:22+03","2024-05-17 05:14:35.492588+03","I have a lambda in node js which works in production The problem arises when trying to set up a local test of the Lambda I am using the Serverless framework The problem is that I cannot seem to feed any format of the event that does not either produce so its undefined when I do this or produces when I try this So it seems that either way I go I get an error So what do I pass into the test as the event so that JSON parse event works"
55810868,"PHP SDK not sending errors to Sentry when invoked from IBM Cloud Functions","https://stackoverflow.com/questions/55810868/php-sdk-not-sending-errors-to-sentry-when-invoked-from-ibm-cloud-functions","{php,ibm-cloud,serverless-framework,sentry,openwhisk}","2019-04-23 12:05:52+03","2024-05-17 05:14:36.103622+03","I am using Serverless framework to deploy my PHP code as IBM Cloud Function Here is the code from the action PHP file And this is the serverless yml file When I test the action handler from my local environment NGINXPHP Docker containers the errors are being sent to Sentry But when I try to invoke the action from IBM Cloud nothing appears in the Sentry console Edit After some time trying to investigate the source of the problem I saw that its related with the async nature of sending the http request to Sentry I have other libraries that make HTTPTCP connections to Loggly RabbitMQ MySQL and they all work as expected in the send method where the actual http request is being sent"
55813231,"How does serverless know where to find the serverless.yml?","https://stackoverflow.com/questions/55813231/how-does-serverless-know-where-to-find-the-serverless-yml","{aws-lambda,yaml,serverless-framework,serverless}","2019-04-23 14:12:36+03","2024-05-17 05:14:37.113589+03","How does npmyarn serverless packageadded locally in a project know where to locate the serverless yml file I am trying to locate the exact piece of code in the source code of serverless framework httpsgithub comserverlessserverless where this happens but have not had any luck so far I need to know this because my command does not seem to the new changes that i did in serverless yml file It keeps picking the old one "
55817470,"Uploading data from a lambda job to s3 is very slow","https://stackoverflow.com/questions/55817470/uploading-data-from-a-lambda-job-to-s3-is-very-slow","{python-3.x,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2019-04-23 18:37:20+03","2024-05-17 05:14:37.986475+03","Ive implemented an AWS lambda using Serverless framework to receive S3 ObjectCreated event and uncompress tar gz files Im noticing that copying the extracted files in S3 takes a long time and times out The tar gz file is 18M in size and number of files in the compressed file is 12000 Ive tried using a ThreadPoolExecutor with 500s timeout Any suggestions on how I can work around this issue The lambda code implemented in python httpsgist github comarjunurs7848137321148d9625891ecc1e3a9455"
55839068,"Serverless framework is not deploying an API Gateway on AWS from configuration","https://stackoverflow.com/questions/55839068/serverless-framework-is-not-deploying-an-api-gateway-on-aws-from-configuration","{amazon-web-services,websocket,aws-lambda,aws-api-gateway,serverless-framework}","2019-04-24 21:51:34+03","2024-05-17 05:14:39.495556+03","I am trying to use the Serverless framework to create a Lambda which is invoked when a client connects to a websocket API Gateway AWS CloudFormation is creating the Lambda functions that are defined but the websocket API Gateway is not being created After attempting to write my own which did not work I resorted to copy and pasting the examples I have found on Serverless docs into a freshly created serverless folder just to see if it would work it did not and I cannot find anyone else who seems to have had a similar problem So far I have tried the simple and extended methods documented here which is what the example code is based on httpsserverless comframeworkdocsprovidersawseventswebsocket And I have also tried to follow this blog which also resulted in the Lambda creation but not an API Gateway httpsserverless comblogapigatewaywebsocketsexample Heres my serverless yml file It deploys as I would expect apart from the API Gateway Here is the serverless deploy v output If anyone can shed some light on this as I may be completely missing something obvious I would be grateful "
55842389,"Unable to upload image or excel file to s3 in serverless framework","https://stackoverflow.com/questions/55842389/unable-to-upload-image-or-excel-file-to-s3-in-serverless-framework","{node.js,amazon-s3,aws-lambda,aws-sdk,serverless-framework}","2019-04-25 05:30:39+03","2024-05-17 05:14:40.03504+03","I have created a sample serverless framework it has a function to upload files on s3 but I am facing issues while uploading files Files are getting uploaded but it turns out to be corrupt Please refer below code of node js where I have created the route controller and service for file upload on s3 with the serverless framework Below are the serverless yml settings service servicenameoflamdafunction"
55852551,"Serverless Framework: Output compiled CloudFormation","https://stackoverflow.com/questions/55852551/serverless-framework-output-compiled-cloudformation","{aws-cloudformation,serverless-framework,serverless}","2019-04-25 15:12:21+03","2024-05-17 05:14:41.064549+03","I am using the serverless framework for a lambda project We need to be able to access the cloudformation directly to meet with our standards for other projects How can I view the full CloudFormation that is compiled from serverless yml "
55854603,"How to fix error about Import dlib on AWS Lambda?","https://stackoverflow.com/questions/55854603/how-to-fix-error-about-import-dlib-on-aws-lambda","{aws-lambda,serverless-framework,dlib}","2019-04-25 17:19:52+03","2024-05-17 05:14:42.152112+03","I want to use dlib on AWS Lambda I use serverless framework runtime is python3 6 I import dlib package using serverlesspythonrequirements plugins It works very well at local serverless invoke local f function But when I deploy it and use inovek serverless invoke f function It makes errors Could you tell me the way to use dlib on aws lambda "
55861316,"Adding an additional resource on serverless for AWS API Gateway","https://stackoverflow.com/questions/55861316/adding-an-additional-resource-on-serverless-for-aws-api-gateway","{amazon-web-services,aws-api-gateway,serverless-framework}","2019-04-26 05:31:00+03","2024-05-17 05:14:42.791408+03","I have a serverless app with a http event I need to create a child resource to the endpoint created by serverless How can I accomplish this with serverless The template looks like this so far As an attempt to get it working I redeclaration of the resource for myFunc was performed hoping that CFN would not create already created resources This failed with the error"
55897150,"Node Debug serverless offline using vscode","https://stackoverflow.com/questions/55897150/node-debug-serverless-offline-using-vscode","{javascript,node.js,visual-studio-code,serverless-framework,serverless-offline}","2019-04-29 04:53:13+03","2024-05-17 05:14:43.776469+03","I am using VS Code for development of AWS Lambda functions I started using the serverless framework and the serverless offline library but I am unable to use VS Codes debug mode to locally debug the code I am referring many sites Following is one of them httpsmedium comOneMuppet_debugginglambadafunctionslocallyinvscodewithactualbreakpointsdeee6235f590 My project structure is as follows Package json launch json I get the following error when I start debug Can someone please guide with the correct configuration"
55920819,"Why serverless endpoint urls in not working?","https://stackoverflow.com/questions/55920819/why-serverless-endpoint-urls-in-not-working","{node.js,api,serverless-framework,aws-serverless}","2019-04-30 12:17:29+03","2024-05-17 05:14:44.679554+03","I have followed this httpsserverless comblogserverlessexpressrestapi to setting up serverless framework on AWS I am successfully getting end points on cmd But when I am hitting the end point url on browser Json response is coming like message Internal server error Please check my code below and let me know where am I wrong index js sererless yml"
55943294,"AWS Layer: adding ""/opt/"" path when using a Nodejs layer","https://stackoverflow.com/questions/55943294/aws-layer-adding-opt-path-when-using-a-nodejs-layer","{amazon-web-services,serverless-framework}","2019-05-01 22:07:32+03","2024-05-17 05:14:45.745171+03","So I uploaded this layer to AWS using the Serverless framework The libraries I need are inside the nodejs directory there lays my packages json file and all the node_modules directories So far all looks fine but when I try to run a lambda that uses the nodewebstormlibs layer I am getting the message The pg module actually exists in the zip file that creates the layer Then I have doubts about how to import a module that is inside the layer In some tutorials I see like always but in other I see or even I do not know if the path option in my serverless yml is correct though In the server the path is UPDATE Putting all in the dir nodejsnode8 made the trick "
55947884,"How to deploy serverless code in different stages via command line?","https://stackoverflow.com/questions/55947884/how-to-deploy-serverless-code-in-different-stages-via-command-line","{node.js,aws-api-gateway,serverless-framework,serverless,staging}","2019-05-02 07:51:31+03","2024-05-17 05:14:46.837399+03","Currently I am using following command line to deploy in different stages from my local mechine serverless deploy stage qa But this code create whole new section project in the API Gateway section See my attached link httpsphotos google comshareAF1QipPU6X8Dej7rNq5Ofo1eKfCq1cn6GpsL3GYdZ50yUO_a4quVPao9bllHIvRFA6VkbAkeyWVFDLVQ0cEd6aVB3cVlSY1hYcnBmS1BRT1QtNVVB should this code create serverless deploy stage qa different stages in the APIs API Project Stages section I am kind of confused which way is the correct I see many tutorials creating both ways However for me it makes sense creating different stages in one project Or is there a different command to do what I want"
55951606,"Deploying SSR Nuxt.js on AWS Lambda with Cloudflare?","https://stackoverflow.com/questions/55951606/deploying-ssr-nuxt-js-on-aws-lambda-with-cloudflare","{amazon-web-services,vue.js,nuxt.js,cloudflare,serverless-framework}","2019-05-02 11:36:58+03","2024-05-17 05:14:47.569278+03","I am trying to implement a vue js server less side rendered webshopalikesite via nuxt js on AWS Lambda backed with Cloudflare I prefer Cloudflare over Cloudfront because of http3 image optimization features safety against attacks brotli and some more features that Cloudflare provides outofthebox Unfortunately i could not find any ressources if anyone did this before and what to take care of to work properly Right now my setup is like I am not sure where to properly integrate Cloudflare `I found a blogposts and threads about Furthermore I have read an article about the need of securing the APIGateway against attackers by only allowing Cloudflare IPs Did anyone of you already setup Vue Nuxt with Cloudflare Am open to any other suggestions or ideas Thanks a lot Philipp"
55959385,"ES6/ES7 support with serverless","https://stackoverflow.com/questions/55959385/es6-es7-support-with-serverless","{serverless-framework}","2019-05-02 19:56:35+03","2024-05-17 05:14:48.688412+03","I have few serverless project created without using ES6ES7 support In our new project i wanted to integrate this with serverless but not able to get it going Here is my serverless yml file My campaign js is under src folder in my code I tried this using httpsmedium comkilgarenonewritees6es7inserverlessframeworkusingbabel7andwebpack45bd742168e1a My webpack config is following My package json is My babelrc file is When i execute sls offline start SkipCacheInvalidateion i get following warning WARNING in srcCampaign js 51229 export connectToDatabase was not found in db And it seems like webpack and babelloader is not transpile my entire code"
55963314,"How to emulates google cloud function on local machine to speed up the development cycles?","https://stackoverflow.com/questions/55963314/how-to-emulates-google-cloud-function-on-local-machine-to-speed-up-the-developme","{google-cloud-functions,serverless-framework,serverless-plugins}","2019-05-03 04:31:24+03","2024-05-17 05:14:49.326457+03","I found a plugin httpswww npmjs compackageserverlessoffline But it emulates AWS lambda I write a HTTP function and test it print out the second argument of the function res functionNamecedarcloudfunctionsdevsendEmailfunctionVersionoffline_functionVersion_for_cedarcloudfunctionsdevsendEmailinvokedFunctionArnoffline_invokedFunctionArn_for_cedarcloudfunctionsdevsendEmailawsRequestIdoffline_awsRequestId_23960008909951136logGroupNameoffline_logGroupName_for_cedarcloudfunctionsdevsendEmaillogStreamNameoffline_logStreamName_for_cedarcloudfunctionsdevsendEmailidentity clientContext As you can see there is an awsRequestId property so this second argument should be the context in AWS lambda not the res in GCF Is there a plugin emulates google cloud function on the local machine"
56242715,"Serverless Framework - What permissions do I need to use AWS SSM Parameter Store?","https://stackoverflow.com/questions/56242715/serverless-framework-what-permissions-do-i-need-to-use-aws-ssm-parameter-store","{aws-lambda,amazon-iam,serverless-framework,serverless,aws-serverless}","2019-05-21 16:30:47+03","2024-05-17 05:15:05.728104+03","I am opening this question because there seems to be no documentation on this so I would like to provide the answer after much time wasted in trial and error As background the Serverless framework [allows loading both plaintext SecureString values from AWS SSM Parameter Store] 1 What permissions are needed to access load these SSM Parameter Store values when performing serverless deploy"
55968432,"How to make lambda wait for callback?","https://stackoverflow.com/questions/55968432/how-to-make-lambda-wait-for-callback","{node.js,async-await,aws-lambda,serverless-framework}","2019-05-03 10:58:05+03","2024-05-17 05:14:50.380043+03","I am creating an AWS lambda function that is supposed to regularly backup an AppSync API on S3 it is fired by a CloudWatch schedule rule It is based on a class that for each API passed as the function args using environment variables runs a backup job for each element of the API If I run it using only node it works without any issue However when I deploy or test locally using the serverless framework serverless deploy and serverless invoke local f backup the execution stops at the first asynchronous instruction in a scope other than that of the handler function whether I use a callback a Promise then or the asyncawait syntax I have considered running multiple lambda functions for each part of the backup operation but then I would lose the shared context which I need to ensure that every part of the backup is done correctly In handler js Result here1 [5 seconds wait] here2 However if I call a function that uses the asynchronous code such as the start method of the Backup class in the required Backup js file the following happens Result here1 [5 seconds wait] here2 here3 End of execution I have all the required roles and serverless reports no issues when deploying or invoking locally Here is my serverless yml file Thanks in advance for your help "
55968678,"Cannot connect RDS Database to a Lambda Function (Using serverless framework)","https://stackoverflow.com/questions/55968678/cannot-connect-rds-database-to-a-lambda-function-using-serverless-framework","{amazon-web-services,aws-lambda,amazon-rds,serverless-framework,amazon-vpc}","2019-05-03 11:13:59+03","2024-05-17 05:14:50.864405+03","I want to connect my RDS Database table with my lambda function for this I have created a lambda function and used knex js and postgres database in rds I got the knex object but I cannot work with any query To give some more information about the services My serverless function Serverless yml file So can you identify my issue on why I cannot connect my rds db with lambda function and let me know what I did wrong or what is missing "
55971241,"webpack with serverless isn't working with folder structure","https://stackoverflow.com/questions/55971241/webpack-with-serverless-isnt-working-with-folder-structure","{webpack,serverless-framework}","2019-05-03 13:53:03+03","2024-05-17 05:14:51.907616+03","I have few serverless project created without using ES6ES7 support In our new project i wanted to integrate this with serverless but not able to get it going Here is my serverless yml file My campaign js is under src folder in my code I tried this using httpsmedium comkilgarenonewritees6es7inserverlessframeworkusingbabel7andwebpack45bd742168e1a My webpack config is following My package json is My babelrc file is When i execute sls offline start SkipCacheInvalidateion i get following warning WARNING in srcCampaign js 51229 export connectToDatabase was not found in db And it seems like webpack and babelloader is not transpile my entire code"
55978262,"Nested stack does not detect changes in the template with RequestMappingTemplateS3Location","https://stackoverflow.com/questions/55978262/nested-stack-does-not-detect-changes-in-the-template-with-requestmappingtemplate","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-05-03 23:44:08+03","2024-05-17 05:14:52.936356+03","I have a serverless specification with a nested stack I want to define Type AWS AppSync Resolver using RequestMappingTemplateS3Location and ResponseMappingTemplateS3Location and the templates are in s3 When I update the template the stack does not update the cloudformation Nested I expect that when I update the template in s3 and deploy my project the cloudformation is updated but it is maintained with the previous code "
56119840,"""Type Error: lambda is not a function"" in handler with multiple functions","https://stackoverflow.com/questions/56119840/type-error-lambda-is-not-a-function-in-handler-with-multiple-functions","{javascript,serverless-framework}","2019-05-13 21:03:50+03","2024-05-17 05:14:53.871627+03","I have two functions in my handler js file and I have configured them correctly in serverless yml The problem is when I run invocation only the first one work and the second one throws a type error lambda is not a function I made sure there are no spelling mistakes in my yml file or in the handler file Also I tried putting the functions into separate files None of them work In my handler js I have In my yml file I have Calling one works fine but calling two throws an error "
56129274,"DNS_PROBE_FINISHED_NXDOMAIN trying to access AWS lambda endpoint","https://stackoverflow.com/questions/56129274/dns-probe-finished-nxdomain-trying-to-access-aws-lambda-endpoint","{node.js,amazon-web-services,express,aws-lambda,serverless-framework}","2019-05-14 11:22:59+03","2024-05-17 05:14:54.808356+03","I am trying to deploy a NodeExpress app to AWS lambda using serverless It seems to work but after several executions of serverless deploy I get DNS_PROBE_FINISHED_NXDOMAIN error when trying to access the endpoint If I change to another AWS region it works but it happens again after a few executions of The output of serverless deploy command is always right no error shown I guess this question lacks of information but I do not know what I need to provide "
56147854,"File getting corrupted on S3 when upload using serverless framework","https://stackoverflow.com/questions/56147854/file-getting-corrupted-on-s3-when-upload-using-serverless-framework","{node.js,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2019-05-15 11:05:38+03","2024-05-17 05:14:55.811313+03","I am using Serverless Framework which has functionality of the File ImageExcel upload on S3 bucket of AWS While uploading file I am using S3 service of putObject function with basic params for upload Data of the file is being passed in Binary String format and gets uploaded on S3 bucket My Local system uploads the file on S3 bucket perfectly as per requirement but when serverless framework is deployed using the Lambda Function of AWS for the same function a corrupted file gets uploaded Below given is my demo code"
56160686,"Serverless deploy failing with + character in stackTags variable","https://stackoverflow.com/questions/56160686/serverless-deploy-failing-with-character-in-stacktags-variable","{aws-lambda,serverless-framework,serverless,aws-serverless}","2019-05-16 04:06:40+03","2024-05-17 05:14:56.605019+03","In My serverless yml file i have a StackTag variable defined as below So when i run sls deploy stage dev in get the below error and deployment fails Invalid stage variable value Category Environment optstage RoleApplication Please use values with alphanumeric characters and the symbols _ and So is this a limitation with Serverless Framework Am able to use the same Tag via the AWS UI Console When i replace with any other character like or then the deploy works it fails for character"
56274094,"Running Serverless template Webpack build standalone","https://stackoverflow.com/questions/56274094/running-serverless-template-webpack-build-standalone","{node.js,webpack,serverless-framework}","2019-05-23 11:19:39+03","2024-05-17 05:15:06.67172+03","I started working with serverless and I would like to know why I am unable to run the Webpack build without going through the Serverless framework serverless create template awsnodejstypescript From here serverless deploy works and any other command but webpack"
56173452,"East/West communication in a AWS serverless microservice architecture","https://stackoverflow.com/questions/56173452/east-west-communication-in-a-aws-serverless-microservice-architecture","{aws-lambda,serverless-framework,aws-serverless,serverless-architecture}","2019-05-16 17:07:53+03","2024-05-17 05:14:57.16086+03","I am well aware of the fact that eastwest or service to service synchronous communication between services is not the gold standard and should only be used sparingly in a microservice architecture However in every real world implementation of a microservice architecture I have seen some usecases which require it For example the user service is often needs to be communicated with by other services to get up the millisecond details on the user I am aware that event based sharing of that data is also a possibility but in some cases that is not always the right approach My question is what is the best way to do function to function service to service communication in a Lambda API Gateway style architecture My guess is that making an http request back out on the domain name is not ideal since it will require going back out over the internet to resolve DNS Is it using the SDK to do an invoke on the downstream function directly Will this cause issue if the downstream function depends on an API Gateway Proxy Event structure"
56176642,"Client receiving 502 error despite Lambda logs reporting success","https://stackoverflow.com/questions/56176642/client-receiving-502-error-despite-lambda-logs-reporting-success","{node.js,aws-lambda,serverless-framework,pre-signed-url,bad-gateway}","2019-05-16 21:07:32+03","2024-05-17 05:14:58.217561+03","The API response But the Lambdas logs report that it is returning a valid response Ending Lambda code And that success method Serverless upload definition Note that the browser is first sending an OPTIONS request which returns a 200 then sending a GET which returns a 502 "
56181544,"How to define CF resource as function event source in serverless framework","https://stackoverflow.com/questions/56181544/how-to-define-cf-resource-as-function-event-source-in-serverless-framework","{serverless-framework,aws-iot}","2019-05-17 07:23:39+03","2024-05-17 05:14:59.250538+03","I am trying to create a AWS Lambda with the serverless framework The Lambda is triggered through an AWS IoT Topic Rule In case the execution of the Rule fails I want to have an error action executed The entire configuration should take place within the serverless yml As far as I can tell from the documentation there is no option to describe an errorAction for an iot event It is possible though to define a Cloud Formation resource with an ErrorAction inside the serverless yml But then I do not know how to link the resource to act as a trigger of the Lambda function With the above configuration trying to deploy on AWS fails as Cloud Formation tries to create the AWS IoT Topic Rule twice Once for the definition in events and once as the defined resource FoobarIoTTopicRule1 EDIT1 Defining the Lambda action inside the IoTTopicRule resource creates the rule as intended with Lambda action and error event Unfortunately the rule does not show up as a trigger within the Lambda "
56183525,"How can I utilize AWS::Serverless::LayerVersion in order to use external libraries in my AWS Lambda functions","https://stackoverflow.com/questions/56183525/how-can-i-utilize-awsserverlesslayerversion-in-order-to-use-external-librari","{amazon-web-services,aws-lambda,serverless-framework,aws-sam-cli}","2019-05-17 09:30:24+03","2024-05-17 05:15:00.379588+03","I need to use external library that is located on my local file system in order to successfully execute my Lambda function Using AWS SAM framework I found out that this can be done by specifying AWSServerlessLayerVersion resource What I am not sure is how does this exactly work and how do I specify path to my external library Do I first need to deploy my external library to S3 bucket or"
56190791,"Serverless: [AWS] Unable to create role resource with policy","https://stackoverflow.com/questions/56190791/serverless-aws-unable-to-create-role-resource-with-policy","{amazon-web-services,aws-cloudformation,amazon-iam,serverless-framework}","2019-05-17 17:07:03+03","2024-05-17 05:15:01.507732+03","I am learning how to make use of serverless framework and i am at the point of creating roles on which some specific functions will assume but cloudformation throws an error indicating The way how the resource is defined in serverless is like this Is this not the proper way to create a role with serverless i was following the examples that serverlesss docuentation show httpsserverless comframeworkdocsprovidersawsguideiam"
56197622,"Conditionally enable x-ray for API Gateway and Lambda in serverless framework","https://stackoverflow.com/questions/56197622/conditionally-enable-x-ray-for-api-gateway-and-lambda-in-serverless-framework","{aws-lambda,aws-api-gateway,serverless-framework,serverless,aws-xray}","2019-05-18 09:21:41+03","2024-05-17 05:15:02.579578+03","I am trying to enable xray only when I needed to save some bucks The following serverless yml loads the environment variables from the env file However it seems like serverless only allows true Active and PassThrough Any possible way to bypass this Thanks "
56209473,"Serverless deploy doesn't integrate AWS Lambda with SQS event","https://stackoverflow.com/questions/56209473/serverless-deploy-doesnt-integrate-aws-lambda-with-sqs-event","{aws-lambda,amazon-sqs,serverless-framework}","2019-05-19 15:51:29+03","2024-05-17 05:15:03.414763+03","I am trying to create an AWS SQS event associated with an AWS Lambda function called sendExportJob using Serverless framework but after the deploy I can not see in the AWS console the SQS trigger Obviously I can add this event manually through the console and it works as expected Here is the Lambda function configuration in the serverless yml Here is the IAM configuration for this particular function I am using the latest version of the Serverless framework and I have checked the indentation in the configuration file The SQS resource has been deployed previously so it already exists before adding it as an event "
56233675,"Serverless-framework, when does the API Gateway URL change?","https://stackoverflow.com/questions/56233675/serverless-framework-when-does-the-api-gateway-url-change","{aws-lambda,aws-cloudformation,serverless-framework,aws-serverless,serverless-plugins}","2019-05-21 07:55:05+03","2024-05-17 05:15:04.409217+03","I am using serverlessframework to deploy a lambda with http endpoints on AWS This works fine and returns a API Gateway endpoint I wanted to know under what scenarios does the endpoint URL change I need the URL to be constant know deleting and redeploying the service will change the URL In what other cases does the URL change"
56238704,"AWS serverless framework : How to get Cogntio user pool ID and App client ID in the Lambda function","https://stackoverflow.com/questions/56238704/aws-serverless-framework-how-to-get-cogntio-user-pool-id-and-app-client-id-in","{amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2019-05-21 12:49:36+03","2024-05-17 05:15:04.921584+03","I am trying to create a cognito user pool ID and the app client using Serverless yml file I am referring this link httpsserverlessstack comchaptersconfigurecognitouserpoolinserverless html I want to use this Cognito user pool id in my lambda function code Is there any way I can get this User Pool ID and app client ID in my lambda code Is there any way serverless can create some environment variables etc which can hold the values for user pool ID and the App client ID"
56304157,"How to create groups and grant different permissions in AWS Cognito in Serverless","https://stackoverflow.com/questions/56304157/how-to-create-groups-and-grant-different-permissions-in-aws-cognito-in-serverles","{node.js,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2019-05-25 10:55:41+03","2024-05-17 05:15:08.759503+03","I am creating an app using serverless framework in AWS I am using NodeJS to write Lambda In the application I want create two different roles In my serverless yaml file I have created two different Cognito User pool groups for these user types I want to grant different access levels to these two groups for an example admins can create posts users can only view them After doing some research I found that this can be done by attaching policies to groups But I could not find a way to do that by using serverless framework "
56319766,"How can I write nested IF in serverless.yml using yaml format file while using it for cloud formation?","https://stackoverflow.com/questions/56319766/how-can-i-write-nested-if-in-serverless-yml-using-yaml-format-file-while-using-i","{amazon-web-services,yaml,aws-cloudformation,serverless-framework,serverless-application-model}","2019-05-27 04:41:41+03","2024-05-17 05:15:09.887712+03","I am trying to access secrets created in secrets manager httpsaws amazon comsecretsmanager via SSM Systems Manager httpsdocs aws amazon comsystemsmanagerlatestuserguidesystemsmanagerparameterstore html i e AWS Parameter store and store it in a custom YAML variable in serverless yml file I am trying to implement cloud formation through serverless framework httpsserverless com and I am trying to implement a nested if statement in cloud formation for implementing the above using the code below I have tried Cloud formation instrinsic functions FnIf for this but facing this errror FnIf requires a list argument with the first element being a condition"
56322315,"Cannot deploy Node.js app inside AWS Lambda using Serverless Framework","https://stackoverflow.com/questions/56322315/cannot-deploy-node-js-app-inside-aws-lambda-using-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-05-27 08:27:27+03","2024-05-17 05:15:10.630515+03","I am new to serverless framework I was trying to deploy my code to lambda using serverless The content of the serverless yml file is as given above But when I hit sls deploy in terminal my code is zipped and uploaded to an s3 bucket How do I deploy my code to the corresponding lambda using serverless I assume I ll have to give some credentials for the lambda but how do I do that in the yml file What am I not getting correctly"
56361163,"How to fix Circular dependency between resources on a logical ID","https://stackoverflow.com/questions/56361163/how-to-fix-circular-dependency-between-resources-on-a-logical-id","{aws-cloudformation,serverless-framework}","2019-05-29 12:53:02+03","2024-05-17 05:15:11.701744+03","I trying to automate building process of my serverless application When I set up CognitoUserPool resources I need the resources Ref CognitoUserPoolClient to create a link to redirect the client in EmailMessage But the CognitoUserPoolClient need Ref CognitoUserPool So i get this error The CloudFormation template is invalid Circular dependency between resources [CognitoUserPoolClient ApiGatewayAuthorizer IdentityPool SSMCognitoUserPoolClientId IdentityPoolRoleMapping SSMUserPoolId ApiGatewayMethodTelstraPost CognitoUserPool SSMIdentityPoolId ApiGatewayDeployment1559121507544 CognitoUnAuthorizedRole]"
56373536,"Number of active connections on the server reached to max","https://stackoverflow.com/questions/56373536/number-of-active-connections-on-the-server-reached-to-max","{node.js,mongodb,mongoose,serverless-framework,replicaset}","2019-05-30 07:19:44+03","2024-05-17 05:15:12.566945+03","I am working with mongodb and nodejs I have mongodb hosted on Atlas My backend had been working perfectly but now it is sometimes getting stuck and when I see the analytics on mongodb atlas it shows maximum number of active connections reached to 100 Can someone please explain why this is happening Can I reboot the connections and make it 0 Stennie I have used mongoose to connect to database Here is my configuration file"
56378204,"Serverless Enterprise deployment","https://stackoverflow.com/questions/56378204/serverless-enterprise-deployment","{amazon-cognito,serverless-framework,serverless,aws-serverless}","2019-05-30 12:19:19+03","2024-05-17 05:15:13.372646+03","I recently updated to v1 44 0 and used the serverlessenterpriseplugin and am now unable to deploy Im simply trying to create a User Pool but keep getting an error An error occurred EnterpriseLogAccessIamRole Policy statement must contain resources Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Request ID dc158686378c4d0197fb1414d55a735d serverless yml"
56390027,"Using sls deploy –package doesn’t work with serverless for google cloud functions","https://stackoverflow.com/questions/56390027/using-sls-deploy-package-doesn-t-work-with-serverless-for-google-cloud-function","{google-cloud-functions,serverless-framework}","2019-05-31 06:47:49+03","2024-05-17 05:15:14.51547+03","I was following the quick start guide for serverless httpsserverless comframeworkdocsprovidersgoogleguidequickstart and created a service as mentioned in the guide I ran the following commands I edited the serverless yml to contain a valid key path and tried the following command A serverless folder was created with myservice zip file in it Later I tried to deploy this myservice zip file using The command failed with the following error The path argument must be one of type string Buffer or URL Received type undefined I am wondering if I missed something or serverless doesnt support deploy package option for google cloud functions My serverless version is 1 44 1 My actual use case is to deploy a prepackaged zipped file to google cloud functions using serverless"
56401001,"GKE CloudRun - resource control on request level","https://stackoverflow.com/questions/56401001/gke-cloudrun-resource-control-on-request-level","{serverless-framework,google-cloud-run}","2019-05-31 19:51:32+03","2024-05-17 05:15:15.490547+03","I wonder how to increase the number of CPU cores available per individual request on GKE based CloudRun deployed container While it is possible to specify cpu option to control service limit I was unable to find way to control request CPU allocation I also wonder if it is possible to specify timeout greater than 10 min"
56406121,"How can I create url-friendly Id for AWS Cognito users?","https://stackoverflow.com/questions/56406121/how-can-i-create-url-friendly-id-for-aws-cognito-users","{aws-lambda,amazon-dynamodb,amazon-cognito,serverless-framework}","2019-06-01 11:01:02+03","2024-05-17 05:15:16.435535+03","I am developing the serverless application with AWS Cognito DynamoDB and Lambda I need some userfriendly ids for URL Is it possible to generate a number only ids with Cognito User Pool If not what is the best way to generate it manually in lambda Thanks in advance "
56413437,"How to use computer IP address when making request to lambda running offline?","https://stackoverflow.com/questions/56413437/how-to-use-computer-ip-address-when-making-request-to-lambda-running-offline","{amazon-web-services,ip-address,serverless-framework,serverless-offline}","2019-06-02 08:32:10+03","2024-05-17 05:15:17.532582+03","Hi I am trying to access my lambda using my computers local IP address but am repeatedly getting a Connection refused error However if I use http127 0 0 13000mypath the endpoint works fine Would anyone have any suggestions for what might be the problem Thanks "
56416115,"Dependencies not being injected on NestJS with Serverless and AWS","https://stackoverflow.com/questions/56416115/dependencies-not-being-injected-on-nestjs-with-serverless-and-aws","{serverless-framework,nestjs,aws-serverless}","2019-06-02 14:50:55+03","2024-05-17 05:15:18.584079+03","Everyone I am trying to setup my first NestJS application It is backed by Serverless on AWS I created a simple Controller that has a Service as a dependency When I hit the endpoint with my HTTP Client the object that should contain the Service instance is undefined I am not able to make it work Could you help handler ts module ts event service ts event controller ts So this eventService is always undefined What is wrong with this implementation"
56429705,"Send custom error message, with serverless-http (express)","https://stackoverflow.com/questions/56429705/send-custom-error-message-with-serverless-http-express","{express,lambda,aws-api-gateway,serverless-framework,serverless}","2019-06-03 14:44:27+03","2024-05-17 05:15:19.222956+03","I need to send custom error message in JSON format from my express app served in a lambda function using serverlesshttp Please correct me if i got it wrong but as i understand it we need to use LAMBA_PROXY APIG integration to be able to send custom error messages defined directly from a lambda function This is what i have tried so far serverless yml this is what the API is returning with status code 400 Any leads on how I can send a custom response in JSON format update After more tests I found out that calling next error does not reach the last error handler"
56460986,"""Invalid ELF header"" using libxmljs on AWS Lambda","https://stackoverflow.com/questions/56460986/invalid-elf-header-using-libxmljs-on-aws-lambda","{amazon-web-services,aws-lambda,elf,libxml2,serverless-framework}","2019-06-05 12:57:42+03","2024-05-17 05:15:20.088512+03","I have a super basic AWS Lambda function using serverless express and libxmljs which binds JavaScript to libxml serverless xml index js When I run locally When I run on AWS The CloudWatch logs say How can I import libxmljs on AWS I see some related questions like So Im guessing something in libxmljs is built for a different architecture my local machine is macOS than Amazon Linux But I am not sure how I can fix this"
56468432,"How can I get serverless-webpack to work with babel.v8 to solve - Error: Plugin/Preset files are not allowed to export objects, only functions?","https://stackoverflow.com/questions/56468432/how-can-i-get-serverless-webpack-to-work-with-babel-v8-to-solve-error-plugin","{node.js,babeljs,serverless-framework,serverless-webpack-plugin}","2019-06-05 21:44:26+03","2024-05-17 05:15:21.171866+03","What went wrong Babel Migration from 7 x to 8 x Node Migration from 8 x to 10 x What was the config you used Changed targets in babelrc from 8 10 to 10 14 1 Changed runtime in serverless yml from 8 10 to runtime nodejs10 14 1 What stacktrace or error message from your provider did you see Here is what is in my babelrc file Here are my dependencies in my package json What do you think I really want to stay current and use the most recent version of babel if at all possible Does anyone know if serverlesswebpack supports babel v8 yet If so how can I get them to work together considering the above info Thanks "
56474588,"Setting response model via Serverless framework for AWS API Gateway","https://stackoverflow.com/questions/56474588/setting-response-model-via-serverless-framework-for-aws-api-gateway","{aws-api-gateway,serverless-framework}","2019-06-06 09:24:31+03","2024-05-17 05:15:22.038355+03","I am trying to set up my AWS API Gateway via the Serverless Framework So far it works good but no I am struggling setting the method response as a model I got it working for the request but not for the response and I have not found a hint in the documentation If I include a schema in the response it is ignored "
56500416,"Serverless: TypeError: Cannot destructure property `timeout` of 'undefined' or 'null'","https://stackoverflow.com/questions/56500416/serverless-typeerror-cannot-destructure-property-timeout-of-undefined-or","{node.js,typescript,aws-lambda,serverless-framework}","2019-06-07 19:45:29+03","2024-05-17 05:15:23.544142+03","Since the last version update of my packages my Serverless offline gives me the error each time an API is called My Provider is AWS and the code get deployed to lambda The serverless yml file Though the bug does not seem to be deadly But its better late than never "
56521463,"Deploy Failed Due to error Value of property Variables must be an object with String (or simple type) properties","https://stackoverflow.com/questions/56521463/deploy-failed-due-to-error-value-of-property-variables-must-be-an-object-with-st","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-06-10 06:27:46+03","2024-05-17 05:15:23.824664+03","I am getting a serverless error as follow An error occurred CandidateSubmissionLambdaFunction Value of property Variables must be an object with String or simple type properties I have tried changing the value to string from a yml file then also I am getting the same error My Yml file code is as below Environment Information I want to deploy this on aws and want to perform curd operation "
56525355,"nodejs chrome serverless ENOENT error testing locally","https://stackoverflow.com/questions/56525355/nodejs-chrome-serverless-enoent-error-testing-locally","{node.js,puppeteer,serverless-framework}","2019-06-10 11:17:37+03","2024-05-17 05:15:25.172516+03","I am trying to invoke my serverless function locally after installing puppeteer using the following instructions Using the following command serverless invoke local f myfunction I get this error I am not sure why i get this error as the file does exist the handler file it is pointing to looks like this"
56742825,"How to get stacks which references a ""stack output"" parameter in a `serverless.yml`?","https://stackoverflow.com/questions/56742825/how-to-get-stacks-which-references-a-stack-output-parameter-in-a-serverless-y","{aws-lambda,serverless-framework,aws-serverless}","2019-06-24 19:30:23+03","2024-05-17 05:15:25.88761+03","How to get stacks which references a stack output in a serverless yml For example I know that if I try to exclude resource A from stack A I will receive a message error saying stack B makes usage of resource A So should exists a way to list them the referrers When executed Returns Stack Outputs but I was wondering if I could get the referrers too Thanks "
56760376,"How can I call a serverless lambda function with a role from another function","https://stackoverflow.com/questions/56760376/how-can-i-call-a-serverless-lambda-function-with-a-role-from-another-function","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework,aws-serverless}","2019-06-25 18:52:51+03","2024-05-17 05:15:26.826579+03","I want to call a lambda function with a custom role from another function using serverless framework what should I do I have given the invoke permissions but it seems it is not enough since the other function as some more permission which is given by the role The error I am getting My serverless yml"
57283519,"Any ideas on how to call serverless shell comand from another nodejs script","https://stackoverflow.com/questions/57283519/any-ideas-on-how-to-call-serverless-shell-comand-from-another-nodejs-script","{node.js,serverless-framework,serverless}","2019-07-31 05:03:10+03","2024-05-17 05:15:52.61414+03","I am trying to call serverless command like but from another nodejs script I test it using node child_process spawn or using exec When I run both solutions from my terminal as node myscript js I cannot get any response any suggestions or ideas on how to do this will be really helpful"
56798618,"Serverless - can not read file from S3","https://stackoverflow.com/questions/56798618/serverless-can-not-read-file-from-s3","{amazon-web-services,amazon-s3,permissions,aws-lambda,serverless-framework}","2019-06-27 21:22:39+03","2024-05-17 05:15:28.171483+03","I have 2 Lambda functions written in NodeJS and with Serverless Framework IAM role for those functions allows to put and get object One function is placing the file to S3 and works correctly and the next second function is invoked via S3 event and is not able to read this file because of Access Denied It was working correctly until I changed dataBucketName resource name Can someone provide me a hint where the problem could be and how to start debugging it"
56843178,"Serverless - seperate api handlers in config or in code?","https://stackoverflow.com/questions/56843178/serverless-seperate-api-handlers-in-config-or-in-code","{node.js,aws-cloudformation,serverless-framework,aws-serverless}","2019-07-01 22:27:31+03","2024-05-17 05:15:28.574483+03","Is there a functional or performance difference between these 2 methods of handling API routes in serverless Are these the same as far as how memory and container caching will be used serverless yml handler js handlersfoo js handlershome js serverless yml handler js Perhaps these will handle the same I am using method 1 now but want to ensure I am as performant as possible I understand that aws will reload the lambda on each request but will keep code run outside of lambda itself running for a bit so curious if there is a better setup out of the two "
56843940,"Should I use Serverless Computing [closed]","https://stackoverflow.com/questions/56843940/should-i-use-serverless-computing","{amazon-web-services,aws-lambda,serverless-framework}","2019-07-02 00:33:04+03","2024-05-17 05:15:29.444056+03","Want to improve this question Update the question so it can be answered with facts and citations by editing this post Closed 4 years ago I am creating a MVP Minimum Viable Product that has a nodejs server using express for a rest api and a socket io connection for chat features My concern is not so much about cost or scalability but about setup timemaintenance as this is an MVP Would serverless or not serverless take less time to setupmaintain on AWS"
56876764,"How to validate in AWS serverless schema without plugin using only request","https://stackoverflow.com/questions/56876764/how-to-validate-in-aws-serverless-schema-without-plugin-using-only-request","{validation,serverless-framework,aws-serverless}","2019-07-03 19:24:19+03","2024-05-17 05:15:30.324279+03","I am trying to validate post request with bodypayload and params using the serverless framework for node js Here is my serverless yml where I have tested with lambda and lambdaproxy and for both I could not validate params And here is my schema1 json Note that this is native support of serverless request and not plugin version "
56919052,"Serverless Framework - How to disable all API routes to an AWS Lambda function and use SNS only","https://stackoverflow.com/questions/56919052/serverless-framework-how-to-disable-all-api-routes-to-an-aws-lambda-function-a","{amazon-web-services,serverless-framework}","2019-07-07 03:03:09+03","2024-05-17 05:15:31.069277+03","I am using the Serverless Framework and wish to create an AWS Lambda function that is only triggered through SNS notifications However this generates a POST route Why does it do this How can I disable it Update I see that it is now only in offline mode"
56926793,"Parsing AWS Lambda Python Function Response from Boto3 Cost Explorer Client","https://stackoverflow.com/questions/56926793/parsing-aws-lambda-python-function-response-from-boto3-cost-explorer-client","{python,json,amazon-web-services,aws-lambda,serverless-framework}","2019-07-07 23:08:15+03","2024-05-17 05:15:31.844256+03","I am writing a Lambda Function in Python 3 6 to query out specific conditions from the Cost Explorer API it will eventually be invoked by API Gateway so I want to be able to send back a pared down response as well as take that same response and persist it into S3 I have the overall functionality working correctly I was hoping to shortcut parsing and just crawl the response but that was not working with Glue and Athena The basic functioning code is below It gives a response like this according to the docs Which looks something like this when I run my function VS Code did this spacing I am trying to parse out only the information I get from Groups both as the printed response when I proxy it back to API Gateway and also when I persist it to S3 or Dynamo to save reports and eventually add some analytics layering to this I modified the end of my function code to this That did not work and now I am getting this error in CloudWatch Logs Is there something obvious I am doing wrong Am I not allowed to parse out only a specific array in the body Thanks for your help in advance "
56927559,"How to invoke AWS lambda while running EventGateway locally","https://stackoverflow.com/questions/56927559/how-to-invoke-aws-lambda-while-running-eventgateway-locally","{serverless-framework,event-gateway}","2019-07-08 02:00:43+03","2024-05-17 05:15:32.661439+03","I am trying to invoke an AWS Lambda function from a locally running EventGateway version 0 9 1 instance However the subscription call is failing due to an Event Type http request not found The lambda has been deployed independently using serverless framework and the ARN has been injected in the registration call The lambda is just a hello world type of lambda listening for http request My function registration call looks like this Now when I try to subscribe to an event I get the following error Any pointer to the right solution or working example is pretty much appreciated "
56927848,"Use Application Load Balancer (ALB) to trigger Lambda functions, how to add a bit of authentication at the ALB level?","https://stackoverflow.com/questions/56927848/use-application-load-balancer-alb-to-trigger-lambda-functions-how-to-add-a-bi","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2019-07-08 02:52:18+03","2024-05-17 05:15:33.484506+03","I have a React app which calls API gateway which in turn triggers my Lambda functions Now for saving cost purpose due to the potentially lets say tens of millions of requests to the API gateway I did some research and are looking at to potentially use ALB to invoke my Lambdas rather than API GW My API GW is simply a LambdaProxy integration My question is with API GW I can add API keys and custom authorizers etc but for ALB how do I add a bit of authentication at the ALB layer say only allow the invocation of my Lambda functions only from the client that I trust Note my client is a static React app with no server behind it I dont need anything too fancy but just want to reject requests other than my trusted request origins Inside Lambda to cover browser I will just add CORS to response header But at ALB level how do I achieve what I required Looking forward to getting some shed of lights here Thanks"
56930584,"Refer existing VPC for Aurora cluster creation in serverless.yml","https://stackoverflow.com/questions/56930584/refer-existing-vpc-for-aurora-cluster-creation-in-serverless-yml","{amazon-web-services,serverless-framework,amazon-vpc,amazon-aurora}","2019-07-08 07:55:38+03","2024-05-17 05:15:34.473423+03","How do I refer an already existing VPC its subnet ids while creating a DB Subnet group for an Aurora resource using the Serverless framework Most of the documentation out there only seem to point to a vpc section for lambdas I am unable to figure how to use this section for a database resource "
56947102,"Aws Serverless deployment - TypeError: Object.values is not a function in the serverless deploy command to aws","https://stackoverflow.com/questions/56947102/aws-serverless-deployment-typeerror-object-values-is-not-a-function-in-the-se","{node.js,amazon-web-services,serverless-framework,split-stacks}","2019-07-09 07:10:29+03","2024-05-17 05:15:36.657061+03","I was trying to redeploy an updated serverless function to an existing cloud formation stack on AWS using both Jenkins Job as well as manually Tried to create a new cloud formation stack and also tried to rebuild the previous successful build using Jenkins CI The node version on AWS is nodejs10 x The error is coming when using the sls deploy function Also tried to get support from the github repository for serverlesspluginsplitstacks THe following the the error messaging that was being faced"
56970358,"How to define a Pact contract between a persistent service and a synchronous serverless function?","https://stackoverflow.com/questions/56970358/how-to-define-a-pact-contract-between-a-persistent-service-and-a-synchronous-ser","{aws-lambda,serverless-framework,serverless,pact}","2019-07-10 12:06:40+03","2024-05-17 05:15:37.769788+03","I have a persistent service which synchronously calls a serverless function on AWS lambda via the serverless framework with some input the serverless and stateless lambda function performs some transformation of the input and synchronously returns the output back to the calling service I want to write a Pact contract where the serverless function is the provider and the persistent service is the consumer How can I do this for a synchronous i e RequestResponse serverless function I have found a few resources on pacts for serverless functions but they all seem to only tackle the asynchronous use case unless I am misunderstanding something To be clear the use case in my case is not asynchronous eventdriven message passing but synchronous calling of a serverless function blocking while waiting for the response From the Pact documentation I can find references only to support for HTTPbased APIs and Messagebased asynchronous APIs This use case fits neither of these patterns as we use the serverless framework which performs the actual HTTP request behind the scenes In my case the persistent service consumer is in Java and the serverless function in Kotlin i e both on the JVM "
56971070,"How to configure my Serverless YML to use my API Gateway Authorizer?","https://stackoverflow.com/questions/56971070/how-to-configure-my-serverless-yml-to-use-my-api-gateway-authorizer","{aws-lambda,aws-api-gateway,serverless-framework}","2019-07-10 12:48:54+03","2024-05-17 05:15:38.42092+03","I am following this tutorial to use Cognito to authorize the access to my lambda function through API Gateway I already create my user pool with a validated user an API Gateway authorizer and a lambda function to login and get the token ID When I get the token ID with my lambda function and test it in AWS console the authorizer returns 200 so I think it is working but when I try to send the token to my lambda function it returns 401 Unauthorized My YML configuration EDIT I looked at AWS Console how was my lambda function and API Gateway trigger had this details EDIT 2 I also discovery that my serverless version is 1 47 and it looks like it is the most updated although I have read some questions on Stack where they said that serverless is in 1 5"
56974236,"Serverless function with authorizer arn provided returns 401","https://stackoverflow.com/questions/56974236/serverless-function-with-authorizer-arn-provided-returns-401","{serverless-framework,serverless,aws-serverless}","2019-07-10 15:40:20+03","2024-05-17 05:15:39.415181+03","I am using serverless When I setup one of my functions as the following which includes authorizer on the client I receive 401 However when I remove it there are no problems On the client I expect a logged in user of the same user pool could get expected response However it returns 401 Any help is appreciated Thanks "
56975689,"Using dynamodb in local docker localhost:8000 with serverless-framework serverless-offline application running on localhost:4500","https://stackoverflow.com/questions/56975689/using-dynamodb-in-local-docker-localhost8000-with-serverless-framework-serverle","{node.js,aws-lambda,serverless-framework,dynamo-local}","2019-07-10 17:19:10+03","2024-05-17 05:15:40.206671+03","I am looking to add state to serverlessframework node application running locally I came across the official DynamoDb docker image i would like to use serverless framework with this dynamodb instance running on docker exposed at localhost8000 without using the sls install dynamodb version I have tried using it normally with the nodejs awssdk with the endpoint and region configured to local The new user table is lready created and database is accessible via awscli endpoint localhost8000 but cannot access the dynamodb instance through nodejs awssdk server js handler js serverless yml I expected to get a response from the dynamodb in docker local but the awssdk cannot connect to it The above http events go to express js which works well "
56991822,"AWS Lambda + Serverless framework - Make website accessible from China","https://stackoverflow.com/questions/56991822/aws-lambda-serverless-framework-make-website-accessible-from-china","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless,great-firewall-of-china}","2019-07-11 14:41:22+03","2024-05-17 05:15:41.34278+03","I am trying to understand the various steps and requirements I need to go through in order to make our website available from China both on the regulation side Great Firewall but also on the technical side technical limitations and changes to perform for httpsunly org Right now it does not seem to be allowed httpwww chinafirewalltest comsiteurlhttps3A2F2Funly org2F I do not need nor want to own a ch website I just want to make my website available for Chinese at httpsunly org Also the website is currently hosted on AWS Lambda using the Serverless framework and only deployed in the euwest1 region Ireland only The website does not sell anything online It is an information website not ecommerce I have looked into this issue for a few hours but I am a bit lost regarding the exact steps needed to make it happen Here are a few questions I have not found answers for Regardless of the deploying region I seem to need an ICP License as the AWS FAQ says at httpswww amazonaws cnenaboutawschinafaqsnew20step Q Do I need to file for ICP Recordal or ICP License if I want to host public content on AWS China Beijing Region or AWS China Ningxia Region Yes In accordance with Chinese laws and regulations if you use either AWS China Region to host a website providing noncommercial internet information services you must undertake filing procedures for a noncommercial website ICP Recordal through the relevant government authority If you use either AWS China Region to host a website providing commercial internet information services you must obtain a valueadded telecommunications license for a commercial website ICP License from the relevant government authority You may be required to produce your ICP Recordal or ICP License as applicable before you host public content using one of the AWS China Regions AWS China Beijing Region is operated by Sinnet who is responsible for content hosted in the Beijing Region while AWS China Ningxia Region is operated by NWCD who is responsible for content hosted in the Ningxia Region Both Sinnet and NWCD provide support at no additional charge for customers seeking ICP related services though customers are responsible for any fees imposed by the applicable government authorities To learn more about the filing procedures please visit Sinnet at httpwww sinnet com cnservice aspxPartNodeId35 and NWCD at httpnwcdcloud cnICP aspx As for actually getting the license it is a bit out of topic here but I could not understand the first provider workflow Anyway the process seems to take around 46 weeks So it likely takes even more time than that Regarding the technical details now it seems like the China region cnnorth1 Beijing and cnnorthwest1 Ningxia behave in a very particular way on AWS Lambda See Also there are technical impacts on the website itself And I have probably missed other technical limitations since that is just those I learned about within 2h of digging around Are there other steps I overlooked regulation or technical Do you have any advices or feedback about how to make a website hosted on AWS Lambda available in China"
57001273,"Combine two callbacks into one return","https://stackoverflow.com/questions/57001273/combine-two-callbacks-into-one-return","{javascript,node.js,serverless-framework}","2019-07-12 06:26:28+03","2024-05-17 05:15:41.966136+03","So I have this code So it calls lalamove getQuotation function and returns an object totalFee 108 totalFeeCurrency PHP Now I have added a new function that returns this object totalFee 10 totalFeeCurrency PHP from a different function so I thought I should push them in one array and then that is when I would call the callback but it does not work this is what I have tried and what I want to be the response is like this what am I doing wrong"
57006914,"serverless framework- shared code for python lamdas without layer or pip","https://stackoverflow.com/questions/57006914/serverless-framework-shared-code-for-python-lamdas-without-layer-or-pip","{python,serverless-framework,aws-serverless,serverless-architecture}","2019-07-12 12:20:35+03","2024-05-17 05:15:43.078042+03","I am trying to share some classes code between my lambdas in a serverless project that has several lambdas I do not want to use layers to share the code as i want to iterate quickly over the shared code Also i do not want to package my shared code in pip modules Is there any way to achieve this It seems so easy so i am astonished there is no obvious documented solution for that beside using layers My preferred structure would be"
57026415,"Why onScan function is getting called two times?","https://stackoverflow.com/questions/57026415/why-onscan-function-is-getting-called-two-times","{javascript,node.js,aws-lambda,amazon-dynamodb,serverless-framework}","2019-07-14 10:09:01+03","2024-05-17 05:15:43.757663+03","Below function is deployed on aws lamdba however I am getting every record two times because onScan function gets called two times in a single request When I checked with AWS CLI corresponding dynamoDB table there are only two records present Copied the code of onScan function from aws documentation website httpsdocs aws amazon comamazondynamodblatestdeveloperguideGettingStarted NodeJs 04 html This is My Output the records in the products is only two the expected output should be two records but getting 4 "
57028536,"How to implement two separate services in on Serverless framework application?","https://stackoverflow.com/questions/57028536/how-to-implement-two-separate-services-in-on-serverless-framework-application","{aws-lambda,serverless-framework}","2019-07-14 15:00:28+03","2024-05-17 05:15:44.830072+03","I have on serverless app which has many API endpoints i ran into the popular problem of limited 200 resources i searched for the solution some suggest using plugins to apply what is called nested stacks or multiple stacks for the same service Others suggest splitting the app into more than one service which i see is more reliable my question is what is the proper structure for one project containing two different services every service has its own serverless yml for example will we use one package json at root or what any detailed examples will be appreciated"
57034365,"How to configure and use serverless offline in macOS?","https://stackoverflow.com/questions/57034365/how-to-configure-and-use-serverless-offline-in-macos","{npm,package.json,serverless-framework,serverless-offline}","2019-07-15 06:37:37+03","2024-05-17 05:15:45.524109+03","I am trying to use the serverlessoffline library using the serverless framework I have the serverless yaml file properly configured with the added to it Following is my package json I used the following command to install the packages also ran And ran sls offline and serverless offline to run the offline mode But I am getting the following error and I checked the npm logs and found this I could use the serverlessoffline fine on ubuntu But unable to so do on Mac Is there a solution to this"
57043556,"Error from cloudfront in serverless framework lambda function","https://stackoverflow.com/questions/57043556/error-from-cloudfront-in-serverless-framework-lambda-function","{aws-lambda,serverless-framework,serverless}","2019-07-15 16:09:31+03","2024-05-17 05:15:46.205293+03","I am trying to deploy a simple Slack lambda api which uses the slackclient library to remove members and pinned messages from a specific channel The issue that I am running into is the function executes without a problem and it is removing the channel members without a problem but my Lambda function keeps returning as the response body When I check the logs using sls logs f api I dont see any errors there either I see the console log of my function successfully executing My serverless yml is as follows And my api code i have removed the unnecessary function codes as they are doing their work is Things I have tried"
57048634,"One Bucket - Multiple Topics Amazon S3, SNS","https://stackoverflow.com/questions/57048634/one-bucket-multiple-topics-amazon-s3-sns","{amazon-web-services,amazon-s3,amazon-sns,serverless-framework}","2019-07-16 00:29:40+03","2024-05-17 05:15:46.713352+03","I am trying to two SNS topics for a single bucket event At present I have my bucket configured in this manner The topic Transfomer is being listened by two subscriber lambdas and they actually output in the same bucket under different folders say folder1file1 by subscriberLambda1 and folder2file2 by subscriberLambda2 Once that is done I have one more lambda which needs to actually consume an SNS event whenever the file gets landed in that folder Since Event s3ObjectCreated cannot be duplicated I cannot actually create one more Topic for the same bucket How can I go forward with this"
57073327,"Serverless - How to access Aws secret manager as environment variable","https://stackoverflow.com/questions/57073327/serverless-how-to-access-aws-secret-manager-as-environment-variable","{node.js,aws-lambda,serverless-framework}","2019-07-17 10:02:56+03","2024-05-17 05:15:47.5678+03","Currently I am accessing AWS parameter store value as environment variable It is defined in serverless yml like so In code I access this like so process env XYZ_CREDS I need to move this value to AWS secret manager and access the xyzCreds in the same way Based on the serverless document I tried like so But it is not working Please help "
57080184,"MinimumSizeCompression is not working with serverless","https://stackoverflow.com/questions/57080184/minimumsizecompression-is-not-working-with-serverless","{serverless-framework,aws-serverless,serverless-plugins}","2019-07-17 16:08:35+03","2024-05-17 05:15:48.599872+03","I am using the new serverless compression option using minimumCompressionSize 1KB Everything works fine on payloads 1KB yet payload 1KB are also compressed It is like the minimumCompressionSize remains 0 whatever value I choose See image Below here is my serverless yml Have you encountered this problem How can I solve it without manually updating the apigateway configuration on aws Thank you in advance I followed this guide httpsmedium comOneMuppet_gzipdeflatecontentfromawsapigatewayusingserverless36e208da4270 and tried what is in the official documentation httpsserverless comframeworkdocsprovidersawseventsapigatewaycompression"
57088357,"AWS Lambda - Runtime.ImportModuleError: Error: Cannot find module 'jmespath'","https://stackoverflow.com/questions/57088357/aws-lambda-runtime-importmoduleerror-error-cannot-find-module-jmespath","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-07-18 06:33:54+03","2024-05-17 05:15:49.589059+03","I am working with aws lambda using serverless framework I changed the runtime from nodejs8 10 to nodejs10 x then I got an errortrace What is the cause of this issue and how can get it fixed"
57117775,"en-core-web-sm module error - Serverless deployment AWS Lambda","https://stackoverflow.com/questions/57117775/en-core-web-sm-module-error-serverless-deployment-aws-lambda","{amazon-web-services,configuration,aws-lambda,serverless-framework,spacy}","2019-07-19 18:17:30+03","2024-05-17 05:15:50.70163+03","I am using SpaCys encorewebsm in my Python AWS Lambda I ran pip freeze requirements txt to get all the dependencies in the requirements txt file encorewebsm2 1 0 is one of the lines in the file When I try to make a serverless deployment I get ERROR Could not find a version that satisfies the requirement encorewebsm2 1 0 from versions none ERROR No matching distribution found for encorewebsm2 1 0 Even though I am not using Heroku I followed Heroku Deployment Error No matching distribution found for encorewebsm and added the line httpsgithub comexplosionspacymodelsreleasesdownloaden_core_web_sm2 1 0en_core_web_sm2 1 0 tar gzeggen_core_web_sm2 1 0 in my requirements txt file only to get Unzipped size must be smaller than 262144000 bytes Service AWSLambdaInternal Status Code 400 Error Code InvalidParameterValueException Request ID XxXXxX How to wire up enwebcoresm to my Lambda"
57118962,"How do I grant a rotation Lambda access to AWS Secrets Manager","https://stackoverflow.com/questions/57118962/how-do-i-grant-a-rotation-lambda-access-to-aws-secrets-manager","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework,aws-secrets-manager}","2019-07-19 19:54:59+03","2024-05-17 05:15:51.731268+03","Using the serverless framework I am trying to build a Lambda function that periodically rotates a secret stored in AWS Secrets Manager I am having trouble configuring the roles needed for the Secret Manager to execute the Lambda In my serverless yml I have defined the following resources and attach this role to the rotation Lambda like this Yet when I try to set up Secrets Manager to use this Lambda for rotating secrets I will get the following error message Secrets Manager cannot invoke the specified Lambda function Ensure that the function policy grants access to the principal secretsmanager amazonaws com which puzzles me as this principal is specified Inspecting the role in the IAM console did not reveal anything that seemed wrong to me How do I correctly configure the role setup in this scenario"
57289952,"handle PolicyLengthExceededException for cloud watch log streaming","https://stackoverflow.com/questions/57289952/handle-policylengthexceededexception-for-cloud-watch-log-streaming","{amazon-web-services,stream,aws-lambda,amazon-cloudwatch,serverless-framework}","2019-07-31 11:42:28+03","2024-05-17 05:15:53.836241+03","I would like to stream all my AWS lambda logs to another lambda Works great but I have arround 60 functions and I am not able to add more triggers From lambda view From cloud watch view I am trying to find the policy in question perhaps I can update it to use wildcards but I do not know which is used "
57292228,"Return friendlier response body when an invalid API Gateway endpoint is requested","https://stackoverflow.com/questions/57292228/return-friendlier-response-body-when-an-invalid-api-gateway-endpoint-is-requeste","{aws-lambda,aws-api-gateway,serverless-framework,lambda-authorizer}","2019-07-31 13:42:03+03","2024-05-17 05:15:54.801275+03","I am using the Serverless framework to create an API Endpoints are defined in the serverless yml file creating API Gateway endpoints that route through a custom Authorizer function and resolve to Go Lambda functions However if a client hits an endpoint that has not been explicitly defined passing in their JWT Token in the Authorization header API Gateway returns a 403 Forbidden response with the following body The 403 Forbidden status seems appropriate but I would like to send an easier to understand error message back to my clients in the body of the response Is there a way to modify the response body when an invalid endpoint is requested"
57298750,"http-proxy to cloudfront results in 403 error","https://stackoverflow.com/questions/57298750/http-proxy-to-cloudfront-results-in-403-error","{proxy,amazon-cloudfront,serverless-framework,node-http-proxy}","2019-07-31 20:58:00+03","2024-05-17 05:15:55.638142+03","I have a series of serverless next js apps running on AWS that I am serving at subdomains and I want to proxy them to subdirectories on my main domain So for example the app at foo example comfoo should appear at www example comfoo I have accomplished this by using httpproxy and express I have a fairly simple express server that runs in its own serverless app like so This works quite well on its own which is great However when I try to put this behind CloudFront the index page works fine but anything that touches the proxy returns a 403 error What might be going wrong here and how can I configure httpproxy so that it will cooperate with CloudFront"
57301087,"How to reference secondary indexes in serverless.yml?","https://stackoverflow.com/questions/57301087/how-to-reference-secondary-indexes-in-serverless-yml","{aws-cloudformation,serverless-framework,aws-serverless}","2019-08-01 02:25:23+03","2024-05-17 05:15:56.71016+03","I am very unclear on how references or variables work with CloudFormation Currently my iAmRole in my serverless yml looks like ReportsTable is a table created in another file that looks like I understand that the second value in the FnGetAtt array is referencing an attributename but I do not understand where Arn is coming from It seems like a variable but it is not defined anywhere Ultimately I need to add another Effect Action Resource block referencing the local secondary index I have created but I am lost as to where to start Edit Looks like Arn comes from dynamoDB tables return values httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcedynamodbtable html Edit2 Okay so I now have the format arnawsdynamodbregionaccountidtabletablenameindex from the permissions reference docs testing now "
57322645,"How to define DynamoDB table with global secondary index in serverless framework","https://stackoverflow.com/questions/57322645/how-to-define-dynamodb-table-with-global-secondary-index-in-serverless-framework","{amazon-dynamodb,serverless-framework}","2019-08-02 08:30:14+03","2024-05-17 05:15:57.705284+03","I want to have a global secondary index so I can query to filter all the messages of a users and I get them ordered using the sort key as explained in httpsdocs aws amazon comamazondynamodblatestdeveloperguideGSI html An error occurred EventsTable Property AttributeDefinitions is inconsistent with the KeySchema of the table and the secondary indexes "
57340767,"webpack output dropping dependencies","https://stackoverflow.com/questions/57340767/webpack-output-dropping-dependencies","{node.js,webpack,node-modules,serverless-framework,webdriver-io}","2019-08-03 17:47:31+03","2024-05-17 05:15:58.654763+03","I have a node project using serverless webpack I am having an issue where my lambda cannot find a node dependency even though it is specified in my package json and it is getting loaded locally serverless yml package json dependencies In my local node_modules folder I see these wdio dependency folders as expected see image below httpsuserimages githubusercontent com452875362386889c0cfc900b51e11e9913075e86cced74a png However when I run serverless package which subsequently executes the webpack then inspect the zip file produced I see the node_modules folder is missing those key dependencies wdio see image below httpsuserimages githubusercontent com452875362386982012f4700b51f11e99efacb61000a424e png Where is everything else I see no output from webpack indicating it ignored these Finally here is my webpack config js file What am I missing here I am positive it has nothing to do with serverlessserverlesswebpack as I can run webpack by itself to inspect it is output and I see the modules missing "
57350873,"Deploying Single Lambda Function From CI/CD pipeline","https://stackoverflow.com/questions/57350873/deploying-single-lambda-function-from-ci-cd-pipeline","{aws-lambda,continuous-integration,terraform,serverless-framework,circleci}","2019-08-04 23:30:17+03","2024-05-17 05:15:59.284236+03","I am dealing an infrastructure and trying to figure it out how to deploy just single lambda from CICD pipeline Let us say in a repo you have 20 lambdas and you made change for one single lambda instead of deploying all of them i just want to deploy the changed one so cut out the deployment time I have got an idea like checking difference from git and figure it out which ones are changed and do deployment only that part of functionality but it surely does not seem right way to do it Believing there is more proper way to do it I am using terraform for now moving to serverless framework i know that terraform and serverless framework holds a state on s3 bucket However on my case when i run it through pipelines eventhogh there is a terraform state and there is no change on the state it still deploys the whole thing as far as realised i might be wrong I just want to get clear my mind to see how people does this with their pipline "
57377077,"AWS serverless deployment with webpack built modules failing","https://stackoverflow.com/questions/57377077/aws-serverless-deployment-with-webpack-built-modules-failing","{amazon-web-services,webpack,aws-lambda,serverless-framework,aws-serverless}","2019-08-06 13:21:44+03","2024-05-17 05:16:00.186214+03","I have created a serverless awsnodejs template project and in it I have organized my js files in the following way And this is my serverless yml and in one of my js files I am trying to use So I am trying to load some of the environment variables from this env file Now this is working as expected when I test these files locally with sls offline start but when I deploy them to a aws account the apis stop working as expected and also when I see the package restapi zip file in the serverless directory I do not see all the files from src directory packaged in there So how do I fix this issue and deploy my project correctly with serverless on aws "
57399032,"Fetching from AWS Lambda retrieves old data","https://stackoverflow.com/questions/57399032/fetching-from-aws-lambda-retrieves-old-data","{javascript,node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-08-07 16:48:08+03","2024-05-17 05:16:01.337388+03","I have a serverlessbased isomorphic next js app that fetches data from a CDN that it uses to render the website It does this by what I might have thought was a fairly innocuous method This retrieves the data nicely enough but it retrieves stale dataat times many hours old The same code when it runs on the client side happily fetches uptodate data Relevant other information Why is this happening and more importantly how can I get AWS Lambda to see current copies of the data file"
57400426,"How to use django's ORM as a stand alone package in AWS lambda?","https://stackoverflow.com/questions/57400426/how-to-use-djangos-orm-as-a-stand-alone-package-in-aws-lambda","{python,django,amazon-web-services,django-orm,serverless-framework}","2019-08-07 18:34:23+03","2024-05-17 05:16:02.298221+03","For starters I have tried the following posts they did not help Using Django ORM Inside AWL Lambda Using Only The Db Part Of Django Django Stand Alone Docs Following the django docs and using pieces of the above links I created the following standalone script to use djangos ORM In my handler py file with my registerUser lambda functions When I run this I get the following error My directory structure is the following What am I doing wrong and how do I get the django ORM to be standalone"
57403579,"How to configure Serverless Cognito Lambda Triggers","https://stackoverflow.com/questions/57403579/how-to-configure-serverless-cognito-lambda-triggers","{amazon-web-services,aws-lambda,amazon-cognito,serverless-framework,eventtrigger}","2019-08-07 23:58:51+03","2024-05-17 05:16:03.423013+03","Using the Serverless framework to create a Cognito User Pool as well as several lambdas to be used for cognito events during TOPT SMS Authorization Everything is created however the lambda functions are not registered with Cognito Relatively new to Serverless jut cannot seem to get them to connect Have tried pool names as others have tried to mark as already present at the end of creation the pool is there and the lambdas are there but there is no connection Currently following another post tried changing user pool to CognitoUserPoolMyUserPool and then in lambda referencing it as MyUserPool Have also tried just CognitoUserPool in both locations and neither work Example serverless yaml file Expectation is the User Pool is correctly created and configured to use the lambdas for triggered workflow execution "
57404025,"Python Serverless (SLS): Runtime.ImportModuleError: Unable to import module","https://stackoverflow.com/questions/57404025/python-serverless-sls-runtime-importmoduleerror-unable-to-import-module","{python,python-3.x,lambda,serverless-framework}","2019-08-08 01:14:23+03","2024-05-17 05:16:04.686167+03","I am working on a project that is using AWS CodeBuild to deploy a Serverless SLS function that is written in Python The deployment works fine within code build It successfully creates the function and I can view the lambda within the Lambda AWS UI Whenever the function is triggered I get the error seen below It is extremely frustrating as I know the function exists at that directory listed above During the CodeBuild script I can ls into the directory and confirm that it indeed exists The function is defined in my serverless yml file as follows Sadly I have not been able to crack this one Has anyone had a similar experience while working with SLS and python in the cloud It seems odd that SLS would build and deploy successfully but the Lambda itself cant find the function "
57407062,"AWS Serverless custom jwt authorizer lambda set cors response","https://stackoverflow.com/questions/57407062/aws-serverless-custom-jwt-authorizer-lambda-set-cors-response","{amazon-web-services,cors,aws-api-gateway,serverless-framework,lambda-authorizer}","2019-08-08 07:10:30+03","2024-05-17 05:16:05.413902+03","I have a rest api being deployed on aws with serverless framework Now I have created a simple jwt token custom token authorizer in it to authorize my endpoints This is my routes definition in the serverless yml And this is my custom authorizer tokenVerifier function definition Also I have created a response helper utility which I use everywhere to return response to users So as you can see I have added cors true to the routes yml and also added the cors headers to all my lambda responses On google I came across this answer and I tried to add these to the default_4xx default_5xx and expired token responses too But still I am getting the same error So am I missing something here or can anyone help find and fix this issue here "
57408181,"How to bundle headless chromium module with AWS Lambda?","https://stackoverflow.com/questions/57408181/how-to-bundle-headless-chromium-module-with-aws-lambda","{node.js,aws-lambda,puppeteer,serverless-framework,google-chrome-headless}","2019-08-08 08:19:50+03","2024-05-17 05:16:06.437886+03","I am attempting to use Puppeteer with Lambda however on serverless deploy the lambda errors out due to exceeding the 250mb unbundled package size limit So to get under the limit I have switched to Puppeteer core which does not come packaged with chromium This requires referencing a path to an executable to launch chrome e g puppeteer launch executablePath headlessChromiumPath However I am not sure how to load a headless Chromium into my container so that I can later reference it To solve this I am trying a couple of things First I have downloaded a binary headless chromium and I have included it into my API File structure Referenced like However I cannot import or require it so my lambda does not recognize that it exists and does not include it in my deployment package My question here is how do I correctly include the headless file into my API so that I can reference it from within this lambda If that is not an option I see that I can upload the binary to S3 and then download it on container startup Any references on where to begin tackling this would be much appreciated "
57411532,"When trying to deploy to aws-lambda Error: operation not permitted occurs","https://stackoverflow.com/questions/57411532/when-trying-to-deploy-to-aws-lambda-error-operation-not-permitted-occurs","{amazon-web-services,aws-lambda,puppeteer,serverless-framework}","2019-08-08 11:29:24+03","2024-05-17 05:16:08.151053+03","I am trying to deploy a function to aws that takes screenshot of the given url and tweets it I am using puppeteercore serverlesschromelambda and serverlesspluginchrome to take screenshot following these articles but instead of uploading to aws I tweet the image httpsswizec comblogserverlesschromeonawslambdatheguideworksin2019beyondswizec9024 and httpsnadeesha github ioheadlesschromepuppeteerlambdaservelerless It works fine on invoking locally and does everything but when I try to deploy it show an error that operation not permitted Below is the console log when I try to deploy I initially tried using just puppeteer but the package size was too big so I decided to go with this serverlesschrome approach and here is a relevant link but I have not been able to solve it httpsgithub comadieuadieuserverlesschromeissues155"
57423611,"Is there any way to tag all resources through serverless?","https://stackoverflow.com/questions/57423611/is-there-any-way-to-tag-all-resources-through-serverless","{amazon-web-services,tags,serverless-framework,amazon-kinesis}","2019-08-09 04:48:32+03","2024-05-17 05:16:08.386194+03","I am adding tags using serverless and my service also using other resources e g kinesis Is there any way to add tags in kinesis through serverless"
57425977,"How to use an external layer with the Serverless Framework?","https://stackoverflow.com/questions/57425977/how-to-use-an-external-layer-with-the-serverless-framework","{aws-lambda,serverless-framework,serverless}","2019-08-09 08:11:27+03","2024-05-17 05:16:09.383082+03","I would like to use an external layer arnawslambdaeucentral1347034527139layertf_keras_pillow1 in my Serverless project I do so by having the following in my serverless yml However when checking the AWS Lambda function in the console there is no layer added after deployment Any ideas The only way to add the layer is by manually doing so in the GUI "
57430901,"Hosting a Angular 6 app in AWS S3 bucket with proxy","https://stackoverflow.com/questions/57430901/hosting-a-angular-6-app-in-aws-s3-bucket-with-proxy","{node.js,angular,amazon-s3,amazon-ec2,serverless-framework}","2019-08-09 13:16:54+03","2024-05-17 05:16:09.987632+03","I have an Angular App which is calling API from different server CORS I have set up Proxy to do so When I run npm start it will run ng serve port 80 proxyconfig proxy conf json My package json file is as below The proxy config json file contains API endpoint configuration as below I have uploaded the project to AWS EC2 Ubuntu Node 10 9 0 NPM 6 4 0 Instance and followed THIS tutorial to deploy it using serverless Its created an S3 bucket and I can access the frontend HTML CSS and JavaScript are loading properly But images are not If I open the images it is showing Forbidden 403 error Below is my S3 Bucket Policy Another problem is API Requests which I was doing using Proxy are also showing the same error How to host the website properly on S3 bucket and make the API calls with the Proxy I do not want to disclose the API Endpoint to the user Is there any other way to host the site"
57434828,"YML with multiple files: Unhandled rejection YAMLException: duplicated mapping key","https://stackoverflow.com/questions/57434828/yml-with-multiple-files-unhandled-rejection-yamlexception-duplicated-mapping-k","{yaml,aws-sdk,amazon-cognito,serverless-framework}","2019-08-09 17:36:09+03","2024-05-17 05:16:10.806759+03","I tried to separate my resources field in multiple files in project Most of then worked fine but only this file where I declare CognitoUserPool CognitoUserPoolClient trowed this exception I have already checked logical and indentation problems This same lines worked on single file they only throw this error when I move them to another YML file and import it Main YML file importing the another one File imported the one that throw error "
57437050,"AWS Lambda and IAM error on deploy: The role defined for the function cannot be assumed by Lambda","https://stackoverflow.com/questions/57437050/aws-lambda-and-iam-error-on-deploy-the-role-defined-for-the-function-cannot-be","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework}","2019-08-09 20:59:53+03","2024-05-17 05:16:11.934867+03","In my AWS project I use the serverless framework to deploy lambda function and IAM roles So I created 6 lambda functions all using the same IAM Role below When I deploy using the serverless deploy command I sometimes got the following error It looks like a random bug since it doesnt occurs everytime Also when it occurs it doesnt always occurs on the same function Did I do something wrong How can I fix that Thanks for your help "
57452377,"AWS Lambda and Cognito error on deploy: Only one request to update this UserPool can be processed at a time","https://stackoverflow.com/questions/57452377/aws-lambda-and-cognito-error-on-deploy-only-one-request-to-update-this-userpool","{amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2019-08-11 18:05:21+03","2024-05-17 05:16:12.898893+03","In my AWS project I use the serverless framework to deploy lambda functions and a Cognito user pool I want 2 of my lambda functions to be triggered by Cognito user pool events so here is what I did When I deploy using the serverless deploy command I sometimes got the following error It looks like a random bug since it doesnt occurs everytime happens very often though Also when it occurs it doesnt always occurs on the same function Did I do something wrong How can I fix that Thanks for your help "
57460037,"Golang Serverless Offline","https://stackoverflow.com/questions/57460037/golang-serverless-offline","{go,aws-api-gateway,serverless-framework,serverless}","2019-08-12 11:07:48+03","2024-05-17 05:16:13.894991+03","I am new to the serverless framework and I have some questions I have an APIGateway with Go Lang developed on the Serverless framework and I am trying to get serverless offline to work I already installed the serverlessoffline plugin and when I run the sls offline start command everything goes as expected When I run the Get route in the browser I am getting the following error My functions config in serverless yml My handler What am I doing wrong"
57463592,"Creating multiple stages for single url in serverless?","https://stackoverflow.com/questions/57463592/creating-multiple-stages-for-single-url-in-serverless","{amazon-web-services,serverless-framework,serverless}","2019-08-12 14:57:11+03","2024-05-17 05:16:14.87198+03","So I know you can manually do this in AWS but I want to be able to achieve this functionality Rather than three completely new endpoints like so Looks like someone asked this about two years ago and sounds like at the time it was not possible to do but serverless since then has been working on it httpsforum serverless comtapigatewaysamebaseurlsformyapis674 EDIT To elaborate in aws we do not want 3 different endpoints apigateways for each stage being made We want one endpoint apigateway with 3 stages being made underneath it"
57466056,"Serverless Deployment failing due to usage of require AND import","https://stackoverflow.com/questions/57466056/serverless-deployment-failing-due-to-usage-of-require-and-import","{javascript,amazon-web-services,aws-lambda,serverless-framework,serverless}","2019-08-12 18:02:07+03","2024-05-17 05:16:15.491972+03","I know it is a bad practice to use the import as well as require statements in the same file but I heard it should not cause any problems Why will my lambda fail then when running yarn run local and complain about an Unexpected Identifier when encountering the import statement Heres the current codebase The problem lies in the functionsedge js file EDIT I am sorry I have not clearly formulated my question Replacing the import statement with the seemingly equivalent const middleware require sapperserver results in an error It cannot find the module with import it works perfectly fine even during production "
57468191,"Why does AWS API Gateway websocket send error","https://stackoverflow.com/questions/57468191/why-does-aws-api-gateway-websocket-send-error","{go,websocket,aws-lambda,serverless-framework}","2019-08-12 21:02:18+03","2024-05-17 05:16:17.041957+03","I am using serverless framework to set up an AWS API Gateway websocket which calls a lambda function written in Go Right now the handler only logs a message I can connect to the websocket and I can see the message is logged in Cloudwatch when I send a message through the socket but I always get an error message that looks like There are no errors logged for the lambda in Cloudwatch The AWS API Gateway config looks good to me I am at a loss trying to think of what could cause this My main go Probably not super relevant but the serverless yaml config The payload I am sending"
57480766,"How do I pass command line arguments to a Lambda function in Serverless/Bref?","https://stackoverflow.com/questions/57480766/how-do-i-pass-command-line-arguments-to-a-lambda-function-in-serverless-bref","{aws-lambda,serverless-framework,serverless,aws-serverless,bref}","2019-08-13 15:14:54+03","2024-05-17 05:16:17.27479+03","I am running a Symfony 4 PHP application on AWS Lambda using Bref which uses Serverless Bref provides a layer for Symfonys binconsole binary The Serverless config for the Lambda function looks like this Using the above I can run vendorbinbref cli mmconsole mmfindmatches to run binconsole mmfindmatches on Lambda What if I want to run the mmfindmatches console command on a schedule on Lambda I tried this However binconsole mmfindmatches is not a valid handler How can I pass mmfindmatches command to the binconsole function on a schedule"
57498259,"Stack with id [existing stack] does not exist","https://stackoverflow.com/questions/57498259/stack-with-id-existing-stack-does-not-exist","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-08-14 16:00:21+03","2024-05-17 05:16:18.391941+03","Stack XXX was created and deployed without issue I updated a dependency and now want to redeploy it but when I call sls deploy it returns Stack with id YYY does not exist However stack YYY does exist and in the same region as stack XXX I have deleted the S3 file for stack YYY and redeployed it which did not fix the problem Other people have talked about sls remove causing the issue but I have not called that on either stack I have also read that the problem might be the soft limit of 100 buckets in S3 but I am not approaching that This is where and how stack YYY is referenced within XXX I expect sls deploy to run without issue Here is the error message with environment info"
57529281,"Serverless first deploy error occured: HelloLogGroup - User","https://stackoverflow.com/questions/57529281/serverless-first-deploy-error-occured-hellologgroup-user","{amazon-web-services,serverless-framework,serverless}","2019-08-16 18:12:02+03","2024-05-17 05:16:19.525715+03","I want to test deploy serverless project using default serverless template but i got this error"
57534298,"module initialization error: Error at Object.fs.openSync (fs.js:646:18) at Object.fs.readFileSync (fs.js:551:33)","https://stackoverflow.com/questions/57534298/module-initialization-error-error-at-object-fs-opensync-fs-js64618-at-objec","{node.js,file,aws-lambda,serverless-framework,serverless}","2019-08-17 07:41:43+03","2024-05-17 05:16:20.576902+03","I am working with aws lambda I have one of my p8 file which is being used to send apns notification Since I cannot use relative or absolute path because it is a server less I have to read it from s3 url And for that I made this Now How I can append that file buffer which is on S3 Thank you "
57558482,"AWS Lambda, adding firebase module and its dependencies to function for use with Angular Universal","https://stackoverflow.com/questions/57558482/aws-lambda-adding-firebase-module-and-its-dependencies-to-function-for-use-with","{firebase,aws-lambda,angularfire2,serverless-framework,aws-lambda-layers}","2019-08-19 14:09:52+03","2024-05-17 05:16:21.66296+03","I have an Angular Universal project deploying to AWS Lambda with SSR but I have not managed to get firebase to work as a dependency with it All the errors in the console are related to the firebase dependency its dependencies Method 1 Include firebase module This adds firebase and now the errors moves to being unable to find dependencies of firebase and so on Method 2 Just include all node modules This is an Angular project and I have 600mb of dependencies that build the app Method 3 Installing firebase inside my Angular dist folder This will throw a runtime error Method 4 serverlesswebpack This will throw error during sls deploy saying it cannot find webpack config but it is right there in the root directory next to the serverlesss yml and it is already used by angular universal I cannot overwrite it with different configs for serverlesswebpack plugin Method 5 Manual Lambda Layer I have tried making a layer with a package json that has firebase as a dependency ran npm install made an archive of the nodejs folder that has the node_modules folder and uploaded it as a layer manually added to my function Same error as 1 cannot find the firebase module this would also be overwritten by the serverless framework on my next deploy Method 6 Lambda layer via serverless I have tried to piece these articles together to get something working Article 1 Article 2 Article 3 and used the example from this github but switched moment with firebase But none of them worked the serverless config Would throw No file matches include exclude patterns I also have const firebase require firebase inside my endpoint handler I have been trying to get this working for two whole days and it has been beyond frustrating Any help is appreciated "
57560369,"Serverless deploy fails","https://stackoverflow.com/questions/57560369/serverless-deploy-fails","{amazon-web-services,amazon-dynamodb,serverless-framework,serverless,aws-serverless}","2019-08-19 16:06:45+03","2024-05-17 05:16:22.641222+03","Iam trying to deploy my lambda function to AWS using serverless When executing serverless deploy verbose Iam getting the following error every time Serverless Error An error occurred mainTable Invalid KeySchema The first KeySchemaElement is not a HASH key type Service AmazonDynamoDBv2Status Code 400 Error Code ValidationException Request ID EACEH0RDMBR36TR0DDBGODTRT3VV4KQNSO5AEMVJF66Q9ASUAAJG My serverless yml looks as following Can someone of you help Cheers "
57568482,"Command to stop and restart serverless","https://stackoverflow.com/questions/57568482/command-to-stop-and-restart-serverless","{node.js,serverless-framework,serverless,aws-serverless}","2019-08-20 07:18:25+03","2024-05-17 05:16:23.559128+03","I know I can use this command to deploy my api functions I need to stop this service and restart it again What is the command for that Thank you"
57575458,"How to get env variable and save to parameter Store?","https://stackoverflow.com/questions/57575458/how-to-get-env-variable-and-save-to-parameter-store","{node.js,amazon-web-services,serverless-framework}","2019-08-20 14:04:32+03","2024-05-17 05:16:24.661872+03","i am using serverless framework aws From cloudFormation when creating a database writes to the env variable endpoint of the database part of my serverless yml file This variable is available from the lambda level as it is already deployed on aws But I want to have access to this variable from locally I came across the idea that I would write this variable to the parameter store aws systems manager So I attached the script to my serverless yml file using serverlessscriptableplugin scriptHooks part of my serverless yml file Heres the script Nothing special writes an environment variable process env DATABASE_HOST to parameter stora But after taking deploy the variable is undefined This is because the variable value is only available later Do you know how to get me to get the base endpoint to parameter store"
57693867,"Mongoose lambda example creates a new connection everytime it gets triggered","https://stackoverflow.com/questions/57693867/mongoose-lambda-example-creates-a-new-connection-everytime-it-gets-triggered","{mongoose,aws-lambda,serverless-framework,nestjs}","2019-08-28 13:41:41+03","2024-05-17 05:16:25.621862+03","I have been following the official mongoose documentation and have built the mongoose connection into my handler This is in the root of my handler file Now inside my actual handler function However upon testing with serverless offline for every hit I start a new connection Hit 1 1 New connected to mongoose message Hit 2 2 New connected to mongoose message and so on I have tried moving them around with a few variations but whichever way I still end up with the same bug If I try to use mongoose createConnection instead actually connecting to the DB will not work at all anywhere I put it "
57694397,"execute serverless deploy with aws role","https://stackoverflow.com/questions/57694397/execute-serverless-deploy-with-aws-role","{amazon-web-services,amazon-iam,serverless-framework,serverless,aws-serverless}","2019-08-28 14:10:26+03","2024-05-17 05:16:26.442754+03","I am trying to deploy a simple lambda funtcion with the serverless framework My IAM user does not have the necessary permissions to run cloudformation That is more or less intended since our setup is using IAM roles to perform certain tasks I have configured those roles in my awsconfig file and for aws cli operations I can e g call in that way I attach all policies from the role myrole to my IAM user to execute the awscli command Is there any way of doing something similar for serverless i e attaching a role not a different user to the statement If I change the role via export AWS_PROFILEmyrole or call serverless deploy awsprofile myrole I get Error Profile myrole does not exist even though the role is defined in awscredentials and awsconfig"
57698678,"serverless: When 302 redirect the custom header or set-cookie header not getting passed","https://stackoverflow.com/questions/57698678/serverless-when-302-redirect-the-custom-header-or-set-cookie-header-not-getting","{aws-lambda,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2019-08-28 19:06:28+03","2024-05-17 05:16:27.40465+03","I am using aws api gateway with help of serverless I am able to redirect to another domain from my lambda function like abc com API Gateway Lambda [302 redirect] xyz com I am unable to set custom header or any header here is my code my authhandler yml looks like this I am unable to set cookie in xyz com please help Thanks in advance"
57700391,"How to share an authorizer between templates without hitting limit of authorizers per API","https://stackoverflow.com/questions/57700391/how-to-share-an-authorizer-between-templates-without-hitting-limit-of-authorizer","{aws-api-gateway,serverless-framework}","2019-08-28 21:41:19+03","2024-05-17 05:16:28.410787+03","I have a dozen services which each have their own serverless template file sharing the same root API on API Gateway My root serverless yml file defines the API and an authorizer In the template for each of my services I have code like the following This works fine but once I have 10 services deployed trying to deploy an 11th with the same authorizer gives me the following error Now I could just contact AWS to get the limit increased but since they are technically all the same authorizer I feel like there should be a way for me to make it work without creating a separate authorizer for each template file I tried using the same authorizer name for all of them but I just end up getting the error Is there a way for me to share this authorizer among all of my services on the same API without having to create a newly named one for each service so that I do not hit this limit"
57725786,"How to fix this is not a function nodejs","https://stackoverflow.com/questions/57725786/how-to-fix-this-is-not-a-function-nodejs","{node.js,amazon-web-services,serverless-framework}","2019-08-30 11:20:15+03","2024-05-17 05:16:29.407841+03","I am following this article from medium httpsblog bitsrc ioserverlessbackendusingawslambdahandsonguide31806ceb735e Everything works except when I attempt to add a record to the DynamoDB I get an error that say this is not a function"
57726007,"Lambda: cannot find module './drivers/node-mongodb-native/connection'"", although mongoose layer added","https://stackoverflow.com/questions/57726007/lambda-cannot-find-module-drivers-node-mongodb-native-connection-although","{mongoose,aws-lambda,serverless-framework,nestjs,aws-lambda-layers}","2019-08-30 11:35:53+03","2024-05-17 05:16:30.163851+03","I have a NestJS app in my handler file I import mongoose to create the connection then in my handler function Now I have deployed tested my app fully without mongoose and everything works Relevant serverless config And I have added a mongoose layer inside the zip I had a folder called nodejs inside of which I have package json and node_modules folders containing all dependencies as installed by npm I have used layers before that have worked without issues installed in the same manner However I am still getting this on the console when trying any endpoint"
57729921,"Serverless move s3 bucket reference to Resources","https://stackoverflow.com/questions/57729921/serverless-move-s3-bucket-reference-to-resources","{serverless-framework}","2019-08-30 15:56:00+03","2024-05-17 05:16:30.799795+03","It is pretty simple I want to have more finetuned control of the s3 buckets created by serverless by managing them in the Resources section I used to reference the bucket like this But now I want to reference it like this My understanding is that this will allow me more configuration options let me include the bucket in outputs etc However I get this error when deploying to my dev stage MyBucket mybucketdev already exists in stack stack info Is there a way I can make this syntax change in Serverless without it throwing an error I also did not want to use existing true because I will be deploying to stages where the bucket will not exist"
57733581,"""Serverless-offline: route not found."" running an AWS Lambda function in offline mode","https://stackoverflow.com/questions/57733581/serverless-offline-route-not-found-running-an-aws-lambda-function-in-offline","{javascript,routes,serverless-framework,serverless}","2019-08-30 21:52:47+03","2024-05-17 05:16:31.811151+03","This question is pretty much the same as Serverless offline not getting route but since that one was not answered I am asking again I am trying to follow this article httpsmedium comawesome1888howtouseserverlesslocallywithwebpackanddocker5e268f71715 on how to deploy a Lambda function with Serverless I have a directory with the following structure where serverless yml reads srcindex js reads srchandler js reads and webpack config js reads The problem is when I start up the function in offline mode it seems to have only one very specific route and if I go to httplocalhost3000hello I get this response Any idea why this is not working I have perused httpsserverless comframeworkdocs but could not quickly find an answer "
57733950,"{""message"":""Missing Authentication Token""} when curling and endpoint for a Serverless Lambda function","https://stackoverflow.com/questions/57733950/messagemissing-authentication-token-when-curling-and-endpoint-for-a-serve","{python,serverless-framework,serverless}","2019-08-30 22:55:43+03","2024-05-17 05:16:32.399607+03","I have cloned and deployed the example Serverless Lambda function from this repository httpsgithub comserverlessexamplestreemasterawspythonsimplehttpendpoint which has an endpoint which simply prints the current time I have deployed it and am able to invoke it using serverless invoke In the AWS console I looked up the Lambdas functions endpoint under the API Gateway service and tried to curl it However I get an error for a missing authorization token According to the README md for that example I should see the same output as for the serverless invoke Any idea why the endpoint is returning a Missing Authentication Token message"
57877852,"S3.getObject() works locally but not on Lambda","https://stackoverflow.com/questions/57877852/s3-getobject-works-locally-but-not-on-lambda","{amazon-s3,aws-lambda,serverless-framework}","2019-09-10 20:31:38+03","2024-05-17 05:16:50.046546+03","I have a Lambda function triggered by S3 upload I want to read the contents of the uploaded file by using a readStreamer If I invoke this function locally using sls invoke path event json being event json the exact event that s3 produces the file is printed on console If I upload a file to S3 nothing is printed Even if I wrap it all in a trycatch no error is catched serverless yml allows getObject for s3 "
57737904,"I can't connect mysql client to RDS through VPN","https://stackoverflow.com/questions/57737904/i-cant-connect-mysql-client-to-rds-through-vpn","{aws-lambda,aws-cloudformation,amazon-rds,serverless-framework,openvpn}","2019-08-31 12:10:33+03","2024-05-17 05:16:33.916661+03","I have been really struggling to use AWS RDS All networking configuration things is a really pain in the back since I have no skills in networking and I do not like it either My goal is to create my mysql DB on RDS be able to connect to it through any mysql client run my SQL script to create the DB and execute my lambdas to insert data to this DB So mysql client RDS mysql lambdas They all need to connect to each other After many weeks of research trying to understand all networking things around AWS copying examples from one place and another I have got the following scenario I have a VPC public and private subnets security groups EIPs RDS and VPN all in my cloud formation template I can deploy everything ok all seems to be working I can connect to my VPN and ping the private IP of my EIP But still I cannot connect my mysql client to my RDS So I cannot run my SQL script and I cannot test my lambdas to see if they are really connecting to my RDS This is part of my configuration that I am guessing could be related with the problem but as you can imagine my lack of networking knowledge is making it harder The only thing that comes to my mind is that VPN and RDS are not part of the same subnets Full configuration httpsgist github comserraventuraec17d9a09c706e7ace1fd3e3be9972aa RouteTableDB is always only connecting to private subnets while VPN ec2 only connects to public subnet RDS VPN"
57740262,"Possible for one resource to reference another?","https://stackoverflow.com/questions/57740262/possible-for-one-resource-to-reference-another","{serverless-framework}","2019-08-31 17:33:28+03","2024-05-17 05:16:34.446767+03","I have defined an S3 bucket in my serverless yml file as follows What I would like to do now is to reference the arn of the bucket in an IAM role which is also defined as a resource e g Is there a way to do this"
57740310,"Serverless: python3.7 not found! Try the pythonBin option","https://stackoverflow.com/questions/57740310/serverless-python3-7-not-found-try-the-pythonbin-option","{python,python-3.x,serverless-framework}","2019-08-31 17:40:50+03","2024-05-17 05:16:35.452755+03","I am trying to develop a simple serverless app using Serverless framework and Python Heres my serverless yml When I run sls deploy I get following error I am not sure what am I missing The error message is not helpful to me "
57743740,"How to set Lambda Invoke Role in a for a custom authorizer?","https://stackoverflow.com/questions/57743740/how-to-set-lambda-invoke-role-in-a-for-a-custom-authorizer","{serverless-framework}","2019-09-01 06:36:04+03","2024-05-17 05:16:36.399033+03","I have defined my authorizer in the custom section of my serverless yml as follows The bit I cannot work out is how to set the Lambda Invoke Role There does not appear to be any mapping between the values I can set and what is needed by Cloud Formation Is this possible to do in this way Or do I need to register my authorizer as a resource"
57748099,"Serverless: SQLAlchemy hangs on session.commit()","https://stackoverflow.com/questions/57748099/serverless-sqlalchemy-hangs-on-session-commit","{python,python-3.x,orm,sqlalchemy,serverless-framework}","2019-09-01 17:27:58+03","2024-05-17 05:16:37.348127+03","I am writing a serverless application using SQLAlchemy This is my code On the commit statement it stucks I am not able to figure out why "
57750299,"Aliases / multi-tenant of given AWS serverless endpoints","https://stackoverflow.com/questions/57750299/aliases-multi-tenant-of-given-aws-serverless-endpoints","{amazon-web-services,networking,aws-api-gateway,serverless-framework}","2019-09-02 00:08:40+03","2024-05-17 05:16:38.314551+03","I am currently using API Gateway to serve my Serverless endpoints using serverless framework and would like to have multiple tenants for a given endpoint Deployment is working as expected I have got an alias tenant0 domain xyz working and I have got the response when I am calling it Now I would like to get other tenant for the same deployment such as tenant1 domain xyz tenant2 domain xyz and so on When I am adding new Aliases in Route53 such as below I have got the mapping done from tenant2 domain xyz to dea4i6xxxxx executeapi useast1 amazonaws com but API Gateway is returning messageForbidden Is there any way to fix this response"
57753966,"Google Cloud Function memory consumption logging","https://stackoverflow.com/questions/57753966/google-cloud-function-memory-consumption-logging","{google-cloud-platform,google-cloud-functions,cloud,serverless-framework,stackdriver}","2019-09-02 08:49:40+03","2024-05-17 05:16:39.324+03","I need to export a CSV with the information about To do that I assumed I could just export function logs and I am able to access execution logs through Stackdriver However I am not able to find any information within those logs on memory consumption something that AWS and Azure do by default How can I access this information Is there maybe any other approach to it I am fine with doing some manual work to do this I just cannot find any place where it shows how much memory was used by the execution "
57758234,"Serverless Framework Login From Behind a Proxy?","https://stackoverflow.com/questions/57758234/serverless-framework-login-from-behind-a-proxy","{npm,serverless-framework,serverless}","2019-09-02 13:58:22+03","2024-05-17 05:16:40.444877+03","I am trying to use the serverless framework from behind a proxy I was able to install the framework after configuring npm to use my certs file However when I try to login to serverless I get the following error Fetch Error FetchError request to httpsapi serverless comcoretokens failed reason unable to get local issuer certificate at ClientRequest D\ \npm\node_modules\serverless\node_modules\nodefetc h\index js13311 How do I set the certs file to be able to login to serverless Thank you in advance for your consideration and response "
57762595,"serverless deploy From Behind a Proxy?","https://stackoverflow.com/questions/57762595/serverless-deploy-from-behind-a-proxy","{npm,serverless-framework}","2019-09-02 20:53:57+03","2024-05-17 05:16:41.37456+03","On a windows machine how do I run serverless deploy from behind a proxy using a cafile I am able to install serverless but when I run serverless deploy I get the following error Serverless Injecting required Python packages to package Serverless Recoverable error occurred unable to get local issuer certificate sleeping for 5 seconds Try 1 of 4 I have tried the following solutions suggested from this issue page with no benefit"
57888140,"How dynamically add arn cognito to lambda?","https://stackoverflow.com/questions/57888140/how-dynamically-add-arn-cognito-to-lambda","{aws-lambda,yaml,amazon-cognito,serverless-framework,aws-serverless}","2019-09-11 11:28:04+03","2024-05-17 05:16:51.021917+03","I would like to add the cognito authorizer to my lambda function but for this I need arn cognito which is created in the stack coud formation CognitoUserPool in my resources section I am using serverless framework part of the serverless yml file I am getting an error while deploying the application While debugging I discovered that the function to which the output from Fnjoin should be passed is object And there should be passed to the function already resolve arn for example How to force that the output from Fnjoin to be computed and pass that value to the arn property"
57791307,"S3 Signed Url's expiring before argument passed","https://stackoverflow.com/questions/57791307/s3-signed-urls-expiring-before-argument-passed","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2019-09-04 15:12:15+03","2024-05-17 05:16:42.451676+03","I am trying to generate a signed URL for S3 bucket objects with the maximum expiration of 604800 seconds or 7 days However after testing I discovered that the links expire in under 24hrs Doing some digging I came across this article claiming that the 7 day expiration is only available if the awssdk is authorized with an IAM user and the s3 library is making use of AWS Signature v4 I am definitely using v4 exports getS3 new AWS S3 region useast1 signatureVersion v4 Additionally as far as I can tell the lambdas deployed via serverless should default to my IAM user credentials when making use of the sdk without any other manipulation const AWS require awssdk Here is the aforementioned article httpsaws amazon compremiumsupportknowledgecenterpresignedurls3bucketexpiration I also defined the IAM role delegated to my user to enable access to s3 iamRoleStatements Effect Allow Action dynamodb Resource Effect Allow Action ssm Resource Effect Allow Action s3 Resource I have verified that it is not something as asinine as passing the wrong argument exports getSignedURL keybucketmethodexpiration console log `GETTING SIGNED URL WITH EXPIRATION expiration ` return new Promise resolve reject exports getS3 getSignedUrl method Bucket bucket Key key Expires expiration errurl errreject err resolve url Has anybody encountered this issue or have any ideas what may be causing my problem Is there some configuration I am missing"
57796295,"How can I trigger one AWS Lambda function from another, guaranteeing the second only runs once?","https://stackoverflow.com/questions/57796295/how-can-i-trigger-one-aws-lambda-function-from-another-guaranteeing-the-second","{aws-lambda,amazon-sns,serverless-framework}","2019-09-04 22:22:16+03","2024-05-17 05:16:43.4465+03","I have built a bit of a pipeline of AWS Lambda functions using the Serverless framework There are currently five stepsfunctions and I need them to run in order and each run exactly once Roughly the functions are The specifics are not important but the question is What is the best eventtrigger to use to move along down this line of functions The first one is triggered by an HTTP call but the first one needs to trigger the second somehow then the second triggers the third and so on I wrote all the code using AWS SNS but now that I have deployed it to staging I see that SNS often triggers more than once I could add a bunch of code to detect this but I would rather not And the problem is also compounding if the second function gets triggered twice it sends two SNS notifications to trigger step three If either of those notifications gets doubled it is not unreasonable that the last function could be called ten times instead of once So what is my best option here Trigger the chain through HTTP Kinesis maybe I have never worked with a trigger other than HTTP or SNS so I am not really sure what my options are and which options are guaranteed to only trigger the function once "
57807871,"Serverless lambda trigger read json file","https://stackoverflow.com/questions/57807871/serverless-lambda-trigger-read-json-file","{node.js,aws-lambda,serverless-framework}","2019-09-05 14:38:40+03","2024-05-17 05:16:44.499395+03","I have lambda Node which has trigger to fire when a new JSON file added to our S3 bucket Here is my lambda code When i run this i do not get file content and i suspect that lambda finishes execution before file read operation complete I tried with async await without success What i am missing here I was able to read small file of 1 kb but when my file grows like 100 MB it causes issue Thanks in advance"
57825211,"Can I run Cognito in a Lambda function?","https://stackoverflow.com/questions/57825211/can-i-run-cognito-in-a-lambda-function","{node.js,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2019-09-06 15:54:02+03","2024-05-17 05:16:45.433805+03","I want to sign up users with Cognito in a Lambda function However I am receiving TypeError fetch is not a function My code is basically step 3 in this However I keep getting the abovementioned error even though I have nodefetch installed From what I understand the Cognito SDK makes use of fetch So is this simply not possible Will I need to spin up a Node server"
57834849,"Lambda function – GET doesn't return anything","https://stackoverflow.com/questions/57834849/lambda-function-get-doesnt-return-anything","{aws-lambda,aws-sdk,serverless-framework}","2019-09-07 15:01:12+03","2024-05-17 05:16:46.454442+03","I am completely new to The Serverless Framework and AWS lambda When making a GET request to httplocalhost3000user1e89a3f0d17011e994bd91e9ae84f3e9 I would expect a response being send back to the browser with a valid JSON object matching the Key Like the only getting logged out to the console And not empty document Am I returning incorrectly I am having difficulties debugging this I dont now if the problem is with my lambda function or what it is Thank you console log statement Here is the get handler in question usersget js serverless yml"
57847738,"Unable to write to SQS queue with lambda function","https://stackoverflow.com/questions/57847738/unable-to-write-to-sqs-queue-with-lambda-function","{node.js,aws-lambda,amazon-sqs,serverless-framework,serverless}","2019-09-09 04:04:11+03","2024-05-17 05:16:47.26135+03","I am setting up the serverless framework to be able to push some messages to AWS SQS and everything is working up until the sqs sendMessage logic and I cannot seem to figure out what is going on It gets to it and just dies no error or anything I have tried a variety of configurations within serverless and tried giving the SQS queue full rights to anyone for all SQS functions none of that worked Serverless yml Handler js Looking for any suggestions thanks "
57855181,"How can I reference to DynamoDB stream as Lambda function trigger event in the serverless.yml?","https://stackoverflow.com/questions/57855181/how-can-i-reference-to-dynamodb-stream-as-lambda-function-trigger-event-in-the-s","{amazon-web-services,lambda,amazon-dynamodb,serverless-framework}","2019-09-09 13:37:42+03","2024-05-17 05:16:48.174381+03","I am using Serverless framework for deployment of my AWS Lambda functions I have a serverless yml file which declares all of my resources and functions For example My Lambda function is triggered from DynamoDB stream So in the event definition how can I reference to DynamoDB stream of MyTable without hardcoding its ARN"
57872576,"Specify multiple event handlers for AWS Lambda in Go","https://stackoverflow.com/questions/57872576/specify-multiple-event-handlers-for-aws-lambda-in-go","{amazon-web-services,go,aws-lambda,serverless-framework}","2019-09-10 14:07:37+03","2024-05-17 05:16:49.178379+03","Typically a AWS Lambda event handler code in Go using Serverless Framework is coded as The serverless yml file then contains a section like That ^ creates one request handler but now I want my one Go script program to contain the event handlers for both HTTP GET and POST requests and not use one Go program file per serverless function Exactly this is possible in languages like Node js Ruby Python with the serverless yml specifying which function in the handler file is to be used for which serverless function For example for Python functions I cannot get this same trick to work for Go I tried to include the proper request in main but to no avail And specifying multiple event handler functions in the serverless yml file for the Go handlers also does not work the function is not a valid part of the handler declaration Q How can I include more than one AWS Lambda event handler in one Go program using Serverless Framework "
57918079,"Extract domains from deployed serverless endpoints","https://stackoverflow.com/questions/57918079/extract-domains-from-deployed-serverless-endpoints","{serverless-framework}","2019-09-13 06:03:07+03","2024-05-17 05:16:52.987602+03","After running a serveless deploy command I would like the retrieve the domain name of the deployed endpoint s for further usage in other services The best I have come up until now is to grep the sls info output e g sls info stage integration grep GET head 1 egrep o https[^ ] awk F[] print 4 Is there a better less hacky way of achieving this"
57919498,"Getting error when deploying Serverless project","https://stackoverflow.com/questions/57919498/getting-error-when-deploying-serverless-project","{javascript,amazon-web-services,serverless-framework}","2019-09-13 07:56:58+03","2024-05-17 05:16:53.736311+03","I am getting the following error when deploying my Serverless app Has anyone experienced this It was working previously What is going wrong"
57920904,"A valid option to satisfy the declaration could not be found in serverless framework","https://stackoverflow.com/questions/57920904/a-valid-option-to-satisfy-the-declaration-could-not-be-found-in-serverless-frame","{serverless-framework,bitbucket-pipelines}","2019-09-13 09:29:13+03","2024-05-17 05:16:54.901567+03","I am using serverless framework and using bitbucketpipeline to configure CICD I have the following configuration in the serverless yml file I want to be able to pass the variables from the CLI as well as environment variables I have set up environment variable for AWS_REGION in the bitbucket pipeline variables but not for MEMORY_SIZE as want to use the default value But this gives error while running the pipeline "
57923950,"AWS Api Gateway proxy for s3 bucket with Serverless Framework","https://stackoverflow.com/questions/57923950/aws-api-gateway-proxy-for-s3-bucket-with-serverless-framework","{amazon-s3,proxy,aws-api-gateway,serverless-framework}","2019-09-13 12:48:21+03","2024-05-17 05:16:55.912533+03","I am deploying a project with the Serverless framework that includes different resources a lambda function cognito user pool cognito identity pool etc For a previous project we created from the console so manually the configuration for a second Api Gateway in addition to the one that we configured with Serverless on the lambda to just be the proxy for our s3 bucket so we were able to add and get files from the bucket without using the lambda Now I want to make the exact thing to this new project but instead making the second Api Gateway manually from the console there is a way to declare this proxy directly from Serverless configuration I searched for different solutions but I did not find any guide for this What I am trying to make in the configuration is what this amazon guide explains "
57938583,"Why does this function in NextJS works locally, but not when deployed in AWS Lambda?","https://stackoverflow.com/questions/57938583/why-does-this-function-in-nextjs-works-locally-but-not-when-deployed-in-aws-lam","{amazon-web-services,aws-lambda,next.js,serverless-framework,aws-serverless}","2019-09-14 19:24:16+03","2024-05-17 05:16:57.077771+03","I have done plenty of tests and research on this but I simply cannot figure it out I have a function that works perfectly fine when running locally no errors but fails when deployed as AWS lambda I created a simple example that recreates it URL LOCAL httplocalhost3000flagTestvisible this works fine URL DEPLOYED AS LAMBDA httpswww publicfaq comflagTestvisible the Toggle button does not work FILE pagesflagTest[tid] js on a barebone NextJS installation Note I do need to use getInitialProps because I am planning to use it in a more complex case API Fetching by id did not included it here because is not directly related with this problem This is my Serverless YML Thanks "
58137023,"serverless-api-gateway-caching plugin is not setting the cache size","https://stackoverflow.com/questions/58137023/serverless-api-gateway-caching-plugin-is-not-setting-the-cache-size","{serverless-framework}","2019-09-27 14:58:57+03","2024-05-17 05:16:57.891516+03","I try to set the AWS API Gateway cache using the serverlessapigatewaycaching plugin All is working fine except the cacheSize This is my configuration for the caching The cache is configured correctly but the cache size is always the default one 0 5 Any idea about what is wrong Regards"
58137251,"Serverless Webpack Build in Nodejs Docker Container Fails due to Type Errors","https://stackoverflow.com/questions/58137251/serverless-webpack-build-in-nodejs-docker-container-fails-due-to-type-errors","{typescript,docker,webpack,serverless-framework,serverless-offline}","2019-09-27 15:14:27+03","2024-05-17 05:16:59.491497+03","My Serverless sls application fails to build inside a Docker container due to type errors TS2322 during the webpack build process When built locally there are no errors and app runs as designed Error Example I think it may have something to do with the WORKDIR of the container being assigned as app and the webpack config js but I am not sure where to start troubleshooting Background My Serverless app successfully builds locally using the npm script export AWS_REGIONuseast1 export IS_ON_LOCAL_SERVERtrue export TZUTC sls offline start stage dev When I run this script inside a Docker container it results in numerous Type errrors during the webpack build process My Dockerfile below uses node10 10 and I install serverless globally I have tried using node8 16 as well and I get the same build errors using 10 10 in a container I get no npm warnings as I get npm warnings using 8 16 Dockerfile DockerCompose"
58159940,"Serverless Error: Template format error: Unresolved resource dependencies [<function name>LogGroup] in the Resources block of the template","https://stackoverflow.com/questions/58159940/serverless-error-template-format-error-unresolved-resource-dependencies-func","{amazon-web-services,amazon-s3,serverless-framework}","2019-09-29 23:17:01+03","2024-05-17 05:17:00.501741+03","I was trying to use the serverless monitoring tools and ran sls to connect it to my serverless account After that whenever I try to deploy I get this message Template format error Unresolved resource dependencies [CsGetIndexLogGroup] in the Resources block of the template My sls template does not have a Resources block I tried to add an empty Resources block but that did nothing not showing other functions or the post will get too long "
58164754,"Wildcard-like filtering for S3 put events using Serverless","https://stackoverflow.com/questions/58164754/wildcard-like-filtering-for-s3-put-events-using-serverless","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2019-09-30 09:12:02+03","2024-05-17 05:17:01.105753+03","Heres a snippet of my YAML file This will match for objects created named incoming zip I want to add another key with date time for easy partitioning using Athena So the full path in S3 will be something like this Using the rules defined above do not seem to match with the result that the function does not fire How do I match using this technique"
58182371,"Serverless invoke local for Azure is not working","https://stackoverflow.com/questions/58182371/serverless-invoke-local-for-azure-is-not-working","{azure,serverless-framework,serverless}","2019-10-01 09:57:25+03","2024-05-17 05:17:02.020677+03","This command is not working on local for azure Everything is working perfectly for AWS but not for Azure I am able to deploy these functions perfectly on azure by using serverless but not able to invoke locally Here is the response of this invocation"
58183513,"Send zip file as response in IBM Cloud Function","https://stackoverflow.com/questions/58183513/send-zip-file-as-response-in-ibm-cloud-function","{node.js,zip,ibm-cloud,mime-types,serverless-framework}","2019-10-01 11:04:27+03","2024-05-17 05:17:03.048817+03","I have a serverless function deployed in IBM Cloud Functions The function generates and downloads an excel file Locally it works as expected but on the deployed version I get the following error With the ContentType header applicationjson I can send json and with imagepng even images as base64 Zip files are not working I tried with ContentType applicationzip and ContentType applicationzip applicationoctetstream Do I need to do some more configuration Full example"
58184322,"Specify API Gateway id instead of using 'random' id","https://stackoverflow.com/questions/58184322/specify-api-gateway-id-instead-of-using-random-id","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-10-01 11:57:23+03","2024-05-17 05:17:03.763456+03","With deploying an AWS Lambda function via Serverless Framework and exposing it via a HTTPS endpoint in AWS API Gateway is it possible to construct and set the API Gateway id and thus determine the first part of the HTTP endpoint for that Lambda function When deploying an AWS Lambda function and adding a HTTP event I now get a random id as the first hostname in httpsklv5e3c8z5 executeapi euwest1 amazonaws comv1fizzbuzz Newfresh deployments receive new random string that 10 character id Instead of using that I would like to determine and set that id I will make sure that it is sufficiently unique myself or deal with endpoint naming collisions myself Reason for this is that in a separate Serverless project I need to use that endpoint and thus need to know that id Instead of having it being determined by project 1 and then readingretrieving that in project 2 I want to construct and set the endpoint in project 1 so that I can use the known endpoint in project 2 as well A suggestion was to use a custom domain as an alternativealias for that endpoint but if possible I want do not want to introduce a new component in the mix and a solution that does not include Clouditmighttake30minutestocreateadomainFront is better If this is not possible I might need to use the approach as described at httpwww goingserverless comblogapigatewayurl mentioning that the endpoint is being exposed from one project via the CloudFormation stack to be read from and used in the other project but that introduces a little latency and a dependency in deploying the second project "
58188246,"Can we deploy a .Net Core 3 service to AWS Lambda using the Serverless Framework?","https://stackoverflow.com/questions/58188246/can-we-deploy-a-net-core-3-service-to-aws-lambda-using-the-serverless-framework","{amazon-web-services,.net-core,aws-lambda,serverless-framework}","2019-10-01 15:41:15+03","2024-05-17 05:17:04.705258+03","Now that Net Core 3 has dropped and AWS announced Custom Runtimes I am looking to take advantage of some of the new Net Core 3 features Unfortunately I am coming up short when trying to find information on how to do this using the Serverless Framework Has anyone out there done this yet And if so is there a good online resource on how to do so"
58195895,"Private API Gateway with Serverless Framework","https://stackoverflow.com/questions/58195895/private-api-gateway-with-serverless-framework","{amazon-web-services,aws-api-gateway,serverless-framework}","2019-10-02 05:53:05+03","2024-05-17 05:17:05.715267+03","I have my internal network in AWS VPC 10 0 0 016 and I want to create AWS API Gateway within this private network thus no public hostnamesips Here is what I tried sgxxxxx is a security group that allows only ips from 10 0 0 016 It does not help I also tried adding but it sill exposes a public IP to the world UPD Tried this combination did not work out Now dns name cannot be resolved"
58198261,"Introspection query is run at the wrong url","https://stackoverflow.com/questions/58198261/introspection-query-is-run-at-the-wrong-url","{aws-lambda,graphql,apollo,serverless-framework,apollo-server}","2019-10-02 08:53:11+03","2024-05-17 05:17:06.364596+03","I have a Serverless project with Apollo graphql lambda endpoint at url like httpsw040io5bk9 executeapi useast1 amazonaws comdevgraphql When I go to it I get the Playground UI However when it runs it is introspection query it runs it at a wrong url httpsw040io5bk9 executeapi useast1 amazonaws comgraphql Notice the dev is missing What sort of misconfiguration might I have done here"
58206844,"Dynamo UpdateItem AccessDeniedException with default LambdaRole","https://stackoverflow.com/questions/58206844/dynamo-updateitem-accessdeniedexception-with-default-lambdarole","{go,aws-lambda,amazon-iam,serverless-framework,aws-sdk-go}","2019-10-02 17:56:08+03","2024-05-17 05:17:07.281574+03","I am having difficulties getting the right role to execute a Dynamo UpdateItem in my golang lambda handler I have deployed the function using the serverless framework with the following config The handler uses the golang awssdk to create a session and call UpdateItem on the table This throws the exception AccessDeniedException User arnawssts acct assumedrolemyservicestageuseast1lambdaRolemyservicestagemyfunc The User arnawssts acct assumedrolemyservicestageuseast1lambdaRole is a role that has the correct permissions I am not sure what the myservicestagemyfunc part of the User is in the exception as nothing of the sort exists in the IAM console Is there some kind of config step I am missing To my knowledge the IAM permissions setup in the serverless yaml should apply to all functions However the assumed role for when working with the goawssdk seems wrong "
58223285,"Manage Cognito User Pool using JWT","https://stackoverflow.com/questions/58223285/manage-cognito-user-pool-using-jwt","{amazon-cognito,serverless-framework,serverless}","2019-10-03 16:25:55+03","2024-05-17 05:17:07.975532+03","I have a Node js lambda API that is called by an authenticated user The user is able to access the API passing a valid JWT token Now I would like to interact with Cognito User Pool to change the users email password and etc but I have not figured out how to achieve this using just the JWT I have made several tests using amplifyjs and amazoncognitoidentityjs"
58224566,"Serverless Framework ignoring ""authorizer"" block in lambda-proxy setup","https://stackoverflow.com/questions/58224566/serverless-framework-ignoring-authorizer-block-in-lambda-proxy-setup","{aws-lambda,aws-api-gateway,amazon-cognito,serverless-framework,serverless}","2019-10-03 18:01:46+03","2024-05-17 05:17:08.951625+03","We have a serverless yml that creates a lambda proxy in APIGateway I have seen several ways to attach a cognito user pool authorizer to the lambda proxy but none of them work In every case the result is that no auth is set up on the either the Proxy or Proxy As in in the API Gateway console Auth always reads NONE Example You can see above that I am trying two different methods to accomplish the same task Let us try throwing science at the wall and see what sticks Both methods are documented in different places by the serverless framework but neither are documented with respect to lambda proxy so I am not sure if there is an undocumented difference In the first method using Ref on a resource the resource is correctly created but no auth is attached to the endpoint I did not include the resource block here because that is working as expected The second method has the same effect but no authorizer is created Our serverless framework version is 1 52 which meets the requirement stated in this other SO post I have also tried with integration set to lambda or with that line absent altogether The result is the same in all cases I have gotten this to work by manually selecting the authorizer through the console but we are trying to eliminate these manual steps What are we missing here"
58233783,"Twilio messages not firing on cron lamba","https://stackoverflow.com/questions/58233783/twilio-messages-not-firing-on-cron-lamba","{node.js,serverless-framework,twilio-api,aws-serverless}","2019-10-04 09:40:55+03","2024-05-17 05:17:09.368472+03","I have been working on this issue for a few hours with no success I am triggering the below function to run every 15 minutes I can see from the CloudWatch that the function is firing From my logs I know that the function successfully getting appointments that require notification be sent I am using 2 trycatch blocks to try and get some error message coming through but no errors are being logged When I run this function using sls invoke local it works fine and sends the expected text message to the correct numbers However when deployed and run on a cronbasis its not working but also not erroring out so I am at a loss I think it is an asyncawait issue Basically the console logs show up in the Cloudwatch logs but nothing inside the twilioClient messages create function comes out in the logs Any help would be appreciated I am sure it is something simple but been staring at this for a few hours now without any success "
58240739,"Serverless Lambda loading information from separate YAML file","https://stackoverflow.com/questions/58240739/serverless-lambda-loading-information-from-separate-yaml-file","{aws-lambda,serverless-framework}","2019-10-04 17:18:04+03","2024-05-17 05:17:10.359679+03","I am trying to separate my environment variables from being directly implemented within my serverless yml file and read that I can use a separate yaml or json file and pull values from those files with the command file file yml property but despite following this procedure I receive an error message related to the environment section that references these custom settings values that leads me to believe it is related to my file selection Error Message serverless yml Run in stagedev I have an issue If I run this in stageprod there is no issue localkeys yml"
58248023,"How set version for serverless project?","https://stackoverflow.com/questions/58248023/how-set-version-for-serverless-project","{javascript,node.js,json,npm,serverless-framework}","2019-10-05 11:51:41+03","2024-05-17 05:17:11.398169+03","I have downgraded serverless to 1 38 0 version via npm install g [email protected] command The invokes npm install on a folder with the following package json And got Why does [email protected] appear in logs Where npm got last serverless version Where to specify serverless version which I need"
58263399,"Error: Handshake inactivity timeout when trying to access RDS from Lambda","https://stackoverflow.com/questions/58263399/error-handshake-inactivity-timeout-when-trying-to-access-rds-from-lambda","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless,amazon-aurora}","2019-10-07 04:04:34+03","2024-05-17 05:17:12.051355+03","I have a lambda function using the serverless framework I created a security group and associated it with the lambda function I also included all 3 subnetIDs that the RDS uses in the serverless yml I then associated the new lambda security group with the security group that the RDS is saying it is using I have it set for MySQL\Aurora on the inbound tab and the source being the new lambda sg When I run the lambda I get the handshake inactivity timeout when trying to connect my pool to the instance I use this same security group to give myself access to the database via IP so I know it has to be the right instance What am I missing Here is the definition for the function in serverless yml I also have the following IAM role statement to allow the networking Though serverless does bark at this Warned iamRoleStatement granting Resource Wildcard resources in iamRoleStatements are not permitted Is that causing an issue I am beating my head against a wall about this "
58268430,"502 bad gateway error for cross-origin request","https://stackoverflow.com/questions/58268430/502-bad-gateway-error-for-cross-origin-request","{ajax,aws-lambda,aws-api-gateway,serverless-framework}","2019-10-07 11:13:02+03","2024-05-17 05:17:13.121352+03","I am using the serverless framework to deploy my lambda to AWS and have been able to successfully run POST requests via Postman to the API Gateway associated with my lambda function but when I try run a POST request from a form submission AJAX request on a local server I am receiving the 502 error message which I did not expect since I have the cors property in my serverless yml set to true which sets CORS configurations for the HTTP endpoint Here is the function yaml setup Here is the jQuery AJAX request Is there something that I need to adjust with the API Gateway configuration or within my Lambda application Here is my response function Also provided is the ajax request And the resulting OPTION and POST Request and Response Headers triggered by the AJAX OPTIONS POST"
58277011,"Serverless framework - Lambda function with Authorizer COGNITO_USER_POOLS always return ""Unauthorized""","https://stackoverflow.com/questions/58277011/serverless-framework-lambda-function-with-authorizer-cognito-user-pools-always","{aws-lambda,aws-api-gateway,amazon-cognito,serverless-framework,unauthorized}","2019-10-07 20:54:36+03","2024-05-17 05:17:14.270334+03","I cannot figure out what is wrong on my Authorization I have a Hello function which only returns a simple a static message If I deploy without set Authorizer it works I have tested on Postman The issue starts when I try adding Authorizer I have my Cognito fully working On my front end I can sign up then do a login and then get the Token from this login session When I go to Postman and test I am always getting unauthorized as answers On Postman I test on GET method on Headers tab I added Authorization attribute and pasted on value the token that I have from Login session I also tested this on the value field the prefix bearer as some places recommended No success I have been trying for the past week solve this issue Please any help will be extremely useful serverless yml phraseOptions js I can see the function was created with the correct Auth Also Authorizer create as expected I guess Swagger"
58279355,"How to avoid giving `iam:CreateRole` permission when using existing S3 bucket to trigger Lambda function?","https://stackoverflow.com/questions/58279355/how-to-avoid-giving-iamcreaterole-permission-when-using-existing-s3-bucket-to","{amazon-iam,serverless-framework,aws-serverless,serverless-plugins}","2019-10-08 02:12:19+03","2024-05-17 05:17:15.276544+03","I am trying to deploy an AWS Lambda function that gets triggered when an AVRO file is written to an existing S3 bucket My serverless yml configuration is as follows When I run serverless deploy I get the following error I see some mentions of Serverless needing iamCreateRole because of how CloudFormation works but can anyone confirm if that is the only solution if I want to use existing true Is there another way around it except using the old Serverless plugin that was used prior to the framework adding support for the existing true configuration Also what is 1M5QQI6P2ZYUH in arnawsiamaccount_idrolebrazelambdasdevIamRoleCustomResourcesLambdaExec1M5QQI6P2ZYUH Is it a random identifier Does this mean that Serverless will try to create a new IAM role every time I try to deploy the Lambda function"
58818746,"Is there a way to do a dry run with serverless CLI?","https://stackoverflow.com/questions/58818746/is-there-a-way-to-do-a-dry-run-with-serverless-cli","{amazon-web-services,serverless-framework}","2019-11-12 12:27:25+02","2024-05-17 05:17:49.972749+03","I want to test the resolution of variables inside my serverless yaml file e g some come from command line some from a file and others from s3 e g I want to do a deploy with a dry run The nodeploy option only seems to be available with azure provider Is there a way to do this with the AWS provider"
58281834,"The specified provider ""google"" does not exist","https://stackoverflow.com/questions/58281834/the-specified-provider-google-does-not-exist","{google-cloud-platform,google-cloud-functions,serverless-framework}","2019-10-08 07:23:20+03","2024-05-17 05:17:16.024321+03","I am trying to set up a serverless project which will be hosted on the Google cloud platform Here is what the serverless yml looks like The credentials are set according to the docs however for some reasons the deployment is not working and always throws the below error Does anyone know how to fix it and successfully deploy the project to GCP"
58286081,"Re-use existing CloudFront distribution with AWS CDK","https://stackoverflow.com/questions/58286081/re-use-existing-cloudfront-distribution-with-aws-cdk","{amazon-web-services,amazon-cloudfront,serverless-framework,serverless,aws-cdk}","2019-10-08 12:09:33+03","2024-05-17 05:17:16.799297+03","I am just learning AWS CDK after playing around with Serverless for a bit Serverless has a component to deploy a static website which uses S3 and CloudFront It updates an existing CloudFront distribution if it finds one for the same domain Presumably the reason why it does this is so you do not have to wait 40 minutes while the CloudFront distribution is set up I cannot think of any other reason for it e g it would seem to cost the same So how do you search for and reuse an existing CloudFront distribution in CDK Should you actually just create a new one"
58289295,"Custom error code for missing path parameters - serverless","https://stackoverflow.com/questions/58289295/custom-error-code-for-missing-path-parameters-serverless","{node.js,aws-lambda,serverless-framework}","2019-10-08 15:14:28+03","2024-05-17 05:17:17.511419+03","I have a lambda function defined as If I use API like httplocalhost3000groupsdata where groupsId is missing from path please take a look again In this case serverless itself return 404 Route not found How can I override this error to 400 Bad request I appreciate your suggestion edited "
58311334,"How to get AWS account id as custom variable in serverless framework?","https://stackoverflow.com/questions/58311334/how-to-get-aws-account-id-as-custom-variable-in-serverless-framework","{amazon-web-services,serverless-framework}","2019-10-09 19:51:11+03","2024-05-17 05:17:18.412292+03","In serverless framework I want to set the deployment bucket as I can get the stage using a custom variable like but how can I get the aws account id I already tried to used serverlesspseudoparameters like this below without success Someone could help me to set the account id as a custom variable"
58313959,"Serverless Framework with Cloudfront and Lambda@Edge functions","https://stackoverflow.com/questions/58313959/serverless-framework-with-cloudfront-and-lambdaedge-functions","{amazon-cloudfront,serverless-framework}","2019-10-10 00:42:27+03","2024-05-17 05:17:19.901878+03","I am using this serverless yaml below and I am trying to deploy a cloudfront app with a lambda viewerrequest and origin request labdas I can get the two lambdas to deploy if i exclude any cloudfront yaml directives But when I add cloudfront directives sls deploy errors out with this which is very generic and googling is limited What am i missing with generating Cloudfront Here is my yml and thanks in advance "
58315266,"Lambda can't reach the internet [duplicate]","https://stackoverflow.com/questions/58315266/lambda-cant-reach-the-internet","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2019-10-10 03:59:13+03","2024-05-17 05:17:20.004999+03","So I have a lambda function with it is own SG it resides in a VPC to allow a connection to my RDS All works there The problem is with it getting out to the internet The lambda sg allows inbound from anything in it is SG On the outbound it allows everything out with dest 0 0 0 00 All 3 subnets associated with this VPC have a route to an internet gateway using 0 0 0 00 If I stand up an EC2 instance and associate it with the lambda SG it is able to access the internet just fine However my lambda expression is timing out when trying to reach out What could be going wrong Thanks "
58341292,"Is it a good idea to use Python SQLAlchemy in AWS Lambda? [closed]","https://stackoverflow.com/questions/58341292/is-it-a-good-idea-to-use-python-sqlalchemy-in-aws-lambda","{python,sqlalchemy,aws-lambda,serverless-framework,aws-lambda-layers}","2019-10-11 12:27:38+03","2024-05-17 05:17:21.138199+03","We dont allow questions seeking recommendations for software libraries tutorials tools books or other offsite resources You can edit the question so it can be answered with facts and citations Closed 8 months ago Amazon suggests to not include big librariesdependencies in lambda functions As far as I know SQLAlchemy is quite a big python library Do you think it is a good idea to use it in lambda functions An option would be to include it as a Lambda Layer and use it across all related Lambda functions Anyways what is the best practise"
58342126,"Serverless framework for AWS : Adding initial data into Dynamodb table","https://stackoverflow.com/questions/58342126/serverless-framework-for-aws-adding-initial-data-into-dynamodb-table","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,aws-sam}","2019-10-11 13:17:33+03","2024-05-17 05:17:21.698667+03","Currently I am using Serverless framework for deploying my applications on AWS httpsserverless com Using the serverless yml file we create the DynamoDB tables which are required for the application These tables are accessed from the lambda functions When the application is deployed I want few of these tables to be loaded with the initial set of data Is this possible Can you provide me some pointers for inserting this initial data Is this possible with AWS SAM"
58346601,"How can I apply an Authorizer to select routes in my API Gateway Proxy integration","https://stackoverflow.com/questions/58346601/how-can-i-apply-an-authorizer-to-select-routes-in-my-api-gateway-proxy-integrati","{aws-lambda,aws-api-gateway,serverless-framework}","2019-10-11 18:20:14+03","2024-05-17 05:17:22.768826+03","I am deploying an application to AWS Lambda using the serverless framwework My application is served by a single Lambda which is why I pass through the request path using proxy Now I would like to use a custom authorizer Lambda to protect a certain portion of my application think everything admin I thought I could just add another event definition that uses the authorizer like this yet this has no effect at all If I apply my authorizer to the root level proxy it will be applied as expected so the authorizer itself works as expected How can I define my routes in such a scenario Do I need to use different Lambdas or is there something I am missing"
58625457,"Testing module that requires a module from a layer in AWS Lambda","https://stackoverflow.com/questions/58625457/testing-module-that-requires-a-module-from-a-layer-in-aws-lambda","{node.js,aws-lambda,jestjs,serverless-framework,aws-lambda-layers}","2019-10-30 12:31:28+02","2024-05-17 05:17:30.528608+03","So I am using Layers in my Serverless Framework Node JS project I add all commonly used npm packages to a layer because I do not want every Lambda function to have huge packages The problem is that when running unit tests locally it cannot find these modules Is there any way to handle this problem"
58368437,"NAT Gateway with Internet Gateway and lambda","https://stackoverflow.com/questions/58368437/nat-gateway-with-internet-gateway-and-lambda","{amazon-web-services,aws-lambda,serverless-framework}","2019-10-13 23:00:35+03","2024-05-17 05:17:23.805501+03","We use elastic beanstalk to run our main application out of EC2 we also have an RDS instance in that VPC Those instances have public IPs so it can use a standard internet gateway to access the internet No problems there Now I have created a lambda function associated it with the 3 subnets corresponding to the 3 AZs the EC2 instances live in Everything is still good My lambda can connect to those resources just fine My problem is I need my lambda to reach the internet Normally I would route the subnets it is in to 0 0 0 00 and route it out through a NAT gateway However because the EC2 and RDS instances in the subnets of the VPC my lambda is associated with have public IPs putting a NAT gateway in breaks their internet connectivity How should I go about giving my lambda internet access without breaking the IGW for the other Ec2 instances I was thinking of maybe creating 3 new subnets within the 3 AZs associating that with my lambda function create a NAT gateway in each AZ subnet make the corresponding routes for each subnet If I did that would my lambda still be able to access the EC2\RDS instances within the other subnets I have a lambda sg and an ec2 sg and the lambda sg is permitted access to the ec2 sg Hopefully this makes sense "
58380886,"AWS Serverless : Migrating from serverless to SAM","https://stackoverflow.com/questions/58380886/aws-serverless-migrating-from-serverless-to-sam","{amazon-web-services,aws-cloudformation,serverless-framework,aws-sam}","2019-10-14 16:41:15+03","2024-05-17 05:17:24.8435+03","We are using Serverless framework for deploying our applications on AWS The applications are written using Lambda Cognito API gateway DynamoDB etc We want make use of SAM local as we want to test the applications locally with local DynamoDb before deploying to AWS Cloud Is there any simpler way by which I can migrate my serverless yml file to the yml file required by SAM I have a complex serverless yml file API Gateway custom and cognito authorizers CORS Lambda DynamoDB IAM roles and policies IOT rules S3 buckets and policies etc and creating a SAM template by hand will be complex I found one node js plugin httpsgithub comsapessiserverlesssam Looks like this plugin has some issues It did not migrate all parts of the serverless yml file correctly The serverless yml file deployment creates a Cloudformation template Can this template be used for generating SAM yml file Or can this template be migrated or enhanced to the template needed by SAM"
58382779,"Serverless deploy - Function not found - sls deploy","https://stackoverflow.com/questions/58382779/serverless-deploy-function-not-found-sls-deploy","{amazon-web-services,aws-lambda,serverless-framework}","2019-10-14 19:11:48+03","2024-05-17 05:17:25.773218+03","I am trying to deploy a Serverless function via the Serverless CLI and I am getting the following error An error occurred GenerateDownloadLinkLambdaFunction Function not found What is strange is that I have deployed this function for another stage qa and it deployed fine but for dev it just throws the above error If I try to manually create the function from the AWS console and deploy it the Lambda functions menu shows that the function was deployed X seconds ago however it does not show any of the settings I have in my serverless yml file on my machine It is also worth noting that I had managed to have this function deployed on the dev stage but I accidentally deleted it Since then it refuses to redeploy Have been banging my head against the wall as to what I am doing wrong but cannot spot anything has anyone else encountered a similar issue with Serverless before"
58385146,"Serverless Framework - Share code between multiple services","https://stackoverflow.com/questions/58385146/serverless-framework-share-code-between-multiple-services","{serverless-framework,serverless}","2019-10-14 23:12:54+03","2024-05-17 05:17:26.729193+03","I have multiple services When I am running severless locally using serverlessoffline my imports work without a problem Does each service need to have its own node_modules dependencies within the service It would be great if I could just load dependencies from a single node_modules at the root and the shared folder What is the standard practice in order to accomplish this for a project with multiple services Thanks "
58395947,"Yarn Workspaces: ENOENT: no such file or directory node_modules/.bin/jest during deploy","https://stackoverflow.com/questions/58395947/yarn-workspaces-enoent-no-such-file-or-directory-node-modules-bin-jest-during","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2019-10-15 13:30:21+03","2024-05-17 05:17:27.347627+03","Since moving over to use Yarn Workspaces Im getting the following error when trying to deploy The serverless yml file sits in the root of my graphql package so packagesgraphql Jest is installed to the root node_modules folder and then symlinked to the root node_modules binjest node_modulesjestbinjest Any idea why this would be happening"
58611513,"Is there a way to prevent aliases from getting reset upon deployment?","https://stackoverflow.com/questions/58611513/is-there-a-way-to-prevent-aliases-from-getting-reset-upon-deployment","{serverless-framework}","2019-10-29 16:20:28+02","2024-05-17 05:17:28.117993+03","I have set up a CloudFront distribution using serverless with a couple of default aliases The aliases may be updated outside the serverless yaml configuration scope Is it possible to prevent aliases from being reset with the defaults upon each deployment when something changes in terms of distribution configuration If nothing changes in terms of the distribution configuration nothing is reset with the defaults I could probably try and remove the aliases after the first deployment to make sure nothing is updated through configuration from then on but that is not an ideal way to work configurations Initially I was hoping that the Aliases would remain unchanged on each deployment despite any update outside the serverless yaml configuration scope Since that is not the case is there a way to force a merge or prevent any reset if the distribution is only being updated Thanks in advance "
58615308,"Which is the best path to take for aws CI/CD workflow? Cloudformation, SAM or Serverless framework?","https://stackoverflow.com/questions/58615308/which-is-the-best-path-to-take-for-aws-ci-cd-workflow-cloudformation-sam-or-se","{node.js,aws-cloudformation,serverless-framework,serverless,serverless-application-model}","2019-10-29 20:56:31+02","2024-05-17 05:17:28.642178+03","Need an experts input who has used cloudformation sam and serverless framework to deploy nodejs app Please advise which is the best path to take I have used serverless framework but not sam or cloudformation while I agree that it simplifies the process I wish to learn more on the underlying configuration I am leaning towards cloudformation just because both the frameworks transform the code to cloudformation templates Please correct me if I am wrong and appreciate the best resources to learn the same "
58623612,"Serverless framework TypeError: e is not a function","https://stackoverflow.com/questions/58623612/serverless-framework-typeerror-e-is-not-a-function","{serverless-framework,serverless}","2019-10-30 10:44:36+02","2024-05-17 05:17:29.768979+03","I am using serverlessframework to schedule tasks in AWS My application structure is The contents of analytics task js Removed all other codes from the run method for testing purpose content of tasks js and content of serverless yml But when running the task it is giving an error"
58645923,"Two services sharing the same parent route in aws API gateway","https://stackoverflow.com/questions/58645923/two-services-sharing-the-same-parent-route-in-aws-api-gateway","{aws-api-gateway,serverless-framework,serverless}","2019-10-31 14:48:22+02","2024-05-17 05:17:32.653948+03","I have three services which all share the same API gateway I am trying to get the third service to add a child route that was created from the other two services The two services are order and user The user service creates users user_id The order service creates orders order_id The third service is history which wants to create users user_id history and orders order_id history Can this be accomplished using serverless"
58647423,"Connection refused from serverless-offline lambda to host database","https://stackoverflow.com/questions/58647423/connection-refused-from-serverless-offline-lambda-to-host-database","{mysql,serverless-framework,serverless-offline}","2019-10-31 16:15:19+02","2024-05-17 05:17:33.722123+03","This question is related to serverlessoffline plugin local mysql database connection The scenarios for my test is as follows Probably serverlessoffline creates a docker image to launch a lambda and the address is not correct in the docker container and port mapping However serverlessoffline does not support those docker options I am stuck here to connect the database from the lambdas deployed locally with serverlessoffline I used localhost3306 for the db host but it does not work I tried port forwarding to connect the database via public ip address which does not work The database connection can be established somehow but the connection is refused all the time Any help"
58659211,"How does serverless works with amazon AWS Access Role?","https://stackoverflow.com/questions/58659211/how-does-serverless-works-with-amazon-aws-access-role","{amazon-web-services,amazon-iam,serverless-framework}","2019-11-01 12:24:59+02","2024-05-17 05:17:34.8722+03","I have read a documentation but usage of temporary credentials is unclear to me Ok I logined to aws console and create some role You do not have to do anything in your serverless yml file When you run sls deploy the Serverless Framework will identify the deployment profile associated with the application or stage and it will generate the AWS Access Keys using the associated AWS Access Role automatically How serverless framework kowns where to get credentials What Account to use It looks like serverless can connected to any account with any credentials just with usage of developer mind P S I do not have hands off knoledge about AWS Access Role if it have some specifics please clarify this "
58668987,"serverless-offline basic example no routes listed or available","https://stackoverflow.com/questions/58668987/serverless-offline-basic-example-no-routes-listed-or-available","{aws-lambda,serverless-framework,serverless-offline}","2019-11-02 07:10:27+02","2024-05-17 05:17:35.599689+03","I am following this basic example httpsmedium comhackernoontddmeanszenalongwithserverlessmeansnirvanaa39a76ee8e63 to setup serverlessoffline for unit testing a serverless project Unfortunately I cannot get the initial run of serverlessoffline to work correctly After running serverless offline start the console output does not display a GET method and a request to localhost3000 only returns Cannot GET Any ideas what I am missing here Thanks in advance My serverless yml My package json My handler js Console output"
58694087,"How to get access to private s3 bucket using cognito","https://stackoverflow.com/questions/58694087/how-to-get-access-to-private-s3-bucket-using-cognito","{amazon-web-services,amazon-s3,amazon-cognito,serverless-framework}","2019-11-04 13:07:49+02","2024-05-17 05:17:36.531094+03","I have a cognito user pool which is connected to google as identity providers so that I can log in with a gmail account I also have a private bucket s3 with files How can I use my lambda function using the token returned by Cognito AcessToken IdToken to get access to my s3 bucket which is not public I just want to use my cognito to access my private files on s3 Something like the Cognito Authorizer for lambda functions just for s3 bucket "
58703761,"does lambda layer include aws-sdk","https://stackoverflow.com/questions/58703761/does-lambda-layer-include-aws-sdk","{amazon-web-services,aws-lambda,serverless-framework,aws-lambda-layers}","2019-11-05 02:46:42+02","2024-05-17 05:17:37.631496+03","I am using serverless framework alongside lambda layers and few lambdas functions I had to include awssdk in order to support some of the features The lambda layer size with awssdk is 80MB where awssdk takes 40MB alone what I know is Lambda function include awssdk by default but does that imply on lambda layer as well Notes"
58715708,"Deploying cube.js using serverless framework results in an error","https://stackoverflow.com/questions/58715708/deploying-cube-js-using-serverless-framework-results-in-an-error","{serverless-framework,amazon-athena,aws-serverless,cube.js}","2019-11-05 16:35:45+02","2024-05-17 05:17:38.44881+03","I am trying to deploy cube js project using serverless framework on aws and when I access the endpoint produced by serverless it results in the following error on the browser Cannot GET Here is my serverless yml file I have followed this steps in this blog to set up NAT httpsmedium comphilipphollyawslambdaenableoutgoinginternetaccesswithinvpc8dd250e11e12 Cube js file is as follows with server core options When I run the endpoint httpsxxxxx executeapi useast1 amazonaws comproduction which is produced by the serverless api gateway I get the error Cannot GET On Cloudwatch I see the cubejs lambda being invoked and see logs for start and end request id I dont see any logs on cubejsProcess lambda WhereHow can I debug this to see where the issue is"
58723644,"Exporting Docx File with content disposition using AWS Lambda function","https://stackoverflow.com/questions/58723644/exporting-docx-file-with-content-disposition-using-aws-lambda-function","{node.js,typescript,aws-lambda,serverless-framework}","2019-11-06 05:30:48+02","2024-05-17 05:17:39.53206+03","I am writing a handler as AWS Lambda Function which is supposed to wrap the content into the docx file I am using the ContentDisposition in response headers in order to achieve the objective Below is the code that I have written so far Now only string can be returned in APIGatewayResponse hence I am not able to return byte object stream buffer instead I am able to download the docx file but it is not getting opened in MSWord I am always getting a detailed error that either file is corrupt or some part is invalid or missing I have already tried the base64 encoded string but still not able to get what is desired Please suggest a solution to it I writing the handler in typescript Node using the SLS framework "
58724832,"Serverless Dashboard: Set API Gateway Log Retention","https://stackoverflow.com/questions/58724832/serverless-dashboard-set-api-gateway-log-retention","{amazon-web-services,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2019-11-06 07:11:41+02","2024-05-17 05:17:40.179544+03","Im using the Serverless Dashboard to monitor my API Gateway and Lambda Im trying to edit the log retention days of API Gateways log group programmatically However Serverless maybe doesnt support retention days on API Gateway Is there any way I can automate that Thank you in advance Already asked Serverless forum httpsforum serverless comtapigatewaylogretention9778"
58730153,"Unable to run serverless framework in flask to create flask api","https://stackoverflow.com/questions/58730153/unable-to-run-serverless-framework-in-flask-to-create-flask-api","{python-3.x,flask,aws-lambda,serverless-framework}","2019-11-06 12:25:42+02","2024-05-17 05:17:41.652037+03","I am trying to create a flask api in aws lambda using serverless framework But when i try to launch application using sls wsgi serve command in local then i am getting error as Serverless Using Python specified in runtime python3 6 Unable to import werkzeug run pip install werkzeug I installed werkzeug package and it is in both requirement txt file and in python environment also "
58733599,"AWS Python lambda times out forever after first timeout","https://stackoverflow.com/questions/58733599/aws-python-lambda-times-out-forever-after-first-timeout","{python,amazon-web-services,aws-lambda,serverless-framework,serverless}","2019-11-06 15:31:29+02","2024-05-17 05:17:42.147745+03","Problem I have a python lambda that constantly receives data every second and puts it into DynamoDB I noticed that after the first time DynamoDB takes a little more and the function times out all the following calls also timeout and it never recovers The way to bring the lambda back to normal is to redeploy it When it starts timing out it does not display any logs It times out without executing any of the code Below is a picture of our console that represents the issue In order to reproduce the issue faster with this function I did the following Is there a way to resolve this issue without having to redeploy I have seen the same description of issue but with nodejs in this post httpsforums aws amazon comthread jspathreadID234417 I have not seen any description related with the python lambda env More information about the setup Lambda environments tested python3 6 and python3 7 Tool to deploy lambda serverless 1 57 0 serverless plugins used serverlesspythonrequirements serverlesswsgi I am not using any VPC for the lambda Thank you for the help"
58740591,"Page works on initial page load, but if i refresh the page I get an 404 error with Zeit, Nextjs & now","https://stackoverflow.com/questions/58740591/page-works-on-initial-page-load-but-if-i-refresh-the-page-i-get-an-404-error-wi","{javascript,reactjs,next.js,serverless-framework,vercel}","2019-11-07 01:11:47+02","2024-05-17 05:17:43.166442+03","I have recently upgraded from now v1 to v2 Everything works locally with now dev and all pages reload without any problems However when I push to prod with now prod and navigate to a page everything works as expected however if I reload the page I will take to the error page with an error of 404 I must admit i am finding the lines a little blurry on how I should setup my project since the move to v2 I am so sure its to do with my routing but I always thought it took the routes directly from my folder structure To add to the confusion if you reload you will get a 404 however from that 404 error page if you use the navigation the site will render without any problems According to the Docs it should pick up the name from the filesystem which i believe it does as it navigates there initially By default routing is defined by the filesystem of your deployment For example if a user makes a request to 123 png and your now json file does not contain any routes with a valid src matching that path it will fallback to the filesystem and serve 123 png if it exists But yes I am stuck and would be eternally grateful for some help I am unsure if this is helpful to know for the problem but here is my scripts [Edit]"
58747587,"How pass output values between aws nested stacks in serverless?","https://stackoverflow.com/questions/58747587/how-pass-output-values-between-aws-nested-stacks-in-serverless","{amazon-web-services,aws-cloudformation,serverless-framework,serverless-plugins}","2019-11-07 11:14:32+02","2024-05-17 05:17:44.186094+03","Here is readme about serverlesspluginnestedstacks plugin It makes possible to include nested stacks into main one But how to pass values between stacks For example I create a resouce in one nested stack how to path it arn to another stack nested or main one "
58752602,"Failed to decode downloaded font on lambda production app","https://stackoverflow.com/questions/58752602/failed-to-decode-downloaded-font-on-lambda-production-app","{angular,amazon-web-services,webpack,aws-lambda,serverless-framework}","2019-11-07 16:00:20+02","2024-05-17 05:17:45.210092+03","I am trying to deploy an angular web app to amazon lambda with the serverless module When I run the app in local everything works fine The problem comes up when I deploy the app to AWS Once the app is deployed the app is working fine but some fonts appear to be missing and do not display correctly This are the warnings that come up in the Chrome developer console Here is my environment information Intuiton tells me that there is something wrong with webpack So here is the webpack server config js Some help would be very much appreciated "
58790372,"How to define existing API gateway project to be used for deployment in serverless.yml?","https://stackoverflow.com/questions/58790372/how-to-define-existing-api-gateway-project-to-be-used-for-deployment-in-serverle","{serverless-framework,angular-universal,aws-serverless}","2019-11-10 15:58:26+02","2024-05-17 05:17:45.999992+03","I am using serverless framework for deployment of angularuniversal app aws lambda API gateway Every time I run the deployment from a different PC or just define a new stage serverless automatically creates a new API gateway project in aws I want that every time I run a deployment serverless would always use the same specific gateway API project creating new stages under the same defined project How can I define a reference to the existing gateway API project id in my serverless yml EDIT I tried to add to provider section the following and got an error An error occurred ApiGatewayResourceProxyVar Another resource with the same parent already has this name proxy "
58796904,"make serverless.yml use existing vpc","https://stackoverflow.com/questions/58796904/make-serverless-yml-use-existing-vpc","{serverless-framework}","2019-11-11 07:07:57+02","2024-05-17 05:17:46.975588+03","Is it possible to get a serverless yml template so substitute in a VPC id for a VPC that already exists in an AWS account Me and my colleagues each have our own AWS accounts that are provisioned by our company with a single VPC and we do not have permission to create our own VPCs so I want my serverless yml to be able to for each person get the VPC id for that persons account and substitute it in to serverless yml Is there a way to do this or with serverless or will it be necessary to parametrise it with an environment variable"
58799364,"Serverless framework lambda execution role mismatch?","https://stackoverflow.com/questions/58799364/serverless-framework-lambda-execution-role-mismatch","{amazon-web-services,amazon-s3,aws-lambda,amazon-iam,serverless-framework}","2019-11-11 10:11:28+02","2024-05-17 05:17:47.849972+03","I am using the serverless framework to make a simple lambda based schema validation service with node js and ajv library As stated here my local invocations work however when I invoke remotely I get an access denied from S3 Furthermore when I run the policy simulation on aws with my specific resource it indicates that the access is granted and now I am confused I invoke my function remotely with The relevant error message I get back is The message I get back from httpsapi serverless comcoretenants[[my profileValue]] is errorMessageNot Found which is very suspect to me although I went back in my serverless user configuration and found no problems My serverless yml configuration is as follows Any help would be much appreciated "
58837918,"AWS Serverless framework : Nested Stack or Cloudformation templates","https://stackoverflow.com/questions/58837918/aws-serverless-framework-nested-stack-or-cloudformation-templates","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-11-13 13:11:37+02","2024-05-17 05:17:50.82375+03","I am using serverless framework httpsserverless comframeworkdocsprovidersawsguideserverless yml Before I deploy the serverless stack there are some manual steps which I need to perform The ARNs of these AWS resources which are created in the above steps are configured as environment variables in the serverless yml file Apart from this I want to avoid the possible problem of reaching the AWS cloudformation limit of 200 resources in one stack What is the best waytools to split this stack into two parts Are there any examples in which output of one stack is used as environment variables in the another stack Another option I am thinking is to use the Cloudformation template which Serverless framework creates and then use it inside a nested CF stack Any better optionstools"
58839769,"How to set AWS lambda timeout using request parameters?","https://stackoverflow.com/questions/58839769/how-to-set-aws-lambda-timeout-using-request-parameters","{python,amazon-web-services,aws-lambda,serverless-framework}","2019-11-13 14:54:17+02","2024-05-17 05:17:51.526734+03","I want to build an API where end user can set timeout Not to be confused with the usual timeout setting in serverless yml file "
58845165,"AppSync BatchPutItem error: ""The number of conditions on the keys is invalid""","https://stackoverflow.com/questions/58845165/appsync-batchputitem-error-the-number-of-conditions-on-the-keys-is-invalid","{amazon-dynamodb,serverless-framework,aws-appsync}","2019-11-13 20:31:14+02","2024-05-17 05:17:52.621976+03","I am getting the error The number of conditions on the keys is invalid when attempting to batch put items Template Table Schema If I only try to add one of the key I get the expected error of missing a key If I setup table to use a single partition key then it works I can also batchwrite using code just not with AppSync I am testing this locally w serverless appsyncdynamodb local All other single item queries and mutation work fine I am not sure I understand what it is asking what is a condition in this case I have tried on every table with same result I see no indications in docs that batch cannot be done on composite keys but that is what it appears to be "
58861573,"Invoke github workflow on serverless deploy","https://stackoverflow.com/questions/58861573/invoke-github-workflow-on-serverless-deploy","{github,aws-lambda,serverless-framework,github-actions,git-workflow}","2019-11-14 16:33:08+02","2024-05-17 05:17:53.550651+03","I have a serverless nodejs project with aws lambda that I am trying to deploy Before deploying i want to decrypt certain files and then trigger the actual deployment This is the content of my main yml file inside githubworkflows directory It is not getting invoked if i do sls deploy I am intrigued how github will know that its a deployment event if i trigger sls deploy command Please help me in understanding when exactly the above deployment event will be triggered What I am trying to achieve is to start a deployment command ie sls deploy s staging or the like and that invokes the above workflow action1 decrypts files action2 triggers actual deployment to lambda PS The exact thing is working fine on git push but i dont want it to deploy on every push to repo Please help me in understanding this I am very new to github workflows "
58871398,"Multiple url path option error using graphql, aws lambda and serverless framework","https://stackoverflow.com/questions/58871398/multiple-url-path-option-error-using-graphql-aws-lambda-and-serverless-framewor","{amazon-web-services,aws-lambda,graphql,serverless-framework,serverless}","2019-11-15 06:22:26+02","2024-05-17 05:17:55.044698+03","I am using serverless framework to deploy a graphql nodejs package to lambda function My current serverless yml file involves with a POST method for all communication and also another one for playground which looks like below And my handler ts looks like this What I would like to do now is have 3 different paths 1 for secure and 1 for public and 1 for admin So basically the URL would be something like localhostpublic localhostsecre localhostadmin The secure path will use aws cognito pool to identify the API user api and and the other one would be open The admin will use another aws cognito admin pool So first what I did was add it like this for a secure one Then in my serverless yml file tried to put it like this It dint work and threw an error duplicated mapping key in UsersnihitDesktopserverlesscvtreserverless yml at line 50 column 135 graphql I tried it in different ways but I am not really sure which one is the right way to get two different URL paths "
58879822,"Parsing request body prohibits request signature verification","https://stackoverflow.com/questions/58879822/parsing-request-body-prohibits-request-signature-verification","{node.js,aws-lambda,slack-api,serverless-framework,ngrok}","2019-11-15 15:11:54+02","2024-05-17 05:17:55.52389+03","I am trying to build a serverless Slackbot using Lambda function I end up with an error while verifying the Request URL through the Slack event API slackeventsapi is the dependency that I am using to capture the slack events Here is my code This is the error that I am getting while verifing the request url Slack Request URL verification Can someone help me with this"
58890867,"How to parse serverless.yml file in script","https://stackoverflow.com/questions/58890867/how-to-parse-serverless-yml-file-in-script","{serverless-framework}","2019-11-16 12:44:31+02","2024-05-17 05:17:56.527705+03","I need to read the serverless yml config for use in some test mocks The following worked until a recent change How does one read the file now There is an astounding lack of documentation in regards to using serverless progamically "
58993864,"How can I bypass the 10MB limit of AWS API gateway and POST large files to AWS lambda?","https://stackoverflow.com/questions/58993864/how-can-i-bypass-the-10mb-limit-of-aws-api-gateway-and-post-large-files-to-aws-l","{amazon-web-services,amazon-s3,aws-lambda,aws-api-gateway,serverless-framework}","2019-11-22 11:59:53+02","2024-05-17 05:17:57.506316+03","An API which takes file and some parameters using POST and gives back a JSON response I have this working with Lambda API gateway using binary data but 10MB limit is the issue I have considered a POST API which uploads file to S3 The event generated is then read by Lambda But for this I have few questions"
59009255,"Listing cognito userpool users on AWS lambda","https://stackoverflow.com/questions/59009255/listing-cognito-userpool-users-on-aws-lambda","{node.js,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2019-11-23 15:37:35+02","2024-05-17 05:17:58.574652+03","I am trying to list all of my cognito users in my lambda function however i get nothing in the return as if the callback not getting executed What am I doing wrong The output of the code below just gives me a hello in the console "
59199386,"How define lambda function in serverless with inlineCode?","https://stackoverflow.com/questions/59199386/how-define-lambda-function-in-serverless-with-inlinecode","{javascript,node.js,aws-lambda,serverless-framework}","2019-12-05 16:24:57+02","2024-05-17 05:18:16.286835+03","Consider a piece of serverless code This leads to pacakge everything in source folder I can not disable it Event if I add Deploy failed because dummy zip is empty file But why I need a zip file when specified inlineCode Is there a way to disable packaging and deploy nodejs function with inlineCode parameter only"
59010177,"AWS Serverless : SQS Lambda trigger not getting created","https://stackoverflow.com/questions/59010177/aws-serverless-sqs-lambda-trigger-not-getting-created","{amazon-web-services,aws-lambda,serverless-framework}","2019-11-23 17:13:52+02","2024-05-17 05:17:59.581839+03","I am using Serverless framework and trying to create SQS triggers for lambda function The SQS Queue is already created using another serverless template When I execute the serverless deploy command there are no errors but the SQS trigger is also not created Here is my serverless yml file I also referred to this thread and tried to add required spaces Serverless does not create SQS events Any solutions to this problem It is surprising to see serverless does not display any errors "
59019870,"Serverless Framework - AWS CloudFront with S3 origin and multiple behaviours","https://stackoverflow.com/questions/59019870/serverless-framework-aws-cloudfront-with-s3-origin-and-multiple-behaviours","{amazon-cloudfront,serverless-framework,serverless-plugins}","2019-11-24 16:31:00+02","2024-05-17 05:18:00.618652+03","I need to configure serverless yaml as following 1 3 environments stages dev qa prod 2 qa and dev should be ip restricted CloudFront serving static html files from S3 S3 bucket qaindex html devindex html prodindex html 1 The goal is to create a cloudfront distribution that has 3 behaviours that distribute to the corresponding origin devqaprod another option is to create 3 separate cloudfronts for each stage 2 In order to ip restrict I understand that WAF is required and WAF is applied to the CF so dev and qa can share cloudfront where prod should be in separate The question is does serverless framework has pluginsdocumentation somewhere that can be helpful in such configuration Did not find anything Is it possible to have multiple cloudfronts in the serverless yml based on stage Thanks "
59025222,"Is there any AWS service which can make API gateway wait until it receives data from another AWS service (apart from Lambda)?","https://stackoverflow.com/questions/59025222/is-there-any-aws-service-which-can-make-api-gateway-wait-until-it-receives-data","{amazon-web-services,amazon-s3,aws-lambda,aws-api-gateway,serverless-framework}","2019-11-25 04:24:16+02","2024-05-17 05:18:01.501865+03","I want to make use of the time gap between the two calls by starting processing immediately But if second request is prematurely made then no data will be returned I can add a second Lambda which can cause API gateway to hold up till data is ready 29 second timeout of API gateway But is there any tailor made service for this case that can make API gateway wait Lambda alternative for 29 second hold "
59034415,"AWS Serverless Error for Provider variables - Trying to populate non string value into a string for variable","https://stackoverflow.com/questions/59034415/aws-serverless-error-for-provider-variables-trying-to-populate-non-string-valu","{amazon-web-services,aws-cloudformation,serverless-framework}","2019-11-25 14:49:42+02","2024-05-17 05:18:02.617617+03","I am using Serverless framework I have created Cognito user pool in one stack and importing it into second stack When I assign the value of the Cognito User pool ID created in the first stack to the environment variable it works But when I try to use it while creating a ARN for Cognito Authorizer it does not work I get an error Trying to populate non string value into a string for variable Here is the snippet of my serverless yml file Any issues related to indentation or the way it is being used in another variable like ARN"
59044024,"How does functions as a service ( FaaS) hosting work under the hood?","https://stackoverflow.com/questions/59044024/how-does-functions-as-a-service-faas-hosting-work-under-the-hood","{aws-lambda,google-cloud-functions,virtual-machine,azure-functions,serverless-framework}","2019-11-26 04:59:40+02","2024-05-17 05:18:03.608626+03","Suppose I want to roll out my own FaaS hosting a service like Lambda not on Lambda I have an abstract understanding of other cloud services as follows 1 Infrastructure as a service IaaS Create virtual machines for tenants on your hardware 2 Platform as a service PaaS Create VM and run script that loads the required environment The above could also be achieved with docker images AWS uses firecracker VM for Lambda functions But what is not clear is how the VMs are triggered on and off how they are orchestrated on multiple pieces of hardware in a multitenant environment Could someone explain how the complete life cycle works"
59046596,"AWS IAM role creation for serverless framework - Best Practice","https://stackoverflow.com/questions/59046596/aws-iam-role-creation-for-serverless-framework-best-practice","{amazon-web-services,serverless-framework}","2019-11-26 08:27:09+02","2024-05-17 05:18:04.121649+03","I manage the AWS security in my company We by default do not provide IAM role creation permissions to our developers But here is the problem how should we handle this for developers who are using serverless framework to deploy their workloads Should we allow them to create IAM roles and have serverless framework to manage the permissions for those roles or should we precreate the custom roles for this and ask developers to use that Role ARN in serverless yml or should we use IAM permissions boundary Can some one please help "
59049267,"How to pass API gateway context variable to proxy lambda","https://stackoverflow.com/questions/59049267/how-to-pass-api-gateway-context-variable-to-proxy-lambda","{serverless-framework,serverless,aws-serverless}","2019-11-26 10:51:10+02","2024-05-17 05:18:04.759785+03","I am looking for guidance on how to pass the API Gateway context variable for example context RequestTime to the proxy lamba Basically I want to send the time request has reached in Api gateway to my lambda proxy method as a request header Note that I am using serverless framework serverless com I tried the following but it does not work"
59063801,"Is there a way to use multiple aws profiles to deploy(update) serverless stack?","https://stackoverflow.com/questions/59063801/is-there-a-way-to-use-multiple-aws-profiles-to-deployupdate-serverless-stack","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,serverless}","2019-11-27 05:49:16+02","2024-05-17 05:18:05.779528+03","We have a team of 3 to 4 members so we wanted to do serverless deploy or update functions or resources using our own personnel AWS credentials without creating new stack but just updating the existing resources Is there a way to do that I am aware that we can set up awsprofile and different profiles for different stages I am also aware that we cloud just divide the resources into microservices and just deploy or update our own parts Any help is appreciated "
59072873,"How do you request the DynamoDB.DocumentClient service in a plugin?","https://stackoverflow.com/questions/59072873/how-do-you-request-the-dynamodb-documentclient-service-in-a-plugin","{serverless-framework,serverless-plugins}","2019-11-27 14:53:28+02","2024-05-17 05:18:06.750767+03","To make AWS requests in a plugin you can do something like this How do you request DynamoDB DocumentClient Looking at awsProvider js it seems like there is no way to do so If so are there any workarounds"
59894351,"Serverless with node.js doesn't deploy some dependencies node_modules","https://stackoverflow.com/questions/59894351/serverless-with-node-js-doesnt-deploy-some-dependencies-node-modules","{node.js,aws-lambda,serverless-framework,serverless,aws-serverless}","2020-01-24 10:13:34+02","2024-05-17 05:18:56.139039+03","When I use the cmd sls deploy sometimes all dependencies deployed as expected sometimes no Is this solution is good practice or not"
59086311,"Serverless: Deplyment error S3 Bucket already exists in stack","https://stackoverflow.com/questions/59086311/serverless-deplyment-error-s3-bucket-already-exists-in-stack","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework,serverless}","2019-11-28 10:09:07+02","2024-05-17 05:18:07.792562+03","I am trying to deploy a serverless project which has s3 bucket creation cloudformation in the serverless yml file but the problem is when I tried to deploy it says the s3 bucket already exists and failing the deployment I know s3 bucket name should be globally unique and I am damn sure it is a unique name that I am using even if changed to something else it still says the same the cloudformation stack it says the s3 bucket exists is actually the newly created stack not sure how to fix this issue can anyone help me out with this issue and tell me how to fix the deployment issue and the cause for the issue Thanks in advance "
59091832,"Is it possible to exclude some environment variables from serverless deploy?","https://stackoverflow.com/questions/59091832/is-it-possible-to-exclude-some-environment-variables-from-serverless-deploy","{aws-lambda,serverless-framework}","2019-11-28 15:14:09+02","2024-05-17 05:18:08.4247+03","I am using Serverless for deploying my functions to AWS Lambda and Serverless DotEnv to load in environment variables However it seems there is no way to exclude some of these variables from the deployed Lambda If you go on the Lambda dashboard on AWS you will find all variables listed on Environment variables but what if I do not want some of them like the NODE_ENV variable to be there I tried doing this in my serverless yml file But the variable was still there as you can see in the image below So is there a way to hide such variables"
59100563,"Serverless: can't load lambda function on the AWS using deploy comand","https://stackoverflow.com/questions/59100563/serverless-cant-load-lambda-function-on-the-aws-using-deploy-comand","{amazon-web-services,serverless-framework}","2019-11-29 07:36:29+02","2024-05-17 05:18:09.567537+03","I am new to the serverless framework and I am taking my first steps using official documentation And I get stuck with deploying to aws In an AWS account I created a user with name serverless with AdministratorAccess permission and make him serwerless framework default user serverless config credentials After I also added a new policy with the following permission Did not help But it is strange that in traceback writing userlifelines3 and I cant understand where this user came from "
59143125,"Invoke serverless-offline Lambda function by SNS message from Hosted AWS SNS using serverless-offline-sns","https://stackoverflow.com/questions/59143125/invoke-serverless-offline-lambda-function-by-sns-message-from-hosted-aws-sns-usi","{amazon-web-services,aws-lambda,amazon-sns,serverless-framework}","2019-12-02 16:37:20+02","2024-05-17 05:18:10.588707+03","serverlessofflinesns says in its docs that in order to listen to a hosted SNS on AWS you need the following But I do not know where to get the required environment values"
59155894,"How to inject serverless parameter from environment variables?","https://stackoverflow.com/questions/59155894/how-to-inject-serverless-parameter-from-environment-variables","{serverless-framework,bitbucket-pipelines}","2019-12-03 11:18:00+02","2024-05-17 05:18:11.926592+03","I am trying to do a deployment using serverless to AWS but I am getting the following error An error occurred ProjectName Invalid State Machine Definition SCHEMA_VALIDATION_FAILED Expected value of type Integer at StatesWaitForCampusMSeconds Service AWSStepFunctions Status Code 400 Error Code InvalidDefinition Request ID 1facfbb99570456d8c331a2dadaea5ff This was working fine when I was using a hardcoded value but now I am trying to use an environment variable so I can control the wait time differently between deployment and integration tests This is all getting deployed through a BitBucket pipeline Here is the definition of my state in the step function This value is set within BitBucket deployment settings and I decided to echo out the value so here is my pipeline This seems to log my value which is a valid number but I assume for some reason is being treated as a string I have tried using SecondsPath in serverless too but unfortunately that did not seem to work either Can anyone see what else I might be missing"
59162562,"Getting 502 response and 'has been blocked by CORS policy' running a simple fetch request to my lambda function","https://stackoverflow.com/questions/59162562/getting-502-response-and-has-been-blocked-by-cors-policy-running-a-simple-fetc","{aws-lambda,authorization,amazon-cognito,serverless-framework,serverless}","2019-12-03 17:38:09+02","2024-05-17 05:18:13.255711+03","Building a serverless web app on AWS with the serverless framework I get a CORS error with a 502 response code authenticating against an AWS Cognito user pool An almost identical request works for another function And here are both ajax requests sent from the frontend I run both functions onDocReady in the same window Here are the definitions in serverless yaml And here goes my function implementations in the handler js Although it is a CORS error as you can see the origin headers are provided and I found that in combination with the 502 status it might be something before the CORS e g a problem in the function or with authorization However I cannot see any problems with them so far The serverless function itself works as well when invoke it locally npm run sls invoke local function getAsset p test json Do you have any ideas what could be the issue or how to debug it"
59162872,"Serverless: Recoverable error occurred (unable to verify the first certificate),","https://stackoverflow.com/questions/59162872/serverless-recoverable-error-occurred-unable-to-verify-the-first-certificate","{node.js,aws-lambda,serverless-framework,serverless,aws-serverless}","2019-12-03 17:58:35+02","2024-05-17 05:18:13.721691+03","Hello I m trying to deploy again a simple service that was working fine hello world But suddenly it started to give error I tried to set NODE_TLS_REJECT_UNAUTHORIZED0 but still doing errors Could you help me please just starting to learn how to use AWS LAMBDAthank you"
59177484,"Get Lambda Arn into Resources : Type: AWS::Lambda::Permission","https://stackoverflow.com/questions/59177484/get-lambda-arn-into-resources-type-awslambdapermission","{aws-cloudformation,serverless-framework}","2019-12-04 13:45:32+02","2024-05-17 05:18:14.961678+03","I have the following in my serverless yml file and I have the following in the Outputs section this comes back with a message Template error instance of FnGetAtt references undefined resource lambdaQueueFirst Am I missing something and if so what since it is very little in terms of help or examples Also is there a better of getting the lambda arn into the permissions code if so what is it"
59179144,"My reactjs website refuses to go in serverless when i'm executing parcel","https://stackoverflow.com/questions/59179144/my-reactjs-website-refuses-to-go-in-serverless-when-im-executing-parcel","{javascript,npm,serverless-framework,serverless,parcel}","2019-12-04 15:14:38+02","2024-05-17 05:18:15.538366+03","Ive been working on a website for some time and I use serverless Everything was going well but since this morning impossible to push my updates from my site to serverless By pushing I have this mistake and the error of the _logs is I do not understand at all the error They are saying my build is failing but it was working yesterday and i did not touch at all the serverless part Has anyone ever had the same problem and could help me understand PS Even using old content cannot use serverless Thanks you and sorry for the stupid question PS my package json"
59211022,"Lambda ""Access Denied"" when uploading to S3","https://stackoverflow.com/questions/59211022/lambda-access-denied-when-uploading-to-s3","{amazon-web-services,amazon-s3,serverless-framework}","2019-12-06 10:10:58+02","2024-05-17 05:18:17.341451+03","I have been working with Serverless the framework and I have come across an issue This might be down to my minimal knowledge of AWS and it is archicture but maybe someone can point me in the right direction I have created an S3 bucket with Terraform it utilises AWSs KMS to give the bucket Server Side Encrpytion Uploading to this bucket works fine from the CLI but when using a Lambda created by serverless it returns and Access Denied The serverless yaml has permissions for uploads to S3 and I have tested this with SSE turned off and it works fine What I do not understand is how to specify the key for AWS I thought adding it to the top of the service might work but to no avail Here is the yaml file Do I need an additional plugin There is a lot of information about creating a bucket with serverless but not for using an existing bucket with SSE How do I get around this Access Denied message"
59214160,"RDS MySQL timing out intermittently when called from Lambda using NodeJS","https://stackoverflow.com/questions/59214160/rds-mysql-timing-out-intermittently-when-called-from-lambda-using-nodejs","{mysql,node.js,aws-lambda,amazon-rds,serverless-framework}","2019-12-06 13:31:25+02","2024-05-17 05:18:18.42329+03","My web app uses Lambda using NodeJS and backend is RDS MySQL I am using serverlessmysql to make db calls For some reason the db call times out intermittently I tried the following Below is the code I use Success function basically returns a json object like below mysql is initialized as below The only error I can see in Cloudwatch logs is Task timed out after 10 01 seconds "
59218643,"""One or more parameter values were invalid: Missing the key studentId in the item""","https://stackoverflow.com/questions/59218643/one-or-more-parameter-values-were-invalid-missing-the-key-studentid-in-the-ite","{node.js,aws-lambda,amazon-dynamodb,aws-api-gateway,serverless-framework}","2019-12-06 18:41:21+02","2024-05-17 05:18:19.26063+03","I am using serverless to expose HTTP request in getwayapi lambda function and dynamodb but got an error One or more parameter values were invalid Missing the key studentId in the item Please help me Here my code in app js"
59227110,"With serverless framework, how to replace cognito user pool instead of update?","https://stackoverflow.com/questions/59227110/with-serverless-framework-how-to-replace-cognito-user-pool-instead-of-update","{serverless-framework}","2019-12-07 14:43:22+02","2024-05-17 05:18:20.225626+03","I am using serverless framework to manage my AWS resources Now I want to replace my cognito user pool to update the config of alias username attributes etc I have changed the config of cognito user pool resource in yml changed the cognito user pool name and client name But on deploy I got the error Updates are not allowed for property UserPoolName where I was expected that this should lead to an replacement not update What have I missed Thanks "
59228216,"Serverless python custom packaging with serverless-python-requirements","https://stackoverflow.com/questions/59228216/serverless-python-custom-packaging-with-serverless-python-requirements","{python,aws-lambda,serverless-framework}","2019-12-07 16:49:07+02","2024-05-17 05:18:21.85695+03","I am using serverless framework serverlesspythonrequirements plugin to package my application I have this following project structure With this function configuration the zip artifacts contains the common and function_ lambda source files plus dependencies which is what I want Serverless configuration 1 Now I would like to move the function_b to a nested src folder srcfunction_b and have its own requirements txt file but when I try to pack it using this serverless configuration the function_b zip file does not contain the common sources but only the function_b and its dependencies Serverless configuration 2 The other relevant part of the serverless yml file is this Is there something I am doing wrong or is this some pluginserverless limitationbug "
59243751,"Serverless Framework, setting up rest api lambda","https://stackoverflow.com/questions/59243751/serverless-framework-setting-up-rest-api-lambda","{aws-lambda,serverless-framework}","2019-12-09 06:43:04+02","2024-05-17 05:18:22.059409+03","I wanted to make a lambda available at devapi example comauth The lambda will act like an auth service So it will have urls like Like wise more lambdas will be hooked to single ApiGateway With that design decision I wrote following serverless yml file It does not seem to work Whenever I visit devapi example comauthregister it returns Not Found error "
59250196,"502 ""Internal Server Error"" with API Gateway + Lambda when deploying","https://stackoverflow.com/questions/59250196/502-internal-server-error-with-api-gateway-lambda-when-deploying","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2019-12-09 13:44:38+02","2024-05-17 05:18:22.882881+03","I am using an APIGateway Lambda combo to process a POST request I am using Node Serverless Framework When I run serverless offline I am able to send a POST request and have my data stored on an S3 But when I deploy it and run the same POST request I get a 502 Internal Server Error message Because it works locally but not in production I am pretty sure I have some permissionconfig problems What I have checked What I have not checked My yml"
59250213,"Serverless framework with python not importing custom modules","https://stackoverflow.com/questions/59250213/serverless-framework-with-python-not-importing-custom-modules","{python,amazon-web-services,serverless-framework,aws-serverless}","2019-12-09 13:45:50+02","2024-05-17 05:18:23.874314+03","Hi I am using the serverless framework to deploy my ML model I structured my repo like below My serverless yml is written in this way here myfun yml However I am always getting the error my_submodule not found Am I setting up anything wrong thanks "
59275935,"AWS Serverless Framework Mono-Repo Structure Best Practices","https://stackoverflow.com/questions/59275935/aws-serverless-framework-mono-repo-structure-best-practices","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2019-12-10 21:54:10+02","2024-05-17 05:18:24.293381+03","I am working on a fairly large AWS serverless project and I am not all that familiar with the process so I have a more basic question on how to properly structure the application The main AWS services being used are Lambda Dynamo S3 Cognito and IoT There are native iOS and Android apps along with an Angular dashboard and Google Home Alexa They all use the native SDKs to authenticate through Cognito but use Lambda endpoints for all other cloud communication There are Lambda endpoints that are exclusive to the mobile apps There are Lambda endpoints that are exclusive to the voice assistants There are Lambda endpoints that are exclusive to the angular dashboard There are Lambda endpoints that are internal use only I separated my project into modules I have a module specifically for example Locations I have another module specifically for Users Each module contains all resources moreorless exclusive to itself There are some crossmodule dependencies Heres an example of my workspace A couple of things to notice here Okay so this is all well and good but now we are starting to think about environments Environments or stages need to be coordinated across all the different services From what I have read you simply create duplicate resources lambda functions s3 buckets dynamo tables etc for each environment with the stage defined in the name Example service module stage endpoint where service is your application name module is which core service you are working with stage is your environment dev stage prod and endpoint would be the name of your lambda function Is this correct to assume If so how does one structure that in their workspace And I also want to separate each Lambda function into their roles app dashboard voice etc This will also make setting up Policies easier This is where I am looking for advicebest practices What is a good workspacefolder structure for this type of application Thanks "
59279604,"How to use the --config or -c option in serverless while deploying?","https://stackoverflow.com/questions/59279604/how-to-use-the-config-or-c-option-in-serverless-while-deploying","{serverless-framework,serverless}","2019-12-11 05:52:15+02","2024-05-17 05:18:24.945417+03","I have divided my apis into microservices and have a separate yml for each I did this to resolve CloudFormation Resource limit error Number of resources is greater than maximum allowed 200 So now I have multiple serverless[serviceName] yml files The only problem now is that I need to rename them again and again when deploying rename to serverless yml I found a solution to this i e to use config or c Name of your configuration file if other than serverless yml yaml js json httpsserverless comframeworkdocsprovidersawsclireferencedeploy Now I am running the command sis deploy s stageName f functionName c serverlessFileName yml to deploy but it throws an error This command can only be run in a Serverless service directory This works perfectly if I run sis deploy s stageName f functionName and rename the file to deploy to serverless yml I am not sure where I am going wrong Serverless Version 1 38 0 Nodejs Version 10 x"
59299996,"Serverless Framework - Switch existing application from REST to HTTP in AWS API Gateway","https://stackoverflow.com/questions/59299996/serverless-framework-switch-existing-application-from-rest-to-http-in-aws-api","{amazon-web-services,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2019-12-12 07:57:34+02","2024-05-17 05:18:26.07956+03","AWS just announced HTTP API support for Amazon API Gateway There are some very impressive pricing and performance numbers coming in with this new release Off the top AWS says that the general cost of using v2 will be 70 cheaper and have 50 lower latency than v1 I would love to try this out in my existing projects I use Serverless framework in my application How do I convert my existing API to use this new feature This is what my serverless yml file looks like"
59320980,"Simplified wait on Serverless AWS step function","https://stackoverflow.com/questions/59320980/simplified-wait-on-serverless-aws-step-function","{python-3.x,serverless-framework,aws-step-functions}","2019-12-13 10:48:47+02","2024-05-17 05:18:26.933621+03","I have written AWS Step function via Serverless The logic looks like below For now I have written step function defined as below This perfectly works But the problem I have to write 4 lambdas for each different each job executed asynchronously so if there 4 such tasks to be done there will be 4 4 steps i e 16 steps This makes it look like there are lots of lambdas in step function and it is hard to see the actual flow These 4 functions could be summarised as pseduocode below Potential solution could be I understand that this is not the current case but this could simplify lots of workflows Is there any other way to simplify this"
59365944,"How do I use the Serverless Framework in an Azure DevOps Build Pipeline without Browser Authentication?","https://stackoverflow.com/questions/59365944/how-do-i-use-the-serverless-framework-in-an-azure-devops-build-pipeline-without","{azure,azure-devops,azure-functions,azure-pipelines,serverless-framework}","2019-12-17 00:12:28+02","2024-05-17 05:18:28.047406+03","I am trying to deploy the simple NodeJS helloworld functions the Serverless Framework provides to my Azure freetier account from an Azure DevOps Build Pipeline using the Service Principal credentials I created when making the deployment from my desktop originally I have used several of the Build Agents and Tasks combinations including Windows and Ubuntu Agents as well as Bash Command Line Azure Powershell and Azure CLI tasks with the DevOps provided link to the Service Principal credentials I have made sure to add them as Pipeline variables so that they are included in the tasks environmental variables and I have confirmed that they are there when the tasks run I also make sure that the Azure CLI is installed and logged into with the subscription set No matter what settingspermissions I tweak or new configurations I try when the task runs successfully to the point where the serverless framework attempts the deployment it always tries to get me to use a browser to authenticate my account This obviously defeats the purpose of a CICD pipeline and even if I do use a browser to authenticate the process just hangs there The sample code and deployment works on my desktop so I know the credentials work I believe I have emulated each step I take on my desktop in the Build Pipeline yet while my desktop deploys without browser authentication the build always requests it Does anyone have experience in this manner and know what stepconfiguration I am missing To look at the sample code and process look here or run these steps serverless create t azurenodejs p testApp cd \testApp\ Change Node Runtime and Region in serverless yml nodejs12 x not supported no free tier in West US serverless deploy Heres the link I used to get this working on my desktop link Edit Here is the default serverless yml created by the steps above"
59544511,"Is authorizer: aws_iam always required? ( use identity pool, support unauthorized access )","https://stackoverflow.com/questions/59544511/is-authorizer-aws-iam-always-required-use-identity-pool-support-unauthorize","{amazon-cognito,serverless-framework}","2019-12-31 13:07:09+02","2024-05-17 05:18:29.130363+03","I use Cognito Identity Pool and allow unauthorized access In this case is authorizer aws_iam always required Even for lambda functions that do not require signin to execute"
59555246,"WebDriverIO & AWS Lambda","https://stackoverflow.com/questions/59555246/webdriverio-aws-lambda","{node.js,amazon-web-services,webdriver,serverless-framework,webdriver-io}","2020-01-01 18:57:50+02","2024-05-17 05:18:30.258317+03","I have been working on a project that will run webdriverio httpswebdriver io browser tests inside of an AWS lambda function I have no problems running locally but quite a bit of trouble getting it to work inside of the lambda once deployed to AWS I have made a public repo that shows what I am attempting to do httpsgithub comDrewster727wdiolambda If you take a look at that repo you will see I am leveraging the serverless framework httpsserverless com to do the packaging and deploying to AWS What you will also see is that my package json file has some wdio and chomedriver packages getting installed that should allow me to do what is needed The trick of course is that the chrome binaries need to be linux compatible not osx like my local dev environment so that is why the readme states building and packaging inside the lambda docker container The problems I am having are when I execute the function I check the cloudwatch logs and it tells me an assortment of issues depending on how I target the chrome binary In it is current state errors show this Prior to that I would see issues with the chromedriver failing to start It is been interesting I would LOVE to get to a point where I can choose between firefox gecko or chromedriver and allow them both to run but it is tougher than I expected I am looking to see if anyone has tipssuggestions on how I can fix this and get it working Feel free to fork the repo I am stumped Thanks Drew"
59572960,"How create state machine with notifications and sns topic in same tempale?","https://stackoverflow.com/questions/59572960/how-create-state-machine-with-notifications-and-sns-topic-in-same-tempale","{node.js,serverless-framework,aws-step-functions,serverless-framework-step-functions}","2020-01-03 03:48:12+02","2024-05-17 05:18:31.049432+03","Consider a code serverless yml package json Failed with error So it looks like when state machine is created there is no SnsTopic resource But how to create it before state machine DependsOn attrobute on state machine lead to same error Any Ideas"
60228274,"Cannot fix The provided execution role does not have permissions to call CreateNetworkInterface on EC2","https://stackoverflow.com/questions/60228274/cannot-fix-the-provided-execution-role-does-not-have-permissions-to-call-createn","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2020-02-14 14:28:18+02","2024-05-17 05:19:04.791972+03","I am trying to deploy with VPC and this is my serverless yaml It fails with the following error The user that I created for this purpose has AdministratorAccess as well as AWSLambdaVPCAccessExecutionRole in it is permissions What else is expected here"
59585650,"Update Cognito User Pool/AWS Resources","https://stackoverflow.com/questions/59585650/update-cognito-user-pool-aws-resources","{amazon-web-services,amazon-cognito,serverless-framework,aws-userpools}","2020-01-03 21:38:41+02","2024-05-17 05:18:31.944498+03","I am using serverless framework to deploy AWS resources User Pool Identity Pool Dynamo Tables I know you are not allowed to make changes to a User Pool once it is already created and similarly Dynamo indexes I was wondering what the best practice is to update these types of resources without deleting usersdata Thankfully serverless caught the problem upon deploying Updates are not allowed for property UserPoolName But I have heard of people dropping users by accidentally updating User Pools Any suggestions"
59616781,"How to reference nested stack resources in AWS cloud formation?","https://stackoverflow.com/questions/59616781/how-to-reference-nested-stack-resources-in-aws-cloud-formation","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-01-06 17:58:27+02","2024-05-17 05:18:32.896304+03","I am currently using Serverless framework As the number of resources exceeded 200 limit I used serverlessnestedstack plugin to create nested stack Since then resource from one nested stack cannot access resource from other stack How do I refer a resource from one nested stack from another nested stack "
59619509,"Certificate issue when using serverless and serverless-domain-manager with custom domain","https://stackoverflow.com/questions/59619509/certificate-issue-when-using-serverless-and-serverless-domain-manager-with-custo","{aws-cloudformation,serverless-framework,serverless}","2020-01-06 21:56:16+02","2024-05-17 05:18:34.49426+03","I am trying to set up a custom domain for my API Gateway and Lambda function I registered a domain with route53 Ex myDomainToTestApi net I also created the certificates for myDomainToTestApi net myDomainToTestApi net www myDomainToTestApi net I installed the plugin serverlessdomainmanager for serverless framerwork In my serverless yml I added under custom ALL resources are in useast1 When I run I receive the following error If I go to the Certificate Manager view the status for all is Issued Anyone knows what could be happening Thanks "
59619965,"AWS DynamoDB not returning response to Lambda function","https://stackoverflow.com/questions/59619965/aws-dynamodb-not-returning-response-to-lambda-function","{javascript,node.js,aws-lambda,amazon-dynamodb,serverless-framework}","2020-01-06 22:42:12+02","2024-05-17 05:18:35.099254+03","I am working with serverless and NodeJS using the awssdk module and I have been getting a 502 internal server error on the frontend of the app previously it was shown as a cors error but so far it is the same issue in only one specific table when performing update or delete Here is the Lambda function itself The call function for dynamoDbLib is simply The request goes through the Lambda up until within writeToDynamoAndCatchDuplicates the call function is made it gets sent to dynamo but it never returns neither a timeout nor an error it simply ends In cloudwatch the last thing I see is the params log from writeToDynamoAndCatchDuplicates no error logged I had not changed the IAM policies on the role assigned to all Lambdas with the following permissions for the table aforementioned If anyone spots anything that might be a possible reason for the issue it will be much appreciated Also here is the last log shown before the END message on LOG events which corresponds to console log params before sending to DynamoDB inside the if statement of the writeToDynamoAndCatchDuplicates function "
59640726,"Use Path Parameters in serverless framework","https://stackoverflow.com/questions/59640726/use-path-parameters-in-serverless-framework","{python-3.x,amazon-web-services,aws-lambda,serverless-framework}","2020-01-08 06:47:23+02","2024-05-17 05:18:36.122559+03","How do I have to define the path param in order to pass it to my AWS Lambda function using serverless framework The language I want to use for lambda is Python3 "
59673720,"How to enable query validator in API gatway on yml file - AWS","https://stackoverflow.com/questions/59673720/how-to-enable-query-validator-in-api-gatway-on-yml-file-aws","{amazon-web-services,aws-api-gateway,serverless-framework,aws-serverless}","2020-01-09 23:49:23+02","2024-05-17 05:18:37.232246+03","I am trying to enable a request validator in API Gateway using a serverless yml file but I do not find a option for this in the documentation Serverless Doc In the AWS terminal I solved this problem but for me is more interesting if using a yml file Tutorial AWS AWS validator Option in AWS terminal"
59676343,"Jest Node.js Not able to call beforeAll and afterAll properly using separate file","https://stackoverflow.com/questions/59676343/jest-node-js-not-able-to-call-beforeall-and-afterall-properly-using-separate-fil","{javascript,node.js,jestjs,serverless-framework}","2020-01-10 06:12:18+02","2024-05-17 05:18:38.364433+03","I have defined beforAll and afterAll in a separate file bootstrap js but I am not able to do integration testing I am using serverless stack I took help from github but that example was written in mocha so I tried to transform it to jest bootstrap js handler test js My jest configuration is The output I get is"
59684624,"Moving existing lambda edge to Serverless Framework","https://stackoverflow.com/questions/59684624/moving-existing-lambda-edge-to-serverless-framework","{amazon-cloudfront,serverless-framework,aws-lambda-edge}","2020-01-10 15:31:05+02","2024-05-17 05:18:39.21442+03","I have a Lambda Edge attached to a CloudFront distribution What I want to do is use Serverless Framework to publish the lambda instead of manually uploading files and click on Deploy to Lambda What I have tried to do looking at the serverless documentation is add this yml file to the project and run the deployment script This deployed the Lambda but it did not attached it to CloudFront it has not been published and there is no versions or triggers related So how can I do this using an existing CloudFront distribution"
59690519,"AWS Lambda: CORS Errors same path but with parameters","https://stackoverflow.com/questions/59690519/aws-lambda-cors-errors-same-path-but-with-parameters","{aws-lambda,cors,serverless-framework}","2020-01-11 00:09:05+02","2024-05-17 05:18:40.240206+03","I am having some issues with cors When I request my api without parameters I do not have any issue But when I add some parameters I have a cors errors When I call clients no issues but when I do clientsfilter acheteur1 I get Raison lentete CORS AccessControlAllowOrigin est manquant which means missing Here is my serverless yml Here is my code And here is my resource imported with APIGateway cors errors handled And the code that builds the response is I have no issues with the call on Postman which is normal because Postman does not enforce CORS rules But I cannot understand why I am having this issues I followed all the guidelines from serverless "
59904227,"How to implement redirect (301 code) mock in serverless framework config (for AWS) without lambda","https://stackoverflow.com/questions/59904227/how-to-implement-redirect-301-code-mock-in-serverless-framework-config-for-aw","{serverless-framework}","2020-01-24 21:59:20+02","2024-05-17 05:18:56.871299+03","I would like that the root path of my API redirect 301 to completely another site with docs So I have a lambda at e g function1 path and the should return code 301 with another location And I would like to do it without another lambda This is exactly what is described here but via aws command line tool I tried this approach it works perfectly but I would like to configure such API gateway mock via serverless framework config "
59710528,"How do I access a variable inside a YAML file from an AWS Lambda function?","https://stackoverflow.com/questions/59710528/how-do-i-access-a-variable-inside-a-yaml-file-from-an-aws-lambda-function","{python,aws-lambda,serverless-framework}","2020-01-13 04:09:24+02","2024-05-17 05:18:41.388222+03","I am using the Serverless framework to test my lamdba function but it requires that I access my yaml file to get a specific variable I will add the file and the code below for clarity The YAML variable that I need to access is tableName Heres the lambda function At the moment you can see that the table name is hardcoded but I want to avoid that What I have tried so far I have looked at Get yaml key value in python and other suggestions involving os environ but I am unsure if these are the right options if I am going to be deploying the code to AWS I am mostly ignorant as to how the lambda code would access these yaml variables once they have been deployed An explanation would be greatly appreciated "
59715831,"Keep two versions of AWS Lambdas running","https://stackoverflow.com/questions/59715831/keep-two-versions-of-aws-lambdas-running","{amazon-web-services,aws-lambda,version,serverless-framework}","2020-01-13 11:33:30+02","2024-05-17 05:18:42.399197+03","Simple explanation of my current infrastructure I am using AWS Lambdas running python code there which are deployed via the Gitlab CI using serverless framework Explanation of situation I currently have an AWS Lambda which uses a specific library version for now say version 1 x x At some point in time this Lambda will start using a new version of the this library say 2 x x but I want both of these lambdas to be still deployed and available to handle requests If at some other point in time the version 3 x x of the library comes I want to keep the lambda using version 3 x x and 2 x x running basically the current version and current version 1 lambdas Lets call them Lambda_NEW and Lambda_OLD AWS lambdas have the concepts of versions and aliases which could be used but unfortunately they are not supported by serverless directly Note serverless supports multiple versions which cannot be named and there is a plugin called serverlessawsaliases which can set aliases for you but that one refer to the actual AWS Lambda versions see httpsgithub comserverlessheavenserverlessawsaliasissues148 Do you have any idea on how to tackle it My only valid thought so far is to keep two branches NEW and OLD which will use two different versions of the library and each branch will have its different deploy CI This is very counter intuitive though since I do not know how to maintain develop and master branches Also when to deploy to which stage etc Also I somehow want both Lambda_NEW and Lambda_OLD to be deployed on the same time e g when switching to library 5 x x I want version 5 x x to be in the NEW and version 4 x x in the old "
59735832,"How to use AWS SSM parameter store values in Cloudformation template conditionals?","https://stackoverflow.com/questions/59735832/how-to-use-aws-ssm-parameter-store-values-in-cloudformation-template-conditional","{amazon-web-services,aws-cloudformation,serverless-framework,ssm}","2020-01-14 14:31:14+02","2024-05-17 05:18:43.494164+03","I have configured a key value pair in the AWS SSM parameter store UI as myssmkey ssmvalue I have the following YAML template for CF built on Serverless On deploying the stack environment variables are being set to ssm_value ssmvalue and ssm_value_is_correct no Why is the conditional statement resolving to no instead of yes What is the correct way to use SSM parameter store values in conditionals Param store screenshot Env variables screenshot"
59757664,"How to redirect at Api Gateway level given a specific query string parameter value?","https://stackoverflow.com/questions/59757664/how-to-redirect-at-api-gateway-level-given-a-specific-query-string-parameter-val","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2020-01-15 18:34:42+02","2024-05-17 05:18:44.585162+03","We are using serverless and we deploy an API with a few lambdas that return some information Those lambdas have authorizers and process information from some external API Our FE retrieves the API gateway URL from our BE which is a plain NET monolithic server so basically our architecture consists of 3 parts FE BE and Microservices in API GW The MicroService calls include an Id that identifies one entity in our system and that is used to retrieve info from our external API That works well and it is running in production however some of those external APIs are not reliable enough for us and we have a big demo coming up and we wanted to mock those external APIs but just for one specific case meaning for one specific Id My idea was to create a fake lambda but I am unsure how to redirect it without changing the code Can this be done on API gateway console Basically if they Id in querystring is X redirect the new lambda otherwise just let everything flow as it is Is there a way to achieve this redirection completely on API gateway level or in serverless yml configuration at worst Our goal is to be able for a specific entity in production to hit a fake lambda of ours instead of our lambda that hits the external API so we can return mocked data with the proper structure Given there are multiple stages dev QA staging prod we were looking something easy just for our demo without having to change any productionready lambda or code in the FE or BE nor introduce a risk for any other entity tldr how can I redirect at API gateway levelconfiguration no code to another lambda given a specific value in a query string"
59762109,"How to get un-versioned files included while deploying serverless apps via github actions?","https://stackoverflow.com/questions/59762109/how-to-get-un-versioned-files-included-while-deploying-serverless-apps-via-githu","{amazon-web-services,serverless-framework,github-actions}","2020-01-16 02:10:18+02","2024-05-17 05:18:45.299963+03","I have a serverless project which requires SSL signed certprivate key for communication to an API The certkey are not in version control but locally are in my file system The files get bundled with the lambdas in the service and are accessible for use when deployed Deployment is done via Github Actions e g npm install serverless npx serverless deploy How could those files be included without adding them to version control Could they be retrieved from S3 Some other way It looks like encrypting the files may work but is there a better approach The lambdas could fetch them from S3 but I would rather avoid additional latency on every startup if possible "
59778964,"Mock response data with serverless framework","https://stackoverflow.com/questions/59778964/mock-response-data-with-serverless-framework","{serverless-framework}","2020-01-16 22:50:09+02","2024-05-17 05:18:46.291353+03","The docs give the following as a mock example This does create a mock response except it is empty How can I actually return data here I have tried adding applicationjson to template but that does not work I have tried adding a body under statusCodes but no luck there either There does not seem to be any documentation on this how can I return an actual body"
59793303,"Serverless.com / CloudFormation: Properties ""Retry attempts"", ""Maximum age of record"" not set on an AWS Lambda EventSourceMapping to a DynamoDB Stream","https://stackoverflow.com/questions/59793303/serverless-com-cloudformation-properties-retry-attempts-maximum-age-of-re","{aws-lambda,amazon-dynamodb,aws-cloudformation,serverless-framework,amazon-dynamodb-streams}","2020-01-17 18:52:35+02","2024-05-17 05:18:47.410129+03","I am trying to set the properties Retry attempts and Maximum age of record on an AWS Lambda EventSourceMapping to a DynamoDB Stream via serverless yml for the serverless framework When the stack is deployed they keep the default values and not the values I set Help Thanks My code"
59800426,"Referencing an entire property in multiple serverless files - [object Object] does not exist","https://stackoverflow.com/questions/59800426/referencing-an-entire-property-in-multiple-serverless-files-object-object-do","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,serverless}","2020-01-18 12:05:41+02","2024-05-17 05:18:48.529565+03","One of the biggest challenges that I have faced using serverless is in deploying AWS Lambda functions in a microservice fashion Each lambda individually I have already tried individual packages Webpack and so on I am currently breaking my serverless app into multiple subserverless files and I am trying to reference a main config serverless one I would like to inherit entire object trees so I do not have to be retyping them one by one In addition if there is a change I can propagate it throughout all the lambdas Heres my current structure Content of the main serverless file Omitted for brevity I would like to read the entire provider object and insert it into the individual serverless yml file Example lambdaplanningserverless yml I get the following error Serverless Error The specified provider [object Object] does not exist Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information Operating System win32 Node Version 12 14 1 Framework Version 1 61 2 Plugin Version 3 2 7 SDK Version 2 2 1 Components Core Version 1 1 2 Components CLI Version 1 4 0 I thought I could reference the entire property Is this possible What am I doing wrong Thanks "
59813541,"aws serverless - exporting output value for cognito authorizer","https://stackoverflow.com/questions/59813541/aws-serverless-exporting-output-value-for-cognito-authorizer","{aws-lambda,aws-cloudformation,aws-api-gateway,amazon-cognito,serverless-framework}","2020-01-19 19:18:47+02","2024-05-17 05:18:49.369255+03","I am trying to share cognito authorizer between my stacks for this I am exporting my authorizer but when I try to reference it in another service I get the error Trying to request a non exported variable from CloudFormation Stack name myAppservicestest Requested variable ExtApiGatewayAuthorizertest Here is my stack where I have authorizer defined and exported this is successfully exported as I can see it in stack exports list from my aws console I try to reference it in another stack like this my env info"
59824913,"Serverless Framework: CloudFormation Variable Import/Export","https://stackoverflow.com/questions/59824913/serverless-framework-cloudformation-variable-import-export","{aws-lambda,yaml,serverless-framework,serverless,aws-serverless}","2020-01-20 14:03:47+02","2024-05-17 05:18:50.408877+03","I am using Serverless Framework and have multiple services which are attempting to use the same SQS queue I can successfully make the resource in the first service but the second one is missing the lambda trigger when deployed to AWS Hardcoding the ARN ID will successfully make the trigger so I can only assume I have something wrong with my syntaxindentation but it is very similar to how I am exportingimporting my API Gateway details and I am just not seeing it I have an SQS Queue set up and exported from my first service like this In my second service I am attempting to use the SQS ARN ID as a trigger for a function like this I have also tried this to see if I have my indentation wrong Feel like I am missing something obvious on this one but I have been stuck on it way too long Anyone able to help me spot the obvious"
59835648,"Serverless framework: Set environment variables from file and stack outputs","https://stackoverflow.com/questions/59835648/serverless-framework-set-environment-variables-from-file-and-stack-outputs","{python-3.x,environment-variables,serverless-framework}","2020-01-21 06:56:39+02","2024-05-17 05:18:52.0551+03","I am writing AWS lambda using Serverless function At some places I have imported variables from external YAML file as below At some other place in addition to what environment variables are present in the given file I would like to add certain variables in the serverless file Which in turn refers to serverless outputs from the same stack Like below How do I mix both of the above i e get variables from files and the state machine output One option I could use is MY_SECRET file config selfprovider stage json CREDS but the problem is I have to use this for every environment variables which defeats the purpose of declaring it in other file What are my other options"
59841419,"How to define multiple targets in CloudWatch events by serverless framework","https://stackoverflow.com/questions/59841419/how-to-define-multiple-targets-in-cloudwatch-events-by-serverless-framework","{node.js,amazon-cloudwatch,serverless-framework,serverless,amazon-cloudwatch-events}","2020-01-21 12:41:22+02","2024-05-17 05:18:52.503073+03","I have been using the serverless framework 1 61 0 I have many and many scheduled events that are syncing data from another source For instance I am syncing Category entities within one lambda function So for this worker I have another 15 scheduled events They are preserved as new resources on CloudWatch and which makes it really big We are exceeding CloudWatch Event limit even if we increased it by submitting a limit increase request to AWS Is there any way to define multiple targets for the same CloudWatch Event So that instead of defining lambda_func_count 15 x event_count 15 x stage_count dev staging prod resources on CloudWatch we could just define one event with multiple targets for each individual lambda function Currently it is supported on AWS console but could not find a way to achieve this by the serverless framework "
59842748,"How to set the number of retry attempts of AWS Lambda in serverless.yml?","https://stackoverflow.com/questions/59842748/how-to-set-the-number-of-retry-attempts-of-aws-lambda-in-serverless-yml","{amazon-web-services,aws-lambda,serverless-framework}","2020-01-21 13:59:15+02","2024-05-17 05:18:53.276067+03","In the AWS Console it is possible to configure the number of retry attempts the Lambda Function will make in case of failure Is there any parameter in serverless yml that allows the user to set that configuration"
59844798,"Serverless-offline works fine with javascript but throw error in python","https://stackoverflow.com/questions/59844798/serverless-offline-works-fine-with-javascript-but-throw-error-in-python","{python,amazon-web-services,aws-lambda,serverless-framework,serverless-offline}","2020-01-21 15:55:52+02","2024-05-17 05:18:54.146916+03","I am new to serverless framework I am trying to use serverlessoffline my code works fine when I deploy it on AWS but locally is throw error of no module found the same code when written is javasript for helloworld it works just fine this is my handler py this is yml after sls offline the output is but when httplocalhost3000helloworld is called the output is"
59884441,"Serverless - TypeError: Cannot read property 'Fn::GetAtt' of undefined","https://stackoverflow.com/questions/59884441/serverless-typeerror-cannot-read-property-fngetatt-of-undefined","{aws-lambda,serverless-framework,lerna}","2020-01-23 17:46:44+02","2024-05-17 05:18:55.160237+03","We have a set of microservices created by an old team with Serverless I am now trying to update the node version of the services with no other changes and I am getting an error TypeError Cannot read property FnGetAtt of undefined I cannot see any obvious reason for this As a side note the task is actually run by Lerna but I get the same results whether running through Lerna or directly with sls Here is my slightly redacted serverless yml file"
59907099,"Is it required to provide access_key and secret_key in order to access object from s3 in lambda function?","https://stackoverflow.com/questions/59907099/is-it-required-to-provide-access-key-and-secret-key-in-order-to-access-object-fr","{python-3.x,amazon-s3,aws-lambda,serverless-framework}","2020-01-25 07:05:39+02","2024-05-17 05:18:57.774431+03","I want to write a lambda function that would update object file in the s3 bucket I am using same account and region in order to implement that As per the policy the secret key and access key that to be used would be change frequently that means i cannot use same secret key and access key in the lambda function to access the s3 object So is there anyway i can access s3 object with out providing access and secret key in lambda function"
59932690,"FUNCTION_ERROR_INIT_FAILURE AWS lambda","https://stackoverflow.com/questions/59932690/function-error-init-failure-aws-lambda","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2020-01-27 14:02:15+02","2024-05-17 05:18:58.891469+03","I recently added the cool lambda feature provisioned concurrency After a few successful deployments I now face this issue Serverless Error ServerlessError An error occurred GraphqlPrivateProvConcLambdaAlias Provisioned Concurrency configuration failed to be applied Reason FUNCTION_ERROR_INIT_FAILURE at C\Users\theod\AppData\Roaming\npm\node_modules\serverless\lib\plugins\aws\lib\monitorStack js12533 From previous event at AwsDeploy monitorStack C\Users\theod\AppData\Roaming\npm\node_modules\serverless\lib\plugins\aws\lib\monitorStack js2812 at C\Users\theod\AppData\Roaming\npm\node_modules\serverless\lib\plugins\aws\lib\updateStack js10728 From previous event at AwsDeploy update heres my sample serverless yml file anybody able to resolve this issue"
59936970,"Issues with Event Source creation deploying lambda function using serverless framework","https://stackoverflow.com/questions/59936970/issues-with-event-source-creation-deploying-lambda-function-using-serverless-fra","{amazon-web-services,aws-cloudformation,serverless-framework,serverless}","2020-01-27 18:36:07+02","2024-05-17 05:18:59.799914+03","I am trying to deploy a Lambda function using serverless framework The lambda function is invoked based on a Kinesis event source When I try to deploy the lambda I get this following problem CloudFormation CREATE_FAILED AWSLambdaEventSourceMapping Does it mean we do not have permission to create EventSource for the lambda function"
59959002,"How to migrate to Serverless (Cloud Formation) to AWS CDK (Cloud Development Kit)","https://stackoverflow.com/questions/59959002/how-to-migrate-to-serverless-cloud-formation-to-aws-cdk-cloud-development-kit","{amazon-web-services,aws-cloudformation,serverless-framework,serverless,aws-cdk}","2020-01-29 00:21:54+02","2024-05-17 05:19:00.332179+03","I have got a bigass Serverless project and I wonder if matching the cloud formation template schema with CDK would do the trick or is there something extra to the process "
59969883,"Serverless GCP function whitelist cloud scheduler ip","https://stackoverflow.com/questions/59969883/serverless-gcp-function-whitelist-cloud-scheduler-ip","{google-cloud-platform,google-cloud-functions,serverless-framework,serverless}","2020-01-29 15:01:13+02","2024-05-17 05:19:00.843004+03","I am wondering how to extend this GCP HTTP example to only be callable by a Google Cloud Scheduler IP address or some way to limit it to being called from inside the specific GCP project Maybe the easiest would be some sort of resource or network config block in the serverless yml but just not quite sure how to go about it and could not really find an example in the examples repository "
60189853,"Error connecting AWS ElasticSearch Instance from AWS Lambda function while using Serverless Framework","https://stackoverflow.com/questions/60189853/error-connecting-aws-elasticsearch-instance-from-aws-lambda-function-while-using","{node.js,aws-lambda,amazon-cognito,serverless-framework,aws-elasticsearch}","2020-02-12 13:49:13+02","2024-05-17 05:19:01.650986+03","I am using serverless framework to implement a serverless project I added some config in my serverless yml file to create instance for aws elasticsearch service which is successfully created Then i created a elasticsearch client in my handler and ping it for testing So when i ping the elastic search client from serverless offline on my local system It worked fine and got a true response but when i deployed the same code on aws lambda than it gets timed out after getting no response till 30 sec Have given all policies that can be required but getting no luck Serverless yml Handler js"
60197050,"In a serverless.yml file, how does one customize the default http response template?","https://stackoverflow.com/questions/60197050/in-a-serverless-yml-file-how-does-one-customize-the-default-http-response-templ","{aws-lambda,aws-api-gateway,serverless-framework}","2020-02-12 21:22:05+02","2024-05-17 05:19:02.629275+03","Looking at the documentation here httpsserverless comframeworkdocsprovidersawseventsapigatewaycustomresponsetemplates there does not seem to be much detail at all about setting up these templates I am currently looking to remove the default applicationjson contenttype which is generated during creation of the handlers integration response pictured below and replace it with texthtml Is there defined syntax for how to do this hidden somewhere Or is this level of customization not possible within the current scope of the framework Here is my endpoint as defined in serverless yml Which produces the following configuration on AWS Api Gateway I did try modifying the specification like this as a guess but it threw a syntax error"
60207668,"Error when creating a dynamodb document client aws serverless using aws-xray-sdk,","https://stackoverflow.com/questions/60207668/error-when-creating-a-dynamodb-document-client-aws-serverless-using-aws-xray-sdk","{node.js,typescript,amazon-dynamodb,serverless-framework,aws-xray}","2020-02-13 12:17:27+02","2024-05-17 05:19:03.766158+03","I am creating a function which is supposed to write to a dynamodb and I want to generate the trace using awsxraysdk My function is This works very well when I use just the document client from aws sdk as above but because I need the trace when I pass the awssdk through the awsxraysdk and wants to use the sdk it throws an error This is how I constuct it then when I do private readonly docClient DocumentClient XAWS DynamoDB DocumentClient I get the error How can I do to eliminate this error or possibly get a document client that can be used for the trace with awsxray Dependencies awsxraysdk ^2 2 0 awssdk ^2 433 0"
60200117,"Serverless Custom Authorizer results to undefined","https://stackoverflow.com/questions/60200117/serverless-custom-authorizer-results-to-undefined","{javascript,aws-lambda,serverless-framework,aws-serverless}","2020-02-13 03:41:33+02","2024-05-17 05:19:03.779272+03","I followed the tutorials and examples online on how to implement custom authorizers for my lambda function Unfortunately I am having trouble accessing the authorizer context inside my function Doing console log event requestContext authorizer only results to undefined Am I missing something Heres some snippet Thanks in advance "
66985091,"Serverless Error ----- Invalid character in entity name Line: 0 Column: 382 Char: = while deploying lambda function in ap-south-1 region","https://stackoverflow.com/questions/66985091/serverless-error-invalid-character-in-entity-name-line-0-column-382-char","{aws-lambda,serverless-framework}","2021-04-07 11:24:00+03","2024-05-17 05:25:35.23266+03","serverless yml The same deployment doesnt give this error in other aws regions and deployment is successful Any resolution for this error Please let me know how to resolve Thank you"
60231470,"setup an aws api gatway with serverless","https://stackoverflow.com/questions/60231470/setup-an-aws-api-gatway-with-serverless","{aws-api-gateway,serverless-framework,serverless}","2020-02-14 18:06:34+02","2024-05-17 05:19:05.550554+03","I built out my dev environment manually I wanted to focus on logic and skip the learning curve on serverless but before deploying to prod I want to standardize and parameterize my stack setting up my dynamodb tables has been straight forward but I am running into snags with deploying a new apigateway I have been using aws codebuild to package layers for lambda functions and an s3 bucket to store my lambda code Let us take my devrestauth api custom authentication as an example I have several resources for loginout passwords and registration most are protected by a custom authorizer loginlogout are not and all have cors policies I am using a custom domain accountapi dev example com I use several dynamodb tables for housing user data let us avoid security discussions please I am not storing raw passwords and am encrypting using leading industry standards and temporary codes password reset account verification to test serverless implementation I would like to build a yaml file that recreates my existing infrastructure so the first question is is that possible Can I parameterize the deployment of an API gateway with custom authorizer custom domain and several lambdas Next question is how Organizationally I am breaking out my yml files by resource I have several dynamodb yml files that look like this This was a much earlier attempt several months ago from googling but I do not remember where I found it or what it does of standing up an API gateway I pull everything together in a serverless yml file that references the resource files like this I have seen several examples of connecting a lambda to a gateway but it is not clear where the gateway is being created it is also not clear how the lambda is being createdif I would be able to reference layersfunction code in s3 I have seen some tutorials for doing this with aws amplify via the cli but my dreamstate would be that I could effectively create a new aws account deploy this serverless and have my site up and running automatically with just a little route 53 work to point to a new domain "
60236910,"Deploy AWS state machine stage specific","https://stackoverflow.com/questions/60236910/deploy-aws-state-machine-stage-specific","{amazon-web-services,yaml,serverless-framework,aws-step-functions,serverless-plugins}","2020-02-15 07:56:37+02","2024-05-17 05:19:06.60972+03","I am new to serverless framework I want to deploy my state machine for dev env only not for other env How can I deploy it stagespecific I have tried serverlesspluginifelse for deployment but it is not working in the case of state machines My serverless yml looks like"
60244846,"With serverless-bundle, how can I run tests over code that uses the sharp package?","https://stackoverflow.com/questions/60244846/with-serverless-bundle-how-can-i-run-tests-over-code-that-uses-the-sharp-packag","{node.js,amazon-web-services,jestjs,serverless-framework,sharp}","2020-02-16 02:15:08+02","2024-05-17 05:19:07.926908+03","I am using the sharp package and serverlessbundle together in a serverlessframework project I am able to run and deploy my code just fine with this custom bundle packagerOptions scripts script rm rf node_modulessharp npm install archx64 platformlinux target10 15 0 sharp When I try to run a test over code that touches the sharp package I get the following error linuxx64 binaries cannot be used on the darwinx64 platform Please remove the node_modulessharpvendor directory and run npm install I do not plan on testing the implementation of sharp rather I am mocking the JavaScript file that is importing it Here is the test file where I am running into this issue httpsgithub comgroffcoleartcenterserviceblobmasterportsGalleriesHttpPort test js What am I doing wrong Thanks "
60244874,"How can I debug tests in Visual Studio Code with a serverless-framework project using the serverless-bundle package?","https://stackoverflow.com/questions/60244874/how-can-i-debug-tests-in-visual-studio-code-with-a-serverless-framework-project","{node.js,amazon-web-services,aws-lambda,jestjs,serverless-framework}","2020-02-16 02:23:11+02","2024-05-17 05:19:08.576901+03","I have a serverlessframework project that is using the serverlessbundle package so that I can use ES6 imports and exports I currently have a failing test When I click on the Debug link in Visual Studio Code the debug session fails for the following reason on line 1 of my test code SyntaxError Cannot use import statement outside a module The test code I am working on is located here httpsgithub comgroffcoleartcenterserviceblobmasterportsGalleriesHttpPort test js What can I do to fix this issue Thanks "
60249157,"Serverless Framework - Setting up resource permissions for dynamodb","https://stackoverflow.com/questions/60249157/serverless-framework-setting-up-resource-permissions-for-dynamodb","{aws-lambda,amazon-dynamodb,serverless-framework}","2020-02-16 13:50:47+02","2024-05-17 05:19:09.444938+03","I have the following serverless yml file I am trying to assign read write permissions to the generated dynamodb So far it generates my lambda and the dynamodb table but the lambda is not assigned permissions to access it I get no errors and it does not seem to add the permission to the dynamodb table Can anyone shed any light please"
60271261,"serverless remove lamda using gitlab CI","https://stackoverflow.com/questions/60271261/serverless-remove-lamda-using-gitlab-ci","{aws-lambda,gitlab-ci,serverless-framework}","2020-02-17 22:29:31+02","2024-05-17 05:19:10.270884+03","I am using gitlab CI for deployment I am running into a problem when the review branch is deleted error is This command can only be run in a Serverless service directory Make sure to reference a valid config file in the current working directory if you are using a custom config file I have tried different GIT_STRATEGY can some point me in right direction"
60276092,"Serverless framework, handler doesn't exists","https://stackoverflow.com/questions/60276092/serverless-framework-handler-doesnt-exists","{php,amazon-web-services,aws-lambda,serverless-framework,serverless}","2020-02-18 07:48:40+02","2024-05-17 05:19:11.31107+03","I am using the Serverless framework to deploy my PHP functions on the AWS Lambda I have tried with a simple example but I can see inside cloudwatch this error This is my serverless file and my functions test php is inside the folder public What can I do for function S3Handler Api function is working fine "
60285572,"Mixing Terraform and Serverless Framework","https://stackoverflow.com/questions/60285572/mixing-terraform-and-serverless-framework","{amazon-web-services,terraform,serverless-framework,serverless}","2020-02-18 16:37:10+02","2024-05-17 05:19:12.428853+03","It is more of an open question and I am just hoping for any opinions and suggestions I have AWS in mind but it probably can relate also to other cloud providers I would like to provision IaaC solution that will be easily maintainable and cover all the requirements of modern serverless architecture Terraform is a great tool for defining the infrastructure has many official resources and stable support from the community I really like its syntax and the whole concept of modules However it is quite bad for working with Lambdas It also raises another question should code change be deployed using the same flow as infrastructure change Where to draw the line between code and infrastructure On the other hand Serverless Framework allows for super easy development and deployment of Lambdas It is strongly opinionated when it comes to the usage of resources but it comes with some many outofthebox features that it is worth it It should not really be used for defining the whole infrastructure My current approach is to define any shared resources using Terraform and any domainrelated resources using Serverless Here I have another issue that is related to my previous questions deployment dependency The simple scenario Lambda 1 adds users to Cognito shared resource which has Lambda 2 as a trigger I have to create a custom solution for managing the deployment order Lambda 2 has to be deployed first etc It is possible to hook up the Serverless Framework deployment into Terraform but then again should the code deployment be mixed with infrastructure deployment"
60311113,"Return parameter failing in Serverless Azure Function in Python","https://stackoverflow.com/questions/60311113/return-parameter-failing-in-serverless-azure-function-in-python","{python,azure,serverless-framework}","2020-02-20 00:04:53+02","2024-05-17 05:19:13.503871+03","I have created a project using azurepython serverless framework template When I try to run locally serverless offline I get following error cannot load the goodbye function the following parameters are declared in function json but not in Python res If I modify manually function json and replace name value res of parameter with return everything works However this file is regenerated by framework How to define this parameter as return in function json"
60314382,"How to fix nextjs cloudfront static assets respond with 403?","https://stackoverflow.com/questions/60314382/how-to-fix-nextjs-cloudfront-static-assets-respond-with-403","{amazon-web-services,amazon-s3,amazon-cloudfront,serverless-framework,serverless}","2020-02-20 06:56:59+02","2024-05-17 05:19:14.432185+03","I am trying to deploy my website to aws with cloudfront and route53 The site is deployed and running on httpshiggle io However the assets are not loading for the images are throwing 403 How do I fix it I am using serverless serverlessnext js And I was following one of their blog post to set it up So far I added which has serverless yml on the route level and my next config js looks like While the folder structrs looks like Any idea how to fix this Thanks"
60344618,"Unable to validate the following destination configurations (S3 to SQS)","https://stackoverflow.com/questions/60344618/unable-to-validate-the-following-destination-configurations-s3-to-sqs","{amazon-s3,aws-cloudformation,amazon-sqs,serverless-framework}","2020-02-21 18:47:37+02","2024-05-17 05:19:15.309851+03","I am trying to set up a workflow with serverless that creates a new S3 bucket a new SQS queue and when an object is created in the S3 bucket puts a messages on the queue and spins up a lambda once there are enough messages on the queue I have the following in my resources block When I try to deploy this I receive the following error An error occurred AnalyticsBucket Unable to validate the following destination configurations Service Amazon S3 Status Code 400 Error Code InvalidArgument Request ID E2A1F8BD6BEE6EF4 Some googling and I found that the issue is in the NotificationConfiguration block on the AnalyticsBucket If I remove that whole subblock it deploys just fine but then obviously will not generate messages on the queue when objects get created Looking for a way to resolve this "
60353154,"Aurora Serverless (Postgresql) - execute statement timeout 502","https://stackoverflow.com/questions/60353154/aurora-serverless-postgresql-execute-statement-timeout-502","{postgresql,amazon-web-services,amazon-rds,serverless-framework,aws-aurora-serverless}","2020-02-22 14:30:55+02","2024-05-17 05:19:16.223343+03","I am building a lambda api connecting to AWS Aurora Serverless Postgres I added port 5432 in inbound of security group I also use dataapiclient to query the database httpsgithub comjeremydalydataapiclient Built API lambda in Serverless Framework set timeout is 1 min added role AmazonRDSDataFullAccess My lambda code built in Serverless framework is simple Result Any suggestion is appreciated "
60361929,"Cannot upload image to s3 using serverless framework but it work in offline (buffer issue)","https://stackoverflow.com/questions/60361929/cannot-upload-image-to-s3-using-serverless-framework-but-it-work-in-offline-buf","{amazon-s3,aws-lambda,aws-api-gateway,serverless-framework,image-upload}","2020-02-23 11:53:46+02","2024-05-17 05:19:17.012076+03","I am trying to deploy a lambda function allowing me to upload a picture to S3 The lambda works well in offline but when I am deploy it to AWS the function does not work The first error I encountered was this one So I followed the recommendation to use Buffer from method instead But it does not work too The lambda run until the timeout Can someone tell me where I was wrong or suggest me another solution Below my lambda function getContentType parser "
60368059,"Deploying an AWS Lambda function using serverless does not deploy when external modules are required","https://stackoverflow.com/questions/60368059/deploying-an-aws-lambda-function-using-serverless-does-not-deploy-when-external","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2020-02-23 23:58:39+02","2024-05-17 05:19:17.880208+03","I am currently trying to deploy an AWS lambda function using serverless I can get the function to deploy correctly and respond if I do not include any external modules however as soon as I attempt to include dynogels and Joi the serverless deploy command will not get past packing external modules The full output when not including external modules The full output when including external modules The packages are installed I cannot see why this is not deploying Is there any way I can see some errors from the deploy verbose does not seem to provide much extra information Thanks for your help Edit serverless yml webpack config js addHandler js"
60387211,"Get SQS URL from within Serverless function?","https://stackoverflow.com/questions/60387211/get-sqs-url-from-within-serverless-function","{amazon-sqs,serverless-framework,serverless}","2020-02-25 03:45:15+02","2024-05-17 05:19:19.467382+03","I am building a Serverless app that defines an SQS queue in the resources as follows I want to send messages to this queue from within one of the functions How can I access the URL from within the function I want to place it here"
60419715,"Azure function is not sending data to Azure signlR","https://stackoverflow.com/questions/60419715/azure-function-is-not-sending-data-to-azure-signlr","{javascript,azure,signalr,azure-functions,serverless-framework}","2020-02-26 17:51:17+02","2024-05-17 05:19:19.757961+03","I have Timer trigger Azure function which calls API and send output data to signalR Also I have already setup the AzureSignalRConnectionString in Application Setting But issue is Azure SignalR does not show any activity in connection metrics Azure Function function json"
60439849,"How to reference Arn and name of AWS lambda function created with Serverless Framework","https://stackoverflow.com/questions/60439849/how-to-reference-arn-and-name-of-aws-lambda-function-created-with-serverless-fra","{aws-lambda,aws-cloudformation,serverless-framework}","2020-02-27 18:45:58+02","2024-05-17 05:19:20.955044+03","I am using the Serverless Framework to create a lambda function and would like to be able to crossreference its Arn and name in other parts of serverless yml I am surprised how difficult I am finding this as GetAtt and Ref do not seem to work as I would expect if the lambda was created via vanilla CloudFormation AWSLambdaFunction returns Ref and FnGetAtt which would make this easy I have found a few posts that allude to solutions but nothing that states in plain English how to achieve this In another part of the template I have attempted but when I deploy I get I notice that the final CloudFormation template has converted sendEmail to sendEmailLambdaFunction so I then tried but received a similar error I also would like to be able to reference the name but sadly causes the error Any assistance with regards to precise changes I need to make in order to achieve grabbing the lambdas Arn and name would be greatly appreciated Thanks in advance I"
60451657,"Automation of seeding parameter store during the first deploy","https://stackoverflow.com/questions/60451657/automation-of-seeding-parameter-store-during-the-first-deploy","{node.js,amazon-web-services,amazon-rds,serverless-framework,aws-parameter-store}","2020-02-28 12:23:48+02","2024-05-17 05:19:21.654674+03","I am using a serverless framework in my nodejs project In the project I have in the yaml definition of services I want to created RDS database and pass the password and admin name I am using AWS System Manager Paramter Store for keeping these credentials During the deploy I download this credentials from parameter store to create rds by the script I wrote in nodejs Definition of rds instance Sample script for retrieving the database password from parameter store The problem is then when the first deploy i e creating the entire stack I need to have password parameters and database username created in the parameter store I would like to automate that when we do deploy if specific parameters are not created they are created and saved in the parameter store I want to be able to retrieve this data later to plug in a program to the database and view the data debug I thought that I would write a script and with the help of serverlessscriptableplugin before deploy I would run a script that checks if there is the data in the parameter controller that I will need for deploy if it is not there it will create it But browsing httpsgist github comHyperBrain50d38027a8f57778d5b0f135d80ea406filelifecyclecheatsheetmd I wanted to plug into the event before package cleanup and check it there but unfortunately before running the script when deploying serverless framework is giving me an error A piece of the serverless yml file in which I use the script The question is if there is an earlier event that I can plug in with this plugin and start checking the paramteter stora and using it if it does not find the data I need Alternatively is there any other simpler way to automate the first deploy create RDS with a password and get this data manually somewhere later"
60457609,"Serverless TypeError: chalk(...).dim is not a function","https://stackoverflow.com/questions/60457609/serverless-typeerror-chalk-dim-is-not-a-function","{python,amazon-web-services,aws-lambda,serverless-framework}","2020-02-28 18:49:15+02","2024-05-17 05:19:22.7592+03","I am trying to test the serverless lambda function using the command Command Error Entire stacktrace This command is run inside the directory which has serverless yml requirements txt handler py Unable to understand why this error occurs and what is the solution"
60457758,"Serverless AWS Lambda : no module named `secret_manager`","https://stackoverflow.com/questions/60457758/serverless-aws-lambda-no-module-named-secret-manager","{python,amazon-web-services,serverless-framework}","2020-02-28 19:01:16+02","2024-05-17 05:19:24.075727+03","Installed serverlesspythonrequirements using npm I use secretmanager library in handler py I am able to successfully deploy lambda function using serverless no errors I have secretmanager listed along with other pypi packages in requirements txt In order to package it I include following lines in serverless yml To verify if secretmanager is packaged with the other PyPi binaries I downloaded the deployed lambda as a zip file and verified it does have secretmanager along with other pypi binaries But still for some reason it still fails saying secretmanager module not found Note the name of folder of PyPi is secretmanager and the name of file inside it is secret_manager py For reference "
60480496,"Serverless getting VPC id from vpc declaration","https://stackoverflow.com/questions/60480496/serverless-getting-vpc-id-from-vpc-declaration","{serverless-framework}","2020-03-01 22:47:44+02","2024-05-17 05:19:24.89571+03","In my provider block I have a VPC declared as vpc How can I get the idARNwhatever of this VPC in my resources block I have an AWS CloudFormation resource and I want to pass my VPCs id as the VpcId Is there some self thing to get the id I tried Ref vpc but that did not work "
60505746,"serverless.yml Output exports does not work as expected","https://stackoverflow.com/questions/60505746/serverless-yml-output-exports-does-not-work-as-expected","{amazon-web-services,serverless-framework,serverless}","2020-03-03 11:00:15+02","2024-05-17 05:19:25.45653+03","All of my exports in the serverless files are not setting the export values in cloudformation As an example I have the following section in one of my serverless yml files But when I try to access it with it says userservicedev No export named devuserPoolName found And I checked the exports section in the cloud formation console and its empty This is same for the other serverless files as well Another export I have is This value is also not available What have I done incorrectly here"
60506343,"Why would this AWS lambda cause error: WARNING: Callback/response already delivered","https://stackoverflow.com/questions/60506343/why-would-this-aws-lambda-cause-error-warning-callback-response-already-delive","{node.js,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2020-03-03 11:33:25+02","2024-05-17 05:19:26.477593+03","I use Serverless framework to pack and deploy The runtime is Node 12 Everything works fine it can return the error to the actual endpoint lambda which will then be returned if no error the logic will be executed However this warning is pretty annoying The code is for preSignUp in CloudWatch WARNING Callbackresponse already delivered Did your function invoke the callback and also return a promise For more details see httpsdocs aws amazon comlambdalatestdgnodejsprogmodelhandler html In the code I did not return anything before calling the callback why would this happen and how to solve it "
60507222,"When using uuid in aws lambda results undefined in logs","https://stackoverflow.com/questions/60507222/when-using-uuid-in-aws-lambda-results-undefined-in-logs","{node.js,amazon-web-services,aws-lambda,uuid,serverless-framework}","2020-03-03 12:24:07+02","2024-05-17 05:19:27.478674+03","I am using uuid in my lambda as When the lambda get triggered it results following error ERROR Invoke Error errorType TypeError errorMessage Cannot read property v4 of undefined How do I fix this UUID version 7 0 1"
60512454,"Custom domain does not work in aws with serverless-next.js?","https://stackoverflow.com/questions/60512454/custom-domain-does-not-work-in-aws-with-serverless-next-js","{javascript,amazon-web-services,amazon-cloudfront,next.js,serverless-framework}","2020-03-03 17:18:50+02","2024-05-17 05:19:28.47386+03","I am facing the same issue as Github issue but for a different use case I am trying to add multiple instances of the application Example code here With the domain added I am getting the same error So to achieve the multiple instances I tried a hack changing the envprod file to bucketprodappname This gets deployed but when I add an envstage file to bucketstageappname this creates a new bucket but deploys it to the same CloudFront URL Is there a way to fix any of them so that I can achieve multiple instances Thanks in advance"
60532893,"Serverless function does not work when invoked remotely in python lambda function","https://stackoverflow.com/questions/60532893/serverless-function-does-not-work-when-invoked-remotely-in-python-lambda-functio","{python,serverless-framework}","2020-03-04 18:53:49+02","2024-05-17 05:19:29.278876+03","I am working on getting the lambda function detailed in the below article in my aws environment My code all deploys but it does not get executed when I execute serverless invoke f function_name It gets stuck at Serverless Invoke invoke Please help httpsserverless comblogserverlesspythonpackaging Thanks Kala"
61015245,"Referencing Serverless Output returns ""[object Object]"" instead of arn","https://stackoverflow.com/questions/61015245/referencing-serverless-output-returns-object-object-instead-of-arn","{serverless-framework,serverless-framework-step-functions}","2020-04-03 15:29:13+03","2024-05-17 05:20:01.962345+03","I am using State Machines for the first time and I am having trouble referencing the State Machine arn in my Lambda function I have tried following this article and the docs but I must be missing something because instead of the arn I am getting [object Object] Environment Variable Output State Machine Everything I have read has this same setup so I know I must be missing something obvious "
60667491,"Serverless creating Lambda in different account in AWS","https://stackoverflow.com/questions/60667491/serverless-creating-lambda-in-different-account-in-aws","{amazon-web-services,serverless-framework,aws-serverless}","2020-03-13 08:59:30+02","2024-05-17 05:19:30.303673+03","I am trying to upload Lambda function using Serverless framework but facing a weird issue Let us say I have 2 Accounts Prod and Stg Now I logged into Stg and created on a user profile and then I used the configure method to add that in credentials folder Now I created a fresh project using serverless and in YAML file I added the correct profile name and saved it And then deployed a basic Lambda function But I am seeing that Lambda function is getting created in Prod AWS Account But I do not understand this behavior coz Prod is no way related to Stg But note that I do have some user profiles of Prod present in the credentials folder Please someone guide me on how something like this could be happening Command used to deploy Link checked Profile Problem in Serverless"
60684526,"Keep MongoDB connection open in serverless framework","https://stackoverflow.com/questions/60684526/keep-mongodb-connection-open-in-serverless-framework","{mongodb,mongoose,aws-lambda,serverless-framework}","2020-03-14 15:46:02+02","2024-05-17 05:19:31.326505+03","I want to access a MongoDB from within a AWS lambda function deployed with the serverless framework serverless com There is an example by the framework on how they open it httpsgithub comserverlessexamplesblobmasterawsnoderestapimongodbhandler js But if I understand the code correctly they open and close the connection for every request relevant code of the example Is my assumption wrong and the connection is staying alive If not how would a correct pattern for keeping the connection open look like I know that in AWS lambda there can be a global state but apparently the serverless framework is removing everything after a single run as no state I set globally is persisted "
60685063,"Custom Domain Name for WebSockets API with Serverless","https://stackoverflow.com/questions/60685063/custom-domain-name-for-websockets-api-with-serverless","{amazon-web-services,websocket,aws-api-gateway,serverless-framework}","2020-03-14 16:47:19+02","2024-05-17 05:19:32.212936+03","I am managing a REST API for an app with Serverless and want to extend this setup with a WebSockets API in the same region Everything should be handled with the same certificate but different subdomains At first I created a new custom domain with sls create_domain stage Then I tried to add it to the new WebSockets stack but ended with this error Error Failed to find CloudFormation resources for I found it on Github that this seems to be not supported by CloudFormation right now so Serverless does not support it So I tried to attach my stage to the custom domain name manually in the UI Mixing of REST APIs and HTTP APIs on the same domain name can only be accomplished through API Gateways V2 DomainName interface Currently WebSocket APIs can only be attached to a domain name with other WebSocket APIs This must also occur through API Gateways V2 DomainName interface More confusion arises as it is not even the same domain name in this case The new domain name was sockets DOMAIN com and the existing one was api DOMAIN com Or do different subdomains are falling into same domain name Nevertheless I tried to create the custom domain again via the apigatewayv2 CLI domainconfiguration json ] But this results in the following error An error occurred BadRequestException when calling the CreateDomainName operation Invalid certificate ARN arnawsacmuseast1924441585974certificateb88f0a3f13934a16a8769830852b5207 Certificate must be in euwest1 My current state was that API Gateway only allows custom certificates to be located in useast1 so this error confuses me even more Summary I am completely stuck on how to get a custom domain name attached to my WebSocket API stage I am happy about every hint in the right direction "
60691113,"How to set up multiple customDomain for a single API Gateway","https://stackoverflow.com/questions/60691113/how-to-set-up-multiple-customdomain-for-a-single-api-gateway","{serverless-framework,serverless,serverless-plugins}","2020-03-15 08:46:32+02","2024-05-17 05:19:33.190392+03","I am trying to serve my website via lambda function rather than having static files in S3 so I am using serverless and awsserverlessexpress I have a single lambda function which is responsible for returning content for the whole Angular app and I have The problem is that in this case httpswww mydomain com works but https mydomain com does not Question how to configure something like this in a single serverless yml if it is not possible how to overcome this problem in some other way "
60698968,"Nuxt deploy with AWS lambda serverless - Internal server error - CouldWatch: Cannot find module 'nuxt-purgecss'","https://stackoverflow.com/questions/60698968/nuxt-deploy-with-aws-lambda-serverless-internal-server-error-couldwatch-can","{nuxt.js,serverless-framework,aws-serverless,css-purge}","2020-03-16 00:15:38+02","2024-05-17 05:19:34.308624+03","I am trying to deploy my nuxt app with serverless but get the error Cannot find module nuxtpurgecss Any idea what could be the fix Below my nuxt config js My package json"
60703916,"Running lambdas locally using separate serverless-offline packages OR AWS SAM Local OR Moto library","https://stackoverflow.com/questions/60703916/running-lambdas-locally-using-separate-serverless-offline-packages-or-aws-sam-lo","{serverless-framework,aws-serverless,moto,sam,serverless-offline}","2020-03-16 10:05:39+02","2024-05-17 05:19:35.309721+03","I need to create an integration project which when executed it should start all aws mock services such as S3 API gateway SQS Dynamo db and SSM We used serverless com framework for developing lambdas in Node js that use the above AWS services internally Also these lambda call another lambda using API Gateway where the Xinvocation type is event for asynchronous calls Any suggestions on which approach should I choose for running these lambdas locally So when this project is executed it will run these services on specific port in local machine Use SAM Local Use Python Moto library httpsgithub comspulecmotostandaloneservermode Thanks in advance"
60706549,"Getting an error while parsing event body to json in aws console","https://stackoverflow.com/questions/60706549/getting-an-error-while-parsing-event-body-to-json-in-aws-console","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2020-03-16 13:04:12+02","2024-05-17 05:19:36.30762+03","I am using lambda with aws and a serverless framework When I test this with serverless offline it works completely fine but when I deploy it I keep getting a message internal server error and when I log in to aws console the Error says This is my handler I am testing this with"
60716004,"code coverage with nyc returning 0% for lines, statement and functions","https://stackoverflow.com/questions/60716004/code-coverage-with-nyc-returning-0-for-lines-statement-and-functions","{node.js,code-coverage,serverless-framework,sinon-chai,nyc}","2020-03-17 03:47:47+02","2024-05-17 05:19:37.224549+03","I am using nodeJS and have created unit tests using sinonchai along with code coverage nyc but nyc is returning 0 for statements lines functions Coverage summary Statements 0 034 Branches 100 00 Functions 0 04 Lines 0 034 app js app test unit js"
60726608,"How to have data json raw from a github url in the body of the module.exports.x lamba serverless?","https://stackoverflow.com/questions/60726608/how-to-have-data-json-raw-from-a-github-url-in-the-body-of-the-module-exports-x","{javascript,node.js,json,aws-lambda,serverless-framework}","2020-03-17 16:38:59+02","2024-05-17 05:19:38.176578+03","I have a problem whit this file name jsonRead js when I try this and lunch from terminal sls offline my output is empty but if I console log the response of getJson I can see the JSON file from the URL anyone can help me I have no idea my serverless yml"
60735652,"Cognito Credentials are not authorized to perform Execute api","https://stackoverflow.com/questions/60735652/cognito-credentials-are-not-authorized-to-perform-execute-api","{amazon-web-services,aws-api-gateway,amazon-cognito,serverless-framework}","2020-03-18 08:12:24+02","2024-05-17 05:19:39.188529+03","I am trying to create a rolebased access control using AWS Cognito groups I have the following Role and policy defined to deny the access to resources And then I created a group called admin incognito user pool and assign a role with a policy to let the user invoke the API as follows And then I created a user and added to the group admin and obtained temp credentials and then tried to invoke the API and got following 403 error in postman User arnawsstsassumedroleauthservicedevCognitoAuthRole1JO2U7LKRJRBBCognitoIdentityCredentials is not authorized to perform executeapiInvoke on resource arnawsexecuteapiapsouth12015devGETuser with an explicit deny This was working perfectly and started causing this error after removing and redeploying the cloud formation stacks "
60741608,"Making reference to the key name of parent in a YAML file?","https://stackoverflow.com/questions/60741608/making-reference-to-the-key-name-of-parent-in-a-yaml-file","{node.js,yaml,serverless-framework}","2020-03-18 14:27:46+02","2024-05-17 05:19:40.231822+03","Is it possible to reference the name of a parent key in a YAML file For example if I have the following YAML structure I am not too happy that I have to type ServiceA and ServiceB again in the storage value I was wondering if I could actually reference that portion as a variable which has the name of its parent key Something like this And the parentkeyName should refer to the key name of its parent Would this be possible in a regular YAML file"
60768383,"Serverless AWS Certificate Manager : couldn't find certificate [duplicate]","https://stackoverflow.com/questions/60768383/serverless-aws-certificate-manager-couldnt-find-certificate","{amazon-web-services,serverless-framework,aws-certificate-manager}","2020-03-20 04:03:47+02","2024-05-17 05:19:40.978742+03","Already followed steps to create AWS Certificate Manager Created it in uswest2 same region as rest of the Application Detailed Stack Trace"
60799506,"How do I configure my PUBLIC AWS custom domain to resolve to a lambda that is configured for my VPC?","https://stackoverflow.com/questions/60799506/how-do-i-configure-my-public-aws-custom-domain-to-resolve-to-a-lambda-that-is-co","{amazon-web-services,aws-lambda,serverless-framework,amazon-route53,vpc}","2020-03-22 12:48:14+02","2024-05-17 05:19:41.959475+03","What is working Using the serverless framework This all works fine What is NOT working I have registered a domain with AWSRoute 53 and added a cert e g foo com I use the serverlessdomainmanager plugin to make my lambda available via my domain e g api foo comoutages resolves to XXX executeapi useast1 amazonaws comprodoutages This works fine if my lambda is NOT configured for my VPC But when my lambda IS configured for my VPC the custom domain api foo comoutages does NOT resolve to XXX executeapi useast1 amazonaws comprodoutages I other words I can NOT access api foo comoutages publicly What I need is 1 XXX executeapi useast1 amazonaws comprodoutages is available publicly this works 2 My custom domain api foo comoutages points to the SAME lambda as XXX executeapi useast1 amazonaws comprodoutages in my VPC and is available publicly not working I get messageForbidden virtualprivatecloud yml databaseservice yml outageservice yml"
60817803,"Serverless Framework API gateway http-proxy integration header configuration","https://stackoverflow.com/questions/60817803/serverless-framework-api-gateway-http-proxy-integration-header-configuration","{aws-lambda,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2020-03-23 16:38:22+02","2024-05-17 05:19:42.720966+03","I am using API Gateway as a proxy for my backend service I am trying to configure it by using a serverless framework I have custom authorizer lambda function to verify the incoming request and extracting data from JWT token and passing it to my backend service I am facing issues in passing integration headers as shown in the below image Here is the serverless yaml file"
60836613,"Serverless: How to remove/deploy deployment without .serverless directory for team collaboration","https://stackoverflow.com/questions/60836613/serverless-how-to-remove-deploy-deployment-without-serverless-directory-for-te","{serverless-framework,serverless,aws-serverless}","2020-03-24 17:52:25+02","2024-05-17 05:19:43.838554+03","How do I removedeploy deployment without serverless directory for team collaboration For example if I run sls deploy awsprofile profile1 with a yml file it then creates this serverless directory which I am not including in my git push to hide secrets Now when someone else clones this repo on my team how can they now manage the same deployment Is the yml file and same aws profile sufficient"
60859587,"How to make resource in Serverless Framework reusable?","https://stackoverflow.com/questions/60859587/how-to-make-resource-in-serverless-framework-reusable","{serverless-framework,serverless,aws-serverless,serverless-architecture}","2020-03-26 01:01:18+02","2024-05-17 05:19:44.74177+03","I am trying to set up my serverless yml file with only an API Gateway and there are several resources that I need to reuse throughout the file and I would like to not copy and paste the same lines of code per resource like 100 times For example I want to reuse TestId resource below and dynamically pass in the Ref under ParentId so I can reuse the resource for multiple parent resources How can I do that Ideally I would want the resuable TestId resource in a separate file and then reference it and also pass in the dynamic value that I want to insert in Something like Does anyone know if this is possible"
60869768,"Is there a way to define a common env variable in aws lambda layer?","https://stackoverflow.com/questions/60869768/is-there-a-way-to-define-a-common-env-variable-in-aws-lambda-layer","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2020-03-26 14:41:08+02","2024-05-17 05:19:45.693675+03","I use serverless framework and I have multilple aws node js lambdas that share the same layer I want to define an ENV variable for all of themis there a way to put that common ENV variable into the layers serverless yml Or do I have to go and put it in each serverles yml files separately"
60885819,"AWS: Unable to import module 'handler': No module named 'numpy'","https://stackoverflow.com/questions/60885819/aws-unable-to-import-module-handler-no-module-named-numpy","{python,amazon-web-services,gitlab,serverless-framework,serverless}","2020-03-27 12:16:28+02","2024-05-17 05:19:46.771498+03","AWS Newbie here I have to host my python scripts via gitlab CI as a lambda and trigger it by cloudwatch on AWS I am following the following tutorials From the first tutorial I am taking just the gitlabci yml file and adding it to the tutorial shown in the second tutorial but instead of python 3 6 I am choosing 3 7 as the runtime I have the following serverless yml file and the following gitlabci yml file When I push the gitlabci yml file it runs without any errors I can see the lambda function created in my AWS lambda When I connect this lambda with the Cloudwatch so that the lambda gets triggered every 1 minute I get the following error in the Logs I also have a requirements txt file and it has I have the following filesfolders in my directory Can someone please help me out with this and explain me the mistake I am doing and how can it be corrected Edit 1 I edited the serverless yml file as pointed out by makozaki and now when I push it in the repo the CI file fails giving the following error"
60888306,"How to trigger aws lambda function using generic DynamoDB streams using serverless.yml","https://stackoverflow.com/questions/60888306/how-to-trigger-aws-lambda-function-using-generic-dynamodb-streams-using-serverle","{aws-lambda,stream,amazon-dynamodb,serverless-framework,amazon-dynamodb-streams}","2020-03-27 14:44:53+02","2024-05-17 05:19:47.890635+03","I am trying to trigger a lambda function using dynamodb streams on multiple tables using serverless yml configuration Is it possible to configure generic arn at triggers of aws serverless yml There are dynamodb tables req_tnt1 req_tnt2 req_tnt2 so on Whenever the req_tnt table update I am triggering lambda and storing information in elasticsearch for free text search I was able todo for single table which trigger lambda and update elastic search but I am facing issues at enable lambda trigger for all tables req_tnt "
60902127,"Authorization per feature (AWS+Angular+Serverless)","https://stackoverflow.com/questions/60902127/authorization-per-feature-awsangularserverless","{angular,amazon-web-services,amazon-cognito,serverless-framework,serverless}","2020-03-28 14:44:40+02","2024-05-17 05:19:48.85061+03","I am developing an application using Angular Serverless AWS I am a newbie in AWS and I am trying to understand how to implement authentication and authorization I understood that AWS has the Cognito User Pool user directory and Cognito Identity Provider for authentication but I do not know how to configure them to my use case I would like to implement a finegrained authorization mechanism In this authorization mechanism I shall have permissions each per feature e g show users add user update user delete user etc and roles e g free premium admin etc that contain a collection of permissions Every user shall be assigned to a role and gets the permissions of that role In the Angular app I would like to see these permissions to enable or not the corresponding feature e g if the user has permission to add user show the add button In this way I can change dynamically the permissions of a role and this reflects automatically to what the user can do without any change in the Angular app I am used to implementing this with Spring Security where each feature is a role e g ROLE_ADD_USER and they are grouped in role groups e g GROUP_ADMIN In this way the user is assigned to a role group and during login I return in addition to the access token all roles permissions of the user Can someone help me to figure out how to implement this using AWS Cognito and IAM"
60905099,"Best way to convert cloudformation serverless template into Terraform","https://stackoverflow.com/questions/60905099/best-way-to-convert-cloudformation-serverless-template-into-terraform","{amazon-web-services,terraform,aws-cloudformation,serverless-framework}","2020-03-28 18:24:26+02","2024-05-17 05:19:49.780416+03","I am trying to convert a serverless framework YML file into a Terraform script It is my first time with terraform and I do not have much experience with infra either I am getting some errors with my Terraform but my question is more about my approach Is there a bettersimplersmarter way to write the same serverless yml in Terraform Maybe modules out there which would make my life easier Terraform Serverless YML cloudformation "
60909331,"API Gateway - Cloudfront returns 502 randomly","https://stackoverflow.com/questions/60909331/api-gateway-cloudfront-returns-502-randomly","{mongodb,amazon-web-services,aws-api-gateway,amazon-cloudfront,serverless-framework}","2020-03-29 02:01:57+02","2024-05-17 05:19:50.620584+03","I have added a lambda function to my api gateway It is a get request and it returns an array of data I am using mongodb for my database Domain domain comapilist Sometime if I request the domain without a slash it works fine sometimes it does not work and returns 502 If I request it in the normal browser it returns 502 but if i request the same url in the tor browser then it always works fine I suspect it might be something related to caching but why would caching result in 502 I have set caching for this api gateway to 0 on cloudfront I have increased the timeout to 10 seconds but cloudwatch says Task timed out after 6 01 seconds xamznerrortype InternalServerErrorException xamznrequestid 578f0c4397984949813c52259d57375b xcache Error from cloudfront I have also made a npm package which contains my mongodb schemas and creates the connection to the mongoclient Something I realised from looking at the cloudwatch is that I get the errors sometimes when using existing database connection is printed out I got the connectToDatabase code from here"
60912592,"403 forbidden from AWS","https://stackoverflow.com/questions/60912592/403-forbidden-from-aws","{amazon-web-services,aws-api-gateway,serverless-framework,aws-serverless}","2020-03-29 09:59:24+03","2024-05-17 05:19:51.45544+03","I have completed the Notes App tutorial on httpsserverlessstack com the only change being that I am connecting to a MongoDB The Notes App was created by using the infrastructure ymls in Resources Everything is working I then decided to alter the serverless yml and add back in the supplied hello api including adding the handler js to the project This API simply returns a message With that done I then executed serverless deploy stage dev The Notes app continues to work Executing the hello API in the Amazon API Gateway gives 200 ok When I run an npx awsapigatewayclitest with the pathtemplatehello it gives me a 403 forbidden When I run npx awsapigatewayclitest with the pathtemplatenotes it gives me 200 ok I dont understand why the call to hello is 403 forbidden Aside the reason I added the supplied hello API back in is because I have also set up a new project in the same way as the Notes app that is having the same issue I cant call any of this new projects APIs which I have written as they all give 403 forbidden Here is the hello API as defined in the serverless yml I have verified that npx awsapigatewayclitest is being called with pathtemplatehello npx awsapigatewayclitest defaults to GET The invokeurlhttpsID executeapi useast2 amazonaws comdev looks ok too The path is defined in serverless yml as hello with a method of GET The handler is called handler js and contains a function called hello as supplied by the tutorial Checking in API Gateway Stages dev the Invoke URL is given as httpsID executeapi useast2 amazonaws comdevhello In both cases ID is replaced with the correct matching ID without quotes The only other difference from the tutorial is as I am not connecting to Dynamo I dont have any iamRoleStatements defined in the serverless yml Any help greatly appreciated as I completely new to this Thanks "
60919500,"serverless framework AWS REST API Gateway - 403 CORS error","https://stackoverflow.com/questions/60919500/serverless-framework-aws-rest-api-gateway-403-cors-error","{aws-lambda,aws-api-gateway,serverless-framework}","2020-03-29 19:13:54+03","2024-05-17 05:19:52.519371+03","I am trying to create a function with CORS enabled The function works as expected using Postman cors headers present but I get CORS error when trying from a browser no cors header I also tried few more ways of writing the serverless yaml file but none of them worked the only difference between them being the created methods in my API Gateway Sometimes I got GETOPTIONS methods sometimes only GET but never worked with CORS I get the error Access to XMLHttpRequest at https amazonaws comprodgetTicket from origin httplocalhost8080 has been blocked by CORS policy No AccessControlAllowOrigin header is present on the requested resource "
60921152,"cloudFormation Template Validation Error: how to split serverless.yml file","https://stackoverflow.com/questions/60921152/cloudformation-template-validation-error-how-to-split-serverless-yml-file","{amazon-web-services,yaml,aws-cloudformation,serverless-framework,cross-reference}","2020-03-29 21:46:26+03","2024-05-17 05:19:53.578413+03","I ran into the notorious pain in the A error The CloudFormation template is invalid Template format error Number of resources 202 is greater than maximum allowed 200 how do I split this into two and cross reference the resources Could someone possibly share an example with me or show me how to split mine I have been looking at aws docs and a tons of forums over the past few days to figure this out but I cant quite grasp what I need to do I just need to be able to add more functionsapi calls Serverless yml"
60932559,"Serverless Flask App Works Locally, Generates Error When Deployed on AWS Lambda","https://stackoverflow.com/questions/60932559/serverless-flask-app-works-locally-generates-error-when-deployed-on-aws-lambda","{python,flask,python-imaging-library,serverless-framework}","2020-03-30 14:18:49+03","2024-05-17 05:19:54.620763+03","Update my sense is that this a bug in the Serverless frameworks support for WSGI applications because I can deploy the identical code to AWS using Zappa and it works I have this bit of Flask code that works fine when run locally using the Flask dev server I can send POST requests to the local dev server and it all works but generates an error when I send POST requests to the same app when deployed on AWS using the Serverless framework I would greatly appreciate thoughts on this problem The relevant portion of the stack trace generated by PILs Image open is this Heres the code"
60936623,"Split serverless.yml file","https://stackoverflow.com/questions/60936623/split-serverless-yml-file","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,aws-serverless}","2020-03-30 17:59:14+03","2024-05-17 05:19:55.738669+03","How would I split this serverless yml file into two yml files I hit the cloudFormation template validation error Number of resources 202 is greater than the maximum allowed 200 Ive been stuck on this for 5 days now and cant go any further with my application until I fix this issue How could I split up these services into different YML files with a main YML file Serverless yml"
60959720,"ARN for Query on DynamoDB index is not working","https://stackoverflow.com/questions/60959720/arn-for-query-on-dynamodb-index-is-not-working","{aws-lambda,amazon-dynamodb,aws-cloudformation,serverless-framework}","2020-03-31 20:53:56+03","2024-05-17 05:19:56.37639+03","I want to query an index in a DynamoDB table When doing so I get the following error After trying to fix it with the proposed configs in AccessDenied on DynamoDB GSI Index and AWS and DynamoDB permissions User is not authorized to access this resource I came to the follwoing config that still does not work The same error persist Maybe someone could help me with solving this problem "
60968313,"Sharing an Authorizer between different HTTP API services in AWS with Serverless","https://stackoverflow.com/questions/60968313/sharing-an-authorizer-between-different-http-api-services-in-aws-with-serverless","{amazon-cognito,serverless-framework,serverless,aws-serverless}","2020-04-01 10:02:21+03","2024-05-17 05:19:57.513404+03","I am looking to share an authorizer between different HTTP API services with Serverless I have seen different links which explain about splitting different endpointsservices into separate holders with their own serverless yml files but I cannot find information on sharing an authorizer between these I am using a basic HTTP API example not a REST API setup like this This will create the HTTP API API Gateway and wrap it in a Cognito authorizer I would like to set up a second service that uses the same authorizer I have seen similar questions but none relating to HTTP APIs and sharing a Cognito Authorizer Useful links httpsseed runbloghowtostructurearealworldmonoreposerverlessapp html httpsgithub comseedrunserverlesstemplatemonorepo "
60973151,"AWS Lambda SNS event is not binding to the correct SNS Topic ARN using Serverless yml","https://stackoverflow.com/questions/60973151/aws-lambda-sns-event-is-not-binding-to-the-correct-sns-topic-arn-using-serverles","{node.js,amazon-web-services,amazon-sns,serverless-framework}","2020-04-01 14:23:16+03","2024-05-17 05:19:58.514961+03","I have a serverless resource for SNS topic in the resources section in the serverless yml something like this When I am trying to bind this SNS topic to my lambda event as given below lambda is not triggering by the SNS event When I check AWS console for that lambda function the SNS event bound with wrong ARN value I have tried with changing event with all the different ways mentioned in here httpsserverless comframeworkdocsprovidersawseventssns The only way I found is to hard code the SNS Topic ARN value in the lambda event which is not ideal for my situation Any help is really appreciated "
60997930,"Serverless alb event does not have query params as a list with multiValueQueryStringParameters: true","https://stackoverflow.com/questions/60997930/serverless-alb-event-does-not-have-query-params-as-a-list-with-multivaluequeryst","{aws-lambda,serverless-framework,serverless}","2020-04-02 17:52:49+03","2024-05-17 05:19:59.632556+03","So i have a serverless app where i am sending the request to an alb which gets redirected to a lambda function My request is filePathafilePathbfilePathcfilePathdpageSize2 but in the event being passed to the lambda its shown as below So essentially instead of taking all the input files as a list in event mutliValueStringQueryParameters [a b c d] its taking only the last element as the queryParam My serverless alb event for this API is this Any help is appreciated "
60998835,"Highly confusing express.Router() issue","https://stackoverflow.com/questions/60998835/highly-confusing-express-router-issue","{express,serverless-framework}","2020-04-02 18:43:37+03","2024-05-17 05:20:00.830526+03","I have a large application build with NestJS that I deploy using the serverless framework I have been doing this for some time and everything has been great A couple of days ago I had to update to Nestjs 7 and I have been experiencing a lot of issues bootstrapping my application when it is deployed to aws After going through countless frustrating attempts to resolve the issue it appears it is actually nothing to do with the Nestjsserverless bootstrapping process at all and apolloserverexpress was unable to access the express router failing with the error express_1 default Router is not a function Finally I realised that when I import express directly and try and access express Router I have the same issue So I made a very simple test lambda ts This fails with the error in the comment as previously stated Here are the other files serverless yml package json tsconfig json I would like to highlight that this code only fails once deployed to lambda It runs fine locally which would make indicate that perhaps something was up with the packaging process but the zip file contains the correct code and dependencies I have been working on this problem for ages before narrowing it down to this If anybody is able to shed any light on the above that would be greatly appreciated as it is obviously blocking me Many thanks UPDATE OK it appears that if I import Router from expresslibrouter then I get a router instance This is the same instance the express index should export So I am close but this feels wrong I have not changed anything I feel like I have some kind of incorrect module configuration or something So why cannot I do express Router Any ideas would be greatly appreciated UPDATE In the end I patched apolloserverexpress so that it gets the router instance from librouter and then everything works as expected I obviously do not want to do this so I really need to work out what is causing this Patched ApolloServer js httpsgist github comTreeMan3608dc8373ffebe2b24ff51df42090fcb52 UPDATE Another related issue has developed in that the headers are returned as part of the response body e g It is also worth noting I have found someone else who has the same issue httpsforum serverless comthighlyconfusingexpressrouterissue109878"
61013073,"Serverless Framework, how can I get the final serverless.yml version (after load all variables) before deploy to AWS?","https://stackoverflow.com/questions/61013073/serverless-framework-how-can-i-get-the-final-serverless-yml-version-after-load","{amazon-web-services,serverless-framework}","2020-04-03 13:32:24+03","2024-05-17 05:20:00.863332+03","I am using Serverless to deploy some lambdas to AWS I have some environment variables that are loaded in the serverless yml before deploy to the server What is the command to mount and display the serverless yml before deploy"
61604698,"Getting data from Cognito triggers","https://stackoverflow.com/questions/61604698/getting-data-from-cognito-triggers","{javascript,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2020-05-05 02:24:29+03","2024-05-17 05:20:19.773395+03","I have an existing table of users And I need to get data on user login Is it possible to use some cognito trigger for it I was trying to use postAuthentication The lambda invoke successfully returns data and there is no any errors but I cannot find clientMetadata on frontend What trigger should I use and how to get user data"
61292542,"How to split the API Gateway services in a serverless project","https://stackoverflow.com/questions/61292542/how-to-split-the-api-gateway-services-in-a-serverless-project","{amazon-web-services,serverless-framework}","2020-04-18 16:28:26+03","2024-05-17 05:20:02.836752+03","I am dealing with the CloudFormation limitation of 200 resources per stack It seems the solution is to split my service serverless yml file into multiple files I have tried automated approaches and they do not work for me So I am looking into manual ones But I do not know how This is a sample file that I have Can someone please help me split this file into 2 or 3 Feel free to split it in any way you like as long as the resulting files have fewer resources individually It is just that the JS code should remain untouched Also please pay close attention to the serverlessawsalias plugin That is a crucial part of my service Of course the intention is that the deployment of multiple files should be identical to deploying this single file "
61314096,"How to add settings for specific Lambdas based on which repository they're being deployed from?","https://stackoverflow.com/questions/61314096/how-to-add-settings-for-specific-lambdas-based-on-which-repository-theyre-being","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2020-04-20 02:08:12+03","2024-05-17 05:20:03.846315+03","I am trying to change the maximumeventage setting for Lambdas using a bash script Serverless does not currently appear to support this setting so I am planning to do it as a bash script after a deploy from GitHub Approach I am considering querying aws for the Lambdas in a specific CloudFormation stack I am guessing that when a repo is deployed a new CF stack is created Then I want to iterate over the functions and use the putfunctioneventinvokeconfig to change the maximumeventage setting on each lambda Problem The putfunctioneventinvokeconfig seems to require a function name When querying for CF stacks I am getting the lambda ARNs instead I could possibly do some string manipulation to get just the lambda name but it seems like a messy way to do it Am I on the right track with this Is there a better way Edit The lambdas already exist and have been deployed What I think I need to do is run some kind of script that is able to go through the list of lambdas that have been deployed from a single repository there are multiple repos being deployed to the same environment and change the maximumeventage setting that has a default of 6 hours Heres an example output when I use the CLI to query CFN with aws cloudformation describestacks I know that it is possible to run this command to change the maximumeventage But it appears to require the functionname which I do not see in the CFN output in the query above How do I programmatically go through all of the functions in a CFN stack and modify the settings for maximumeventage"
61331780,"How do I reference a serverless-framework custom property from within a javascript module?","https://stackoverflow.com/questions/61331780/how-do-i-reference-a-serverless-framework-custom-property-from-within-a-javascri","{javascript,serverless-framework}","2020-04-20 20:47:52+03","2024-05-17 05:20:04.920518+03","I have a serverless module I have written in javascript and I want to use a custom property but I do not see any examples in the Serverless Variables documentation of how to do so Example property In the Reference Variables in Javascript Files section they show the following module So I assume I should be able to access my foo property through the serverless closure parameter somewhere "
61342996,"Creating Lambda@edge function with Terraform and Serverless framework","https://stackoverflow.com/questions/61342996/creating-lambdaedge-function-with-terraform-and-serverless-framework","{aws-lambda,terraform,amazon-cloudfront,serverless-framework,aws-lambda-edge}","2020-04-21 11:57:49+03","2024-05-17 05:20:05.678373+03","I am trying to create a Lambda function with Terraform iam roles and Serverless framework the pipeline is completed but CloudFront not able to connect to the Lambda with this error message I am not too familiar with the Lambda setup and Terraform from the AWS console I can see the Lambdas arn saved into CloudFronts behavior section but cannot see any trigger in the Lambda This is the Terraform setup Serverless yml"
61348586,"Nodejs, Serverless expected stub function to be called once but was called 0 times","https://stackoverflow.com/questions/61348586/nodejs-serverless-expected-stub-function-to-be-called-once-but-was-called-0-tim","{node.js,unit-testing,sinon,serverless-framework}","2020-04-21 16:40:36+03","2024-05-17 05:20:06.655537+03","I have been the said error when trying to create a stub from sinon in my test function I am trying to test a function responsible to make http calls to other endpoints I am trying to understand why Its not resolving to the output provided and getting AssertError expected funcName to be called once but was called 0 times The object i pass in the stub is"
61350827,"How to run serverless offline in my node project?","https://stackoverflow.com/questions/61350827/how-to-run-serverless-offline-in-my-node-project","{typescript,serverless-framework,typeorm,apollo-server,serverless-offline}","2020-04-21 18:43:56+03","2024-05-17 05:20:07.723549+03","I am a long time user of serverless but only started using this offline plugin on my current project The current project is a Node GQL server using Apollo and TypeORM that will eventually be deployed to AWS Lambda but is only local for now while it is being built My issue is I cannot run the function due to the following error that occurs every time I try to run the handler in a browser I looked at the build directory and it all looks good no imports so unsure if this is somehow trying to load the raw ts file or if that is a red herring I am also not sure if this is an offline issue or typescript or what just at a loss as to what to look at next after looking at this for the past couple hours I do have several other projects using serverless and typescript that deploy correctly and run correctly with a local handler just have not used serverlessoffline before so unsure if I have misconfigured something or am doing something else wrong My env is macOS Catalina on Node 12 16 2 I am currently running serverless 1 67 3 serverlessoffline 6 1 4 serverlessplugintypescript 1 1 9 and typescript 3 8 3 Happy to provide any more details needed as I am unsure what to even try next Thanks "
61360504,"Serverless to AWS - Gitlab CICD","https://stackoverflow.com/questions/61360504/serverless-to-aws-gitlab-cicd","{gitlab-ci,serverless-framework,aws-serverless}","2020-04-22 08:25:15+03","2024-05-17 05:20:08.805257+03","I am developing an application using Serveless Framework and I want to deploy it in AWS using GitLab CICD Following the best practises documentation I have setup a single repo with the following structure So inside of the services folder I have several folders one for each api lambda I have also setup the following simple GitLab CICD The problem that I have is that I want to deploy only the lambdas that have changes Should I go directory by directory inside the services folder and run the serverless deploy for each api How are you managing serverless deployments using GitLab CICD"
61905026,"Deploying serverless.yml just like cloud formation","https://stackoverflow.com/questions/61905026/deploying-serverless-yml-just-like-cloud-formation","{aws-cloudformation,serverless-framework,aws-serverless}","2020-05-20 04:17:35+03","2024-05-17 05:20:35.59998+03","I am new to serverless world So just wondering is it possible to deploy the serverless yml just like we deploy any other cloudformation template using AWS console etc or it is only possible through serverless CLI"
61365361,"Import existing Cognito UserPool to serverless framework stack","https://stackoverflow.com/questions/61365361/import-existing-cognito-userpool-to-serverless-framework-stack","{aws-cloudformation,amazon-cognito,serverless-framework}","2020-04-22 12:40:14+03","2024-05-17 05:20:09.847164+03","I created a Cognito UserPool using the Amazon Console and now I want to import it to a serverless yaml file so it will be deployed as part of a CloudFormation stack including Lambda triggres and more Can I somehow import the existing UserPool CloudFormation template and paste it in the serverless yaml file or somehow import it so it can be a resource that is part of the stack Thanks"
61399578,"Serverless deployment errorL Environment variable iamRoleStatements must contain string","https://stackoverflow.com/questions/61399578/serverless-deployment-errorl-environment-variable-iamrolestatements-must-contain","{node.js,serverless-framework,serverless}","2020-04-24 01:25:51+03","2024-05-17 05:20:10.529104+03","I am trying to locally run serverless deploy but getting this error Below is the relevant part from my serverless yml Below is my environment information Any idea where I might be wrong"
61408391,"Lambda is returning headers in body of request","https://stackoverflow.com/questions/61408391/lambda-is-returning-headers-in-body-of-request","{express,curl,aws-lambda,serverless-framework}","2020-04-24 12:29:06+03","2024-05-17 05:20:11.58807+03","I am using serverless to deploy my express js application in lambda The weird thing is that some apis are returning headers in the body of the response I am not sure why this is happening Here is my serverless YAML file Here is what the response looks like curl d ctest H ContentType applicationjson X POST httpsdevapi test comtestapiv1cs Any idea if its the serverless yaml or some other configuration"
61413855,"Keep more than five versions of server less package to rollback to?","https://stackoverflow.com/questions/61413855/keep-more-than-five-versions-of-server-less-package-to-rollback-to","{serverless-framework,serverless,rollback,aws-serverless}","2020-04-24 17:16:53+03","2024-05-17 05:20:12.673375+03","I am using the serverless framework to deploy a production system on AWS Lambda I recently learned of the serverless deploy list and serverless rollback timestamp timestamp commands which seem very useful in case of emergency Is there a way to storelist more than five previous versions I do not mind using extra storage so I would prefer to keep many more versions maybe 100 available for rollback if possible "
61430215,"Cannot find module 'handler' when running simple lambda deployed by serverless","https://stackoverflow.com/questions/61430215/cannot-find-module-handler-when-running-simple-lambda-deployed-by-serverless","{aws-lambda,serverless-framework}","2020-04-25 18:02:45+03","2024-05-17 05:20:13.563865+03","I am trying to start learning serverless lambda so I created a simple lambda and deployed it with serverless which worked However when I want to test the endpoint of the lampbda I get a 502 back When I look in the logs it tells me that it can not find the module handler which does not make any sense here is the log"
61447000,"AWS websocket throwing CORS error while connecting","https://stackoverflow.com/questions/61447000/aws-websocket-throwing-cors-error-while-connecting","{amazon-web-services,websocket,cors,serverless-framework}","2020-04-26 19:41:21+03","2024-05-17 05:20:14.342141+03","I am working on the AWS WebSocket chat application using a serverless framework I have followed the this article to develop websocket api but when I try consume those websocket in my angualar application its throwing error here is my chat module here is my chat service I have used the url which I got after sls deploy Here is browser error"
61477850,"AWS IAM Grant permission based on dynamodb attribute values","https://stackoverflow.com/questions/61477850/aws-iam-grant-permission-based-on-dynamodb-attribute-values","{amazon-web-services,amazon-dynamodb,serverless-framework,aws-serverless}","2020-04-28 10:18:43+03","2024-05-17 05:20:15.271378+03","I have a dynamodb table which has following attribute values UserID Name paid 0001 Sam false I have a IAM polivy document written in a serverless yml file as follows PolicyName PaidPolicy PolicyDocument Version 20121017 Statement Effect Allow Action s3PutObject Resource FnJoin arnawss3uploads protected Is it possible to change the effect of the policy to Allow or Deny based on the paid column value Note I found that it is possible to add conditions using Condition attribute but could not find a way to refer the values of the dynamodb table"
61485067,"How to set ssm param locally for serverless offline","https://stackoverflow.com/questions/61485067/how-to-set-ssm-param-locally-for-serverless-offline","{node.js,serverless-framework}","2020-04-28 16:24:18+03","2024-05-17 05:20:16.486159+03","I recently starting working on serverless architecture Here is example of serverless xml for the same Now when I am trying to run serverless offline command then it complains about ssm variable Following is the error that coming on console I want to run everything on my locally machine for development Can someone help on this how I can solve this problem "
61507641,"Serverless Lambda Layers in local development with Python","https://stackoverflow.com/questions/61507641/serverless-lambda-layers-in-local-development-with-python","{python,aws-lambda,serverless-framework}","2020-04-29 17:17:01+03","2024-05-17 05:20:17.133832+03","I am trying to find a reliable way to develop a serverless application that uses Lambda Layer for shared code Obviously it works in the AWS environment but when I want to invoke my function with sls invoke local function funcName I get the ModuleNotFoundError Layer code is available in the root project subdirectory and maybe I could add its path but it will be neither the best solution for scalable development nor elegant I would appreciate your help "
61514264,"serverless framework AWS pseudo parameters stack name","https://stackoverflow.com/questions/61514264/serverless-framework-aws-pseudo-parameters-stack-name","{aws-cloudformation,serverless-framework}","2020-04-30 01:09:07+03","2024-05-17 05:20:17.889117+03","I have a serverless yml file where I import a cloudformation template to create an ElastiCache cluster When I try to do so I get this error In my file I would like to expose as an environment variable the ElastiCacheAddress output from the cloudformation stack I am using the serverless pseudoparameters plugin to get the output The CF template is the one from the AWS Samples GitHub repository The snippet with the output is here"
61535864,"How to set message filtering on AWS SNS subscription using Javascript SDK","https://stackoverflow.com/questions/61535864/how-to-set-message-filtering-on-aws-sns-subscription-using-javascript-sdk","{amazon-web-services,aws-sdk,amazon-sns,serverless-framework}","2020-05-01 02:22:21+03","2024-05-17 05:20:19.042172+03","Using AWS SNS I wanna set filter policy when I subscribe the sms endpoint to the topic But I get this error Delivery protocol SMS does not support message filtering I will share the code here I am not sure why I am getting this error I checked that I can set filter policy on AWS Console but not on sdk Please help me to find out the solution Thanks"
62461238,"In serverless（aws）， how to get variable reference from serverless.yml file?","https://stackoverflow.com/questions/62461238/in-serverless-aws-how-to-get-variable-reference-from-serverless-yml-file","{serverless-framework,serverless}","2020-06-18 23:59:18+03","2024-05-17 05:21:09.393337+03","In Serverless yml I defined resource while in handler js file which is write handle function How to get the reference of BucketName How to get the Bucket URI How to get the customerDef variable value providerenvironmentcustomerDef "
61614430,"Sending parameters to AWS API gateway websocket connect method","https://stackoverflow.com/questions/61614430/sending-parameters-to-aws-api-gateway-websocket-connect-method","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2020-05-05 13:33:14+03","2024-05-17 05:20:20.883964+03","I followed this tutorial to create a small chat application using python aws apigategay and serverless When connecting to the Websocket the connection ID is stored in a Database Everything works as expected now I want to be able to connect to the Websocket with a role lets say for example the chat allows customers and store employees I am trying to find a way to send a parameter to the connect method but no luck so far For example when establishing a connection I want to send a role ID and store in the database to specify that aconnection ID belongs to a customers or to store employees I read about the API gateway authorization but the thing is that the chat will be included in an application that is already running that is not using AWS authorization Is there any way to accomplish this"
61619575,"Custom resource not running properly on deployment","https://stackoverflow.com/questions/61619575/custom-resource-not-running-properly-on-deployment","{aws-lambda,aws-cloudformation,serverless-framework,aws-cloudformation-custom-resource}","2020-05-05 17:45:34+03","2024-05-17 05:20:22.525098+03","For over two days I have been trying to deploy a CloudFormation stack using serverless framework The thing is as part of the stack I have an RDS cluster as well as a custom resource which relies on a Lambda function written in Python for initializing some database tables The details of this custom resource in the serverless yml file are the following When deploying using sls deploy the cluster and the lambda functions are created correctly but the process is stuck on creating the rdsMigration resource In the Lambda code I have been careful to generate the response in all possible scenarios including exceptions However that does not seem to be the problem Apparently the function is not being invoked kind of because even the charts look weird You can see how there are no invocations but there is a red dot in Error count and success rate about 515 PM which is the time at which the resource creation started Also there are no green dots and you can see the warning down in the legend which claims that One or more datapoints have been dropped due to nonnumeric values NaN Infinite Infinite How is this possible I assume it is no standard behavior since other Lambda functions which must be called using an API Gateway endpoint do not show this strange chart Also there are no log streams in CloudWatch It is completely empty as if the function was never invoked which seems the case except for the strange red dot at the moment of resource creation Finally if I run a test case using the AWS CloudFormation Create Request template the function runs properly it creates the initial tables I expected for the DB not always but that is a different matter and returns the response Do you have any idea of what is going on here The worst about this is that I need to wait two hours between tests since the CFN stack gets stuck during the creation and destruction steps until the timeout occurs Thanks "
61624741,"Angular Universal SSR + Serverless Framework ReferenceError: Event is not defined when Trigger the URL","https://stackoverflow.com/questions/61624741/angular-universal-ssr-serverless-framework-referenceerror-event-is-not-define","{angular,amazon-web-services,server-side-rendering,serverless-framework}","2020-05-05 23:25:17+03","2024-05-17 05:20:22.707029+03","I am Trying to add SSR for my angular application and after days i was able to finally Build it right Build Command npm run buildssr Out Put then I want to test it using serverless offline npm run servessr Now the Problem is when i try to invoke URL httplocalhost3000 I am Getting Below error This is My Server ts File and this my lambda function Does anyone know how to resolve this issue "
61637362,"Serverless framework CLI vs GUI. Eg. AWS console","https://stackoverflow.com/questions/61637362/serverless-framework-cli-vs-gui-eg-aws-console","{amazon-web-services,aws-lambda,serverless-framework}","2020-05-06 14:10:56+03","2024-05-17 05:20:23.499807+03","Why would anyone use Serverless framework CLI to write the lambda functions or deploy them when we have AWS console GUI Are there any specific benefits out of it"
61638792,"Serverless - Referencing api gateway address in CloudFront origin definition","https://stackoverflow.com/questions/61638792/serverless-referencing-api-gateway-address-in-cloudfront-origin-definition","{aws-cloudformation,serverless-framework}","2020-05-06 15:15:47+03","2024-05-17 05:20:24.179123+03","Using Serverless Framework i am creating an api gateway in my template later on i want to use this api address xxxxxxx executeapi useast1 amazonaws comdev as a domain name of an oigin of my cloudfront origins Is there a way to reference the api address dynamicallyprogrammatically before it even exist and do I need to use depends on Thanks"
61644434,"Serverless framework AWS ApiGateway v2 authorizers","https://stackoverflow.com/questions/61644434/serverless-framework-aws-apigateway-v2-authorizers","{amazon-web-services,aws-api-gateway,amazon-cognito,serverless-framework}","2020-05-06 20:08:31+03","2024-05-17 05:20:25.240003+03","I am trying to setup simple authorizer based on this doc Also using serverless plugin serverlesspseudoparameters My serverless configuration for authorizer My configuration for simple lambda My configuration of user pool and user pool client User pool user pool client HTTP API lambda successfully created but I cannot see a authorizer at the AWS console of API Gateway service "
61648983,"Package dlib in AWS Lambda using Serverless and python 3.7","https://stackoverflow.com/questions/61648983/package-dlib-in-aws-lambda-using-serverless-and-python-3-7","{amazon-web-services,aws-lambda,python-3.7,serverless-framework,dlib}","2020-05-07 02:43:48+03","2024-05-17 05:20:26.355326+03","I am trying to deploy an AWS Lambda function using Serverless framework with python3 7 runtime and I need to package dlib as a dependency and import inside the lambda function Any ideas what is the easiest way to make dlib work on python3 7 and package successfully using the Serverless framework TIA UPDATE I already added dlib19 9 0 to my requirements txt I am using the Serverless plugin serverlesspythonrequirements and I deploy using bitbucket pipeline based on an ubuntu image with python node base I also install cmake in the pipeline script since dlib needs it to compile as I have seen The pipeline fails with and the dlib compiling stops at 77 with the following recurring deprecation warnings until the pipeline exceeds memory and stops with failure"
61654624,"What extra fields does the AWS Amplify API include when invoking a Lambda function?","https://stackoverflow.com/questions/61654624/what-extra-fields-does-the-aws-amplify-api-include-when-invoking-a-lambda-functi","{javascript,aws-lambda,serverless-framework,aws-amplify,aws-serverless}","2020-05-07 09:42:50+03","2024-05-17 05:20:27.397248+03","I have this AWS Lambda function to create a note object in my DynamoDB table What it does is not really relevant to the question The important thing to note here is that it can be successfully executed offline with the command serverless invoke local function create path mockscreateevent json and an example event createevent json However when I invoke this Lambda function with a POST request through the awsamplify API I only define a body field in the init object i e Which leads to the following questions That would be the obvious answer but that leads me to another question "
62651090,"How to move 100 Lambda functions from one region to another region in fast way?","https://stackoverflow.com/questions/62651090/how-to-move-100-lambda-functions-from-one-region-to-another-region-in-fast-way","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework,aws-serverless}","2020-06-30 05:54:06+03","2024-05-17 05:21:32.729596+03","I have 100 Lambda functions one AWS one region along with API Gateway Now I want to shift these functions in another region with API Gateway Shifting one by one will take more time to deploy all lambda and APIs So can somebody suggest a better and faster way to achieve this will very helpful "
61660826,"Associate 2 tables on dynamodb that allows pagination","https://stackoverflow.com/questions/61660826/associate-2-tables-on-dynamodb-that-allows-pagination","{amazon-dynamodb,serverless-framework,aws-serverless,amazon-dynamodb-index}","2020-05-07 14:51:05+03","2024-05-17 05:20:28.890603+03"," I recently started working with aws platform and i am having a hard time developing one thing Basically i want to link two different dynamodb tables like company table and orders table and one company can have different orders connected to it The first thing i have done was store in companys table a list of orders id but the problem is that i cannot index an array so it is kinda problematic to know the orders in that company because it cant be done pagination I cannot figure out a better solution so if any of u more experience developers can indicate me a way to store this association i would be very grateful Thanks"
61655999,"Serverless framework uploaded image is corrupt","https://stackoverflow.com/questions/61655999/serverless-framework-uploaded-image-is-corrupt","{node.js,upload,binary,serverless-framework}","2020-05-07 10:53:06+03","2024-05-17 05:20:28.906191+03","I am attempting to write a file upload service using the serverless framework that can accept binary input and store the data in S3 The problem is that files end up corrupted in the S3 bucket Text files do come through but my test image does not This is my code so far I can see in the console that the file size is wrong 2540872 The real size is 1395559 I am using curl to test the upload"
61681230,"serverless s3 upload access denied","https://stackoverflow.com/questions/61681230/serverless-s3-upload-access-denied","{amazon-s3,serverless-framework,serverless,access-denied}","2020-05-08 14:17:16+03","2024-05-17 05:20:29.927012+03","I am trying to upload images to an S3 bucket using the serverless framework When I call the endpoint after deploy the code fails with an Access Denied error What am I doing wrong The error using serverless logs f fileDownload The serverless yml The source of download js Any help would be appreciated And it seems I am not allowed to post the question until there is more text instead of just code "
61845284,"AWS Lambda Access to XMLHttpRequest at '…' from origin 'localhost:3000' has been blocked by CORS policy","https://stackoverflow.com/questions/61845284/aws-lambda-access-to-xmlhttprequest-at-from-origin-localhost3000-has-been","{aws-api-gateway,serverless-framework,aws-serverless}","2020-05-17 00:07:48+03","2024-05-17 05:20:30.998529+03","I know this question might be duplicated but none of the existing question point to anything I am not doing I have deployed an API using the serverless framework on AWS Lambda but I am having trouble with CORS I am doing a get request using API module from awsamplify in a react frontend and I am getting the below error when calling the endpoint I have created three endpoints so far to create update and get but its only the get endpoint that is not working Below is relevant part of my serverless yml Not posting my backend code since the request is not even hitting the backend and is just failing in the browser Any clue why this might be happening with only get method while the create and update are working just fine"
61854461,"How to upload a binary file like an image to an aws api gateway using serverless","https://stackoverflow.com/questions/61854461/how-to-upload-a-binary-file-like-an-image-to-an-aws-api-gateway-using-serverless","{node.js,amazon-web-services,aws-api-gateway,serverless-framework,serverless}","2020-05-17 15:41:42+03","2024-05-17 05:20:31.634265+03","I am using Serverless Framework to spin up a lambda function which is invoked by an API gateway I want to upload an image to the api and write it to an s3 bucket But there seems to be a problem with the encoding when I receive the image on the function I have already tried and failed with serverlessapigwbinary \ Current Code writeFile function serverless config I am using postman to upload the image "
61875318,"Http Request headers not always available in AWS Lambda","https://stackoverflow.com/questions/61875318/http-request-headers-not-always-available-in-aws-lambda","{amazon-web-services,aws-lambda,http-headers,serverless-framework,api-gateway}","2020-05-18 17:21:19+03","2024-05-17 05:20:32.490031+03","I use API Gateway and AWS Lambda through the serverless framework for creating API endpoints The lambda function get deployed as lambda proxies by default When I send a POST request to one of my endpoints I include custom headers like client_version 1 0 0 Now the weird thing occurs that the Lambda function not always get the header client_version when making requests to an endpoint This mainly occurs a few minutes after deploying the service to aws after some time the lambda function receives the header But sometimes it receives the header and then some time in the future it does not receive the header again I tested making requests to a single endpoint from my machine and from online services and it seems like that it is fully independent Meaning that the weird error can occur from my machine POST request while the online service POST request successfully manage to pass the header to the lambda function or other way round or both at the same time This drives me crazy as I literally have no clue what the problem might be and I need to send custom headers consistently to my endpoints Any help appreciated Serverless config serverless yml functions yml custom yml Some images Same request result into different outcomes Postman headers Sometimes without header Most of the time with header UPDATE 1 I was able to get logs directly from the API Gateway input Seems like API Gateway is not even receiving the custom headers Still cannot believe that Postman might causes the trouble UPDATE 2 Here you can see the weirdness of that all I use reqbin com to send two requests one from US server and one from DE server The server should respond with PAYLOAD_INVALID But when no header field client_version is set it is responding with CLIENT_VERSION_MISSING Since when do header fields mystically disappear while being sent over the internet BIG FINAL UPDATE I found the solution It turns out that changing the custom header client_version to XClientVersion solves the issue and the header is received consistently I do not know why something like this can affect the functionality of API Gateway but im fine with the working solution "
61876285,"How do I subscribe multiple S3 Lambda triggers to an existing bucket?","https://stackoverflow.com/questions/61876285/how-do-i-subscribe-multiple-s3-lambda-triggers-to-an-existing-bucket","{amazon-web-services,serverless-framework}","2020-05-18 18:17:04+03","2024-05-17 05:20:33.131247+03","For example we have three event subscribers two for S3 one for HTTP Currently I am able to hit HTTP endpoint However unable to trigger s3 event as lambda is not attached to Bucket properties under Event section "
61890421,"Sharing the new AWS HTTP API between functions in serverless framework","https://stackoverflow.com/questions/61890421/sharing-the-new-aws-http-api-between-functions-in-serverless-framework","{amazon-web-services,aws-api-gateway,serverless-framework}","2020-05-19 11:54:05+03","2024-05-17 05:20:34.171659+03","I am using the serverless framework and I am trying to test the new HTTP API instead of the REST API to improve performance Currently I create my REST API separately and then reference that restApiId and the restApiRootResourceId when I declare my functions like this This works fine with the REST API however I am not sure how to do this with the new HTTP API I do not see a way of referencing a httpApiId instead of a restApiId and when creating a HTTP API it does not even return a restApiRootResourceId Any ideas"
61894542,"Encrypt S3 buckets that Serverless framework creates for deployment","https://stackoverflow.com/questions/61894542/encrypt-s3-buckets-that-serverless-framework-creates-for-deployment","{amazon-s3,encryption,serverless-framework}","2020-05-19 15:15:47+03","2024-05-17 05:20:34.853974+03","Is there a way to automatically encrypt the cloudformation buckets that serverless framework creates I would like to ensure that the cloudformation s3 buckets are private and encrypted when we run e g sls deploy"
61918130,"Create an SNS message from an existing buckets S3 create event using cloudformation/serverless","https://stackoverflow.com/questions/61918130/create-an-sns-message-from-an-existing-buckets-s3-create-event-using-cloudformat","{amazon-web-services,amazon-s3,aws-cloudformation,amazon-sns,serverless-framework}","2020-05-20 16:29:19+03","2024-05-17 05:20:36.445764+03","I have an existing s3 bucket not created by the serverlesscloudformation stack I also have a serverless stack with a bunch of lambdas that are triggered off of s3 create events with different prefixes I have a need to send some s3 create events over SNS so that it can be used in another system In my serverless yaml I have a resources section where I can create an SNS Topic and Policy This appears to work fine When I go to the bucket properties events I can manually add an event that listens to a prefixsuffix and can publish to that topic So the last piece is to create the event with cloudformation instead of manually doing it When I have serverless create a lambda trigger based on the create event it generates the following Is there a way to do something similar for SNS but instead of using a FunctionName use something like TopicName What other attributes would need to be added or changed I have seen recommendations about NotificationConfiguration when you create the bucket with the stack but my bucket was not created with my stack "
61936928,"serverless framework not recognizing tsconfig's paths","https://stackoverflow.com/questions/61936928/serverless-framework-not-recognizing-tsconfigs-paths","{node.js,aws-lambda,serverless-framework,tsconfig-paths}","2020-05-21 14:35:00+03","2024-05-17 05:20:37.315939+03","I am trying to deploy my Node js app to Lambda using Serverless framework however my Node code uses paths from tsconfig json for referencing imports but the Serverless deploy process fails How do you wire up serverless yml to acknowledge and use paths defined in tsconfig json I have installed serverlessplugintypescript but it does not seem to recognize paths from tsconfig serverless yml tsconfig ts"
61957969,"Deploy to serverless Azure Functions Failed","https://stackoverflow.com/questions/61957969/deploy-to-serverless-azure-functions-failed","{azure,azure-functions,serverless-framework,serverless}","2020-05-22 15:03:17+03","2024-05-17 05:20:38.369748+03","I am trying to deploy Azure Functions in already created App Service in Azure portal Using sls deploy CLI for deploying my Azure function but while deploying the functions sls is trying to create new resource group for which I do not have access Following is the output of sls deploy command In serverless yml I have also specified the resourceGroup parameter Here is the gist of serverless yml Is there any way to set resource group in serverless cli which can be used while deploying the functions"
61967803,"How can I only package production dependencies when using serverless","https://stackoverflow.com/questions/61967803/how-can-i-only-package-production-dependencies-when-using-serverless","{aws-lambda,serverless-framework,serverless}","2020-05-23 05:21:05+03","2024-05-17 05:20:39.175751+03","I am using serverless to package lambda implemented by typescript I have defined serverless yml and I found serverless deploy will zip all node_modules directory and upload to s3 bucket as lambda file My pakcage json has dependencies and devDependencies and I would like to exclude dev deps I know that I can do something like below but I have to exclude them one by one which is not a good idea Another way I can think of is to run build and deploy command in a docker container where only download production dependencies However it is a little slow since each time I have to spinner up a container and run yarn install onlyproduction command to download these dependencies so I am looking for a better solution to solve this issue "
61971889,"How to monitor HTTP status codes with serverless datadog plugin","https://stackoverflow.com/questions/61971889/how-to-monitor-http-status-codes-with-serverless-datadog-plugin","{aws-lambda,serverless-framework,datadog}","2020-05-23 12:17:53+03","2024-05-17 05:20:40.346833+03","I am using serverlessplugindatadog which uses datadoglambdalayer under the hood The docs state that by using this plugin it is not necessary to wrap a handler anymore This is by the way the main reason why I decided to go for it The lambda itself is a REST API which responds with dedicated status codes My question now is how can I monitor the number of 4xx and 5xx http status codes Do I have to define custom metrics in datadog for this to work I was under the assumption that the plugin comes with those data outofthebox but it looks like I am missing an important part here "
61991650,"Synchronously getting response from longrunning aws lambda function","https://stackoverflow.com/questions/61991650/synchronously-getting-response-from-longrunning-aws-lambda-function","{node.js,aws-lambda,serverless-framework,serverless}","2020-05-24 19:52:55+03","2024-05-17 05:20:41.234288+03","I am experimenting with nodejs puppeteer and the serverless framework following httpshackernoon comacrashcourseonserverlesswithnodejs632b37d58b44 I have a puppeteer function that takes around 45 seconds to run and returns some data I have a function called main in index js using puppeteer which I have tested locally and is working correctly which includes my handler ls function includes Using the serverless framework I have uploaded the code to amazon lambda without error I tried changing the boilerplate code in handler js to try to run the function synchronously and avoid having to store the output somewhere else I am getting the error in the screenshot Is this possible and if so what am I doing wrong"
61998239,"How can I view resolved variables in serverless.yml?","https://stackoverflow.com/questions/61998239/how-can-i-view-resolved-variables-in-serverless-yml","{javascript,yaml,aws-cloudformation,serverless-framework}","2020-05-25 08:04:38+03","2024-05-17 05:20:42.27788+03","Consider this simple example The problem here is when serverless generate a json cloudformation template and uploads it into cloudformation I can not see what actual values were in bucket selfcustom myVariable Is there a way to output serverless template with already resolved variables"
62009095,"Use ""full"" context variables for AWS APIGW in Serverless Offline","https://stackoverflow.com/questions/62009095/use-full-context-variables-for-aws-apigw-in-serverless-offline","{serverless-framework,serverless-framework-offline}","2020-05-25 19:08:56+03","2024-05-17 05:20:43.224037+03","We have a usecase where we need to fetch the API key name from the request to APIGW Looking in the logs for APIGW I can see the value in API Key ID in event requestContext identity apiKeyId but this is not included in Serverless Offline Is there any way to include attributes in the invoke Request somehow or would I need to alter the module code"
62015327,"How do I know which command serverless uses to build?","https://stackoverflow.com/questions/62015327/how-do-i-know-which-command-serverless-uses-to-build","{amazon-web-services,serverless-framework,serverless}","2020-05-26 05:38:06+03","2024-05-17 05:20:43.861801+03","I have a nodejs application and use serverless to manage AWS infra for lambda and API Gateway I use the command serverless deploy to deploy to AWS There is a serverless folder created by this command which includes a zip file of my code and node_modules I was wondering which command serverless uses to build the code and install the dependencies Can I change the command it uses"
62020995,"HTTP GET | POST from Serverless give timeout error and does not return anything","https://stackoverflow.com/questions/62020995/http-get-post-from-serverless-give-timeout-error-and-does-not-return-anything","{node.js,aws-lambda,serverless-framework,aws-serverless,node-https}","2020-05-26 11:20:41+03","2024-05-17 05:20:44.806849+03","I am using aws serverless mongodb template which works fine with mongodb queries and other local processing I want make http request to get some data for that i tried httphttpaxiosrequest But it just returns me following timeout error Following is my last tried code Similarly API sdks like paypal and razorpay also become unresponsive wile using is this problem with aws settings or nodejs code Thanks in advance Above code works fine on serverless offline"
62021834,"Can I define `eventBus` at a provider level?","https://stackoverflow.com/questions/62021834/can-i-define-eventbus-at-a-provider-level","{serverless-framework}","2020-05-26 12:09:34+03","2024-05-17 05:20:45.906841+03","I have a custom event bus and for each subscribing Lambda I have to define which bus to use For example Is it possible to define it at a provider level Such as Generally this pattern exists but it is not in the documentation "
62031276,"IamRoleLambdaExecution - Syntax errors in policy","https://stackoverflow.com/questions/62031276/iamrolelambdaexecution-syntax-errors-in-policy","{amazon-web-services,serverless-framework,serverless,aws-serverless,serverless-architecture}","2020-05-26 20:55:37+03","2024-05-17 05:20:46.967838+03","Facing Syntax IamRoleLambdaExecution Syntax errors in policy Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Request ID for the below serverless yml file "
62035220,"How to get latest Layer version with serverless framework for AWS Lambda","https://stackoverflow.com/questions/62035220/how-to-get-latest-layer-version-with-serverless-framework-for-aws-lambda","{aws-lambda,serverless-framework,serverless,aws-serverless,aws-lambda-layers}","2020-05-27 04:01:57+03","2024-05-17 05:20:47.869829+03","I am trying to get latest Layer version with serverless framework by using serverlesslatestlayerversion plugin That plugin itself can get latest version of Layer but problem is whenever I made new deployment for both layers and function layer version is always showing previous one of new layer version Below is serverless yml that to get latest version and applied it into function Help me to suggest anything I missed to configure to latest layer version"
62049141,"serverless-offline cannot run both Node and Python runtimes simultaneously","https://stackoverflow.com/questions/62049141/serverless-offline-cannot-run-both-node-and-python-runtimes-simultaneously","{python,node.js,webpack,serverless-framework,serverless-offline}","2020-05-27 17:23:00+03","2024-05-17 05:20:48.58582+03","When I run serverless offline with both Node and Python runtimes I get the following error upon hitting a Python endpoint I can successfully hit the Node runtime If I instead run serverless offline location I am able to successfully go to the Python endpoint but the Node endpoint gives me this error Is there a way to run both offline I can deploy both runtimes and it works it is just serverless offline that does not work Source files below P S I created an issue on the serverlessoffline repo Sample Code"
62055659,"How to reference a dynamic lambda ARN in AWS Step Functions written in the Serverless Framework?","https://stackoverflow.com/questions/62055659/how-to-reference-a-dynamic-lambda-arn-in-aws-step-functions-written-in-the-serve","{serverless-framework,aws-step-functions}","2020-05-28 01:49:24+03","2024-05-17 05:20:49.55284+03","EDIT Just found this httpsgithub comserverlessoperationsserverlessstepfunctionsissues209 Basically that example but instead of hardcoding the ARN I want to use a input variable if that makes sense Heres the context Using Serverless error destinations an error payload is sent to SQS which triggers a lambda that starts a state machine to perform a retry For example if Lambda A fails the failure is sent to SQS Lambda B which triggers a state machine to retry Lambda A I am defining my state machine in Serverless yml like so This is what I have been trying so far Here is the error I get when I run serverless deploy How do I reference Lambda A as a variable I know that the error attributes will contain Lambda As ARN but how do I pass that to the state machine for the retry step Note Lambda A is NOT defined within this Serverless yml it could come from anywhere The ARN will be passed in as part of the error event coming from SQS as stated above "
62066641,"How to install a private npm github package during sls deploy","https://stackoverflow.com/questions/62066641/how-to-install-a-private-npm-github-package-during-sls-deploy","{serverless-framework,github-actions}","2020-05-28 14:02:14+03","2024-05-17 05:20:50.672815+03","My CICD serverless deploy is failing because its not able to install a private npm package Error npm install failed with code 1 npm ERR code ENOENT npm ERR syscall spawn git npm ERR path git npm ERR errno ENOENT npm ERR enoent Error while executing npm ERR enoent undefined lsremote h t ssh [email protected] privateorgprivaterepo git npm ERR enoent npm ERR enoent npm ERR enoent spawn git ENOENT npm ERR enoent This is related to npm not being able to find a file npm ERR enoent npm ERR A complete log of this run can be found in npm ERR githubhome npm_logs20200528T13_30_18_595Zdebug log From previous event at PluginManager invoke usrlocallibnode_modulesserverlesslibclassesPluginManager js50522 at PluginManager spawn usrlocallibnode_modulesserverlesslibclassesPluginManager js52517 at ServerlessWebpack BbPromise bind then then then githubworkspacenode_modulesserverlesswebpackindex js9153 at runCallback timers js70518 at tryOnImmediate timers js6765 at processImmediate timers js6585 at process topLevelDomainCallback domain js12623 Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information Operating System linux Node Version 10 20 1 Framework Version 1 54 0 Plugin Version 3 6 12 SDK Version 2 3 1 Components Core Version 1 1 2 Components CLI Version 1 4 0 Usually i solve this using a webfactory [email protected] so the first npm install works fine here and it manages to install the private package using the SSH key provided However during serverless deploy i get the above error and it cannot install the private npm package Is there a way i can specify an SSH key for serverless action to use"
62093365,"Lambda: Value of property Layers must be of type List of String","https://stackoverflow.com/questions/62093365/lambda-value-of-property-layers-must-be-of-type-list-of-string","{node.js,google-chrome,aws-lambda,serverless-framework}","2020-05-29 19:28:54+03","2024-05-17 05:20:51.416721+03","I am getting started trying to write a lambda function with node and puppeteer I am using the serverless framework I have been trying to follow httpscodissimo sinumo tech20191227serverlesspuppeteerwithawslambdalayersandnodejs to utilize the provisioned chrome at httpsgithub comshelfiochromeawslambdalayer My function is working as expected locally My Yaml file contains When I run How can I fix this Edit Now getting So I guess in future I will use a tool like httpswww convertjson comyamltojson htm Thank you I changed to Now I am seeing Any ideas"
62121378,"How to see console.log statements in deployed Lambda function","https://stackoverflow.com/questions/62121378/how-to-see-console-log-statements-in-deployed-lambda-function","{node.js,amazon-web-services,google-chrome,aws-lambda,serverless-framework}","2020-05-31 19:24:32+03","2024-05-17 05:20:52.301717+03","I am getting started trying to write a lambda function with node and puppeteer I am using the serverless framework I have been trying to follow httpscodissimo sinumo tech20191227serverlesspuppeteerwithawslambdalayersandnodejs to utilize the provisioned chrome at httpsgithub comshelfiochromeawslambdalayer My function is working as expected locally my handler js contains my index js contains a longrunning 45 60 seconds puppeteer function main which returns an array of objects After uploading my function to lambda using serverless framework without error I followed the directions at the bottom of the article about testing the pre provisioned chrome in my layers dashboard As you can see in the screenshot it appears to be working correctly being brand new to this I do not understand the log output I get a similar log output when I run my deployed function through the api gatewaybut I do not see either the console log In my function locally I am able to see console log statements or the returned array of objects which I see when I run locally How to I see those in my deployed lambda function when I run it EDIT I have added a screenshot of what I think you are referring to I do not see the console logged output I see locally Can you explain further or am I looking in the wrong place EDIT1 Edit2 Edit3 I changed the handler to Now seeing error messages "
62143878,"how to download serverless.yml from exist lambda function","https://stackoverflow.com/questions/62143878/how-to-download-serverless-yml-from-exist-lambda-function","{aws-lambda,serverless-framework,aws-serverless}","2020-06-02 02:33:43+03","2024-05-17 05:20:53.419783+03","I am awslambda newbie I need to use npm to deploy on my local pc I already created lambda function and uploaded layers by using the console I need all of lambda files such as serverless yml template file but I do not know how to download theses files from aws to local pc please help me "
62150124,"Getting error while deploying lambda function using serverless framework","https://stackoverflow.com/questions/62150124/getting-error-while-deploying-lambda-function-using-serverless-framework","{aws-lambda,serverless-framework,aws-serverless}","2020-06-02 10:39:06+03","2024-05-17 05:20:54.012539+03","I am trying to deploy a hello world lambda function using serverless framework But I get below error even i am not trying to create any role from my code I am just using an existing role which has all the required permissions Below is my yml file "
62157032,"Serverless best way of using generated lambda endpoint into static javascript code","https://stackoverflow.com/questions/62157032/serverless-best-way-of-using-generated-lambda-endpoint-into-static-javascript-co","{aws-lambda,serverless-framework,serverless}","2020-06-02 16:44:36+03","2024-05-17 05:20:55.042003+03","I have a serverless project which deploys a lambda function and also a static web page The js code on the static web page has the hardcoded endpoint of the lambda function Whats the proper way to deploy the lambda and then use the generated endpoint in the static js code before deploy Is there any templating method so Thanks "
62179995,"How to use github action to deploy a serverless mono repo with multiple packages.json?","https://stackoverflow.com/questions/62179995/how-to-use-github-action-to-deploy-a-serverless-mono-repo-with-multiple-packages","{amazon-web-services,github,package.json,serverless-framework,github-actions}","2020-06-03 18:21:14+03","2024-05-17 05:20:56.041147+03","I am trying to deploy micro services that are part of a mono repo for this I am using github actions but I am having an issue related to the plugins in the package json files This is the structure of my project First I am trying to deploy the resources folder that basically creates S3 buckets cognito user pool etc and I have added the plugin called serverlesscognitoaddcustomattributes as part of this project this plugin only exists on the package json that is inside the resources folder I am getting this error when trying to deploy from github actions Serverless plugin serverlesscognitoaddcustomattributes not found Make sure it is installed and listed in the plugins section of your serverless config file this is the yml file I am using on github actions When the above yml file run I can see this on the console"
62181576,"How to reference handlers in sub-directories in serverless-offline?","https://stackoverflow.com/questions/62181576/how-to-reference-handlers-in-sub-directories-in-serverless-offline","{python,serverless-framework,serverless-offline}","2020-06-03 19:53:09+03","2024-05-17 05:20:57.036728+03","Windows 10 64bits Node v12 16 3 Serverless 1 71 3 serverlessoffline 6 1 7 DIRECTORY Hi I am currently trying to test locally two lambda functions using serverlessoffline It is working for the handler in the root directory but it seems that serverlessoffline cannot reference other handlers in subdirectories How can I reference handlers in a subdirectory PS This configuration works when deployed to AWS LAMBDA I can post both paths Error when I try to post hello2 [offline] Loading handler C\Users\my_user\Desktop\serverlessoffline\sub\sub_handler Traceback most recent call last File C\Users\my_user\Desktop\serverlessoffline\node_modules\serverlessoffline\dist\lambda\handlerrunner\pythonrunner\invoke py line 75 in line 126 in import_module return _bootstrap _gcd_import name[level] package level File line 994 in _gcd_import ModuleNotFoundError No module named sub\sub_handler serverless yml "
62181587,"aws-serverless-express connection error - EPIPE","https://stackoverflow.com/questions/62181587/aws-serverless-express-connection-error-epipe","{node.js,express,serverless-framework}","2020-06-03 19:53:37+03","2024-05-17 05:20:58.527643+03","We have a NodeJS 10 16 3 Express API We have recently switched from AWS Elastic BeanstalkEC2 to Lambda Serverless Our DB is Postgres PostgreSQL 12 2 It seemed all of a sudden I started getting this error on my local server when making requests from the client I cannot seem to find much on this issue and I am hoping someone can help Notes"
62200289,"How to grant permission to send messages to a SQS queue in a different AWS account?","https://stackoverflow.com/questions/62200289/how-to-grant-permission-to-send-messages-to-a-sqs-queue-in-a-different-aws-accou","{python,amazon-iam,amazon-sqs,serverless-framework}","2020-06-04 17:05:25+03","2024-05-17 05:20:59.120321+03","I am writing a Python application that extracts data from account A and send to a SQS queue in account B When the lambda function is executed it returns the error below errorMessage An error occurred AccessDenied when calling the SendMessage operation Access to the resource httpseucentral1 queue amazonaws com is denied If I use a SQS queue in the same account it works I am using Serverless framework and I need to use ExternalId in the Cross Account Role What I have done In Account A where Lambda function is executed The function below was deployed using Serverless framework Role In Account B where SQS queue is Role SQS"
62205158,"Bad indentation of a mapping entry in ... Action","https://stackoverflow.com/questions/62205158/bad-indentation-of-a-mapping-entry-in-action","{amazon-s3,yaml,serverless-framework}","2020-06-04 22:24:32+03","2024-05-17 05:21:00.023697+03","I am building a serverless template to read an S3 bucket but I am getting this error when I run the command serverless login Error bad indentation of a mapping entry in xxxx\serverless yml at line 12 column 15 Action ^"
62215822,"AWS Cloudformation Deleted resource from console now serverless updates are failing","https://stackoverflow.com/questions/62215822/aws-cloudformation-deleted-resource-from-console-now-serverless-updates-are-fail","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-06-05 12:53:54+03","2024-05-17 05:21:01.17147+03","I am learning serverless cloudformation deployments and have corrupted my cloudformation stack I ended up creating an export from one of my resource deployments and imported it into another resource all within the same stack That is where my trouble started I unsuccessfully tried to redeploy a few different ways to get around my circular import Then I had the bright idea to just go into the console and delete the listener that was causing all the trouble Bad idea Now I am stuck in a state of update_rollback_complete because the resource that I deleted is not there I created the exact resource via the console but it of course has a different ARN I had assumed that I could just delete the stack but now all of my deletes fail Now that I have completely corrupted my stack how can I remove it I would like to burn my corrupted stack to the ground and completely start over Is there a way to do this"
62337496,"Why getting a response from AWS DynamoDB through Lambda from my React app is very slow?","https://stackoverflow.com/questions/62337496/why-getting-a-response-from-aws-dynamodb-through-lambda-from-my-react-app-is-ver","{reactjs,amazon-web-services,axios,amazon-dynamodb,serverless-framework}","2020-06-12 04:25:59+03","2024-05-17 05:21:02.054132+03","I am testing out the possibilities of Amazon AWS and DynamoDB however I cannot find a solution as to why my Lambda function is executed with a delay I have set up a very simple test app with React and a simple table less than 1kb in DynamoDB In react I have this call Which connects through AWS API Gateway to my Lambda serverlessToDoFunctionGET function When I test the Lambda function from AWS Console it executes on average anywhere between 30100ms ignoring cold start values which is great However when I run it from my app both locally and deployed the average execution time is around 250ms Lowest I got was still a whopping 220ms What am I doing wrong here To make me use of DynamoDB in my app I need to get below 100ms otherwise it is just not worth it Things I have tried but did not have any effect"
62338069,"AWS Serverless: configure multiple frontend apps under one domain","https://stackoverflow.com/questions/62338069/aws-serverless-configure-multiple-frontend-apps-under-one-domain","{reactjs,amazon-web-services,aws-api-gateway,next.js,serverless-framework}","2020-06-12 05:29:17+03","2024-05-17 05:21:02.892364+03","I have two frontend apps First one uses Static Generation for SEO purposes and the Second one uses Client Side Rendering for all stuff behind auth flow I want to have both of them under the same purchased domain with the base endpoints to be something like mydomain com\public\ for all my public facing statically generated content using the first App mydomain com\auth\ for all the stuff that lies behind the auth flow made using the second app So the question is How to map these two separate apps to two base endpoints under the same domain I was reading this post Share an API Endpoint Between Services but it seemed to be for the backend In case anyone is interested to know why two separate apps It is because the Static generation is done using Next js while the Client side stuff is done using simple createreactapp This post explains why this combination needs to be separately deployed "
62347645,"Avoid creating new resource if it exists using serverless","https://stackoverflow.com/questions/62347645/avoid-creating-new-resource-if-it-exists-using-serverless","{serverless-framework,serverless,aws-serverless}","2020-06-12 15:38:15+03","2024-05-17 05:21:03.854658+03","I have a shared resource between many Cloud Stacks and I want Serverless to ignore creating the resource if it exists I found this configuration written in YAML to create a new resource but I wanted it to ignore creating it if it exists Is there a way to do it"
62399918,"webpack: configuration.entry should be an non-empty object","https://stackoverflow.com/questions/62399918/webpack-configuration-entry-should-be-an-non-empty-object","{serverless-framework,serverless-webpack-plugin}","2020-06-16 02:14:22+03","2024-05-17 05:21:04.832019+03","serverless deploy is throwing this error with latest webpack verstion webpack config js package json there is something related here httpsgithub comserverlessheavenserverlesswebpackissues372 serverless yml is very standard and was working with older webpack versions Not expert in webpack here any help much appreciated "
62425616,"Trouble adding policy to s3 bucket in serverless.yaml","https://stackoverflow.com/questions/62425616/trouble-adding-policy-to-s3-bucket-in-serverless-yaml","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework}","2020-06-17 09:18:52+03","2024-05-17 05:21:05.731895+03","I have the following policy I would like to add to my S3 bucket I have this setup as one of my environment variables I get the following error when I try to deploy How do I correctly set the bucket policy"
62436640,"How to apply Serverless to an existing Lambda","https://stackoverflow.com/questions/62436640/how-to-apply-serverless-to-an-existing-lambda","{aws-lambda,serverless-framework}","2020-06-17 19:11:32+03","2024-05-17 05:21:06.649525+03","When I try deploy to an existing lambda function configured in serverless yml as following it says An error occurred ApiLambdaFunction anexistingfunctionnamecreatedbymydevops already exists So it is not allowed to deploy to an existing lambda not created by serverless"
62441788,"Serverless.yml AWS Lambda in Windows 10: The symlinked folder is not in final package","https://stackoverflow.com/questions/62441788/serverless-yml-aws-lambda-in-windows-10-the-symlinked-folder-is-not-in-final-pa","{aws-lambda,serverless-framework}","2020-06-18 03:20:15+03","2024-05-17 05:21:07.875624+03","My folder structure like this When I do sls deploy the elastic_client folder is not getting deployednot in the final zip file that means the elastic_client py is not getting packed This issue is only in Windows 10 In Mac I do not see this issue I created symlinks with the command mklink "
62450701,"Serverless deployment to AWS Lambda missing modules?","https://stackoverflow.com/questions/62450701/serverless-deployment-to-aws-lambda-missing-modules","{node.js,express,aws-lambda,serverless-framework,serverless}","2020-06-18 13:07:49+03","2024-05-17 05:21:08.339818+03","First time dealing with serverless here Have successfully deployed using serverless deploy after following the guide to migrating an existing express app over to serverless But aws lambda keeps throwing an error errorType Runtime ImportModuleError errorMessage Error Cannot find module serverlesshttp\nRequire stack\n vartaskapp js\n varruntimeUserFunction js\n varruntimeindex js So Im confused What am I doing wrong The guide to converting an existing express app didnt say wed need to create an AWS Lambda Layer but since it seems like Lambda cant find the serverlesshttp module does it mean that creating a layer is the fix Edit my zip file seems to only be an express js file I am not sure if that is unusual but reading online reveals that most people seem to have a node_modules folder zipped up as well I presume the lack of a node_module folder in the zip file is causing this runtime ImportModuleError fail How do I get serverless to add a node_modules folder if that is the case"
62461292,"Serverless, deploying ElasticSearch to AWS, ""Creating elasticsearch domain did not stabilize""","https://stackoverflow.com/questions/62461292/serverless-deploying-elasticsearch-to-aws-creating-elasticsearch-domain-did-n","{serverless-framework,aws-elasticsearch}","2020-06-19 00:05:58+03","2024-05-17 05:21:10.573764+03","I am deploying through Github Actions my Serverless app onto AWS with Lerna the full output is this one I have tried following this Creating Elasticsearch service with AWS Cloudformation Creating Elasticsearch Domain did not stabilize Which points to httpsmysteriouscode ioblogcreatingelasticsearchdomaindidnotstabilizecantcreateawselasticsearch51withcloudformation So I added to my serverless yml file But there is no change still I have that error output Any clue"
62462138,"Serverless Framework Lamba Integration - Request Schema Validation","https://stackoverflow.com/questions/62462138/serverless-framework-lamba-integration-request-schema-validation","{aws-lambda,aws-api-gateway,jsonschema,serverless-framework}","2020-06-19 02:04:45+03","2024-05-17 05:21:11.461372+03","I have looked at the few answers I could find here on SO but I am still not having any luck I am using Serverless and trying to do validation on the request body for a lambda function using api gateway lambda integration After running sls offline and making a POST request using postman no matter what the body is the request succeeds Validation does not seem to be occurring at all Heres what I have serverless yml apionboard js modelsonboard schema json"
62465770,"Configuring Cognito User Pool to send emails with SES at ap-southeast-2","https://stackoverflow.com/questions/62465770/configuring-cognito-user-pool-to-send-emails-with-ses-at-ap-southeast-2","{aws-cloudformation,serverless-framework,amazon-ses}","2020-06-19 07:55:47+03","2024-05-17 05:21:12.564583+03","I have the following cloudformation template it is part of a serverless yml template to create a Cognito UserPool that sends emails using SES I am deploying my serverless project on apsoutheast2 and I wanted to use the same region to send emails from I have preverified in apsoutheast2 the account in the template in SES but if I replace the SourceArn in the template below last line with the apsoutheast2 or the serverless pseudo variable AWSRegion region I get an error An error occurred CognitoUserPool Unable to send email message please try again Service AWSCognitoIdentityProviderService Status Code 400 Error Code InvalidParameterException Request ID When I replace the region with uswest2 as in the template below it works Why is apsoutheast2 not supported if it allows me to use SES from that region"
62478642,"serverless deploy lambda@edge with specific dependency","https://stackoverflow.com/questions/62478642/serverless-deploy-lambdaedge-with-specific-dependency","{aws-lambda,serverless-framework,serverless,aws-serverless,aws-lambda-edge}","2020-06-19 21:15:36+03","2024-05-17 05:21:13.659033+03","I want to deploy function for Converting images to WebP from CloudFront as mentioned here But I want to use serverless framework and I have created following serverless yml my handler js When I deploy this it uploads lrucache ostempdir pseudomap tmp useragent yallist to node_modules Code only required useragent path but path does not get uploaded After deploy size of the function is 91kB When I try to deploy it Lambda I gate this message What I am missing here "
62482418,"Can I host my next.js on AWS lambda edge and have a separate API server?","https://stackoverflow.com/questions/62482418/can-i-host-my-next-js-on-aws-lambda-edge-and-have-a-separate-api-server","{next.js,serverless-framework,aws-lambda-edge}","2020-06-20 06:24:55+03","2024-05-17 05:21:14.331546+03","Next js is about server side rendering Therefore have the render server rendering the HTML along with the API server seems to be a natural choice it probably makes the rendering time much lower than having a separate API server service Thats what I am thinking of theoretically But I would like to know if next js applications are typically deployed in this way a node server host both the api service and the next js app Or does it make sense to have one service host the next js app and another service host the rest api endpoints e g"
62487716,"Dynamic domain name prefix for Cognito User Pool domain","https://stackoverflow.com/questions/62487716/dynamic-domain-name-prefix-for-cognito-user-pool-domain","{aws-cloudformation,amazon-cognito,serverless-framework}","2020-06-20 15:20:16+03","2024-05-17 05:21:15.346452+03","I am using Serverless Framework to create a Cognito user pool and based on the stage I am deploying I would like domain name prefixes like myappdev myappstaging etc The code I am using in serverless yml is like this and The selfcustom_stage variable works for all other resources but not for the domain name as it is complaining about illegal characters Is there another way to do this"
62490205,"Serverless : ""errorMessage"": ""Cannot read property 'id' of undefined"",","https://stackoverflow.com/questions/62490205/serverless-errormessage-cannot-read-property-id-of-undefined","{javascript,node.js,serverless-framework}","2020-06-20 18:44:53+03","2024-05-17 05:21:16.341739+03","I am getting started trying to write a lambda function with node and puppeteer I am using the serverless framework In my handler js I have been trying to pass in an id parameter with the event parameter but if its not set I want the value to be set to 1 But when I try How can I get this working"
62495648,"next.js app how to prevent XSS and CSRF attacks?","https://stackoverflow.com/questions/62495648/next-js-app-how-to-prevent-xss-and-csrf-attacks","{xss,csrf,next.js,serverless-framework,websecurity}","2020-06-21 07:27:05+03","2024-05-17 05:21:17.878377+03","Basically I am building a serverless next js app with mongodb Idea 1 React prevents most of the XSS already so should I just store user login info in web storage this way I do not need to worry about CSRF Idea 2 If I use httpOnly cookie based auth since httpOnly and sameorigin already prevents XSS and some CSRF I can proceed with my design without worries do you think it is enough for a beginner eCommerce site Idea 3 Add a CSRF token to the cookie based auth is there any better ideas for serverless app or am i missing something what do you recommend idea 4 use CSRF builtin framework like express js UPDATED nextauth is supported but i want to learn about auth so really want to build on on my own"
62499623,"Can AWS Lambda functions be invoked as a background service?","https://stackoverflow.com/questions/62499623/can-aws-lambda-functions-be-invoked-as-a-background-service","{amazon-web-services,aws-lambda,serverless-framework}","2020-06-21 14:02:54+03","2024-05-17 05:21:18.502817+03","I am new to Lambda functions and am using the serverless framework to create them specifically using python I am trying to create a function that will do some heavy processing of a file The type of work is not important but each job might take several minutes to complete I would prefer not to have an invocation request open for so long and instead I would like the Lambda to return immediately but continue processing after it has returned Once the job is done it could email me the processed file using SMS for example Is this possible with AWS Lambda"
67236751,"Cognito and MFA","https://stackoverflow.com/questions/67236751/cognito-and-mfa","{amazon-web-services,amazon-cognito,serverless-framework,aws-serverless,multi-factor-authentication}","2021-04-23 20:58:06+03","2024-05-17 05:26:02.706535+03","We would like for username and password to be asked every time but not the MFA I see there is an option to remember the device in Cognito Is it possible that MFA can be prompted less frequently but with the login credentials every time If remember device suppresses the MFA prompt how long does it suppress it for"
62507974,"How to use NestJS with the 'express' serverless-component","https://stackoverflow.com/questions/62507974/how-to-use-nestjs-with-the-express-serverless-component","{nestjs,serverless-framework,aws-serverless}","2020-06-22 05:28:12+03","2024-05-17 05:21:19.541804+03","I have seen multiple backends built with Nestjs and Serverless Framework like the International Slackline Associations Ratings backend While that is great on it is own given the deployment speed improvements of serverlesscomponents I would really like to be able to use Nestjs and the Serverless express component together To me this seems a natural fit as NestJS ships with express as a default and the express serverless component uses awsserverlessexpress internally But I did not find any proper guides on how to go about implementing them together An issue exists on serverless components github page for asking the same but has no replies "
62525285,"Multiple microservices inside same AWS API Gateway","https://stackoverflow.com/questions/62525285/multiple-microservices-inside-same-aws-api-gateway","{microservices,aws-api-gateway,serverless-framework,serverless-architecture}","2020-06-22 23:58:03+03","2024-05-17 05:21:20.460612+03","I am developing a series of microservices which need to share the same AWS API Gateway Heres my structure skills workvalues and graphql are 3 different microservices I am trying to register with the same AWS API Gateway The problem I am having is getting the serverless yaml files for skills workvalues routes to nest under assessments There is no functionality for assessments inandofitself It exists just so we can organize all of our assessments under the same URL path structure Heres my serverless yaml file for `workvalues Heres my serverless yaml file for `assessments The problem seems to be coding the Outputs in serverless yaml file for assessments route When I run serverless deploy I get this error message At the end of Share an API Endpoint Between Services article the author mentions You HAVE TO import billing from the billingapi so the new service will only need to create the billingxyz part which seems to be the situation I am in But the author does not explain how to import billing Or in my case how do I import assessments into the serverless yaml files for each assessment microservice"
62534433,"How to enable execution logs for a http api gateway","https://stackoverflow.com/questions/62534433/how-to-enable-execution-logs-for-a-http-api-gateway","{amazon-web-services,logging,aws-lambda,aws-api-gateway,serverless-framework}","2020-06-23 12:12:57+03","2024-05-17 05:21:21.421675+03","I am using serverless framework httpswww serverless com I have created a http api gateway httpswww serverless comframeworkdocsprovidersawseventshttpapi And enabled logging like so Im looking for execution logs but im unable to see it in cloudwatch log groups From this documentation httpswww serverless comframeworkdocsprovidersawsguideserverless yml it suggests execution logs are enabled by default when its a restApi true but there is no mention of execution logs when you have a httpApi"
62536275,"Serverless Response Templates w/ Lambda Integration","https://stackoverflow.com/questions/62536275/serverless-response-templates-w-lambda-integration","{node.js,aws-lambda,aws-api-gateway,serverless-framework,aws-serverless}","2020-06-23 13:47:37+03","2024-05-17 05:21:22.619435+03","I have read the docs for serverless and AWS but I am just not getting the response templates I have a lambda function that calls another module and that module will return an object with an info and possibly an error property If the error property exists i want to throw an error and handle it with a response template in API Gateway serverless yml not sure what goes in the 400 pattern lambda"
62543892,"Add statements to serverless ""KeyPolicy"" on KMS Resource","https://stackoverflow.com/questions/62543892/add-statements-to-serverless-keypolicy-on-kms-resource","{amazon-web-services,serverless-framework,aws-serverless}","2020-06-23 21:17:09+03","2024-05-17 05:21:23.083712+03","I have a serverless application which creates a KMS Resource From another serverless application where some roles are created I want to give these new roles the same permissions that SomeLambdaRole and AnotherLambdaRole have on the TheKey Resource Is this possible or should I try another approach"
62560559,"AWS Lambda: ""ELF load command address/offset not properly aligned"" when deployed via Serverless Framework","https://stackoverflow.com/questions/62560559/aws-lambda-elf-load-command-address-offset-not-properly-aligned-when-deployed","{python-3.x,opencv,aws-lambda,serverless-framework}","2020-06-24 17:13:04+03","2024-05-17 05:21:23.59654+03","I have a Lambda function in python3 6 that uses the following packages I am using the Serverless Framework to minimize the deployment sizes and to deploy to lambda I have used the serverlesspythonrequirements plugin to manage packages This is what my template yml file looks like I need to use slim zip option because otherwise the deployment package will be too large 350mb For some reason if I do not include pymongo in requirements txt the function runs fine The output of sls deploy when pymongo is not included is So the total zip size is 128 MB and the function runs fine But if I include pymongo the output of sls deploy is Now the size is decreased to 109 MB Should not the size increase because I have added a new dependency When I run the lambda function I get an error Unable to import module handler tmpslspyreqcv2cv2 cpython36mx86_64linuxgnu so ELF load command addressoffset not properly aligned I think this might be a serverless framework issue What could I do to fix this I have tried installing different versions of pymongo but no luck I am using the following Serverless Framework version Edit Are there any alternative to pymongo I have seen some but they use pymongo as the underlying dependency "
62565714,"Scheduling localhost serverless cron: The model could not be resolved in registry","https://stackoverflow.com/questions/62565714/scheduling-localhost-serverless-cron-the-model-could-not-be-resolved-in-registr","{express,aws-lambda,serverless-framework,knex.js,bookshelf.js}","2020-06-24 23:45:29+03","2024-05-17 05:21:24.481692+03","I am hosting an ExpressJSNodeJS API on AWS Lambda with Serverless framework The API uses Knex js and Bookshelf js ORM I want to test scheduling a cron job locally I am using serverlessofflinescheduler to do this Question My API runs fine if I call it from my client but if I call a function via serverless scheduler it complains that no models are in the registry Why is this I have already definitely included all necessary Models at the top of the OrderService js file Serverless yml The handler calls rootservicesOrderService dequeue function which contains In my knexService js file I register Bookshelf models to the registry to remove circular dependencies"
62878199,"How to reference S3 bucket created in cloud formation","https://stackoverflow.com/questions/62878199/how-to-reference-s3-bucket-created-in-cloud-formation","{amazon-s3,aws-cloudformation,serverless-framework,serverless,aws-serverless}","2020-07-13 14:37:26+03","2024-05-17 05:21:38.957458+03","I have created an S3 bucket in serverless in cloudformation as follows Now I would like to reference this bucket in a lambda event as seen in the serverless documentation To be clear I need to create this S3 bucket in the cloud formation so that I can give access to the prodAnsible user This is how I have tried to reference it in the lambda Thanks for your assistance in advance "
62566500,"How to invoke lambda asynchronously from another lambda using serverless framework","https://stackoverflow.com/questions/62566500/how-to-invoke-lambda-asynchronously-from-another-lambda-using-serverless-framewo","{node.js,asynchronous,aws-lambda,serverless-framework,aws-sdk-nodejs}","2020-06-25 01:31:18+03","2024-05-17 05:21:25.393582+03","I am trying to build out an architecture in Serverless Framework where one Lambda calls another Lambda asynchronously using the Node js AWS SDK I understand that when invoking asynchronously the calling Lambda will not wait for the called Lambda to run and respond but instead will get a response from AWS with the status of the invocation itself From what I have read the way to call a Lambda asynchronously is to use the Lambda invoke method with InvocationType Event in the params as opposed to synchronous invocation with InvocationType RequestResponse However it does not seem to matter what I set as the InvocationType the second Lambda always runs in full and returns its response to the first just as if I had set InvocationType RequestResponse In my serverless yml file I have In my TypeScript handler I have The first Lambda always waits for the second Lambda to run in its entirety and eventually gets a response of StatusCode 200 Payload I am expecting a successful async invocation to return an immediate response with StatusCode 202 What am I missing"
62567421,"502 Bad gateway internal server error lambda serving binary files","https://stackoverflow.com/questions/62567421/502-bad-gateway-internal-server-error-lambda-serving-binary-files","{aws-lambda,serverless-framework,binary-data}","2020-06-25 03:30:39+03","2024-05-17 05:21:26.478674+03","I am fetching a file from nodefetch like this given buffer I also set isBase64Encoded to be true I am using serverless to deploy this thing However when calling the endpoint I keep getting Internal Server Error What am I doing wrong here"
62571583,"DVSA Error in deployment with Serverless - 'Bucket name should not contain uppercase characters'","https://stackoverflow.com/questions/62571583/dvsa-error-in-deployment-with-serverless-bucket-name-should-not-contain-upper","{serverless-framework,serverless,aws-serverless}","2020-06-25 08:56:02+03","2024-05-17 05:21:27.366565+03","I am trying to deploy the DVSA Serverless App via Serverless SLS and I am hitting this error The repo is here httpsgithub comOWASPDVSA and it looks to be the file httpsgithub comOWASPDVSAblobmasterbackendsrcfunctionsprocessingsls yml which is causing the issue With the S3 line should this be a reference rather than a string New to SLS so apologies if this is an obvious question Thanks "
62604033,"Serverless Framework - Lambda@Edge Deployment for a predefined Cloud Front Distribution","https://stackoverflow.com/questions/62604033/serverless-framework-lambdaedge-deployment-for-a-predefined-cloud-front-distr","{aws-lambda,aws-cloudformation,amazon-cloudfront,serverless-framework,aws-lambda-edge}","2020-06-26 23:06:12+03","2024-05-17 05:21:28.344025+03","I have been trying for a day to configure automating a lambda to be associated with a Distribution through the serverless framework but things are not working well Here is the documentation and they said we can use a predefined cloud front distribution from resources but not shown how Here is my Resources yml that include the S3 bucket and associated two distributions origins to it Now I have all set regarding the CloudFront and I just want to add a lambda at the edge to authenticate my private content The Origin with Id S3OriginPrivate So here is my serverless yml file When deploying I am getting this issue This telling that this id already exists and cannot be replaced as I think My main focus is to get the lambda at edge deployed and associated with the cloud front within the serverless framework so I made another trial to add almost everything to the cloud formation resources and depend only on the serverless framework in deploying the function and here was my serverless yml and the resources file The resources But I have faced many errors related to defining the version and so on I searched debugged and investigated that for many hours but seems hard configuration Any help on how to get lambda edge works with predefined cloud front through the serverless framework"
62629026,"Serverless framework and AWS Lambda functions code","https://stackoverflow.com/questions/62629026/serverless-framework-and-aws-lambda-functions-code","{aws-lambda,serverless-framework}","2020-06-28 22:49:59+03","2024-05-17 05:21:29.116371+03","I am new to Serverless framework Is there a way to deploy the functions from NodeJS with Serverless framework in order to have the same code in my local src files than in Lambda functions I would like to see the original code and maybe put there manually some console log but all I see is minified code serverless ymp code"
62631647,"Serverless - How to create a standalone customer managed policy through serverless","https://stackoverflow.com/questions/62631647/serverless-how-to-create-a-standalone-customer-managed-policy-through-serverle","{amazon-web-services,amazon-iam,serverless-framework,serverless}","2020-06-29 05:16:09+03","2024-05-17 05:21:30.01851+03","Currently my serverless yml file looks like this When I run sls deploy command I am getting following error Error An error occurred MyManagedPolicy Syntax errors in policy Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Request ID a20aa12cfbaf4301bd20b0148426f633 Can you please point out the syntax error I am new to serverless so not able to understand If possible please suggest the working serverless yml"
62635178,"serverless framework throws ""Execution logs are not supported on protocolType http"" when using ApiGatewayV2","https://stackoverflow.com/questions/62635178/serverless-framework-throws-execution-logs-are-not-supported-on-protocoltype-ht","{aws-lambda,aws-cloudformation,aws-api-gateway,serverless-framework,aws-serverless}","2020-06-29 09:31:04+03","2024-05-17 05:21:30.998656+03","I am trying to create a http end point to trigger my lambda function and potentially later integrate with fire hose In my serverless yml I have turned execution logs off for my ApiGatewayV2 by turning setting it to off as such and additionally I have also tried turning of execution logging for the lambda function it triggers like this but I keep getting the following error Execution logs are not supported on protocolType http is this a bug or are there any additional places I have to explicitly turn logs off"
62648402,"Access Denied performing PUT file using S3 pre-signed URL","https://stackoverflow.com/questions/62648402/access-denied-performing-put-file-using-s3-pre-signed-url","{node.js,amazon-s3,aws-lambda,serverless-framework}","2020-06-30 00:06:15+03","2024-05-17 05:21:31.617349+03","Problem How can I successfully perform a PUT file request to a presigned URL where the bucket has the following permissions Here is a concrete example of what I did I performed a POST to my presign endpoint it returned I then used the url within data to perform a PUT request and it failed with AccessDenied For the given Here is my presign code This express route belongs to a lambda created here The role ARN mentioned has these permissions finally the S3 bucket is created like so "
68141464,"what should be the order of serverless plugins in serverless.yml file?","https://stackoverflow.com/questions/68141464/what-should-be-the-order-of-serverless-plugins-in-serverless-yml-file","{serverless-framework,serverless,aws-serverless}","2021-06-26 10:34:35+03","2024-05-17 05:26:54.136989+03","I have read about the order of serverless plugins for example serverlessdynamodblocal must come before the serverlessoffline plugin so is the order of plugins necessary in the serverless yml file how can I decide the order of my serverless plugins in the serverless yml file"
62827429,"Resource blocked by CORS policy in Serverless API Gateway Lambda even though its set up","https://stackoverflow.com/questions/62827429/resource-blocked-by-cors-policy-in-serverless-api-gateway-lambda-even-though-its","{aws-lambda,cors,aws-api-gateway,serverless-framework,aws-lambda-edge}","2020-07-10 04:38:05+03","2024-05-17 05:21:33.319599+03","I am using Serverless and I have a lambda that is available via API Gateway Like many of the CORs questions that mention a similar stack I am getting the following error when making a call from a browser usual Postmancurl local testing works just fine The Integration Request type is Lambda_Proxy Cors has been enabled adding the Options Method The lambda handler returns the expected headers The axios request sends one custom header ZClientTimezone that is also allowed in the Lambda I have tried everything including everything here but no luck I am extremely frustrated so any help would be awesome One more thing when I do curl i X OPTIONS httpsgatewayUrldevlogin I get this result which seems to be missing ZClientTimezone My Lambda My Serverless yml I would love any help you can give I have omitted some code as everything else works except for the cors stuff so I have just included that but if more clarification is needed I am happy to provide "
62836558,"middy/validator: how to write schema for JSON string","https://stackoverflow.com/questions/62836558/middy-validator-how-to-write-schema-for-json-string","{aws-lambda,middleware,jsonschema,serverless-framework}","2020-07-10 14:33:40+03","2024-05-17 05:21:34.688983+03","I am trying to validate REST API resp format in Serverless Framework Using middyvalidator The output schema in the API I received error from validation I can see that in API the body is a JSON string but in schema the body is an object How can I write a schema to validate the structure of the JSON string Any suggestion is appreciated "
62838650,"In Serverless Framework, is there a way update environment variables populated by ssm variables at lambda runtime?","https://stackoverflow.com/questions/62838650/in-serverless-framework-is-there-a-way-update-environment-variables-populated-b","{serverless-framework,serverless,aws-serverless}","2020-07-10 16:34:02+03","2024-05-17 05:21:34.78058+03","I am using serverless yml ssm variables AWS parameter store to set lambda environment variables They are looked up and set at Serverless deploy time I would like the environment variables to be up to date at lambda runtime so that I can change them in parameter store and not redeploy Is there a way to achieve this with Serverless P S I know I could achieve this by looking them up in my lambda code instead of relying on Serverless to set them I would just like to know if Serverless has this capability "
62839323,"Creating S3 bucket policy in serverless - An error occurred: BucketPolicy - Invalid policy syntax","https://stackoverflow.com/questions/62839323/creating-s3-bucket-policy-in-serverless-an-error-occurred-bucketpolicy-inva","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework,aws-serverless}","2020-07-10 17:18:51+03","2024-05-17 05:21:35.756303+03","I am trying to add an S3 bucket policy in my serverless yml file which would grant an IAM user I created permissions on the bucket I began by simply adding the policy on a bucket in a different stage dev directly in the console and now I am trying to replicate the policy in serverless on a different stage test However even though I am following the aws documentation I cannot quite seem to get it right Here is a look at the policy in my serverless yml file To reduce potential for error I am copying my Principal and Resource directly Here is a look at the policy I added to the bucket directly in the console which works meaning the user can put objects in the bucket As things are I get the following error when trying to deploy An error occurred BucketPolicy Invalid policy syntax Any help would be greatly appreciated Lastly here is a look at the serverless file cloudformationtemplateupdatestack json It is also worth noting this is how the bucket is created It is an event driven approach per the serverless docs Thanks in advance "
62849298,"How can I get appsync API endpoint in serverless configure file?","https://stackoverflow.com/questions/62849298/how-can-i-get-appsync-api-endpoint-in-serverless-configure-file","{amazon-web-services,aws-lambda,serverless-framework,aws-appsync}","2020-07-11 12:43:23+03","2024-05-17 05:21:36.77408+03","I am using serverless to deploy an Appsync API and a few lambda functions This plugin httpsgithub comsid88inserverlessappsyncplugin is used to deploy Appsync The lambda and Appsync are defined in the same serverless yml file and they are deployed altogether My lambda needs to know the Appsync API endpoint which is created during sls deploy How can I reference the Appsync endpoint as environment variable to my lambda my serverless yml "
62856931,"Problem with AWS CloudFront and Server Side Rendering (Nuxt)","https://stackoverflow.com/questions/62856931/problem-with-aws-cloudfront-and-server-side-rendering-nuxt","{aws-lambda,nuxt.js,amazon-cloudfront,serverless-framework}","2020-07-12 04:01:20+03","2024-05-17 05:21:37.399692+03","I have a problem with AWS CloudFront and Nuxt Server Side Rendering This are the components of my application As an entry point of the application I have a CloudFront distribution that splits the backend requests api to the EC2 instance and the frontend requests default to the API Gateway endpoint so the frontend is server side rendered by Lambda The frontend code performs an HTTP request to the backend to retrieve data using the public CloudFront URL because the render is hybrid the first time is run serverside but if the user navigates back to the home page it is rendered clientside So this is the invocation flow Browser CloudFront frontend path API Gateway Lambda render app CloudFront backend path EC2 The Lambda function receives a 403 error xcache [ Error from cloudfront ] when invoking CloudFront with no additional detail But if I browse the frontend in API Gateway directly bypassing CloudFront everything works Browser API Gateway Lambda render app CloudFront backend path EC2 I am not understanding why invoking the Lambda function through CloudFront affects its ability to make an HTTP request to a CloudFront URL or in other words why CloudFront reject that request "
62877754,"Connect aws WebSocket api to custom domain name","https://stackoverflow.com/questions/62877754/connect-aws-websocket-api-to-custom-domain-name","{amazon-web-services,websocket,aws-api-gateway,serverless-framework}","2020-07-13 14:13:37+03","2024-05-17 05:21:37.926277+03","I have created a messaging app using aws WebSocket api and deployed using serverless The apis are successfully deployed and I am able to test those using wscat I have other Rest apis in the stack too I tried mapping my new WebSocket api stack to an existing domain name but getting the error Only REGIONAL domain names can be managed through the API Gateway V2 API For EDGE domain names please use the API Gateway V1 API Also note that only REST APIs can be attached to EDGE domain names I am stuck and trying to figure out what changes are to be made I went through httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayv2api html and httpsdocs aws amazon comapigatewaylatestdeveloperguidehowtocustomdomains html but could not figure out "
62883665,"Tests methodologies for AWS server-less","https://stackoverflow.com/questions/62883665/tests-methodologies-for-aws-server-less","{aws-lambda,automated-tests,integration-testing,serverless-framework,aws-serverless}","2020-07-13 20:20:34+03","2024-05-17 05:21:39.912865+03","I am new to the serverless world using Amazon AWS and I try to understand the thumb rules of writing integration tests Lets give the following simple system we want to test We have a supermarket for which we want to save all the receipts The system contains a DB with single table for the data A job queue which contains all the transactions that need to be handled and couple of workers which do some preprocess on each job in the queue and then commit the result to the DB We want to test the next scenario By cleaning the environment the next time we run the tests the same result would come If we will not do it and for example data will left in the DB it will affect the validation of the next time we run the tests My experience is working with dockers With them I could dockercompose up a new DB and queues at the setup and dockercompose down all the containers at teardown This is a simple solution Now the question is what is the good way to do such tests for my serverless AWS application The db is dynamo db The queues are sqs and the workers are lambda s which trigger on sqs insertion Of course it is an easy example and it is quite over kill but the question is larger than the specific case The solutions I found so far From what I searched there is no common how to write tests tutorial and I would like to hear from your experience "
62891056,"Fail to invoke step function using serverless framework (""stepf"" is not a valid sub command)","https://stackoverflow.com/questions/62891056/fail-to-invoke-step-function-using-serverless-framework-stepf-is-not-a-valid","{serverless-framework,serverless-framework-step-functions}","2020-07-14 08:30:46+03","2024-05-17 05:21:40.981514+03","After the installing of the serverless step function plugin and successfully deploy the step function through Then I try to run serverless invoke stepf And I get stepf is not a valid sub command Why cannot use the functionality from the serverlessstepfunctions plugin to invoke a step function The invoke command is described on the serverlessstepfunctions github page httpsgithub comserverlessoperationsserverlessstepfunctionsinvoke The used version of the plugin serverlessstepfunctions is 2 21 1 Edit An important piece of information is that the invoke command was executed from a folder that did not contain a serverless yml file"
62904125,"aws ""serverless invoke local"" fails to run when node_modules are on a parent folder","https://stackoverflow.com/questions/62904125/aws-serverless-invoke-local-fails-to-run-when-node-modules-are-on-a-parent-fol","{node-modules,serverless-framework,serverless,aws-serverless}","2020-07-14 21:15:21+03","2024-05-17 05:21:41.804028+03","I have a serverless aws app within a context of many other ones All of the node_modules are shared in a parent folder and it works fine with deploys and invoke functions not with invoke local This is my structure serverless yml file settings The problem is whenever I try to run sls invoke local I got a error messages due to package not found So the workaround is to npm install save every package that is outside of my path If you have found a solution not a workaround like mine please share "
62908940,"How can I reference lambda name in serverless.yml file?","https://stackoverflow.com/questions/62908940/how-can-i-reference-lambda-name-in-serverless-yml-file","{amazon-web-services,serverless-framework}","2020-07-15 06:39:08+03","2024-05-17 05:21:42.721586+03","I have serverless yml as below I above code I would like to put lambda function name as the IAM role name prefix How can I reference lambda function name there"
62927699,"Serverless Framework The provided execution role does not have permissions to call SendMessage on SQS","https://stackoverflow.com/questions/62927699/serverless-framework-the-provided-execution-role-does-not-have-permissions-to-ca","{amazon-web-services,amazon-sqs,serverless-framework}","2020-07-16 04:55:04+03","2024-05-17 05:21:43.750175+03","I am trying to create an AWS SQS queue using the serverless framwework But I am getting the following error on deploying the severless yaml The issue is the IAM role is created by serverless framework and I have no control of what permissions the framework adds to the role Ideally if the function trigger is an SQS or needs a DLQ configured I was hoping the framework would add Send and Receive message permissions to the role but I guess it did not Serveless yaml "
62935080,"Serverless Framework how to create an AWS SQS DeadLetter queue?","https://stackoverflow.com/questions/62935080/serverless-framework-how-to-create-an-aws-sqs-deadletter-queue","{amazon-web-services,amazon-sqs,serverless-framework}","2020-07-16 12:48:41+03","2024-05-17 05:21:44.618382+03","I am trying to create an AWS SQS Dead Letter Queue using the serverless framework The idea is to have a SQS to trigger a Lambda function and have another SQS as a DeadLetterQueue ie to pick up the message in case the Lambda fails or timesout I did the following to create a test project Following is my serverless yaml I also tried the following But in both these cases the framework is just creating a normal SQS I am following this document httpswww serverless compluginsserverlesspluginlambdadeadletter"
62935465,"How to install large dependencies on AWS EFS via serverless framework","https://stackoverflow.com/questions/62935465/how-to-install-large-dependencies-on-aws-efs-via-serverless-framework","{aws-lambda,tensorflow2.0,serverless-framework,amazon-efs}","2020-07-16 13:07:10+03","2024-05-17 05:21:45.685559+03","I understand that we can install dependencies in EFS from an EC2 instance and then set the mount path and PythonPath in AWS lambda so that the lambda has now the path of the dependencies folder But is there a way to eliminate the EC2 from this approach and rather install those dependencies from serverless framework My scenario is to upload a tensorflow2 dependency which is 500 MB to an AWS lambda Any leads would be helpful and appreciated "
62937452,"CloudFormation AWS::CertificateManager::Certificate automated certificate validation","https://stackoverflow.com/questions/62937452/cloudformation-awscertificatemanagercertificate-automated-certificate-valida","{amazon-web-services,ssl,aws-cloudformation,serverless-framework,amazon-route53}","2020-07-16 14:53:17+03","2024-05-17 05:21:46.708202+03","According the AWS docs at here and here I should be able to automate a certificate creation and validation using cloudformation Apparently when you specify a HostedZoneId in the DomainValidationOptions it is supposed to create the required DNS record to complete the validation at least that is what it seems from the very vague documentation My CF template for the cert looks like this mydomain io changed of course was registered using AWS as registrar as the documents say must be the case for automated validation to work This template above is included in a serverless yml as a resource However when I deploy the stack creation is just stuck waiting for the DNS record i e it does not add the required CNAME entry as I understand it is supposed to do and as such the stack is stuck Has anyone gotten this feature to work And yes I know about the 3rd party custom resources that try to do the same thing I do not want to use them if CF is supposed to do this natively now "
62951047,"How to manage typeORM connection of Aurora Serverless data api inside Lambda using Serverless Framework","https://stackoverflow.com/questions/62951047/how-to-manage-typeorm-connection-of-aurora-serverless-data-api-inside-lambda-usi","{aws-lambda,serverless-framework,typeorm,aws-aurora-serverless}","2020-07-17 09:23:02+03","2024-05-17 05:21:47.653339+03","I am using I am connecting to the db like it is described in github And this is how I use it inside of my Lambda function When I execute is first time it works just well But second and next times I am getting an error So what is the proper way to manage this connection Should it be somehow reused I have found some resolutions for simple RDS but the whole point of Aurora Serverless Data API is that you do not have to manage the connection"
62974231,"Import AWS::ApiGateway::Authorizer serverless framework","https://stackoverflow.com/questions/62974231/import-awsapigatewayauthorizer-serverless-framework","{amazon-web-services,aws-cloudformation,serverless-framework,serverless}","2020-07-18 22:00:12+03","2024-05-17 05:21:48.646379+03","I trying to build a jenkins pipeline that will deploy some common AWS resources and then will deploy the specific service resources Here is the common resources part is being deployed with success The specific part I am trying to use this ImportValue but it is giving this error I have tried some other things as well unsuccessfully There is a way to print the return of the ImportValue so I can understand what is happening I am doing something terrible wrong Thanks in advance "
62975280,"Change API Gateway Name when using Serverless Framework","https://stackoverflow.com/questions/62975280/change-api-gateway-name-when-using-serverless-framework","{serverless-framework,aws-serverless}","2020-07-19 01:04:09+03","2024-05-17 05:21:49.681477+03","The Serverless framework has made it very easy for developers to create an API gateway connected to a lambda function like this My question is how can I change the name of the API gateway that is going to be created"
62976032,"How can I update dynamodb GSI when projection type is changed?","https://stackoverflow.com/questions/62976032/how-can-i-update-dynamodb-gsi-when-projection-type-is-changed","{amazon-dynamodb,serverless-framework}","2020-07-19 03:47:17+03","2024-05-17 05:21:50.614748+03","I am using serverless framework to manage AWS infra and I have defined a dynamodb table with a GSI Now I need to update the projection type of the GSi and I know that it is not allowed So I manually delete the GSI from dynamodb table but I still get below error when running sls deploy An error occurred DeviceTable Cannot update GSIs properties other than Provisioned Throughput You can create a new GSI with a different name What I do not understand is that the GSI has been removed but why it still complains about the GSIs properties Is there any place remember the GIS What is the right way to do that"
62990653,"Create CloudFormation stack without resources","https://stackoverflow.com/questions/62990653/create-cloudformation-stack-without-resources","{amazon-web-services,terraform,aws-cloudformation,serverless-framework}","2020-07-20 07:37:25+03","2024-05-17 05:21:51.357139+03","I am using Terraform for most of my infrastructure but at the same time I am using the serverless framework to define some Lambda functions Serverless uses CloudFormation under the hood where I need access to some ARNs for resources created by Terraform My idea was to create a CloudFormation stack in Terraform and export all of the value that I need but it complains that it cannot create a stack without any resources I do not want to define any resources in CloudFormation only the outputs so I though maybe there is a way to define some dummy resource but I could not find any Is there a way to work around this issue If not I am also open to other suggestions for getting parameters passed from Terraform to CloudFormation "
62999002,"Serverless offline CUSTOM: using external file AND internally added variables?","https://stackoverflow.com/questions/62999002/serverless-offline-custom-using-external-file-and-internally-added-variables","{serverless-framework,serverless,dynamo-local,serverless-offline}","2020-07-20 15:38:43+03","2024-05-17 05:21:52.417311+03","I am having a weird problem where I need to use Serverless custom variables read both from an external file and internally from the serverless yml file Something like this except this does not work getting bad indendation of a mapping entry error I am not sure if that is possible and how do you do Please help The reason is dynamodb local serverless plugin will not work if it is config is set in the exteranl file But we use the external file config in our project and we do not wanna change that So I need to have the dynamodb config separate in the serverless yml file just not sure the proper way to do it Please someone help Thanks"
63010989,"Sync Sequelize Databases on Serverless app","https://stackoverflow.com/questions/63010989/sync-sequelize-databases-on-serverless-app","{node.js,amazon-web-services,sequelize.js,serverless-framework}","2020-07-21 08:59:09+03","2024-05-17 05:21:53.485385+03","I am using sequelize with MySQL on the Serverless offline app I am not sure how to sync all models on serverless start I am tried to do this This approach syncs models that are imported into controller so the only way in this case to sync all models is to include all models in every controller This does not look like a good example Do you have any idea"
63018725,"serverless-offline: Custom authorizer will not work if http_proxy is specified","https://stackoverflow.com/questions/63018725/serverless-offline-custom-authorizer-will-not-work-if-http-proxy-is-specified","{aws-api-gateway,serverless-framework}","2020-07-21 16:18:02+03","2024-05-17 05:21:54.429366+03","I want to use serverlessoffline to authenticate with a custom authorizer The file serverless yml is shown below Run it After that accessing the following uri will return a normal response The custom authorizer does not seem to be working Running curl through the apigateway will result in 401 Does serverlessoffline go through authentication with http_proxy Pardon my broken English "
63020039,"Serverless framework and workaround for conditional value","https://stackoverflow.com/questions/63020039/serverless-framework-and-workaround-for-conditional-value","{serverless-framework,serverless}","2020-07-21 17:38:20+03","2024-05-17 05:21:55.494937+03","After reading Serverless documentation and a few posts in their forum I noticed there is no way to implement a clear conditional attribution I want to set one or other values based on the stage So if the stage is production custom domain should hold the value www mydomain com but if it is development it should hold wwwdev mydomain com I found some librariesplugins like httpswww serverless compluginsserverlesspluginifelse but most of them are outdated Do you know a workaround to achieve this without installing plugins"
63022698,"Lambda function created by Serverless framework includes other folders from root","https://stackoverflow.com/questions/63022698/lambda-function-created-by-serverless-framework-includes-other-folders-from-root","{serverless-framework}","2020-07-21 20:35:37+03","2024-05-17 05:21:56.505077+03","Is there a way I can exclude the readme file and slstemplates which contains my other serverless code folder from getting uploaded to lambda I deployed using the serverless framework and it is kind of weird to see my other serverless templates files showing up Not a big deal though I am just worried about the size in case my Serverless code base expands "
63024267,"Unable to use ${cognito-identity.amazonaws.com:sub} in lambda policy with serverless and DynamoDB/Cognito/API Gateway","https://stackoverflow.com/questions/63024267/unable-to-use-cognito-identity-amazonaws-comsub-in-lambda-policy-with-server","{amazon-web-services,amazon-dynamodb,aws-api-gateway,amazon-cognito,serverless-framework}","2020-07-21 22:53:52+03","2024-05-17 05:21:57.358256+03","Objective The problem It does not appear that my policy is populating the cognito variable cognitoidentity amazonaws comsub If I manually specify dynamodbLeadingKeys with a value it works just fine So it appears I just need Cognito to populate the sub value in properly and I have looked everywhere and cannot find a solution My lambda Rolepolicy Modified the generated version from serverless to have a trust policy with Cognito and DynamoDB rules With a trust relationship Additional setup information I have tried just about everything to get the variable cognitoidentity amazonaws comsub in the policy but nothing seems to work Does anyone have an idea on how to fix this or what I could be missing I will update with more information if I missed anything critical Thanks Edit Additional information My login function lambda HTTP API is below where I authorizeUser via userpassword then call CognitoIdentityCredentials to register my identity and get my identityId from the pool I verified I am registering as the identity pool shows the user My login call then responds with with the accessToken idToken identityId All my other API calls use the idToken in a Bearer Authorization call which authorizes me however it appears that my Authorized role for my identity pool is not assumed and it is using my lambda role for execution What am I missing here I thought Cognito would handle the assumed role of the Authenticated Identity pool but it appears that the entire Any help is appreciated My request context from my login function note the identity object is full of null values My login function"
63037592,"How set ""Stack creation options"" with serverless?","https://stackoverflow.com/questions/63037592/how-set-stack-creation-options-with-serverless","{javascript,node.js,yaml,aws-cloudformation,serverless-framework}","2020-07-22 15:16:12+03","2024-05-17 05:21:58.95143+03","Cloudformation supports set Timeout via Stack creation options But where this section in serverless yml Any workarounds"
63045817,"Nest js packaging hangs at build process of the serverless framework","https://stackoverflow.com/questions/63045817/nest-js-packaging-hangs-at-build-process-of-the-serverless-framework","{nestjs,serverless-framework}","2020-07-23 02:13:02+03","2024-05-17 05:21:59.001464+03","So i did a fresh install of nestjs application and i am trying to add the serverless framework with it I also added few of the packages to support the serverless framework and i have also added the serverless yml file which is pointing in to lambda handler serverless yml file So the handler file is simple it just exported a module that can bootstrap the application but when i now try to do sls offline start the computer just hangs and nothing happen and i have to restart the computer forcefully Any help would be appreciated "
63058395,"Running serverless offline as integration tests on CI","https://stackoverflow.com/questions/63058395/running-serverless-offline-as-integration-tests-on-ci","{serverless-framework,serverless}","2020-07-23 15:59:09+03","2024-05-17 05:22:00.072331+03","Is it a good idea to run integration tests on my CI using serverless offline I am on AWS and I want to test the Lambda SQS integration My Lambda reads from an API Gateway which I know is emulated on the serverless offline An alternative is to spin up a new servererless function on AWS for every PR which is quite resource consuming"
63323334,"How can I know what s3 bucket serverless is using for deploying?","https://stackoverflow.com/questions/63323334/how-can-i-know-what-s3-bucket-serverless-is-using-for-deploying","{amazon-web-services,amazon-s3,serverless-framework,serverless}","2020-08-09 06:49:40+03","2024-05-17 05:22:00.382956+03","I am using sls deploy to deploy my infra to AWS I know it creates a s3 bucket to hold all deployment artifacts but I do not know the s3 bucket name it uses How can I know the bucket name I cannot find it in the cloudformation either "
63323500,"Why export s3 bucket name and arn use different syntax in serverless framework?","https://stackoverflow.com/questions/63323500/why-export-s3-bucket-name-and-arn-use-different-syntax-in-serverless-framework","{amazon-web-services,amazon-s3,serverless-framework}","2020-08-09 07:12:08+03","2024-05-17 05:22:01.158043+03","I have below configuration for serverless yml It creates a s3 bucket and exports its ARN and Name What I do not understand is why the bucket ARN value is get by FnGetAtt S3Bucket Arn but the bucket name is get by Ref S3Bucket What is the different between these two syntax"
63340608,"CDK synth not validating lambdas","https://stackoverflow.com/questions/63340608/cdk-synth-not-validating-lambdas","{amazon-web-services,serverless-framework,aws-cdk}","2020-08-10 12:52:50+03","2024-05-17 05:22:02.184036+03","I have a node CDK project with some python lambdas I have put some code into the handler of the lambda that i have specified in my stack this being the execute function I add some gibberish into the start of that function so it would fail or not be valid I type cdk synth this still generates a template should not this do some validation on the lambdas if not how do we validate these lambdas before deploying Thanks"
63351445,"How can I reference a stack output value in serverless?","https://stackoverflow.com/questions/63351445/how-can-i-reference-a-stack-output-value-in-serverless","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-08-11 04:19:52+03","2024-05-17 05:22:03.066956+03","I am using serverless deploy to create a stack in cloudformation for my application The stack includes a lambda layer which I can find it in the cloudformation Ouptputs tab It has a row with a key as CommonLambdaLayerQualifiedArn value is its ARN description and Export name are empty In another stack I am using below syntax to reference the lambda layer from the previous stack It works fine but I do not understand why it works without exporting the lambda layer in the previous stack Cloudformation support cross stack reference which is done by exporting a value But in above stack the Export name for the lambda layer is empty How come it works without a cross stack reference Is it a different way to import the reference"
63360409,"Lambda Event querystring parameters are undefined ? What needs to be configured?","https://stackoverflow.com/questions/63360409/lambda-event-querystring-parameters-are-undefined-what-needs-to-be-configured","{lambda,query-string,serverless-framework}","2020-08-11 14:33:54+03","2024-05-17 05:22:04.121057+03","Hi I have Lambda ApiGateway Endpoint for a GET Request I am making the GET Request with querystring parameters and it looks like this Here is how I made the call from client Whenever I call this endpoint I can not get the querystring parameters from the event This is the handler I am using Serverless Framework for deployment and this the function set up Anyway for deployed version of the Lambda I can not get the QueryString parameters from the event but I can get them when I run my service locally with serverlessoffline"
63362015,"Unable to query dynamodb GSI in lambda locally","https://stackoverflow.com/questions/63362015/unable-to-query-dynamodb-gsi-in-lambda-locally","{aws-lambda,amazon-dynamodb,serverless-framework,aws-amplify,aws-appsync}","2020-08-11 16:01:34+03","2024-05-17 05:22:05.175185+03","So I added a lambda function category using the amplify CLI in order to query data from the GSI Global secondary Index I created using the key directive in the graphql schema Whenever I try mocking the function locally using the amplify mock function functionName the callback function of the query keeps on returning null The function can be seen below I then tried to capture the whole event and logged it to the console as can be seen in the calculateStatistics function which now showed me a bit more explicit error as follows I then did more research and came across this thread about inaccessibledynamodbhostwhenrunningamplifymock which I followed and tried implementing to but to no avail Any help on this would be very much appreciated PS It is worth mentioning that I was able to successfully query for this data through the Appsync console which led me to strongly believe the problem lies in the function itself "
63370046,"cannot stat ‘env.yml’: No such file or directory - JENKINS","https://stackoverflow.com/questions/63370046/cannot-stat-env-yml-no-such-file-or-directory-jenkins","{jenkins,gitlab,jenkins-pipeline,serverless-framework,serverless}","2020-08-12 04:59:01+03","2024-05-17 05:22:05.843194+03","I have a codebase wherein I will use Serverless Framework to deploy resources and functions MY PROBLEM IS I CANNOT PUT THE ENV YML INSIDE THE REPO SINCE THERE ARE SENSITE DATA THERE With that being said I cannot deploy my resources and functionalities using JENKINS since Serverless needs the Env yml to deploy Can someone help me with this Thanks"
63403922,"Serverless Steps Functions: how to pass data from Lambda to ECS Fargate task","https://stackoverflow.com/questions/63403922/serverless-steps-functions-how-to-pass-data-from-lambda-to-ecs-fargate-task","{amazon-web-services,aws-lambda,serverless-framework,aws-fargate,aws-step-functions}","2020-08-13 22:13:47+03","2024-05-17 05:22:06.836331+03","I am trying to configure a simple multistep job using AWS Steps Functions with the Serverless Framework which involves as a first step a lambda generating json output and as a second step a Fargate Task which should receive the json as input Basically the lambda generates the following output I need to pass this output as input to the Fargate task as environment variable or any other method but I cannot understand which syntax should I use I have tried the following But in the container logs the environment variable LAMBDA_RESULT is simply set to payload meaning that the json path syntax is not resolved from the input I have also tried this and this No one worked Any working example on how to properly pass data from Lambda to Fargate task using Step Functions"
63409922,"How to pass and retrieve multiple parameters in lambda function?","https://stackoverflow.com/questions/63409922/how-to-pass-and-retrieve-multiple-parameters-in-lambda-function","{python,amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2020-08-14 09:12:50+03","2024-05-17 05:22:07.490474+03","I am currently developing a REST API using the serverless framework with python and dynamoDB I would like to know how I can pass and retrieve parameters in my lambda function My configuration on serverless xml looks like and I am trying to retrieve the parameters like this I followed the Custom Request Templates provided on the official documentation but I had no success until now Also in CloudWatch the following error is being showed"
63419422,"Is a single serverless yml enough for all lambda functions?","https://stackoverflow.com/questions/63419422/is-a-single-serverless-yml-enough-for-all-lambda-functions","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2020-08-14 20:09:29+03","2024-05-17 05:22:08.50782+03","I am new to serverless framework I used to create and write lambda codes through aws console But I am little bit confused about the serverless framework structure Should I need to create a serverless yml for each lambda function Or I can use a single yml file for my whole aws lambda functions I do not know which is the best way to start because each api gateway end point will point to different lambda functions Please suggest the best way to start "
63440238,"Lambda and DynamoDB: is not authorized to perform: dynamodb:UpdateItem. User has administrator access","https://stackoverflow.com/questions/63440238/lambda-and-dynamodb-is-not-authorized-to-perform-dynamodbupdateitem-user-has","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework,serverless}","2020-08-16 17:56:41+03","2024-05-17 05:22:09.575941+03","The user has AdminitratorAccess I am able to create and read the data from the dynamoDB I am using serverless tool and using awsgomod template Here is the serverless yml Thank you "
63442065,"Apply ACL to deployment bucket as resource","https://stackoverflow.com/questions/63442065/apply-acl-to-deployment-bucket-as-resource","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-08-16 21:22:50+03","2024-05-17 05:22:10.710774+03","I want to have ACL as a resource and reference the resource to any buckets as I please Bellow snippet of code would apply a policy to the deployment bucket using serverless framework and serverlessdeploymentbucket plug in The code in deploymentbucket yml looks like this The error An error occurred ServerlessDeploymentBucket bucketname already exists The error is quite descriptive so I assume I would need to find a way to apply the ACL resource to the bucket I have tried this and removing the BucketName key No success Update This should solve the ACL problem httpswww serverless compluginsserverlessdefaultawsresourceproperties"
63452092,"What's the difference between the provider level role and iamRoleStatements in a serverless template?","https://stackoverflow.com/questions/63452092/whats-the-difference-between-the-provider-level-role-and-iamrolestatements-in-a","{serverless-framework}","2020-08-17 13:42:35+03","2024-05-17 05:22:11.657514+03","These are two properties you can set in a template and I am curious how they differ and which one I should use The definitions do not make it clear role arnawsiamXXXXXXrolerole Overwrite the default IAM role which is used for all functions iamRoleStatements IAM role statements so that services can be accessed in the AWS account Can someone explain how they differ along with use cases for both I am not sure if I should just make a new provider level role with all resources the application needs and assign the role paramater to it or if I should just keep the default role serverless makes and add my own policies to the iamRoleStatements"
63641425,"Can I deploy an entire node_modules folder as a lambda layer?","https://stackoverflow.com/questions/63641425/can-i-deploy-an-entire-node-modules-folder-as-a-lambda-layer","{serverless-framework,serverless}","2020-08-28 22:07:27+03","2024-05-17 05:22:27.288017+03","My serverless project has a single node_modules folder shared by all functions I would like to deploy this entire folder as a layer I have tried putting this in serverless yml This does not work because I end up with two empty deployment packages one for the functions and the other for the dependencies What would be the best way to do this"
63456912,"Error in Yaml file while trying to create multiple s3 buckets in Serverless Framework for AWS Lambda Function","https://stackoverflow.com/questions/63456912/error-in-yaml-file-while-trying-to-create-multiple-s3-buckets-in-serverless-fram","{amazon-s3,aws-lambda,yaml,aws-cloudformation,serverless-framework}","2020-08-17 18:47:03+03","2024-05-17 05:22:12.569358+03","So I am pretty new to CloudFormation and also to Serverless framework I have been trying to work through some exercises such as an automatic thumbnail generator and then create some simple projects that I can hopefully generalize for my own purposes Right now I am attempting create a stackfunction that creates two S3 buckets and has the Lambda Function take a CSV file form one perform some simple transformations and place it in the other receiving bucket In trying to build off the exercise I have done I created a Yaml file with the following code However when i do a Serverless deploy from my command prompt I get I have tried to make the events object in the protohandlerreadcsv by adding a but I then get a bad indentation error that for some reason I cannot reconcile But more fundamentally I am not exactly sure why that item would need be an array anyway and I was not clear about the warnings with the buckets either So sorry about a pretty newbie question about this but running tutorialsexamples online leaves a lot to try to figure out in trying to generalizecustomize these examples "
63504680,"How to setup RDS proxy to lambda in serverless framework","https://stackoverflow.com/questions/63504680/how-to-setup-rds-proxy-to-lambda-in-serverless-framework","{serverless-framework,amazon-rds-proxy}","2020-08-20 12:04:08+03","2024-05-17 05:22:14.169971+03","I have already created the RDS proxy and wanted to attach something like this Or any cloudformation syntax which I can extend in Resources section "
63501703,"Invalid resource configuration error while creating AWS IoT Certificate using serverless framework","https://stackoverflow.com/questions/63501703/invalid-resource-configuration-error-while-creating-aws-iot-certificate-using-se","{aws-cloudformation,serverless-framework,aws-iot}","2020-08-20 09:00:23+03","2024-05-17 05:22:14.309868+03","I am trying to create an AWS IoT Thing using Serverless Framework Following is my YAML file for the same I am getting Error occurred during operation Invalid certificate resource configuration Any clue what the issue can be"
63508776,"How can I copy files from S3 to EFS using AWS batch?","https://stackoverflow.com/questions/63508776/how-can-i-copy-files-from-s3-to-efs-using-aws-batch","{node.js,amazon-web-services,docker,amazon-ecs,serverless-framework}","2020-08-20 15:50:22+03","2024-05-17 05:22:14.834873+03","Also I have created a docker image to run this This is the code which I want to run on the ec2 instance where i would like to mount the filesystem which is already created What should be the approach so that I can get the mount location I am new to aws and I am getting confused while using ecs and ecs task defination Serverless framework approach would be preferred if possible Any help would be great Thanks in advance"
63508975,"Serverless: Importing file to custom + other variables","https://stackoverflow.com/questions/63508975/serverless-importing-file-to-custom-other-variables","{serverless-framework,serverless}","2020-08-20 16:01:18+03","2024-05-17 05:22:16.032184+03","I have a serverless common yml with properties that should be shared by all the services with that And another serverless yml inside a services folder which uses properties on the common file In that way I can access the custom variables from the common file without a problem Now I want to continue to import this file to custom but adding new variables related to this service to it so I tried that And it seems it is possible to access for example But now I am receiving the error What am I doing wrong"
63510218,"Custom Domain not working for serverless app","https://stackoverflow.com/questions/63510218/custom-domain-not-working-for-serverless-app","{aws-api-gateway,serverless-framework,serverless,aws-serverless}","2020-08-20 17:22:02+03","2024-05-17 05:22:16.841113+03","I am trying to deploy my express application which does serverside rendering for my react app using Serverless Framework When I deploy it it gives me a random generated url and it loads my app although none of the static files load So I am trying to use a custom domain using serverlessdomainmanager But I cannot get it to work My DNS records are in Cloudflare so I created certificates in AWS Certificate Manager and succesfully connected it to my cloudflare records I have also created a Hosted Zone for my domain My serverless yml file is like this I deployed it I ran sls create_domain and I can see my custom domain created in API Gateway and it is mapped to my lambda function But when I go to my domain nothing loads however they random url generated by serverless loads the app Any idea how I can figure out what is wrong Here is the image of it deploying successfully"
63511383,"Unrecognized Resource Types","https://stackoverflow.com/questions/63511383/unrecognized-resource-types","{aws-cloudformation,amazon-rds,serverless-framework}","2020-08-20 18:43:08+03","2024-05-17 05:22:17.864092+03","I am trying to understand how Serverless works I have gone through a lot of their docs tutorials however when I get to the part where I want to build something specific like an RDS instance I have no frame of reference for what the MVP will look like I found this QA post that showed what looked to be the basics for standing up an RDS instance I swapped out the region for a more local one then tried it out When I attempt to deploy this with Serverless I get the following error The CloudFormation template is invalid Template format error Unrecognized resource types [AWSEC2VPC AWSRDSDBInstance] I can see that these resources exist on AWS So what does this error mean What Am I doing wrong"
63518859,"Cannot invoke a locally running lambda from another locally running application","https://stackoverflow.com/questions/63518859/cannot-invoke-a-locally-running-lambda-from-another-locally-running-application","{amazon-web-services,aws-lambda,serverless-framework,serverless,serverless-framework-offline}","2020-08-21 07:59:32+03","2024-05-17 05:22:18.684846+03","I have a sails js backend application and a serverless lambda function Both are running in the local machine for development purposes I want to invoke the local running lambda function from the sails js application I can use awssdk in the sails application but could it work Is there any way that I can invoke the local lambda from another locally running application"
63650032,"What loader does googleapi need?","https://stackoverflow.com/questions/63650032/what-loader-does-googleapi-need","{webpack,google-api,serverless-framework}","2020-08-29 17:45:50+03","2024-05-17 05:22:27.942199+03","I am writing a serverless application using googleapi When I try to build the project using serverless deploy the following error appeared Note before adding the apigoogle js file my project build properly What was the root cause for this error"
63981054,"MongoDB return an empty array in nodeJS Serverless App","https://stackoverflow.com/questions/63981054/mongodb-return-an-empty-array-in-nodejs-serverless-app","{node.js,mongodb,aws-lambda,serverless-framework,serverless}","2020-09-20 16:12:50+03","2024-05-17 05:22:36.400106+03","I am trying to retrieve the terms of services for an application using the appId passed as a parameter in the URL URL should be apps appsId tos With the code below I get the appId via the url parameters and I search in mongos request for the corresponding id However when I test with postman I result in an empty array Can someone help me getAppTos lib getAppTos handler serverless yml Example of a document in my collection termsOfServices "
63530643,"Serverless AWS stack - need to ApiGatewayRestApi in stack with IAM roles, with no Lambdas or HTTP endpoints?","https://stackoverflow.com/questions/63530643/serverless-aws-stack-need-to-apigatewayrestapi-in-stack-with-iam-roles-with-n","{aws-lambda,aws-cloudformation,aws-api-gateway,serverless-framework,aws-serverless}","2020-08-21 22:11:12+03","2024-05-17 05:22:19.149357+03","I currently have a stack deployed to AWS which has a lot of REST endpoints Lambda functions some other Lambdas for maintenance operations and a DynamoDB Cognito User Pool Elastic Search Domain IAM roles etc It is all deployed with the serverless framework using serverless yml for defining the stack In order to avoid the 200 resources limit and get a better structure I am trying to split the current stack into multiple stacks The plan is to keep the current stack for all the resources with persisted data DynamoDB Elastic Search Cognito IAM etc and then define new stacks for the lambda functions One for the maintenance functions and a couple of other stacks for different types for functions invoked by HTTP through API Gateway Now to the problem I have commented out the entire functions section of serverless yml I have a section containing the resources which looks like this When I try do deploy the stack now with all functions commented out I get this error Error The CloudFormation template is invalid Template format error Unresolved resource dependencies [ApiGatewayRestApi] in the Resources block of the template The reason that I get this error is probably because I have a reference to ApiGatewayRestApi in resourcesiam yml I understand that the ApiGatewayRestApi reference does not resolve when I have removed all functions triggered by HTTP since there is no API Gateway being deployed in this stack I will have the HTTP lambda functions in a couple of other stacks but these stacks will depend on this one And I sure do not want circular dependencies So how do I make it possible for my main stack to have a reference to the API Gateway used by the substacks What is the commonbest practice way to solve this problem"
63537929,"How to know that the signed URL for s3 put-object request was used and file was uploaded completely?","https://stackoverflow.com/questions/63537929/how-to-know-that-the-signed-url-for-s3-put-object-request-was-used-and-file-was","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,serverless}","2020-08-22 15:30:17+03","2024-05-17 05:22:19.928308+03","I am developing a web application where the user uploads a file into s3 by For step three I need to know whether the user has uploaded the file completely into the s3 bucket for that given signed URL so that I can store that URL in my MySQL database for that particular user "
63557690,"unzip requirements when invoke aws lambda","https://stackoverflow.com/questions/63557690/unzip-requirements-when-invoke-aws-lambda","{aws-lambda,boto3,serverless-framework}","2020-08-24 08:52:24+03","2024-05-17 05:22:21.182124+03","I am trying to invoke aws lambda from another aws lambda using boto3 in python in order to construct the first lambda I used serverless framework with custom ziptrue when I invoke I get the massage errorMessage Unable to import module handler No module named joblib errorType Runtime ImportModuleError how can I unzip the first lambda requirements Thanks for your help"
63565333,"Retag existing AWS resources using serverless","https://stackoverflow.com/questions/63565333/retag-existing-aws-resources-using-serverless","{amazon-web-services,aws-lambda,serverless-framework,tagging,aws-serverless}","2020-08-24 16:48:39+03","2024-05-17 05:22:21.923793+03","Here is the thing I have a serverless project that creates many AWS resources Lambdas API Gateway etc now I need to change the tags I used a couple of months ago but when I try to run the serverless I see this message A version for this Lambda function exists 6 Modify the function to create a new version I have been reading and applying a couple of different workarounds but same issue Does any body have seen this behavior Is there a way to retag all resources withouth delete the whole stack or doing that manually Thanks for your recommendations "
63581767,"serverless trigger for existing S3 fails with overlapping suffixes","https://stackoverflow.com/questions/63581767/serverless-trigger-for-existing-s3-fails-with-overlapping-suffixes","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,aws-serverless}","2020-08-25 15:04:38+03","2024-05-17 05:22:22.763389+03","Following S3 Simple event definition I have created serverless deployment But at the time of deployment I am getting following error any idea what I am missing here Also what I supposed to use here event s3ObjectCreated If I want triggers only for S3 PUT events I tried event s3ObjectCreatedByPut which gave me"
63590044,"Serverless Framework creating extra characters for S3 Bucket from CloudFormation Template","https://stackoverflow.com/questions/63590044/serverless-framework-creating-extra-characters-for-s3-bucket-from-cloudformation","{amazon-s3,aws-lambda,yaml,aws-cloudformation,serverless-framework}","2020-08-26 03:26:38+03","2024-05-17 05:22:23.805976+03","So i am guessing there is probably a straight forward answer to this hoping but I am attempting to create a AWS Lambda function that processes csv files and places the processed files in different s3 buckets depending on what is being transformed and generated In doing this I am using Serverless Framework and CloudFormation but am noticing that the when the buckets are being created they have extraneous values attached to them along with the service name For instance Bucket newprocess2devcompanyprocessedsalestotal08252jdgsd2ljyqpx was really meant to just be companyprocessedsalestotal08252 The Yaml file is down bellow and I used the CloudFormation resources to generate the other buckets How do I solve this naming convetion"
63610620,"DynamoDb scan returning get, set and Observer?","https://stackoverflow.com/questions/63610620/dynamodb-scan-returning-get-set-and-observer","{amazon-web-services,amazon-dynamodb,serverless-framework}","2020-08-27 06:52:04+03","2024-05-17 05:22:24.59198+03","Items are the data I needed but all these gets and sets where are they coming from I doublecheck my dynamo DB there are no such columns I am using aws API gateway to handle my request Should I just ignore this My front end is using vue js along with serverless and was service Thanks in advance "
63614466,"AWS Aurora serverless mysql, Cognito, Lambda, API gateway, CloudFormation starter","https://stackoverflow.com/questions/63614466/aws-aurora-serverless-mysql-cognito-lambda-api-gateway-cloudformation-starte","{amazon-web-services,aws-lambda,amazon-cognito,serverless-framework,aws-aurora-serverless}","2020-08-27 10:52:21+03","2024-05-17 05:22:25.481032+03","I was hoping to find a clear guide or an example on how to setup a serverless backend with the following technologies Unfortunately so far most of the resources I have come across have been either simplistic or ambiguous And the ones that were not were focused on using just DyanmoDB I was hoping to find a starter project with all the above technologies especially Aurora serverless and NOT DynamoDB Please share if you know "
63622377,"Serverless - AWS S3 Bucket already exists","https://stackoverflow.com/questions/63622377/serverless-aws-s3-bucket-already-exists","{yaml,aws-cloudformation,serverless-framework,aws-serverless}","2020-08-27 18:44:35+03","2024-05-17 05:22:26.686832+03","I am building my first sls app and I am trying to create two buckets The LogosBucket works perfectly I did the same process to create a second one called DocumentsBucket and it fails w message An error occurred DocumentsBucket documentsbucketdev already exists I have looked at the Stack and it is not listed under resources I am aware of this issue happening w bucket events but I do not think that is my case It feels like a very simple oversight but I am a bit lost Here is my serverless yml file DocumentsBucketIAM yml LogosBucketIAM yml DocumentsBucket yml LogosBucket yml I would appreciate any help andor tips to debug sls Thank you "
63651502,"How can I create api gateways using boto3 and proxy requests to it from base flask-serverless api?","https://stackoverflow.com/questions/63651502/how-can-i-create-api-gateways-using-boto3-and-proxy-requests-to-it-from-base-fla","{flask,swagger,aws-api-gateway,boto3,serverless-framework}","2020-08-29 20:29:31+03","2024-05-17 05:22:28.950988+03","I would like to use flask application as a lambda function and serverless framework to deploy it on AWS platform I would like to know how can I create REST API on API GATEWAY service from swagger file using boto3 and make proxy request to that newly created api So main goal is to have flask lambda function as shown in example belove deployed using serverless framework and it is gateway used as a starting point Then it shoud be able to recieve POST request on create path to create new API on API GATEWAY from swagger file GET request on api api to acces previously created API with POST request Further explanation Let us say starting api on api gateway is test com deployed with serverless framework and flask lambda function as described before Sending swagger file swaggerpets yaml full file shown belove through POST request on create route shoud create api on api gateway called petstore That petstore API should now be able to be called and used as GET test comapipetstorepet petID returns pet with passed ID POST test comapipetstorepet adds a new pet etc same as sample swagger petstore server httpseditor swagger io I managed to create import API from example swagger file using only boto3 import_rest_api method to api gateway but it only added resources paths on api gateway and I do not know how to use it Flask code should look something like this Serverless framework code example Swagger file example"
63661550,"providing array of objects (or mapping of sequences) in a yaml file as IAM role definition errors out","https://stackoverflow.com/questions/63661550/providing-array-of-objects-or-mapping-of-sequences-in-a-yaml-file-as-iam-role","{amazon-web-services,yaml,amazon-iam,serverless-framework}","2020-08-30 19:51:25+03","2024-05-17 05:22:29.630981+03","I am using serverless framework to define a new Lambda in an existing stack To keep with the least privileges principal and my main serevrless yml file cleaner I am trying to provide the permissions in a separate yaml file for each function with the serverlessiamrolesperfunction plugin This worked well up until now when each function required some actions on a single resource But now I am trying to provide a function with permissions to SQS and SES and I am getting the following error when trying to deploy iamRoleStatements should be an array of objects where each object has Effect Action NotAction Resource NotResource fields Specifically statement 0 is missing the following properties Effect Action NotAction Resource NotResource serverless yml sendSupportMessageIAM yml"
63920446,"Serverless API Gateway Logging","https://stackoverflow.com/questions/63920446/serverless-api-gateway-logging","{serverless-framework,aws-serverless}","2020-09-16 12:50:09+03","2024-05-17 05:22:30.54796+03","To anyone who can help I am trying to get serverless aws API gateway logs to work but no joy I have multiple endpoint and when i deploy the code the log groups in cloudwatch for each endpoint is created but not logs or log streams are created when i query the endpoints Code below for one endpoint where the logging is defined I have noticed that under the stages in the aws api gateway logstracing doesnt have enable cloudwatch logs clicked When i manually click on this logging then works but to a generic cloudwatch log group "
63933864,"Buildspec.yaml for serverless framework in aws code pipleline","https://stackoverflow.com/questions/63933864/buildspec-yaml-for-serverless-framework-in-aws-code-pipleline","{amazon-web-services,serverless-framework,aws-codepipeline,aws-code-deploy,aws-codebuild}","2020-09-17 08:09:19+03","2024-05-17 05:22:31.293356+03","I am trying my hands on CICD pipeline for serverless framework I had done a similar thing for SAM framework and had got it working SAM framework has two steps of package and deploy deploy is handled by cloudformation actions But I am not so sure how serverless should work I know serverless had only deploy stage and no package and all I do not know how deployment is handled here in CICD for serverless which is giving error at serverless deploy command Here is my buildspec yaml file which is trying to deploy this template Could anyone help me out with the build and deploy part of this"
63937962,"How to do cross-application with serverless AWS","https://stackoverflow.com/questions/63937962/how-to-do-cross-application-with-serverless-aws","{node.js,amazon-web-services,amazon-cloudfront,serverless-framework,aws-serverless}","2020-09-17 12:23:32+03","2024-05-17 05:22:32.351703+03","I have two different applications in AWS deployed by two serverless config files In the first one I need to read the data from the DynamoDB of the second one serverless yml n1 serverless yml n2 If I put the 2 services in same app I can access to the 2nd one with a line like this in iamRoleStatements But if they are not in the same app I have Service not found error when I try to deploy How can I do this crossapplication communication Thanks"
63939160,"serverless aws python lambda unable to import module from parent directory","https://stackoverflow.com/questions/63939160/serverless-aws-python-lambda-unable-to-import-module-from-parent-directory","{python,aws-lambda,serverless-framework}","2020-09-17 13:30:04+03","2024-05-17 05:22:33.362108+03","I have following structure I am trying to import utils inside handler py I tried giving like also tried adding and but nothing working I am using serverless framework not manually uploading the zip file Tried alot but nothing working Any help highly appreciated Thanks"
63978535,"How to make a lambda listen on multiple log groups of cloudwatch?","https://stackoverflow.com/questions/63978535/how-to-make-a-lambda-listen-on-multiple-log-groups-of-cloudwatch","{amazon-web-services,aws-lambda,amazon-cloudwatch,serverless-framework}","2020-09-20 11:34:14+03","2024-05-17 05:22:34.447852+03","I have a lambda that process logs from a cloudwatch log group It saves log to Elasticsearch cluster I am using serverless to configure the log group streaming to lambda httpswww serverless comframeworkdocsprovidersawseventscloudwatchlog However it only supports listen on one log group How can I make my lambda listen on multiple log groups I would like to use the pattern like In above example I would like my lambda to be triggered whenever there is log sent to the log group with the name start withs awslambdahello In this way it will save all logs to Elasticsearch for analysis I cannot add a wildcard on the log group I will get this error if I add a "
63978655,"Serverless-framework & next.js lambda function exceeds unpacked size limit","https://stackoverflow.com/questions/63978655/serverless-framework-next-js-lambda-function-exceeds-unpacked-size-limit","{webpack,aws-lambda,next.js,server-side-rendering,serverless-framework}","2020-09-20 11:47:38+03","2024-05-17 05:22:35.547884+03","I am trying to figure out how to reduce the package size of a ssr application next js serverlessframework to get it under 250MB AWS limit An error occurred ServerLambdaFunction Unzipped size must be smaller than 262144000 bytes Service AWSLambdaInternal Status Code 400 The app is deployed by running next build sls deploy The unpacked archive is 600MB more than double of 250MB that AWS allows for lambda Below is the list of largest dependencies in node_modules I can see that i can reduce it marginally by moving several to dev dependencies but that will not solve the problem I would appreciate if someone could point me to the right direction Heres my package json my serverless yml is Thank you "
63994864,"Error deploying Python package to AWS lambda using Serverless framework","https://stackoverflow.com/questions/63994864/error-deploying-python-package-to-aws-lambda-using-serverless-framework","{python,amazon-web-services,serverless-framework}","2020-09-21 14:57:16+03","2024-05-17 05:22:37.38011+03","I have followed this tutorial from the serverless website to try deploy my first AWS lambda function with a package dependency The error I get is STDERR ERROR Invalid requirement from line 1 of vartaskrequirements txt I have not been able to find a solution on using google Having tried to go through the tutorial various times the same error keeps reoccurring sometimes as ERROR Invalid requirement \x00 or ERROR Invalid requirement \x00\x01 or something similar It seems to me that the serverlesspythonrequirements plugin is formatting it is own requirement file incorrectly but I just do not know My requirements txtwhen I have no dependencies is empty which then translates to a serverless generated serverless\requirements txt When my requirements txt is numpy1 19 2 this translates to a serverlessrequirements txt as follows n u m p y 1 1 9 2 I have gone through each step of the tutorial and have not run into any problems until I run serverless deploy This is the stack trace I get"
64003575,"Fastify with AWS Lambda","https://stackoverflow.com/questions/64003575/fastify-with-aws-lambda","{node.js,aws-lambda,aws-api-gateway,serverless-framework,fastify}","2020-09-22 05:29:52+03","2024-05-17 05:22:38.233891+03","I trying to get working Node JS API made on fastify running as AWS Lambda with help from awslambdafastify I got to the point when I can do things inside routes like connect to my database etc However when I get to res send strange things happen My lambda is just the basic example the fastify lambda package To debug what is happening I added some console statements in one of my routes like In CloudWatch I see When I hit that endpoint via API Gateway I get a 502 error All other routes have the same problem I deploy using serverless Have one route with a wildcard pointing to one lambda handler like I also have a resources file apigatewayerrors yml which I maybe do not even need The same code [minus the aws lambda proxy] is working fine running inside Docker and physicalvirtual hosts "
64005368,"ServerlessError: Serverless plugin ""sls"" not found","https://stackoverflow.com/questions/64005368/serverlesserror-serverless-plugin-sls-not-found","{serverless-framework,aws-serverless,aws-sdk-nodejs}","2020-09-22 07:54:34+03","2024-05-17 05:22:39.164063+03","i am trying to use serverless for the first time and although I think I have followed the docs etc I am getting a weird error I have installed serverless and a few functions As you can see I am invoking sls and its running I have exported SLS_DEBUG sls to get some debug sls reports this as the environment my serverless yml is What do I have to do to install sls even though it looks like it is installed UPDATE I got it working thanks David Webster It was this SO Fixing npm path in Windows 8 and 10 That finally solved it For anybody else There were 2 directories that needed to be added to my path"
64026416,"Bitbucket pipleline python3.7 not found! Try the pythonBin option","https://stackoverflow.com/questions/64026416/bitbucket-pipleline-python3-7-not-found-try-the-pythonbin-option","{python,aws-lambda,serverless-framework,bitbucket-pipelines}","2020-09-23 10:55:50+03","2024-05-17 05:22:40.231287+03","I have below bitbucket pipeline Throwing error I am not able to get this error as I am new in python any help highly appreciated Thanks"
64026784,"How to add and execute my own lambda function within the serverless-framework?","https://stackoverflow.com/questions/64026784/how-to-add-and-execute-my-own-lambda-function-within-the-serverless-framework","{javascript,reactjs,aws-lambda,serverless-framework,aws-serverless}","2020-09-23 11:17:41+03","2024-05-17 05:22:40.591822+03","How do I add my own lambda without going to AWS console manually and most importantly how do I call it from my React app Currently if I want to execute my own lambda function I go to AWS console and create it there manually Clearly there is a way to do this locally in VS Code since serverlessframework has created its functions already using the fullstackapp deployment This is my current Lambda function send an email from contact form using Amazon SES created in AWS using console I have created a REST API for it in AWS and I call it from my React app with axios My goal is to not create the lambda function manually in AWS console but write it locally using serverlessframework architecture and find a way to call it I have looked everywhere but I feel like I have missed something very important during my learning about serverlessframework architecture "
64048687,"Why does Serverless produce an Invalid Cross-device link Error when trying to package or deploy?","https://stackoverflow.com/questions/64048687/why-does-serverless-produce-an-invalid-cross-device-link-error-when-trying-to-pa","{python,aws-lambda,serverless-framework,serverless}","2020-09-24 14:32:14+03","2024-05-17 05:22:41.481652+03","When running either command sudo serverless package or sudo serverless deploy Error ERROR Exception Traceback most recent call last File varlanglibpython3 6shutil py line 550 in move os rename src real_dst OSError [Errno 18] Invalid crossdevice link tmppiptargetwqc5grcwlibpythonsetuptools vartasksetuptools During handling of the above exception another exception occurred Traceback most recent call last File varlanglibpython3 6sitepackagespip_internalclibase_command py line 228 in _main status self run options args File varlanglibpython3 6sitepackagespip_internalclireq_command py line 182 in wrapper return func self options args File varlanglibpython3 6sitepackagespip_internalcommandsinstall py line 456 in run options target_dir target_temp_dir options upgrade File varlanglibpython3 6sitepackagespip_internalcommandsinstall py line 514 in _handle_target_dir target_item_dir File varlanglibpython3 6shutil py line 561 in move symlinksTrue File varlanglibpython3 6shutil py line 321 in copytree os makedirs dst File varlanglibpython3 6os py line 220 in makedirs mkdir name mode PermissionError [Errno 13] Permission denied vartasksetuptools Ive created several different projects and they work locally but they never progress beyond this invalid crosslink device Error when trying to deploy or package What are my options"
64060415,"How to configure serverless framework HttpApi Authorizer for custom lambda authorizer","https://stackoverflow.com/questions/64060415/how-to-configure-serverless-framework-httpapi-authorizer-for-custom-lambda-autho","{serverless-framework,serverless}","2020-09-25 08:18:10+03","2024-05-17 05:22:42.610238+03","In the documentation there is information on how to configure authorizers such as Cognito httpswww serverless comframeworkdocsprovidersawseventshttpapijwtauthorizers And here is a copy of it Does anyone know how to configure for custom lambda jwt authorizer I have coded myself"
64074827,"Serverless Configuration warning at 'functions.app.events[0]': unsupported function event","https://stackoverflow.com/questions/64074827/serverless-configuration-warning-at-functions-app-events0-unsupported-funct","{aws-api-gateway,serverless-framework}","2020-09-26 07:01:34+03","2024-05-17 05:22:43.483273+03","I am trying to deploy an AWS API with serverless com When I do I get the following warning My serverless yml contains the section What is wrong with the events section"
64076019,"AWS Lambda: Remove unused libraries for Tensorflow 2 inference","https://stackoverflow.com/questions/64076019/aws-lambda-remove-unused-libraries-for-tensorflow-2-inference","{python-3.x,tensorflow,aws-lambda,serverless-framework}","2020-09-26 09:32:20+03","2024-05-17 05:22:44.587856+03","I am trying to deploy a Lambda function on AWS through Serverless that requires Tensorflow 2 Pandas and Numpy I would like to remove from the serverless yml file the Tensorflow libraries not required for inference as briefly done in the following sections Within my handler py script the only Tensorflowbased lines are the following However whenever I try to deploy the service using sls deploy it raises an error due to file size Which sublibraries slimPatterns and whole packages noDeploy can I further exclude from the deployment package to reduce its size"
64076430,"How can I add cloudwatch permission to invoke lambda in serverless.yml?","https://stackoverflow.com/questions/64076430/how-can-i-add-cloudwatch-permission-to-invoke-lambda-in-serverless-yml","{amazon-web-services,aws-lambda,serverless-framework}","2020-09-26 10:18:42+03","2024-05-17 05:22:45.299951+03","I am using serverless to deploy a lambda and I would like to invoke this lambda from cloudwatch event Below is my configuration The lambda is to be invoked whenever there is a new log group is created But I got an error on the lambda that it needs grant cloudwatch permission to invoke the lambda How can I add that permission in serverless yml I know I can add that by running this command I know how to create IAM role in serverless yml but I do not know how to attach the role to cloudwatch "
64117950,"How to use serverless-openapi-documentation with serverless Typescript template?","https://stackoverflow.com/questions/64117950/how-to-use-serverless-openapi-documentation-with-serverless-typescript-template","{typescript,serverless-framework,serverless,openapi,aws-serverless}","2020-09-29 10:41:19+03","2024-05-17 05:22:46.044555+03","The issue is the following I aim to document a AWS serverless API using Serverless framework with the open API plugin for API documentation The issue I am facing is that the Serverless configuration created on serverless ts file do not have a documentation field it only has this definition Steps to reproduce the issue Create Serverless project with Typescript template sls create t awsnodejstypescript path testName n appName Add openapi plugin Replace functions section on serverless ts with this An error on the documentation line such as this will appear Type http method string path string documentation summary string is not assignable to type Event Object literal may only specify known properties and documentation does not exist in type Event However if instead of using the typescript template i e awsnodejstypescript we use yml template i e awspython the documentation key can be added and the open API plugin works properly Does it means Open API plugin do not support Typescript yet or rather I am missing any configuration Thanks "
64122628,"Change region using npx serverless to deploy on AWS CloudFront","https://stackoverflow.com/questions/64122628/change-region-using-npx-serverless-to-deploy-on-aws-cloudfront","{amazon-web-services,amazon-s3,amazon-cloudfront,serverless-framework}","2020-09-29 15:19:14+03","2024-05-17 05:22:47.234993+03","I uploaded to AWS CloudFront my Next JS app with the following commands Creating my Nextjs app npx createnextapp Create a serverless app with npx serverless using awsnodejs template npx serverless create template awsnodejs Updated my serveless yml defining as serveless next component Finally deploying my app in CloudFront npx serverless This work fine Only a doubt my Cloud front distribution has as origin S3 located as default in useast1 how can I change the origin S3 region I need it will be in eucentral1 Is it possible to change the S3 region on deployment"
64124942,"Serverless framework WarmUp plugin not being called","https://stackoverflow.com/questions/64124942/serverless-framework-warmup-plugin-not-being-called","{aws-lambda,serverless-framework,serverless}","2020-09-29 17:48:21+03","2024-05-17 05:22:47.949108+03","I tried to integrate the WarmUp serverless plugin into my project However I believe that it is not working I see no invocations from WarmUp in the lambdas CloudWatch log group and lambda does need warmup time after being idle for a bit My configuration is below The lambda code Is there something that I could check Any suggestionsdirections are greatly appreciated Thank you"
64127315,"Serverless express app terminates before logic within route has completed","https://stackoverflow.com/questions/64127315/serverless-express-app-terminates-before-logic-within-route-has-completed","{express,serverless-framework}","2020-09-29 20:39:19+03","2024-05-17 05:22:48.726786+03","I have a simple Express app hosted on AWS using the Serverless framework I am using serverlesshttp to wrap the express app for deployment to an AWS lambda function and expressasyncawait to allow the use of async functions for routes For one of my routes I want to return a page to the user then continue performing various async tasks Here is an abbreviated version of my code However from inspecting the logs I can see that the tasks that follow the response render stop midway The lambda returns without an error no timeouts but the tasks are stopped Moving response render to the end of the route means that the async tasks are executed however the user sees a spinner rather than a rendered HTML holding pages From reading around I have found numerous references that indicate Express is more than happy to continue execution after a response has been returned Any ideas what is going wrong in my case"
64150992,"How can I set default authorizer for all function in serverless.yml","https://stackoverflow.com/questions/64150992/how-can-i-set-default-authorizer-for-all-function-in-serverless-yml","{lambda,serverless-framework,aws-policies}","2020-10-01 07:40:47+03","2024-05-17 05:22:49.827018+03","I have a problem with policy size of jwt authorizer lambda function so I want to reduce policy size by config serverless yml file to generate policy using wildcard instead Can I set global authorizer for all functions in serverless yml Here is my example of Resourcebased policy I want to change it like this Example of serverless yml file I set authorizer for each function I want to change it to global one "
64206992,"Serverless | How to connect a Lambda function as trigger to a DynamoDB table","https://stackoverflow.com/questions/64206992/serverless-how-to-connect-a-lambda-function-as-trigger-to-a-dynamodb-table","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2020-10-05 10:38:16+03","2024-05-17 05:22:50.958713+03","I am trying to connect a Lambda function as a trigger for a DynamoDB table In my serverless yml file I have defined a Lambda function and a DynamoDB table Question How can I attach the Lambda function as a trigger to the DynamoDB My serverless yaml simplified "
64210070,"TypeError: ctx.sls.service.package.include.push is not a function","https://stackoverflow.com/questions/64210070/typeerror-ctx-sls-service-package-include-push-is-not-a-function","{yaml,serverless-framework,serverless}","2020-10-05 13:54:33+03","2024-05-17 05:22:51.724502+03","I am trying to include static files with my lambda function I am receiving the this error when trying to deploy TypeError ctx sls service package include push is not a function This is the relevant part of my serverless yml "
64229859,"Task Scheduling / CRON Jobs on NestJS + Serverless / Lambda","https://stackoverflow.com/questions/64229859/task-scheduling-cron-jobs-on-nestjs-serverless-lambda","{aws-lambda,nestjs,serverless-framework,serverless,node-cron}","2020-10-06 16:18:08+03","2024-05-17 05:22:52.601816+03","We are looking to deploy a NestJS application using Express to AWS Lambda or similar using the Serverless framework or similar How should we handle scheduled tasks cron jobs I notice in the NestJS documentation that NestJS has an official package that integrates nodecron Could you use this package in a serverless environment If not what is more appropriate"
64243798,"Localhost to AWS Lambda No 'Access-Control-Allow-Origin' Header","https://stackoverflow.com/questions/64243798/localhost-to-aws-lambda-no-access-control-allow-origin-header","{cors,aws-api-gateway,serverless-framework}","2020-10-07 12:13:34+03","2024-05-17 05:22:53.736638+03","I have a local server that I am using to test the communication of a future remote hosted server and its communication to a Lambda serverless API The request I am making to the API is a GET method and I have the following configured at the moment to handle the crosssite communication Using the serverless framework I enabled cors true in the serverless yml file In addition the response is set to return the following However a link click from a httplocalhost8000 to my API hosted at httpsid executeapi useast1 amazonaws comprodauth delivers an error message Should I be adding headers to the GET when I fetch this API when a link is clicked on localhost8000 Do I need to update anything with this AWS API Gateway From the serverless framework documentation it sounded like cors true would take care of this setup"
64251906,"Issues with !Sub and !GetAtt on EC2 Metadata on serverless template","https://stackoverflow.com/questions/64251906/issues-with-sub-and-getatt-on-ec2-metadata-on-serverless-template","{amazon-web-services,amazon-ec2,aws-cloudformation,serverless-framework,serverless}","2020-10-07 20:33:28+03","2024-05-17 05:22:54.848451+03","Im having issues to obtain some RDS Instance attributes from my EC2 Metadata configSet block using Sub and GetAtt functions combined So at the resources key in my serverless yml file I have among other things an EC2 instance OASInstance and an RDS instance OASRDSInstance Im trying to build a connection string for my DB hosted on RDS and for that Im using Sub and GetAtt functions inside a file definition on the Metadata block at my EC2 instance definition Ive tried this in several ways using short and long syntax format but I make sure that this one works on a CloudFormation template The error Im getting when I try to deploy this template is this one However the same code block works perfectly if I use it in the same place on a CloudFormation template My guess is that serverless is confusing RDSEndpointURL and RDSEndpointPort with local template variables and doesnt realize that those are just for the Sub context The template is pretty big especially the EC2 Metadata section so I am posting here just the relevant part and putting in not relevant sections This is the path you should check What should I do Thanks"
64254669,"Is it possible to set multiple eventbridge rules on a lambda?","https://stackoverflow.com/questions/64254669/is-it-possible-to-set-multiple-eventbridge-rules-on-a-lambda","{aws-lambda,serverless-framework,aws-event-bridge}","2020-10-08 01:49:58+03","2024-05-17 05:22:56.182757+03","I would like to trigger a single lambda based on different rules Can I set multiple event rules on a lambda Something like the following I found this httpswww serverless comframeworkdocsprovidersawseventseventbridge which seems to indicate it is possible but I cannot seem to get it to work I get the following error"
64262800,"Serverless python packaging numpy dependency error","https://stackoverflow.com/questions/64262800/serverless-python-packaging-numpy-dependency-error","{numpy,serverless-framework,aws-serverless}","2020-10-08 12:42:44+03","2024-05-17 05:22:56.634667+03","I have been running into issues when making function calls from my deployed Python3 7 Lambda function that from the error message are related to numpy The issue states that there is an inability to import the package and despite trying many of the solutions I have read about I have not had any success and I am wondering what to test out next or how to debug further I have tried the following Error Message Displayed after running sls invoke f auth Provided is my setup Serverless Environment Information Runtime Python3 7 Docker serverless yml requirements txt data py"
64269791,"Add DeletionPolicy to Function","https://stackoverflow.com/questions/64269791/add-deletionpolicy-to-function","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-10-08 19:59:33+03","2024-05-17 05:22:57.576756+03","I need to add a DeletionPolicy to my functions created with the serverless framework Override AWS CloudFormation Resource suggests that I should be able to do something like the following but it does not work"
64426133,"Deployment of servless app fails - Enable fine-grained access control or apply a restrictive access policy to your domain","https://stackoverflow.com/questions/64426133/deployment-of-servless-app-fails-enable-fine-grained-access-control-or-apply-a","{amazon-web-services,elasticsearch,serverless-framework}","2020-10-19 11:12:11+03","2024-05-17 05:22:58.35331+03","I have a serverless app where I would like to deploy an elasticsearch cluster I have configured it like this But I get an error An error occurred PostsSearch Enable finegrained access control or apply a restrictive access policy to your domain Service AWSElasticsearch Status Code 400 Error Code ValidationException Request ID be0eca9523ae4ac9be8167cab37ccd70 Proxy null How should I fix this"
64432440,"Json schema conditional validation configuration - Unsupported keyword(s): [""const""]]","https://stackoverflow.com/questions/64432440/json-schema-conditional-validation-configuration-unsupported-keywords-con","{jsonschema,serverless-framework}","2020-10-19 17:29:28+03","2024-05-17 05:22:59.370172+03","I want to set up the conditional validation in my schema I saw an example here on SO I have a similar setup where I would like to validate if the field public is set to string public If it is set to public then I want to make fields description attachmentUrl and tags required If the field is not set to public then this fields are not required But when I try to deploy it like that I get the following error Invalid model specified Validation Result warnings [] errors [Invalid model schema specified Unsupported keyword s [const]]"
64434002,"Serverless - ApiGatewayResourcePostsUseridVar - A sibling ({postId}) of this resource already has a variable path part -- only one is allowed","https://stackoverflow.com/questions/64434002/serverless-apigatewayresourcepostsuseridvar-a-sibling-postid-of-this-res","{aws-lambda,serverless-framework}","2020-10-19 19:31:04+03","2024-05-17 05:23:00.182338+03","In my serverless yml file I have defined few paths for my lambda functions When I try to deploy it like that I get an error An error occurred ApiGatewayResourcePostsUseridVar A sibling postId of this resource already has a variable path part only one is allowed I had similar setup for another project and that worked fine Why do I get this error now"
72606834,"Can I run the Spark jobs in the Iguazio platform with the Spot instances?","https://stackoverflow.com/questions/72606834/can-i-run-the-spark-jobs-in-the-iguazio-platform-with-the-spot-instances","{apache-spark,nuclio}","2022-06-13 17:27:11+03","2024-05-17 05:50:52.609422+03","I have some big Spark workloads that can be run with a flexible schedule I would like to take advantage of the low cost of the Spot instances of the cloud providers Can I run the Spark jobs in the Iguazio platform with the Spot instances"
64444314,"How can I configure database proxy on lambda in serverless.yml?","https://stackoverflow.com/questions/64444314/how-can-i-configure-database-proxy-on-lambda-in-serverless-yml","{amazon-web-services,aws-lambda,amazon-rds,serverless-framework}","2020-10-20 11:35:40+03","2024-05-17 05:23:01.078263+03","I am using serverless framework to provision infrastructure on AWS And I need to add database proxy on my lambda but I could not find how to configure that I have read the doc httpswww serverless comframeworkdocsprovidersawsguidefunctions but it does not mention anything relate to database proxy Below screenshot is the bottom of lambda in aws console How can I add the proxy via serverless yml "
64445104,"serverless deploy Error: Error: Cannot find module './lib/core'","https://stackoverflow.com/questions/64445104/serverless-deploy-error-error-cannot-find-module-lib-core","{python,yaml,serverless-framework}","2020-10-20 12:24:00+03","2024-05-17 05:23:02.321262+03","I am getting an error on the command serverless deploy and I cannot find any documentation on the source of this error It works on my local machine which means I must have something else installed that makes it work but I cant figure out what I am trying to build on AWS my serverless yaml and my buildspec yaml"
64460245,"Serverless Framework AWS deployment","https://stackoverflow.com/questions/64460245/serverless-framework-aws-deployment","{node.js,aws-lambda,serverless-framework}","2020-10-21 09:04:47+03","2024-05-17 05:23:03.29652+03","I am trying to use the serverless framework to deploy a lambda function to AWS but run into this error when running serverless deploy verbose This is the first time deploying it I have setup the region in the yml file and have permissions on AWS is there a way to change what S3 bucket that the deployment uses and point to an existing one I think that could be one of the issues "
64492570,"Using Serverless Framework how to Logging Amazon S3 Object-Level operation using Cloud Watch events","https://stackoverflow.com/questions/64492570/using-serverless-framework-how-to-logging-amazon-s3-object-level-operation-using","{amazon-web-services,amazon-s3,aws-lambda,amazon-cloudwatch,serverless-framework}","2020-10-23 01:16:10+03","2024-05-17 05:23:04.250512+03","I have an S3 Resource on which I put and remove objects Those operations are clientside operations meaning that there is no lambda function involve in those actions The backend was created using serverless Here is the S3 resource under resource key in serverless yml I need to log Amazon S3 ObjectLevel operation using Cloudwatch events PUT and DELETE objects so I can later use those logs as a source for a Step function Could someone please let me know how to log Amazon S3 ObjectLevel operation using CloudWatch events in Serverless Framework BR"
64493633,"How do I invoke/deploy a serverless function with diesel and mysql?","https://stackoverflow.com/questions/64493633/how-do-i-invoke-deploy-a-serverless-function-with-diesel-and-mysql","{mysql,aws-lambda,rust,serverless-framework,rust-diesel}","2020-10-23 03:53:07+03","2024-05-17 05:23:05.068511+03","When I try to test out invoking a serverless function handler using the serverlessrust plugin I get the error"
64511315,"Serverless offline and DynamoDB local on docker","https://stackoverflow.com/questions/64511315/serverless-offline-and-dynamodb-local-on-docker","{amazon-web-services,docker,amazon-dynamodb,serverless-framework,serverless-offline}","2020-10-24 08:12:51+03","2024-05-17 05:23:05.473499+03","I want to train on Serverless with a DynamoDB local docker However with this code I get an empty list of tables But if I do the same using AWS CLI on Powershell with the command I get the right response with my 2 tables on my docker Can you tell me what is wrong with my code "
64515356,"AWS Lambda - PDF Uploads to S3 return blank pages","https://stackoverflow.com/questions/64515356/aws-lambda-pdf-uploads-to-s3-return-blank-pages","{node.js,pdf,amazon-s3,aws-lambda,serverless-framework}","2020-10-24 16:02:12+03","2024-05-17 05:23:06.436886+03","I am looking to upload a PDF statement that contains some pages of data however the PDF uploaded to S3 has been returning blank pages It seems most of the solutions seem to revolve around converting the Buffer type to base64 I have tried that and I would get a blank PDF I have manually added the binary media type on API Gateway multipartformdata and it still results in a blank pdf How can I ensure the pdf is not a blank"
64538621,"Serverless wsgi application and aws http api fail to integrate","https://stackoverflow.com/questions/64538621/serverless-wsgi-application-and-aws-http-api-fail-to-integrate","{python,flask,aws-api-gateway,wsgi,serverless-framework}","2020-10-26 13:59:38+02","2024-05-17 05:23:07.472836+03","I have a serverless application and want to change the api gateway version to v2 from rest api to http api The serverless app works just fine with the rest api and upgrading the api to http api is pretty easy and straight forward But when making an api call to the service with http api enabled it always returns 500 status code for some reason One thing I have found out is that when I change the payload format version to 1 0 it works just fine I am using serverlesswsgi plugin in order to run my flask app and suspecting it does not know how to use payload format version 2 0 and wanted to verify it Here is my serverless yml file for clearer understanding"
64539200,"API Gateway URL (endpoint id) Changed after “sls deploy” and endpoint is not appearing in API Gateway","https://stackoverflow.com/questions/64539200/api-gateway-url-endpoint-id-changed-after-sls-deploy-and-endpoint-is-not-app","{amazon-web-services,aws-lambda,python-3.6,aws-api-gateway,serverless-framework}","2020-10-26 14:34:41+02","2024-05-17 05:23:08.322067+03","I recently added changes to my python lambda function and tried to redeploy to production using sls deploy stage prod The endpoint appears and the deployment was successful However I noticed that the endpoint id changed example from https111222333444 executeapi useast1 amazonaws comprodforecast to https333555777888 executeapi useast1 amazonaws comprodforecast This is weird since Ive already done multiple deployments using serverless framework and it never changed the endpoint id before Another problem is I cant use the new one created since it does not appear in API Gateway CloudFormation and even in S3 However in my serverless cli it said that it was successfully deployed under the same service stage region stack resources The only change Ive done besides changing that one line of code was I deleted a cron event associated with this endpoint but I strongly feel it shouldnt have affected this Any lead would surely be appreciated Thank you so much P S Im using the ff frameworkVersion 2 runtime environment python3 6"
64542672,"Unable to determine event type for AWS Lambda serverless function","https://stackoverflow.com/questions/64542672/unable-to-determine-event-type-for-aws-lambda-serverless-function","{aws-lambda,serverless-framework,serverless,aws-serverless}","2020-10-26 18:08:10+02","2024-05-17 05:23:09.395279+03","I have a very simple handler that I am using to familiarize myself with serverless lambda functions Here is my serverless yml file When I hit the API it works just fine I am using this URL to trigger the event httplocalhost3000devexampleurlhttpsgoogle com and I am console logging the event itself when the endpoint is hit I am interested in accessing the query attribute of this object but TypeScript gets mad at me when I try The query attribute very clearly exists on the event object as shown in my console log so I am assuming I am incorrectly typing this function but I cannot seem to find the proper type What am I doing wrong here Additional Info package json "
64543066,"Serverless Framework and AWS Step Functions (AWS State Machine) triggered from a file uploaded to S3","https://stackoverflow.com/questions/64543066/serverless-framework-and-aws-step-functions-aws-state-machine-triggered-from-a","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,aws-step-functions}","2020-10-26 18:36:06+02","2024-05-17 05:23:10.155284+03","I am trying to start an AWS State Machine step function once a file is uploaded to an S3 bucket The bucket already exists and the project was created using Serverless Framework For that I created this function in my serverless yml This function should be triggered when a file is uploaded to the S3 bucket AttachmentsBucket that already exists and I hope it starts the State Machine processing Now the Step Function definition is below The plugins section is making use of serverlessstepfunctions plugins However CloudFormation of the stack is failing with the following error I am suspecting it has nothing to do with I am doing but the fact that we can only use this plugin to initiate State Machines through API Gateway functions and schedules and cloud watch events Could someone point me here in the right direction Thanks"
64543433,"Serverless Framework and how to enable AWS State Machine to be called by an S3 event rule","https://stackoverflow.com/questions/64543433/serverless-framework-and-how-to-enable-aws-state-machine-to-be-called-by-an-s3-e","{amazon-web-services,amazon-s3,amazon-cloudwatch,serverless-framework,aws-step-functions}","2020-10-26 19:02:58+02","2024-05-17 05:23:11.148307+03","As per the documentation of the Serverless Framework plugin See examples here we are able to enable our Statemachine to be called by an EC2 event rule From above link I want my State Machine to be called from an S3 event rule However as per AWS CloudWatch Even Types documentation it does not look like we are able to use the S3 event rule as it does not appear in AWS CloudWatch Even Types documentation link So does it means I can not use this plugin to call my State machine based on an S3 event rule like for example a new object uploaded to S3 "
64545924,"AWS Lambda GitLab CI/CD deployment package size is much bigger than deploy from my local environment","https://stackoverflow.com/questions/64545924/aws-lambda-gitlab-ci-cd-deployment-package-size-is-much-bigger-than-deploy-from","{node.js,deployment,aws-lambda,gitlab,serverless-framework}","2020-10-26 22:36:15+02","2024-05-17 05:23:12.093153+03","I set up GitLab CICD for deploying a Node js Lambda to AWS However the zipped package size is 42 01MB when deployed by GitLab But from my local PC the package size is only 10 72MB Same command is used for deployment The gitlabci yml has the following setup And the package json is as follows Output from GitLab Local output It seems like the dev dependencies are NOT excluded although the logs says Excluding development dependencies Does anyone have any ideas on why the package size is different Thanks in advance "
64553344,"ResourceNotFoundException: user pool xyz does not exist - Cognito adminConfirmSignup","https://stackoverflow.com/questions/64553344/resourcenotfoundexception-user-pool-xyz-does-not-exist-cognito-adminconfirmsi","{javascript,typescript,amazon-cognito,serverless-framework}","2020-10-27 11:20:23+02","2024-05-17 05:23:12.888437+03","For some reason only the adminConfirmSignup gives the user pool does not exist error The CognitoUser does not give that error Please refer to the code below The password reset works if I use the CognitoUser methods when I manually confirm the user and use only the cognitoUser methods to authenticate and reset the password "
64559720,"Serverless Framework AWS StepFunction not working","https://stackoverflow.com/questions/64559720/serverless-framework-aws-stepfunction-not-working","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,aws-step-functions}","2020-10-27 17:22:34+02","2024-05-17 05:23:13.894265+03","I have a problem that so far I am unable to identify the root cause I have an AWS step machine that should be invoked once a file is uploaded to an S3 bucket So far when I upload the file to the S3 bucket the lambda function that is defined in the StartAt key StartAt ImgUploadedEvent starts as I can see in the lambda logs Here is the code Below is the lambda function that is declared as the start of the StepMachine This lambda function as I can see from the logs indeed get called once I modified an Object in S3 To check that the Step Function was working I created a log group and added it to the Step Function I see this cloud watch log group correctly associated with the Step function in the AWS Console However when I upload an object to S3 I do see in the logs of the lambda functions that it was invoked but I can not see any logs on the Step Function log group My question is Is the Step Function indeed working and it is just an issue with the logs in the Step Function Or it is that the Step Function itself is not working and the lambda function is working just a lambda function totally independent of the Step Function What I have to do so the lambda function gets trigger as part of the Step Function BR"
64562484,"How to fix Access Denied / 503 from AWS lambda in serverless-next.js deployment","https://stackoverflow.com/questions/64562484/how-to-fix-access-denied-503-from-aws-lambda-in-serverless-next-js-deployment","{aws-lambda,next.js,serverless-framework}","2020-10-27 20:33:05+02","2024-05-17 05:23:14.888906+03","I am deploying a Next js app using serverless component serverlessnext js not the plugin After deploying my API routes run smoothly but some not all pages and all content in public folder are not accessible On the web requests to those resources end with a 503 I tracked down the error to Default Lambda for Next CloudFront distribution where I can see a record for every call in CloudWatch logs I checked the origin S3 bucket and all resources are there I tried to remove complete deployment and do a clean deploy to no avail As I understand the problem lies in S3 permissions I granted the policy under which the lambda is invoked full access to S3 but the problem persists Any help how to debug this further appreciated "
64564233,"How to mock AWS DynamoDB in Jest for Serverless Nodejs Lambda?","https://stackoverflow.com/questions/64564233/how-to-mock-aws-dynamodb-in-jest-for-serverless-nodejs-lambda","{node.js,aws-lambda,jestjs,mocking,serverless-framework}","2020-10-27 23:10:43+02","2024-05-17 05:23:15.7073+03","I wrote a lambda as follows handler js I want to write a unit test for testing the getUser function so I tried the following handler test js The error is as follows It seems the test still uses the dynamoDb in the handler js rather than the mocked in the test Any ideas on how to wire up the mock correctly to test the function Thanks in advance "
64670539,"How to set provider.apiGateway.shouldStartNameWithService in a serverless.ts file?","https://stackoverflow.com/questions/64670539/how-to-set-provider-apigateway-shouldstartnamewithservice-in-a-serverless-ts-fil","{serverless-framework}","2020-11-03 20:56:09+02","2024-05-17 05:23:23.958312+03","I am kicking off a new project with a new Serverless TypeScript monorepo Used the awsnodejstypescript template which gave a serverless ts config file After some weeks I am now getting the nice warning below from Serverless on command line Ok Looks great and I like the new naming And since its a new project better to apply the new naming now before we release anything However it looks like the TypeScript definitions are rather strict and do not seem to allow for the new variable yet Is there a way to set the new property without reverting everything to YAML which would be somewhat painful at this point Update 1 Many thanks to NexGen for the pointer Here is a minimal serverless ts emphasis on the TS showing the solution "
64579406,"Serverless Deploy fails: At least one of ProvisionedThroughput, ... is required","https://stackoverflow.com/questions/64579406/serverless-deploy-fails-at-least-one-of-provisionedthroughput-is-required","{aws-lambda,serverless-framework,serverless,aws-serverless}","2020-10-28 18:44:48+02","2024-05-17 05:23:16.760815+03","I am trying to deploy new Lambda Functions and API Gateways to AWS using the npm serverless package The new functions are being deployed on top of previously existing functions and new DynamoDB tables are being created along with the new lambda functions The deploy is failing with the following error The authDB is a table that already exists in DynamoDB The serverless yml file for this database table is as follows I am not sure as to why I am receiving this error since the ProvisionedThroughput is defined [UPDATE] This authDB config is the same has not been changed since it was originally deployed the only changes to the serverless yml aside from the new functionsdatabase resources is the addition of the serverlesspluginsplitstacks to bypass the CloudFormation 200 resource limit This is the configuration of the serverlesspluginsplitstacks"
64599016,"IAM Role vs IAM User Can't Call Cognito ListUsers","https://stackoverflow.com/questions/64599016/iam-role-vs-iam-user-cant-call-cognito-listusers","{aws-lambda,amazon-cognito,amazon-iam,serverless-framework}","2020-10-29 20:48:07+02","2024-05-17 05:23:17.800213+03","I am working on a serverless project when I invoke local and use the credentials in my awscredentials which correspond to a user with an Administrator policy the code executes correctly without any security issues When I run the lambda with the assumed role it gives the following error UnrecognizedClientException The security token included in the request is invalid If I hardcode the credentials of my admin user and run it in lambda it works fine So obviously there is some issue with my IAM role that the lambda assumes when making a call to Cognito to ListUsers I have given that IAM role an administrator policy still gives the same exception what is going on with the role vs user and why cannot the role call cognito ListUsers Is there a trust relationship needed Is there anything additional that a role would need versus a user that has the same access policy This is driving me crazy"
64602303,"How can I ref API gateway endpoint in serverless?","https://stackoverflow.com/questions/64602303/how-can-i-ref-api-gateway-endpoint-in-serverless","{amazon-web-services,aws-cloudformation,serverless-framework}","2020-10-30 03:24:39+02","2024-05-17 05:23:18.733369+03","I am using serverless yml as the infra framework I create a lambda with a API gateway like below code it will generate a endpoint for the API gateway But how can I reference this endpoint in other place in the yml file"
64606487,"User is not authorized to perform: dynamodb:CreateTable on resource:","https://stackoverflow.com/questions/64606487/user-is-not-authorized-to-perform-dynamodbcreatetable-on-resource","{aws-lambda,amazon-dynamodb,serverless-framework,dynamoose}","2020-10-30 10:19:58+02","2024-05-17 05:23:19.743303+03","When I tried to run my lambda function register which queries the table example_user it will throw the error below My code is only trying to get data from the table example_user and not create any table errorTypeRuntime UnhandledPromiseRejectionerrorMessageAccessDeniedException User arnawssts577777777777assumedroleexampleuserapidevapsoutheast1lambdaRoleexampleuserapidevregister is not authorized to perform dynamodbCreateTable on resource arnawsdynamodbapsoutheast1577777777777tableexample_userreason errorTypeAccessDeniedExceptionerrorMessageUser arnawssts577777777777assumedroleexampleuserapidevapsoutheast1lambdaRoleexampleuserapidevregister is not authorized to perform dynamodbCreateTable on resource arnawsdynamodbapsoutheast1577777777777tableexample_user The error was thrown after 13 UserController with email This is my codes User js UserController js Below is a snippet from my serverless yml file"
64619300,"Profile xyz does not exist aws serverless","https://stackoverflow.com/questions/64619300/profile-xyz-does-not-exist-aws-serverless","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2020-10-31 07:07:59+02","2024-05-17 05:23:20.684159+03","when i deploy my code to the aws serverless then its error comes in my windows 10 but my friends computer is perfectly fine i am new in aws serverlesss please help me Error "
64634876,"Need to write a resource based policy on secrets manager","https://stackoverflow.com/questions/64634876/need-to-write-a-resource-based-policy-on-secrets-manager","{amazon-web-services,serverless-framework,aws-secrets-manager}","2020-11-01 17:36:55+02","2024-05-17 05:23:21.708918+03","I need to write a resource based policy for my secret manager so that its secret can be seen or change by a specific role only via the cli I am doing this in my serverless yml as Also I would like to know whats the best possible way to upload the keys first time in secret manager Should I encrypt the keys I am new to it and dont know much about this I am currently reading like this the direct value from a file SecretString apppublickey file okcreds optstage yml APP_PUBLIC_KEY "
64655033,"Debugging lambda golang locally in API mode with serveless-framework","https://stackoverflow.com/questions/64655033/debugging-lambda-golang-locally-in-api-mode-with-serveless-framework","{go,debugging,lambda,serverless-framework,serverless-offline}","2020-11-03 00:11:00+02","2024-05-17 05:23:22.297451+03","with SAM I am able to run the API and Debug with VS Code or GoLand while using Postman for example While using serverless I found this way for debugging found this here httpsgithub commsolimansgeneratorsls Debugging only seems to work if I am creating an event json for my function and pass it It would be nice if I could debug the function with a current request made via browser or postman I asked in slsoffline github and serverless forum I have not gotten any answer Thanks for your help Alex"
64664023,"Why does my NodeJS lambda function execute multiple times upon a single invocation?","https://stackoverflow.com/questions/64664023/why-does-my-nodejs-lambda-function-execute-multiple-times-upon-a-single-invocati","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2020-11-03 13:43:31+02","2024-05-17 05:23:23.1176+03","I have a NodeJS script hosted as a AWS lambda function The script basically queries data from MySQL database In summary it has a loop wherein for each iteration a query operation is executed This is awaited and then logged and then it moves to the next iteration This works fine when I execute the function locally but when I invoke it in the lambda using the serverless framework the same async query fires multiple times as checked in the logs For a single invocation there are multiple log streams in AWS cloudwatch which concludes that the function is running on multiple instances I have tried to configure the retry attempts for failure option to 0 from default 2 but it does not help Even catching all the async requests and having error free logs it still executes multiple times due to which it runs for the entire maximum duration of 15minutes Can someone help me on this issue Following is the code snippet of the function body"
72974219,"Converting IAM policy into Serverless framework syntax","https://stackoverflow.com/questions/72974219/converting-iam-policy-into-serverless-framework-syntax","{amazon-web-services,amazon-iam,serverless-framework}","2022-07-14 01:21:38+03","2024-05-17 05:30:49.098508+03","I have the following AWS IAM policy How should this be represented in Serverless syntax I am not sure how to represent the condition and cannot find any examples upon the Serverless website I am guessing it is something like this Grateful thanks for any assistance "
64670611,"How to set function.events.sns.arn in a serverless.ts file?","https://stackoverflow.com/questions/64670611/how-to-set-function-events-sns-arn-in-a-serverless-ts-file","{serverless-framework}","2020-11-03 21:01:05+02","2024-05-17 05:23:25.074099+03","I am setting up a new Serverless TypeScript monorepo using the awsnodejstypescript template The template produces a serverless ts file for configuration Adding an AWS SNS event listener for an existing SNS Topic is supported httpswww serverless comframeworkdocsprovidersawseventssns However there is no corresponding attribute in the type definitions for the sns event How can I configure an event for an existing SNS Topic using serverless ts "
64680652,"Trying to export dynamodb table variables from a serverless stack fails with intrinsic function !Ref","https://stackoverflow.com/questions/64680652/trying-to-export-dynamodb-table-variables-from-a-serverless-stack-fails-with-int","{amazon-dynamodb,aws-cloudformation,serverless-framework,aws-serverless}","2020-11-04 13:04:16+02","2024-05-17 05:23:26.140893+03","I have a working stack built with servereless framework which includes a dynamodb table stack was already deployed successfully I am trying to export the dynamo tables variables name and arn basically so these could be used in another stack I have deployed To achieve this I have the following in serverless yml in resourcesAqDataTable yml When trying to deploy I get the following error The way I worked around this is by replacing AqDataTable name value in the serverless yml custom section from Ref AqDataTable to a hardercoded value AqDataTable selfprovider stage but obviously this is a bad practice which I would like to avoid I would appreciate any inputs on why this stack format invalidates the Ref intrinsic function or better ways to achieve what I am after here Many thanks "
64708459,"""An error occurred: GraphQlDsUsersRole - Syntax errors in policy."" when using serverless-appsync-plugin","https://stackoverflow.com/questions/64708459/an-error-occurred-graphqldsusersrole-syntax-errors-in-policy-when-using-se","{amazon-web-services,graphql,amazon-iam,serverless-framework,aws-appsync}","2020-11-06 03:30:55+02","2024-05-17 05:23:27.140212+03","Following alongside the tutorials but changing some semantic things I am getting this error from serverless when I deploy An error occurred GraphQlDsUsersRole Syntax errors in policy Service AmazonIdentityManagement Status Code 400 Error Code MalformedPolicyDocument Request ID 4b486514e57d48289edcf9150d8806b4 Proxy null Doing a search on my directory this role seems to be autogenerated into the serverless file How is this generated and what could I have done to mess it up My serverless yml file My roles yml file"
64723160,"Getting Serverless Deployment bucket error when using serverless-deployment-bucket plugin","https://stackoverflow.com/questions/64723160/getting-serverless-deployment-bucket-error-when-using-serverless-deployment-buck","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2020-11-07 00:06:45+02","2024-05-17 05:23:28.206266+03","So in my serverless yaml file I am using serverlessdeploymentbucket plugin I am trying to achieve is to create a new bucket using this plugin and deploy my lambda function code in this custom defined bucket created using serverlessdeploymentbucket plugin instead of the default s3 bucket that sls framework uses But I am getting this following error when I am trying to deploy my lambda code enter image description here Following is the snippet of my serverless yaml file provider name aws runtime python3 8 role TestIAMRole stage dev region useast1 stackName sample1 deploymentBucket name samplebucket456754 serverSideEncryption AES256 blockPublicAccess true functions hello handler handler hello plugins serverlessdeploymentbucket serverlesspureseccli"
64724464,"Serverless, API Rest, get body on Lambda POST","https://stackoverflow.com/questions/64724464/serverless-api-rest-get-body-on-lambda-post","{javascript,aws-lambda,serverless-framework}","2020-11-07 04:36:19+02","2024-05-17 05:23:29.187075+03","I have a Lambda POST function I am sending a json body for testing as But I do not know how to read that body on my code At first I had a GET API I called that API with POST httpsXXX executeapi useast2 amazonaws comdevgetData123 ContentType applicationjson so in my code I had serverless yml was But now I do not know how to read the body on POST Edit I tried by event body but it does not existe body Here I have console logs of event and args from CloudWatch "
64897299,"API Gateway 400 before reaching my code/lambda","https://stackoverflow.com/questions/64897299/api-gateway-400-before-reaching-my-code-lambda","{aws-lambda,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2020-11-18 16:33:49+02","2024-05-17 05:23:30.21033+03","How can I ensure requests to URLs with whatever bad query string data in them make it to my lambda behind api gateway and not be blocked at api gateway I have an endpoint on API gateway which responds to requests such as the one below where the query string parameter url should exist httpstheapiid amazonaws comurlhttpsstackoverflow com The query string parameter url receives a URL which is usually url encoded so not a problem Other times the URL arrives unencoded and therefore potentially non URL safe characters are present Unfortunately I am downstream from other services which occasionally send me bad data and one of the responsibilities of this particular hop is to detect and attempt to rectifyclean it I cannot prevent the request to my API gateway endpoint containing non url safe characters The problem is such that if bad data exists in the URL it would appear that API gateway rejects the request and does not forward it to my lambda even though it is using Lambda Proxy and I have not set up anything I am aware of at the api gateway level to stop requests going through If you takes the serverless framework example at the bottom of this question it can be easily reproduced Simply deploy then visit httpstheapiid executeapi useast1 amazonaws comdev And you will see the expected texthtml response However if you were to visit the following where I have put and in unencoded as is commonly received by my endpoint you will see that API gateway returns a 400 status response and does not appear to forward the request to the lambda function httpstheapiid executeapi useast1 amazonaws comdevurl clickurl I ticked Enable CloudWatch Logs in the api gateway console and a log group was created but it does not appear to get any records so that appears to be a dead end I have tried regional and edge optimised endpoints and both api gateway and cloudfront respond with the same thing How can I ensure requests to URLs with whatever bad query string data in them make it to my lambda behind api gateway and not be blocked at api gateway Below is just boilerplate to play around with a working example using the serverless framework if you were so inclined serverless yml handler js Then run"
64908730,"How do I access the Cognito UserPoolClient Secret in Lambda function?","https://stackoverflow.com/questions/64908730/how-do-i-access-the-cognito-userpoolclient-secret-in-lambda-function","{aws-lambda,amazon-cognito,serverless-framework,serverless,aws-userpools}","2020-11-19 09:22:47+02","2024-05-17 05:23:31.644035+03","I have created Cognito UserPool and UserpoolClient via Resources in serverless yml file like this Now I can pass the Userpool and UserpoolClient as environment variables to the lambda functions like this I can access these IDs in my code as I have printed the values and they are being printed correctly However UserpoolClient also generates one AppClient secret which I need to use while generating secret hash How shall I access app client secret UserpoolClients secret in my lambda"
64917954,"Error in CloudFormation Stack: Syntax errors in policy. (Service: AmazonIdentityManagement; Status Code: 400;","https://stackoverflow.com/questions/64917954/error-in-cloudformation-stack-syntax-errors-in-policy-service-amazonidentity","{amazon-web-services,yaml,aws-cloudformation,amazon-iam,serverless-framework}","2020-11-19 18:36:16+02","2024-05-17 05:23:32.110164+03","This should be fairly straightforward I hope I am working with a CloudFormation Stack through serverless framework and am getting a syntax error The project is using Lambda to invoke QuickSight API for automated data ingestion The error I am getting is And the portion Yaml file with that policy is bellow I omitted the version property but did not think that would be an issue for it to run I am not exactly sure what else needs to be changed or what is causing the error"
64957832,"Runway X Serverless Framework: Using runway for CICD to deploy with environment variables from serverless dashboard","https://stackoverflow.com/questions/64957832/runway-x-serverless-framework-using-runway-for-cicd-to-deploy-with-environment","{amazon-web-services,dashboard,serverless-framework}","2020-11-22 18:20:55+02","2024-05-17 05:23:33.121554+03","I am using the SERVERLESS_ACCESS_KEY to login while using the CICD to access the environment variables but I cannot seem to be able to place the key in the correct place Question is is this the correct place for the access key or should it be added in the serverless yml file"
64982641,"Serverless - Get the created cloudfront resource URL and use it as environment variables","https://stackoverflow.com/questions/64982641/serverless-get-the-created-cloudfront-resource-url-and-use-it-as-environment-v","{javascript,amazon-cloudfront,serverless-framework,serverless}","2020-11-24 08:20:53+02","2024-05-17 05:23:34.085025+03","I am working with serverless js I am creating a CloudFront distribution with serverless cloudformation and in the application code I want to use the generated CloudFront URL Therefore I want to set the environment variable in serverless yml to the dynamic CloudFront URL which will be generated when creating the resource Is there any way that I can achieve a solution to the abovementioned problem"
64984521,"How do I set a filename for a json schema in serverless.ts","https://stackoverflow.com/questions/64984521/how-do-i-set-a-filename-for-a-json-schema-in-serverless-ts","{serverless-framework,serverless}","2020-11-24 10:26:56+02","2024-05-17 05:23:35.122035+03","So the typescript template now builds with a serverless ts instead of YAML which is cool but there is a dearth of examples of how the format of the file works specifically I am struggling with the equivalent of yamls what would x be below"
64987159,"Injecting libraries/dependencies into AWS Lambda with Serverless Framework","https://stackoverflow.com/questions/64987159/injecting-libraries-dependencies-into-aws-lambda-with-serverless-framework","{python,amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2020-11-24 13:06:46+02","2024-05-17 05:23:36.392072+03","really quick question do I need to install from the command prompt sls plugin install n serverlesspythonrequirements into each serverless framework project that I make to load python dependencies into the stacklambda function I am going to deploy I had been playing with Serverless Framework in trying to use it for a project involving AWS Lambda and python for csv transformations As such I would like to use pandas and numpy within the Lambda function I have Docker installed and in the yaml file have But was wondering if I need to repeatedly install that sls plugin install n serverlesspythonrequirements each time I create a new project I noticed that if I do that it downloads two json documents packagelock json and package json into the project folder But I had noticed though that other tutorials did not have those json files despite using dependencies so I was not quite sure if this is a repeated step I do per project "
64996515,"How can I use an MSK trigger for Lambdas within a custom VPC?","https://stackoverflow.com/questions/64996515/how-can-i-use-an-msk-trigger-for-lambdas-within-a-custom-vpc","{aws-lambda,serverless-framework,aws-msk}","2020-11-24 23:48:03+02","2024-05-17 05:23:37.154988+03","I am trying to use an MSK Lambda trigger with a Lambda that is connected to a VPC However when deploying the Lambda I am always getting this error What I have tried What else can I try What could be missing I am using this integration from the serverless framework Edit alright the problem is the security group of the MSK cluster The docs mention that you need this rule Inbound rules Allow all traffic on all ports for the security group specified as your source But is there a way to be more restrictive rather than allowing traffic from everywhere"
65002698,"Selective service deployment with bitbucket pipelines in a monorepo with multiple microservices","https://stackoverflow.com/questions/65002698/selective-service-deployment-with-bitbucket-pipelines-in-a-monorepo-with-multipl","{continuous-integration,bitbucket,continuous-deployment,serverless-framework,bitbucket-pipelines}","2020-11-25 10:22:04+02","2024-05-17 05:23:38.22598+03","We have a serverless framework project with different microservices in a monorepo The structure of the project looks like As you can see each service has its own deployment file serverless yml We want to deploy only the services that have been modified in a pushmerge and as we are using bitbucketpipelines we prefer to use its features to get this goal After doing a little research we have found the changesets property that can condition a step to the changed files inside a directory So for each service we could add in out bitbucketpipelines yml something like This seems like a perfect match but the problem with this approach is that we must write a step for every service we have in the repo and if we add more services we will have to add more steps and this affects maintainability and readability Is there any way to make a for loop with a parametrized step where the input parameter is the name of the service On the other hand we could make a custom script that handles the condition and the deployment detecting the changes itself Even if we prefer the bitbucketnative approach we are open to other options what is the best way to do this in a script"
65033849,"Lambda Function Aliases with the Serverless Framework?","https://stackoverflow.com/questions/65033849/lambda-function-aliases-with-the-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework}","2020-11-27 08:02:29+02","2024-05-17 05:23:39.570939+03","Is possible to use a Lambda function alias httpsdocs aws amazon comlambdalatestdgconfigurationaliases html with the Serverless Framework If so does anyone have an example of how that is done Update I have found it within SAM AutoPublishAlias By adding this property and specifying an alias name AWS SAM Detects when new code is being deployed based on changes to the Lambda functions Amazon S3 URI Creates and publishes an updated version of that function with the latest code Creates an alias with a name that you provide unless an alias already exists and points to the updated version of the Lambda function Function invocations should use the alias qualifier to take advantage of this If you are not familiar with Lambda function versioning and aliases see AWS Lambda Function Versioning and Aliases httpsdocs aws amazon comserverlessapplicationmodellatestdeveloperguideautomatingupdatestoserverlessapps html Is there a way to do this in the Serverless Framework"
65035066,"How to get API gateway url in Environment variable in Serverless","https://stackoverflow.com/questions/65035066/how-to-get-api-gateway-url-in-environment-variable-in-serverless","{amazon-web-services,aws-cloudformation,aws-api-gateway,serverless-framework,aws-sdk-nodejs}","2020-11-27 09:42:42+02","2024-05-17 05:23:40.346775+03","I am working on a serverless framework cloud formation I have created two stacks in the same AWS region and each serverless yml stack1 stack2 having their own APIs How can I get the stack1 yml API URL in stack2 yml In that T_GATEWAY I want to access stack1 API gateway URL Thanks in advance "
72621020,"in mlrun, what is the difference between mlrun.auto_mount() vs mlrun.mount_v3io()","https://stackoverflow.com/questions/72621020/in-mlrun-what-is-the-difference-between-mlrun-auto-mount-vs-mlrun-mount-v3io","{nuclio,mlrun}","2022-06-14 17:18:48+03","2024-05-17 05:50:53.636733+03","In mlrun what is the difference between mlrun auto_mount vs mlrun mount_v3io when should auto_mount or mount_v3io be used"
65066945,"What are the required policies for a IAM user that does a Serverless deployment to AWS Lambda?","https://stackoverflow.com/questions/65066945/what-are-the-required-policies-for-a-iam-user-that-does-a-serverless-deployment","{aws-lambda,amazon-iam,serverless-framework}","2020-11-30 01:14:06+02","2024-05-17 05:23:41.312553+03","I was trying to do a simple deployment no external resources at all from a limitedrole user and spent three hours futzing with IAM ending up granting the limited user the following policies And I still got error occurred ApiGatewayRestApi User arnawsiam265913673281usertestdeployuser is not authorized to perform apigatewayPOST on resource arnawsapigatewayuswest2restapis Service AmazonApiGateway Status Code 403 Error Code AccessDeniedException Request ID 09dd8d6f316046ee8220c6053dca9f02 Proxy null At that point I gave up and used root access But that isnt scaleable There must be a way to actually do this and more important some way other than trialanderror If it helps I was trying to deploy this example It didnt work at all shocking I know until I modified it as detailed here Seriously Amazon does it have to be this difficult Update A commenter wrote Are you deploying from the terminal or code build The terminal what does your server less yml file look like The serverless yaml is do you have your access key set up locally I do this is not too hard at all once you got it wired up correctly You mean it is not too hard at all once you have done the impossible stuff Obviously everything is easy except for the difficult parts Mt Everest Easy to get to the airport Brain surgery Shaving the patients head is easy and billing the insurance is simple enough "
65100968,"Serverless: TypeError: Cannot read property 'outputs' of undefined","https://stackoverflow.com/questions/65100968/serverless-typeerror-cannot-read-property-outputs-of-undefined","{amazon-web-services,serverless-framework,serverless,serverless-plugins}","2020-12-02 01:31:21+02","2024-05-17 05:23:42.335083+03","This is what my serverless yml file looks like The lambda function gets created fine When I run the command serverless outputs stage simi33 region uswest2 profile sandbox It says This is not a permissions issue I am otherwise able to deploy the application if not using stackconfig plugin If I run sls deploy v command This is what I get My profile sandbox is configured to assume a role and that works fine everywhere else With stack config if I use a profile that does not have to assume a role it works okay How can I fix this How can I use this with a profile that assumes a role How can I fix this sandbox profile is configured as follows"
65119342,"Boilerplate for independently deployable microservices based on Serverless framework","https://stackoverflow.com/questions/65119342/boilerplate-for-independently-deployable-microservices-based-on-serverless-frame","{amazon-web-services,microservices,serverless-framework,serverless,boilerplate}","2020-12-03 03:11:13+02","2024-05-17 05:23:42.991217+03","Following the principles of microservices I am looking for recommendations for the code structureboilerplate to realize these principles especially Independently deployable loosely coupled and contained data stores Using the Serverless framework on AWS Would be great to have references for boilerplates that have worked well and realize these principles such that deployment order should not matter I came across httpsgithub comtrilomslsmicroservice but this has makefiles Do not like the idea of having to use them "
65123631,"provider.logRetentionInDays not working as expected","https://stackoverflow.com/questions/65123631/provider-logretentionindays-not-working-as-expected","{serverless-framework,serverless,aws-serverless,serverless-architecture,serverless-application-model}","2020-12-03 09:57:05+02","2024-05-17 05:23:44.048276+03","I am using serverless framework version 2 11 0 When trying to deploy it is throwing serverless error But it is not showing any allowed values Also in my case I am giving the value as 90 Integer Anything which I am doing wrong"
65127818,"Mocking with Serverless Offline and Integration Tests","https://stackoverflow.com/questions/65127818/mocking-with-serverless-offline-and-integration-tests","{integration-testing,serverless-framework,serverless-offline}","2020-12-03 14:23:28+02","2024-05-17 05:23:44.60484+03","I have a Serverless stack AWS using API Gateway authentication and a Lambda implementing a restful API using NestJS I am using Serverlessoffline to simulate the stack in my local environment This allows me to simulate the API Gateway authentication simple keys not custom authorizer and lambda execution from an end to end API call perspective I can use the NestJS test helpers to perform e2e tests which allows me to inject mocks for other services not available in the stack What I would like to do is use serverlessoffline to run the tests hence allowing me to test authentication via its simulated API Gateway I can see how I can do this by launching serverlessoffline in my tests e g httpsdev todidilserverlesstestingstrategies4g92 BUT if I use serverlessoffline as link then I cannot see how it would be possible to inject mocks for other services not available in the stack Is there another solution for e2e testing that allows me to simulate the api gateway AND inject mocks Any help much appreciated "
65139557,"How to expose ARN of resource created by the Serverless Framework to Terraform","https://stackoverflow.com/questions/65139557/how-to-expose-arn-of-resource-created-by-the-serverless-framework-to-terraform","{aws-lambda,terraform,serverless-framework,terraform-provider-aws,aws-serverless}","2020-12-04 07:32:03+02","2024-05-17 05:23:45.704065+03","We are planning to use the Serverless framework to create AWS lambda functions and Terraform to provision other infrastructure in AWS We use SSM parameters to get access in Serverless to resources created by Terraform However I am wondering is there any way to access in Terraform resources created by Serverless The use case is as follows in terraform we need to give explicit bucket permissions for a lambda created in Serverless At the moment we need to hard code the ARN of the lambda Is there any way to avoid that"
65147827,"Cloudformation - Send s3 notification to SQS for existing bucket","https://stackoverflow.com/questions/65147827/cloudformation-send-s3-notification-to-sqs-for-existing-bucket","{amazon-s3,aws-cloudformation,amazon-sqs,serverless-framework}","2020-12-04 17:15:12+02","2024-05-17 05:23:46.66386+03","How can Cloudformation send an s3 notification for an existing bucket to SQS I know how to send the notification to a lambda handler but not sure how to do this for SQS I also know I can send it to SQS if I create the bucket resource in Cloudformation and use NotificationConfiguration but that is not an option for me as the bucket already exists in another terraform config The queue is also created in terraform I currently send the notification to a lambda proxy that then posts it to SQS but that is not ideal Function Is there a way to adjust this config to send the notification directly to SQS instead of a lambda handler that acts as a proxy to SQS"
65860137,"Serverless Webpack generates empty files in ZIP package","https://stackoverflow.com/questions/65860137/serverless-webpack-generates-empty-files-in-zip-package","{serverless-framework,serverless-webpack-plugin}","2021-01-23 14:08:40+02","2024-05-17 05:24:24.236639+03","I am facing with a rather annoying and frustrating anomaly with Serverless Webpack generating empty files in the serverlesspackage zip serverless yml webpack config js I have tried other version combinations too Serverless 2 20 webpack 5 17 0 copywebpackplugin 7 0 0 Why empty files in ZIP Update I have just tried to run sls package in one of the example projects with same result empty files in ZIP "
65150973,"How to eliminate serverless framework error Template format error","https://stackoverflow.com/questions/65150973/how-to-eliminate-serverless-framework-error-template-format-error","{serverless-framework,aws-serverless}","2020-12-04 21:26:22+02","2024-05-17 05:23:47.744785+03","Testing learning serverless framework I am trying to deploy simplebasic state machine with two simple lambda functions Serverless definition as follows During deploy sls is saying my state machine definition is ok State machine TransactionChoiceMachine definition is valid My environment information Setup SLS_DEBUG is not helping me much as I do not know js unfortunately After serverless deploy command I am getting error Error The CloudFormation template is invalid Template format error Unresolved resource dependencies [CustomIamRole] in the Resources block of the template"
65157346,"How to improve performance of initial calls to AWS services from an AWS Lambda (Java)?","https://stackoverflow.com/questions/65157346/how-to-improve-performance-of-initial-calls-to-aws-services-from-an-aws-lambda","{java,amazon-web-services,aws-lambda,serverless-framework,cold-start}","2020-12-05 13:22:45+02","2024-05-17 05:23:48.779028+03","I recently tried to analyze some performance issues on a service hosted in AWS Lambda Breaking down the issue I realized that it was only on the first calls on each container When isolating the issue I found myself creating a new test project to get a simple example Test project You can clone it build it mvn package deploy it sls deploy and then test it via the AWS Management Console This project has 2 AWS Lambda functions source and target The target function simply returns an empty json The source function invokes the target function using the AWS Lambda SDK The approximate duration of the target function is 300350 ms on cold starts and 1ms on hot invokes The approximate duration of the source function is 60006300ms on cold starts and 280ms on hot invokes The 6 seconds overhead on the cold starts of the source function appear to be 3 seconds of getting the client and 3 seconds of invoking the other function in hot invokes that is 3ms and 250ms respectively I get similar times for other services like AWS SNS I do not really understand what it is doing in those 6 seconds and what I can do to avoid it When doing warmup calls I can get the client and store the reference to avoid the first few seconds but the other few seconds come from actually using the other service SNS Lambda etc which I cannot really do as a noop So do other people experience the same cold start durations and what can I do to increase the performance on that other than bringing the memory setting up "
65178304,"How to implement persistent mongoDb connection in my express JS app?","https://stackoverflow.com/questions/65178304/how-to-implement-persistent-mongodb-connection-in-my-express-js-app","{node.js,express,mongoose,aws-lambda,serverless-framework}","2020-12-07 08:32:34+02","2024-05-17 05:23:49.893826+03","I am using mongoose as database for my nodeexpress js project I had no problem until I decided to migrate my app to AWS Lambda There I need to create a persistent connection to avoid my app to connect to mongodb each time a function is invoked So I have checked the mongoose docs but it is unclear to me how to integrate this with my current code I have tried this but it did not work Any suggestion "
65184833,"Binary Media Type Support in Serverless Framework","https://stackoverflow.com/questions/65184833/binary-media-type-support-in-serverless-framework","{serverless-framework,serverless}","2020-12-07 15:45:49+02","2024-05-17 05:23:50.872811+03","Can anyone help me with understanding how the binary media type support for serverless actually works I am using the following in the provider section of my yaml file For each defined function that returns a binary payload I have the following I think this is all that needs to be done but it doesnt seem to work my csv file gets downloaded but the content is still base 64 encoded and in the settings for my API gateway the binary media types is empty If however I go to the API GW settings and add a Binary Media Types for textcsv manually and redeploy the API in the console when I then download my CSV it looks ok I thought the serverless framework should be setting the values I define in the config file into the API GW Binary Media Types setting but it doesnt seem to do anything When I was using a couple of plugins combined to do this everything worked ok but it is my understanding that this should just work without any plugins now I have a similar issue with the api gateway x ray tracing option which doesnt work when added to the serverless file Can anyone help me with this Failing this not working I will resort to setting it in terraform instead "
65202667,"How do I add IAM Role to S3 Bucket Policy in Serverless Framework CloudFormation?","https://stackoverflow.com/questions/65202667/how-do-i-add-iam-role-to-s3-bucket-policy-in-serverless-framework-cloudformation","{amazon-s3,yaml,aws-cloudformation,amazon-iam,serverless-framework}","2020-12-08 16:15:45+02","2024-05-17 05:23:52.045996+03","I am using Serverless Framework and creating a stack with additional S3 Buckets one of which needs to have a bucket policy that needs the IamRoleLambdaExecution role created in Serveless Framework added to the Principal section of that buckets policy how do I go about doing that The bucket policy in the stack as is In the principal section I already have the serverlessadmin user and some services but was not clear how to add this particular resource to that section which is not explicitly created in the stack but seems to be part of the Serverless Framework features when a stack is deployed Reference to IamRoleLambdaExecution here I am a bit new to CloudFormation in general and I think I added those additional items correctly in the Principal section but I could be wrong there too Any input on how to correctly reference IamRoleLambdaExecution Role into that principal section or any other advice would be greatly appreciated Thank you Edit I think I found what I was looking for and made the changes to the Principal Section I am unfortunately still experiencing issues with stack and access control but it seems to be unrelated to this particular syntax The updated stack is now this"
65207520,"Adding XRAY Tracing to non-rest functions e.g., SQS, Cognito Triggers etc","https://stackoverflow.com/questions/65207520/adding-xray-tracing-to-non-rest-functions-e-g-sqs-cognito-triggers-etc","{serverless-framework,serverless,aws-serverless}","2020-12-08 21:58:48+02","2024-05-17 05:23:52.872477+03","Using the Serverless framework I have functions that arent attached to an API Gateway Endpoint such as I am also using XRAY tracing which I have set as tracing true in my serverless yml file It seems that these functions are not being traced the debug message I receive is Ignoring flush on subsegment 20dcd559aa2ab487 Associated segment is marked as not sampled Is there any way to have these functions added either via serverless or cloudformation Thanks in advance "
65214210,"Nestjs on AWS Lambda (Serverless Framework) | How to access the event parameter?","https://stackoverflow.com/questions/65214210/nestjs-on-aws-lambda-serverless-framework-how-to-access-the-event-parameter","{node.js,amazon-web-services,nestjs,serverless-framework}","2020-12-09 09:40:56+02","2024-05-17 05:23:53.954973+03","I am hosting a Nestjs application on AWS Lambda using the Serverless Framework Please note that the implementation is behind AWS API Gateway Question How can I access to event parameter in my Nest controller This is how I bootstrap the NestJS server Here is a function in one controller I am struggling to understand how I can access the event paramenter which is easily accessible in a normal node 12 x Lambda function"
65235859,"AWS WAF has no effect on apigateway behind cloudfront","https://stackoverflow.com/questions/65235859/aws-waf-has-no-effect-on-apigateway-behind-cloudfront","{amazon-web-services,aws-api-gateway,amazon-cloudfront,serverless-framework,amazon-waf}","2020-12-10 13:52:24+02","2024-05-17 05:23:55.063094+03","I have a CloudFront distribution that points to an API gateway endpoint I plugged a WAF ACL on that distribution and it seems to work When I access the API gateway endpoint using the CloudFront I get blocked that is the desired behaviour that I configured on my ACL If I reach my endpoint alone not behind the cf distribution I can reach the endpoint normally I wish to get blocked even if I reach the API in an isolated way My stack was built using the serverless framework and my API gateway is from edge type"
65237353,"Serverless framework running Java code hangs","https://stackoverflow.com/questions/65237353/serverless-framework-running-java-code-hangs","{serverless-framework,serverless}","2020-12-10 15:22:54+02","2024-05-17 05:23:55.821194+03","I am running Serverless 2 15 0 with Node 14 15 0 I have tried installing both with npm i g and by using the curl script in the tutorial I have Maven 3 6 3 installed When I try to run a simple Java hello world function locally I get this message Serverless Building Java bridge first invocation might take a bit longer Then Serverless just hangs No error message nothing When I try to run with SLS_DEBUG there are no messages after that point The only thing I have been able to Google is this but there is not any resolution to the problem The other thing I have found is this but there seems to be no java directory where Serverless is installed so I cannot manually compile the pom file Anyone know how to fix this problem"
65245897,"How do you deploy cloudformation with a lambda function without inline code?","https://stackoverflow.com/questions/65245897/how-do-you-deploy-cloudformation-with-a-lambda-function-without-inline-code","{aws-lambda,aws-cloudformation,serverless-framework,serverless,aws-sam}","2020-12-11 04:43:51+02","2024-05-17 05:23:56.884383+03","the lambda function size is over 4096 characters so I cannot deploy lambda function as inline codes in cloudformation template httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertieslambdafunctioncode html ZipFile Your source code can contain up to 4096 characters For JSON you must escape quotes and special characters such as newline \n with a backslash I have to zip it first upload to a s3 bucket set s3 bucket and file details in cloudformation and deploy it I cannot find a way to deploy with one command If I update the lambda code I have to repeat the above steps But with both AWS SAM or Serverless Framework they can deploy lambda functions without inline codes The only issue is AWS SAM or serverless framework create API gateway as default that I do not need it to be created Any solution or recommendations for me SAM does support to deploy lambda functions without creating API gateway So problem is fixed"
65248377,"Does Azure LogicApp supports WebDav connection?","https://stackoverflow.com/questions/65248377/does-azure-logicapp-supports-webdav-connection","{azure,azure-logic-apps,serverless-framework,webdav}","2020-12-11 09:01:06+02","2024-05-17 05:23:57.543218+03","I have third party WebDav details to upload a file So I have to use that there is no option to use FTP as they have refused it The file is getting generated via LogicApp and I want to use LogicApp to transfer the file to the location using WebDav Does LogicApp support WebDav What are the alternatives"
65257791,"How can I explicitly Deny lambda:InvokeFunction except for trusted resources with IAM?","https://stackoverflow.com/questions/65257791/how-can-i-explicitly-deny-lambdainvokefunction-except-for-trusted-resources-wit","{amazon-web-services,security,aws-lambda,amazon-iam,serverless-framework}","2020-12-11 19:54:51+02","2024-05-17 05:23:58.629617+03","I have been trying to figure out how to create a highly restrictive IAM policy but seem to be running into issues We have a lambda that returns sensitive information A few other lambdas in our system currently only 3 will need the ability to invoke this handler directly with the lambdaInvokeFunction permission but we want to make it very explicit which functions have access Our goal is to have an explicit Deny IAM policy that whitelists the functions that should be granted access This way we can centrally manage the whitelist rather than relying on devs to create Allow policies for themselves I have tried the following however it seems to block access to everything including the whitelisted ARN What would be the best way to secure this function using IAM to ensure that we can have central management of permissions while still allowing our devs to deploy via a shared CICD IAM user that is responsible for provisioning the stack Open to any ideas that help us secure the function including protection against any possible internal bad actorserrors "
65303230,"Google Chrome tab(s) crash during CLI serverless deploy","https://stackoverflow.com/questions/65303230/google-chrome-tabs-crash-during-cli-serverless-deploy","{node.js,google-chrome,zsh,serverless-framework,iterm2}","2020-12-15 09:33:34+02","2024-05-17 05:23:59.32373+03","Over the years with many Macbooks MacOS software versions I have been consistently facing Google Chrome tab s crashes while a serverless deploy command is running in my terminal Everything is fine then I launch a serverless deploy with any optionsenvVars and at a random moment of this process packaging uploading whatever from 1 to n Google Chrome tabs are all at the same time ending up like this excuse the French Refreshing the relevant crashed tabs just does the trick depending on what you were actually doing out there you would have to reconnect rebrowse rewhatever reeverything Sometimes 5 of the time it is all of Google Chrome that actually crahes each window and obviously each tab it contains is closed like if I killed the process and I have to relaunch it all This looks extremely weird to me and obviously is pretty annoying Trying to find the link between a terminal and Google Chrome I am guessing Node js might be something to look at but I am at loss finding any questionforumcontent about this issue Yet I have got a pretty standard config so I am pretty sure I am not alone there Anyone facing the same tabs crash with a solution to share Any pointers about what the problem might be or where I should keep digging "
65312813,"AWS BATCH - SubmitJob operation: Job Queue is attached to Compute Environment that can not run Jobs with capability EC2","https://stackoverflow.com/questions/65312813/aws-batch-submitjob-operation-job-queue-is-attached-to-compute-environment-th","{boto3,serverless-framework,aws-fargate,aws-batch}","2020-12-15 19:56:00+02","2024-05-17 05:23:59.975891+03","I am trying to deploy an AWS Batch with Fargate type but when I try to submit a job to this batch I got the following error An error occurred ClientException when calling the SubmitJob operation Job Queue is attached to Compute Environment that can not run Jobs with capability EC2 This is the configuration that I am using to create my resources with serverlessframework python code to submit a job"
68122303,"Failure: ValidationException: 1 validation error detected: Value '[object Object]' at 'tableName' failed to satisfy constraint","https://stackoverflow.com/questions/68122303/failure-validationexception-1-validation-error-detected-value-object-object","{aws-lambda,serverless-framework,serverless-offline}","2021-06-24 20:18:13+03","2024-05-17 05:26:53.009638+03","When I am trying to hit createAuction URL I am getting this error while running serverless offline Please let me know what to do in order to rid of this error Serverless YAML file resource Table YAML file createAuction js Error Stack "
65337078,"Serverless offline - middleware must contain at least one key among ""before"", ""after"", ""OnError""","https://stackoverflow.com/questions/65337078/serverless-offline-middleware-must-contain-at-least-one-key-among-before-a","{javascript,lambda,serverless-framework,serverless}","2020-12-17 08:29:21+02","2024-05-17 05:24:00.936898+03","Has anyone any idea of this kind of problem Middleware must contain at least one key among before after onError at serverless offline node js when trying to include a middleware in the handler of any function In this case I have created a lambda function and a middy middleware verifyToken and I want that middleware to put it on my handler of the lambda function but it keeps showing me the message I mention before even though my middleware already have those keywords Here is my middleware Thank you in advance "
65354597,"How can I extract the SAN's inside a .csr file in node.js (Serverless Framework)?","https://stackoverflow.com/questions/65354597/how-can-i-extract-the-sans-inside-a-csr-file-in-node-js-serverless-framework","{node.js,serverless-framework,pki,csr,node-forge}","2020-12-18 09:33:04+02","2024-05-17 05:24:02.451885+03","Using Serverless Framework with node js I need to read information inside a csr file received via http POST Using the nodeforge module and with the following code I was able to extract the different information that composes the certificate signing request What I need right now is to also extract the SANs of the CSR if they exist problem is that after inspecting the x509 js file Javascript implementation of X 509 and related components such as Certification Signing Requests of a Public Key Infrastructure that comes within the module I dot not think there is a way to extract the SANs Am I using a deprecated module or old version Is there a way for me to achieve this and I am simply using the incorrect stuff inside nodeforge Please let me know if anyone had a similar problem or was able to overcome this issue Regards"
65638381,"Service composition in Serverless framework and serverless nested stacks discussion","https://stackoverflow.com/questions/65638381/service-composition-in-serverless-framework-and-serverless-nested-stacks-discuss","{microservices,aws-api-gateway,serverless-framework,serverless,aws-serverless}","2021-01-09 01:10:41+02","2024-05-17 05:24:02.995874+03","I am looking for a decent toolingway to achieve this for my Microservices defined using Serverless framework Define dependencies between services so service will be deployed after the downstream services are deployed Forex If 10 microservices have serviceA as a downstream service then serviceA will be deployed first once and then the rest of the 10 microservices I am looking at httpsgithub comaditmaliksynechronserverlessnestedstack Should it address the problem"
65639686,"How to add trigger for s3 event?","https://stackoverflow.com/questions/65639686/how-to-add-trigger-for-s3-event","{amazon-web-services,aws-lambda,serverless-framework,serverless,serverless-architecture}","2021-01-09 05:34:33+02","2024-05-17 05:24:03.968853+03","How to add a trigger for an s3 folder I can add triggers for a bucket from my serverless configuration But not sure how to add a trigger for a folder path"
65660643,"Typescript compilation through Serverless failing","https://stackoverflow.com/questions/65660643/typescript-compilation-through-serverless-failing","{typescript,serverless-framework}","2021-01-11 02:30:15+02","2024-05-17 05:24:05.053671+03","I have a Typescriptbased Lambda function that compiles fine with tsc but when I attempt to deploy through Serverless the Typescript complication fails with the following error The relevant chunks of account ts code are The relevant sections of the serverless yml file are The tsconfig json is rather standard The directory tree looks like this Thoughts on what I am missing on connecting all the dots to get this working within Serverless"
65661823,"How to deploy multiple serverless.yml files one after another(sequentially)","https://stackoverflow.com/questions/65661823/how-to-deploy-multiple-serverless-yml-files-one-after-anothersequentially","{yaml,aws-cloudformation,serverless-framework}","2021-01-11 05:36:26+02","2024-05-17 05:24:05.97162+03","I have created multiple Serverless yml like serverless1 yml serverless2 yml so on files I am able to deploy one by one using cd with going back to each folder but I want to deploy the stacks one after another in sequential order using a single sevrerless yml or shell script file"
65675720,"Serverless add assumed role to allow cloudwatch to call lambda","https://stackoverflow.com/questions/65675720/serverless-add-assumed-role-to-allow-cloudwatch-to-call-lambda","{amazon-web-services,aws-lambda,serverless-framework}","2021-01-11 22:56:59+02","2024-05-17 05:24:06.889186+03","I am trying to allow cloudwatch to execute a lambda function in a serverless yml I can do this via the CLI How can I do this within a serverless yml CLI command from here aws lambda addpermission functionname XXX statementid MyId action lambdaInvokeFunction principal events amazonaws com sourcearn arnawseventsuseast11232132323ruleXXXX I tried from here which immediately gave deployment errors"
65697616,"Serverless AWS Lambda Layer with python packages not working. Weird hash added to package name","https://stackoverflow.com/questions/65697616/serverless-aws-lambda-layer-with-python-packages-not-working-weird-hash-added-t","{python,amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-01-13 07:48:22+02","2024-05-17 05:24:07.619185+03","When I manually create a Lambda Layer I add all the code inside the python folder as required zip that folder upload it and everything works However when I used Serverless SLS it correctly packages everything inside a python zip but when I deploy the package folder is suddenly called python[HASH] As a result I cannot import the python dependencies from that layer Why is there this hash Is there a better way to deal with custom packages that are shared across Lambda functions"
65699060,"Is there any way to automatically manage preflight endpoints for each of the endpoint in serverless (AWS Lambda)","https://stackoverflow.com/questions/65699060/is-there-any-way-to-automatically-manage-preflight-endpoints-for-each-of-the-end","{aws-lambda,serverless-framework,serverless,preflight}","2021-01-13 09:29:29+02","2024-05-17 05:24:08.737756+03","I am working on AWS Lambda using serverless framework and I need to specify two methods in functions yml for each of the API For example if I have to create an endpoint for getting books httpbasicurl comapibooksall I have to add two methods for it in functions yml as follows I have to specify preflight for all of endpoints that I want to create in functions yml Is there any way to manage these preflight endpoints for each endpoint automatically"
65700292,"No export name XYZ found in serverless framework","https://stackoverflow.com/questions/65700292/no-export-name-xyz-found-in-serverless-framework","{yaml,aws-cloudformation,serverless-framework}","2021-01-13 10:44:02+02","2024-05-17 05:24:09.622055+03","I have created this WebSocket and tried to deploy it for the first time It is showing No export name webSocketAPI found custom tag is executing before output exports the API How can I do it with DependsOn or is there any other way for doing this"
72621334,"I often see something like this v3io:// or /v3io/blah/blah, what are the difference","https://stackoverflow.com/questions/72621334/i-often-see-something-like-this-v3io-or-v3io-blah-blah-what-are-the-differe","{nuclio,mlrun}","2022-06-14 17:45:00+03","2024-05-17 05:50:54.476181+03","I often see something like this v3io or `v3iosomedirectory what are the differences"
65703793,"Serverless .getObjectTagging is not a function","https://stackoverflow.com/questions/65703793/serverless-getobjecttagging-is-not-a-function","{amazon-s3,aws-lambda,serverless-framework}","2021-01-13 14:20:04+02","2024-05-17 05:24:10.78579+03","I am trying to get a tag from an s3 object in an AWS lambda function via the Serverless framework but I am running into errors This works without the tagging However when I replace getObject with getObjectTagging like this It fails with what appears to be an empty array in the cloudlogs I have tried to use both getObject and getObjectLogging together but this also fails with s3 getObject getObjectTagging is not a function Can anyone please help with what I am doing wrong I read somewhere it might be permissions but I have the permissions set as the following in the serverless yaml"
65710262,"How to limit parallel execution of serverless lambda function","https://stackoverflow.com/questions/65710262/how-to-limit-parallel-execution-of-serverless-lambda-function","{aws-lambda,serverless-framework,serverless,aws-serverless,serverless-architecture}","2021-01-13 21:47:19+02","2024-05-17 05:24:11.604996+03","I am using AWS and using the serverless framework My serverless lambda function gets triggered by event Then I talk with Database and there is a limit in the number of connections I can open with DB So I want to only run 5 lambda functions at a time and queue other events I know there is So in this case the specified number of long running jobs will be there and they will be serving the events But rather than that what I want is event queuing and the functions will be triggered such that at most 5 functions are running at a time I am wondering whether this notion of event queuing is supported in AWS"
65730620,"How can I put condition in serverless.yml file?","https://stackoverflow.com/questions/65730620/how-can-i-put-condition-in-serverless-yml-file","{amazon-web-services,serverless-framework}","2021-01-15 04:42:29+02","2024-05-17 05:24:12.198812+03","I am using serverless framework to deploy api gateway I do not want to apply VPC to every stage in serverless Is there a way for me to add below configuration based on stage name"
65749618,"Serverless deploy Error: Cannot find module '/Users/.../--max-old-space-size=2048'","https://stackoverflow.com/questions/65749618/serverless-deploy-error-cannot-find-module-users-max-old-space-size-204","{node.js,typescript,serverless-framework,serverless,aws-serverless}","2021-01-16 12:25:06+02","2024-05-17 05:24:13.15659+03","My serverless project is working fine on local when I run it using sls offline start but when I am trying to deploy it via the command line using serverless deploy I am getting the following error stack What could be causing this issue and how can I resolve it I am using Sevrerless version Node v12 20 1 and typescript and this boilerplate httpsgithub comAnomalyInnovationsserverlesstypescriptstarter"
65770417,"Template format error: Unresolved resource dependencies occurs when response resources are added for 4xx and 5xx errors","https://stackoverflow.com/questions/65770417/template-format-error-unresolved-resource-dependencies-occurs-when-response-res","{aws-lambda,aws-api-gateway,serverless-framework,aws-cloudformation-custom-resource}","2021-01-18 07:35:05+02","2024-05-17 05:24:13.826753+03","In our serverless app we have added the following to the resources block of serverless yml so that 4xx and 5xx error responses have CORS headers This worked for us until recently but now It causes the following error when trying to deploy the app using serverless deploy This error goes away when we deploy the app removing the above resources from our serverless yml But the problem is these resources are required for us to successfully catch 4xx and 5xx errors returning from the app We cannot just remove those and proceed Is there any way to keep these resources and still deploy our app without errors Helpful suggestions are highly appreciated serverlesspluginsplitstacks configuration serverless v output"
65774612,"AWS Serverless how to serve static files from S3 and some other through lambda","https://stackoverflow.com/questions/65774612/aws-serverless-how-to-serve-static-files-from-s3-and-some-other-through-lambda","{amazon-web-services,amazon-s3,aws-lambda,amazon-cloudfront,serverless-framework}","2021-01-18 12:32:49+02","2024-05-17 05:24:14.720856+03","I am creating website on AWS using serverless framework There are 3 parts which I need to serve clients How do I accomplish that I need all parts of the app to be able to cooperate thus probably on the same domain I need index html and js files to be able to call the lambda endpoints setted up by API Gateway Also I would like all files be cached throught CloudFront I searched google but did not found any example "
65788920,"AWS Serverless lambda times out while connecting to redshift","https://stackoverflow.com/questions/65788920/aws-serverless-lambda-times-out-while-connecting-to-redshift","{aws-lambda,amazon-redshift,serverless-framework,serverless,serverless-architecture}","2021-01-19 09:44:50+02","2024-05-17 05:24:15.464879+03","I am getting constant timeout while connecting from AWS lambda to redshift I get Timeout exception from my python code I have already added the vpc section So whats happenign here"
65790802,"Cross-Region Secrets Manager Access in Serverless Framework Template","https://stackoverflow.com/questions/65790802/cross-region-secrets-manager-access-in-serverless-framework-template","{amazon-web-services,serverless-framework}","2021-01-19 11:40:29+02","2024-05-17 05:24:16.519926+03","I am accessing Secrets Manager in my serverless yml via which works out nicely Problem is I am keeping all my secrets in a single region now I am trying to add another region stage in serverless but I do not know how to reference secrets from my main region To keep costs low I do not want to replicate my secrets to the secondary regions though Is there any way to achieve this without some prescripting magic but solely using Serverless"
65866680,"How to implement React pagination frontend with DynamoDB backend","https://stackoverflow.com/questions/65866680/how-to-implement-react-pagination-frontend-with-dynamodb-backend","{reactjs,pagination,amazon-dynamodb,serverless-framework,react-pagination}","2021-01-24 02:43:08+02","2024-05-17 05:24:25.292927+03","I have successfully implemented DynamoDB pagination and tested with API Gateway and Postman However I am confused on how to implement pagination in React frontend Currently upon first call to backend api it limits to return 2 images with LastEvaluatedKey In my React I implemented React useEffect as In my api I implement function to call backend Then I create a Load More button to load more images But I get lost at how to call second call to backend with LastEvaluatedKey to load more images Here is my github project httpsgithub comploratranDogLookBooktreemasterclient"
65872319,"Query condition missed key schema element with a secondary index field","https://stackoverflow.com/questions/65872319/query-condition-missed-key-schema-element-with-a-secondary-index-field","{amazon-dynamodb,serverless-framework}","2021-01-24 15:18:29+02","2024-05-17 05:24:26.282628+03","First time to dynamodb and serverless framework I am trying to create a simple todo app With todoId as primary key and userId as a secondary index This is my definition of the table in serverless yaml but when i try to get todo list of the user i get the above error query"
65799053,"S3 hosted React app gets 405 Method Not Allowed","https://stackoverflow.com/questions/65799053/s3-hosted-react-app-gets-405-method-not-allowed","{reactjs,amazon-s3,react-router,serverless-framework,http-status-code-405}","2021-01-19 20:31:37+02","2024-05-17 05:24:17.673511+03","I have a react app hosted in S3 It is behind a Cloudfront CDN which is reachable via a custom domain console example com CDN S3 hosted app I also have a serverless application acting as my backend to handle API calls from the React app This is also behind a Cloudfront CDN which is reachable via a custom domain api example com CDN API Gateway The front end is correctly configured to point to api example com For the API Gateway CORS is enabled When I navigate to the home page and attempt to login console example comlogin I get the 405 Method Not Allowed error Login obviously using POST I verified that the following curl is successful when hitting the backend via API Gateway endpoint Cloudfront Domain and the custom domain effectively ruling out any API Gateway issue curl In my research I have found that S3 does not support POST I have also found similar questions such as this and this which were not helpful in my case unfortunately It is also worth noting that running my frontend and backend locally works just fine leaving me to think the S3 issue is my blocker here But I am not sure why My POST endpoints are not trying to POST an object to the S3 bucket they should be using the bundle js file to hit the api endpoint So what am I missing While I am not a frontend specialist I assume others host react apps on S3 and can hit their apis just fine no I have intentionally not included the code as there would be a lot to digest there but am happy to include any that would be helpful such as serverless yml files or cloudformation templates etc Any help would be awesome UPDATE Added Cloudformation template for frontend Cloudfront CDN "
65820152,"How to access s3 from a serverless lambda function?","https://stackoverflow.com/questions/65820152/how-to-access-s3-from-a-serverless-lambda-function","{amazon-s3,serverless-framework,serverless,aws-serverless,serverless-architecture}","2021-01-21 01:54:48+02","2024-05-17 05:24:18.648043+03","I have a serverless lambda function that cannot access s3 bucket I get Connect timeout on endpoint URL error This Lambda is associated with a VPC and I have already given s3 permission "
65832576,"Converting SSM Value To Number","https://stackoverflow.com/questions/65832576/converting-ssm-value-to-number","{amazon-sns,serverless-framework}","2021-01-21 17:21:47+02","2024-05-17 05:24:19.628035+03","I am trying to deploy an SNS subscription through Serverless Framework to AWS using a range filter policy My resource definition looks something like this The problem is that Serverless pulls all SSM values as strings so the compiled version of the deployment config will be This will fail to deploy as SNS requires 0 25 to be a number instead of a string Serverless has a strToBool function but I have not seen documentation to indicate there is an equivalent function for converting to a numberfloat I am sure I can get around this by using env variables but we store all configurations in SSM and I am hoping to not have to do a oneoff just to get past this issue "
65840333,"Unable to connect with AWS Aurora PostgreSQL?","https://stackoverflow.com/questions/65840333/unable-to-connect-with-aws-aurora-postgresql","{postgresql,amazon-web-services,aws-lambda,serverless-framework}","2021-01-22 06:31:17+02","2024-05-17 05:24:20.648805+03","I am using serverless framework and AWS Aurora PostgreSQL with nodeexpress When i am trying connect with PostgreSQL locally it is working fine but when i am deploying the app on aws lambda function it is not working Log error is like here is my code "
65850866,"Create an AWS HTTP API as resource in serverless","https://stackoverflow.com/questions/65850866/create-an-aws-http-api-as-resource-in-serverless","{serverless-framework,serverless,aws-serverless,serverless-architecture}","2021-01-22 18:35:53+02","2024-05-17 05:24:22.025662+03","How can I create an HTTP API with serverless framework so I can manage it in my yml file The documentations shows this That would create the api but dependant on the function how can I create the API here to configure it and use it on the function I want to be able to manage it on my yml file"
65857120,"How to use custom domain for Serverless app with React frontend?","https://stackoverflow.com/questions/65857120/how-to-use-custom-domain-for-serverless-app-with-react-frontend","{reactjs,lambda,serverless-framework,api-gateway,custom-domain}","2021-01-23 08:19:11+02","2024-05-17 05:24:22.3654+03","I finished my Udacity Cloud Developer nanodegree and I want to make a custom domain to showcase on my portfolio The stack I use includes Api Gateway Lambda DynamoDB Nodejs S3 and Serverless framework Frontend is React However Im stuck on comprehending how to deploy the full app with React frontend Something like anc com would navigate to my app I found many solutions mentioning about using serverlessdomainmanager But what about my React front end I read some solutions saying to deploy static web using S3 But my app currently has S3 to store the uploaded images If I deploy my frontend with S3 do I have to make 2 S3 buckets Currently I have to use 2 terminals SLS deploy for backend and npm run start to run the front end at localhost My github code httpsgithub comploratranDogLookBook"
65858124,"Issues when deploying my serverless project in windows","https://stackoverflow.com/questions/65858124/issues-when-deploying-my-serverless-project-in-windows","{serverless-framework,serverless}","2021-01-23 10:29:45+02","2024-05-17 05:24:23.385626+03","I have created a serverless boilerplate project using this command sls create template awsnodejstypescript path myproject I configured properly my AWS credantials thus I was able to depoly it successfully without any problem sls deploy But when I test de hello function I get the following error after executing sls logs f hello ERROR Uncaught Exception errorTypeRuntime ImportModuleErrorerrorMessageError Cannot find module handler\nRequire stack\n varruntimeUserFunction js\n varruntimeindex jsstack[Runtime ImportModuleError Error Cannot find module handler Require stack varruntimeUserFunction js varruntimeindex js at _loadUserApp varruntimeUserFunction js10013 at Object module ex ports load varruntimeUserFunction js14017 at Object varruntimeindex js4330 at Module _compile internalmodulescjsloader js 99930 at Object Module _extensions js internalmodulescjsloader js102710 at Module load internalmodulescjsloader js86332 at Func tion Module _load internalmodulescjsloader js70814 at Function executeUserEntryPoint [as runMain] internalmodulesrun_main js6012 at intern almainrun_main_module js1747] END RequestId 28588f411c4c439182da0c89bc1f9707 REPORT RequestId 28588f411c4c439182da0c89bc1f9707 Duration 164 91 ms Billed Duration 165 ms Memory Size 1024 MB Max Memory Used 15 MB Unknown application error occurred Runtime ImportModuleError I think the problem is in the Windows environment because when I deploy the service with Mac it works with no issue Did I need an extraconfiguration to use Serverless with windows Thanks for any suggestion"
66603054,"I get errors when I deploy my app on AWS Lambda [duplicate]","https://stackoverflow.com/questions/66603054/i-get-errors-when-i-deploy-my-app-on-aws-lambda","{python,flask,aws-lambda,serverless-framework,serverless}","2021-03-12 15:47:52+02","2024-05-17 05:25:16.399263+03","I am trying to run my flask api on AWS lambda using serverless framework for deployment My app works fine locally when I use sls wsgi serve but I get errors 502 bad gateway when I deploy to AWS Lambda I have two separated files app py and db py in which the Flask_pymongo is imported This is my DockerFile requirements txt And my serverless yml Any suggestion "
65891964,"SAM/Serverless/CodeBuild clarification","https://stackoverflow.com/questions/65891964/sam-serverless-codebuild-clarification","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2021-01-25 20:25:51+02","2024-05-17 05:24:27.237133+03","I am hoping for some clarification around some terms I have been seeing on the web as it pertains to AWS and specifically lambdas For starters I would like the know how the commands sam builddeploy work versus setting up a CodeBuild job Do I need a CodeBuild job to run those commands What files specifically does the sam deploy command look for Does it look for serverless yml or template yml or both What is a sam yml file or are they antiquated I have an app with a CodeBuild pipeline for a lambda but I am expanding my repo to contain multiple lambdas and thinking about putting a serverless yml file in each lambda directory but I do not want to create a CodeBuild job and buildspec for each one I assume sam deploy searches for all template yml and serverless yml files and constructs your stack as a whole and updates only what needs to be updated App is in Node if curious using API Gateway Any insight would be appreciated "
65896699,"serverless s3 AccessDenied","https://stackoverflow.com/questions/65896699/serverless-s3-accessdenied","{node.js,amazon-s3,serverless-framework,aws-serverless}","2021-01-26 06:17:42+02","2024-05-17 05:24:28.254576+03","I spent hours on this issue without understanding why the Access Denied Here my corresponding part of the serverless yml Then running where store bucket is by bucket1 or bucket2 I always have"
65903505,"Serverless Framework: FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory","https://stackoverflow.com/questions/65903505/serverless-framework-fatal-error-ineffective-mark-compacts-near-heap-limit-all","{aws-lambda,serverless-framework,serverless}","2021-01-26 14:46:04+02","2024-05-17 05:24:29.87206+03","When trying to deploy my application with Serverless Framework using the properties i got the follow error FATAL ERROR Ineffective markcompacts near heap limit Allocation failed JavaScript heap out of memory My NodeJS version is 10 "
65903665,"AWS Lambda + Serverless Framework error: Unzipped size must be smaller than 262144000 bytes","https://stackoverflow.com/questions/65903665/aws-lambda-serverless-framework-error-unzipped-size-must-be-smaller-than-2621","{aws-lambda,serverless-framework,serverless}","2021-01-26 14:55:49+02","2024-05-17 05:24:30.433638+03","When trying to deploy my application with Serverless Framework to AWS i got this error"
65908409,"Serverless Framework Api Gateway TypeError","https://stackoverflow.com/questions/65908409/serverless-framework-api-gateway-typeerror","{aws-lambda,aws-api-gateway,serverless-framework}","2021-01-26 20:01:09+02","2024-05-17 05:24:31.349546+03","I have a serverless template which includes a lambda function with API gateway I have included an api key to the template Everything deploys fine BUT I still receive the following type error at the end TypeError Cannot read property apiKeys of undefined I cannot really find any good solution to this problem Here is a sample of my serverless template where I include the apikeys What am I missing here"
66055156,"Unable to find good bind path format when deploying AWS Lambda via GitHub action and serverless framework","https://stackoverflow.com/questions/66055156/unable-to-find-good-bind-path-format-when-deploying-aws-lambda-via-github-action","{python,amazon-web-services,docker,serverless-framework,github-actions}","2021-02-04 23:02:10+02","2024-05-17 05:24:32.502384+03","Trying to use serverless framework to deploy AWS Lambda with Github action running on Windows Server 2019 but deployment fails with Unable to find good bind path format This is how my action template looks like The script deploy runs serverless deploy My serverless yml My package json Sample lambda function handler py Sample requirements txt Log and trace on after calling deploy Locally this deployment process works just fine on my Windows 10 machine though I am using Docker Desktop and the machine in question is Windows Server 2019 Any workarounds or fixes for this problem"
66064212,"Problem trying to use env variables in my severless.yml","https://stackoverflow.com/questions/66064212/problem-trying-to-use-env-variables-in-my-severless-yml","{amazon-web-services,serverless-framework}","2021-02-05 13:34:07+02","2024-05-17 05:24:33.351613+03","I have a problem trying to use env variables in my severless yml I have an env yml with the env var called BUCKET_UPLOADS which sits under dev In the serveless yml I am trying to use this variable like so arnawss3 process env BUCKET_UPLOADS But when trying to deploy I get Bucket name should not contain uppercase characters There are no capitols in the variable value so I think it is taking the above literally but as far as I can see it should be using the variable instead given the markup Any help would be greatly appreciated Thanks"
66071366,"Access Non-Public RDS Instance from Lambdas in Serverless Framework","https://stackoverflow.com/questions/66071366/access-non-public-rds-instance-from-lambdas-in-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,amazon-vpc}","2021-02-05 22:18:34+02","2024-05-17 05:24:34.120592+03","I have a Serverless Framework project consisting of about 5 LambdasAPI Gateway I also have a publicly accessible RDS database My end goal is to have the RDS instance behind a VPC so it is not publicly accessible This would mean also having the Lambdas in the VPC as well I am under the impression that I need an Internet GatewayNat Gateway in order to allow my Lambdas to connect to the internet I have setup a VPC with publicprivate subnets and have created route tables for the InternetNAT Gateways but I am confused where this leaves the API Gateway that comes with the Serverless Framework Is this pattern of accessing non public AWS resources from Lambdas in Serverless Framework supported"
66089671,"How to save/retrieve image and text in severless java","https://stackoverflow.com/questions/66089671/how-to-save-retrieve-image-and-text-in-severless-java","{java,amazon-s3,aws-lambda,amazon-dynamodb,serverless-framework}","2021-02-07 15:33:44+02","2024-05-17 05:24:35.270325+03","I am building a serverless java application where I want to give facility to my customer to enter there Bank account details and upload last three month back statement in PDF PNG JPEG format and also I need to be able to retrieve the info for verification I am using Serverless Lambda JAVA dynamodb as my tech stack Please help me or suggest me to build this feature "
66094737,"Serverless Framework Error: Every Resources object must contain a Type member","https://stackoverflow.com/questions/66094737/serverless-framework-error-every-resources-object-must-contain-a-type-member","{aws-lambda,serverless-framework,amazon-efs}","2021-02-08 01:07:27+02","2024-05-17 05:24:36.01296+03","I am trying to mount an EFS to my Lambda function so that I can use large dependencies So far I have been following this tutorial I slightly modified the yml Whenever I run severless deploy I get the following error I tried commenting out various parts and narrowed down the error to somewhere within besides renaming what I think is an insignificant function name this code snippet is the same as the reference I tried hard coding AWSAccountId based on my account ID but that did not work I am now a bit stumped "
66957095,"Read the package.json name in the serverless.yml","https://stackoverflow.com/questions/66957095/read-the-package-json-name-in-the-serverless-yml","{serverless-framework}","2021-04-05 17:28:17+03","2024-05-17 05:25:35.108919+03","Instead of manually defining the service name in serverless yml I would like to read the name from the package json"
66096833,"Serverless Framework API Gateway Websockets Binary Data","https://stackoverflow.com/questions/66096833/serverless-framework-api-gateway-websockets-binary-data","{websocket,binary,aws-api-gateway,serverless-framework}","2021-02-08 06:29:26+02","2024-05-17 05:24:36.691233+03","Anyone know how to set a websockets content handling strategy to binary in the serverless framework I have a websocket defined as follows My handler expects binary data httpsdocs aws amazon comapigatewaylatestdeveloperguidewebsocketapidevelopbinarymediatypes html httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesapitgatewaymethodintegration html httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayv2integrationresponse html I need to set my ContentHandling or ContentHandlingStrategy to CONVERT_TO_BINARY but I am not sure how I can accomplish this Neither of these packages seem to handle websockets Setting either of the props or both fails as follows It is worth noting this was achievable by a friend using cdk as follows I am looking for a sls approach since all of my infra is managed in sls and I do not want to absorb the tech debt migrating unless I have to "
66104739,"Setting provisioned concurrency for lambda conditionally using serverless","https://stackoverflow.com/questions/66104739/setting-provisioned-concurrency-for-lambda-conditionally-using-serverless","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-02-08 15:42:03+02","2024-05-17 05:24:37.763535+03","The lambda function is created using serverless 2 22 and is deployed using codebuild standard5 0 I want to conditionally set the provisioned concurrency only for UAT and Prod env and not for dev and test env These are the things I tried serverless yml provisionedconcurrency yml In this case what happens is it imports the file successfully build also passes But there is no provisioned concurrency attached in the lambda configuration for UAT and Prod serverless yml In this case getting the following error Checked the serverlessstate json found this to be there "
66121240,"adding AWS Lambda as target using AWS SDK for event bridge rule","https://stackoverflow.com/questions/66121240/adding-aws-lambda-as-target-using-aws-sdk-for-event-bridge-rule","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-02-09 14:45:09+02","2024-05-17 05:24:38.79046+03","I am using serverless framework and the AWS Node js SDK for adding scheduled cron expression based rule to default event bus After that I add target to this rule adding target is successful on the dynamically created scheduled cron rule on event bridge but when I navigate to lambda dashboard it does not seems like the triggering layer is updated and eventually the lambda function is not triggered The AWS SDK documentation for event bridge putTargets is mentioning For AWS Lambda and Amazon SNS resources EventBridge relies on resourcebased policies So if the resource policy is the issue not confirmed is there any configuration regarding resource policy which I can set in serverless yml file for a specific function that allows eventbridge service to add layer to deployed targated lambda function "
66134562,"AWS API Gateway Error - [429] Maximum number of Request Validators for this API has been reached","https://stackoverflow.com/questions/66134562/aws-api-gateway-error-429-maximum-number-of-request-validators-for-this-api","{amazon-web-services,aws-api-gateway,limit,serverless-framework,request-validation}","2021-02-10 09:53:00+02","2024-05-17 05:24:39.735652+03","I am using AWS API Gateway request validation feature for my APIs You can check more details in the documentation here To deploy the API I am using the serverless framework Following is a snippet from the serverless yml The endpoints are backed by lambda functions and are defined as follows As of now I have 8 entities with 5 endpoints for each REST method POST GET ID GET All PUT PATCH Out of these the request validator has been attached to the methods POST PUT and PATCH Hence there are total 24 endpoints that use the request validator On running serverless deploy I get the following error message The Quotas Documentation page does not mention a specific limit on the number of Request Validators Also I intend to have more methods however seems like I have already hit the limit with 24 functions using the request validator How can I get around this limit and ensure the serverless deploy command does not fail Also does anybody know how many request validators are allowed Help would be much appreciated Thanks in advance "
66136190,"AWS Lambda returns 200 to SQS when function times out","https://stackoverflow.com/questions/66136190/aws-lambda-returns-200-to-sqs-when-function-times-out","{node.js,amazon-web-services,aws-lambda,amazon-sqs,serverless-framework}","2021-02-10 11:42:35+02","2024-05-17 05:24:40.45045+03","Resolved Human error Even though status 200 was reported the messages was not deleted when the function timed out I had a side effect that deleted single messages from the batch I have a Lambda function that is invoked by a SQS Message Sometimes the function takes a long time and then it times out Cloudwatch reports Task timed out after 30 54 seconds That is fine but the SQS messages should then be retried because of this timeouterror but in XRay I see that Lambda has errortrue but response status200 That means the SQS messages are deleted I could do timing in the Lambda function and return an error if the code takes longer then the timeout but is there a way to make Lambda to return an error and not status 200 when it times out The functions are setup with the Serverless framework"
66142935,"how to send post requests to AWS Lambda function created with serverless","https://stackoverflow.com/questions/66142935/how-to-send-post-requests-to-aws-lambda-function-created-with-serverless","{post,aws-lambda,serverless-framework}","2021-02-10 18:32:23+02","2024-05-17 05:24:41.24753+03","I cant figure out how to format my post request for my AWS Lambda API created with serverless I have a Lambda function created using the serverless framework I have two functions a function which prints out all modules and their version and another that does a prediction on data sent via a post request It handles dependency storage by mounting an EFS volume heres the serverless yml It seems like the test is working If I run sls deploy and enter the URL for my test function in a browser I get the expected output The ohPredict function is not working as well When I send it a post request with the requests python module I get the following error I ran a test with a simple lambda function and a post request without using serverless and that was all the code I needed I figured I would try experimenting and supplying a few values and I ended up with this which resulted in I tried playing around with supplying other values and did not get any change in the output How can I get my post request to be recieved by my function"
66223691,"Reduce code size of my Express application","https://stackoverflow.com/questions/66223691/reduce-code-size-of-my-express-application","{express,webpack,serverless-framework,serverless}","2021-02-16 11:40:10+02","2024-05-17 05:24:49.50017+03","I have been using the Serverless framework to deploy my Express application I used their Express starter template but since I have added code when I try to deploy it says Your code size must be less than 200MB Try using Webpack Parcel or AWS Lambda layers to reduce your code size I have looked everywhere for a way to use Webpack to reduce my code size but have had no luck How can I use Webpack to make my code smaller than 200MB Again outside of more endpoints my code is identical to this httpsgithub comserverlesscomponentsexpresstreemastertemplatesexpressstarter"
66149079,"Serverless: Include asset files when compiling TypeScript","https://stackoverflow.com/questions/66149079/serverless-include-asset-files-when-compiling-typescript","{typescript,serverless-framework}","2021-02-11 05:10:34+02","2024-05-17 05:24:42.271907+03","I have solved this issue but wanted to document it for others I had a TypeScript project using the Serverless Framework I reached a point in the project where I wanted to use EJS templates for composing emails The implementation worked locally but I realized that the lambda was failing because the EJS files were not being included in the compiled build I tried solving the problem by importing the file instead of using fs but then that lead me into a days long journey reworking my build workflow trying to incorporate Webpack which just kept bringing up new issues to solve Eventually I came upon a section of the Serverless docs concerning excluding and including files It may have just been me but I got the impression that the include config was just for reversing sections of things mentioned in the exclude Because of this I dismissed it at first but decided to try it out and thankfully it solved my problem "
66154603,"Getting a serverless lambda error ""Cannot read property 'Fn::ImportValue' of null""","https://stackoverflow.com/questions/66154603/getting-a-serverless-lambda-error-cannot-read-property-fnimportvalue-of-nul","{node.js,aws-lambda,serverless-framework}","2021-02-11 12:15:40+02","2024-05-17 05:24:42.845586+03","I am experiencing an error when trying to run a lambda locally I have included the full output below for help I have read 63805110 but it looks like a different issued based on the error I have I have included a snippet of my package json for reference Any help much appreciated Thanks Terminal output run sh file Snippet of package file serverless config file Code snippet Update to yml file"
66157734,"sls remove without .serverless directory","https://stackoverflow.com/questions/66157734/sls-remove-without-serverless-directory","{serverless-framework,aws-serverless}","2021-02-11 15:30:30+02","2024-05-17 05:24:43.864229+03","The Serverless Framewokrk creates the serverless directory with configuration of AWS components If it is not present what will happen with sls remove Imagine that someone else deployed and I just cloned the repo and need to remove everything Should I add this directory in the repository"
66183371,"Serverless offline + DynamoDb local issue","https://stackoverflow.com/questions/66183371/serverless-offline-dynamodb-local-issue","{node.js,serverless-framework,amazon-dynamodb-local,serverless-offline}","2021-02-13 08:53:49+02","2024-05-17 05:24:45.446248+03","I have been playing with serverless offline and dynamodb local lately When I have used websockets things worked well Then I have decided to change protocol to http Do not know how this can be related but it is the only change I have did in the code Now I receive error from dynamodb including output of db command I have checked existing tables with command And I see that table exists Then I have printed dynamodb client and I see that options provided seems to be correct according to documentation This is how I create a client UPDATE adding my serverless yml dynamodb section configuration Would appreciate any advice in this direction "
66188828,"Routing in Serverless nuxt app not working","https://stackoverflow.com/questions/66188828/routing-in-serverless-nuxt-app-not-working","{aws-lambda,nuxt.js,serverless-framework}","2021-02-13 19:02:58+02","2024-05-17 05:24:45.677403+03","So I am getting a routing problem whenever I use nuxt ssr with serverless When I use either deploy to AWS lambda or use serverlessoffline it generates the url prefixed with stage but nuxt cannot seem to handle this and either throws 403 404 or 500 errors because the routes to static files are not prefixed with stage I have tried adding stage to the public path on build the results in a 404 because now the static file path needs to prefixed with another stage If I go directly to stage stage _nuxt file it works So looking around I found that I can update the router base to the below but now the file only loads if its stage stage stage _nuxt file and removing the publicPath code above does not make it work either And this is for the static files when it comes to the actual routes the homepage set at either works but any other pages do not because the nuxtlink s to them are not prefixed with stage or if I add the prefix to the base I get a Cannot GET error when I visit stage I have tried many different ways of doing this such as using express however I have had no luck and any tutorials that I found online are at least 2 years old and the github repos have the same problem The closest thing I have found on stackoverflow that is somewhat similar to what I have is here but this is for a static site Anybody have any ideas Below is the code for the serverless yaml handler js nuxt js nuxt config js Github Repo serverless yaml handler js nuxt js nuxt config js"
66210607,"Missing the key id, in the item [serverless framework + lambda + dynamodb]","https://stackoverflow.com/questions/66210607/missing-the-key-id-in-the-item-serverless-framework-lambda-dynamodb","{aws-lambda,amazon-dynamodb,serverless-framework,aws-serverless}","2021-02-15 15:17:12+02","2024-05-17 05:24:46.784981+03","Below is the dynamotable yml Below is the handler code to insert records in dynamodb Below is the content for the serverless yml file Problem When I am hitting POST URL and visit CloudWatch logs below is the error also in postman it returns status code as 502 Bad gateway Question What can be the issue Even a small help will be really helpful Thanks in advance "
66211835,"What is the argument ""lModel"" in mongoose context?","https://stackoverflow.com/questions/66211835/what-is-the-argument-lmodel-in-mongoose-context","{mongoose,aws-lambda,nestjs,serverless-framework}","2021-02-15 16:33:05+02","2024-05-17 05:24:47.584175+03","I have a NestJs API using Mongoose that I am trying to deploy to AWS Lambda using the Serverless framework I had problems with the hewmenserverlessplugintypescript package getting the project to build so I switched over to serverlesswebpack The project runs fine locally using serverlessoffline but when I deploy it to AWS it will not start due to this error Error Nest cannot resolve dependencies of the lModel DatabaseConnection Please make sure that the argument lModel at index [1] is available in the MongooseModule context Does anyone know exactly what this is There are not any types called lModel in my project Any additional troubleshooting or logging tips for this kind of project setup are also welcome Here is my app module ts file if that provides any clues"
66221323,"How to run the server-less deploy in CI/CD command when it needs MFA","https://stackoverflow.com/questions/66221323/how-to-run-the-server-less-deploy-in-ci-cd-command-when-it-needs-mfa","{amazon-web-services,continuous-deployment,serverless-framework,aws-serverless,multi-factor-authentication}","2021-02-16 08:57:50+02","2024-05-17 05:24:48.539106+03","We have 2factor authentication set up in the AWS account sls deploy command thus asks for the MFA code How to run the deployment in noninteractive mode when MFA is enabled For ex command does not support user input Similarly if this was to run in CICD interactivity will not be possible How is this handled What is the best way to manage this in serverless framework with sls deploy command"
66602814,"Serverless not found in docker","https://stackoverflow.com/questions/66602814/serverless-not-found-in-docker","{docker,serverless-framework}","2021-03-12 15:31:46+02","2024-05-17 05:25:15.392873+03","I am trying to run serverless in docker below are the contents of my local file I am getting error can you guys please help me to understand what I am doing wrong"
66230624,"Add egress settings for VPC using Serverless framework","https://stackoverflow.com/questions/66230624/add-egress-settings-for-vpc-using-serverless-framework","{google-cloud-platform,google-cloud-functions,serverless-framework,vpc}","2021-02-16 19:04:24+02","2024-05-17 05:24:50.025354+03","I have created connector and add them to my cloud function using google cloud console but when I deployed function using Serverless framework connector has been removed from function settings After that I found this topic Using GCP connector with serverless framework which helps me add connector to function in serverless yml using vac property vpc projects project_id locations region connectors connector_name but I also need to add egresssettings to Allow all traffic because by default after deploying is set to Allow internal traffic only Can anyone help"
66244708,"How to register a record in Route53 of another account with serverless framework?","https://stackoverflow.com/questions/66244708/how-to-register-a-record-in-route53-of-another-account-with-serverless-framework","{amazon-web-services,amazon-cloudfront,serverless-framework,amazon-route53}","2021-02-17 15:09:42+02","2024-05-17 05:24:51.229284+03","I want to register CloudFornt records in another account using serverless framework but I am wondering how this can be achieved Currently we are operating AWS with multiple accounts so it is essential to register records of another account on the main Route53 Is there any way Please let me know if there are any useful articles "
66246444,"why does importing keras take so long on AWS Lambda?","https://stackoverflow.com/questions/66246444/why-does-importing-keras-take-so-long-on-aws-lambda","{python,amazon-web-services,keras,aws-lambda,serverless-framework}","2021-02-17 16:52:46+02","2024-05-17 05:24:51.945001+03","I am trying to load and use a keras model in AWS Lambda but importing keras from tensorflow is taking a long time in my lambda function Curiously though it did not take very long in SageMaker Why is this and how can I fix it I am using the serverless framework to deploy my function The handler and serverless yml are included below I have an EFS volume holding my dependencies which were installed using an EC2 instance with the EFS volume mounted I pip installed dependencies to the EFS with the t flag For example I installed tensorflow like this where mntefsfs1lib is the folder on the EFS which stores my dependencies The models are stored on s3 I prototyped my loading my model on a Sagemaker notebook with the following code which has the following output so including all imports this takes around 3 seconds to execute however when I deploy to AWS Lambda with serverless keras takes substantially longer to import This lambda function which is the same as the other one just wrapped in a handler and serverless yml p s I know this would fail due to lack of write access and the model needs to be saved to tmp results in this output from cloudwatch As can be seen keras takes substantially longer to import in my lambda environment but the other imports do not seem to be as negatively effected I have tried importing different modules in different orders and keras consistently takes an unreasonable amount of time to import Due to restrictions by the API Gateway this function cannot take longer than 30 seconds which means I have to find a way to shorten the time it takes me to import keras on my lambda function "
66254217,"Where to put ""useDotenv: true"" in serverless.yml file?","https://stackoverflow.com/questions/66254217/where-to-put-usedotenv-true-in-serverless-yml-file","{serverless-framework,serverless,serverless-architecture}","2021-02-18 05:34:28+02","2024-05-17 05:24:52.9425+03","I was using serverless templates and all worked fine until suddenly all my deployments started ignoring env files I searched through the documentation and it says that if I want to use the environment variables from env files I now have to add useDotenv true in my serverless yml file So I did There was no effect My serverless yml file contained nothing else before but the app and org variables Where do I need to add the seDotenv true in order to make it read my env variables"
66259088,"Serverless-framework postgresql version upgrading problem","https://stackoverflow.com/questions/66259088/serverless-framework-postgresql-version-upgrading-problem","{postgresql,amazon-web-services,serverless-framework}","2021-02-18 11:33:05+02","2024-05-17 05:24:53.551047+03","We use serverlessframework and Postgresql It was 11 8 before we successfully upgraded it from 11 8 to 11 9 by changing the version in serverless yml in EngineVersion But now we need to upgrade it to 11 10 and we have the following issue The error message So it looks like it tries to upgrade to 11 1 rather than 11 10 "
66261624,"serverless-offline-sqs : sls offline stuck on ""offline: Starting Offline SQS: local/us-east-1."" #171","https://stackoverflow.com/questions/66261624/serverless-offline-sqs-sls-offline-stuck-on-offline-starting-offline-sqs-lo","{aws-lambda,amazon-sqs,serverless-framework,serverless-offline}","2021-02-18 14:07:06+02","2024-05-17 05:24:54.652985+03","sls offline command stuck on offline Starting Offline SQS localuseast1 What is the last working version of serverlessoffline and serverlessofflinesqs "
66283103,"serverless parameter value is undefined when running serverless deploy","https://stackoverflow.com/questions/66283103/serverless-parameter-value-is-undefined-when-running-serverless-deploy","{amazon-web-services,serverless-framework,serverless}","2021-02-19 18:27:47+02","2024-05-17 05:24:55.664283+03","Followed httpswww serverless comblogserverlesssecretsapikeys to add a parameter value with the key abc in my serverless serviceapp via the UI dashboard but getting this error paramabc not defined when running serverless deploy Does anyone know how to fix this issue serverless yaml config snippet"
66292727,"serverless & python: package is not being added to zip for deployment","https://stackoverflow.com/questions/66292727/serverless-python-package-is-not-being-added-to-zip-for-deployment","{python,aws-lambda,serverless-framework,serverless}","2021-02-20 14:36:21+02","2024-05-17 05:24:56.339738+03","I am adding sqlalchemy to my python project pip install pip freeze all done sqlalchemy has been added to the requirements file After deployment I see an error about the package missing So what am I missing Serverless yml"
66300248,"Performance monitoring an AWS IOT core serverless architecture","https://stackoverflow.com/questions/66300248/performance-monitoring-an-aws-iot-core-serverless-architecture","{amazon-web-services,performance,serverless-framework,aws-iot,aws-xray}","2021-02-21 08:00:00+02","2024-05-17 05:24:57.333078+03","I am working on an AWS serverless architecture that can be roughly described as follows 1 Things reporting to IOT Core 2 From IOT Core the messages arrive to Kinesis 3 Kinesis to different Lambda functions 4 Lambda send messages or not to be stored on dynamodb This is obviously a VERY high level description but I hope it might be enough to explain my question What I would like to do is understand how long my messages are spending on each station along the way So for example Message X took a total of 1 second to process and complete its life cycle and the time spent is divided as follows 100ms on IOT Core 100ms on Kinesis 400ms on a specific lambda function and another 400ms to store on dynamodb To do the above AWS XRAY seems to be the natural option but according to its supported services IOT Core and Kinesis are not included Is there any other way to do the request above Am I missing something with XRAY"
66304049,"Serverless triggered with SQS not send the output to configured destination","https://stackoverflow.com/questions/66304049/serverless-triggered-with-sqs-not-send-the-output-to-configured-destination","{aws-lambda,serverless-framework,serverless,serverless-architecture}","2021-02-21 15:42:17+02","2024-05-17 05:24:57.833066+03","I am using a serverless framework with a triggering function hello with SQS and this is done correctly with the following config after adding the destination to the config it works fine only if I call it from AWS CLI with adding invocationtype Event parameter but in my case the input will be triggered by input SQS and I can not add the invocationtype Event option so How can I always active the SQS destination"
66309527,"How do I add librosa (python lib) to aws lambda using serverless","https://stackoverflow.com/questions/66309527/how-do-i-add-librosa-python-lib-to-aws-lambda-using-serverless","{python,amazon-web-services,serverless-framework,serverless,aws-serverless}","2021-02-22 03:05:47+02","2024-05-17 05:24:58.55843+03","I am trying to use httpswww serverless com to manage dependencies for a simple aws lambda function A key dependency is the librosa python library httpsgithub comlibrosalibrosa I am new to serverless so I would appreciate guidance with the serverless yml file So far I have and requirements txt is When I tried the above I got this error"
66319392,"Can't make an API call to an external service from AWS lambda (wo VPC)","https://stackoverflow.com/questions/66319392/cant-make-an-api-call-to-an-external-service-from-aws-lambda-wo-vpc","{node.js,aws-lambda,axios,serverless-framework,aws-serverless}","2021-02-22 16:18:19+02","2024-05-17 05:24:59.662024+03","I am using the serverless framework with an AWS lambda node js The lambda makes two API calls with axios one GET and one POST When running the function locally everything works great but when I deploy and run it in AWS the POST request just does not happen but I do not get any error message in the logs I saw some previous questions on this issue e g here and they all mention that something needs to be defined in a function that runs in a VPC This specific function does not have a VPC configured so I think this cannot be the problem I have also enabled the cors in the serverless yml see below Any help would be appreciated "
66319917,"Error ""Cannot read property 'name' of undefined"" during serverless deploy deploy","https://stackoverflow.com/questions/66319917/error-cannot-read-property-name-of-undefined-during-serverless-deploy-deploy","{node.js,node-modules,serverless-framework,serverless,aws-serverless}","2021-02-22 16:50:40+02","2024-05-17 05:25:00.491143+03","When i run command SLS_DEBUG serverless deploy i get error Cannot read property name of undefined help please logs and error My serverless yml"
66500621,"How to reject the same POST request sent twice in a short gap of time","https://stackoverflow.com/questions/66500621/how-to-reject-the-same-post-request-sent-twice-in-a-short-gap-of-time","{amazon-web-services,aws-api-gateway,serverless-framework,serverless,api-gateway}","2021-03-05 22:55:42+02","2024-05-17 05:25:01.593964+03","I am wondering if there is a standard way to reject requests with the same body sent within a few seconds at the API gateway itself Forex Reddit rejects if I try to post the same content within few seconds in a different group Similarly if I make a credit card payment for the second time it automatically rejects it I am wondering if there is a way to have the same behavior in the AWS API gateway itself so that we are not handling it in lambda functions with dynamoDB and stuff Looking forward to efficient ways of doing it "
66521824,"Install dependencies automatically upon serverless deploy","https://stackoverflow.com/questions/66521824/install-dependencies-automatically-upon-serverless-deploy","{python,docker,serverless-framework}","2021-03-07 21:50:53+02","2024-05-17 05:25:03.178211+03","I am using Serverless v2 23 0 to deploy a bunch of endpoints to AWS Lambda functions The Lambda functions run python 3 8 I want to automatically install a dependency upon deploy to AWS Lambda For example I want the package pycurl installed automatically I am following the tutorial at httpswww serverless comblogserverlesspythonpackaging I added a requirements txt file which just has the line To serverless yml I added When I deploy via serverless I get this monstrosity Picking from the debris I see errors such as and I tried other dependencies using this method and had no issues at all Why is pycurl not being installed EDIT I implemented the answer here and it deployed correctly But when I do a CURL to the endpoint I get Handler is serverless yml"
66527991,"Dynamodb-serverless one to many and many to many relationships","https://stackoverflow.com/questions/66527991/dynamodb-serverless-one-to-many-and-many-to-many-relationships","{aws-lambda,amazon-dynamodb,serverless-framework,dynamodb-queries}","2021-03-08 10:18:25+02","2024-05-17 05:25:03.518228+03","I am really new to Dynamodb and NoSQL world I am practicing AWS GSI and LSI I am using serverless framework I split my handlers multiple lambda function I want to create my data where I can see all the restaurants and what type of beers they have its price Also I want to query all the beers without price I successfully create the restaurant and it is partition key is id I can able to get all the restaurant data But I stuck in beer logic I create api endpoint for beers like this restaurant id createBeers when I made post request I got error message One or more parameter values were invalid Missing the key id in the item because it asked for restaurants id I cant find the logic where i can add the restaurants id to create the beers and how to get all beers without price The Restaurant is one to many Beer is many to many Same name different price based on Restaurant This is what I want to achieve This is How I want get all the beers in the table This is is my restaurant create This is create Beer handler This is my GSI get all beers without price This is my serverless yml file"
66556524,"What is a good way to wait for workers when using AWS Lambda for parallel processing?","https://stackoverflow.com/questions/66556524/what-is-a-good-way-to-wait-for-workers-when-using-aws-lambda-for-parallel-proces","{amazon-web-services,aws-lambda,parallel-processing,serverless-framework}","2021-03-10 00:07:49+02","2024-05-17 05:25:04.567192+03","I have an optimization problem and I am using several instances of AWS Lambda to run the optimization algorithm in parallel each instance having different parameters I need to wait for all those workers to finish running then go through all the results in order to pick the best one Note I am using a completely serverless architecture My first idea was to use another Lambda function to launch all the workers wait for them then collect the results However I find this synchronous approach rather inconvenient because it requires the main function to be running during the whole process without actually doing any useful work Ideally I would have one function to launch the workers and a second one to collect the results which would be triggered only after all the workers were finished What is a good way to wait for all the Lambda workers to finish before triggering the code that works on their results"
72635736,"How do I log a model with metrics and plots in MLRun?","https://stackoverflow.com/questions/72635736/how-do-i-log-a-model-with-metrics-and-plots-in-mlrun","{python,mlops,nuclio,mlrun}","2022-06-15 17:47:04+03","2024-05-17 05:50:55.486729+03","I am training a model using MLRun and would like to log the model using experiment tracking What kinds of things can I log with the model I am specifically looking for metrics i e accuracy F1 etc and plots like loss over time"
66560150,"AWS profile doesn't seem to be configured! Serverless framework error?","https://stackoverflow.com/questions/66560150/aws-profile-doesnt-seem-to-be-configured-serverless-framework-error","{amazon-web-services,aws-lambda,serverless-framework}","2021-03-10 07:28:26+02","2024-05-17 05:25:05.687021+03","Background I have a gateway account with no permissions in which users are created and in order to access aws resources we use roles having admin access config file credentials file Now I am trying to deploy my lambda using serverless deploy awsprofile DA it says AWS profile DA does not seem to be configured however if I run aws s3 ls profile DA its works perfectly so i guess there is no problem with the configuration of profiles and credentials"
66571130,"VPC error when trying to deploy Lambda function via Serverless Framework","https://stackoverflow.com/questions/66571130/vpc-error-when-trying-to-deploy-lambda-function-via-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,amazon-efs}","2021-03-10 18:57:23+02","2024-05-17 05:25:06.701727+03","I am using Serverless to set up a Lambda function that gets triggered when an object is uploaded to an S3 bucket I want that Lambda function to download the uploaded file from S3 to EFS When I try to deploy the following severless yml file I get the error Function cfnTrigger when using fileSystemConfig ensure that function has vpc configured on function or provider level I have tried defining the Vpc both globally and within the Lambda function sections of the template but both yield the same error Also the actual Security Groups I list within the Vpc represent the set of Security Groups allocated to the EFS resource and the EC2 instance to which it is attached Both resources are also in the same Subnet that I list in the template Any thoughts serverless yml "
66580072,"Serverless | How to set Lambda authorizer to None (public API) [closed]","https://stackoverflow.com/questions/66580072/serverless-how-to-set-lambda-authorizer-to-none-public-api","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2021-03-11 09:49:55+02","2024-05-17 05:25:07.617895+03","This question was caused by a typo or a problem that can no longer be reproduced While similar questions may be ontopic here this one was resolved in a way less likely to help future readers Closed 3 years ago Please consider the following code serverless yml Deploying to AWS returns a link to the API endpoint CURLing the endpoint returns How can I make a public endpoint using Serverless Framework I have tried the following The above returns an error at deploy"
66584623,"Serverless one lambda triggered by multiple s3 buckets","https://stackoverflow.com/questions/66584623/serverless-one-lambda-triggered-by-multiple-s3-buckets","{amazon-s3,serverless-framework}","2021-03-11 14:33:33+02","2024-05-17 05:25:08.61156+03","In my Serverless YAML file I defined a lambda function with multiple S3 events from different buckets already existing such as below The command serverless deploy fails with below text Is it possible to configure one lambda with multiple s3 buckets in Serverless"
66586275,"Can we modify error responses from AWS Cognito?","https://stackoverflow.com/questions/66586275/can-we-modify-error-responses-from-aws-cognito","{node.js,amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2021-03-11 16:12:03+02","2024-05-17 05:25:10.23293+03","I want to modify error responses from Cognito in case of an Invalid Username and password Is there a way to perform that I am following this link httpsdocs aws amazon comcognitolatestdeveloperguidecognitouserpoolmanagingerrors html But unable to find any example "
66591071,"S3 file not downloaded when triggering a Lambda function associated with EFS","https://stackoverflow.com/questions/66591071/s3-file-not-downloaded-when-triggering-a-lambda-function-associated-with-efs","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,amazon-efs}","2021-03-11 21:52:02+02","2024-05-17 05:25:10.283162+03","I am using the Serverless framework to create a Lambda function that when triggered by an S3 upload uploading test vcf to s3triggertestuploads downloads that uploaded file from S3 to EFS specifically to the mntefsvcfs folder I am pretty new to EFS and followed AWS documentation for setting up the EFS access point but when I deploy this application and upload a test file to trigger the Lambda function it fails to download the file and gives this error in the CloudWatch logs My hunch is that this has to do with the local mount path specified in the Lambda function versus the Root directory path in the Details portion of the EFS access point configuration Ultimately I want the test vcf file I upload to S3 to be downloaded to the EFS folder mntefsvcfs Relevant files serverless yml handler py EFS Access Point details"
66592284,"Getting timeout from Mailchimp Transactional when running from Lambda function","https://stackoverflow.com/questions/66592284/getting-timeout-from-mailchimp-transactional-when-running-from-lambda-function","{node.js,aws-lambda,serverless-framework,mandrill}","2021-03-11 23:58:54+02","2024-05-17 05:25:11.23199+03","I am trying to send emails through Mailchimp TransactionalMandrill using Node and Serverless Framework I am able to send emails fine locally using serverlessoffline however when I deploy the function to our staging environment it is giving a timeout error when trying to connect to the API My code is My Lambda is set at a 60 second timeout and the error I am getting back from Mailchimp is It seems to me that either Mailchimp is somehow blocking traffic from the Lambda IP or AWS is not letting traffic out to connect to the mail API I have tried switching to use fetch calls to the API directly instead of using the npm module and still get back a similar error although weirdly in html format Are there any AWS permissions I have missed or Mailchimp TransactionalMandrill configs I have overlooked"
66592799,"I get errors when trying to run my flask app in AWS Lambda","https://stackoverflow.com/questions/66592799/i-get-errors-when-trying-to-run-my-flask-app-in-aws-lambda","{python,aws-lambda,serverless-framework}","2021-03-12 01:10:46+02","2024-05-17 05:25:12.410173+03","I am trying to deploy a flask app that run very well locally to AWS Lambda using severless The deployment is good but I cannot use the aws lambda app I get an error 502 Bad Gateway message Internal server error I checked the logs and here what I found I do not understand ModuleNotFoundError No module named flask_pymongo When I use the app in local I do not have this I have tried to install it anyway but it still does not work My serverless config Any suggestion "
66596735,"Dynamic schedule of cron job in aws serverless","https://stackoverflow.com/questions/66596735/dynamic-schedule-of-cron-job-in-aws-serverless","{aws-lambda,amazon-cloudwatch,serverless-framework,serverless}","2021-03-12 08:45:17+02","2024-05-17 05:25:13.260123+03","Is it possible to schedule event cron job dynamically from lambda function instead from the fixed rate mentioned in YML file If so please provide example"
66597767,"How to update AWS lambda using serverless framework without downtime?","https://stackoverflow.com/questions/66597767/how-to-update-aws-lambda-using-serverless-framework-without-downtime","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2021-03-12 10:00:47+02","2024-05-17 05:25:14.338906+03","There is a following setup There is a highlevel task to update two lambda functions without the downtime for the API that they are serving How to do it using serverless framework Note there are two ways to manage lambda deployments stages and aliases versions Currently aliases do not work in serverless there is a fork that hotfixes the issue but it does not matter atm "
66612621,"Serverless AWS: extend permissions of default IAM role","https://stackoverflow.com/questions/66612621/serverless-aws-extend-permissions-of-default-iam-role","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework,aws-serverless}","2021-03-13 10:54:12+02","2024-05-17 05:25:17.319147+03","Using the serverless yml configuration file I am trying to extend the permissions of the default lambda IAM role to allow my lambda to send SQS messages to a SQS that was previously created but I cannot manage to make it work In my serverless yml file I have the following provider settings According to the documentation this additional statement should be merged into the generated policy However it is not I am missing something "
66621777,"The Lambda function associated with the CloudFront distribution is invalid or doesn't have the required permissions","https://stackoverflow.com/questions/66621777/the-lambda-function-associated-with-the-cloudfront-distribution-is-invalid-or-do","{aws-lambda,amazon-cloudfront,serverless-framework,serverless}","2021-03-14 06:39:21+02","2024-05-17 05:25:18.06042+03","So as a pretext I have got less than no idea what to do about this I have researched for about two hours and normally I would just keep going but none of the information I have found has been useful I suspect this would have something to do with the YAML serverless yml file but I am unsure I have made several updates to the file so I will post the initial code and the current code though no difference has been made The code worked flawlessly in development but throws errors in production You can see httpswww evote space to replicate this Current Initial At first deployment with error My code base is massive and made up of many pages and components So far all that I have made is a login function but on the sign up page where it calls the api to return users for duplicate email validation it returns the error we are all too familiar with Unexpected token in JSON at position 0 if you go back then load the page again you can get the console to reveal a source on that error which reads 503 ERROR The request could not be satisfied The Lambda function associated with the CloudFront distribution is invalid or does not have the required permissions We cannot connect to the server for this app or website at this time There might be too much traffic or a configuration error Try again later or contact the app or website owner If you provide content to customers through CloudFront you can find steps to troubleshoot and help prevent this error by reviewing the CloudFront documentation Generated by cloudfront CloudFront Request ID No0_qVJ3gcOpg48rMXqvgyipx4wKWmVhRewQblZloyaaiVJLqGIA So yeah if you can help please do Edit The code that is causing the issue is the following block And the api that handled this originally looked like this But I changed it so that it can be marked as a lambda so now it looks like this though it made no difference "
66630904,"blank page after deploying Laravel app to AWS using serverless","https://stackoverflow.com/questions/66630904/blank-page-after-deploying-laravel-app-to-aws-using-serverless","{php,laravel,amazon-web-services,amazon-s3,serverless-framework}","2021-03-15 00:22:19+02","2024-05-17 05:25:18.864021+03","I have a project in laravel it work fine in my local Then I am learning how to deploy it to laravel using serverless but when I deployed it shows a blank page This is what I have done Then it creates the yml file serverless yml In the documentation says this By default the LaravelBref package will automatically configure Laravel to work on AWS Lambda Then I run this commands Then it says that everything was ok and displays the endpoint ANY httpsxxxxxxxxxx executeapi useast1 amazonaws com The laravel project displays a blank page then I inspected the code it had this Then I copied the js url httpsxxxxxxx executeapi useast1 amazonaws comjsapp js pasted in the browser and it displays the same blank page After that I created a new bucket made it public and added some policies Run these commands added this to the env file MIX_ASSET_URLhttpsbucketname s3 amazonaws com And just in case I created a new enviroment variable in the lambda function with the same values Then deploy it again But again it displays the same blank page it looks the js an css are not being uploaded properly What is going it thank you "
66633000,"IAM permissions to save file to s3 by serverless framework?","https://stackoverflow.com/questions/66633000/iam-permissions-to-save-file-to-s3-by-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2021-03-15 05:56:30+02","2024-05-17 05:25:19.89932+03","I am trying to deploy a lambda which uploads files to s3 for permissions i do not want to attach role instead manually assign permissions to function myself these are the additional permissions statements i have added in my serverless yml Every time I try to test run my lambda I see this error"
66647945,"An error occurred: ServerlessDeploymentBucket - API: s3:CreateBucket Access Denied","https://stackoverflow.com/questions/66647945/an-error-occurred-serverlessdeploymentbucket-api-s3createbucket-access-deni","{amazon-web-services,serverless-framework,aws-cdk,aws-codepipeline,aws-codebuild}","2021-03-16 01:36:00+02","2024-05-17 05:25:20.888276+03","As running the pipeline from CDKbased CICD pipeline a profile is not being passed in the argument assuming the pipeline has the required permissions through the role I am using the pipeline from httpsgithub comawslabsawssimplecicd My deploymentrole yml file has a policy that looks as follows Given the policy has full access to s3 I expected the deployment to go through but it fails with the following error message Why is that How do I fix it"
66654211,"gyp ERR! stack Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules/serverless/node_modules/snappy/.node-gyp'","https://stackoverflow.com/questions/66654211/gyp-err-stack-error-eacces-permission-denied-mkdir-usr-local-lib-node-modu","{serverless-framework,serverless,aws-codebuild}","2021-03-16 11:20:47+02","2024-05-17 05:25:21.648866+03","I have an AWS CodeBuild Project which tries to install serverless framework but returns an error in the title however it says framework successfully installed My understanding is that this fails to install the snappy module Why is that and how can I resolve this The command I run in my buildspec yaml is And my user is"
66665229,"SignIn link generation on Cognito Signup","https://stackoverflow.com/questions/66665229/signin-link-generation-on-cognito-signup","{amazon-web-services,authentication,amazon-cognito,serverless-framework,serverless}","2021-03-17 00:03:00+02","2024-05-17 05:25:22.71499+03","In our application The admin will sign the user up and an email will be sent to the user through our email service The email should have a link that will have the username in it and the password maybe Password should otherwise be in the email When the user clicks on the link The username field in the form should automatically fill in the username we can be used a query parameter for that but the link should probably be encrypted when it is sent in the email Any ideas on how can think the link to be sent in the email be generated"
66665263,"maintaining multiple API versions with AWS Lambda and API Gateway","https://stackoverflow.com/questions/66665263/maintaining-multiple-api-versions-with-aws-lambda-and-api-gateway","{amazon-web-services,aws-lambda,aws-api-gateway,versioning,serverless-framework}","2021-03-17 00:08:39+02","2024-05-17 05:25:23.374797+03","I am trying to implement versioning on my APIs The aim is to have different URL endpoints for two different API versions which point to 2 different versions of my lambda Solution I can think of is to have 2 API endpoints Example serverless yml My lambda function Within my serverless yml have 2 different function templates like You can see in both my function templates I am pointing it to the same lambda function How can change that to point to the same lambda with a different version"
66672020,"AWS Lambda with Cognito timeout if not called 1 day","https://stackoverflow.com/questions/66672020/aws-lambda-with-cognito-timeout-if-not-called-1-day","{amazon-web-services,aws-lambda,amazon-cognito,serverless-framework}","2021-03-17 11:19:19+02","2024-05-17 05:25:24.853784+03","I use the Serverless framework to deploy my code AWS CodePipeline which listen for changes in AWS CodeCommit repo and deploys by executing a command like this sls deploy v s ENV_NAME It creates API Gateway endpoint and Lambda for login using AWS Cognito SDK I test the login endpoint locally and on AWS and it works fine On the next day I test endpoint again without any config and code change and locally it works fine but when I call it on AWS I get timeout again and again No error in the log CloudWatch just Task timed out after 17 02 seconds If I go in the Lambda on AWS and just add console log Hello it starts to work as expected It happens the same with other endpoints that use Cognito to manage users Another endpoints which not to Cognito work as expected Any ideas what could be the issue"
66680982,"Serveless config - unsupported function event","https://stackoverflow.com/questions/66680982/serveless-config-unsupported-function-event","{aws-lambda,serverless-framework}","2021-03-17 20:47:13+02","2024-05-17 05:25:24.866781+03","Below is the relevant chunk of my serverless yml file When I run serverless deploy I get the following message I have had this problem before and it was just a matter of indentation Could someone point out what am I getting wrong"
66684536,"Not receiving user details on Cognito Post Confirmation Trigger","https://stackoverflow.com/questions/66684536/not-receiving-user-details-on-cognito-post-confirmation-trigger","{java,amazon-cognito,serverless-framework,serverless,amazon-cognito-triggers}","2021-03-18 03:53:43+02","2024-05-17 05:25:25.672793+03","I have created user pool on cognito I want to trigger a lambda function post the user is confirmed his identity I am using Post Confirmation as trigger from my aws cognito user pool What i observe is when the user is confirming is identity i am able to get the request in my lambda function But i am not getting any user details or user attributes in my lambda function request body comes as null Where as if i convert the same lambda to to a HTTP event and pass object from postman i am getting the request Body Please help me to resolve this issue Language used is Java"
66696195,"errorType"": ""Runtime.UnhandledPromiseRejection"", ""errorMessage"": ""Error: getaddrinfo ENOTFOUND in Node.js","https://stackoverflow.com/questions/66696195/errortype-runtime-unhandledpromiserejection-errormessage-error-getaddr","{node.js,serverless-framework}","2021-03-18 17:30:51+02","2024-05-17 05:25:26.836049+03","I am getting below error in Cloudwatch for get API how can we fix this error When I hit the API in postman I am getting 502 Internal Server Error "
66713667,"How reliable is triggering a aws lambda function using cloudwatch events from a mongodb trigger than a message in sqs?","https://stackoverflow.com/questions/66713667/how-reliable-is-triggering-a-aws-lambda-function-using-cloudwatch-events-from-a","{mongodb,amazon-web-services,aws-lambda,amazon-cloudwatch,serverless-framework}","2021-03-19 18:17:44+02","2024-05-17 05:25:27.548149+03","I want to invoke a AWS lambda function when a new document is created in mongodb atlas I found an option the we can integrate mongodb atlas as a trigger to lambda function But is it reliable to do that Is there a chance of missing a trigger Should I use an SQS queue and push a message to SQS whenever a new document is created Thanks in advance "
66715295,"Postgres Sanitization of Inputs Failure","https://stackoverflow.com/questions/66715295/postgres-sanitization-of-inputs-failure","{postgresql,lambda,serverless-framework,aws-serverless}","2021-03-19 20:38:37+02","2024-05-17 05:25:28.54074+03","I am building a simple API and part of the API is supposed to return all unique values for a given column from a PG database This is all wrapped up in lambda functions using the serverless framework All of the other APIs work except for this one and when I manually enter queries into PG they work I am not sure what is happening any advice Failing API hit example columnValsfieldtitle For some reason this works though this is obviously vulnerable to SQL injection which is why it is not you used The lambda function server error is a 500 code internal server error My question is why the param is being sanitized such that it fails even when it does not pose an SQL injection attack threat "
66716815,"Missing _X_AMZN_TRACE_ID variable in os.environ","https://stackoverflow.com/questions/66716815/missing-x-amzn-trace-id-variable-in-os-environ","{python,aws-lambda,serverless-framework}","2021-03-19 23:33:08+02","2024-05-17 05:25:29.096924+03","I have been using the _X_AMZN_TRACE_ID variable but today realized it was missing in one of my lambda functions Is it phased out now Any help reaccesing it Edit I read this article httpsdocs aws amazon comxraylatestdevguidexrayconcepts htmlxrayconceptstraces which suggests there still should be this variable though which is strange "
66718121,"How to know which modified files on node_modules folder","https://stackoverflow.com/questions/66718121/how-to-know-which-modified-files-on-node-modules-folder","{javascript,npm,serverless-framework,console.log}","2021-03-20 04:03:02+02","2024-05-17 05:25:30.262721+03","I am using the serverless framework and install them through npm I have also modified some file in the node_modules folder by add console log to debugging but I cannot remember which file was changed What should I do next Thanks in advance "
66748915,"Serverless error in dynamo get ValidationException: The provided key element does not match the schema","https://stackoverflow.com/questions/66748915/serverless-error-in-dynamo-get-validationexception-the-provided-key-element-doe","{node.js,amazon-web-services,amazon-dynamodb,serverless-framework,dynamodb-queries}","2021-03-22 15:17:02+02","2024-05-17 05:25:30.962311+03","I am using serverless to create and query a DynamoDB database table but when not querying using the primary key I get this error INFO Error in dynamo get ValidationException The provided key element does not match the schema I have another key setup as a GSI but I still get the error serverless yml Dynamo js The query works when the key is VenueID but when I change it to BeaconAddr Which is a GSI the error appears What am I doing wrong Below is a diagram of the table"
66759486,"OSError: [Errno 30] Read-only file system [duplicate]","https://stackoverflow.com/questions/66759486/oserror-errno-30-read-only-file-system","{python,python-3.x,flask,aws-lambda,serverless-framework}","2021-03-23 08:21:22+02","2024-05-17 05:25:31.380895+03","I am trying to run my flask app to lambda It deploy successfully using serverless framework but when I am testing I get this error OSError [Errno 30] Readonly file system Part of the code that trigger the error Any suggestion "
66949090,"How can I fix this error? I am trying to deploy stub API on AWS. I have fired sls deploy command","https://stackoverflow.com/questions/66949090/how-can-i-fix-this-error-i-am-trying-to-deploy-stub-api-on-aws-i-have-fired-sl","{typescript,serverless-framework}","2021-04-05 06:31:50+03","2024-05-17 05:25:31.984891+03","Error EPERM operation not permitted unlink G\scalex\Agency portal build\node_modules at Object unlinkSync fs js11623 at TypeScriptPlugin G\scalex\Agency portal\node_modules\serverlessplugintypescript\dist\src\index js17224 at Generator next at G\scalex\Agency portal\node_modules\serverlessplugintypescript\dist\src\index js771 at new Promise at __awaiter G\scalex\Agency portal\node_modules\serverlessplugintypescript\dist\src\index js312 at TypeScriptPlugin copyDependencies G\scalex\Agency portal\node_modules\serverlessplugintypescript\dist\src\index js16616 at TypeScriptPlugin G\scalex\Agency portal\node_modules\serverlessplugintypescript\dist\src\index js4428 at Generator next at fulfilled G\scalex\Agency portal\node_modules\serverlessplugintypescript\dist\src\index js458 "
66953162,"DynamoDB Error: Member must have length less than or equal to 2; Member must satisfy enum value set: [HASH, RANGE]","https://stackoverflow.com/questions/66953162/dynamodb-error-member-must-have-length-less-than-or-equal-to-2-member-must-sat","{amazon-web-services,amazon-dynamodb,serverless-framework}","2021-04-05 12:35:57+03","2024-05-17 05:25:32.950502+03","I am trying to create the table shown at the bottom in DynamoDB but I get this error I understand that you cannot define more than one PK but is that also the case for GSIPKs How can I fix the errors Serverless yml"
66956042,"Serverless Deploy returns bucket already exists","https://stackoverflow.com/questions/66956042/serverless-deploy-returns-bucket-already-exists","{yaml,aws-cloudformation,serverless-framework,aws-serverless}","2021-04-05 16:12:21+03","2024-05-17 05:25:33.534874+03","I have a Serverless function for uploading an image to a preexisting bucket that works offline but when I try and deploy I either get An error occurred ImageUploadBucket MYUNIQUEBUCKET already exists or An error occurred IamRoleLambdaExecution imageuploaddevuseast1lambdaRole already exists even though I am deploying my function to euwest1 Here is my YML I would be grateful for any advice "
67011985,"How to assume an IAM role created from another stack and apply it to all your functions in Serverless Framework","https://stackoverflow.com/questions/67011985/how-to-assume-an-iam-role-created-from-another-stack-and-apply-it-to-all-your-fu","{amazon-web-services,aws-cloudformation,serverless-framework}","2021-04-08 21:15:40+03","2024-05-17 05:25:36.328915+03","I want to assume an IAM role that is already been created in another serverless yml file It seems as if using the iam property is the only way to do this for all of the iam functions at once The source code I have encountered mainly uses iamRoleStatements to apply IAM permissions but that does not seem to be made to actually have the option to assume already created roles Secondary question should I use the ARN of the role or create an export for it from the stack where it is being created"
67024519,"""s3:CreateBucket Access Denied"" on simple serverless deploy","https://stackoverflow.com/questions/67024519/s3createbucket-access-denied-on-simple-serverless-deploy","{lambda,deployment,serverless-framework}","2021-04-09 16:04:40+03","2024-05-17 05:25:37.79314+03","I am facing a permission issue trying to deploy a lambda using the Serverless framework It actually does not work on a simple QuickStart given example and I have admin privileges on AWS So I am wondering what I might have been done wrong In my understanding it might be linked to the permissions given to CloudFormation but I do not know what and how to properly set in order to make it running When trying to I get the following error I created a serverless service by doing Here is my serverless yml My awscredentials file contains that refers to an admin account "
67025000,"Lambda Layers not installing with Serverless","https://stackoverflow.com/questions/67025000/lambda-layers-not-installing-with-serverless","{aws-lambda,serverless-framework,aws-lambda-layers}","2021-04-09 16:37:59+03","2024-05-17 05:25:38.145175+03","Currently getting the following error with MongoDB We are using Webpack so simply installing the module does not work Webpack just ignores it I found this thread which talks about how to exclude it from Webpack compilations but then I have to manually load it into every Lambda function which led me to Lambda Layers Following the Serverless guide on using Lambda layers allowed me to get my layer published to AWS and included in all of my functions but for some reason it does not install the modules If I download the layer using the AWS GUI I get a folder with just the package json and packagelock json files My file structure is and my serverless yml is"
67032458,"Error while deploying NextJS app to AWS with serverless framework","https://stackoverflow.com/questions/67032458/error-while-deploying-nextjs-app-to-aws-with-serverless-framework","{javascript,amazon-web-services,next.js,serverless-framework,aws-serverless}","2021-04-10 08:49:37+03","2024-05-17 05:25:39.274472+03","When I tried to deploy my NextJS app to AWS with serverless framework In my next JS app directory I ran the command npx serverless and got the following error I am using aws configure to set my AWS credentials My serverless yml file is as follow How should I deploy my app to AWS cloud with a serverless framework Thanks "
67033976,"Can't create a Lambda and Bucket using serverless.yml","https://stackoverflow.com/questions/67033976/cant-create-a-lambda-and-bucket-using-serverless-yml","{amazon-s3,aws-lambda,aws-cloudformation,serverless-framework}","2021-04-10 11:44:55+03","2024-05-17 05:25:40.131613+03","I am trying to create a basic lambda and an S3 bucket using the Serverless Framework I have cut out a small code snippet from this post Enable Lambda function to an S3 bucket using cloudformation Output"
67048280,"Serverless DynamoDB Resource definition error for Global Secondary Index `ProvisionedThroughput` property","https://stackoverflow.com/questions/67048280/serverless-dynamodb-resource-definition-error-for-global-secondary-index-provis","{amazon-dynamodb,aws-cloudformation,serverless-framework}","2021-04-11 17:42:14+03","2024-05-17 05:25:41.251606+03","I am using the serverless framework and am encountering a very strange issue with the GSI definition within my serverless yml When I use my original definition The sls deploy command gives me the following error So I changed serverless yml and added the appropriate ProvisionedThroughput property on the GSI like so Now running sls deploy gives me this error Anyone have any ideas how I can properly deploy my table Unfortunately I am kinda stuck using the serverless framework though I think in a very quick pinch I can convert this to a SAM application I would like to see what help the community can provide first Thank you "
67049434,"Serverless Deployment to staging domain name","https://stackoverflow.com/questions/67049434/serverless-deployment-to-staging-domain-name","{amazon-web-services,serverless-framework,serverless,amazon-route53}","2021-04-11 19:39:06+03","2024-05-17 05:25:42.514755+03","I am trying to deploy an API to the domain name in AWS using Serverless Framework I want to be able to pass in the stage as an option and deploy to that custom domain name For example stage dev should make devapi firstcivdivcareers com I have the domain in Route53 created public certificates for the possible domains but when I run the command I get the error below It is either the way I am trying to use options and variables in serverless or something I am not setting up in AWS Still learning how to use serverless so any advice or commands I can use to debug is appreciated Error Serverless yaml "
67053844,"Lambda S3 getObject - Access Denied - serverless framework","https://stackoverflow.com/questions/67053844/lambda-s3-getobject-access-denied-serverless-framework","{node.js,amazon-s3,aws-lambda,amazon-iam,serverless-framework}","2021-04-12 06:56:55+03","2024-05-17 05:25:43.055822+03","I am encountering a permissions issue in a Node js serverless Lambda handler which performs getObject and putObject to resize an image The actual bucket name for my project has been replaced with the text mybucketname in this SO question I have verified the IAM role several times in the AWS web console and here is the relevant serverless yml and handler code serverless iamRoleStatements block serverless functions block lambda handler portions snipped Finally here is a screenshot verifying the S3 permissions from the AWS web console for the Lambda Screenshot of Lambda IAM role permissions for S3 When performing the GetObjectCommand above using the version 3 awssdkclients3 SDK I encounter the error Access Denied Possibly useful info If I generate a presigned URL to get the object in the Lambda as in commented code section above the following works and does not work 1 Performing an HTTP request for the resource in the Lambda using the Node js library phin results in an Access Denied response 2 Copying and pasting the same exact signed URL into Chrome browser incognito on my local machine fetches the S3 object successfully in a browser tab "
67189465,"The request signature we calculated does not match the signature you provided. I am trying to deploy aws lambda using serverless","https://stackoverflow.com/questions/67189465/the-request-signature-we-calculated-does-not-match-the-signature-you-provided-i","{amazon-web-services,visual-studio-code,aws-lambda,serverless-framework,aws-serverless}","2021-04-21 04:51:49+03","2024-05-17 05:26:00.291704+03","I am trying to deploy AWS lambda using Serverless framework from visual studio code and I am getting this error The request signature we calculated does not match the signature you provided Check your AWS Secret Access Key and signing method "
67058655,"Terraform recreates API permissions for Lambda on each apply causing downtime (lambda module, serverless framework, VPC)","https://stackoverflow.com/questions/67058655/terraform-recreates-api-permissions-for-lambda-on-each-apply-causing-downtime-l","{amazon-web-services,aws-lambda,terraform,serverless-framework,terraform-provider-aws}","2021-04-12 12:47:15+03","2024-05-17 05:25:44.138759+03","I have a Lambda created via terraform aws lambda module It points to a versioned Lambda because I employ reserved concurrency Also it resides in a VPC The config looks like so I have found that in terraform plan even if I do not do any changes and repeatedly issue terraform plan this replacements are occurring which leads to recreation of API Gateway permissions and essentially a small downtime There are some other Lambdas that do not run in VPC Presently I do not see such effect in these while I am not completely sure that it never happens To be certain I do not care about concurrency config as recreation of it does not cause downtime But I want to configure the module such that aws_lambda_permission does not get recreated How can I possibly do that"
67076668,"Best way to store json keyfile for GCP functions serverless deployment with Github actions","https://stackoverflow.com/questions/67076668/best-way-to-store-json-keyfile-for-gcp-functions-serverless-deployment-with-gith","{google-cloud-functions,github-actions,serverless-framework}","2021-04-13 14:19:12+03","2024-05-17 05:25:45.050046+03","I use serveless Github actions to deploy GCP functions serveless ylm deploy_gcp_go yml Is there a way to not store the gcp_keyfile_serverless json file directly in the Github repo used in the serverless yml file "
67077413,"No trigger on Lambda when deploying on existing S3 bucket","https://stackoverflow.com/questions/67077413/no-trigger-on-lambda-when-deploying-on-existing-s3-bucket","{amazon-s3,aws-lambda,triggers,serverless-framework}","2021-04-13 15:02:15+03","2024-05-17 05:25:46.113559+03","I am trying to create an AWS Lambda triggered on a file upload on an existing S3 bucket using Serverless Framework I managed to have the Lambda deployed but cannot have it triggered by upload on my existing S3 bucket I am well aware of The problem is neither of these two lambdas have a trigger set How should I edit my serverless yml or something else to actually have my lambda triggered on file upload"
67080848,"how to reference conditional variables in custom block in serverless.yaml","https://stackoverflow.com/questions/67080848/how-to-reference-conditional-variables-in-custom-block-in-serverless-yaml","{amazon-web-services,aws-cloudformation,serverless-framework,serverless}","2021-04-13 18:54:11+03","2024-05-17 05:25:47.199055+03","I am trying to deploy a serverless app that their variables depend on different environments so far I only need to modify the customDomain in the custom block based on the environment I would like to set domainName and certificateArn depending on whether I call serverless deploy using it seems in the resources block I should be allowed to do something like but I do not know how to reference these in the custom block nor even know if this is possible "
67085089,"Serverless Deployment not working (Python, Lambda)","https://stackoverflow.com/questions/67085089/serverless-deployment-not-working-python-lambda","{python,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-04-14 03:26:04+03","2024-05-17 05:25:48.672519+03","I have a lot of code abstracted away into execute xkcdrandomizer py and I am trying to use serverless to deploy this using the serverlesspythonrequirements plugin Some of these are local packages kumiko so I am expecting errors with those but I get one with xkcd which is a package available through pip Here is my serverless yml Running sls deploy and sls invoke f xkcdrandomizer yield the following error Before my yml only had this at the bottom But this yielded the error Possibly due to opencvs file requirements so I copied this SO post and now I have the error from above Here is my requirements txt My sls version is My docker version is 20 10 5 build 55c4c88 I have done a few hours of googling but peoples problems are very vast with serverless and it feels like I have followed the serverlesspythonrequirements tutorials pretty closely Edit It seems that the package that appears in the error only depends on what I import first in xkcdrandomizer py So it seems like all imported packages are not working "
67085869,"Serverless: Custom Lambda Function name","https://stackoverflow.com/questions/67085869/serverless-custom-lambda-function-name","{aws-lambda,serverless-framework}","2021-04-14 05:13:54+03","2024-05-17 05:25:49.093441+03","I am using serverless framework for my aws lambda function Suppose my function name is service1 function1 in my serverless yml file When i deploy it my lambda function name becomes service1devfunction1 I understand dev is because default stage is dev but i dont want any stage related name in my lambda function I just want my function to be function1 How can i do that"
67090756,"Serverless command ""wsgi serve"" not found","https://stackoverflow.com/questions/67090756/serverless-command-wsgi-serve-not-found","{amazon-web-services,ubuntu,npm,server,serverless-framework}","2021-04-14 11:22:27+03","2024-05-17 05:25:50.743257+03","I am trying to run sls wsgi serve to start the server I tried to install it with npm i serverlesswsgi and sls plugin install n serverlesswsgi It says Successfully installed serverlesswsgi but after running it Serverless command wsgi serve not found I am using Ubuntu 20 04 Thank you "
67095704,"Deploy allow unauthenticated GCP functions with serverless","https://stackoverflow.com/questions/67095704/deploy-allow-unauthenticated-gcp-functions-with-serverless","{go,google-cloud-functions,serverless-framework}","2021-04-14 16:35:23+03","2024-05-17 05:25:51.240573+03","Is there a parameter to add in serverless yml to deploy GCP functions Go the same way it can be done by adding allowunauthenticated to gcloud deploy command Cannot find any information about this in the serverless documentation "
67097701,"RESTful URLs for multiple resource in the same miccroservice","https://stackoverflow.com/questions/67097701/restful-urls-for-multiple-resource-in-the-same-miccroservice","{rest,microservices,aws-api-gateway,serverless-framework,aws-serverless}","2021-04-14 19:06:54+03","2024-05-17 05:25:52.370462+03","We are developing a serverless application AWS API Gateway Lambda and Dynamo keeping users and groups in the same microservice as they are being stored in the same DynamoDB table REST endpoints for the users look like this Is the a good idea to have endpoints for groups look like Is it okay to have endpoints with different base in the same microservice"
67210893,"Can these functions be implemented with serverless framework?","https://stackoverflow.com/questions/67210893/can-these-functions-be-implemented-with-serverless-framework","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2021-04-22 09:50:41+03","2024-05-17 05:26:00.743384+03","I just want to use the nodejs and typescript to run serverless framework locally And could the two function in the following be implemented"
67224273,"Serverless command ""create_domain"" not found","https://stackoverflow.com/questions/67224273/serverless-command-create-domain-not-found","{amazon-web-services,yaml,serverless-framework,serverless,amazon-route53}","2021-04-23 05:05:44+03","2024-05-17 05:26:01.687402+03","I keep getting the create_domain command not found in my serverless project I have installed serverlessdomainmanager in the project AND globally now Still does not work either way serverless yml Error Serverless plugin list output"
67107187,"Lambda timeout after 6s even after increasing timeout period","https://stackoverflow.com/questions/67107187/lambda-timeout-after-6s-even-after-increasing-timeout-period","{node.js,amazon-web-services,serverless-framework,serverless}","2021-04-15 10:56:07+03","2024-05-17 05:25:53.528604+03","I am running a scheduled lambda that runs every 24 hours and I am using Serverless to configure it Initially I did not have any timeouts configured in the scheduled functions so when the lambda would run every 24 hours I would get the following error message Task timed out after 6 01 seconds My lambda would also fire another 2 times after that within seconds apart as lambdas by default will retry twice if they fail To resolve this issue I updated my serverless yml file to this As you can see I have the timeout set to 29 29 seconds and the maximumRetryAttempts set to 0 in case it fails After looking in the AWS console it looks like the lambda has deployed properly from Serverless and I can see that the timeout is set to Timeout 0min29sec I am however still getting the same timeout error after 6s when my lambda runs why is this"
67111405,"Lambda path parameters are embedded inside path dictionary","https://stackoverflow.com/questions/67111405/lambda-path-parameters-are-embedded-inside-path-dictionary","{python,amazon-web-services,lambda,serverless-framework}","2021-04-15 15:29:34+03","2024-05-17 05:25:54.395501+03","I have some python AWS lambdas which are deployed using serverless framework and I was able to retrieve the path variables using event get variable I am not sure what has changed but now I need to retrieve these path parameters using event get path get variable I am using lambda integration and my serverless configuration has not changed and looks like I want to retrieve the id variable using event get id what do I need to do to remap the path parameters to be retrievable straight from the event"
67125589,"Building Serverless applications on Google Cloud","https://stackoverflow.com/questions/67125589/building-serverless-applications-on-google-cloud","{google-cloud-platform,google-cloud-functions,serverless-framework,serverless}","2021-04-16 12:51:56+03","2024-05-17 05:25:54.934641+03","I have been building serverless applications on AWS for the past few years utilizing services such as Lambda DynamoDB SNS SQS Kinesis etc relying on the Serverless framework for local development and deployments Due to professional reasons I have now to switch to Google Cloud and I have been exploring the serverless space in that platform Unfortunately at first glance it does not seem to be as mature as AWS which I do not know whether it is true or just caused by my lack of expertise The reasons that make me claim that are basically the following Does anybody have any tips on how to setup a local environment for this kind of applications and how to manage them effectively"
67127740,"Serverless, connection to AWS RDS","https://stackoverflow.com/questions/67127740/serverless-connection-to-aws-rds","{mysql,amazon-web-services,serverless-framework}","2021-04-16 15:07:08+03","2024-05-17 05:25:55.906452+03","i am attempting to connect to an AWS RDS database however I cannot seem to get my function to even attempt to connect This is my function And this is the response I get after running the following command As you can see the script just ends I do not get either of the messages "
67132310,"Why is the Lambda function added as a target to Event Bridge Rule is not triggered?","https://stackoverflow.com/questions/67132310/why-is-the-lambda-function-added-as-a-target-to-event-bridge-rule-is-not-trigger","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-event-bridge}","2021-04-16 21:18:00+03","2024-05-17 05:25:56.869659+03","I am trying to put a rule and a lambda target to the rule for EventBridge The rule and the target are successfully added however the target Lambda is not triggered And I cannot see the relevant Trigger when I navigate to the target Lambda function on AWS Console I am using Serverless Framework to deploy the stack The putRuleAndTarget lambda is the one that creates the rule and adds notifyUser as the target Heres the relevant section of the serverless ts file This is the code for putRuleAndTarget I am using aws javascript sdk v3 The following screenshots are taken after running putRuleAndTarget The created Rule on AWS EventBridge Console The rule on EventBridge Console The details of the rule showing the target Rule details and Target on EventBridge Console notifyUser function on Lambda Console note that the trigger is missing notifyUser function on Lambda Console Moreover running sls logs f notifyUser does not bring about any log statements the function is never invoked though it is supposed to run every 1 minute "
67159097,"why is the serverless framework rust plugin failling in dockerless and dockerised build mode","https://stackoverflow.com/questions/67159097/why-is-the-serverless-framework-rust-plugin-failling-in-dockerless-and-dockerise","{amazon-web-services,rust,aws-lambda,serverless-framework}","2021-04-19 09:09:07+03","2024-05-17 05:25:57.798433+03","I am currently building my rust lambda using the dockerless method it builds and deploys fine but when I attempt to test it throws the error I then tried building it using a builder image following this method but that when it ran it returned the error The image used for the build is Which does have an version of glibc higher that 2 18 At this point I am out of ideas as to what to try next and would really appreciate it if some one could give me any ideas that allow me to deploy my rust lambda functions using the serverless framework P s I did originally try using the plugin with it is defaults but its to far out of date to be usefull"
67170379,"How to handle ""resend"" email in SNS and SQS","https://stackoverflow.com/questions/67170379/how-to-handle-resend-email-in-sns-and-sqs","{amazon-sqs,serverless-framework,amazon-sns,serverless,aws-serverless}","2021-04-19 23:06:36+03","2024-05-17 05:25:58.575474+03","I have an SNS topic called onboarduser A lot of microservices subscribe to this topic for ex Emai microservice to send the email System preferences microservice To set the defaults There is a queue in these microservices that subscribes to the onboarduser SNS topic Now if the email to the user needs to be resent how should it be handled onboarduser should not get a new message in that case as that has its own purpose and we would not want all of the microservices listening to it to be notified Having an alternate SNS topic for send emails does not sound like such a good idea and an overkill what is the right way to handle it"
67172172,"How can I define a pass through path in API gateway to point to a HTTP endpoint?","https://stackoverflow.com/questions/67172172/how-can-i-define-a-pass-through-path-in-api-gateway-to-point-to-a-http-endpoint","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2021-04-20 03:47:50+03","2024-05-17 05:25:59.721053+03","I am using serverless to deploy API gateway and lambdas It works well for the paths whose targets are lambdas But I would like to define one path whose target is another HTTP endpoint how can I do that When read this doc httpswww serverless comframeworkdocsprovidersawseventsapigatewaypassthroughbehavior all it mentions is about targeting to lambdas "
72648719,"Iguazio job is stuck on 'Pending' status","https://stackoverflow.com/questions/72648719/iguazio-job-is-stuck-on-pending-status","{mlops,nuclio,mlrun}","2022-06-16 15:59:15+03","2024-05-17 05:50:56.198731+03","I have a job I am running in Iguazio It starts and then the status is Pending and the icon is blue It stays like this indefinitely and there is nothing in the logs that describes what is going on How do I fix this"
67383809,"How to pass parameters to scheduled .Net lambda functions using serverless framework?","https://stackoverflow.com/questions/67383809/how-to-pass-parameters-to-scheduled-net-lambda-functions-using-serverless-frame","{.net,lambda,serverless-framework}","2021-05-04 11:22:19+03","2024-05-17 05:26:03.576292+03","I am using the serverless framework to deploy a scheduled AWS Lambda function using a Cloudwatch event to trigger the function The scheduling of the function is working as expected but I would also like to be able to pass parameters with the event The serverless config is similar to the following My question is how to receive the event parameter in the function handler The function is implemented in C and uses the AWS ScheduledEvent class to receive the event in the function handler as follows But the scheduledEvent does not include the key1 parameter anywhere so where did it go and should it be received by the function handler Any help appreciated "
67398018,"How to deploy GCP functions with Golang 1.15 (Serverless framework)","https://stackoverflow.com/questions/67398018/how-to-deploy-gcp-functions-with-golang-1-15-serverless-framework","{go,google-cloud-functions,serverless-framework}","2021-05-05 08:51:45+03","2024-05-17 05:26:04.343127+03","Is there a way to deploy GCP function with Go 1 15 using Serverless framework Looks like 1 15 is available httpscloud google comappenginedocsstandardgoruntime but I cannot find a way to do it with Serverless serverless yml I have this Invalid runtime error "
67433939,"How can I split up my serverless.yml file into multiple files?","https://stackoverflow.com/questions/67433939/how-can-i-split-up-my-serverless-yml-file-into-multiple-files","{amazon-web-services,lambda,yaml,serverless-framework,serverless}","2021-05-07 11:14:49+03","2024-05-17 05:26:05.465343+03","I am using the Serverless Framework for my AWSpowered application I have been writing a superlong serverless yml file so far which contains all my lambda code resources IAM roles and State Machines T find it very hard to manage this big file How can I work around this Is there any way to split my serverless yml file into smaller manageable chunks It would be awesome if I can get one yml per lambda Thanks in advance"
67439569,"How to connect to a NestJS microservice running on AWS using ClientProxy?","https://stackoverflow.com/questions/67439569/how-to-connect-to-a-nestjs-microservice-running-on-aws-using-clientproxy","{amazon-web-services,aws-lambda,microservices,nestjs,serverless-framework}","2021-05-07 17:45:51+03","2024-05-17 05:26:06.597165+03","Given I have a NestJS Microservice created with NestFactory createMicroservice deployed as Lambda API Gateway in AWS by Serverless framework How can I connect to it from my NestJS HTTP Api using the ClientProxy class I have succesfully connected to it using Websocket King so I know it works however I cannot see a WSS Transport option for the NestJS Client Proxy I have tried using Transport TCP to the API Gateway directly and I get a NOT FOUND exception e g To give some context My architectural plan was to have a microservice specifically for database operations TypeORM etc that was called by a NestJS HTTP API I assumed it would work with ClientProxy If this assumption is wrong should I instead be using a Websocket Gateway "
67444602,"Serverless :: AWS profile """"workflow"""" doesn't seem to be configured","https://stackoverflow.com/questions/67444602/serverless-aws-profile-workflow-doesnt-seem-to-be-configured","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2021-05-08 06:09:45+03","2024-05-17 05:26:08.181321+03","I had added a new profile workflow using I have created a serverless application using awscredentials awsconfig serverless yml I tried to deploy the application using Unfortunately I am getting below error I had then set below environment variables from command prompt Unfortunately that also did not help me and the error still prevails Note I used terraform to provision infrastructure Terraform picks the workflow profile successfully from the aforementioned config credential files Problem is only with serverless It would be really great if someone can help me on this "
67479514,"How can I use `If` condition in `Resources` of `serverless.yml`?","https://stackoverflow.com/questions/67479514/how-can-i-use-if-condition-in-resources-of-serverless-yml","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2021-05-11 01:37:49+03","2024-05-17 05:26:08.648144+03","I am trying to use If condition in resources section but failed I would like to control whether to set provisionedConcurrency on my lambda The lambda is defined under function section I got below error when run sls deploy what is the right way to use if condition"
67482144,"Lambda connect to redis inside ec2 within same VPC but failed with connect ECONNREFUSED","https://stackoverflow.com/questions/67482144/lambda-connect-to-redis-inside-ec2-within-same-vpc-but-failed-with-connect-econn","{aws-lambda,redis,serverless-framework}","2021-05-11 07:16:28+03","2024-05-17 05:26:09.124474+03","I am using redis npm and belows a portion of my code where when I am developing locally in my pc redis_host is set to 127 0 0 1 and when in lambda redis_host is set to 172 12 34 56 When developing locally I need to run ssh i DProjectmykey pem fNg L 6379localhost6379 [email protected] p 22 first before my code above can connect to redis Anyway my local deployment connect with redis perfectly well after doing all the above The problem is when I deploy my code to lambda It will always return the error The things is the redis resides in the same ec2 instance with my MongoDB and my lambda can access the MongoDB without any problem using the connection string mongoose connect mongodb172 12 34 5627017mydb I also have added the port 6379 in my ec2 instances security group inbound rules as in the image below Am I missing anything"
67489246,"How can I resolve this error after updating serverless.yml to use new variablesResolutionMode for SSM params?","https://stackoverflow.com/questions/67489246/how-can-i-resolve-this-error-after-updating-serverless-yml-to-use-new-variablesr","{amazon-web-services,serverless-framework}","2021-05-11 14:53:22+03","2024-05-17 05:26:10.083415+03","I am trying to resolve the following deprecation warning Serverless Deprecation warning Syntax for referencing SSM parameters was upgraded with automatic type detection and there is no need to add true or split postfixes to variable references Drop those postfixes and set variablesResolutionMode 20210326 in your service config to adapt to a new behavior Starting with next major release this will be communicated with a thrown error I have removed the true postfix and set the variablesResolutionMode to 20210326 Upon doing so I get the following error from AWS User arnawsiam500345361576usersls is not authorized to perform ssmGetParameter on resource arnawsssm500345361576 I have double checked that this IAM user has the requisite permissions and this all works fine if I revert my changes to not use the new variablesResolutionMode Any ideas on how to resolve this"
67934552,"Resolving Secrets from a pinned Region with Serverless Framework at Resolution Mode 20210326","https://stackoverflow.com/questions/67934552/resolving-secrets-from-a-pinned-region-with-serverless-framework-at-resolution-m","{serverless-framework}","2021-06-11 09:31:57+03","2024-05-17 05:26:34.562016+03","Today I saw the deprecation warning for resolving region pinned SSM params secrets by Serverless I have updated the variable resolving directly to the latest version via variablesResolutionMode 20210326 but now this seems to not work anymore for secrets but only SSM parameters Examples Error message is not too helpful Documentation does only give examples for retrieving secrets without the pinned region but this worked before Am I missing something here"
67496089,"AWS SQS SendMessage isn't working with serverless-offline-sqs","https://stackoverflow.com/questions/67496089/aws-sqs-sendmessage-isnt-working-with-serverless-offline-sqs","{node.js,aws-sdk,serverless-framework,serverless-offline,elastic-mq}","2021-05-12 01:02:37+03","2024-05-17 05:26:11.15552+03","I am working with serverless porting two functions one call it generator that is currently a longrunning node process and the other call it checker triggered by cron so that they both would be lambdas checker triggered by a schedule and generator by receiving an SQS notification I am also a big fan of being able to do local dev so added serverlessoffline and serverlessofflinesqs backed by ElasticMQ Ported the generator and it deploys and runs just fine locally Heres the function as defined in serverless yml I can use the AWS CLI to trigger messages through ElasticMQ aws account obfuscated And the message is received fine the generator lambda triggers Now I want to do that SQS send programmatically for the second function which is pretty much the only real change to that existing nonlambda function It is also deployedlaunched just fine but the awssdk library function to send the same message is not working Heres the function definition in serverless yml Note that I commented out the normal cron schedule since that is not supported by serverlessoffline and just used the 10 minute rate for testing Heres what I added to the rest of the function as the node version of the above command line The output from those logger statements is It sure looks to me like the code is using all the same values as the command line but it just is not working Hoping someone else can see something obvious here Thanks "
67496292,"How can I reference lambda version in `serverless.yml`?","https://stackoverflow.com/questions/67496292/how-can-i-reference-lambda-version-in-serverless-yml","{amazon-web-services,aws-lambda,serverless-framework}","2021-05-12 01:36:17+03","2024-05-17 05:26:12.129316+03","I am using serverless to deploy lambda to AWS I have a case that the lambda is defined in functions section but the provision concurrency is configured in resources because I need to use the Condition The problem I have is that how I can reference the published lambda version from resources "
67502076,"How to access environment variables and pass to Lambda function using useDotenv: true option in serverless.yml?","https://stackoverflow.com/questions/67502076/how-to-access-environment-variables-and-pass-to-lambda-function-using-usedotenv","{environment-variables,serverless-framework}","2021-05-12 10:44:38+03","2024-05-17 05:26:13.059298+03","I am trying to pass environment variables to my Lambda function in serverless yml version 2 32 0 but I am not sure the way of doing it The doucmentaiton httpswww serverless comframeworkdocsenvironmentvariables does not mention how to Right now I am using the useDotenv true option and then trying to access the environment variables by process env ENV1 but it is not working Below is my serverless yml file serverless yml I am getting no errors or warning when I run sls deploy but the environment variables are not being uploaded How would I be able to do it"
67520056,"Cannot connect to DB2: IBM.Data.DB2.Core version 3.1.0.400 on Azure Function","https://stackoverflow.com/questions/67520056/cannot-connect-to-db2-ibm-data-db2-core-version-3-1-0-400-on-azure-function","{c#,.net,db2,azure-functions,serverless-framework}","2021-05-13 13:26:20+03","2024-05-17 05:26:14.158754+03","I am using nuget package IBM Data DB2 Core version 3 1 0 400 to connect to IBM DB2 database from Azure functions with Azure Functions Version v3 Windows Application builds successfully While executing it locally itself I am facing following exception Heres the code snippet where at the time of instantiating the DB2Connection I am getting above exception Please note This code works well as console application where I am able to connect to DB2 Thank you all "
67553537,"Getting error with deployed Serverless Flask app on AWS, No module named 'werkzeug._compat'","https://stackoverflow.com/questions/67553537/getting-error-with-deployed-serverless-flask-app-on-aws-no-module-named-werkze","{python,flask,aws-lambda,serverless-framework,werkzeug}","2021-05-16 05:49:33+03","2024-05-17 05:26:15.149537+03","I have created a simple Flask app and successfully deployed it to AWS Lambda I am following the first steps of this tutorial When the Lambda is run the following error appears in the log I have installed serverlesspythonrequirements and serverlesswsgi The folders are present in the zip folder that was uploaded to AWS I found the reference to werkzeug _compat in serverless_wsgi py However I cannot seem to find _compat anywhere in the Werkzeug folder where this function might be found Am I missing a package or something Here is my serverless yml And my requirements txt"
67569834,"I want to downgrade the serverless version from 2.41.2 to 2.35.0","https://stackoverflow.com/questions/67569834/i-want-to-downgrade-the-serverless-version-from-2-41-2-to-2-35-0","{node.js,serverless-framework,serverless,aws-serverless,serverless-offline}","2021-05-17 12:38:57+03","2024-05-17 05:26:16.172232+03","By mistake I had installed the higher version of serverless on my pc Now I want to downgrade my serverless framework version from v2 41 2 to v2 35 0 due to some project requirements What I had tried to do I uninstalled the current serverless framework with npm uninstall g serverless Then ran this command npm install g [email protected] But when I ran this command serverless version it is still showing the version 2 41 2 on my pc "
67580041,"Can't deploy serverless flask app using serverless-python-requirements STDERR:","https://stackoverflow.com/questions/67580041/cant-deploy-serverless-flask-app-using-serverless-python-requirements-stderr","{python,aws-lambda,serverless-framework}","2021-05-18 04:36:27+03","2024-05-17 05:26:16.962209+03","following this httpswww serverless comblogflaskpythonrestapiserverlesslambdadynamodb for build some flask application on AWS Lambda I already activate venv with python3 8 I am fine with local but I cannot deploy app to AWS Lambda here is my error Here is my serverless yml and my dependencies in requirements txt Is there something I missed"
67597444,"Environment variable validation error in AWS Serverless","https://stackoverflow.com/questions/67597444/environment-variable-validation-error-in-aws-serverless","{javascript,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-05-19 05:31:14+03","2024-05-17 05:26:17.892783+03","When I tried to deploy my service on AWS It is showing me the Validation error in environment variable But My all variables are in the correct format because previously it was working fine My Serverless yml file content is below I run this command sls deploy s local and it is complete output is below My Serverless Installed version detail"
67598301,"How can i Run Web socket In Apache Flink Serverless Java","https://stackoverflow.com/questions/67598301/how-can-i-run-web-socket-in-apache-flink-serverless-java","{websocket,apache-flink,serverless-framework,serverless,aws-serverless}","2021-05-19 06:55:19+03","2024-05-17 05:26:18.773363+03",""
67934877,"How to pass value from serverless yml file to js file?","https://stackoverflow.com/questions/67934877/how-to-pass-value-from-serverless-yml-file-to-js-file","{javascript,yaml,aws-cloudformation,serverless-framework}","2021-06-11 09:53:40+03","2024-05-17 05:26:34.931406+03","In the above code I am calling randomVal function from the serverless yml file I want to pass a string to that function from yml file Is there any way to achieve it"
67599191,"ConflictException: Base path already exists for this domain name in Serverless AWS","https://stackoverflow.com/questions/67599191/conflictexception-base-path-already-exists-for-this-domain-name-in-serverless-a","{node.js,serverless-framework,serverless,aws-serverless,serverless-architecture}","2021-05-19 08:03:34+03","2024-05-17 05:26:19.716156+03","I had build the applicatoin using the AWS lambda with NodeJS environement and For the deployement puposes I am using the Serverless Framework Now When I am trying to deploy my service to the AWS using the Serverless framework with Nodejs template It is deployed to the server but it is not mapping the custom domain name to my service Before that I mapped it and after automatically mapping it with my domain name Now when I tried to redeploy the services it is throwing the error of the custome domain could not be mapped I had attached the error logs below You can check it out Can you help me with how can I resolve this issue Below is the output of my command sls deploy s local "
67600166,"Serverless AWS Lambda project running on deploy","https://stackoverflow.com/questions/67600166/serverless-aws-lambda-project-running-on-deploy","{node.js,aws-lambda,serverless-framework}","2021-05-19 09:07:28+03","2024-05-17 05:26:20.566162+03","I have built a simple Node JS application that consists of a single API endpoint Deployment works and I can all the API endpoint as expected However the handler function also runs on deployment of the code which is problematic for me as handler function posts a tweet to twitter and I do not want it to tweet every time I deploy a code update I have not been able to find anyone online reporting a similar problem but I am sure this would not be expected functionality This is my serverless yml file I created originally from the GitLab Node JS serverless template here httpsgitlab comgitlaborgprojecttemplatesserverlessframework "
67611900,"Cannot process Stack Output: require(...)[func] is not a function","https://stackoverflow.com/questions/67611900/cannot-process-stack-output-require-func-is-not-a-function","{webpack,serverless-framework,aws-serverless}","2021-05-19 22:50:48+03","2024-05-17 05:26:21.668743+03","I have been developing serverless services for quite sometime but have not figured out how to write the webpack file I have always used the webpack of a previous or an example API This has always worked for me Now when I am trying to deploy a service onto AWS I get a serverless error saying Cannot process Stack Output require [func] is not a function in the end It gets deployed but for some reason the API is not working I suppose its probably because of the serverless error which is not allowing a complete deployment Below is my webpak config js file "
67619133,"Using boolean variable in Serverless (TypeScript) config","https://stackoverflow.com/questions/67619133/using-boolean-variable-in-serverless-typescript-config","{typescript,serverless-framework}","2021-05-20 11:04:25+03","2024-05-17 05:26:22.914527+03","Im trying to use a boolean variable in a Typescript serverless config but I cant seem to get the syntax right From the docs I think Im supposed to be using strToBool but I dont seem to be able to create a parseable TypeScript file Is my syntax wrong or am I just going about this all wrong"
67642109,"Multiple DynamoDB GSI additions/deletions and CI/CD pipeline","https://stackoverflow.com/questions/67642109/multiple-dynamodb-gsi-additions-deletions-and-ci-cd-pipeline","{amazon-web-services,continuous-integration,amazon-dynamodb,serverless-framework,continuous-deployment}","2021-05-21 18:20:03+03","2024-05-17 05:26:23.395449+03","Recently we added 3 GSIs to a DynamoDB table and when run through the CICD pipeline it says Suggested Solution A workaround would be to break up your changes to only perform one GSI update at a time For example if you need to add a GSI and also remove one in a table try the following How should it happen through a CICD pipeline though This is what our table definition in SLS framework looks like Let us say we worked on a codebase for months that added 3 different GSIs When it is time to release As suggested to do one index at a time Is it that in step 1 we should change the definition to instead of What about the fact that the queries will be referring to gs3 in the codebase still I do not think removing them in the codebase for deployment would be a good way to do it Also what about the fact that we increment versions on every release Is there a better way to do it instead"
67643889,"Concerning with AWS Scalability with Serverless framework","https://stackoverflow.com/questions/67643889/concerning-with-aws-scalability-with-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2021-05-21 21:12:28+03","2024-05-17 05:26:24.029135+03","When I deploy a serverless framework codebase to AWS I am curious about what method will be better For now there are 2 options Regarding scalability which option is a good approach"
67645510,"Serverless: TypeError: Cannot read property 'stage' of undefined","https://stackoverflow.com/questions/67645510/serverless-typeerror-cannot-read-property-stage-of-undefined","{serverless-framework,serverless}","2021-05-22 02:13:38+03","2024-05-17 05:26:24.757346+03","This is what my serverless yml file looks like When I run the command sls deploy stage staging It show Type Error TypeError Cannot read property stage of undefined at Variables getValueFromOptions snapshotserverlesslibclassesVariables js64837 at Variables getValueFromSource snapshotserverlesslibclassesVariables js57917 at snapshotserverlesslibclassesVariables js53912 Your Environment Information Operating System linux Node Version 14 4 0 Framework Version 2 30 3 standalone Plugin Version 4 5 1 SDK Version 4 2 0 Components Version 3 7 4 How I can fix this I tried with different version of serverless There is error in yamlParser file which is provided by serverlessstepfunctions Above is my serverless config file "
67646196,"AWS Lambda Python Cryptography - Cannot open shared object files","https://stackoverflow.com/questions/67646196/aws-lambda-python-cryptography-cannot-open-shared-object-files","{python,amazon-web-services,aws-lambda,serverless-framework,python-cryptography}","2021-05-22 04:44:38+03","2024-05-17 05:26:25.738112+03","I am working on a Serverless Flask app that is deployed to AWS Lambda The program uses the Cryptography library using version 3 4 7 Locally the program runs fine without any issue However whenever deployed on Lambda the following error appears And when using some required functions from the Hazardous Material module a very similar error appears However the library files referenced do exist and they are in the exact paths indicated The app includes cryptography3 4 7 in the requirements txt as a dependency Serverless then installs the packages while deploying to AWS with sls deploy Serverless puts everything in a zip and uploads it to AWS I can see all the files in this zip folder as expected I thought that it might be an issue with serverless incorrectly uploading or installing the packages when deploying so I even tried including the cryptography folder directly in my project However despite any changes to the serverless configuration or the cryptography package itself I have been unsuccessful in using this package on my deployed Lambda Does anyone have any ideas what I could do to make this work"
72690551,"Can I use credentials in Nuclio functions?","https://stackoverflow.com/questions/72690551/can-i-use-credentials-in-nuclio-functions","{mlops,nuclio}","2022-06-20 16:59:40+03","2024-05-17 05:50:57.024603+03","I am using Nuclio functions and I need to provide credentials in the function for things like accessing database etc Is there a way to store these credentials securely not plain text "
67657937,"relation ""undefined.{table_name}"" does not exist - Unit test a NodeJS Serverless application with Mocha and Chai","https://stackoverflow.com/questions/67657937/relation-undefined-table-name-does-not-exist-unit-test-a-nodejs-serverless","{node.js,postgresql,unit-testing,mocha.js,serverless-framework}","2021-05-23 08:57:34+03","2024-05-17 05:26:26.661374+03","I am trying write unit test cases for NodeJS Serverless REST API in Mocha and Chai The API has database calls in it to Postgres database So I am trying to use the same database local Postgres database that I have used to develop the functionality In serverless yml file environment variable is set like below and configuration variables are set like below and in env yml file I have values setup for environments like below I have changed NODE_ENVtest in package json file under scriptstest in order to run unit test cases This how it looks in pakage json file However when I try to run my unit test cases I am facing relation \undefined table_name \ does not exist error undefined table_name schema_name table_name Here the schema value should be taken from environmental variable But it is undefined Could someone help me how to pass environment values declared in env yml file to environment variables declared in serverless yml file to test when running unit test cases Any help is really appreciated Thanks in advance "
67668483,"Have Serverless always run `npm i` at deploy?","https://stackoverflow.com/questions/67668483/have-serverless-always-run-npm-i-at-deploy","{node.js,serverless-framework}","2021-05-24 07:54:55+03","2024-05-17 05:26:27.75969+03","Using Serverless and AWS Node Lambdas I have noticed that when running the local deployment e g sls deploy stage test it is using the local node_modules directory and not running a fresh npm i prior to deploying Is there any Serverless way to do this or is rm r node_modules npm i sls deploy s test the way to go"
67687754,"Serverless Deploy crashing for ruby app using serverless-ruby-package on mac","https://stackoverflow.com/questions/67687754/serverless-deploy-crashing-for-ruby-app-using-serverless-ruby-package-on-mac","{ruby,serverless-framework,serverless}","2021-05-25 12:18:37+03","2024-05-17 05:26:28.763348+03","I am using serverless for building aws app on a mac When I do not use the serverlessrubypackage and deploy I get as the gems are not properly compiled The moment I add and execute or I get"
67703857,"Using AWS WAF with Serverless Associate WAF","https://stackoverflow.com/questions/67703857/using-aws-waf-with-serverless-associate-waf","{amazon-web-services,serverless-framework,amazon-waf}","2021-05-26 11:21:24+03","2024-05-17 05:26:29.792076+03","I have created a Web ACL in my AWS account in the AWS WAF and assigned it some rules In my serverless yml file I have used the serverlessassociatewaf plugin But when I go to my Web ACLs my acl Associated AWS Resources I do not see the associated API Gateway listed there Here is how my serverless yml file looks When I debugged the deployment process it says Serverless Unable to find WAF named nameofmyacl Am I naming it wrong or using it wrong I do not understand what is the name I should be using for my WAF in the serverless yml file "
67714252,"AWS Serverless: Best way to store permissions of users on different resources","https://stackoverflow.com/questions/67714252/aws-serverless-best-way-to-store-permissions-of-users-on-different-resources","{amazon-web-services,caching,microservices,serverless-framework,rbac}","2021-05-27 00:32:11+03","2024-05-17 05:26:30.783939+03","Users have different permissions on different resources They are called sites in our app which can grow over time Also there is a separate microservice that stores sites information in a separate dynamodb table Permissions are calculated based on the groups a user is in The backend will need to check for permissions always before an action is performed I am looking to find the most efficient way to store permissions so that the permission check will not be redundanttaxing on the application So far our backend is all REST microservices These are the options I have considered JWT Token Do not wish to store permission on each resource in JWT token because the resource list will grow and it may hit the 8Kb header limit That is risky DynamoDB If we were to store permissions of each user in a DynamoDB table that is owned by the User microservice that will mean a REST call to the endpoint from every other microservice which creates tight coupling between other microservices and user microservice and also adds an additional network trip DAX Same issue as above Elastic cache Is it not managed so we will need to introduce a VPC in the application which I personally do not like API gateway caching I guess it will do Authorization caching i e requests with the same JWT token will be able to leverage the cache Our JWT tokens are only cached for 5 minutes though so I am guessing it will hit the DB and calculate every 5 minutes Also this will again mean a REST call to the endpoint from every other microservice which creates tight coupling between other microservices and user microservice that will have this endpoint and also adds an additional network trip Custom authorizer Caches the policy for 5 minutes but we want the change in permissions to be realtime Also we have a strict policy that DynamoDB tables are owned by their respective microservices and that we do not readwrite to DynamoDB from outside of the service Since the authorizer is not going to be writing to the table it will not be the owners and thus becomes dependent on a microservice that owns the table also leads to cyclic dependency because all our microservices depend on the custom authorizer Am I missing something What is the best way to handle this"
67721853,"""IAMRoleLambdaExecution - Syntax errors in policy"" - Serverless Lambda deployment fails for one account ID but not the other","https://stackoverflow.com/questions/67721853/iamrolelambdaexecution-syntax-errors-in-policy-serverless-lambda-deploymen","{amazon-web-services,aws-lambda,serverless-framework}","2021-05-27 12:12:07+03","2024-05-17 05:26:31.801043+03","I have the following serverless yml file The definition for iamRoleStatements is as below I can successfully deploy the code to staging but deployment to prod fails Deployment to prod is done by someone else on a different computer prod has a different Account ID to stage but I never had an issue deploying to prod until authStatement and sesStatement` are introduced The error message received is below I will be happy to supply additional details if necessary Thank you "
67734420,"IdempotentParameterMismatchException for AWS Glue Job","https://stackoverflow.com/questions/67734420/idempotentparametermismatchexception-for-aws-glue-job","{amazon-web-services,aws-cloudformation,serverless-framework,aws-glue,serverless}","2021-05-28 07:15:09+03","2024-05-17 05:26:33.088506+03","An error occurred MergeV2Qa Job with name merge_v2_qa already submitted with different configuration Service AWSGlue Status Code 400 Error Code IdempotentParameterMismatchException Request ID 7385f6da3c7e4a3f8139d63b32351f3b Getting IdempotentParameterMismatchException while creating glue job using cloudformation "
67741752,"Docker with Serverless- files not getting packaged to container","https://stackoverflow.com/questions/67741752/docker-with-serverless-files-not-getting-packaged-to-container","{amazon-web-services,docker,docker-compose,serverless-framework,localstack}","2021-05-28 15:32:56+03","2024-05-17 05:26:33.260393+03","I have a Serverless application using Localstack I am trying to get fully running via Docker I have a dockercompose file that starts localstack for me When I run dockercompose up then deploy my application to localstack using SLS deploy everything works as expected Although I want docker to run everything for me so I will run a Docker command and it will start localstack and deploy my service to it I have added a Dockerfile to my project and have added this I then run docker build t serverlessdocker followed by docker run p 491603000 serverlessdocker but am receiving the following error I guess this is what would happen if I tried to run SLS deploy in the incorrect folder So I have logged into the docker container and cannot see my app that i want to run there what am i missing in dockerfile that is needed to package it up Thanks"
67943931,"Azure function with HTTP trigger and blob output binding failed with 500 and no details","https://stackoverflow.com/questions/67943931/azure-function-with-http-trigger-and-blob-output-binding-failed-with-500-and-no","{c#,azure,azure-functions,serverless-framework}","2021-06-11 22:05:58+03","2024-05-17 05:26:35.827267+03","I am trying to create a simple Azure function app that receives image binary from HTTP request and write to blob storage using C and Serverless Framework The C function code looks is as follow My host json looks as follow And the app is deployed using Serverless Framework However when I tested it Azure always gave 500 Internal Server Error without any details No application insights traces no logs and the execution count is zero as well which is really confusing for me Here is the generated function json on Azure I have been trying different ways to debug it for a week and could not find the cause Anyone can give some tips"
67959096,"Serverless Subscriber limit exceeded","https://stackoverflow.com/questions/67959096/serverless-subscriber-limit-exceeded","{amazon-web-services,amazon-dynamodb,aws-cloudformation,serverless-framework}","2021-06-13 14:03:34+03","2024-05-17 05:26:36.845443+03","I am using the serverless framework to manage the Lambda DynamoDB and S3 resources creation for me In the serverless yml I had initially provided some Read and Write capacity units to my DynamoDB table Then I changed it to BillingMode PAY_PER_REQUEST and the update was successful Now when I have changed some other property in the yaml file the serverless deploy command is throwing the following error My question why is it trying to update the UsersTable when there are no updates to it AFAIK there are changesets and they detect if there are any changesupdates to the resource Have I missed something A follow up question how do I make sure that this does not happen again because I am in the initial phases of setting up the infra and would be doing lot of updates to the yaml file daily For reference following is the part of the yaml file that is causing the trouble "
67962125,"Not able to access internet inside Default AWS VPC from Lambda","https://stackoverflow.com/questions/67962125/not-able-to-access-internet-inside-default-aws-vpc-from-lambda","{amazon-web-services,serverless-framework,serverless,amazon-vpc,aws-serverless}","2021-06-13 19:49:20+03","2024-05-17 05:26:37.698986+03","Hi I am developing a AWS serverless application default VPC which has subnets attached with internet gateway I have configured my lambda function inside default VPC I am expecting the lambda to have internet connection to it as the subnets are attached with internet gateway But unfortunately lambda function does not have internet access Can someone help in access internet from lambda in this scenario"
67977166,"Unexpected Dual Lambdas deployed in Serverless Framework Services pattern","https://stackoverflow.com/questions/67977166/unexpected-dual-lambdas-deployed-in-serverless-framework-services-pattern","{aws-lambda,serverless-framework}","2021-06-14 21:01:12+03","2024-05-17 05:26:38.427807+03","I am attempting the serverless Services pattern with the intention of having a single entrypoint for a couple or three API calls that all relate to the same overall service It seems to me that I have followed the suggested pattern and in fact the code works fine but I am seeing two lambda functions deployed instead of the single function I expect Any thoughts on where I am going wrong It all works fine but as noted there are two lambdas deployed instead of the desired single lambda each with a router each with helpers Somehow the API part is seeing each function as entirely separate even though they reference the same router function as entrypoint The serverless yml which should mirror the one in the article looks like this On deployment I see something like where specificURL is the same in each case"
68006047,"MissingRequiredParameter: Missing required key 'TableName' in params : Serverless Framework","https://stackoverflow.com/questions/68006047/missingrequiredparameter-missing-required-key-tablename-in-params-serverles","{aws-lambda,serverless-framework,serverless}","2021-06-16 15:48:30+03","2024-05-17 05:26:39.468512+03","I am getting the error stack below The code looks fine to me do not know where is the error My handler code is below "
68017528,"How to reference external aws resource with default in serverless framework?","https://stackoverflow.com/questions/68017528/how-to-reference-external-aws-resource-with-default-in-serverless-framework","{amazon-web-services,aws-cloudformation,serverless-framework,aws-serverless}","2021-06-17 10:28:30+03","2024-05-17 05:26:40.458224+03","I want to reference an external aws resource in serverless framework However if it does not exist I want to fall back to a default value For example For authorizer I want to reference a function if it exists and if it does not exist to default to another value"
68018892,"NestJs Eventbridge Lambda function","https://stackoverflow.com/questions/68018892/nestjs-eventbridge-lambda-function","{node.js,microservices,nestjs,serverless-framework,aws-event-bridge}","2021-06-17 11:59:32+03","2024-05-17 05:26:41.26514+03","I have a system writed in using NestJs and serverless framework were each endpoint is a lambda function on aws One of the functions is not an endpoint but a trigger from AWS eventbridge As this function is not an endpoint it cannot be included on a NestJs module since it have to be exported separatelly My problem is that when the event comes to Eventbridge and triggers the lambda I have to call a NestJs service but I am not able to do this since the lambda function is outside NestJs environment Is that a way for me to call a NestJs service from outside the module Here is the serverless framework configs Currently I am using axios to call another NestJs endpoint to just pass the received payload As you can see on the lambda function file Here is the controller of lambda function 1 and here is the service The question is Is that a way to call all this NestJs structure from the function file since it is outside NestJs modules and since the trigger for this function is not an http request but a trigger from Eventbridge Thank you so much "
68021722,"How to join or merge provider.patterns array from multiple yml files in serverless.yml and also how to set enabled flag on scheduled events","https://stackoverflow.com/questions/68021722/how-to-join-or-merge-provider-patterns-array-from-multiple-yml-files-in-serverle","{amazon-web-services,yaml,serverless-framework}","2021-06-17 14:51:31+03","2024-05-17 05:26:42.22793+03","I have serverless_common yml file for all shared things across all my lambdas and I have serverless yml in my individual service when I try to import package patterns in to my individual service yml file I get following error when I do sls print"
68025158,"get user info in context.identity within Lambda function when using icognito identity pool","https://stackoverflow.com/questions/68025158/get-user-info-in-context-identity-within-lambda-function-when-using-icognito-ide","{node.js,aws-lambda,amazon-cognito,serverless-framework,aws-appsync}","2021-06-17 19:00:57+03","2024-05-17 05:26:43.082108+03","I am using lambda post authentication to trigger appsync mutation to store users details in dynamodb I want to user the users context identity cognitoIdentityId as specified in the docs httpsdocs aws amazon comappsynclatestdevguideresolvercontextreference htmlawsappsyncresolvercontextreferenceidentity when using IAM authorization with credentials vended from Amazon Cognito identity pools however when I log context in cloud watch the identity object in cloud watch is missing thus I am unable to store the users details in dynamodb this is my lambda post authentication function I would be glad on assistance to get the context identity from within the lambda function "
68035352,"CloudFormation - Terraform integration via SSM","https://stackoverflow.com/questions/68035352/cloudformation-terraform-integration-via-ssm","{terraform,integration,serverless-framework,aws-ssm}","2021-06-18 12:41:25+03","2024-05-17 05:26:43.937141+03","Some parts of my AWS infrastructure like S3 bucketsCloudFront distributions are deployed with Terraform and some other parts like serverless stuff are done with Serverless framework which is producing CloudFormation templates under the hood Changes in ServerlessCloudFormation stacks produces changes in API Gateway endpoint URLs and running terraform plan against S3CloudFront shows the difference in origin CloudFront block My idea was to write SSM on CloudFormationServerless deploy and read it in Terraform to be in sync Reading from SSM in serverless yml is pretty straightforward but I was unable to find the way to update SSM when deploying CloudFormation Stack Any ideas"
68040032,"Deploy warning calling external JS function in `serverless.yml`","https://stackoverflow.com/questions/68040032/deploy-warning-calling-external-js-function-in-serverless-yml","{serverless-framework,serverless}","2021-06-18 18:36:55+03","2024-05-17 05:26:45.353109+03","So in my serverless yml file I have this And in that file located in serverlessgetcustomvalue js is this JavaScript code When doing a sls package s stage or sls deploy s stage which are both successful I see this warning Yet despite the warning it works exactly as expected "
68040700,"How to output resource path from serverless framework on aws?","https://stackoverflow.com/questions/68040700/how-to-output-resource-path-from-serverless-framework-on-aws","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2021-06-18 19:46:38+03","2024-05-17 05:26:45.710773+03","How do I output the resource pathURL to cloudformation Outputs For example I have a lambda that is listening for a http event on path hello and I would like the cloudformation to output a variable with the value httpskjkjwerwer executeapi euwest1 amazonaws comtesthello By default serverless framework outputs the ServiceEndpoint however I wanted the full endpoint of each of my functions"
68051340,"Unable to fetch TableName Serverless Framework: Missing required key 'TableName' in params","https://stackoverflow.com/questions/68051340/unable-to-fetch-tablename-serverless-framework-missing-required-key-tablename","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-06-19 22:54:40+03","2024-05-17 05:26:46.461379+03","I followed this YouTube tutorial first to try and develop a serverless rest api using serverless framework It gave an error of MissingRequiredParameter and initialised table name to undefined To alleviate that I found a similar code on GitHub but deploying this also gives the same error Here are the console logs in cloud watch It gives an error 502 Bad Gateway serverless yaml file Changes made to dbhandler js Help is appreciated Thanks NOTE I did check several solutions but none of them seems to work "
68061842,"permission needed to install serverless via npm","https://stackoverflow.com/questions/68061842/permission-needed-to-install-serverless-via-npm","{serverless-framework,serverless,serverless-offline}","2021-06-21 03:08:59+03","2024-05-17 05:26:47.462887+03","I am trying to install serverless via npm npm install g serverless but get the following error Does anyone know how to do this without having to switch the node versions you are using EDIT When I run this with sudo I get the following output However when I try to run serverless invoke local function f1 I get zsh command not found serverless after I install with sudo what do I need to do so that the command is recognised"
68070277,"Webpack issue with a python file","https://stackoverflow.com/questions/68070277/webpack-issue-with-a-python-file","{javascript,python,webpack,aws-lambda,serverless-framework}","2021-06-21 15:02:24+03","2024-05-17 05:26:47.942806+03","I have a node js project using webpack that is being deployed to AWS Lambda However I also have a single python file in the project that is powering one of the Lambda functions i ported a legacy python script over to lambda for automation purposes In my serverless yml I have set the appropriate runtimes node jspython for the functions My problem is that webpack throws errors about my python file it is even referencing a pythonhandler js file that doesnt exist the python handler is pythonhandler py The exact error is ERROR in pythonhandler py 20 Module parse failed Unexpected token 20 You may need an appropriate loader to handle this file type currently no loaders are configured to process this file See httpswebpack js orgconceptsloaders I just want webpack to bundle the regular js files and leave the python file alone Note that deploying the project without webpack works and gives me lambda functions powered by javascript and python Does anyone have any suggestions to my issue"
68088344,"How to ignore node_modules with node.js lambda and serverless frameowrk?","https://stackoverflow.com/questions/68088344/how-to-ignore-node-modules-with-node-js-lambda-and-serverless-frameowrk","{amazon-web-services,aws-lambda,serverless-framework}","2021-06-22 17:32:47+03","2024-05-17 05:26:48.962856+03","I am trying to deploy lambda function using node js as of now when i use serverless deploy my entire project directory is being pushed to lambda in a zip file But keeping in mind the scale of project i am looking for something where node_modules are not included when i use serverless deploy and instead they get installed during deployment of lambda in short something similar to serverless pligins for python httpswww tutorialspoint comserverlessserverless_plugins htm"
68105052,"What is the meaning of this error ""Invalid KeySchema: Some index key attribute have no definition (Service: AmazonDynamoDBv2);","https://stackoverflow.com/questions/68105052/what-is-the-meaning-of-this-error-invalid-keyschema-some-index-key-attribute-h","{aws-lambda,amazon-dynamodb,serverless-framework}","2021-06-23 18:03:31+03","2024-05-17 05:26:49.845047+03","Could you please tell me anything that I have missed at this code I use the serverless framework and I got the error Any mistakes that I make"
68117964,"Serverless wsgi error on lambda but working fine on local","https://stackoverflow.com/questions/68117964/serverless-wsgi-error-on-lambda-but-working-fine-on-local","{python,flask,aws-lambda,serverless-framework}","2021-06-24 14:45:04+03","2024-05-17 05:26:51.502222+03","Hey guys I have some problem with flask serverlesswsgi and serverlesspythonrequirements plugins when I deploy on lambda and test this function on AWS console and I got this error below Do not know why It is work on local test Before I faced this issue I have founded no werkzeug module error so I downgraded my requirements txt but It still not work Here is my handler py this function is just return something And this my serverless yml Is here have somebody who can help me please "
68121318,"How to run an AppSync which has Lambda resolvers (Created using serverless framework) locally?","https://stackoverflow.com/questions/68121318/how-to-run-an-appsync-which-has-lambda-resolvers-created-using-serverless-frame","{serverless-framework,aws-appsync,serverless-application-model}","2021-06-24 18:52:40+03","2024-05-17 05:26:51.942762+03","I am working on a project where I have to use the serverless framework to deploy AppSync with lambda resolvers My serverless YAML file looks like follows I want to run this on my local machine in order to debug and test I am stuck in here and is there anybody who can help"
68176433,"Whats the best way to publish a create-react-app to AWS?","https://stackoverflow.com/questions/68176433/whats-the-best-way-to-publish-a-create-react-app-to-aws","{reactjs,amazon-web-services,create-react-app,serverless-framework,serverless}","2021-06-29 09:55:09+03","2024-05-17 05:26:55.061796+03","I have created a createreactapp locally and I am using serverless framework for all my local db and apis I have just realised I have no idea how I am going to publish the react app part of my application to AWS What is the best way to publish a react app in AWS Or what are the common ways to do this"
68189184,"How to emulate AWS Parameter Store on local computer for lambda function development?","https://stackoverflow.com/questions/68189184/how-to-emulate-aws-parameter-store-on-local-computer-for-lambda-function-develop","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-parameter-store}","2021-06-30 06:02:43+03","2024-05-17 05:26:55.650013+03","I am using Serverless framework and NodeJS to develop my AWS Lambda function So far I have used env file to store my secrets So I can get access to them in serverless yml like this But now I need to use AWS Parameter Store instead of env file I have tried to find information about how to emulate it on my local machine but I could not I think I have to use one serverless config file on local and staging I need a way to select somehow env values either from env file if it is local machine or from Parameter Store if it is AWS Lambda Is there any way how to do it Thanks "
68198995,"Google Cloud Platform API Gateway in serverless Framework?","https://stackoverflow.com/questions/68198995/google-cloud-platform-api-gateway-in-serverless-framework","{google-cloud-platform,google-cloud-functions,serverless-framework,google-api-gateway}","2021-06-30 17:09:56+03","2024-05-17 05:26:56.654971+03","I am currently looking for a example of implementing API gateway for GCP using the serverless framework similar to how one would use it with AWS has anyone successfully implemented a solution like this using the framework I have looked a decent amount for an example but the serverless docs do not seem to have an example so I wonder if it is even possible as of right now with the serverless framework "
68202859,"How to get lambda URL from serverless build into static create-react-app","https://stackoverflow.com/questions/68202859/how-to-get-lambda-url-from-serverless-build-into-static-create-react-app","{lambda,create-react-app,apollo,serverless-framework}","2021-07-01 00:09:02+03","2024-05-17 05:26:57.691948+03","I am using serverless framework to build my app It consists of the following Both of these get deployed using sls deploy in the one command My challenge I need to build my create react app before I run sls deploy and at this point I do not know what the Endpoint of my graphql API will be My create react app obviously will be talking to the graphql api So given that my react app is static and already built how do i get it to become aware of this Endpoint URL"
68203167,"How to set AWS API Gateway Description on serverless.ts?","https://stackoverflow.com/questions/68203167/how-to-set-aws-api-gateway-description-on-serverless-ts","{typescript,amazon-web-services,aws-api-gateway,serverless-framework}","2021-07-01 01:12:55+03","2024-05-17 05:26:58.556166+03","I am using Serverless Framework with awsnodejstypescript template repo On the serverless ts file I can set the custom AWS API Gateway name apiName but how to set the AWS API Gateway description Missing Description Click to view screenshot Not This Description Click to view screenshot Thank you in advance "
68208945,"Configure domain name for lambda functions in AWS::Route53::RecordSetGroup","https://stackoverflow.com/questions/68208945/configure-domain-name-for-lambda-functions-in-awsroute53recordsetgroup","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,amazon-route53}","2021-07-01 11:00:16+03","2024-05-17 05:26:59.608084+03","I have a react app with a graphql api I have managed to get a custom domain working with my react app via cloudfront as follows But I have been trying to do a similar thing for the functionsgraphql lambda with no success Is there a way of getting a hostedzoneid and dnsname for my lamda functions too And setting these in my AWSRoute53RecordSetGroup configuration BTW I am aware of serverlessdomainmanager and I am not keen on using it I prefer to configure via AWSRoute53RecordSetGroup"
68219493,"Why do IAM role statements like for S3 (arn:aws:s3:::) not work for other AWS resources like SQS?","https://stackoverflow.com/questions/68219493/why-do-iam-role-statements-like-for-s3-arnawss3-not-work-for-other-aws-re","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework}","2021-07-02 04:06:32+03","2024-05-17 05:27:00.876948+03","I have been successfully putting IAM role statements in my serverless yml for S3 access for some time and assumed everything would work similarly when I added SQS I took the very simple arnawss3 and replaced the s3 with SQS as you can see below This deploys with no errors I can see the policy statement but it just does not work The lambda function fails when it attempts to access the SQS resource "
68239470,"How to schedule on-demand tasks on aws serverless","https://stackoverflow.com/questions/68239470/how-to-schedule-on-demand-tasks-on-aws-serverless","{amazon-web-services,scheduled-tasks,serverless-framework,serverless,aws-serverless}","2021-07-03 19:44:40+03","2024-05-17 05:27:01.110642+03","We are developing a serverless application on AWS Currently we have a use case in which we want a user to be able to create configurations for schedules to send them daily weekly or monthly reports at a specific time on the day on which the report will be sent We have multiple users and each user can have multiple report schedule configurations I want to know What is the best architecture for this feature on a serverless application on AWS My initial thoughts were to make a table in DB that holds the details of the schedules for each user and make an event rule which runs every minute to trigger a lambda function which checks this table and see if there are any jobs at this time to be triggered or not and if there is any schedule at this time it will send the report But my leader had a concern for this solution as this solution is hitting the DB recurrently and this is a load on DB we are using aurora MySQL "
68251385,"Serverless AWS container lambda (node) not being updated","https://stackoverflow.com/questions/68251385/serverless-aws-container-lambda-node-not-being-updated","{amazon-web-services,aws-lambda,serverless-framework}","2021-07-05 06:07:17+03","2024-05-17 05:27:02.105588+03","So first go at AWS LAmbda Containers need to deploy a bigish Lambda and we use Serverless framework for all other Lambdas and I tried it for the container as well It all went fine and the Lambda was created with all the expected parameters following this blogguide httpswww serverless comblogcontainersupportforlambda Of course I had messed up the code and forgotten a module so teh Lambda did not run in AWS I added the module and did a redeploy sls deploy from my laptop and it writes out everything as success like in half a second so it is clear it is not deploying anything I am using the force flag as well but no difference The only way to get it updated seems to be to alter some code and save it and Serverless will detect a change and redeploy for real This will cause a problem in our DevOps deploy pipeline so any way of getting it redeploying through a parametercommand"
68252134,"Create bucket and lambda trigger in same serverless framework","https://stackoverflow.com/questions/68252134/create-bucket-and-lambda-trigger-in-same-serverless-framework","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework}","2021-07-05 07:23:42+03","2024-05-17 05:27:02.985887+03","I want to create an s3 bucket and trigger a lambda function whenever some file is uploaded to uploads folder in the bucket I want to create those resources using serverless framework in aws I have defined my s3 bucket configuration in under provider s3 and then I am trying to reference that bucket under functions hello events bucket However I am getting following error when i run sls package serverless yml My next try was defining the s3 bucket under resources and using the reference of the bucket in the lambda trigger I am still getting the warning messages serverless yml"
68261153,"How to pass stage to handler.py from serverless.yml function in serverless framework","https://stackoverflow.com/questions/68261153/how-to-pass-stage-to-handler-py-from-serverless-yml-function-in-serverless-frame","{python,aws-lambda,serverless-framework}","2021-07-05 19:19:46+03","2024-05-17 05:27:03.926971+03","I have some functions configured using the serverless framework yaml file for this I am using a stage flag in the command line script which is then set in the correct place in the serverless file to deploy to the right place How can I then find out what stage I am on in the handler py file so that I can reference the correct database I have read these Check env variables in serverless yml file Serverless Framework httpsforum serverless comtgetstagefromhandlerjs4023 and tried using event stage in the handler which does not work offline have not tested this deployed "
68465148,"Can not import modules from Lambda Layers with Serverless framework and TypeScript","https://stackoverflow.com/questions/68465148/can-not-import-modules-from-lambda-layers-with-serverless-framework-and-typescri","{node.js,typescript,aws-lambda,serverless-framework,aws-lambda-layers}","2021-07-21 06:53:22+03","2024-05-17 05:27:04.740759+03","I have several functions in my serverless app Two of them are for REST endpoints and one is SQS handler They all are using the same libraries So I want to move them to Lambda Layer and share across functions to reduce size I am using Serverless framework 2 46 TypeScript 4 3 and NodeJS 14 I have the following project structure I have configured TypeScript to import libraries from the layer folder like this import middy from optnodejsmiddycore Here is my tsconfig And have serverless config like this When I run the app locally via command serverless offline stage local I have no error but when I execute an REST endpoint or any other I have the following error Also I have the same problem when I am trying to deploy the app What am I doing wrong Please drop me a link for tutorial how to configure lambda layers properly Thanks in advance "
68468065,"Adding disableLogs: true will return 'An error occurred: IamRoleLambdaExecution - Policy statement must contain resources'","https://stackoverflow.com/questions/68468065/adding-disablelogs-true-will-return-an-error-occurred-iamrolelambdaexecution","{aws-lambda,serverless-framework}","2021-07-21 10:37:52+03","2024-05-17 05:27:05.218295+03","My serverless yml file looks like this I can run sls deploy without any problem But after I just add disableLogs true under handler to make it running sls deploy will return"
68479234,"How to set credentials on codeBuild using Serverless framework?","https://stackoverflow.com/questions/68479234/how-to-set-credentials-on-codebuild-using-serverless-framework","{amazon-web-services,serverless-framework,aws-codebuild,aws-serverless}","2021-07-22 04:34:29+03","2024-05-17 05:27:06.19067+03","I have a Serverless framework application I am creating my buildspec yml to have codeBuild to run my jest test and after passing the test deploying my application This is my buildspec yml How can I set my AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY without having them in plain text on the code I thought about using secrets manager but I dont know if thats the best practice I use this variables for the action serverles deploy As far as I know I need a profile to make the deployment"
68497679,"How to deploy a Streamlit (frontend) webapp to AWS Lambda using Serverless Framework?","https://stackoverflow.com/questions/68497679/how-to-deploy-a-streamlit-frontend-webapp-to-aws-lambda-using-serverless-frame","{amazon-web-services,aws-lambda,serverless-framework,streamlit}","2021-07-23 10:21:26+03","2024-05-17 05:27:07.272159+03","I have been trying to deploy a streamlit web app to AWS Lambda with serverless framework for quite a few days I have watched the tutorials and examples on the serverless framework website but none of them talk about deploying frontend in AWS Lambda The support said that it can be done but not in the usual way it is done in ec2 or some other service If anyone has any sourcestutorials that they can point me to it will help a lot "
68507854,"Connect to Amazon MSK cluster","https://stackoverflow.com/questions/68507854/connect-to-amazon-msk-cluster","{amazon-web-services,aws-lambda,serverless-framework,aws-msk}","2021-07-24 07:18:01+03","2024-05-17 05:27:08.370663+03","Im trying to setup an Amazon MSK cluster and connect to it from a lambda function The lambda function will be a producer of messages not a consumer I am using the serverless framework to provision everything and in my serverless yml I have added the following and that seems to be working fine But when trying to connect to this cluster to actually send messages I am unsure how to get the connection string here I presume it should be the ZookeeperConnectString Im new to kafkamsk so maybe I am not seeing something obvious Any advice much appreciated Cheers "
68546410,"How to validate or filter a wildcard in path for http endpoints in Serverless and AWS API gateway before the process triggs the lambda function?","https://stackoverflow.com/questions/68546410/how-to-validate-or-filter-a-wildcard-in-path-for-http-endpoints-in-serverless-an","{api,validation,aws-api-gateway,serverless-framework,endpoint}","2021-07-27 14:04:51+03","2024-05-17 05:27:09.233639+03","I have the following http path devices sn in a ServerlessAWS APIgateway API The wildcard sn is a 15 digits [AZ09] pattern In the API today any string that is not recognized as a valid path is redirected to this endpoint Ex devicestest goes to devices sn devicesbla goes to devices sn and so on All those strings will query the database and return null because there is no such sn in the table I could create a validation process inside the lambda to avoid the unnecessary database query But I want to save lambda resource and I would like to validate before call the lambda This is what I have today for this endpoint How can I setup this validation or filter in Serverless yml In fact it should be a very straightforward functionality of AWSServerless Let us say we have the following scenario myPath id In this case id is a integer a pk in a table If I type myPathblabla it will trigg the lambda The system will spend resource It shoul have a kind of previous validation trig the endpoint only if the id integer "
68750814,"RequestError: self signed certificate in certificate chain (serverless)","https://stackoverflow.com/questions/68750814/requesterror-self-signed-certificate-in-certificate-chain-serverless","{serverless-framework,serverless}","2021-08-12 02:12:43+03","2024-05-17 05:27:25.711467+03","I have been using serverless framework to create AWS Node js but I face issue RequestError self signed certificate in certificate chain My step is Step 1 serverless Step 2 choose AWS Node js REST API Then I face this error RequestError self signed certificate in certificate chain What am I supposed to over this error Thanks"
68549286,"How to apply plugin to @middy/validator?","https://stackoverflow.com/questions/68549286/how-to-apply-plugin-to-middy-validator","{node.js,serverless-framework,ajv,middy}","2021-07-27 17:20:52+03","2024-05-17 05:27:10.019726+03","I am writing a validation schema for a serverless endpoint using ajv and this middyvalidator middleware There is a note in documentation that the middleware can use external plugins But it is not clear how to apply them and there is no example I want to use ajverrors plugin for custom error messages httpsgithub comajvvalidatorajverrors Please drop me a link about how to apply an external plugin or give me an example Thanks in advance "
68580153,"AWS RDS Proxy configuration","https://stackoverflow.com/questions/68580153/aws-rds-proxy-configuration","{amazon-web-services,aws-cloudformation,amazon-rds,serverless-framework,amazon-rds-proxy}","2021-07-29 17:02:58+03","2024-05-17 05:27:10.931621+03","I need to create a VPC RDS Postgres DB RDS Proxy with private subnets I am setting up everything with CloudFormation using serverless I am able to configure everything except the RDS Proxy when I run serverless deploy the deployment hangs when creating the Target group and eventually shows a timeout error This is what I see in the AWS Console even if I do the full process manually When I run aws rds describedbproxytargets dbproxyname soproxyrdsdbproxy this is what I get However I am able to see them in the Secrets Manager This is the reproducible configuration Any help is greatly appreciated thanks "
68585058,"create log group and log stream using serverless framework","https://stackoverflow.com/questions/68585058/create-log-group-and-log-stream-using-serverless-framework","{terraform,aws-cloudformation,serverless-framework,serverless}","2021-07-30 03:19:03+03","2024-05-17 05:27:11.47162+03","I have the following Terraform code How can I implement the same in Serverless framework My Serverless yml file looks more like this Basically I need to create a Log Group and Log Stream with names "
68591491,"Build and use local package for AWS Lambda using serverless framework","https://stackoverflow.com/questions/68591491/build-and-use-local-package-for-aws-lambda-using-serverless-framework","{python,amazon-web-services,aws-lambda,package,serverless-framework}","2021-07-30 13:09:20+03","2024-05-17 05:27:12.353797+03","I am trying to package a local python package1 and use it within an AWS lambda deployed via the Serverless framework I already use serverlesspythonrequirements plugin to add pip dependencies to deployed package How can I proceed Shall I create a package and zip it Or generate a whl file and use pip And then how to deploy it 1 I cannot just add it to normal codebase as I want to share it with other bricks Glue jobs for example "
68596791,"New line stripped from first line of Codebuild build spec when deploying with Serverless Framework","https://stackoverflow.com/questions/68596791/new-line-stripped-from-first-line-of-codebuild-build-spec-when-deploying-with-se","{amazon-web-services,aws-cloudformation,serverless-framework,serverless,aws-codebuild}","2021-07-30 20:29:35+03","2024-05-17 05:27:13.065798+03","I am deploying a build spec for AWS codebuild using Serverless Framework When I deploy the new line after the first line is absent in the build spec This resource previously deployed without a problem and I cannot see anything I have done to break it Is this a problem on my end or a bug with ServerlessCloudFormation Below is the CloudFormation template and the resulting build spec copied from the AWS console build spec"
68596805,"Serverless Lambda monorepo project deploy only changed files custom CI file","https://stackoverflow.com/questions/68596805/serverless-lambda-monorepo-project-deploy-only-changed-files-custom-ci-file","{aws-lambda,gitlab-ci,serverless-framework,serverless}","2021-07-30 20:31:29+03","2024-05-17 05:27:13.622763+03","We develop a project all RestApi services is a Lambda function We use serverless framework for AWS Lambda deploying Project is monorepo It is folder structure like this We use custom own gitlab server And this project CI folder run this code for lambda deploy This command deploy all services but we want deploy only changed services How to customize CI for that"
68602298,"CodePipeline - Encountered unsupported property configuration","https://stackoverflow.com/questions/68602298/codepipeline-encountered-unsupported-property-configuration","{aws-cloudformation,serverless-framework,aws-codepipeline,aws-codebuild,aws-codecommit}","2021-07-31 12:51:15+03","2024-05-17 05:27:14.585269+03","When deploying this CloudFormation template through SLS I am getting a cryptic error message with no more information from CloudFormation Events The error is Which is ths unsuported property"
68610427,"Runtime.ImportModuleError: Error: Cannot find module 'onCreateRadonData'","https://stackoverflow.com/questions/68610427/runtime-importmoduleerror-error-cannot-find-module-oncreateradondata","{amazon-web-services,aws-lambda,serverless-framework,aws-appsync}","2021-08-01 12:28:54+03","2024-05-17 05:27:15.71763+03","I am trying to deploy a DynamoDB stream as a lambda function using AppSync and Serverless The deployment goes well without any error But when I trigger the lambda creating a new instance in my DynamoDB table it fails throwing this error It is strange because usually I see this happens when importing some modulesdependencies in a bad way But the function mentioned in the error onCreateRadonData is the name of the lambda itself and in the deployment process it is clearly shown that the deployment of the function went well so I do not know what is going on The serverless yaml file And the lambda function onCreateRadonData ts NOTE I have also tried the exports handler event way but I throws the same error The code structure goes like this As You can see I have only one file named onCreateRadonData ts inside the handlers folder in src Thats all the rest of the files are in the root directory Any ideas of what I am doing wrong thank You all "
68613056,"No file matches include / exclude patterns","https://stackoverflow.com/questions/68613056/no-file-matches-include-exclude-patterns","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-08-01 17:57:10+03","2024-05-17 05:27:16.603754+03","I have a serverless layer deployment that was working just fine previously Now for some reason every time i run a deploy or package I get this error My serverless yml has not changed at all and did not includeexclude patterns previously and I had no issues uploading my layers Here ism y folder structure And here is my yml that worked fine to upload these binaries as layers I have tried adding the include patterns based on the serverless docs but get the same error Any ideas here on 1 what changed since it worked before and 2 what can I do to resolve this Thank you so much "
68615017,"Deploying lambda function using serverless framework","https://stackoverflow.com/questions/68615017/deploying-lambda-function-using-serverless-framework","{amazon-web-services,serverless-framework,serverless}","2021-08-01 23:08:04+03","2024-05-17 05:27:17.535785+03","I have successfully deployed my lambda function in Nodejs runtime using the serverless framework The thing is that serverless deploy also creates a bunch of AWS services which I do not want such as Q Is there anyway to tell serverless to deploy just the lambda function Or at least avoid the API gateway "
68627016,"Serverless GCP Function deployment","https://stackoverflow.com/questions/68627016/serverless-gcp-function-deployment","{python,google-cloud-platform,google-cloud-functions,serverless-framework,serverless}","2021-08-02 19:26:07+03","2024-05-17 05:27:18.50947+03","I am trying to deploy the GCP Cloud Function using serverless node module while I have followed the instructions from site but still I am facing following error I have configured my GCP Service account with following permission which required but it is still not working 1 Cloud Functions Admin 2 Cloud Functions developer 3 Deployment manager editor 4 logging admin 5 storage admin Here is my serverless yml file Can anyone please help me out"
68633528,"Serverless.Framework Deployment Error - Function not found","https://stackoverflow.com/questions/68633528/serverless-framework-deployment-error-function-not-found","{amazon-web-services,lambda,aws-lambda,serverless-framework,serverless}","2021-08-03 09:28:33+03","2024-05-17 05:27:19.095791+03","In my sls infrastructure I have an authorizer function that I created and connected to most of my other functions when I deployed it sequentially first the auth function then the connection to the other functions all worked as expected However when I want to deploy everything to a new environment I get the error that my auth function is not found and I think its because it is not yet created when Cloudformation is trying to reference it My question is this Can I specify dependency between resources so that I will deploy a resource only after its dependency is deployed If not how can I overcome this issue"
68637184,"Define serverless framework Api Gateway response schema similar to request schema","https://stackoverflow.com/questions/68637184/define-serverless-framework-api-gateway-response-schema-similar-to-request-schem","{aws-lambda,serverless-framework,serverless,api-gateway}","2021-08-03 13:43:19+03","2024-05-17 05:27:20.001758+03","I am trying to update to serverless com v2 There is a section in the doc that describes how to set the request json schema on requestschemavalidators I am curious if there is a similar feature for responses to define the schema for different statuses I was using serverlessawsdocumentation but I see that it is no longer maintained for serverless v2 Any suggestions for replacing serverlessawsdocumentation"
68641214,"Accessing environment configs defined in serverless.yaml in standalone nodejs script","https://stackoverflow.com/questions/68641214/accessing-environment-configs-defined-in-serverless-yaml-in-standalone-nodejs-sc","{node.js,docker,serverless-framework,serverless,serverless-offline}","2021-08-03 18:36:32+03","2024-05-17 05:27:21.142522+03","I have recently started working on a project in which we are using serverless framework We are using docker to make dev environment easier to setup As part of this docker setup we have created a script that creates S3 buckets tables among other things We were earlier defining environment variables in the dockercompose file and were accessing them in our nodejs app For purposes of deployment to other environments our devops team defined a few environment variables in the serverless yaml file resulting in environment configs being present at two places We are now planning to move all the environment configs defined in our dockercompose file to serverless yaml This works well for our lambdas functions as they are able to read these configs but it does not work for the standalone setup script that we have written I tried using this plugin serverlessscriptableplugin in an attempt to be able to read these env variables but still unable to do so Here is my serverless yaml file In my DockerFile I try executing script using sls setup CMD I initially thought using sls command might expose these environment variables defined in serverless yaml file but it does not seem to happen Is there any other way this can be achieved I am trying to access these variables using process env which works for lambdas but not for my standalone script Thanks "
68689752,"Internal server error by POSTMAN while invoking API","https://stackoverflow.com/questions/68689752/internal-server-error-by-postman-while-invoking-api","{amazon-web-services,postman,aws-api-gateway,serverless-framework}","2021-08-07 05:56:33+03","2024-05-17 05:27:21.794116+03","I am trying to make notes app using serverless and AWS All code works when running on local server and invoking the API httplocalhost3000prodnotes with help of Postman all is working fine But when invoking API https executeapi useast1 amazonaws comprod given by APIgateway in Postman it gives an error Internal server error I tried stuff like adding CORS adding headers AccessControlAllowOrigin and also debugged in cloudwatch logs But I am still not able to identify the problem "
68699104,"Is there a reason why Serverless cannot find my AWS Credentials within a Conda virtual environment?","https://stackoverflow.com/questions/68699104/is-there-a-reason-why-serverless-cannot-find-my-aws-credentials-within-a-conda-v","{python,amazon-web-services,aws-lambda,yaml,serverless-framework}","2021-08-08 08:36:17+03","2024-05-17 05:27:22.691515+03","I am trying to deploy a lambda function to AWS using the Serverless framework Everything appears to be working fine however when I run either command to deploy sudo sls deploy or sudo serverless deploy I get the following error I know the error message states that my AWS Credentials are not found but I am not sure why I have set them up according to the documentation on httpslss ioawscredssetup with the Serverless Config Credentials Steps I have taken to remedy this I have noted my awscredentials file exists but it is not within my virtual environment I am assuming because of this Serverless unable to find the credentials but I have not seen this documented anywhere Am I missing something"
68701001,"Lambda functions cause race condition for shared access token | Serverless Framework | Nodejs","https://stackoverflow.com/questions/68701001/lambda-functions-cause-race-condition-for-shared-access-token-serverless-frame","{node.js,aws-lambda,axios,serverless-framework,race-condition}","2021-08-08 12:55:37+03","2024-05-17 05:27:23.791494+03","I have a lambda nodejs function that basically forwards requests to a thirdparty resource server this thirdparty server requires an access token that is generated on my backend and appended to the request Axios Only the latest issued token works and the previously generated token becomes invalid once a new one is issued Problem If two or more requests are received on the backend at the same time calling said function one of the two requests will have a race condition and result in usage of an invalid access token Using Serverless framework AWS with Nodejs Correct me if I am wrong but there is no way to share a variable like in the express framework since each function request is completely separate Should I store the token in a database A solution I do not personally like I also assume caching has no meaning for sls functions Any suggestionssolutions are appreciated Note Multiple other functions use the flow for the same resource server "
68727473,"STDERR: Unable to find image 'lambci/lambda:build-python37' locally","https://stackoverflow.com/questions/68727473/stderr-unable-to-find-image-lambci-lambdabuild-python37-locally","{python,docker,google-cloud-platform,serverless-framework,serverless}","2021-08-10 13:10:19+03","2024-05-17 05:27:24.628476+03","I am using the serverless framework with GCP to deploy my cloud functions I am running into this issue that while running command serverless deploy it is throwing the error as follows But this image is already installed in my local docker But still its throwing error Here is the my serverless yml file can any one help me"
68754612,"Cannot read property 'defaultEncoding' in s3sync Plugin of Serverless framework","https://stackoverflow.com/questions/68754612/cannot-read-property-defaultencoding-in-s3sync-plugin-of-serverless-framework","{node.js,amazon-s3,serverless-framework,serverless,aws-serverless}","2021-08-12 09:12:57+03","2024-05-17 05:27:26.754651+03","I had installed the plugin by following command in serverless 2 53 1 After installing I had imported the plugin like this in serverless yml But serverless deploy is giving the following error Screenshot of error is also attached This error only happens when I import this plugin of serverlesss3sync in serverless yml file other plugins are running fine ERROR DETAILS TypeError Cannot read property defaultEncoding of undefined at _write nodeinternalstreamswritable29124 at WriteStream Writable write nodeinternalstreamswritable33410 at NodejsStreamOutputAdapter ondata C\serverless_v2\node_modules\readablestream\lib_stream_readable js61920 at NodejsStreamOutputAdapter emit nodeevents39428 Heres a full error"
68768994,"Serverless Framework with Multiple Api Gateway and Single Lambda","https://stackoverflow.com/questions/68768994/serverless-framework-with-multiple-api-gateway-and-single-lambda","{amazon-web-services,serverless-framework}","2021-08-13 08:18:03+03","2024-05-17 05:27:27.796378+03","I have a single lambda function that needs to be accessed by an application and by the testers The application lives in a vpc which requires my api gateway to be private and have vpc endpoint While the testers needs to access the api gateway on their machines through postman On my serverless yml I have this code But it applies to both http event on my lambda Is it possible to have two api gateway with different resource policies and endpoint type private and edge that integrates to a single lambda function"
68769276,"Amazon S3 file uploaded; however, file could not be opened error","https://stackoverflow.com/questions/68769276/amazon-s3-file-uploaded-however-file-could-not-be-opened-error","{amazon-web-services,amazon-s3,aws-lambda,aws-api-gateway,serverless-framework}","2021-08-13 08:41:04+03","2024-05-17 05:27:28.678452+03","I am uploading an image file into an Amazon S3 Bucket however when I download the file from the Amazon S3 bucket and try to open the file jpeg it returns an error stating the file could not be opened I am sending a multipart request with the image file through AWS API Gateway as POST Method and after it runs lambda function to add the image gotten from the multipart request into the S3 Bucket What may be the problem Please Help Thank you The Code Below is a lambda function that puts the image file into S3 Bucket "
68773548,"Serverless deploys second function for S3 trigger","https://stackoverflow.com/questions/68773548/serverless-deploys-second-function-for-s3-trigger","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-08-13 13:55:03+03","2024-05-17 05:27:29.375622+03","I have created AWS Lambda function to run when new fils in S3 at specific path is created which works perfectly But when I deployed this function there was also another function get deployed with name redshiftprodcustomresourceexistings3 which is Node js function I want to understand why this second function necessary for triggering primary lambda function when new file is creates in S3 bucket at specific path "
68777034,"Problem/bug with Promise.race() on serverless(loading cache from previous calls)","https://stackoverflow.com/questions/68777034/problem-bug-with-promise-race-on-serverlessloading-cache-from-previous-calls","{node.js,aws-lambda,async-await,serverless-framework}","2021-08-13 18:40:46+03","2024-05-17 05:27:30.213609+03","The application is running in NodeJs and we are using Promise race to timeout the main promise as show in the code here the mainPromise is a generic promise for testing When we deploy and call the function it works the first time but in other calls the Promise race return the response of the first promise in the array Output with Promise race [mainPromise promiseTimeout] Output with Promise race [promiseTimeout mainPromise] It seems the function has the response cached because it didnt wait 20 seconds after the first call screenshot SERVERLESS YML"
68785753,"How do I set my AWS Lambda provisioned capacity to zero in off hours?","https://stackoverflow.com/questions/68785753/how-do-i-set-my-aws-lambda-provisioned-capacity-to-zero-in-off-hours","{node.js,amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-08-14 17:50:40+03","2024-05-17 05:27:31.30087+03","I am using the Serverless framework serverless com and it looks like I can save some pretty serious money by only scaling up the provisioned capacity of my Lambda functions during business hours 9am5pm 40 hour per week and then down to zero during off hours My application is not used very much in off hours and if it is my users are okay with cold starts and it taking longer In my serverless yml I have functions declared such as I also have a Lambda that runs on a regular basis to set the provisioned capacity of the other Lambdas in the account depending on the time of day In that Lambda if I call Then I get this error On the other hand if I try to delete the provisioned capacity entirely like this That works fine but when I try to deploy my function again in off hours which is the norm CloudFormation errors out with Does anybody have a neat solution to turn off provisioned capacity during some hours of the day"
68797529,"How to setup TypeORM, express with Serverless Framework, AWS Lambda, AWS API Gateway","https://stackoverflow.com/questions/68797529/how-to-setup-typeorm-express-with-serverless-framework-aws-lambda-aws-api-gat","{mysql,express,aws-lambda,typeorm,serverless-framework}","2021-08-16 04:51:11+03","2024-05-17 05:27:32.388104+03","I already have a project in TypeORM typescript using NodeJS Express with MySQL and want to connect with AWS Lambda and AWS API Gateway using Serverless Framework I cannot find any configuration official serverless docs or anywhere on the internet Heres my serverless yml file and ormconfig json file and connection code if anyone has done before please help me thanks"
68826878,"Serverless command ""offline"" not found. VS Code Debugger","https://stackoverflow.com/questions/68826878/serverless-command-offline-not-found-vs-code-debugger","{node.js,visual-studio-code,aws-lambda,serverless-framework}","2021-08-18 05:12:07+03","2024-05-17 05:27:33.394345+03","I have the following launch json file But I get the following error when I run the debugger from vs code I do have both serverless and serverlessoffline installed as a dev dependency Does the project structure has an impact on it my node_modules folder is not the root folder And also included in the serverless yml file Serverless Error Serverless command offline not found Did you mean config Run serverless help for a list of all available commands "
68840427,"Serverless Framework AWS Lambda Version Duplicate Problem","https://stackoverflow.com/questions/68840427/serverless-framework-aws-lambda-version-duplicate-problem","{amazon-web-services,aws-lambda,serverless-framework,serverless,aws-serverless}","2021-08-18 23:38:32+03","2024-05-17 05:27:34.366696+03","Every time I deploy to aws with serverless framework a new version is added how can I prevent this"
69094549,"Nx serverless webpack: Module not found: Error: Can't resolve 'xxx'","https://stackoverflow.com/questions/69094549/nx-serverless-webpack-module-not-found-error-cant-resolve-xxx","{webpack,serverless-framework,nrwl-nx}","2021-09-07 21:06:14+03","2024-05-17 05:27:35.360132+03","I am using this template httpsgithub comsudokarnxserverless to create nx monorepo with serverless freamework I did not modify any configurations so you can look into it as a reference it works fine but when I try to import anything from node_modules I get an error during building with webpack this is a sample of the error And here is the webpack config the only thing that I am doing to get this error is import hash from bcrypt in the handler both deploying or serving locally with serverlessoffline are not working because of this webpack error"
69097321,"Unable to retrieve cloudWatch GetMetricData in Nodejs application","https://stackoverflow.com/questions/69097321/unable-to-retrieve-cloudwatch-getmetricdata-in-nodejs-application","{node.js,aws-lambda,amazon-cloudwatch,serverless-framework}","2021-09-08 05:13:14+03","2024-05-17 05:27:36.225639+03","I need to get MetricData in Node js application for my AWS Lambda Error received Serverless yaml Getting Metric Data function What I tried Updated Action in serverless yaml Action Updated ARN to Resource arnawslambda selfcustom region selfcustom accountId function selfservice optstage uploader Updated Resource arnawslogs selfcustom region selfcustom accountId loggroupawslambda selfservice optstage uploader did not work Resources httpsdocs aws amazon comAWSJavaScriptSDKlatestAWSCloudWatch htmlgetMetricDataproperty Can someone please help me"
69098235,"serverless - Type Error: Cannot read property 'Properties' of undefined","https://stackoverflow.com/questions/69098235/serverless-type-error-cannot-read-property-properties-of-undefined","{aws-lambda,serverless-framework,serverless,aws-serverless}","2021-09-08 06:51:59+03","2024-05-17 05:27:37.295727+03","When issuing serverless deploy region eucentral1 I get the error This error only started after including and can be reverted by commenting the plugin out But I would like to use it for giving my lambda access to a DynamoDB The internet is pretty void about this error besides this typo The error is not solved by a recent update yet and the notice of serverless does not help much set SLS_DEBUG before deployment yields Should I iunclude my serverless yml in this post It is quite large "
69103528,"How to make inference with Huggingface deep learning container from Lambda using Serverless framework","https://stackoverflow.com/questions/69103528/how-to-make-inference-with-huggingface-deep-learning-container-from-lambda-using","{python,aws-lambda,serverless-framework,amazon-sagemaker,huggingface-transformers}","2021-09-08 12:55:12+03","2024-05-17 05:27:38.346011+03","This is a question from ML newbee I am building AWS StepFunction with Serverless framework and one of the steps is intended to deploy a Sagemaker endpoint with HuggingFace deep learning container DLC The problem is that I could not make Lambda to work with SageMaker to build estimator One of the solutions I have is to manually launch the endpoint using the SageMaker studio but I really want to have everything within the code Here is what I am trying to do to get Sagemaker working The error I am getting is then there are many lines of log like Collecting pyparsing2 0 2 Downloading pyparsing2 4 7py2 py3noneany whl 67 kB "
69112114,"Ubuntu, Serverless Framework, AWS Credentials Failing","https://stackoverflow.com/questions/69112114/ubuntu-serverless-framework-aws-credentials-failing","{amazon-web-services,aws-lambda,serverless-framework,ubuntu-20.04}","2021-09-09 04:06:28+03","2024-05-17 05:27:39.257505+03","I cannot seem to get my AWS provider to use my AWS credentials in the Docker Containers I have ran all of these so far ran through the prompts and plugged in my info But still get stopped by AWS I have also generated and regenerated my IAM creds multipule time also whne I run aws configure list it returns I am not sure what else to do I am on Ubuntu 20 04 using Bash"
69112375,"Serverless stage environment variables using dotenv (.env)","https://stackoverflow.com/questions/69112375/serverless-stage-environment-variables-using-dotenv-env","{aws-lambda,environment-variables,serverless-framework,serverless,dotenv}","2021-09-09 04:48:14+03","2024-05-17 05:27:39.913315+03","I am new to serverless So far I was be able to deploy and use env for the app then under provider in stage property in serverless yml file I change it to different stage I also made new env stage after redeploy using sls deploy It still reads the default env file the documentation states The framework looks for env and env stage files in service directory and then tries to load them using dotenv If env stage is found env will not be loaded If stage is not explicitly defined it defaults to dev So I still do not understand If stage is not explicitly defined it defaults to dev How to explicitly define it"
69118164,"VSCode Breakpoint in Serverless ExpressJS Typescript App Doesn't Work","https://stackoverflow.com/questions/69118164/vscode-breakpoint-in-serverless-expressjs-typescript-app-doesnt-work","{typescript,visual-studio-code,serverless-framework}","2021-09-09 12:27:40+03","2024-05-17 05:27:40.637334+03","I am unable to hit a breakpoint set in VSCode in my ExpressJS app written in typescript that uses the serverlessframework to deploy the code to an AWS Lambda I am using the serverlessplugintypescript to compile the typescript into a build folder where the map files are generated and stored alongside compiled js files My debugger runs serverless offline to run the program locally If I set the breakpoint in the buildsrccontrollers js file it will hit that breakpoint but not if I set it in the uncompiled version My project folder structure is as such tsconfig json serverless yaml launch json Any help would be very much appreciated Thank you "
69122943,"Local development with serverless framework","https://stackoverflow.com/questions/69122943/local-development-with-serverless-framework","{python,serverless-framework,serverless,aws-serverless,serverless-architecture}","2021-09-09 18:11:13+03","2024-05-17 05:27:41.526498+03","I have a microservices project using Serverless Framework that has the following structure Each folder is a microservice and each microservice has its own serverless yml configuration file I would like to know what is the best way to run the project in a totally local way I have already tried using the serverlessoffline plugin but it only runs one microservice at a time offline I have read a bit about creating an AWS virtual environment with localstack but I do not know how it would actually help me I would like a tip an article or any information that can help me run these microservices locally PS I am using python"
69127263,"Serverless Framework dry run or test without deploying","https://stackoverflow.com/questions/69127263/serverless-framework-dry-run-or-test-without-deploying","{yaml,aws-cloudformation,serverless-framework,aws-serverless,infrastructure}","2021-09-10 04:26:24+03","2024-05-17 05:27:42.203696+03","There is any way to test Serverless Framework code without deploying it Similar to Terraforms dry run I have tried using the noDeploy flag but it does not seem to work I am trying to create a CI pipeline for it but cannot find any solution "
69153336,"How to specify multiple subnets for Lambdas using serverless framework","https://stackoverflow.com/questions/69153336/how-to-specify-multiple-subnets-for-lambdas-using-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-09-12 16:31:36+03","2024-05-17 05:27:43.283578+03","I am trying to use the example code to specify that my Lambda be available in multiple subnets However I have tried several variations on this with several different errors and I can only ever get it to work with a single subnet specified Cannot parse serverless yml bad indentation of a mapping entry in FOLDERserverless yml 457 Another attempt with just a change in indentation Cannot parse serverless yml can not read an implicit mapping pair a colon is missed in FOLDERserverless yml 4522 I also tried variations with indenting the securityGroupIds two spaces with the same results Any ideas appreciated My thought is that this seems like a bug in the serverless framework like it is expecting key pairs rather than a list"
69166004,"Serverless Error TypeError: Cannot read property 'toLowerCase' of undefined","https://stackoverflow.com/questions/69166004/serverless-error-typeerror-cannot-read-property-tolowercase-of-undefined","{aws-lambda,serverless-framework,serverless,aws-serverless,aws-java-sdk}","2021-09-13 16:15:19+03","2024-05-17 05:27:44.13447+03","I tried to deploy something like this example from serverless Building my serverless yml I run into this error of which I do not find a handle to deal with The error I get is this not having a reference to a mistake in my own code makes difficult to spot where I went wrong I looked into many QA including this and this but it seems to be more of a javascript and typescript problem there not serverless as here "
69194166,"Use swagger specification in GoLang for Azure functions","https://stackoverflow.com/questions/69194166/use-swagger-specification-in-golang-for-azure-functions","{azure,go,swagger,serverless-framework}","2021-09-15 13:31:45+03","2024-05-17 05:27:45.177327+03","Curently i am building an Azure serverless Function in GoLang I must have a swagger specification inside the function I am using gin as http framework and swaggo as the swagger specification generator Main function The function that will return the swagger json When we build the application and run it local the response is 404 "
69196793,"AWS MSK Trigger - Lambda (consumer) running infinitely","https://stackoverflow.com/questions/69196793/aws-msk-trigger-lambda-consumer-running-infinitely","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-msk}","2021-09-15 16:31:48+03","2024-05-17 05:27:46.163976+03","I am working on a notification service which is built on AWS infra and uses MSK lambda and SES The lambda is written in Nodejs for which the trigger is an MSK topic Now the weird thing about this lambda is its getting invoked continuously even after the messages are processed Inside lambda is the code to fetch recipients and send emails via SES I have ensured that there is no loop present inside the code so my guess is for some reason the messages are not getting marked as consumed One reason this could happen is if the code executing throws an Error at some point But I have no error in the logs Can execution time lambda getting timed out be an issue I do not see anything like that in the logs though the volume of messages be responsible for this behavior Lambda is setup using serverless framework"
69208763,"An error occurred: IamRoleLambdaExecution - Maximum policy size of 10240 bytes exceeded for role","https://stackoverflow.com/questions/69208763/an-error-occurred-iamrolelambdaexecution-maximum-policy-size-of-10240-bytes-e","{aws-lambda,amazon-iam,serverless-framework,serverless}","2021-09-16 12:49:53+03","2024-05-17 05:27:47.283221+03","using serverlesspluginsplitstacks in serverless yml and getting this error An error occurred IamRoleLambdaExecution Maximum policy size of 10240 bytes exceeded for role Vkonnectdevapsouth1lambdaRole Service AmazonIdentityManagement Status Code 409 Error Code LimitExceeded Request ID 51920d554b814b6c99f1d9f0ba087cc2 Proxy null when i use serverlessplugincustomroles i get this error The CloudFormation template is invalid Circular dependency between resources [GenerateOtpDocLambdaPermissionApiGateway DoctorUnderscorelistLambdaPermissionApiGateway ] serverless yml"
69220587,"Reuse the same s3 bucket between stages serverless","https://stackoverflow.com/questions/69220587/reuse-the-same-s3-bucket-between-stages-serverless","{node.js,amazon-s3,aws-cloudformation,serverless-framework,serverless}","2021-09-17 08:57:35+03","2024-05-17 05:27:47.839715+03","Our clients are already registered on our development environment and the management is asking for us to create the production environment without loosing any of the already registered user data We are trying to deploy the production environment on apsoutheast2 and our development environment is already on euwest1 I have made the necessary changes for the deployment to happen on these two regions but the problem is that we are creating cognito and s3 buckets using cloudformation template We want to use the same s3 buckets and cognito between these two regions but the problem is when I am deploying to apsoutheast2 production the stack creation fails because s3 bucket already exists Is it possible to reuse the same s3 bucket and cognito between regions and stages I want the serverless framework to check if these resources exists at the region I choose in this case euwest1 We cannot create new buckets because we are at the 100 buckets limit Here is the code in how we are creating the s3 buckets We are using serverless framework with nodejs "
69222959,"Is there any way to handle the changes of aws layer to all the associated aws lambdas in serverless if they both are in different stack?","https://stackoverflow.com/questions/69222959/is-there-any-way-to-handle-the-changes-of-aws-layer-to-all-the-associated-aws-la","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-09-17 11:50:20+03","2024-05-17 05:27:48.602408+03","I am using Serverless Framework and AWS cloud services for my project I have created many services with AWS lambda and created a layer to serve common purposes of those services I am maintaining the layer in a separate stack and included this layer to all the services using cloudformation syntax The problem is everytime I am updating the layer and deploying it to AWS I need to deploy all the services once again to reflect those changes into the associated services Is there any way to mitigate this issue so that once I deploy my layer all the associated services will also be updated with latest layer changes I do not need to update those services manually everytime I deploy a layer Hope this make sense to you I am adding serverless yml file of layer and one of my service to make it more clear to you Looking forward to hear from you Thanks in advance serverless yml file for layer serverless yml file of one service"
69226440,"How do I avoid to create a new lambda version when deploy by serverless framework with same image digest","https://stackoverflow.com/questions/69226440/how-do-i-avoid-to-create-a-new-lambda-version-when-deploy-by-serverless-framewor","{aws-lambda,serverless-framework}","2021-09-17 16:02:17+03","2024-05-17 05:27:49.502221+03","Everytime I deploy a Lambda function with the same image digest by serverless framework serverless framework creates a new lambda version How do I avoid to create a new lambda version when deploy lambda function by serverless framework with same image digest"
69230278,"Send Lambda Handler Response Body As Stream","https://stackoverflow.com/questions/69230278/send-lambda-handler-response-body-as-stream","{node.js,amazon-s3,aws-lambda,response,serverless-framework}","2021-09-17 23:00:08+03","2024-05-17 05:27:50.400749+03","It seems like there are a million questions related to mine but none of the suggested solutions are working or are just different enough that they do not help me I have a UI with a download button where users can get zip files from S3 but in my lambda function that is supposed to accomplish this I am getting multiple errors I have a working solution using Express but I am now needing to use a Serverless framework instead Here is my working solution in the Express framework Where I use the AdmZip to essentially create a new zip file from the buffer that is downloaded and then send it to the response object as a stream which is definitely hacky but is working so I was happy with it for the time being I have tried a similar solution using the Serverless Framework and Lambda function that looks like this But in using this code it creates the file successfully in the local directory but throws the error TypeError fs createReadStream is not a function Which I have looked into and appears to be an issue with promises but I am quite ignorant when it comes to streams At this point I would love to have someone help with either editing my existing code or pointing me in a completely different direction Thanks in advance"
69241370,"Passing StateMachine ARN through enviroment variable using Serverless.yml","https://stackoverflow.com/questions/69241370/passing-statemachine-arn-through-enviroment-variable-using-serverless-yml","{aws-lambda,serverless-framework,aws-step-functions,serverless-framework-step-functions}","2021-09-19 07:54:13+03","2024-05-17 05:27:51.37192+03","While testing I am getting the following message excerpts of the serverless yml State Functions All I am trying to pass the ARN of the state machine so that I can start the stateMachine from a lamda function It seems my reference in outputs section not working or I am not calling it properly here"
69255929,"Not getting response in lambda function using express-json-compress node module","https://stackoverflow.com/questions/69255929/not-getting-response-in-lambda-function-using-express-json-compress-node-module","{amazon-web-services,aws-lambda,serverless-framework}","2021-09-20 14:13:29+03","2024-05-17 05:27:52.487211+03","Not getting response in lambda function using expressjsoncompress node module im using serverless framework where i didnt got the reposnse from the api but when i use node server i get the compressed response using this coz of lambda 6 mb response limit thank you"
69274047,"What files are required inside .zip file when we deploy a NestJS app with Serverless Framework","https://stackoverflow.com/questions/69274047/what-files-are-required-inside-zip-file-when-we-deploy-a-nestjs-app-with-server","{amazon-web-services,nestjs,serverless-framework,serverless,aws-serverless}","2021-09-21 18:41:46+03","2024-05-17 05:27:53.664366+03","i have a NestJS project integrated with Serverless Framework when i run I realize that the zip file inside sererless directory contains all the protect it is necessary to have all the project inside the zip file or can i remove the src test directories I can include or exclude files like the documentation said but what files are required when we deploy a NestJS app with Serverless Framework "
69274991,"Sharing ""init phase"" among many lambda functions","https://stackoverflow.com/questions/69274991/sharing-init-phase-among-many-lambda-functions","{amazon-web-services,aws-lambda,serverless-framework,cold-start}","2021-09-21 20:11:16+03","2024-05-17 05:27:54.59439+03","In our stack we use many separated lambda functions each function as an HTTP or WS handler and each of those functions imports utils that are quite large in terms of size Those required utils also handle the connection to external entities cache and database so that every time we call the function there is an init phase that lasts between 1 and 2 seconds As different functions have separated runtimes even though we use the connection to the same database and cache everywhere the init phase happens in separation for every function Is this possible perhaps with lambda layers to share the init phase among many functions if they require the same dependency For example based on the js code below Let us say we have the execution order as follows handler_A handler_A handler_B In that case the second execution for handler_A should be able to reuse db from the first execution but that is not gonna work for the handler_b Is this possible to reuse the init phase or in other words keep the warm start for handler_B if the handler_A was used a couple of seconds before the handler_B Any help will be highly appreciated "
69291364,"Get execution arn of Step function inside one of its lambdas (Serverless Framework)","https://stackoverflow.com/questions/69291364/get-execution-arn-of-step-function-inside-one-of-its-lambdas-serverless-framewo","{amazon-web-services,serverless-framework}","2021-09-22 21:16:24+03","2024-05-17 05:27:55.121278+03","Using the Serverless framework and step function framework can I get execution ARN from inside lambda function"
69304181,"Serverless lambda Global Environmental Variables","https://stackoverflow.com/questions/69304181/serverless-lambda-global-environmental-variables","{amazon-web-services,aws-lambda,serverless-framework,serverless}","2021-09-23 17:01:01+03","2024-05-17 05:27:56.110356+03","I am playing with serverless and I am trying to figure out how to rewrite this serverless yml file so I do not duplicate the environmental variables for each function Is there a way to set environmental variables globally"
69304467,"How to download ""en_core_web_sm"" model at runtime in spacy?","https://stackoverflow.com/questions/69304467/how-to-download-en-core-web-sm-model-at-runtime-in-spacy","{amazon-web-services,aws-lambda,nlp,spacy,serverless-framework}","2021-09-23 17:23:58+03","2024-05-17 05:27:56.99052+03","I am working on writing a lambda function which depends on Spacys en_core_web_sm model Due to limitation of AWS Lambda I need to find a mechanism which allows me to download the model at runtime I can afford to increase the lambda timeout Note I cannot use EFS at the moment due to some requirement restriction "
69305724,"using Nuclio functions with provided python bulky code: possible?","https://stackoverflow.com/questions/69305724/using-nuclio-functions-with-provided-python-bulky-code-possible","{kubernetes,data-science,git-submodules,serverless-framework,nuclio}","2021-09-23 19:10:06+03","2024-05-17 05:27:57.942264+03","so my situation I have been trying to distribute the load of python based some data science pipelines and after much searching and some QA Scale out jobs with high memory consumption but low computing power within AWS and using Docker finding best solution I have come to the conclusion that Nuclio might be a good fit most likely built on top of kubernetes still a major question remains say I want to do this I had major context problems in the past so right now my superbright supersafe solution is to package literally getting all py files in the project zip them pass them to the function to be executed in the remote environment unzip them there and then run the function This is good because it provides me with immense flexibility But this spaghetti solution is not the way to go Is there a way to do this by leveraging Nuclio framework functions seem to have all the info within never calling external packages not present in the classic packages "
69314258,"How can I set up 2 AWS lambda functions, with one firing an event on eventBridge and the other reacting to it?","https://stackoverflow.com/questions/69314258/how-can-i-set-up-2-aws-lambda-functions-with-one-firing-an-event-on-eventbridge","{serverless-framework}","2021-09-24 11:27:18+03","2024-05-17 05:27:59.383495+03","I am using the serverless framework to try and test EventBridge The documentation is a little sparce but for my test I would like to have two lambda functions created first one publishes an event the second consumes it Here is my YAML and my handler js I realise I cannot just return that from the Lambda but it also needs to be an endpoint If I make the function body of bundle empty I still get a server error What am I missing"
69317152,"Is it necessary to have ${WORKSPACE} directory in serverless package for Lambda?","https://stackoverflow.com/questions/69317152/is-it-necessary-to-have-workspace-directory-in-serverless-package-for-lambda","{amazon-web-services,jenkins,aws-lambda,serverless-framework}","2021-09-24 14:58:06+03","2024-05-17 05:27:59.787143+03","I have started using Serverless framework with AWS My source is in Typescript which would be built to JavaScript before deploying This gets uploaded to S3 and then lambda function is created I noticed that my lambda functions are over 70MB although I only have a few lines of code with operations that use just the awssdk like querying DynamoDB or SecretsManager To investigate this I downloaded the zipped file which gets uploaded to S3 by serverless framework and unzipped for its content It has a folder named WORKSPACE which accounts for the 70 of the package memory and it does not seem to have any relevant content for the lambda function My package json looks like this and the relevant part of the serverless yml looks like this In the Jenkins stages the following are run Also because of the size limitation inline editing is not available on the lambda console which usually is a very useful action for me especially when testing and debugging quickly without having to wait for a redeployment Does the directory WORKSPACE have any significance for this deployment If not how do I exclude it from the deployment package and make my lambda lean"
69326889,"How to debug a serverless framework plugin?","https://stackoverflow.com/questions/69326889/how-to-debug-a-serverless-framework-plugin","{node.js,typescript,serverless-framework}","2021-09-25 14:05:14+03","2024-05-17 05:28:00.35887+03","I have searched throughout google about this question and I had no success I want to work on a serverless plugin fix but I do not know how to attach the process to debug the code Currently I am using vscode and the plugin was developed using nodejs typescript Does anyone have any tip or article explaining how to do that"
69329601,"AWS assumed-role unable to perform secretsmanager:GetSecretValue in serverless project","https://stackoverflow.com/questions/69329601/aws-assumed-role-unable-to-perform-secretsmanagergetsecretvalue-in-serverless-p","{amazon-iam,serverless-framework,serverless}","2021-09-25 20:03:07+03","2024-05-17 05:28:01.199209+03","I have a serverless project written with node js This service defines an IAM role for use at runtime with the following policy I have a lambda that then tries to read that secrets This errors with the following I am not sure why the permissions would not allow me to retrieve the secret I am further not sure why this is using sts and using an assumedrole rather than just using the serverless lambda role directly Can someone explain this to me and how to fix this NOTE using the policysimulator I can confirm the role created with the above policy does have access to read the defined secret so this must be to do with assumed roles"
69360533,"set env variables in serverless framework conditionally","https://stackoverflow.com/questions/69360533/set-env-variables-in-serverless-framework-conditionally","{javascript,aws-lambda,serverless-framework}","2021-09-28 11:03:02+03","2024-05-17 05:28:02.315271+03","i am trying to set env variable called as baseUrl however i want that variable value to change depending on the stage value here is my serverless yml file"
69363095,"Serverless error - The CloudFormation template is invalid - during deployment","https://stackoverflow.com/questions/69363095/serverless-error-the-cloudformation-template-is-invalid-during-deployment","{javascript,node.js,serverless-framework,serverless,aws-serverless}","2021-09-28 13:55:59+03","2024-05-17 05:28:03.246986+03","When deploying lambdas with serverless the following error occurs The CloudFormation template is invalid Template format error Output ServerlessDeploymentBucketName is malformed The Name field of every Export member must be specified and consist only of alphanumeric characters colons or hyphens I do not understand what the problem is Serverless config file"
69363354,"Why are there holes in my cloudwatch logs?","https://stackoverflow.com/questions/69363354/why-are-there-holes-in-my-cloudwatch-logs","{aws-lambda,serverless-framework,amazon-cloudwatchlogs}","2021-09-28 14:12:19+03","2024-05-17 05:28:04.26106+03","I have been running lambdas using C with serverless com framework for some months now and I consistently notice holes in the cloudwatch logs So far it has only been an annoyance I have been looking around for some explanation but it is starting to get to the point where I need to understandfix the problem For instance today I can see the lambda monitor shows hundreds to thousands of executions between 7AM and 8AM but the cloudwatch logs show logfiles up until 719AM and then nothing again until 852AM What is going on here"
69377835,"Search/filter functions work locally when testing, but not when deployed to gh-pages. No errors on console","https://stackoverflow.com/questions/69377835/search-filter-functions-work-locally-when-testing-but-not-when-deployed-to-gh-p","{reactjs,google-cloud-platform,aws-lambda,progressive-web-apps,serverless-framework}","2021-09-29 13:56:24+03","2024-05-17 05:28:04.941987+03","App has a city search component as well as filtering number of events component that both work when testing at localhost but when deployed to ghpages the app does not behave as expected The difference is while testing locally I am using mock data and when deployed the app pulls from an api There are no errors in the console My question is why does this happen and what am I missing httpsevandersloot github iomeetapp"
69500335,"Serverless Framework stuck downloading template","https://stackoverflow.com/questions/69500335/serverless-framework-stuck-downloading-template","{node.js,serverless-framework}","2021-10-08 18:33:21+03","2024-05-17 05:28:05.655666+03","I am starting a serverless project to learn it on windows installed it with npm ran serverless on PowerShell selected the awsnodeexpressdynamodbapi template the problem is it keeps stuck in Downloading awsnodeexpressdynamodbapi template forever and never finishes it or actually downloads anything the only error in instalation was the following It appears to be trying to configure Visual Studio but I did not worried since I do not use it "
69730569,"How to setup alias using serverless framework","https://stackoverflow.com/questions/69730569/how-to-setup-alias-using-serverless-framework","{serverless-framework}","2021-10-26 22:14:18+03","2024-05-17 05:28:16.495424+03","I have a project I am working on with another developer using the serverless framework in aws I need us both be able to deploy the stack without each other stepping on the others changes I have been looking for an alias feature where I can provide some prefix or something that will make the deployment unique but so far I have been unsuccessful Is there such a feature in serverless to do this If not how do teams deploy multiple version of the same code without stepping on each other"
69503227,"Serverless framework, have same API be available on two different domains","https://stackoverflow.com/questions/69503227/serverless-framework-have-same-api-be-available-on-two-different-domains","{aws-cloudformation,aws-api-gateway,serverless-framework,serverless}","2021-10-09 02:10:45+03","2024-05-17 05:28:06.664437+03","I am trying to serve lambda developed using serverless framework using two different custom domain names I added the following custom resources to my serverless yml file Unfortunately when I try to deploy this stack I get this error message I also see a corresponding event in the AWS Cloudformation console As a result stack creating fails and I have neither domain mapped to the rest API However if I remove one of the AWSApiGatewayBasePathMapping from the serverless yml deploy the stack and then manually add the domain mapping everything works as I want it to Is this a problem with serverless framework or cloudformation Am I doing something wrong"
69527970,"How can I trigger script on hook with access to stage and region?","https://stackoverflow.com/questions/69527970/how-can-i-trigger-script-on-hook-with-access-to-stage-and-region","{serverless-framework}","2021-10-11 14:33:32+03","2024-05-17 05:28:07.639655+03","I run a script on a serverless hook using any of the plugins that allow me to do this e g How can I pass in the stage and region variables to the script"
69538195,"Why does my GetObjectRequest return a 403 Access Denied error when my Lambda has access to the S3 bucket?","https://stackoverflow.com/questions/69538195/why-does-my-getobjectrequest-return-a-403-access-denied-error-when-my-lambda-has","{node.js,amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2021-10-12 09:34:28+03","2024-05-17 05:28:08.479284+03","I have a Lambda function that makes a GetObject request to an S3 bucket However I am getting the following error I have given access to the Lambda function to make this request What is the issue serverless ts s3 ts package json"
69540580,"Maximum size for environment variable","https://stackoverflow.com/questions/69540580/maximum-size-for-environment-variable","{aws-lambda,serverless-framework}","2021-10-12 12:30:25+03","2024-05-17 05:28:09.545194+03","What is the maximum size of an environment variable with Serverless Framework At some point in 2019 based on issue tracking ticket it has been 4 Kb and in a project I am working with there was a workaround made because of this Now this workaround is part of timeout issues faced and I am wondering whether this could be removed i e if the limit has been increased I could not find the limit by searching docs and based on tribal knowledge the original issue came up when a developer tried to load big enough parameter "
69542211,"Serverless Framework Python 1 yml and multiple directories per each lambda function","https://stackoverflow.com/questions/69542211/serverless-framework-python-1-yml-and-multiple-directories-per-each-lambda-funct","{python-3.x,aws-lambda,serverless-framework,serverless}","2021-10-12 14:20:12+03","2024-05-17 05:28:10.461988+03","I did as much research as I could but I can`t seem to find a way to structure my folder the way I want to My folder structure looks like this What I want to do is to pull in all the yml from inside the functions folder into the serverless yml at the root folder My main serverless yml file looks as such The issue is that the whole functions folder is picked up by each of the lambdas even if I have something like this in each inner function yml file Inside AWS it looks like this Pic from AWS Lambda Source Code Is there a better pattern than having 1 directory per lambda I would like just the files inside each function to be at the root of my lambdas without them being inside a folder once they reach AWS as they are in the image Also I`d like to have just the files from each innerfunction inside the functions folder rather than the whole functions directory "
69583715,"Access property of secret without saving it to a variable first?","https://stackoverflow.com/questions/69583715/access-property-of-secret-without-saving-it-to-a-variable-first","{serverless-framework}","2021-10-15 10:59:35+03","2024-05-17 05:28:11.535989+03","I do this to use a secret Is there some syntax that would allow me to access NrAccountId in newRelic accountId without having to declare newRelicLicenseSecret "
69591115,"Using pre-defined roles in Serverless Framework","https://stackoverflow.com/questions/69591115/using-pre-defined-roles-in-serverless-framework","{aws-lambda,serverless-framework}","2021-10-15 22:09:45+03","2024-05-17 05:28:12.516164+03","The user deploying the application with Serverless Framework do not have permissions to use IAM Can I use predefined roles instead of creating new ones during deployment How"
69614217,"aws lambda funkction with 2 layers - serverless framework yaml file","https://stackoverflow.com/questions/69614217/aws-lambda-funkction-with-2-layers-serverless-framework-yaml-file","{aws-lambda,serverless-framework}","2021-10-18 10:05:12+03","2024-05-17 05:28:13.347244+03","I have in yaml file lambda function with two layers is this correct way to use two or more layers in one function I am getting error Error The CloudFormation template is invalid Template format error Unresolved resource dependencies [YYYYYLambdaLayer] in the Resources block of the template"
69707599,"Amazon DynamoDB modify structure using serverless","https://stackoverflow.com/questions/69707599/amazon-dynamodb-modify-structure-using-serverless","{amazon-web-services,amazon-dynamodb,serverless-framework}","2021-10-25 11:52:55+03","2024-05-17 05:28:14.528198+03","What is the best way to modify a DynamoDB table structure no problems on erasing it because of backup I have a table with only HASH KEY I have to add a SORT KEY for the table When I deploy the stack I receive this error Error The CloudFormation template is invalid Template format error Unresolved resource dependencies [DynamoDBTransactionsFinished] in the Resources block of the template Some way to solve it"
69723242,"How to fix AccessDeniedException at aws root account?","https://stackoverflow.com/questions/69723242/how-to-fix-accessdeniedexception-at-aws-root-account","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework}","2021-10-26 12:36:50+03","2024-05-17 05:28:15.054428+03","When I trying to deploy some code to aws lamda using serverless framework i got this exception in cloudformation logs How I can deal with it I using root account to deploy I know that is bad "
69724457,"AWS Lambda hang until it timout on stipe invoices list","https://stackoverflow.com/questions/69724457/aws-lambda-hang-until-it-timout-on-stipe-invoices-list","{amazon-web-services,aws-lambda,stripe-payments,serverless-framework,serverless}","2021-10-26 13:56:20+03","2024-05-17 05:28:15.906159+03","I am using AWS Lambda to host a nodeJs service that fetch my open invoices on Stripe and execute a payment and update my database The problem is that most of the time but not all the time sometimes everything goes how it should it hang on the call of invoice list and do nothing Heres the part of the code where log stops And here the log output And when it gooes all right it is like that I do not get why it hangs with no error or log "
69757417,"Serverless deploy does not create API gateway","https://stackoverflow.com/questions/69757417/serverless-deploy-does-not-create-api-gateway","{python,amazon-web-services,serverless-framework,aws-serverless}","2021-10-28 16:02:29+03","2024-05-17 05:28:17.357405+03","Here is my serverless yml file Here is code even with this code it does not work I exported my AWS credentials and ran serverless deploy I see nothing at the AWS account in API Gateway I can not access endpoint"
69784746,"Synchronous Invocation of AWS APIGATEWAY to a Step Function?","https://stackoverflow.com/questions/69784746/synchronous-invocation-of-aws-apigateway-to-a-step-function","{amazon-web-services,aws-api-gateway,serverless-framework,aws-step-functions}","2021-10-31 07:29:55+02","2024-05-17 05:28:18.420784+03","We have created a simple step function in AWS via synchronous invocation When I click Start Execution I do see that the flow is Synchronous with the expected result However When I attach this step function to a proxy APIGATEWAY via I do not see the expected result I only see this Question How can I make the Apigateway to wait for the step function invocation Synchronously "
69787127,"Switch lambdas to arm64 in Serverless framework","https://stackoverflow.com/questions/69787127/switch-lambdas-to-arm64-in-serverless-framework","{lambda,aws-lambda,serverless-framework}","2021-10-31 13:03:26+02","2024-05-17 05:28:19.335093+03","I am trying to switch all my lambdas to arm64 I am using the serverless framework and I added the architecture tag as mentioned in docs But the problem is it is not updating in the lambdas Is it because I need to update the serverless package I am using so that cloud formation I could not find anything about it These are the dependencies I am using Not sure if it is because of my serverless framework version"
69800948,"Serverless vs Serverless Cloud","https://stackoverflow.com/questions/69800948/serverless-vs-serverless-cloud","{serverless-framework,serverless,aws-serverless}","2021-11-01 18:06:50+02","2024-05-17 05:28:20.892917+03","I built an API using Express which while initially meant to be deployed to EC2 will now be deployed to Lambda I looked into Middy js initially but there was not enough documentation on how to use it to build APIs Upon more research I landed upon Laconia and Serverless The community around Serverless seems to be much bigger but I probably would not want to use it if it meant I had to get a subscription with them not from the jump at least My understanding is that their tool is open source However looking at their website I have not been able to differentiate which features are exclusive their cloud services vs their open source offering So with all in mind my question is"
69806386,"How do I use module aliases in Serverless Stack?","https://stackoverflow.com/questions/69806386/how-do-i-use-module-aliases-in-serverless-stack","{material-ui,serverless-framework,esbuild}","2021-11-02 06:52:13+02","2024-05-17 05:28:21.569886+03","I am trying to follow the guide for Material UI on replacing the existing style engine with styledcomponents httpsmui comguidesstyledengine I am also using it as part of the Serverless Stack framework which shows that it is using ESBuild httpsdocs serverlessstack compackagesclibuild Is it possible to do this module aliasing I looked around but was not able to figure out how "
69810751,"Image file is not viewing uploaded by s3","https://stackoverflow.com/questions/69810751/image-file-is-not-viewing-uploaded-by-s3","{javascript,amazon-web-services,amazon-s3,serverless,serverless-framework}","2021-11-02 12:48:02+02","2024-05-17 05:28:22.305909+03","I am uploading image files using s3 But whenever I try to download using the URL as well as from the s3 console will download the image file But it will not visible to the image viewer It just shows an incompatible file type I uploaded files using postman now as form data I can see text files uploaded using this code correctly Then why do images have the issue Also images and pdf actual file size is increased a little bit "
69866414,"Serverless invoke error: ""is not authorized to perform: dynamodb:BatchWriteItem on resource: arn:aws:...""","https://stackoverflow.com/questions/69866414/serverless-invoke-error-is-not-authorized-to-perform-dynamodbbatchwriteitem","{node.js,aws-lambda,serverless-framework,aws-serverless,amazon-dynamodb}","2021-11-06 17:42:30+02","2024-05-17 05:28:23.341876+03","I have this iamRoleStatements on my serverless yml which should allow those actions to my lambda functions And this my lambda yml In my handle function I try to insert an item but I am getting this error"
69875775,"How to pass api endpoint parameter to lambda function in serverless","https://stackoverflow.com/questions/69875775/how-to-pass-api-endpoint-parameter-to-lambda-function-in-serverless","{aws-lambda,aws-api-gateway,serverless-framework,wsgi}","2021-11-07 19:17:05+02","2024-05-17 05:28:24.379101+03","I created a lambda function behind an API gateway and I am trying to implement a healthcheck for it as well but right now I need to do this in 2 steps Is there a way to get the reference to the api gateway on creation time so it can be passed as an environment variable to the healthcheck app the alternative I can think of is to basically create a specific serverless yaml just for the healthcheck purpose "
69878886,"Create an RDS instance available to Lambda functions in Serverless Framework","https://stackoverflow.com/questions/69878886/create-an-rds-instance-available-to-lambda-functions-in-serverless-framework","{aws-lambda,amazon-rds,serverless-framework,amazon-vpc,aws-serverless}","2021-11-08 05:11:08+02","2024-05-17 05:28:25.228022+03","I have a AWS Lambda application deployed via Serverless Framework It needs a database the CloudFormation for which I include in serverless yamls resources section With minimal knowledge of VPCs subnets and security groups my goal is the following What I have tried so far I have attempted this with the below serverless configuration It creates the database but it does not fulfill 2 and 3 I have also tried setting provider vpc securityGroupIds and provider vpc subnetIds in serverless yaml to the same ones the RDS instance uses to no avail the relevant sections "
69881588,"Serverless plugin or yaml feature to merge defaults into a serverless file?","https://stackoverflow.com/questions/69881588/serverless-plugin-or-yaml-feature-to-merge-defaults-into-a-serverless-file","{yaml,serverless-framework}","2021-11-08 09:57:02+02","2024-05-17 05:28:25.817194+03","I have a serverless file with I have another file with a property that should be shared by multiple serverless files Is there any Serverless plugin or yaml feature that would allow me to merge the file with the common prop into the first file to produce"
69917305,"How can I fix the circular dependency between my S3 bucket and SQS?","https://stackoverflow.com/questions/69917305/how-can-i-fix-the-circular-dependency-between-my-s3-bucket-and-sqs","{amazon-web-services,amazon-s3,aws-cloudformation,amazon-sqs,serverless-framework}","2021-11-10 17:00:20+02","2024-05-17 05:28:26.885009+03","I am trying to write a serverless configuration for my service A requirement is that the S3 bucket sends notifications to an SQS queue on object create events However when I try to deploy my service using serverless deploy I get this error I found this page which if I understand correctly explains that I have a circular dependency between my S3 bucket and my SQS queue and that I must fix this circular dependency in order to be able to successfully deploy my service This page explains that I can use FnSub or FnJoin to fix the circular dependency Based on this suggestion I modified my configuration from the original version to a new version as below using Sub cfn s3 yml original version cfn s3 yml new version change in bold My unchanged cfn sqs yml When I tried serverless deploy with the new version I get the same error I also tried kgiannakakiss suggestion to use DependsOn but I get the same error when I try that How can I fix my serverless configuration so that I can successfully deploy my service"
69933340,"how to match multiple patterns in aws cloudwatch log to trigger a lambda","https://stackoverflow.com/questions/69933340/how-to-match-multiple-patterns-in-aws-cloudwatch-log-to-trigger-a-lambda","{amazon-web-services,aws-lambda,amazon-cloudwatch,serverless-framework,amazon-cloudwatchlogs}","2021-11-11 18:41:25+02","2024-05-17 05:28:29.019203+03","I am trying to set a cloudwatch event to trigger a lambda function I wan to trigger it when the message in the logs is either Process exited before completing request or Error Runtime exited with error signal killed Specifying one is easy and it works fine using a serverless yml file but I need the event to trigger for both messages what is the right syntax to use an OR filter I have tried with [Process exited before completing request Error Runtime exited] but that does not work aws docummendation specifies how to match one word or another but not complete sentences like this ones"
69952799,"serverless-bundle Missing Dependencies","https://stackoverflow.com/questions/69952799/serverless-bundle-missing-dependencies","{serverless,serverless-framework}","2021-11-13 08:52:54+02","2024-05-17 05:28:29.898876+03","I am failing to generate a bundle with serverlessbundle plugin tsconfig json serverless yml Here is the serverlessapp zip file after running sls package As you see there is no node_modules folder If I launch the app with sls offline start stage offline It looks like one of the dependencies trying to read a directory resources in its own package folder in node_modules But since serverlessbundle merges everything into handler js there are no node_modules folder and dependency folders so readdir is failing What I am doing wrong"
69962856,"How should we configure apigateway--> step function proxy in AWS serverless framework?","https://stackoverflow.com/questions/69962856/how-should-we-configure-apigateway-step-function-proxy-in-aws-serverless-fram","{amazon-web-services,aws-api-gateway,serverless-framework}","2021-11-14 12:14:15+02","2024-05-17 05:28:30.871782+03","We are using serverless framewotk AWS to create This is the current code which uses the serverlessstepfunctions plugin However in our CICD pipeline we cannot use this plugin So we have to configure apigateway step function proxy it without plugin Question How should we configure the YML file in order to allow Apigateway connecting to a stepfunction without using the plugin "
69968460,"NextJS Stripe Webhook Raw Body","https://stackoverflow.com/questions/69968460/nextjs-stripe-webhook-raw-body","{javascript,next.js,stripe-payments,webhooks,serverless-framework}","2021-11-15 00:59:51+02","2024-05-17 05:28:31.610706+03","Pulling my hair out trying to pass a raw body for Stripe webhook on NextJS Trying lots of solutions from everywhere and I cant seem to make it work Opening it up the devs with superpowers of which I am still acquiring Error from Stripe Test No signatures found matching the expected signature for payload Are you passing the raw request body you received from Stripe My NextJS webhook endpoint test Have also tried"
69983401,"How to get serverless framework to use CA Cert","https://stackoverflow.com/questions/69983401/how-to-get-serverless-framework-to-use-ca-cert","{serverless,serverless-framework}","2021-11-16 03:23:21+02","2024-05-17 05:28:32.596755+03","I am on a corporate network Said network requires a ca certificate for all encrypted transmissions I make this work using NPM by npm config set cafile pathtocerrname pem When I attempt to run serverless or sls commands commands of any kind I get This unable to get local issuer certificate is the exact same error I get if I do not set the CA file in npm How can I set the CA file in serverless framework I have looked at this answer Serverless Framework Login From Behind a Proxy which feels close but when running the command in the accepted answer and then trying to run serverless I get the same unable to get local issuer certificate error "
70013886,"How to configure eventbridge rule in serverless.yml (using serverless framework ) to invoke lambda on specific time","https://stackoverflow.com/questions/70013886/how-to-configure-eventbridge-rule-in-serverless-yml-using-serverless-framework","{aws-lambda,serverless,serverless-framework,aws-serverless,aws-event-bridge}","2021-11-18 02:31:55+02","2024-05-17 05:28:33.636775+03","We have already python lambda function running with AWS eventbridge which was configured manually using console to trigger lambda on 9 PM everyday Currently we also have rule arn for eventbridge Plan So We are migrating everything to serverless framework to automate the whole lambda deployment and configuring eventbridge using serverless yml to invoke the lambda on 9 pm Can anyone please advise how do I do that Sample code"
70018020,"Starting from next major object notation for ""service"" property will no longer be recognized. Set ""service"" property directly with service name","https://stackoverflow.com/questions/70018020/starting-from-next-major-object-notation-for-service-property-will-no-longer-b","{serverless-framework}","2021-11-18 10:15:37+02","2024-05-17 05:28:34.273398+03","On a serverless project I get the following deprecation warning Serverless Deprecation warning Starting from next major object notation for service property will no longer be recognized Set service property directly with service name More Info httpswww serverless comframeworkdocsdeprecationsSERVICE_OBJECT_NOTATION My Yaml is How can I fix this deprecation warning "
70036679,"Sequelize randomly throwing error while select","https://stackoverflow.com/questions/70036679/sequelize-randomly-throwing-error-while-select","{aws-lambda,sequelize.js,amazon-rds,serverless-framework,sequelize-typescript}","2021-11-19 14:49:20+02","2024-05-17 05:28:35.329731+03","I am trying to select categories from the category table If I execute the select statement several times let us say 10 times 3 times will get the exception Exception Code It seems perfectly unstable I am using Serverless framework in AWS lambda Database is MySql "
70348461,"serverless-offline-sqs ListQueues not displaying queue","https://stackoverflow.com/questions/70348461/serverless-offline-sqs-listqueues-not-displaying-queue","{serverless-framework,elastic-mq}","2021-12-14 11:55:07+02","2024-05-17 05:28:36.431731+03","In my sls project I setup sqs offline usage as shown below using this article Attempting to list Queues does not display fifo queue Wondering why autoCreate is not creating the queue List Queue action curl response Wondering what am I missing to auto create the queue for offline mode Offline start shows offline Starting Offline SQS devuseast1 message Versions"
70351126,"HostedRotationLambda & Transform","https://stackoverflow.com/questions/70351126/hostedrotationlambda-transform","{serverless-framework}","2021-12-14 15:07:31+02","2024-05-17 05:28:37.324979+03","I am trying to implement aws secrets rotation with with the serverless framework httpsalexharv074 github io20201123addinghostedrotationlambdatoadatabasestack html I get the error How can I add transform Below a working Aws cloudformation template"
70557361,"AWS sync to deploy only new or updated files to s3","https://stackoverflow.com/questions/70557361/aws-sync-to-deploy-only-new-or-updated-files-to-s3","{amazon-web-services,amazon-ec2,github-actions,serverless-framework,aws-serverless}","2022-01-02 15:44:07+02","2024-05-17 05:28:53.327174+03","I have written a Github actions script that takes files from a folder migrations and uploads it to s3 The problem with this pipeline is that all other files in the directory also get updated How can I go about only updating new or updated files Heres the current script as it stands "
70383416,"Lambda - Is there a way to conditionally switch between Unreserved and Reserved concurrency in serverless templates?","https://stackoverflow.com/questions/70383416/lambda-is-there-a-way-to-conditionally-switch-between-unreserved-and-reserved","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2021-12-16 17:43:31+02","2024-05-17 05:28:38.252889+03","I am using serverless template to create a lambda function in AWS If I do not specify any value for the property ReservedConcurrentExecutions then the function gets created with Unreserved concurrency Now I would like to use reserved concurrency or unreserved depending on an input parameter Function with Reserved Concurrency Function with Unreserved Concurrency just do not use the ReservedConcurrentExecutions property I know I can declare the 2 functions separately and have a Condition to create one or the other What I would like to know is if it is possible to have just one function and conditionally add the ReservedConcurrentExecutions property Thank you "
70391775,"Can I load a serverless file using some yaml library?","https://stackoverflow.com/questions/70391775/can-i-load-a-serverless-file-using-some-yaml-library","{yaml,serverless-framework}","2021-12-17 10:32:11+02","2024-05-17 05:28:39.399682+03","I am trying to load a serverless file using a yaml library to do some preprocessing I am getting an error Because of this line Is it possible to load serverless files into an object somehow I am thinking maybe serverless is using some particular schema that I need to define when loading but I do not know Do you have any idea how I can get this to work"
70392701,"How to dynamically map functions to serverless.yml","https://stackoverflow.com/questions/70392701/how-to-dynamically-map-functions-to-serverless-yml","{serverless-framework}","2021-12-17 11:47:36+02","2024-05-17 05:28:39.696721+03","My team has been working with serverless and we are trying to establish a new standard in the company for a file organization that eases the collaborative development We plan to isolate the lambdasfunctions handler each in their folder alongside the function yml file and other necessary configs Example expected directory structure lean The problem so far is that we have to manually declare all external config function files in the serverless yml file which breaks the whole purpose of the idea The question is is there a way to automate this import What we have searched so far Info from here Serverless Doc base schema link broken so no other information aside from the one in the page What we thought to be options What is the better and most natural approach to that"
70394323,"Serverless lambda deploy stuck in UPDATE_ROLLBACK_COMPLETE","https://stackoverflow.com/questions/70394323/serverless-lambda-deploy-stuck-in-update-rollback-complete","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2021-12-17 13:58:34+02","2024-05-17 05:28:40.920677+03","I am trying to deploy this serverless application but it gets stuck in UPDATE_ROLLBACK_COMPLETE status I have done some search but all answers says to check for failed nested stacks which is not my case Heres the print screen from my couldformation resources as you can see both resources were successfully created Heres my serverless yml Does anyone have any ideia of why this is happening Thank you in advance Update this is the output of serverless deploy"
70409022,"Cannot parse ""serverless.yml"": bad indentation of a mapping entry","https://stackoverflow.com/questions/70409022/cannot-parse-serverless-yml-bad-indentation-of-a-mapping-entry","{aws-lambda,serverless-framework}","2021-12-19 04:44:49+02","2024-05-17 05:28:41.370807+03","I am including various resources defined in external files and I also have output variables in the resources section With the above code I get the following error If I remove all the external files and keep only the Outputs as such there is no error How should I fix this bad indentation problem while including resources through external files as well as having the Output variables Thanks in advance "
70415690,"Serverless Framework / Python - Deploying multiple functions in a service","https://stackoverflow.com/questions/70415690/serverless-framework-python-deploying-multiple-functions-in-a-service","{python,aws-lambda,serverless,serverless-framework,aws-serverless}","2021-12-19 22:04:54+02","2024-05-17 05:28:42.280027+03","I am using the Serverless framework with AWS Lambda to deploy multiple functions one of them is written in Python3 and bundled with a few external libraries I am using redis elasticsearch dateutil When running the lambda locally using serverless invoke local function functionname it works fine When running locally using python3 function py I am getting the error ImportError attempted relative import with no known parent package because I am importing a local python file using a dot prefix i e from imported_file import one two three When running on cloud i e serverless invoke function functionname I am getting the error Unable to import module functionnamefunction No module named redis Since I am deploying multiple functions under the same yaml file each function has it is own folder and I am deploying using the following settings And in each function File structure looks like this I have tried lots of things to overcome this but mainly what seems to be working is having all the files and folders in the root folder of the lambda Problem is I am unable to accomplish this because using the method above to package the functions forces a file structure looking like this Instead of this If someones can explain to me what is going on and how to get it working in the cloud it will be much appreciated "
70432261,"Serverless framework - New variables resolver","https://stackoverflow.com/questions/70432261/serverless-framework-new-variables-resolver","{amazon-web-services,aws-cloudformation,serverless-framework}","2021-12-21 08:05:21+02","2024-05-17 05:28:43.039502+03","When I run sls offline I am facing a deprecation warning Serverless Deprecation warning Variables resolver reports following resolution errors Variable syntax error at functions Test environment TEST_URL Invalid variable type at index 20 in file env yml selfprovider stage TEST_URL From a next major this will be communicated with a thrown error Set variablesResolutionMode 20210326 in your service config to adapt to new behavior now Documentation is not clear about it env yml serverless yml It works correctly with frameworkVersion 1 1 0 2 0 0 What is a new approach to get data from another file"
70433027,"how to get existing AWS arn certificate in order to use it in serverlessframework","https://stackoverflow.com/questions/70433027/how-to-get-existing-aws-arn-certificate-in-order-to-use-it-in-serverlessframewor","{amazon-web-services,serverless-framework}","2021-12-21 09:15:54+02","2024-05-17 05:28:43.766665+03","is there a way to get existing AWS certificate ARN when i am in my serverless framework deployment file i need a way to get the arn of the certificate when i know only the name of the certificate"
70447439,"serverless appsync deployment issue","https://stackoverflow.com/questions/70447439/serverless-appsync-deployment-issue","{aws-cloudformation,serverless-framework,aws-appsync}","2021-12-22 10:16:48+02","2024-05-17 05:28:44.925641+03","while creating Appsync using Serverless I am getting the duplication for each deployment And every appsync it was not creating the data source schema and resolver "
70457231,"Unable to Publish Serverless ASP.Net Core WebApi template","https://stackoverflow.com/questions/70457231/unable-to-publish-serverless-asp-net-core-webapi-template","{c#,asp.net-core,serverless-framework,aws-serverless}","2021-12-23 03:02:19+02","2024-05-17 05:28:45.84281+03","I am learning serverless framework with ASP Net core and having problem publishing the default project that is generated by Dotnet CLI I have already configured IAM role and AWS CLI My default zone is configured as uswest2 I am not sure if that might make a difference I am generating the serverless project using the command This generates a new ASP Net Core Web API Project If I navigate into the project directory and try to publish it using the command below nothing is created in the CloudFormation stacks I get the following output This is the serverless template file I have not made any changes to the code so I am not sure exactly what the problem is and why the project is not getting published Looking through the logs the only part that seems off is this warning but in the serverless template file there is nothing related to S3 configuration Any ideas on what I might be missing"
70460275,"How to add unequal number of VPC settings to diff AWS systems?","https://stackoverflow.com/questions/70460275/how-to-add-unequal-number-of-vpc-settings-to-diff-aws-systems","{aws-lambda,serverless,serverless-framework}","2021-12-23 09:45:40+02","2024-05-17 05:28:46.928125+03","We have a code deployed in two different environments in AWS test system and prod system In the test system we have three subnets and one security group which have to be attached to the lambda In the prod system we have one subnet and two security groups that have to be attached to the lambda I know it is not a good practice to have just one subnet I would like to declare these in the serverless yml file itself I tried When the code is deployed via CICD it throws an error Resource handler returned message 1 validation error detected Value [sgxxxxxxxxxxx ] at vpcConfig securityGroupIds failed to satisfy constraint Member must satisfy constraint [Member must have length less than or equal to 1024 Member must have length greater than or equal to 0 Member must satisfy regular expression pattern ^sg[09azAZ]] Is there a way I can declare the VPC settings for this case"
70466347,"Serverless Framework Secrets Error - An error occurred while calling one AWS dependency service","https://stackoverflow.com/questions/70466347/serverless-framework-secrets-error-an-error-occurred-while-calling-one-aws-dep","{amazon-web-services,serverless-framework}","2021-12-23 18:58:10+02","2024-05-17 05:28:47.676275+03","I am trying to access secret managers using Serverless secrets framework this way Approach1 Old supersecret ssm useast1 raw awsreferencesecretsmanagersecretnametrue Approach2 New variablesResolutionMode 20210326 in serverless yaml supersecret ssm useast1 raw awsreferencesecretsmanagersecretname Approach1 works fine but I get the below error with Approach2 on serverless deploy Serverless version Framework Core 2 69 1 local Plugin 5 5 1 SDK 4 3 0 Components 3 18 1 The secrets are not replicated and only exist in useast1 Any idea what I could be doing wrong"
70469922,"How can I use `!GetAtt` in serverless.yml default value operator?","https://stackoverflow.com/questions/70469922/how-can-i-use-getatt-in-serverless-yml-default-value-operator","{amazon-web-services,aws-lambda,amazon-dynamodb,aws-cloudformation,serverless-framework}","2021-12-24 05:49:22+02","2024-05-17 05:28:48.824783+03","I have serverless yml which is to deploy a dynamodb and a lambda function The lambda function needs to reference the dynamodb table stream arn In the arn field I would like to specify if dbStreamArn is not specified from command line parameter get the value from EntityTable StreamArn But I got this error what is the right way to reference the arn value"
70485677,"Error: EMFILE: too many open files, open - serverless framework","https://stackoverflow.com/questions/70485677/error-emfile-too-many-open-files-open-serverless-framework","{serverless-framework}","2021-12-26 10:20:38+02","2024-05-17 05:28:49.24377+03","I am trying to deploy my lambda functions using serverless framework I am pretty sure it worked in the past now I get the error below when calling sls deploy The lambda runtime is in python Here my last version of serverless yaml I am running the deploy from macOS big sur but I get the same error from centos Any clue"
70486773,"Using Async Event Listener with Nestjs EventEmitter Module and Serverless functions","https://stackoverflow.com/questions/70486773/using-async-event-listener-with-nestjs-eventemitter-module-and-serverless-functi","{javascript,nestjs,serverless-framework,eventemitter}","2021-12-26 13:21:11+02","2024-05-17 05:28:50.451589+03","I am trying to implement an asynchronous worker with serverless lambda function with help of nestjs EventEmitter module Handler is getting invoked on emitting an event but the function gets closed before the async await call I have tried using both emit and emitAsync functions and different arguments for OnEvent AccountEvents NEW_ACCOUNT asynctrue promisifytrue Producer Snippet Listener Snippet Expect Output all the 3 log statements Actual Output only first log statement Log1 "
70527438,"AWS S3 & Serverless - Access Denied when using PUT presigned URL","https://stackoverflow.com/questions/70527438/aws-s3-serverless-access-denied-when-using-put-presigned-url","{amazon-web-services,amazon-s3,aws-lambda,amazon-iam,serverless-framework}","2021-12-30 04:19:28+02","2024-05-17 05:28:50.668998+03","I am trying to generate presigned URLs to upload objects to an S3 bucket but whenever I execute the PUT requests to the presigned URLs I get Access Denied errors This is the code I am using to generate the URLs runs inside a node lambda function And here are the permissions from my serverless yml file"
70543586,"403 error with GET only occurs on lambda deployed","https://stackoverflow.com/questions/70543586/403-error-with-get-only-occurs-on-lambda-deployed","{aws-lambda,https,axios,serverless-framework}","2021-12-31 15:18:45+02","2024-05-17 05:28:51.797773+03","if do GET request to with Postman browser and serverless local invoke I can get response with 200 But After I deploy the same code already tested with local invoke it gets error like The code successed with local invoke but got 403 at aws lambda environment is why does it happen"
70552783,"Method to upload files to S3 bucket from mobile / web client - Serverless","https://stackoverflow.com/questions/70552783/method-to-upload-files-to-s3-bucket-from-mobile-web-client-serverless","{amazon-s3,amazon-cognito,serverless-framework,aws-appsync,serverless-architecture}","2022-01-02 00:10:33+02","2024-05-17 05:28:52.66372+03","I have a serverless application that uses AWS AppSync as the API layer and Cognito User Pool as the authentication service There can be web mobile users using the application Each authenticated user should be able to upload photos to the S3 bucket I am using Dynamo DB as the database What is the best way to implement the file upload process with the below requirements I saw there is a way to upload files with AWS presigned URLs but can I upload multiple files with that approach Since I have the Cognito authentication is there a direct way for authenticated users to access S3 buckets rather than presigned URLs"
70605017,"Serverless error - Value of property DBSubnetGroupName must be of type String","https://stackoverflow.com/questions/70605017/serverless-error-value-of-property-dbsubnetgroupname-must-be-of-type-string","{amazon-web-services,aws-cloudformation,serverless-framework,aws-aurora-serverless}","2022-01-06 09:32:12+02","2024-05-17 05:28:54.289346+03","I am attempting to geneate an Aurora serverless database for an application using Serverless to build it I copied a CloudFormation template I found online for this portion of my setup I reference the below resource from my Serverless yml file which I have excluded because it is very large Serverless fails with the message An error occurred AuroraCluster Value of property DBSubnetGroupName must be of type String I am confused about this because to my observation DBSubnetGroupName is a string which as you can see is set to the value of dbsubnetgroup I am new to both Serverless and CloudFormation and am doing my best to piece a solution together for a product I am building Any suggestion as to how to fix this problem would be much appreciated Below is my Serverless file Many thanks in advance for any assistance "
70615788,"How do I add nested list data in dynamodb using serverless stack?","https://stackoverflow.com/questions/70615788/how-do-i-add-nested-list-data-in-dynamodb-using-serverless-stack","{node.js,amazon-dynamodb,serverless-framework}","2022-01-07 02:03:11+02","2024-05-17 05:28:55.821435+03","I have a dynamoDB table that has an Item that includes a user and a List of plans It looks like this Now I want to add another plan So I wrote the handler below And there is an error add error ValidationException Invalid UpdateExpression An expression attribute value used in expression is not defined attribute value price in CloudWatch I set query params and I tested send by postman like this I referred Adding Elements to a Set httpsdocs aws amazon comamazondynamodblatestdeveloperguideExpressions UpdateExpressions html"
70618477,"aws assume role not working with serverless","https://stackoverflow.com/questions/70618477/aws-assume-role-not-working-with-serverless","{amazon-web-services,serverless,serverless-framework}","2022-01-07 08:26:59+02","2024-05-17 05:28:56.283698+03","I have a pipeline in one AWS account 123456789 I would like to deploy via serverless framework to the AWS account 234567890 On the server with the pipeline there are only awscredentials file and roles attached to it I have used a oneliner jq that allowed me to assume the role as found in this post AWS sts assume role in one command The output is as following when aws sts getcalleridentity Then the executing deployment is sls deploy verbose stage qa with the following failure The serverless file has where the cloudformationRole was arnawssts234567890assumedrolepipelineroledeploy_session I have also attempted to change the cloudformationRole to arnawssts234567890rolepipelinerole but would find the same type of error What would be the correct reference for the cfnRole so that the assumed role can work"
70622311,"How do I update a nested list data in dynamodb using serverless stack?","https://stackoverflow.com/questions/70622311/how-do-i-update-a-nested-list-data-in-dynamodb-using-serverless-stack","{node.js,amazon-dynamodb,serverless-framework}","2022-01-07 13:59:47+02","2024-05-17 05:28:57.011524+03","I have a dynamoDB table that has an Item that includes a user and a List of plans It looks like this Now I want to update only id2s object name category price in the List So I wrote the handler below And there is an error edit error ValidationException The document path provided in the update expression is invalid for update in CloudWatch I set query params and I tested send by postman like this "
70634729,"How to create IAM user with access key and secret key using Serverless framework?","https://stackoverflow.com/questions/70634729/how-to-create-iam-user-with-access-key-and-secret-key-using-serverless-framework","{amazon-iam,serverless,serverless-framework,aws-serverless}","2022-01-08 17:23:34+02","2024-05-17 05:28:58.047491+03","I would like to use Serverless framework to create an IAM user for programmatic access with certain Policies attached to it and export it is Access Key ID and Secret Key as environment variables for lambda How to achieve that something like here is done with terraform "
70635905,"CORS issue with AWS lambda when the payload is too large","https://stackoverflow.com/questions/70635905/cors-issue-with-aws-lambda-when-the-payload-is-too-large","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2022-01-08 19:52:42+02","2024-05-17 05:28:59.086675+03","I have a lambda function deployed with Serverless Framework that is giving the error below only when the Payload is too large I am sending a file through a POST multipartformdata and the CORS is enabled on ApiGateway But it seems in case Payload is too large the lambda does not event reach my code if so AWS returns a response without headers Console Network If I enable CORS extension on my browser then I get a different error"
70636476,"Pass enviromental variable on the fly to Serverless invoke local function","https://stackoverflow.com/questions/70636476/pass-enviromental-variable-on-the-fly-to-serverless-invoke-local-function","{node.js,amazon-web-services,shell,serverless-framework}","2022-01-08 21:11:27+02","2024-05-17 05:29:00.058888+03","I have the following Serverless configuration file env yml Now I would like to change DATABASE_TABLE on the fly when invoking the function locally I have tried but the variable DATABASE_TABLE gets overwritten by the one in env yml Is it possible to do it via command line"
70655867,"Algolia saveObject not called inside Lambda function using Serverless framework","https://stackoverflow.com/questions/70655867/algolia-saveobject-not-called-inside-lambda-function-using-serverless-framework","{node.js,amazon-web-services,aws-lambda,serverless-framework,algolia}","2022-01-10 16:38:19+02","2024-05-17 05:29:00.944732+03","I am using a Lambda function to index records into Algolia I am able to get the data via the event object Iam running into a problem where the saveObject function of Algolia does not seem to call or it returns before finishing what it is doing Bit hard to debug as well since I have to look at cloudwatch every time I threw some console log s here and there to see if the flow is correct I am kind of stuck here Any help is much appreciated search js handler js contains the lambda function EDIT I tried with await updateIndex record as well with no luck"
70660038,"Serverless framework deploying without credentials in docker container","https://stackoverflow.com/questions/70660038/serverless-framework-deploying-without-credentials-in-docker-container","{docker,serverless-framework}","2022-01-10 23:31:34+02","2024-05-17 05:29:01.886482+03","I created a docker container put my project inside it and then I ran sls deploy and it worked even without to setup credentials How is it possible Is Serverless Framework getting the credentials from memory or anywhere else"
70697201,"Setup serverless local environment for AWS using serverless framework","https://stackoverflow.com/questions/70697201/setup-serverless-local-environment-for-aws-using-serverless-framework","{amazon-web-services,serverless,serverless-framework}","2022-01-13 13:12:03+02","2024-05-17 05:29:02.845798+03","Hi I am using the serverless framework to develop my application and I need to set it up in a local environment I am using API gateway Lambda VPC SNS SQS and DB is connected via VPC peering currently everytime I am deploying and testing my code and its tedious process and takes 5 mins to deploy Is there any way to set up a local environment to have everything in one place"
70711552,"How to run/debug serverless(framework) application locally?","https://stackoverflow.com/questions/70711552/how-to-run-debug-serverlessframework-application-locally","{python,amazon-web-services,serverless,serverless-framework}","2022-01-14 13:46:24+02","2024-05-17 05:29:03.678291+03","I have this application created with serverless framework using python language but I am not finding a way to debug it locally or at least run it just to test it out before deploying it to amazons web services Is there any way to run serverless application with python using pycharm or any other tool"
70717414,"Unable to interpolate values in Serverless Framework for AWS","https://stackoverflow.com/questions/70717414/unable-to-interpolate-values-in-serverless-framework-for-aws","{aws-lambda,aws-sdk,serverless-framework}","2022-01-14 22:52:50+02","2024-05-17 05:29:04.406429+03","I am trying to organize this serverless YML file but getting failures I have scanned their docs for understanding how to interpolate via file substitution and I just cannot figure it out I have read all these Serverless yaml resourcesiamUsersSubscriptionTable yml resourcesdynamoUsersSubscriptionTable yml"
70726176,"Serverless Framework - Restricting permissions with API gateway","https://stackoverflow.com/questions/70726176/serverless-framework-restricting-permissions-with-api-gateway","{aws-lambda,serverless,serverless-framework}","2022-01-15 23:12:57+02","2024-05-17 05:29:05.351588+03","I have been really struggling with how tedious and complicated it is to get cloud formation templates and serverless to work as intended I currently have an API gateway where specific endpoints invoke different lambdas I was a subscribe to be open to the world but users to only be accessible via one specific resource How can I go about this This autogenerates a policy inline for API gateway to hit the retrieve endpoint What is the proper syntax to say only some ARN is allowed to hit the users endpoint"
70877441,"Serverless Framework - AWS CloudFront distribution S3 bucket access configuration","https://stackoverflow.com/questions/70877441/serverless-framework-aws-cloudfront-distribution-s3-bucket-access-configuratio","{amazon-web-services,amazon-s3,amazon-cloudfront,serverless-framework}","2022-01-27 11:01:32+02","2024-05-17 05:29:06.779294+03","I am deploying a AWS Cloudfront distribution with the serverlessapicloudfront plugin This distribution has a S3 origin configured which works as expected Configuration My problem is that When my distribution is depoyed the S3 bucket access configuration of my S3 origin is always set to Yes use OAI bucket can restrict access to only CloudFront and I would like it to be Do not use OAI bucket must allow public access httpsi stack imgur comVeLWp jpg Any idea on how to configure this"
70886809,"Can't exclude node_modules directory during serverless packaging","https://stackoverflow.com/questions/70886809/cant-exclude-node-modules-directory-during-serverless-packaging","{node.js,aws-lambda,serverless-framework,aws-lambda-layers}","2022-01-27 22:51:09+02","2024-05-17 05:29:07.076666+03","I have successfully configured a separate serverless layer for nodejs that contains all my apps node_modules The separate layer zip file built during serverless package correctly contains what I would expect i e only node_modules I then have my package patterns setup like the below yet no matter what I do my main services zip file STILL contains node_modules I have tried explicity doing excludes and includes to no success either Because node_modules continues to be packaged in the main functions zip package I cannot view the function in the lambda web interface because it is too large to display Anyone have any ideas for how to properly have my node_modules in a separate layer and get them OUT of the primary function package I am using serverless 0 70 0 serverless yml snippet"
70924816,"Serverless MalformedPolicyDocument error - Resource must be in ARN format or ""*""","https://stackoverflow.com/questions/70924816/serverless-malformedpolicydocument-error-resource-must-be-in-arn-format-or","{serverless,serverless-framework,aws-serverless}","2022-01-31 10:58:03+02","2024-05-17 05:29:07.884581+03","I have the following configuration for Serverless Lambda with IAM configuration and I get the following error MalformedPolicyDocument error Resource must be in ARN format or for the value I pass under this config The value for is arnawskafkauswest2111111111111clusterkafkaclustertest6ebf68e8ad4747af8c415801c095ab721 which is configured in the env config files Using Serverless 2 72 2 Please advise what I am not configuring properly "
70933886,"Error running Serverless Framework command after upgrading to v3","https://stackoverflow.com/questions/70933886/error-running-serverless-framework-command-after-upgrading-to-v3","{node.js,npm,aws-lambda,serverless,serverless-framework}","2022-01-31 23:05:35+02","2024-05-17 05:29:08.661893+03","I recently upgraded my Serverless Framework project from v2 7 to v3 0 1 After doing so any time I run serverless deploy I get the following error I have tried the following I am now running standalone v14 Node without NVM on Windows 10 and still the error persists Reverting to v2 7 resolves the error Nobody else seems to be suffering this issue Can anyone offer some assistance For those asking for the template the error even happens on this demo template that Serverless itself generates for a new project I am pretty confident the issue is either an installation issue or something specific to v3 or both "
70940350,"Error in serverless framework with azure with node js in .YML file","https://stackoverflow.com/questions/70940350/error-in-serverless-framework-with-azure-with-node-js-in-yml-file","{node.js,serverless-framework}","2022-02-01 12:10:32+02","2024-05-17 05:29:09.29481+03","I wanted to setup my project with azure with serverless framework but it gives an error in YML file Value is not accepted Valid values aws But I want to use azure It is not even running locally Here is my yml code service azurenodejs frameworkVersion 3 provider name azure error occur here of Value is not accepted Valid values aws region West US 2 runtime nodejs12"
70960652,"Service account for cloud function serverless framework","https://stackoverflow.com/questions/70960652/service-account-for-cloud-function-serverless-framework","{function,google-cloud-platform,serverless-framework,service-accounts}","2022-02-02 18:09:00+02","2024-05-17 05:29:10.354358+03","Im trying to deploy a google cloud function using custom runtime service account through serverless framework So How to specify service account name in serverless yml For google cloud function"
71036524,"Add multiple properties to serverless.yaml with one line?","https://stackoverflow.com/questions/71036524/add-multiple-properties-to-serverless-yaml-with-one-line","{json,yaml,serverless-framework}","2022-02-08 15:31:13+02","2024-05-17 05:29:20.38729+03","We have many serverless services Many of them share some properties Here is a subset of what they share Is it possible to add these properties to a serverless yaml file with one line I am looking for something like I am adding a json tag to the question because I am thinking that if this is not possible using serverless or yaml features then maybe there is some json feature that could be used "
14491952,"IronMQ empty message body from push queue when read from Node.JS / Express.JS","https://stackoverflow.com/questions/14491952/ironmq-empty-message-body-from-push-queue-when-read-from-node-js-express-js","{node.js,express,iron.io,ironmq}","2013-01-24 00:33:47+02","2024-05-17 05:51:21.044501+03","I am playing with node express IronMQ and I am encountering a little problem In my express js POST callback I am getting as request body but I am sure that the message content is being pushed from my IronMQ message queue Any hint "
70964358,"S3 bucket already existing error - even after manually deleted it from aws","https://stackoverflow.com/questions/70964358/s3-bucket-already-existing-error-even-after-manually-deleted-it-from-aws","{amazon-web-services,amazon-s3,serverless,serverless-framework}","2022-02-02 23:50:09+02","2024-05-17 05:29:11.458353+03","Am totally new to this serverless and AWS am trying to create a S3 bucket using serverless my serverless yml file looks like this for the first time when I run serverless deploy it worked but thereafter I have deleted the bucket manually from aws and try to redeploy it It shows me this error it says bucket with s3fileuploaderbucketdev this name already exists but there is no bucket with this name inside aws s3 even though it gives this error also creates a bucket with the name of s3fileuploaderdevserverlessdeploymentbucket1aucnojnjl618 but this is not the name I have given in the serverlesss yml file it should be like s3fileuploaderbucketdev and in the cloudFormation there is a stack created with the name s3fileuploaderdev and its status is UPDATE_ROLLBACK_COMPLETE Why it is showing the abovementioned error and at the same time creating a bucket with a different name it is confusing that give an error and create a bucket "
70968439,"How to run a Lambda Docker with serverless offline","https://stackoverflow.com/questions/70968439/how-to-run-a-lambda-docker-with-serverless-offline","{serverless-framework,serverless-offline}","2022-02-03 09:07:07+02","2024-05-17 05:29:12.481334+03","I would like to run serverless offline using a Lambda function that points to a Docker image When I try to run serverless offline I am just receiving If I try to access httplocalhost3002hello a 404 error is returned serverless yml appmyfunction py appDockerfile"
70994280,"Two S3 Buckets are creating when Deploying using serverless framework","https://stackoverflow.com/questions/70994280/two-s3-buckets-are-creating-when-deploying-using-serverless-framework","{amazon-web-services,amazon-s3,serverless-framework}","2022-02-05 00:18:24+02","2024-05-17 05:29:13.383509+03","am trying to create S3 bucket using serverless framework but when I deploy it is creating two buckets one with the name I have mentioned in the severless yml file and another bucket serverless yml Buckets created are why its creating two buckets like this"
70998665,"Serverless offline complains about missing stack before the first deployment","https://stackoverflow.com/questions/70998665/serverless-offline-complains-about-missing-stack-before-the-first-deployment","{amazon-web-services,serverless-framework,serverless-offline}","2022-02-05 13:54:58+02","2024-05-17 05:29:14.464508+03","I am trying to run locally a serverless application but it is throwing this error I did not deploy the stack yet just trying to run it locally It is possible that the offline serverless plugin only works with an existing deployed stack"
71003388,"Using the serverless framework, how do I pass the name of a generated EventBridge rule to my lambda as an environment variable?","https://stackoverflow.com/questions/71003388/using-the-serverless-framework-how-do-i-pass-the-name-of-a-generated-eventbridg","{aws-lambda,serverless-framework,aws-event-bridge}","2022-02-06 00:55:56+02","2024-05-17 05:29:15.223618+03","I am using the serverless framework and use serverless yml to generate EventBridge events and rules that trigger my lambda functions One of these rules will be a scheduled event that I need to disable in my lambda code under certain conditions To do this I will need the Rule name I would like to capture the generated rule name and pass that into my lambda as an environment variable This is only known at runtime How can I do this Thank you"
71019685,"How to expose lamba endpoint in serverless.yml only for dev stage?","https://stackoverflow.com/questions/71019685/how-to-expose-lamba-endpoint-in-serverless-yml-only-for-dev-stage","{serverless,serverless-framework,aws-serverless}","2022-02-07 13:50:34+02","2024-05-17 05:29:16.169951+03","I would like to have a debug endpoint available only for stage One way to do it is to the authorization in server code but it would be even better not to create the API Gateway endpoint all together Is it possible to achieve using Serverless framework"
71020734,"Exclude everything in the build except one folder Serverless Patterns","https://stackoverflow.com/questions/71020734/exclude-everything-in-the-build-except-one-folder-serverless-patterns","{javascript,yaml,serverless,serverless-framework,aws-serverless}","2022-02-07 15:03:51+02","2024-05-17 05:29:17.176558+03","I am working on a serverless project what I want to achieve or want to know if it is possible or not is that when I run sls package i want the serverless to exclude every filefolder in the root directory except for one folder I have tried multiple ways to do it using patterns in serverless file but nothing worked Am I missing something Because I was able to exclude particular folders if I define them explicitly But I was unable to exclude the entire root directory using wild card characters I know I can achieve it by making a script But I want to know if it can be done via the serverless framework by simply defining the patterns "
71028291,"Python error in serverless framework stating - Serverless Error: spawn docker ENOENT","https://stackoverflow.com/questions/71028291/python-error-in-serverless-framework-stating-serverless-error-spawn-docker-en","{python,node.js,python-3.x,serverless-framework,aws-serverless}","2022-02-08 03:35:51+02","2024-05-17 05:29:17.825951+03","Error I am following these instructions httpswww serverless comblogflaskpythonrestapiserverlesslambdadynamodb and cannot seem to figure this out since the base app is in python and not javascript most people who have solved this solved it using javascript "
71032995,"Serverless Framework - Value not found at ""self"" source","https://stackoverflow.com/questions/71032995/serverless-framework-value-not-found-at-self-source","{amazon-web-services,aws-lambda,serverless-framework}","2022-02-08 11:18:43+02","2024-05-17 05:29:18.408872+03","I have the following serverless yml file When I run serverless deploy I get the following error Cannot resolve variable at functions cronHandler environment REGION Value not found at self source Anyone see what I have done wrong please"
71035349,"Serverless Framework - Cannot generate IAM policy statement for Task state","https://stackoverflow.com/questions/71035349/serverless-framework-cannot-generate-iam-policy-statement-for-task-state","{amazon-web-services,aws-lambda,serverless-framework,aws-step-functions}","2022-02-08 14:12:36+02","2024-05-17 05:29:19.350282+03","I am trying to use serverless framework to deploy a step function that calls a couple of lambdas Heres my serverless yml When I run serverless deploy I see the following error Deploying flexipod2queue to stage dev useast1 serverlessadmin2 provider Cannot generate IAM policy statement for Task state Type Task Resource FnGetAtt[pullSqlSvr Arn] Next sendToDataLake Cannot generate IAM policy statement for Task state Type Task Resource FnGetAtt[sendToDataLake Arn] End true Stack flexipod2queuedev failed to deploy 72s Environment win32 node 16 1 0 framework 3 0 0 plugin 6 0 0 SDK 4 3 0 Credentials Serverless Dashboard serverlessadmin2 provider httpsapp serverless combizrobappsflexipod2queueflexipod2queuedevuseast1providers Docs docs serverless com Support forum serverless com Bugs github comserverlessserverlessissues Error CREATE_FAILED FlexipodFlow AWSStepFunctionsStateMachine Resource handler returned message Invalid State Machine Definition SCHEMA_VALIDATION_FAILED Value is not a valid resource ARN at StatespullSqlSvrResource SCHEMA_VALIDATION_FAILED Value is not a valid resource ARN at StatessendToDataLakeResource Service AWSStepFunctions Status Code 400 Error Code InvalidDefinition Any advice on how to solve please"
71057678,"Serverless framework/Cloudformation: deploying Kinesis trigger with DLQ","https://stackoverflow.com/questions/71057678/serverless-framework-cloudformation-deploying-kinesis-trigger-with-dlq","{aws-lambda,aws-cloudformation,amazon-sqs,serverless-framework,amazon-kinesis}","2022-02-09 22:36:39+02","2024-05-17 05:29:21.361246+03","I am trying to deploy a lambda on AWS with Serverless which has a Kinesis data stream as a trigger I am also wanting to define that any failed messages raised by the lambda are sent to a Dead Letter queue I could not find an example of how to do this in the Serverless documentation but I found what I thought was how to do it at httpsbetterdev blogawslambdakinesistriggerpitfalls I have created a Serverless file where the lambda target looks like this When I try and deploy I get this error The message is not helpful in identifying what the issue is Could anyone suggest what the problem might be please Thank you in advance for any assistance "
71068564,"Serverless Framework - Unable to Deploy Step Function","https://stackoverflow.com/questions/71068564/serverless-framework-unable-to-deploy-step-function","{aws-lambda,serverless-framework,aws-step-functions,serverless-framework-step-functions}","2022-02-10 16:18:14+02","2024-05-17 05:29:22.431414+03","I have the following serverless yaml that I am using to try to deploy my first step function After running serverless deploy I see get the following error in the vscode terminal Anyone see what I have done wrong"
71091145,"Serverless deploy throwing error: ""Object notation for ""service"" property is not supported. Set ""service"" property directly with service name.""","https://stackoverflow.com/questions/71091145/serverless-deploy-throwing-error-object-notation-for-service-property-is-not","{amazon-web-services,serverless,serverless-framework}","2022-02-12 10:44:55+02","2024-05-17 05:29:23.321396+03","I am building a microservice using Node JS serverless framework To be honest this is my first time building a microservice using serverless I have configured the AWS credentials on my machine already I created the project running the following command Then I run npm install inside the project folder This is my serverless yml folder I already have the lambda function that comes with the template Then I run serverless deploy to deploy the service When I run the command I got the following error What is wrong my configuration or code and how can I fix it"
71102547,"How to make my Provisioned Capacity Lambdas properly scale down/in?","https://stackoverflow.com/questions/71102547/how-to-make-my-provisioned-capacity-lambdas-properly-scale-down-in","{aws-lambda,amazon-cloudwatch,serverless-framework,provisioning,aws-auto-scaling}","2022-02-13 16:14:14+02","2024-05-17 05:29:24.139836+03","I have a number of Lambdas that are running with provisioned concurrency They scale up properly when users are hitting our site and everything works great there Unfortunately at night when nobody is hitting our site it is not scaling back down Our AWS bill is now a good 12k higher than it should be Heres what I see in the Cloudwatch Alarms when there are no users on the site Specifically it says Insufficient Data beside the alarm that should be scaling the provisioned concurrency down How do I configure my Cloudwatch AutoScaling alarms so that they scale down properly There are no requests on the site at all I also recorded this Loom video in case that helps Heres my Serverless yml configuration that I am using to create the Lambda using the serverlessprovisionedconcurrencyautoscaling plugin Halp "
71109285,"Check if resource already exists or not using serverless","https://stackoverflow.com/questions/71109285/check-if-resource-already-exists-or-not-using-serverless","{serverless-framework,amazon-waf,serverless-plugins}","2022-02-14 08:59:11+02","2024-05-17 05:29:25.00974+03","I want to add if else condition in Serverless where I want to check if a particular resource eg AWS WAF exists or not I am using serverlesspluginifelse I want to know if it is possible to do this and how should I approach this Please feel free to give any examples related to ifelse and WAF"
71110762,"How to install serverless on an ubuntu server","https://stackoverflow.com/questions/71110762/how-to-install-serverless-on-an-ubuntu-server","{serverless-framework}","2022-02-14 10:59:07+02","2024-05-17 05:29:26.652557+03","I am trying to deploy lambda code using aws serverless I am using a Virtual private server for that task and i cannot properly run the serverless command Each time he throw me this error I have installed chromium and the googlechromestable package but without success "
71118928,"How do I include an image (jpg) with a lambda function?","https://stackoverflow.com/questions/71118928/how-do-i-include-an-image-jpg-with-a-lambda-function","{javascript,aws-lambda,serverless-framework}","2022-02-14 22:16:53+02","2024-05-17 05:29:27.275377+03","I am trying to write a lambda that puts a watermark on an image then saves the result to S3 I am using the Sharp library to do so I am deploying with Serverless Framework I am unsure how to include the image with the lambda I will be watermarking millions of images so I want to avoid having to read the image from S3 every time and I would like to just have it be included in the lambda package I have tried including the image in the logos folder alongside my processNewImage js folder like so Using the above code It errors out saying Input file is missing I have tried an to import the image const WHITE require logoswhite png and changing the composite line to composite [ input WHITE gravity southeast ] and the result is that the code does not even run Cannot find module logoswhite png It feels like the lambda package does not have the image included How can I include it andor make a reference to it"
71120452,"Serverless Framework - Choose between static iam resource ARN and reference from Resources section","https://stackoverflow.com/questions/71120452/serverless-framework-choose-between-static-iam-resource-arn-and-reference-from","{if-statement,aws-cloudformation,serverless-framework}","2022-02-15 02:26:22+02","2024-05-17 05:29:28.332365+03","I am using serverless framework to deploy a lambda and optionally a dynamo db table the lambda accesses In development stages sls creates the table as a full fledged resource and therefore I have a reference to the table Alternately in production stages sls does not create the table but a custom variable knows the precreated tables ARN Having problems crafting the Resource clause of the lambdas iam policy document probably because I am not understanding the allowable mix between Cloudformation IF statements and sls dynamic variables Heres as far as I have gotten abbreviated Where selfcustom slsMadeTheTable refers to a boolean valued string from custom variables that defines whether sls made the table so get its reference and use it in resource or not so use a known static Arn selfcustom staticArnOfPrecreatedTable is a custom variable whose value is a literal ARN string of a precreated DDB table In this particular configuration I get a syntax error suggesting I have incorrectly combined the Cloudformation if with sls expressions Tried many other variants none successful Looking for help crafting a policy that will either handle a created DDB table or a precreated ARN of a table depending on a determining variable tied to stage of course Another failing approach The Resource is happy to accept an ARN string in a custom variable e g So you would think a simple defaulted expression would do the trick along the lines of Where the selfcustom devTableArn contained the contents of the created DDB table But the reference to the sls ddb table arn FnGetAtt [ TunesTable Arn ] which works perfectly fine as a direct entry for the resource fails when set as a value for selfcustom devTableArn with the error"
74039449,"Serverless cloudformation: cast environment variable to number","https://stackoverflow.com/questions/74039449/serverless-cloudformation-cast-environment-variable-to-number","{amazon-web-services,yaml,aws-cloudformation,serverless,serverless-framework}","2022-10-12 09:20:52+03","2024-05-17 05:31:42.401965+03","I am using serverless step functions plugin I need to specify the timeout from an environment variable The problem is I do not know how to cast it to a number expected by Cloudformation at runtime I did not find any helper function to do this serverless yml"
71141495,"Python serverless: ModuleNotFoundError","https://stackoverflow.com/questions/71141495/python-serverless-modulenotfounderror","{python,serverless-framework}","2022-02-16 12:02:00+02","2024-05-17 05:29:29.122359+03","I am trying to use serverless framework with a python project I created a hello world example that I run in offline mode It works well but when I try to import a python package I get ModuleNotFoundError Here is my serverless yaml file In lambdas hello py In my Pipfile To run it I use the command sls offline start Then When I query on postman httplocalhost3000devhello I get the error ModuleNotFoundError If I remove the line import pandas in hello py file it works I do not understand why I get this error as serverlesspythonrequirements is supposed to check the pipfile and pandas is in my pipfile How can I use pandas or any other python package in my lambdas with serverless framework in offline mode "
71170896,"Serverless Framework: AWS Lambda Role for Signed URLs on S3","https://stackoverflow.com/questions/71170896/serverless-framework-aws-lambda-role-for-signed-urls-on-s3","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2022-02-18 09:10:39+02","2024-05-17 05:29:30.09916+03","I am using Serverless Framework and I get access denied errors when I try to access Signed URLs on privatebucket for GET and PUT for below config However when I grant for Resource under iam role statements[0] Resource instead of explicitly referencing privatebucket it works perfectly fine What am I doing wrong and what is the best way to make this work without having to give permissions on and just privatebucket instead"
71171513,"Exclude Datadog integrating to a specific serverless function (AWS Lambda)","https://stackoverflow.com/questions/71171513/exclude-datadog-integrating-to-a-specific-serverless-function-aws-lambda","{aws-lambda,serverless-framework,datadog}","2022-02-18 09:57:58+02","2024-05-17 05:29:30.734426+03","I am having an issue with deploying lambda functions using the serverless framework There is one lambda which is CloudFront edge function Using the exclude custom property I have excluded that particular function however Datadog plugging still adding environment variables to the function and Cloudformation throws an error saying edge function cannot have environment variables How can I exclude the lambda function from the serverless yml"
71185231,"TypeError: (intermediate value).run is not a function error in serverless-finch client deploy","https://stackoverflow.com/questions/71185231/typeerror-intermediate-value-run-is-not-a-function-error-in-serverless-finch","{angular,serverless,serverless-framework,aws-serverless}","2022-02-19 12:59:05+02","2024-05-17 05:29:31.402335+03","I am using serverlessfinch plugin for serverless client deploy My configuration is as below When I am trying to deploy my client Angular 6 using sls client deploy I am getting this error Cannot get any clue from this brief error description I have build my angular project using sudo ng build prod and dist folder is ok I can run it locally without any problem Manual upload dist folder to s3 is also working perfectly But cannot deploy it using the serverless client deploy command Can anybody help"
71200641,"How to debug Serverless framework using typescript with VSCode","https://stackoverflow.com/questions/71200641/how-to-debug-serverless-framework-using-typescript-with-vscode","{typescript,serverless-framework,vscode-debugger}","2022-02-21 02:36:42+02","2024-05-17 05:29:32.213157+03","I have a serverless framework project using typescript and I am trying to debug the project on VSCode all my breakpoints are shown as unbound breakpoints and I am unable to debug the project all all here my launch json file I am doing sure what I am doing wrong here any help would be greatly appreciated "
71219386,"Sharing node_modules folder between lambda using Lambda Layers + Cloud Formation","https://stackoverflow.com/questions/71219386/sharing-node-modules-folder-between-lambda-using-lambda-layers-cloud-formation","{node.js,aws-lambda,aws-cloudformation,serverless-framework,aws-lambda-layers}","2022-02-22 10:12:10+02","2024-05-17 05:29:33.253315+03","I have a project that uses serverlessframework this to define the AWS resources to be used I have the various yml files that describe each resource that the project needs to run Recently I have had to install several NPM packages for my lambdas and they have become very large in megabytes 3MB so the code is no longer viewable from the console Since including node_modules in each lambda is not a best practice and they are very heavy this way I was wondering about using a Lambda Layer to share node_modules between lambdas As yml I have a shared structure between all of them called provider yml something like Then I have a file that includes the provider yml and all the lambdas called serverless yml and is the file that I use to deploy Finally I have the serverlessfunctions yml that contains the Lambdas structure This includes the node_modules folder in the Lambda How can I create a resource with a YML template managed by Cloud Formation to create a Lambda Layer to which I can assign all my lambdas so that they share the node_modules folder I expect to have to create a new serveless yml inside the resources folder with the CloudFormation YML template to bind I guess somehow to my lambdas I need it to be managed by CloudFormation so I can have a common stack with all the resources used by the project and so I can deploy it at startup Where should the node_modules then be foldered in the project Now the project is something like Where can I find a template in order to solve this problem Or what is the best practice in order to share the node_modules between Lambdas"
71221794,"Python gives error when trying Serverless deploy","https://stackoverflow.com/questions/71221794/python-gives-error-when-trying-serverless-deploy","{python,pip,serverless,serverless-framework}","2022-02-22 13:00:59+02","2024-05-17 05:29:34.086316+03","I am trying to run a command serverless deploy but I get the following error even though I have a python my python version is Python 3 9 6 my pip version is pip 21 1 3 Seems like there is no similar problem on forums "
71605617,"AWS Cloudfront: The specified SSL certificate doesn't exist, isn't in us-east-1 region, isn't valid, or doesn't include a valid certificate chain","https://stackoverflow.com/questions/71605617/aws-cloudfront-the-specified-ssl-certificate-doesnt-exist-isnt-in-us-east-1","{amazon-cloudfront,serverless,serverless-framework}","2022-03-24 15:56:58+02","2024-05-17 05:29:43.495938+03","The project is a Serverless recently upgraded from 2 to 3 Single Page Application I am trying to create and attach a domain for a Cloudfront distro The distro already existed the domain and certificate were purchased this morning The certificate is valid the domain is active The certificate has been designated the root domain and a wildcard entry If I go to the distro within the AWS Cpanel I can add the certificate from the dropdown and there are no complaints but when I try deploying before or after I get I feel I can safely regard the Certificate itself as okay if I can see it and attach it manually The deploy will not begin if the variable for the certificate ARN is invalid telling me that it is not a case of the variable being wrong or empty I am definitely logged into the right account when I run the deploy but I have run out of ideas on what to check to get to the bottom of this Any help or assistance would go many miles and I would be massively grateful [EDIT] I can validate the certificate ARN via Which shows the ARN is okay [EDIT2] The certificate is an AWS generate one so there are no options for the type of encryption [EDIT3] I tried changing the deploy to only add the certificate as opposed to the domain AND the certificate but that made no difference [EDIT4] To add I have successfully done this before and am reusing a config that I know to work I have just gone through to make sure they are the same just to rule out any other reliancedependency that I had missed [EDIT5] I can do 100 of this process manually without failure Pointing a subdomain to the distro via Route53 and setting the certificate with the domain on the distro This loads fine with https But not via Serverless Thanks "
71227085,"How to get code coverage metrics from integration tests using serverless-offline and Supertest?","https://stackoverflow.com/questions/71227085/how-to-get-code-coverage-metrics-from-integration-tests-using-serverless-offline","{amazon-web-services,jestjs,serverless-framework,supertest,serverless-offline}","2022-02-22 19:14:15+02","2024-05-17 05:29:35.017285+03","I am building an AWS Lambda function and trying to write some integration tests for it The Lambda function is running locally using serverlessoffline plugin and simply receive a GET request with some query parameters I am using Jest and Supertest to write my integration tests as follow The problem is that when I run Jest with collect coverage option the code reached by the request sent with Supertest is not computed in the metrics Running jest collectCoverage the result is The question is that I know that for example infrahandlersuserposition ts is being reached and covered more than 0 statements but the coverage metrics do not show as expected Also I know that usermonthlyposition service impl ts is being reached at some point of the flow since this service is responsible for returning data from an external service and the response from Supertest is returning data The green lines are from files covered by unit test that are using only Jest and not Supertest obviously I know that when using Supertest with Express framework I can pass an instance of the Express app to the request function This way I think that Jest can inspect or instrument the function call stack to measure the coverage code sample below But how can I do the same passing the URL of a running serverlessoffline Lambda Here the code of my handler function My question is how can I collect right code coverage metrics from Jest using Supertest and Serverless Framework Am I forgetting a detail Thanks "
71259776,"How can I reference json nested value from secret manager via serverless?","https://stackoverflow.com/questions/71259776/how-can-i-reference-json-nested-value-from-secret-manager-via-serverless","{amazon-web-services,serverless-framework,aws-secrets-manager}","2022-02-25 00:34:57+02","2024-05-17 05:29:35.928672+03","I am using serverless to deploy to AWS And I need to read secrets from secret manager Below is the syntax it supports It works fine for a string value If my secret saved as a json how can I reference the nested value from json for example the value is"
71272921,"serverless-s3-local plugin and @aws-sdk/client-s3 returns an error with PutObjectCommand","https://stackoverflow.com/questions/71272921/serverless-s3-local-plugin-and-aws-sdk-client-s3-returns-an-error-with-putobjec","{node.js,amazon-s3,aws-lambda,aws-sdk,serverless-framework}","2022-02-25 23:55:57+02","2024-05-17 05:29:37.012272+03","What I am trying to do it is to save a file csv with a fake s3 with serverlesss3local plugin but for some reason the endpoint is giving an error I followed these instructions serverlesss3local but with library awssdkclients3 Note I run the command described in the documentation aws endpoint httplocalhost4569 s3 cp tmpdata csv s3localbucketuserdata csv profile s3local and everything works well So maybe the problem could be in the params or methods that I am using but I have not could find the solution This is the following error that I am getting These are some configurations that I have in the custom and resources sections in serverless yml And this is my temporal code"
71498668,"mock dynamodb partiql using jest","https://stackoverflow.com/questions/71498668/mock-dynamodb-partiql-using-jest","{javascript,amazon-web-services,jestjs,amazon-dynamodb,serverless-framework}","2022-03-16 14:16:48+02","2024-05-17 05:29:37.975293+03","I did not find a way to mock the new feature of dynamodb PartiQL defined in a lambda function In PartiQL we can use executeStatement to run sql like queries which are a kind of DynamoDBCustomizations But he configuration below return an error UnrecognizedClientException The security token included in the request is invalid which means that the configuration of jestmock is not correct This is the code to be tested and the testing script"
71505048,"How to add lambda invoke role in custom authorizer of api gateway using serverless framework","https://stackoverflow.com/questions/71505048/how-to-add-lambda-invoke-role-in-custom-authorizer-of-api-gateway-using-serverle","{aws-api-gateway,amazon-iam,serverless,serverless-framework}","2022-03-16 22:38:23+02","2024-05-17 05:29:38.960072+03","I would like to add Lambda invoke role in custom authorizer for an api gateway using serverless framework Can someone help me in finding the property under authorizer to add Lambda invoke role I was able to do it manually from aws console I am trying to access authorizer defined in other region It seems API gateway needs a permission to invoke lambda authorizer in another region "
71505751,"Setting AWS credentials in serverless framework when it is installed as a dev dependency","https://stackoverflow.com/questions/71505751/setting-aws-credentials-in-serverless-framework-when-it-is-installed-as-a-dev-de","{node.js,npm,amazon-cloudfront,serverless-framework,aws-serverless}","2022-03-17 00:31:34+02","2024-05-17 05:29:39.660051+03","I have installed the serverless framework as a dev dependency using I have also set slssls in the scripts in package json Now sls works meaning that I can run it by typing npm run sls I want to set my AWS credentials so by writing but it does not work could you please help me with this Thank you in advance "
71547111,"Why is .aws-sam taking up so much space (gb) locally?","https://stackoverflow.com/questions/71547111/why-is-aws-sam-taking-up-so-much-space-gb-locally","{serverless-framework,aws-sam,aws-sam-cli}","2022-03-20 13:20:26+02","2024-05-17 05:29:40.328163+03","I have been using AWS SAM without much issue for the last 6 months with about 40 functions split across 4 projects Just today I was cleaning up some hard disk space and notice my codebase folder for one project was 4 5 gbs and I realized it was the awssam folder Looking further I could see a build folder inside with each function storing the equivalent of every single dependency I am wondering if I am doing something wrong or if not why is this necessary considering I do not utilize this folder whatsoever when I am building locally "
71557547,"Reduce the AWS lambda node function size","https://stackoverflow.com/questions/71557547/reduce-the-aws-lambda-node-function-size","{node.js,aws-lambda,node-modules,serverless-framework,aws-serverless}","2022-03-21 12:20:38+02","2024-05-17 05:29:41.918606+03","I have used serverlesswebpack npm module to reduce the size of my nodeJs serverless application but apparently the size is gtting increased from 15M to 85MB with usage of this packag and i am unable to deploy to lambda Do we have any other ways to reduce the size of node lambda function to ignore sending node_modules and improve the speed of th lambda function "
71566505,"Why it says application failed to deploy on AWS - Serverless","https://stackoverflow.com/questions/71566505/why-it-says-application-failed-to-deploy-on-aws-serverless","{amazon-web-services,aws-lambda,serverless,serverless-framework,aws-serverless}","2022-03-22 03:12:05+02","2024-05-17 05:29:42.413219+03","When I trying to deploy my application it is failing to deploy application In the first stages of the application there was not a such an issue it work properly What I tried Nothing was successfull And I could not find a solution in stackoverflow I am using serverless frameworkversion 3 "
71607891,"Use array in JSON configuration file in serverless framework","https://stackoverflow.com/questions/71607891/use-array-in-json-configuration-file-in-serverless-framework","{serverless-framework}","2022-03-24 18:45:15+02","2024-05-17 05:29:44.316238+03","My serverless framework is trying to set an environment variable CONFIG to be contents of a JSON object My serverless yml has this entry and my config json looks like this This seems to work just fine ie console log process env VARIABLE1 outputs value1 console log process env INT_VARIABLE outputs 3 as a string but I can convert if needed console log process env BOOLEAN_TEST outputs true as a string but that is not the end of the world But when I go to add an array to the config json making the config json look like this I get the following error Warning Invalid configuration encountered at provider environment ARRAY_TEST unsupported configuration format How can I add an array as a environmental variable in serverless framework same basic question about adding subobjects "
71621207,"AWS API Gateway .NET 6 Web API with SPA (Angular) hosted from wwwroot with UseStaticFiles() error","https://stackoverflow.com/questions/71621207/aws-api-gateway-net-6-web-api-with-spa-angular-hosted-from-wwwroot-with-usest","{amazon-web-services,aws-lambda,asp.net-core-webapi,aws-api-gateway,serverless-framework}","2022-03-25 17:52:16+02","2024-05-17 05:29:45.01547+03","We have deployed a NET 6 Web API project to AWS Lambda behind API Gateway utilizing the Serverless Framework and the Lambda proxy integration approach to run the Web API project in Lambda We have typically hosted corresponding SPAs out of AWS S3 but decided to go the route of includinghosting the static assets for an Angular SPA in the backend via the wwwroot folder and with UseStaticFiles in Startup cs Additionally we are using a custom domain name e g dev myapp com associated with our API Gateway We are successful in reaching and using the Angular app when we make a request to our domain with index html so e g httpsdev myapp comindex html but when we do not include index html so just dev myapp com we get an error response I thought this might have something to do with the configuration of a fallback file in Startup cs but this error seems to be coming from API Gateway and not the NET app itself It seems like there needs to be something configured in API Gateway but its unclear what that might be The Lambda function that contains the Web API project in serverless yml is configured"
71621673,"reference a variable in serverless framework","https://stackoverflow.com/questions/71621673/reference-a-variable-in-serverless-framework","{serverless-framework}","2022-03-25 18:38:11+02","2024-05-17 05:29:45.86998+03","I am trying to define my serverless framework deployment bucket My serverless yml looks like this and the evn dev json file looks like this both of these files have nonrelevant parts removed I am getting a cannot resolve variable at provicer deploymentBucket name error when trying to deploy How do I reference the DEPLOYMENT_BUCKET variable in the serverless yml file EDIT Other errors environment DEPLOYMENT_BUCKET Could not locate deployment bucket Error The specified bucket is not valid name environmentDEPLOYMENT_BUCKET 1 Unrecognized configuration variable sources environment name selfprovider environmentDEPLOYMENT_BUCKET and name selfenvironmentDEPLOYMENT_BUCKET Cannot resolve serverless yml Variables resolution errored with Cannot resolve variable at provider deploymentBucket name Value not found at self source I was able to solve the problem with this file evn optstage dev json DEPLOYMENT_BUCKET But reading that file twice both here and in the environment area seems to somewhat defeat the purpose of the environments area "
71629383,"Limit IAM role statement access by tag - serverless","https://stackoverflow.com/questions/71629383/limit-iam-role-statement-access-by-tag-serverless","{amazon-web-services,aws-lambda,serverless-framework}","2022-03-26 15:29:09+02","2024-05-17 05:29:46.659972+03","I am trying to give access to a lambda function to manage createdestroy etc route53 resources but only those that have a specific tag key and value pair This is the relevant portion of the serverless yaml file Basically do this but with serverless Thanks in advance "
71630093,"Serverless Cognito - Sign Up with Username, Password, and Email","https://stackoverflow.com/questions/71630093/serverless-cognito-sign-up-with-username-password-and-email","{amazon-web-services,amazon-cognito,serverless-framework}","2022-03-26 17:00:01+02","2024-05-17 05:29:47.786278+03","I am having trouble implementing Cognito via Serverless The AWS Cognito documentation is poor What I want to do is This is a typical auth flow for a forum website like Stackoverflow however I cannot find the right combination of attributes to make this a reality Can you please help me figure out what I am doing wrong"
71638064,"Should I commit serverless framework .build folder","https://stackoverflow.com/questions/71638064/should-i-commit-serverless-framework-build-folder","{git,aws-lambda,serverless,serverless-framework}","2022-03-27 16:15:35+03","2024-05-17 05:29:48.622147+03","I am creating lambda function with serverless framework with typescripthttpapi template However I noticed that gitignore file does not contain line to exclude build folder build folder contains node_modules and obvioulsy large Should I manually add it to gitignore or there are some caveats that I do not know"
71638816,"How to get rid of serverless ""Warning: Invalid configuration encountered at root: unrecognized property 'deploymentBucket'""","https://stackoverflow.com/questions/71638816/how-to-get-rid-of-serverless-warning-invalid-configuration-encountered-at-root","{aws-lambda,config,serverless,serverless-framework,compiler-warnings}","2022-03-27 17:47:42+03","2024-05-17 05:29:49.724141+03","I have got a web application running on the serverless framework version 3 7 5 Every time I deploy my lambda function I get this warning Warning Invalid configuration encountered at root unrecognised property deploymentBucket I have attached the serverless yml file below for external scrutiny Is my configuration of the deploymentBucket property not valid Do I need to change or edit any of the properties Note Deployment works fine as it is simply a warning and I am able to proceed to testing my api endpoints I just find this warning a tad bothersome and would like to erase it once and for all Thanks in advance Heres my serverless yml file"
71671365,"Import DynamoDB Table - YML","https://stackoverflow.com/questions/71671365/import-dynamodb-table-yml","{aws-lambda,amazon-dynamodb,aws-cloudformation,serverless-framework}","2022-03-30 04:08:32+03","2024-05-17 05:29:50.60798+03","I have a serverless yml file for node project with aws Also I have a dynamodb table in another file I can deploy the project with no issues however VSCode is showing a red alert problem in my import line Incorrect type expected serverless yml AuctionsTable yml"
71803974,"Is there a good way of setting up a serverless-framework build utilizing codebuild to deploy lambda Layers","https://stackoverflow.com/questions/71803974/is-there-a-good-way-of-setting-up-a-serverless-framework-build-utilizing-codebui","{aws-lambda,serverless-framework}","2022-04-08 23:12:11+03","2024-05-17 05:29:57.86987+03","What I am trying to do is deploy a repository with the dependencies marked in the awsabstractionserviceslayer and have it build through serverless deploy during the build using codebuild on AWS Was not sure if it was attempted before but would love to find more info on solution someone else may have done themselves serverless yml buildspec yml"
71685834,"AWS EventBridge, SQS and Lambda with Serverless Framework","https://stackoverflow.com/questions/71685834/aws-eventbridge-sqs-and-lambda-with-serverless-framework","{aws-lambda,amazon-sqs,serverless,serverless-framework,aws-event-bridge}","2022-03-31 01:22:26+03","2024-05-17 05:29:51.472119+03","I am fairly new to the Serverless Framework but I was able to achieve a lot of the bits and pieces of our aspired infrastructure using the framework and the serverlesslift plugin The serverlesslift plugin allows me to easily create worker queues with workers and DLQs for each of them That is exactly what we need as it allows us to redrive the failed jobs See this great article httpsmedium comserverlesstransformationserverlessqueuesandworkersdesigningliftd870afdba867 under A productionready approach The Serverless Framework can create Lambda functions triggered by the EventBridge that is also amazing However as seen in the diagram we would like the EventBridge to put the events according to rules into the respective queues That bit seems to be missing or I have not found it yet My question now Can I and if so how can I have the EventBridge be the central piece in our infrastructure serving events to the worker queues From what I read I would be able to define resources via CloudFormation notation see below Since Serverless is so much simpler and can easily be handled by our developers I would like to avoid using CF if possible Another approach could be to have intermediate Lambda functions putting the event into the queues but it is adding unnecessary complexity Thanks in advance For those interested heres the CF code"
71699894,"The best way for deferred execution in serverless","https://stackoverflow.com/questions/71699894/the-best-way-for-deferred-execution-in-serverless","{amazon-web-services,aws-lambda,microservices,serverless,serverless-framework}","2022-03-31 22:42:34+03","2024-05-17 05:29:53.054113+03","I have serverless microservices using API gatewaylambdadynamodb We have a stream of measurements coming in from Kinesis and if an alarm condition is detected it needs to be triggered after x seconds What is the best way to trigger a task after x seconds in this case X is configurable by the user for different conditions and cases "
71756561,"Problem in serverless function (serverless framework) when using sequelize orm to make requests to the database","https://stackoverflow.com/questions/71756561/problem-in-serverless-function-serverless-framework-when-using-sequelize-orm-t","{typescript,postgresql,sequelize.js,serverless-framework,esbuild}","2022-04-05 18:14:48+03","2024-05-17 05:29:53.688173+03","Im trying to set up a simple serverless environment using serverless framework there is only one lambda function that makes a call to the database using ORM sequelize Later it will grow I can run the entire flow using serverlessoffline it works perfectly including communication with the database using sequelize However when I deploy to AWS and run the functions endpoint I get a 502 error in postman and cloudwatch I dont get any errors only information that the function was executed I believe the problem is related to the esbuild plugin that is configured in the serverless ts file and the pg and pghstore dependencies I will share the serverless ts files the file responsible for the function the database connection file and the model serverless ts function Sequelize connection config Model EDIT TIMEOUT ON CLOUDWATCH Duration 50057 30 ms Billed Duration 50000 ms Memory Size 1024 MB Max Memory Used 229 MB Init Duration 1168 24 ms"
71758178,"Parsing integers in serverless.yml to use MemoryDB's ClusterEndpoint.Port in Environment Variable","https://stackoverflow.com/questions/71758178/parsing-integers-in-serverless-yml-to-use-memorydbs-clusterendpoint-port-in-env","{aws-cloudformation,serverless-framework}","2022-04-05 20:42:43+03","2024-05-17 05:29:54.859907+03","I am creating a MemoryDB cluster for my serverless function but the Port for the MemoryDB endpoint is an Integer so when I try to set an environment variable to pass the endpoint URL to my function I get an error Example serverless yml file I have tried with FnJoin FnSub plugin and others but they all expect strings as arguments I am not planning on using a custom port so I can always assume the default however I feel like I am missing some thing here Is there a way to parse integers in serverlesscloudformation somehow Or at least convert that port into a string"
71771566,"CORS question on using a REACT app with Serverless Framework","https://stackoverflow.com/questions/71771566/cors-question-on-using-a-react-app-with-serverless-framework","{reactjs,aws-lambda,aws-api-gateway,serverless-framework}","2022-04-06 17:55:35+03","2024-05-17 05:29:55.540018+03","I have seen many posts on this topic but all of them deal with the CORS error message about missing headers and such I am facing a different issue I think I am getting a valid 200 response that looks like this Response type cors url https amazonaws comdevcalculate redirected false status 200 ok true body ReadableStream bodyUsed false headers Headers ok true redirected false status 200 statusText type cors url https amazonaws comdevcalculate The details I have a simple React app that uses a AWS Lambda function to calculate a sum of 2 numbers I used Serverless to deploy this to AWS The yml looks like so The Lambda Of course this all works well with Postman Is this a CORS error even though it is a valid response header Since I have corstrue in the yml file it did do the right thing and added the OPTIONS in API Gateway but still I do not get the correct response from the Lambda "
71792717,"Serverless Framework IAM allow RDS (postgres)","https://stackoverflow.com/questions/71792717/serverless-framework-iam-allow-rds-postgres","{postgresql,amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-04-08 06:43:05+03","2024-05-17 05:29:56.131055+03","I am trying to create a table in my AWS RDS Postgres database What would be the policyaction to allow this When using dynamodb the action is dynamodbDescribeTable what would be the equivalent for this for RDS PostgresSQL "
71799147,"Serverless Offline & DynamoDB throws Local UnknownEndpoint: Inaccessible host: localhost at port 8000 Service may not be available in localhost region","https://stackoverflow.com/questions/71799147/serverless-offline-dynamodb-throws-local-unknownendpoint-inaccessible-host-l","{typescript,serverless,serverless-framework,serverless-offline,amazon-dynamodb-local}","2022-04-08 14:56:28+03","2024-05-17 05:29:57.050006+03","I am playin around with Serverless and I have no luck getting serverlessoffline to work with serverlessdynamodblocal I have very minimal setup it takes 3minutes to reproduce I did it like this Now I update serverless ts file like Now I try to spin it all up by running sls offline start s dev and it throws error below execution will not stop this error is logically not thrown if I remove migrate true from serverless ts Even though error is thrown I am still able to successfully execute I did not change any other code than described above I would guess it will be something really basic like I am missing some config or something somewhere but I cannot find anything in docs or other posts that would help Any ideas welcome and since I know some version had troubles in the past here is package json I am running with heres full serverless ts if it helps"
76890325,"MLRun deploy, 0/3 nodes are available: 3 Insufficient cpu","https://stackoverflow.com/questions/76890325/mlrun-deploy-0-3-nodes-are-available-3-insufficient-cpu","{mlrun,nuclio}","2023-08-12 17:05:59+03","2024-05-17 05:51:48.197101+03","I got this issue during deploy of python code in MLRun see build log Do you know why I got this issues and how can I avoid it"
71810745,"Running any scripting language from C++ service [closed]","https://stackoverflow.com/questions/71810745/running-any-scripting-language-from-c-service","{python,c++,serverless,serverless-framework,system-design}","2022-04-09 18:19:38+03","2024-05-17 05:29:58.634046+03","Want to improve this question Update the question so it can be answered with facts and citations by editing this post Closed 2 years ago We have a C web service that helps manage and run scripts for users We have to offer 2 APIs RegisterScript API Users can register scripts for a variety of languages Python Ruby JavaScript etc through this api RunScript API Users can run their previously registered scripts through this API Right now were not sure how we would go about this any pointers would be nice but wed prefer a solution that Thanks Jessica"
71829093,"Inconsistent DynamoDB writtings","https://stackoverflow.com/questions/71829093/inconsistent-dynamodb-writtings","{node.js,amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2022-04-11 13:54:51+03","2024-05-17 05:29:59.754232+03","We have the following code used as lambda Function in Serverless Framework triggered every 2min with cron The issue we are facing is that the writing in DynamoDB is inconsistent we want to have 3 writings but instead we receive 1 or 2 writings every 2 minutes DynamoDB has a HASH key the HOUR and SORT KEY the DATE and Billing mode PROVISIONED Has someone faced the same behavior from DynamoDB or the same issue to share how he sovled it Thanks"
71846219,"How can I connect to an existing RDS database using AWS CloudFormation?","https://stackoverflow.com/questions/71846219/how-can-i-connect-to-an-existing-rds-database-using-aws-cloudformation","{amazon-web-services,aws-lambda,amazon-rds,serverless,serverless-framework}","2022-04-12 16:30:42+03","2024-05-17 05:30:00.764026+03","I am building a serverless app and want to connect to an existing database How would I go about doing this"
71846307,"Serverless framework fail to deploy due to s3 method - error reason: FUNCTION_ERROR_INIT_FAILURE","https://stackoverflow.com/questions/71846307/serverless-framework-fail-to-deploy-due-to-s3-method-error-reason-function-er","{node.js,amazon-web-services,amazon-s3,serverless-framework}","2022-04-12 16:37:54+03","2024-05-17 05:30:01.384643+03","I am having a method in my app NodeJS deployed as lambda in AWS using Serverless framework that I use to get the list of items in an S3 bucket Method The issue it that I am getting the following error log when I try to deploy the service having that method But the service gets deployed successfully without any issue if I comment let result await s3 listObjectsV2 params promise so I came to the conclusion that the failing cause is that method but why is that Am I missing something I would like to also note that the app runs without any issue locally Serverless Config File IAM part EXTRA INFORMATION Thank you all for your time and assistance If I am missing any detail of crucial information please let me know "
71849290,"Serverless Framework Express - Using asynchronous integration error","https://stackoverflow.com/questions/71849290/serverless-framework-express-using-asynchronous-integration-error","{asynchronous,aws-lambda,aws-api-gateway,serverless-framework}","2022-04-12 21:25:09+03","2024-05-17 05:30:02.345557+03","So I am trying to use the asynchronous integration with REST api gateway setup with Serverless Framework It says This however is not happening When I try to run this offline I keep getting a preBadRequestError request size did not match content lengthbr nbsp nbspat IncomingMessage onEnd error It disappears when I comment out the async setting but works sometimes all offline But once deployed I can see the 200 return but the Lambda does not execute at all I have logs in there and none of these get triggered Any idea on how I can achieve this behaviour I need to run some longish processes and do not want to make the user wait for a response because of it Is this something wrong with this setting I cannot find too much documentation on this and have been searching for a considerable time So any help or pointers in the right direction would be great Thanks "
71861938,"Serverless cfn resource references not resolving","https://stackoverflow.com/questions/71861938/serverless-cfn-resource-references-not-resolving","{aws-cloudformation,serverless,serverless-framework}","2022-04-13 17:57:01+03","2024-05-17 05:30:03.352994+03","I am new to serverless and trying to create a deployment using the Serverless 3 framework I currently have some resources defined with references to other cfn resources that I have defined in my template i e However I keep getting cfn errors when I deploy as it seems that the references to these resources are not resolving I tried looking at the serverlessstate json output file to troubleshoot and I see them defined as follows for example Am I referencing these incorrectly in my template"
71865327,"EventBridge rule not triggering Lambda despite having resource policy statement on lambda","https://stackoverflow.com/questions/71865327/eventbridge-rule-not-triggering-lambda-despite-having-resource-policy-statement","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework,aws-event-bridge}","2022-04-14 01:03:18+03","2024-05-17 05:30:04.407231+03","I have got a serverless file which creates an eventbridge rule on the default event bus And in a seperate serverless file which also gets deployed I am adding the following Lambda permission to pluseast2pilotpostslackmessage However despite pluseast2pilotpostslackmessage lambda having the above listed as a permission under Resource based policy in the Lambda console the EventBridge rule does not trigger when there is a Lambda failure It does trigger if I create a new rule using the AWS Console but for whatever reason it is not able to successfully trigger using serverlessCloudFormation Every post I seem to read about this topic makes mention of the same thing that is to have the permission set on your Lambda but I have done that and it is still not working Does anyone have any idea what could be the reason why it is not triggering"
71874980,"Unable to load env files from custom path in Serverless framework","https://stackoverflow.com/questions/71874980/unable-to-load-env-files-from-custom-path-in-serverless-framework","{serverless,serverless-framework,aws-serverless}","2022-04-14 16:39:04+03","2024-05-17 05:30:05.400794+03","I am unable to load env files located in a custom path using serverless framework The env files are kept in a folder configenvironment in the project and the files available are The contents of Serverless yml are as below While triggering serverless deploy I get error as below Cannot resolve serverless yml Variables resolution errored with It seems the env files are not getting loaded and any help will be appreciated "
72349620,"Serverless create dynamodb table locally only","https://stackoverflow.com/questions/72349620/serverless-create-dynamodb-table-locally-only","{amazon-dynamodb,serverless,serverless-framework,serverless-offline,amazon-dynamodb-local}","2022-05-23 13:43:37+03","2024-05-17 05:30:19.464832+03","I am writing a serverless application It uses an already created dynamodb table and hence configured properly in serverless yml file Now I want to run mock test locally using serverlessoffline and serverlessdynamodblocal plugin The problem is these plugins require table definition in serverless yml file and if I add it it will also deploy dynamodb table which is not desired Currently I have this configuration and nothing under resource Whereas test plugins require it to be something like this Is there a way I can either prevent it from deploying using this config or achieve this in another way"
71886945,"Java Lambda for spring-cloud version to 3.2.3/3.1.7 org/springframework/boot/ApplicationContextFactory: java.lang.NoClassDefFoundError","https://stackoverflow.com/questions/71886945/java-lambda-for-spring-cloud-version-to-3-2-3-3-1-7-org-springframework-boot-app","{java,amazon-web-services,spring-boot,aws-lambda,serverless-framework}","2022-04-15 17:13:41+03","2024-05-17 05:30:06.471792+03","I am trying change version for springcloudfunctionadapteraws from 3 0 7 RELEASE to either 3 1 7 or 3 2 3 as Spring Cloud Function Vulnerability CVE202222963 but getting error as it is not able to find the class java lang NoClassDefFoundError orgspring frameworkbootApplicationContextFactory at org springframework cloud function context FunctionalSpringApplication FunctionalSpringApplication java67 at org springframework cloud function context AbstractSpringFunctionAdapterInitializer springApplication AbstractSpringFunctionAdapterInitializer java378 at org springframework cloud function context AbstractSpringFunctionAdapterInitializer initialize AbstractSpringFunctionAdapterInitializer java121 at org springframework cloud function adapter aws SpringBootStreamHandler initialize SpringBootStreamHandler java61 at org springframework cloud function adapter aws SpringBootStreamHandler handleRequest SpringBootStreamHandler java53 Caused by java lang ClassNotFoundException My Application java SpringBootApplication public class Application FunctionConfiguration java Configuration public class FunctionConfiguration private static Logger logger LoggerFactory getLogger FunctionConfiguration class pom xml 4 0 0 com app lambda springBootLambda 1 0 3 springBootLambda serverless yml service SpringBootLambda provider name aws runtime java8 region useast1 memory 2048 timeout 40 spring jpa hibernate ddlauto update generateddl true showsql true package artifact target project artifactId project version jar define Lambda function functions createMethod handler org springframework cloud function adapter aws SpringBootStreamHandler events api gateway http path pass method post cors true environment environment variables FUNCTION_NAME SpringBootLambda"
71887380,"Azure Synapse Serverless SQL Pools - how to optimize notebook","https://stackoverflow.com/questions/71887380/azure-synapse-serverless-sql-pools-how-to-optimize-notebook","{python,apache-spark,jupyter-notebook,serverless-framework,azure-synapse}","2022-04-15 18:01:21+03","2024-05-17 05:30:07.477844+03","Is there a better way to optimize the following notebook Currently it takes 2 minutes and 20 seconds to run How can I improve performance Any suggestions would be appreciated Thanks Environment Set the environment variables Function set the path of where to load the source parquet files from Function set the path where the table data will be stored in the datalake Function get the latest version of the records Load data frames with source table data Convert dataframes to temporary views that can be used in SQL Load latest data into views When an existing record is updated or a soft delete occurs in the source system table Azure Data Factory captures that change by creating an incremental parquet file The same occurs when a new record is created During the merge process all of the incremental files are merged into one parquet file For the existing record that was updated or a soft deleted occured the merge creates two versions of that record appending the latest version If you were to query the merged parquet file you would see a duplicate record Therefore to see only the latest version of that record we need to remove the prior version This function will ensure that we are looking at the most up to date version of all records Special note this logic is not necessary for tables with records that do not get soft deleted e g tables without a LastModDateTime or ActiveInd column therefore we do not apply this function to those tables CTE_UnitConversion CTE_Dashboards_BaseData CTE_DailyReportHoleActivityManHours Activity charges Create FACT_Activity table Create the table and write to the datalake Release SQL views from memory Release data frames from memory"
71918148,"Facing problem to set service name from env variable in serverless.yml file after upgrading to latest version","https://stackoverflow.com/questions/71918148/facing-problem-to-set-service-name-from-env-variable-in-serverless-yml-file-afte","{aws-lambda,serverless-framework,aws-serverless}","2022-04-18 23:41:38+03","2024-05-17 05:30:08.238632+03","I am trying to set the serverless service name from the env file Before deploying serverless I have set the value of ECR_NAME as Then I have written it as below in the serverless yml Getting the below error Installed version"
72143903,"Logs from Serverless framework is not showing on AWS CloudWatch","https://stackoverflow.com/questions/72143903/logs-from-serverless-framework-is-not-showing-on-aws-cloudwatch","{amazon-web-services,amazon-cloudwatch,serverless,serverless-framework}","2022-05-06 15:24:03+03","2024-05-17 05:30:09.200912+03","I am using serverless framework AWS CodeCommit CodeBuild and CodePipeline When I push my code and CodeBuild starts to deploy it I do not get any feedback or logs from serverless framework inside the CloudWatch log groups I am using the default service roles for CodeBuild and CodePipeline which are created by AWS when I first created a new PipeLine and CodeBuild Both of those roles include polices for CloudWatch and create log groups as follows CodeBuild CodePipeline And this is the output of CloudWatch log groups As you can see that I have wrote rubbish in the deploy code in order to get an error or failed response back from Serverless but I got nothing just empty lines buildspec yml serverless yml"
72151314,"How can I specify method and path for calling lambda function from step function?","https://stackoverflow.com/questions/72151314/how-can-i-specify-method-and-path-for-calling-lambda-function-from-step-function","{amazon-web-services,yaml,serverless,serverless-framework,aws-serverless}","2022-05-07 09:41:47+03","2024-05-17 05:30:10.435611+03","I would like to call lambda function using a state machine with passing path and method as in usual HTTP sense Current serverless template to achieve that is the following However the actual call that arrives to myfunction is a GET request with path Fields that I used as a payload are from lambdaInvokeFunction API where one can set body path and httpMethod as a json in Payload property of lambda InvokeInput and get everything called correctly How to replicate the same with my example"
72163585,"Why do I get a permissions error when deploying using serverless-appsync-plugin?","https://stackoverflow.com/questions/72163585/why-do-i-get-a-permissions-error-when-deploying-using-serverless-appsync-plugin","{amazon-web-services,serverless-framework,aws-appsync,serverless-appsync-plugin}","2022-05-08 17:34:53+03","2024-05-17 05:30:11.272106+03","I am trying to learn how to use serverless coms AWS AppSync plugin I get an error when I try to deploy The plugin documentation does not mention anything about needing to explicitly provide permissions to deploy so I assume there is something wrong with my serverless yml There is also a rest endpoint defined in this serverless yml Before I added the AppSync stuff it deployed fine Here are the dev dependencies from my package json Any ideas what I am missing All I am trying to do is get a hello world graphql thing deployed right now "
72360699,"how can we merge two or more aws cloudformation templates","https://stackoverflow.com/questions/72360699/how-can-we-merge-two-or-more-aws-cloudformation-templates","{amazon-web-services,aws-cloudformation,serverless-framework,aws-serverless,aws-cloudformation-custom-resource}","2022-05-24 09:45:32+03","2024-05-17 05:30:20.845805+03","Is there any way to include two or more AWS cloud formation templates into a final template like we do in serverless I had a project which contains different yaml files for a group of resources For each group i had a cloud formation template earlier which is a yaml file of serverless where i can include the file using file pathname If we cannot include like that is there any script such that it includes all the resources and outputs at one place in order "
72215893,"Mysterious ""Ingestion"" Serverless error in AWS Lambda logs","https://stackoverflow.com/questions/72215893/mysterious-ingestion-serverless-error-in-aws-lambda-logs","{aws-lambda,serverless-framework,amazon-kinesis}","2022-05-12 12:49:18+03","2024-05-17 05:30:11.767755+03","I am encountering a weird error when one of my Lambda functions is invoked I have never seen this error Google searches have not helped at all Heres what it looks like I am pretty sure this has nothing to do with my code since my function works Occasionally though for periods of up to about an hour my function fails with this error Looking at the error it seems that the Serverless Framework is trying to redirect some data to their servers for some reason and failing in the process Why is this happening What is Serverless trying to achieve What can I do to stop this error from happening I am desperate for any insight I have also stumbled upon some environment variables that Serverless seems to be setting automatically I have no idea what these are for but it seems related same url Could it have something to do with the sls console command that I ran Has it setup some mechanisms to monitor my functions If so how can I undo this This is really bugging me Google seems to know nothing of this error whatever I try to search Has anyone encountered this before"
72216561,"Is there a way I can replicate a DynamoDb table but add a sort key to it?","https://stackoverflow.com/questions/72216561/is-there-a-way-i-can-replicate-a-dynamodb-table-but-add-a-sort-key-to-it","{amazon-web-services,amazon-dynamodb,serverless-framework,amazon-data-pipeline}","2022-05-12 13:32:18+03","2024-05-17 05:30:12.915488+03","I have some DynamoDb tables populated by data and which do not have a sort key configured I read DDB does not let you add a sort key only at table creation and the only solution is to create a new table with the sort key configured The problem is I need to keep the data I have stored but add a sort key to these tables As a quick mention I am deploying my backend using Serverless framework I think one solution would be to use AWSs Data Pipeline service but I want to know if there are other options available Thanks in advance EDIT My template for this resource looks like this"
72252069,"AWS Cognito Custom Message not triggered when sign up with external idp (Google, Facebook etc..)","https://stackoverflow.com/questions/72252069/aws-cognito-custom-message-not-triggered-when-sign-up-with-external-idp-google","{amazon-web-services,authentication,amazon-cognito,serverless-framework,aws-amplify}","2022-05-15 20:46:36+03","2024-05-17 05:30:14.041882+03","guys I have the following case I am building auth flow with amplify lib and added the ability to signup users with Google as an Identity Provider For the backend I use a serverless framework to add triggers when the user signs up Please see examples of triggers below The issue I have is that when I sign up from Google my CustomMessage trigger is not invoked When I do not use signup from Goole it is triggered and sends the custom message Do you maybe know why signing up with an external provider does not trigger the lambda function"
72288699,"how can I use process.env in serverless.ts?","https://stackoverflow.com/questions/72288699/how-can-i-use-process-env-in-serverless-ts","{lambda,serverless,serverless-framework}","2022-05-18 11:52:51+03","2024-05-17 05:30:14.898138+03","I am using the serverless framework to deploy some REST APIs Earlier I was using serverless yml and now migrating to the typescript version I am having some AWS keys which I would like to keep in env files and not add directly Earlier I was adding them directly I am trying to do something like the below this is not working I tried logging the env variables and above object but it is coming as empty I have already tried using this plugin httpsgithub comneverendingqsserverlessdotenvplugin it seems that env variables are loaded after serverless ts file should I stick to using selfcustom stage syntax I was trying to avoid this or Is it possible to use process env Edit when trying to use syntax envprofile Cannot resolve variable at provider profile Value not found at env source"
72316180,"Detected unrecognized CLI options: ""--profile""","https://stackoverflow.com/questions/72316180/detected-unrecognized-cli-options-profile","{python-3.x,amazon-web-services,gitlab,serverless-framework}","2022-05-20 08:58:28+03","2024-05-17 05:30:15.981862+03","I am trying to deploy my code to AWS using Serverless through Gitlab cicd All stages have been passed but when it comes to deployment stage I get the following error Detected unrecognized CLI options profile I have defined profile in my serverless not sure what is going wrong I tried changing my serverless from latest to stable but then i got this Does anyone know what has to be done here exactly Any help would be appreciated Thank you "
72321465,"CircleCI cannot find Serverless Framework after serverless installation","https://stackoverflow.com/questions/72321465/circleci-cannot-find-serverless-framework-after-serverless-installation","{aws-cloudformation,serverless,serverless-framework,circleci}","2022-05-20 15:33:46+03","2024-05-17 05:30:16.475691+03","I am trying to use Serverless Compose to deploy multiple services to AWS via CircleCI I have 3 test services for a POC and so far deploying these to a personal AWS account from the terminal works just fine However when I configure it to go through CircleCI with a config yml file I get this error I am puzzled because my config yml file looks like this The serverless framework is set up the orb is present but it says that it could not be found All steps are successful until I get to deploy staging I have been digging through documentation but I cannot seem to find where it is going wrong with CircleCI Does anyone know what I may be missing"
72335899,"How can I configure custom service endpoints for FIPS compliance using Serverless Framework?","https://stackoverflow.com/questions/72335899/how-can-i-configure-custom-service-endpoints-for-fips-compliance-using-serverles","{amazon-web-services,serverless-framework,fips}","2022-05-22 08:24:00+03","2024-05-17 05:30:17.304135+03","In order to meet FedRAMP compliance we need to make all communication FIPS compliant In Terraform there is an option to define custom endpoints which will make API calls to AWS using the FIPS endpoints in our use case Can I configure custom service endpoints for FIPS compliance using Serverless Framework If so how"
72338973,"Serverless Error: No file matches include / exclude patterns","https://stackoverflow.com/questions/72338973/serverless-error-no-file-matches-include-exclude-patterns","{python-3.x,gitlab-ci,serverless-framework}","2022-05-22 15:34:45+03","2024-05-17 05:30:18.171509+03","I know there are a lot of similar questions out there but none of them has a proper answer I am trying to deploy my code using GitLab cicd pipeline While executing the deployment stage my pipeline failed and got this error My serverless yml has this code related to exclude The error I am getting is Serverless Error No file matches include exclude patterns I forgot to mention I have a nltk layer which I am deploying in the same serverless yml as my lambda function and other resources I am not sure what has to be done exactly to get rid of the error Any help would be appreciated thank you "
74057313,"Running 'serverless' command on terminal showing question in Chinese","https://stackoverflow.com/questions/74057313/running-serverless-command-on-terminal-showing-question-in-chinese","{node.js,amazon-web-services,npm,serverless,serverless-framework}","2022-10-13 14:16:51+03","2024-05-17 05:31:43.225798+03","I have this problem if I install serverless framework using npm install g serverless I encounter this message in Chinese on my computer windows 11 once I ran serverless on the terminal I get this message Expected output is this"
72374104,"SERVERLESS: Error: RequestError: self signed certificate in certificate chain","https://stackoverflow.com/questions/72374104/serverless-error-requesterror-self-signed-certificate-in-certificate-chain","{node.js,amazon-web-services,serverless-framework}","2022-05-25 08:14:51+03","2024-05-17 05:30:20.983832+03","I am trying to create a serverless project But it gives an error when giving the serverless command on the cmd Please help me to solve this first I installed the serverless with npm install g serverless command Then I gave serverless command So following error was displayed on the cmd "
72374926,"ValidationException One or more parameter values were invalid: Missing the key primary_key in the item","https://stackoverflow.com/questions/72374926/validationexception-one-or-more-parameter-values-were-invalid-missing-the-key-p","{node.js,amazon-web-services,amazon-dynamodb,serverless,serverless-framework}","2022-05-25 09:19:03+03","2024-05-17 05:30:21.851151+03","I am using serverless to expose HTTP request in getwayapi lambda function and dynamodb but got an error ValidationException One or more parameter values were invalid Missing the key primary_key in the item Please help me Here my code in createCustomer js file and here is my serverless yml file code my env file has this variable DYNAMODB_CUSTOMER_TABLE myapicustomerTabledev now i am getting an error as node_modulesawssdklibprotocoljson js 52 resp error util error new Error error ^ ValidationException One or more parameter values were invalid Missing the key primary_key in the item"
72422079,"NestJS Serverless - App keeps reinitiating itself","https://stackoverflow.com/questions/72422079/nestjs-serverless-app-keeps-reinitiating-itself","{nestjs,serverless,serverless-framework}","2022-05-29 08:30:03+03","2024-05-17 05:30:22.90585+03","I am trying to setup a NestJS Serverless application The app is starting fine with sls offline start But the problem is that the app keeps reinitiating itself The cache server is not set Every time I call the endpoint the server is reinitiated Lambda Output Does anyone have any ideas"
72433089,"How to fix Unresolved resource dependencies [ApiGatewayRestApi] in the Resources block of the template","https://stackoverflow.com/questions/72433089/how-to-fix-unresolved-resource-dependencies-apigatewayrestapi-in-the-resources","{aws-lambda,serverless-framework,aws-serverless}","2022-05-30 10:48:17+03","2024-05-17 05:30:23.5444+03","I am trying to set the ApiGatewayRestApi to an environment variable I am getting the following error while trying to deploy using sls deploy The CloudFormation template is invalid Template format error Unresolved resource dependencies [ApiGatewayRestApi] in the Resources block of the template Here is the serverless yml file"
72452103,"How to get reference to aws api gateway in serverless framework","https://stackoverflow.com/questions/72452103/how-to-get-reference-to-aws-api-gateway-in-serverless-framework","{amazon-web-services,serverless-framework,aws-serverless}","2022-05-31 17:42:24+03","2024-05-17 05:30:24.307526+03","Getting error"
72453410,"How to create a NodeJS Authorization middleware on a serverless framework?","https://stackoverflow.com/questions/72453410/how-to-create-a-nodejs-authorization-middleware-on-a-serverless-framework","{amazon-web-services,lambda,serverless-framework}","2022-05-31 19:46:57+03","2024-05-17 05:30:25.285768+03","I would like to create a middleware that checks the authorization header decodes the token and sends the decoded data to the actual function just like you would by adding userData to the request and using next on an Express server so the actual function gets back the decoded data on the req and it can then check what content to display to the user if any I am using Lambda functions on a serverless framework This was the function on my Express NodeJS local server The question is how do I create a Lambda function that does this and sends the decoded data to the real function Edit is it bad if I decode the auth token directly in the functions at the very beginning I do not think it would add huge complexity to them "
72491238,"Referencing serverless stack name after pseudo parameters plugin deprecation","https://stackoverflow.com/questions/72491238/referencing-serverless-stack-name-after-pseudo-parameters-plugin-deprecation","{amazon-web-services,aws-cloudformation,serverless-framework}","2022-06-03 14:39:34+03","2024-05-17 05:30:25.814812+03","I am wondering what is the correct way to reference AWS Cloudformation pseudo parameters in a serverless yml now that pseudo parameter plugin has been deprecated All pseudo parameters are not available with the dollar sign syntax e g awsstackName is not in a similar manner as awsregion is for example The serverless documentation on pseudo parameters is very short and I am not sure I fully understand it I have tried to use Ref AWSStackName but when I try to generate an output I get an error with [ ]FnSub1Stack] null values are not allowed in templates The pseudoplugin page claims that All functionalities as provided by this plugin are now supported by Serverless Framework natively If this is true how should I go about using pseudoparameters"
72507118,"callback is not a function serverless AWS lambda","https://stackoverflow.com/questions/72507118/callback-is-not-a-function-serverless-aws-lambda","{amazon-web-services,aws-lambda,serverless-framework,amazon-lex}","2022-06-05 12:00:58+03","2024-05-17 05:30:26.796012+03","I am trying the below function just to see the fulfillment of the amazon lex using lambda but it says callback is not a function "
72510334,"AWS PublishVersion together with Serverless","https://stackoverflow.com/questions/72510334/aws-publishversion-together-with-serverless","{aws-lambda,aws-cli,serverless-framework,aws-serverless}","2022-06-05 19:04:42+03","2024-05-17 05:30:27.590112+03","I have a pretty big project that I use Serverless Framework to deploy to AWS a few lambdas together at a time using Windows Terminal I would do and it will take all of my lambdas and deploy them My problem is that I need to use the versioning of AWS and I do not know how to do it After I do the serverless deploy do I need to open the AWS CLI console and run something like this for each lambda that I already deployed using serverless I am just confused on how to combine the 2 ways of deploying lambdas "
72513427,"AWS - Connect lambdas to RDS in private isolated subnet","https://stackoverflow.com/questions/72513427/aws-connect-lambdas-to-rds-in-private-isolated-subnet","{amazon-web-services,aws-lambda,amazon-rds,serverless-framework,aws-cdk}","2022-06-06 05:34:46+03","2024-05-17 05:30:28.414133+03","I am wanting to establish connectivity to an RDS instance from some Lambda functions Lambda functions are autodeployed with serverless framework so ideally my config would be dynamic I am currently managing infrastructure with CDK and have the following resources I can deploy the lambdas to VPC A to either the private isolated or public subnets Additional constraints Lambdas require outbound connectivity but should be protected from inbound internet requests from public internet I am a bit stumped because I do not want to update my CDK script whenever the lambdas change Help is much appreciated "
72968777,"How to have JSON data as string as environment variable?","https://stackoverflow.com/questions/72968777/how-to-have-json-data-as-string-as-environment-variable","{aws-lambda,yaml,serverless,serverless-framework}","2022-07-13 15:22:29+03","2024-05-17 05:30:48.012045+03","I am trying to figure out a way to include a JSON string as an environment variable in the serverless yml file As the env variable will then be parsed as in JSON parse process env FOOBAR I have attempted to pass it as a string but seems to break the YAML syntax Some alternative I might think of is to use the file What can I try next"
72541865,"Serverless Framework: specify ephemeral storage size for AWS Lambda function","https://stackoverflow.com/questions/72541865/serverless-framework-specify-ephemeral-storage-size-for-aws-lambda-function","{aws-lambda,serverless-framework}","2022-06-08 07:45:01+03","2024-05-17 05:30:29.414119+03","AWS Lambda has recently add an option to specify more ephemeral storage the filesystem mapped to the tmp directory in the Lambda container from the default of 512 MB up to a maximum of 10GB Link httpsaws amazon comblogsawsawslambdanowsupportsupto10gbephemeralstorage In AWS console this setting is accessible through Console Lambda function Configuration Ephemeral storage right next to the Memory option which was there already But so far I have not figured out how to configure a nondefault ephemeral storage size through serverless yml Memory is allocated through the key memorySize either in the provider section or overridden per function Is there a similar way to configure more ephemeral storage"
72563409,"AWS Lambda Rerouting after Twitter Authorizing","https://stackoverflow.com/questions/72563409/aws-lambda-rerouting-after-twitter-authorizing","{amazon-web-services,aws-lambda,twitter,serverless-framework,twitter-oauth}","2022-06-09 16:01:10+03","2024-05-17 05:30:30.515038+03","I implemented a twitter login authorizer and I put an API route as the callback The Lambda function evoked on that route is the following Basically the user should be rerouted to the frontend where another POST request will be made to the API which will make a request to the Twitter API with the Bearer token and update the database The point is I am not being redirected to the frontend in the first place and I do not understand how to fix it Thanks a lot in advance "
72616752,"serverless-pseudo-parameter plugin depracation","https://stackoverflow.com/questions/72616752/serverless-pseudo-parameter-plugin-depracation","{amazon-web-services,serverless-framework}","2022-06-14 12:11:02+03","2024-05-17 05:30:31.528509+03","Recently serverlesspseudoparameters plugin got depracated Got to know that features are covered in serverless framework post version 2 50 0 I am using this pseudoparameters plugin now that this is depracated what are the changes to be done to let the application know that it has to use the serverless framework features I use resources like AWSRegion etc which has to be replaced by awsregion it seems Similarly what are the complete set of changes that I have to do Is there any documentation available on this "
72640312,"stage is not added to the endpoint when deploy with sls deploy --stage dev","https://stackoverflow.com/questions/72640312/stage-is-not-added-to-the-endpoint-when-deploy-with-sls-deploy-stage-dev","{serverless-framework,aws-serverless,aws-sdk-nodejs}","2022-06-16 04:01:50+03","2024-05-17 05:30:32.596505+03","I am using serverless framework I have set the stage as the dev and deploying using sls deploy stage dev command The dev stage is not added to the end point The endpoints are not like the one given below One of my lambda functions needs an endpoint to submit a post request to a thirdparty API to post back the result I need to be sure that the endpoint is rightly sent from the productiondev stage As you can see the above postback url is wrong if I do not get the stage process env stage added to the endpoint serverless yml"
72642135,"Filter Pattern is not being applied on Trigger through Serverless.yaml","https://stackoverflow.com/questions/72642135/filter-pattern-is-not-being-applied-on-trigger-through-serverless-yaml","{aws-lambda,serverless-framework}","2022-06-16 07:38:21+03","2024-05-17 05:30:34.024813+03","I am currently using lambda dynamodb streams in my project Scenario I want to trigger the lambda as soon as a record is inserted into the dynamodb The lambda should only be triggered for INSERT event On manually adding the trigger and applying the filter event it works as expected and the lambda is triggered only for INSERT events and is visible in lambda console Problem When the Lambda is being deployed through serverless yaml file only the trigger is being successfully applied on the lambda and also visible in the lambda console The issue is the filter pattern is not being applied on the trigger Due to which all the events INSERT MODIFY REMOVE are triggering the lambda The serverless file has also been verified through a yaml validator and no issues there Im using dotnet 6 as the runtime Partial Serverless File Any help would be appreciated Thanks in advance "
72645324,"serverless-python-requirements not working","https://stackoverflow.com/questions/72645324/serverless-python-requirements-not-working","{python,aws-lambda,serverless-framework}","2022-06-16 11:46:29+03","2024-05-17 05:30:34.400778+03","I have a helloworld python project with serverless framework I am trying to deploy a simple lambda function that needs numpy But currently when I run sls deploy and try to call the lambda function I get an internal server error Here is the structure of my project in test py I have In my serverless yml In Pipfile When I deploy I have no error but when I call the end point I get When I test it on AWS If I remove numpy from Pipfile and lambda I just return hello in my lambda everything works fine Why do I get this error and how can I fix it "
72654757,"Trigger lambda with cross account s3 put object","https://stackoverflow.com/questions/72654757/trigger-lambda-with-cross-account-s3-put-object","{python,amazon-web-services,aws-lambda,serverless-framework}","2022-06-17 05:38:03+03","2024-05-17 05:30:35.424661+03","I am trying to invoke lambda from cross account s3 bucket put action i can do it manually from console but want to do using serverless frame work If any one has any answer or related stuff please suggest me "
72667385,"Test docker locally on postman","https://stackoverflow.com/questions/72667385/test-docker-locally-on-postman","{node.js,docker,postman,serverless-framework}","2022-06-18 07:07:47+03","2024-05-17 05:30:36.412659+03","My setup is as follows I am running a serverless framework with Node js as my backend I am trying to build a docker image that executes a serverlessoffline plugin to run the server locally Docker When executing the following command docker run p 30013001 it docdownload the output shows as However when I am trying to hit API using Postman I am seeing this How to test this docker server locally using postman"
72668675,"Cognito postConfirmation function not triggered","https://stackoverflow.com/questions/72668675/cognito-postconfirmation-function-not-triggered","{amazon-web-services,aws-lambda,yaml,amazon-cognito,serverless-framework}","2022-06-18 10:52:58+03","2024-05-17 05:30:37.138802+03","I am signing up users to my application using serverless and AWS LambdaCognito and I would like to send a confirmation email after the users sign up To do this I created a postConfirmation function definition in my serverless yml to be triggered after the postConfirmation Cognito event fires but that function does not seem to get called at all What could be the issue serverless yml I am trying to see if the postConfirmation handler is called at all but I do not see anything in the logs Not sure how to trigger the handler"
72694596,"Serverless framework get AWS ""function url"" from separate function","https://stackoverflow.com/questions/72694596/serverless-framework-get-aws-function-url-from-separate-function","{aws-lambda,serverless-framework}","2022-06-21 01:58:57+03","2024-05-17 05:30:38.121369+03","I have a serverless application defined like this Part of the function hello is to hand the function url of world to an external api How can I get the function url to hello as an environment variable or otherwise"
72695038,"AppSync Simulator: TypeError: Cannot convert undefined or null to object","https://stackoverflow.com/questions/72695038/appsync-simulator-typeerror-cannot-convert-undefined-or-null-to-object","{serverless-framework,aws-appsync,serverless-offline,serverless-appsync-plugin}","2022-06-21 03:32:32+03","2024-05-17 05:30:39.176696+03"," I am using machine translation sorry I am building a local environment for appsync using a serverless framework I got an error when I installed these and used the sls offline start command By the way I am using typescript instead of yml to create a project schema graphql is at the root And this project works fine in the AWS Management Console Team development requires offline Please help me"
72932217,"Serverless Framework: How to properly define parallel branches?","https://stackoverflow.com/questions/72932217/serverless-framework-how-to-properly-define-parallel-branches","{serverless-framework,aws-step-functions}","2022-07-10 22:12:28+03","2024-05-17 05:30:40.076686+03","I am trying to translate the following Amazon Step Functions definition from JSON to Serverless YML Here is the JSON version which is working fine The things to note are Parallel type with Branches I have started translating this into Serverless YML I am running into an issue where Serverless complains about having StartAt and State as duplicate keys since those are parallel branches How do I properly deal with the Parallel Branches using Serverless Framework"
72937468,"serverless framework with multiple requirements.txt files","https://stackoverflow.com/questions/72937468/serverless-framework-with-multiple-requirements-txt-files","{serverless-framework}","2022-07-11 10:58:23+03","2024-05-17 05:30:41.207006+03","I have a python project with structure as below Can you have some ways to install packages from requirements txt then packaging it as separated layers I used serverlesspythonrequirements plugin but maybe it not help to create multiple layers with multiple requirements txt files"
72945122,"AWS Athena does not see records generated by Kinesis","https://stackoverflow.com/questions/72945122/aws-athena-does-not-see-records-generated-by-kinesis","{amazon-web-services,aws-cloudformation,aws-glue,serverless-framework,amazon-athena}","2022-07-11 22:04:15+03","2024-05-17 05:30:42.217402+03","I have a data pipeline where AWS API Gateway triggers lambda which inserts events into Kinesis stream and writes them to S3 for Athena to query I defined my stack using serverless framework as below The pipeline works up to a point I have a bucket named pageviewstorestaging with records for emitted events However Athena does see not any records or I am querying for data incorrectly When I open the Athena console it sees my database analyticsstorestagingdb and a single table page_view_store_staging My S3 bucket has records They are in the form of bucketyearmonth etc so the path is pageviewstorestaging2022071120 and inside a gzipped text file with JSON for example When I try to execute a query the response is I looked at glue console and it sees the database and the table and the table has objectCount 0 UPDATED_BY_CRAWLER I also tried invoking the crawler manually It starts and runs Yet there are no errors and no records What am I doing wrong How do I check whether glue is working andor debug it"
72949313,"How to set routing in serverless framework","https://stackoverflow.com/questions/72949313/how-to-set-routing-in-serverless-framework","{node.js,typescript,amazon-web-services,aws-lambda,serverless-framework}","2022-07-12 08:35:24+03","2024-05-17 05:30:43.195047+03","I would like to develop sample apps and its routing by using serverlessframework I send following command sls create t awsnodejstypescript n sampleapidev It generate following directory handler ts after that I send following command sls local start My question is 1 How can I set routing in each function for example I would like to add GET function in my project I could not find how to set routing in my function Where is POST defined in hellohandler ts 2 How can I change environment it seems that offline start at stage dev useast1 how can I change this stage Are there any setting needed If someone has opinion or materials will you please let me know Thanks Thanks"
72950837,"How to integrate prisma with serverless framework aws-nodejs-typescript template","https://stackoverflow.com/questions/72950837/how-to-integrate-prisma-with-serverless-framework-aws-nodejs-typescript-template","{node.js,serverless-framework,prisma,prisma2}","2022-07-12 10:29:11+03","2024-05-17 05:30:44.141116+03","I am building a serverless function using the serverless framework However im having an issue with running it locally Error ENOENT no such file or directory open esbuild buildnode_modules prismaclientschema prisma prismaschema prisma serverless ts steps What am i doing wrong here note attempting to follow this example httpsgithub comprismaprismaexamplestreelatestdeploymentplatformsawslambda i am using the serverless awsnodejstypescirpt template which uses serverlessesbuild and not serverlesswebpack"
72951908,"Serverless Framework - environment variables from file and manual","https://stackoverflow.com/questions/72951908/serverless-framework-environment-variables-from-file-and-manual","{aws-lambda,serverless-framework}","2022-07-12 11:56:14+03","2024-05-17 05:30:44.824549+03","I have Serverless Framework function for AWS Lambda I have secrets in AWS Secrets Manager SSM Parameter Store and other environment variables in local yml files for separate deployments dev stg prod How can I use environment variables from both file and SSM Only secrets work And only file also works But how can I combine those so I have all those variables set as env vars in final deployment I tried this but it does not work and throws error during deploy"
72953973,"how can i add lambda SNS trigger with multi region","https://stackoverflow.com/questions/72953973/how-can-i-add-lambda-sns-trigger-with-multi-region","{node.js,yaml,serverless-framework,amazon-sns,aws-serverless}","2022-07-12 14:27:21+03","2024-05-17 05:30:45.428258+03","I am trying to add multiple SNS topics of different regions to my lambda function via serverless yml after deployment I am seeing only one trigger some times also get error"
72956678,"Debug Amazon Serverless Offline with Pycharm","https://stackoverflow.com/questions/72956678/debug-amazon-serverless-offline-with-pycharm","{pycharm,serverless-framework,serverless-offline}","2022-07-12 18:09:51+03","2024-05-17 05:30:46.509054+03","I use pycharm and wanted to know if there is a way to debug Amazon Serverless Offline with it I found this guide but though it gives some knowledge on how to interactively debug using an IDE it did not help me It also provides a detailed guide on how to debug using VSCODE which I successfully implemented "
72967634,"How do I solve this Serverless.yml ssm dynamic path creation problem?","https://stackoverflow.com/questions/72967634/how-do-i-solve-this-serverless-yml-ssm-dynamic-path-creation-problem","{amazon-web-services,serverless,serverless-framework,aws-ssm}","2022-07-13 14:01:51+03","2024-05-17 05:30:47.145702+03","Fairly new to Serverless and am having problems creating a dynamic path to an SSM parameter I have tried a fair few ideas but am sure that this is really close but its not quite there I am trying to generate an ssm path as a custom variable that will then be used to populate a value for a Lambda function Heres the custom variable code And here is where it is referenced in the function And here is the error output It seems like it is not resolving the ssm parameter All help much appreciated Thanks Sam"
72978177,"'provider.deploymentBucket': unrecognized property 'accessLog' error in Serverless.yml","https://stackoverflow.com/questions/72978177/provider-deploymentbucket-unrecognized-property-accesslog-error-in-serverle","{yaml,serverless,serverless-framework,compiler-warnings}","2022-07-14 09:23:17+03","2024-05-17 05:30:50.617347+03","I have been trying to set the Server access logging for the deployment bucket in the serverless file with the following code The layout for the above code was found from using the serverlessdeploymentbucket link here But following the steps that has been laid out in the documentation throws the following error when deploying to AWS Not sure what I am doing incorrectly"
72993007,"How to read arrow function type definition in typescript","https://stackoverflow.com/questions/72993007/how-to-read-arrow-function-type-definition-in-typescript","{typescript,aws-lambda,serverless-framework}","2022-07-15 11:04:30+03","2024-05-17 05:30:51.175298+03","When I try to develop my app by serverlessframework Now I stuck in typescript specific issues my question is const hello ValidatedEventAPIGatewayProxyEventtypeof schema async event so hello function is defined but what is ValidatedEventAPIGatewayProxyEvent it defined return type or input value type How can I read them correctly I searched about them but I could not find ts document about it if someone has opinion of materials will you please let me know Thanks handler ts schema ts apigateway ts"
72994862,"Issue with serverless deployment using github actions , error -Invalid ""--config"" value: Unsupported file extension (expected one of: yml, yaml, json,","https://stackoverflow.com/questions/72994862/issue-with-serverless-deployment-using-github-actions-error-invalid-config","{lambda,yaml,github-actions,serverless-framework,cicd}","2022-07-15 13:35:07+03","2024-05-17 05:30:52.197484+03","I got stuck in a problem with serverless lambda function deployment using GitHub actions I am getting an error as below Yml My serverless yml file at the repository root"
73004827,"Paths not recognized using Gin with API Gateway (HTTP api), Serverless Framework and Lambda Functions","https://stackoverflow.com/questions/73004827/paths-not-recognized-using-gin-with-api-gateway-http-api-serverless-framework","{amazon-web-services,go,aws-api-gateway,serverless-framework}","2022-07-16 14:02:55+03","2024-05-17 05:30:53.203722+03","I have a Lambda function which uses Gin and has two routes created When I follow this tutorial and manually create a REST API from the AWS console and attach it to this Lambda these two routes work fine however what I automate the process through the Serverless Framework it does not work I have tried setting up both an HTTP API and REST API with Serverless but neither worked I have looked around a lot for the past couple hours and even found this post suggesting that it is doable but for some reason I cannot get it work What configuration am I missing"
73005973,"why does serverless framework not include package.json for aws-nodejs template","https://stackoverflow.com/questions/73005973/why-does-serverless-framework-not-include-package-json-for-aws-nodejs-template","{javascript,node.js,serverless-framework}","2022-07-16 16:37:57+03","2024-05-17 05:30:54.2402+03","When trying to create a new serverless project using the cli Serverless framework creates Why does not a package json be included and also why is only a packagelock json file created generated when installing npm packages e g lodash Running the following only creates a node_module folder and a packagelock json file There is no package json file Trying to understand why as this is not the case with Thank you for taking the time to read this "
73024580,"Can I use serverless framework without cloud providers?","https://stackoverflow.com/questions/73024580/can-i-use-serverless-framework-without-cloud-providers","{node.js,express,serverless-framework}","2022-07-18 15:09:12+03","2024-05-17 05:30:55.326279+03","In my company we do not use aws or asuze or any cloud providers yet so we are deploy our nodejs applications based on express js on physical machine or virtual machine linux However it is possible to use Serverless Framework just like express js server I saw the serverless offline plugin and it launch a server endpoint function which I can access But can I use serverless this way in the production"
73058439,"How to declare conditional resource in serverless framework","https://stackoverflow.com/questions/73058439/how-to-declare-conditional-resource-in-serverless-framework","{serverless,serverless-framework}","2022-07-20 21:45:05+03","2024-05-17 05:30:56.155016+03","I use typescript definition of serverless configuration serverless ts How do I conditionally add resources using cloud formation templates For example AWS cognito userpools if I want to exclude these for offline mode how can I specify it in serverless config file to not include them"
73083043,"blank pdf files at S3 when uploading with Serverless framework API Gateway","https://stackoverflow.com/questions/73083043/blank-pdf-files-at-s3-when-uploading-with-serverless-framework-api-gateway","{amazon-web-services,amazon-s3,multipartform-data,serverless-framework}","2022-07-22 15:55:46+03","2024-05-17 05:30:56.972896+03","I am uploading pdf file to S3 with this function via postmanmultipart file upload content argument comes from my Lambda function event which is multipart file When I run this code from Serverless Offline i e locally it works however the deployed code at AWS does not work here are the file size differences at serverless yml I have as it is described here at awslambdamultipartparser npm package page Any idea what am I doing wrong"
73095546,"How to reference AWS HTTP API (v2) in CloudFormation template for CloudWatch Dashboard?","https://stackoverflow.com/questions/73095546/how-to-reference-aws-http-api-v2-in-cloudformation-template-for-cloudwatch-das","{aws-cloudformation,amazon-cloudwatch,serverless,serverless-framework,aws-serverless}","2022-07-24 03:17:30+03","2024-05-17 05:30:58.089899+03","I am trying to build an AWS HTTP API API Gateway v2 using the serverless framework and I also want to create a CloudWatch Dashboard which shows metrics about this HTTP API using a CloudFormation template for CloudWatch Dashboard According to AWS they do not support HTTP API metrics by API NAME They only support it by API ID The problem is that sometimes the API ID changes when you deploy so it is not reliable I cannot hardcode it into the CloudWatch template Is there any to reference the HTTP API from the serverless file and retrieve its ID so it can be passed to the CloudWatch CloudFormation template Below is a snippet of my code"
73106244,"Accessing Environment variables in Serverless C#","https://stackoverflow.com/questions/73106244/accessing-environment-variables-in-serverless-c-sharp","{c#,.net-core,environment-variables,serverless-framework}","2022-07-25 08:36:47+03","2024-05-17 05:30:59.128439+03","I am working on Serverless project that runs with C I create the Boilerplate code from this repo So my question is how I access the environment variables that are mentioned in the serverless yml file for use inside the methods My serverless yml file looks like this I have tried using But seems that not working "
73112435,"Background proccesing system for serverless framework","https://stackoverflow.com/questions/73112435/background-proccesing-system-for-serverless-framework","{background-process,serverless-framework,serverless-architecture}","2022-07-25 16:20:46+03","2024-05-17 05:30:59.827479+03","I need some solution for execution of background jobs This should be done with serverless framework I want to find something similar to delay jobs that exist in RoR world Maybe anyone faced with such task and have some tools to recommend if any I will be grateful for any further information in scope of it thanks "
73145662,"Duplicate dependency error when using webpack","https://stackoverflow.com/questions/73145662/duplicate-dependency-error-when-using-webpack","{webpack,yarnpkg,serverless-framework,yarn-workspaces}","2022-07-27 23:30:14+03","2024-05-17 05:31:00.80632+03","I am receiving the following error when running locally with webpack I have added graphql to my root package jsons resolutions section I am using workspaces I have since cleaned my cache deleted all node_modules folders deleted yarn lock and reinstalled the dependencies using yarn However the error persists Additionally there is only one version of graphql in the yarn lock file I am not experiencing this issue when running index ts locally with tsnode Heres my webpack config Any ideas"
73171018,"step-functions-local: Can't start state machine within state machine","https://stackoverflow.com/questions/73171018/step-functions-local-cant-start-state-machine-within-state-machine","{serverless-framework,state-machine,aws-step-functions,state-machine-workflow,serverless-framework-step-functions}","2022-07-29 21:09:33+03","2024-05-17 05:31:01.669748+03","I have got stepfunctionslocal and serverlessoffline configured to test a state machine let us call it 1 that triggers another state machine 2 defined within the project Both show as created when I fire up the local server with sls offline start stage dev I then test 1 with the following command 1 executes several steps successfully including readwrite S3 operations until it reaches the step to trigger 2 at that point it fails with an exception that reads in part Heres how the step to start state machine 1 is defined in the 1 yml file I can get 1 to work if instead of pointing to the arn for the locallycreated 2 I point it to the arn of the deployed version However this deployed version is of course a remote resource which sort of defeats the purpose of local testing Any ideas on how to get the local version of 2 executed properly"
73182940,"Serverless framework - can't use cron in docker image lambda","https://stackoverflow.com/questions/73182940/serverless-framework-cant-use-cron-in-docker-image-lambda","{docker,serverless-framework}","2022-07-31 11:32:23+03","2024-05-17 05:31:02.555286+03","I am building a container to hold multiple functions using the template here httpswww serverless comblogcontainersupportforlambda The issue I am finding is that I cannot find a way to cron to schedule the functions in the container This is the Dockerfile and this is the yml The function works absolutely fine without the events bit but as soon as I insert that the error on deployment is Any thoughts what is causing this"
73191386,"API: s3:CreateBucket Access Denied when run a command 'sls deploy'","https://stackoverflow.com/questions/73191386/api-s3createbucket-access-denied-when-run-a-command-sls-deploy","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework}","2022-08-01 09:09:09+03","2024-05-17 05:31:03.496806+03","I am a beginner in AWS and also serverless framework I would like to run PHP on AWS lambda function So I need to set custom PHP runtime up using bref So I run composer require brefbref and then I chose Web application runtime I got this error when I run sls deploy command Error CREATE_FAILED ServerlessDeploymentBucket AWSS3Bucket API s3CreateBucket Access Denied I have already given S3 permission for IAM user users group users role Please help me what should I need to do and what is missing This is my serverless yml file"
73197549,"Webpack compilation failed: node_modules/@middy/core/index.cjs 24:26","https://stackoverflow.com/questions/73197549/webpack-compilation-failed-node-modules-middy-core-index-cjs-2426","{webpack,serverless-framework,middy}","2022-08-01 17:36:49+03","2024-05-17 05:31:05.04528+03","I cannot deploy my code to lambda when I use middy it will always return the error Below is my code which I tried to deploy Is there anywhere in the serverless yml file maybe that I need to specify that I am using middy with webpack"
73205527,"Exception, handler is not a function, serverless offline","https://stackoverflow.com/questions/73205527/exception-handler-is-not-a-function-serverless-offline","{node.js,rest,lambda,serverless,serverless-framework}","2022-08-02 09:55:53+03","2024-05-17 05:31:05.330342+03","I am trying to make a rest api with Lambda and serverless framework But getting this error My serverless yml looks like this And my handler looks like this"
73237852,"Implement Java aws lambda layers in serverless.yml","https://stackoverflow.com/questions/73237852/implement-java-aws-lambda-layers-in-serverless-yml","{java,serverless-framework,aws-lambda-layers}","2022-08-04 14:39:57+03","2024-05-17 05:31:06.173338+03","I am looking for java solution to aws lambda layers in serverless yml I could easily see python nodejs net implementations but could not find example for Java Appreciate an example "
73256762,"serverless websockets: how to persist execution environment throughout ws connection","https://stackoverflow.com/questions/73256762/serverless-websockets-how-to-persist-execution-environment-throughout-ws-connec","{node.js,websocket,serverless,serverless-framework,aws-serverless}","2022-08-06 02:23:35+03","2024-05-17 05:31:07.278144+03","Following the example on the official docs httpswww serverless comframeworkdocsprovidersawseventswebsocket I noticed that the execution environment for the message handler is not kept persistent over the lifetime of the ws connection Here is my default handler Sending a message several times over websocket always prints a as null as the variable is not kept persistent How to ensure that the execution environment remains persistent over the lifetime of the ws connection For some context What I am trying to achieve is realtime audio transcription over websockets using Google Cloud Speech This requires the speech recognizer class instance to persist over multiple ws messages where each message receives a packet of audio data "
73266209,"Can you still set the timeout for a lambda function in Serverless when it's in a container","https://stackoverflow.com/questions/73266209/can-you-still-set-the-timeout-for-a-lambda-function-in-serverless-when-its-in-a","{aws-lambda,serverless-framework}","2022-08-07 09:12:52+03","2024-05-17 05:31:08.001292+03","In normal lambdas it is straightforward to set the timeout within the serverless yml For eg However when I use a container image this seems to get lost and AWS uses the default of 6s This is the example code Am I doing something wrong I can of course set it manually on the AWS console but it would be nice to have it all in the yml"
73273184,"Retrieving file and forwarding to another API is causing error","https://stackoverflow.com/questions/73273184/retrieving-file-and-forwarding-to-another-api-is-causing-error","{javascript,amazon-web-services,aws-lambda,axios,serverless-framework}","2022-08-08 05:16:55+03","2024-05-17 05:31:08.989331+03","I am retrieving a file from an S3 bucket and then forwarding it to another API It is causing the following error The code used is here"
73276831,"How sls_debug=* cmd works","https://stackoverflow.com/questions/73276831/how-sls-debug-cmd-works","{node.js,amazon-web-services,serverless-framework,aws-serverless}","2022-08-08 11:00:53+03","2024-05-17 05:31:09.862396+03","I wanted to know how deploying serverless project in debug mode works I generally use sls deploy satge dev command to deploy my nodejs projects on aws But somehow it is failing and I read on internet that I can use debug mode to get the logs So now I am using sls_debug sls deploy satge dev But I do not know where to see the logs so that I can pin point the failure "
73285029,"Serverless Framework - useDotenv is not loading env file in AWS","https://stackoverflow.com/questions/73285029/serverless-framework-usedotenv-is-not-loading-env-file-in-aws","{python,environment-variables,serverless-framework,python-venv}","2022-08-08 23:27:07+03","2024-05-17 05:31:11.06177+03","I am using the useDotenv property on my serverless yml but it is not loading in AWS I have in the root directory a env prod file with the following I am deploying the function with the command Once the function is called I see the following error What is missing in my serverless configuration"
73574926,"Generate OAS3 API from AWS serverless YAML without deploying?","https://stackoverflow.com/questions/73574926/generate-oas3-api-from-aws-serverless-yaml-without-deploying","{aws-api-gateway,openapi,serverless-framework,aws-serverless}","2022-09-01 20:07:25+03","2024-05-17 05:31:12.335094+03","I am developing a moderately complex for me serverless infrastructure on AWS that consists of about 50 lambdas and would like to start fleshing out the API documentation but am finding it very tedious Right now any time I want to make a minor schema change documentation change etc in my YAML I am redeploying the whole Cloud Formation and then regenerating the OAS3 API with This is obviously pretty time consuming and I feel like there must be a better way I poked around with with serverlessdocumentation plugin but that still seems to require a redeploy and only works with OAS2 and I have now started investigating serverlessoffline which I wish I knew about in the past but before I go down that rabbit hole I wanted to see if there is a better way to do this "
73611385,"Inconsistent console logs for NodeJS worker threads in AWS Lambda","https://stackoverflow.com/questions/73611385/inconsistent-console-logs-for-nodejs-worker-threads-in-aws-lambda","{node.js,logging,aws-lambda,serverless-framework,node-worker-threads}","2022-09-05 15:05:21+03","2024-05-17 05:31:12.719966+03","I have an lambda function which spins up a worker thread helloworld js otherfile js Defined in serverless yml as If I invoke this locally with serverless I get what I would expect If I invoke it on AWS each message from the function itself is also prefixed with a timestamp and an execution ID This is very nice However it does not do this for messages from the worker thread This also matches what I get if I look at the logs in Cloudwatch Hence my questions are"
73619339,"How to associate a lambda layer with a function in serverless.ts typescript using Ref","https://stackoverflow.com/questions/73619339/how-to-associate-a-lambda-layer-with-a-function-in-serverless-ts-typescript-usin","{typescript,serverless-framework,prisma}","2022-09-06 08:59:45+03","2024-05-17 05:31:13.770228+03","I use serverless framework and i use the typescript template which generates a serverless ts file I am working with lambda layers and im tyring to associate a lambda layer i have created with an existing function However im getting a typescript error Type Ref string is not assignable to type AwsLambdaLayers Object literal may only specify known properties and Ref does not exist in type AwsArn[] httpsdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferenceref html"
73629340,"Mikro-orm error TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension "".ts""","https://stackoverflow.com/questions/73629340/mikro-orm-error-typeerror-err-unknown-file-extension-unknown-file-extension","{typescript,serverless-framework,mikro-orm}","2022-09-07 02:04:06+03","2024-05-17 05:31:14.873244+03","When I execute any command in mikroorm cli the following error appears TypeError [ERR_UNKNOWN_FILE_EXTENSION] Unknown file extension ts for C\UsersDesktopintegrationlistrestrictivemikroorm config ts Command run npx mikroorm migrationcreate i"
73659136,"User: arn:aws:iam::AN:user/root is not authorized to perform: dynamodb:DescribeTable on resource: arn:aws:dynamodb:eu-west-1:AN:table/MyTable","https://stackoverflow.com/questions/73659136/user-arnawsiamanuser-root-is-not-authorized-to-perform-dynamodbdescribet","{amazon-web-services,amazon-dynamodb,serverless,serverless-framework}","2022-09-09 08:08:21+03","2024-05-17 05:31:15.974048+03","I have a serverless project I declared the needed resources in my serverless html like below The resources needed for the project The permissions required for the iam role for this project I also have a configprod yml file holding the s3 bucket names dybamodb table names However when I deploy this project I get the Resource handler returned message User arnawsiam[ACCOUNT_NUMBER]userroot is not authorized to perform dynamodbDescribeTable on resource arnawsdynamodbeuwest1[ACCOUNT_NUMBER]tableMyTable error What am I doing wrong here ALSO I tried using FnGetAtt as and as to which I got the errors Cannot parse serverless yml missed comma between flow collection entries in homerunnerworksc2sc2serverless yml 5132 and The CloudFormation template is invalid Template error instance of FnGetAtt references undefined resource MY_DB respectively "
73718753,"How to invoke a lambda function from another lambda in serverless offline?","https://stackoverflow.com/questions/73718753/how-to-invoke-a-lambda-function-from-another-lambda-in-serverless-offline","{node.js,aws-lambda,serverless-framework,serverless-offline}","2022-09-14 14:37:14+03","2024-05-17 05:31:16.887257+03","I am trying to invoke a lambda function within the lambda function using Serverless framework I am using this code right now and it works fine when deployed to AWS But it returns some errors locally in serverlessoffline Code I am using right now When this is triggered it says that the function is not found Function not found arnawslambdauswest2893853743015functionmyapilocalhandleProcessA I tried the suggestions from these SO questions as well httpsstackoverflow coma587663871481519 httpsstackoverflow coma699675311481519 Based on the suggestions I changed this part But then it gives me Unsupported Media Type with status 415 Has anyone encountered this before Any guidance is appreciated Thanks "
73726238,"Cannot read property 'name' of undefined serverless esbuild","https://stackoverflow.com/questions/73726238/cannot-read-property-name-of-undefined-serverless-esbuild","{aws-lambda,serverless-framework,aws-serverless,esbuild}","2022-09-15 05:58:04+03","2024-05-17 05:31:17.892216+03","Recently I was going to change webpack with esbuild in aws serverless project With webpack everything was working fine But with esbuild the following error is being shown Serverless yaml My package versions"
73739712,"Subpath of EFS Access Point on Lambda","https://stackoverflow.com/questions/73739712/subpath-of-efs-access-point-on-lambda","{amazon-web-services,aws-lambda,serverless-framework,amazon-efs}","2022-09-16 03:56:26+03","2024-05-17 05:31:18.933225+03","I need to create many lambdas that connect to the same EFS Considering that files on EFS are arranged something like this Each lambda needs access to only one childDir Example Lambda1 only needs access to parentDirchildDir1 Lambda2 only needs access to parentDirchildDir2 and so on The EFS access point has been created for path parentDir All the lambdas are able to use this EFS access point to get access to their desired directories However these lambdas are also able to access all the childDirs which is undesirable Also considering that there is a limit of 120 Access Points per EFS creating a new EFS access point for every lambda also would not be a solution here I am aware something similar can be achieved for EKSEFS using a single EFS Access Point by specifying the EFS Access Point ID in the Persistent Volumes CSI volumeHandle and specifying the subPath for Pods volumeMount So is there a way to mount an EFS access point to Lambda in a way that the Lambda can only access a particular subPath Example parentDirchildDir2 and not all the directories"
73753975,"serverless framework request validator schema: How to not accept those object key and value pair that is not included in json schema?","https://stackoverflow.com/questions/73753975/serverless-framework-request-validator-schema-how-to-not-accept-those-object-ke","{node.js,aws-lambda,serverless,serverless-framework,json-schema-validator}","2022-09-17 10:11:45+03","2024-05-17 05:31:19.692254+03","Im using request validator schema to validate incoming post request httpswww serverless comframeworkdocsprovidersawseventsapigatewayrequestschemavalidators test json file serverless yml file It is fine it is validating when propertyname is not included in the post request however as you can see in my json file only name is in the property when i include like name test age 2 the age is accepting What i want is only the key and value pairs that i set on test json file will be accepted I havent seen any documentations on json schema regarding this hoping that has an alternative solution for this "
73776368,"Serverless Framework Error: Single API Gateway Project - RootResourceId attribute of API Gateway RestAPI <id> doesn't exist","https://stackoverflow.com/questions/73776368/serverless-framework-error-single-api-gateway-project-rootresourceid-attribut","{amazon-web-services,aws-cloudformation,aws-api-gateway,serverless,serverless-framework}","2022-09-19 16:12:50+03","2024-05-17 05:31:20.468232+03","I am having a problem deploying my application in AWS with CloudFormation using the Serverless Framework I am using the Single API Gateway Project strategy for the deployment I have my Backend divided into services each with its directory inside the repo and its serverless yml file To have a single API Gateway for each one of them I first deploy a root service that creates said API Gateway for me and outputs the ApiGatewayRestApiId and ApiGatewayRestApiRootResourceId as I could see in the following document of the same Serverless Framework httpswww serverless comframeworkdocsprovidersawseventsapigatewayeasiestandcicdfriendlyexampleofusingsharedapigatewayandapiresources My root service that creates the API Gateway is something like Then from the rest of the microservices I use those values by importing them as follows I never had any problems deploying until today when I tried to deploy only the root service The error I am having is the following An error occurred rootbeta Template error RootResourceId attribute of API Gateway RestAPI d8zc1j912b does not exist I checked everywhere but I cannot find the reason why I get this error "
73778560,"Is there something like esbuild for serverless python?","https://stackoverflow.com/questions/73778560/is-there-something-like-esbuild-for-serverless-python","{python,amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-09-19 19:47:47+03","2024-05-17 05:31:21.582964+03","I come from working with nodejs and serverless framework where I can configure esbuild so that functions that require other functions are in a single bundle file Now I am working python with serverless framework however when I import an external function and deploy In the function bundle the whole project is uploaded Clearly this would increase costs and delay the startup of the functions I have been reading about mock plugins serverlesspythonindividually serverlesspackagepythonfunctions but i have not been able to package the function and its dependencies individually Is there any way to package the dependencies of the lambda functions individually example In nodejs I have the following structure When I deploy it looks like this Where in fileHandler js the code of the s3Storageindex js dependency is inserted In python I have the following structure I would like to know if there is a way to package it in the same way as with nodejs esbuild "
73793840,"How to deploy Serverless Framework to AWS from Azure Pipeline?","https://stackoverflow.com/questions/73793840/how-to-deploy-serverless-framework-to-aws-from-azure-pipeline","{azure-devops,azure-pipelines,serverless-framework}","2022-09-21 00:24:48+03","2024-05-17 05:31:22.686167+03","I am wanting to get familiar with Azure DevOps and setting up CICD through it For the backend services I want to use Serverless Framework SF I am getting stuck trying to add credentials to the CI pipeline for SF I am following the instructions in this documentation page but I am getting this error in the deploy step AWS provider credentials not found Learn how to set up AWS provider credentials in our docs here These are the steps to reproduce In the Serverless Framework Dashboard go to org and create an access key save the key for later In the Azure DevOps GUI refresh the Repo page and click the Setup Build button Select the Node js template as a base Customize the pipeline Deploy step fails Update Default generated serverless ts Update 2 Looks like I was missing app org in my serverless config Now I am receiving Error You are not currently logged in To log in use serverless login Am I setting the API key incorrectly"
73821950,"Serverless framework serverless-offline start error on get request cannot find module 'node:url' (Lambda AWS)","https://stackoverflow.com/questions/73821950/serverless-framework-serverless-offline-start-error-on-get-request-cannot-find-m","{node.js,aws-lambda,serverless,serverless-framework,serverless-offline}","2022-09-23 00:42:54+03","2024-05-17 05:31:23.680175+03","I have the following issue turns out I cannot test locally my aws lambda function over serverlessoffline plugin in serverless framework for nodejs Cannot do a simple GET request I am able to deploy to aws lambda with serverless deploy command but in order for better development experience of the team we need to deploy locally with serverlessoffline I followed this guide httpsfauna comblogdevelopusingserverlessoffline but got stuck when I do a simple get request after running successfully serverless offline command This I get when running serverless offline successfully But when I do a get request to the link httplocalhost3000 through postman I get the following error It basically says cannot find nodeurl module but I did npm install url but still same error throwing I will insert the project tree and files below handler js serverless yml package json I am newbie on aws stuff so I dont know what could be happening I am using"
73825022,"How to set a serverless cron job to run after 10 days from first deploy and than to run every day","https://stackoverflow.com/questions/73825022/how-to-set-a-serverless-cron-job-to-run-after-10-days-from-first-deploy-and-than","{python,aws-lambda,cron,boto3,serverless-framework}","2022-09-23 08:31:06+03","2024-05-17 05:31:24.770765+03","I need some help setting up the schedule for a lambda function that I deploy with serverless framework It should start running daily but only 10 days after it has been deployed Is this possible I just set the function to run every day "
73855174,"s3 bucket already exists in all stages except one","https://stackoverflow.com/questions/73855174/s3-bucket-already-exists-in-all-stages-except-one","{serverless,serverless-framework,aws-serverless}","2022-09-26 13:50:37+03","2024-05-17 05:31:26.120225+03","I am deploying a cloudformation serverless yaml with a S3 and S3 policy resource I have stages bob dev and stage Then the bucket name has pattern mybucketstage When I deploy to bob the deployment is successful When I try the other stages I get error like An error occurred mybucketdev already exists Do you know how to fix the issue"
73870944,"Serverless framework Variable dependency failure","https://stackoverflow.com/questions/73870944/serverless-framework-variable-dependency-failure","{amazon-web-services,serverless,serverless-framework,aws-serverless}","2022-09-27 16:32:01+03","2024-05-17 05:31:26.372117+03","I am trying to run a bash script that calls the serverless frameworks deploy command to create AWS resources The deploy command passes parameters which are to be referred to in the serverless yaml file My command is like serverless deploy paramdeploymentRegionuseast1 While in the serverless yaml I am trying to use the passed parameter like region paramdeploymentRegion I am getting the following error I am trying to refer httpswww serverless comframeworkdocsguidesparameters What am I doing wrong"
73871216,"Which Golang Lambda Handler do you use to access Serverless Framework Input Key Value Map?","https://stackoverflow.com/questions/73871216/which-golang-lambda-handler-do-you-use-to-access-serverless-framework-input-key","{go,aws-lambda,serverless-framework}","2022-09-27 16:53:33+03","2024-05-17 05:31:27.391118+03","I copied multiple examples from a different question to try to pass input parameters to an AWS Lambda GoLang function with the Serverless framework The function is defined below But the standard Lambda Context does not seem to be passing in any of the input values that I am looking for So which lambda handler function should I be using to access either first second or third values when invoking the function I am trying to run multiple CRON jobs via the schedule function and I want to be able to differentiate between nightly monthly and yearly jobs And I want to use the input Serverless parameter in order to differentiate the calls Heres what I have so far And heres the output that it produces As you can see there is no mention of first second or third I was hoping to be able to see the value s in either the Custom or Env maps but those are both empty "
73874712,"Not authorized to perform: lambda:GetFunction","https://stackoverflow.com/questions/73874712/not-authorized-to-perform-lambdagetfunction","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-09-27 23:23:58+03","2024-05-17 05:31:28.042196+03","I am trying to deploy lambda function with Serverless framework I have added my ADMIN credentials in the aws cli and I am getting this error message every time I try to deploy Warning Not authorized to perform lambdaGetFunction for at least one of the lambda functions Deployment will not be skipped even if service files did not change Error CREATE_FAILED HelloLambdaFunction AWSLambdaFunction Resource handler returned message null Service Lambda Status Code 403 Request ID RequestToken HandlerErrorCode GeneralServiceException I have also removed everything from my project and from the YML file and nothing worked"
73903039,"TypeScript serverless-esbuild exclude ""*"" (full node_modules) doesn't seem to work","https://stackoverflow.com/questions/73903039/typescript-serverless-esbuild-exclude-full-node-modules-doesnt-seem-to-wo","{typescript,aws-lambda,serverless-framework,esbuild}","2022-09-30 01:13:20+03","2024-05-17 05:31:29.298704+03","I use serverlesslayers plugin in Serverless Framework so I would like to exclude node_modules directory from esbuild According to the official document I can set to the exclude option of serverlessesbuild to exclude the full node_modules directory An array of dependencies to exclude from the Lambda This is passed to the esbuild external option Set to to disable packaging node_modules [awssdk] However it does not seem to work if I set it in serverless ts Here was my trials On the other hand specifying each library works well like this Is there something I missed Thanks "
73933564,"Avoid using Docker with Serverless Offline and Golang","https://stackoverflow.com/questions/73933564/avoid-using-docker-with-serverless-offline-and-golang","{serverless,serverless-framework,aws-serverless,serverless-offline}","2022-10-03 09:33:32+03","2024-05-17 05:31:30.134899+03","Currently every time I need to use serverless offline I have to set my function handler in serverless yml to the main go of the function as such But keeping this breaks AWS Lambda and I have to change it back to binhello A solution is to use serverless offline useDocker but testing functions that is running in Docker takes more than 30s which is super slow Is there a way around this"
73962939,"Problem while deploying serverless with gitlab-ci","https://stackoverflow.com/questions/73962939/problem-while-deploying-serverless-with-gitlab-ci","{docker,flask,gitlab-ci,serverless,serverless-framework}","2022-10-05 15:41:10+03","2024-05-17 05:31:31.04647+03","I get the following error when I try to deploy my flask app as a lambda function with serverless on gitlabci However when I run command sls deploy locally it works Here is my serverless yml And here is my gitlabci yml I tried with differents docker images like python node ubuntu but I cannot make it work "
73971157,"Returning AWS Lambda response before waiting for DB query - Serverless framework","https://stackoverflow.com/questions/73971157/returning-aws-lambda-response-before-waiting-for-db-query-serverless-framework","{mysql,node.js,aws-lambda,serverless,serverless-framework}","2022-10-06 09:02:17+03","2024-05-17 05:31:32.5467+03","I have a serverless framework node js function that initializes mysql DB and then runs a query ES6 is used to return an HTTP response at the end Is there a way to return the response before waiting for the DB call to finish for example in node js res send will return immediately and the function continues to run after the response is returned Is there a better way to initialize a new mysql pool perhaps reuse the pool instead of creating an ending it in each request a If for example the answer is to create the pool outside the function how does it exactly work and how does the lambda function reuse it between requests when does it get destroyed and how does it know when to recreate the pool"
73972676,"The `serverless deploy` doesn’t update any cloudformation after upgrading to v3","https://stackoverflow.com/questions/73972676/the-serverless-deploy-doesn-t-update-any-cloudformation-after-upgrading-to-v3","{go,serverless,serverless-framework}","2022-10-06 10:57:16+03","2024-05-17 05:31:33.161986+03","I have just upgraded my golang project to v3 Serverless Framework and have some changes on the serverless yml file to satisfy v3 requirements When I run the serverless deploy command everything seems good But I dont see any updating on cloudformation as well as lambada function The result after I execute the command I also tried to make tiny code changes on each function But still the same nothing changes Please help me if you have any ideas Thanks "
74028132,"Configure serverless.yml to have different settings based on Table name","https://stackoverflow.com/questions/74028132/configure-serverless-yml-to-have-different-settings-based-on-table-name","{amazon-dynamodb,serverless,serverless-framework}","2022-10-11 12:25:08+03","2024-05-17 05:31:40.837782+03","I am using AWS Lambdas enabled by Serverless framework with DynamoDB as my primary DB Now out table nomenclature is dependent on the stage to which we deploy our functions to For example for prod prodprimary for test testprimary for local localprimary In the table we also have 45 GSIs For our production table we want to use DynamoDB OnDemand But for my testing table on which only I am testing I would rather like to use ProvisionedCapacity setting to save unnecessary testing costs Right now my table config looks like this This works fine when I need to deploy to prod stage However I have to manually replace BillingMode with And also add this under all the mentioned GSIs Is there a way to automate this"
73985623,"Package files into specific folder of application bundle when deploying to AWS Lambda via Serverless Framework","https://stackoverflow.com/questions/73985623/package-files-into-specific-folder-of-application-bundle-when-deploying-to-aws-l","{aws-lambda,serverless,serverless-framework,prisma}","2022-10-07 10:13:38+03","2024-05-17 05:31:33.920125+03","I am using the awsnodetypescript example of the Serverless Framework My goal is to integrate Prisma into it So far I have My project structure looks as follows Also heres the handler for the users function ts The problem arises because in order to instantiate PrismaClient the schema prisma file needs to be part of the application bundle Specifically it needs to be in vartasksrcfunctionsusers as indicated by the error message I already adjusted the package patterns option in my serverless ts file to look as follows This way the bundle that is uploaded to AWS Lambda includes the prisma directory in its root heres the serverless folder after I ran sls package I have unzipped users zip here so that you can see its contents I can also confirm that the deployed version of my AWS Lambda has the same folder structure How can I move the usersprismaschema prisma file into userssrcfunctionsusers using the patterns in my serverless ts file"
73989647,"Serverless framework - Use multiple runtimes (TS / Python)","https://stackoverflow.com/questions/73989647/serverless-framework-use-multiple-runtimes-ts-python","{python,amazon-web-services,aws-lambda,serverless-framework}","2022-10-07 15:45:09+03","2024-05-17 05:31:34.966166+03","I have spent quite a lot of time trying to find a workaround for this without success I have a big project which is working fine using the serverless framework We would like to add one lambda using python because we want to embed the AWS CLI in this one and I believe that is the only way to do so However my py file is never embedded in the packaged zip file Please find a part of my serverless yml below I purposefully simplified it but that is the main gesture Below the syncbucket py file all of it And below my dependencies extracted from my package json My lambda is created with correct runtime python 3 9 but when I test it I face the following error from cloudwatch Within my local serverless folder created after the sls deployment I try to unzip the package and the python file is not there There are my other functions as expected but not the syncbucket py Would you have any idea why and what am I missing Thank you "
74008254,"How to connect to rabbitMQ for Azure using Serverless framework","https://stackoverflow.com/questions/74008254/how-to-connect-to-rabbitmq-for-azure-using-serverless-framework","{azure,rabbitmq,azure-functions,serverless,serverless-framework}","2022-10-09 20:50:01+03","2024-05-17 05:31:36.037034+03","Is rabbitMQ for azure functions not supported in serverless framework There is a documentation corresponding to aws httpswww serverless comframeworkdocsprovidersawseventsrabbitmq but I did not find anything for Azure When I tried something like then was getting the error Binding rabbitMQTrigger not supported "
74008781,"How to build an AWS Lambda Docker Container to be used with Serverless framework with source code in separate directory","https://stackoverflow.com/questions/74008781/how-to-build-an-aws-lambda-docker-container-to-be-used-with-serverless-framework","{docker,aws-lambda,dockerfile,serverless,serverless-framework}","2022-10-09 22:24:46+03","2024-05-17 05:31:37.090494+03","I am wanting to use Serverless Framework to deploy a lambda that is built using a docker container image but the Dockerfile to build the image for the lambda is in a separate folder to the source code When I run sls deploy I get an error saying the Dockerfile cannot find the src folder where the code is in order to copy it over I understand that Dockerfiles access filesfolders that are outside it is cwd and to do this you need to run docker compose and context set correctly something like However I do not know how to do this incontext of serverless framework Does anyone know how to All examples are always with the Dockerfile in the same directory as the code itself I have a project structure like so My Dockerfile serverless yml"
74015707,"serverless framework: configuring a pre-existing lambda authenticator for HTTP API Gateway routes in serverless.yml","https://stackoverflow.com/questions/74015707/serverless-framework-configuring-a-pre-existing-lambda-authenticator-for-http-a","{frameworks,serverless,serverless-framework,api-gateway}","2022-10-10 13:28:01+03","2024-05-17 05:31:38.657992+03","I would like to add a preexisting lambda authenticator to the routes of a preexisting http api gateway using the serverless framework I have followed the docs whereby I have specified the authorizer details under provider httpApi lines 15 to 18 and I have referenced the authorizer on the route s below line 27 28 Though I get the error message Cannot setup authorizers for externally configured HTTP API What am I doing wrong here It must be for a HTTP API gateway and not a REST API gateway as thats what the current infra is configured as Thanks"
74024848,"how to connect a serverless client with a given AWS Lambda function","https://stackoverflow.com/questions/74024848/how-to-connect-a-serverless-client-with-a-given-aws-lambda-function","{aws-lambda,serverless-framework}","2022-10-11 08:03:45+03","2024-05-17 05:31:38.823137+03","I have a question about how to connect a serverless client with a given AWS Lambda function I am building a system that provides the developers with a cloudbased dev environment It provides the serverless dev environment built atop the AWS lambda dynamodb services Some developers ask me about how to use the serverless framework in the given environment For the companys security policy I cannot grant Adimin authority on the developers so that they find it difficult to perform the sls deploy cmd that requires CRUD authority in the IAM service I have tried connecting the serverless client with the aws lambda provided by my system without executing the deploy cmd But all failed It requires me to execute the sls deploy cmd before the deploy function cmd Is there any way to connect a serverless client with a given AWS Lambda function If there is a best practice in grating the minimized authority please give me a suggestion Thank you in advance "
74025347,"serverless how to change destination directory of the included package","https://stackoverflow.com/questions/74025347/serverless-how-to-change-destination-directory-of-the-included-package","{typescript,serverless-framework}","2022-10-11 08:44:38+03","2024-05-17 05:31:40.017785+03","I have a lambda function built using serverless framework I need to include some static files which are contained within the folder templates srctemplatessomefile hbs The serverless framework allows us to include these files using package include However the end result inside of build looks like this However i need it to be templates without src Is there some way to copy templates only"
74035195,"AWS API Gateway Responses via serverless framework","https://stackoverflow.com/questions/74035195/aws-api-gateway-responses-via-serverless-framework","{amazon-web-services,aws-api-gateway,serverless-framework}","2022-10-12 00:08:21+03","2024-05-17 05:31:41.428777+03","I would like to be able to configure API Gateway Responses via serverless framework This is what my serverless yml looks like Now I read somewhere that one can configure resources in a serverless file however by using CFN code I would need the ARN or the Ref of an already deployed API Gateway or declare the API Gateway with CFN code which I want to avoid Is there a way to configure these Gateway Responses not integration responses using the same api gateway that my serverless yml is deploying i e the one with name testapigw "
74303647,"How to deploy serverless file to AWS from bitbucket pipeline","https://stackoverflow.com/questions/74303647/how-to-deploy-serverless-file-to-aws-from-bitbucket-pipeline","{amazon-web-services,serverless-framework,bitbucket-pipelines}","2022-11-03 13:12:39+02","2024-05-17 05:31:44.319762+03","I am trying to deploy a serverless template using bitbucket pipeline I have provided the sls deploy command as such sls deploy stage environmentName cloudformationStackDynamoDB dynamodbEventStoreStackName componentName componentName partName partName eventBusName eventBusName region awsRegion exit But I get this error when the pipeline reaches the step to deploy the serverless yml file ErrorCannot resolve serverless yml service property is not accessible configured behind variables which cannot be resolved at this stage Below is the content of serverless yml I do not understand why the error says service property is not accessible because it is defined in the template file itself Any help would be appreciated Thanks "
74312759,"Parsing formdata from React using Serverless and API Gateway","https://stackoverflow.com/questions/74312759/parsing-formdata-from-react-using-serverless-and-api-gateway","{aws-lambda,aws-api-gateway,serverless,serverless-framework}","2022-11-04 05:56:28+02","2024-05-17 05:31:44.988183+03","I am trying to upload a file and send data from a React frontend to a S3 bucket using an API Gateway Lambda function setup using the Serverless framework and I have been struggling with it for the last couple of days From the frontend I am using axios and creating a formdata to send a post request to the API like the following Appending string attributes to the formdata feels off but the only way I could find to send data and an image at the same time was like the above Then to receive this data in the backend I have been using lambdamultipartparser like the following where the result console logs as I can then store the imageFile successfully in S3 and generate the URL Next I create an Item object with the S3 url and id and description to store in dynamoDB Everything works fine but when I open the S3 url the file is corrupted and just opens as a grey box instead of the actual image I uploaded This is how I am uploading the file using the s3 sdk These are the things I have tried but still do not have any success uploading the correct image to my S3 bucket I know that I could first try to send a request directly from React to S3 to upload the image using awssdk in react to get a preSignedURL and attach that URL and make a POST request to my API Gateway simply parse the event body without having to use a multipart form parser but I want to avoid sending multiple requests if needed and handle everything in the backend Any suggestions would be highly appreciated "
74314531,"Node JS Serverless Api running fine in offline mode but not when deployed to AWS Lambda","https://stackoverflow.com/questions/74314531/node-js-serverless-api-running-fine-in-offline-mode-but-not-when-deployed-to-aws","{javascript,node.js,json,aws-lambda,serverless-framework}","2022-11-04 09:07:05+02","2024-05-17 05:31:45.979724+03","I have written a code to stop and start the ec2 instances I am passing data through postman in json like this to the post api in node JS This is my code This code is working fine when i am doing sls offline and running the code locally in my localhost But when I deploy the code to lambda The code is running fine but it is not starting or stopping the instance I do not know what could possibly be the reason it is not giving any error also I do not know why it is returning the response without even executing the steps in between "
74325421,"When using pythonRequirements>dockerizePip: true , within codebuild, must I use ecr?","https://stackoverflow.com/questions/74325421/when-using-pythonrequirementsdockerizepip-true-within-codebuild-must-i-use","{python-3.x,docker,serverless-framework,aws-codebuild,amazon-ecr}","2022-11-05 05:46:17+02","2024-05-17 05:31:46.95573+03","in Python lambda using serverless with dockerizePip I am getting this message I know dockerizePip uses docker and it works fine in the local But when using it via pipeline the container it uses to build does not seem to have docker there Or Maybe it is there but not running I get this error message Should I use ECR when I use dockerizePip true Is there a way to not use ECR"
74327538,"Serverless Framework - reuse environment variables in github workflow","https://stackoverflow.com/questions/74327538/serverless-framework-reuse-environment-variables-in-github-workflow","{aws-lambda,continuous-integration,serverless-framework,continuous-deployment}","2022-11-05 12:05:13+02","2024-05-17 05:31:48.090643+03","I am configuring the github workflow to deploy a lambda application that uses the serverless framework but my nodejs project has many environment variables however in the serverless dashboard i already defined all of them but to build the project within the workflow Github i need the environment variables but i would not like to set them again within github secrets as I have already defined them once inside the serverless dashboard I would like to know if there is any way to reuse the variables that are inside serveless instead of setting it all over again within the Github environment"
74335452,"serverless deploy throws `spawn serverless ENOENT` using serverless compose","https://stackoverflow.com/questions/74335452/serverless-deploy-throws-spawn-serverless-enoent-using-serverless-compose","{node.js,typescript,serverless,serverless-framework,serverless-architecture}","2022-11-06 11:30:20+02","2024-05-17 05:31:49.096857+03","serverless deploy throws spawn serverless ENOENT Getting the below error when trying to deploy clientservice although before that all services are getting deployed Error spawn serverless ENOENT Using the below versions for serverless and serverless compose serverlesscompose ts Configuration Full command name with used flags If not applicable fill with NA serverless deploy stage sbx COMPLETE command output "
74349790,"Not able to access lambda function when invoked with headers","https://stackoverflow.com/questions/74349790/not-able-to-access-lambda-function-when-invoked-with-headers","{node.js,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2022-11-07 16:26:09+02","2024-05-17 05:31:50.260587+03","I am using serverless for creating and deploying my lambda functions I am using Node js HTTP API template from serverless I have created few lambda functions and deployed them using command sls deploy The functions were deployed successfully and I am able to query lambda function response using postman But when I want to invoke same lambda function through my React webapp using axios it is throwing me A CORS Error if I included any headers For ex I want to send Authorization token in header or Contenttype as json in header Any of this does not worked After this I have added following headers in my lambda function response After this in AWS API Gateway console I have configured CORS with wildcard origin and allowed All HTTP methods After deploying this setup It is still does not worked I have also tried tweaking my serverless yml file but my bad it did not worked either"
75097659,"How to disable apikey for local serverless development?","https://stackoverflow.com/questions/75097659/how-to-disable-apikey-for-local-serverless-development","{serverless,serverless-framework,aws-serverless}","2023-01-12 14:14:26+02","2024-05-17 05:32:17.776912+03","I created a simple api using serverless which is protected by an apikey when deployed via serverless deploy However for local development serverless offline I do not want to use an api key How can I disable this for local only This is my serverless yml Note I am aware that I could simply set private false when doing local development but this is quite tedious when there is a long list of functions "
74350371,"How to manage different Serverless (with AWS Lambda) environments (ie ""dev"" and ""prod"")","https://stackoverflow.com/questions/74350371/how-to-manage-different-serverless-with-aws-lambda-environments-ie-dev-and","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-11-07 17:12:13+02","2024-05-17 05:31:51.217233+03","I want to create a separate dev AWS Lambda with my Serverless service I have deployed my production prod environment and tried to then deploy a development dev environment so that I can trial features without affecting customer experience In order to deploy the dev environment I have Is this the conventional method to achieve this I cannot find anything in the documentation "
74357690,"Unable to define params variables in Serverless console","https://stackoverflow.com/questions/74357690/unable-to-define-params-variables-in-serverless-console","{serverless,serverless-framework}","2022-11-08 08:27:02+02","2024-05-17 05:31:52.051862+03","According to the Serverless documentation I should be able to define params within the dashboardconsole But when I navigate there the inputs are disabled I have tried following the instructions to update via CLI with serverless deploy paramdomainmyapp com paramkeyvalue The deploy runs successfully I get a Service deployed to message with no errors but nothing appears in my dashboard Likewise when I run a command to check whether there are any params stored serverless param list I get"
74387788,"What is this syntax: $[] - it’s referenced in Serverless Framework docs but not explained in the Variables section","https://stackoverflow.com/questions/74387788/what-is-this-syntax-it-s-referenced-in-serverless-framework-docs-but-not","{serverless-framework}","2022-11-10 10:52:09+02","2024-05-17 05:31:52.761857+03","There are several references using [ ] syntax in the serverlesspluginawsalerts docs Serverless Framework Plugins I understand about variables from the relevant docs Serverless Framework Variables But I cant find anything to describe what is happening in the below code snippet taken from the awsalerts plugin docs linked above "
74389281,"Set up CloudWatch email alert with Serverless Framwork for errors, invocations, etc","https://stackoverflow.com/questions/74389281/set-up-cloudwatch-email-alert-with-serverless-framwork-for-errors-invocations","{aws-lambda,amazon-cloudwatch,serverless-framework,amazon-sns}","2022-11-10 12:50:02+02","2024-05-17 05:31:53.722837+03","I am trying to set up email alerts for my Lambda errors I can update my yml file to create a new topic and this works OK I receive emails as expected But when I try to use an existing SNS Topic by following the SLS docs nothing seems to happen I have The deploy works fine but I do not get any emails when I trigger errors What do I need to do"
74402748,"Using Serverless Framework to create AWS Lambda Function.Event not working","https://stackoverflow.com/questions/74402748/using-serverless-framework-to-create-aws-lambda-function-event-not-working","{amazon-web-services,apache-kafka,aws-lambda,serverless-framework}","2022-11-11 12:49:10+02","2024-05-17 05:31:54.495644+03","I am trying out the Serverless Framework to deploy AWS Lambda to process Kafka Messages and write result to Database The trigger is Kafka Messages from a SelfManagedKafka cluster and I specify them in serverless yml When I deploy this serverless deploy on the AWS Console for Lambda there is no Trigger configured and no error no logs serverless deploy shows warning Configuration warning at functions hello events[0] unsupported function event I am following the documentation here httpswww serverless comframeworkdocsprovidersawseventskafka and do not understand what I am missing Any suggestions on wherewhat to look for"
74411836,"Error import module when invoking serverless lambda locally - python3.8","https://stackoverflow.com/questions/74411836/error-import-module-when-invoking-serverless-lambda-locally-python3-8","{python,aws-lambda,serverless-framework}","2022-11-12 09:38:59+02","2024-05-17 05:31:55.602017+03","I am using the serverless Framework to deploy AWS lambdas Repository structure I have the following config severless yml lambda py Running locally with serverless invoke local I get the following error sls invoke local function test p event json Any clue on why I am getting this Thanks When only calling the lambda function without importing the modult it works just fine "
74463455,"How to achieve one lambda function instance at once?","https://stackoverflow.com/questions/74463455/how-to-achieve-one-lambda-function-instance-at-once","{amazon-web-services,aws-lambda,amazon-dynamodb,serverless-framework}","2022-11-16 15:49:36+02","2024-05-17 05:31:57.258219+03","I need to update quantity attribute of a row in dynamo using a lambda function if two request comes at same time they will get same quantity After update the updated will not be the expected value Let us say current qty is 4 If two update come with qty 2 at same time then updated value 42 for each request But what the expected qty should be 422 I could not find out any solution for this "
74475122,"Failed to load API definition for swagger URL generated using serverless-auto-swagger plugin","https://stackoverflow.com/questions/74475122/failed-to-load-api-definition-for-swagger-url-generated-using-serverless-auto-sw","{swagger,swagger-ui,serverless,serverless-framework,swagger-2.0}","2022-11-17 12:01:39+02","2024-05-17 05:31:57.785251+03","I am using the serverlessautoswagger plugin to generate a swagger document for my serverless express API written in typescript As per instructions I installed the the dependency with npm install D serverlessautoswagger Then I added serverlessautoswagger to the plugins in my serverless file After I start my offline server using serverless offline start when I visit the swagger URL I see the error Failed to load API definition Fetch error Not Found httplocalhost3000devswagger json"
74475776,"SQS not sending message to Eventbridge (Serverless framework)","https://stackoverflow.com/questions/74475776/sqs-not-sending-message-to-eventbridge-serverless-framework","{aws-lambda,amazon-sqs,serverless,serverless-framework,aws-event-bridge}","2022-11-17 12:51:07+02","2024-05-17 05:31:58.609722+03","I am send messages to SQS which is supposed to send them to eventbridge that is going to trigger lambda I can see messages received in SQS but somehow it is not sending them to Eventbridge This is my serverless config Is there anything I am missing"
74499839,"Can I validate the length of something by middy?","https://stackoverflow.com/questions/74499839/can-i-validate-the-length-of-something-by-middy","{amazon-web-services,aws-lambda,serverless-framework,middy}","2022-11-19 12:05:49+02","2024-05-17 05:31:59.5086+03","I am writing AWS Lambda code on Serverless Framework I wanted request body validator like expressvalidator so I found middy But it looks impossible to validate the length of something I want to force the length of year to 4 for example 2023 o 23 x As you guess length property cannot be understood I do not want to add some codes to baseHandler function to validate the length Thank you in advance "
74506308,"Is it safe to store secrets in serverless.yml?","https://stackoverflow.com/questions/74506308/is-it-safe-to-store-secrets-in-serverless-yml","{serverless,serverless-framework,aws-serverless,aws-secrets-manager}","2022-11-20 07:20:46+02","2024-05-17 05:32:00.631903+03","I am working with aws free tier account and amazon charges us for custom secrets I am creating a lambda function that needs access to secrets I came across this post on how to manage secrets in serverless Can someone please help me understand if approach 1 of storing it in local is safe Further is it safe to just put them in yml file if you are not going to check it in anywhere "
74518121,"Add environment variable in lambda function from serverless framework","https://stackoverflow.com/questions/74518121/add-environment-variable-in-lambda-function-from-serverless-framework","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2022-11-21 11:20:36+02","2024-05-17 05:32:01.901964+03","Hi there i am new in serverless framework i want to add environment variable into lambda function but condition is environment variable value will be different based on staging for Eg is staging is dev then environment variable value will be this is dev value if environment variable is prod then value should be this is prod value this is my yml file Here i want to change password environment variable value based on stage can anyone help how do i set condition for it something if else in environment variable"
74561049,"Using Lambda with Nodejs Count Some queries in Dynamo DB","https://stackoverflow.com/questions/74561049/using-lambda-with-nodejs-count-some-queries-in-dynamo-db","{javascript,aws-lambda,amazon-dynamodb,serverless-framework,aws-sdk-nodejs}","2022-11-24 12:46:41+02","2024-05-17 05:32:02.690912+03","After using the below to pull data from Dynamo db sucessfully Instead of return response Item i just want to return the count instead I tried doing count pullone sessionid but not sure if that is even a valid method Please assist"
74576246,"Difference between Serverless Framework and CloudFormation?","https://stackoverflow.com/questions/74576246/difference-between-serverless-framework-and-cloudformation","{amazon-web-services,aws-cloudformation,serverless,serverless-framework}","2022-11-25 17:34:44+02","2024-05-17 05:32:03.806674+03","I am new in Serverless Framework and CloudFormation my however i used serverless little bit for deploying Lambda function and somewhere i read that Serverless using CloudFormation inside so My question is Can i do all things from Serverless Framework which is possible from CloudFormation Actually my Boss gave me task so create CloudFormation code to Build APIGateWay code pipeline code build s3 and many other things from cloudFormation code so i am wonder is it possible to all things from serverless Framework itself Thank you in Advance"
74577243,"serverless AWS deployment fails because of esbuild","https://stackoverflow.com/questions/74577243/serverless-aws-deployment-fails-because-of-esbuild","{serverless-framework}","2022-11-25 19:35:35+02","2024-05-17 05:32:04.890717+03","I am using a Macbook M1 for development When I try to deploy my serverless application to AWS I am running into this error I am using the awsnodejstypescript template Why is this happening"
74592647,"Using Lambda for data processing - Sagemaker","https://stackoverflow.com/questions/74592647/using-lambda-for-data-processing-sagemaker","{amazon-web-services,aws-lambda,serverless-framework,amazon-sagemaker}","2022-11-27 18:21:52+02","2024-05-17 05:32:06.024238+03","I have created a docker image which has Entrypoint as processing py This script is taking data from optmlprocessinginput and after processing putting it optmlprocessingoutput folder For processing the data I should put the file in optmlprocessinginput from s3 and then pick processed file from optmlprocessingoutput into S3 Following script in sagemaker is doing it properly Could someone please guide how this can be executed with lambda function It is not recognizing sagemaker package second there is a challenge in placing file before the script execution and pick processed files I am trying codepipeline to automate this operation However got no success on that Not sure how to put image from S3 into folders internally used by script I need to know how S3 processing step which pick data from optmlprocessinginput"
74606640,"serverless framework command not working: ""sls deploy -v""","https://stackoverflow.com/questions/74606640/serverless-framework-command-not-working-sls-deploy-v","{amazon-web-services,aws-lambda,deployment,serverless-framework,aws-code-deploy}","2022-11-28 21:27:05+02","2024-05-17 05:32:07.079484+03","I am working on a project that involves the usage of Serverless Framwork and AWS Although I am able to deploy my project successfully using the sls deploy command but the sls deploy v command fails to show me the deployment changes in my project Instead it shows me something like this I want to see the changes in the deployment using the v flag in the command How can I achieve this"
74615308,"Do serverless functions install modules every time they are called?","https://stackoverflow.com/questions/74615308/do-serverless-functions-install-modules-every-time-they-are-called","{serverless,serverless-framework,serverless-architecture,cold-start}","2022-11-29 14:03:03+02","2024-05-17 05:32:08.318874+03","Do serverless functions install modules every time they are called I am trying to understand how serverless functions really work I understand that serverfull is basically a computer that executes code and that the server code runs on it 247 unless it is stopped for some reason On the other hand I understand serverless code just runs when it is called Where is this code stored When I call a function in a serverless application does it install the modules for example from npm everytime I call the function Is this what causes coldstart delays I understand that serverfull is like my computer running code How can I describe serverless using the same analogy My Questions"
74628409,"How to use typeDORM with NestJS and AWS Lambda","https://stackoverflow.com/questions/74628409/how-to-use-typedorm-with-nestjs-and-aws-lambda","{typescript,aws-lambda,amazon-dynamodb,nestjs,serverless-framework}","2022-11-30 13:14:29+02","2024-05-17 05:32:09.140684+03","I am trying to build a NestJS project and use typeDORM to save and receive items from DynamoDB Ultimately the app should be deployed as a AWS Lambda For local testing I am using serverless offline Here is a project to demonstrate my problem httpsgithub commkotekserverlesstypedorm What is the Problem If the app is started with serverless offline start or serverless invoke local f main the Lambda crashes I followed the instructions on typeDORMs github and called createConnection in main ts However if getEntityManager now is executed by app service ts s constructor the output is as follows I also tried a Singletonpattern approach where the entityManager is initialized and then exported in main ts This led to following output Output with serverless offline start Output with serverless invoke local f main main ts I tried importing reflectmetadata in index ts main ts and in both at the same time resulting in the same output Anyone faced this behavior before Thanks in advance for your help"
75054129,"How to stop 'CORS missing allow origin error' when deploying Express application using Serverless Component?","https://stackoverflow.com/questions/75054129/how-to-stop-cors-missing-allow-origin-error-when-deploying-express-application","{express,cors,aws-api-gateway,serverless-framework}","2023-01-09 07:14:35+02","2024-05-17 05:32:17.033262+03","When my React frontend calls my Typescript Express REST API hosted on API Gateway using Serverless Components I get the following error My app ts CORS config is like this for reference here s my whole file When I inspect the request locally there is an OPTIONS request that returns first that includes the Allow Access Origin header but not when I deploy it It is working correctly locally "
74634151,"AWS SQS FIFO message doesn't seem to be retrying","https://stackoverflow.com/questions/74634151/aws-sqs-fifo-message-doesnt-seem-to-be-retrying","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-sqs-fifo}","2022-11-30 21:06:02+02","2024-05-17 05:32:09.915164+03","I have set up a function to hit an API endpoint for a newly created entity that is not immediately available If the endpoint returns a status of pending the function throws an error If the endpoint returns a status of active the function then deletes the SQS message and triggers several other microservices to do their things using SNS The SQS queue that triggers the function has a visibility timeout of 2 minutes and the function itself has a 1 minute timeout What I am expecting to happen is that if the endpoint returns a pending status and the function throws an error then after the 2 minute visibility timeout the message would trigger the function again This should happen every 2 minutes until the api call returns an active status and the message is deleted or until the message retention period is surpassed currently 1 hour This seemed like a nice serverless way to poll my newly created entity to check if it was ready for other postprocessing What is actually happening after adding a message to the SQS queue is that the CloudWatch logs are showing that the function is throwing an error like I would expect but the function is only being triggered one time I cannot tell if the message is just not not visible for some reason or if it somehow was deleted I do not know I am am new to using SQS for a Lambda trigger am I thinking about this wrong"
74640748,"Circle Ci, serverless-framework, serverless-python-requirements","https://stackoverflow.com/questions/74640748/circle-ci-serverless-framework-serverless-python-requirements","{aws-cli,serverless-framework,circleci,cicd}","2022-12-01 10:54:49+02","2024-05-17 05:32:11.136883+03","I am trying to upload my Python project to an AWS account via circleci CICD but when I deploy the code it always stops and remove docker docker run rm v in logs I am using ORBs like awscli circleci [email protected] serverlessframework circleci [email protected] any help this is circleciconfig yml And serverless yml file is this is the provided error log"
74639793,"Lambda Snapstart with Serverless framework","https://stackoverflow.com/questions/74639793/lambda-snapstart-with-serverless-framework","{amazon-web-services,aws-lambda,serverless-framework}","2022-12-01 09:42:01+02","2024-05-17 05:32:11.215523+03","So AWS announced Lambda Snapstart very recently I tried to give it a go since my application has cold start time 4s I was able to do this by adding the following under resources Now when I actually go to the said lambda this is what I see So far so good But the issue is that when I check my Cloudwatch Logs there is no trace of Restore Time instead the good old Init Duration for cold starts which means Snapstart is not working properly I dug deeper so Snapstart only works for versioned ARNs But the thing is Serverless already claims that By default the framework creates function versions for every deploy And on checking the logs I see that the logStreams have the prefix 20221130[LATEST] When I check the Versions tab in console I see version number 240 So I would expect that 240 is the latest version of this lambda function and this is the function version being invoked everytime However clicking on the version number open a lambda function with 240 attached to its ARN and testing that function with Snapstart works perfectly fine So I am confused if the LATEST version and version number 240 in my case are these different"
74724422,"How do I reference a variable inside a ssm in Serverless","https://stackoverflow.com/questions/74724422/how-do-i-reference-a-variable-inside-a-ssm-in-serverless","{amazon-web-services,serverless,serverless-framework,aws-ssm}","2022-12-08 00:58:40+02","2024-05-17 05:32:12.096576+03","Recently I updated a serverless environment from an extremely outdated version to the latest and have run into many issues one of which I do not seem to understand why it is not working Previously we reference AWS parameter store variable with ssm references like so Now I have updated our use of the opt to make use of env so it looks like But I get the following error Cannot resolve variable at provider environment SQS_URL Value not found at ssm source We used to make extensive use all over the place of this to set environment variables on lambdas so that we could pass values to them for them to use at run time but serverless does not seem to like this anymore but looking at the documentation it seems like it should work Can anyone help me resolve this please Thank you "
74726260,"Is there a way to define a requirements file for each lambda function in a serverless.yml in an AWS-Python environment?","https://stackoverflow.com/questions/74726260/is-there-a-way-to-define-a-requirements-file-for-each-lambda-function-in-a-serve","{python,amazon-web-services,serverless,serverless-framework}","2022-12-08 06:21:22+02","2024-05-17 05:32:13.099638+03","We can do it at entire project level like ` but I needed to do something like I wanted to check if it is possible and if yes then how good of a solution this is My Primary objective is to reduce the lambda size as much as possible Whichever lambda does not need a library should not get it packaged To reduce the stack size I have separated some of the functions requiring huge libraries into different lambdas and I am calling them internally via APIBoto calls Help is much appreciated "
74727619,"Serverless: Cannot generate IAM policy statement for Task state","https://stackoverflow.com/questions/74727619/serverless-cannot-generate-iam-policy-statement-for-task-state","{amazon-web-services,amazon-iam,serverless,serverless-framework,aws-step-functions}","2022-12-08 08:46:56+02","2024-05-17 05:32:13.935932+03","My serverless template is as follows When I ran sls deploy got the following error Help me to fix the above two errors"
74728661,"can we do something like Terraform Plan in Serverless?","https://stackoverflow.com/questions/74728661/can-we-do-something-like-terraform-plan-in-serverless","{amazon-web-services,aws-lambda,serverless,serverless-framework,cicd}","2022-12-08 10:15:41+02","2024-05-17 05:32:15.019606+03","when I change something in my lambda repo and redeploy the lambda with serverless framework it make changes I want to know the changes that going to happen prior to deploying the lambda I tried serverless changeset plugin but it does not show a comparison between my current lambda configuration and the changes going to happen by deploying the lambda after making some changes in my lambda repo [e g the lambda name tags etc ]"
74737868,"Api Gateway connection to Event Bridge giving error. Eventbridge-PutEvents not supported","https://stackoverflow.com/questions/74737868/api-gateway-connection-to-event-bridge-giving-error-eventbridge-putevents-not-s","{amazon-web-services,aws-cloudformation,serverless,serverless-framework,aws-event-bridge}","2022-12-09 00:53:48+02","2024-05-17 05:32:15.948423+03","I am trying to create an event bridge connection via Serverless framework but getting EventBridgePutEvents is not supported error I am getting this error with above statement Error CREATE_FAILED EventBridgeIntegration AWSApiGatewayV2Integration Operation EventBridgePutEvents is not supported Service AmazonApiGatewayV2 Status Code 400 Error Code BadRequestException"
75097872,"How to avoid dev path when deploying to AWS with serverless locally?","https://stackoverflow.com/questions/75097872/how-to-avoid-dev-path-when-deploying-to-aws-with-serverless-locally","{serverless,serverless-framework,aws-serverless}","2023-01-12 14:30:23+02","2024-05-17 05:32:18.737294+03","When I deploy my api to AWS with serverless serverless deploy then there is always the stage added to the api URLs for example foo executeapi eucentral1 amazonaws com dev v1myfunc Same thing happens when I run this locally serverless offline localhost dev v1myfunc This is fine when deploying to AWS but for localhost I do not want this Question Is there a way to remove the dev part in the url for localhost only so that the url looks like this localhostv1myfunc I already tried to remove the stage setting in serverless yml but the default seems to be dev so it does not matter if I specify the stage there or not "
75101030,"How to run migrations on a private RDS instance using Prisma?","https://stackoverflow.com/questions/75101030/how-to-run-migrations-on-a-private-rds-instance-using-prisma","{database,aws-lambda,amazon-rds,serverless-framework,prisma}","2023-01-12 18:50:12+02","2024-05-17 05:32:19.817393+03","I have a Node project which is using terraform for provisioning and resource creation while serverless is used to deploy the functions I am using Prisma as the ORM with graphql My problem is that I have a private RDS instance which is created through terraform and provisioned Now I want to run the npx prisma migrate command but i am not sure where do I run it as it is a private RDS instance and I cannot run the migration command before terraform creates the resource I have tried codebuild as a build solution but unfortunately that requires a NAT gateway which I cannot use as I need to work with public subnets "
75103380,"Sending blob image from Angular to ExpressJS","https://stackoverflow.com/questions/75103380/sending-blob-image-from-angular-to-expressjs","{node.js,angular,blob,serverless-framework,aws-serverless}","2023-01-12 23:33:14+02","2024-05-17 05:32:20.921377+03","I am trying to send a blob image but I am getting Error Unexpected end of form using multer with Serverless Framework From console log My understanding is I have to append it to FormData before sending it in the body but I have not been able to get backend to accept file without crashing backend app ts From my understanding with serverless framework I have to install npm i serverlessapigwbinary and add to the custom section of the serverless template yaml file The end goal is not to save to storage like S3 but to send the image to discord What am I missing I appreciate any help "
75113327,"Using Singleton Design Pattern for AWS Library","https://stackoverflow.com/questions/75113327/using-singleton-design-pattern-for-aws-library","{amazon-web-services,aws-lambda,serverless-framework,aws-lambda-layers}","2023-01-13 18:45:44+02","2024-05-17 05:32:21.852556+03","I am creating an AWS Client Library for myself to use in AWS Lambda Storing them in Lambda Layers AWS DynamoDBAdapter js APIGatewayWebsocketAdapter js S3Adapter js SecretManagerAdapter js And using them in my lambda functions Is creating these classes as Singleton would be a good idea for optimization So that I do not initialize in the constructor multiple clients for the aws services using the aws sdk v3 or will it cause throttling of a process at high requests Tried searching online if there was any answer to that "
75143941,"How to get secret from Google Secrets Manager using Serverless?","https://stackoverflow.com/questions/75143941/how-to-get-secret-from-google-secrets-manager-using-serverless","{google-cloud-functions,serverless,serverless-framework,google-secret-manager}","2023-01-17 08:55:51+02","2024-05-17 05:32:22.795363+03","Using Serverless and AWS it is possible to load secrets from AWS SSM using Is there something equivalent available for Google Secrets Manager Tried looking into Serverless documentation but could not find anything "
75174454,"AWS Lambda can't access mongoDB","https://stackoverflow.com/questions/75174454/aws-lambda-cant-access-mongodb","{node.js,mongodb,mongoose,aws-lambda,serverless-framework}","2023-01-19 15:18:43+02","2024-05-17 05:32:23.600367+03","I am deploying simple express CRUD API with serverless framework It works fine until it comes to accessing databese it returns messageInternal Server Error But when running locally it works as intended Is there a problem with the way I am connecting to mongoDB"
75179464,"How to override default AWS EventBridge event name when deploying with Serverless Framework?","https://stackoverflow.com/questions/75179464/how-to-override-default-aws-eventbridge-event-name-when-deploying-with-serverles","{amazon-web-services,aws-lambda,serverless-framework,aws-event-bridge}","2023-01-20 00:00:10+02","2024-05-17 05:32:24.744181+03","I am deploying a Lambda function via Serverless Framework and the function is going to have multiple EventBridge events schedules tied to it For this reason I would like to create a custom name for each schedule to easily differentiate them from each other The problem is that adding in a name propery to the event objects does not seem to be doing anything because the events are still being deployed with default names I have setup my Serverless file exactly how they have it setup in the documentation Link to documentation Instead of my EventBridge rule being deployed as eventbridgecustomname it is deployed as myapprule1 myapprule2 etc "
75188028,"dangerouslySetInnerHTML getting data from S3 bucket object in Serverless React","https://stackoverflow.com/questions/75188028/dangerouslysetinnerhtml-getting-data-from-s3-bucket-object-in-serverless-react","{javascript,reactjs,serverless-framework,aws-serverless}","2023-01-20 18:25:54+02","2024-05-17 05:32:25.706919+03","My goal is to read an HTML document from an S3 Bucket and display it in the browser using Serverless React The document contains HTML that should be rendered in the browser Previous research seems to show that I need to use dangerouslySetInnerHTML so I am trying that React code in App tsx If I put createPageBodyTest instead of createPageBody I do not get any error in VSCode but as the code is above I see this with the mouseover error displayed I am guessing it is because if have an async function If I ignore that and deploy it anyway the server side refers to this url httpsreactjs orgdocserrordecoder htmlinvariant61"
75428372,"Accessing input to step function to then use as message for SNS","https://stackoverflow.com/questions/75428372/accessing-input-to-step-function-to-then-use-as-message-for-sns","{amazon-web-services,serverless-framework,aws-step-functions,serverless-framework-step-functions}","2023-02-12 16:14:01+02","2024-05-17 05:32:43.956325+03","I am using the serverless framework to build a step function which receives input and then uses this input to send a message via SNS How do I pass the input to the message field Here is my definition and attempt"
75438699,"How to split a serverless configuration file?","https://stackoverflow.com/questions/75438699/how-to-split-a-serverless-configuration-file","{serverless,serverless-framework}","2023-02-13 16:33:14+02","2024-05-17 05:32:44.973361+03","I am trying to split my serverless configuration file serverless yml into multiple files using the file syntax I have a provider file configserverlessprovider yml with the following content And in my serverless yml I have used it in the following way However when I run serverless deploy I get the following error Please help me to understand how to properly include other files in my serverless configuration NOTE I have also tried with this config without success provider yml serverless yml"
75190266,"Serverless React - getting HTML from S3 Bucket - how to call async from sync","https://stackoverflow.com/questions/75190266/serverless-react-getting-html-from-s3-bucket-how-to-call-async-from-sync","{javascript,reactjs,amazon-s3,async-await,serverless-framework}","2023-01-20 23:39:33+02","2024-05-17 05:32:26.093322+03","Based on this question I posted earlier today I have added some logging and narrow in that the problem is with the s3 GetObject NOTE I have seen about 6 different ways to do the S3 get object and have tried a few of them My mind is mush now The current one I am using is based on this httpsblog tomasztarnowski comhowtofetchandupdates3fileswithawslambdaserverlessframeworkandtypescript But I added the trycatch around it I think now this better describes my problem s3 getObject promise never returns anything I am exploring all the options there But since I am running with Serverless and React any ideas specific to that would be greatly appreciated This is my current code I basically took the demo from ServerlessReact running on AWS Lambda and am I am just trying to load some HTML from S3 and show in the browser web page I am trying to use React state to set the value on the web page to the value from S3 based on dangerouslySetInnerHTML getting data from S3 bucket object in Serverless React I have defined this in my serverless yml file Based on what I see in the log see in yellow in picture below I think await promise is the problem It does not seem to be waiting If I am getting security error I want to log that How do you call an async routine from a sync routine I tried an approach from this page to wrap my call in a nameless async function This is what the CloudWatch log shows from the execution of the Lambda service None of the falling logs show up there Some of my previous tests before I put the nameless async around the call to createPageBody have been showing h1Blog goes here in the browser the default value for the state But the above code shows nothing in the browser "
75193068,"Load environment variables when running locally via serverless offline","https://stackoverflow.com/questions/75193068/load-environment-variables-when-running-locally-via-serverless-offline","{aws-cloudformation,serverless,serverless-framework,serverless-offline}","2023-01-21 11:47:20+02","2024-05-17 05:32:26.927298+03","I want to load env variables from env file when running locally So heres my serverless yaml file You see it sets a userpool id that gets created in the resources section as an environment variable to a lambda This works perfectly fine when deployed as expected However when I try to run it locally via serverlessoffline no matter how I set the env variables via dotenv or manually it seems to get overriden by serverless in this case all I see is [object object] Other workflows that I see load all env variables from files like below But would not this require us to have variables of all stages stored locally as files I was hoping to store only the dev version locally and have all the remaining fetched from the serverless file itself automatically via Ref like shown at the beginning So how do I prevent serverless from populatingpolluting my env variables when I run locally while sticking to the first format Or are there other better ways to handle this"
75219463,"Serverless Framework not getting localfiles","https://stackoverflow.com/questions/75219463/serverless-framework-not-getting-localfiles","{aws-glue,serverless-framework}","2023-01-24 09:18:11+02","2024-05-17 05:32:27.671483+03","I got a problem regarding Serverless Framework i want to create a glue job But when creating resource i can only choose a s3 path Why cant i choose a local path in my repository is this a limitation inside Serverless or am i setting up things incorrectly Anybody got a tip for how to solve this I know that serverlessglue plugin exist but it is not implemented in a way that i can use it correctly Here is the Glue example the Glue_Jobsmyscript py dont work for me This is a local path inside my folders of the repository"
75223989,"Cron job set up in local timezone gets incorrectly converted to UTC (using Serverless Local Schedule)","https://stackoverflow.com/questions/75223989/cron-job-set-up-in-local-timezone-gets-incorrectly-converted-to-utc-using-serve","{aws-lambda,serverless-framework}","2023-01-24 15:52:46+02","2024-05-17 05:32:28.744434+03","I have a schedule for job set up as follows using serverlesslocalschedule It is supposed to run at 0001 on the 20th day of each month However the schedule expression for the trigger that actually appears in AWS console looks like this Time difference is calculated correctly it is a 9hour difference but change of day is not taken into account it should be The job did run a day later than supposed to What might be the cause of this issue"
75230757,"AWS Lambda failing with run error ""ENOENT: no such file or directory, open '/var/task/bridge.js'""","https://stackoverflow.com/questions/75230757/aws-lambda-failing-with-run-error-enoent-no-such-file-or-directory-open-var","{node.js,amazon-web-services,aws-lambda,serverless-framework}","2023-01-25 07:21:17+02","2024-05-17 05:32:29.350456+03","I have a Node js 12 x AWS Lambda that is configured in Serverless Framework to fire when a JSON file is dropped into a specific S3 bucket When a file is dropped CloudWatch shows the Lambda invocation failing immediately with the following error I believe it is failing even before entering my Lambda code because I have some early log statements and these are not appearing in CloudWatch And the project does not use Webpack so I assume this reference in the stack trace is coming from a dependency Has anyone seen this error before in particular the reference to vartaskbridge js which I cannot see in my project"
75240278,"How to pass a list as an environment variable to an AWS Lambda function from a JSON config file?","https://stackoverflow.com/questions/75240278/how-to-pass-a-list-as-an-environment-variable-to-an-aws-lambda-function-from-a-j","{json,amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2023-01-25 21:56:12+02","2024-05-17 05:32:30.289066+03","I have a JSON file that is going to contain a number of different lists per client that I am deploying for These lists are going to serve as container overrides for an ECS task that my Lambda function will be invoking The JSON config file would look something like this And my serverless yml would look something like this Which results in the following error I have tried using CloudFormation intrinsic functions such as FnJoin and FnToJsonString These both threw an error when trying to run locally using sls invoke local the errors were the same as the above After some digging it seems that these functions are not compatible with the serverless environment property The only thing that has worked so far is storing the list as a string in a env file but that is not really ideal since these configs could take a number of different environment objects Is there any way to get this to work with the setup that I have going"
75263232,"Are Bref websocket handlers kept alive?","https://stackoverflow.com/questions/75263232/are-bref-websocket-handlers-kept-alive","{aws-lambda,websocket,serverless-framework,bref}","2023-01-27 20:51:56+02","2024-05-17 05:32:31.399469+03","sls documentation says Websockets make it possible to add support for a bidirectional communication channel between clients and servers Connection channels are kept alive and are reused to exchange messages backandforth That is great Looking at the bref documentation however this is not evident at all Is it possible for the connect handler to write data somewhere tmp APCu extension etc etc which later handlers could read Without websocket the answer is no because that is how AWS Lambda work "
78138671,"Dockerized Node API with Serverless Framework doesn't work","https://stackoverflow.com/questions/78138671/dockerized-node-api-with-serverless-framework-doesnt-work","{node.js,docker,aws-lambda,serverless,serverless-framework}","2024-03-11 06:05:49+02","2024-05-17 05:34:54.622223+03","I wanted to setup a simple dockerized API with Serverless Framework I do something wrong because CloudWatch is throwing me Runtime InvalidEntrypoint error once I access the Lambda function URL My commands I used are Both successful Error app js Dockerfile serverless yml Making the API runnable accessable "
75292317,"Django application running on top of Serverless + Lambda + API Gateway HTTP API is rewriting links to be prefixed with default","https://stackoverflow.com/questions/75292317/django-application-running-on-top-of-serverless-lambda-api-gateway-http-api","{django,amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2023-01-31 03:03:44+02","2024-05-17 05:32:31.862675+03","My Django Application Largely REST Framework based is currently producing URLs on the admin page that do not resolve The expected result is that the Django Admins login prompt submits the form with a POST to adminlogin The resultant URL passed by as the form submission URL by Django is defaultadminlogin and that returns a 404 with the even more obtuse defaultdefaultadminlogin I am presuming I have some sort of misconfiguration in either my Django configuration or serverless yml As per the following serverless yml I am using API Gateway V2 Django through WSGI and Lambda functions My URLs are pretty standard My configuration is even more standard As for the resultant error message Any help or ideas would be greatly appreciated I have tried modifying the path structure of the serverless yml and have been trawling through the Django source code for any hints to no avail Naturally I would just like Django admin to work As far as the rest of the app it works fine as the API itself is not self referential Django just is not returning the correct path To put it in brief Django thinks that all of my routes are prefixed by default they are not I am looking for either a solution to force the path to sent by Django to be or a fix for my Serverless configuration to mitigate this issue "
75297437,"How can I get rid of the ""Warning: Invalid configuration encountered"" in serverless.yml?","https://stackoverflow.com/questions/75297437/how-can-i-get-rid-of-the-warning-invalid-configuration-encountered-in-serverl","{node.js,serverless-framework,aws-serverless}","2023-01-31 12:50:36+02","2024-05-17 05:32:32.808231+03","Currently I am trying to breakdown my serverless service into multiple services to get over the cloudFormation resource limit My current project structure is as follows In my workers service I am trying to reference the env files in the root folder using variables My issue is when i use the following syntax envSLS_AWS_REGION I get a but when I use the following syntax envSLS_AWS_REGION It works but I get a warning How can I get rid of this error Am I even using the correct syntax Thanks"
75302391,"Serverless Lambda in Ca-central-1 region","https://stackoverflow.com/questions/75302391/serverless-lambda-in-ca-central-1-region","{amazon-web-services,aws-lambda,serverless-framework}","2023-01-31 19:45:25+02","2024-05-17 05:32:33.718919+03","I am trying to setup serverless framework for Lambda function in AWS CACentral1 Region and while trying to create the CloudFormation I am having issues with the ReporterFunction since it is not reachable from my region Do you have any ideas how can I fix this issue and import the Reporter function Much thanks "
75310700,"How to fix Serverless error ""Invalid API Key identifier specified"" when using 2 stages with api keys on AWS?","https://stackoverflow.com/questions/75310700/how-to-fix-serverless-error-invalid-api-key-identifier-specified-when-using-2","{amazon-web-services,aws-api-gateway,serverless,serverless-framework,aws-serverless}","2023-02-01 13:13:10+02","2024-05-17 05:32:34.648562+03","I am using the following configuration to deploy a couple lambda functions to different stages prod and dev on AWS Both stages should be protected with an api key which is stored in SSM serverless yml My deployment scripts look like this package json The problem When I deploy one of the stages then everything works fine But if I deploy the other one afterwards I always get the following error in this case I deployed prod first and then dev Looking into AWS console I noticed that the generated api key has the same id for both stacks dev and prod So I am guessing this is where the problem is Both stacks sharing the same api key instance So I tried to fix this by setting different api key names for each stage But this does not solve the problem as I am still getting this error Question How do I have to change my serverless yml config to fix the issue"
75326640,"esbuild fails due to missing android-arm when running on ubuntu x86-64 on GitHub actions","https://stackoverflow.com/questions/75326640/esbuild-fails-due-to-missing-android-arm-when-running-on-ubuntu-x86-64-on-github","{node.js,npm,serverless-framework,esbuild}","2023-02-02 17:09:17+02","2024-05-17 05:32:35.807815+03","I have a node 14 AWS lambda function using serverlessbundle for packaging which in turn uses esbuild Installing it locally works fine both with npm install and npm ci also when deleting node_modules This code is supposed to run on AWS Lambda standard x8664 containers To deploy it I have set up a pretty straight forward GitHub actions workflow However the install step fails immediately with I do not understand what on Earth is going on here Sure packagelock json could be influenced by the fact that it was produced on my Mac M1 as it has an esbuilddarwinarm64 entry but The only threads I found about this are slightly similar issues like this and the advice is then to upgrade to Node 16 without any explanation as to why it would help I could do that but it would make my environment very messy having different nvm configs for different components within my solution so I would rather not especially not when I do not understand why it would help I did see that my packagelock json contains this However esbuild s package json lists these as optionalDependencies "
75340442,"Serverless authorizer deleted when removing separate service","https://stackoverflow.com/questions/75340442/serverless-authorizer-deleted-when-removing-separate-service","{node.js,amazon-web-services,serverless-framework}","2023-02-03 19:53:28+02","2024-05-17 05:32:36.782349+03","Good afternoon all I have been running into a weird issue with the serverless cli tool over the last week My team and I have an authorizer that we deploy separately from our APIs When we deploy our APIs we attach said authorizer to the API gateway All is good and well there But our issue comes when we go to clean up a test API When we run serverless remove on an API that uses the authorizer the authorizer itself also seems to get removed cloudformation stack and all I am very confused as to why removing one of our APIs seems to remove a separately deployed authorizer I was wondering if anyone could enlighten me as to a reason this may be happening I do not believe I saw anything in the documentation if this is an intended feature or not We have been doing work on feature branches for our APIs and any time someone removes their test instance from our AWS account it also removed the authorizer I have been under the impression that running serverless remove in a given project only removes the resources that the project itself spun up not other things that it interfaces with as well Thanks in advance "
75439910,"Can you move an S3 bucket trigger from a previous function to a new function in Serverless Framework?","https://stackoverflow.com/questions/75439910/can-you-move-an-s3-bucket-trigger-from-a-previous-function-to-a-new-function-in","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework,infrastructure-as-code}","2023-02-13 18:31:53+02","2024-05-17 05:32:45.69811+03","I have a Lambda that has a bucket trigged attached I am creating a 2nd function and want to add this trigger to the 2nd function and remove it from the first Previously Now However whenever I try to deploy I get It doesnt seem to firstly be removing the trigger from the first function when I redeploy "
75342712,"Serverless.js and Lambda@Edge: specifying origin","https://stackoverflow.com/questions/75342712/serverless-js-and-lambdaedge-specifying-origin","{aws-cloudformation,amazon-cloudfront,serverless-framework,aws-lambda-edge}","2023-02-04 03:16:26+02","2024-05-17 05:32:37.529211+03","I am trying to create a CloudFront distribution using Serverless js that has two origins both S3 buckets There is a default origin that serves the public website and an origin for paths starting with attachments That second origin has a viewerresponse Lambda function that handles some authentication The current implementation is deployed using some homegrown scripts and a JSON CloudFormation template which works I am trying to get rid of those idiosyncratic scripts however and standardize on Serverless js which has at least has the benefit of being a standard tool However I am having difficulty bending Serverless js to my will here Heres the resoruces section of my serverless yml file the relevant bits at any rate That part works fine and the origins are created correctly Attaching the viewerresponse function is where things start to go sideways The official documentation seems to indicates that you specify origins with a URI like s3fooattachments s3 amazonaws com When I try that I get CF errors and it is clear why If I look at the actual generated update template serverlessfootemplateupdatestack json this is what I see only the relevant bits Note the mangled TargetOriginId What it should be is AttachmentsBucket at least that is what would work in the old homegrown scripts Note that it also mangles the URI which is weird because that is what it seems to expect I have tried Serverless js would make this deployment a lot more idiomatic and I like that it handles the fussy aspects of updating Lambda functions but I cannot make it do what I want "
75376221,"How to use api gateway with openAPI to pass json to step function using serverless framework?","https://stackoverflow.com/questions/75376221/how-to-use-api-gateway-with-openapi-to-pass-json-to-step-function-using-serverle","{amazon-web-services,aws-api-gateway,serverless-framework,aws-step-functions}","2023-02-07 16:22:27+02","2024-05-17 05:32:38.474455+03","How do I invoke an AWS Step Function using an API Gateway POST request using openAPI and then pass the JSON on to a step function all defined using the serverless framework Below is what i have got so far i have given the correct permissions to the execution role but still i am receiving a 500 error on postman I would also like to be able to pass receive a json payload and then pass it on the step function Any pointers appreciated thanks Serverless yml file OpenAPI schema"
75393064,"API Gateway V2 Http API mapping returning ""Not Found"" when a ""Path"" is provided in the API mappings","https://stackoverflow.com/questions/75393064/api-gateway-v2-http-api-mapping-returning-not-found-when-a-path-is-provided","{amazon-web-services,aws-api-gateway,serverless,serverless-framework,api-gateway}","2023-02-09 00:33:56+02","2024-05-17 05:32:39.478672+03","I have searched a lot of the Not Found errors on StackOverflow along with other APIGW HTTP posts and they do not match this exact scenario Tldr Custom domain with APIGW V2 HTTP works when the Path is blank in the API mappings but returns 404 Not Found when I add the exact path I am using a custom domain dev myapp com configured in API Gateway The DNS is setup correctly as you will see shortly Here is the API mapping I have setup The issue is Been trying to solve this for a day and a half now Tried many things like redeploying etcc I need to have multiple API mappings for this custom domain so using a single mapping with the Path field blank is not an option Other info I have tried redeploying smaller path such as only oauth turning off default endpoint but none have worked I have looked at this solution but its a different issue which was with load balancer path rules which is not applicable here What I expect is when using APIGW V2 HTTP with a custom domain and an API mappings with a Path the mapped API should be found and not return Not Found"
75396702,"serverless deploy error - Resource handler returned message: ""Lambda function xxxxxxxx could not be found""","https://stackoverflow.com/questions/75396702/serverless-deploy-error-resource-handler-returned-message-lambda-function-xx","{serverless,serverless-framework,aws-serverless}","2023-02-09 09:38:28+02","2024-05-17 05:32:40.500177+03","Hi can anyone help me how to deploy serverless with specific stage I have 1 app with 2 stage dev and prod When deploy to dev its working fine and successfully deployed but with prod stage always get below error I tried to comment all function and leave 1 function to test deploy but received another error as below Here is my serverless yml "
75398850,"python-jose JWE: Unable to find an algorithm for key","https://stackoverflow.com/questions/75398850/python-jose-jwe-unable-to-find-an-algorithm-for-key","{python,amazon-web-services,aws-lambda,serverless-framework,jwe}","2023-02-09 12:50:20+02","2024-05-17 05:32:41.414956+03","I have been working on an authentication system and I need to encrypt some information Currently I use the pythonjose library and use the jwe encrypt function On my computer it is working correctly but when I upload it to the AWS cloud as an AWS Lambda function it gives an error see below I would like to know if anyone has had this error and knows what has caused it My function to encrypt My serverless requirements layer section My requirements file Error traceback I already tried changing the runtime of my function to python 3 8 10 I also tried changing the encryption key "
75401917,"How to define a stepfunction in a serverless.ts","https://stackoverflow.com/questions/75401917/how-to-define-a-stepfunction-in-a-serverless-ts","{typescript,serverless-framework,serverless-framework-step-functions}","2023-02-09 16:53:58+02","2024-05-17 05:32:42.110721+03","I want to write my serverless file in typescript using the serverlesstypescript package However it seems that there are no definitions for stepfunctions So how do I add stepfunctions to my serverless ts "
75422633,"AWS::Appsync:Resolver Cloudformation error using Javascript Resolver in Code block in YML using Serverless Framework","https://stackoverflow.com/questions/75422633/awsappsyncresolver-cloudformation-error-using-javascript-resolver-in-code-blo","{javascript,amazon-web-services,aws-cloudformation,serverless-framework,aws-appsync-resolver}","2023-02-11 19:02:51+02","2024-05-17 05:32:43.210136+03","I am having an issue while creating AWSAppsyncResolver Cloudformation in Serverless Framework using Javascript resolver My Javascript Resolver code in root dir srcresolversjsResolver js which I have attached to AWSAppSyncResolver cloudformation in code block I have also installed npm plugin for appsync utils in my package json My AWSAppSyncResolver Cloudformation is below in YML file also I have used Code as its Mandatory if I have declared it as APPSYNC_JS Runtime I have tried above code as per AWS Cloudformation documentation for Appsync available where they have mentioned that in AWSAppSyncResolver for creating Javascript Resolver using Cloudformation as below one of the properties which I have included in my AWSAppSyncResolver So I have tried this and cant find enough solutions regarding Javascript Resolvers all are available with VTL template specific With above code my CloudFormation build failed with the following error An error occurred AppSyncJSResolver The code contains one or more errors Service AWSAppSync Status Code 400 Error Code BadRequestException Request ID 0245d64d Proxy null "
75607327,"GraphQL / Typescript / Serverless error - ""Unable to find any GraphQL type definitions for the following pointers""","https://stackoverflow.com/questions/75607327/graphql-typescript-serverless-error-unable-to-find-any-graphql-type-defin","{node.js,typescript,graphql,serverless,serverless-framework}","2023-03-01 17:54:00+02","2024-05-17 05:32:46.511929+03","I am trying to deploy my GraphQL API with serverless framework and I am getting the following error when deploying Bear in mind this works fine locally I have noticed that the graphql schema file is not in the build folder and still is not there after adding to my serverless yml Here is my server js schema graphql Serverless yml"
75639503,"Reference API Gateway in Serverless framework","https://stackoverflow.com/questions/75639503/reference-api-gateway-in-serverless-framework","{amazon-web-services,aws-api-gateway,serverless-framework,aws-serverless}","2023-03-05 00:16:49+02","2024-05-17 05:32:47.473717+03","I am using the following serverless yaml configuration with the serverlessiamrolesperfunction plugin Instead of writing the ARN of the API Gateway in the custom variables how can I reference it in the iamRoleStatements dynamically"
75645700,"How do i query a DynamoDB and get all rows where ""col3"" exists & not 0/null (boto3)","https://stackoverflow.com/questions/75645700/how-do-i-query-a-dynamodb-and-get-all-rows-where-col3-exists-not-0-null-bot","{python,aws-lambda,amazon-dynamodb,boto3,serverless-framework}","2023-03-05 22:19:31+02","2024-05-17 05:32:48.47926+03","This is my DynamoDB table via serverless framework added a secondary column index for aaa_id I want to query my DynamoDB and get all items of the table where the column aaa_id exists or is not 0 or null if it is even possible for a Number type column Some rows do not include it preferable using the query method instead of scan since i know it is less heavy I have been on this for hours please help Some of my few fail attempts"
75661063,"Serverless framework SQS RedrivePolicy on a deadLetterTargetArn fails on first deploy","https://stackoverflow.com/questions/75661063/serverless-framework-sqs-redrivepolicy-on-a-deadlettertargetarn-fails-on-first-d","{amazon-web-services,serverless,serverless-framework,aws-serverless}","2023-03-07 10:54:49+02","2024-05-17 05:32:50.03049+03","While deploying with serverless framework a SQS queue attached to a DLQ I have this error It is kind of strange because it seems to deploy correctly when my DLQ and SQS queue are already deployed and I only add RedrivePolicy in my serverless ts file seems to be the RedrivePolicy that he do not likes But when I deploy at first like this I have a CREATE_FAILED with this error CloudFormation error serverless ts getMessage lambda srcfunctionshandler ts getMessage lambda srcfunctionsindex ts"
75712473,"How to use AWS code artifact using serverless framework","https://stackoverflow.com/questions/75712473/how-to-use-aws-code-artifact-using-serverless-framework","{amazon-web-services,serverless-framework,pypi,aws-codeartifact}","2023-03-12 10:23:10+02","2024-05-17 05:32:50.49707+03","I want to upload my serverless package in AWS Code Artifact using But I am getting the following error Is it possible to upload a serverless package to AWS Code Artifact or Am I missing something It should be the same problem using Pypi Thanks"
75724468,"Unexpected ""FilterPolicyScope"" Requirement in AWS SNS Subscription - Serverless Invalid Parameter, but the Parameter doesn't exist","https://stackoverflow.com/questions/75724468/unexpected-filterpolicyscope-requirement-in-aws-sns-subscription-serverless","{amazon-web-services,aws-cloudformation,serverless,serverless-framework,amazon-sns}","2023-03-13 16:23:21+02","2024-05-17 05:32:51.631249+03","I have an SNS FilterPolicy and according to AWS docs no filterPolicyScope is required If it is not set the default is MessageAttributes it says And this is how I have had it for quite some time without issue but now it is an issue even though I have made no changes Now I get this error suggesting that FilterPolicyScope IS required But I cannot figure out why An error occurred DynamoConsumerSubscription Invalid parameter FilterPolicyScope Invalid value [null] Please use either MessageBody or MessageAttributes Service AmazonSNS Status Code 400 Error Code InvalidParameter Request ID d374f5423f415626a65fa9cb71c4277b Proxy null I just have this"
75759765,"Unable to create AWS Lambda Function using serverless framework - AccessDeniedException Service: Lambda, Status Code: 403","https://stackoverflow.com/questions/75759765/unable-to-create-aws-lambda-function-using-serverless-framework-accessdeniedex","{lambda,aws-lambda,aws-cloudformation,serverless,serverless-framework}","2023-03-16 17:36:33+02","2024-05-17 05:32:53.101308+03","I am trying to run the serverless Python HTTP API lambda example It generated the following serverless yaml file I just added the region as well as profile that it should pick up that I have configured on my machine using aws configure The lambdauser aws user has the following permissions You can notice that in the screenshot below However when I run serverless deploy it always fails to create the Lambda Function And the CloudFormation Stack Events look like this As you can see this is failing to create the Lambda Function I have been trying to debug the whole day But at this point in time I am totally out of ideas Any suggestions are helpful Thanks EDIT The issue was more to do with my account being suspended for some suspicious activities Their automated system had flagged my account as compromised so I had to contact their support team which asked a bunch of questions then restored all the services "
75771300,"Why won't my Serverless Framework VSCode debug configuration execute?","https://stackoverflow.com/questions/75771300/why-wont-my-serverless-framework-vscode-debug-configuration-execute","{node.js,serverless-framework,vscode-debugger}","2023-03-17 19:03:45+02","2024-05-17 05:32:53.535391+03","I am using Serverless Framework to create a node API backend for my web app VSCode is my IDE running on Windows 11 The VSCODE Run and Debug widget fails immediately with an error that I cannot comprehend or fix Here is my launch json Here is the error I get Here is the SLS file"
75791104,"Is it possible to deploy serverless framework with container images using GitHub actions","https://stackoverflow.com/questions/75791104/is-it-possible-to-deploy-serverless-framework-with-container-images-using-github","{aws-lambda,github-actions,serverless-framework}","2023-03-20 13:50:36+02","2024-05-17 05:32:54.435648+03","Currently we have a lambda deployment that needs to be in a container due to the size of the python libraries used Its deployed from a developers machine using the Serverless framework CLI Separately we deploy other lambdas via serverless using GitHub actions so the code base is shared Is there any way and Ive looked but cant find an answer that we can deploy a container image from GitHub Or are we better off putting the libraries in a layer container image deployed as at present and then moving the code itself to GitHub where it can be viewed centrally"
75798348,"How can I change the role name for provider level `iamRoleStatements`?","https://stackoverflow.com/questions/75798348/how-can-i-change-the-role-name-for-provider-level-iamrolestatements","{amazon-web-services,serverless-framework}","2023-03-21 07:29:25+02","2024-05-17 05:32:55.463022+03","I am using serverless framework to deploy lambdas in AWS Below is my code with above definition serverless will generate a role name in this format is there a way for me to change the role name while still keep the iamRoleStatements in provider level"
75804593,"Rows from MySQL table is only getting displayed in console and not in POSTMAN?","https://stackoverflow.com/questions/75804593/rows-from-mysql-table-is-only-getting-displayed-in-console-and-not-in-postman","{mysql,node.js,serverless,serverless-framework,mysql2}","2023-03-21 17:34:37+02","2024-05-17 05:32:56.345006+03","I am using MySQL Nodejs and Serverlessoffline plugin here For some reason the results from MySQL table are only being displayed in the console of VSCode and not in POSTMAN What should I do to get the results on screen hope you understood what I meant instead of console Here is code In db js In serverless yml file In handler js "
75808616,"How to tag and vpc custom resource lambda via serverless?","https://stackoverflow.com/questions/75808616/how-to-tag-and-vpc-custom-resource-lambda-via-serverless","{amazon-web-services,serverless-framework}","2023-03-22 05:07:56+02","2024-05-17 05:32:57.286451+03","I am using serverless to deploy lambda and APIGateway to AWS I found serverless deploy a lambda with a random name during deployment automatically It is to attach some role policy required for apigateway to call lambda This lambda is not managed by me For example when you deploy a lambda with http endpoint like below serverless will deploy a lambda with a auto generated name which attach a role on the apigateway to be able to invoke this lambda I attached this lambda source code at the bottom The lambda tag awscloudformationstackname is in the same stack as the other resources in the same serverless yml What I am looking for is how to add tags on those auto generated lambda And how to attach VPC on those lambdas I have tried to put tags and vpc under provider but serverless does not pick them up One of the lambda code is"
75809319,"How to do module aliasing in NodeJS serverless framework","https://stackoverflow.com/questions/75809319/how-to-do-module-aliasing-in-nodejs-serverless-framework","{node.js,serverless-framework,module-alias}","2023-03-22 07:14:44+02","2024-05-17 05:32:57.845986+03","take note inside src folder I want to achieve module aliasing name instead of using require services require models i want to achieve something like this require services require models How to achieve this on serverless framework with node js without using webpack or babel"
75810570,"Serverless Framework - Implement and override existing Lambda function","https://stackoverflow.com/questions/75810570/serverless-framework-implement-and-override-existing-lambda-function","{node.js,amazon-web-services,aws-lambda,serverless-framework,aws-serverless}","2023-03-22 09:42:08+02","2024-05-17 05:32:58.88301+03","So im trying to implement serverless framework on an existing AWS lambda function that was initially created manually So through the AWS CLI and leverage the already existing resources around it Those being an already created IAM role loggroup and to use the existing ALB its already getting triggered from However I am struggling to implement it because every direction I turn im running into blockers with errors like the one below This is my current serverless yml template So firstly im wondering if this is even possible And secondly what am I doing wrong how am i meant to specify this configuration Hoping someone can help me Thanks in advance "
75818526,"AWS Node 12 SDK V3 Deprecation","https://stackoverflow.com/questions/75818526/aws-node-12-sdk-v3-deprecation","{node.js,amazon-web-services,serverless-framework}","2023-03-23 01:21:05+02","2024-05-17 05:32:59.877959+03","Good Evening For some opening context I am a mid level engineer at a company and I have a question about an upcoming AWS change as it relates to a Node Environment and the SDK with it I know I could be asking a fellow engineer or architect in my company however due todays market we saw a severe cut in staff as well as some shake ups within the organization where I felt the better answer could come from colleagues here On March 31 2023 AWS has announced it will begin Phase 1 deprecation of support for Node 12 on AWS SDK V3 In the attached document they linked that describes their runtime policy I see they are specifying the AWS SDK 2 1055 0 Our backend is the following Can I have a second opinion around my fears that my stack will be in the category of those affected by this change in the coming days i e We would be entering phase 1 on March 31st"
75833359,"Serverless lambda function with nested routes","https://stackoverflow.com/questions/75833359/serverless-lambda-function-with-nested-routes","{serverless,serverless-framework,aws-serverless}","2023-03-24 11:56:52+02","2024-05-17 05:33:00.930316+03","I have a simple serverless lambda function which works fine like Here I can make request on the create endpoint I would like to have nested structure here Everything under consumer should have endpoint like consumercreate without adding consumer in every path I went through the documentation of serverless but did not find it Is there anyway I can achieve this"
75834940,"Migration from Cloudformation to serverless framework","https://stackoverflow.com/questions/75834940/migration-from-cloudformation-to-serverless-framework","{amazon-web-services,aws-cloudformation,serverless-framework}","2023-03-24 14:33:28+02","2024-05-17 05:33:01.718126+03","I try to change infrastructure manager for lambdas from native cloudformation to serverless framework but I have several resources which manages by cloudformation stack and new stack which created by serverless tries to create new resources but I do not want it and even more this causes deployment fail serverless yml Current configuration will fail with error Resource handler returned message Resource of type AWSSQSQueue with identifier ImagesDLQ already exists I tried use aws import feature httpsdocs aws amazon comAWSCloudFormationlatestUserGuideresourceimportexistingstack html to import existing resources to serverless created stack but it cause error The following resource types are not supported for resource import AWSSQSQueuePolicyAWSRoute53RecordSetGroupAWSRoute53RecordSetGroupAWSLambdaPermissionAWSLambdaPermission I tried make deployment using existing stack which currently uses for deploy lambdas serverless yml And I got Could not parse CloudFormation template error Also I tried to find a way to not create resources if they already exists eg use conditions httpsdocs aws amazon comAWSCloudFormationlatestUserGuideconditionssectionstructure html but I do not have any parametrs based on which I can build condition I also looked in this httpsgithub comserverlessserverlessissues3183 issue and looks like serverless does not have this posibility but is it real that I do not have any solutions except delete infrastructure and recreate it again"
75875119,"severless version3 stage for httpApi gateway not working AWS","https://stackoverflow.com/questions/75875119/severless-version3-stage-for-httpapi-gateway-not-working-aws","{amazon-web-services,serverless,serverless-framework,aws-serverless}","2023-03-29 08:59:41+03","2024-05-17 05:33:02.775262+03","I am trying to deploy lambda with http apigateway using serverless framework in AWS I am unable to create stage I have used stage and also tried stageName in provider section and also in httpApi event section Tried this Tried this Tried this functions Please help me how can I configure stage for http Api gateway using serverless framework for AWS"
60249842,"no matches for kind ""Deployment"" in version ""apps/v1""","https://stackoverflow.com/questions/60249842/no-matches-for-kind-deployment-in-version-apps-v1","{docker,minikube,kubeless}","2020-02-16 15:03:57+02","2024-05-17 05:41:39.983286+03","I have minikube v0 26 0 version and kubectl v1 10 1 version and localKube v1 8 0 i get the following error when i try to deploy the kubeless ui unable to recognize httpsraw githubusercontent comkubelesskubelessuimasterk8s yaml no matches for kind Deployment in version appsv1"
75884529,"How to Exclude Specific Lambdas When Deploying Serverless Applications?","https://stackoverflow.com/questions/75884529/how-to-exclude-specific-lambdas-when-deploying-serverless-applications","{amazon-web-services,aws-lambda,serverless-framework}","2023-03-30 05:51:09+03","2024-05-17 05:33:03.489767+03","I only use some lambdas in my local development environment However they are in the same serverless yml file as the other lambdas that I use in both development and production environments I have looked in the documentation but could not find any information on whether it is possible to specify a parameter or something else to indicate that certain lambdas should not be deployed when running sls deploy Thank you in advance for your help "
75886752,"Why my buckets are ""AWS Region"" Not Found?","https://stackoverflow.com/questions/75886752/why-my-buckets-are-aws-region-not-found","{amazon-web-services,aws-lambda,serverless-framework}","2023-03-30 10:00:57+03","2024-05-17 05:33:04.435261+03","I am using serverless Framework to deploy lambda function Sometime it create S3 bucket with AWS region not found I tried to empty or delete the Bucket but it only shows bucket not found What should I do"
75926696,"Class not found: com.app.handler.AsynchronousLambdaHandler: java.lang.ClassNotFoundException, Current classpath: file:/var/task/","https://stackoverflow.com/questions/75926696/class-not-found-com-app-handler-asynchronouslambdahandler-java-lang-classnotfo","{java,amazon-web-services,spring-boot,aws-lambda,serverless-framework}","2023-04-04 07:40:34+03","2024-05-17 05:33:05.399912+03","I have developed a spring boot REST API trying to deploy it using serverless framework as a Lambda on top of API Gateway and encountered the following the error I am using Spring Boot version 2 7 10 java version 11 maven as a build tool and serverless as a deployment tool to deploy the application in AWS The handler class is available at BOOTINFclassescomapphandlerAsynchronousLambdaHandler class postpacking the application as a jar file serverless yml pom xml AsynchronousLambdaHandler java I have also explored a lot of options including this one AWS Lambda function throws ClassNotFoundException LambdaHandler Current classpath filevartask but no luck so far Updated the pom xml to remove maven plugins to simplyfy the problem pom xml updated "
75931608,"Does Serverless-Offline allow you to locally test lambdas that interact with AWS services that are only accessible from the same VPC?","https://stackoverflow.com/questions/75931608/does-serverless-offline-allow-you-to-locally-test-lambdas-that-interact-with-aws","{aws-lambda,amazon-rds,serverless-framework,serverless-offline,amazon-rds-proxy}","2023-04-04 16:13:12+03","2024-05-17 05:33:06.377894+03","I have an RDS db and an RDS Proxy handling my connections to it RDS Proxy is only accessible from within the same VPC I want to be able to locally test a Lambda I have written to connect to it If I use serverlessoffline will the fact I am running it locally prevent it from accessing the proxy I have the lambda all setup deployed in the correct VPC I have attempted to run it locally and access it and have so far been unsuccessful However I am uncertain as to whether that is due to it being impossible or whether I have implemented it incorrectly "
75931625,"Returning dynamic info to HTTP request which triggers a step function","https://stackoverflow.com/questions/75931625/returning-dynamic-info-to-http-request-which-triggers-a-step-function","{amazon-web-services,aws-lambda,serverless-framework,aws-step-functions}","2023-04-04 16:15:41+03","2024-05-17 05:33:07.125811+03","TLDR How do I pass dynamic data to my HTTP response from a step function lambda triggered by HTTP I have a step function state machine triggered by a HTTP request It is set up using the serverless framework with the serverlessstepfunctions plugin but I would imagine the solution is generalcan be applied to my template Using the default configuration for a http handler such as Returns an ARN and a start date which obviously is not ideal as it exposes my account ID etc I can configure a response template to override this Which works fine and responds with the following to the HTTP request as expected However I want to return information from the lambda function such as error state or a different status code etc I have tried ResultPath on the state machine step but this just affects the data sent to the next step and does not change the HTTP response I have tried modifying the template with variables but they reference the original ones arn and start date not the ones returned from my function I have considered just calling a standard API Gateway lambda returning my HTTP response from there and using the Step Functions SDK to trigger the state machine separately but that feels convoluted How do I pass dynamic data to my HTTP response from a step function lambda triggered by HTTP"
75944695,"can I use Serverless to link an existing AWS lambda function in one repo with an AWS API Gateway code in another repo","https://stackoverflow.com/questions/75944695/can-i-use-serverless-to-link-an-existing-aws-lambda-function-in-one-repo-with-an","{aws-api-gateway,serverless,serverless-framework,aws-serverless}","2023-04-05 23:27:46+03","2024-05-17 05:33:07.757874+03","I have an existing API Gateway setup using serverless in a repo I want to build a lambda function and corresponding to that an API in API GW This lambda function can have multiple features and business logic so want to keep it separate in another repo Building lambda using serverless seems straightforward But I do not see a doc on how to link this new lambda to the API in the API Gateway setup Another point is I want to keep all API exposed in API GW in a single repo whereas multiple lambda functions can be in different repos Any pointers appreciated"
75947116,"Create CloudFront service (to have https in my site) with github actions or with backend code?","https://stackoverflow.com/questions/75947116/create-cloudfront-service-to-have-https-in-my-site-with-github-actions-or-with","{github-actions,backend,amazon-cloudfront,serverless,serverless-framework}","2023-04-06 07:57:37+03","2024-05-17 05:33:08.839046+03","I have a frontend code that is deployed through github actions in every push to an S3 bucket On the other hand I want to have https in my static website so I also want to create a CloudFront distribution service My question is should I create the service together with the actions in the frontend or is it OK to deploy it separately with my backend code using my yml template file thanks "
75953129,"How to preserve input data from a waitForTaskToken step to the next step","https://stackoverflow.com/questions/75953129/how-to-preserve-input-data-from-a-waitfortasktoken-step-to-the-next-step","{serverless-framework,aws-step-functions}","2023-04-06 19:31:17+03","2024-05-17 05:33:09.84686+03","I have the following stepfunction LambdaB is returning the input data from StateB including the generated Tasktoken However when sendtasktokensuccess with this tasktoken and some additional data is called the input data of StateC is only the data send with the sendtasktokensuccess call Is there a way to pass along the output data from StateB to StateC Unfortunately I do not have any controll about the data send with the sendtasktokensuccess and I need the information in StateC which data was used before the task token was generated "
69372234,"Does Knative support arm64?","https://stackoverflow.com/questions/69372234/does-knative-support-arm64","{kubernetes,arm,knative}","2021-09-29 07:34:59+03","2024-05-17 05:42:05.262631+03","I have run knative image in the k8s cluster which is arm64 but knative cannot start and it is logs is as follow standard_init_linux go211 exec user process caused exec format error I want to know whether knative support arm "
75954437,"NodeJS: Handshake Failure: SSL Alert number 40 when doing a http request to AWS Lambda with Axios","https://stackoverflow.com/questions/75954437/nodejs-handshake-failure-ssl-alert-number-40-when-doing-a-http-request-to-aws","{node.js,http,aws-lambda,axios,serverless-framework}","2023-04-06 23:25:41+03","2024-05-17 05:33:10.857454+03","I am developing a web application using serverless framework and in order to use certain services I need to verify that the user has an active session To do this I use a lambda deployed on AWS Lambda that verifies the login and make a call to it in each service using axios in the following way But it fails before doing the request with the next error message AxiosError write EPROTO 18440error14094410SSL routinesssl3_read_bytessslv3 alert handshake failurec\ws\deps\openssl\openssl\ssl\record\rec_layer_s3 c1546SSL alert number 40 When I try to do the same request from postman it works nice Moreover when I do the same request from Axios but with the verifuserlogin lambda on localhost it works too As I understand this error indicates an issue with the SSLTLS configuration so I tried to use a custom SSL config as follows I expected to at least solve the issues with SSLTLS but I encountered the same error "
75996518,"serverless deploy fails while creating Cognito PostConfirmation lambda trigger","https://stackoverflow.com/questions/75996518/serverless-deploy-fails-while-creating-cognito-postconfirmation-lambda-trigger","{aws-lambda,serverless,serverless-framework,amazon-cognito-triggers}","2023-04-12 14:15:13+03","2024-05-17 05:33:11.460928+03","I have an existing Cognito User Pool When a user signs up through the web app I want this user ID to get added into our Postgres DB For this I have written a Lambda function which should get triggered after the user confirms their email address However on trying to deploy this function using the serverless framework I get the following error I have followed the serverless docs to create this lambda trigger Using Existing Pools Following is the complete log of serverless deploy verbose command Following is the serverless yml file Its hard to identify why it is only failing to create the trigger Is something missing in the serverless yml file I have not found a solution to this error since a while now I would really appreciate some help "
76000691,"Serverless Framework, Python Service Too Large","https://stackoverflow.com/questions/76000691/serverless-framework-python-service-too-large","{python,serverless-framework}","2023-04-13 00:03:20+03","2024-05-17 05:33:12.518899+03","I have a very simple Serverless Framework service In the service I am using the serverlesspythonrequirements plugin for deployment I am successfully able to deploy from my local machine but the deployment fails in my CICD pipeline UPDATE_FAILED AzurePhishSimReportFunctionLambdaFunction AWSLambdaFunction Resource handler returned message Unzipped size must be smaller than 262144000 bytes Service Lambda Status Code 400 Request ID 2b53c48cadb845b888448bfb317612bb RequestToken 126200f8fd759bd84c0e6ebf4d0c4e40 HandlerErrorCode InvalidRequest When deploying from my local machine the service is zipped into a small package Uploading service azurephishingsimulationreporter zip file to S3 16 58 MB However when deploying from CICD the package is significantly larger Uploading service azurephishingsimulationreporter zip file to S3 136 71 MB My understanding is that this may be because of local caching however the following proposed solution had no effect httpsforum serverless comtdifferentpackagesizeswhendeploying78192 Regardless I am not overly concerned about this as I plan to deploy via CICD An unfortunate reality the service only has three highlevel requirements Looking at the requirements directory it is clear that botocore dep for boto3 and cryptography dep for all three are the main issue While possible I have read that it is bad practice to rely on the AWS Lambda runtime to supply boto3 library and the requests library bundled with botocore httpsgithub comserverlessserverlesspythonrequirementsissues304issuecomment455359902 Hi all Im a SA for AWS Our leading practice is to ship your own version of boto with your app code either as a part of the handler zip or as a layer for larger projects Now to what I have attempted which is virtually every option native to the serverlesspythonrequirements plugin httpswww serverless compluginsserverlesspythonrequirements I have also tried to exclude filesdirectories via the following block in serverless yml Nothing works I feel like this should be an easy problem to solve for and find it frustrating that AWS own libraries are basically responsible for causing bloated deployment packages which do not fit within their own size restrictions I had high hopes for using layers and was shocked to see that the layer was tiny in comparison to the deployment package Uploading service azurephishingsimulationreporter zip file to S3 119 5 MB Uploading service pythonRequirements zip file to S3 17 77 MB Guidance on the proper way to circumvent this is appreciated "
76005339,"NodeJS Joi Validation Error: item added into group created a dependencies error","https://stackoverflow.com/questions/76005339/nodejs-joi-validation-error-item-added-into-group-created-a-dependencies-error","{node.js,serverless-framework,joi}","2023-04-13 12:17:58+03","2024-05-17 05:33:13.366832+03","So i have a two query string parameter and both of them are optional I am using nodejs serverless framework The two query parameters are pageNumber and pageSize Basically if none of these are supplied in query string parameters it is fine i will get all the values in database but if one of them supplied the other one should required Example if the pageNumber was supplied the pageSize should be required I cannot achieve it giving me an error Here is my code"
76025159,"AWS lambda send batch messages to SQSClient timeout","https://stackoverflow.com/questions/76025159/aws-lambda-send-batch-messages-to-sqsclient-timeout","{amazon-web-services,aws-lambda,amazon-sqs,serverless-framework}","2023-04-15 23:06:08+03","2024-05-17 05:33:14.019821+03","In my nodejs lambda function aws SQSClient send a batch request to a dlq queue Why does my send request always fails with a timeout I have allowed sendMessageBatch in my serverless ts file The exact error I have in my log is right after the params log my lambda config"
76028728,"PutObject into an S3 bucket from Lambda using a VPCEndpoint","https://stackoverflow.com/questions/76028728/putobject-into-an-s3-bucket-from-lambda-using-a-vpcendpoint","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,amazon-vpc}","2023-04-16 15:42:27+03","2024-05-17 05:33:15.010266+03","I have a Lambda function in a public subnet with no NAT gateway The Lambda needs to be able to put objects in an S3 bucket To allow this I have created a gateway endpoint When I try to deploy the above I get this error What is wrong with my VPC endpoint Here is the full CloudFormation for the bucket It is in the resources section of a Serverless Framework configuration "
76049938,"Function that validates the environment dev or prod serverless framework","https://stackoverflow.com/questions/76049938/function-that-validates-the-environment-dev-or-prod-serverless-framework","{node.js,odoo,serverless-framework}","2023-04-19 00:36:58+03","2024-05-17 05:33:15.734447+03","I am getting a price list from an odoo database I have two environments dev and prod In dev I want to run it like this and in prod I want to execute it in this other way What changes is to use the price_list_odoo field by price_lst_odoo How can I make a function that validates when I am in prod and dev I am using aws and serverless framework "
76066822,"AWS Lambda Node 18.x ESM Module simple import of .js file","https://stackoverflow.com/questions/76066822/aws-lambda-node-18-x-esm-module-simple-import-of-js-file","{node.js,typescript,aws-lambda,serverless-framework,es6-modules}","2023-04-20 17:33:36+03","2024-05-17 05:33:16.522673+03","I got following error in as ESM Project on AWS Lambda Node 18 x The error refers to this simple barelling in index js Adding js to the export fixes the error So not a path reference or permission problem But that knowledge does not help me much because my code is automatically compiled from typescript to esm javascript and I would think that import without js is standard Anyone an idea why lambda makes this problems and how to fix it Here my package json tsconfig js I deployed with serverless yml runtime nodejs18 x and serverlesstypescript plugin "
76260621,"How to reference an existing IAM policy in function definitions in `serverless.yml`?","https://stackoverflow.com/questions/76260621/how-to-reference-an-existing-iam-policy-in-function-definitions-in-serverless-y","{amazon-iam,serverless-framework}","2023-05-16 08:00:32+03","2024-05-17 05:33:17.6368+03","I have a specific policy that I want to add to multiple lambdas in different services How can I specify in the serverless yml file the name of the already existing policy to avoid duplication of inline policies Currently the best I could find is defining an anchor and referencing that but I am looking for a crossservice solution "
76280719,"how to get log group name for a lambda in serverless framework?","https://stackoverflow.com/questions/76280719/how-to-get-log-group-name-for-a-lambda-in-serverless-framework","{amazon-web-services,amazon-cloudwatch,serverless,serverless-framework}","2023-05-18 12:09:52+03","2024-05-17 05:33:18.558923+03","How can I get the log group name for this function logs Currently I am forming a string awslambdalogsservice selfprovider stage logs But is there a way to get it from a serverless framework with any intrinsic function"
76288724,"Cannot use import statement outside a module in serverless node application","https://stackoverflow.com/questions/76288724/cannot-use-import-statement-outside-a-module-in-serverless-node-application","{node.js,typescript,webpack,serverless-framework,serverless-offline}","2023-05-19 11:42:30+03","2024-05-17 05:33:19.503201+03","I am currently converting a serverless AWS lambda microservices API over to typescript I am hoping I can maintain the existing js files while adding more ts files as we move on I am having some trouble configuring webpack and typescript and getting this error at runtime when calling one of my lambdas Seems to be complaining about one of the packages I am using rather than my code This is my tsconfig json and my webpack config"
76297120,"Prisma Data Proxy ignoring connection limit and pool timeout in serverless environment (AWS + Serverless Framework + Prisma ORM)","https://stackoverflow.com/questions/76297120/prisma-data-proxy-ignoring-connection-limit-and-pool-timeout-in-serverless-envir","{postgresql,aws-lambda,serverless-framework,prisma,aws-rds-data-service}","2023-05-20 20:01:25+03","2024-05-17 05:33:20.373018+03","I am trying to use connection_limit and pool_timeout Prisma Data proxy with specific values but it seems to ignore them I am using PostgreSQL in AWS RDS My current connection test is When it occurs an timeout I get this error As you can see the limits are ignored 10 instead of 120 and 3 instead of 5 We really did a lot of tests Can anyone help us figuring why"
76318531,"How do I trigger a function on a CloudFront event for a distribution that I already have defined in the resources section of my serverless.yml file?","https://stackoverflow.com/questions/76318531/how-do-i-trigger-a-function-on-a-cloudfront-event-for-a-distribution-that-i-alre","{amazon-cloudfront,serverless,serverless-framework}","2023-05-23 20:44:46+03","2024-05-17 05:33:21.240946+03","Using the serverlesss framework I have defined a CloudFront distribution in the resources section of my serverless yml file Now I have two functions that I would like to trigger on CloudFront events According to the serverless docs it is ok for the distribution configurations to be set in the resources block of the serverless yml However if I do this I am not sure how I link this to my functions with the originresponse and viewerrequest event types Defining the CloudFront distributions origin under the functions as shown in the serverless docs is not sufficient for my use case as I need to define additional configurations like an alias for my distribution So if I define the distribution under the resources block how do I link my functions to it"
76340702,"Serverless Framework with Python Requierements Plugin: Lambda layers update the number version without code modifications","https://stackoverflow.com/questions/76340702/serverless-framework-with-python-requierements-plugin-lambda-layers-update-the","{serverless-framework,cicd,aws-lambda-layers}","2023-05-26 12:12:38+03","2024-05-17 05:33:22.250927+03","I am using Serverless Framework to deploy my Lambda functions and Lambda Layers To create the Lambda Layers we create differents folders each one for each layer where we can find in each folder the serverless yaml file where we define the the lambda layer and the requirements txt file where we define the python libraries dependencies The requirements txt file is used for the python requirements plugin previously installed We noticed that each time that we trigger the CICD pipeline for the application the lambda layer version increase does not matter if the serverless yaml and requirements txt files have been updated or not Each time that we run the pipeline the servererless deploy command is being executed in a new container based in an ubuntu 22 04 docker image If we deploy from our local computer the lambda layer running serverless deploy it works as expected I mean If the code did not change no change request in the cloudFormation stack is created But if we run exactly the same command into a new container the first time it update the lambda layer version number The second time it works as expected no change request is created If we stop the container and we create a new one the same pattern occurs The first time the lambda layer version increase although we did not have changes in the code and next times it works as expected The Layer version increase although the codes did not change from the last deploy If we execute again the point number 6 it recognize that not changes have been executed in the code so does not update the version number Note Each time that we execute the How to reproduce process described above a new folder serverless is created In that folder we find pythonRequierements zip and cloudformationtemplateupdatestack json If we execute the process How to reproduce again the pythonRequierements zip is different than before the size is a bit bigger But if we unzip both they have the same content same size and same number of files and folders If we analyze the cloudformationtemplateupdatestack json we can see the following code snippet I could notice that the value for the PythonRequirementsLambdaLayerHash is different too Could be that the hash algorithm which is created for the current lambda layer depends of the OS where we are using the Serverless Framework The version number of the Lambda layer must be the same after run serverless deploy if the code for the lambda layer serverless yaml and requirements txt files did not change I think that it should be a well known issue because it should happen each time that we integrate it in a pipeline And should be a common solution maybe node version v14 21 3 serverless framerwork version 3 30 1"
76345522,"Serverless Framework lambda function not assuming default api role?","https://stackoverflow.com/questions/76345522/serverless-framework-lambda-function-not-assuming-default-api-role","{amazon-web-services,aws-lambda,aws-api-gateway,amazon-iam,serverless-framework}","2023-05-27 05:53:48+03","2024-05-17 05:33:23.325599+03","I have deployed an API Gateway via the Serverless Framework with a default IAM role apisgatewaydevapiDefaultRole that contains a set of permissions Each lambda function is declared separately and does not have an IAM role defined in serverless yml If I understand correctly Serverless now generates minimal lambda IAM roles to each lambda fn eg appapisfndevfn assigns them minimal permissions to write logs but then assumes permissions from the default role My lambda functions now throw AccessDenied errors appapisfndevregionlambdaRole is the minimal role autogenerated by Serverless It does not have permissions The permissions are in apisgatewaydevapiDefaultRole This seems to imply to me that the lambda is not assuming the apiDefaultRole is that correct How do I troubleshoot this The worst bit is it worked fine before some fairly major changes I made earlier today but the role definitions were one of the few parts that were not changed I know I have broken it please help me work out how "
76365874,"Add trigger on AWS lambda using Serverless","https://stackoverflow.com/questions/76365874/add-trigger-on-aws-lambda-using-serverless","{aws-lambda,serverless,serverless-framework}","2023-05-30 14:26:08+03","2024-05-17 05:33:24.328705+03","Having an existing SQS queue on AWS using ARN how can I set it as a trigger for a function on serverless yml "
76620828,"Why new serverless framework stops seeing variables?","https://stackoverflow.com/questions/76620828/why-new-serverless-framework-stops-seeing-variables","{serverless-framework}","2023-07-05 13:27:33+03","2024-05-17 05:33:48.483657+03","I have working AWS application which builds via serverless framework In serverless yml are a lot of variables One sample when I had run sls deploy stage mystage region useast1 it perfectly worked and the framework found proper file mystageuseast1 yml in env directory But after upgrade Framework Core to 3 33 0 version it stoped working Now I after same command I have an error Why new version framework does not work with variables like did it before"
76367901,"ENOTDIR: Not a directory error when including certain Python Packages and using Serverless Deploy","https://stackoverflow.com/questions/76367901/enotdir-not-a-directory-error-when-including-certain-python-packages-and-using","{python,aws-lambda,serverless-framework}","2023-05-30 19:08:19+03","2024-05-17 05:33:25.463692+03","Certain Python packages that I try to include eg CFFI Google API core throw an error ENOTDIR not a directory scan dir pathfromtopackagename when I run Serverless Deploy It seems that certain packages dont have a directory structure and try to expand in the project directory during build time and throw this error Have banged my head against the wall on this now for a while Anyone have any idea how to correct this Im building for AWS Lambda using Python3 8 Thank you Assumed that this was something to do with my project structure but other packages seem to work fine Have tried recreating a virtual environment and many many different configurations of serverless yml to no avail Any help would be greatly appreciated "
76372078,"Why is my Azure Function not being triggered by blob storage trigger?","https://stackoverflow.com/questions/76372078/why-is-my-azure-function-not-being-triggered-by-blob-storage-trigger","{azure,azure-functions,serverless-framework}","2023-05-31 09:35:07+03","2024-05-17 05:33:26.538682+03","Some project demands at work have necessitated the need for us to use Azure While I have a lot of experience with AWS I have zero experience with Azure and I am at a loss as to why my Azure Function is not being run tldr We have some logs being written to a storage account We want to copy those logs to AWS S3 for longer term storage due to compliance reasons The best long termscalable solution for this is to just copy the file when it is created via an Azure Function similar to how you would execute a Lambda when a file is written to S3 Due to my lack of knowledge in Azure I decided to use Serverless Framework to get up and running quickly The following is my serverless yml The actual function itself is somewhat irrelevant for this question as it is just about getting the function to trigger but all it is doing right now is console logging out the file The above deploys successfully I can see it in Azure trigger is all there and setup This is the function json that is generated On the storage account that I am trying to copy files from a k a have trigger the function a k a k a the one specified in AzureWebJobsREDACTEDStorage I have given the Azure Function App identity role assignments of Storage Blob Data Owner and Storage Queue Data Contributor as per the documentation Every time I add a file manually into the insightsactivitylogs container nothing happens Nothing is triggered I have poured over the documentation and I am coming up short Any ideas Anything blatantly obvious that I am missing It is also worth noting that Serverless Framework appears to deploy using version 3 for FUNCTIONS_EXTENSION_VERSION Not sure why this is but it does I know the docs mentioned version 5 a lot "
76378694,"Serverless Framework: How to solve 'Invalid mapping expression' error while integrating AWS API Gateway and Lambda for asynchronous integration?","https://stackoverflow.com/questions/76378694/serverless-framework-how-to-solve-invalid-mapping-expression-error-while-inte","{aws-lambda,aws-api-gateway,serverless-framework}","2023-06-01 04:35:18+03","2024-05-17 05:33:27.470941+03","I am trying to use asynchronous integration with AWS API GW and Lambda but it is throwing an error Error UPDATE_FAILED ApiGatewayMethodCommonGetABCGet AWSApiGatewayMethod Invalid mapping expression specified Validation Result warnings [] errors [Invalid mapping expression specified true] Service AmazonApiGateway Status Code 400 Error Code BadRequestException Request ID ffb5476830b74f91bb071d5df0acea95 Proxy null Can anyone help me with this"
76379898,"What's causing the error 'event.body was an object but content-type is not json' when using the serverless-framework with Lambda integration?","https://stackoverflow.com/questions/76379898/whats-causing-the-error-event-body-was-an-object-but-content-type-is-not-json","{aws-lambda,serverless,serverless-framework,aws-serverless,aws-lambda-integration}","2023-06-01 08:12:17+03","2024-05-17 05:33:28.341016+03","event body was an object but contenttype is not json trying to add a response header using lambda integration but getting the following error"
76387147,"AWS Cloudformation - How to pass the sns topic arn to a stack?","https://stackoverflow.com/questions/76387147/aws-cloudformation-how-to-pass-the-sns-topic-arn-to-a-stack","{node.js,amazon-web-services,aws-cloudformation,serverless-framework}","2023-06-02 04:40:10+03","2024-05-17 05:33:29.305+03","I am creating a CloudFormation template that allows sending SNS notifications emails to users during creation update deletion etc from the CloudFormation stack How can you create a stack using the serverless framework but passing it the arn of a sns topic I want to do something like this Thank you "
76388904,"Locally invoke a AWS Lambda function and pass `event` and `context`","https://stackoverflow.com/questions/76388904/locally-invoke-a-aws-lambda-function-and-pass-event-and-context","{typescript,aws-lambda,serverless-framework}","2023-06-02 09:29:59+03","2024-05-17 05:33:30.343338+03","I have this function I need to call this function from another function and pass in the event and context how do I pass in the arguments as when I specify an event like so it throws me an error saying Argument of type pathParameters transactionId any is not assignable to parameter of type APIGatewayProxyEvent"
76389362,"How can I update the master Username and password of and existing AWS RDS cluster using the serverless-framework?","https://stackoverflow.com/questions/76389362/how-can-i-update-the-master-username-and-password-of-and-existing-aws-rds-cluste","{amazon-rds,serverless-framework}","2023-06-02 10:33:26+03","2024-05-17 05:33:31.431909+03","Cannot update username of existing RDS cluster Updating the masterUsername and masterUserPassword in the serverless yml file for my postgresql database results in the password being updated but not the username i e I can only access the db with the old username and new password I am using the serverless framework to manage aws assests It is an RDS cluster Everything builds successfully and I can access the data using the old username Waiting for over 30 minutes does not have an effect "
76398799,"Serverless - Cloudformation - Lambda event creation error","https://stackoverflow.com/questions/76398799/serverless-cloudformation-lambda-event-creation-error","{amazon-web-services,aws-lambda,aws-cloudformation,serverless-framework}","2023-06-04 03:09:51+03","2024-05-17 05:33:32.163636+03","I was trying to create an s3put event on one of the existing lambda functions and S3 buckets using serverless But was getting this error from AWS CloudFormation even though the lambda function does not use nodejs12 x One note the lambda is old so it is using python3 7 which might be EOL soon but we cannot upgrade the version just yet due to dependencies on python3 7 Resource handler returned message The runtime parameter of nodejs12 x is no longer supported for creating or updating AWS Lambda functions We recommend you use the new runtime nodejs18 x while creating or updating functions Service Lambda Status Code 400 Request ID On CloudFormation the failure is on this resource creation CustomDashresourceDashexistingDashs3LambdaFunction with the same error as above This is the serverless code I was using I tried removing the event and recreating it which does not work The S3 bucket is created outside of the CloudFormation template "
76401343,"user roles based access control and permissions in reactjs using aws serverless framework","https://stackoverflow.com/questions/76401343/user-roles-based-access-control-and-permissions-in-reactjs-using-aws-serverless","{reactjs,amazon-web-services,serverless-framework,user-management,role-based-access-control}","2023-06-04 16:17:49+03","2024-05-17 05:33:32.920098+03","I want to create a user management page using reactjsmui and aws serverless framework For that I want to include the User Role based Access control Give the access to the admin to change the access control and permission for the users permissions and want to give the access to the admin to change the role for a particular user OR that what should I want to do Is there any specific ways are there in aws to do this task I am a newbie for this web development and I tried to find out the correct way to find the solution but I did not find yet "
76417179,"can't run the openwhisk-node-simple-http-endpoint example locally","https://stackoverflow.com/questions/76417179/cant-run-the-openwhisk-node-simple-http-endpoint-example-locally","{serverless,serverless-framework,api-gateway,openwhisk}","2023-06-06 17:44:33+03","2024-05-17 05:33:33.894813+03","I am trying to run this simple openwhisk http endpoint example on a local Openwhisk instance When I try to deploy the example using the command severless deploy I get the following error I am starting the local Openwhisk instance using the command java jar openwhiskstandalone jar apigw as given here What could be the reason behind the API Gateway not being deployed Any help would be greatly appreciated "
76454240,"How to manually deploy serverless nodejs project in aws lambda?","https://stackoverflow.com/questions/76454240/how-to-manually-deploy-serverless-nodejs-project-in-aws-lambda","{serverless,serverless-framework,aws-serverless,serverless-architecture}","2023-06-12 06:58:16+03","2024-05-17 05:33:34.531547+03","Hi I have ran serverless package stage test command in my local then a serverless folder is created serverless folder content My doubt is do i need to upload all these files to aws lambda while doing manual serverless deploy Please help"
76463745,"AWS Cognito on Serverless IdToken undefined","https://stackoverflow.com/questions/76463745/aws-cognito-on-serverless-idtoken-undefined","{node.js,typescript,amazon-cognito,serverless-framework}","2023-06-13 10:00:23+03","2024-05-17 05:33:35.448324+03","I am trying to build a login system using ApiGateway Lambda function and cognito I created a login API that returns the token id after a successful authentication When I try to login with email and password it give me an error if credentials are not valid and just a if they are valid I tried to returns response AuthenticationResult Session and it works so login works but do not give token That is the entire response"
76465092,"automated backups for Aurora Serverless PgSQL cluster v2 for longer period","https://stackoverflow.com/questions/76465092/automated-backups-for-aurora-serverless-pgsql-cluster-v2-for-longer-period","{postgresql,amazon-web-services,serverless-framework,amazon-aurora,aws-aurora-serverless}","2023-06-13 12:43:52+03","2024-05-17 05:33:36.430931+03","As per the AWS documentation of Aurora pgsql cluster You can specify a backup retention period from 1 to 35 days when creating or modifying a DB cluster Is there any way to keep this backup for longer duration and store to S3 or in archival "
76481486,"Can i share a mongoose connection between my Lambda functions","https://stackoverflow.com/questions/76481486/can-i-share-a-mongoose-connection-between-my-lambda-functions","{mongodb,mongoose,serverless-framework,aws-step-functions}","2023-06-15 10:15:56+03","2024-05-17 05:33:37.173866+03","I am on an AWS StepFunction with some lambdas functions These functions will connect to the same database but since they are different lambdas it create a new connection every time I use Serverless and serverlessmiddlewares to create the connection before lambda start and stop connection after the end of lambda But the problem is even if it cuts the connection when i run my Step function it create a lot of connections more than 300400 I wanted to know if there is a way to have a uniq connection for the entire Step Function which could be used by all Lambda functions in If you need more details do not hesitate to ask for Thanks in advance"
76496379,"Does AWS IoT Core support binary messages in MQTT, such as CBOR?","https://stackoverflow.com/questions/76496379/does-aws-iot-core-support-binary-messages-in-mqtt-such-as-cbor","{amazon-web-services,serverless-framework,aws-iot}","2023-06-17 13:25:16+03","2024-05-17 05:33:38.18236+03","I am trying to deploy a Lambda function that processes messages from AWS IoT Core via MQTT using the Serverless Framework The function works with JSON payloads but I am having issues getting it to work with CBOR When I use CBOR payload format the Lambda function does not get triggered and the message seems to disappear Here is my configuration JSON messages arrive as expected but CBOR messages do not The handler function simply prints anything it receives to stdout My question is whether IoT Core supports only JSON payload format or if I am doing something incorrectly Python publisher"
76500742,"Serverless Framework is not applying the IAM statements","https://stackoverflow.com/questions/76500742/serverless-framework-is-not-applying-the-iam-statements","{amazon-web-services,aws-lambda,serverless-framework,aws-iot}","2023-06-18 13:19:59+03","2024-05-17 05:33:39.300938+03","I have a very simple Lambda function that listens for events on an MQTT topic and that part is working perfectly However the function is not able to publish to another topic which is not working as expected I added the necessary IAM roles and statements in my Serverless Framework configuration However when I checked in the AWS Console I noticed that these roles are not being applied What did I do wrong"
76517605,"Internal server error with status code 502, with node 18.x","https://stackoverflow.com/questions/76517605/internal-server-error-with-status-code-502-with-node-18-x","{node.js,aws-lambda,serverless,serverless-framework}","2023-06-20 18:42:13+03","2024-05-17 05:33:40.142738+03","I am new in serverless deployments I have written a script for github action workflow to do serverless deployment of a lambda function My script is working perfectly fine with both Node 14 x and Node 18 x But with Node 18 x after the deployment when I tried to access the lambda functions payload it gives me internal server error with status code 502 Can anyone please tell me what could be the possible reasons for the error in this scenario I know I am not posting any code snippet or script here because of the code security reasons but if anyone can provide me possible solutions that would be really helpful Thanks I have tried making the changes in package json file but that doesnt helped "
76518858,"Connect to a local db when invoking serverless function","https://stackoverflow.com/questions/76518858/connect-to-a-local-db-when-invoking-serverless-function","{postgresql,amazon-web-services,serverless,serverless-framework}","2023-06-20 22:55:45+03","2024-05-17 05:33:41.165135+03","I am writing a new serverless function and I would like to test out the database on my local laptop before deploying to AWS When executing the Lambda locally via sls invoke local function function name it does not seem to find the Postgres database I have tried using localhost and 127 0 0 1 The errors tend to look like Connections to this database via psql succeed I do not know much about serverlesss internals When run locally is it using docker containers Would that account for it not seeing regular localhost"
76519610,"AWS Cognito - server side Google signin","https://stackoverflow.com/questions/76519610/aws-cognito-server-side-google-signin","{amazon-web-services,aws-lambda,oauth-2.0,amazon-cognito,serverless-framework}","2023-06-21 02:48:18+03","2024-05-17 05:33:42.637732+03","I am building an auth microservice based on AWS lambdas and Cognito I a currently trying to build social sign in with Google After reviewing instructions they all point out to either using the Cognito hosted UI or AWS Amplify However my app is a pure backend based on the serverless framework and performs all authentication server side Thse are the resources defined within my serverless yaml I am able to perform the Google sign in and generate Googles IdToken and AccessToken I must now however send these tokens over to cognito and exchange them for cognito credentials I imagine that this must bear some resemblance to how it is done in a traditional USERPASSWORD flow I just do not understand how to create a Cognito user using the social signup through the SDK and then how to authenticate then I was drafting something like this for authentication But I could not find any information regarding these operations in the SDK or Cognito documentations Does anyone know how to perform them"
76533551,"What are the benefits for AWS Lambda Functions Using Serverless Framework on Single JAR vs Multiple JARs","https://stackoverflow.com/questions/76533551/what-are-the-benefits-for-aws-lambda-functions-using-serverless-framework-on-sin","{aws-lambda,serverless,serverless-framework}","2023-06-22 15:37:19+03","2024-05-17 05:33:42.838691+03","Ive been working on deploying a few AWS Lambda functions using the Serverless Framework and have a couple of questions regarding the organization of my deployment packages I understand that its possible to package each Lambda function into a separate JAR file which makes sense for functions that are largely independent However I also understand that related Lambda functions can be grouped together into a single JAR file to improve deployment efficiency and manageability So my first question is when deploying AWS Lambda functions using the Serverless Framework is it a common or best practice to create a separate JAR file for each Lambda function or should I be grouping related functions together into a single JAR file Additionally if I choose to package multiple Lambda functions into a single JAR file Im curious to know what happens when one of the functions is invoked Specifically when I call one function do all other functions defined in the JAR also get loaded or does AWS Lambda only load the function thats actually being invoked Any advice or experience you could share on these matters would be greatly appreciated Thanks in advance "
76541128,"Rule for an S3 Object Creation event to ignore certain S3 Object Creation events","https://stackoverflow.com/questions/76541128/rule-for-an-s3-object-creation-event-to-ignore-certain-s3-object-creation-events","{amazon-web-services,amazon-s3,serverless-framework}","2023-06-23 14:38:38+03","2024-05-17 05:33:43.8065+03","I have a lambda that is listening for s3ObjectCreated events on a bucket What it does is pull down the object that is created manipulate the object a bit then write the object back to S3 this then triggers the s3ObjectCreated event which starts the process again This is what my rule looks like Now when I loop over the records in the event Records I see that some of the data populated in the record is I only really want to deal with objects created by this BitBucketPipeline userIdentity I could add this to the code But I would prefer it to be some kind of natural rule if possible "
76566799,"sls deploy returns 'update_failed' after heavy use","https://stackoverflow.com/questions/76566799/sls-deploy-returns-update-failed-after-heavy-use","{amazon-web-services,aws-lambda,serverless-framework}","2023-06-27 16:12:26+03","2024-05-17 05:33:44.8155+03","I have got a stack that has been successfully deployed for several months It includes S3 buckets Dynamo tables a Cognito user pool API Gateway and several Lambda functions Periodic updates or adding new functions worked well Nice In the last week I have been using sls deploy much more often as I debug a specific function Suddenly this returns UPDATE_FAILED anyFunctionHere LambdaFunction AWSLambdaFunction Resource handler returned message Unzipped size must be smaller than 262144000 bytes Service Lambda Status Code 400 Request ID xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx RequestToken xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx HandlerErrorCode InvalidRequest for random lambdas sometimes the one I am working on sometimes one I have not touched in weeks These functions are not close to the size limit and the one I am working on has a single layer attached which again is not a big file It just seems to happen when a stack is deployed frequently Almost like there is a buildup that needs to be cleaned I tried following the advice here Serverless deploy Function not found sls deploy with no success I tried going in to the Lambda console and deleting troublesome functions but that has not helped either Sometimes I get Function name not found and sometimes it is another Unzipped size message about an unrelated function How do I move beyond this error and get back to development My serverless yml file "
76566941,"How to reuse Serverless Framework package artifacts for multiple environments?","https://stackoverflow.com/questions/76566941/how-to-reuse-serverless-framework-package-artifacts-for-multiple-environments","{aws-lambda,serverless-framework}","2023-06-27 16:35:21+03","2024-05-17 05:33:45.699487+03","I am using Serverless Framework with AWS Lambda I have a build pipeline in which I would like to be able to have a single job for building the artifact using sls package and then 2 jobs to deploy this package to a testing and a production environment using sls deploy package serverless Unfortunately this is not possible because Serverless packages not only contain the Lambdas source code but they also contain infrastructurespecific data including a JSON file describing the state of the infrastructure and a cloud formation template which are tied a specific infrastructure state in my case testing or production For now I have to build 2 separate packages which takes more CI time and defeats the principle of having a single immutable package Has anyone found a workaround for this For instance would it be possible to use sls package with the testing environment stage and then just regenerate the state files for the production environment in order to save CI time Thanks in advance for your help "
76586135,"In serverless, readXlsxFile & XLSX npm packages are not working?","https://stackoverflow.com/questions/76586135/in-serverless-readxlsxfile-xlsx-npm-packages-are-not-working","{node.js,xlsx,serverless,serverless-framework,aws-serverless}","2023-06-30 04:54:41+03","2024-05-17 05:33:46.697482+03","When we converted serverful to serverless the npm packages such as XLSX readXlsxFile are not working It is throwing error It was working properly in serverful environment Our backend technology is nodejsV16 15 1 Please help "
76611251,"How to pass custom cli commands to serverless-offline?","https://stackoverflow.com/questions/76611251/how-to-pass-custom-cli-commands-to-serverless-offline","{node.js,serverless,serverless-framework,serverless-offline}","2023-07-04 09:38:25+03","2024-05-17 05:33:47.473612+03","I am migrating a serverless application to it is most recent versions This is the starting point New versions In it is original state we have passed in a custom variable to indicate the account to use This flag is used to get the config in the serverless yml service myApplication The serverlessconfig yml then has differend keys for the target account flag Running the develop script now returns the following error How can I pass in the custom targetaccount flag using serverlessoffline in its current version"
76835077,"I occasionally get failed api request when i hit my API gateway for a serverless lambda nodejs application","https://stackoverflow.com/questions/76835077/i-occasionally-get-failed-api-request-when-i-hit-my-api-gateway-for-a-serverless","{mysql,node.js,express,lambda,serverless-framework}","2023-08-04 10:28:35+03","2024-05-17 05:33:51.165439+03","Sometimes when I hit my endpoint it gives 502 response I even configured a cron event that wakes my lambda function every 4 mins Even with that cron some requests still give the 502 occasionally this is the error i see on cloudwatch 20230804T091720 041Z 2357fed90aec463db696f7c88ba975db INFO ERROR vendiaserverlessexpress connection error 20230804T091720 041Z 2357fed90aec463db696f7c88ba975db ERROR Error write EPIPE at afterWriteDispatched nodeinternalstream_base_commons16015 at writevGeneric nodeinternalstream_base_commons1433 at Socket _writeGeneric nodenet90311 at Socket _writev nodenet9128 at doWrite nodeinternalstreamswritable40812 at clearBuffer nodeinternalstreamswritable5635 at Socket Writable uncork nodeinternalstreamswritable3507 at ClientRequest _flushOutput node_http_outgoing109410 at ClientRequest _flush node_http_outgoing106322 at onSocketNT node_http_client8949 errno 32 code EPIPE syscall write END RequestId 2357fed90aec463db696f7c88ba975db I have searched everywhere for solution but couldnt find I expect to see no errors anytime i hit the api because of the cron already in place to wake my lambda function error screenshot"
76837874,"Issues with Serverless framework Github action when mixing Java and Nodejs lambdas","https://stackoverflow.com/questions/76837874/issues-with-serverless-framework-github-action-when-mixing-java-and-nodejs-lambd","{github-actions,serverless-framework,aws-serverless}","2023-08-04 16:57:20+03","2024-05-17 05:33:51.633266+03","I have a serverless project that has a bunch of nodejs lambdas It builds and deploys fine in github actions Lately I added one Java Lambda which needs to be built with gradlew wrapper A gradle task gradle build` first builds and packages the java code which is then later picked up my the main serverless deploy which obviously runs in a nodejs context my build gradle In my github acton file I use the gradle features of github actions to do a gradle build first which seems to run fine but I guess the resultant zip file that it builds is not available to the serverless deploy that runs later since gradle and nodejs probly run in too different containers under the hood or seomthing "
76839809,"How I can use 4 different http_methods in the same lambda function?","https://stackoverflow.com/questions/76839809/how-i-can-use-4-different-http-methods-in-the-same-lambda-function","{python-3.x,amazon-web-services,aws-lambda,serverless-framework}","2023-08-05 01:35:00+03","2024-05-17 05:33:52.659411+03","I have this function with which I intend to handle instances of ec2 with get I list all the instances in the region post to create a new instance put to modify one and delete to delete one instance I am using Python 3 9 lambda and serverless When I test get and post block with curl works well and runs the task but when I try it with put and delete I get this error Missing Authentication Token and I do not know why this happens I try it to modify and delete ec2 instances"
76841147,"How dockerize a serverless project","https://stackoverflow.com/questions/76841147/how-dockerize-a-serverless-project","{aws-lambda,serverless-framework}","2023-08-05 10:16:13+03","2024-05-17 05:33:53.637432+03","I have a project that uses the serverless framework to deploy lambdas on my AWS environment This project is a web server that receives API calls However I have a customer who would like to host it locally on one of his servers using docker The problem is that I cannot find any solution to dockerize my serverless project Is there a way to take this serverless project dockerize it deploy this docker and then the customer can make API calls The only solution I can think of is to add an abstraction layer and a flaskexpress server which converts the API calls into calls to my lambda functions I am not sure how clear this is I have not found any solution that does this Am I the only person facing this situation"
76845412,"Github Actions - Strange issue with building Layers","https://stackoverflow.com/questions/76845412/github-actions-strange-issue-with-building-layers","{aws-lambda,github-actions,serverless-framework}","2023-08-06 10:21:18+03","2024-05-17 05:33:54.106+03","I can deploy locally no problem but it fails on Github actions with this message Here is my serverless yml and here is my github build spec"
76859556,"Filter key in query params and there is parsing error in aws gateway","https://stackoverflow.com/questions/76859556/filter-key-in-query-params-and-there-is-parsing-error-in-aws-gateway","{amazon-web-services,aws-lambda,aws-api-gateway,serverless,serverless-framework}","2023-08-08 12:26:50+03","2024-05-17 05:33:55.758399+03","I am using serverless framework and recently changed to lambda integration from lambda proxy integration Now I have one endpoint that uses filter in query params And this is the request template I am using to map query strings This is the endpoint httpsexample comdsdistrictspage1pagesize12filtercriterianame27John27 But when I invoke this endpoint I am getting error These are the docs I am referring httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewaymappingtemplatereference htmlutiltemplatereference httpswww serverless comframeworkdocsprovidersawseventsapigatewaylambdaintegration Any help or suggestion is greatly appreciated thanks"
76860721,"Serverless - Packaged functions include other functions","https://stackoverflow.com/questions/76860721/serverless-packaged-functions-include-other-functions","{aws-lambda,serverless-framework}","2023-08-08 14:51:55+03","2024-05-17 05:33:55.896377+03","Having trouble with lambda package sizes and not finding any working solutions I looked at the packages to see why a function that literally only returns the event would be 67175 KB zipped and saw it also contains all the other functions Why I took away the package individually true and it makes the entire bundle 67161 KB and I still get a toolarge error message on function2 What else can I do to reduce the packaging of these functions serverless yml "
76867539,"Is ""admin"" reserved keyword in serverless lambda","https://stackoverflow.com/questions/76867539/is-admin-reserved-keyword-in-serverless-lambda","{aws-lambda,serverless-framework,bitbucket-pipelines,aws-serverless}","2023-08-09 11:54:54+03","2024-05-17 05:33:56.869943+03","We have a aws lambda function using serverless framework We are seeing weird behavior when bitbucket pipeline is running all the instances of word admin are being replaced by ARTIFACTORY_USER When we are trying to echoing variables in pipeline we are getting this output img Is the admin the reserved keyword in lambda what are the possible cause of this This is the command we are using npm i sls deploy region cacentral1 stage dev Below are the serverless plugins we are using We tried to run the same code in different pipeline which doesnt contain admin word anywhere in the serverless yml its working there Need confirmation whether admin is the reserved keyword in serverless framework We have admin in the domain url as well if its a reserved keyword how can we still use it in the domain name"
69796337,"Can we setup Knative cluster with Kata Container runtime?","https://stackoverflow.com/questions/69796337/can-we-setup-knative-cluster-with-kata-container-runtime","{kubernetes,serverless,knative,knative-serving,kata-containers}","2021-11-01 11:31:53+02","2024-05-17 05:42:06.302823+03","I am a newbie to lightweight virtual machines I am going to install Knative with Kata Container Runtime Is it possible I know that Kubernetes works with Kata Container runtime But Does Knative work properly with that"
76874152,"Can't get serverless.com and AWS to handle a binary file, even with the simplest code","https://stackoverflow.com/questions/76874152/cant-get-serverless-com-and-aws-to-handle-a-binary-file-even-with-the-simplest","{aws-lambda,aws-api-gateway,serverless-framework}","2023-08-10 08:57:32+03","2024-05-17 05:33:57.929359+03","I have made a super simple serverless com repo here that makes an endpoint in AWS that accepts a PDF and returns it as a test case to learn how binary files are handled Here is the serverless yml Here is the handler And here is the package json I run it offline like this And I invoke the endpoint like this The posted PDF is 1 3MB in size and I get 489 bytes back and its gibberish How do I make this work Update 1 Following the comment from le3th4x0rbot I want to make clear that I want to be able to post a binary PDF to this endpoint not a base64 encoded one "
76876663,"Deploy lambda with serverless framework not working with 2 seperate functions","https://stackoverflow.com/questions/76876663/deploy-lambda-with-serverless-framework-not-working-with-2-seperate-functions","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,aws-serverless}","2023-08-10 14:24:46+03","2024-05-17 05:33:58.87737+03","I am trying to deploy a lambda function lambda1 with the serverless framework which should have a s3 create event as trigger Beside the lambda function to deploy exists a second lambda function lambda2 with a different name which have nothing to do with each other But also with a s3trigger Both functions using different Buckets Every time I try to deploy lambda1 it says the following config of lambda1 config of lambda2 When I delete both CloudFormation Stacks It is possible to deploy one of the lambdas but than the other one will fail Also I didnt defined this ressource in the serverless yml both s3triggerbuckets are named different than than prefixofbothlambdascustomresourceexistings3"
76878320,"S3 upload works on sls offline but don’t work after sls deploy on real aws api url","https://stackoverflow.com/questions/76878320/s3-upload-works-on-sls-offline-but-don-t-work-after-sls-deploy-on-real-aws-api-u","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,aws-serverless}","2023-08-10 18:10:49+03","2024-05-17 05:33:59.653308+03","s3 upload works on sls offline but do not work after sls deploy on real aws api url after sls deploy and I get the endpoint url and try to upload image but it give access denied error on my catch block thing of s3 putObject but on sls offline local it work and in s3 bucket I can see files but after deploying it is not uploading and giving access denied Real Api After Deploy vs Localhost local vs aws url api image serverless yml is bellow lambda function code"
76910115,"Different Postgres schemes with different models in Python alembic","https://stackoverflow.com/questions/76910115/different-postgres-schemes-with-different-models-in-python-alembic","{python,postgresql,sqlalchemy,serverless-framework,alembic}","2023-08-16 02:19:08+03","2024-05-17 05:34:00.417331+03","I am new to using SQLAlchemy and Alembic and Im trying to work with different models and schemas in a Postgres database These schemas represent different system domains and the idea is to unify database models and migrations into a single project My question is whether it is possible to keep migrations from the database with a single instance of alembic I would appreciate some approach or suggestion on how to implement this "
76910264,"how to create folder inside s3 bucket - serverless framework","https://stackoverflow.com/questions/76910264/how-to-create-folder-inside-s3-bucket-serverless-framework","{amazon-web-services,amazon-s3,aws-cloudformation,serverless-framework}","2023-08-16 03:08:45+03","2024-05-17 05:34:01.105018+03","I do not understand the error when I try to create a folder inside the bucket on my serverless The error is BucketXXXXimage already exists Heres the code I need create a folder inside the bucket is possible do it"
76915857,"Serverless environment variable scope","https://stackoverflow.com/questions/76915857/serverless-environment-variable-scope","{aws-cloudformation,serverless-framework,aws-serverless}","2023-08-16 17:33:29+03","2024-05-17 05:34:02.28332+03","We have one yaml file that has 1 service with several lambda function definitions I am trying to define an environment variable under one function and was hoping that could be picked up in the iamrole statement but I got Value not found at env source But I need the variable to be defined at each function level Is there a way we could achieve that Our yml looks like Thanks a lot "
76934059,"How to run lambda integration mode in serverless locally","https://stackoverflow.com/questions/76934059/how-to-run-lambda-integration-mode-in-serverless-locally","{amazon-web-services,aws-lambda,aws-api-gateway,serverless,serverless-framework}","2023-08-19 07:39:22+03","2024-05-17 05:34:03.310326+03","I want to run serverless application locally earlier this was working using lambda proxy but I want to change it to lambda integration So I have defined request and response template as follows but when I invoke lambda locally I see this response and I expect only body in response this breaks running UI locally when I run the application in aws I get correct response Is there any additional configuration to be done in serverless yml This is how serverless yml looks like Any additional configuration I need to configure to get correct only body in response running locally will be of great help Also I have GET request with query params that is not passed Please note I am using [email protected] node version 16 I am running app locally using sls offline start this is the lambda code This is the error message in terminal from catch "
76935995,"How to send log data to a remote server in a Python-Flask serverless function running in Vercel without making the main function wait","https://stackoverflow.com/questions/76935995/how-to-send-log-data-to-a-remote-server-in-a-python-flask-serverless-function-ru","{python,flask,serverless,serverless-framework,vercel}","2023-08-19 16:04:06+03","2024-05-17 05:34:04.136159+03","The following is a minimum working example of my PythonFlask which is working as the backend of my web app It is hosted in Vercell and it is working as a serverless function I am keeping a log of the incoming requests and I have to write this to a remote server Now I am using the Process submodule from multiprocessing to send the log data I use this approach because sometimes the writing log data can take several seconds and the main function will have to wait till then However the problem is that since this is working as a serverless function the request is closed as soon as the return statement is executed and about half of the time the log data is not being written What is the best way to write log data to a remote server in such a situation Without having to make the main function wait and also making sure that the log data is being written"
77411767,"AWS X-ray local get segment data","https://stackoverflow.com/questions/77411767/aws-x-ray-local-get-segment-data","{aws-lambda,serverless-framework,aws-xray}","2023-11-02 17:39:26+02","2024-05-17 05:34:22.478123+03","I have local xray daemon running on my mac and I am testing a graphql lambda the instrument traces I am using serverless offline for testing the lambda The daemon logs show Successfully sent batch of 9 segments 0 318 seconds but I am not able to see any traces in my console Also what other ways are there to view the segments that are being relayed I wanted to test my xray instrumenting but there is no way to know what segments are being trace and how I do set my set profile before running the local daemon here is my serverless yml just in case I am missing something there"
76938681,"Request body idToken and access token is received as undefined when lambda integration is turned on, in serverless","https://stackoverflow.com/questions/76938681/request-body-idtoken-and-access-token-is-received-as-undefined-when-lambda-integ","{aws-lambda,aws-api-gateway,serverless,serverless-framework,aws-serverless}","2023-08-20 09:01:06+03","2024-05-17 05:34:05.002283+03","I want to enable lambda integration for auth endpoint which is post and expects idToken and accessToken in its payload When I observe cloudwatch log printing req body idToken or req body accessToken I see it is printed as undefined but when turning off lambda integration I see idToken and accessToken getting printed So I want to understand if there is any limit that can be passed in payload if integration is turned on Here is my serverless yml This is the sample payload Has anyone faced this when lambda int is turned or any suggestion would be of great help thanks "
76962729,"How install pydantic library in AWS Lambda?","https://stackoverflow.com/questions/76962729/how-install-pydantic-library-in-aws-lambda","{python,flask,aws-lambda,serverless-framework,pydantic}","2023-08-23 15:12:49+03","2024-05-17 05:34:06.250884+03","I am working in a project develop with serverless framework Flask and MongoDB The problem it is when I try to install pydantic in the traceback says ModuleNotFoundError No module named pydantic_core _pydantic_core but in my requirements is specify the library Is there a form to install pydantic or is not possible install the library in Lambdas AWS I have tried downgrading the version of python pydantic Flask I also specified the library pydantic_core and not working "
76968030,"i am getting Warning: found unsupported runtime 'nodejs18.x' for function 'rs-ms-v1' × Unsupported runtime","https://stackoverflow.com/questions/76968030/i-am-getting-warning-found-unsupported-runtime-nodejs18-x-for-function-rs-ms","{node.js,aws-lambda,serverless,serverless-framework,serverless-architecture}","2023-08-24 09:36:14+03","2024-05-17 05:34:07.157973+03","i tried to update my application from node 16 to node 18 and after completing my changes versions i started my app and sent a api call and i received following output we are using serverless yml file my serverless library version is 3 33 0 i checked the aws documentation lambda functions started to support nodejs18 x please attach your solutions below "
76989182,"Monorepo NestJS API Application + Multiple AWS Lambdas using Serverless","https://stackoverflow.com/questions/76989182/monorepo-nestjs-api-application-multiple-aws-lambdas-using-serverless","{amazon-web-services,aws-lambda,devops,serverless,serverless-framework}","2023-08-27 22:29:43+03","2024-05-17 05:34:07.326251+03","I am working on building a NestJS API application using a monorepo approach to keep all my endpoints organized in one codebase However I am facing a challenge when it comes to deploying this application to multiple AWS Lambdas each representing a different module like Auth Users Posts etc and then mapping them to a unified API Gateway In my previous attempts I have created separate NestJS projects for each module which resulted in a maintenance nightmare due to shared code complexities Now I am exploring the option of maintaining a single codebase for all modules My goal is to deploy each module as an individual AWS Lambda function while still keeping the codebase manageable So heres my main question Can I achieve this setup using the Serverless Framework I want to have a single codebase for all the modules and deploy them to separate AWS Lambdas Additionally I am aiming to integrate these Lambdas under a single API Gateway to provide a unified API access point Any insights advice or examples on how to structure my Serverless Framework configuration how to manage the shared codebase efficiently and how to set up the API Gateway to work with these multiple Lambdas would be greatly appreciated Thank you in advance for your help "
76990708,"AWS Lambda serverless framework deployment error","https://stackoverflow.com/questions/76990708/aws-lambda-serverless-framework-deployment-error","{amazon-s3,aws-lambda,aws-cloudformation,serverless-framework,amazon-vpc}","2023-08-28 07:16:46+03","2024-05-17 05:34:08.308324+03","I want to deploy my Lambda functions to AWS Lambda using Serverless Framework with this command serverless deploy stage dev region eucentral1 Heres my servless yml file Heres the resources yml file It fails with the error message Error CREATE_FAILED serverlessKinesisFirehoseBucket AWSS3Bucket sensorprocessorv3dev already exists I investigated the issue and determined that my S3 bucket must have a unique name across all AWS regions I adjusted my AWS S3 bucket to avoid the error during testing However it still fails and displays the error message Error CREATE_FAILED RedisCluster AWSElastiCacheReplicationGroup Cache subnet group mmvpccache does not exist Service AmazonElastiCache Status Code 400 Error Code CacheSubnetGroupNotFoundFault Request ID 2cbfadb280864ce8ae611d75dcaaa1aa Proxy null "
76991338,"Serverless framework tries to create a new S3 bucket instead of refercing an existing one","https://stackoverflow.com/questions/76991338/serverless-framework-tries-to-create-a-new-s3-bucket-instead-of-refercing-an-exi","{amazon-web-services,amazon-s3,aws-lambda,serverless,serverless-framework}","2023-08-28 08:55:22+03","2024-05-17 05:34:09.581927+03","Heres my AWS S3 bucket inside serverless yml file When I run It fails with the error message That is because all S3 bucket names should be unique across all AWS regions I found out that I need to reference an S3 bucket instead of creating one How can I do that"
77020480,"Serverless Offline: Route Not Found"" Error Despite Correct Configuration","https://stackoverflow.com/questions/77020480/serverless-offline-route-not-found-error-despite-correct-configuration","{aws-lambda,serverless-framework,aws-sdk-js,serverless-offline}","2023-09-01 04:19:09+03","2024-05-17 05:34:10.230289+03","Hello Stack Overflow community I am facing an issue with the Serverless Framework and the serverlessoffline plugin where I am getting a route not found error despite having the correct configuration I have tried various troubleshooting steps but have not been able to resolve the issue I am seeking assistance to identify what might be causing this problem I am working on a Serverless application using the Serverless Framework and AWS Lambda I am using the serverlessoffline plugin for local development and testing I have defined an endpoint devlogin with the GET method in my serverless yml configuration and I am trying to access it using httplocalhost3000devlogin However I am consistently encountering a route not found error Despite these efforts the issue persists and I am unable to access the endpoint Here is my serverless yml code Here is my handler js login function code "
77494927,"Not able to use env in severless yml?","https://stackoverflow.com/questions/77494927/not-able-to-use-env-in-severless-yml","{serverless,serverless-framework}","2023-11-16 12:47:36+02","2024-05-17 05:34:31.888414+03","env flag during sls deploy command but was getting Here is my severless yml my deploy command was Also tried with adding useDotenv true in severless yml"
69807255,"Not able to load Kubernetes logs","https://stackoverflow.com/questions/69807255/not-able-to-load-kubernetes-logs","{kubernetes,kubectl,azure-aks,knative,knative-eventing}","2021-11-02 08:22:49+02","2024-05-17 05:42:07.424685+03","I am running an AKS Azure Kubernetes Service cluster but now when try to reach the logs I am getting the issue below which is weird because I was not facing it Issue Expected behavior I expect the logs to be displayed Additional information Thank you in advance "
77029277,"AWS API Gateway non proxy integration not mapped","https://stackoverflow.com/questions/77029277/aws-api-gateway-non-proxy-integration-not-mapped","{aws-lambda,aws-api-gateway,serverless-framework}","2023-09-02 17:16:24+03","2024-05-17 05:34:11.037739+03","I am using Serverless framework to generate Lambdas and the API Gateway Some of my functions use cognito so i specified them as integration lambda I know this is not mandatory but i wanted more granular control over the returned claims I read that in non proxy lambda the default behavior is to always return 200 and that it can be modified I have read about template mapping and also followed these two links question 64644447 on SO and API Gateway integration response setup for AWS Lambda As i started following them i noticed that Serverless framework already generated several responses for me and when throwing exceptions such as Error [400] my bad request the response was as expected status code is 400 reponse is errorType errorMessage [400] my bad request However when trying to apply template mapping rules nothing works and the response stays the same I have tried message input json errorMessage and even msg foo and to no effect Attached are photos of lambda yaml and AWS console"
77032851,"Sharing common code between different node.js projects using webpack","https://stackoverflow.com/questions/77032851/sharing-common-code-between-different-node-js-projects-using-webpack","{node.js,webpack,aws-lambda,serverless-framework}","2023-09-03 14:55:57+03","2024-05-17 05:34:12.091692+03","I have following lambda project structure root As you can see I am using TS but currently it is combined with JS For local start and deploying my lambdas I am using SLS Webpack is used by the SLS Previously it was working okay but now we need to upgrade sequelize to version 6 6 31 0 And this way transactions did not work anymore After investigation I have realized that common code which is main provider for different sequelize actions uses it is own sequelize from roots node_modules but transaction was created by service1node_modulessequelize and this way instance of Transaction check fails inside inner Sequelzie code So my idea was to moveout all common packages from service package json files to the roots package json All TS errors fixed But now I am facing trobubles connected with webpack When It tries to bundle the whole project for example service1 it shows me these warings WARNING Compiled with 1 warning 53701 PM warning in node_modulessequelizelibdialectsabstractconnectionmanager js Critical dependency the request of a dependency is an expression 3 assets 731 modules WARNING in node_modulessequelizelibdialectsabstractconnectionmanager js 441563 Critical dependency the request of a dependency is an expression WARNING in node_modulessequelizelibdialectsabstractconnectionmanager js 491332 Critical dependency the request of a dependency is an expression webpack 5 88 2 compiled with 2 warnings in 13087 ms` That is because sequelize uses mysql2 dependency inside and even if it is possible to run the project sequelize throws me runtime error later Please install mysql2 package manually I suggest that webpack config is wrong for my situation And inner require statements did not for for roots node_modules my webpack config js is so So what did I miss Or may be it is even impossible to work this way with webpack Is so is it possible to prepare two separate webpack config js for root folder bundle it separately and then somehow merge it with service1 bundle"
77035051,"Serverless Framework: Is there a way to put index.js file in root of zipped package using serverless?","https://stackoverflow.com/questions/77035051/serverless-framework-is-there-a-way-to-put-index-js-file-in-root-of-zipped-pack","{node.js,aws-lambda,serverless,serverless-framework}","2023-09-04 04:19:54+03","2024-05-17 05:34:12.997167+03","I am having trouble deploying outputted zip file when running serverless package as the index js file is not located in root For context the lambda function to be deployed was developed in a separate repo different package json diff git repo from the main project a next js site And I deploy it just by zipping the folder into a zip file and uploading that When doing this the index js file is in the root of the zipped directory so there is no problem doing that Now I have moved the lambda function folder also removed its package json and node_modules since I do not want a subrepo inside the main project So my folder structure looks like this I am using serverless to package it so it can use the main projects packages It works when I am testing using serverlessoffline however the issue is when I run serverless package it outputs a zip file with no index js in the root directory Instead the zip files folder structure looks like this Is there a way to configure it so when I run serverless package the folder structure of the zipped file looks like this this is my serverless yml Or if there is a better way to do this please let me know Thanks "
77038165,"Can I validate a header value in API Gateway?","https://stackoverflow.com/questions/77038165/can-i-validate-a-header-value-in-api-gateway","{amazon-web-services,aws-lambda,aws-api-gateway,serverless-framework}","2023-09-04 13:31:54+03","2024-05-17 05:34:14.641462+03","I use the Serverless Framework to build and deploy my lambdas There is a service I use that sends a secret string in a specific header e g XSecret and this string is always the same e g FOOBAR I do not want to create a Lambda authoriser just to compare it Can API Gateway natively filter out requests based on header values In this case can it block requests that do not have the header XSecret set to FOOBAR "
77067539,"Error Passing Variables Between Stacks with Serverless Compose: Issue with serverless-sequelize-migrations Plugin","https://stackoverflow.com/questions/77067539/error-passing-variables-between-stacks-with-serverless-compose-issue-with-serve","{plugins,serverless-framework}","2023-09-08 13:56:03+03","2024-05-17 05:34:14.716178+03","I am trying to pass variables between stacks using Serverless Compose but I get an error when running a custom script to execute a sql migration using the serverlesssequelizemigrations plugin The variable is usable in the stack as I can see it in my environment when deploying a lambda Is there something I am missing about how serverless handles its context or is this maybe a bug in the plugin Relevant snippets from my setup serverless_compose yml serviceserverless yml migrationserverless yml"
77104323,"AWS Lambda functions error: Handler missing on module after deployment with Serverless Framework","https://stackoverflow.com/questions/77104323/aws-lambda-functions-error-handler-missing-on-module-after-deployment-with-serv","{amazon-web-services,aws-lambda,serverless-framework,aws-step-functions}","2023-09-14 11:08:58+03","2024-05-17 05:34:15.447175+03","I have a project that uses Serverless Framework to manage and deploy AWS services In the serverless yml file it is defined a state function and 3 Lambda functions in this way and there are references to the three files serverless sfn yml serverless resources yml and serverless env yml The definitions of the 3 functions are contained in the wesii_pipelines folder inside the handlers py file in this way After the last deployment in which I tried to update the runtime version of Python for the Lambda functions from 3 7 to 3 11 every execution of the stepfunctions fails giving this error I have not done any deploy in a year so I have not changed any of the aws resources used by the project Even trying to redeploy with the old version of Python 3 7 gives me the same error so this makes me think that something has changed in the way the Serverless Framework builds the deployment and associates the names of the Lambda Functions with their definitions What could be causing this error"
78085887,"Where is the official source git repo for npm @serverless/docker-image package?","https://stackoverflow.com/questions/78085887/where-is-the-official-source-git-repo-for-npm-serverless-docker-image-package","{node.js,npm,serverless-framework}","2024-03-01 06:25:53+02","2024-05-17 05:34:53.111771+03","I would like to make some patch for serverlessdockerimage if possible I would like to fork the Github repo but could not find the source This httpsgithub comserverlessqdockertypealllanguagesort would have some result not there was no luck and package json did not include the repo url ps The reason I want to find this I could just create a new repo using what is in the NPM repo but would like to get some possible updates from the source and send some PR if it worth "
77112153,"Duplicate “graphql” modules cannot be used at the same time since different versions may have different capabilities and behaviour","https://stackoverflow.com/questions/77112153/duplicate-graphql-modules-cannot-be-used-at-the-same-time-since-different-vers","{typescript,graphql,serverless-framework,apollo-server,aws-serverless}","2023-09-15 11:53:40+03","2024-05-17 05:34:16.625431+03","`Currently i am facing the problem during the migration of the Apollo server from version 2 to version 4 We are downloading and implementing changes in lot of packages mainly when it comes to the Graphql package i have downloaded all the components and installed in my machine but some packages says that duplicate graphql modules are present and so the compilation error occurs The data from one version used in the function from another produce confusing and spurious results [serverlessoffline] Error Cannot use GraphQLObjectType Query from another module or realm [serverlessoffline] Ensure that there is only one instance of graphql in the node_modules [serverlessoffline] directory If different versions of graphql are the dependencies of other [serverlessoffline] relied on modules use resolutions to ensure only one version is installed ` And I have installed these Packages in below setup and tried Resolutions Packages still getting same errors of Duplicate graphql enter image description here `` In Apollo server Migration in below middleware setup but getting errors of duplicate graphql version and we have used graphql scalars resolvers is this below setup enough how do i solve this below setup initialize resolvers is that fine any alternative method to connect graphql resolvers used in middleware Can You please Explain in a Simple Manner the Apollo migration Process version2 to version 4 Middle Ware Setup version3 deprecated import makeExecutableSchema from graphqltoolsschema import initializeTypeDefs from helpersinitializeTypeDefs import initializeResolvers from helpersinitializeResolvers Inside Path "
77123406,"AWS Lambda: ""Unzipped size must be smaller than 106534017 bytes"" after adding single file","https://stackoverflow.com/questions/77123406/aws-lambda-unzipped-size-must-be-smaller-than-106534017-bytes-after-adding-si","{amazon-web-services,ffmpeg,serverless-framework}","2023-09-17 20:01:35+03","2024-05-17 05:34:17.140166+03","When trying to deploy my lambdas using AWS through the serverless framework I had no problems until I tried adding the ffmpeg binary Now the ffmpeg binaries I have tried to add have ranged from 26 mb to 50 mb Whichever I add I get the following error The problem is that I did not add the file to this function I added it to a completely different one I have tried the following things When trying every single one of these options I get the UPDATE_FAILED error in a different function that surely is not too big I know I can deploy using a docker image but why complicate things with docker images when it should work I am very thankful for any ideas "
77136439,"Do I need to create a reader and writer db instance when creating an AWS Aurora Serverless V2 cluster?","https://stackoverflow.com/questions/77136439/do-i-need-to-create-a-reader-and-writer-db-instance-when-creating-an-aws-aurora","{amazon-web-services,aws-cloudformation,amazon-rds,serverless-framework,aws-aurora-serverless}","2023-09-19 16:38:53+03","2024-05-17 05:34:18.009139+03","I am creating an AWS Aurora Serverless V2 Postgres database cluster AWSRDSDBCluster using Cloudformation and Serverless Framework see below It is unclear if I should also create two database instances AWSRDSDBInstance so that the cluster has a reader and writer instance available When I run through the AWS RDS Wizard the Aurora Serverless V2 cluster is automatically set up with two instances reader and writer I am assuming I should do the same when creating the cloudformation script Cluster DbInstance 1 reader DbInstance 2 writer Do I need to specify these two db instances When I do not specify these two instances my cluster is stick with creating as the status "
77179963,"sls deploy - command not found when running via google/zx","https://stackoverflow.com/questions/77179963/sls-deploy-command-not-found-when-running-via-google-zx","{javascript,bash,serverless-framework,google-zx}","2023-09-26 12:20:41+03","2024-05-17 05:34:18.784249+03","I want to write a simple deploy script with googlezx which deploys my serverless yml files However I always receive this error when trying to binbash sls deploy stage test region euwest1 awsprofile myprofile command not found I can successfully run sls deploy in my terminal I run the script in the terminal via deploy mjs"
77380860,"WAFv2 WebACLAssociation ""The ARN isn't valid"" - direct setup works","https://stackoverflow.com/questions/77380860/wafv2-webaclassociation-the-arn-isnt-valid-direct-setup-works","{amazon-web-services,rest,aws-cloudformation,serverless-framework,amazon-waf}","2023-10-28 19:11:02+03","2024-05-17 05:34:19.93712+03","I have been trying to connect my ApiGateway RestApi to my WAF WebACL for some time now I am working with the serverless framework so I have the Cloudformation template serverless yml Here is my setup When commenting out the WebACLAssociation everything deploys fine and the resources are created correctly I can also make the association in the web interface without issue but I want to deploy to different stages and having to do this manually when it should work normally is errorprone and I would like to avoid it at all cost I have tried the following Does anybody have an idea why this could be happening Thanks in advance "
77384370,"Can we use serverless-step-functions plugin with aws-go-mod serverless framework's tempalte","https://stackoverflow.com/questions/77384370/can-we-use-serverless-step-functions-plugin-with-aws-go-mod-serverless-framework","{amazon-web-services,go,serverless,serverless-framework,aws-step-functions}","2023-10-29 17:20:21+02","2024-05-17 05:34:20.715071+03","I have initialised a serverless application using awsgomod template I want to define step functions with lambda functions associated with it If we use nodejs we can simply use the plugin serverlessstepfunctions to define the workflow As I am using golang for the development of the handlers serverlessstepfunctions is not available To make use of the plugin what I have done is I have initialised a npm using npm init y within the root directory where I have the serverless yml file and installed the plugin using npm install savedev serverlessstepfunctions After that I include the below line to the serverless yml file Defined the step functions as below When I deploy this everything is working fine I cannot understand how serverlessstepfunctions plugin is working within the go runtime What I understand is irrespective of the runtime serverlessstepfunctions plugins simply convert the stepfunctions definitions within the serverless yml file to Amazon State Langugae How all these are working Is this the correct way to do this I have attached the screenshot of the folder structure"
77405163,"NestJS app with Prisma Client Error when running the app on AWS Lambda environment","https://stackoverflow.com/questions/77405163/nestjs-app-with-prisma-client-error-when-running-the-app-on-aws-lambda-environme","{node.js,aws-lambda,nestjs,prisma,serverless-framework}","2023-11-01 19:35:46+02","2024-05-17 05:34:22.290294+03","I have a NestJS App that uses prisma io as it is ORM and serverless for deploy and local testing Everything works just as planned when I run it locally but when I deploy it to AWS Lambda and try to run the result is the following error When that error occurs locally I would just run the npx prisma generate command and it works but it is not possible to do it in the AWS environment I have tried to include those files in the pattern section in the serverless yaml file but the error persists also tried to copy the files using serverlessjetpack and it does not work either Here are my serverless yaml file my schema prisma file"
78129972,"How to debug Serverless code locally with Visual Code or IntelliJ","https://stackoverflow.com/questions/78129972/how-to-debug-serverless-code-locally-with-visual-code-or-intellij","{serverless-framework}","2024-03-08 19:51:00+02","2024-05-17 05:34:53.983766+03","I went through almost a day to figure out how to debug Serverless code locally with Visual Code or IntelliJ but could not find good steps neither a proper answer to it Please advise Thanks"
77414475,"How to run a specific node Project from a Nested Project repository","https://stackoverflow.com/questions/77414475/how-to-run-a-specific-node-project-from-a-nested-project-repository","{node.js,serverless-framework}","2023-11-03 06:00:38+02","2024-05-17 05:34:23.504383+03","I have a serverless node project repository which contains multiple API lambdas and trigger lambdas there The project structure looks like this So to run a particular api there I am running this npm script using nodemon and it works fine nodemon exec node_modules binbabelnode srcApisearchApiapp js But now I need to run the trigger lambdas So from the cmd I tried to directly call the handler file like this node srctriggerLambda1handler js But the module imports are failing like below As it suggest I tried by adding type module to package json But did not work either But this is the correct structure to deploy the code remotely to AWS And in remote it is working fine But I need a way to test it locally as well Any suggestion would be appreciated"
77431695,"Cannot resolve variable described into serverless.yml and into serverless.com","https://stackoverflow.com/questions/77431695/cannot-resolve-variable-described-into-serverless-yml-and-into-serverless-com","{aws-lambda,serverless,serverless-framework}","2023-11-06 14:04:16+02","2024-05-17 05:34:24.605083+03","I have some vars defined into a serverless service and correctly inherited into my stage parameters at least seems to be But when trying to deploy i get this error I do nothing crazy into my serverless yml I hope any of you have an idea of what is happening Many thx in advance And of course when i do this no problem "
77445501,"Why is OIDC-provider stuck in Deleting state in Cloudformation in AWS?","https://stackoverflow.com/questions/77445501/why-is-oidc-provider-stuck-in-deleting-state-in-cloudformation-in-aws","{aws-cloudformation,serverless,serverless-framework,aws-serverless}","2023-11-08 12:21:56+02","2024-05-17 05:34:25.353077+03","I have a stack where a change to the Cloudformation template caused the OIDCprovider that was created in the stack to be deleted When updating the stack it seems that the stack never leaves the UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state I believe this is because of the OIDCprovider never finishes to delete I can only see the DELETE_IN_PROGRESS status event for that resource never the DELETE_COMPLETE event When looking for identity providers in IAM the identity provider is removed though but Cloudformation does not seem to catch on This has been the case for about two hours Can I solve this in any way without tearing down the stack"
77455733,"Couldn't deploy serverless lambda because of iam role issue","https://stackoverflow.com/questions/77455733/couldnt-deploy-serverless-lambda-because-of-iam-role-issue","{amazon-web-services,aws-lambda,amazon-iam,serverless-framework,aws-serverless}","2023-11-09 18:59:18+02","2024-05-17 05:34:26.038324+03","I tried deploying my serverless framework via serverless deploy But it shows that user is not authorized to iamgetRole Where do I enable it What all permission does the user need in aws for serverless deploy I am a poweruser so I do have most of the permission But still deployment failed with iamgetRole iamcreateRole I tired giving fullLambda access poweruser apigateway fullaccess "
77473488,"How to reference a layer provided by amazon for lambda function in serverless framework","https://stackoverflow.com/questions/77473488/how-to-reference-a-layer-provided-by-amazon-for-lambda-function-in-serverless-fr","{aws-lambda,serverless-framework}","2023-11-13 11:16:32+02","2024-05-17 05:34:26.834063+03","Im trying to reference AWSLambdaPython38SciPy1x107 layer provided by amazon to my lambda function i tried hard coded the ARN but it does not work when deploying it on different stages I tried also this way but it also did not work layers"
77476358,"How to Update Resources for already deployed AWS Resources in Serverless Framework?","https://stackoverflow.com/questions/77476358/how-to-update-resources-for-already-deployed-aws-resources-in-serverless-framewo","{aws-lambda,amazon-dynamodb,aws-cloudformation,serverless-framework,aws-serverless}","2023-11-13 19:24:28+02","2024-05-17 05:34:27.90464+03","Like the title I want to update or edit some configurations my DynamoDB table which is already deployed to AWS I am currently managing all resources in one serverelss yml file When I change some configuration of the table and try to deploy through Serverless framework the error is CloudFormation cannot update a stack when a customnamed resource requires replacing Rename Test Dynamo Table and update the stack again The only way I found is create new database with updated configuration migrate to that new database and delete the old database manually through AWS Console Or maybe another way might be creating AWS resources in separate serverless yml so I do not have to remove and recreate all resources every time I can remove only the specific resource But wonder is there anyway I can solve this issue through Serverless framework or some other IaC tool I just wonder what is some programatic way to update the existing resources Currently what I typically did was run sls remove and redo sls deploy "
77486817,"Serverless: enable AWS::LanguageExtensions with an array of resources","https://stackoverflow.com/questions/77486817/serverless-enable-awslanguageextensions-with-an-array-of-resources","{serverless-framework,aws-serverless}","2023-11-15 10:10:25+02","2024-05-17 05:34:29.00805+03","To use FnToJsonString I needed to enable AWSLanguageExtensions My actual project looks like this And my resources files looks like this To enable AWSLanguageExtensions I need to have a configuration like so I tried modifying srcresources yml like so but I have the following error Transform AWSLanguageExtensions failed with Error parsing the template It seems that it is not possible to have an array of resources under resources Resources I also tried this Cannot resolve variable at resources Resources String value consist of variable which resolve with nonstring value Is it possible to enable AWSLanguageExtensions without modifying the structure of all my resources files Thanks"
77492929,"How to use environment variables for serverless in GitHub Actions workflow?","https://stackoverflow.com/questions/77492929/how-to-use-environment-variables-for-serverless-in-github-actions-workflow","{amazon-web-services,jenkins,github-actions,serverless-framework}","2023-11-16 07:28:20+02","2024-05-17 05:34:30.005215+03","I was trying to deploy serverless framework on AWS using GitHub Actions where I was previously using Jenkins Here is my workflow This is failing with error This was running fine from Jenkins I was passing env_name from Jenkins parameter as dev "
77494019,"Enable data compression in API Gateway using the Serverless framework or CloudFormation","https://stackoverflow.com/questions/77494019/enable-data-compression-in-api-gateway-using-the-serverless-framework-or-cloudfo","{amazon-web-services,aws-api-gateway,serverless-framework}","2023-11-16 10:26:14+02","2024-05-17 05:34:30.860437+03","Following the Serverless framework documentation I added this to my serverless yaml So I have any given endpoint for testing it returns a JSON string of approximately 500 characters which according to my configuration above should return compressed but as we can verify through cURL it does not come compressed Checking Without any signs of compression I am aware there is a difference between REST API and HTTP API my project utilizes HTTP API My question is how can I enable compression on API Gateway using Serverless framework It could also be through CloudFormation I tried an answer I found on StackOverflow but it does not work anymore which is why I am asking again Hence this should not be considered a duplicate question because the old solution is no longer effective "
77543558,"lambda layers with Serverless Framework Composing services","https://stackoverflow.com/questions/77543558/lambda-layers-with-serverless-framework-composing-services","{python,amazon-web-services,serverless-framework}","2023-11-24 13:40:41+02","2024-05-17 05:34:32.714263+03","I am trying to deploy several services to an AWS account using the Serverless Framework Composing method In the infrastructure service I am setting up some resources like S3 CloudFront ApiGateway etc and deploying a Lambda functions with a shared python layer using the npm package serverlesspythonrequirements Then I pass this lambda layer to another service to use it but when I update the infrastructure the lambda layer changes and passes the new name to the other services However the other services give me an error message like this Resource handler returned message Layer version arnawslambdaxxxxyyyyylayerinfrastructuredevpythonrequirements14 does not exist Service Lambda Status Code 400 Request ID zzzzzz It seems that AWS is still looking for the old version of my layer which has been overwritten by the infrastructure service How can I make the other services use the updated python layer project file structure"
77553765,"Response body validation using middy","https://stackoverflow.com/questions/77553765/response-body-validation-using-middy","{node.js,aws-lambda,jsonschema,serverless-framework,middy}","2023-11-26 22:48:37+02","2024-05-17 05:34:33.559453+03","This is the return statement of my lambda function How can I use middy to validate that the body is an object with properties item and price The body should always be returned as a string JSON stringify otherwise the lambda function fails on runtime Therefore schema validation here fails I skipped checking for item and price properties for now But this works nonetheless This is my middleware sequence"
77558295,"Serverless framework - handler is not a function","https://stackoverflow.com/questions/77558295/serverless-framework-handler-is-not-a-function","{typescript,webpack,serverless-framework,serverless-webpack-plugin}","2023-11-27 16:02:46+02","2024-05-17 05:34:34.12998+03","I am not sure what exactly is going on I have done changes to aid for toplevel await feature and thus i enabled es2022 and adjusted the webpack accordingly but after that when i try to run serverless locally i get an error that my handlers are not functions even tho i have confirmed that they are being compiled and generated using webpack Dependency versions Error My webpack setup looks like this and my ts_config Serverless yml main ts"
77562832,"How to use different env files for ""dev"" and ""prod"" stages in ""aws-nodejs-typescript"" template","https://stackoverflow.com/questions/77562832/how-to-use-different-env-files-for-dev-and-prod-stages-in-aws-nodejs-typesc","{typescript,aws-lambda,serverless-framework,aws-serverless}","2023-11-28 09:51:07+02","2024-05-17 05:34:35.176233+03","I have created a serverless function using awsnodejstypescript template from serverless I want to use different env files for both dev and prod stages How can we achieve that When i deploy it i do not get the correct stage Can someone please advise Heres my serverless ts file Heres how i deploy this function in dev and in prod I want to pass an environment file instead of passing arguments va commandline during deployment "
77566986,"Writing tests for serverless framework using Typescript and Jest is throwing ""Cannot find module"" error","https://stackoverflow.com/questions/77566986/writing-tests-for-serverless-framework-using-typescript-and-jest-is-throwing-ca","{typescript,amazon-web-services,serverless,serverless-framework,ts-jest}","2023-11-28 20:31:21+02","2024-05-17 05:34:36.233259+03","I am building a serverless API on AWS using serverless framework I have set up the project using typescript template The default project comes with a simple hello handler lambda function Now I am trying to write tests for that handler So I started installing jest So I created a jest config js file with the following content right inside the projects root folder Here is the hello handler inside the srcfunctionshello handler ts Then I created a srctests directory and created a file called hello spec ts inside that directory with the following code Here is the tsconfig paths json file Then I run the tests using this command And I am getting this error What is wrong with my set up and how can I fix it"
77588004,"How can Serverless be configured to apply the ""stack-name"" AWS tag to all resources that it deploys, instead of only a subset?","https://stackoverflow.com/questions/77588004/how-can-serverless-be-configured-to-apply-the-stack-name-aws-tag-to-all-resour","{serverless-framework,aws-serverless,aws-billing,aws-cost-explorer}","2023-12-01 20:48:00+02","2024-05-17 05:34:36.963952+03","I use the Serverless Framework to maintain an HTTP service in a shared AWS account i e other appsservices exist on this company account which are unrelated to mine The major AWS resources involved in my service are I am trying to determine the cost of my Serverless application by using AWS Cost Explorer Given that in order to determine the cost of my service I need to filter out other services I was looking for a way in which Serverless may delineate my deployed resources I discovered Serverless automatically applies the awscloudformationstackname AWS tag based on the service property specific in the serverless yml configuration file This allowed me in cost explorer to apply this value as a filter on the Tag field The filtering worked as I expected but only for a few of the services namely Lambda and CloudWatch API Gateway ElastiCache and XRay seem to be missing the awscloudformationstackname tag entirely How can I configure Serverless such that it properly applies the same awscloudformationstackname tag to all my associated resources that it deploys Alternatively if there is some limitation on this feature or my understanding of AWS tags is incorrect what are the other routes I may take to achieve my task These may be unrelated to my question but I list them in case they are somehow relevant "
77594276,"JS files in dist folder throwing compile time error, every time i run gulp build command","https://stackoverflow.com/questions/77594276/js-files-in-dist-folder-throwing-compile-time-error-every-time-i-run-gulp-build","{node.js,typescript,aws-lambda,gulp,serverless-framework}","2023-12-03 12:24:42+02","2024-05-17 05:34:38.015187+03","currently i have been asked to look into an application which was developed around in 2017 this project is build to create AS lambda function using serverless framework 1 NodeJs typescript and for workflow they had used gulp now initially i tried to compile the project with specific frameworks which were mentioned in the documentation but after some reading found out that serverless framework 1 is not supported any more so now i have upgraded the serverless framework to 3 and also the latest node js version 21 xx and then after compiling the project there some syntax error in typescript files which i have fixed and i thought now the project should compile successfully but there is no success because now i am getting compile time errors in the JS files inside dist folder of the project for example there is a ts file c ts which does not show any compile time errors but the same transpiled js file c js is not compiling am really stuck on how to move forward can someone please help I have attached one screenshot of error below which is seen in the JS file but the same code in typescript is not showing any error Tried upgrading the version of tools to the latest but it did not work "
77609483,"React App with SS3 Hosted on S3, Lambda, and Express","https://stackoverflow.com/questions/77609483/react-app-with-ss3-hosted-on-s3-lambda-and-express","{reactjs,aws-lambda,server-side-rendering,serverless-framework}","2023-12-05 22:05:19+02","2024-05-17 05:34:38.761309+03","I have a production React app that I am trying to host using Lambda S3 and Express There is really one goal Before the static files are served I want to make some edits to the index html file including updating the favicon based on the subdomain etc Then I would like to serve the rest of the static files as is I am using serverless with no luck The result is just an empty white page when I click on the Lambda URL app ts serverless yml I cannot seem to get the static route to work not sure I am going about this the right way Essentially there is an s3 bucket with a static web app I just want to serve the files from there while editing the index html before serving "
77612370,"AWS Lambda Error while running gulp build command","https://stackoverflow.com/questions/77612370/aws-lambda-error-while-running-gulp-build-command","{node.js,typescript,aws-lambda,gulp,serverless-framework}","2023-12-06 10:42:37+02","2024-05-17 05:34:39.721249+03","i am working on a legacy AWS lambda project with serverless framework now when i run npm install command or trying to update the gulp version from 3 to 4 i am getting this error can someone please explain me what is the issue as am a beginner in using NodeJs Gulp AWS Lambda and Serverless framework Below am attaching the screenshot of error and the package json file from the project Can someone please help This is the package json It would be really helpful if someone can explain me how i can resolve this issue "
77662902,"How do add a resource policy for sns to a sqs with serverless framework","https://stackoverflow.com/questions/77662902/how-do-add-a-resource-policy-for-sns-to-a-sqs-with-serverless-framework","{amazon-web-services,amazon-sqs,serverless-framework,amazon-sns}","2023-12-14 20:28:52+02","2024-05-17 05:34:40.76318+03","I have problems assigning my sqs queue the correct policy so that any sns topic can send a message to it whenever this queue gets subscribed to it I tried to use UpdatePolicy and Metadata in serverless without any effect I also can not see any changes in the Access policy Permission tab in the aws console after deployment I subscribed an email address to double check if the messages are sent and I get them all via email but there is none in the sqs I found a SAM template which does what I need but I have no idea how to write this with the serverless framework and I can not find any documentation on this "
77667591,"AWS Lambda serverless fails for psycopg2 & node","https://stackoverflow.com/questions/77667591/aws-lambda-serverless-fails-for-psycopg2-node","{python-3.x,aws-lambda,psycopg2,serverless,serverless-framework}","2023-12-15 16:30:21+02","2024-05-17 05:34:41.401512+03","I have following serverless deployment yaml When I try to deploy with runtime python3 8 or python3 9 or python3 10 I get Deployment works only with runtime python3 11 But with python3 11 I am getting following error in the lambda"
77681122,"how to use the environment variable in shared module of BFF architecture nodejs","https://stackoverflow.com/questions/77681122/how-to-use-the-environment-variable-in-shared-module-of-bff-architecture-nodejs","{node.js,typescript,serverless-framework,shared-module,backend-for-frontend}","2023-12-18 18:39:15+02","2024-05-17 05:34:42.414848+03","I have a util class which is shared to the UI In this setup all the models are in the dist folder when the project is built and the same is shared to the UI and other microservices example with the above changes my project is deployed as a microservice in serverless framework lets say the name and version is [email protected] Now in my Angular UI I installed this package and use it to define types etc The model is shared by backend and available for other services UI to use and comply with the structure I have a toggle in UI that sets to yes or no through onclick using the MyUtil isTrueOrFalse function ex import MyUtil from someproject process env SOMETHING used in the MyUtil isTrueOrFalse function is not recognized in the UI Is there a way to use env variable in shared modules If not please suggest possible alternatives "
77710336,"Deployed NEXTJS project with Serverless to AWS fails to find dependencies installed with pnpm","https://stackoverflow.com/questions/77710336/deployed-nextjs-project-with-serverless-to-aws-fails-to-find-dependencies-instal","{next.js,serverless-framework,aws-serverless,pnpm}","2023-12-24 10:41:47+02","2024-05-17 05:34:42.884064+03","After installing my dependencies by runinning pnpm i and deploying succesfully by running sls deploy My endpoints throw an internal error because the tree dependencies needed from the ones I explicitly installed are not found Cannot find module chalk\nRequire stack\n for instance Installing all of them is not viable Any other option Locally the NextJS works It seems that running pnpm install should install all the child dependencies but it does not Cheers My project github comarcovoltaiconextjs To run the deployed project without a missing module error "
77715669,"unsupported object format while deploying serverless template","https://stackoverflow.com/questions/77715669/unsupported-object-format-while-deploying-serverless-template","{yaml,aws-cloudformation,serverless-framework}","2023-12-26 04:25:40+02","2024-05-17 05:34:43.910893+03","I am encountering a problem while trying to import values from AWS CloudFormation Outputs into my Lambda functions within the Serverless Framework My aim is to use the default VPC network in my Lambda function by exporting default subnet IDs and importing them into the Lambda configuration In my CloudFormation template I have set up Parameters for default subnet IDs and exported these values as Outputs Heres a snippet of what I have done However when attempting to import these values into my Lambda functions VPC configuration in the Serverless YAML file I encounter errors The errors reported in the CloudFormation console are For now I fixed it directly by providing hardcoded values but it does not look professional in code so I need a way to provide those values in correct format I suspect the issue might be related to the format of the exported values or how I am referencing them in the Serverless configuration From what I have researched CloudFormation exports values as strings by default However I am unsure if my Serverless YAML file references these values correctly How can I correctly import these exported values into my Lambda functions VPC configuration within the Serverless Framework Should the exported values be formatted differently for proper referencing in the Serverless configuration Any guidance or corrections to my approach would be greatly appreciated Thank you "
77720170,"serverless AWS Project deployment failing","https://stackoverflow.com/questions/77720170/serverless-aws-project-deployment-failing","{amazon-web-services,amazon-s3,aws-lambda,serverless-framework,aws-serverless}","2023-12-27 05:22:51+02","2024-05-17 05:34:45.485866+03","I got the following error while deploy the serverless project to AWS using serverless framework This project has apiendpoint to upload files to S3 object could you please explain what is this naming convention error happen Here is the yaml file content of the project "
77726602,"How in a Serverless Project make an external DB work when deployed to AWS","https://stackoverflow.com/questions/77726602/how-in-a-serverless-project-make-an-external-db-work-when-deployed-to-aws","{amazon-web-services,typeorm,serverless-framework}","2023-12-28 11:28:05+02","2024-05-17 05:34:45.701891+03","UPDATE I do not know WHY I have been voted against The code got an error when initialising the ORM I started a new project and made it work In my project httpsgithub comarcovoltaiconextjs orm config ts I tested my external DB by hardcoding its details It works nicely when I run the app locally But after deploying it to AWS I am getting this error My DB Host have told me that they cannot see any attempt from that server I have also tried adding this code to my main handler the single entry point lambda context callbackWaitsForEmptyEventLoop false making no difference at all If from my laptop I run mysql hcp myhost com myuser p I can access it Any ideas Cheers "
77738723,"How to Structure Serverless Framework Applications?","https://stackoverflow.com/questions/77738723/how-to-structure-serverless-framework-applications","{aws-lambda,serverless,serverless-framework,aws-serverless,serverless-architecture}","2023-12-31 09:28:54+02","2024-05-17 05:34:46.598428+03","So I am new to serveless and have been trying to create a serverless backend for my project and scratching my head over the best way to organize things Initially I thought of laying it out like this However I quickly realized an issue the node_modules folder For instance the auth section requires the bcrypt package whereas the customers section does not Deploying the same node_modules folder to every function includes unnecessary packages So I came up with a different game plan Here the node_modules folder is not global but is scoped to contain only the packages required by each function With this setup I have to deploy by running serverless deploy within each folder Question 1 A challenge remains how do I configure authservice which has a function checking JWT as an authorizer for the customers and products functions within their respective serverless yml files My initial thought was to use the ARN for the auth function and set it as the authorizer for all other functions but I am not sure if this is a good approach Question 2 Is there a better way to structure the project especially since now deploying resourcing is a pain for example if I want a dynamodb table I shouldnt be defining it as a resouce inside a particual functions serverless yml file right So is there a way to kind to bundle all these different services and maybe define resources in centralized place "
77747223,"How to have a conditional for a custom attribute in serverless framework based on stage postfix","https://stackoverflow.com/questions/77747223/how-to-have-a-conditional-for-a-custom-attribute-in-serverless-framework-based-o","{amazon-web-services,serverless-framework}","2024-01-02 16:06:01+02","2024-05-17 05:34:47.73583+03","I have a custom attribute in my serverless yml which value should be set based on the condition if the stage contains the postfix test This custom attribute contains a ssm path which is later resolved using ssm for an environment variable My approach was something like the following but I am not sure if the condition will work However when I want to deploy it I always receive the following error It looks like the Conditional is not even resolved because when I try this Which should always be true I get the same error"
77747606,"Middy Unexpected Behavior in middleware execuation order","https://stackoverflow.com/questions/77747606/middy-unexpected-behavior-in-middleware-execuation-order","{node.js,middleware,serverless,serverless-framework,middy}","2024-01-02 17:15:20+02","2024-05-17 05:34:48.297844+03","Hey I am trying to write a custom middleware with middy Please take a look at the code below I am clearly calling httpErrorHandler before customMiddleware but still httpErrorHandler is able to handle the error thrown from customMiddleware how is this happening are not middlewares expected to execute in a specified order I can affirm that httpErrorHandler is indeed handling the error because when I do not call it the function simply yields a generic 500 internal server error response irrespective of the fact that I am triggering a 401 Unauthorized error Why is this occurring given the expected sequential execution of middleware"
77753724,"Deploying node20 AWS Lambda function through Serverless.com sets module import to ESM","https://stackoverflow.com/questions/77753724/deploying-node20-aws-lambda-function-through-serverless-com-sets-module-import-t","{node.js,amazon-web-services,serverless-framework}","2024-01-03 17:45:00+02","2024-05-17 05:34:49.175462+03","We are using Serverless com to deploy Lambda functions to AWS and have started upgrading some older functions to node20 There is a file as srcfunctionsrouteInvoicerouteInvoice js which has the exported function After deploy though we get the error package json do not have any type attribute and according to AWS documentation the file extension js should be treated as Common JS and not ESM Executing the function locally using sls invoke local f routeInvoice works fine What am I missing here"
78022490,"Zod schema type inference while using serverless-auto-swagger","https://stackoverflow.com/questions/78022490/zod-schema-type-inference-while-using-serverless-auto-swagger","{typescript,swagger,serverless-framework,zod}","2024-02-19 17:27:31+02","2024-05-17 05:34:50.278184+03","I am introducing serverlessautoswagger to generate docs for my API and I am already using Zod to validate and sanitize incoming data When I state a type infered from a zod schema in my docs it appears as an empty object in the docs The rest of the libraries to generate docs require huge amounts of data to be added to each endpoint which is not feasible for API with hundreds of endpoints so I would love to make this one work with zod "
78068681,"spring cloud function aws: S3Event or S3EventNotification","https://stackoverflow.com/questions/78068681/spring-cloud-function-aws-s3event-or-s3eventnotification","{spring-cloud,serverless-framework,spring-cloud-function}","2024-02-27 15:27:32+02","2024-05-17 05:34:51.399937+03","I am strugling trying to make work my lambda I am getting Caused by java lang ClassNotFoundException com amazonaws services lambda runtime serialization events LambdaEventSerializers I am using springcloudfunctionawsadapter and other related dependencies My function is Here I have several questions I have an S3 that is configured in order to send S3 object created events to and SQS queue I do not know if I need to write a ConsumerS3Event or ConsumerS3EventNotification or ConsumerMessageS3Event The other issue is that when I am trying to invoke my lambda using sls framework I am getting message above LambdaEventSerializers is not found I write it down some logs Any ideas"
78078579,"How to override CloudWatch Logs Method settings at resource level?","https://stackoverflow.com/questions/78078579/how-to-override-cloudwatch-logs-method-settings-at-resource-level","{serverless,serverless-framework}","2024-02-29 02:35:58+02","2024-05-17 05:34:52.147538+03","Does serverless support Method Overrides feature My use case Using below configuration we get logs enabled including access logs full execution logs However these are applied to all resources of the API I would like to override these settings at a resource level AWS Web Console has option to configure log level per resource in deployed stage How could I get this override per given resource a k a lambda function My use case involves not logging requestresponse for a specific resource but I need these logs for other resources on the same API "
78168789,"AWS Lambda/Serverless : ""Cannot find module"" error, but axios works","https://stackoverflow.com/questions/78168789/aws-lambda-serverless-cannot-find-module-error-but-axios-works","{serverless-framework}","2024-03-15 17:46:01+02","2024-05-17 05:34:55.461164+03","I have two main packages that I need to run my two lambda functions axios and hubspotapiclient I can run the run that only uses axios without a problem but the one that uses the Hubspot client keeps returning the error Cannot find module hubspotapiclient Here is some code Now this is where the problem starts manifesting I never get to receive the code 200 because it fails with an Internal server error before My Lambda has a Layer which contains a zip file In the beginning axios was problematic but adding the Layer with the package helped But for some reason the Hubspot Client does not work the same way I saw elsewhere the idea of installing the module at the root of the function I would like to avoid that if possible because then it makes the package too big to be able to preview code in the Lambda console which is a small plus And it sounds like Layers should be the solution anyways I guess there is just something I am doing wrong Thank you for your help "
78169679,"Connecting to MongoDB while utilizing the connection within AWS Lambda functions","https://stackoverflow.com/questions/78169679/connecting-to-mongodb-while-utilizing-the-connection-within-aws-lambda-functions","{node.js,mongodb,amazon-web-services,serverless,serverless-framework}","2024-03-15 21:11:01+02","2024-05-17 05:34:56.154748+03","I am currently working on optimizing the performance of an application implemented using AWS Lambda Serverless Node js and MongoDB It is important to note that this system has nearly 40 Lambda handlers Currently we are using the following approach However this method does not align well with serverless architecture resulting in MongoDB connection limits being reached when 15 to 20 users concurrently access the system After investigating I found the cacheDB approach by referring to the following document Serverless Development with MongoDB Atlas This approach performed well compared to the previous one allowing the system to handle 70 to 80 concurrent users However after further investigation I found this alternative approach Manage Connections in AWS Lambda with MongoDB In the 3rd approach I am getting the following error I would like to share the findings of my analysis after weeks of investigation to determine the most recommended method for connecting to MongoDB within AWS Lambda functions If anyone can assist me in identifying the most suitable approach or if there is any other approach I have not tried please let me know Your help would be greatly appreciated Thanks and Regards "
78190120,"AWS Serverless: .NET 6 app ""No RegionEndpoint or ServiceURL configured"" when calling Secrets Manager","https://stackoverflow.com/questions/78190120/aws-serverless-net-6-app-no-regionendpoint-or-serviceurl-configured-when-cal","{c#,amazon-web-services,visual-studio,aws-lambda,serverless-framework}","2024-03-19 23:25:00+02","2024-05-17 05:34:57.288747+03","I have a Visual Studio 2022 NET 6 Serverless SAMLambda solution that utilizes the AWS Power tools on Windows 11 Both my config and credentials files in my userprofile\ aws folder include valid region and sso_start_url properties i e config credentials AWS Explorer is able to authenticate successfully and shows all my resources And yet I get the error No RegionEndpoint or ServiceURL configured when my app tries to call a Lambda function that calls Secrets Manager which I am able to access successfully via the AWS Portal The exception is thrown when it tries to instantiate AmazonSecretsManagerClient Here are the full exception details What am I doing wrong Every other instance of this exception I have researched online was caused by the region or url missing from the config andor credentials files but my files are properly configured as you can see above Any suggestions"
78198567,"AWS API Gateway with proxy-integration by serverless.yml","https://stackoverflow.com/questions/78198567/aws-api-gateway-with-proxy-integration-by-serverless-yml","{aws-lambda,aws-api-gateway,serverless,serverless-framework,aws-serverless}","2024-03-21 08:52:02+02","2024-05-17 05:34:57.770759+03","I am wondering how to set API Gateway with proxyintegration by serverless yml the Lambda proxy integration switch In serverless document I cannot find any description about this setting And this is my code I have tried to add integration lambda to the events config but it does not work "
78200440,"Iterating over a file in Serverless Framework","https://stackoverflow.com/questions/78200440/iterating-over-a-file-in-serverless-framework","{amazon-web-services,aws-cloudformation,serverless-framework}","2024-03-21 13:53:27+02","2024-05-17 05:34:58.687723+03","I am trying to deploy prefix list and ssm paramater using serverless sls Below is iplist yml file inside ip folder For prefix list entries I am passing the file using file ipiplist yml Ipentries which is working but for creating the SSM parameter I wanted to fetch all the IPs in a comma separated string please suggest if it is possible in Serverless Framework"
78204935,"subscriptionFilter not working in serverless framework","https://stackoverflow.com/questions/78204935/subscriptionfilter-not-working-in-serverless-framework","{node.js,serverless-framework,serverless-architecture}","2024-03-22 08:32:32+02","2024-05-17 05:34:59.814841+03","this is my code from serverless yml I get this error when i deploy it Warning Invalid configuration encountered at functions notifier events 0 unsupported function event Checked indentation issues official document nothing works httpswww serverless compluginsserverlesspluginsubscriptionfilter"
78207765,"AWS Lambda: What options can I use to migrate my Nest project NODE 14 to Lambda NODE 20?","https://stackoverflow.com/questions/78207765/aws-lambda-what-options-can-i-use-to-migrate-my-nest-project-node-14-to-lambda","{aws-lambda,nestjs,serverless-framework}","2024-03-22 16:56:52+02","2024-05-17 05:35:00.761214+03","The project has been developed in Node js 14 using NestJS and the Serverless framework serverlesspluginoptimize is used to deploy it to an AWS Lambda service It had been running without any issues however AWS upon withdrawing support requests an update to Node js version 20 which is causing problems when deploying it with the Serverless framework "
78442101,"Service returned error code AccessDeniedException (Service: Lambda, Status Code: 403)","https://stackoverflow.com/questions/78442101/service-returned-error-code-accessdeniedexception-service-lambda-status-code","{node.js,amazon-web-services,aws-lambda,github-actions,serverless-framework}","2024-05-07 11:23:14+03","2024-05-17 05:35:01.876987+03","I tried deploying my code on my stage using a pipeline created in my code It had been working fine for 1 year now But today when I tried to deploy using the pipeline or tried to deploy it manually I got this error Now I am not sure why this is happening Some where people said it can be due to billing issue of my Aws account but that is not the case in some documents I read that this can be due to insufficient permissions to my IAM role but that is also not the case Error Can anyone who has been through this and has resolved this issue help me out Thanks in advance"
78460977,"AWS Lambda getting ""Cannot find module lambda"" due to missing index.mjs","https://stackoverflow.com/questions/78460977/aws-lambda-getting-cannot-find-module-lambda-due-to-missing-index-mjs","{amazon-web-services,aws-lambda,serverless,serverless-framework}","2024-05-10 14:58:55+03","2024-05-17 05:35:02.811132+03","I am trying to deploy my lambda function via Serverless frameworks sls deploy command The deployment goes smoothly but when the lambda runs I get the following error I do not have any index mjs file in my src or build folder so I am not sure what the next steps are to fix this I went through few similarly asked questions here and other places but none of those solutions actually worked for me My project folder structure My Serverless yml file My lambda ts file My tsconfig json Package json I am deploying this from my local machine by simple doing SLS_DEBUG serverless deploy stage dev region useast2 I am trying to understand from where the index mjs file is suppose to come from or whether I need to change my own pattern before deploying to AWS "
78468751,"I get Template error: instance of Fn::GetAtt references undefined resource lambda","https://stackoverflow.com/questions/78468751/i-get-template-error-instance-of-fngetatt-references-undefined-resource-lambd","{amazon-web-services,aws-lambda,serverless-framework,aws-serverless,aws-cloudformation-custom-resource}","2024-05-12 17:27:58+03","2024-05-17 05:35:03.963916+03","I am building a serveless framework template containing a custom resource backed with lambda that i want to provide its AWS ARN as ServiceToken but I get Template error instance of FnGetAtt references undefined resource lambda"
78476830,"Serverless Framework v3 custom-resource-existing-cup function Node16 is deprecated","https://stackoverflow.com/questions/78476830/serverless-framework-v3-custom-resource-existing-cup-function-node16-is-deprecat","{node.js,amazon-web-services,amazon-cognito,serverless,serverless-framework}","2024-05-14 08:43:19+03","2024-05-17 05:35:04.647598+03","I am using Serverless Framework v3 and Node js v18 and it creates one lambda function customresourceexistingcup automatically if there is this line is added in the Cognito custom trigger lambda function existing true It is okay but the problem is this lambda function is using Node 16 even I use Node 18 I tried to change the Node js version for this custom lambda function but I could not because it is generated automatically by Serverless Framework Is there anyway to solve this issue Because it is deprecating soon "
78482132,"Serverless lambda deploy with container image, getting The image manifest or layer media type for the source image not supported error","https://stackoverflow.com/questions/78482132/serverless-lambda-deploy-with-container-image-getting-the-image-manifest-or-lay","{aws-lambda,serverless-framework,aws-serverless,amazon-ecr}","2024-05-15 06:58:28+03","2024-05-17 05:35:05.645746+03","I am deploying a simple python function using serverless deploy I was able to do o earlier but when i updated my docker i started getting this error The image manifest or layer media type for the source image dkr ecr useast1 amazonaws comserverlessserverlesslabdev is not supported I have checked that my docker image is not using multi arch and have specified the architecture in the serverless yml file as well still keep getting this error service serverlesslab provider name aws ecr scanOnPush true images appimage path file Dockerfile buildArgs provenance false platform linuxamd64 iam role arnawsiamroleserverlessRole functions first_function image name appimage command handler lambda_handler"
78491401,"Multiple http requests to backend with nodejs and sequelize","https://stackoverflow.com/questions/78491401/multiple-http-requests-to-backend-with-nodejs-and-sequelize","{mysql,node.js,aws-lambda,sequelize.js,serverless-framework}","2024-05-16 16:43:17+03","2024-05-17 05:35:06.482594+03","I am developing a service in NodeJS using Express and Sequelize as ORM I am also using the Serverless Offline plugin to emulate AWS Lambdas and I also deploy my backend in AWS Lambdas My question is if I can make some configuration either in code or in the database to allow concurrent requests to my backend The service I am developing will be very busy with users and when making a few requests at the same time my application fails because there are many connections to the database What can I do to solve that I have tried to configure my sequelize connection pool as follows Since they are AWS Lambdas I have a connection pool for each lambda with a maximum of 5 connections per pool Lastly I tried to create a general pool for all the lambdas but I still have the problem that there are many connections I am worried that I will not be able to solve this I am just testing it with an endpoint that does not do much I have other endpoints that make a lot of queries to the database and it would be worse to solve the problem there "
52009124,"Not able to completely remove Kubernetes CustomResource","https://stackoverflow.com/questions/52009124/not-able-to-completely-remove-kubernetes-customresource","{kubernetes,kubeless}","2018-08-24 17:18:09+03","2024-05-17 05:41:34.80702+03","I am having trouble deleting custom resource definition I am trying to upgrade kubeless from v1 0 0alpha 7 to v1 0 0alpha 8 I tried to remove all the created custom resources by doing But when I try And because of this when I next try to upgrade by doing I see I think because of this mismatch in the function definition the hello world example is failing Finally here is the output of"
56575267,"How to upload files to a nodejs kubeless function?","https://stackoverflow.com/questions/56575267/how-to-upload-files-to-a-nodejs-kubeless-function","{node.js,kubernetes,serverless-framework,serverless,kubeless}","2019-06-13 07:20:53+03","2024-05-17 05:41:36.753959+03","I have a kubeless function written in nodejs and I would like to upload a file using multipart is it even possible Or do I have to use base64"
57077530,"How to resolve ""-bash: kubeless: command not found"" issue in Google Kubernetes Engine?","https://stackoverflow.com/questions/57077530/how-to-resolve-bash-kubeless-command-not-found-issue-in-google-kubernetes-e","{kubernetes,google-kubernetes-engine,serverless,kubeless}","2019-07-17 13:51:25+03","2024-05-17 05:41:37.600986+03","I have followed all the steps from the Bitnami website I have installed Helm and Tiller But when I give the command kubeless function ls it shows the error bash kubeless command not found Also I have downloaded the kubeless zip file but whenever I proceed to unzip it using unzip kubeless zip it says How do I resolve these issues and what do I need to get started with Kubeless in GKE I am using Google Cloud Shell to run the commands I am in zone asiasouth1b "
60091934,"Not able to deploy functions on kubeless","https://stackoverflow.com/questions/60091934/not-able-to-deploy-functions-on-kubeless","{kubernetes,kubeless}","2020-02-06 09:44:59+02","2024-05-17 05:41:38.693223+03","Im a beginner in Kubernetes I have been trying out kubeless on minikube I have set up both in the latest version available When i deploy the function this is the output that i got When i run the kubeless function ls i get this MISSING Check controller logs every time i create a function it is showing this status I also checked by changing the RUNTIME to python2 7 but still it does not work The deploy command is following Please guide me on how to fix this issue "
60958094,"AWS EKS: Assign multiple Service Accounts to Deployment\Pod","https://stackoverflow.com/questions/60958094/aws-eks-assign-multiple-service-accounts-to-deployment-pod","{amazon-web-services,kubernetes,amazon-eks,kubeless}","2020-03-31 19:08:28+03","2024-05-17 05:41:40.788105+03","I am using Kubeless on AWS EKS While installing Kubeless the installation has a manifest which has some CRDs and a deployment object The deployment object has already a Service Account attached I have created another Service Account in the kubesystem namespace which has some AWS IAM roles attached I also want to attach this newly created Service Account used for IAM roles to the Kubeless deployment object by modifying the Kubeless manifest file I want to have 2 Service Accounts attached to the deployment object One that comes with Kubeless and other for AWS IAM Any help would appreciated Thanks"
62902735,"Unable to Trigger Kubeless Function With Kubeless Kafka Trigger","https://stackoverflow.com/questions/62902735/unable-to-trigger-kubeless-function-with-kubeless-kafka-trigger","{kubernetes,apache-kafka,kubeless}","2020-07-14 19:34:30+03","2024-05-17 05:41:41.484903+03","I am attempting to trigger a Kubeless function written as a Java method and it does not seem to be working I have tried everything I can think to try but I have run out of ideas Below is the Java method it is basically an echo service for now The method was deployed using the following I have verified it works by running the following I then created a Kafka trigger and published a message to it using the following As you can see the only log entry is the one from the initial call that was not triggered by a Kafka pubsub I have verified the trigger exists As far as I can tell Kafka seems to be running I have also checked the Kafka logs to no avail Why is publishing not triggering the function Any suggestions are appreciated and I thank you in advance "
68037678,"How to increase dockerhub rate limits within kubeless?","https://stackoverflow.com/questions/68037678/how-to-increase-dockerhub-rate-limits-within-kubeless","{kubernetes,dockerhub,rate-limiting,kubeless}","2021-06-18 15:18:13+03","2024-05-17 05:41:43.48145+03","I have a kubeless version of v1 0 8 and I am building a machine learning mechanism that requires functions autoscaling on demand approximately requests the generation of 100 pods per hour Being an anonymous Docker Hub user limits my downloads to 100 container image pull requests per six hours Is there any way to configure kubeless so as to include my Docker credentials secret during deployment Thank very much for you time "
75536053,"Grabbing Kubernetes Secrets With .yml for Kubeless Bots","https://stackoverflow.com/questions/75536053/grabbing-kubernetes-secrets-with-yml-for-kubeless-bots","{kubernetes,kubernetes-secrets,kubeless}","2023-02-22 17:12:23+02","2024-05-17 05:41:44.146288+03","I have worked on grabbing Kubernetes secrets with a yml file for weeks but to no avail My script is currently triggered by a KafkaTrigger which cannot pull in secrets from Kubernetes Grabbing the secrets we are left with two possibilities 1 pull in secrets from python or 2 create a second yml file Option 1 is not possible since I would still need an ssh key in my requirements txt file exposing an internal code base Ideally the yml could pull in the ssh key My question is how could you create a yml file with two scripts running a the KafkaTrigger and b the code which pulls in secrets The KafkaTrigger should not change so what changes can I make to get the yml logic to work In particular are the apiVersions and kind correct Do I need an image for this code to work Please tell me if these questions are not clear Thanks "
77243102,"stream terminated by RST_STREAM with error code: PROTOCOL_ERROR","https://stackoverflow.com/questions/77243102/stream-terminated-by-rst-stream-with-error-code-protocol-error","{go,kubernetes,grpc,istio,knative}","2023-10-06 08:54:22+03","2024-05-17 05:41:44.766881+03","We have a Golang microservice gRPC service mesh setup on EKS with Kubernetes 1 27 Istio 1 18 and Knative 1 11 Deployments are made via Knative Serving and all pods contain a queueproxy container provided by Knative We pass contexts between adapters for traceability with calling a function How context propagation is called before adapter calls How context propagation is implemented Traffic is routed from Route53 to an AWS ALB and then istioingressgateway service which communicates with Knative services Services suddenly stopped working 3 days ago without any changes to the code We successfully narrowed the issue to context passing between microservices Custom metadata such as authorization tokens that we add to the request does not result in any problems However the metadata fields which istio and alb inserted as seen in below metadata to context between service calls causes the error below Error stream terminated by RST_STREAM with error code PROTOCOL_ERROR Metadata Note that this is not always the case sometimes the request may succeed when a connection is reopened We solved the problem by removing any metadata other than authorization from above attached But still cannot understand the root cause of the issue "
77368960,"Trying to create a Domain Claim in a AKS Cluster using Knative API","https://stackoverflow.com/questions/77368960/trying-to-create-a-domain-claim-in-a-aks-cluster-using-knative-api","{python,kubernetes,azure-aks,knative}","2023-10-26 16:50:54+03","2024-05-17 05:41:45.558048+03","I am trying to create a domain mapping object in a kubernetes cluster but before that I need to create a domain claim So I am making a request as per the documentations and when I debug it there are no errors in the code itself every parameter is being returned correctly so I can only assume the error lies within the request itself it keeps coming back as Error 404 The namespace for now is default maybe that has something to do with it"
77370138,"How should I add HTTP authentication to KNative services?","https://stackoverflow.com/questions/77370138/how-should-i-add-http-authentication-to-knative-services","{kubernetes,istio,istio-gateway,knative,knative-serving}","2023-10-26 20:27:15+03","2024-05-17 05:41:46.571046+03","Im looking into migrating some k8s applications to KNative serving this means I need to use Istio ingress gateway instead of Traefik ingress However I ran into issues trying to migrate basicAuth HTTP authentication so that the user must supply the correct usernamepassword before request gets routed to the pod this was done in Traefik using middleware annotations on the Ingress resource Ideally I want to configure this authentication layer on a perservice basis some of the services might not need authentication some need to authenticate against differen secret resources Whats a good approach to add HTTP authentication Thanks I tried looking and found this doc that configures the gateway to talk with an external authentication service And this doc that uses a sidecar container to perform auth before forwarding the request to the actual container I understand how they work but I am just wondering if there is a more lightweight approach to solving this particular issue I have I am open to switching to a different authentication scheme if they allow me to specify perservice secrets Update I tried adding a perservice authentication EnvoyFilter to perform checks on the request header However this makes the KNative activator probe fail So as of right now I do not think the authentication check should be within the boundary of KNative Perhaps at the entrypoint into our service mesh istio ingress gateway Will look further "
77622915,"Knative Serving just returns default Apache Webpage","https://stackoverflow.com/questions/77622915/knative-serving-just-returns-default-apache-webpage","{kubernetes,minikube,knative,knative-serving}","2023-12-07 20:28:44+02","2024-05-17 05:41:47.316538+03","I am following this guide to deploy a Knative Service and used this to install Knative Serving using YAML files When accessing the service using The expected output is Hello World but I am getting the Apache 2 Default Page HTML same result when trying to access using browser I have looked around and tried searching for similar issues but found nothing I am using minikube on WSL2 and Docker Desktop Heres a list of resources in the default namespace Here are the resources for knativeserving And for kouriersystem"
75115093,"How do I create a new language pack for Knative Functions?","https://stackoverflow.com/questions/75115093/how-do-i-create-a-new-language-pack-for-knative-functions","{knative,knative-functions}","2023-01-13 22:39:24+02","2024-05-17 05:41:49.180158+03","I would like to be able to write Knative functions in bash I am thinking something like the CGI interface that Apache uses might make sense just write a script that can be executed in a normal Unix environment and then use Apache is CGI support to turn it into a container that can run on Knative Is there a good way to do this I found httpsknative devdocsfunctionslanguagepacks but it was not really clear how to build my own language pack "
75218851,"Connecting KafkaSource to SASL enabled kafka broker of AWS MSK cluster forknative eventing","https://stackoverflow.com/questions/75218851/connecting-kafkasource-to-sasl-enabled-kafka-broker-of-aws-msk-cluster-forknativ","{amazon-web-services,apache-kafka,amazon-eks,knative,knative-eventing}","2023-01-24 08:08:14+02","2024-05-17 05:41:49.814824+03","We are trying to implement eventdriven architecture with our applications using knative eventing We wish to connect to an Apache Kafka cluster AWS MSK and have those messages flow through Knative Eventing Using the following blog we have deployed the kind KafkaSource but it failing to connect MSK brokers when SASL authentication is enable to MSK cluster side httpsknative devdocseventingsourceskafkasourceenablingsaslforkafkasources Note And we are able to connect over plaintext communication with no authentication Please suggest a way to connect KafkaSource to MKS brokers having SASL enabled Please find the KafkaSource here Please find the logs here Noticed that it is always throwing one common error irrespective of any mistake in code client has run out of available brokers to talk to But the brokers are actually rachable Logs"
75292738,"Istio Virtual Service with Knative Service External Name","https://stackoverflow.com/questions/75292738/istio-virtual-service-with-knative-service-external-name","{kubernetes,istio,knative}","2023-01-31 04:31:27+02","2024-05-17 05:41:50.747043+03","I feel like this should be a simple thing to point an istio virtual service to a knative service that gets stood up as an ExternalName type This throws a 404 If I use a regular service it works fine Or if I point to the first revision proxy0001 default svc it works fine "
75525338,"How to create a AWS Lambda like feature using Knative vs Kubernetes","https://stackoverflow.com/questions/75525338/how-to-create-a-aws-lambda-like-feature-using-knative-vs-kubernetes","{function,kubernetes,serverless,knative,tekton}","2023-02-21 20:00:05+02","2024-05-17 05:41:51.598827+03","I have been trying Knative Tekton JenkinX but still not able to replicate somthing similar Hello Everyone This question is more like a discussion on perspective design in serverless I would like to create a web based platform where our external client would just pass the docker image location and platform take input and should deploy a function in Knative kubernetes cluster and return should be a DNS endpoint of at web platform of Knative service Something similar to of AWS Lambda where you publish a code and call main function and return the endpoint with code output I have been trying Knative Tekton JenkinX but still not able to replicate somthing similar "
75624217,"No matches for kind ""HorizontalPodAutoscaler"" in version ""autoscaling/v2"" when installing knative serving","https://stackoverflow.com/questions/75624217/no-matches-for-kind-horizontalpodautoscaler-in-version-autoscaling-v2-when-i","{kubernetes,knative,horizontalpodautoscaler}","2023-03-03 07:24:14+02","2024-05-17 05:41:52.514774+03","I followed the official instruction to installing knative serving on a selfbuilt k8s cluster But when running the second line I got I searched for similar errors but found few things helpful My k8s cluster is built on two virtualbox VMs one as the master node and one as the worker node Both with Here are the custom resources I got after running the first line All I have done are these two lines of commands I am new to k8s custom resources and knative Thanks in advance for any help "
75787724,"ConnectionResetError (104, 'Connection reset by peer) in kserve?","https://stackoverflow.com/questions/75787724/connectionreseterror-104-connection-reset-by-peer-in-kserve","{istio,huggingface-transformers,knative,knative-serving,kubeflow-kserve}","2023-03-20 07:58:45+02","2024-05-17 05:41:53.617911+03","I have A Hugging face model httpshuggingface coTahaDouajidetrdoctabledetection in Torch serve it is working fine when I deployed it in locally I tried to deploy the model in kserve as DockerImage Pods are running fine without any error i tried to CURL request the model from the model pod I am getting the error like ConnectionResetError 104 Connection reset by peer Here is my Transformerhandler py file Here is my InferenceService I have deployed the Inference service file with Docker image I got the services like All the services created by Kserve knativeserving and istio is created successfully without any error but i am not able to establish the connection between the ingress of istio and the model Give me the best solution thank you I need solution and how the connection happens between the kserve and model deployed I want to set perfect connection between the model and kserve"
75812508,"How can knative functions react to multiple URL paths?","https://stackoverflow.com/questions/75812508/how-can-knative-functions-react-to-multiple-url-paths","{knative,knative-serving}","2023-03-22 12:51:55+02","2024-05-17 05:41:54.828966+03","I have created a simple helloworld function via func create l go and can successfully run it locally and have it deployed in k8s The function is not invoked if I call httplocalhost8080somerandompath I suspect there is an option to configure this in the func yml I have not yet found any reference or documentation about this topic on the knative documentation page "
70017680,"Does Knative support multiple k8s cluster?","https://stackoverflow.com/questions/70017680/does-knative-support-multiple-k8s-cluster","{kubernetes,serverless,knative}","2021-11-18 09:50:46+02","2024-05-17 05:42:08.617931+03","As we know the amount of services in a k8s cluster is limited How do we break through the limit on the number of services when we use knative to develop serverless What I can think of is to let knative support multiple clusters how does knative support multiple clusters"
70121503,"Magic DNS on Minikube curl(6) cannot resolve host","https://stackoverflow.com/questions/70121503/magic-dns-on-minikube-curl6-cannot-resolve-host","{curl,dns,minikube,knative}","2021-11-26 08:35:05+02","2024-05-17 05:42:09.549662+03","kubectl apply f httpsgithub comknativeservingreleasesdownloadknativev1 0 0servingdefaultdomain yaml minikube tunnel curl httpgreeter10 default 10 104 139 27 sslip io curl 6 Could not resolve host greeter10 default 10 104 139 27 sslip io curl H host greeter10 default example com http10 104 139 27 v"
75841240,"Does all Knative traffic have to route through Master node?","https://stackoverflow.com/questions/75841240/does-all-knative-traffic-have-to-route-through-master-node","{kubernetes,serverless,knative,istio-sidecar,servicemesh}","2023-03-25 11:01:00+02","2024-05-17 05:41:55.745824+03","My question Is all traffic from users to Knative servicepod must traverse through Master node For example I as a customer from outside of the cluster create a curl request to a service pod HelloWorld then is it true that my request and the return result for my request from pod Hello World must go through the Master node first before reaching the destination I have done a small test by creating a curl request from outside to a HelloWorld service in my cluster and captured packet flows by tcpdump flow traces It seems to me that Curl traffic for HelloWorld arrives at kourierinternal pod that is residing in Master Traffic then is forwarded to activator pod which is also in Master Now traffic is routed to the Worker node where HelloWorld pod stays After being processed in HelloWorld in the Worker node the return result will be sent back in the reverse path as described above Is my explanation correct and for me this routing is kinda weird it creates extra latency and put heavy bandwidth pressure on the paths to the Master node Is there a way to route traffic directly from outside to the Worker node where my pod is located Thanks in advance everyone "
75855319,"Knative - Set a Kubernetes service as sink or subscriber","https://stackoverflow.com/questions/75855319/knative-set-a-kubernetes-service-as-sink-or-subscriber","{kubernetes,knative,knative-eventing}","2023-03-27 11:40:37+03","2024-05-17 05:41:56.631861+03","Is it possible to set a Kubernetes service not a knative service as a sink or as a subscriber I was able to create the following subscription which points a kubernetes service But the service is not getting triggered "
51617251,"Installing Apache OpenWhisk using docker-compose on Amazon Linux instance gets stuck at ""waiting for the Whisk invoker to come up...""","https://stackoverflow.com/questions/51617251/installing-apache-openwhisk-using-docker-compose-on-amazon-linux-instance-gets-s","{apache,docker,docker-compose,openwhisk,amazon-linux}","2018-07-31 15:41:11+03","2024-05-17 05:41:59.80773+03","I am trying to install openwhisk for dev mode using docker compose on Amazon Linux EC2 Instance I am following this link for doing so httpsgithub comapacheincubatoropenwhisk Get Started Although it has worked for me before once in this installation I am facing an issue These are the steps I followed This step is because open whisk is using sudo for dockercompose and based on previous steps sudo dockercompose v gives a command not found Update The problem is that the make command gets stuck at the stage where it is waiting for invokers I have not made any changes to any source code nor I did any other steps before this on the instance It was a freshly created instance Am I missing something in OpenWhisk or EC2 or the combination of both Any help would be great Update I tried the dockercompose method for installing open whisk on Amazon Linux 1 Amazon Linux 2 Ubuntu 16 04 as well as Ubuntu 14 04 On all platforms it got stuck at sudo make quickstart where it is waiting for invokers Update Instead of using pythonpip for dockercompose installation used the command from docker website as well sudo curl L httpsgithub comdockercomposereleasesdownload1 22 0dockercompose uname s uname m o usrlocalbindockercompose sudo chmod x usrlocalbindockercompose"
75858480,"Using Ingress with Knative service and Contour","https://stackoverflow.com/questions/75858480/using-ingress-with-knative-service-and-contour","{google-kubernetes-engine,kubernetes-ingress,contour,knative,knative-serving}","2023-03-27 17:04:36+03","2024-05-17 05:42:00.428139+03","I am running Knative with Contour for a POC At the moment we are using K8s Ingresses nginx ingress controller to route traffic to our services I was wanting to test out how it would work if I use an Ingress to route traffic to a helloworld Knative service for testing My Ingress K8s services My issue is the following Requests made to helloworld mydomain com are routed to the Knative service and to the envoy in the contourinternal namespace From there envoy returns the following error It seems that the envoy on contour side is attempting to find my domain in its configuration instead of the request directly reaching my service I do not quite understand how the networking works with Contour I would like to be able to use only K8s Ingress to route the traffic to my Knative services I cannot find clarity within the documentation The Ingress works if I route traffic to hello00001 or hello00002 services "
76009557,"knative admission webhook: validation failed: Persistent volume claim support is disabled","https://stackoverflow.com/questions/76009557/knative-admission-webhook-validation-failed-persistent-volume-claim-support-is","{kubernetes,amazon-eks,kubernetes-pvc,knative,knative-serving}","2023-04-13 20:24:23+03","2024-05-17 05:42:01.374218+03","I am trying to deploy service on eks with knative installed on eks here eks configured with fargateprofile I want to mount efs to my service for that i have created StorageClass PersistentVolume and PersistentVolumeClaim below are the respective yml storageclass yml efspv yml efspvc yml all the sc pv and pvc get created successfully Now I am trying to use mypvc in my Service myservice yml like below when I try to run following command kubectl apply f myservice yml it gives validation error here the complete error Error from server BadRequest error when creating myservice yml admission webhook validation webhook serving knative dev denied the request validation failed Persistent volume claim support is disabled but found persistent volume claim mypvc must not set the field s spec template spec volumes[0] persistentVolumeClaim Error simply means PVC is disabled in order to use PVC I need to enable PVC But How and where in configMap in In servingcore yml i found kubernetes podspecpersistentvolumeclaim Disabled which is example So I have tried to add configMap Just guess with kubernetes podspecpersistentvolumeclaim like below But nothing changed only configmap got created Any help will be appreciated"
76061776,"autoscaling metric type - memory, not working (always create cpu metric based hpa)","https://stackoverflow.com/questions/76061776/autoscaling-metric-type-memory-not-working-always-create-cpu-metric-based-hp","{kubernetes,autoscaling,knative,knative-serving}","2023-04-20 07:58:35+03","2024-05-17 05:42:02.452857+03","I am trying to create hpa for memory based metric so I provided the annotations in my service according to docs httpsknative devdocsservingautoscalingautoscalingmetricssettingmetricsperrevision HPA as you can see metric type is only CPU I have also checked yaml output but it always create a hpa with cpu metrics only I do not have much experience with this autoscaling And the annotations are added to my hpa from service Any suggestions on this or what I am doing wrong "
76090599,"Automatic creation of Ingress resources with Knative","https://stackoverflow.com/questions/76090599/automatic-creation-of-ingress-resources-with-knative","{kubernetes,knative,knative-serving,knative-eventing,knative-functions}","2023-04-24 09:45:35+03","2024-05-17 05:42:03.709264+03","Hello all Based on the following lines from documentation I was wondering if I can have Knative automatically create the Ingress resources for my service I have not found details on this in the documentation Example Taking the Service and Ingress definition below would it be possible to abstract away the Ingress yaml and have knative take care of its creation automatically for services Thank you Have not tried anything as I have not found details in the documentation regarding this "
70172679,"Knative Eventing Dead Letter Sink Not Triggered","https://stackoverflow.com/questions/70172679/knative-eventing-dead-letter-sink-not-triggered","{apache-kafka,knative,knative-eventing}","2021-11-30 16:24:09+02","2024-05-17 05:42:10.301421+03","I have got sequences working in my Knative environment We are trying to configure and confirm the DLQDead Letter Sink works so we can write tests and things against sequences I cannot for the life of my get Knative to send anything to the Dead Letter Sink I have approached this two ways the first was setting up a Broker Trigger Services and a Sequence I have defined in the Broker a service to use for the DLQ I then setup a service in the sequence to intentionally returned a non200 status When I view the logs for the channel dispatcher in the knativeeventing namespace I believe what I read is that it thinks there was a failure I read some things about the default MT Broker maybe not handling DLQ correctly so then I installed Kafka Got that all working and essentially it appears to do the same thing I started to wonder ok maybe within a sequence you cannot do DLQ After all the documentation only talks about DLQ with subscriptions and brokers and maybe Knative believes that the message was successfully delivered from the broker to the sequence even if it dies within the sequence So I manually setup and channel and a subscription and sent the data straight to the channel and again what I got was essentially the same thing which is The sequence will stop on whatever step does not return a 2XX status code but nothing gets sent to the DLQ I even made the subscription go straight to the service instead of a sequence and that service returned a 500 and still nothing to the DLQ The log item below is from the channel dispatcher pod running in the knativeeventing namespace It basically looks the same with In memory channel or Kafka i e expected 2xx got 500 Notes on setup I deployed literally everything to the same namespace for testing I followed the guide here essentially to setup my broker when doing the brokertrigger and for deploying Kafka My broker looked like this When I manually created the subscription and channel my subscription looked like this No matter what I do I NEVER see the dlq pod spin up I have adjusted retry stuff waited and waited used the default channelbroker Kafka etc I simply cannot see the pod ever run Is there something I am missing what on earth could be wrong I can set the subscriber to be a junk URI and then the DLQ pod spins up but should not it also spin up if the service it sends events to returns error codes Can anyone provide a couple of very basic YAML files to deploy the simplest version of a working DLQ to test with"
70272070,"how to call knative service [grpc server] by using a python client","https://stackoverflow.com/questions/70272070/how-to-call-knative-service-grpc-server-by-using-a-python-client","{grpc-python,knative,istio-gateway,knative-serving}","2021-12-08 08:38:52+02","2024-05-17 05:42:11.04737+03","I have created a knative service[gRPC server] in aks cluster I have exposed the service using istio gateway private static IP After using the command kubectl get ksvc I have got an address sampleapp test 10 153 157 156 sslio io When I try to use this address in the python client it throws error saying failed to connect addresses but if I try to hit the service using curl sampleapp test 10 153 157 156 sslio io I am able to hit the service I do not know what i am missing here please suggest "
70279159,"kn: Recycle instance if running for more than 30 days","https://stackoverflow.com/questions/70279159/kn-recycle-instance-if-running-for-more-than-30-days","{knative}","2021-12-08 17:19:15+02","2024-05-17 05:42:11.760859+03","How do I configure knative yaml for this scneario Edit Looks like at present users need to rely on a masterswitch k8s Descheduler However if folks in kn world add this feature for appservicepod specific Will need to update this edit "
70285727,"How to scale knative service based on custom metrics?","https://stackoverflow.com/questions/70285727/how-to-scale-knative-service-based-on-custom-metrics","{kubernetes,containers,autoscaling,knative,knative-serving}","2021-12-09 06:48:08+02","2024-05-17 05:42:12.68109+03","I am using Knative serving with KPA Autoscaling is available in Knative based on concurrency and RPS But we need to scale different services based on queue lengths because there are long running async processes Is there any way we can achieve this in Knative I cannot use Knative HPA because we need scale to zero feature of Knative Thanks in advance "
70310954,"Deploying Cloud Run via YAML gives error spec.template.spec.containers should contain exactly 1 container","https://stackoverflow.com/questions/70310954/deploying-cloud-run-via-yaml-gives-error-spec-template-spec-containers-should-co","{google-cloud-run,knative}","2021-12-10 22:16:06+02","2024-05-17 05:42:13.803129+03","When deploying a Cloud Run service via a YAML file from the command line it fails with this error "
70314634,"Knative: Why one Dockerfile ""Readiness probe failed:"" and another do not?","https://stackoverflow.com/questions/70314634/knative-why-one-dockerfile-readiness-probe-failed-and-another-do-not","{knative,knative-serving}","2021-12-11 11:10:09+02","2024-05-17 05:42:14.796516+03","kubectl version short This Dockerfile give Readiness probe failed Deploying a simple knative service kubectl describe pod dockerfilemicrodependdhv8ndeployment796484d788hwpmm Then I found this official example and used the Dockerfile and it worked Do you know why Clearly it has to do with some health checking on the pod but I have no idea why the first Dockerfile is not working "
70329177,"Is it possible to install KNative on Google GKE in ""Autopilot"" mode?","https://stackoverflow.com/questions/70329177/is-it-possible-to-install-knative-on-google-gke-in-autopilot-mode","{kubernetes,google-kubernetes-engine,knative,knative-serving,knative-eventing}","2021-12-13 01:51:28+02","2024-05-17 05:42:15.707711+03","Is it possible to install KNative on Google GKE in Autopilot mode I unfortunately have not found any tutorial on this and cannot use a managed solution for this project because the cpu and memory ressources of my workload are too high The workload needs 40 CPU cores and 60GB RAM per KNative event which is not supported on google cloud functions google cloud run or IBM Code Engine Many thanks in advance for your help"
70483327,"knative service not working with nginx image","https://stackoverflow.com/questions/70483327/knative-service-not-working-with-nginx-image","{nginx,knative,knative-serving}","2021-12-25 23:14:34+02","2024-05-17 05:42:16.482694+03","Do you know why nginx is not starting using Knative No problem using standard deployment But using Knative service there is issues Kubectl get ksvc kubectl describe revision serviceweb"
70607204,"Knative Parallel and Sequence demo fails","https://stackoverflow.com/questions/70607204/knative-parallel-and-sequence-demo-fails","{serverless,knative,knative-serving,knative-eventing}","2022-01-06 12:37:18+02","2024-05-17 05:42:17.197681+03","I am trying out knative sequenceparallel flows I started with sequence example mentioned in official website for release v1 1 I created steps sequence and pingSource as mentioned in the document but pingSource failed because sequence was not up Sequence has below exception but steps are running fine After spending ample time on knative sequence I decided to try out knative parallel I referred official documentation of parallel for v1 1 and used multiplebranches examples I created filters transformers parallel and pingSource but here also parallel did not come up with below exception Here also parallel and sequence are up and running fine Has anyone faced similar issues or am I missing anything from official documentation Environment info Edit 1 I have not created any channels explicitly and I do not see any channels being created implicitly by controller either Also my default channel is InMemoryChannel Parallel Example Used httpsgithub comknativedocstreemaincodesampleseventingparallelmultiplebranches Status Edit 2 I installed few more eventing crds eventing yaml Few changes that I could see now Channels are getting created and their status is true but sequence and parallel are not in true state yet they say subscriptionsNotReady On debugging further I could see below message in sequence and on looking into channel it gives below message Looks like channel is not able to fetch service deployment status I also installed Kourier but I cannot see external ip Note that I am running my own kind cluster for this Few changes in services post installing kourier IngressNotConfigured status goes away "
70946255,"Can Temporal workflow handle/manage serverless workloads?","https://stackoverflow.com/questions/70946255/can-temporal-workflow-handle-manage-serverless-workloads","{google-cloud-run,knative,temporal-workflow,knative-eventing}","2022-02-01 19:16:22+02","2024-05-17 05:42:17.926689+03","I just started looking at Temporal and it looks like a great way to orchestrate microservices I have knative cloudrun based microservices in my project and I would like to adapted Temporal to orchestrate the workflow between my services From a quick look through docs I could not figure out if Temporal can manage serverless microservices knativecloudrun Have you used Temporal and do you have serverless workloads in your project If so can you share your experience Thanks"
71066772,"Knative suggested way to store binaries","https://stackoverflow.com/questions/71066772/knative-suggested-way-to-store-binaries","{persistent-volumes,binaries,knative}","2022-02-10 14:20:22+02","2024-05-17 05:42:19.08666+03","Knative does only support persistent volumes of type secret configMap or projected Here in the doc is mentioned a workaround to work with other persistent volumes It is not clear to me what is the suggested way and not a workaround to store binaries in a private cloud system that does not rely on something like S3 or other cloud storages Marco "
62722297,"Set values in a knative service.yaml file using environment variables","https://stackoverflow.com/questions/62722297/set-values-in-a-knative-service-yaml-file-using-environment-variables","{kubernetes,gitlab-ci,knative}","2020-07-03 20:28:56+03","2024-05-17 05:42:21.102496+03","Is there a way to set the values of some keys in a Knative service yaml file using environment variables More detail I am trying to deploy a Knative service to a Kubernetes cluster using GitLab CI Some of the variables in my service yaml file depend on the project and environment of the GitLab CI pipeline Is there a way I can seamlessly plug those values into my service yaml file without resorting to hacks like sed i For example given the following script I want the KUBE_NAMESPACE CI_ENVIRONMENT_SLUG and CI_PROJECT_PATH_SLUG values to be replaced by accordinglynamed environment variables "
62829052,"IBM Cloud: Error trying to create Code Engine project","https://stackoverflow.com/questions/62829052/ibm-cloud-error-trying-to-create-code-engine-project","{ibm-cloud,knative,ibm-cloud-code-engine}","2020-07-10 07:10:34+03","2024-05-17 05:42:21.951088+03","I am trying to create a new IBM Cloud Code Engine project on the command line but am running into errors Listing my projects with ibmcloud coligo proj list succeeds "
63031461,"GCP Ingress can't find my Kubernetes Service port anymore after I migrated the app to Google Cloud Run ""gke""","https://stackoverflow.com/questions/63031461/gcp-ingress-cant-find-my-kubernetes-service-port-anymore-after-i-migrated-the-a","{kubernetes,kubernetes-ingress,google-cloud-run,knative}","2020-07-22 09:50:18+03","2024-05-17 05:42:22.730998+03","I recently successfully deployed my Vue JS webapp to Cloud Run Beforehand the webapp was deployed by a Kubernetes Deployment and Service I also had an Ingress running that redirect my http requests to that service Now Cloud Run takes over the work Unfortunately the new Cloud Run driven Knative Service does not seem to work anymore My Ingress is showing me the following error message Where importercontrolroom is my applications name The error message is not cromprehensible to me I hereby try to provide you with some more information with what you maybe be able to help me out with this issue This is current list of resources that have been created I especially was looking at the importercontrolroomfrontend External Name I somewhat think this is the Service that replaced the old one Because I used it is name in my Ingress Rules to map it to a domain as you can see here The error message in the Ingress says However the Cloud Run revision shows that port 80 is being provided A friend of mine redirect me to this article httpscloud google comsolutionsintegratinghttpsloadbalancingwithistioandcloudrunforanthosdeployedongkehldehandling_health_check_requests Unfortunately I have no idea what it is talking about True thing is that we are using Istio but I did not configure it and have a very hard time getting my head around it for this particular case INFO_1 Dockerfile contains"
63615721,"knative: routing based on custom headers?","https://stackoverflow.com/questions/63615721/knative-routing-based-on-custom-headers","{knative,knative-serving}","2020-08-27 12:13:06+03","2024-05-17 05:42:24.452978+03","We can create a knative service which have two revisions then we can config traffic like this We can use header KnativeServingTag v2 to route to headerv2 revision However we want to route to specific revision using custom header like User v2 What should we do We tried some method First we try to edit the corresponding virtualservice but the new rules will be automatically deleted Then we try to add a new virtualservice Hosts cannot be the same as the previous one otherwise it will not take effect We do not want to change the host we just want to route through the custom header What would be the better way to do that Thanks in advance "
63618094,"After adding AWS ACM EKS ELB is not opening on HTTPS","https://stackoverflow.com/questions/63618094/after-adding-aws-acm-eks-elb-is-not-opening-on-https","{amazon-web-services,kubernetes,istio,knative}","2020-08-27 14:21:12+03","2024-05-17 05:42:25.508635+03","I have my app running on EKS which is using istioingressgateway service for load balancer and Knative serving I have added ACM to my ELB but after patching the service with my domain is not opening on HTTPS but works fine on HTTP giving this error on HTTPS"
63671125,"how to collect knative service logs?","https://stackoverflow.com/questions/63671125/how-to-collect-knative-service-logs","{logging,knative}","2020-08-31 12:48:18+03","2024-05-17 05:42:26.439095+03","I want to deploy my service through knative but I do not know how to collect the service log and save them in the es The service logs are located under varlog directory so I mount the directory to the emptyDir volumn and collect log via sidecar When I submit the yaml file I find that knatve does not support this approach I know how to collect the container console logI just do not know how to collect specific directory log when the service is deployed through knative So does anyone know the solution Thanks for your help and time"
63912397,"Cloud Run for Anthos http2 unexpected EOF error | Google Cloud Platform","https://stackoverflow.com/questions/63912397/cloud-run-for-anthos-http2-unexpected-eof-error-google-cloud-platform","{websocket,google-kubernetes-engine,google-cloud-run,knative}","2020-09-16 02:47:19+03","2024-05-17 05:42:27.695407+03","I deployed service on Google Cloud Run for Anthos When I deploy with Http2 enabled I get this error and sometimes randomly If I deploy with it off everything works fine expect WebSockets The purpose of migrating Cloud Run for Anthos was to add WebSocket support Please help "
58222766,"How to make cluster local request from one service to another in Knative?","https://stackoverflow.com/questions/58222766/how-to-make-cluster-local-request-from-one-service-to-another-in-knative","{knative}","2019-10-03 15:52:00+03","2024-05-17 05:42:49.846306+03","I have followed the this guide httpsknative devdocsservingclusterlocalroute to make a service clusterlocal I am trying to access that service from another service that is inside the cluster using curl command but i always get could not resolve host error I have tried to make request with the curl helloworlddefault svc cluster and curl H Host helloworldgo default svc cluster http cluster_ip command I am missing something Do i need to make any configuration to Istio virtualService to make it work I am running Knative inside GKE "
64025710,"How to create ingress on istio service to cloud run anthos (knative)","https://stackoverflow.com/questions/64025710/how-to-create-ingress-on-istio-service-to-cloud-run-anthos-knative","{google-cloud-platform,istio,google-cloud-run,knative,google-anthos}","2020-09-23 10:14:40+03","2024-05-17 05:42:28.581057+03","I am working on Cloud Run Anthos at GCP and host on GKE cluster Which I follow this qwiklabs for study the Cloud Run Anthos httpswww qwiklabs comfocuses5147catalog_rank7B22rank223A62C22num_filters223A02C22has_search223Atrue7Dparentcatalogsearch_id7054914 The example in handson lab They used below command to check the service is working or not And I wonder about reality used No one add Host in the every request to working My question is It have any possible to solve this issue I just want to used the invoke request by browser or any application but no sure is possible I reach the resource document about Istio ingress Which the example of qwiklab used it also It about VirtualSerivce and look like I have a Istio Ingress before to build this proxy Is that a correct way to trobleshooting httpsistio iolatestdocsreferenceconfignetworkingvirtualserviceHTTPRewrite"
64210432,"How to create the knative serving","https://stackoverflow.com/questions/64210432/how-to-create-the-knative-serving","{go,kubernetes,knative,knative-serving}","2020-10-05 14:15:58+03","2024-05-17 05:42:29.450762+03","I have written a custom resource as part of the deployment As part of this in the reconcileKind function I have written the logic to create pod as shown below using the Kubernetes APIs in Go itself I would like to convert this to knative serving instead of creating the POD which will be always running so that I can make of KPA feature I am aware of creating knative serving using the yaml way But I would like to create it by using the Kubernetes API itself I did search in the official documentation but everything explained was using the yaml way So I am curious whether can we achieve knative serving by directly using Kubernetes APIs"
64227749,"How to generate code using the code generator for the custom resource definition","https://stackoverflow.com/questions/64227749/how-to-generate-code-using-the-code-generator-for-the-custom-resource-definition","{go,kubernetes,knative,knative-serving}","2020-10-06 14:19:12+03","2024-05-17 05:42:30.617014+03","I want to use serving api which is the part of the knative serving repo to create serving application Since i am writing a custom controller i need to make use of Go client I am finding it difficult to generate boiler plate code using the codegenerator I am following the below mentioned blog on how to do it But i could not achieve it Any help is appreciated "
64232556,"/busybox/sh: syntax error: bad substitution with Tekton","https://stackoverflow.com/questions/64232556/busybox-sh-syntax-error-bad-substitution-with-tekton","{shell,kubernetes,busybox,knative,tekton}","2020-10-06 19:27:10+03","2024-05-17 05:42:31.457297+03","I am trying to pull source code from Github then build and push a docker image to docker hub using Tekton pipeline and Knative on Kubernetes cluster I am following this link for the installation and setup of Tekton httpswww ibm comcloudblogbuildaknativeservicewithtektonandapacheopenwhisknodejsruntime taskbuild yaml When trying to build and push the image am getting error When checked the logs for error msg I am getting Error busyboxsh syntax error bad substitution"
64494279,"GCP Cloud Run for Anthos - no healthy upstream","https://stackoverflow.com/questions/64494279/gcp-cloud-run-for-anthos-no-healthy-upstream","{google-cloud-platform,google-cloud-run,knative,google-anthos}","2020-10-23 05:19:20+03","2024-05-17 05:42:32.192397+03","I am building microservices deployed to Cloud Run for anthos on GKE cluster in Google Cloud Platform I randomly get the error message no healthy upstream error message Maybe there are some problem related to GKE networking I have seen questions related to no healthy upstream but I could not find an answer that can solve this problem Please help"
65123023,"Google cloud run sudden latency spikes and container instance time increase","https://stackoverflow.com/questions/65123023/google-cloud-run-sudden-latency-spikes-and-container-instance-time-increase","{python,kubernetes,google-cloud-run,knative}","2020-12-03 09:20:32+02","2024-05-17 05:42:33.047519+03","We are having recurring problems with our container instances with python running on cloud run We currently have 20 services deployed which run fine weeks at a time and then get sudden spikes in request latency as well as ping checks failing and the container instance time going up We cannot see any added traffic during these spells of longer latency in our systems Common access points such as database and cache all seem normal The region is europewest1 Does anyone have any tips on what to check Our have experienced similar problems Latency Container instance time"
65307834,"Knative - kubernetes yaml to mount data from google cloud storage","https://stackoverflow.com/questions/65307834/knative-kubernetes-yaml-to-mount-data-from-google-cloud-storage","{docker,kubernetes,google-cloud-run,knative,knative-serving}","2020-12-15 14:25:57+02","2024-05-17 05:42:33.7837+03","I am an newbie for Kubernetes and Cloudrun deployment using YAML file So pardon if this question should very basic Problem I have files that are stored in cloud storage I want to download these files in the local mount before the container spins up my docker entrypoint It is my understanding that KNative does not support volumes or persistentVolumeClaims Please correct me if this understanding is wrong Let me explain it better using an image below Inside the Kubernetes pod I have divided the container startup into 3 section I am looking for Knative serving solution that will work on cloudrun How do I solve this Additional is it possible to have yaml file without Knative serving for creating an cloudrun service"
65340294,"local knative serving and ambassador wihtout TLS","https://stackoverflow.com/questions/65340294/local-knative-serving-and-ambassador-wihtout-tls","{knative,ambassador,knative-serving}","2020-12-17 11:58:19+02","2024-05-17 05:42:34.665338+03","I am trying to use knative for some long running processes triggered only locally from within the cluster As networking layer we already use ambassador and it is configured with TLS and to redirect HTTP requests to HTTPS i created the service with the clusterlocal flag and if i try to access it from within the cluster I get redirected to the https version With curl k v httpshelloworldgo default svc cluster local it works but obviously the hostname of the cert does not match with cluster local If I remove the redirect_cleartext_from 8080 port 80 seems to be no longer available Is there a way to disable the http https redirect only for svc cluster local For other workloads not served via knative I can request them with http and httpdeploymentname namespace"
58294347,"Knative: confusing service names and routing","https://stackoverflow.com/questions/58294347/knative-confusing-service-names-and-routing","{kubernetes,knative,gloo}","2019-10-08 21:31:12+03","2024-05-17 05:42:50.714143+03","Im getting started with Kubernetes Knative and Gloo My goal is to deploy a simple http service to a gke cluster Ive managed to setup knative gloo and deploy a healthy service there named backend Next step is to setup routing apiv1 backend Ive created a virtualservice named publicapi now I need to add a route According to docs I need to run And Im confused I suppose this would be easier if I just installed plain gloo on plain gke But with Knative I see four upstreams I have four questions"
56573188,"How to set a minimum scale to 1 for k-native on GKE?","https://stackoverflow.com/questions/56573188/how-to-set-a-minimum-scale-to-1-for-k-native-on-gke","{kubernetes,google-kubernetes-engine,knative-serving,knative}","2019-06-13 03:58:30+03","2024-05-17 05:42:36.323105+03","I installed knative on my k8s cluster on GKE Now I am running a test with a sample HelloWorld app Since I am running on GKE and paying for the cluster 247 it makes no sense to scale a deployment to zero and always have a cold start for the first request The list of What I have tried so far No matter what modifications I made HelloWorld pods that launched for serving terminated away as no more calls came in kubectl get po watch NAME READY STATUS RESTARTS AGE helloworldgo5jm9rdeployment847d6fdb49njktv 22 Running 0 13s helloworldgo5jm9rdeployment847d6fdb49njktv 22 Terminating 0 96s helloworldgo5jm9rdeployment847d6fdb49njktv 12 Terminating 0 99s helloworldgo5jm9rdeployment847d6fdb49njktv 02 Terminating 0 118s Setting the minScale factor to 1 correctly should have kept the pod alive forever am I wrong People say the settingacustomminScale option is available here and there but I cannot get it on What am I missing Concrete commands to run for example are welcomed 2nd try Annotating the revision did not keep the launched pod alive Any idea Answer It was PodAutoscaler not Service nor Revision "
56624532,"Converting microservice to Knative","https://stackoverflow.com/questions/56624532/converting-microservice-to-knative","{istio,knative}","2019-06-17 03:56:19+03","2024-05-17 05:42:37.240153+03","Knative is currently in alpha I need to develop a service so that when knative is released the conversion is straightforward What type of kubernetes deployed service would most easily be converted to knative I also will be leveraging Istio So just want to make this as simple as possible Also any estimates on when knative will be released or where I should check for that information "
56650085,"Weird way of accessing Cloud Run on GKE services","https://stackoverflow.com/questions/56650085/weird-way-of-accessing-cloud-run-on-gke-services","{kubernetes,google-cloud-platform,istio,google-cloud-run,knative}","2019-06-18 13:16:41+03","2024-05-17 05:42:38.223268+03","I am following this tutorial to perform a so called quickstart on gcp s cloud run and experiment a bit with it Some delays and inconsistencies about announced and typical service availability aside the scripted steps went well What I want to ask could not find any documentation or explanation about it is why in order for me to access the service I need to pass to curl a specific Host header as indicated by the relevant tutorial Where YOURIP is the public IP of the Load Balancer created by istiomanaged ingress gatewau"
56855234,"Knative image build and push fails with acces denied","https://stackoverflow.com/questions/56855234/knative-image-build-and-push-fails-with-acces-denied","{kubernetes,google-cloud-platform,istio,knative,kaniko}","2019-07-02 14:59:00+03","2024-05-17 05:42:39.247256+03","I am trying to build and push a docker image with Knative I have a maven java application and a multistaging Dockerfile that builds and runs the application I want to build and push the application to the gcr repository So I have a ServiceAccount and a Build I tried to use kanikoproject for this However there are some problems with using it Version 0 1 0 works with a simple Dockerfile But does not support the multistaging Dockerfile s and fils with the access denied error Any other version of the kaniko does not work and fails In the logs for version 0 1 0 of the multistaging build I can see the following error 20190702 144313 No matching credentials found for index docker io falling back on anonymous time20190702T144315Z levelinfo msgsaving dependencies [] time20190702T144315Z levelerror msgcopy failed no source files specified and the status of the build For any other versions of kaniko higher than 0 1 0 here is the error Also in logs there is something like I found an issue in their repo which is closed However it is still reproducible Here is the github issue I can confirm that my ServiceAccount is correct since I am able to build and push a simple docker image with this configuration I have also tried different images for build and push For example the one that is described here Even though I have followed all the steps described there creating my ServiceAccount following the instructions which works with a simple Dockerfile it still fails when I try to build and push my application So when I apply the following Build The build fails and I am getting the error in logs"
57313405,"Pods is in CrashLoopBackOff and readiness probe failed for C based app","https://stackoverflow.com/questions/57313405/pods-is-in-crashloopbackoff-and-readiness-probe-failed-for-c-based-app","{c,docker,knative}","2019-08-01 16:33:08+03","2024-05-17 05:42:40.332316+03","I have a knative setup with two worker nodes After successfully testing helloworldgo sample program I tried to wrote a simple C program that just prints environment variable REQUEST_METHOD and QUERY_STRING However pod status is CrashLoopBackOff and kubectl describe shows Readiness probe failed Get http192 168 203 1818022health nethttp request canceled Client Timeout exceeded while awaiting headers I suspect something is wrong with my code If possible please suggest what is wrong with my code Dockerfile I used is this My C code for the same is My yaml file is"
57451700,"kubectl log shows 'standard_init_linux.go:211: exec user process caused ""no such file or directory""'","https://stackoverflow.com/questions/57451700/kubectl-log-shows-standard-init-linux-go211-exec-user-process-caused-no-such","{docker,events,knative}","2019-08-11 16:25:37+03","2024-05-17 05:42:41.1688+03","I am trying to create a containerSource for knative service When I use docker run for the image it gives the output or the error from the code However when I apply the yaml file then kubectl log shows standard_init_linux go211 exec user process caused no such file or directory docker run shows that it is able to find the exec file So I am not able to understand whats wrong Someone please guide me through my yaml file my go code for the dockerimage is And Dockerfile is"
57454501,"Unable to deploy using gitlabktl","https://stackoverflow.com/questions/57454501/unable-to-deploy-using-gitlabktl","{kubernetes,gitlab,gitlab-ci,knative}","2019-08-12 00:13:39+03","2024-05-17 05:42:41.915225+03","I have been trying to get a simple Serverless cicd working After resolving quite a few issues and looking at the gitlabktl code httpsgitlab comgitlaborggitlabktl I have managed to get to this config However I am not able to make any further progress as I keep getting this error"
53505048,"How to access Knative build logs on minikube?","https://stackoverflow.com/questions/53505048/how-to-access-knative-build-logs-on-minikube","{kubernetes,knative}","2018-11-27 17:27:39+02","2024-05-17 05:42:51.464127+03","I installed Knative on minikube using the instructions from Knatives documentation Then I tried to get their Springboot build example running How do I see the logs It says to use logs jib but I tried kubectl logs jib and minikube logs jib and did not see anything relevant "
58961512,"How to expose knative service to outside world via ingress","https://stackoverflow.com/questions/58961512/how-to-expose-knative-service-to-outside-world-via-ingress","{kubernetes,google-kubernetes-engine,kubernetes-ingress,istio,knative}","2019-11-20 18:57:28+02","2024-05-17 05:43:07.647865+03","Below is my knative service sample Gatewayvirual service if i do curl v httptestsvc kubesystem kasl io inside cluster its working perfectly Below is my knative service sample Gatewayvirual service if i do curl v httptestsvc kubesystem kasl io inside cluster its working Now i want to expose these service to outside cluster"
57652780,"What are the exact system requirements for Knative set up? Why the basic setup guide lead me to exhaustion of resource?","https://stackoverflow.com/questions/57652780/what-are-the-exact-system-requirements-for-knative-set-up-why-the-basic-setup-g","{linux,kubernetes,istio,knative,knative-serving}","2019-08-26 06:29:19+03","2024-05-17 05:42:42.890242+03","I have been trying to set up Knative development environment on my system But everytime i deploy Istio the pilot remain in pending state and i find its because of resource exhaustion I followed basic setup guide from Knative docs i e servingblobmasterDEVELOPMENT md Now if i install and deploy istio according to it the resources get exhausted and istiopilot remain in pending state due to no node available If i try same with the one given on installation guide i e httpsknative devdocsinstallinstallingistio It works fine until later when i restart the cluster the apiserver get stopped which is according to what i found by searching is also due to lack of resources So What is the exact requirement for Knative set up I used system with 8 core processor and 32GB RAM Am i allocating it wrong as much I understood we have to give at least 8Gb memory and 6 CPU to a single node kubernetes structures That is what i am using What about the resources Istio and Knative deployments use I checked for the resources and limits in node and got the limits are set to 0 I have already tried to limit the CPU and RAM in minikube config then with cpu and memory on the time of starting the minikube but the output remain the same Minikube started with minikube start ISTIO Deployed by The pilot remain pending and after describing the pod we get Output for kubectl describe node nodename The setup should have been successful as i did set up the limits with RequestQuotas and LimitRange too But nothing is working what am i doing wrong here"
57730416,"Edits to config-autoscaler configmap automatically revert a few minutes after changes applied","https://stackoverflow.com/questions/57730416/edits-to-config-autoscaler-configmap-automatically-revert-a-few-minutes-after-ch","{kubernetes,google-kubernetes-engine,google-cloud-run,knative,knative-serving}","2019-08-30 16:38:18+03","2024-05-17 05:42:44.012607+03","I am trying to tune the autoscaler for a Google Kubernetes Engine cluster with the cloudrun addon enabled When I edit the configmap The changes are accepted by the API server However after a few minutes the configmap reverts to the original version Is there any way to tune the autoscaler while using the cloudrun cluster addon Steps to reproduce Is there something that I am missing or is it not possible to edit the configmap the governs the knative serving autoscaler If not what are my alternatives"
57743492,"How to setup a simple testing environemnt for knative eventing testing?","https://stackoverflow.com/questions/57743492/how-to-setup-a-simple-testing-environemnt-for-knative-eventing-testing","{vagrant,serverless,knative}","2019-09-01 05:40:28+03","2024-05-17 05:42:45.054188+03","I wanted to start learning Knative and specially Knative Eventing part I am struggling more than two weeks with setting up the environment There is always an error happening Sometimes kubernetes stuck on ImagePullBackOFF sometimes ErrPullImage I installed k3s and When I installed gloo for knative it just says that there is no environemnt variable as kubeconfig and lots and lots of other errors Could somebody help me setup a tesing environment using vagrant etc or direct me to a github page or a place where I could actually get some files and codes so that I can get my hands into knative and do something to learn it Please help me I highly appreciate it thanks "
57771790,"Knative on GKE is not working with some images, shows RevisionMissing error","https://stackoverflow.com/questions/57771790/knative-on-gke-is-not-working-with-some-images-shows-revisionmissing-error","{google-cloud-platform,google-kubernetes-engine,knative,knative-serving}","2019-09-03 12:30:03+03","2024-05-17 05:42:45.864482+03","I am running Knative on a GKE cluster The sample images provided on the Knative website work but when I switch to some other images it stops working Only 2 containers work out of 3 and routes ready state remains unknown and Reason shows as RevisionMissing I tried with multiple images k8s gcr iohpaexample is one of them Edit The cluster has a twonode of configuration of type n1standard4 4 vCPUs 15 GB memory I created this cluster using the GCP console with the latest version of kubernetes and checking the Enable Istio checkbox I used following commands to install the Knative Thanks"
57950399,"Create service or container from another container, on Google Cloud Run or Cloud Run on GKE","https://stackoverflow.com/questions/57950399/create-service-or-container-from-another-container-on-google-cloud-run-or-cloud","{docker,google-cloud-platform,google-cloud-run,knative}","2019-09-16 04:30:21+03","2024-05-17 05:42:46.87218+03","Can I create a service or container from another container on Google Cloud Run or Cloud Run on GKE I basically want to manage my containersservices dynamically from another container and not sure how to go about this Adding more details One of my microservices needs to create new isolated containers that will run some userland code I would like to have full lifecycle control of these containers run the code and then destroy as needed I also looked at Cloud Run APIs but not sure how to run something like kubectl create through the APIs Is that the right approach"
58106188,"Changing public url in knative service definition","https://stackoverflow.com/questions/58106188/changing-public-url-in-knative-service-definition","{kubernetes,knative,knative-serving}","2019-09-25 20:36:09+03","2024-05-17 05:42:47.847158+03","i am playing around with knative currently and bootstrapped a simple installation using gloo and glooctl Everything worked fine out of the box However i just asked myself if there is a possibility to change the generated url where the service is made available at I already changed the domain but i want to know if i could select a domain name without containing the namespace so helloworldgo namespace mydomain com would become helloworldgo mydomain com The current YAMLdefinition looks like this Thank you for your help "
58115936,"GCP Cloud Run: Failed to create a service","https://stackoverflow.com/questions/58115936/gcp-cloud-run-failed-to-create-a-service","{google-cloud-platform,google-kubernetes-engine,istio,google-cloud-run,knative}","2019-09-26 11:33:56+03","2024-05-17 05:42:48.809124+03","I am trying to use Cloud run with private GKE cluster I created the cluster using the below command I created a bastion host in the same VPC and subnet that can contact this cluster using the below command I installed kubectl on the bastion host and switched the context to this cluster using gcloud container clusters getcredentials command I made sure Istio is enabled on default namespace using the below command Now when I try to deploy a service using the below command I get an error Error I tried with both connectivityinternal and connectivityexternal I get the same error When I try to create the service using the console I get the following error I have made sure to keep the same project for the container registry gcr io and GKE cluster Exact things work fine with public clusters I am not able to find specific documentation to get it all working with private GKE cluster Is there anything that I am missing Is there anything that I am doing wrong"
53512182,"Knative logging: log stash - Kibana unable to fetch mapping","https://stackoverflow.com/questions/53512182/knative-logging-log-stash-kibana-unable-to-fetch-mapping","{elasticsearch,ibm-cloud,kibana,knative-serving,knative}","2018-11-28 04:32:37+02","2024-05-17 05:42:52.302425+03","For Knative logging following the instructions here httpsgithub comknativedocsblobmasterservinginstallingloggingmetricstraces mdelasticsearchkibanaprometheusgrafanasetup I tried to visualise the logs using Kibana UI the visualization tool for Elasticsearch but struck with the following error while configuring an index pattern Unable to fetch mapping Do you have indices matching the pattern logstash Is there any workaround or fix for this Update Heres what I see when I make a cURL GET request as suggested in the comment"
54078705,"Knative pod http request","https://stackoverflow.com/questions/54078705/knative-pod-http-request","{go,kubernetes,knative}","2019-01-07 17:03:26+02","2024-05-17 05:42:53.030131+03","When I make request for this started server httpsgist github comRasarts1180479de480d7e36d6d7aef08babe59fileserver I get right response But when I make request to that server on minikube which was created this way httpsgist github comRasarts1180479de480d7e36d6d7aef08babe59fileserveyaml I get error How can I make http requests from kubernetes pod"
55401253,"How to increase the execution time for apps served by knative?","https://stackoverflow.com/questions/55401253/how-to-increase-the-execution-time-for-apps-served-by-knative","{nginx,kubernetes,faas,knative-serving,knative}","2019-03-28 15:21:39+02","2024-05-17 05:42:54.083891+03","We are using knative to serve a nodejs app with express that would execute workflows and return back the results of execution The app would have to execute workflows which could take minutes if not hours to finish executing After invoking the app execution stops after a certain time approximately 14min with the status upstream request timeout We modified the timeout accordingly for express and it seemed to have a slight effect but not as much as needed We used the following guide as baseline httpsgithub comknativedocstreemasterdocsservingsampleshelloworldhelloworldnodejs Is there a config value that can be modified that would increase the execution of the app itself perhaps a timeout value "
55531556,"knative 0.4 Serving - Revisions name","https://stackoverflow.com/questions/55531556/knative-0-4-serving-revisions-name","{knative-serving,knative}","2019-04-05 08:48:53+03","2024-05-17 05:42:54.957271+03","Is it possible to set a revision name When I create a service it create a configuration and a revision but the revision name has a random suffix that makes it difficult to track the revision order "
55558290,"Knative Kafka channel dispatcher cannot reach Kafka outside Kubernetes cluster","https://stackoverflow.com/questions/55558290/knative-kafka-channel-dispatcher-cannot-reach-kafka-outside-kubernetes-cluster","{kubernetes,apache-kafka,knative}","2019-04-07 11:04:57+03","2024-05-17 05:42:56.086732+03","I am trying to setup a Kafka channel dispatcher in Knative using this documentation httpsgithub comknativeeventingtreemastercontribkafkaconfig Everything went great except that the channel dispatcher cannot find my Kafka broker Error from the pod kafkachanneldispatcher0 levelfatalts1554634078 4035408callerdispatchermain go65msgunable to create kafka dispatcher errorunable to create kafka client kafka client has run out of available brokers to talk to Is your cluster reachable stacktracemain main\n\thomemichielgosrcgithub comknativeeventingcontribkafkacmddispatchermain go65\nruntime main\n\tusrlibgo1 10srcruntimeproc go198 I have a single Kafka node running in a different machine than the K8s cluster but they are in the same network I tried reaching the Kafka broker without using Knative by running a container with some python and that was successful so I know the broker is reachable Here is the Kafka channel dispatcher config map What can I do to reach my broker Does it maybe have something to do with the fact that I provide an IPaddress instead of a url like in the doc example Update I am able to reach a strimzi kafka cluster like in the documentation "
55861375,"Knative/Kubernetes unique IP for outbound traffic","https://stackoverflow.com/questions/55861375/knative-kubernetes-unique-ip-for-outbound-traffic","{kubernetes,outbound,knative}","2019-04-26 05:37:12+03","2024-05-17 05:42:57.125246+03","Question Does Knative expose lowlevel network components that allow me to configure the stack in such a way that each instance has a unique IP address available for outbound networking Info I have a workload that has to happen on queue event The incoming event will start the fetching on an API Due to rate limiting and amount of request around 100 the process is longrunning and with wait request wait request wait What the code JS basically does is hitting an API endpoint with parameters from the queues message and sending the result of the 100 API requests back with another queue Serverless on Lamdba is therefore expensive also on AWS multiple instances are likely to be spawned on the same VM tested resulting in the same IP for outbound traffic Therefore Lambda is not an option for me I read a lot about Knative lately and I imagine that the Kubernetes stack offers better configurability I need to have concurrent instances of my service but I need to have a unique outbound IP per instance Currently the solution is deployed on AWS Beanstalk where I scale them out based on queuelength Therefore 1 10 instances exist at the same time and perform the API requests I use micro instances since CPU load is really low There have been multiple issues with Beanstalk that is why we would like to move I do not expect a monthly cost advantage IPs are expensive that is ok I am just unhappy with the deployment on Beanstalk "
55911235,"dns01 validation: Certificate issuance in progress. Temporary certificate issued","https://stackoverflow.com/questions/55911235/dns01-validation-certificate-issuance-in-progress-temporary-certificate-issued","{lets-encrypt,cert-manager,knative-serving,knative,googledns}","2019-04-29 21:47:09+03","2024-05-17 05:42:57.956888+03","Following this Setup Certmanager ClusterIssuer status I have done as in the documentation but setting up Google DNS not described I have manually created a DNS in Google DNS consule My domain is pointing at the nameservers and I can ping the right server ip address When creating the DNS I added a record set Note also tried without I have seen here that they talk abaout setting TXT Do you know how to make this certmanager TLS it work"
55971277,"Unable to Access Private Registry in Knative","https://stackoverflow.com/questions/55971277/unable-to-access-private-registry-in-knative","{kubernetes,knative-serving,knative}","2019-05-03 13:55:12+03","2024-05-17 05:42:58.98111+03","I am trying to push an example application to Knative however I am running into the following error message Revision failed with message Unable to fetch image unsupported status code 401 body Not Authorized Knative is setup properly on EC2 and I have already created a service account and secret to pull from ECR What am I missing I am not sure why Knative cannot access my private AWS repository even though K8s not Knative is able to Secret Knative Secret Service Account Knative Config"
56042511,"grpc-go over https: failed rpc error: code = Unavailable desc = transport is closing:","https://stackoverflow.com/questions/56042511/grpc-go-over-https-failed-rpc-error-code-unavailable-desc-transport-is-clo","{go,grpc,grpc-go,knative-serving,knative}","2019-05-08 13:57:26+03","2024-05-17 05:42:59.811183+03","Note This is running in containers in Kubernetes I have successfully done this very short description httpsknative devdocsservingsamplesgrpcpinggo Success But if I run through 443 from a Gateway on knative setup for https it does not work The client code from the sample and the server code The server is not listening for tls but the connection to the server is over https Just to make sure I know the https is worning from a simpel hellogo text reply "
56256874,"Knative security - unable to create a secure TLS connection using gRPC","https://stackoverflow.com/questions/56256874/knative-security-unable-to-create-a-secure-tls-connection-using-grpc","{go,kubernetes,grpc,istio,knative}","2019-05-22 12:30:41+03","2024-05-17 05:43:00.556198+03","I need a secure connection to Knative Tried a milion and on the top of my head the following scenario If you have got anything working with TLS or http s or know one who has I would very much like to know Thanks in advance"
56352181,"Simple HelloWorld app on cloudrun (or knative) seems too slow","https://stackoverflow.com/questions/56352181/simple-helloworld-app-on-cloudrun-or-knative-seems-too-slow","{google-cloud-platform,google-cloud-run,knative-serving,knative}","2019-05-29 02:10:06+03","2024-05-17 05:43:01.672248+03","I deployed a sample HelloWorld app on Google Cloud Run which is basically knative and every call to the API takes 1 4 seconds at best in an endtoend manner Is it supposed to be so The sample app is at httpscloud google comrundocsquickstartsbuildanddeploy I deployed the very same app on my localhost as a docker container and it takes about 22ms endtoend The same app on my GKE cluster takes about 150 ms endtoend I am a little experience in FaaS and I expect API calls would get faster as I invoked them in a row as in cold start vs warm start But no matter how many times I execute the command it does not go below 1 4 seconds I think the network distance is not the dominant factor here The roundtrip time via ping to the API endpoint is only 50ms away more or less So my questions are as follows Is it potentially an unintended bug Is it a technical difficulty which will be resolved eventually Or maybe nothings wrong it is just the SLA of knative If nothings wrong with Google Cloud Run andor knative what is the dominant timeconsuming factor here for my API call I would love to learn the mechanism Additional Details WebPageTest from SeoulAsia warmup time WebPageTest from ChicagoUS warmup time ANSWER by Steren the Cloud Run product manager We have detected high latency when calling Cloud Run services from some particular regions in the world Sadly Seoul seems to be one of them "
56444346,"error: unable to recognize ""k8s\\service.yaml"": no matches for serving.knative.dev/, Kind=Service","https://stackoverflow.com/questions/56444346/error-unable-to-recognize-k8s-service-yaml-no-matches-for-serving-knative-d","{google-kubernetes-engine,knative}","2019-06-04 12:54:34+03","2024-05-17 05:43:02.725272+03","While trying to deploy my service yaml file on GKE as a knative service it throws error Am I missing something my service yaml"
58553294,"Knative deployed pod is not able to access via browser initially but after executing the curl command in k8s cluster i can able to access in browser","https://stackoverflow.com/questions/58553294/knative-deployed-pod-is-not-able-to-access-via-browser-initially-but-after-execu","{knative}","2019-10-25 06:28:20+03","2024-05-17 05:43:03.715878+03","I want to access the browser first time without executing the curl command Note The initial commands like export IP address and configmap commands execute successfully I am not getting any error My expectation is my pod wants to get created automatically when I am requesting my URL using my browser "
58710291,"Google Cloud Run deployment not working using `gcloud` SDK CLI","https://stackoverflow.com/questions/58710291/google-cloud-run-deployment-not-working-using-gcloud-sdk-cli","{google-cloud-platform,google-cloud-run,knative}","2019-11-05 11:20:41+02","2024-05-17 05:43:04.614048+03","I have a service created on Google Cloud run that I am able to deploy manually through the Google Cloud Console UI using an image on Container registry But deployment from CLI is failing Here is the command I am using and the error I get I am not able to understand what I am missing Update 1 I have updated the SDK using gcloud components update but I still have the same issue Heres my SDK Version I am using a multistage docker build Heres my Dockerfile"
58860118,"How does Knative Serving's Activator intercept requests to scaled down revisions?","https://stackoverflow.com/questions/58860118/how-does-knative-servings-activator-intercept-requests-to-scaled-down-revisions","{kubernetes,istio,envoyproxy,knative,knative-serving}","2019-11-14 15:17:28+02","2024-05-17 05:43:05.743184+03","As described here Knatives Activator receives and buffers requests to inactive revisions How is this routing implemented All I see in the Namespace of my application is a VirtualService routing requests to the revisions so I do not see how traffic coming into the mesh is redirected to the Activator Knative serving version 0 9 0"
58923740,"Create wrapper for multiple instances of an Event Handler","https://stackoverflow.com/questions/58923740/create-wrapper-for-multiple-instances-of-an-event-handler","{go,wrapper,channel,knative}","2019-11-18 22:18:43+02","2024-05-17 05:43:06.607782+03","I am trying to deal with a problem most probably a design one regarding the usage of Channels and the proper handling of those I am using Knative EventingCloud Events to create and eventing pipeline I want to be able to handle different channels in order to receive events originating from different sourcesmethods In order to do so I have the implementation that follows code has been removed in order to be concise with detailing the issue I have a file1 go which defines a EventHandler struct associated methods and a couple of exported methods CreatePreview and SaveAndPublish that are the normal behaviour of the app and that actually receivesdeals with whatever value comes on the Channel Now on my main go function I have the regular start of a service including a gRPC Listener a HTTP Listener and handling of events This is done via cmux So heres a sample of the code again code simplified Now I know that instead of having to instantiate a single global eventHandler in order to use the eventHandler Handle method on c StartReceiver on main go I can define a wrapper that would maybe contain a list of eventHandlers the HandlerWrapper method on main go However I do not know how I could identify which instance of an EventHandler is which and how to properly handle and route these operations and that is my question How do I go about this case where I want to create a Wrapper a single function to pass into c StartReceive and then let it be handled by the correct instance of Handle I hope the question is clear I have been trying to get my head around this for a couple days already and cannot figure out how to do it "
59054617,"Example app ""helloworld-go"" on Knative (GKE) with cert-manager gives status IngressNotConfigured","https://stackoverflow.com/questions/59054617/example-app-helloworld-go-on-knative-gke-with-cert-manager-gives-status-ingr","{kubernetes,google-kubernetes-engine,knative}","2019-11-26 15:48:15+02","2024-05-17 05:43:08.60692+03","I am trying to run the helloworldgo example with certmanager on GKE I installed Istio without sidecar injection certmanager 0 11 and setup Auto SSL and DNS When I run kubectl get ksvc it shows IngressNotConfigured Any idea why Adding the label serving knative devvisibilityclusterlocal makes the problem go away but then it is only accessible internally without SSL "
59703526,"KNative serving is not showing Ready after installing on Openshift","https://stackoverflow.com/questions/59703526/knative-serving-is-not-showing-ready-after-installing-on-openshift","{openshift,knative}","2020-01-12 11:54:09+02","2024-05-17 05:43:09.644931+03","Followed the link httpsdocs openshift comcontainerplatform4 1serverlessinstallingopenshiftserverless html to install KNative Serving on top of Openshift v4 1 After installing all the openshift operators control plane member roll etc as given in the link I expect to see that serving component is running by executing But the above returns nothing Just returns back the prompt Also below are op of the get resource command of the serving component What could be wrong I believe KNative Serving did not install correctly but not sure how to debug I uninstalled and reinstalled several times but no help Also I thought to proceed and install a service using KNative Serving ref link httpsdocs openshift comcontainerplatform4 1serverlessgettingstartedknativeservices html but applying the very first resource shows problem service yaml Applying service yaml returns error Any help is appreciated Thanks "
59710798,"no matches for kind ""GitHubSource"" in version ""sources.eventing.knative.dev/v1alpha1""","https://stackoverflow.com/questions/59710798/no-matches-for-kind-githubsource-in-version-sources-eventing-knative-dev-v1al","{github,knative}","2020-01-13 05:01:59+02","2024-05-17 05:43:10.738097+03","Describe the bug Hi I followed this guide to test githubsource knativeGitHubSource But I got this error To Reproduce step and following this guide knativeGitHubSource I got error in Create Event Source for GitHub Events Knative release version v0 11 Additional context According to this article I can can list all existing Sources with kubectl get sources But I can not find any sources Thanks"
59747412,"Does KNative serving not allow initContainers field?","https://stackoverflow.com/questions/59747412/does-knative-serving-not-allow-initcontainers-field","{kubernetes,kubernetes-service,knative,knative-serving}","2020-01-15 08:21:27+02","2024-05-17 05:43:11.93492+03","I am trying to deploy a service with a container and a initContainer using KNative I installed Istio without sidecar injection if that matters This is the error I get My YAML file Thanks "
59810482,".default.svc.cluster.local on {ip}: no such host","https://stackoverflow.com/questions/59810482/default-svc-cluster-local-on-ip-no-such-host","{knative}","2020-01-19 13:31:25+02","2024-05-17 05:43:12.82834+03","I followed this guide KnativeGithubSource During Webhook test I got an error from log So My question is 1 Why this error happened Is there any way that I fixed svc cluster local ip address 2 I have a domain that connected Internet Can I change domain svc cluster local to my domain I also changed external domain by kubectl edit cm configdomain namespace knativeserving so When I do kubectl get ksvc URL comes correctly as I set like that"
59888851,"Knative/Istio error: INTERNAL:inconsistent global dictionary versions used: mixer knows 221 words, caller knows 222","https://stackoverflow.com/questions/59888851/knative-istio-error-internalinconsistent-global-dictionary-versions-used-mixe","{istio,knative}","2020-01-24 00:17:08+02","2024-05-17 05:43:13.803873+03","I am getting this error on Google Kubernetes Engine when I try to call my Knative Endpoint INTERNALinconsistent global dictionary versions used mixer knows 221 words caller knows 222 A quick google search led to no one reporting any error like this before I started reading the Istio code but I am at a total loss as to what this error means httpsgithub comistioistioblobmastermixerpkgapigrpcServer goL87 I have gotten this error in a number of different contexts with a number of different versions of Knative Istio and Kubernetes Basically I am looking for some sort of guidance as to what this error means so I can go about debugging it Thanks "
59900993,"Knative Eventing KafkaSource issue","https://stackoverflow.com/questions/59900993/knative-eventing-kafkasource-issue","{java,apache-kafka,spring-kafka,knative}","2020-01-24 17:14:15+02","2024-05-17 05:43:14.469491+03","Ive got an issue with Knative Eventing and I would like to have your help as I am fresh about it I am using Knative v0 10 0 minikube v1 5 2 Docker v19 03 1 and Kafka 2 3 1 used as the source of events I developed a kafka producer and a kafka consumer using Kafka Java client APIs and Spring Boot They work in pipeline so I have a CronJobSource that wakes up my producer each X minutes the producer sends some events to a Kafka Topic then I configured a KafkaSource that listen to that topic and should wakes up the consumer Actually the KafkaSource does nothing even if everything seems to be configured well I tried to log KafkaSource but it has no errors or succeed logs Both producer and consumer can work well if I wake up them manually without passing through KafkaSource This is my KafkaSource yaml file configuration This is my kafka producer code kafka producer config kafka consumer code kafka consumer config Thank you "
60151779,"Asynchronous subscribe/notify instead synchronous HTTP in KNative Eventing","https://stackoverflow.com/questions/60151779/asynchronous-subscribe-notify-instead-synchronous-http-in-knative-eventing","{knative,knative-eventing}","2020-02-10 13:45:18+02","2024-05-17 05:43:15.594872+03","I am looking at this KNative Eventing architecture diagram And notice that the colour of arrows that goes into custom services is blue that is the Services can only get called via HTTP protocol HTTP protocol is synchronous and also requestresponse oriented That seems to be contradiction to the Eventing nature where we should aim at designing systems that are subscribenotify oriented and asynchronous instead The source for the Service messages on the diagram is Kafka That is a message broker whose primary purpose is to support asynchronous message delivery and subscribenotify cases Why would KNative Eventing change that original channel transport nature from asynchronous subscribenotify to synchronous requestresponse calling the services Is that true that the Services may only be called via HTTP in KNative Eventing without custom work for developing own sidecars and service wrappers That looks to be a significant limitation If yes why is that so Is that done intentionally or is it a temporary solution Why cannot Service consume from channel e g backed by Kafka directly and why channel subscriber cannot be built into the Service Docker image wrapper or a sidecar "
74038692,"Knative dispatch event messages over HTTPS","https://stackoverflow.com/questions/74038692/knative-dispatch-event-messages-over-https","{https,knative,knative-eventing}","2022-10-12 08:25:29+03","2024-05-17 05:44:30.64816+03","I have a Knative trigger configured Events should be handled by a service running over HTTPS If I look at the logs of the broker filter I can see the events are sent via HTTP And I cannot find any documentation how to POST them via HTTPS The only documentation I can find is to configure the knative services to run on HTTPS not my custom service that does the event handling Is it possible to specify the protocol in the trigger for the subscriber"
60197617,"Dockerfile for Google Cloud Functions","https://stackoverflow.com/questions/60197617/dockerfile-for-google-cloud-functions","{docker,kubernetes,google-cloud-functions,knative}","2020-02-12 22:07:51+02","2024-05-17 05:43:16.365863+03","I am reading this GitOpsstyle article on google cloud and I am now wondering how can I substitute the sample python application which they clone from here with a Google Cloud Function GCF which is being triggered by Google Cloud Storage GCS This article describes how you can unit test integration test and system test a GCF and I would like to apply this in the GitOpsstyle continuous delivery sample But for that purpose I would need a specific Dockerfile I suppose similar to this one but related to node js and maybe the yaml file I would be happy if you could give me some directions I am quite new to dockers containers and kubernetes as a whole From what I understand the syntax of the Dockerfile describes your project type and the runtime for it So in my case I guess I need to describe Googles runtime for executing cloud functions I am no sure this is possible"
60208686,"Knative installation: Can't pull ""gke.gcr.io/istio/proxy_init:1.2.10-gke.1""","https://stackoverflow.com/questions/60208686/knative-installation-cant-pull-gke-gcr-io-istio-proxy-init1-2-10-gke-1","{google-kubernetes-engine,knative,knative-serving}","2020-02-13 13:11:43+02","2024-05-17 05:43:17.14189+03","I am trying to install Knative on my GKE cluster I followed the Knative website to do it However Knative Serving cannot be installed due to the following error Do you know how to solve this Regards"
60251424,"Knative Service can't be triggered by Knative Broker & Trigger","https://stackoverflow.com/questions/60251424/knative-service-cant-be-triggered-by-knative-broker-trigger","{google-kubernetes-engine,knative,knative-serving,knative-eventing}","2020-02-16 17:53:26+02","2024-05-17 05:43:18.413713+03","I am testing Knative in GKE and Here is what I would like to do However I got the following error in logs of defaultbrokerfilter I use this official tutorial to install Knative with the following command Here is my yaml template I used to install my trigger and my service hello world in python Then I create a pod to execute my curl command Can you tell me what it is wrong because I spent all my weekend without finding any clue Thanks"
60416312,"KNative Service unable to download Hello World image from Docker HUB","https://stackoverflow.com/questions/60416312/knative-service-unable-to-download-hello-world-image-from-docker-hub","{docker,kubernetes,knative,knative-serving}","2020-02-26 14:36:40+02","2024-05-17 05:43:19.336995+03","I am working on a Kubernetes I deployed on my Mac using Vagrant and Vbox Then I installed Istio Knative Serving and Eventing I then defined a service yaml file with the following content where sasadangelohellok8s is a Hello World docker application I built and deployed on Docker HUB My problem is that when I try to deploy it with the kubect apply command everything goes fine but no Pod is deployed I see the service deployed but when I analyze it with kubect describe I see the following error message It is not clear to me why it cannot download the image from Docker HUB My Vagrant VM access to the Internet correctly and the command works fine Since I am new to Knative I suspect I missing something in Knative configuration Can anyone help"
60429443,"Knative: Enabling automatic TLS certificate provisioning - not working","https://stackoverflow.com/questions/60429443/knative-enabling-automatic-tls-certificate-provisioning-not-working","{tls1.2,istio,cert-manager,knative,knative-serving}","2020-02-27 08:54:10+02","2024-05-17 05:43:19.923801+03","I am trying to Enabling automatic TLS certificate provisioning I have a working ClusterIssuer status True and I am able to manually create a Certificate status True I am trying to enable Automatic TLS provision mode Environment setup I have the following gateway And when applying I can note httpsRedirect false But when trying with https Also The Knative documentation state In this mode a single Certificate will be provisioned per namespace and is reused across the Knative but I dont see any certificates in any namespaces Note that kubectl get ksvc url is http and not https"
60435191,"Is Google blocking for Knative tls setup?","https://stackoverflow.com/questions/60435191/is-google-blocking-for-knative-tls-setup","{google-cloud-platform,google-cloud-run,cert-manager,knative,knative-serving}","2020-02-27 14:13:39+02","2024-05-17 05:43:20.790968+03","I have used a week trying to setup Knative automatically enabling tls on Google Kubernetes Engine It simply does not work Now I just found this and I am reluctant to totally obfuscate everything Could this be blocking existing kubernetes GKE And if I choose number two will it open up for https"
60452769,"Knative service http timeout setting","https://stackoverflow.com/questions/60452769/knative-service-http-timeout-setting","{kubernetes,knative,knative-serving}","2020-02-28 13:28:36+02","2024-05-17 05:43:21.522787+03","What settings are required to ensure that the queueproxy does not timeout in 60 seconds My http requests timeout in 60 seconds and the queueproxy has these error messages The versions and settings are as follows Knative version v0 11 0 Istio version 1 3 5 KnativeService When the maxScaling is set to 1 and if each request is taking more that 60 seconds the other requests which are in the queue are getting timedout "
60689880,"Can't find cluster-local-gateway in istio-system namespace","https://stackoverflow.com/questions/60689880/cant-find-cluster-local-gateway-in-istio-system-namespace","{kubernetes,google-cloud-platform,istio,knative}","2020-03-15 05:02:11+02","2024-05-17 05:43:22.451187+03","I am using Knative to deploy serverless applications in K8s recently I experienced that clusterlocalgateway is missing from istiosystem namespace Is there any reason for this I am afraid that in the latest versions istio removed it or It has to be done by Knative side FYI I do my deployments in GCP enabling istio I do not manually installed the istio"
60848031,"Knative Ambassador Ingress","https://stackoverflow.com/questions/60848031/knative-ambassador-ingress","{kubernetes,knative,knative-serving,ambassador}","2020-03-25 11:35:21+02","2024-05-17 05:43:23.421554+03","I am trying to use Knative with ambassador Followed below steps to install Knative Install Knative Configure Ambassador Configure Knative to use ambassdor as ingress I have already installed ambassador under ambassadorns namespace Its working fine Deployed hello world application When i check the status of ksvc Knative Controller log can you please tell me what i am doing wrong"
60967905,"GET URL Name in Kubernetes","https://stackoverflow.com/questions/60967905/get-url-name-in-kubernetes","{spring-boot,devops,knative}","2020-04-01 09:41:19+03","2024-05-17 05:43:24.517455+03","I use spring boot project and deployed in Kubernetes I would like to get URL of the pod I referred How to Get Current Pod in Kubernetes Java Application not worked for me There are different environments DEV QA etc and wanted to get URL dynamically is there anyway my service yaml is it possible to add from url httpskubernetes iodocstasksinjectdataapplicationenvironmentvariableexposepodinformationthedownwardapi"
61286758,"Service Orchestration in Knative","https://stackoverflow.com/questions/61286758/service-orchestration-in-knative","{kubernetes,apache-camel,vert.x,knative}","2020-04-18 09:13:29+03","2024-05-17 05:43:25.523926+03","We have one complex service which we want to decompose into different services and do orchestration Since most of the services will not be required to be exposed I was thinking if we can do Knative serving eventing with Vertx For simple chaining I was initially tried to just prepare a service which sends events to default broker and with broker trigger I am able to get the event in another Vertx But with Broker Trigger I am not sure how to reply to the event generator service Lately I tried to use CamelK which seems a bit more simpler from vertx service writing though it uses Vertx internally I am able to communicate through Knative channel Sending Event CamelK Receiving Event in Camelk what would be the way I can send reply from Receiver CamelK such that Sending CamelK receives the message and process further Usecase is more like a service been exposed such that other application can call After receiving the request it will transform and orchestrate on 2 more services through eventing and then reply back to the caller If there is any example in Github it would be really helpful if you can point me Want to implement either Camel Vertx on Knative "
61384188,"How to deploy a Knative service with Kubernetes python client library","https://stackoverflow.com/questions/61384188/how-to-deploy-a-knative-service-with-kubernetes-python-client-library","{python,kubernetes,knative}","2020-04-23 09:49:00+03","2024-05-17 05:43:26.611704+03","We are trying to use deploy a service using knative with the python client library of Kubernetes We are using the following yaml file If we deploy using the command line tool of kubernetes it works fine With the python client library we are doing However we are getting this error Is there a way to deploy a service with knative As far as I understood knative service is different than the normal Kubernetes service I do not know whether the problem is that I am trying to deploy the service in a wrong way or whether the Kubernetes python client library does not support this deployment yet Edit"
61723398,"knative helloworld does not run microk8s due to x509 certificate issue","https://stackoverflow.com/questions/61723398/knative-helloworld-does-not-run-microk8s-due-to-x509-certificate-issue","{microk8s,knative,knative-serving}","2020-05-11 06:16:55+03","2024-05-17 05:43:27.695914+03","I have installed knative on microk8s using ubuntu Ubuntu 20 04 LTS I am trying basic knative example but it is not working 1 First I have tried with kn kn was not able to read configuration so I have exported the configuration using microk8s config kubeconfig"
61742958,"trying to choose a web framework for knative function","https://stackoverflow.com/questions/61742958/trying-to-choose-a-web-framework-for-knative-function","{knative}","2020-05-12 02:52:29+03","2024-05-17 05:43:28.965401+03","I need help choosing a web framework with async capabilities in python or java that can handle high frequency json events This is an event based data pipeline Any suggestions in python or java would be helpful Documentation links or examples would be awesome "
61893180,"KNative with Istio Listening on Port 8080","https://stackoverflow.com/questions/61893180/knative-with-istio-listening-on-port-8080","{knative,knative-serving}","2020-05-19 14:11:07+03","2024-05-17 05:43:29.95588+03","I have setup Istios ingress gateway to listen on 8080 and have issues with running the Knative helloworld Has anyone setup Knative like this I would like internet traffic coming in to port 8080 to show the output of the Knative hello world "
61910325,"How to recreate Grafana kNative dashboards in Google Cloud","https://stackoverflow.com/questions/61910325/how-to-recreate-grafana-knative-dashboards-in-google-cloud","{prometheus,grafana,google-cloud-monitoring,knative}","2020-05-20 10:03:47+03","2024-05-17 05:43:30.865979+03","I am using the kNative Observability plugin which installs Prometheus and Grafana on my Google Kubernetes Engine cluster There are two issues Is there a way to recreate the Grafana dashboards in Google Cloud Monitoring Maybe a better question is would there be a way to get the kNative logs logged by Prometheus into Google Clouds environment"
62070586,"Request consistently returns 502 after 1 minute while it successfully finishes in the container (application)","https://stackoverflow.com/questions/62070586/request-consistently-returns-502-after-1-minute-while-it-successfully-finishes-i","{google-cloud-run,knative,knative-serving}","2020-05-28 17:13:01+03","2024-05-17 05:43:31.563681+03","To preface this I know an HTTP request that is longer than 1 minute is bad design and I am going to look into Cloud Tasks but I do want to figure out why this issue is happening So as specified in the title I have a simple API request to a Cloud Run service fully managed that takes longer than 1 minute which does some DB operations and generates PDFs and uploads them to GCS When I make this request from the client browser it consistently gives me back a 502 response after 1 minute of waiting presumably coming from the HTTP Load Balancer However when I look at the logs the request is successfully completed in about 4 to 5 min I am also getting one of these errors for each PDF that is being generated and uploaded to GCS but from what I read these should not really be the issue To verify that it is not just some timeout issue with the application code or the browser I put a 5 min sleep on a random API call on a local build and everything worked fine and dandy I have set the request timeout on Cloud Run to the maximum 15min the max concurrency to the default 80 amount of CPU and RAM to 2 and 2GB respectively and the timeout on the Fastify node js server to 15 min as well Furthermore I went through the logs and could not spot an error indicating that the instance was out of memory or any other error around the time that I am receiving the 502 error Finally I also followed the advice to use strace to have a more in depth look at system calls just in case somethings going very wrong there but from what I saw everything looked fine In the end my suspicion is that there is some weird race condition in routing between the container and gatewayload balancer but I know next to nothing about Knative on which Cloud Run is built so again it is just a hunch If anyone has any more ideas on why this is happening please let me know "
62195356,"Deploying image to Knative service using knctl/kubectl in tekton pipeline","https://stackoverflow.com/questions/62195356/deploying-image-to-knative-service-using-knctl-kubectl-in-tekton-pipeline","{kubernetes,knative,knative-serving,tekton,tekton-pipelines}","2020-06-04 13:06:15+03","2024-05-17 05:43:32.354841+03","I was going through the official Tekton documentation where it deploys an image to Kubernetes using kubectl standard deployment object manifest However I am trying use Tekton pipeline as CICD to deploy in a knative service which should either use knctl or kubectl with a knative service yaml instead of Deployment yaml of knative serving spec Something like How do I take advantage of Tekton in this case If I were to install images to any random Kubenetes cluster I could any other CICD tool along with Deployment manifest I believe Tekton is supposed replace Knative build to make it easy "
66279000,"How to extend knative serving features and add new features to it?","https://stackoverflow.com/questions/66279000/how-to-extend-knative-serving-features-and-add-new-features-to-it","{knative,knative-serving}","2021-02-19 14:00:32+02","2024-05-17 05:43:40.299756+03","I am currently evaluating Knative Serving as an alternative to deploy my applications to Kubernetes I am wondering if it is possible is to extend Knative features to offer more capabilities to my application developers for example I would like them to define other custom infrastructure like cloud databases or to let them to configure Istio features like Authorization policies using only the Service yaml manifest without the necessity to deploy other Kubernetes yamls At the end of the day I would like to have only the Knative Service as my application contract and nothing else Is it possible to do this Is there any documentation on how to do it"
62369688,"How to set MaxRevisionTimeoutSeconds in Knative?","https://stackoverflow.com/questions/62369688/how-to-set-maxrevisiontimeoutseconds-in-knative","{kubernetes,google-kubernetes-engine,google-cloud-run,knative,knative-serving}","2020-06-14 07:35:23+03","2024-05-17 05:43:33.319912+03","I have deployed a service using Cloud run on gke which uses Knative as an abstraction over k8s The default MaxRevisionTimeoutSeconds is set to 600s in the knative default config but according to this PR this is customizable I could not find anything in the official Knative documentation can anybody help me out here UPDATE After digging a bit more in knative source code and documentation It looks like that the MaxRevisionTimeoutSeconds is defined in resourceConfigMapconfigdefaults So have to update it with custom value From this it looks like we can use something called as operator to modify the ConfigMap resource but it did not work probably because gcps does not use operator to install Knative components Anyways I went on to install the operator and then used resourceknativeserving to overwrite the configdefaults But this also did not work when I tried redeploying service The next solution is to directly edit the configdefaults using kubectl edit I even tried doing this but encountered weird behavior After editing the YAML file when I used kubectl describe to check the changed value it sometimes shows the modified value sometimes shows the old value and sometimes does not even show that particular keyvalue pair in the YAML Also it does not work when trying to redeploy the service after doing this edit If anyone can help me with this it would be really great "
62518180,"Getting client ip using Knative and Anthos","https://stackoverflow.com/questions/62518180/getting-client-ip-using-knative-and-anthos","{kubernetes,istio,google-cloud-run,knative}","2020-06-22 15:37:22+03","2024-05-17 05:43:34.095926+03","We use Google Cloud Run on our K8s cluster on GCP which is powered by Knative and Anthos however it seems the load balancer does not amend the xforwardedfor and this is not expected as it is TCP load balancer and Istio does not do the same Do you have the same issue or it is limited to our deployment I understand Istio support this as part of their upcoming Gateway Network Topology but not in the current gcp version "
62574130,"Knative: update image of a service in a CI autodeploy pipeline","https://stackoverflow.com/questions/62574130/knative-update-image-of-a-service-in-a-ci-autodeploy-pipeline","{continuous-integration,knative,container-image}","2020-06-25 11:20:14+03","2024-05-17 05:43:35.103625+03","I recently converted my kubernetes deployment service to a knative serverless application I am looking for a way how to update the image of a container the the knative app from a CICD pipeline without using yml file CI pipeline does not have access to the yaml config used to deploy the file Previously I was using kubectl set image command to update the image from CI to the latest version for a deployment but it does not appear to work for a knative service e g the command I tried is kubectl set image ksvchelloworld helloworldsomenewimage record Is there a way to update the image of a knative app using a kubectl command without having access to the original yaml config"
65365944,"How to tells Knative Pod Autoscaler not to kill in-progress long running pod","https://stackoverflow.com/questions/65365944/how-to-tells-knative-pod-autoscaler-not-to-kill-in-progress-long-running-pod","{autoscaling,knative,knative-serving,knative-eventing}","2020-12-19 01:50:28+02","2024-05-17 05:43:36.063631+03","My goal Implement a cron job run once per week and I intend to implement this topology on Knative to save the computing resources PingSource knative service The PingSource will emit a dummy event to a knative service once per week just to bring up 1 knative service pod The knative service pod will get huge amount of data and then process them My concern If I set enablescaletozero to true the Knative pod autoscaler probably shutdown the knative service pod even when the pod has not finished its work So far I explored The scaletozerograceperiod which can be configured to tell the auto scaler how long it should wait after the last traffic ends to shutdown the pod But I do not think this approach is subtle I prefer somewhat similar to readinessProbe or livenessProbe The auto scaler should send a probe to know whether the pod is processing something before sending the kill signal In addition according to knatives docs there are 2 type of event sink callable and addressable Addressable and Callable both return the response or acknowledgement Would the knative auto scaler consider the pod as handling the request till the pod return the responseacknowledgement So as long as the pod does not response it will not be removed by the auto scaler "
65419195,"why my knative trigger status Unknown due to TopicReady Unknown?","https://stackoverflow.com/questions/65419195/why-my-knative-trigger-status-unknown-due-to-topicready-unknown","{google-cloud-platform,google-cloud-pubsub,knative,knative-serving,knative-eventing}","2020-12-23 04:50:55+02","2024-05-17 05:43:37.105814+03","Recently I am trying out the Knative sample httpsgithub commeteatamelknativetutorialblobmasterdocsimageprocessingpipeline md I have created knative trigger with default broker MTChannelBasedBroker trigger I have also installed the Google Cloud PubSub Channel in the same namespace I am not sure what causes this error "
65854143,"How to reply with a CloudEvent using cloudevents sdk-javascript","https://stackoverflow.com/questions/65854143/how-to-reply-with-a-cloudevent-using-cloudevents-sdk-javascript","{knative,cloudevents,knative-eventing}","2021-01-22 23:32:53+02","2024-05-17 05:43:38.194613+03","I want to use Knative Sequence to chain few ksvcs but failed The first step ksvc can be triggered but not the rest of them In my ksvc Node js I used CloudEvent jssdk I assume I would need to return a new CloudEvent after receiving it So here comes my code"
66177640,"Alternative to AWS lambda serverless concept in Kubernetes?","https://stackoverflow.com/questions/66177640/alternative-to-aws-lambda-serverless-concept-in-kubernetes","{kubernetes,knative}","2021-02-12 19:03:38+02","2024-05-17 05:43:39.265033+03","I am new to devops world and have a doubt in Kubernetes My usecase is as follows My organization is currently hosting all its microservices in Docker containers using Kubernetes container orchestration platform How I want my microservice container to be scaled and automated using Kubernetes I have 100s of AI models stored in Amazon S3 bucket When a request comes from user1 to the container with a particular model name corresponding model from the S3 should be fetched and loaded in the container memory then user1 should start the inference Similarly if another request comes from user2 with another model name new container should spin off and user2 should start the inference For n model requests n containers should spin off and serve each session Containers should automatically scale up with different requests Since the above logic is similar to how AWS Lambda function works I was recommending the same to our devops team They informed that they cannot use AWS Lambda for a single microservice since it is serverless and all other microservices are nonserverless which runs in Kubernetes My question is can the same concept be implemented with Kubernetes If so please suggest a method or doc Thanks in advance "
66361549,"How to verify Kafkachannel persistence?","https://stackoverflow.com/questions/66361549/how-to-verify-kafkachannel-persistence","{knative,knative-eventing}","2021-02-25 02:31:13+02","2024-05-17 05:43:41.353766+03","I am investigating the benefits of changing the channel implementation from inmemory to Kafka I understand that inmemorychannel is not persistent and Kafkachannel is So I hypothesized that Kafkachannel would work like this To test this hypothesis I killed the kafkachdispatcher Pod after confirming that the events registered with Kafkatopic had not yet been delivered As expected Kafkatopic still had events After waiting however the event was never delivered to sink Is my hypothesis wrong Or is the confirmation method wrong Is there a good way to verify Kafkachannel persistence The channel and subsciption I use are as follows I run them in knativetorial namespace "
66484358,"Could not resolve host: http://helloworld-go.default.mydomain.com knative","https://stackoverflow.com/questions/66484358/could-not-resolve-host-http-helloworld-go-default-mydomain-com-knative","{kubernetes,minikube,kubernetes-pod,knative,knative-serving}","2021-03-04 23:04:59+02","2024-05-17 05:43:42.248744+03","I am new to knative I have installed minikube for cluster support and all the required tools for knative While creating the service in reference of this httpsknative devdocsservinggettingstartedknativeapp I am getting below output kn service create helloworldgo image gcr ioknativesampleshelloworldgo env TARGETGo Sample v1 Creating service helloworldgo in namespace default 0 047s The Configuration is still working to reflect the latest desired specification 0 407s The Route is still working to reflect the latest desired specification 0 522s Configuration helloworldgo is waiting for a Revision to become ready 12 683s 12 882s Ingress has not yet been reconciled 15 143s Ready to serve Service helloworldgo created to latest revision helloworldgoyvtlp1 is available at URL httphelloworldgo default mydomain com kn service describe helloworldgo Name helloworldgo Namespace default Age 18s URL httphelloworldgo default mydomain com Revisions 100 latest helloworldgoyvtlp1 [1] 18s Image gcr ioknativesampleshelloworldgo pinned to 5ea96b Conditions OK TYPE AGE REASON Ready 3s ConfigurationsReady 5s RoutesReady 3s curl httphelloworldgo default mydomain com v Can somebody help"
66604565,"How to enable AutoTLS in Knative using Terrafom?","https://stackoverflow.com/questions/66604565/how-to-enable-autotls-in-knative-using-terrafom","{kubernetes,terraform,cert-manager,knative,knative-serving}","2021-03-12 17:33:10+02","2024-05-17 05:43:43.302715+03","In the Knative documentation for enabling AutoTLS it says that I need to add this to the data block in configcertmanager configmap The only solution that I can think of is to use a null_resource resource with a kubectl patch command However doing this gives me the following error Error running command kubectl patch configmap configcertmanager n knativeserving type merge patch data issuerRefkindClusterIssuer exit status 1 Output Error from server Invalid JSON Patch I have tried to split the command in 2 parts I also tried using a single null_resource for both rows kind ClusterIssuer and name letsencryptissuer My code What am I doing wrong"
66803231,"Knative service API token storage","https://stackoverflow.com/questions/66803231/knative-service-api-token-storage","{kubernetes-pod,knative,knative-serving}","2021-03-25 15:58:21+02","2024-05-17 05:43:44.249674+03","I am evaluating if knative makes sense for my project I am trying to create a service that connects to a third party API I wonder what is the best strategy from knative perspective to store an third party API token that needs to be renewed periodically "
66824534,"How do I respond to tickets with camel Jira Producer?","https://stackoverflow.com/questions/66824534/how-do-i-respond-to-tickets-with-camel-jira-producer","{java,groovy,apache-camel,jira,knative}","2021-03-26 21:30:07+02","2024-05-17 05:43:45.24155+03","I am following the examples here httpsgithub comapachecamelkexamples Working on 05knativesourcejira When running this integration I am able to read and log new jira issues just fine I fall down when I try to use info from the ticket or respond to the ticket with the jira addComment producer I have tried just putting a static ticket number in for the IssueKey option but I get build errors and cannot even get the producer to run I have tried tinkering with the URI Ex Changing URI to to jiraaddCommentIssueKeyEQ7 returns below on build I have tried this with both and as well as adding properties to the URI with similar results I feel like I am missing something pretty fundamental so any docs pointers would be well appreciated Full integration here"
66873186,"Knative/Istio with AWS Application Load Balancers","https://stackoverflow.com/questions/66873186/knative-istio-with-aws-application-load-balancers","{kubernetes,istio,aws-application-load-balancer,knative,knative-serving}","2021-03-30 14:42:41+03","2024-05-17 05:43:46.046015+03","I have a question regarding the interaction between Knative serving Istio and AWS Application Load Balancers ALB from now on I am deploying Knative Serving v0 20 using the YAML manifests not the kn console and Istio using the Helm charts Also I have been following some online guides here and here to have Istio use an ALB instead of creating an ELB According to them the major configuration change needed to have Istio use the ALB is gateways istioingressgateway typeNodePort That change makes Istio not create its load balancer However I noticed that when Istio does not create the load balancer Kubernetes will not let me delete the following Knative ingress I believe the main reason to be the finalizers section As a matter of fact if I modify the resource in the cluster replacing with finalizers [] then Kubernetes lets me destroy it I searched for an explanation in the documentation and online but have not found any At first I thought I was messing up with the AWS ALB controller so I tried to change Istios configuration without creating any ALBs but the issue would not disappear Do you know what that Ingress is used for and how can I solve or at least work around this issue Pointers to relevant discussionsexamplesdocs are welcome as well Thank you so much "
66897719,"Error setting resource limits using ""kn service update hello-example --request""","https://stackoverflow.com/questions/66897719/error-setting-resource-limits-using-kn-service-update-hello-example-request","{knative,knative-serving}","2021-04-01 02:33:09+03","2024-05-17 05:43:46.790825+03","Working through some samples in Knative in Action and have run into the following error trying to set minimum CPI and RAM I have also tried as the book suggests But this format seems to be deprecated Any ideas as to why this may be failing"
67465576,"Installing Knative without internet","https://stackoverflow.com/questions/67465576/installing-knative-without-internet","{knative,knative-serving,knative-eventing}","2021-05-10 06:15:12+03","2024-05-17 05:43:47.784857+03","Is it possible to install Knative without internet Understand that it required K8 to pull images from internet during installation Can I download all the necessary images to a private repository and apply yaml to do installation"
76334072,"KNative functions: Sclaed down to zero after 30s even if grace period is increased","https://stackoverflow.com/questions/76334072/knative-functions-sclaed-down-to-zero-after-30s-even-if-grace-period-is-increas","{knative,knative-serving,knative-functions}","2023-05-25 15:41:06+03","2024-05-17 05:44:40.813074+03","I configured my KNative serving like this I have a function which takes longer than 30 seconds to become ready I am fine with that But its pod is still killed after 30 seconds Is there anything else to check i e some setting in func yaml "
67491101,"Can you configure the Docker daemon to expose istio-ingressgateway LoadBalancer","https://stackoverflow.com/questions/67491101/can-you-configure-the-docker-daemon-to-expose-istio-ingressgateway-loadbalancer","{docker,istio,docker-desktop,knative}","2021-05-11 16:49:04+03","2024-05-17 05:43:48.837669+03","I am running KnativeIstio in minikube docker driver on a mac computer with docker for mac Is it possible to Configure the Docker daemon in any way so I can expose the EXTERNALIP localhost to the host machine And then further expose the host machine to a dns server to access container apps in kubernetes To be able to do myapp default mydomain com into kubernetes within the minikube on the host machine Thanks in advance"
67603293,"Knative service with Kong gateway and path based routing","https://stackoverflow.com/questions/67603293/knative-service-with-kong-gateway-and-path-based-routing","{kong,knative,knative-serving}","2021-05-19 12:29:22+03","2024-05-17 05:43:50.029626+03","Let us say we have many microservices running on k8s with deployments services and ingresses accessible with kong ingress gateway on api localhost Each microservice run on specific path e g How to achieve this with Knative with Kong network layer Something like this does not work httpsgithub comKongkubernetesingresscontrollerissues584 httpsknative devdocsservingsamplesknativeroutinggo"
67617648,"How do I change Knative service's default url domain from example.com to e.g. mydomain.com","https://stackoverflow.com/questions/67617648/how-do-i-change-knative-services-default-url-domain-from-example-com-to-e-g-my","{knative,knative-serving,knative-eventing}","2021-05-20 09:27:58+03","2024-05-17 05:43:50.852333+03","I have followed this guide httpsknative devdocsservingusingacustomdomain using the command I replaced the example com with mydomain com in the yaml file I did remove _example wording but not exactly sure if i remove the correct syntax After saving it there seems to be alot of changes to the yaml But when i deploy a knative service the domain url is still using example com This is the current yaml content"
67652812,"Knative & cert-manager - SSL_ERROR_SYSCALL","https://stackoverflow.com/questions/67652812/knative-cert-manager-ssl-error-syscall","{cert-manager,knative,knative-serving}","2021-05-22 18:14:06+03","2024-05-17 05:43:51.932491+03","Running on Ubuntu 20 04 Installed httpsknative devdocsinstallinstallservingwithyaml Tried all network layers this one is running with kourier and certmanager I installed networkingnscert and using DNS01 basically following httpsknative devdocsinstallinstallservingwithyaml I do get my certificates created and I can curl H app mydomain dev http not https "
67701721,"SinkBinding fails to inject K_SINK environment variable","https://stackoverflow.com/questions/67701721/sinkbinding-fails-to-inject-k-sink-environment-variable","{kubernetes,knative,knative-eventing}","2021-05-26 08:59:26+03","2024-05-17 05:43:52.767652+03","I am trying to set up a Knative eventing pipeline where exists a container that accepts external gRPC requests and fires events into a broker for further processing In my toy example I am failing to use SinkBinding to inject K_SINK environment variable This is the relevant section of my configuration My container gets stuck in an infinite crash loop due to missing environment variable The SinkBinding object seems to have no issues System information"
67720787,"Is it possible to modify a C# web application after it's been containerized?","https://stackoverflow.com/questions/67720787/is-it-possible-to-modify-a-c-sharp-web-application-after-its-been-containerized","{c#,azure,docker,knative}","2021-05-27 11:00:25+03","2024-05-17 05:43:53.307618+03","I have built 2 web applications Now I was asked to containerize above with Knative My question is after that the above apps are containerized will it be possible or easy to modify them again And how Please anything can be helpful "
67720835,"Knative Eventing - NewObservedGenFailure error for helloworld sample's trigger","https://stackoverflow.com/questions/67720835/knative-eventing-newobservedgenfailure-error-for-helloworld-samples-trigger","{knative,knative-serving,knative-eventing}","2021-05-27 11:03:34+03","2024-05-17 05:43:54.329577+03","I am trying out sample hello world application to make use of knative events Using the reference guide httpsknative devdocseventingsampleshelloworldhelloworldpython I manage to create service deployment trigger using the sampleapp yaml However when I run kubectl namespace knativesamples get trigger helloworldpython to check on the trigger status I got this error NewObservedGenFailure knativesamples helloworldpython default 21m Unknown NewObservedGenFailure screenshot Any insight on what is causing this Or how can I troubleshoot this issue Could not get much info from google Thank you"
67766104,"How to configure DNS for KNative when there isn't an External IP but there is an istio-ingressgateway?","https://stackoverflow.com/questions/67766104/how-to-configure-dns-for-knative-when-there-isnt-an-external-ip-but-there-is-an","{knative}","2021-05-30 21:50:08+03","2024-05-17 05:43:55.382772+03","The knative docs describe the following To configure DNS for Knative take the External IP or CNAME from setting up networking and configure it with your DNS provider as follows If the networking layer produced an External IP address then configure a wildcard A record for the domain Here knative example com is the domain suffix for your cluster knative example com A 35 233 41 212 If the networking layer produced a CNAME then configure a CNAME record for the domain Here knative example com is the domain suffix for your cluster knative example com CNAME a317a278525d111e89f272a164fd35fb1510370581 eucentral1 elb amazonaws com However my environment does not have an external load balancer and hence no EXTERNALIP I do have an istioingresgateway configured Can I simply set up DNS as follows"
67800887,"Can Knative's Kafka Broker be fed with events from outside its cluster?","https://stackoverflow.com/questions/67800887/can-knatives-kafka-broker-be-fed-with-events-from-outside-its-cluster","{knative,knative-serving,knative-eventing}","2021-06-02 07:42:53+03","2024-05-17 05:43:55.928894+03","When I setup a kafka broker its URL by default using e g httpkafkabrokeringress knativeeventing svc cluster localexampledefault I am only able to send event from resource within k8 cluster Is it possible to setup a kafka broker using public facing URL so that it could receive events from outside the cluster If can How Thank you"
67820250,"Reasoning behind Knative concurrency","https://stackoverflow.com/questions/67820250/reasoning-behind-knative-concurrency","{knative,knative-serving}","2021-06-03 11:02:43+03","2024-05-17 05:43:56.689629+03","I have started exploring Knative recently and I am trying to understand how concurrency and autoscaling work I understand that target concurrency refers to the number of requests that can be scheduled to a single Pod for a given revision at the same time However I am not sure I understand which is the impact of having a value of concurrency greater than 1 What happens when N requests are scheduled to the same Pod Will they be processed one at a time in a FIFO order Will multiple threads be spawned to serve them in parallel possibly competing for CPU resources I am tempted to set concurrency1 and rely on autoscaling to handle multiple requests through multiple Pods but I guess this is not the best thing to do Thanks in advance"
67880759,"How Knative swiches traffic to activator when pods scale to zero","https://stackoverflow.com/questions/67880759/how-knative-swiches-traffic-to-activator-when-pods-scale-to-zero","{kubernetes,istio,knative,knative-serving}","2021-06-08 02:41:12+03","2024-05-17 05:43:57.81708+03","I read about Knative private and public service Private service always point to the actual deployments endpoint while public service can either point to where private service is pointing or it can point to activator But in my case public service always points to the activator no matter if we are in serve mode or proxy mode But things works fine Please check the image below 10 24 3 168012 is activator endpoint In scaled down mode pod count is zero please check the helloworldgo00001 In scaled up mode serve mode when pod count is more than 0 Please let me understand what am I missing "
67958254,"Is it advisable to run non-Knative deployment/services on Knative installed cluster?","https://stackoverflow.com/questions/67958254/is-it-advisable-to-run-non-knative-deployment-services-on-knative-installed-clus","{knative,knative-serving,knative-eventing}","2021-06-13 12:29:11+03","2024-05-17 05:43:58.758774+03","Is it advisable to run nonKnative deploymentservices on Knative installed cluster Or is it best to use a separate K8 cluster for k8 native containers"
68032029,"Is there some kind of a lifecycle hook for Knative services?","https://stackoverflow.com/questions/68032029/is-there-some-kind-of-a-lifecycle-hook-for-knative-services","{kubernetes,lifecycle,knative}","2021-06-18 08:41:13+03","2024-05-17 05:43:59.484357+03","I am facing this problem services deployed with Knative serving shall be registered with an API gateway when installed i e kn service create someservice and unregistered when the service is removed i e kn service delete someservice Since the first part can easily be implemented in the start procedure of the service code this is not an issue But detecting when a service is removed altogether not just scaled down seems very tricky At least I could not find any working solution Kubernetes lifecycle hooks do not do the job because they are called when a pod not the service is stoppedkilled Does anyone have an idea how the service deletion can be intercepted to get a custom command to execute Thanks for any help "
68033749,"How do I check storage size for a Knative container and how can I increase it?","https://stackoverflow.com/questions/68033749/how-do-i-check-storage-size-for-a-knative-container-and-how-can-i-increase-it","{knative,knative-serving}","2021-06-18 10:43:22+03","2024-05-17 05:44:00.288384+03","I have few storage related question for Knative apps How do I check how much storage space do I have for a stateless knative apps Reason being I need the Knative pod to process a huge file of 1G before removing it it seem to get problem processing a large file I am suspecting storage size causing the issue How do I increase the knative app disk size if it is possible Not sure how kubernetes allocate disk space for a container Thank you "
68257836,"Single request spinning 2 Knative instances when setting concurrency limit to 1","https://stackoverflow.com/questions/68257836/single-request-spinning-2-knative-instances-when-setting-concurrency-limit-to-1","{knative,knative-serving,knative-eventing}","2021-07-05 14:28:38+03","2024-05-17 05:44:00.894274+03","I am trying to achieve a scenario whr 5 curl requests would spin 5 pods I have being playing around with Knative concurrency setting for autoscaling Some observation I realise is that when I set After curling a request it would spin up 2 pod With 5 requests Knative would spin about 9 10 pods I try setting hard limit concurrency too Same behavior as well However when I set the limit to 2 5 Requests would spin about 4 pods which is not what I desire as well How can i achieve 1 request per pod for my application"
68313180,"We have created the knative serverless application in GCP.And we are trying to accesss it by using istio mesh","https://stackoverflow.com/questions/68313180/we-have-created-the-knative-serverless-application-in-gcp-and-we-are-trying-to-a","{istio,knative,istio-gateway}","2021-07-09 07:56:11+03","2024-05-17 05:44:01.499471+03","But we are getting status code 404 while accessing the API Implemented below steps Yaml file "
68615957,"I get an error when trying to create a kind Cluster Domain Claim in version networking.internal.knative.dev/v1alpha1","https://stackoverflow.com/questions/68615957/i-get-an-error-when-trying-to-create-a-kind-cluster-domain-claim-in-version-netw","{kubernetes,knative}","2021-08-02 03:09:23+03","2024-05-17 05:44:02.383275+03","I have installed microk8s version 1 21 then try to create a Cluster Domain Claim I get this error no matches for kind Cluster Domain Claim in version Networking internal knative devv1alpha1 I searched in the CRD but I do not know how to identify in which CRD search Anyone can help me This is my YAML file Regards"
68988648,"What is the proper image url to be entered in the yaml file for KNATIVE deployment","https://stackoverflow.com/questions/68988648/what-is-the-proper-image-url-to-be-entered-in-the-yaml-file-for-knative-deployme","{docker,deployment,docker-registry,dockerhub,knative}","2021-08-30 18:18:58+03","2024-05-17 05:44:03.20231+03","I am trying to complete the KNative tutorial for deploying this tutorial httpsknative devdocsservingsampleshelloworldhelloworldruby I have a url upon completion however the page is not reachable I am getting 404 not found When I run kubectl get all I get the following Which leaves me to believe that there is something wrong with the image url specified in my yaml file My yaml looks like this I noticed that the only time a different app works is when I am ableto wget the image url like in the example here httpsdocs openshift comcontainerplatform4 1serverlessgettingstartedknativeservices html I cannot wget this url and not sure why docker ioadet4eversampleapp I created a docker hub account and pushed the image I dont know if I am missing anything else Thanks for helping as I have spent 2 days trying to fix this problem "
69091595,"How to Knative get client ip on istio","https://stackoverflow.com/questions/69091595/how-to-knative-get-client-ip-on-istio","{istio,knative}","2021-09-07 16:19:26+03","2024-05-17 05:44:04.312351+03","I am using istio in knative Since the client ip did not come I activated the reverseprox I added envoyfilter but I get upstream connect error or disconnectreset before headers reset reason connection termination error in services on knative if it is not knative service I can access it virtualservice EnvoyFilter service load balancer"
69330632,"Is it possible to add dependent environment variables in Google Cloud Run?","https://stackoverflow.com/questions/69330632/is-it-possible-to-add-dependent-environment-variables-in-google-cloud-run","{kubernetes,google-cloud-platform,environment-variables,google-cloud-run,knative}","2021-09-25 23:01:56+03","2024-05-17 05:44:05.043133+03","I would like to specify dependent environment variables on a Cloud Run service If the environment variables have been defined in a env file it would look like this In this example DATABASE_URL depends on every other environment variables To deploy the service I run the following command Here is the created YAML definition of the service some values are omitted The problem is that when the service is running the env vars in DATABASE_URL seem not interpolated I read that Kubernetes supports dependent env vars but I cannot figure out how to make this run in Cloud Run I am wondering if it is supported in Cloud Run in the end "
71125655,"Secure mTLS communication within Istio-knative services + external requests","https://stackoverflow.com/questions/71125655/secure-mtls-communication-within-istio-knative-services-external-requests","{authorization,istio,knative,knative-serving}","2022-02-15 11:27:52+02","2024-05-17 05:44:06.064326+03","We are converting existing k8s services to use istio knative The services receive requests from external users as well as from within the cluster We are trying to setup Istio AuthorizationPolicy to achieve the below requirements Below is a sample of what I am trying I am able to get the first 3 requirements working but not the last one We have made no changes to the mTLS configuration provided by default by istioknative setup so assume that the mtls mode is currently PERMISSIVE Details of tech stack involved"
71169155,"What is the knative's ""mesh"" gateway","https://stackoverflow.com/questions/71169155/what-is-the-knatives-mesh-gateway","{istio,knative,knative-serving}","2022-02-18 06:18:57+02","2024-05-17 05:44:07.13227+03","I see that for every knative service 2 VirtualService objects are created namely ksvcingress which has knativeservingknativeingressgateway knativeservingknativelocalgateway gateways configured and ksvcmesh which has mesh as the gateway I can see the knativeserving gateways using kubectl but I am unable to find the mesh gateway object in any namespace I would like to understand if mesh here denotes some special object or is it an istio keyword representing something else"
71241780,"How to consume events from a different namespace with knative?","https://stackoverflow.com/questions/71241780/how-to-consume-events-from-a-different-namespace-with-knative","{knative,knative-eventing}","2022-02-23 17:47:15+02","2024-05-17 05:44:08.08826+03","What is the minimum required setup to consume events from a different namespace with knative I have the following setup and it does not work My Broker in nsa My service in nsb namespace"
71268823,"Knative services URLs","https://stackoverflow.com/questions/71268823/knative-services-urls","{kubernetes,knative,knative-serving}","2022-02-25 16:27:07+02","2024-05-17 05:44:08.705292+03","I am currently evaluating Knative but I have definitely find no way to use path instead of subdomain in the URL for accessing service By default when creating an service the URL is made like this httpName Namespace Domain and what I would like to have is something like this httpDomainNamespaceName Does anybody knows if it is possible Thanks in advance Cedric"
71396601,"k8s user container is getting shut down by envoy/istio sigterm without completing process","https://stackoverflow.com/questions/71396601/k8s-user-container-is-getting-shut-down-by-envoy-istio-sigterm-without-completin","{istio,envoyproxy,knative,istio-sidecar,knative-serving}","2022-03-08 14:24:53+02","2024-05-17 05:44:09.554241+03","Envoy sending TERM signal and closing my application before the process completion Increasing Drain Duration preventing the pod from going down after the completion its waiting for the grace duration to be over and not allowing any new requests Expectation Is there any way to check the completion of process in user container and send kill signal if there is no process alive Process running in user container is Gunicorn process "
71540077,"integrate Open policy Agent with Knative/Kourier","https://stackoverflow.com/questions/71540077/integrate-open-policy-agent-with-knative-kourier","{open-policy-agent,knative}","2022-03-19 16:41:55+02","2024-05-17 05:44:10.395415+03","Open Policy agent Knative each provide a tutorial for integration with Istio There is a lighter alternative to Istio Kourier that requiring fewer resources Is there is a way to integrate Open Policy agent with Kourier Istio Kourier use envoy proxy I am a newbie on Kubernet any help is welcome ^_^ WCDR"
71589021,"Can Knative always start pods for each incoming request?","https://stackoverflow.com/questions/71589021/can-knative-always-start-pods-for-each-incoming-request","{knative,knative-serving,knative-eventing}","2022-03-23 14:32:13+02","2024-05-17 05:44:11.154989+03","We want to build a simplified jobtask processing system based on Kubernetes We thought about using Knative and its eventing features However one requirement is to execute each taskjob isolated in a separate pod Afterwards we wanna destroy the pod Every other taskjob is processed by new pods etc Further the jobstasks can be longrunning i e multiple hours or even days We are wondering if we can use and configure Knative to achieve this I am actually a bit sceptical due to the scale to zero feature which would destroy longrunning jobs learned from here httpsstackoverflow coma658813467065173 Further our jobstasks should not necessarily listen to an HTTP S port These jobstasks are basically prepackaged into a container and the respective action is executed using Docker CMD What do you guys think is Knative a good baseline for our endeavour Even more do you have any tipsuggestion what baseline to use instead we also have an eye on Tekton btw "
71659787,"IBM Cloud Code Engine: Different response times for app revisions when traffic is split","https://stackoverflow.com/questions/71659787/ibm-cloud-code-engine-different-response-times-for-app-revisions-when-traffic-i","{ibm-cloud,knative,ibm-cloud-code-engine}","2022-03-29 09:46:17+03","2024-05-17 05:44:12.269426+03","I am running different versions revisions of an app on IBM Cloud Code Engine I split traffic 8020 between them I noticed that sometimes the app is responsive as expected sometimes not What could be the reason How can I investigate"
71872219,"Can I set a revision tag for my google cloud run service via terraform?","https://stackoverflow.com/questions/71872219/can-i-set-a-revision-tag-for-my-google-cloud-run-service-via-terraform","{terraform,gcloud,google-cloud-run,knative}","2022-04-14 13:10:56+03","2024-05-17 05:44:13.373783+03","I would like to set a revision tag on the cloud run service revision created by applying my terraform plan I see nothing in the terraform cloud run service documentation that would allow me to set a revision tag I tried the following for the heck of it which results in an Unsupported Argument Error I have explored the alternative strategy of using gcloud commands to add the tag after the revision is created however any commands which successfully tag the latest revision also remove tags from any prior revisions I suppose because I am updating the service wholesale rather that modifying a particular revision "
71912106,"Argo Workflow + Spark Operator Or Spark with Knative leads to Server less Deployment","https://stackoverflow.com/questions/71912106/argo-workflow-spark-operator-or-spark-with-knative-leads-to-server-less-deploy","{apache-spark,kubernetes,google-kubernetes-engine,knative,argo}","2022-04-18 12:56:30+03","2024-05-17 05:44:14.460991+03","Can anyone illustrate the difference between deploying the Spark Operator with Argoflow Apache Spark with Knative Which route will help to achieve a pure serverless application stack over Kubernretes "
73825623,"Stream data using tf.data from cloud object store other than Google Storage possible?","https://stackoverflow.com/questions/73825623/stream-data-using-tf-data-from-cloud-object-store-other-than-google-storage-poss","{tensorflow,kubernetes,serverless,knative}","2022-09-23 09:23:44+03","2024-05-17 05:44:29.274215+03","I have found this nice article on how to directly stream data from Google Storage to tf data This is super handy if your compute tier has limited storage like on KNative in my case and network bandwidth is sufficient and free of charge anyway tfds load try_gcsTrue Unfortunately my data resides in a non Google bucket and it is not documented for other Cloud Object Store systems Does anybody know if it also works in non GS environments"
72193693,"Unable to call knative GCP Cloud Run service from another Kubernetes service running in the same cluster","https://stackoverflow.com/questions/72193693/unable-to-call-knative-gcp-cloud-run-service-from-another-kubernetes-service-run","{google-kubernetes-engine,istio,gke-networking,knative,google-anthos-service-mesh}","2022-05-10 22:48:29+03","2024-05-17 05:44:15.561902+03","I have GKE kubernetes cluster with Cloud Run for Anthos enabled also running Anthos Service Mesh with Istio on it which allows me to host GCP Cloud run container services along with other Kubernetes services in the same cluster I am trying to access the Auth Service running on Knative Cloud Run for Anthos which is in the same namespace from Webapi service running as Kubernetes Service but its unable to resolve the authservice I had assumed that it would be able to call the actual service via the external name provisioned by Cloud Runknative but that does not seem to work And I am invoking the service in my code via the name on default port I am new to the KubernetesIstioKnative world and do not quite understand DNS resolution within this space and so any insights on this would very helpful "
72300452,"How to Connect knative-eventing to RabbitMQ External Source","https://stackoverflow.com/questions/72300452/how-to-connect-knative-eventing-to-rabbitmq-external-source","{rabbitmq,knative,knative-eventing}","2022-05-19 07:36:05+03","2024-05-17 05:44:16.765174+03","I am trying to connect Knative with an existing RabbitMQ queue outside the Kubernetes cluster but after testing and looking at the documentation I am not sure this can be done does anyone know how to use Knativeeventing with an external RabbitMQ as a message source Regards "
72355485,"Installing knative on existing kind cluster","https://stackoverflow.com/questions/72355485/installing-knative-on-existing-kind-cluster","{kubernetes,knative,kind}","2022-05-23 22:39:45+03","2024-05-17 05:44:17.723145+03","I have an existing kind k8s cluster with a bunch of running services and nginxingress setup and I would like to add knative to it Is there a way of doing this with nginxingress seems like networking for knative is a bit more complex than a normal service installation "
72446169,"How to enable HTTPS for InferenceService in KNative","https://stackoverflow.com/questions/72446169/how-to-enable-https-for-inferenceservice-in-knative","{knative,knative-serving}","2022-05-31 10:28:32+03","2024-05-17 05:44:18.464966+03","Can you please kindly help I have successfully deployed KNative cluster for our ML services using official documentation Everything is working good expect HTTPS I have followed httpsknative devdocsservingusingatlscert installed certmanager helm configured DNS issuer with AWS Route53 Certificates have been created successfully I have limited it to only 2 namespaces I did sample InferenceService deployment All resources seem to be created but it works only via http Then i have tried to enable HTTPS Namespace wildcard certificate has been issued everything seem to be fine but when i try to reach my service with https it shows 404 for common url like httpsmlclass default knative example comv1modelsmlclasspredict In the same time when i try to reach specific predictor URL it works I have followed this guide httpsknative devdocsservingusingautotlsenablingautotls and changed gateway like this I have added section for port 443 Can you please kindly point to the right direction how to enable HTTPS for InferenceService in KNative"
72912526,"Kafka headers are being overwritten by Kafka Source","https://stackoverflow.com/questions/72912526/kafka-headers-are-being-overwritten-by-kafka-source","{kubernetes,apache-kafka,knative,cloudevents}","2022-07-08 13:58:31+03","2024-05-17 05:44:19.131142+03","I want to have Kafka message cloud event to be passed through Kafka Source Broker ASP NET core service with headers from initial Kafka message Right now I can put message with body headers and on Kafka it is consumed by Kafka Source but headers from Kafka message are replaced somewhere between Kafka and my service Initial headers Received in service Any way I can prevent this behaviour or at least configure it in a way so my headers are included in HTTP request received by the service"
72938125,"""queueproxy"" : error reverse proxying request; sockstat: sockets TCP: inuse 27 orphan 2 tw 20 alloc 593 mem 52","https://stackoverflow.com/questions/72938125/queueproxy-error-reverse-proxying-request-sockstat-sockets-tcp-inuse-27-o","{istio,istio-gateway,knative,knative-eventing}","2022-07-11 11:49:44+03","2024-05-17 05:44:19.877321+03","I have issue with respect to above subject using knative v1 2 5 istio 1 12 7 Every 20mins we see below error in the queue proxy error context canceled knative devkey testcommonservicetestapp000 knative devpod testapp000deploymentxxxxxxxxxxxx logger queueproxy message error reverse proxying request sockstat sockets used 44 TCP inuse 27 orphan 2 tw 20 alloc 593 mem 52 UDP inuse 0 mem 3 UDPLITE inuse 0 RAW inuse 0 FRAG inuse 0 memory 0 Can someone please let me know how can I fix this Thank you "
73097578,"KServe Readiness Checks not working for custom predictor","https://stackoverflow.com/questions/73097578/kserve-readiness-checks-not-working-for-custom-predictor","{kubernetes,knative}","2022-07-24 10:28:30+03","2024-05-17 05:44:20.900439+03","We have written a custom predictor for KServe The model is loaded into the GPU directly and due to the size of the model it usually takes 34 mins to load Here is how our inference service looks But the readiness checks is not taken into consideration by the queueproxy container which starts calling the model container as soon as it starts Is there a way to pause the queueproxy to wait for the model to load"
73161022,"Making knative services available with host ip","https://stackoverflow.com/questions/73161022/making-knative-services-available-with-host-ip","{knative,knative-serving}","2022-07-29 02:24:19+03","2024-05-17 05:44:21.721108+03","I am exploring knative for some microservices i have I was successful in setting up knative locally by using the quickstart plugin KinD and have my containers up and running in the cluster I was also given a URL by knative to access my service This all is good However I want this service to be accessible with the host ip and the port by host I mean the machine that runs docker similar to how a webserver is accessible with host ip and port Is there any way to facilitate this I was hoping for a way where we could map host ports with ports on kubernetes similar to how we do when deploying docker images "
73962332,"Google Cloud Run Internal error occurred while performing container health check","https://stackoverflow.com/questions/73962332/google-cloud-run-internal-error-occurred-while-performing-container-health-check","{kubernetes,google-cloud-platform,google-cloud-run,knative}","2022-10-05 14:56:26+03","2024-05-17 05:44:30.125209+03","Sometimes no specific correlation Cloud Run fails to deploy a new revision because of issues with performing a container health check I use this command to rollout gcloud alpha run services replace Some googlespecifc details from my cloudrun yml The command fails within 1520 sec I do not know what probes are executed by GCP looks like TCP with 4 min timeout but it looks too early to be exhausted I do not have any custom startup probes health checks readinessliveness probes etc Does anybody face the same issue Any ideas on where to look at"
73597233,"Obtaining a public IP or domain name in a Knative+MiniKube setup","https://stackoverflow.com/questions/73597233/obtaining-a-public-ip-or-domain-name-in-a-knativeminikube-setup","{docker,kubernetes,dns,knative,knative-serving}","2022-09-04 06:30:27+03","2024-05-17 05:44:22.499552+03","I am attempting to use knative to selfhost a simple FaaS platform from an onpremises Linux server I have installed minikube successfully and installedconfigured knative using the knative operator Following the default selection in the linked guide I have set up kourier as the networking layer and selected Magic DNS sslip io setup After running minikube tunnel I can successfully serve demo apps like helloworldpython However my External IP according to KNative is a privateip Note the IP starts with 10 this IP is not external to the machine As such the apps return sslip io addresses containing this private IP httphelloworldpython default 10 100 195 53 sslip io As a result I can query this service e g via curl just fine from the host server but I cannot access the service from any other machine Likewise if I attempt to configure any Eventing services KNative produces webhooks with a private IP address which obviously do not work since external services like GitHub do not resolve them So why does Knative return a private IP in this setting The KNative installation does not seem to give any indication that this will be the case suggesting that might return a CNAME or an IP address and that we should note this for DNS configuration later except if using Magic DNS Should it be returning a private IP If so what is the procedure for exposing services Do I need to run some additional configuration to expose a public IP If not is some additional perconfiguration needed so that it uses the machines public IP or at least an IP I can bind my own reverse proxy to Is Kourier designed to only do private IPs The docs are pretty terse about why one should chose kourier vs istio or contour for networking merely saying that istio is the default but new users should chose kourier if they are unsure As a sidenote background context my server has a fixed IP address I use caddy in container on the same docker network as minikube to provide https domain names to services Also outside of knative if I just follow standard minikube guide to make a service as NodePort or LoadBalancer I can easily take the port that kubectl get svc shows and expose the service in caddy by pointing to said port on the minikube container something like this in the Caddyfile This is just to confirm that in vanilla minikube I have no trouble with ingress configuration KNative clearly has this extra layer of networking by which it is generating URLs for applications though and that has be flummoxed I cannot just replace the `minikube32637 with the private IP addresses KNative returns "
73619481,"Unable to pull from knative - but able from a ""normal"" deploy","https://stackoverflow.com/questions/73619481/unable-to-pull-from-knative-but-able-from-a-normal-deploy","{knative}","2022-09-06 09:11:59+03","2024-05-17 05:44:23.662095+03","I have a private registry running and I can do a normal deploy but when using knative I get errors The registry is running with basic authentication user and password I have configured each node containerd to use this insecureregistry I have found this and added Why is knative and And added to the service But I am still getting errors kubectl describe ksvc helloworldgo note it is looking for https I can do and the pod is running I tought that if I waas able to pull from a normal deployment why can I not using knative"
73683932,"KNative service not handling requests concurrently when using eventing with KafkaSource","https://stackoverflow.com/questions/73683932/knative-service-not-handling-requests-concurrently-when-using-eventing-with-kafk","{kubernetes,apache-kafka,concurrency,knative}","2022-09-12 02:22:51+03","2024-05-17 05:44:24.50005+03","I am trying to use KNative eventing to expose a simple web application via a Kafka topic The server should be able to handle multiple requests concurrently but unfortunately it seems to handle them sequentially when I send them via Kafka When making simple HTTP requests directly to the service though the concurrency is working fine The setup only uses a KafkaSource which points to my KNative Service and is using a Kafka instance deployed using the bitnamikafka helm chart The version I am using is v1 7 1 for KNative serving and eventing and v1 7 0 for the Kafka eventing integration from knativesandboxeventingkafka The service I am trying to deploy is a python FastAPI application that upon receiving a request with an ID of sorts logs the received request sleeps for 5 seconds then returns a dummy message The app is served using uvicorn The service deployment spec shows that I am setting a containerConcurrency value that is greater than 1 Note I also tried with spec consumers 2 in the KafkaSource but the behavior was the same When sending two concurrent requests to the service directly with HTTP the logs to look like this both requests finish within 6 seconds so concurrency is in effect When sending requests via Kafka though the logs look like this the requests are being processed one after the other Please let me know if this sequential request handling is the expected behavior when using eventing with just a KafkaSource and I hope there are ways for enabling concurrency in this setup "
73688710,"Increase number of events sent by Knative Kafka broker to Knative Service","https://stackoverflow.com/questions/73688710/increase-number-of-events-sent-by-knative-kafka-broker-to-knative-service","{apache-kafka,broker,knative,knative-serving,knative-eventing}","2022-09-12 11:40:10+03","2024-05-17 05:44:25.527185+03","Knative configuration as below Send 1000 messages to SQS queue Knative service only creates about 100150 pods to process all requests I checked and found that Kafka broker only sends about 100180 events to Knative Service at once Thus Knative service only creates about 1xx pods to handle these events The remaining events will be failed to send to Knative service and broker will retry sending Is there any configuration in Kafka broker to increase number of events that will be sent to Knative service at once FYI"
73706498,"Can not delete question, that turned out to be wrong","https://stackoverflow.com/questions/73706498/can-not-delete-question-that-turned-out-to-be-wrong","{flutter,istio,knative,metallb,cilium}","2022-09-13 16:38:45+03","2024-05-17 05:44:26.487246+03","Update This was not Flutter is is a network issue I can not delete this question "
73733322,"Mount smb-shares in the KNative service","https://stackoverflow.com/questions/73733322/mount-smb-shares-in-the-knative-service","{kubernetes,knative,knative-serving}","2022-09-15 14:52:20+03","2024-05-17 05:44:27.755229+03","I need to read file from smb share within Knative function Is it possible I tried to mount share with Volumes PersistentVolumePersistentVolumeClaim But seems Knative services do not support Volume functionality supported volume types httpsgithub comknativedocsblob51b878d8ebb494e48cfa5f4214defe92e85eb491docsservingspecknativeapispecification1 0 mdvolume Error description I also executed mount command within pod container But also received an error"
73767152,"Issue running KNative with MicroK8S on Multipass","https://stackoverflow.com/questions/73767152/issue-running-knative-with-microk8s-on-multipass","{kubernetes,microk8s,knative,knative-serving,multipass}","2022-09-19 00:00:58+03","2024-05-17 05:44:28.420938+03","I am trying to get KNative to be able to create services on my Multipass VM with MacOS as the host OS and I am using MicroK8S I have DNS enabled and I am using metallb as my ingress controller I have also changed Multipass to use hyperkit instead of VirtualBox I do not know what is not been configured or missconfigured The error I get when I try to create a new service is pasted below ubuntu javelinsandboxsessionsserverless_k8syaml kn service create nginx image nginx port 80 Error Internal error occurred failed calling webhook webhook serving knative dev failed to call webhook Post httpswebhook knativeserving svc443defaultingtimeout10s dial tcp 10 152 183 167443 connect connection refused Run kn help for usage When I ping that IP it times out So it seems like that IP address is either locked down or does not exist Port 443 is configured in my ingressservice yaml file And here is what I have configured for metallb address pool And heres another addresspool yaml I have configured for my cluster I am pretty sure that I have either something networking misconfigured or I am missing a configuration somewhere "
74065616,"Configure knative serving to use the local Docker image","https://stackoverflow.com/questions/74065616/configure-knative-serving-to-use-the-local-docker-image","{kubernetes,docker-image,knative,knative-serving}","2022-10-14 07:14:09+03","2024-05-17 05:44:31.687211+03","How do we configure the knative serving to use the local docker image If we need to pull the image from the Google Cloud registry we append gcr io as a prefix to the image name Similarly is there any prefix to be used for the local image I am facing the below error when I use hellolatest as image name and Never as imagePullPolicy Revision hello1ld62x failed with message Unable to fetch image hellolatest But the same image is working fine if I use the Kubernetes Deployment resource "
74152057,"camel knative component not deploying any knative service for knative endpoint","https://stackoverflow.com/questions/74152057/camel-knative-component-not-deploying-any-knative-service-for-knative-endpoint","{kubernetes,apache-camel,knative,knative-serving}","2022-10-21 10:09:45+03","2024-05-17 05:44:32.773002+03","Added a camelknative component in my camel route as an inbound but deployment on kubernetes cluster is not working Expected it to expose a knative service corresponding to knative endpoint but give us an error of KnativeConsumerFactory not created pom xml Route java knative json application properties I have not mentioned any config related to knative service in kubernetes deployment manifest "
74328360,"Why CloudRun instance count could jump very high, especially during redeployment?","https://stackoverflow.com/questions/74328360/why-cloudrun-instance-count-could-jump-very-high-especially-during-redeployment","{google-cloud-platform,google-cloud-run,knative}","2022-11-05 14:00:55+02","2024-05-17 05:44:33.221131+03","When using CloudRun why my instance count jumps very high during redeployment My CloudRun application has very low CPU utilization and the traffic is extremely low as well I would expect during a redeployment the instance count should just go up to 2 one is new one is old still running for a while before all traffic goes to the new one Also is there a way to control a rollingUpdate behavior during deployment"
74393202,"Create a cronjob in Knative publishing messages to Kafka","https://stackoverflow.com/questions/74393202/create-a-cronjob-in-knative-publishing-messages-to-kafka","{kubernetes,cron,knative,knative-serving,knative-eventing}","2022-11-10 17:40:02+02","2024-05-17 05:44:34.30319+03","I would like to create a cronjob via Knative that sends healthcheck messages to my Kafka topic every 10 minutes Then we will have a separate endpoint created that will receive these messages and pass some response to a receiver healthcheck Tried using KafkaBinding which seems suitable but cannot apply this template TLS httpsgithub comknativedocstreemaincodesampleseventingkafkabinding I also find it odd that regular KafkaBinding template contains apiVersion bindings knative devv1beta1 while the one with TLS sources knative devv1beta1 Have not found much documentation on how to create a Cronjob sending messages on Kafka which is then grabbed using KafkaSource and passed using brokertrigger to my service on K8s Anyone got it implemented right Or found another way for this The idea is test the whole flow including KafkaSource which seems a little bit unstable "
74543499,"Knative service deployment fails with reason RevisionMissing","https://stackoverflow.com/questions/74543499/knative-service-deployment-fails-with-reason-revisionmissing","{docker,kubernetes,knative,knative-serving}","2022-11-23 08:07:04+02","2024-05-17 05:44:34.955148+03","I have deployed a service on Knative I iterated on the service codeDocker image and I try to redeploy it at the same address I proceeded as follow During the deployment the service shows READY Unknown and REASON RevisionMissing and after a while READY False and REASON ProgressDeadlineExceeded When looking at the logs of the pod with the following command kubectl n myspacename logs revision serving knative devmyservicename00001 I get the message no kind Revision is registered for version serving knative devv1 in scheme pkgschemescheme go28 Here is the YAML file of the service"
75108597,"KNative and gRPC with nginx-ingress","https://stackoverflow.com/questions/75108597/knative-and-grpc-with-nginx-ingress","{nginx-ingress,knative,knative-serving,kubeflow-kserve}","2023-01-13 11:30:00+02","2024-05-17 05:44:36.055272+03","I have installed KnativeKServe in my AWS EKS cluster Everything is working fine but recently we decided to try gRPC for our services deployed there It is deployed with Istiowinth nginx ingress in front of everything with ingress pointing to Istio ingress gateway As mentioned in Knative documentation httpsgithub commeteatamelknativetutorialblobmasterdocsgrpc md i have changed my InferenceService yaml by adding h2c port block Since gRPC annotation is ingresslevel i have changed main ingress to have more specific paths and after that created second ingress But i cannot get it working in any way I tried one million different configurations but i get either 404 or 502 errors My istio ingress service is Is there any possible way to get it working I am not sure what additional information should i add Thank you "
76129418,"Knative Functions: How to add runtime?","https://stackoverflow.com/questions/76129418/knative-functions-how-to-add-runtime","{knative,knative-functions}","2023-04-28 12:07:06+03","2024-05-17 05:44:37.17432+03","I created a new language pack for Knative to be able to use net to write functions When I try to create a function using func create I get How do I create add the appropriate runtime"
76144236,"Path parameters with NodeJS serverless","https://stackoverflow.com/questions/76144236/path-parameters-with-nodejs-serverless","{node.js,aws-lambda,serverless,knative}","2023-05-01 00:51:36+03","2024-05-17 05:44:37.947928+03","I am learning serverless with nodejs Right now a little bit confused When I look at knative specifically it is not clear to me how to handle path parameters In this description it is said that Functions are invoked with a context object as the first parameter This object provides access to the incoming request information Developers can get the HTTP request method any query strings sent with the request the headers the HTTP version the request body Notice that they say nothing about path parameters So my question is this an accepted approach that nodejs functionsserverless do not support path parameters Or am I missing something Here is the example I have to extract query parameters"
76208256,"Are there any plans to implement multi-container workflows?","https://stackoverflow.com/questions/76208256/are-there-any-plans-to-implement-multi-container-workflows","{workflow,knative}","2023-05-09 10:18:09+03","2024-05-17 05:44:38.876107+03","Creating reusable containerised microservices is great for EDA but networking and data sharing can be costly compared to a monolithic app A great solution would be to run a workflow on a single pod composed of these microservice containers injecting workflow specific configuration for each one The data can be shared via local emptyDir on RAM or storage Argo workflows achieve something similar but it would be great see it in Knative too I would expect faster workflows and more efficient use of k8s resources"
76282226,"How to build the mirror package in knative/serving","https://stackoverflow.com/questions/76282226/how-to-build-the-mirror-package-in-knative-serving","{knative}","2023-05-18 15:23:21+03","2024-05-17 05:44:39.870635+03","How to create knativeserving each image in the bag such as GCR IOknative releasesknative DevservingCMDwebhook etc Where can I find a Dockerfile or makefile Or do I need to write my own how to correctly type the mirror package I did not find any official build image files on github"
76378221,"Can I send event to knative broker directly?","https://stackoverflow.com/questions/76378221/can-i-send-event-to-knative-broker-directly","{knative,knative-eventing}","2023-06-01 01:54:38+03","2024-05-17 05:44:41.927073+03","I have installed kubernetes v1 23 and knative v1 4 on a cluster with three machines I read from knative doc that event producers can send events to a broker by POSTing the event So I write a demo to send events to broker using the cloudevents sdkgo But I get 404 when the code sends cloudevents I am not sure if sending to broker directly is not allowd in knative v1 4 or I take wrong approch Can anyone help me Here is the step I take I want to see event being sent without error "
76429455,"knative kafkasource consuming from earliest offset even though initialOffset configured to latest","https://stackoverflow.com/questions/76429455/knative-kafkasource-consuming-from-earliest-offset-even-though-initialoffset-con","{knative}","2023-06-08 07:18:14+03","2024-05-17 05:44:42.856704+03","What could force the knative kafkasource to consume from earliest instead of latest when configured to do so We are using knative kafkasource and configured the initialOffset latest Now we deleted the kafkasource consumer and kubernetes start to bring it up again At the same time we also deleted the consumer group as well kafkaconsumergroups sh \ bootstrapserver KAFKA_BOOTSTRAP_ENDPOINT \ deleteoffsets group EXAMPLE_CONSUMER_GROUP topic EXAMPLE_TOPIC so when the kafkasource pod came up it then started consuming from the earliest offset instead of latest I tried checking this but did not find much in logs I would like some help or pointer towards this behavior of knative kafkasource and what could be possibly causing this Or if anyone faced the same issue Thankyou "
76455437,"Issues with KafkaSource Adapter in Knative Eventing: Claims Update Timeout and Packet Decoding Errors","https://stackoverflow.com/questions/76455437/issues-with-kafkasource-adapter-in-knative-eventing-claims-update-timeout-and-p","{go,apache-kafka,knative,sarama,knative-eventing}","2023-06-12 09:47:59+03","2024-05-17 05:44:44.621244+03","I am currently facing challenges with my Knative Eventing setup specifically regarding the KafkaSource adapter It is been displaying error messages related to claims update timeouts and packet length decoding issues detailed error messages from the KafkaSource Adapter logs are as follows The current Knative release versions being used are Upon investigating further I have pinpointed potential sources of the errors in the Knative codebase For the claims update error the related code can be found in consumerconsumer_handler go and the relevant code from the Knative controlprotocol is in pkgserviceservice go Here is the code from consumerconsumer_handler go And the code from pkgserviceservice go to further investigate and isolate the issue I created a standalone Go program that implements a Kafka consumer using the Sarama library The goal was to simulate the behavior of the KafkaSource adapter and observe if any similar issues would arise This program was set to consume messages from the same Kafka topic that was causing issues in the original setup The program was then deployed in a pod within the same environment as the KafkaSource The code implemented a Kafka consumer which consumed messages from a Kafka topic using a consumer group This is the same mechanism used by KafkaSource The significant aspect here is that the consumer was run within the same environmental conditions and configurations as the KafkaSource to keep the conditions as similar as possible Heres the code I used main go scram_client go i have used the same sarama version that is being used in the kafkasource in my code surprisingly the consumer program worked as expected without encountering any of the previous errors It was successfully consuming messages from the Kafka topic with no signs of claim update timeouts or issues decoding packet lengths Thanks in advance "
76530602,"Is Bi-directional Communication with Long-Lived Serving Code Supported in Knative?","https://stackoverflow.com/questions/76530602/is-bi-directional-communication-with-long-lived-serving-code-supported-in-knativ","{knative,knative-serving}","2023-06-22 09:46:43+03","2024-05-17 05:44:45.534025+03","Id like to setup a Knative Serving for a bunch of revisions 50k most of them scaled to 0 The serving code will be fairly longlived up to 1 min and bidirectionally communicate with a caller Itd be great if one bidirectional session would be counted as concurrency 1 Is this supported Would protocol would be better Pure http2 gRPC websocket So far I tried to look for the solution in the docs No luck "
76579049,"KNative running on different cluster versions: failed to list *v2beta2.HorizontalPodAutoscaler: the server could not find the requested resource","https://stackoverflow.com/questions/76579049/knative-running-on-different-cluster-versions-failed-to-list-v2beta2-horizonta","{kubernetes,hpa,client-go,knative,knative-eventing}","2023-06-29 07:51:49+03","2024-05-17 05:44:46.061502+03","I have been struggling with this scenario so I will post it here and I hope someone point me to the right direction as I am not sure whether this is a KNative clientgo or my code issue I have an operator based on KNative eventing that needs to run in 2 different versions of Kubernetes 1 19 and 1 27 Those operators create HPA resources for the broker ingress and for the trigger dispatcher These are the apiversions of autoscaling on each cluster 1 19 1 27 Until now we only had 1 19 and it was working fine creating HPA v2beta2 but as you can see the new cluster does not have autoscaling v2beta2 so we need to migrate it to either v1 or v2 v1 is not an option as it does not support scaling with Memory v2 is not available on the 1 19 cluster so first I tried using a code similar to this EDIT I also have added the conditional when adding the event handler It does not work as expected and even tho I have a conditional it tries to watch the resource not available on the cluster throwing the errors If we look at the line mentioned there controller go732 it is the line that calls the Run method of the Informers on KNative source code I have tried using an interface and also using generics but did not go far always ended up on some sort of limitation I have commented out the version not available in the cluster and then I was able to run it successful but of course this is not ideal My last attempt was spending half of day converting everything to dynamic client the code looked like this Only to end up on the exact same error I am not sure where exactly those versions are called in runtime even having a conditional to only lookup for the resources of the versions supported on the cluster it is running Any idea how to achieve this Knative release version v0 37 1"
76594587,"Knative intermittently failing to create deployments","https://stackoverflow.com/questions/76594587/knative-intermittently-failing-to-create-deployments","{kubernetes,kubelet,knative,knative-serving}","2023-07-01 11:55:11+03","2024-05-17 05:44:47.052822+03","I have been running into this issue where every once in a while Knative will become unable to create new Deployments and will spontaneously recover within a few hours and create it Until then the following errors keep playing out within the serving components What it feels like to me is the requests to kubernetes service are timing out but I cannot tell why On making updates to a service expecting deployment of new revision to work Occasionally while making valid changes ex changing the value of an annotation Knative will become unable to deploy a new revision getting stuck in the state of constantly trying to reconcile it for hours before spontaneously recovering In the controller logs I see the following context deadline exceeded error while trying to post to the Kubernetes service IP and right before it the following in Webhook logs At a complete loss here at this point Unknown"
61915279,"How can I delete a pod via a Oracle Function?","https://stackoverflow.com/questions/61915279/how-can-i-delete-a-pod-via-a-oracle-function","{oracle-call-interface,oracle-cloud-infrastructure,fn,oci-go-sdk}","2020-05-20 14:09:44+03","2024-05-17 05:50:14.19503+03","I have a cluster with some deployments services etc inside an OKE which I usually connect to via kubectl from my pc The question is is it possible to delete a pod inside that cluster from a Oracle Function What I want to do is build a CICD chain triggering my function via a Gateway to execute my cifunction and this part works well I am writing my functions in Go using ocigosdk but here is the problem I can obtain the Kubeconfig file of my cluster with But this Kubeconfig file contains which need oci installed inside the function env which I am not able to install Also ocicli used there is opensource here is the interesting part that generate the token used here httpsgithub comoracleocicliblobcf04fa4f08238cb1ee4287f0354603ba92e60647servicescontainer_enginesrcoci_cli_co But I was not able to recreate this part and use it inside kubeconfig directly Someone know any way to do this Thanks in advance"
76620614,"Knative Functions with Spring Boot: Dosnt get up! Readiness Probe Failures?","https://stackoverflow.com/questions/76620614/knative-functions-with-spring-boot-dosnt-get-up-readiness-probe-failures","{spring-boot,kubernetes,knative,knative-serving,knative-functions}","2023-07-05 13:02:26+03","2024-05-17 05:44:47.998919+03","I have been working on Knative functions and am experiencing some issues while deploying it The application is a simple Java Spring Boot application the default application that will be crated with kn func create deployed on a Minikube cluster using a pack The problem I am facing is that after deploying the function to my cluster the Spring Boot application starts up and all initialization steps are completed successfully However just after the startup it shuts down instantly without any error message While observing the pod events I noticed several failures related to the readiness probe Notably I have also tried manually building the image with pack and then deploying it using a Knative Serving manifest and this works perfectly The application starts and remains active as expected This issue only occurs when deploying with kn func Additional information I have just discovered something interesting when I build the function as a Cloud Native Image by setting BP_NATIVE_IMAGE true in the func yaml file the application runs perfectly in the cluster with no issues at all The immediate shutdown problem does not occur "
76629914,"Kperf build failing","https://stackoverflow.com/questions/76629914/kperf-build-failing","{go,build,knative}","2023-07-06 14:31:15+03","2024-05-17 05:44:48.91404+03","I have tried to Build kperf by running build sh but I get The following error with unable to find iofs I am a huge go noob any help appreciated "
76651530,"Kperf result of scale is error: failed to get the cluster endpoint: http2 port of ingress service not found","https://stackoverflow.com/questions/76651530/kperf-result-of-scale-is-error-failed-to-get-the-cluster-endpoint-http2-port-o","{kubernetes,contour,knative}","2023-07-10 07:23:57+03","2024-05-17 05:44:49.591978+03","Im trying to run kperf service scale or load doesnt work due to the following error I am using Contour as networking layer and I have 2 namespaces Contourinternal and contourexternal Both result in the same error I do not understand what exactly the error means as I have no ingresses for my services just classic k8s svcs with http2 ports Help is appreciated "
76674036,".rules accessor error on changing networking layer for Knative Serving","https://stackoverflow.com/questions/76674036/rules-accessor-error-on-changing-networking-layer-for-knative-serving","{kubernetes,google-kubernetes-engine,knative,knative-serving}","2023-07-12 19:51:13+03","2024-05-17 05:44:50.348738+03","Describe the bug On moving away from Contour to Kourier for networking layer Knative Serving cannot be reconciled due to the follow error Expected behavior Contour controller scaled down and Kourier components deployed To Reproduce Have not been able to reliably reproduce in a different environment Knative release version v1 10 Additional context Following is my KnativeServing CRD Prior to this it was spec ingress contour enabled true and spec config network ingressclass contour ingress networking knative dev Following this change the aforementioned error repeats even on reverting the change and attempting to restore contour use I have also attempted deleting the entire Knative stack and redeploying with similar results "
76694083,"Knative Function","https://stackoverflow.com/questions/76694083/knative-function","{jmeter,serverless,knative,knative-functions}","2023-07-15 13:54:02+03","2024-05-17 05:44:51.421776+03","Which components I have to installbuild to run a Python function that receives HTTP request and replies with a confirmation message The header of this request includes a value which represents a temperature reading I will use JMeter to test Knative performance parameter response time throughput success rate "
76710271,"""address not set"" error in a Broker-Trigger configuration with Event Display","https://stackoverflow.com/questions/76710271/address-not-set-error-in-a-broker-trigger-configuration-with-event-display","{c#,knative,knative-eventing,cloudevents}","2023-07-18 07:08:56+03","2024-05-17 05:44:52.481127+03","Trying something really basic here to start things out Service eventdisplaytask1 is using the Go Event Display without issues My service eventdisplaytask2 is a simple image based on the example from github eventingeventdisplaycsharp but I am getting this error involving Trigger triggertask2 address not set for ObjectReference KindServiceNamespaceknativeservingNameeventdisplaytask2UIDAPIVersionserving knative devv1ResourceVersionFieldPath Can you suggest me something Thanks for you help Tom"
76840898,"Integrating Local File Access into a Knative Function on a Local Kubernetes Cluster","https://stackoverflow.com/questions/76840898/integrating-local-file-access-into-a-knative-function-on-a-local-kubernetes-clus","{python,kubernetes,knative,knative-functions}","2023-08-05 09:08:09+03","2024-05-17 05:44:53.44172+03","I have a Python code deployed as Knativefunctions in which I would like to read a file saved in the local machine under the path appuploadsfile csv The Knative cluster is deployed localy using Kind I would like to have read access of all the files inside appuploads folder What I have so far is After deploying the python function to the knative local cluster and invoking it I get this error I also tried definning PersistentVolume and PersistentVolumeClaim in my cluster pv yaml pvc yaml and defined the previous func yaml as but when I deploy the function I get this error"
76928965,"knative eventing with kafka is sending requests again and again","https://stackoverflow.com/questions/76928965/knative-eventing-with-kafka-is-sending-requests-again-and-again","{apache-kafka,knative,knative-eventing}","2023-08-18 11:35:47+03","2024-05-17 05:44:54.3195+03","I have successfully implemented the integration of Knative eventing within an EC2 instance connecting it to Kafka running in Amazon Managed Streaming for Apache Kafka MSK The system has been configured so that when a request is sent it triggers a corresponding event in Knative Each incoming request should ideally result in a single corresponding response However I have encountered an issue where the system is generating a higher number of responses than originally anticipated I do not know where is the issue exactly please help me with this and Thanks in advance "
78423543,"Calling a Knative sequence does not return the output of the sequence","https://stackoverflow.com/questions/78423543/calling-a-knative-sequence-does-not-return-the-output-of-the-sequence","{sequence,knative,knative-eventing}","2024-05-03 08:35:17+03","2024-05-17 05:45:06.058656+03","We are experimenting with knative sequences we have defined a 3 step sequence similar to the one described in the knative tutorials httpsknative devdocseventingflowssequencesequenceterminal We call the sequence using a POST cloudevent request that correctly triggers it We use the sequences Address as a target which resolves to the address of the sequences first channel The POST request remains pending until the whole sequence is over all steps but the HTTP response we get is not the output of the sequence instead we simply get When adding a reply block the sequence correctly sends the event to the described sink In both cases with or without reply the caller of the sequence does not get the output of the sequence in return to his request What bugs us is that the request remains pending until the whole sequence is over so it seems logical that we should get the output of the sequences last step Is this a feature Or did we miss something in the configuration Any help would be appreciated thank you very much "
76991199,"Slow Knative service creation times","https://stackoverflow.com/questions/76991199/slow-knative-service-creation-times","{kubernetes,google-kubernetes-engine,knative,knative-serving}","2023-08-28 08:33:16+03","2024-05-17 05:44:55.343877+03","I have Knative v1 10 2 running on a GCP GKE cluster installed using the Knative Operator with Kourier as networking layer I have the Knative Serving components scaled to 3 pods each I have been using kperf to test service creation speed I have run tests generating 10 services that are using the knativesamplehelloworldgo image I have observed that for the average time taken for a service to be ready is 45s averaged over multiple tests What I am struggling to grasp here is why it takes so long and why so much time is needed for the Configuration to become ready if the image is already on the node for example Here we can see that the Service Configuration Ready Duration is around 80 of the overall ready duration Initially i thought the tag resolution was taking too long as the output from kn revision list would show most time spent on Resolving Digests so I have disabled tag resolution for gcr io but the result is roughly the same with the first 23 services moving quickly to Deploying and the rest being stuck for an additional 2030s on Resolving Digests configs at the end I have read in an older issue that increasing the number of Controllers and Buckets could help however increasing my Controllers and Buckets to 10 has not helped I replicated my setup on our onpremise cluster as I was wondering if it could be something about our cloud infrastructure that was slowing things down but I have seen the same results with overall ready times averaging 41s Increasing Controllers and Buckets to 10 here actually slowed down the stack increasing average overall ready time to 52 9s How can I go about improving these numbers and is the Kperf tool reliable still its been in alpha for quite some time now Configs The Operator is configs are the exact same ones for v1 10 2 with the difference that I have set resource requestslimits The webhook requests 100m for both CPU and Mem and is limited to 500m while the Operator itself requests 500 and is limited to 2000 for both Please let me know if more information is required and thank you for your time and patience "
77116685,"AWS SQS and Knative function","https://stackoverflow.com/questions/77116685/aws-sqs-and-knative-function","{amazon-sqs,knative,knative-eventing,dlq,knative-functions}","2023-09-16 06:57:30+03","2024-05-17 05:44:56.381721+03","We have added DLQ as a knative function in our pipeline Before adding DLQ our workflow was lambda1 writing to SQS Lambda2 invoked by SQS writing to S3 and does nothing for failed scenario New workflow lambda1 writing to SQS Lambda2 invoked by SQS writing to S3 DLQ retrying for failed messages and sending them to s3 if still fails This DLQ is not in AWS we have added this in K8S by using knative functions Problem is Sometimes a few messages success scenario from SQS are not hitting lambda2 and directly going to DLQ Its a kind of blinker as sometimes working and other time not And even when not working failed messages are not the same Keeps on changing Before adding this DLQ everything was working fine Lambda timeout 15 mins SQS visibility timeoutL 15 mins Batch Size 10 Report batch item failure yes Is there any way to debug this As it is not triggering lambda code we are helpless Is there any way to debug this As it is not triggering lambda code we are helpless "
77230385,"Trying to request a Knative Autoscale Settings update","https://stackoverflow.com/questions/77230385/trying-to-request-a-knative-autoscale-settings-update","{python,azure,kubernetes,knative}","2023-10-04 14:16:39+03","2024-05-17 05:44:57.378816+03","I have an AKS cluster application with knative installed and I am trying to make a request to update its autoscale settings I currently am working with this In theory it should work and all the parameters are being reached correctly but when I make the request I get HTTP 422 the server rejected our request due to an error in our request I have debugged through VSCode but could not find what is wrong with it "
77675206,"docker desktop & knative & knative func","https://stackoverflow.com/questions/77675206/docker-desktop-knative-knative-func","{docker,kubernetes,knative,faas}","2023-12-17 16:45:52+02","2024-05-17 05:44:57.96836+03","i have installed ubuntu 22 04 docker desktop enabled kubernetes in docker desktop installed knative serving installed func but when i do func build from terminal gives this error ERROR failed to initialize docker client failed to connect to docker socket dial unix varrundocker sock connect connection refused i did export DOCKER_HOSTunixhomeuser dockerdesktopdocker sock but did not help how can i change socket address to right one knative func is also looking for dockerd daemon if i install it with sudo apt install docker io it removes docker desktop what should i do"
77695513,"Disabling proxy protocol for the in-cluster communication in Istio","https://stackoverflow.com/questions/77695513/disabling-proxy-protocol-for-the-in-cluster-communication-in-istio","{kubernetes,istio,knative}","2023-12-21 02:53:16+02","2024-05-17 05:44:58.742711+03","I have istio setup behind a LoadBalancer with proxy protocol so I have to setup following EnvoyProxy Everything works but the problem is that affects incluster communication too When communicating inside cluster I do not want to use a proxy protocol It affects my use case where I want to setup VirtualService which will then route requests to the relevant services which are also istio entities specifically Istio VirtualService knative services Whenever I try to query httphub example comgraphql for example it tries to query appapi app svc cluster local which is Istio VirtualService without proxy protocol when it is expected due to the rule or at least that is how I understand it So that fails with this error upstream connect error or disconnectreset before headers reset reason connection termination If I disable proxy rules it all works fine and if I try to access knative service directly from the LoadBalancer it also works What does not work is whenever some VirtualService tries to forward request to another one So my scheme looks like this External LoadBalancer Istio Ingress LoadBalancer Gateway VirtualService accepts proxy protocol payload Endservice VirtualService also accepts proxy protocol payload but the service before is sending raw query Is there any way to avoid using proxy protocol inside cluster communication Possible solutions I have thought about is creating multiple gateways but I am not sure how should I go about that and use that inside a filter "
77786370,"How to mount NFS in Knative v0.23?","https://stackoverflow.com/questions/77786370/how-to-mount-nfs-in-knative-v0-23","{kubernetes,knative,knative-serving}","2024-01-09 11:19:25+02","2024-05-17 05:44:59.905884+03","We encountered a need to mount NFS when using Knative v0 23 but PVC was not supported by Knative until v1 2 Upgrading the Knative version carries certain risks for us Is there a way to use NFS in Knative v0 23 If not how should we evaluate the compatibility risks brought by upgrading the Knative version We understand that upgrading the Knative version can solve this problem but there is a certain compatibility risk for us So we want to know if there is a way to mount NFS without upgrading Knative "
60599829,"How to call sample helloword func using a java code","https://stackoverflow.com/questions/60599829/how-to-call-sample-helloword-func-using-a-java-code","{oracle,fn}","2020-03-09 11:40:05+02","2024-05-17 05:50:13.453587+03","I am new to Functions as a service I have done all the relavant setup and get below output for command command fn invoke helloworldapp helloworldfunc Output Hello world Now I need to invoke the helloworldfunc using java client code which can run on any location Is it possible If yes how "
72463927,"Spark job fails on image pull in Iguazio","https://stackoverflow.com/questions/72463927/spark-job-fails-on-image-pull-in-iguazio","{mlops,nuclio,spark-operator,mlrun}","2022-06-01 14:52:34+03","2024-05-17 05:50:48.564769+03","I am using code examples in the MLRun documentation for running a spark job on Iguazio platform Docs say I can use a default spark docker image provided by the platform but when I try to run the job the pod hangs with Error ImagePullBackOff Here is the function spec item I am using How do I configure Iguazio to use the default spark image that is supposed to be included in the platform"
77808871,"Is it possible to send KNative events using any kind of SDK in java/kotlin without relying on Http?","https://stackoverflow.com/questions/77808871/is-it-possible-to-send-knative-events-using-any-kind-of-sdk-in-java-kotlin-witho","{kotlin,kubernetes,quarkus,knative}","2024-01-12 19:22:52+02","2024-05-17 05:45:00.757896+03","So I am using quarkus and funqy to listen to knative events and it works like a charm The way I used to test it locally with minikubekind can be followed in the steps below Created a kubernetes service containing the quarkus image that has the funq annotation Created a `kubernetes trigger` that will invoke the service when receive the myOwnEvent event Create a `kubernetes namespace` knativetutorial so I can put everything togueter Create a `kubernetes broker` for this namespace named default Create a `kubernetes pod` just so I can get inside it to make curl requests to the broker After my local setup is done I made a curl request from inside the kubernetes pod that I created The curl was something like that ```shell ``` And it worked I successfully was able to manually trigger an event that was received by my quarkus application Now my main goal is to create a new event in my application and not manually I found some solutions on the internet but they are all using an http POST request to the broker from inside the application basically what I did but in the code itself I try httpsgithub comfabric8iokubernetesclient but I also could not find a way to sendpublish an event Is there any other solution or should I rely on http for that"
77870346,"Knative's support for the Socket protocol","https://stackoverflow.com/questions/77870346/knatives-support-for-the-socket-protocol","{kubernetes,serverless,knative}","2024-01-24 02:57:06+02","2024-05-17 05:45:01.39166+03","Our business requires deploying a socket server on Knative Serving and providing a fixed IP for socket connection to clients outside the cluster However Knative is designed for HTTP connections and currently I have not found any information about Knative Serving exposing services via sockets or transport layer protocols Is there any method available at the moment to expose a service in Knative Serving to the outside cluster using socket communication I have now attempted to deploy a Socket server and a client within Knative Serving and communication is functioning properly using the clusters internal IP However I am unsure of how to establish a connection with clients outside the cluster "
78156097,"How do I configure multi-tenant Kafka-backed Knative channels in an Openshift?","https://stackoverflow.com/questions/78156097/how-do-i-configure-multi-tenant-kafka-backed-knative-channels-in-an-openshift","{apache-kafka,openshift,knative,strimzi,knative-eventing}","2024-03-13 18:33:52+02","2024-05-17 05:45:02.542092+03","Goal We want to support multiple environments in the same Openshift We use the service mesh control plan and namespaces defined in the member rolls as the boundaries for each environment Each environment also has its own Kafka cluster installed using the Openshift AMQP operator Weve also also installed the Openshift serverless operator and deployed a Knative Eventing control plane along with a Knative Serving control plane Weve found that only one knative eventing control plane can be installed in each cluster as it is restricted to a certain namespace name and you can only have one control plane in a namespace For each environment there is a handful of Knative channels we use the channelsubscription model but we can use brokers and trigger as wells if that solves the problem which are backed by the kafka cluster of that environment We use the subscriptions to push events to Knative services Issue It seems that the kafka bootstrap server domains are configured in the control plane KnativeKafka resource specifically for which we can only have one of per openshift cluster This means that we can ensure that dataevents in one environments ends up in the kafka cluster in that same environment How would one go about creating two Knative channels in the same cluster but configured in such a way so that the events of each are guaranteed to end up in different kafka clusters all within the same openshift cluster The details Openshift v4 14 12_1552 Red Hat AMQP Streams v2 6 01 Which uses Openshift Serverless v1 31 1 Which uses"
78326279,"Knative: helloworld-go IngressNotConfigured","https://stackoverflow.com/questions/78326279/knative-helloworld-go-ingressnotconfigured","{knative,knative-serving}","2024-04-15 05:46:03+03","2024-05-17 05:45:03.25938+03","I am quite new to knative and I really need you guys help I was installing knativeserving by using YAML My environment Knativeserving Components Networking layer DNS HPA Components knativev1 13 1servingcrds yaml knativev1 13 1servingcore yaml Networking layer knativev1 13 0kourier yaml DNS magic DNS sslip io knativev1 13 1servingdefaultdomain yaml Serving Extension knativev1 13 1servinghpa yaml Everything seems well at first then I deployed a demon and found defaultdomainxxx pods always run into error Detailed information are as follows I have tried troubleshooting but didnot find similar circumsatnces helloworldgo IngressNotConfigured Networking Layer Kourier looks fine But the serval pods run into error like this them I logs the error but cannot find solution can you guys give me a clue I would really really appreciate it "
78340777,"Python Knative func with gRPC and Kourier","https://stackoverflow.com/questions/78340777/python-knative-func-with-grpc-and-kourier","{kubernetes,grpc,knative,knative-functions}","2024-04-17 11:58:16+03","2024-05-17 05:45:04.294823+03","I am trying to deploy a simple gRPC Knative func on Kubernetes in Python but the configuration does not seem to work I only found func templates for HTTP I am using Kourier I do not want to use Knative serving instead of func But if a Knative func extension that supports gRPC exists please let me know I tried to set the invocation format in func yaml to grpc and set healthEndpoints to however I still get aggressive probe error failed 202 times Get http127 0 0 18080healthreadiness dial tcp 127 0 0 18080 connect connection refused This is my func yaml configuration This is my func py This is the Procfile web python func py I try to deploy the function and then the ksvc service never gets ready the error is the one from above "
78392711,"Getting the response from a knative broker call","https://stackoverflow.com/questions/78392711/getting-the-response-from-a-knative-broker-call","{kubernetes,quarkus,broker,knative,funq}","2024-04-26 19:48:19+03","2024-05-17 05:45:05.071151+03","I am using Quarkus framework and the library called Funq with knative event bindings Meaning that I am listening to Kubernetes cloud events in my Quarkus application and it is working properly Just to illustrate there is a piece of code Is there aNY way to send a curl to the broker and instead of receiving a 202 status code I get the response for the function I know that I can use the return of the fakeEventListener to trigger another cloud event but instead I need to have the response of this information in the caller in the curl request for this example or any http client library If that is not possible how to provide be able to synchronously get the response from funq POST calls"
72478525,"Can I use Iguazio to serve a model on a REST API?","https://stackoverflow.com/questions/72478525/can-i-use-iguazio-to-serve-a-model-on-a-rest-api","{python,mlops,nuclio}","2022-06-02 15:15:21+03","2024-05-17 05:50:49.461457+03","Does Iguazio support Flask FastAPI or any other framework to serve models And how do I secure the endpoints"
62875135,"Including own project code in fnproject function","https://stackoverflow.com/questions/62875135/including-own-project-code-in-fnproject-function","{python,docker,kubernetes,libraries,fn}","2020-07-13 11:43:38+03","2024-05-17 05:50:15.111606+03","I am working with Fn Project as part of Oracle Cloud Functions and I am looking to include some helper functions that I wrote myself that are currently used in a few other programs I would like to include these functions without having to copy and paste them into my source code and I feel like there is a way to do this that I have not managed to find Here is what my directory structure looks like Names have been changed to make it easier to understand Currently in example py I have the following When I write func py I write the same thing but when I run fn deploy app test_app and then fn invoke test_app myfunc it errors out on the import statement I ran the basic hello world function with from helper import foo at the top My first instinct was to put helper in the requirements txt file but that only works with pip packages How do I ensure that my own code is included Any help would be much appreciated So far my only solution has been to literally copy and paste my code into the source file which is not very maintainable "
63152445,"Discord.js - Why __.cache.get() codes didn't work and an error alert ""fn is not a function"" appeared in the Command Prompt?","https://stackoverflow.com/questions/63152445/discord-js-why-cache-get-codes-didnt-work-and-an-error-alert-fn-is-not","{javascript,node.js,discord,discord.js,fn}","2020-07-29 11:20:16+03","2024-05-17 05:50:15.980347+03","Hello there and thank you so much for your visit to the question D Here is a piece of code I have written My goals are to However none of the goals above is achieved instead in the Command Prompt this appeared Looking forward to your help to fix this problem Once again thank you for your caring Ps I am very new to Javascript and Discord bot developing so I am highly grateful if you can answer this question in the clearest and most detailed as you possibly can "
63501589,"Combination Fn::Join and Fn::Select in Cloudformation template","https://stackoverflow.com/questions/63501589/combination-fnjoin-and-fnselect-in-cloudformation-template","{amazon-web-services,aws-cloudformation-custom-resource,fn}","2020-08-20 08:54:05+03","2024-05-17 05:50:17.081293+03","How to combine FnJoin and FnSelect in Cloudformation template"
64006637,"GET method not allowed to fn applications","https://stackoverflow.com/questions/64006637/get-method-not-allowed-to-fn-applications","{oracle-cloud-infrastructure,fn}","2020-09-22 09:15:07+03","2024-05-17 05:50:18.537955+03","I am new to the Fn project have created the first app in java using fn init runtime java HelloWorldfunc and tried few other scenarios but faced an issue with GET call curl X GET httplocalhost8080invoke01EJTD2K1JNG8G00GZJ0000002 messageMethod not allowed GET invoke01EJTD2K1JNG8G00GZJ0000002 fn version 0 5 97 thanks "
64551988,"Minimise / eradicate initial FN spin up delay for OCI API GW authorisation","https://stackoverflow.com/questions/64551988/minimise-eradicate-initial-fn-spin-up-delay-for-oci-api-gw-authorisation","{api-gateway,oracle-cloud-infrastructure,fn}","2020-10-27 09:58:12+02","2024-05-17 05:50:18.896145+03","We are using an FN Function for OCI API Gateway authorisation httpsdocs cloud oracle comenusiaasContentAPIGatewayTasksapigatewayusingauthorizerfunction htm We are finding that there is a slight delay in the auth process when it has not been triggered for a while as an instance of the Function container spins up which is expected As the Oracle documentation states When the function has finished executing and after a period being idle the Docker container is removed If Oracle Functions receives another call to the same function before the container is removed the second request is routed to the same running container If Oracle Functions receives a call to a function that is currently executing inside a running container Oracle Functions scales horizontally to serve both incoming requests and a second Docker container is started httpsdocs cloud oracle comenusiaasContentFunctionsConceptsfunctionshowitworks htm We would like to minimise or ideally eradicate this initial delay for instance by keeping one instance of the Function running all the time What would be the best approach"
65294545,"FN Hello World App 8080 Connection Issues","https://stackoverflow.com/questions/65294545/fn-hello-world-app-8080-connection-issues","{fn}","2020-12-14 18:31:29+02","2024-05-17 05:50:19.438097+03","I am following the Introduction to Fn with Python Tutorial here I am on Mac Catalina 10 15 7 When I run the command fn create app pythonapp in my terminal I receive the error I tried the solution explain here but it did not fix the problem When I run fn version this is my output If I run fn start this is my output "
66080884,"Fn function terminates before timeout","https://stackoverflow.com/questions/66080884/fn-function-terminates-before-timeout","{fn}","2021-02-06 19:13:04+02","2024-05-17 05:50:20.554273+03","I have set the timeout in func yaml to 300 seconds 5 minutes but the function only runs for 2 minutes and then terminates with error code 502 There is a github issue that discusses this problem httpsgithub comfnprojectfnissues723 How do I resolve this problem Edit As an example I created a nodejs function which should respond after 270 seconds but does not due to early timeout "
69807200,"How to increase fn project function timeout beyond 300 seconds","https://stackoverflow.com/questions/69807200/how-to-increase-fn-project-function-timeout-beyond-300-seconds","{fn}","2021-11-02 08:17:43+02","2024-05-17 05:50:21.826051+03","I have a long running script that cannot be optimized API calls to an incredibly slow service It takes longer than 300 seconds but in the documentation the maximum timeout is 300 seconds httpsgithub comfnprojectdocsblobmasterfndevelopfuncfile md I tried putting a higher value but I get an error Is there anyway to set the timeout for longer than 300 seconds"
71960771,"FN Lock in Flutter","https://stackoverflow.com/questions/71960771/fn-lock-in-flutter","{flutter,dart,desktop,fn}","2022-04-21 20:55:27+03","2024-05-17 05:50:22.923924+03","I was designing an desktop application with FlutterDesktop and was wondering if there was a function or other Widget that I could use to lock the fn key Currently I have not found anyway to do so let me know if there is anything I can do Thanks "
73720224,"How to create an async function in Fn project","https://stackoverflow.com/questions/73720224/how-to-create-an-async-function-in-fn-project","{fn}","2022-09-14 16:22:23+03","2024-05-17 05:50:24.055024+03","I am trying to create a FAAS in FN using Python The problem is that I want my function to be executed asynchronously I read in the FN documentation that this is possible by adding the following code to func yaml But it did not work Apparently type async is not supported in new versions of Fn Another solution I found was using Fn Flow But this package is no longer maintained and supported based on it is github page Is there another way to make an asynchronous function in the fn project All I need is for the function to immediately return a response after being called and do its main work in another thread "
74743000,"Running FN Server on a Openshift Cluster without --privileged flag","https://stackoverflow.com/questions/74743000/running-fn-server-on-a-openshift-cluster-without-privileged-flag","{openshift,root,fn}","2022-12-09 12:13:51+02","2024-05-17 05:50:24.905286+03","We are trying to deploy FN server in an Openshift Cluster without privileged security context only enabling root mode not privileged but we are getting this error ` ` Is there any way to deploy FN server without privileged mode"
23213509,"Queuing and image processing","https://stackoverflow.com/questions/23213509/queuing-and-image-processing","{php,symfony,laravel-4,iron.io,queuing}","2014-04-22 07:43:41+03","2024-05-17 05:50:27.090011+03","Hi all I just have a quick question regarding best practacises and perhaps some help on queuing and image manipulation Im currently working on a website that allows the user to upload in excess of 10 files at one time now in my experience ive only really handled single uploads or 23 max this site allows the user to upload as many as they like and then performs image manipulation to create 3 versions of each image at different sizes My thought process and how ive implemented this goes as follows User goes to upload form and selected multiple files these are all uploaded inline when they have finished the form autosubmits The uploaded files are uploaded directly to a temporary folder in S3 this was done as there are multiple servers in the live environment with a load balancer in front of them so i was worried if I uploaded them all to the server then if i fired a queue it might go to the incorrect server and not find the files would be great if there was a nice way of doing this when the form is submitted it fires a notification to the queue on iron io with the data from the form submit which basically calls the server and starts the processing of images the code for this is below as you can see it loops through the data returned from the queue and loops through the files from here it pulls the image from S3 and stores it locally then it checks if there is a date set and works out the created date via either that or exif data then it creates the file and saves the record in the save function it performs all the resizing required my question is really does someone else have any suggestions on how i can improve this as im occasionally getting emails from the exception where its saying that it cant find a certain image like it hasnt been created locally is my method of creating the image locally using file_put_contest the one i should be using or is there a better way for me to pull the data from S3 and work with it Ive put a number of if statements in to stop things falling through the gaps etc be great to hear other peoples thoughts on where I have gone wrong here and what perhaps i could do to improve this perhaps i could store an array of files that dont exists on first loop and then try again afterwards as i was thinking that it might be a case of the the code executing before the image exists would this be the case any help would be much appreciated thanks"
46618828,"Centos: fn start : mounting none on /sys/kernel/security failed: Permission denied","https://stackoverflow.com/questions/46618828/centos-fn-start-mounting-none-on-sys-kernel-security-failed-permission-deni","{linux,docker,fn}","2017-10-07 09:48:31+03","2024-05-17 05:50:29.335178+03","After installing fn from httpsgithub comfnprojectfn I run fn start as root I get the following error any help Centos version and fn version"
46803457,"fnproject ui unable to load apps","https://stackoverflow.com/questions/46803457/fnproject-ui-unable-to-load-apps","{fn}","2017-10-18 05:38:59+03","2024-05-17 05:50:29.951138+03","Was trying to launch the fnproject ui and check for the apps deployed However in the browser it does not load the app and is stuck at loading message In the command line i see something like below Any idea what maybe causing this command line logs are as below [email protected] start app node server Using API url api8080 Server running on port 4000 GET httpapi8080v1apps params "
47871139,"Lambda vs container services?","https://stackoverflow.com/questions/47871139/lambda-vs-container-services","{serverless,fn}","2017-12-18 15:02:34+02","2024-05-17 05:50:30.894765+03","I was wondering since the fn project is based on docker We can deploy our functions as docker images but this has a handicap we will not be able to use real lambda functions offer by cloud providers since the moment we will have to use container service Even the cost will vary Am I wrong Thanks "
48527551,"Configuring nginx cache post URL API FN Serverless","https://stackoverflow.com/questions/48527551/configuring-nginx-cache-post-url-api-fn-serverless","{docker,nginx,serverless,fn}","2018-01-30 17:49:03+02","2024-05-17 05:50:31.9364+03","I am trying configure nginx to cache my api post result but not work yet Below the steps I did 1 I installed nginx 2 I create the configuration file worker_processes 1 events http 3 I started nginx cache with this configuration sudo docker run link fnserverfnserver name nginxcache p 8080 p 443443 v PWDnginx confhomevmfndockernginxnginx confro nginx My completer flow is sudo fn apps config set vivoperson COMPLETER_BASE_URL httpDOCKER_LOCALHOST8081 Without nginx my flow works well but when I attribute completer listener to port 80 I have issues too I need some help or tutorial to configure this in my fn "
50047027,"""fn run"" command giving error on MAC OS","https://stackoverflow.com/questions/50047027/fn-run-command-giving-error-on-mac-os","{fn}","2018-04-26 15:38:58+03","2024-05-17 05:50:32.95667+03","I am getting this error while using fn run command on Mac Error during build Run with verbose flag to see what went wrong eg fn verbose CMD"
50781354,"How to create a fn function via API?","https://stackoverflow.com/questions/50781354/how-to-create-a-fn-function-via-api","{fn}","2018-06-10 07:07:25+03","2024-05-17 05:50:34.042932+03","I would like to create a fn function via API In the official document There are only some endpoint for creating app routes and call any idea"
51441703,"How to change driver from Docker to Mocker","https://stackoverflow.com/questions/51441703/how-to-change-driver-from-docker-to-mocker","{fn}","2018-07-20 11:38:19+03","2024-05-17 05:50:34.835309+03","I am just kinda curious if there is a way to use the mocker driver alongside or instead of the docker one How does fn even decide which one to use if there is more than one The reason would be that if it is possible I might try to implement another real driver for another container engine So far I managed mocker to show up as a driver but still have not found out how to get fn to use that instead of docker "
51532548,"Q: Deployment options for FN Project Cluster","https://stackoverflow.com/questions/51532548/q-deployment-options-for-fn-project-cluster","{deployment,fn}","2018-07-26 06:44:25+03","2024-05-17 05:50:35.843297+03","I was fooling around with FN and so far it looks pretty need Just one thing I could not really find in the documentation concerns the deployment to a production cluster I saw that a normal function deployment would be done via fn deploy This would always deploy to localhost8080 as far as I can see But how about in a production cluster Let us say there is a running cluster on a different port How would you deploy a function to a certain cluster Does it spread manually How is this managed Thanks a lot in advance "
52234587,"node.js - Error: failed to connect to server [localhost:27017] on first connect [MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017]","https://stackoverflow.com/questions/52234587/node-js-error-failed-to-connect-to-server-localhost27017-on-first-connect","{node.js,mongodb,fn}","2018-09-08 10:53:32+03","2024-05-17 05:50:37.132168+03","I am new in nodeJS and mongodb I learned all these stuffs from YouTube I tried to create an api using node js but now I cannot even connect to the mongodb The problem is I uses Fn project runtime node and tried to connect to the mongodb but it did not work The Fn project is an opensource containernative serverless platform This is the part that I use to connect to mongodb So I run the command to start the Fn Server and I also run the command to start mongodb After everything is set I run the command to execute the code before deploying and this is the resule that I got My docker version is Docker version 18 06 1ce and Ubuntu version is Ubuntu 18 04 1 LTS In addition this is the package json and func yaml I am stuck at this error for a week and I am so lost right now "
72479831,"When would I use Spark Operator vs Spark Standalone in Iguazio?","https://stackoverflow.com/questions/72479831/when-would-i-use-spark-operator-vs-spark-standalone-in-iguazio","{python,apache-spark,pyspark,mlops,nuclio}","2022-06-02 17:02:19+03","2024-05-17 05:50:50.482328+03","I see in the services UI that I can create a Spark cluster I also see that I can use the Spark operator runtime when executing a job What is the use case for each and why would I choose one vs the other"
54497126,"Triggering the fulfillment webhook asynchronously from an intent?","https://stackoverflow.com/questions/54497126/triggering-the-fulfillment-webhook-asynchronously-from-an-intent","{dialogflow-es,google-home,fn}","2019-02-02 20:17:03+02","2024-05-17 05:50:38.078254+03","I have some intents that need to trigger the fulfillment webhook and do not care about the response The webhook takes longer than the timeout to respond so I would like the intent to simply respond with Thanks for chatting and then close the conversation while actually triggering the webhook Feels easy but I am missing something Also I am new to the dialogflow stuff I can do this in any language but heres an example in Javascript EDIT 1 Trying async When I use an async function the POST request never happens So in the following code I see in the logs the two console log outputs but nothing from the request And the request does not seem to happen either because I do not see it at my endpoint SOLUTION Thanks Prisoner for the tip Seems like I needed to return the fulfillment JSON back through the callFlow and handle functions Now Google Home does not timeout and both the HTTP call and response are generated "
55404702,"Getting CORS Issue when Connecting to Java FN from Angular UI","https://stackoverflow.com/questions/55404702/getting-cors-issue-when-connecting-to-java-fn-from-angular-ui","{angular,fn}","2019-03-28 18:36:41+02","2024-05-17 05:50:39.056875+03","I am currently trying to resolve a CORS issue that we are having when we query a database using a FN project function that is called from Angular The FN function is written in Java fnprojectfnjavafdk1 0 83 and the UI is in Angular 7 Essentially we send a JSON query to the FN function as a byte array which processes the JSON query into the appropriate query and then sends it to the database The database responds with the result of the query which passes back through the FN function to the UI with the appropriate response I tried putting the CORS headers as htxc setResponseHeader and htxc addResponseHeader I have also tried changing the func yaml to include the CORS protocols there as opposed to inside the function but this does not work In addition I tried changing the in the AccessControlAllowOrigin header to a specific URL that we were making the request from as well We have also looked at adding many different headers to AccessControlAllowHeaders in the hope that one of them would resolve the issue In the Angular 7 UI that we are making the following error appears when we open it in ChromeFirefox This is despite the AccessControlAllowOrigin response header being set in the Java code The function works properly other than this CORS error so we are fairly confident that it is something with the headers For instance the JSON response is correct Any thoughts There could potentially be something wrong with the current header approach or perhaps it could be on the Angular side as well Let me know if there is any need for clarification on the question as well "
56213100,"IllegalAccessError when trying to instantiate Log4j2 Logger in Java Fn Project","https://stackoverflow.com/questions/56213100/illegalaccesserror-when-trying-to-instantiate-log4j2-logger-in-java-fn-project","{java,log4j2,fn}","2019-05-20 00:33:09+03","2024-05-17 05:50:40.175516+03","I have a Java class that is the entry point for my Fn Function within an Fn Application using FDK 1 0 95 that instantiates a Log4j2 Logger I have a testing class that tests a handle method within MyClass that is very basic looks something like this I am using log4j2 version 2 11 2 in my pom xml When running the test in my IntelliJ IDE it runs without any issues instantiating the logger but when I run fn verbose deploy createapp all local in the root of the Fn Application to build and deploy all of the Fn Functions grouped in this application I get the following stack trace I have tried different versions of both Log4j2 and FDK to no avail "
11056243,"How do I connect to a database in IronWorker using ActiveRecord?","https://stackoverflow.com/questions/11056243/how-do-i-connect-to-a-database-in-ironworker-using-activerecord","{ironworker,iron.io}","2012-06-15 18:26:30+03","2024-05-17 05:50:41.263062+03","I have a Rails application that is using IronWorker and I need to connect to my database from the worker How do I do that"
11803497,"On IronWorker, how can I remote build all the gems in a Gemfile?","https://stackoverflow.com/questions/11803497/on-ironworker-how-can-i-remote-build-all-the-gems-in-a-gemfile","{ironworker,iron.io}","2012-08-03 21:24:02+03","2024-05-17 05:50:41.756282+03","Here is my Gemfile The remote_build_command bundle install standalone installs the gems but they do not seem to load properly "
46449999,"How do you update the fn project server from the CLI?","https://stackoverflow.com/questions/46449999/how-do-you-update-the-fn-project-server-from-the-cli","{docker,fn}","2017-09-27 14:05:20+03","2024-05-17 05:50:43.420427+03","Docker caches the latest version on my machine I know I can do docker pull on it but is there a way to do it via the command line tool"
46552899,"permissions warnings for fn start from https://github.com/fnproject/fn","https://stackoverflow.com/questions/46552899/permissions-warnings-for-fn-start-from-https-github-com-fnproject-fn","{fn}","2017-10-03 20:28:00+03","2024-05-17 05:50:44.26128+03","Are these permission warnings fixable when starting Fn github project locally on my Docker in Docker dind instance following the directions on the github project httpsgithub comfnprojectfn I installed via brew on a mac fn start mount permission denied are you root Could not mount syskernelsecurity AppArmor detection and privileged mode might break mount permission denied are you root time20171002T235410Z levelinfo msgdatastore dialed datastoresqlite3 max_idle_connections256 time20171002T235410Z levelinfo msgno docker auths from config files found this is fine erroropen root dockercfg no such file or directory time20171002T235410Z levelinfo msgavailable memory ram7916183552 time20171002T235410Z levelinfo msgServing Functions API on address 8080 "
72408785,"What are the different runtimes in MLRun?","https://stackoverflow.com/questions/72408785/what-are-the-different-runtimes-in-mlrun","{python,mlops,nuclio,mlrun}","2022-05-27 16:59:03+03","2024-05-17 05:50:45.380946+03","I am trying to get a feel for how MLRun executes my Python code What different runtimes are supported and why would I use one vs the other"
72410519,"After creating a Jupyter service in Iguazio, I'm getting an error that mlrun is not installed","https://stackoverflow.com/questions/72410519/after-creating-a-jupyter-service-in-iguazio-im-getting-an-error-that-mlrun-is","{python,nuclio,mlrun}","2022-05-27 20:01:58+03","2024-05-17 05:50:46.349794+03","I created a Jupyter service in the Iguazio UI opened it and tried to run one of the preloaded demos I am getting an error saying that mlrun is not installed"
72454565,"How can I develop locally when using Iguazio platform?","https://stackoverflow.com/questions/72454565/how-can-i-develop-locally-when-using-iguazio-platform","{python,mlops,nuclio,mlrun}","2022-05-31 22:09:34+03","2024-05-17 05:50:47.445089+03","I want to be able to test my jobs and code on my local machine before executing on a remote cluster Ideally this will not require a lot of setup on my end Is this possible"
72480662,"How do I re-run specific experiments in Iguazio?","https://stackoverflow.com/questions/72480662/how-do-i-re-run-specific-experiments-in-iguazio","{mlops,nuclio}","2022-06-02 18:14:17+03","2024-05-17 05:50:51.537731+03","I have a job that I ran in Iguazio a few weeks ago and I want to rerun that exact same job same inputs params etc Is there any easy way to do that without submitting code or using schedulers"
72718114,"Where are my monitoring metrics in Iguazio?","https://stackoverflow.com/questions/72718114/where-are-my-monitoring-metrics-in-iguazio","{monitoring,mlops,nuclio,mlrun}","2022-06-22 15:21:13+03","2024-05-17 05:50:58.035652+03","Iguazio is supposed to be monitoring models and also resource metrics across the cluster like resource usage per pod service etc When I open up the grafana service I only see a few prebuilt dashboards for model monitoring and nuclio functions but nothing at the cluster level Do I have to create my own dashboards for this"
40778192,"Nuclio - ""/bin"" is not a valid file","https://stackoverflow.com/questions/40778192/nuclio-bin-is-not-a-valid-file","{nuclio}","2016-11-24 04:43:26+02","2024-05-17 05:50:59.059345+03","When I try to run Nuclio I receive the following error nuclio\plugin\fileSystem\reader\FileReaderException bin is not a valid file This is a new installation with a custom application I moved the application into a folder named private What should I do to fix the problem"
41391859,"Session and Auth in Nuclio. How to use it in proper way?","https://stackoverflow.com/questions/41391859/session-and-auth-in-nuclio-how-to-use-it-in-proper-way","{nuclio}","2016-12-30 06:44:06+02","2024-05-17 05:50:59.789666+03","When i try to called AuthgetInstance authenticate emailpassword for authenticate in login controller i called AuthgetInstance isAuthenticated and get result bool true Then i go redirect to another page AuthgetInstance isAuthenticated give bool false After i use this authentication how can i get the session is already bool true at any page after that until i am AuthgetInstance unauthenticate that session or make it global for the session Currently i am using session database Problem How to authenticate the current user after redirect to another page"
57514959,"Kubernetes - when should I consider use serverless on Kubernetes or regular service docker","https://stackoverflow.com/questions/57514959/kubernetes-when-should-i-consider-use-serverless-on-kubernetes-or-regular-serv","{kubernetes,nuclio}","2019-08-15 19:12:47+03","2024-05-17 05:51:00.765183+03","More of a general question Assume all my tech stack has to be on K8S for example cloud vendor agnostic When should I use serverless on top of K8S e g nuclio kubeless and when to keep service as docker I ask this because the autoscaling I get for free for both of them so I wonder when I should use another framework To simplify assume everything is stateless no sessions"
67632707,"helm install nuclio on kubernetes","https://stackoverflow.com/questions/67632707/helm-install-nuclio-on-kubernetes","{kubernetes,kubernetes-helm,nuclio}","2021-05-21 07:45:41+03","2024-05-17 05:51:01.835108+03","I am trying to install nuclio on k8s cluster but still have this error Any help please Thanks in advance"
68288214,"How do I deploy a Nuclio function with MLRun? [closed]","https://stackoverflow.com/questions/68288214/how-do-i-deploy-a-nuclio-function-with-mlrun","{nuclio}","2021-07-07 14:45:37+03","2024-05-17 05:51:02.875976+03","Want to improve this question Add details and clarify the problem by editing this post Closed 2 years ago I need an example of deploying a Nuclio function using MLRun "
68309305,"how to use get_offline_features() in the mlrun.feature_store?","https://stackoverflow.com/questions/68309305/how-to-use-get-offline-features-in-the-mlrun-feature-store","{nuclio,mlrun}","2021-07-08 22:32:15+03","2024-05-17 05:51:03.779502+03","I am trying to get a feature from an existing feature store In the documentation httpsdocs mlrun orgenlatestapimlrun feature_store html it says you can either pass a feature vector uri or FeatureVector object to the mlrun feature_store get_offline_features What is the uri for a feature store Where can I find an example"
68382785,"What is the difference between mlrun.code_to_function and mlrun.new_project?","https://stackoverflow.com/questions/68382785/what-is-the-difference-between-mlrun-code-to-function-and-mlrun-new-project","{nuclio,mlrun}","2021-07-14 17:37:26+03","2024-05-17 05:51:04.751579+03","What is the difference between mlrun code_to_function and mlrun new_project For example we can deploy a function with code_to_function or we can deploy a function with mlrun project set_function In which case I should use code_to_function or set_function "
68446927,"CVAT call to nuclio function for detector times out after 60 seconds","https://stackoverflow.com/questions/68446927/cvat-call-to-nuclio-function-for-detector-times-out-after-60-seconds","{deep-learning,annotations,nuclio}","2021-07-19 20:55:28+03","2024-05-17 05:51:05.80757+03","As in the title I have created my custom detector which takes a bit of time It seems if it runs longer than 60 seconds it times out 504 gateway timeout Otherwise it runs through Calling the nuclio function with curl directly seems to work without timeout Is there some setting to increase the timeout limit Could not find anything maybe some of you smart people knows"
68869992,"How do use Nuclio to read events from Azure Service Bus?","https://stackoverflow.com/questions/68869992/how-do-use-nuclio-to-read-events-from-azure-service-bus","{azure,azureservicebus,nuclio}","2021-08-21 03:53:18+03","2024-05-17 05:51:07.291766+03","I would like to directly read messages from Azure Service Bus with Nuclio using the Python runtime Does anyone have experience with this I am assuming I need to create the ServiceBusClient inside of an init_context function but the examples from azure show that occurring within it is own context manager like so I am assuming best practice would be to create the ServiceBusClient inside of init_context then call setattr context user_data my_servicebus my_servicebus from_connection_string Anyone have experience with this"
72393620,"Can I use an Active Directory to manage the users and groups in Iguazio platform?","https://stackoverflow.com/questions/72393620/can-i-use-an-active-directory-to-manage-the-users-and-groups-in-iguazio-platform","{mlops,nuclio}","2022-05-26 14:40:28+03","2024-05-17 05:51:08.68937+03","How can I use an active directory to manage the users and groups in the Iguazio platform I cannot find the location to configure Active Directory "
72408377,"How do I set Dask autoscaling using Iguazio?","https://stackoverflow.com/questions/72408377/how-do-i-set-dask-autoscaling-using-iguazio","{dask,mlops,nuclio,mlrun}","2022-05-27 16:22:55+03","2024-05-17 05:51:09.793028+03","I need to create a new Dask cluster in Iguazio I want to take advantage of Dasks autoscaling features that are described here httpsdocs dask orgenstablehowtoadaptive html Does Iguazio support Dask cluster autoscaling and if so how do I enable that"
72746425,"How do I use secrets in Iguazio?","https://stackoverflow.com/questions/72746425/how-do-i-use-secrets-in-iguazio","{security,mlops,nuclio}","2022-06-24 15:40:35+03","2024-05-17 05:51:10.487522+03","How do I define secrets in Iguazio Are they clusterwide or just at the project level Once the secret is defined how do I use it in my jobs What about distributed jobs that have many podsworkers like Spark and Dask can I use secrets with those types of frameworks Thanks "
76893925,"issue with igztop, show mlrun/nuclio function for k8s pods","https://stackoverflow.com/questions/76893925/issue-with-igztop-show-mlrun-nuclio-function-for-k8s-pods","{command-line,mlrun,nuclio,igztop}","2023-08-13 15:02:03+03","2024-05-17 05:51:49.15297+03","Issue How can I show addition mlrun parameters such as name of mlrunnuclio function for k8s pods from igztop It is not a problem to show for pod name also mlrun project name and owner name I used igztop version 0 1 3 with this command igztop w and I got the output Thanks for experience sharing "
12777865,"Create a user in IronMQ via API","https://stackoverflow.com/questions/12777865/create-a-user-in-ironmq-via-api","{java,iron.io,ironmq}","2012-10-08 08:25:51+03","2024-05-17 05:51:11.480504+03","I am trying to set up a message queue service for an application I am developing I already tried AWS SQS but it does not really fit for our needs mainly for the issues with the FIFO and the limited message persistence So I turned to IronMQ to see how this could work but I am already having issues with the creation of users via java APIs There is no class dedicated and it seems nobody cares about that Does anybody know anything about how to do that Do I have to write my own APIs EDIT as manveru pointed out I am talking about tokens not users Another issue is about setting other permissions than Admin but I guess I will confront it later "
13285901,"How to bundle Python dependancies in IronWorker?","https://stackoverflow.com/questions/13285901/how-to-bundle-python-dependancies-in-ironworker","{python,iron.io}","2012-11-08 09:14:31+02","2024-05-17 05:51:12.393725+03","I am writing a simple IronWorker in Python to do some work with the AWS API To do so I want to use the boto library which is distributed via PyPi repository The boto library is not installed by default in the IronWorker runtime environment How can I bundle the boto library dependancy with my IronWorker code Ideally I am hoping I can use something like the gem dependancy bundling available for Ruby IronWorkers i e in myRuby worker specify In the Python Loggly sample I see that the hoover library is used However I cannot see wherehow you specify which hoover library version you want or where to download it from What is the officialcorrect way to use 3rd party libraries in Python IronWorkers"
13305823,"How to bundle local gem dependancies in IronWorker","https://stackoverflow.com/questions/13305823/how-to-bundle-local-gem-dependancies-in-ironworker","{ruby,ironworker,iron.io}","2012-11-09 09:59:33+02","2024-05-17 05:51:13.523509+03","I have a Ruby IronWorker which depends on a private gem that is not published to RubyGems Is there a way to merge this local mygemname0 0 1 gem into my IronWorker in the worker file I am hoping to be able to specify something the following in myruby worker Currently this give the following error Hoping for defaults gives Gives the following error Am I on the right track trying to get this to work via the worker file Or should I be looking into specifying a custom build step"
13305866,"Inheritance within iron workers when using the iron_worker_ruby gem","https://stackoverflow.com/questions/13305866/inheritance-within-iron-workers-when-using-the-iron-worker-ruby-gem","{ruby,ironworker,iron.io,iron}","2012-11-09 10:01:25+02","2024-05-17 05:51:14.632697+03","I am considering using IronWorker a project so that I can scale it easily high traffic expected with lots of background jobs In order to stay DRY I am trying to define workers using inheritance but I keep getting the following error Here is the base worker class And here is a child class Any idea on how to fix this"
13445796,"cloudControl addons as separate services [closed]","https://stackoverflow.com/questions/13445796/cloudcontrol-addons-as-separate-services","{amazon-web-services,paas,cloudant,iron.io,cloudcontrol}","2012-11-18 23:38:55+02","2024-05-17 05:51:15.552656+03","Want to improve this question Update the question so it is ontopic for Stack Overflow Closed 11 years ago I am based in Europe and am considering using cloudControl as my cloud hosting platform On the addons front I would like to use IronWorker IronMQ and Cloudant Because of differences in usage metering my preference would be to subscribe to Iron io and Cloudant directly rather than as Addons providing that I can connect cloudControl the Iron io services and Cloudant together properly I imagine that there will not be any administrative obstacle to this i e all these platforms will allow connecting one to the other if I purchase them separately and not as cloudControl addons Is this correct I am a bit confused though about the data centres that these different services use as addons or as separates I fear loosing data centre locality if I subscribe to these services as separates In particular I understand cloudControl is hosted at AWS in Dublin Cloudants European data centre is SoftLayer in Amsterdam Is the Cloudant addon for cloudControl hosted there or is it deployed at AWS in Dublin especially for cloudControl Am I going to lose out if I subscribe to Cloudant in Amsterdam What are Iron ios data centre locations I know that they are at AWS and Rackspace but without further details I imagine that they are in the US Again are the addons for cloudControl hosted at AWS in Dublin especially for cloudControl Can I subscribe to Iron io and ask to have my workers and queues hosted in Dublin Or else somewhere close to Cloudants datacentre Eventually is purchasing these services as separate a viable option Many thanks "
13491897,"How to require ''pg"" gem on iron.io with iron_worker","https://stackoverflow.com/questions/13491897/how-to-require-pg-gem-on-iron-io-with-iron-worker","{ruby-on-rails,ruby,ironworker,iron.io}","2012-11-21 11:05:30+02","2024-05-17 05:51:16.558455+03"," worker file rb file I have uploaded code to iron worker but i got following output and after i queue task on iron io i got error how to require pg gem on iron io "
13630393,"Atomic updates to IronCache","https://stackoverflow.com/questions/13630393/atomic-updates-to-ironcache","{memcached,mq,iron.io,iron}","2012-11-29 16:35:44+02","2024-05-17 05:51:17.681846+03","I saw that you can atomically increment a value in IronCache but what if you have many IronWorkers trying to put a value into a single cache key Would it be better to put those value updates on a Message Queue in order to synchronize updates to the cache or is there another idiomatic way"
14006544,"Obtaining output of Iron.io worker with PhantomJs","https://stackoverflow.com/questions/14006544/obtaining-output-of-iron-io-worker-with-phantomjs","{phantomjs,iron.io}","2012-12-22 21:00:34+02","2024-05-17 05:51:18.758423+03","I am writing this application that uses some information from a website and I am using PhantomJs to extract this information Now I want the user to be able to run my application without the need of PhantomJs in their system That way it will be more like a service call I have followed the following guide httpariya ofilabs com201207cloudphantomjswithironworker html To get PhantomJs working and getting the information that I need for some site now I can queue a worker and get the result in the log using Iron ios web interface I would like to know if there is a way to get the result of the execution programmatically I have taken a look at the API but I need to authenticate and I also need to provide a different task ID which I do not know how to get "
14124086,"Heroku Iron.io worker vs cron vs worker dyno","https://stackoverflow.com/questions/14124086/heroku-iron-io-worker-vs-cron-vs-worker-dyno","{heroku,cron,iron.io}","2013-01-02 14:50:51+02","2024-05-17 05:51:20.360114+03","My understanding is that Heroku charges Cron tasks based on the actual amount of time the task runs using a dyno based on httpsdevcenter heroku comarticlesschedulerdynohourcosts So if I need a quick task to run every X minutes I could use the cron addon to process it instead of a worker dyno and I would be charged a fraction of the cost So if everything above is true what is the use of the Iron io workers They charge about the same as dynos from the cron jobs and they cannot connect to the DB I have a feeling that I am missing something "
14615046,"Using Hugin and libpano13 in an iron.io worker","https://stackoverflow.com/questions/14615046/using-hugin-and-libpano13-in-an-iron-io-worker","{iron.io,ironworker}","2013-01-30 22:25:22+02","2024-05-17 05:51:22.037104+03","I would like to use an iron io worker to stich panoramas and create HDRs using the OpenSource Hugin and libpano13 toolkits The programs needed are all commandline no GUI is needed but I am not entirely sure how I go about building a worker that includes the correct binaries for using the Hugin panotools Can I precompile the right binaries for the iron io worker OS Ubuntu Linux I can create a VM and install Ubuntu on it to get a set of binaries built that I include in my worker But is there a better way using the build directive in the worker file The problem I see right away is that Hugin is a cmakebased build so I would need to create something that uses autoconfautomake right I do not really need all of Hugin either I just need the control point finder utility and the enfuseenblend utilities for doing the actual stitching I do not need any of the GUI stuff which is wxWidgets based Can anyone shed light on how I would go about this Thanks "
17382019,"IronMQ push queue sending unknown HTTP requests","https://stackoverflow.com/questions/17382019/ironmq-push-queue-sending-unknown-http-requests","{apache,iron.io,ironmq}","2013-06-29 15:58:53+03","2024-05-17 05:51:23.158386+03","I setup my push queue endpoint as POST iron which works fine But I am getting a bunch of other requests too Are these from Iron io What is the point of them They are just filling up my Apache log My server is returning 500 errors for all of them 500 instead of 404 in development mode POST webhooks POST orderswebhook POST apiorderswebhook Edit I looked into it using multicast and noticed only my first server was getting these weird requests They seem to be totally unrelated to iron io I guess it is just coincidence they are webhook requests and I just noticed them now Probably someone put my server as an endpoint for their webhooks _"
17607616,"Debugging mail delivery in IronWorker","https://stackoverflow.com/questions/17607616/debugging-mail-delivery-in-ironworker","{ruby,iron.io}","2013-07-12 04:48:16+03","2024-05-17 05:51:24.038446+03","I am trying to use the mail gem to send an email from an IronWorker task Running the script works on my local system OS X but fails when run on IronWorker with the same parameters I am new to IronWorker and the mail gem so I am at a loss of where to start debugging Heres the text of the error message And heres my code Note that I was getting this error before locally but it was caused by using username in the defaults instead of user_name Any ideas"
18449084,"Permission denied when run casperjs in iron.io","https://stackoverflow.com/questions/18449084/permission-denied-when-run-casperjs-in-iron-io","{javascript,phantomjs,casperjs,iron.io,ironworker}","2013-08-26 16:53:08+03","2024-05-17 05:51:25.138085+03","I am testing casperjs in iron io as this example httpsgithub comironioiron_worker_examplesblobmasterbinarycasperjsgooglelinks js but when iron_worker complete this task it gives an error message run sh 2 run sh casperjsbincasperjs Permission denied Any idea on how to fix this Thanks"
18511223,"Showing Output of request from a message queue","https://stackoverflow.com/questions/18511223/showing-output-of-request-from-a-message-queue","{php,laravel-4,message-queue,amazon-sqs,iron.io}","2013-08-29 12:37:43+03","2024-05-17 05:51:26.207348+03","I am developing an application where I am using messaging queue The workflow is as shown below user submits a request request goes to the queue process the task show output to the user I am currently using Iron MQ and possibly Amazon SQS depends on the performance with Laravel PHP I have been able to send the message to the queue but not able to display the output to the user Am I missing something here Do I need to write the output to the databasefile then poll it continuously and then show the output to the user Any help will be much appreciated PS Here the output is user specific and depends on the input So every user will have unique output "
18727938,"Best way to get status when Iron.io task is completed using Laravel 4 queues","https://stackoverflow.com/questions/18727938/best-way-to-get-status-when-iron-io-task-is-completed-using-laravel-4-queues","{queue,laravel,laravel-4,message-queue,iron.io}","2013-09-10 20:12:42+03","2024-05-17 05:51:26.87139+03","I am going to use Laravel 4 queues and integrate them with Iron io All of that is pretty straight forward and I dont think I am going to have problems with that Thing that interests me is what is the best way to get status once task is completed Iron io is going to do return call to my server to trigger job and once that job completes I need to notify user about that How could I store this responses and still be aware of job its related to because there will be number of different job types I would like to hear how did you implement this Thanks"
18863893,"how can I send an email from an IronWorker for a rails3 app?","https://stackoverflow.com/questions/18863893/how-can-i-send-an-email-from-an-ironworker-for-a-rails3-app","{ruby-on-rails-3,actionmailer,iron.io,ironworker,iron}","2013-09-18 04:32:47+03","2024-05-17 05:51:27.429505+03","I followed all the docs for IronWorkerNGClient new and rails httpsgithub comironioiron_worker_rails_example My worker file is doing and my ruby file does But everytime I get this error and ResultMailer DOES have an email method any idea why action_mailer base line 433 is throwing that error I can call ResultMailer email deliver from the console on my local system just fine This error is on production with heroku and iron io "
19101281,"How to run shell scripts on IronWorker?","https://stackoverflow.com/questions/19101281/how-to-run-shell-scripts-on-ironworker","{iron.io,ironworker}","2013-09-30 18:32:58+03","2024-05-17 05:51:28.126314+03","How do I run shell scripts on IronWorker It would only perform a simple Curl inside the worker "
19262461,"What is the recommended way of storing db connection strings in an IronWorker","https://stackoverflow.com/questions/19262461/what-is-the-recommended-way-of-storing-db-connection-strings-in-an-ironworker","{ruby-on-rails,iron.io,ironworker}","2013-10-09 03:16:21+03","2024-05-17 05:51:28.7436+03","It is common practice on Heroku to have environment variables hold sensitive credentials so that one does not need to check in a passsword file into git Is there something similar for IronWorkers How should one go about passing db connection strings to an IronWorker that has to connect to a database Ideally I would like to avoid having usernames and passwords in database yml eg heroku config HEROKU_POSTGRESQL_CYAN_URL postgresmmuxxxxxxxnhzpX0JdWLxxxcJQ4ffO0xTjO6scJr 2323214251 compute1 amazonaws com5432de11tlh7iq999x heroku configset SOMEVARsomevalue SOMEVARsomevalue Any help would be appreciated Thanks Dimitri"
19277327,"When will IronWorkers support Ruby 2.0?","https://stackoverflow.com/questions/19277327/when-will-ironworkers-support-ruby-2-0","{iron.io,ironworker}","2013-10-09 16:14:50+03","2024-05-17 05:51:29.707931+03","The default language version for ruby on IronWorkers is 1 9 3 When will it be bumped to 2 0 httpdev iron ioworkerreferenceenvironmentdefault_languages_versions Is there an easy way to upgrade to ruby 2 0 without too much delay when launching a task Thanks Dimitri"
19331325,"Can't access queue from IronWorker with .NET","https://stackoverflow.com/questions/19331325/cant-access-queue-from-ironworker-with-net","{iron.io,ironmq}","2013-10-12 06:35:07+03","2024-05-17 05:51:30.825655+03","I just started experimenting with Iron io using NET and IronTools I am able to Push and Get a message to a queue from a desktop app just fine Now I want to create a worker to Get a message from a queue process it and Push it to another queue The worker is failing with the following error in the log Unhandled Exception System Net WebException Error getting response stream Write The authentication or decryption has failed SendFailure System IO IOException The authentication or decryption has failed Mono Security Protocol Tls TlsException Invalid certificate received from server Error code 0xffffffff800b0109 at Mono Security Protocol Tls Handshake Client TlsServerCertificate validateCertificates Mono Security X509 X509CertificateCollection certificates [0x00000] in 0 at Mono Security Protocol Tls Handshake Client TlsServerCertificate ProcessAsTls1 [0x00000] in 0 at Mono Security Protocol Tls Handshake HandshakeMessage Process [0x00000] in 0 at wrapper remotinginvokewithcheck Mono Security Protocol Tls Handshake HandshakeMessageProcess at Mono Security Protocol Tls ClientRecordProtocol ProcessHandshakeMessage Mono Security Protocol Tls TlsStream handMsg [0x00000] in 0 at Mono Security Protocol Tls RecordProtocol InternalReceiveRecordCallback IAsyncResult asyncResult [0x00000] in 0 Heres the code Actual project ID and token have been removed from the code above What am I missing Edit I failed to mention that the first 2 WriteLines succeed but it never gets to the 3rd WriteLine "
19412410,".worker file with `gemfile ""Gemfile"", ""group""` increases remote build time x10","https://stackoverflow.com/questions/19412410/worker-file-with-gemfile-gemfile-group-increases-remote-build-time-x10","{iron.io,ironworker}","2013-10-16 19:47:08+03","2024-05-17 05:51:31.325258+03","To better manage the required gems across my application I created a Gemfile group called iron This would help consolidate the required gems for iron worker My worker file is now as follows instead of redundantly listing all the gems individually Unfortunately this increased my remote build time from 1 minute to 10 minutes The output attempts to include far more gems seemingly bubbling up nested dependencies BEFORE AFTER This output was local but the time stretched out even more on the IronWorker service because it reinstalls gems more than once uninstall then reinstalls bundler The log below has the details httpshud iron iotqprojects5254773dd05880000d000003tasks525ee1d9f8953468b927e83flog We have since gone back to a worker file that simply lists out the gems we need rather than invoke gemfile Gemfile iron Any help on how to use gemfile without reinstalling bundler and have a 10m upload time would be much appreciated Thanks Edit Adding full Gemfile Please note that we have no desire to pull in all the gems on the default group That is overkill for our workers We just want iron grouped Gemfile"
19506130,"Create many IronWorker tasks in one API call","https://stackoverflow.com/questions/19506130/create-many-ironworker-tasks-in-one-api-call","{iron.io,ironworker}","2013-10-21 22:42:37+03","2024-05-17 05:51:32.130466+03","Right now the iron_worker_ruby_ng gem allows one to create tasks one at a time ironworker client tasks create MyWorker client Joe Some scenarios require the creation of thousands of tasks In this instance it would be faster and more efficient if one could create many jobs at once I have forked the gem and made the changes but unfortunately the service endpoint returns 400 Is there any way to do this If not any chance this could be a feature Thanks Dimitri"
19631129,"PHP exec() not working properly but working in SSH IronWorker","https://stackoverflow.com/questions/19631129/php-exec-not-working-properly-but-working-in-ssh-ironworker","{php,ruby,debian,exec,iron.io}","2013-10-28 09:27:29+02","2024-05-17 05:51:33.202265+03","I have a strange problem with a php exec command I am trying to run a perticular gem called iron worker This is the command i am trying to run but unfornunately it does not upload the code to the service it only displays On the contrary when i run the command with SSH it works fine the file is found and the code is uploaded If i do a print_r output httppastebin com4SLDqQyX What could be the problem The php exec command only stops at the beggining and does not continue Thank you "
20288202,"Data array not send in email view","https://stackoverflow.com/questions/20288202/data-array-not-send-in-email-view","{laravel,laravel-4,swiftmailer,iron.io}","2013-11-29 14:42:41+02","2024-05-17 05:51:34.009269+03","I am sending emails with Laravel 4 The message is queued with Iron io The email is sent to the recipient but the data array is not passed to the email view I got this error on my log file It worked fine until I configure my queue Any idea Codes views blade template "
20693415,"Best way to reliably add a message using Iron.io in Ruby on Rails","https://stackoverflow.com/questions/20693415/best-way-to-reliably-add-a-message-using-iron-io-in-ruby-on-rails","{ruby-on-rails,ruby-on-rails-3,iron.io}","2013-12-19 23:04:43+02","2024-05-17 05:51:34.925604+03","I am using Iron io for our messaging platform It works great once everything is pushed to their servers However sometimes very rare we get issues adding a message to the queue Usually it is a 400 error probably due to some weird web timing issue What is the best way to guarantee the message will get put on their Queue Code is attached failure happens in the message_queue post "
21709724,"Use IronWorkers while using my work","https://stackoverflow.com/questions/21709724/use-ironworkers-while-using-my-work","{yii,cron,amazon-elastic-beanstalk,iron.io,ironworker}","2014-02-11 18:09:59+02","2024-05-17 05:51:35.666735+03","My website is hosted on AWS Elastic Beanstalk PHP I use Yii Framework as an MVC A while ago I wanted to run a SQL query everyday I looked up how to run crons on Beanstalk and it seemed complicated to merge the concepts of Cloud and Cron I ran into Iron Worker httpwww iron ioworker and managed to create a worker that is currently doing its job fine Today I want to run a more complex cron Look for notifications in my database decide whether to send an email build an email template and send the email via AWS SES From what I understand worker files are supposed to be selfcontained items with everything they need to work However I have invested a lot of time and effort in building my MVC I have complex models verifications an email templating engine etc It seems very difficult to use the work I have done to create an Iron Worker Even if I managed to port all of my code to a worker which seems like a great deal of work it means anytime I make changes to my main code I need to make sure the worker also has those changes It means I would have a branch of my code Even more so if I want to create more workers in the future What is the correct approach"
21801705,"How to clear Laravel Queue using iron.io","https://stackoverflow.com/questions/21801705/how-to-clear-laravel-queue-using-iron-io","{laravel-4,queue,iron.io}","2014-02-15 18:22:07+02","2024-05-17 05:51:36.724258+03","I am working on TeamSpeak management system based on Laravel 4 the problem is when i restart the script it add the queue again unless i restart the Queue listener is there a way to clear the old Queue on script startup without the need to restart the queuelisten am using Iron io service as a queue engine Thanks in advance EDIT Thanks to thousandsofthem it works with Laravel like this"
22148917,"pip ""pyrax"" dependency with iron worker","https://stackoverflow.com/questions/22148917/pip-pyrax-dependency-with-iron-worker","{python,pip,rackspace,iron.io,pyrax}","2014-03-03 14:10:16+02","2024-05-17 05:51:37.374241+03","I created a Python script to use Rackspaces API Pyrax to handle some image processing It works perfect locally but when I upload it to Iron io worker it builds but does not import I am using a Windows 8 pc but my boss runs OS X and uploading the exact worker package it works fine So I am thinking it is something with Windows 8 but I do not know how to checkfix I do apologize in advance if I ramble or do not explain things clearly enough but any help would be greatly appreciated My worker file looks like this runtime python exec rackspace py pip pyrax full_remote_build true Then I simply import pyrax in my python file "
22175721,"Laravel 4.1 + Push Queues + Error Queues","https://stackoverflow.com/questions/22175721/laravel-4-1-push-queues-error-queues","{laravel-4,iron.io,push-queue}","2014-03-04 15:12:06+02","2024-05-17 05:51:38.183516+03","My goal is to somehow notify me if a push message fails after X attempts Iron io push queues docs describe Error Queues httpdev iron iomqreferencepush_queueserror_queues Following the docs I have to define an error_queue option in order to failed messages trigger a message in the specified error_queue option How can I define an option if push method in IronQueue php does not support option argument I see that pushRaw does support option argument How can I transform the following push example into a pushRaw Other ways of detecting push queues fails are also welcome "
56673536,"Cloudformation:: Condition to the ManagedPolicyArns based on the Environment","https://stackoverflow.com/questions/56673536/cloudformation-condition-to-the-managedpolicyarns-based-on-the-environment","{if-statement,aws-cloudformation,fn}","2019-06-19 18:08:22+03","2024-05-17 05:51:39.545501+03","I am trying to add a condition to the ManagedPolicyArns based on the environment it has to run a specify policy Heres my code Getting the following error ValidateTemplate operation Template error FnIf requires a list argument with three elements"
58648933,"How to retrieve request date + timestamp in an Fn function","https://stackoverflow.com/questions/58648933/how-to-retrieve-request-date-timestamp-in-an-fn-function","{fn}","2019-10-31 17:57:50+02","2024-05-17 05:51:40.106188+03","is there a way to obtain the date and timestamp when the request is received by Fn server before triggering the mapped function It appears that HTTPGatewayContext getInvocationContext getRequestHeaders contain an attribute FnDeadline which seems to be request received or start of function trigger date and timestamp timeout I am hoping there is a simple way to obtain the date and timestamp when the request is received by Fn that I may have missed "
73339159,"Nuclio Streaming Contents Support? (Docker setup - Python)","https://stackoverflow.com/questions/73339159/nuclio-streaming-contents-support-docker-setup-python","{python,docker,nuclio}","2022-08-12 19:52:57+03","2024-05-17 05:51:41.132769+03","Is there support for streaming back a response in Nuclio The workflow I am trying to achieve is to have the UI request a large file from a Nuclio function running inside a docker container and having it stream back the large file For example this is how Flask supports streaming contents httpsflask palletsprojects comen2 2 xpatternsstreaming I cannot seem to find anywhere that mentions how to have Nuclio stream back large datafile I do see they mention some stuff about stream triggers but I do not know if thatll help with streaming back the response httpsnuclio iodocslatestconceptsarchitecture httpsnuclio iodocslatestreferencetriggers If there is no support would my best bet be to stream the data to some 3rd party platform and have the UI download the datafile from there"
74700311,"function serving deployment failed","https://stackoverflow.com/questions/74700311/function-serving-deployment-failed","{python,docker,docker-compose,nuclio,mlrun}","2022-12-06 09:42:05+02","2024-05-17 05:51:42.191157+03","Here I am attaching actual error showed im using mlrun with docker specifically mlrun 1 2 0 I do not have any idea what is the reason behind this error as I am new bee here so someone pls help me to resolve this error "
75151612,"Facing Error while deploy the serving function in mlrun","https://stackoverflow.com/questions/75151612/facing-error-while-deploy-the-serving-function-in-mlrun","{mlrun,nuclio}","2023-01-17 19:53:51+02","2024-05-17 05:51:43.126524+03","I had instal mlrun with kubernates i had tried the to execute the 02model training tutorial code in jupyterlab so everything works fine till model serving then i tried to deploy the serving function then it shows as error listed bellow Failed to deploy Details error in nuclio please help me regarding this"
76546895,"Function cannot be deleted as it is being provisioned","https://stackoverflow.com/questions/76546895/function-cannot-be-deleted-as-it-is-being-provisioned","{serverless,nuclio}","2023-06-24 16:02:27+03","2024-05-17 05:51:44.013039+03","I am trying to deploy a serverless function with nuclio but for some reason it failed to build Now when I do nuctl get function It just states that the function is in build state How can I delete it P s I am trying the SAM integration with CVAT by running the deploy_cpu sh pytorchfacebookresearchsamnuclio I tried looking up ways to force delete the function but there is no such thing"
76648444,"MLRun, Issue with memory request setup (1B) for nuclio function","https://stackoverflow.com/questions/76648444/mlrun-issue-with-memory-request-setup-1b-for-nuclio-function","{python,mlrun,nuclio}","2023-07-09 16:26:13+03","2024-05-17 05:51:45.108347+03","I have issue with memory request setup for nuclio function current memory request has value 1B see info in Grafana I used this code Did you have similar issue"
76653956,"MLRun, Issue with slow response times","https://stackoverflow.com/questions/76653956/mlrun-issue-with-slow-response-times","{python,mlrun,nuclio}","2023-07-10 12:54:39+03","2024-05-17 05:51:45.570659+03","I see higher throughput and long average response delay waiting for worker in range 2050 seconds see outputs from grafana I know that part of optimization can be I tuned performance based on increase sources and podsreplicas see Do you know how can I increase amount of workers and expected impacts to CPUMemory"
76694314,"k8s/MLRun, issue with scale to zero","https://stackoverflow.com/questions/76694314/k8s-mlrun-issue-with-scale-to-zero","{python,kubernetes,mlrun,nuclio}","2023-07-15 14:50:58+03","2024-05-17 05:51:46.454826+03","I would like to save sources RAM and CPU for realtime classification function and I used scale to zero in MLRunK8s but it did not work see information from Grafana I expected zero replicas after 2 minutes from last call I used this code with scale to zero after 2 minutes idletime duration Did you have the same issue"
76781280,"Pull nuclio metrics into prometheus-operator","https://stackoverflow.com/questions/76781280/pull-nuclio-metrics-into-prometheus-operator","{prometheus-operator,kube-prometheus-stack,nuclio}","2023-07-27 15:24:51+03","2024-05-17 05:51:47.357109+03","I am currently trying to pull metrics from nuclio functions to my prometheus operator But I do not realy understand how I am supposed to do So far I have 2 namespaces In the nuclio namespace I configured a platform based on the Nuclio Documentation My configmap nuclioplatformconfig As expected it did not scrape automaticaly my functions metrics But I have absolutely no idea what to do next If anyone could give me some guidance I would be delighted PS I did not know which config was relevant or not If you need anything I will edit my question to add it"
77339653,"How will a nuclio based kafka triggered service behave when it receives a serialized message","https://stackoverflow.com/questions/77339653/how-will-a-nuclio-based-kafka-triggered-service-behave-when-it-receives-a-serial","{apache-kafka,nuclio}","2023-10-22 10:56:35+03","2024-05-17 05:51:50.149345+03","I am writing a nuclio based service that is kafka triggered As per my understanding whenever a message is produced to topic s subscribed by the service the handler function will receive the message and they can be accessed using the event object If the messages are avroprotobuf serialized will the messages received by handler function be deserialized already or will I have to write custom code to deserialize these messages I am fairly new to nuclio based services so pardon my lack of knowledge and please feel to correct my understanding if wrong "
78126285,"Why is the event offset always 0 for my kafka triggered nuclio function","https://stackoverflow.com/questions/78126285/why-is-the-event-offset-always-0-for-my-kafka-triggered-nuclio-function","{apache-kafka,nuclio}","2024-03-08 08:11:06+02","2024-05-17 05:51:51.22198+03","I wrote a simple handler function to explore the event object produced by kafka deployed it and queued a few kafka messages In my pod logs everytime a kafka event was queued this was the output As seen in the output the offset is always 0 However in Control Center and in the topic in general each message is a different offset Why is this happening"
78139425,"Integrating nuclio with GCP","https://stackoverflow.com/questions/78139425/integrating-nuclio-with-gcp","{google-cloud-platform,mlrun,nuclio}","2024-03-11 08:59:45+02","2024-05-17 05:51:52.310748+03","I have been following the below mentioned documentation httpsnuclio iodocslatestsetupgkegettingstartedgke There the step is to Create the RBAC roles that are required for using Nuclio To do so the command is mentioned to install nucliorbac yaml from the github link provided i e httpsraw githubusercontent comnuclionucliomasterhackk8sresourcesnucliorbac yaml But the file does not exist as the github provided got updated 3 weeks back and the documentation nuclio is not updated yet Can someone please help me with it And explain me the process for integrating nuclio with gcp "
78210749,"Scaling Nuclio With KEDA Based on Queue Length: Error ScaledObject Name is Not Specified","https://stackoverflow.com/questions/78210749/scaling-nuclio-with-keda-based-on-queue-length-error-scaledobject-name-is-not-s","{rabbitmq,serverless,minikube,keda,nuclio}","2024-03-23 11:54:46+02","2024-05-17 05:51:53.044268+03","I have a nuclio serverless function deployed in minikube that gets triggered by messages in RabbitMQs queue From what I know nuclio scales based on CPU metrics and I wanted to scale it based on the queues length using KEDA Unfortunately the scaling did not work and when I check the kedaoperatormetricsapiserver I get a scaledObject name is not specified error This is the configuration file for my nuclio serverless function Also more information I pulled from nuclios dashboard about the serverless function This is the keda ScaledObject configuration file And heres the description of the ScaledObject kubectl client version v1 29 1 kubectl kustomize version v5 0 40 202306011659476ce0bf390ce3 kubectl server version v1 28 3 nuctl client version Label 1 12 14 Git commit 4d67f0d79e6008523e9a540c01f90ccde7357e44 OS linux Arch amd64 Go version go1 21 0 RabbitMQs chart rabbitmq12 14 0 RabbitMQs APP version 3 12 13 This is my first time using these tools Kubernetes configuring files Serverless etc If there is a ridiculously obvious mistake somewhere I apologize I also have not seen examples of nuclio serverless functions being used with KEDA so I am not sure if KEDA works with nuclio I appreciate any help I can get Thank you "
78317187,"Access to cvat events from nuclio function","https://stackoverflow.com/questions/78317187/access-to-cvat-events-from-nuclio-function","{serverless,cvat,nuclio}","2024-04-12 15:10:59+03","2024-05-17 05:51:53.994088+03","I have deployed a model using this tutorial Python httpsdocs cvat aidocsmanualadvancedserverlesstutorial All works fine Now I would like to connect my model nuclio function with linear interpolation with one point httpsdocs cvat aidocsmanualadvancedannotationwithpointslinerinterpolationwithonepoint I would like to be able to receive points annotated by user and pass it to my model Thank you One possible solution is to deploy another nuclio funcion that implements linear point interpolation and call the function with model from it But I dont want to implement something that already integrated in CVAT "
23492054,"Failed to decode JSON in HTTP request","https://stackoverflow.com/questions/23492054/failed-to-decode-json-in-http-request","{json,http,httprequest,parse-platform,iron.io}","2014-05-06 10:23:31+03","2024-05-17 05:51:55.085053+03","I am using Parse Cloud Code to make a DELETE HTTP Request to Delete Multiple Messages from Iron io It is using exactly the same headers and url as GET request to Get Message from the Queue The GET request does work whether I put method GET or not inside Parse Cloud httpRequest It does work even if I send some data as body which are ignored However for a DELETE request I need to send body And this requests fails with very unhelpful message Any idea why this happens and what else can I test"
23599790,"Does Laravel 4.1.25 automatically delete successful jobs?","https://stackoverflow.com/questions/23599790/does-laravel-4-1-25-automatically-delete-successful-jobs","{laravel-4,queue,iron.io}","2014-05-12 01:31:28+03","2024-05-17 05:51:56.004441+03","I am running Laravel 4 1 25 with ironioiron_mq 1 5 1 and this is my first try at queues According to the documentation httplaravel comdocsqueues when you are done processing a job you should delete it from the queue However during my testing I have noticed that Laravel will return any job to the Iron io queue if it throws an exception documented behaviour but if a job succeeds with no exceptions thrown it vanishes from the queue Is that something specific to Iron io using a pull queue and will it hurt if I run jobdelete at the end despite the fact that Laravel is clearing processed jobs already"
24289317,"Delegating Tasks for Mission Critical Application","https://stackoverflow.com/questions/24289317/delegating-tasks-for-mission-critical-application","{backgroundworker,message-queue,software-design,worker-process,iron.io}","2014-06-18 15:19:33+03","2024-05-17 05:51:57.669778+03","I am working on a mission critical application The application fetches Stock Market data from different stock markets like NYSE NASDAQ etc using third party service Customers can come to the application and add their Portfolio which companys shares they have And then set Alerts eg Notify me when AAPL price goes above xxx on NASDAQ when MSFT price goes below zzz on NYSE I have a cron job that fetches market data from third party service for all the tickers users have added AAPL GOOG MSFT etc every 1 min After I get the data I fetch all the alerts that users have created and then send them notification via Email SMS Pushover Twitter Facebook Message etc Also add that notification to apps database so user can see it in App when they log in Now since this is time intensive application failure to fetch data may result in big loss since customers are paying for the time critical data Currently I am pushing all the notification sending part to Queue Worker on my server sends notification Are there any other better ways to delegate as much work as possible to third party servers Would you recommend using Iron io worker so it does the job of sending the notifications as well And may be also fetching data from the market Thanks "
24167739,"Iron.io: ""Message must be no more than 64kB""","https://stackoverflow.com/questions/24167739/iron-io-message-must-be-no-more-than-64kb","{laravel,queue,iron.io}","2014-06-11 16:12:48+03","2024-05-17 05:51:57.716012+03","I am trying to send an Email through Iron io service Everything is working as expected except that if the body of the message is big I get this error Is there a way to bypass this limitation and fix the problem My Stack Trace Exception [20140611 174807] local ERROR exception Http_Exception with message http error 400 msgMessage must be no more than 64kB in varwwwlbookvendorironioiron_coreIronCore class php264 0 varwwwlbookvendorironioiron_coreIronCore class php 256 IronCorereportHttpError 400 msgMessage 1 varwwwlbookvendorironioiron_coreIronCore class php 230 IronCorecallWithRetries 2 varwwwlbookvendorironioiron_mqIronMQ class php 272 IronCoreapiCall POST projects535a62 Array 3 varwwwlbookvendorlaravelframeworksrcIlluminateQueueIronQueue php 81 IronMQpostMessage appdev eyJpdiI6IjgzQVp Array 4 varwwwlbookvendorlaravelframeworksrcIlluminateQueueIronQueue php 66 Illuminate\Queue\IronQueuepushRaw jobmailer NULL 5 [internal function] Illuminate\Queue\IronQueuepush mailer Array NULL "
24642358,"Laravel 4 and Iron.io multiple queue / PHP","https://stackoverflow.com/questions/24642358/laravel-4-and-iron-io-multiple-queue-php","{laravel,laravel-4,queue,iron.io}","2014-07-08 22:15:20+03","2024-05-17 05:51:58.356985+03","I started to take a look Iron io as service for my queue process With the easy set up in laravel I make it work in a couple of minutes but there is something that is not clear to me I subscribed a new queue called resizer using the artisan command as the following On the settings in the queue php file I have to give the name on the key queue of the queue created in this case resizer But for sure I will have others kind of queues This resizer queue is responsible to resize images but I will have to set up another one for send email maybe called email Now let us say that I want implement the email queue and also have the resizer well i thought just subscribe another service my routes Problem When I Hit the route queueemail Iron io fire the resizer instead the email process adding 1 more message to that queue because on the settings I set up resizer So how can I have different tasks queue to assign to Iron io each one for differents needs"
24861036,"parse.com or iron.io returns ssl error","https://stackoverflow.com/questions/24861036/parse-com-or-iron-io-returns-ssl-error","{facebook,ssl,parse-platform,iron.io}","2014-07-21 08:51:21+03","2024-05-17 05:51:59.104259+03","I use iron io to call the following parse com function to get Facebook details of my users friends In the iron io log I see The following are not called Any idea how to resolve this problem"
25321050,"Are alerts created for messages that have a reservation expire in IronMQ?","https://stackoverflow.com/questions/25321050/are-alerts-created-for-messages-that-have-a-reservation-expire-in-ironmq","{iron.io,ironmq}","2014-08-15 03:58:21+03","2024-05-17 05:52:00.156779+03","I am using the alerts feature of IronMQ service provided by IronIO to start workers I have things setup so that a message is pushed onto the push queue The push queue sends an alert that starts a worker The worker pulls off the message on the push queue reserving it Sometimes for whatever reason the job fails the reservation for a message expires and the message becomes available again However from what I can tell no alert is sent when the reservation expires on a message So the message sits in the queue until another message is added to the queue firing an alert and starting a worker But the new message is not processed Are alerts created for messages that have a reservation expire in IronMQ Is there any documentaion that I missed describing what can happen I am working on having workers pull off multiple messages but I am running into issues unrelated to iron io when processing multiple messages in the same worker Also is there a way to pull off the top of the queue To avoid pulling off messages that may be causing errors Should I just modify my workers to delete messages causing errors"
25927437,"How to install ant in an iron.io worker","https://stackoverflow.com/questions/25927437/how-to-install-ant-in-an-iron-io-worker","{iron.io,ironworker}","2014-09-19 06:10:42+03","2024-05-17 05:52:01.133326+03","I am using an iron io node js worker I have ant as a dependency How can I install this I could only see the instructions for language specific dependencies installations like node modules Thanks"
26569970,"getting openssl error running on iron.io","https://stackoverflow.com/questions/26569970/getting-openssl-error-running-on-iron-io","{iron.io,ironworker}","2014-10-26 05:01:46+02","2024-05-17 05:52:02.23582+03","I get the following error when trying to run a worker on iron io The ruby file that makes the outbound restclient POST to the server works when I run it locally as well as on heroku So I know that it is possible to make the call without the error I did not have the problem before but now started getting it but not sure how to fix it given that I am running off of the same gems and ruby environment 2 1 0 "
26947367,"How do I handle push messages from IronMQ when my endpoint is an IronWorker?","https://stackoverflow.com/questions/26947367/how-do-i-handle-push-messages-from-ironmq-when-my-endpoint-is-an-ironworker","{iron.io,ironworker,ironmq}","2014-11-15 15:24:30+02","2024-05-17 05:52:03.134676+03","The documentation for IronMQ push queues describes how endpoints should handlerespond to push messages However I get the impression this is for normal webhooks and I cannot find any documentation or examples of what to do when the endpoint for a push queue is an IronWorker Does the IronWorker framework take care of responding to the IronMQ service when it starts a new IronWorker task for the message pushed onto the queue or does my IronWorker code need to handle the response If I need to handle it in my code are there any variables automatically provided to me that represent the webhook request andor response As I mentioned above I have looked for example code but all I have found are IronWorker webhook examples that receive POSTs from something like GitHub not from IronMQ If there are examples out there for what I am trying to do please point me to it "
29760597,"Iron.io seems to be not detecting my database","https://stackoverflow.com/questions/29760597/iron-io-seems-to-be-not-detecting-my-database","{php,api,laravel-4,iron.io}","2015-04-21 00:07:34+03","2024-05-17 05:52:14.178167+03","I tried to run my hello_worker php but it does not seem to be detecting the database I am using Laravel 4 This is my code in Iron io This is the error that i received in my email Message Occurred during run PHP Fatal error Class DB not found in mnttaskhello_worker php on line 9 The API that im integrating httpwww iron io"
30793682,"Laravel 5.1 and Iron.io","https://stackoverflow.com/questions/30793682/laravel-5-1-and-iron-io","{laravel,laravel-5,iron.io}","2015-06-12 00:45:48+03","2024-05-17 05:52:14.874325+03","I just updated a project to 5 1 yesterday and noticed that Queuemarshal has been deprecated Iron io push queues have been deprecated in favor of typical Iron io queues and queue listeners Okay great so how exactly do I use typical iron io queues The project is configured for Iron push queues I cannot seem to find anything in the documentation regarding Iron apart from how to install it "
26958507,"Using .NET dependencies with Iron.io IronWorker","https://stackoverflow.com/questions/26958507/using-net-dependencies-with-iron-io-ironworker","{c#,.net,iron.io,ironworker}","2014-11-16 15:17:57+02","2024-05-17 05:52:04.098169+03","I am brand new to Iron ios IronWorker and I am attempting to interface with it via C NET I have managed to get the sample on the site to work which utilizes the System Web Script Serialization library However I want to use Newtonsoft Json library for serializationdeserialization My worker file located in the \bin directory of a Visual Studio project looks like this I am fairly certain that Newtonsoft Json is being loaded because adding the 3rd line of file Debug\Netwonsoft Json dll fixed the error that said that Newtonsoft could not be found The error I am receiving when attempting to run a task is the following I removed any seemingly sensitive information In the course of tracking down the error Could not load type System Runtime CompilerServices ExtensionAttribute from assembly Newtonsoft Json I ran across a SO thread that suggested there might be a NET framework mismatch between v4 0 and v4 5 I am using v4 5 and I tried changing it to v4 0 with no luck so this may not be the issue Can someone please point me in the right direction as to how to properly utilize a dependency such as Newtonsoft Json so at least the sample on Iron io will work P S I have been toying with IronSharp as an API to assist with interfacing with Iron io products once I get past this dependency issue But I am open to suggestions if there is anything better I should be checking out SOLUTION Featalions answer below really helped becuase he pointed me to the stack command which I placed in like so I believe it resolved the error at hand because the higher mono framework seems to handle the latest version of Newtwonsoft Json dll I will post here if I find otherwise Make note that as of 11172014 it seems the highest stack version supported by IronWorker is 3 6 even though 3 10 is available details found here Check the highest stable release from Iron io at this link "
27601485,"How do I pass a json formatted string as a payload to an iron.io worker via a webhook?","https://stackoverflow.com/questions/27601485/how-do-i-pass-a-json-formatted-string-as-a-payload-to-an-iron-io-worker-via-a-we","{javascript,python,json,webhooks,iron.io}","2014-12-22 11:08:30+02","2024-05-17 05:52:05.12462+03","How do I submit a json formatted string to the following script with a webhook Below is my script on iron io that I want to read the payload When I queue a json formatted string within the platform I get the desired outcome which you can see below json formatted string that I inputed Log shown in Iron io I would like to accomplish the same result via a webhook call with the following javascript The webhook call works fine but the issue is that I get the following error"
27779747,"Laravel queues & push","https://stackoverflow.com/questions/27779747/laravel-queues-push","{php,laravel,laravel-4,queue,iron.io}","2015-01-05 12:40:44+02","2024-05-17 05:52:05.916921+03","I am using the library httpsgithub comdavibennunlaravelpushnotification I am trying to convert this 100 working example To something like this I have tried this In the App php facade for PushNotification see httpsgithub comdavibennunlaravelpushnotificationtreemastersrcDavibennunLaravelPushNotification Now my method does not work if my queue provider is Iron it however works perfectly if my queue is sync which is not so effective The first provided example works but is not as pretty as the way I wish to accomplish the same thing "
28014005,"Schedule a Twilio Call with Iron.io","https://stackoverflow.com/questions/28014005/schedule-a-twilio-call-with-iron-io","{python,ruby,twilio,iron.io}","2015-01-18 19:43:11+02","2024-05-17 05:52:07.477888+03","I am attempting to schedule a call to be made at a particular time The following python code makes the call and this code is a worker used for Iron io Using this tutorial However I receive the following exception What am I doing wrong"
28028138,"Laravel - Push queue task with a custom handling method and deleting job","https://stackoverflow.com/questions/28028138/laravel-push-queue-task-with-a-custom-handling-method-and-deleting-job","{php,laravel,laravel-4,iron.io,push-queue}","2015-01-19 15:32:34+02","2024-05-17 05:52:08.019888+03","Consider this kind of code which pushes a task to queue to run a custom handler method that is located within the same class This worked fine before I added jobdelete but now its giving an error In Laravel 4 2 docs there is no explanation why with a push queue task pointed to a custom handler method you would not need to explicitly delete the task from the queue with jobdelete Yet that kind of implementation works and when the job parameter is logged it is false "
28219251,"GhostScript on Iron.io Workers","https://stackoverflow.com/questions/28219251/ghostscript-on-iron-io-workers","{ghostscript,iron.io,ironworker}","2015-01-29 16:06:30+02","2024-05-17 05:52:08.989716+03","Does anyone know how to get GhostScript working in Iron io workers I am using the ffmpeg stack with node js and need to convert a pdf to a series of jpegs using imagemagic and GhostScript is required for this "
28629511,"Laravel 4 + Iron: 'Http_Exception' with message 'http error: 404 | {""msg"":""Not found""}'","https://stackoverflow.com/questions/28629511/laravel-4-iron-http-exception-with-message-http-error-404-msgnot-f","{php,laravel-4,iron.io}","2015-02-20 12:54:56+02","2024-05-17 05:52:09.960546+03","I am trying to register a subscriber using the command php artisan queuesubscribe queuename url Works perfectly on my local server using NGROK but throws a Http_Exception with message http error 404 msgNot found upon deploying to the remote server I cannot register a subscriber on my remote server Even if I do it manually through iron io dashboard still throws the same error Below is part of my stack trace"
28859633,"Laravel 4 & IronMQ queue - Exception handling architecture for push failures?","https://stackoverflow.com/questions/28859633/laravel-4-ironmq-queue-exception-handling-architecture-for-push-failures","{laravel,exception,queue,iron.io,push-queue}","2015-03-04 16:26:05+02","2024-05-17 05:52:10.90884+03","There should be an architecture in place to not have any push queue tasks lost while Laravel fails to communicate with IronIO servers For example there is IronIO service outages or DNS hiccups along the way Or as in our case it seems our ironioiron_mq package had grown old and pushes started to give exceptions gecbla has suggested catching exceptions but how would you proceed from there What would be best way to achieve a fallback exception handling architecture"
29078571,"Iron worker and scrapy","https://stackoverflow.com/questions/29078571/iron-worker-and-scrapy","{python,scrapy,iron.io}","2015-03-16 13:55:39+02","2024-05-17 05:52:12.044363+03","I am trying to create an iron io worker using scrapy According to iron io we need to place all the dependencies for the code in the worker itself I have created a folder called module which will have all the 3rd party modules and installed scrapy via pip When trying to run scrapy via python modulescrapy__init__ py I am getting"
29572908,"upgrading Ruby on Openshift (Python Cartridge)","https://stackoverflow.com/questions/29572908/upgrading-ruby-on-openshift-python-cartridge","{python,ruby,openshift,iron.io}","2015-04-11 01:12:42+03","2024-05-17 05:52:13.102827+03","I am working on a Flask app deploying to RedHat OpenShift using the Python 2 7 cartridge I need to use some ruby CLI tools to create upload Iron io Workers but the CLI tool requires Ruby 1 9 2 and the cart only has Ruby 1 8 7 I cannot install rvm rbenv via sshing into the gear because OpenShift will not give you root access So is there a way to install Ruby on OpenShift without sudo or am I SOL Somebody at Iron io suggested using Iron io via Docker but that seems like overkill for scheduling SMS texts "
30997430,"Can I view raw message in iron.io webpage?","https://stackoverflow.com/questions/30997430/can-i-view-raw-message-in-iron-io-webpage","{laravel-5,message-queue,iron.io,push-queue}","2015-06-23 08:18:42+03","2024-05-17 05:52:15.822998+03","I am learning to use iron io MQ push queues I am pushing some messages with Laravel php framework and everything works However just to round up my knowledge I would like to see the raw contents of these messages In my iron io account I can see the total number of messages sent but I cannot find a place where to inspect individual messages and their contents I am wondering weather Laravel is sending some IDs or anything like that "
30999660,"Laravel mail queue - will attachments go through iron servers?","https://stackoverflow.com/questions/30999660/laravel-mail-queue-will-attachments-go-through-iron-servers","{email,laravel-5,message-queue,iron.io}","2015-06-23 10:00:05+03","2024-05-17 05:52:16.523519+03","I am using Iron io push queues Please explain what happens with attachments if I use code like this If the file is small 100 KB then request to such a page seems to be really quick If the file is 5MB or so then the request takes a couple of seconds Therefore it looks like Laravel serializes attachments sends them to Iron server then Iron sends it back to my server and then email is finally sent Is that true That is not what I expect from queues I expect immediate response to user I am totally sure that sync driver is off and app uses iron since I see messages in iron io dashboard By the way I am using ngrok tunelling to work with queues on local dev machine Maybe thats the cause"
32192823,"Send UrlFetchApp(url, options) request from Google Script to IronWorker","https://stackoverflow.com/questions/32192823/send-urlfetchappurl-options-request-from-google-script-to-ironworker","{ruby,google-apps-script,iron.io}","2015-08-24 22:34:31+03","2024-05-17 05:52:17.364193+03","I am experimenting with connecting a Google Script to an IronWorker script Right now I am just trying to get a hello world level example to work My end goal is to pass data from Google Spreadsheets to an IronWorker for processing Right now I just want to successfully POST to an IronWorker Heres the Google Script function When I check the log in Hello worldWorkershelloworldworkerbuilderTask 10b44Log I see get this error output I am not sure where the error is being called from so I do not know where to begin debugging I am running ruby version 2 0 and I did see this StackOverflow question When will IronWorkers support Ruby 2 0 I am not sure if it is relevant but the error output suggests it is a ruby problem Any thoughts would be greatly appreciated thank you "
33109234,"dateutil.parser handling of datestring ending in Z","https://stackoverflow.com/questions/33109234/dateutil-parser-handling-of-datestring-ending-in-z","{python,parsing,datetime,timezone,iron.io}","2015-10-13 17:44:05+03","2024-05-17 05:52:17.873188+03","I have datestrings that look like this 20150302T100000Z On my local machine dateutil parser parse yields datetime objects with timezone UTC as I would expect But in a different environment when I deploy to iron io it parses the same strings and gives the resulting datetimes tzlocal as their tzinfo Is there a known reason that should ever happen Why would environment affect how that Z is parsed both environments should be Python 2 7 "
33227315,"ironWorker not inserting to my database","https://stackoverflow.com/questions/33227315/ironworker-not-inserting-to-my-database","{database,laravel-4,php-5.6,iron.io,ironworker}","2015-10-20 03:09:34+03","2024-05-17 05:52:18.777754+03","How to connect iron io to my UserController php Im using appviews My code in appviewsironhello_worker php I have made it work but it has error in iron io dashboard PHP Fatal error Class Tests not found in mnttaskhello_worker php on line 8"
33228002,"Mail::queue Closure serialization error Laravel 5.1","https://stackoverflow.com/questions/33228002/mailqueue-closure-serialization-error-laravel-5-1","{php,laravel,serialization,closures,iron.io}","2015-10-20 04:27:05+03","2024-05-17 05:52:19.686627+03","I promise this is not just another Mailqueue newbie question I had Laravel 4 2 app working with Iron io Push queues Then I upgraded to Laravel 5 1 and my Mails just stopped working I have UserController from which I send user account verification email to the registrant Iron io is configured properly with keys and such My Mail queuing app and queue processing apps are different Error I get is Looks like Mailqueue is serializing UserControl which is not available in queuereceive processor app I tried placing UserController in processor app but still get the same error"
33610044,"iron.io queue system sends emails infinitely","https://stackoverflow.com/questions/33610044/iron-io-queue-system-sends-emails-infinitely","{php,laravel,laravel-5.1,iron.io}","2015-11-09 13:20:28+02","2024-05-17 05:52:20.525739+03","I am using Laravel 5 1 and the iron io version 4 I use the queue to send emails and also I configured a supervisor to avoid typing php artisan queuelisten now the problem is in the log file storagelogs I get an error message and the email get sended infinitely every minute what to do to stop sending emails please I need your help guys"
34046646,"Error pushing code to IRON.io using PHP","https://stackoverflow.com/questions/34046646/error-pushing-code-to-iron-io-using-php","{php,worker,iron.io}","2015-12-02 15:33:41+02","2024-05-17 05:52:21.558748+03","I am trying to push a zip file to iron io using PHP with cURL but I always get this error My teammates are able to do it and I do the same but that exception is generated Have someone had the same error or problem any ideas I am kind of desperate thanks"
34125672,"Use Ruby Bundler to build only non-development, non-test gems?","https://stackoverflow.com/questions/34125672/use-ruby-bundler-to-build-only-non-development-non-test-gems","{ruby,rubygems,bundler,iron.io}","2015-12-07 02:52:16+02","2024-05-17 05:52:22.3462+03","I am building an Iron IO Rubyonly application and as part of their new docker workflow I need to run bundler to build the bundled gems into bundle locally However it builds all the gems including the group development and group test gems It is wasted data so I would like to be able to do a clean build of only the gems I actually need Is there a way to tell bundler to only build the nondev nontest gems"
34488676,"IronCache as Memcached server on PHP returns code 47 (?)","https://stackoverflow.com/questions/34488676/ironcache-as-memcached-server-on-php-returns-code-47","{php,memcached,iron.io}","2015-12-28 06:28:41+02","2024-05-17 05:52:23.405732+03","When following the IronCache guide I receive a misterious code 47 trying to set any key including the requested oauth token This code is not present in the PHP documentation Is this related to the fact IronCache only supports the text protocol If yes how would we use IronCache as a Memcached server in PHP As per this answer 47 means MEMCACHED_SERVER_TEMPORARILY_DISABLED So what IronCache advertises Memcache support but actually their servers are not even working This would not be related to their textonly protocol since by default PHP uses the text protocol However I did tested forcing MemcachedOPT_BINARY_PROTOCOL to false but it still made no differen"
34703094,"python TypeError: must be encoded string without NULL bytes, not str - docker iron requirements.txt","https://stackoverflow.com/questions/34703094/python-typeerror-must-be-encoded-string-without-null-bytes-not-str-docker-ir","{python,docker,pip,iron.io}","2016-01-10 07:23:50+02","2024-05-17 05:52:24.383194+03","I have been trying to deploy a python script to Iron io They recommend using docker to test locally before uploading I have completed their provided dockeriron tutorial without error So I started to modify the provided requirements txt from their sample repo to start my own project but whenever I try to install the packages locally I receive a TypeError My pip is version Their requirements txt My requirements txt Terminal command Error I am using Sublime on OSX and encoding with UTF8 Other threads regarding this error are usually resolved by escaping some characters or changing the encoding But I could not find an alternative encoding to use Is there a trick to saving requirements without any null bytes Or is there another known fix Edit update Running with vvv max verbose mode for pip Returned The only new output was the two lines at the bottom Running iconv to identify any rogue characters just returns the contents of the txt file "
34769159,"How to use Gemfile in iron.io worker","https://stackoverflow.com/questions/34769159/how-to-use-gemfile-in-iron-io-worker","{ruby,capybara,capybara-webkit,iron.io}","2016-01-13 14:24:40+02","2024-05-17 05:52:25.333393+03","I would like to use gems specified from Gemfile that I uploaded However I keep getting Seems like the code cannot find the required gems This is my worker file My Gemfile I uploaded my work using this command Thanks in advance "
35015391,"Iron.io Workers PHP error Class 'PDO' not found","https://stackoverflow.com/questions/35015391/iron-io-workers-php-error-class-pdo-not-found","{php,pdo,iron.io,ironworker}","2016-01-26 13:52:01+02","2024-05-17 05:52:26.377663+03","I have got this error when launching a php worker on Iron io My PHP script just call the native PDO extension like this Anybody know if there is a known problem with the docker image ironphp and the PDO extension Thank you "
35498096,"Laravel 4 Queue Taking Long Time","https://stackoverflow.com/questions/35498096/laravel-4-queue-taking-long-time","{laravel-4,queue,iron.io}","2016-02-19 05:42:24+02","2024-05-17 05:52:27.408656+03","I am using iron io for Queues in Laravel They were working great until recently Now a line of code like this one takes an eternity MyClassfire sends a bunch of emails so it is almost like it is sending the emails rather than sending the request to iron io But it is not I removed all of the code in MyClassfire and it still takes about 30s But when I comment out Queuelater it runs really quickly It is like there is something wrong with Queue class Or there is something wrong with the way my server communicates with iron io Or maybe something wrong with the package I am using I know that it is really old I think I am using iron_mq v 1 3 0 so maybe something has changed with the way the package I am using works with iron io I will try updating it in the morning but that might mess everything up Any ideas"
35514401,"How to use MongoDB driver of PHP in an iron worker task?","https://stackoverflow.com/questions/35514401/how-to-use-mongodb-driver-of-php-in-an-iron-worker-task","{php,mongodb,iron.io,ironworker}","2016-02-19 20:28:20+02","2024-05-17 05:52:28.546655+03","I am using iron io and its worker tasks for a background process My code is fairly simple just like composer json is like Then I first install all dependencies compress my code upload it then this error output I also tried MongoDB\Driver\Manager MongoDB\Driver\Client the same error occurs When I tried running php m it shows It looks even MongoDB extension is not installed while they say it is installed httpdev iron ioworkerlanguagesphp Am I missing something How can I use MongoDB driver in PHP with iron worker"
35751688,"Laravel 5.2 Delete a queue in Job","https://stackoverflow.com/questions/35751688/laravel-5-2-delete-a-queue-in-job","{php,queue,laravel-5,iron.io}","2016-03-02 15:38:15+02","2024-05-17 05:52:29.475373+03","In Controller SendMessage class The SMS does go through but the queue is not removed from iron thus sending multiple same SMS returning NO RESPONSE CODE AT ALL Weirdly if I skip the guzzle request the queue is removed from iron thus the POST returns response 200 Any idea how to fix this"
36120682,"How to re-link files in iron.io?","https://stackoverflow.com/questions/36120682/how-to-re-link-files-in-iron-io","{bash,file,iron.io}","2016-03-20 22:58:54+02","2024-05-17 05:52:30.564712+03","I am trying to upload the following files and linksto iron io After downloading the files from iron io that were originally uploaded I can see that the links are turned into these files How do I maintain the links so that they are not turned into files in the process of uploading to iron io Ideally I can run this bash script on iron io to solve for this For reference this is my worker I upload this worker with the following bash script"
37013949,"What are the Docker RUN params for mimicking IronWorker memory constraints?","https://stackoverflow.com/questions/37013949/what-are-the-docker-run-params-for-mimicking-ironworker-memory-constraints","{docker,iron.io,ironworker}","2016-05-03 20:39:43+03","2024-05-17 05:52:31.291604+03","In the past I have run into trouble when hosting my workers in a cloud infrastructure because of memory constraints that were not faithfully reproduced when testing the code locally on my overpowered machine IronWorker is one such cloud provider that limits workers in its multitenant infrastructure to 380mb Luckily with their switch to docker I can hope to catch problems early on by asking my local docker container to use artificial memory limits when testing But I am not sure as to which parameters from the following httpsdocs docker comenginereferencerun are the right ones to use when setting a 380mb limit any advice Does the logic from httpsgoldmann plblog20140911resourcemanagementindocker_example_managing_the_memory_shares_of_a_container still apply"
37730202,"How to integrate slack with IronWorker tasks to get its status","https://stackoverflow.com/questions/37730202/how-to-integrate-slack-with-ironworker-tasks-to-get-its-status","{iron.io,ironworker}","2016-06-09 15:26:38+03","2024-05-17 05:52:32.40055+03","I would like to get the notification about the status of the IronWorker task after its finished I tried to setup and incomingwebhook but could not find any way to achieve this Update I know how to setup incoming webhook in slack I am finding a way to trigger this webhook by IronWorker after its completed I just do not want to integrate the request code in my worker code Any help would be appreciated "
37865739,"How to divide workers and aggregate results?","https://stackoverflow.com/questions/37865739/how-to-divide-workers-and-aggregate-results","{distributed,iron.io,ironworker}","2016-06-16 17:26:40+03","2024-05-17 05:52:34.053751+03","Given a payload submitted to a parentWorker What I want is to know if 5 or 10 or 20 otherWorkers were queuedkicked off then when do they all finish Because when all of them are finished I want to start the next part of my workflow nextWorker So the ideal pipeline is parentWorker X of otherWorkers everyone done nextWorker Please do not answer with a pollingbased solution I am not looking for that I thought of using a cache a If the idea is to let otherWorkers decrement it then check the value and to see if it is zero and kick off nextWorker that is flawed in a situation where b other bad ideas"
38108619,"Can only install one of: iron-io/iron_mq[2.0.0, 1.5.3] -- Laraworker vs ironQueue","https://stackoverflow.com/questions/38108619/can-only-install-one-of-iron-io-iron-mq2-0-0-1-5-3-laraworker-vs-ironqueu","{laravel-5,composer-php,iron.io,ironworker,ironmq}","2016-06-29 19:35:57+03","2024-05-17 05:52:34.64461+03","I am having a problem while trying to use two wonderful packages ironiolaraworker and laracollectiveironqueue at same project The prior package requires version max 1 5 3 of ironioiron_mq whereas the later one v5 2 requires that the minimum version of ironioiron_mq has to be 2 0 0 So this is an noncompatible situation Any help on this will be appreciated P S I do not want to write my own worker libraries I would prefer it as a vendor package but if nothing else is possible I can work with httpsgithub comironioiron_worker_php "
39227750,"How to prevent ironworker from enqueuing tasks of workers that are still running?","https://stackoverflow.com/questions/39227750/how-to-prevent-ironworker-from-enqueuing-tasks-of-workers-that-are-still-running","{iron.io,ironworker}","2016-08-30 12:38:19+03","2024-05-17 05:52:35.470566+03","I have this worker whose runtime greatly varies from 10 seconds to up to an hour I want to run this worker every five minutes This is fine as long as the job finishes within five minutes However If the job takes longer Iron io keeps enqueuing the same task over and over and a bunch of tasks of the same type accumulate while the worker is running Furthermore it is crucial that the task may not run concurrently so max concurrency for this worker is set to one So my question is Is there a way to prevent Iron io from enqueuing tasks of workers that are still running"
39946203,"How can I launch an IronWorker with Docker without needing to pay for private Docker repositories, nor make my code public?","https://stackoverflow.com/questions/39946203/how-can-i-launch-an-ironworker-with-docker-without-needing-to-pay-for-private-do","{ruby,docker,iron.io,ironworker}","2016-10-09 17:05:28+03","2024-05-17 05:52:36.232211+03","I have multiple Ruby applications that are run in crons using IronWorker I am new to Docker and I want to test the application locally before pushing the code to Iron How do I do that"
39987940,"Remote build doesn't install dependencies using python 3.2 standard runtime","https://stackoverflow.com/questions/39987940/remote-build-doesnt-install-dependencies-using-python-3-2-standard-runtime","{iron.io,ironworker}","2016-10-11 22:47:33+03","2024-05-17 05:52:36.602592+03","i am uploading a worker to iron worker running Python 3 2 with in the standard environment using my own http client directly not the ruby or go cli according to the REST API However despite having a worker file along with my python script in a zip file and despite successfully uploading my worker dependencies are not installed prior to the worker execution so I get an error like that requests module is declared in my worker file that way How can I fix this thanks "
48224172,"How to throttle message delivery to consumers?","https://stackoverflow.com/questions/48224172/how-to-throttle-message-delivery-to-consumers","{rabbitmq,apache-kafka,message-queue,throttling,iron.io}","2018-01-12 10:22:55+02","2024-05-17 05:52:37.487537+03","I am looking for a message queue with an inbuilt throttling feature Use case is that the recipient worker pool may accept a lot of messages but a service that workers depend on may not be able to handle the load It is not possible to reduce the worker pool since the worker instances handle different types of messages So the feature I am looking for is throttling based on a topic Say a topic T I want the queue to accept as many messages from the producers but throttle the demand from consumers on topic T to say deliver only 5 messages per minute "
50322218,"Iron.io set up getting 404 Not Found on `iron register` step","https://stackoverflow.com/questions/50322218/iron-io-set-up-getting-404-not-found-on-iron-register-step","{docker,iron.io}","2018-05-14 01:53:38+03","2024-05-17 05:52:38.594216+03","I am working through the iron io getting started guide here httpdev iron ioworkergetting_started I am at the step The docker push command works as intended but when I run iron register USERNAMEhello0 0 1 I get the following response Why it is returning 404 Not Found I notice that the project name is not written in the command line response I think it could be related but I do not know where to update that "
50944165,"The difference between project token and user token - clarification needed","https://stackoverflow.com/questions/50944165/the-difference-between-project-token-and-user-token-clarification-needed","{iron.io}","2018-06-20 08:56:26+03","2024-05-17 05:52:39.106523+03","I would like to make sure that my understanding of concept of user tokens and project tokens is correct Am I right Thanks in advance PS I was trying to find some documentation regarding user roles but I failed May you please clarify what are associated permissions to user roles you support in iron io"
77738362,"Capturing FnMut closure doesn't live long enough","https://stackoverflow.com/questions/77738362/capturing-fnmut-closure-doesnt-live-long-enough","{rust,callback,closures,lifetime,fn}","2023-12-31 06:12:19+02","2024-05-17 05:52:40.752494+03","In short I am trying to implement an struct that contains a callback to an closure which captures state mutably Idea is that user provides callback closure and can be informed later when a specific event happens I have a working proofofconcept version code sample 1 Output Same idea slightly different as previous but trying to contain closure inside Foo Expected output Actual output compiler error The compiler error is pretty clear and it definitely has something to do with lifetimes I think my problem is that I need to tell the compiler about the closure and its parameter lifetimes but the question is how How should I modify code sample 2 to get callback registration work like in code sample 1 REPL"
70591386,"Calling a generic async function with a (mutably) borrowed argument","https://stackoverflow.com/questions/70591386/calling-a-generic-async-function-with-a-mutably-borrowed-argument","{rust,async-await}","2022-01-05 10:32:02+02","2024-05-17 05:52:41.697378+03","Minimal example of my issue This leads to two related errors see rust playground for detailed output I am a bit surprised by both I understand why the Future return of F needs to have the same lifetime a as its borrow relevant async book section However according to that same reference the borrow should be over as soon as I call the await on changer s result which clearly does not happen or I would not have those errors Reworking this example to something like the book where the changer function is not passed in as a parameter but just called directly works as expected What is going on here and can I do anything about it Replacing mut with an RcRefCell_ construct works as expected but if possible I would like to avoid that "
