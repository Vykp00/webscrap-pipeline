[
{"id": 145492, "question_id": 14549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-03T14:18:07Z", "scrap_date": "2024-04-30T23:50:09.802103", "content": "hi Neasa did you get encounter your issue I got the same problem"},
{"id": 145493, "question_id": 14549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-28T03:57:10Z", "scrap_date": "2024-04-30T23:50:09.805104", "content": "any luck how did you fix the issue"},
{"id": 8412, "question_id": 841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-27T11:23:20Z", "scrap_date": "2024-04-30T23:50:10.812173", "content": "There are two ways you can handle with this Inside serverless yml youll want to add a custom stage variable to make it easy to reference the stage youre deploying to If you want single env file then create env yml with a section for each stage and the environment variables below it For example Then setup the environment variables inside your serverless yml using If you want one file per env then create envSTAGE yml i e envdev yml envprod yml etc Each file should look like The setup the environment variables inside your serverless yml so that it uses the correct file Youll probably want to add your env file to the gitignore "},
{"id": 8413, "question_id": 841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-27T14:33:37Z", "scrap_date": "2024-04-30T23:50:10.814179", "content": "I guess where I get confused is how to use the environment variables in code I cant find any explanation in the documentation If I google it I get lots of stuff from earlier versions of serverless but the latest version 1 0 is so widely different that none of the examples I could find apply Even in the current documentation it talks about using env but you mention environment and no where in the documentation are there any code examples Id prefer nodeJS examples but anything would be great How do I access the variables in code I define in serverless yml"},
{"id": 8414, "question_id": 841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-27T15:06:56Z", "scrap_date": "2024-04-30T23:50:10.815173", "content": "ok feeling a little stupid I think I figured out why the documentation talks about env and you talk about environment environment is used to configure the new environment variables feature of lambda functions "},
{"id": 8415, "question_id": 841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-28T02:22:33Z", "scrap_date": "2024-04-30T23:50:10.816174", "content": "shawnmullen Correct You use environment inside your serverless yml that setups and the variables and env inside your code if youre using Node Ive written a post Using Environment Variables with the Serverless Framework which explains this in a little more detail "},
{"id": 20702, "question_id": 2070, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-14T23:24:45Z", "scrap_date": "2024-04-30T23:50:11.715519", "content": "Its basically a variation on using different values for environment variables for each stage You could follow that approach or start with something like this Note I havent tested this so it might require some debugging"},
{"id": 13302, "question_id": 1330, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-15T22:59:58Z", "scrap_date": "2024-04-30T23:50:12.182889", "content": "First stages isnt under vars so it would be selfcustom stages dev vars stageName If you want stages under vars you need to indent it I find it easier to include the file as file env yml selfcustom stage so the only place I need to muck around with the stage stage region in your case is during the initial import This topic comes up so frequently I wrote about blog post about using environment variables that covers this "},
{"id": 22062, "question_id": 2206, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-05T22:50:48Z", "scrap_date": "2024-04-30T23:50:13.145572", "content": "First you would need to add an output for the distribution to the Outputs section of your serverless yml Then after deploying you can run sls info verbose and youll see the CloudFront Distribution URL in the CLI "},
{"id": 22063, "question_id": 2206, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T03:46:11Z", "scrap_date": "2024-04-30T23:50:13.146572", "content": "You should be able to reconstruct the hostname using Serverless variables and CloudFormation Something like this will probably work Type AWSCloudFrontDistribution Properties DistributionConfig Origins DomainName FnJoin [ [ Ref ApiGatewayRestApi executeapi selfcustom region amazonaws com ] ] Note This is untested and may contain bugs I use something similar to pass the API GW URL as an environment variable to my Lambda Theres a better write up here "},
{"id": 22032, "question_id": 2203, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-03T20:24:37Z", "scrap_date": "2024-04-30T23:50:13.982618", "content": "Hi sshroff You can use catchall greedy path variables pages proxy note that you need an additional mapping to pages as well if you want to catch requests to pages too See httpsaws amazon comblogsawsapigatewayupdatenewfeaturessimplifyapidevelopment In general you can fetch the resolved path from the request object requestObject path Note if you start using a custom domain the base path if any will be prepended then "},
{"id": 22033, "question_id": 2203, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T12:23:42Z", "scrap_date": "2024-04-30T23:50:13.984372", "content": "sshroff You need something like I wrote a blog post about it with code you can copy here"},
{"id": 67622, "question_id": 6762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T06:34:48Z", "scrap_date": "2024-04-30T23:50:14.960558", "content": "I wrote something on this a while ago Why are my environment variables replaced during Serverless Framework deployments You cant prevent it from happening but you can probably work around it "},
{"id": 16602, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-04-08T09:24:09Z", "scrap_date": "2024-04-30T23:50:15.889688", "content": "Hi stephanechauvin Unfortunately you cant thats a limitation in API gateway and a painpoint for a lot of users httpsforums aws amazon comthread jspamessageID728839"},
{"id": 16603, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T09:12:40Z", "scrap_date": "2024-04-30T23:50:15.890688", "content": "Ok thx bbilger Incredible that AWS isnt able to quickly address this kind of issue "},
{"id": 16604, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-19T09:59:01Z", "scrap_date": "2024-04-30T23:50:15.890688", "content": "Things have changed AWS finally fixed this thing but I am not sure how to implement it with serverless Does anybody have an idea Thank you"},
{"id": 16605, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-21T21:25:37Z", "scrap_date": "2024-04-30T23:50:15.891689", "content": "RastoStric I have the same question Did you figure out how to return cors headers from authorizer"},
{"id": 16606, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-21T22:20:19Z", "scrap_date": "2024-04-30T23:50:15.892689", "content": "After hours of searching The answer is here httpsgithub comserverlessserverlessissues3896issuecomment326721971"},
{"id": 16607, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-23T12:25:02Z", "scrap_date": "2024-04-30T23:50:15.892689", "content": "Thanks for sharing I didnt know it "},
{"id": 16608, "question_id": 1660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-02T12:20:49Z", "scrap_date": "2024-04-30T23:50:15.893689", "content": "After searching for more than a day I have finally found the proper answer Thanks DavidWells"},
{"id": 107132, "question_id": 10713, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2020-03-11T21:22:56Z", "scrap_date": "2024-04-30T23:50:16.492691", "content": "I solved this over on stackoverflow You can reference an external js file and then stringify the json file there serverless yml file mydashboardbody js myDashboardBody is a serverless variable reference It means that we want to use the value from the myDashboardBody module of the mydashboardbody js file mydashboardbody js mydashboardbody json "},
{"id": 107133, "question_id": 10713, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-16T00:54:46Z", "scrap_date": "2024-04-30T23:50:16.494691", "content": "That is perfect thanks "},
{"id": 107134, "question_id": 10713, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-02T16:21:26Z", "scrap_date": "2024-04-30T23:50:16.494691", "content": "When I use this the \\n in the CloudWatch query is resolved as \\\\n and CloudWatch dashboard has a hard time parsing it"},
{"id": 200362, "question_id": 20036, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-02T17:33:17Z", "scrap_date": "2024-04-30T23:50:17.068506", "content": "A solution was found amazon web services Best approach to install gdal for rasterio in awslambdapython Dockerfile Server Fault I didnt realise host machine architecture could affect docker builds "},
{"id": 158932, "question_id": 15893, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-08T14:40:51Z", "scrap_date": "2024-04-30T23:50:18.184559", "content": "Figured out the issue Turns out I was setting the Tracing setting incorrectly So instead of Tracing Active It should be"},
{"id": 158933, "question_id": 15893, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-04T13:18:35Z", "scrap_date": "2024-04-30T23:50:18.185557", "content": "How did you figure out what this setting should be Is this documented anywhere"},
{"id": 158934, "question_id": 15893, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2024-04-04T16:03:21Z", "scrap_date": "2024-04-30T23:50:18.186557", "content": "Yes its in the serverless docs under AWS XRay Tracing here"},
{"id": 200842, "question_id": 20084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-12T12:56:30Z", "scrap_date": "2024-04-30T23:50:19.052665", "content": ""},
{"id": 200802, "question_id": 20080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-12T15:15:02Z", "scrap_date": "2024-04-30T23:50:20.093623", "content": "Hey there Could you private message me or email support com Ill need to ask a few questions to help you troubleshoot this that may be confidential"},
{"id": 200803, "question_id": 20080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-13T07:00:16Z", "scrap_date": "2024-04-30T23:50:20.094623", "content": "Thanks I will email to support com "},
{"id": 200942, "question_id": 20094, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-16T07:16:57Z", "scrap_date": "2024-04-30T23:50:20.996719", "content": "Okay found out something In the same directory I have my profile setup in a env file when I do sls deploy this is when I get the CredentialProviderError but if I do sls deploy awsprofile work the lambda works as expected"},
{"id": 121922, "question_id": 12192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-06T14:16:05Z", "scrap_date": "2024-04-30T23:50:24.921140", "content": "I learned that you can reference an ARN using the following syntax The file awsProvider d ts proved to be helpful here The IamRoleStatement shows an indexable type can be provided to the Resource field"},
{"id": 121923, "question_id": 12192, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-30T19:51:59Z", "scrap_date": "2024-04-30T23:50:24.922140", "content": "Just a quick note scott s answer is right on theres a missing quote in his Resource example otherwise perfect If you are using SNS you cant call FnGetAtt and need to do this where doMagic is the resource Because GetAtt is not available on SNS for obtaining the ARN Hopefully that helps someone else out "},
{"id": 121924, "question_id": 12192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-27T15:44:13Z", "scrap_date": "2024-04-30T23:50:24.923149", "content": "Hi I am having trouble getting this work I am trying to attach lambda func with dynamo stream could you please help It would be great if you can share any documentation for serverless ts file"},
{"id": 121925, "question_id": 12192, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-17T00:30:10Z", "scrap_date": "2024-04-30T23:50:24.924146", "content": "Using the typescript node js serverless template I was able to use a Kinesis Stream Arn using the following syntax"},
{"id": 121926, "question_id": 12192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-09T19:30:31Z", "scrap_date": "2024-04-30T23:50:24.924146", "content": "cgradwohl can you please also share the Kinesis stream definition you used Thanks "},
{"id": 121927, "question_id": 12192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-18T18:26:26Z", "scrap_date": "2024-04-30T23:50:24.925146", "content": "Does anyone know how to reference AWS ARN in fileSystemConfig for Serverless as detailed in this GH issue "},
{"id": 118002, "question_id": 11800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-20T11:52:09Z", "scrap_date": "2024-04-30T23:50:25.806985", "content": "Hii I am facing the same issue Did you find a solution for this"},
{"id": 165272, "question_id": 16527, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-20T21:33:47Z", "scrap_date": "2024-04-30T23:50:26.767581", "content": "Were also dealing with this issue as it particularly affects deployments which utilize plugins which perform any sort of code building such as webpack The webpack plugin in particular performs an npm install in order to facilitate minimization of the functions to be deployed We dont want to do this in our production deploys but because the package step builds stage specific variables into the package we cant easily package once while only using the serverless framework "},
{"id": 199262, "question_id": 19926, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2024-02-16T11:54:11Z", "scrap_date": "2024-04-30T23:50:27.495642", "content": "It looks like someone has already created a PR to add it but it still hasnt been merged feat Add support for python3 12 runtime by LironEr Pull Request 12300 serverlessserverless GitHub"},
{"id": 199263, "question_id": 19926, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2024-02-22T18:14:25Z", "scrap_date": "2024-04-30T23:50:27.496642", "content": "I am able to deploy 3 12 with sls v3 38 It does give the above warning though "},
{"id": 115212, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-26T02:42:12Z", "scrap_date": "2024-04-30T23:50:28.051623", "content": "Did you do with Cognito I could connect and use sso with kotlin but without sls "},
{"id": 115213, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-26T13:37:24Z", "scrap_date": "2024-04-30T23:50:28.052623", "content": "I guess its a side effect of how you are logging into SSO With Google AWS SSO this CLI worked for me Obtain and store AWS STS credentials to interact with Amazon services by authenticating via G Suite SAML ruimarinhogsts"},
{"id": 115214, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-05-26T14:13:07Z", "scrap_date": "2024-04-30T23:50:28.053629", "content": "Im having the same issue Im working with 15 AWS Accounts and Im logging trough CLI with aws sso login profile profileName Does anyone have a clue on how to tell to serverless to work with AWS SSO"},
{"id": 115215, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-26T14:27:00Z", "scrap_date": "2024-04-30T23:50:28.054623", "content": "for now the only solution I have is to login with sso on the web page and import the temp credentials on the terminal"},
{"id": 115216, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-26T14:31:58Z", "scrap_date": "2024-04-30T23:50:28.054623", "content": "As far as I understand sls is looking for the credentials on the awscredentials file and when you login using sso the credentials arent there They are created on the fly using and api I dont fully understand what are you using gsts is a replacement for aws cli because my problem is with sls not with aws cli if I use aws cli directly its works fine "},
{"id": 115218, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-26T14:49:53Z", "scrap_date": "2024-04-30T23:50:28.055624", "content": "Yes you are right It seems that sls does not support AWS SSO credentials How to set up the Serverless Framework with your Amazon Web Services credentials That could be related or not"},
{"id": 115219, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-15T12:56:40Z", "scrap_date": "2024-04-30T23:50:28.056624", "content": "Hi I had the same problem with Terraform I made a help util to setup profiles in awscredentials from SSO for me httpsgithub comPredictMobileawsssocredentialsgetter "},
{"id": 1152111, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-17T19:29:05Z", "scrap_date": "2024-04-30T23:50:28.057625", "content": "Just if someone is facing the same error what im doing for now is copy and pasting the Command line or programmatic access variables that AWS gives you just next to the Management console link Those have some expiration time so you will need to do this each time you need to do something on the terminal but is not a big security risk Any way it would be awesome to have this working correctly with SSO "},
{"id": 1152112, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-20T08:01:12Z", "scrap_date": "2024-04-30T23:50:28.058625", "content": "I would love to have this working natively As a workaround Im currently using yawsso to sync SSO credentials Works pretty well for multiple profiles Yet Another AWS SSO sync up AWS CLI v2 SSO login session to legacy CLI v1 credentials victorsklyawsso"},
{"id": 1152113, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-18T15:53:24Z", "scrap_date": "2024-04-30T23:50:28.059625", "content": "The issue was opened httpsgithub comserverlessserverlessissues7567 And it seems that depends on an AWS issue httpsgithub comawsawssdkjsissues2772 It looks like we will have to wait for a native solution "},
{"id": 1152114, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-13T15:26:20Z", "scrap_date": "2024-04-30T23:50:28.060625", "content": "Hello guys Maybe you can check this project httpsgithub comNoovolarileapp Is not a solution per se on this issue but its a third party tool to help make AWS SSO compatible with AWS CLI v2 as well as many other tools that manage temporary credentials It conects with your AWS SSO getting all your account and roles then it creates temporary credentials and stores them in awscredentials instead of default aws sso path which is often not read by libraries or sdks "},
{"id": 1152115, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-27T15:42:29Z", "scrap_date": "2024-04-30T23:50:28.061626", "content": "Hi I had the same problem with Terraform I made a help util to setup profiles in awscredentials from SSO for me GitHub PredictMobileawsssocredentialsgetter work time Hi very usefull and clear Thanks "},
{"id": 1152116, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-03T21:03:54Z", "scrap_date": "2024-04-30T23:50:28.061626", "content": "Didnt work for me I have Ubuntu This package only throwing the error Profile not found I used after installing as ssocred default"},
{"id": 1152117, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-03T21:09:47Z", "scrap_date": "2024-04-30T23:50:28.062626", "content": "I have followed all methods explained in the above thread but no success Any one here with a solution workaround for this with clear steps thanks "},
{"id": 1152119, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-12T07:06:48Z", "scrap_date": "2024-04-30T23:50:28.063626", "content": "According to this discussion Issue 7567 sls doesnt support aws SSO natively and serverlessbettercredentials plugin is the best workaround so far "},
{"id": 1152120, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-14T02:34:55Z", "scrap_date": "2024-04-30T23:50:28.063626", "content": "According to the latest replies to the github issue shared above the best solution so far is to use a plugin Better AWS credentials resolution plugin for serverless Latest version 1 1 3 last published 4 months ago Start using serverlessbettercredentials in your project by running `npm i serverlessbettercredentials` There are no other projects in "},
{"id": 1152121, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-05T18:28:41Z", "scrap_date": "2024-04-30T23:50:28.064626", "content": "I actually have not had luck with Serverlessbettercredentials it would not work for me without manually copying the necessary aws creds to the awscredentials file What did work for me was this utility awsssocredshelper npm once installed just run the command and it will copy the necessary info to the credentials file then serverless will behave as expected so the following at least this is what has solved this issue for me as of 5523"},
{"id": 1152122, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-12T12:46:41Z", "scrap_date": "2024-04-30T23:50:28.065627", "content": "Hi Rhineb I went in the same issue with you before in my case I was using aws configure sso and in awsconfig I have a sso_session in my profile After removing the sso_session awscredentials if existed Serverlessbettercredentials works for me Hope this helps "},
{"id": 1152123, "question_id": 11521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-17T18:24:02Z", "scrap_date": "2024-04-30T23:50:28.066627", "content": "This comment on the Issue in the Serverless Repo was most helpful I ended up adding a deploy script that utilizes the aws configure exportcredentials command package json Perform Deployment to production stage"},
{"id": 73392, "question_id": 7339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T12:56:09Z", "scrap_date": "2024-04-30T23:50:28.946717", "content": "We are in the process of migrating raw CloudFormation templates to Serverless framework and we will be having the same need soon enough I didnt see another integration for API Gateway than lambda Is there hope that a awsService integration would be supported soon enough Or should we handle that with a plugin Thanks in advance for your help "},
{"id": 73393, "question_id": 7339, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-14T15:18:01Z", "scrap_date": "2024-04-30T23:50:28.947717", "content": "Had anyone sorted this out"},
{"id": 73394, "question_id": 7339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-07T13:38:10Z", "scrap_date": "2024-04-30T23:50:28.947717", "content": "Did anyone manage to find a solution for this I am also trying to put an SQS queue behind an API Gateway endpoint "},
{"id": 73395, "question_id": 7339, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-03-24T13:47:31Z", "scrap_date": "2024-04-30T23:50:28.948717", "content": "I have the same issue I need make integration api gatewaysqs I found plugins like However they are incompatible with versions major than 1 8 of Serverless Framework and im using version major 2 I know that this is possible by cloudformation in the Serverless Framework but the configuration is not intuitive for me If anyone found a simple way or just a way for this integration api gatewaysqs by Serverless Framework please help us "},
{"id": 73396, "question_id": 7339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-23T06:05:50Z", "scrap_date": "2024-04-30T23:50:28.949717", "content": "Hi I found a solution paramaccount your_account_id Replace your_account_id with your AWS account ID paramregion your_region Replace your_region with the AWS region you want to use Replace your_queue with the name of your SQS queue "},
{"id": 117512, "question_id": 11751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-29T16:21:34Z", "scrap_date": "2024-04-30T23:50:29.831383", "content": "Hi leijinmin i am facing same issue with env variable from env file where you able to resolve this is being removed from my environment variable on deployment"},
{"id": 199752, "question_id": 19975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-04T08:45:36Z", "scrap_date": "2024-04-30T23:50:30.651835", "content": "I found that i had this variable set in my env so that was taking precedence rather than using from env dev as soon i did unset of that variable in local ENV vars on lambda were updated correctly Thanks Rahul"},
{"id": 199753, "question_id": 19975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-04T08:53:56Z", "scrap_date": "2024-04-30T23:50:30.652835", "content": "can someone let me know how can i close this topic or mark as resolved "},
{"id": 170232, "question_id": 17023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-06T06:42:31Z", "scrap_date": "2024-04-30T23:50:31.583679", "content": "me too Error Could not download template Ensure that you are using the latest version of Serverless Framework Timeout awaiting request for 30000ms does anyone know how to resolve this error "},
{"id": 176042, "question_id": 17604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-08T14:54:41Z", "scrap_date": "2024-04-30T23:50:32.685685", "content": "This looks like a missing dataSource property in the resolver definition "},
{"id": 22572, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T06:58:06Z", "scrap_date": "2024-04-30T23:50:33.695902", "content": "If youre using Lambda Proxy integration the default then you can use event body to access it "},
{"id": 22573, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-12T05:23:30Z", "scrap_date": "2024-04-30T23:50:33.695902", "content": "Ok I see buggy thanks For some reason sometimes the hashes match and other times they do not depending on what sort of data is in the request Would you have any idea why that is Here is my code for hash matching"},
{"id": 22574, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-18T03:47:10Z", "scrap_date": "2024-04-30T23:50:33.697206", "content": "Hey badboy did you manage to work this out Any ideas why it wasnt working for you Cheers Liam"},
{"id": 22575, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-04T01:09:36Z", "scrap_date": "2024-04-30T23:50:33.697206", "content": "Hi badboy liamh Did you guys find a way to do it"},
{"id": 22576, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-16T06:31:10Z", "scrap_date": "2024-04-30T23:50:33.698204", "content": "Im having the same issue In my case the problem is that Lambda receives the body object already parsed If the origin system signed the json object with number 1 0 the object received would be number 1 This is because Javascript converts 1 0 to 1 during the JSON parse I couldnt figure out yet how to solve this "},
{"id": 22577, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-12T02:42:03Z", "scrap_date": "2024-04-30T23:50:33.699203", "content": "I was able to solve the problem by using Serverless templates The documentation at this point is not very clear but you can basically overwrite how the request is parsed to your function There is a good AWS documentation here Thats how I solved it trying to be as compatible as possible with default request event I hope it helps someone PS It seems to not work on Serverless Offline plugin "},
{"id": 225711, "question_id": 2257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-12T03:46:49Z", "scrap_date": "2024-04-30T23:50:33.700203", "content": "williamgurzoni hey did you or anyone else find any way to do it with serveless offline "},
{"id": 199572, "question_id": 19957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-20T16:59:19Z", "scrap_date": "2024-04-30T23:50:34.688550", "content": ""},
{"id": 199573, "question_id": 19957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-20T16:59:56Z", "scrap_date": "2024-04-30T23:50:34.689556", "content": ""},
{"id": 199574, "question_id": 19957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-13T05:26:29Z", "scrap_date": "2024-04-30T23:50:34.690556", "content": "Here is how it works for one lambda function"},
{"id": 200082, "question_id": 20008, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-13T09:13:07Z", "scrap_date": "2024-04-30T23:50:35.744835", "content": "I dont think you can rename it in the traditional sense You might not even be able to change the name attribute If you rename the resource you could probably also change the name but that will deploy a new function then remove the existing one "},
{"id": 200083, "question_id": 20008, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-13T09:56:44Z", "scrap_date": "2024-04-30T23:50:35.745835", "content": "buggy Yes its happening the same its creating new function with renamed name "},
{"id": 200202, "question_id": 20020, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-16T16:23:30Z", "scrap_date": "2024-04-30T23:50:36.725321", "content": "ccant seem to delete the thread so the answer was in my return headers I had to allow cores inside my code here is an example I got from chatgpt that I modified and it solved my issue def lambda_handler event context Extract the origin of the request origin event[headers] get origin "},
{"id": 26882, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-14T09:50:48Z", "scrap_date": "2024-04-30T23:50:38.843429", "content": "5 minutes is a hard limit from AWS You cant increase it "},
{"id": 26883, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-15T05:59:13Z", "scrap_date": "2024-04-30T23:50:38.844429", "content": "is there any workaround to call the streaming API from Lambda function "},
{"id": 26884, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-16T00:48:43Z", "scrap_date": "2024-04-30T23:50:38.844429", "content": "Im not sure exactly what youre doing but it sounds a lot like open a socket and keep writing to it in which case the answer is no You can have one Lambda invoke another to continue the process but the second Lambda would need to open a new socket "},
{"id": 26885, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-16T08:28:05Z", "scrap_date": "2024-04-30T23:50:38.845429", "content": "I would look into kinesis AWS offers this as a streaming option so you could potentially invoke the kinesis service via lambda "},
{"id": 26886, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-17T15:21:52Z", "scrap_date": "2024-04-30T23:50:38.846430", "content": "Are you waiting for longer than 5 minutes for some sort of response or are you trying to loop in the Lambda which is ending up taking too long I had a scenario where I was using an API to create an object which took longer than 5 minutes so I never saw the response back from that endpoint My workaround for that use case was to set a status in a DynamoDB row saying the creation had started then have a cron Lambda execute every minute looking for those items that were creating checking for the object and when found updating the status in DynamoDB to be created "},
{"id": 26887, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T04:47:53Z", "scrap_date": "2024-04-30T23:50:38.847424", "content": "Actually it is a streaming API which i need to run 24 hours to get the data and it gives me data at interval of 2 secs So it only gives me data for 5 mins till function executes I also tried scheduling lambda function every 2 minutes but sometime its not working "},
{"id": 26888, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T04:48:50Z", "scrap_date": "2024-04-30T23:50:38.848431", "content": "Nice Idea can we call third party streaming API with Kinesis and then call Lambda function for operation on data "},
{"id": 26889, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T05:14:31Z", "scrap_date": "2024-04-30T23:50:38.848431", "content": "Most of the AWS apps are pretty proficient at talking to one another You may need to setup some simple SNS simple notification services on AWS to get this all working If youve got a developer account on AWS I would also just ping one of their support engineers to get their two cents on setting this all up "},
{"id": 268810, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T17:29:45Z", "scrap_date": "2024-04-30T23:50:38.849431", "content": "also take a look httpsaws amazon comiot"},
{"id": 268811, "question_id": 2688, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-09-19T21:10:33Z", "scrap_date": "2024-04-30T23:50:38.849431", "content": "5 minutes is the current limit Shameless plug I developed Containerless to enable workloads that dont quite fit inside Lambda but with nearly the same easeofuse as a normal serverless function Uses docker and ECS and you can have long running tasks we use it for this purpose Link containerless cool"},
{"id": 196432, "question_id": 19643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-04T12:30:52Z", "scrap_date": "2024-04-30T23:50:40.659251", "content": "In your VPC create an interface VPC endpoint for your API endpoint This endpoint will serve as a private connection point within your VPC allowing your application to access the API without exposing it to the public internet "},
{"id": 107912, "question_id": 10791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T08:59:21Z", "scrap_date": "2024-04-30T23:50:41.731424", "content": "Yes you can This should help httpsserverless comframeworkdocsprovidersawseventsapigatewayshareapigatewayandapiresources"},
{"id": 107913, "question_id": 10791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T10:19:26Z", "scrap_date": "2024-04-30T23:50:41.731424", "content": "garethmcc thx for answer In my comment above I have yml config based on documentation you linked but its not answer my question I know how to define shared api with new api gateway My question is how to define resources in new serverless app based on api gateway created on old serverless api I want move this api gateway config to new repo because old will be removed I tested it in develop branch and when I remove old sls repo api gateway too was removed "},
{"id": 107914, "question_id": 10791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-05T09:23:06Z", "scrap_date": "2024-04-30T23:50:41.733168", "content": "Did you manage to solve it How did you solve it"},
{"id": 196122, "question_id": 19612, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-12-07T09:26:45Z", "scrap_date": "2024-04-30T23:50:42.770148", "content": "Im working with an AWS serverless application that includes multiple Python Lambdas Whenever I execute serverless deploy in addition to the Python Lambda functions defined in the serverless yml file an extra Node js Lambda called my_app_nameprodcustomresourceeventbridge is automatically generated using Node js 12 x as its runtime My question is How can I modify the Node js version for this Lambda Make sure youre using the latest version of the Serverless Framework currently 3 3 0 Older versions create custom resources with Node js 12 x while newer versions use Node js 14 x by default "},
{"id": 88512, "question_id": 8851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-11T10:05:09Z", "scrap_date": "2024-04-30T23:50:43.828090", "content": "Exact same here with startTime 30d the main CW web console shows logs going back months and months including within the last 14 days yet the most recent result is just from yesterday as if startTime is being ignored sls logs stage live awsprofile thingserverlesslive f login"},
{"id": 88513, "question_id": 8851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-11T10:22:42Z", "scrap_date": "2024-04-30T23:50:43.829089", "content": "For instance the raw CLI is fine"},
{"id": 197502, "question_id": 19750, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-18T14:49:39Z", "scrap_date": "2024-04-30T23:50:44.554386", "content": "Just making sure that youre uploading only png jpg jpeg or gif right And this occurs only for optimization and not for delete What happens if you upload the same file again As the config seems good and it worked for few minutes so it should work unless other kind of file is uploaded "},
{"id": 197503, "question_id": 19750, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-12-18T15:37:31Z", "scrap_date": "2024-04-30T23:50:44.555386", "content": "I found the error is the key when images with special character dont recognize the same key provided by s3 get objects list I fixed deciding the key after all"},
{"id": 88232, "question_id": 8823, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-22T12:27:44Z", "scrap_date": "2024-04-30T23:50:45.609174", "content": "use lambda images instead of handlers "},
{"id": 197512, "question_id": 19751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-12-13T09:11:42Z", "scrap_date": "2024-04-30T23:50:46.569756", "content": "It probably depends how youre creating everything Are you creating an AWSApiGatewayV2Stage If so you can use a Ref to get the value for the stage name AWSApiGatewayV2Stage AWS CloudFormation"},
{"id": 197513, "question_id": 19751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-01-03T21:15:24Z", "scrap_date": "2024-04-30T23:50:46.570755", "content": "I was hoping to avoid using cloudformation Thats the whole point of serverless right Cant this be done without resorting to cloudformation"},
{"id": 198342, "question_id": 19834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-01-04T07:40:57Z", "scrap_date": "2024-04-30T23:50:47.489174", "content": "Hello All Can any one help with above issue"},
{"id": 198802, "question_id": 19880, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-01-20T15:04:22Z", "scrap_date": "2024-04-30T23:50:48.298722", "content": "I found the solution Serverless Framework AWS Lambda Events HTTP API API Gateway v2 Need to use"},
{"id": 47582, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T16:56:21Z", "scrap_date": "2024-04-30T23:50:48.831175", "content": "Is there a reason that you can not use the same API gateway for multiple clients"},
{"id": 47583, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T21:31:56Z", "scrap_date": "2024-04-30T23:50:48.831175", "content": "Yes Every client will have their own stage variables that differentiates them "},
{"id": 47584, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T23:13:32Z", "scrap_date": "2024-04-30T23:50:48.832175", "content": "No really With Serverless you define the functions you want to upload and the events that trigger them From that it automatically builds the API GW You could look an exporting the function ARNs from your CloudFormation stack then have a second CloudFormation template possibly the resources in a different Serverless project that creates an API GW using the functions from the first by importing their ARN from the first stack "},
{"id": 47585, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T00:14:41Z", "scrap_date": "2024-04-30T23:50:48.833176", "content": "Thanks for your suggestion Will give that a try "},
{"id": 47586, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-15T19:36:02Z", "scrap_date": "2024-04-30T23:50:48.833176", "content": "Out of curiosity if the business logic is the same why cant you just use the stage name to programmatically differentiate between customers For example if your API URL is httpsapi mycompany com and youre creating a stage for companyA and companyB why not use a path parameter and then just have your Lambdas handle the stage logic"},
{"id": 47587, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-18T00:42:04Z", "scrap_date": "2024-04-30T23:50:48.834176", "content": "The api url will also be different for different clients "},
{"id": 47588, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-18T04:03:26Z", "scrap_date": "2024-04-30T23:50:48.835176", "content": "If my understanding of your goal is correct the way to achieve that is to make service name dynamic client specific in your case In your serverles yaml you can define something like service myapifor optclient functions your shared functions Now when you deploy for client1 you can go with sls deploy client client1 which will produce respective CloudFormation in scene behind and create client specific API instance Hope it makes sense Thanks "},
{"id": 47589, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-18T04:05:17Z", "scrap_date": "2024-04-30T23:50:48.836176", "content": "That sounds like a good idea Thanks heaps for your suggestion But I am not sure if that will create duplicate functions as well Will give it a try anyways "},
{"id": 475810, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-27T02:08:08Z", "scrap_date": "2024-04-30T23:50:48.836176", "content": "rohith1505 did this work for you If so can you let me know what strategy did you use "},
{"id": 475811, "question_id": 4758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-01-26T20:26:54Z", "scrap_date": "2024-04-30T23:50:48.837177", "content": "cant you add multiple methods to the same function"},
{"id": 191602, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-18T11:05:58Z", "scrap_date": "2024-04-30T23:50:49.872167", "content": "Do you see a runtime under either provider or each of the functions It probably says runtime nodejs16 x Change that to runtime nodejs18 x"},
{"id": 191603, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-18T11:14:18Z", "scrap_date": "2024-04-30T23:50:49.873338", "content": "16 x Change that to runtime nodejs18 x My functions are running in dotnet6 In my serveless yml file I dont have nodejs reference directly"},
{"id": 191604, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-18T11:36:58Z", "scrap_date": "2024-04-30T23:50:49.874343", "content": "Are you using any custom plugins"},
{"id": 191605, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-18T11:51:14Z", "scrap_date": "2024-04-30T23:50:49.874343", "content": "Yes Im using a serverless plugin but the customresourceapigwcwrole isnt created by serverless framework in REST API functions"},
{"id": 191606, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-20T07:57:04Z", "scrap_date": "2024-04-30T23:50:49.875341", "content": "Theres a good chance that plugin is creating the Lambda thats causing the problem Potentially the easiest solution is just to update the plugin version and deploy again You can be certain by looking through the Lambda console to find the Lambda function that is causing the problem then use the CloudFormation console to determine how its being deployed "},
{"id": 191607, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-12-20T20:33:48Z", "scrap_date": "2024-04-30T23:50:49.876335", "content": "To my understanding these resources are created by the Serverless framework when you enable API Gateway logs This is not a plugin but part of core Serverless framework Since these resources are done by the framework we as framework users dont have any ability to set the runtime used e g my project is all Go code I dont use JS at all but these resources are created behind the scenes with JS by Serverless This is problematic as everyone is now seeing in that AWS is deprecating these older Node versions but this code and the runtime it uses doesnt seem to be getting updated along with updates to the Serverless framework Since this is somewhat of a black box its not clear how safe it is for us to just go into the AWS console and change the runtime i e from 16 to 20 which is now the current recommended "},
{"id": 191608, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-01-16T15:24:31Z", "scrap_date": "2024-04-30T23:50:49.877336", "content": "Im also trying to upgrade nodejs16 lambdas and got the same issue Is there any pernament solution"},
{"id": 191609, "question_id": 19160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-01-30T13:28:34Z", "scrap_date": "2024-04-30T23:50:49.878336", "content": "this is the solution Use nodejs18 in customresources by svoychik Pull Request 12146 serverlessserverless GitHub but needs some love from Serverless Inc to get it merged "},
{"id": 46932, "question_id": 4693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-07T12:11:33Z", "scrap_date": "2024-04-30T23:50:50.960109", "content": "I appears that anytime I reference exclude If I dont exclude it packages fine but I get everything in the project which is not desired "},
{"id": 22192, "question_id": 2219, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-06T00:00:47Z", "scrap_date": "2024-04-30T23:50:51.861280", "content": "Looks like your AWS credentials arent configured on your machine Double check they are setup Here is the guide on configuring those httpsserverless comframeworkdocsprovidersawsguidecredentials"},
{"id": 22193, "question_id": 2219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-12T05:04:34Z", "scrap_date": "2024-04-30T23:50:51.862280", "content": "Ty man I just needed to change my secret key"},
{"id": 22194, "question_id": 2219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-25T18:47:24Z", "scrap_date": "2024-04-30T23:50:51.863281", "content": "In my case I am on aws sso credentials It is refreshed The awscredentials is up to date which includes a token I understand serverless looks there and ignores awsconfig But it does not work with awsprofile or without it but with sls config credentials either Very annoying Strange thing is it was working fine 12 hours ago and today there is no luck at all "},
{"id": 22195, "question_id": 2219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-13T13:30:59Z", "scrap_date": "2024-04-30T23:50:51.864281", "content": "Im getting the same error Were you able to deploy"},
{"id": 22196, "question_id": 2219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-11T11:04:30Z", "scrap_date": "2024-04-30T23:50:51.865281", "content": "Delete line region useast1 and try again"},
{"id": 170592, "question_id": 17059, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-13T17:23:22Z", "scrap_date": "2024-04-30T23:50:52.570401", "content": "Any news about this"},
{"id": 116622, "question_id": 11662, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-02T14:36:57Z", "scrap_date": "2024-04-30T23:50:54.545297", "content": "Hello You can do either it depends on your use case One thing that I would avoid is to have any business logic or transformation of any kind in API Gateway You could also use REST with fields client selects the fields it needs or GraphQL which is quite powerful but all this would be handled outside API Gateway Hope it helps "},
{"id": 116623, "question_id": 11662, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-08T12:52:14Z", "scrap_date": "2024-04-30T23:50:54.546296", "content": "Microservices are easier to scale and should be your goto decision if you foresee increased use of your services in the future It comes with its on problems though mostly related to data For example the lack of foreign key checks between scrabble word finder services Just because you use microservices doesnt mean you have to be serverless "},
{"id": 178212, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-11-28T17:37:45Z", "scrap_date": "2024-04-30T23:50:56.100076", "content": "I just realized my post has finally been reviewed and visible after 21 days not sure when it became visible as I had stopped checking after a week or 2 I am still wanting help on this I can use the stackName option to deploy different sets of APIs into different aws stacks But a few things are still hardlinked to the service name so I eventually still hitting conflicts Appreciate your help "},
{"id": 178213, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-23T09:52:46Z", "scrap_date": "2024-04-30T23:50:56.101077", "content": "Im actually facing the same issue with serverless 3 26 0 On your side have you found out a solution for such configuration Thanks in advance"},
{"id": 178214, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-07T14:21:45Z", "scrap_date": "2024-04-30T23:50:56.101077", "content": "need a configuration like this too "},
{"id": 178215, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-21T20:20:33Z", "scrap_date": "2024-04-30T23:50:56.102077", "content": "Hi I already found an alternative yo can put stackName on provider section provider name aws runtime python3 8 stackName ms parammicroserviceGroup v1"},
{"id": 178216, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-28T15:14:40Z", "scrap_date": "2024-04-30T23:50:56.102077", "content": "I can use the stackName option to deploy different sets of APIs into different aws stacks But a few things are still hardlinked to the service name so I eventually still hitting conflicts "},
{"id": 178217, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-28T15:16:00Z", "scrap_date": "2024-04-30T23:50:56.103077", "content": "no I have not So currently I am just deploying all lambdas together "},
{"id": 178218, "question_id": 17821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-19T23:58:05Z", "scrap_date": "2024-04-30T23:50:56.104077", "content": "For anyone else looking for a solution I found a way to fix my issues with dynamic service names in Serverless V3 CLI options can be used in the service name but custom CLI options were deprecated Params also wont work and anything set in custom wont be accessible at runtime for the service name Fortunately environment variables can be used in the name In my case I set the environment variable in a script before running the deploy command then set the service name like so service my_service envMY_CUSTOM_ENV_VAR "},
{"id": 176912, "question_id": 17691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-04T06:52:29Z", "scrap_date": "2024-04-30T23:50:57.107045", "content": "Anybody who can help build it is welcome to join the team "},
{"id": 176913, "question_id": 17691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-05T13:14:18Z", "scrap_date": "2024-04-30T23:50:57.108314", "content": "I have little bit knowledge about CRM development But not expert in it The goal of CRM development services is to utilise customer data effectively and fully while developing tools for managing the customer experience across many touchpoints Sales aids in the best time management lead prioritisation and daily schedule organisation for your sales staff to continually provide excellent sales performance "},
{"id": 176914, "question_id": 17691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-15T16:15:32Z", "scrap_date": "2024-04-30T23:50:57.109311", "content": "Based on the information you provided converting a CRM from Laravel to EC2 with RDSAurora MySQL to Lambda Same Database with the frontend app handled in ReactJS or ReactNative can be a suitable architecture for a CRM This architecture allows for scalability flexibility and the potential to configure it for different tenants on AWS itself The CRM you described which includes customers leadgeneration managers supervisors administrators and team roles with distinct functions for each role can be effectively implemented using this architecture For more detailed information on how to build your own custom CRM system you can visit the following link httpswww cleveroad combloghowtobuildyourowncustomcrmsystem I hope this helps Let me know if you have any further questions "},
{"id": 176916, "question_id": 17691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-23T07:54:05Z", "scrap_date": "2024-04-30T23:50:57.110317", "content": "I am looking forward to converting a CRM from Laravel on EC2 with RDSAurora MySQL to Lambda Same Database with the frontend app handled in ReactJS or ReactNative later In future well be using it as a SaaS application and will see if we can configure it for different tenants on AWS itself Is it going to be the right architecture for a CRM It consists of customers leadgeneration managers supervisors administrators and team roles with some common and other distinct functions for each role You can continue using RDSAurora for the database However consider database sharding or a multitenant database architecture when configuring it for different tenants These approaches allow you to maintain data separation and security for individual tenants while efficiently managing their data When handling B2B data enrichment its essential to have a scalable and organized database structure as this can significantly impact the quality and speed of your data operations Additionally implementing a robust B2B data enrichment strategy involves regularly updating and enhancing your database with accurate and uptodate information You may want to explore thirdparty services or tools that specialize in B2B data enrichment to ensure the data you provide to your tenants is as comprehensive and accurate as possible By doing so you can offer valuable insights and analytics enabling your tenants to make informed decisions and maximize the benefits of your database services "},
{"id": 53932, "question_id": 5393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-22T18:47:22Z", "scrap_date": "2024-04-30T23:50:58.212787", "content": "I have the same problem Did you find a solution Ideally I would like to be able to run a command from outside the directory of the application being deployed This way we could use a node command execution from javascript code using nodes child process The problem if I understood correctly is that currently you can only run serverless deploy if you are in the root of the directory of the application you want to deploy An idea might be to use the existing command flag deploy config to point to a config file somewhere else in the file system In this case we could programmatically deploy an application "},
{"id": 53933, "question_id": 5393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-09T15:26:35Z", "scrap_date": "2024-04-30T23:50:58.214788", "content": "Thanks to serverless I deployed easily AWS Lambda function my own AWS account Currently I wanna to deploy my lambda function to my customers AWS account automatically I will provide them with a UI that they can enter their AWS credentials Key Secret After that it will call my API to automatically deploy my solution to their AWS accounts May I ask that how I can programmatically deploy lambda function using serverless Start by creating a Serverless Framework project if you havent already You can create a new service using the serverless create command and select the desired runtime e g Node js Python etc and service template e g AWS Node js AWS Python etc Ensure that you have AWS credentials configured on your local machine or within your deployment environment You can set these credentials using the AWS Command Line Interface CLI or by setting environment variables These credentials should have the necessary permissions to create Lambda functions IAM roles and other resources "},
{"id": 53934, "question_id": 5393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-23T16:08:13Z", "scrap_date": "2024-04-30T23:50:58.216788", "content": "Thanks to serverless I deployed easily AWS Lambda function my own AWS account Currently I wanna to deploy my lambda function to my customers AWS account automatically I will provide them with a UI that they can enter their AWS credentials Key Secret After that it will call my API to automatically deploy my solution to their AWS accounts May I ask that how I can programmatically deploy lambda function using serverless Heres an example of how you can programmatically deploy a Serverless service to a customers AWS account using Node js and the Serverless Framework const execSync require child_process Define the customers AWS credentials const customerAwsAccessKey YOUR_CUSTOMER_ACCESS_KEY const customerAwsSecretKey YOUR_CUSTOMER_SECRET_KEY Set the AWS credentials for the Serverless Framework execSync sls config credentials provider aws key customerAwsAccessKey secret customerAwsSecretKey Deploy the Serverless service execSync sls deploy "},
{"id": 30822, "question_id": 3082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T17:33:45Z", "scrap_date": "2024-04-30T23:50:59.291358", "content": "Can this help httpsgithub commaciejtrederserverlessapigwbinary Im not actually sure though because it seems like that plugin is to deal with binary payloads incoming requests whereas you are talking about responding with a binary body "},
{"id": 30823, "question_id": 3082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-23T16:08:54Z", "scrap_date": "2024-04-30T23:50:59.292358", "content": "Hi Im using imagemagick to resize and crop images I want to return the cropped image back to the client using the http request In a regular express app I would just do res end stdout binary Where stdout is the binary result from imagemagick resize method However trying to return it using serverless does not seem to work How am I suppose to return the image back to the clients Thanks Matan In a serverless environment you can return the image to the client by encoding it as base64 and setting the appropriate content type in the HTTP response Heres an example of how to do this in Node js using the AWS Lambda framework This code uses AWS Lambda and S3 to store and retrieve the image You would need to adapt it to your specific serverless uncomfortable cursed images environment and storage solution Remember to replace yourbucketname and yourimagekey jpg with your actual S3 bucket name and image key "},
{"id": 169642, "question_id": 16964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-06T22:16:52Z", "scrap_date": "2024-04-30T23:51:00.390020", "content": "Hi you would maybe not expect it but the BBC is seriously doing Serverless Check out my serverlesscorner com newsletter if you like to read more about it Serverlesscorner com newsletter about Serverless technology Issue 2 Revue"},
{"id": 169643, "question_id": 16964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-24T06:26:37Z", "scrap_date": "2024-04-30T23:51:00.391020", "content": "Hi there What are the companies that are or planning to become 100 Serverless I would like to apply to work there LOL Thanks Many companies use a hybrid approach combining traditional serverbased systems with serverless functions where it makes sense This strategy often extends to areas such as CRM data enrichment where serverless solutions can be particularly efficient To find job opportunities at these companies or others pursuing a serverless strategy you can check their career pages LinkedIn and job search websites Major cloud providers like AWS Azure and Google Cloud offer certification programs that can help individuals gain the necessary skills for serverless development roles including those related to CRM data enrichment As more companies transition to serverless architectures its important for job seekers to stay uptodate with the latest trends and best practices in serverless computing especially in the context of CRM data enrichment to stay competitive in the job market "},
{"id": 194252, "question_id": 19425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-27T00:20:41Z", "scrap_date": "2024-04-30T23:51:01.043070", "content": "Encountering the same issue as well This is a much needed feature indeed For now my solution is to run a python script after the serverless deploy command"},
{"id": 126332, "question_id": 12633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-01T00:58:47Z", "scrap_date": "2024-04-30T23:51:02.119194", "content": "was this ever addressed I am running into this now "},
{"id": 142282, "question_id": 14228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:46:13Z", "scrap_date": "2024-04-30T23:51:03.154007", "content": "I would suggest using other methods to access values such as that by passing environment variables to the Lambda functions I have not done this with docker containers yet but I assume you can just use the environment variable support to have things like API_KEY passed into the Lambda environment instead httpswww serverless comframeworkdocsprovidersawsguidefunctionsenvironmentvariables"},
{"id": 142283, "question_id": 14228, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-03T16:18:54Z", "scrap_date": "2024-04-30T23:51:03.155007", "content": "Hmm I guess I could have been more obvious about the problem The api key is to access a package repository from where Im doing a pip install at build time for my docker Its not a runtime env key for my lambda The problem here is the serverless needing the Sha digest of the deployed image to ECR which implies that the image is deployed then I do a SLS deploy by copying the value into the serverless yml But I cannot have this 2 step process in a automated CICD it needs some intervention "},
{"id": 142284, "question_id": 14228, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-18T09:12:41Z", "scrap_date": "2024-04-30T23:51:03.157007", "content": "hey alexanderluiscampino While not optimal this is what im doing With this i still leverage serverless for uploading to ecr and create the lambda with the right versiondigest It would definitively be useful to have it directly supported in the framework have you created a feature request Hope this helps Best "},
{"id": 142285, "question_id": 14228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T03:42:09Z", "scrap_date": "2024-04-30T23:51:03.157007", "content": "Hi macebalp thanks for the suggestion do you have this example on github so I can see it I am assuming that if you run on this on CICD the runner that builds the 1st image keeps that layer around so when the sls deploy happens and that 2nd docker file is used it can pull from the image just created since it is still around Is that it Also how do you make feature requests"},
{"id": 142286, "question_id": 14228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-09T08:33:17Z", "scrap_date": "2024-04-30T23:51:03.158007", "content": "From the documentation You can define arguments that will be passed to the docker build command via the following properties"},
{"id": 142287, "question_id": 14228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-01T15:25:12Z", "scrap_date": "2024-04-30T23:51:03.159007", "content": "Im a little late to this discussion but have the same underlying issue I think I can build my image locally by doing something like this in the Dockerfile RUN mounttypesecretidpip confdstroot configpippip conf pip install r requirements txt t FUNCTION_DIR with my separate repository packages in the requirements txt file included like this my_package indexurl ARTIFACTORY_URL And then building using the following on the command line docker build secret idpip confsrc HOME configpippip conf This seems much better than using environment variables since this access to the local pip conf lasts only during the single RUN line in the Dockerfile ao does not persist in the image From the answers here it seems that I will need to manage the image in ECR separately from my serverless yml configuration and add the repository path in the config Has anyone discovered a way to add that secret argument set to the build command line"},
{"id": 163982, "question_id": 16398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-31T11:28:29Z", "scrap_date": "2024-04-30T23:51:04.084551", "content": "Hey ddss This functionality of fetching secrets manager data via SSM is an AWS feature not a Serverless feature See docs here Referencing AWS Secrets Manager secrets from Parameter Store parameters AWS Systems Manager So the question is will AWS let you reference a cross account parameter probably by full arn using the awsreference syntax when I try it doesnt work I wish I could Let me know if you got around this"},
{"id": 163983, "question_id": 16398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-02T10:35:39Z", "scrap_date": "2024-04-30T23:51:04.086557", "content": "This is related to the ongoing discussion here that looks like its leading to the introduction of a new serverless keyword secretsmanager to handle cross account secrets manager access AWS Get secrets manager output from another account Issue 8771 serverlessserverless GitHub"},
{"id": 196672, "question_id": 19667, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-08T12:58:47Z", "scrap_date": "2024-04-30T23:51:05.046158", "content": "Hi Javier I will be responding to you by email"},
{"id": 196673, "question_id": 19667, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-10T11:07:05Z", "scrap_date": "2024-04-30T23:51:05.047159", "content": "I need a solution as soon as possible I cant do anything about this it has to be solved by an administrator "},
{"id": 127682, "question_id": 12768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-10T07:52:44Z", "scrap_date": "2024-04-30T23:51:05.460255", "content": "urb4nc4rl Hello from the future I need to do this Did you figure out how to do it"},
{"id": 127684, "question_id": 12768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-15T16:58:39Z", "scrap_date": "2024-04-30T23:51:05.461252", "content": "Hi there I have solved this using require and magic quotes My project structure is I simply use require at the beginning of my serverless ts file Then I use it as a JSON object in the environment section"},
{"id": 13912, "question_id": 1391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-18T01:35:23Z", "scrap_date": "2024-04-30T23:51:06.511139", "content": "I have the same problem Followed the Hello World example it deployed fine but invoke hangs indefinitely When I go to AWS and test there it works fine telling me the deploy worked fine but the invoke is the failure Did you find a solution"},
{"id": 13913, "question_id": 1391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-18T13:51:24Z", "scrap_date": "2024-04-30T23:51:06.512139", "content": "Sorry Doug no solution I wrote it off to some quirk of running it in a windows cygwin environment and switched to my mac "},
{"id": 13914, "question_id": 1391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-18T16:52:35Z", "scrap_date": "2024-04-30T23:51:06.512925", "content": "Try passing empty data with data or d switch Using your example above sls invoke local f hello d"},
{"id": 13915, "question_id": 1391, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-29T15:40:31Z", "scrap_date": "2024-04-30T23:51:06.512925", "content": "Following this i had tried d before with no joy Trying data exposed an error message about lack of awssdk in node modules A quick npm install awssdk In the serverless project directory seems to have fixed it Thanks "},
{"id": 13916, "question_id": 1391, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-15T16:59:32Z", "scrap_date": "2024-04-30T23:51:06.513928", "content": "This worked for me sls invoke f hello d "},
{"id": 13917, "question_id": 1391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-17T07:28:13Z", "scrap_date": "2024-04-30T23:51:06.514923", "content": "Yeah it works finally got it thanks man sls invoke f functionName d l"},
{"id": 160172, "question_id": 16017, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-20T09:58:01Z", "scrap_date": "2024-04-30T23:51:07.495424", "content": "Nobody speak in this forum i have the same erro "},
{"id": 179312, "question_id": 17931, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-27T08:27:02Z", "scrap_date": "2024-04-30T23:51:08.583072", "content": "Still relevant does someone has an idea some workaround"},
{"id": 87202, "question_id": 8720, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-21T18:38:37Z", "scrap_date": "2024-04-30T23:51:10.524056", "content": "Hi Daniel I met the same issue as yours Have you found the solution yet thanks Best "},
{"id": 87203, "question_id": 8720, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-22T00:28:02Z", "scrap_date": "2024-04-30T23:51:10.525062", "content": "Hi Kanes Yes I found a solution but not using lambda layers I kept my custom libs in a folder inside my project and referred to them using relative paths eg require custom_libsmyLib Later I got another approach setting a constant with the absolute path for Node that is vartask and appended them in the require path Note that you need to use serverless package commands include and exclude to insert this folder inside each lambda Or use webpack as well to do this kind of job Cya "},
{"id": 87204, "question_id": 8720, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-22T13:45:28Z", "scrap_date": "2024-04-30T23:51:10.526056", "content": "Hi Daniel Thanks for your helpful response I am actually using the first solution of your response One thing makes me want to switch to Lambda Layer is that the deployment take toooooo long I will try the second approach later for comparison Anyway thank you very much Best "},
{"id": 87205, "question_id": 8720, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-22T14:43:13Z", "scrap_date": "2024-04-30T23:51:10.527057", "content": "Yes I suppose that the command package includeexclude that takes longer to process Maybe if you use webpack to bundle includeexclude files this process will be reduced Regards Daniel"},
{"id": 190002, "question_id": 19000, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-10T04:17:50Z", "scrap_date": "2024-04-30T23:51:12.435502", "content": "Did you ever figure this out Ive been struggling for so long trying to import another package in my lambda function "},
{"id": 190003, "question_id": 19000, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-11T03:34:38Z", "scrap_date": "2024-04-30T23:51:12.435502", "content": "Nah couldnt get it to work Ended up using AWS SAM CLI and Docker container "},
{"id": 194952, "question_id": 19495, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-12T11:15:29Z", "scrap_date": "2024-04-30T23:51:13.147216", "content": "From the AWS docs Currently Lambda supports response streaming only on Node js 14 x Node js 16 x and Node js 18 x managed runtimes Sorry but youll need to use Node for now "},
{"id": 156942, "question_id": 15694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-31T14:57:41Z", "scrap_date": "2024-04-30T23:51:14.294887", "content": "Hey have you found a tutorial code that works Mini Militia App Lock"},
{"id": 156945, "question_id": 15694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-06T16:09:05Z", "scrap_date": "2024-04-30T23:51:14.295887", "content": "Where did this example code come from "},
{"id": 156946, "question_id": 15694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-13T08:34:10Z", "scrap_date": "2024-04-30T23:51:14.297224", "content": "this example code is come from Github "},
{"id": 84112, "question_id": 8411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-22T07:21:38Z", "scrap_date": "2024-04-30T23:51:15.084054", "content": "I am also getting the same issue after switching my laptop Error Error EACCES permission denied open Userspiyushpriyadarshi serverlesscache9dbeef5c2a323c7894723902a2ede3c050dab433d5304382400c7e9043f34920autocomplete json Get Support Docs docs serverless com Bugs Issues serverlessserverless GitHub Issues Your Environment Information Operating System darwin Node Version 14 15 4 Framework Version 2 20 0 Plugin Version 4 4 2 SDK Version 2 3 2 Components Version 3 5 1 Anyways after using sudo command I am able to run this sudo sls offline start port 3000"},
{"id": 84113, "question_id": 8411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-13T15:09:01Z", "scrap_date": "2024-04-30T23:51:15.085054", "content": "Still cant deploy due to permission issues in the cache folder Grant permissions to the folder does not help because new files are created there during the deploy without the right permissions Also using sudo is not an option for me because it prevent me do access docker daemon It started to happen when I tried to package python modules using serverlesspythonrequirements plugin "},
{"id": 149712, "question_id": 14971, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-15T15:51:40Z", "scrap_date": "2024-04-30T23:51:16.202965", "content": "I know this question was posted a couple of years ago but I thought it might be helpful to others if I shared my findings here Using provider apiGateway restApiResources to declare existing resources solves this issue The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more Theres AWSApiGatewayResource resource type created for each path part in your API gateway In your case api apiv1 apiv1staff are three common API gateway resources between the two services you shared These resources are created when you deploy your first service And since these resources already exist on second services deployment you get a conflict error Youll have to export all 3 path resources from the first stack and reference it in the second service to solve the issue Service apilambdainsertstaff [Assuming thats the first stack to be deployed] Serivce apilambdagetallstaff"},
{"id": 194372, "question_id": 19437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-26T01:40:58Z", "scrap_date": "2024-04-30T23:51:17.120026", "content": "Was able to generate the state file using serverless v2 4 0 Then modified the runtime for CustomDashresourceDashexistingDashs3LambdaFunction to use nodejs16 x and kicked off the deploy again and it worked "},
{"id": 195092, "question_id": 19509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-18T13:39:32Z", "scrap_date": "2024-04-30T23:51:17.748048", "content": "You need to add a NEW AWS integration to get monitoring up and running You can do so here httpsapp serverless com account_namesettingsintegrations Which is different from the other Serverless Stack created for use in deployments Providers remains the way to create connections to AWS for deployments This specific stack is for allowing the new Dashboard monitoring backend to be able to provide metrics and logs for your invoked Lambdas better than we could do before From Serverless support "},
{"id": 195093, "question_id": 19509, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-09-19T00:31:39Z", "scrap_date": "2024-04-30T23:51:17.750057", "content": "We are still running into the following error when attempting to create the cloudformation stack via the integrations tab It seems as if something to do with our previous integration is interfering with our ability to create the new stack required by the v2 of the dashboard Can anyone from Serverless offer any insight"},
{"id": 194852, "question_id": 19485, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-19T09:37:58Z", "scrap_date": "2024-04-30T23:51:18.555201", "content": "ankan5415 Did you sort this issue I am also facing same issue and didnt get right direction to solve this issue appreciate any pointer "},
{"id": 183992, "question_id": 18399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-09T11:27:55Z", "scrap_date": "2024-04-30T23:51:19.622898", "content": "How are you packaging the code esbuild or webpack"},
{"id": 183993, "question_id": 18399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-20T15:10:57Z", "scrap_date": "2024-04-30T23:51:19.622898", "content": "sven Im facing the same problem Im using esbuild plugin Do you have any directions"},
{"id": 183994, "question_id": 18399, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2023-03-20T18:32:07Z", "scrap_date": "2024-04-30T23:51:19.623899", "content": "Adding the log message I am seeing on AWS so that others searching for a solution can find this discussion thread"},
{"id": 183995, "question_id": 18399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-21T14:41:12Z", "scrap_date": "2024-04-30T23:51:19.624899", "content": "Hey altieres I was chatting with a guy in the Serverless Slack and he saw your comment He wanted me to post this to you they need this in their esbuild config exclude [awssdk] since awssdk has changed from awssdk to awssdk I hope it helps "},
{"id": 183996, "question_id": 18399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-26T22:16:32Z", "scrap_date": "2024-04-30T23:51:19.624899", "content": "FYI the tutorial fails also I edited the serverless yml which was generated by the serverless command and backed down to NodeJS 16 x and it was fine The YAML file referencing NodeJS 18 x was generated by the serverless command "},
{"id": 183999, "question_id": 18399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-20T22:21:23Z", "scrap_date": "2024-04-30T23:51:19.625899", "content": "I got it working here Im using serverlessesbuild to pack and deploy the lambdas I only need to add the latest awssdk v2 because some library uses it behind I think thats it XRay awsxraysdk"},
{"id": 182112, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-18T13:54:21Z", "scrap_date": "2024-04-30T23:51:20.720942", "content": "I am facing the same issue I have to deploy using 18 x because one of the packages I use needs it Is there any solution"},
{"id": 182113, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-02-20T18:39:35Z", "scrap_date": "2024-04-30T23:51:20.721937", "content": "Same issue for me too "},
{"id": 182114, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-03-05T12:43:02Z", "scrap_date": "2024-04-30T23:51:20.722943", "content": "Since serverless framework lacks support for Nodejs18 x and awssdkv3 so I created a topic on it as below Please support it"},
{"id": 182115, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-21T12:21:49Z", "scrap_date": "2024-04-30T23:51:20.722943", "content": "It looks to me like this is the core issue as you have identified Serverless Framework does not yet support AWS SDK v3 Lambda requires us to use SDK v3 in order to use nodejs 18 or higher nodejs 20 is available now So we ServerlessLambda users are stuck on nodejs 16 for now It is understandable that it will take some time for Serverless to do it right however From what I am reading it looks like the modularity and usage of layers in Lambda are quite different So all the code that executes when we do serverless deploy will have to change fairly dramatically Can we get a statement of intent or timeframe estimate from anyone about support sdk v3"},
{"id": 182116, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-06-21T12:28:10Z", "scrap_date": "2024-04-30T23:51:20.723937", "content": "I posted in the Serverless Slack channel so hopefully Ill get a response there Ill post any response I get here for you folks to see as well "},
{"id": 182117, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-06-21T14:18:25Z", "scrap_date": "2024-04-30T23:51:20.724937", "content": "Okay gang I jumped into the Serverless Slack and discussed this problem with a super helpful guy there He helped me understand that there really is no inherent connection between serverless and awssdk So you can continue using awssdk v2 while increasing the providerruntime to nodejs18 x in serverless yml The key is that you have to make sure that awssdk is installed as a dependency rather than as a devDependency You can do this nice and safely by doing this npm uninstall awssdk npm install awssdk That was all I needed and then I could go into serverless yml and go to provider runtime and upgrade from nodejs16 x to nodejs18 x Now Im running serverless with nodejs18 in AWS Lambda The whole issue of upgrading serverless to awssdk v3 is a separate issue because when following this path we are packaging up awssdk v2 with our code and loading it all into Lambda Eventually sure it would be nice to not have to package awssdk v3 but serverless is not there yet Also it looks like there will be some breaking code changes when we get there Nothing horrible but must focus on it This article has info on that when you are ready for it Step by step plan for migrating Node js Lambda functions to V3 of the AWS SDK But Im not going to approach it until serverless approaches it for me Enjoy "},
{"id": 182118, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-29T14:53:47Z", "scrap_date": "2024-04-30T23:51:20.726937", "content": "Hi I have tried as you mentioned now downgraded to aws sdk version 2 from version 3 and trying to use nodejs 18 runtime in provider in serverless yml but getting error as found unsupported runtime nodejs18 x I want to use nodejs 18 as runtime in serverless framework Also could you please tell me what is the serverless version you are using to support nodejs 18 runtime and aws sdk version 2 Sharing my version awssdk ^2 943 0 tried latest version as well for version 2 2 140 0 serverless ^2 60 0 serverlessgulp ^1 0 9 serverlessoffline ^8 6 0 serverlesswebpack ^5 3 3 Getting this error while running serverless offline stagestage offline GET stageinspectionget_auction_codes inspection_getAuctionCodes offline Warning found unsupported runtime nodejs18 x for function inspection_getAuctionCodes offline Failure Unsupported runtime Error Unsupported runtime Could you please help me on this"},
{"id": 182119, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-29T15:05:32Z", "scrap_date": "2024-04-30T23:51:20.728938", "content": "You definitely have to upgrade to serverless 3 32 2 which is not the same as upgrading to aws sdk v3 A"},
{"id": 1821110, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-06T13:40:02Z", "scrap_date": "2024-04-30T23:51:20.728938", "content": "3 32 2 thanks it worked Initially i was getting same issue even after installing this version but then i installed serverless globally then worked "},
{"id": 1821111, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-02T19:23:09Z", "scrap_date": "2024-04-30T23:51:20.729938", "content": "So you can continue using awssdk v2 while increasing the providerruntime to nodejs18 Hi As you said I have upgraded serverless till 3 32 2 also downgraded aws sdk till version 2 and using nodejs 18 as a runtime provider Every thing was looking fine initially but now getting some issue in lambda while calling as below Uncaught exception error The security token included in the request is invalid We have identified this issue seems coming from serverless we did some syntax level changes as well like provider role provider iam role but still not working and issue is coming Sharing some similar thread I found on internet Here I am using role base acces so not using aws access and secret key Could you please help me out how to fix it"},
{"id": 1821112, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-03T15:15:14Z", "scrap_date": "2024-04-30T23:51:20.730938", "content": "Sorry to hear of your trouble I dont have any specific experience with this error sorry But I would say the best possible thing you can do is use the divide the line approach to debugging This means This has ALWAYS worked for me over 25 years of hard core software development Best to you A"},
{"id": 1821115, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-01T05:23:58Z", "scrap_date": "2024-04-30T23:51:20.731939", "content": "gourabb8273 I am facing below issue nodejs18 x I have changed from 14 to nodejs 18 as runtime in serverless framework Getting unsupported runtime also ihave updated all my serverless dependencies including awssdk to v3 can you suggest how to resolve this "},
{"id": 1821117, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-01T10:40:50Z", "scrap_date": "2024-04-30T23:51:20.732939", "content": "Dont upgrade the aws sdk to v3 Thats what is unsupported Alan Neveu alan com 9105081112"},
{"id": 1821119, "question_id": 18211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-20T22:23:59Z", "scrap_date": "2024-04-30T23:51:20.733939", "content": "I got it working here Serverless Framework V3 35 2 NodeJS v18 17 1 awssdk v3 And I needed to pack awssdk v2 together because awsxraysdk uses it "},
{"id": 160312, "question_id": 16031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-29T10:41:13Z", "scrap_date": "2024-04-30T23:51:21.403755", "content": "Checked the code which needs ServiceEndpoint as output in the yml example"},
{"id": 160313, "question_id": 16031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-21T08:05:27Z", "scrap_date": "2024-04-30T23:51:21.404755", "content": "Hi did you found the solution on this issue"},
{"id": 195312, "question_id": 19531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-22T07:25:45Z", "scrap_date": "2024-04-30T23:51:21.977516", "content": "For those who are wondering what the error is this line sitemapBucket xphubsitemap selfcustom stage AWSAccountId and in particular AWSAccountId must be changed to awsaccountId Cheers aculnaig"},
{"id": 185832, "question_id": 18583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-27T00:01:43Z", "scrap_date": "2024-04-30T23:51:22.678724", "content": "Did you manage to solve this Im currently using the latest Serverless version and it dies like so The relevant part in the provider section is The documentation at httpswww serverless comframeworkdocsprovidersawsguideserverless ymls3buckets shows an example like so And the documentation at the link in the example comment takes you to AWSS3Bucket OwnershipControls AWS CloudFormation has the example of So it seems like this should work but it doesnt If I remove the ownershipControls section then everything deploys but the Object Ownership on the created bucket is Object writer instead of Bucket owner preferred Does anyone else know why or how to achieve it"},
{"id": 179792, "question_id": 17979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-03T23:53:30Z", "scrap_date": "2024-04-30T23:51:23.667368", "content": "So I finally figured out that in string replacement of my aws acct ID I have to use awsaccountId but when using the account ID in a Ref statement I have to use AWSAccountId I was flipping between either or based on dodgy information from google searches Anyway I got rid of the malformed policy error but now its telling me that my sourceBucket already exists I dont understand this one because I removed it from the resources section specifically for this reason and I tried removing its associated BucketPolicy I followed the instructions here for using a custom bucket configuration with event triggers but somehow its trying to create the bucket twice The weird thing is when I was troubleshooting the original issue I noticed this happened when I got rid of all of the event trigger stuff and just tried to create 3 different buckets with nothing else happening As soon as I removed the two other buckets it would go back to working So my feeling is it either has something to do with trying to create multiple buckets or the instructions in the serverless docs are wrong and there is another way I should be referencing my s3 bucket defined in the provider section "},
{"id": 179793, "question_id": 17979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-04T21:32:17Z", "scrap_date": "2024-04-30T23:51:23.669369", "content": "I was able to get this stack deployed but not with the event trigger which no matter how I structured it or referenced my handler function kept giving me this error So in the end I ended up just abandoning the event trigger using serverless to scaffold my HTTP API Lambdas and S3 Buckets as well as all their IAM config and then I just logged into the AWS console and added the event trigger manually which is super simple I still wish I could have done this all in serverless using IaC so if anyone has any ideas Id appreciate it if you shared "},
{"id": 179794, "question_id": 17979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-29T21:23:33Z", "scrap_date": "2024-04-30T23:51:23.670369", "content": "I ran into a similar problem today the solution for me was defining the Resource a bit differently From To Or defining the entire thing as an env var established in a preflow"},
{"id": 65012, "question_id": 6501, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T15:52:35Z", "scrap_date": "2024-04-30T23:51:25.605952", "content": "Thats how Ive been doing it APIs that back out Web App use the cognito authorizer like so And REST APis that I expose to our partners for automation integrations use IAM credentialss and the aws_iam authorizer like so Hope it helps "},
{"id": 175212, "question_id": 17521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-18T18:38:21Z", "scrap_date": "2024-04-30T23:51:27.417320", "content": "These are the plugins I used"},
{"id": 175213, "question_id": 17521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-08-22T11:25:18Z", "scrap_date": "2024-04-30T23:51:27.418320", "content": "Ensure to rely on the latest version of the Framework It uses node14 x runtime for custom resourcdes"},
{"id": 175214, "question_id": 17521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-29T10:53:34Z", "scrap_date": "2024-04-30T23:51:27.419157", "content": "Getting due to this exact lambda The serverless Im using"},
{"id": 175215, "question_id": 17521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-29T11:33:52Z", "scrap_date": "2024-04-30T23:51:27.419157", "content": "Ohh I didnt notice the local part of the version Even though I had installed the latest serverless cli the version on the package json was still 2 55 0 Upgrading that to 3 3 0 resolves the issue"},
{"id": 191742, "question_id": 19174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-20T08:01:29Z", "scrap_date": "2024-04-30T23:51:28.176799", "content": "I dont remember all of the changes but they did switch the AWS SDK from v2 to v3 You might want to try using nodejs14 x or nodejs16 x to get away from 12 then do a proper upgrade when you have time "},
{"id": 191743, "question_id": 19174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-20T08:05:33Z", "scrap_date": "2024-04-30T23:51:28.177800", "content": "thank you for your reply I think also to start from 16 do you know how to update the runtime of a single function from the cli"},
{"id": 191744, "question_id": 19174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-20T08:16:50Z", "scrap_date": "2024-04-30T23:51:28.177800", "content": "You could set the runtime parameter for just that function then deploy using Serverless Is that what you mean"},
{"id": 191745, "question_id": 19174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-20T08:23:39Z", "scrap_date": "2024-04-30T23:51:28.178799", "content": "yes but how to do that not through the aws web console I mean for one function its ok but i am updating functions all the time is there a way to update the run time of all the functions without publish a new version of the functions then it will give me to update every function i want whenever i want "},
{"id": 191746, "question_id": 19174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-20T10:28:18Z", "scrap_date": "2024-04-30T23:51:28.179800", "content": "If you deployed the functions using Serverless then you should update them using Serverless Doing it through the console will cause your CloudFormation stacks to be out of sync with your AWS account and can cause problems later "},
{"id": 38602, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-12T18:40:17Z", "scrap_date": "2024-04-30T23:51:29.102848", "content": "Out of curiosity what is your use case where Go ran so much quicker than Node My work does a lot of text processing and were switching from Node to Go to help with speed I have a feeling we might just eek out enough speed improvement to make a serverless architecture affordable "},
{"id": 38603, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-12T19:12:35Z", "scrap_date": "2024-04-30T23:51:29.103849", "content": "We have very tiny functions that run in milliseconds The functions themselves do very little other than chain together calls into other AWS services like database looks ups send IOT message etc The primary role of the functions is to ensure secure access to these other resources Since Go is compiled we eliminated JITing and other start up costs of Javascript On the other hand if your functions are running 1030s this may not matter In your case Id take advantage of the new C language support and write optimized code You can also now upload precompiled libraries so maybe there is an offtheshelf library that is fast As is always the case make sure any calls to AWS services are paralleled Waiting for 5ms for 10 service calls to respond in parallel is far cheaper than waiting 5ms ten times sequentially since lambda charges for wait time "},
{"id": 38604, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-12T21:21:28Z", "scrap_date": "2024-04-30T23:51:29.104849", "content": "Ah that makes sense In my works case startup time would be irrelevant because its a continuous stream of data The cloud functions would always stay warm Its just that once the function accepts the data to process we would want it to finish ASAP I should definitely look into writing cloud functions with Go or C I have no problem using Node for occasionally triggered cloud functions that dont do intense processing but intense processing is definitely not its domain "},
{"id": 38605, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-28T10:09:33Z", "scrap_date": "2024-04-30T23:51:29.105849", "content": "It is always good to work with Golang when distributed systems come into the picture Serverless computing offers a number of advantages over traditional cloudbased or servercentric infrastructure For many developers serverless architectures offer greater scalability more flexibility and quicker time to release all at a reduced cost With serverless architectures developers do not need to worry about purchasing provisioning and managing backend servers However serverless computing is not a magic bullet for all web application developers If you have created AWS Lambda function with Node js then you have felt that the speed is relatively low compare to Golang because go can provide the blazing fast speed in execution There is a documentation regarding AWS Lambda and Golang in Serverless website AWS Lambda is finally Compatible With Golang Best Regards"},
{"id": 38606, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-05T20:45:00Z", "scrap_date": "2024-04-30T23:51:29.107850", "content": "Did you ever try plain C in Lamda or come across examples I dont presently know enough about the Go example to derive whats needed for C "},
{"id": 38607, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-06-05T22:15:46Z", "scrap_date": "2024-04-30T23:51:29.107850", "content": "Lambda in C This post is courtesy of Marco Magdy AWS Software Development Engineer AWS SDKs and Tools Today AWS Lambda announced the availability of the Runtime API The Runtime API allows you to write your Lambda functions in any language provided that you "},
{"id": 38608, "question_id": 3860, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-25T11:46:55Z", "scrap_date": "2024-04-30T23:51:29.108850", "content": "Plain C example in AWS Lambda The rarity of C Lambda examples serves as a clue stick I know But Im remembering XKCD DenverCoder right now "},
{"id": 25352, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-20T03:51:18Z", "scrap_date": "2024-04-30T23:51:29.798484", "content": "Yes this is the new normal VPCbased Lambda functions used to be removed immediately but the ENI that had been automatically allocated so that it could communicate inside the VPC would be orphaned unless you had waiting a certain unspecified amount of time after the function had had traffic This resulted in lots of orphaned ENIs and it was easy to quickly reach the default softlimit for ENIs in an account The recent change in behaviour which I didnt see mentioned anywhere officially but had heard of others experiencing means that your stack cleanup will take as long as it takes to clean up the associated resources in this case the ENI I would hope that this gets faster in the future but I dont think AWS will commit to any timeline or durations its just not their style Just to be clear this has nothing to do with Serverless and everything to do with VPCbased Lambda functions "},
{"id": 25353, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-20T22:25:41Z", "scrap_date": "2024-04-30T23:51:29.800485", "content": "Thats a bummer I was pretty sure this was an AWS problem since the delay was happening during Cloudformation stack delete Thanks for confirming I guess we will just have to work around this "},
{"id": 25354, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T17:22:27Z", "scrap_date": "2024-04-30T23:51:29.801486", "content": "I found a StackOverflow answer httpsstackoverflow comquestions35990747lambdacreatingenieverytimeitisinvokedhittinglimit and a AWS Deleloper Forum answer httpsforums aws amazon commessage jspamessageID734756 that seem to be relevant They both say its due to the Lambda execution policy lacking ec2DeleteNetworkInterface permission But my lambdas have the following permissions and the issue still randomly happens I mitigated the problem moving out of the VPC all Lambdas not requiring VPC access "},
{"id": 25355, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T18:30:30Z", "scrap_date": "2024-04-30T23:51:29.802486", "content": "I recently had an email exchange with Chris Munns who is the Senior Developer Advocate for the AWS Lambda team and he confirmed there definitely is a 40 minute delay when cleaning up ENIs on Lambda functions in VPCs He also told me the 40 minute time issue is being worked on So for now we have to live with it but it appears they are working on getting rid of that delay He indicated they have helped customers with workarounds so if you have support that might be an option Unfortunately our project requires using a VPC because the Lambda functions need access to an RDS database "},
{"id": 25356, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T20:21:50Z", "scrap_date": "2024-04-30T23:51:29.803486", "content": "Ironically Terraform has fixed this issue in their implementation httpsgithub comhashicorpterraformissues5767 While CloudFormation in its dumbness has no way of doing it I wonder if splitting the stack as suggested by httpsforums aws amazon commessage jspamessageID734756jivemessage734756 would help It doesnt make any easier to delete the whole stack but should allow redeploying the stack containing lambdas adding and removing functions at any time"},
{"id": 25357, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T21:58:52Z", "scrap_date": "2024-04-30T23:51:29.804486", "content": "Yeah I read up on how Terraform handles it I believe what they do is tear down the whole vpc subnet and recreate it which has the side effect of deleting the Lambda ENIs "},
{"id": 25358, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-02T16:20:47Z", "scrap_date": "2024-04-30T23:51:29.805486", "content": "From the PR associted to the issue in terraform they are not deleting the subnet but only the ENI attached to a lambda function having a name that match a predefined rule Have a look at httpsgithub comhashicorpterraformpull8033files I think serverless can do the exact same thing that will save a lot of time to all devs that are required to use these fuckg VPC inside a lambda to access RDS"},
{"id": 25359, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-29T01:21:42Z", "scrap_date": "2024-04-30T23:51:29.806486", "content": "cblin Also very interested in this We opened a ticket here httpsgithub comserverlessserverlessissues5008"},
{"id": 253510, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-29T18:51:15Z", "scrap_date": "2024-04-30T23:51:29.806486", "content": "This is also very painful for our team Were using the gitlab ci to deploy our serverless functions and if we dont coordinate our deploys to our integration environment we sometimes run into this problem The CI job will either run for hours or time out As a workaround I was hoping we could somehow disable removal of api methods and force them to be manually cleaned later or have serverless fail to deploy without a force flag if the removal of an api method would occur "},
{"id": 253511, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-04T10:15:39Z", "scrap_date": "2024-04-30T23:51:29.807487", "content": "The same for me I have But its been deleted 40 min every time"},
{"id": 253512, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-21T05:38:44Z", "scrap_date": "2024-04-30T23:51:29.808487", "content": "As a follow up to this issue it seems that the recent overhaul of VPCs in relation to Lambda should fix the issue They have started rolling out the changes and a handful of regions should see the improvement already but they apparently plan to have the full rollout completed some time in December across all regions "},
{"id": 253513, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-26T22:08:04Z", "scrap_date": "2024-04-30T23:51:29.809487", "content": "This should be out in all regions now but Im still seeing this issue "},
{"id": 253514, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-12-04T02:00:04Z", "scrap_date": "2024-04-30T23:51:29.809487", "content": "Seconded Im still seeing it Even with really small stacks if theres a Lambda in a VPC it takes FOREVER to delete "},
{"id": 253515, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-24T14:47:19Z", "scrap_date": "2024-04-30T23:51:29.810487", "content": "Still seeing this issue on 20200624 "},
{"id": 253516, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-08T06:54:13Z", "scrap_date": "2024-04-30T23:51:29.810487", "content": "affirmative 20200825"},
{"id": 253517, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-14T12:42:29Z", "scrap_date": "2024-04-30T23:51:29.811488", "content": "still seeing the issue on 14 Dec 2020"},
{"id": 253518, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-08T06:43:08Z", "scrap_date": "2024-04-30T23:51:29.811488", "content": "Still seeing the issue 08 06 2021 "},
{"id": 253519, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-09T18:17:19Z", "scrap_date": "2024-04-30T23:51:29.811488", "content": "And now this issue is why we are dropping serverless altogether in 112021 Way to go dumbs Ignore more things Nobody has 40 mins to wait for no good reason "},
{"id": 253520, "question_id": 2535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-15T09:29:18Z", "scrap_date": "2024-04-30T23:51:29.812488", "content": "We never see this any more with updated Serverless And remove is rare enough it wasnt too big a deal anyway"},
{"id": 19752, "question_id": 1975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T23:07:25Z", "scrap_date": "2024-04-30T23:51:30.531753", "content": "Are you reading variables from external files That stack trace looks like its trying to read variables from a JSON file and not getting JSON "},
{"id": 19753, "question_id": 1975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T09:46:58Z", "scrap_date": "2024-04-30T23:51:30.532754", "content": "Thanks It was indeed an error in one of my config files "},
{"id": 19754, "question_id": 1975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-25T15:14:55Z", "scrap_date": "2024-04-30T23:51:30.533754", "content": "Which config file Im having a similar error"},
{"id": 95522, "question_id": 9552, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-20T08:59:21Z", "scrap_date": "2024-04-30T23:51:31.610836", "content": "its 2021 and I just encountered this error Any update"},
{"id": 95523, "question_id": 9552, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2022-05-09T07:27:59Z", "scrap_date": "2024-04-30T23:51:31.611837", "content": "Its 2022 and Im facing the same issue any updates"},
{"id": 95524, "question_id": 9552, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-03T11:27:19Z", "scrap_date": "2024-04-30T23:51:31.611837", "content": "random Its 2023 any updates or is it a dead thread"},
{"id": 124042, "question_id": 12404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-01T14:14:03Z", "scrap_date": "2024-04-30T23:51:32.432291", "content": "For any future visitors I had the same issue when using slsdeploy through Github CI I was installing it on the fly before running the deploy I realised this would install the latest version of serverless every time which might contain bugs as they release regularly to npm After I locked it to the older version 2 28 7 that was working fine on my local machine it fixed this issue "},
{"id": 124043, "question_id": 12404, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-04T10:37:53Z", "scrap_date": "2024-04-30T23:51:32.434294", "content": "I was given the same error because some how sls deploy generated function name myfunctionnameundefinedresourceapigwcwrole on CustomDashresourceDashapigwDashcwDashroleLambdaFunction on the cloudformation template instead of the default stage dev Specifying stage with command sls deploy stage dev fixed it"},
{"id": 124044, "question_id": 12404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-12T11:00:39Z", "scrap_date": "2024-04-30T23:51:32.434294", "content": "This worked for me as well"},
{"id": 124045, "question_id": 12404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-21T03:35:17Z", "scrap_date": "2024-04-30T23:51:32.435294", "content": "Im getting this problem too stage dev fixes it but can anyone explain why its happening it and what needs to be done to avoid it"},
{"id": 124046, "question_id": 12404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-15T16:16:07Z", "scrap_date": "2024-04-30T23:51:32.435294", "content": "Im seeing this error in version 3 34 0 and unfortunately none of the things mentioned in this thread have resolved it Version information What Im doing Trying to deploy a stage named prod after deploying the default dev stage for an app The stages are in the same provider I set up a project then ran sls deploy which was successful followed by sls deploy stage prod which is where I encountered the error The message Im getting What Ive tried Whatever I do anything but the default dev stage results in that error Has this still not been resolved"},
{"id": 124047, "question_id": 12404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-15T16:37:14Z", "scrap_date": "2024-04-30T23:51:32.437288", "content": "In my case this was caused by the stackName property being the same for both stages "},
{"id": 160822, "question_id": 16082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-15T08:36:49Z", "scrap_date": "2024-04-30T23:51:33.460621", "content": "How did you add your access key to the environement I did this run serverless config credentials with parameters provider aws key Access key ID secret Secret access key it saves them to awscredentials"},
{"id": 160823, "question_id": 16082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-10T09:31:35Z", "scrap_date": "2024-04-30T23:51:33.461621", "content": "teatime did u fix this error i also have the issue please share the solution if u fix it"},
{"id": 160824, "question_id": 16082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-09T20:49:53Z", "scrap_date": "2024-04-30T23:51:33.461621", "content": "Hi DanielAndarge the problem is because the aws credentials aren t not same on the serverlessproviders with the pc "},
{"id": 160828, "question_id": 16082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-16T10:28:27Z", "scrap_date": "2024-04-30T23:51:33.462621", "content": "The way to correct this is to delete the serverlessrc file then run serverless login to rebuild it and you should be all good"},
{"id": 191925, "question_id": 19192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-17T14:07:50Z", "scrap_date": "2024-04-30T23:51:34.480799", "content": "I should do what and where"},
{"id": 51092, "question_id": 5109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T01:26:36Z", "scrap_date": "2024-04-30T23:51:35.596584", "content": "Your indentation looks incorrect Based on the docs I dont think you need the resources section at all "},
{"id": 51093, "question_id": 5109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T01:37:36Z", "scrap_date": "2024-04-30T23:51:35.597583", "content": "buggy Would that create the resources then or would I have to do that manually through the AWS console"},
{"id": 51094, "question_id": 5109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T04:08:15Z", "scrap_date": "2024-04-30T23:51:35.597583", "content": "kgoedecke You still need to create the User Pool which can be done manually or in the resources section "},
{"id": 51095, "question_id": 5109, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-19T10:01:43Z", "scrap_date": "2024-04-30T23:51:35.598583", "content": "Issue has been resolved it was just an indention problem Thanks guys "},
{"id": 51096, "question_id": 5109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-18T04:39:36Z", "scrap_date": "2024-04-30T23:51:35.599584", "content": "Hey bro by any chance do you know why my cognito authorizer only honors id_token from Header Authorization Bearer id_token I cannot find a way to change this into Bearer access_token from login response I am getting id_token access_token refresh_token Can you enlighthen me please"},
{"id": 110182, "question_id": 11018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-06T08:50:59Z", "scrap_date": "2024-04-30T23:51:36.418569", "content": "After adding this to serverless yml It worked in AWS but still doesnt work with sls offline start "},
{"id": 110183, "question_id": 11018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-14T14:41:46Z", "scrap_date": "2024-04-30T23:51:36.419569", "content": "Did you ever find a solutions for that"},
{"id": 110187, "question_id": 11018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-18T04:42:50Z", "scrap_date": "2024-04-30T23:51:36.420569", "content": "Have you trying uploading using base64 approach"},
{"id": 180512, "question_id": 18051, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-20T14:48:50Z", "scrap_date": "2024-04-30T23:51:37.086812", "content": "If youre using API Gateway you can try this plugin Serverless Framework Plugins It utilizes API Gateways model schema Understanding data models Amazon API Gateway You can also generate a dev portal based on API gateway using AWS SAM Generate Your Own API Gateway Developer Portal AWS Compute Blog"},
{"id": 192203, "question_id": 19220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-22T11:10:43Z", "scrap_date": "2024-04-30T23:51:37.967819", "content": "For future developers that might also attempt this the answer is that the framework does not create the queues automatically We have a post build script that iterates through the queues defined in the serverless config and invokes the RabbitMQ API directly to create the queues bindings etc "},
{"id": 46062, "question_id": 4606, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T12:42:18Z", "scrap_date": "2024-04-30T23:51:40.759710", "content": "If I understand you correctly then resolvers in your main GraphQL API are basically doing a fetch against the GraphQL API for each service If the resolvers in your main GraphQL API have access to the JWT cant they just include that in the header when performing the fetch from each service The custom authorizer for that service can then validate the JWT again FWIW I wouldnt do it the way youve described I would setup a GraphQL API as one service probably using AppSync instead of the API Gateway I would then make the Lambda inside the services the API to that service and have the resolver in the GraphQL API invoke them directly This keeps the interface clean ish because invoking the Lambda becomes your only access to the service but it also reduces latency by removing the second API Gateway second custom authorizer and invoking additional Lambda "},
{"id": 46063, "question_id": 4606, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T13:38:09Z", "scrap_date": "2024-04-30T23:51:40.761710", "content": "Hello No I dont think so Lets try again Every service Table in dynamdb have its own schema and reslovers then in the mainapi I schema stitch the schemas and resolver from the different services and create necessary connection between the schemas i use graphqltool for this httpswww apollographql comdocsgraphqltoolsschemastitching html I dont use remoteschemas right now just divided the services in different folders for now So I think I explained wrong The API Gateway will only have one endpoint to my mainapi Then the mainapi stitch everything together The mainapi will now get the user from the jwt token from the API gateway authorizer But it is here I dont know what to do I have been looking at this project httpsgithub comkkemplegraphqlauth But then I have to change in every service and put the auth where I need it I want to keep the auth separate Does it make more sense Or this is maybe a bad approach I can create a test project on github if you want and have time to look at it"},
{"id": 46064, "question_id": 4606, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T00:48:34Z", "scrap_date": "2024-04-30T23:51:40.762710", "content": "Ive always passed the user to the resolver in the context and left it up to the resolver to decide what the user has access too Frequently this results in the user being passed into the data loader to determine record level access Its the only approach that allows you to control both which records and which fields the user can have access to "},
{"id": 176182, "question_id": 17618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-27T09:45:28Z", "scrap_date": "2024-04-30T23:51:42.435073", "content": "the lamba function receives an event and context object as parameters it specify the S3 bucket name and file key for the file you want to transfer next it provide the detail of external SFTP server including the hostname username password and port "},
{"id": 190382, "question_id": 19038, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-28T10:51:14Z", "scrap_date": "2024-04-30T23:51:43.302772", "content": " So I now created a ubuntu host on AWS installed Python3 9 there then installed the confluent 2 1 1 libraries into a destination folder pythonlibpython3 9sitepackages zipped that imported as a layer and STILLL if i uncompress my python zip I get libpython3 9sitepackages in which i then have confluent_kafka confluent_kafka2 1 1 distinfo confluent_kafka libs and the LICENSE txt file advise please Pleaseeeee help G"},
{"id": 190383, "question_id": 19038, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-28T10:53:21Z", "scrap_date": "2024-04-30T23:51:43.303773", "content": "I keep ending with errorMessage Unable to import module lambda_function No module named confluent_kafka errorType Runtime ImportModuleError requestId de63df94e32a4f5185fdd3cf68d7f4c7 stackTrace OR errorMessage Unable to import module lambda_function No module named confluent_kafka cipl errorType Runtime ImportModuleError requestId de63df94e32a4f5185fdd3cf68d7f4c7 stackTrace "},
{"id": 190384, "question_id": 19038, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-28T11:41:35Z", "scrap_date": "2024-04-30T23:51:43.304773", "content": "Hi guys Got the python import eventually to work Resolution was to build a EC2 instance install python 3 9 16 create virtual env install libraries 2 1 1 zip libraries upload as a layer Initially used a EC2 instance I had build on Ubuntu did not work had to spin a new EC2 using amazon Linux as that is what Lambdas use Worked Now to dig a hole through our firewalls to get outside onto the cluster If anyone needs these libraries happy to share for some background Im working on a M1 based MAC which just made everything transportability of libraries a bit more difficult G"},
{"id": 177882, "question_id": 17788, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-03T09:05:36Z", "scrap_date": "2024-04-30T23:51:44.261247", "content": "Did you find a solution for this Im currently seeing the same error "},
{"id": 188532, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-22T12:23:24Z", "scrap_date": "2024-04-30T23:51:45.343461", "content": "You can leverage the concurrency settings in your serverless configuration file to speed up your deployment process and enable parallel uploads Adjusting this value allows you to control the number of simultaneous Lambda function deployments Try setting it to a higher value like 10 to upload in batches This should help you utilize your bandwidth efficiently and speed up the deployment "},
{"id": 188533, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-22T13:56:40Z", "scrap_date": "2024-04-30T23:51:45.345461", "content": "Do you know some pieces of doc or example that do so This would be of great value"},
{"id": 188534, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-24T12:42:26Z", "scrap_date": "2024-04-30T23:51:45.345461", "content": "You would benefit from taking a threeday intermediatelevel training course to become an aws certified sysops administrator then Im sure you will be able to troubleshoot AWS environments with ease Good luck "},
{"id": 188535, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-25T11:58:44Z", "scrap_date": "2024-04-30T23:51:45.346461", "content": "Try setting it to a higher value like 10 to upload in batches This should help you utilize your bandwidth efficiently and speed up the deployment You would benefit from taking a threeday intermediatelevel training course to become an aws certified sysops administrator then Im sure you will be able to troubleshoot AWS environments with ease Good luck "},
{"id": 188536, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-07T11:03:26Z", "scrap_date": "2024-04-30T23:51:45.347462", "content": "I have an issue with deploying my serverless application using the new compose method and I could really use some guidance from the Serverless community My application consists of multiple services and Im using a CICD pipeline running on an EC2 instance for the deployment process The problem is that the deployment is happening sequentially one Lambda function at a time While the upload speed is decent the sequential deployment is causing significant delays in the overall process "},
{"id": 188537, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-07T13:36:36Z", "scrap_date": "2024-04-30T23:51:45.348462", "content": "using the new compose method [ ] deployment is happening sequentially one Lambda function at a time That is exact same issue here concurrency settings [ ] Try setting it to a higher value like 10 Yes but no issue is bundler is quite hungry of ram and our CICD is limited therefore we need to compile in a very small batch Then zipping is somehow concurrent infinity and then upload is 1 by 1 for some reason threeday intermediatelevel training course Please dont sell your courses on the forum and you even added it twice I knew if I wanted better results I should have open an issue right away on the github "},
{"id": 188538, "question_id": 18853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-10T10:13:37Z", "scrap_date": "2024-04-30T23:51:45.349462", "content": "Can you ple a se highlight the exact answer for me "},
{"id": 190192, "question_id": 19019, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-11T17:33:52Z", "scrap_date": "2024-04-30T23:51:46.410968", "content": "A Node TypeScript template is available AWS TypeScript example"},
{"id": 191292, "question_id": 19129, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-12T11:44:51Z", "scrap_date": "2024-04-30T23:51:47.488078", "content": "Warning Invalid configuration encountered at functions api events 0 httpApi path must be string Oops i found xD im writing wrong doesnt need a Sub shame on me"},
{"id": 150412, "question_id": 15041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-23T06:34:15Z", "scrap_date": "2024-04-30T23:51:48.235643", "content": "1 here grayaii have you had any luck"},
{"id": 150413, "question_id": 15041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-13T07:21:38Z", "scrap_date": "2024-04-30T23:51:48.236637", "content": "How can AWS CodeCommit be used as a trigger for an AWS Lambda function"},
{"id": 144392, "question_id": 14439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-14T01:56:32Z", "scrap_date": "2024-04-30T23:51:49.271674", "content": "any update on this really interested of knowing how can we set this up"},
{"id": 191212, "question_id": 19121, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-07-14T19:30:33Z", "scrap_date": "2024-04-30T23:51:50.198279", "content": "Solved I didnt notice it was serverlessbundle who was excluding awssdk from bundle until Node js 18 runtime The only solution is to list all the packages used Here is the issue I opened with a PR What is the problem Using Node js 18 and AWS SDK v3 significantly increas es lambda size with defaults of serverlessbundle Details From Node js 18 [the Lambda runtime layer include awssdkjsv3] httpsdocs aws amazon comlambdalatestdglambdaruntimes html and the default `forceExclude [ awssdk]` is not working any more and should be replacer by the v3 package but [v3 is modular] httpsgithub comawsawssdkjsv3treemainclients and it is not possible to list the hundreds of packages And because [serverlesswebpack] httpsgithub comserverlessheavenserverlesswebpack do not allow regex or glob pattern there is no workaround On the other hand it would be possible at least to prevent see my PR Note Personally because I did not know who excluded the awssdk it took me more than a day to solve the problem first I searched for hours in the docs AWS after in the Serverless docs and I finally found out it was serverlessbundle "},
{"id": 174212, "question_id": 17421, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-24T14:25:11Z", "scrap_date": "2024-04-30T23:51:51.253499", "content": "Also experiencing this issue did you find a solution"},
{"id": 191192, "question_id": 19119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-24T17:28:37Z", "scrap_date": "2024-04-30T23:51:52.168380", "content": "Solved The problem"},
{"id": 188102, "question_id": 18810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-03T11:11:12Z", "scrap_date": "2024-04-30T23:51:53.208550", "content": "Clarification Mostly all is fixed except Role and Policy automatically created when we use events S3 events with existing bucket According documentation Serverless Framework AWS Lambda Events S3 NOTE Using the existing config will add an additional Lambda function and IAM Role to your stack Question is how to replace inline policy with managed policy in the role that serverless creates automatically when you use s3 events Or replace the role with manually created or other option exist"},
{"id": 188103, "question_id": 18810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-08T10:16:05Z", "scrap_date": "2024-04-30T23:51:53.210550", "content": "Yes it is possible to replace an inline policy with a customer managed policy in AWS Identity and Access Management IAM "},
{"id": 188104, "question_id": 18810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-02T21:05:13Z", "scrap_date": "2024-04-30T23:51:53.210550", "content": "Our company is trying to pass security compliance and one of requirements is not to have inline policies attached to roles Is it possible to replace created by default inline policy attached to role with customer managed Idea is not to have roles with inline policy at all To replace the default inline policy with a customer managed policy Regularly review and audit your policies to ensure they align with your security objectives Implement a well defined policy lifecycle management process with proper documentation and version control Leverage policy inheritance or organization wide policies to reduce the need for role specific policies and ensure consistency "},
{"id": 188105, "question_id": 18810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-11T08:13:04Z", "scrap_date": "2024-04-30T23:51:53.212551", "content": "Yes it is possible to replace an inline policy with a customer managed policy in various access management systems such as AWS Amazon Web Services IAM Identity and Access Management The exact process and capabilities may differ depending on the specific system you are using "},
{"id": 188106, "question_id": 18810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-04T09:59:40Z", "scrap_date": "2024-04-30T23:51:53.213551", "content": "We also facing a security compliance issue while working with the Serverless framework Our company needs to pass security compliance and one of the requirements is to avoid having a inline policies attached to roles By default the Serverless framework creates roles with inline policies which is not in line with our compliance goals We want to replace these default inline policies with customermanaged policies to ensure better control and adherence to security standards "},
{"id": 46752, "question_id": 4675, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-05T22:12:50Z", "scrap_date": "2024-04-30T23:51:54.323676", "content": "I am not an expert but I tried to explain somethings I think you should have a look at [3] which lists different authorizers Cognito needs these roles to give authenticated users IAM RightsPolicies E g direct access a s3bucket You can also give unauthenticated users permissons via an IAMRole Authentication example see [1] These should be the two roles one for authenticated users and the other one for unauthenticated users Also if you use AWS_IAM as authorizer for lambda only users that are authenicated can access the lambda function [see 2] See also 3 and 4 for more on authorizers [1]Authentication example via javascript use case 4 masterpackagesamazoncognitoidentityjs A declarative JavaScript library for application development using cloud services amplifyjspackagesamazoncognitoidentityjs at master awsamplifyamplifyjs [2] API Gateway allow AWS_IAM as authorizer Issue 2186 serverlessserverless GitHub [3] Serverless authorizers custom REST authorizer DEV Community [4] Serverless Framework AWS Lambda Events API Gateway"},
{"id": 46753, "question_id": 4675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T08:40:50Z", "scrap_date": "2024-04-30T23:51:54.326677", "content": "Thanks great links Now that Im thinking about it using AWS_IAM makes more sense than validating the request inside every single lambda function "},
{"id": 32422, "question_id": 3242, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-11T18:53:13Z", "scrap_date": "2024-04-30T23:51:55.442349", "content": "The main reason is that now developers can build complex systems very quickly by composing and combining different services together in a loose orchestration and spend most of their time focusing on their core business problem These serverless systems can scale grow and evolve without solution architects or developers having to worry about remembering to patch that web server yet again eg SLAppForge"},
{"id": 33322, "question_id": 3332, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-15T01:07:24Z", "scrap_date": "2024-04-30T23:51:57.574416", "content": "Are other services also updating those same tables My interpretation of best practice is that you dont want multiple services talking to the same table s if possible not the other way around I dont think theres anything wrong with a service touching multiple tables if the data makes lends itself to be put in multiple tables I definitely wouldnt want to force the data in to one table just so my service only had to talk to one table "},
{"id": 33323, "question_id": 3332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-15T14:47:33Z", "scrap_date": "2024-04-30T23:51:57.575416", "content": "lets imagine the simplest case a microservice A that owns and uses 2 dynamodb tables Now lets say A update involves an update to those 2 tables whats the best way to handle it without having to use the dynamdb transaction lib which apparently does 7n4 operations or something or a complex saga pattern "},
{"id": 33324, "question_id": 3332, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-16T12:12:50Z", "scrap_date": "2024-04-30T23:51:57.576417", "content": "Implementing transactions in a distributed system is going to be complex Off the top of my head youd need to lock copy update unlock and remove the copy for each item in each table as a minimum Im sure Ive missed something which explains the 7n4 Options"},
{"id": 75012, "question_id": 7501, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-03T07:03:16Z", "scrap_date": "2024-04-30T23:51:59.094793", "content": "Hi Ben I think you might have found the answer by now But if not here it is There is no BatchDeleteItem There is only BatchWriteItem This can be used to delte upto 25 items BatchWriteItem Deletes up to 25 items from one or more tables This is more efficient than calling DeleteItem multiple times because your application only needs a single network round trip to delete the items You can also use BatchWriteItem for adding multiple items to one or more tables Learn how to work with the DynamoDB API "},
{"id": 17632, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 9, "created_date": "2017-04-25T23:33:26Z", "scrap_date": "2024-04-30T23:51:59.948385", "content": "Conditional logic isnt supported If you know all of the environments youre deploying to then you could do something like"},
{"id": 17633, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-26T01:17:52Z", "scrap_date": "2024-04-30T23:51:59.949385", "content": "Fantastic Not conditional but that works great for our case as we have 3 set stage names Thanks for the help "},
{"id": 17634, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-08-30T02:47:37Z", "scrap_date": "2024-04-30T23:51:59.949385", "content": "buggy DJHoltkamp you can totally do conditions in serverless yml and mappings too "},
{"id": 17635, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T05:48:55Z", "scrap_date": "2024-04-30T23:51:59.950385", "content": "ezeeetm You can simulate conditional logic in serverless yml by placing the stage name into the path for a variable then defining the value for every possible stage Ive written about that many times including the solution I provided here Its good enough for most people but its not the same as IF x THEN y ELSE z conditional logic CloudFormation is more flexible but it only helps you if you need the conditional logic in the CloudFormation template generated by Serverless If you need the conditional logic as part of running the Serverless command for example the plugins to include then you need to use the stage in the path trick "},
{"id": 17636, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-14T03:41:05Z", "scrap_date": "2024-04-30T23:51:59.951385", "content": "Building on the solution by buggy If you dont know all the environments you will be deploying to you could do something like this So the other stage become all other stages apart from dev and prod"},
{"id": 17637, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-15T21:52:01Z", "scrap_date": "2024-04-30T23:51:59.952385", "content": "Perfect just what I was looking for"},
{"id": 17638, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T14:08:24Z", "scrap_date": "2024-04-30T23:51:59.953386", "content": "Conditional logic isnt supported I was responding more to this Cloudformation conditional logic is supported and as you say a bit more flexible than the variable replacement provided by sls I follow a write once run everywhere highly parameterized pattern for my infrastructure code so sometimes I have 30 or more params for a given stack cfn mappings and conditions are really the best way to handle that kind of parameterizations to be fair I came to sls from many years of cfn so I view sls more as a tool for making it easier to work with cfn while others who came to sls first might just look at cfn as the poo that sls spits out and prefer to stay in native sls as much as possible which makes sense "},
{"id": 17639, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T16:47:47Z", "scrap_date": "2024-04-30T23:51:59.954386", "content": "alechewitt Not sure what is happening in your example Is the self enabled other part a typo Should it not be selfcustom enabled other also I didnt know it was legit to set vars outside of custom"},
{"id": 176310, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-12T05:27:38Z", "scrap_date": "2024-04-30T23:51:59.955386", "content": "iDVB apologies for the late reply I was writing out the case where you want dev and prod to be enabled but all other stages to be disabled With your configuration looking something like this If you deployed to a stage called uat then selfcustom enabled optstage gets evaluated as selfcustom enabled uat which does not exist Therefore it will use the default value of self enabled other which is false I wrote it like this because in some situations you might not know all the different stages you are going to be deploying to ahead of time Therefore you can fallback onto a default value "},
{"id": 176312, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-11-04T18:14:13Z", "scrap_date": "2024-04-30T23:51:59.956387", "content": "As always with Serverless the biggest problem here is that there is zero documentation I really wish theyd do more to document their tool its all guesswork and trying to infer syntax from CloudFormation docs My company chose in their wisdom to use Serverless and everything is an utter nightmare "},
{"id": 176313, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-07T22:45:37Z", "scrap_date": "2024-04-30T23:51:59.957386", "content": "This was helpful as I was looking for this kind of thing as well Id agree that for a lot of uses the solution of having settings for each stage in the custom section is the way to go But I needed to conditional a ton of stuff in the resources section I just wanted to add a small bit to what ezeeetm s example provides When you create the named condition in the Conditions section of resources you then need to specify that named condition for each resource you want to condition Heres an example Any resources in there that dont specify that Condition attribute will of course not be affected More info can be found in the CloudFormation docs for Conditions "},
{"id": 176314, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-18T15:30:20Z", "scrap_date": "2024-04-30T23:51:59.958387", "content": "I think iDVB was wondering about the syntax for the self enabled other I think it should be selfcustom enabled other otherwise self is referring to the toplevel attribute "},
{"id": 176315, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-02T01:09:36Z", "scrap_date": "2024-04-30T23:51:59.959387", "content": "alechewitt ezeeetm What if I need to do logical NOT of the variable For ex NOT OF self custom disabled Please suggest"},
{"id": 176316, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-12T21:09:36Z", "scrap_date": "2024-04-30T23:51:59.959387", "content": "you guys are great thank you for your replies this helped me pretty much"},
{"id": 176317, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-13T22:20:48Z", "scrap_date": "2024-04-30T23:51:59.960389", "content": "you guys are great Thank you for your replies this helped me pretty much snaptube vidmate"},
{"id": 176318, "question_id": 1763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-05T09:16:10Z", "scrap_date": "2024-04-30T23:51:59.960389", "content": "You can use serverlesspluginutils fn ternary enabled ternary optstage prod true false "},
{"id": 172682, "question_id": 17268, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-12T18:37:26Z", "scrap_date": "2024-04-30T23:52:00.963282", "content": "Not sure why but it does this for mine as well No matter what stage I give it deploy command appends hello to the end of every lambda function which is not desirable"},
{"id": 172683, "question_id": 17268, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-13T15:33:13Z", "scrap_date": "2024-04-30T23:52:00.964282", "content": "Can you perhaps share the serverless yml you use when deploying"},
{"id": 172684, "question_id": 17268, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-05T13:20:58Z", "scrap_date": "2024-04-30T23:52:00.965283", "content": "I am not sure where I can find this but every time I create a new lambda through serverless console its creating it as hello itemscreatedevhello for example when I just wanted itemscreate as a lambda function name any idea If you want control over the function name you can explicitly define it in the serverless yml file By adding a name property under the functions section and specifying the desired name such as itemscreate you can override the default naming behavior Just be aware that changing the function name may have implications for other resources dependent on it so ensure you update any references accordingly "},
{"id": 152652, "question_id": 15265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-06T17:50:20Z", "scrap_date": "2024-04-30T23:52:01.707437", "content": "Same problem here This happened when upgrading from v2 to v3"},
{"id": 133213, "question_id": 13321, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-08T01:31:48Z", "scrap_date": "2024-04-30T23:52:02.723858", "content": "I have this issue to along with enabled true being unrecognized Did you ever get a resolution"},
{"id": 133214, "question_id": 13321, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-08T02:37:03Z", "scrap_date": "2024-04-30T23:52:02.724859", "content": "Following worked for me"},
{"id": 133215, "question_id": 13321, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-08T02:59:51Z", "scrap_date": "2024-04-30T23:52:02.724859", "content": "Ah thats curious Ive just now been able to fix mine this way So effectively I changed schedule to eventBridge"},
{"id": 189092, "question_id": 18909, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-08T05:17:51Z", "scrap_date": "2024-04-30T23:52:03.525457", "content": "Just an update for anyone else running into this it seems like there is no solution currently for serverless to hook into existing lambda and gateway resources "},
{"id": 189272, "question_id": 18927, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-03T19:08:47Z", "scrap_date": "2024-04-30T23:52:04.016129", "content": "I should add that the total package size for each function is just 3 5mb"},
{"id": 189273, "question_id": 18927, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-09T02:11:40Z", "scrap_date": "2024-04-30T23:52:04.017129", "content": "Start here This topic details how to manage and configure provisioned concurrency For a conceptual overview of these two types of concurrency controls see Reserved concurrency and provisioned concurrency For more information on configuring reserved Note your custom authorizer also has a startup time Can it utilize caching It also seems like you are performing functions better handled by a related service like Cognito Why would you handle a forgot password in this simple architecture"},
{"id": 189274, "question_id": 18927, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-10T10:27:10Z", "scrap_date": "2024-04-30T23:52:04.018129", "content": "Being straightforward in coldstarts your functions have more time to initiate because it depends on authorizer coldstart and your main function coldstart "},
{"id": 121692, "question_id": 12169, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-01T05:02:24Z", "scrap_date": "2024-04-30T23:52:04.649250", "content": " http ANY proxy Sorry A little bit more patience would have led me to correct the error sooner The guide showed the http event wrapped in a string which is wrong It would be nice if these articles accepted pull requests that guide is full of errors "},
{"id": 121693, "question_id": 12169, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-07T18:20:10Z", "scrap_date": "2024-04-30T23:52:04.650250", "content": "What is the solution can you elaborate"},
{"id": 121694, "question_id": 12169, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-13T17:16:36Z", "scrap_date": "2024-04-30T23:52:04.650250", "content": "The solution for me was that I was using curl to access my new API with something like curl httpsxxxxxxx executeapi useast1 amazonaws comdevmyfunc but that uses GET by default and I had configured my function to use POST So I needed to run curl X POST httpsxxxxxxx executeapi useast1 amazonaws comdevmyfunc Then it worked and i got an internal error but thats another issue This Missing authentication token is just a super bad error message You have to configure each error message separately in API Gateway or else it uses the default "},
{"id": 178582, "question_id": 17858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-15T10:07:56Z", "scrap_date": "2024-04-30T23:52:05.680417", "content": "Adds the ability to create AWSSchedulerSchedule triggers as an alternative t o AWSEventRule which may be preferable if hitting accountwide limits on number of AWSEventRule triggers per bus Lambdas are only able to be triggered from the default bus Unless they need to use `inputPath` or `inputTransformer` developers should be able to just add the `method` config option and seamlessly migrate to use Scheduler if the devs find themselves up against the account quotas Closes [11680 ] httpsgithub comserverlessserverlessissues11680 The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 136342, "question_id": 13634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-16T17:17:02Z", "scrap_date": "2024-04-30T23:52:06.397180", "content": "I think likely because Serverless does not have an enabled option for sqs events Serverless Framework AWS Lambda Events SQS Queues"},
{"id": 136343, "question_id": 13634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-16T17:18:51Z", "scrap_date": "2024-04-30T23:52:06.398179", "content": "Theres this plugin but I have zero experience with it It seems to do what you need "},
{"id": 54942, "question_id": 5494, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-06T22:12:13Z", "scrap_date": "2024-04-30T23:52:07.331377", "content": "Serverless will already do an Output of your MyFunctionLambdaFunction qualified arn using this resource name MyFunctionLambdaFunctionQualifiedArn in the cloudformation template that it generates so you can try adding this to your serverless yml under This will just add the Export property to the Outputs in the cfn template that is generated in the serverless folder Make sure the resource name matches the one that was generated in the cfn template Use command serverless package to populate the serverless folder if you dont have one "},
{"id": 54943, "question_id": 5494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-23T18:50:29Z", "scrap_date": "2024-04-30T23:52:07.332377", "content": "I love you soooooo much Thanks a lot for this answer I was looking for a solution for 3 days and your answer saved my life The trick in my case was because the serverless folder didn`t exists and because of that my stepfunctions dont find the function "},
{"id": 54944, "question_id": 5494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-20T10:15:54Z", "scrap_date": "2024-04-30T23:52:07.333378", "content": "Just in case someone is getting confused this is full script"},
{"id": 48922, "question_id": 4892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-20T14:12:14Z", "scrap_date": "2024-04-30T23:52:08.089387", "content": "Im having the same issue Did you find a better solution than the enabled optstage production "},
{"id": 53292, "question_id": 5329, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-01T09:42:04Z", "scrap_date": "2024-04-30T23:52:09.160377", "content": "Ive also got this question is anyone able to provide any further information From the comments in the serverless yml example linked above I am assuming that the difference is that provider tags are only applied to functions while provider stackTags are applied to all resources including functions "},
{"id": 53293, "question_id": 5329, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-27T13:37:32Z", "scrap_date": "2024-04-30T23:52:09.161377", "content": "The link had the tags comment description changed from what the initial poster showed Right now the comment of tags indicates that its globally applied if tags are given in the provider In my experience this is not working You actually need to add these to stackTags for the desired effect propagation of tags in all the resources declared in the yml file Not entirely sure what the provider tags does It looks to be an unfinished feature as whats in the comment simply does not work Also why provide both provider tags and stackTags Provider tags SHOULD BE the exact same as stackTags accordin to the provider tags comment in the docs This makes zero sense It should be fixed or the docs should be properly updated to indicate whats supposed to happen as current behavior is clearly confusing There is no difference in saying tags Tags that will be added to each of the deployment resources and stackTags Optional CF stack tags as by definition I expect a CF stack tag to be propagated to child resources "},
{"id": 53294, "question_id": 5329, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-24T10:08:57Z", "scrap_date": "2024-04-30T23:52:09.162377", "content": "In my testing tags get added only to functions and API gateway while stackTags get added to the Cloudformation stack and any other AWS resources you create "},
{"id": 53295, "question_id": 5329, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-22T19:44:58Z", "scrap_date": "2024-04-30T23:52:09.163377", "content": "In AWS tags are keyvalue pairs that you can assign to AWS resources such as EC2 instances S3 buckets or RDS databases Tags are used to categorize and manage resources making it easier to identify organize and control them Each tag consists of a key and a value both of which are userdefined strings "},
{"id": 186342, "question_id": 18634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-27T03:52:38Z", "scrap_date": "2024-04-30T23:52:09.938849", "content": "I had the same issue this is how I resolved it in my case I removed serverlessplugintypescript from the serverless yml because it was conflicting with serverlessbundle which already has support for typescript Try this and see if it works for you Cheers "},
{"id": 12692, "question_id": 1269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:05:53Z", "scrap_date": "2024-04-30T23:52:11.943589", "content": "As you said every use case is different To make this somewhat easy to respond to we would need to know if the 10k users is it per second per hour per day or per month Its also worth noting that all of those limitations for lambda can be changed by sending an email or calling up AWS and having them increase your limits They ask you a few reasonable questions then increase it and you are now immediately scaled "},
{"id": 12693, "question_id": 1269, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-06T16:26:42Z", "scrap_date": "2024-04-30T23:52:11.944590", "content": "Just to update this question with the revised AWS Lambda API gateway concurrent limits AWS lambda is 1000 concurrent executions per region thats across all functions by standard with a burst increase to 3000 main regions 1000 new smaller regions Details here httpdocs aws amazon comlambdalatestdgconcurrentexecutions html AWS API gateway is 1000 rps requests per sec I cant see any burst provisioning for API gateway in the docs ref httpdocs aws amazon comapigatewaylatestdeveloperguidelimits htmlapigatewaylimits So for 10K users you should be ok as long as you dont have them all hitting your app at the same time Best bet is to monitor your requests per sec average and use that to guide your provisioning monitoring is your friend here "},
{"id": 123272, "question_id": 12327, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-18T10:29:32Z", "scrap_date": "2024-04-30T23:52:13.366322", "content": "Wow This is pretty old Any plans to support this"},
{"id": 123273, "question_id": 12327, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-18T21:08:06Z", "scrap_date": "2024-04-30T23:52:13.367328", "content": "Well actually I see it IS supported It just dumps the result of the stack deployment several times and spits out this error during all but the first Error Impossible to parse the output of serverless info I tried upgrading to the latest version of the plugin 7 0 2 but no change in the behavior "},
{"id": 183342, "question_id": 18334, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-22T17:21:17Z", "scrap_date": "2024-04-30T23:52:14.241317", "content": "Its work when a replace the httplocalhost8005 by 127 0 0 1"},
{"id": 186862, "question_id": 18686, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-11T07:39:05Z", "scrap_date": "2024-04-30T23:52:15.295110", "content": "I went with a solution where I trigger the lambda with a file the usual way and then based on the file content I let only one to carry on the lambda routine all others dont "},
{"id": 186863, "question_id": 18686, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-27T08:41:24Z", "scrap_date": "2024-04-30T23:52:15.296118", "content": "Hi there the example in the doc looks like this where the upload folder has at the end functions users handler users handler events s3 bucket photos event s3ObjectCreated rules prefix uploads suffix jpg"},
{"id": 149002, "question_id": 14900, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-09T22:08:52Z", "scrap_date": "2024-04-30T23:52:16.363675", "content": "Howdy Id love to know the answers to these questions too Not only does this affect multiple humans working on their workstations but how is Serverless to be used within a CI system to deploy upgrade and destroy deployed resources without a shared state Is there documentation regarding this and I just missed it Thanks in advance "},
{"id": 149003, "question_id": 14900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-25T14:36:42Z", "scrap_date": "2024-04-30T23:52:16.365681", "content": "Also interested in this havent been able to find documentation explaining it "},
{"id": 149004, "question_id": 14900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-30T14:50:53Z", "scrap_date": "2024-04-30T23:52:16.365681", "content": "I am also interested in this does anyone found any solution"},
{"id": 188082, "question_id": 18808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-02T08:44:30Z", "scrap_date": "2024-04-30T23:52:17.390311", "content": "After experimentation I managed to find a solution by myself Instead of using the latest amazon linux 2023 ami I used the amazon linux 2022 ami and worked fine for my case "},
{"id": 156882, "question_id": 15688, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-12T09:01:59Z", "scrap_date": "2024-04-30T23:52:18.213105", "content": "Its because new variable resolver ensures that given properties are resolved before are actually used by internals Were discussing it in more detal here Environment variable in serverless yml throws Cannot resolve error Issue 9813 serverlessserverless GitHub"},
{"id": 156883, "question_id": 15688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-12T13:46:56Z", "scrap_date": "2024-04-30T23:52:18.214105", "content": "Odd but I wasnt getting GitHub notifications I have responded "},
{"id": 156884, "question_id": 15688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-13T16:39:42Z", "scrap_date": "2024-04-30T23:52:18.215105", "content": "So what is the accepted fix for this matter"},
{"id": 156885, "question_id": 15688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-02T16:04:38Z", "scrap_date": "2024-04-30T23:52:18.216105", "content": "This completely violates the closed for modification principle One innocent version upgrade and everything has to be refactored How can the serverless maintainers take their users so little into account"},
{"id": 188272, "question_id": 18827, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-04T16:06:14Z", "scrap_date": "2024-04-30T23:52:19.281257", "content": "Similar posts Dynamic ARN to Cognito authorizer 8 by RobertBrewitz"},
{"id": 149912, "question_id": 14991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-06T09:42:16Z", "scrap_date": "2024-04-30T23:52:20.336071", "content": "I am facing the same issue Did you find ou the solution for this"},
{"id": 188432, "question_id": 18843, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-08T10:15:54Z", "scrap_date": "2024-04-30T23:52:21.393070", "content": "I am not sure if this will solve the issue but a couple of tweaks to clean things up that may at least make any issues more apparent"},
{"id": 11032, "question_id": 1103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T22:16:36Z", "scrap_date": "2024-04-30T23:52:22.013108", "content": "You should be able to set the HTTP_PROXY andor HTTPS_PROXY environment variables and have it work see the libpluginsawsproviderawsProvider js file for the specific handler code if youre interested "},
{"id": 11033, "question_id": 1103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-10T14:02:50Z", "scrap_date": "2024-04-30T23:52:22.014108", "content": "Replying to a very old topic but I encounter the same problem as plhmhck Setting HTTP_PROXY andor HTTPS_PROXY seem to have no effect and inspecting the mentioned awsProvider js file I cant see anything about proxy variables I tried also with a local cntlm proxy before reaching to the corporate proxy to see the network traffic But nothing shows up in the cntlm logs So where I have to specify my proxy settings for the sls framework On another machine with direct internet connection sls deploy works perfectly But behind our corporate proxy the deployment fails with Thanks for any hint "},
{"id": 11034, "question_id": 1103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-10T15:07:26Z", "scrap_date": "2024-04-30T23:52:22.015915", "content": "I found it When I prefix the value of HTTP_PROXY and HTTPS_PROXY with http then the proxy settings work as expected Im just wondering why other applications eg aws cli and curl dont need this protocol prefix Now Im one step further next error is unable to get local issuer certificate because the proxy does ssl inspection Other users seem to have the same problem but no solution yet"},
{"id": 24472, "question_id": 2447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-20T11:37:23Z", "scrap_date": "2024-04-30T23:52:23.017811", "content": "Same issue here Did you find a solution Are we so few people behind a corporate proxy"},
{"id": 24473, "question_id": 2447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-13T03:15:54Z", "scrap_date": "2024-04-30T23:52:23.018811", "content": "I am still facing the same issue still Any idea how to run this command behind proxy I have HTTPS_PROXY and HTTP_PROXY set in environment and NPM Serverless Recoverable error occurred read ECONNRESET sleeping for 7 seconds Try 4 of 4 Serverless [AWS s3 undefined 0 542s 3 retries] getObject Bucket serverlessuseast1deploys Key stack_tags json "},
{"id": 24474, "question_id": 2447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-10T15:09:37Z", "scrap_date": "2024-04-30T23:52:23.019812", "content": "Same issue here who has a solution"},
{"id": 24475, "question_id": 2447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-10T15:35:55Z", "scrap_date": "2024-04-30T23:52:23.020812", "content": "Setting NODE_TLS_REJECT_UNAUTHORIZED to 0 is the key to success Source 1 If you have a question and not a bugfeature request please ask it at h ttpforum serverless com 2 Please check if an issue already exists so there are no duplicates 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Bug Report Feature Proposal Description For bug reports What went wrong serverless deploy failed What did you expect should have happened a new lambda function gets pushed to AWS Lambda What was the config you used ```yaml service mylambdafunction provider name aws runtime nodejs4 3 stage dev region useast1 profile developer functions hello handler handler hello ``` What stacktrace or error message from your provider did you see For feature proposals Deploying from behind corporate firewall with multiple IAM roles devprodetc Similar or dependent issues httpforum serverless comtdeployingwithrolebehindcompanyfirewall1335 Additional Data Serverless Framework Version you are using v1 7 0 Operating System mac os x Darwin Stack Trace ```trace Error ServerlessError ServerlessError connect ETIMEDOUT 54 239 28 247443 at module exports logError errorHandlingError usrlocallibnode_modulesserverlesslibclassesError js9011 at BbPromise resolve then catch e usrlocallibnode_modulesserverlessbinserverless263 at runCallback timers js64920 at tryOnImmediate timers js6225 at processImmediate as _immediateCallback From previous event at _dirname usrlocallibnodemodulesserverlessbinserverless249 at Object usrlocallibnode_modulesserverlessbinserverless274 at Module _compile module js57032 at Object Module _extensions js module js57910 at Module load module js48732 at tryModuleLoad module js44612 at Function Module _load module js4383 at Module runMain module js60410 at run bootstrap_node js3947 at startup bootstrap_node js1499 at bootstrap_node js5093 ``` Provider Error messages ServerlessError ServerlessError connect ETIMEDOUT 54 239 28 247443 For debugging logs run again after setting the SLS_DEBUG environment variable "},
{"id": 188512, "question_id": 18851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-12T02:51:12Z", "scrap_date": "2024-04-30T23:52:24.011762", "content": ""},
{"id": 188513, "question_id": 18851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-12T02:52:01Z", "scrap_date": "2024-04-30T23:52:24.012762", "content": ""},
{"id": 158442, "question_id": 15844, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-30T00:35:34Z", "scrap_date": "2024-04-30T23:52:25.048174", "content": "Short answer use GitHub mayconbordinserverlesspluginexistings3 Long answer you cant do what youre trying to do because S3 bucket triggers are configured as part of the S3 bucket resource in CloudFormation This means you can only setup S3 bucket triggers if your Lambda and S3 bucket are deployed together The Serverless framework hides this detail and makes it look like its the other direction "},
{"id": 158443, "question_id": 15844, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-30T08:16:25Z", "scrap_date": "2024-04-30T23:52:25.050184", "content": "Thanks a lot I just now let Serverless create the bucket and see that the trigger is created Maybe someone from Serverless can update the docs to let people know using an existing bucket is not a viable option "},
{"id": 158444, "question_id": 15844, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-16T10:39:35Z", "scrap_date": "2024-04-30T23:52:25.050184", "content": "This is supported now Doc Serverless Framework AWS Lambda Events S3"},
{"id": 157432, "question_id": 15743, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-02T09:02:46Z", "scrap_date": "2024-04-30T23:52:25.981179", "content": "Im also facing this issue on mac os big sur m1 chip Someone please help "},
{"id": 157433, "question_id": 15743, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-17T11:57:33Z", "scrap_date": "2024-04-30T23:52:25.982179", "content": "Hi AnjaneyuluBatta505 and feredev We just published version 1 1 1 of the serverlesslocalstack plugin It fixes an issue where layers are not deployed when using the mountCode true configuration for hot reloading Check out PR222 for more details If you experience any challenges with LocalStack integrations feel free to reach out to us Best Joel Software Engineer LocalStack"},
{"id": 232, "question_id": 23, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-20T17:39:46Z", "scrap_date": "2024-04-30T23:52:26.896965", "content": "Ultimately the ability to program services within and across clouds Serverless InterCloud httpsga comperspective"},
{"id": 1962, "question_id": 196, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-29T23:47:25Z", "scrap_date": "2024-04-30T23:52:27.997981", "content": "Wouldnt higher compression suggest that its going to take longer to warmup Higher compression requires more compute to decompress Actually copying of the zip across the network but still internal to AWS is going to be a negligible amount of time "},
{"id": 1963, "question_id": 196, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T05:14:52Z", "scrap_date": "2024-04-30T23:52:27.998981", "content": "I use the same zipping method for both the smaller zip file size is because browserify does not include everything in the node_modules folder I guess"},
{"id": 100502, "question_id": 10050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-24T23:05:38Z", "scrap_date": "2024-04-30T23:52:29.195122", "content": "Thanks for the questionhint I got this to work by reversing the DependsOn Remove the DependsOn from the CognitoUserPoolIdentityProvider section and instead add this DependsOn to the CognitoUserPool like this Note I tried this in my own code and it worked I didnt try it on your code "},
{"id": 100503, "question_id": 10050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-14T08:26:13Z", "scrap_date": "2024-04-30T23:52:29.196123", "content": "Hello I hit the same problem on my side Sometime it deploys sometime I get the error The provider Google does not exist for User Pool I try to use the proposed fix with DependsOn but it introduce a circular dependencies My serverless userpool part file serverless version Framework Core 1 78 1 Plugin 3 7 0 SDK 2 3 1 Components 2 34 3 Maybe I miss something "},
{"id": 100504, "question_id": 10050, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-14T08:42:14Z", "scrap_date": "2024-04-30T23:52:29.197123", "content": "It seems that in my case adding the depends on in the UserPoolClient on the IdentityProvider make it working"},
{"id": 100505, "question_id": 10050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-26T01:33:41Z", "scrap_date": "2024-04-30T23:52:29.198123", "content": "I found out that I was writing GOOGLE with uppercase and DependsOn should be in the UserPoolClient component referencing the GoogleIdentityProvider like this"},
{"id": 140072, "question_id": 14007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-26T06:02:23Z", "scrap_date": "2024-04-30T23:52:29.706938", "content": "Were you able to resolve this I am stuck with the same problem"},
{"id": 140073, "question_id": 14007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-28T14:45:15Z", "scrap_date": "2024-04-30T23:52:29.707939", "content": "you could try this "},
{"id": 185912, "question_id": 18591, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-28T14:35:52Z", "scrap_date": "2024-04-30T23:52:30.822249", "content": ""},
{"id": 185913, "question_id": 18591, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-29T08:08:46Z", "scrap_date": "2024-04-30T23:52:30.823249", "content": "Seeing that you are using local env variables as credentials can you double check if you have set the region If you have can you please share your serverless yml file"},
{"id": 186512, "question_id": 18651, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-31T20:25:44Z", "scrap_date": "2024-04-30T23:52:31.879107", "content": "I think people may need more context in order to answer this question What command did you issue that led to this error You might also want to share your serverless config "},
{"id": 182412, "question_id": 18241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-04T10:49:45Z", "scrap_date": "2024-04-30T23:52:32.977936", "content": "Hi you would firstly need to install Docker into the service that is running serverless If youre using a docker image itself to do this we had an issue where we resolved the error by adding To our docker compose file "},
{"id": 187082, "question_id": 18708, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-07T04:50:12Z", "scrap_date": "2024-04-30T23:52:34.093892", "content": "I am still having issues I can run these same commands on a local docker container and the deploy works I was able to get this detailed output Does this line indicate that serverless was able to auth and request data from AWS I was thinking that the connection was not setup correctly but this seems like it is working until it gets to the S3 bucket "},
{"id": 181772, "question_id": 18177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-10T14:42:53Z", "scrap_date": "2024-04-30T23:52:35.083274", "content": "I went with and it did just what I needed"},
{"id": 181773, "question_id": 18177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-11T15:13:53Z", "scrap_date": "2024-04-30T23:52:35.084274", "content": "For anyone else that stumbles upon this and thinks where do I add this See packaging section of documentation "},
{"id": 177712, "question_id": 17771, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-24T02:19:51Z", "scrap_date": "2024-04-30T23:52:36.137325", "content": "I figured out the problem which I just happened on by sheer luck The entire issue was the indentation of the serverless yml Once I indented this way it picked it up Now that this part is working I still have one more issue Im running down The server starts but when I visit the URL I get server app use is not a function I can run the app naturally with the servessr script and listening on the 4000 port so this has to have something to do with the serverless build process that I havent found yet If anyone has any ideas please let me know "},
{"id": 177713, "question_id": 17771, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-13T15:28:45Z", "scrap_date": "2024-04-30T23:52:36.139325", "content": "you can try this way"},
{"id": 49172, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-30T01:09:50Z", "scrap_date": "2024-04-30T23:52:37.162050", "content": "Is there a way to specify which serverless yml file I want to deploy No This has been raised before at Issues serverlessserverless GitHub but I dont believe its ever been implemented The usual advice is to split your application into microservices You cant get around having a separate node_modules for each microservice but thats actually a good thing as it keeps your Lambda size down which helps at run time Finally if you have common utility functions I would recommend putting those into their own NPM package which you can use in your services "},
{"id": 49173, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-05T02:39:41Z", "scrap_date": "2024-04-30T23:52:37.163050", "content": "Thanks a lot buggy Its really hard to put my common functions in a npm package because it changes a lot and it connects to our databases "},
{"id": 49174, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-06T13:47:32Z", "scrap_date": "2024-04-30T23:52:37.164051", "content": "This may be a bit of a hack but how about creating a deploy script for each one with that does something along the lines of deploy sh Then deploy by executing that script with the id and whichever parameters you wish to pass in like so deploy sh 1 deploy sh 2 s prod v deploy sh 3 s anotherstage v etc This all assumes that youre using a bash shell such as bash on nix or gitbash on windows etc Hope this helps "},
{"id": 49175, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-06T14:36:02Z", "scrap_date": "2024-04-30T23:52:37.165051", "content": "Where Ive needed to do something similar Ive put serverless tml files in a sub directory and ran my deploy scripts from there but I bfiebers idea of wrapping sls in scripts seems sound "},
{"id": 49176, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-06T15:47:40Z", "scrap_date": "2024-04-30T23:52:37.166227", "content": "Hello bfieber nice solution just one observation I dont want to delete the serverless yml rm f I need to change its name then after deploy return its old name "},
{"id": 49177, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-06T15:48:35Z", "scrap_date": "2024-04-30T23:52:37.167052", "content": "robertdavidrowland I tried that and the zip file only had the sub directory contents thus no node_modules and others files just the ones inside that subdirectory"},
{"id": 49178, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-06T23:54:40Z", "scrap_date": "2024-04-30T23:52:37.167052", "content": "The rm f is only removing the symbolic link or on windows the copy left from the previous run if it exists Instead of trying to do the rename dance and hope nothing gets lost just using a symlink keeps the originals around and makes the one youre currently needing look like serverless yml Not sure why youre not getting your node_modules I tested it in my environment as and it worked perfectly Are you using a bash script friendly shell If not you can rewrite it as a windows script file "},
{"id": 49179, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T15:31:43Z", "scrap_date": "2024-04-30T23:52:37.168052", "content": "bfieber oh Nice one Ill try it I have windows OS but I use git bash so your sh will work Ill try again the subdirectories to see if it packages only the files where the yml is"},
{"id": 491710, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T21:28:52Z", "scrap_date": "2024-04-30T23:52:37.169052", "content": "It removed my serverless yml file it didnt even created the SL"},
{"id": 491711, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T22:09:27Z", "scrap_date": "2024-04-30T23:52:37.169052", "content": "This is an old thread but ran across it and wanted to post for anyone finding it still Simplest was to combine the copying mentioned above in the package json In the root of my folder I have two serverless files serverlesspublic yml and serverlessadmin yml and then the two scripts just pull one and copy it"},
{"id": 491712, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-10T13:42:47Z", "scrap_date": "2024-04-30T23:52:37.170052", "content": "This is now possible with the config option Please Note that the c option seems broken at this time "},
{"id": 491713, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-05T16:19:15Z", "scrap_date": "2024-04-30T23:52:37.171052", "content": "Hey I cant find an example of this anywhere Can you please provide some example on how to select a different yml Thanks EDIT Right its as easy as you would think just serverless c Not sure why I thought you would have to pass more stuff Thanks"},
{"id": 491714, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T17:09:35Z", "scrap_date": "2024-04-30T23:52:37.172053", "content": "When I specify serverless config pathtoserverless yml it works fine but I have a plugin there and it errors that the plugin is not found Can I set a node_modules as well"},
{"id": 491715, "question_id": 4917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-14T14:19:22Z", "scrap_date": "2024-04-30T23:52:37.172053", "content": "do you have the docs"},
{"id": 187542, "question_id": 18754, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-13T15:19:20Z", "scrap_date": "2024-04-30T23:52:37.980033", "content": "look at the image I share if you talk about custom stage you are saying that in your serverless yml file you have created a custom section and inside it you have a parameter called stage that you fill with some information in the image you see that the variable was created and is entered as an option in case the information does not arrive from the CLI finally the stage parameter is called from selfprovider stage"},
{"id": 187543, "question_id": 18754, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-14T14:28:55Z", "scrap_date": "2024-04-30T23:52:37.981033", "content": "Thank you for providing the details The above error started coming when I upgraded from npm install g serverless 77 1 npm install g serverless latest3 But Initially the following error was throwing useDualstackEndpoint options useDualstackEndpoint false SyntaxError Unexpected token Our Environment Information Operating System linux Node Version 12 18 3 Framework Version 1 77 1 Plugin Version 3 6 18 SDK Version 2 3 1 Components Version 2 33 0"},
{"id": 140962, "question_id": 14096, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-14T21:21:18Z", "scrap_date": "2024-04-30T23:52:39.069826", "content": "Bump As per AWS documentation Using AWS Lambda environment variables AWS Lambda This is such a nightmare to manage secrets in a secure efficient and simple way at the moment with serverless "},
{"id": 170984, "question_id": 17098, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-18T16:25:59Z", "scrap_date": "2024-04-30T23:52:40.111015", "content": "I am also facing the similar issue any suggestions here"},
{"id": 3252, "question_id": 325, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-19T00:02:39Z", "scrap_date": "2024-04-30T23:52:41.177806", "content": "Query parameters are available in the default request template if youre using a recent version of Serverless You should just be able to get them from event query customerId in your example "},
{"id": 5252, "question_id": 525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:58:35Z", "scrap_date": "2024-04-30T23:52:42.229987", "content": "Hi deepu sundar at the moment at serverless we dont support multiprovider out of the box so you would have to implement the data gathering on each provider yourself and then forward that to an AWS based system Best way to do it would probably be to have some small pieces running on Google Azure and upload those into an S3 bucket From that S3 bucket you can then run lambdas to work through that data "},
{"id": 5172, "question_id": 517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T13:04:13Z", "scrap_date": "2024-04-30T23:52:43.006953", "content": "At the moment nonblocking is irrelevant because as you say it only serves one request In the future if AWS implements request parallelism inside of one lambda that might be different just to make sure I have no knowledge of them working on it could just be something they might want to do at some point So its good to assume at the moment and my assumption is that FaaS providers will make you specifically say you want to parallelise requests in one function in the future Id be surprised if they do it out of the box "},
{"id": 5173, "question_id": 517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T13:57:22Z", "scrap_date": "2024-04-30T23:52:43.008953", "content": "yeah it would be interesting to see the result of allowing multiple concurrent requests for a single lambda instance they would be competing for CPURAMIO resources Just another little thought experiment If your use case is such that your lambda is pretty much IO bound like the typical WebApp usually you might be getting double billed while your function just sits waiting for data to come back Example lambda function X spends 5ms processing input lambda function X spends 500ms waiting for data external IO charges dynamoDB or something else lambda function X spends 5ms prepping output if you were a giant netflix facebook size youd prob save a ton of money if you could have IO services offer async webhook style responses somehow websocket stream back to clients anyway thanks for the reply "},
{"id": 5174, "question_id": 517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:55:28Z", "scrap_date": "2024-04-30T23:52:43.009953", "content": "could have IO services offer async webhook style responses somehow websocket stream back to clients Id love to see a Websocket endpoint on APIG where you can send back data packets similar to services like Pusher Then the whole system on Lambda could be completely event based Id assume that they would implement something like parallelism on functions but it could also lead to massive problems and basically youre getting closer to actual servers then For only optimising specific things that could be interesting "},
{"id": 5175, "question_id": 517, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-13T22:33:57Z", "scrap_date": "2024-04-30T23:52:43.010953", "content": "Sounds like you want AWS IoT flomotlik There was a good presentation on IoT and Lambda from Adam AWS at the Serverless Sydney Meetup last night "},
{"id": 5176, "question_id": 517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T09:44:23Z", "scrap_date": "2024-04-30T23:52:43.011954", "content": "Yup IOT might help there we still need to evaluate it in more detail Ive heard mixed things about it so far "},
{"id": 6202, "question_id": 620, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T15:54:15Z", "scrap_date": "2024-04-30T23:52:44.090190", "content": "Hi Chet Im new here as well although Ive spent a bit more time on AWS than you have so Im hoping I can help point you in the right direction on the back end Given the sheer number of services available it can be difficult to figure out where to get started with AWS but I highly recommend spending some time with some of their Getting Started tutorials which tend to be quite good The simplest AWS service is S3 so Id start there with this Curious how to get started with cloud storage Learn about the various SDKs third party tools and gateways that grant access into Amazon S3 And then check out the AWS CLI on the same topic httpdocs aws amazon comclilatestreferences3index htmlcliawss3 Generally speaking anything you can do through the AWS Console you can do with the CLI With that as a foundation Id do the Getting Started on Lambda Once you get through that itll become clearer where the Serverless Framework ends and AWS begins Pete"},
{"id": 6203, "question_id": 620, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-27T16:07:20Z", "scrap_date": "2024-04-30T23:52:44.092190", "content": "Hey ccorcos One option for auth is aws cognito see an example here httpsgithub comdanilopLambdAuth I dont think it will work out of the box w the framework httpsgithub comdanilopLambdAuthissues53 We use auth0 for easy auth setup You can see that in action on httpsserverless com by clicking join beta The implementation is open source here httpsgithub comserverlesssiteblobmastersrcreduxusermiddleware js For CRUD stuff check out pmuens s httpsgithub compmuensserverlesscrud project"},
{"id": 182982, "question_id": 18298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-10T17:56:11Z", "scrap_date": "2024-04-30T23:52:45.716773", "content": "This has been resolved The reference should be selfcustom config STORAGE_TRIGGER_CONNECTION not self custom config STORAGE_TRIGGER_CONNECTION Notice that self has a colon separator rather than a period "},
{"id": 183112, "question_id": 18311, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-02-13T15:44:11Z", "scrap_date": "2024-04-30T23:52:46.613934", "content": "found it you can simply put the entire cronrate in string as rate value"},
{"id": 174522, "question_id": 17452, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-08-03T09:32:42Z", "scrap_date": "2024-04-30T23:52:47.701114", "content": "prabakaranlookman I have the same issue Did you find a solution for it"},
{"id": 174523, "question_id": 17452, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2022-08-07T11:46:59Z", "scrap_date": "2024-04-30T23:52:47.702112", "content": "Hi can you try updating your node version According to their github page serverlessofflice v9 1 6 requires node 14 18 0"},
{"id": 174524, "question_id": 17452, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-16T11:10:00Z", "scrap_date": "2024-04-30T23:52:47.703113", "content": "Which node version are you running Update node version"},
{"id": 175992, "question_id": 17599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-17T09:58:57Z", "scrap_date": "2024-04-30T23:52:48.290905", "content": "Im having the same issue Did you figure it out by now"},
{"id": 155402, "question_id": 15540, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-20T18:40:05Z", "scrap_date": "2024-04-30T23:52:49.159900", "content": "errorMessage Unable to import module handler No module named pandas In most cases this error in Python generally raised You can run the following command in your LinuxMacOSWindows terminal pip install pandas To be sure you are not having multiple Python versions that are confusing you should run following commands"},
{"id": 24122, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T13:00:06Z", "scrap_date": "2024-04-30T23:52:49.670949", "content": "I have the same question I was hoping that overriding the AWS resource would help but it didnt work for me See section Override AWS CloudFormation Resource"},
{"id": 24123, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-21T16:04:31Z", "scrap_date": "2024-04-30T23:52:49.671949", "content": "I am having the same problem using serverless to manage my backend services on AWS Ive divided my project into two stacks one that defines all the lambdas and another that defines only resources such as DynamoDB tables and User Pools Im now stuck not knowing how to define my PreSignUp trigger in the service stack so that it will reference a User Pool thats already been created I can always manually go into the User Pool console and select the correct lambda but that just seems wrong Ive tried using an ARN where pool is specified but I get a validation error no colons accepted for example The above does not work so Id like to know how to do this correctly "},
{"id": 24124, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-14T20:33:33Z", "scrap_date": "2024-04-30T23:52:49.673949", "content": "I am having the very same issue I do not want to create the user pool again Why can we not reference an already existing Arn for user pool"},
{"id": 24125, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-22T03:07:30Z", "scrap_date": "2024-04-30T23:52:49.673949", "content": "Well looks like Im in the same boat with everyone else on this thread Has nobody figured out a way to deal with this I also have an existing user pool created and would love to just define my serverless yml file to point to this user pool but I cannot figure out how to do this "},
{"id": 24126, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-27T19:43:58Z", "scrap_date": "2024-04-30T23:52:49.674950", "content": "I found this in cloudformation docs Im a newb so not really sure how this works but I I think serverless uses cloudformation under the hood httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpoolclient html"},
{"id": 24127, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-01T09:11:34Z", "scrap_date": "2024-04-30T23:52:49.675950", "content": "I am also dividing my app into 2 stacks as tcchau is doing and ended up doing it backwards The Cloudformation stack that defines the Cognito user pool specifies the ARN for the lambda trigger rather than letting Serverless try to connect the trigger to the user pool This works because Cloudformation andor Cognito does not seem to care that the user pool trigger configuration references a lambda that might not exist This is ugly but gets around having to manually connect the pool to the trigger"},
{"id": 24128, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-07T13:32:39Z", "scrap_date": "2024-04-30T23:52:49.676950", "content": "Thanks guys I appreciate the response "},
{"id": 24129, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-17T11:57:12Z", "scrap_date": "2024-04-30T23:52:49.677951", "content": "Im struggling with the same problem and dont understand what your suggested solution to the problem is from what youve written above This is what I have in serverless yml And this results in the same problem that others have described above creates a separate user pool with same name as my actual user pool What value should I use for the pool to prevent a separate pool being created Id be super grateful for any help with this "},
{"id": 241210, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-01-17T12:31:55Z", "scrap_date": "2024-04-30T23:52:49.678951", "content": "I have a separate CloudFormation template that defines my Cognito user pool In it I define the post confirm trigger as part of the user pool resource like this This works cause Cognito does not seem to care that the ARN of the lambda function is bogus when the user pool is created Then I let serverless define the lambda but dont connect it to any event Leave the events section blank If you use cognitoUserPool at all serverless will create a new pool Then there is one last piece You need to give Cognito permission to invoke the post confirm lambda I put this in serverless yml In your case the DependsOn value should be PostConfirmationLambdaFunction check the serverlessstate json file for the name that serverless generated The lambda name should be something like whatever your service name is stage postConfirmation This is very hacky but it works I precreate my user pool via CloudFormation once then use serverless to manage the post confirmation trigger and connect the invoke permissions "},
{"id": 241211, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-26T16:07:05Z", "scrap_date": "2024-04-30T23:52:49.679951", "content": "Thanks very much for your reply For now Im sticking with manually adding the post confirmation trigger via the console but I now have a much better understanding of your solution "},
{"id": 241212, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-22T20:53:39Z", "scrap_date": "2024-04-30T23:52:49.680952", "content": "There is now a flag called existing that will use an existing user pool"},
{"id": 241213, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-25T09:01:52Z", "scrap_date": "2024-04-30T23:52:49.681952", "content": "Ive divided my project into two stacks one that defines all the lambdas and another that defines only resources such as DynamoDB tables and User Pools I was struggling with the same thing to protect part of the functionality of my lambda function Maybe my situation is a bit different but I did this I hope it can give you some inspiration So I use an existing user pool and force autorization on the API gateway "},
{"id": 241214, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-03T18:59:02Z", "scrap_date": "2024-04-30T23:52:49.682952", "content": "I dont know if this is the correct solution but it worked for me I created a new authorizer using the AWS console screen to use my existing Cognito User Pool and I set the Authorizer Id inside my serverless yam file like this"},
{"id": 241215, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-07T12:47:32Z", "scrap_date": "2024-04-30T23:52:49.682952", "content": "PostConfirmTriggerInvokePermission That helped me a lot thank you I cannot however find anywhere in documentation mention of PostConfirmTriggerInvokePermission Could you tell me where in the docs do you find mention of this property Thanks again "},
{"id": 241216, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-03-07T18:47:07Z", "scrap_date": "2024-04-30T23:52:49.683952", "content": "That is just the name I gave the resource in the Resources section of my serverless yml The Resources section has to be CloudFormation syntax You can call it whatever you want The important part was configuring the Lambda permission "},
{"id": 241217, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-23T10:20:43Z", "scrap_date": "2024-04-30T23:52:49.684952", "content": "Why can we not reference an already existing Arn for user pool Speed Test"},
{"id": 241218, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-19T09:01:57Z", "scrap_date": "2024-04-30T23:52:49.684952", "content": "This might help someone especially for existing user pools"},
{"id": 241219, "question_id": 2412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-20T18:40:50Z", "scrap_date": "2024-04-30T23:52:49.685952", "content": "I know there is one option to import it Manually from AWS Console and then referencing it in the serverless yml using this manual aws amazon comblogsaws "},
{"id": 177972, "question_id": 17797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-01T13:46:34Z", "scrap_date": "2024-04-30T23:52:50.677691", "content": "This seems to do the trick"},
{"id": 177973, "question_id": 17797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-04T06:39:25Z", "scrap_date": "2024-04-30T23:52:50.678691", "content": "I solved this issue by making a separate handler module that imports the index mjs file and calls the handler in it like lambda would This handler must be a CJS module i e not mjs or typemodule in package but you can still use imports in it to import your ESM module Use a named import since all handlers are named This works perfectly fine for me and can be copied over between all functions without editing assuming all functions have the same naming for the handlers and modules"},
{"id": 177975, "question_id": 17797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-20T18:41:00Z", "scrap_date": "2024-04-30T23:52:50.679692", "content": "SyntaxError Cannot use import statement outside a module To solve the error set the type attribute to module when loading the script in your HTML code When working with ECMAScript modules and JavaScript module import statements in the browser youll need to explicitly tell the browser that a script is module To do this you have to add typemodule onto any script tags that point to a JavaScript module Once you do this you can import that module without issues script typemodule src index jsscript If you are working on Node js or react applications and using import statements instead of require to load the modules then ensure your package json has a property type module as shown below Moreover In some cases you may have to use both import and require statements to load the module properly This error Cannot use import statement outside a module can happen in different cases depending on whether youre working with JavaScript on the serverside with Node js or clientside in the browser There are several reasons behind this error and the solution depends on how you call the module or script tag "},
{"id": 182932, "question_id": 18293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T17:15:27Z", "scrap_date": "2024-04-30T23:52:51.329714", "content": "I dont think adding forceDeploy true would help but I added it afterwards anyway Now Im sure that it wouldnt help "},
{"id": 182933, "question_id": 18293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-23T19:41:16Z", "scrap_date": "2024-04-30T23:52:51.330714", "content": "Just want to bump up this question in an attempt to draw more attention "},
{"id": 183582, "question_id": 18358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-25T03:47:59Z", "scrap_date": "2024-04-30T23:52:52.443690", "content": "I noticed image is unreadable"},
{"id": 183583, "question_id": 18358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-25T03:48:32Z", "scrap_date": "2024-04-30T23:52:52.444691", "content": ""},
{"id": 182552, "question_id": 18255, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-27T16:50:37Z", "scrap_date": "2024-04-30T23:52:53.485219", "content": "you try with stackTags here a little example provider name aws runtime nodejs14 x stage optstage selfcustom default_stage region useast1 iamRoleStatements Effect Allow Action sqsReceiveMessage sqsSendMessage sqsDeleteMessage Resource Sub arnawssqsuseast1 AWSAccountId earnixsqs selfprovider stage Effect Allow Action lambdaInvokeFunction Resource arnawslambdauseast1xxxxxxxfunctionxxxx Effect Allow Action lambda Resource arnawslambdauseast1xxxxxxxxxxxxs stackTags firstTag xxxx secondTag xxxx"},
{"id": 37472, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T15:00:27Z", "scrap_date": "2024-04-30T23:52:54.495423", "content": "The best way to structure a large project is with an API per functionality users products payments etc You will end up getting long deploy times if you do not structure in this way and you will end up hitting a hard limit of 200 resources per Cloudformation template Good luck"},
{"id": 37473, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-12T21:53:41Z", "scrap_date": "2024-04-30T23:52:54.496424", "content": "Franky you can reference smaller yaml files with the file variables httpsserverless comframeworkdocsprovidersawsguidevariablesreferencevariablesinotherfiles"},
{"id": 37474, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T23:26:25Z", "scrap_date": "2024-04-30T23:52:54.496424", "content": "DavidWells thanks for the hint i did overlook this little detail in the docs "},
{"id": 37475, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-02-03T18:05:55Z", "scrap_date": "2024-04-30T23:52:54.497424", "content": "Franky you can reference smaller yaml files with the file variables Serverless Framework Variables This doesnt really answer the question Yes you can use file to reference variables but what about entire blocks of CloudFormation resources E g "},
{"id": 37476, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-03T21:40:38Z", "scrap_date": "2024-04-30T23:52:54.498424", "content": "yeah the file pathtofile yml can do exactly what you mention"},
{"id": 37477, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-04T16:22:08Z", "scrap_date": "2024-04-30T23:52:54.498424", "content": "It doesnt seem to work like this unfortunately"},
{"id": 37478, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-04T19:31:02Z", "scrap_date": "2024-04-30T23:52:54.499425", "content": "Ah right right right I remember now I was using serverless js and this package httpsgithub comblackfluxyamlboostdeepmerge to deep merge them Here was the usage example httpsgithub comblackfluxlambdamonitorblobmasterserverless js"},
{"id": 37479, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-09T17:58:55Z", "scrap_date": "2024-04-30T23:52:54.500424", "content": "Huh I was kinda hoping for a builtin solution too bad Serverless doesnt have it I could also go this route which isnt perfect but better than what I have now Serverless variable refs want to be used in colon pairs not freefloating in the middle of the YAML file "},
{"id": 374710, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-19T20:34:36Z", "scrap_date": "2024-04-30T23:52:54.500424", "content": "ffxsam check out httpsgithub comBack9digitalb9teesheetblob2de85a0cfd9d02dd848f779e09102c8cdd74e88dserverless ymlL162L201"},
{"id": 374711, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-19T20:45:43Z", "scrap_date": "2024-04-30T23:52:54.501425", "content": "Whoa Thanks Ill give this a shot when I get a chance "},
{"id": 374712, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2019-03-12T16:41:00Z", "scrap_date": "2024-04-30T23:52:54.502425", "content": "I ran into this problem as well The key here seems to be dropping the includes under resources lowercase starting each included file with Resources uppercase serverless yml dynamo yml roles yml"},
{"id": 374713, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T13:25:28Z", "scrap_date": "2024-04-30T23:52:54.502425", "content": "DavidWells So I came back to this thread to look again at what you did that elicited a whoa but its gone now Any chance of throwing something into pastebin so it lives forever"},
{"id": 374714, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T13:26:22Z", "scrap_date": "2024-04-30T23:52:54.503425", "content": "cameroncf Ill give this a try too thanks "},
{"id": 374715, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T16:51:29Z", "scrap_date": "2024-04-30T23:52:54.503425", "content": "ffsam checkout httpsgithub comAnomalyInnovationsserverlessstackdemoapiblobmasterserverless ymlL128L137 and there tutorial series httpsserverlessstack com"},
{"id": 374716, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T17:11:55Z", "scrap_date": "2024-04-30T23:52:54.504425", "content": "Got it thanks Its essentially the same approach Cameron used "},
{"id": 374717, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-09T00:59:26Z", "scrap_date": "2024-04-30T23:52:54.504425", "content": "Hello everybody Just willing to collaborate Mr cameroncf approach worked for me I had a similar approach to setup the [ iamRoleStatements ] in a well organized and clean manner Please see next the serverless yml file lines iamRoleStatements file dynamo_rolesiamroleTABLENAMEtable yml file dynamo_rolesiamroleTABLENAMEtable yml and next a sample role in its yml file [ iamroleTABLENAMEtable yml ] Effect Allow Action dynamodbQuery dynamodbScan dynamodbGetItem dynamodbPutItem dynamodbUpdateItem dynamodbDeleteItem dynamodbDescribeTable Resource RESOURCE ARN USING REGION optregion selfprovider region and env variables selfprovider environment DYNAMODB_TABLE_VEHICLE_TYPE "},
{"id": 374718, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-16T13:35:06Z", "scrap_date": "2024-04-30T23:52:54.506426", "content": "hamletrp Franky My idea is to use an external way to create a compiled YAML file created by the inclusion of include tag try this httpsgithub comjavanileyamlinc"},
{"id": 374719, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-11T20:28:34Z", "scrap_date": "2024-04-30T23:52:54.507426", "content": "Franky DavidWells I had similar issues recently mostly when dealing with monorepo You can try plugin I recently published httpsgithub comKrysKrukserverlessimportconfigplugin It just import whole yaml files "},
{"id": 374720, "question_id": 3747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-04T11:14:06Z", "scrap_date": "2024-04-30T23:52:54.507426", "content": "Hi It gives bad indentation of a mapping entryYAML where file dynamo xml with pointing at "},
{"id": 33242, "question_id": 3324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-14T17:44:51Z", "scrap_date": "2024-04-30T23:52:55.273634", "content": "justinffs I dont think its possible to have a dynamic Logical ID for your resources Can I ask why you need a dynamic Logical ID I dont quite understand how the LifecycleConfiguration added that requirement Its possible Im missing something If you deploy to a different stage it will be to a different CloudFormation stack entirely so you dont have to worry about uniqueness Could you just do this where your bucket has the same logical ID in all stacks regardless of stage"},
{"id": 33243, "question_id": 3324, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-14T19:24:59Z", "scrap_date": "2024-04-30T23:52:55.274633", "content": "Thanks Alex I might have left out some details We deployed previously without specifying the resource just specifying an event so as far as I can tell serverless creates a logical id based on the bucket name and our bucket name had the stage in it Adding LifecycleConfiguration need to be done on the resource if I recall The problem is that these buckets already exist and have data in it that cant be lost I would like to avoid having to migrate them to a different bucket but I cant change the logical id tag in S3 I get an error Your TagKey cannot be prefixed with aws Which I think makes sense Is there a way around this Can the bucket specified in the event point to the resource so the bucket logical ID is not dynamically generated"},
{"id": 33244, "question_id": 3324, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-15T21:30:05Z", "scrap_date": "2024-04-30T23:52:55.275633", "content": "I see Thanks for that additional context justinffs I dont know for sure if this will help but there is a plugin for using S3 events for an existing bucket I havent used it and I dont know for sure that it will play nicely with the CloudFormation youre trying to do Id recommend testing carefully in a staging environment before rolling out to your prod bucket"},
{"id": 33245, "question_id": 3324, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-10T21:35:11Z", "scrap_date": "2024-04-30T23:52:55.276634", "content": "Did you find a solution to this I am running into the same problem "},
{"id": 33246, "question_id": 3324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-23T19:28:05Z", "scrap_date": "2024-04-30T23:52:55.277634", "content": "Anybody had any solutions to this"},
{"id": 33247, "question_id": 3324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-03T06:50:24Z", "scrap_date": "2024-04-30T23:52:55.277634", "content": "If you have fix number of stages predefined then you can define Conditions block at top on the basis of stages and use that condition to create specific resource You need to have all possible stages resources defined using conditions"},
{"id": 170112, "question_id": 17011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-10T22:49:08Z", "scrap_date": "2024-04-30T23:52:56.366703", "content": "Long story short heres the right way to do it Assume a directory structure like this Having an __init__ py seems important here serverless yml unauthorized_api py I found the right approach in Python relative imports in AWS Lambda fail with `attempted relative import with no known parent package` GitHub "},
{"id": 170113, "question_id": 17011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-06T11:20:58Z", "scrap_date": "2024-04-30T23:52:56.367703", "content": "This error occurs when you try to import a module using a relative import but Python cannot find the modules parent package To fix this error attempted relative import with no known parent package you need to make sure that the module being imported is part of a package and that the package is on the Python path You can do this by adding an empty init py file to the packages directory and by making sure that the directory containing the package is on the Python path Alternatively you can run the module using the m flag with the Python interpreter like this python m mypackage mymodule This tells Python to run mymodule py as a module which will allow it to correctly resolve relative imports The main advantage of using relative imports is that they make it easier to move packages and modules around within a project without having to update all the import statements They also make it easier to reuse code across multiple projects because the import paths can be modified to match the package hierarchy of each project "},
{"id": 74532, "question_id": 7453, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-08T06:38:35Z", "scrap_date": "2024-04-30T23:52:57.461621", "content": "Im sorry I do not know the answer to your query but I want to thank you for making me understand the use of migrate I was searching for hours on why the table was not being created for me turns out I missed migrate true"},
{"id": 172992, "question_id": 17299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-10T18:18:03Z", "scrap_date": "2024-04-30T23:52:58.358992", "content": "Fixed The solution is really simple Thx"},
{"id": 172993, "question_id": 17299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-10T11:46:02Z", "scrap_date": "2024-04-30T23:52:58.359992", "content": "Hello sanroll Your fix is not clear the change I see is the capital first character but I dont see the real function name MyfunctionnewLambdaFunction in the above functions is that a mistake Im also facing the issue the problem is my function is like this mynewfunction I think interpreted as MyNewFunction but still not working Any idea about it Thanks Yougesh"},
{"id": 184392, "question_id": 18439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-12T10:19:48Z", "scrap_date": "2024-04-30T23:52:59.351919", "content": "I cannot edit my post so ill add some examples GET requests to devices POST request for devices Adds a device row in the Devices dynamodb table while some inputs like customer_id name url are mandatory PATCH request for devices Updates a row with a customer_id can be an non existing column too Note The solution doesnt have to include all the requests i mentioned although the more the better I can build a function that builds a filter I just need the general guidelines for doing that with Serverless Framework "},
{"id": 39512, "question_id": 3951, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-19T15:56:12Z", "scrap_date": "2024-04-30T23:53:00.887407", "content": "We found today that it happens when you change order of schedules in serverless yml by adding or removing a schedule "},
{"id": 39513, "question_id": 3951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-11T00:28:30Z", "scrap_date": "2024-04-30T23:53:00.888407", "content": "Thanks for posting that solution I swapped two of my schedule functions around and that fixed it for me "},
{"id": 181782, "question_id": 18178, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-12T00:13:23Z", "scrap_date": "2024-04-30T23:53:01.873426", "content": "Looks like awsRequestId and executionId are the same thing So you can use the awsRequestId as an idempotency id for a cron job "},
{"id": 181612, "question_id": 18161, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-12T10:51:41Z", "scrap_date": "2024-04-30T23:53:02.880608", "content": "Im having the exact same issue Ive tried using serverless remove to redeploy the full stack but the endpoint stage is still set to dev Provider Lambda Endpoint output potatochips did you manage to figure out the issue"},
{"id": 181613, "question_id": 18161, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-01-12T16:05:25Z", "scrap_date": "2024-04-30T23:53:02.882609", "content": "Not yet Ive opened this issue AWS API Gateway provider apiGateway stage not working Issue 11675 serverlessserverless GitHub "},
{"id": 66982, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-11T20:47:14Z", "scrap_date": "2024-04-30T23:53:03.704760", "content": "Hi in my example serverless yml below I do something very similar to this you may want to deploy your function into a VPC with NAT so that you can have static IPs for making connections to the DB security group Once you have your Lambda running from a VPC where it can get static external IP you will want to open your DBs security group up to this IP on your database "},
{"id": 66983, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T22:35:50Z", "scrap_date": "2024-04-30T23:53:03.705755", "content": "3zero5 Okay so the securityGroupIds are the security group of my EC2 instance And the subnetIds are also of the EC2 instance And then after I deploy this where do I find the static IP"},
{"id": 66984, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T22:54:29Z", "scrap_date": "2024-04-30T23:53:03.705755", "content": "No Security Groups are the security group assigned to the Lambda function the subnets will also belong to the Lamdba function The IP would come from you NAT gateway on the VPC that the Lambda will live in "},
{"id": 66985, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T22:56:48Z", "scrap_date": "2024-04-30T23:53:03.706761", "content": "Ah I think I understand now Will give it a try I was also looking into Peering Connections do you think that could be a solution"},
{"id": 66986, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T23:05:59Z", "scrap_date": "2024-04-30T23:53:03.707761", "content": "Yes a peering connection could also help here but youd still need to define Security groups and Subnets"},
{"id": 66987, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-12T00:07:18Z", "scrap_date": "2024-04-30T23:53:03.707761", "content": "Do I need to have an EIP for each subnet there are 3 "},
{"id": 66988, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-12T01:52:37Z", "scrap_date": "2024-04-30T23:53:03.708761", "content": "I our setup only the NATs have EIPs and everything in the VPC is in a private subnet and routed through the NAT I dont think there is another way for Lambda functions to have static IP addresses "},
{"id": 66989, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-13T07:17:54Z", "scrap_date": "2024-04-30T23:53:03.708761", "content": "So I was finally able to make this work I used Peering Connections and didnt need to setup NATs or EIPs I was able to reference my EC2 instance by private IP If you dont need the NATs for other reasons you might want to look into using Peering Connections "},
{"id": 669810, "question_id": 6698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-23T07:59:18Z", "scrap_date": "2024-04-30T23:53:03.709762", "content": "Thanks This worked for me albeit in a different context "},
{"id": 182262, "question_id": 18226, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-24T18:01:25Z", "scrap_date": "2024-04-30T23:53:04.424973", "content": "Nevermind I figured out how to disconnect the dashboard since I didnt really find it useful anyway "},
{"id": 173102, "question_id": 17310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-24T19:04:21Z", "scrap_date": "2024-04-30T23:53:05.510129", "content": "I would like to have shared code between multiple services This is also my pain at the moment Would love to share it among services to avoid code replication "},
{"id": 134462, "question_id": 13446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-28T06:46:27Z", "scrap_date": "2024-04-30T23:53:06.639702", "content": "configuring events incase fo using docker image for functions deployment do you remember how configured the events for docker image for functions deployment"},
{"id": 182542, "question_id": 18254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-29T02:34:02Z", "scrap_date": "2024-04-30T23:53:07.616683", "content": "Since I can order the priority manuallycould you add a value of priority like top in the serverless It means when I insert a ruleI have the highest priority If there is a first priorityit will follow the rule I insert "},
{"id": 26242, "question_id": 2624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-02T23:47:22Z", "scrap_date": "2024-04-30T23:53:08.703264", "content": "Serverless does not pay attention to gitignore You have a few options for you to take that I use myself You can add options to the serverless yml to indicate what to exclude and what to include You can read about that at httpsserverless comframeworkdocsprovidersawsguidepackaging What I do most recently is use gulp to build a deployment folder containing all my filesfolders Then within that folder is what I actually deploy This allows me to have more processes in place for CICD "},
{"id": 26243, "question_id": 2624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-03T01:17:02Z", "scrap_date": "2024-04-30T23:53:08.705264", "content": "Perfect Thanks so much "},
{"id": 26244, "question_id": 2624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T19:11:54Z", "scrap_date": "2024-04-30T23:53:08.706265", "content": "We a single serverless yml that contains a bunch of resources and 4 python lambdas Each lambda needed a different set of python libraries and precompiled binaries I found the best way to hald this was to package individually and exclude everything Then in each lambda include only the binarieslibs I needed e g and"},
{"id": 26245, "question_id": 2624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-09T21:38:25Z", "scrap_date": "2024-04-30T23:53:08.706265", "content": "What shentenfruede said above works well putting exclude under package On Mac I needed to use"},
{"id": 26246, "question_id": 2624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-03T06:40:29Z", "scrap_date": "2024-04-30T23:53:08.707265", "content": "With the new release include and exclude are depreciated and will be removed completely in future releases Please adhere to patterns Here is an example"},
{"id": 168332, "question_id": 16833, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-03-09T14:15:41Z", "scrap_date": "2024-04-30T23:53:09.807473", "content": "Hi this is no problem I created a couple of templates for typescript using serverless yml See my repo on Github GitHub cyberworkzserverlesstemplates Templates for the serverless framework AWS oriented Totally agree that yml is easier then ts "},
{"id": 168333, "question_id": 16833, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-04T09:40:18Z", "scrap_date": "2024-04-30T23:53:09.808473", "content": "Without serverless yml the CICD cannot be configured how did you resolve that haiko "},
{"id": 182682, "question_id": 18268, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-02-06T20:52:09Z", "scrap_date": "2024-04-30T23:53:10.676454", "content": "use two events events is an array"},
{"id": 180542, "question_id": 18054, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-19T10:20:15Z", "scrap_date": "2024-04-30T23:53:11.647627", "content": "Does it work when you deploy to actual Lamba e g is this a bug in serverlesslocal Have you seen the docs on the package part of serverless yml You can include any files in the deployment package though wed usually exclude whole src folders andor copy the bits needed to a dist and refer to them from there YMMV "},
{"id": 180543, "question_id": 18054, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T14:09:11Z", "scrap_date": "2024-04-30T23:53:11.648628", "content": "The import statement is a part of the ECMAScript module system and is not supported by default in Node js runtime v12 and below To use the import statement in a serverless environment you need to use a transpiler such as Babel to convert your code to a format that can be understood by Node js Heres a general outline of the steps you can follow to get serverless to recognize import in Node js npm install babel core babel cli babel presetenv presets [ [ babel presetenv targets node 12 ] ] npx babel src outdir dist Update your serverless configuration In your serverless yml file update the handler field to point to the transpiled code in the dist folder functions hello handler disthandler default events Deploy your code Deploy your serverless application as usual This should allow you to use the import statement in your Node js code and have it work in a serverless environment Note that this is a general outline and you may need to make additional changes to your code or configuration depending on your specific requirements I have detailed about it in this article you can also check for further enhancement "},
{"id": 52082, "question_id": 5208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T07:30:49Z", "scrap_date": "2024-04-30T23:53:12.268639", "content": "Thats a bizarre coincidence I just asked that question too Can I delete the S3 buckets that the serverless framework creates"},
{"id": 52083, "question_id": 5208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-27T20:44:43Z", "scrap_date": "2024-04-30T23:53:12.269638", "content": "I wouldnt From what I can tell it keeps the final CF template and values in there so that when you do deploys later it helps keep things idempotent Very similar to Terraform and its use of S3 buckets I mean in theory you could delete them and let it regenerate them every time but I think its safer to just let them be "},
{"id": 52084, "question_id": 5208, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-28T00:55:40Z", "scrap_date": "2024-04-30T23:53:12.270638", "content": "Or precreate a common bucket and configure all your serverless yml to use that one rather than creating new ones all the time"},
{"id": 52085, "question_id": 5208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T14:20:49Z", "scrap_date": "2024-04-30T23:53:12.270638", "content": "Has anyone found any solution yet alshdavid ColinEberhardt I dont mind regenerate meta data every time I just want to remove all the S3 buckets that the serverless framework creates thx"},
{"id": 52086, "question_id": 5208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T15:09:10Z", "scrap_date": "2024-04-30T23:53:12.271639", "content": "You could have a function triggered on schedule that found and removed the buckets "},
{"id": 52087, "question_id": 5208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T15:13:51Z", "scrap_date": "2024-04-30T23:53:12.272639", "content": "Ah good idea will look into how to do that "},
{"id": 182882, "question_id": 18288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T15:18:36Z", "scrap_date": "2024-04-30T23:53:12.812433", "content": "Is there something like force_destroy true that terraform uses "},
{"id": 182482, "question_id": 18248, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-02-07T22:27:28Z", "scrap_date": "2024-04-30T23:53:13.928446", "content": "I havent used it but function URLs are in the docs The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 182483, "question_id": 18248, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-07T23:14:24Z", "scrap_date": "2024-04-30T23:53:13.928446", "content": "Yep that works like a charm Thanks a lot "},
{"id": 182942, "question_id": 18294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-08T04:01:45Z", "scrap_date": "2024-04-30T23:53:14.996691", "content": "Found that it is doable Just call lambda createfunction API using local zip file without relying on S3 See Creating and Deploying using AWS CLI Which will be way faster than posting to S3 then creating function from S3 and Id rather use git for versioning than using S3 "},
{"id": 59393, "question_id": 5939, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-06T16:09:38Z", "scrap_date": "2024-04-30T23:53:17.036394", "content": "Sign up as an AWS partner and then theyll have a conversation "},
{"id": 177832, "question_id": 17783, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-07T13:30:53Z", "scrap_date": "2024-04-30T23:53:17.839398", "content": "Hi did you manage to find a solution Have a very similar issue "},
{"id": 177833, "question_id": 17783, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-07T20:29:54Z", "scrap_date": "2024-04-30T23:53:17.840398", "content": "Hi No I ended up moving to using docker images instead of zipping the packages and just using the console commands instead of serverlessgithubaction Its working beautifully Please let me know if you need help with this and I can share my code "},
{"id": 177834, "question_id": 17783, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-09T15:57:40Z", "scrap_date": "2024-04-30T23:53:17.841398", "content": "Hi ronifintech1 which image di d you use I have the same problem Well I have many problems first of all the size of the unzipped Then the python modules not recognized So could you help me Thank you"},
{"id": 177835, "question_id": 17783, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-12T14:04:26Z", "scrap_date": "2024-04-30T23:53:17.842398", "content": "Replying here in case this helps anyone else We are using the latest AWS Python docker image and it looks like the Python patch version is no longer supported by the image Updating to a later patch version allowed the deployment to complete "},
{"id": 93812, "question_id": 9381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-18T20:35:22Z", "scrap_date": "2024-04-30T23:53:18.846583", "content": "I got the resolution Path variable needs to be set in environment variable C\\UsersuserId\\AppData\\Roaming\\npm now it working for me Thanks"},
{"id": 93813, "question_id": 9381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-16T08:24:10Z", "scrap_date": "2024-04-30T23:53:18.847579", "content": "I was also getting the same issue but when i tried npm install g serverless its working perfectly fine So use npm install g serverless instead of npm install serverless"},
{"id": 93814, "question_id": 9381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-15T18:50:47Z", "scrap_date": "2024-04-30T23:53:18.848586", "content": "Do you need install using chocolatey to solve this problem"},
{"id": 167992, "question_id": 16799, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-24T01:48:50Z", "scrap_date": "2024-04-30T23:53:19.653018", "content": "Hi sjschweber I am also facing the same issue Did you find the solution"},
{"id": 167993, "question_id": 16799, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-25T09:15:01Z", "scrap_date": "2024-04-30T23:53:19.654018", "content": "Are you store these as strings or secure strings in SSM"},
{"id": 181132, "question_id": 18113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-28T11:16:07Z", "scrap_date": "2024-04-30T23:53:20.724479", "content": "Your object doesnt have any value you need to debug it "},
{"id": 87772, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-14T12:16:48Z", "scrap_date": "2024-04-30T23:53:21.374371", "content": "Hello All ITS VERY VERY URGENT AND CAN SOME ONE HELP ME PLEASE THANK YOU SO MUCH FOR YOUR KIND HELP IN ADVANCE REGARDS BALA"},
{"id": 87773, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-14T17:35:10Z", "scrap_date": "2024-04-30T23:53:21.375371", "content": "Does the S3 bucket it is trying to make already exist Remember that buckets need to be globally unique in other words no other bucket with that name anywhere in the world must exist "},
{"id": 87774, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-15T03:49:55Z", "scrap_date": "2024-04-30T23:53:21.376372", "content": "Hey [garethmcc] Thank you so much for your prompt response and greatly appreciated I do understand but the problem over here in personal AWS account works well and able to invoke lambda from from remotely after performing the command serverless deploy the same repository doesnt work when I try to deploy in my work organization aws account using serverless deploy v Please see below and ITS REALLY URGENT AND YOUR HELP WILL BE GREATLY APPRECIATED PS C\\projects\\sls\\07142019\\serverlessdemo serverless deploy awsprofile default v Serverless Packaging service Serverless Excluding development dependencies Serverless Creating Stack Serverless Checking Stack create progress CloudFormation CREATE_IN_PROGRESS AWSCloudFormationStack mytestprojectdev CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_FAILED AWSS3Bucket ServerlessDeploymentBucket CloudFormation DELETE_IN_PROGRESS AWSCloudFormationStack mytestprojectdev CloudFormation DELETE_COMPLETE AWSS3Bucket ServerlessDeploymentBucket CloudFormation DELETE_COMPLETE AWSCloudFormationStack mytestprojectdev Serverless Stack create finished Serverless Error Stack mytestprojectdev does not exist Your Environment Information OS win32 Node Version 10 16 0 Serverless Version 1 47 0"},
{"id": 87775, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-15T06:14:19Z", "scrap_date": "2024-04-30T23:53:21.378372", "content": "If the S3 bucket name is the same when deploying to your account as when deploying to the work account that is the problem S3 bucket names need to be globally unique i e across AWS accounts and across regions For example if you tried to create a bucket with the same name as a bucket I have created you will get an error One way to get past this error when naming things that will be used local and in dev and in prod etc is to add the stage dev prod local to the bucket name using optstage and then passing the stage as an option with the deploy command severless deploy stage dev"},
{"id": 87776, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-16T11:48:37Z", "scrap_date": "2024-04-30T23:53:21.379372", "content": "Hey Garethmcc Thank you so much for your help If I understand correctly serverless framework generating some unique bucket examples mytestprojectprodserverlessdeploymentbucketogmc9oi0007q was generated when I deploy to my personal AWS account assuming aws is generating random bucket to make it unique COULD SOME ONE CORRECT ME IF MY UNDERSTANDING IS INCORRECT for each deploy When I deploy the same code to my official account Im getting the below error PS C\\projects\\sls\\07142019\\serverlessdemo serverless deploy awsprofile default v Serverless Packaging service Serverless Excluding development dependencies Serverless Creating Stack Serverless Checking Stack create progress CloudFormation CREATE_IN_PROGRESS AWSCloudFormationStack mytestprojectdev CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_FAILED AWSS3Bucket ServerlessDeploymentBucket CloudFormation DELETE_IN_PROGRESS AWSCloudFormationStack mytestprojectdev CloudFormation DELETE_COMPLETE AWSS3Bucket ServerlessDeploymentBucket CloudFormation DELETE_COMPLETE AWSCloudFormationStack mytestprojectdev Serverless Stack create finished Serverless Error Stack mytestprojectdev does not exist When I go and check CloudTrail and CloudWatch I dont find any logs I really dont understand should give some logs about errors right At least these logs may help to debug and analyze I really dont understand whats really causing in this scenario and did anyone come across this scenario and HELP ME IN UNDERSTANDING WHATS HAPPENING Thank you so much for your favor in advance"},
{"id": 87777, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-29T17:31:39Z", "scrap_date": "2024-04-30T23:53:21.382372", "content": "hi Did you ever figure out what caused this Im experiencing the same error too thx "},
{"id": 87778, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-17T06:59:09Z", "scrap_date": "2024-04-30T23:53:21.383373", "content": "Thanks for your share very much"},
{"id": 87779, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-25T19:17:04Z", "scrap_date": "2024-04-30T23:53:21.383373", "content": "Hello for future reference if you are using codepipeline you might get this error because you did not set the right s3 access policy to the pipeline"},
{"id": 877710, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T16:08:56Z", "scrap_date": "2024-04-30T23:53:21.384373", "content": "I can relate thank you "},
{"id": 877711, "question_id": 8777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-28T13:36:25Z", "scrap_date": "2024-04-30T23:53:21.384373", "content": "Change service name worked for me "},
{"id": 118172, "question_id": 11817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-02T18:56:35Z", "scrap_date": "2024-04-30T23:53:22.396521", "content": "Did you solve this Im struggling with the same thing "},
{"id": 157212, "question_id": 15721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-12T18:21:50Z", "scrap_date": "2024-04-30T23:53:23.528305", "content": "Of course You can define multiple functions with the same path but different method Take a look at the docs This is pretty simple "},
{"id": 157213, "question_id": 15721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-13T11:48:38Z", "scrap_date": "2024-04-30T23:53:23.528305", "content": "I was wanting to use the same lambda function But it looks like I can declare another function in serverless yml and point to the same function code Just a shame you cant have multiple http events with the same path but different methods under the same function declaration"},
{"id": 157214, "question_id": 15721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-13T15:21:39Z", "scrap_date": "2024-04-30T23:53:23.529306", "content": "I see what you mean Yes you need multiple function definitions pointing to the same file However splitting up the functions into different files is a best practice in my opinion I dont know why you would want to handle several different cases in the same file Keep the single responsibility principle in mind Any common functionality you ca put in other files "},
{"id": 157215, "question_id": 15721, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-17T20:31:59Z", "scrap_date": "2024-04-30T23:53:23.530306", "content": "You certainly can Just whipped up a quickie poc of it with AND Then edit the serverless yml to look like Didnt even touch the generated handler js file Deployed via Then hit it with Postman with both a GET and a POST and got back the extected response Hope it helps "},
{"id": 157216, "question_id": 15721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-04T17:24:46Z", "scrap_date": "2024-04-30T23:53:23.531306", "content": "I tried this and it did not work for me I am using frameworkVersion 3 I wonder if that makes a difference "},
{"id": 157217, "question_id": 15721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-03T12:10:25Z", "scrap_date": "2024-04-30T23:53:23.531306", "content": "hello I configured the multiple path as you described above But its throwing error while deployment in AWS I have used serverlesspluginsplitstacks in my project "},
{"id": 162312, "question_id": 16231, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-04T19:14:15Z", "scrap_date": "2024-04-30T23:53:24.070429", "content": "Hi rossboseman Do you solved your question I have the same goal here Thanks"},
{"id": 181502, "question_id": 18150, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-04T00:58:32Z", "scrap_date": "2024-04-30T23:53:25.124310", "content": "This appears to be a third party plugin You should contact the plugin owner directly "},
{"id": 181503, "question_id": 18150, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-04T09:57:46Z", "scrap_date": "2024-04-30T23:53:25.124310", "content": "thanks for your response what about updating the howto page that on serverless website"},
{"id": 181504, "question_id": 18150, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-01-04T23:38:58Z", "scrap_date": "2024-04-30T23:53:25.125310", "content": "It looks like that page is just a copy of the README file from the Github repo you mentioned Maybe try submitting a PR to update that"},
{"id": 181505, "question_id": 18150, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-05T12:15:45Z", "scrap_date": "2024-04-30T23:53:25.126310", "content": "Thanks for checking this this is a good idea Ill update their README"},
{"id": 181572, "question_id": 18157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-05T13:40:28Z", "scrap_date": "2024-04-30T23:53:26.224539", "content": "This turned out to be an issue with a plugin were not sure which one yet as we simply removed all but essential ones "},
{"id": 181232, "question_id": 18123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-05T14:36:00Z", "scrap_date": "2024-04-30T23:53:26.870726", "content": "If you use this mock handler it try to create the lambda deploy zipuploadetc or it act as a placeholder only"},
{"id": 181233, "question_id": 18123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-06T18:15:27Z", "scrap_date": "2024-04-30T23:53:26.871723", "content": "With this code it generates the endpoint in the api gateway specified with vpc link The issue is that it generates a lambda function for me yes or yes it serves as a mock my question is if everything can be generated without inserting a lambda function"},
{"id": 96352, "question_id": 9635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-17T18:41:41Z", "scrap_date": "2024-04-30T23:53:27.899447", "content": "have you read this aws doc"},
{"id": 96353, "question_id": 9635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-17T18:59:19Z", "scrap_date": "2024-04-30T23:53:27.900447", "content": "yes the problem is that i dont have this option in serverless AtRestEncryptionEnabled I couldnt find it anywhere "},
{"id": 96354, "question_id": 9635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-24T20:16:38Z", "scrap_date": "2024-04-30T23:53:27.900447", "content": "okaayyy o"},
{"id": 96355, "question_id": 9635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-25T23:09:52Z", "scrap_date": "2024-04-30T23:53:27.901448", "content": "It looks like AtRestEncryptionEnabled is part of the AWSElastiCacheReplicationGroup settings "},
{"id": 96356, "question_id": 9635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-04T11:19:46Z", "scrap_date": "2024-04-30T23:53:27.901448", "content": "thats good thank you for sharing this information with us "},
{"id": 96358, "question_id": 9635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-07T22:25:40Z", "scrap_date": "2024-04-30T23:53:27.902448", "content": "No reply VidMate Momix"},
{"id": 137432, "question_id": 13743, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T12:16:12Z", "scrap_date": "2024-04-30T23:53:29.047425", "content": "So upon further examination by a colleague with greater permissions CloudTrail showed that the S3 deployment bucket failed to be created Why wasnt this shown in the verbose logs when deploying the initial stack BR Kyle"},
{"id": 137433, "question_id": 13743, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-08T07:16:57Z", "scrap_date": "2024-04-30T23:53:29.048426", "content": "Thanks for the edit Kyle helped me figure it out CloudFormation stacks can hang IN_REVIEW specifically on the stack used to create the AWS S3 bucket TLDR on quick fix on AWS console delete the specific stack and try again sls deploy with verbose to see the exact stack name For more info CloudFormation stack stuck in REVIEW_IN_PROGRESS state Hope this helps anyone facing this too "},
{"id": 25662, "question_id": 2566, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-08-24T19:25:52Z", "scrap_date": "2024-04-30T23:53:30.160789", "content": "I figured it out If you have a custom attribute you need to define it as customattribute where attribute is your custom attribute It must be wrapped in quotes "},
{"id": 25663, "question_id": 2566, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-09T04:54:34Z", "scrap_date": "2024-04-30T23:53:30.162790", "content": "One more thing here You must not include the custom prefix in the Name when you actually define the Schema attribute or else itll end up getting called customcustomattributename and youll get the error Invalid read attributes specified while creating a client or Invalid write attributes specified while creating a client when you go to reference it in ReadAttributesWriteAttributes "},
{"id": 25664, "question_id": 2566, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-23T22:14:20Z", "scrap_date": "2024-04-30T23:53:30.162790", "content": "Thank you I mean it THANK you "},
{"id": 25665, "question_id": 2566, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-24T09:26:09Z", "scrap_date": "2024-04-30T23:53:30.163790", "content": "I found another requirement In the write attributes you actually have to declare all attributes you defined in your Schema For readAttributes this is not the case "},
{"id": 25666, "question_id": 2566, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-02T02:42:50Z", "scrap_date": "2024-04-30T23:53:30.164795", "content": "And another one In your cloudformation schema section just state the name without custom In the Attributes section you need the custom prefix eg"},
{"id": 25667, "question_id": 2566, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-15T16:22:41Z", "scrap_date": "2024-04-30T23:53:30.164795", "content": "I found another requirement In the write attributes you actually have to declare all attributes you defined in your Schema For readAttributes this is not the case Testing it I found you can declare some of it So if I want to limit changes I will declare some attributes but also given_name which I dont care about Which will make defining WriteAttributes with given_name only possible to block all others Unfortunately this trick require to set up a pool correctly from the start so blocking write on attributes on old must be done manually "},
{"id": 64052, "question_id": 6405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-22T01:24:18Z", "scrap_date": "2024-04-30T23:53:31.201192", "content": "Looks like this problem still persist in serverless 3 28 1 Is there any workaround for this"},
{"id": 178322, "question_id": 17832, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-10T10:52:46Z", "scrap_date": "2024-04-30T23:53:32.502486", "content": "It wont let me post the reply due to some spam filter The full explanation is here What is this syntax [] its referenced in Serverless Framework docs but not explained in the Variables section Stack Overflow"},
{"id": 111882, "question_id": 11188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-21T23:31:54Z", "scrap_date": "2024-04-30T23:53:33.417215", "content": "I found this post while investigating the same thing It seems to be named stack namecustomresourceeventbridge Cloudwatch says this lambda is being invoked but Im not sure from where or why "},
{"id": 111883, "question_id": 11188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-19T10:48:05Z", "scrap_date": "2024-04-30T23:53:33.418215", "content": "I noticed the same Lambda in my account when using EventBridge as event source My understanding is that is used only to create the event rules It has been invoked only at the beginning a couple of times "},
{"id": 111884, "question_id": 11188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-02T11:02:25Z", "scrap_date": "2024-04-30T23:53:33.419215", "content": "I am experimenting the same thing with serverless 3 0 when deploying a lambda using Serverless create a role and a node Lambda in charge of creating the rule and granting some permissions This a very strange behavior we totally cannot adopt Does anyone know why such a design And is it possible to bypass this"},
{"id": 111885, "question_id": 11188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-10T11:22:50Z", "scrap_date": "2024-04-30T23:53:33.420216", "content": "Did anyone manage to get to the root of the issue Even I have this issue and I want to update the node run time not manually from console of this automatically created lambda at least "},
{"id": 178472, "question_id": 17847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-12T07:48:54Z", "scrap_date": "2024-04-30T23:53:34.053778", "content": "For anyone who comes across this I think Ive got it working with the below"},
{"id": 46742, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T20:20:22Z", "scrap_date": "2024-04-30T23:53:35.170428", "content": "Ive had this error when my response didnt have a statusCode property Then I had the the same error when trying to add extra fields to the response later learning that my data has to go under the body property Maybe you are having the same issue In the end I created a response wrapper EDIT Just checked your repo doesnt your function have to be async"},
{"id": 46743, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T20:32:57Z", "scrap_date": "2024-04-30T23:53:35.171428", "content": "I took inspiration from here which returned a promise but wasnt async Regardless adding async did not change anything I added the contenttype and that also did not help although I should have that anyways so at least its there now "},
{"id": 46744, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-05T23:23:08Z", "scrap_date": "2024-04-30T23:53:35.172428", "content": ""},
{"id": 46745, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T23:45:28Z", "scrap_date": "2024-04-30T23:53:35.172428", "content": "The second one fixed my issue thanks so much "},
{"id": 46746, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-06T09:53:48Z", "scrap_date": "2024-04-30T23:53:35.173429", "content": "Make sure you do both If you reject the promise then the API GW will detect that Lambda failed and send back an error message but not the one youre trying to send You need to resolve and set the response to be your error "},
{"id": 46747, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T16:19:43Z", "scrap_date": "2024-04-30T23:53:35.174428", "content": "I am using MySQL and Typescript export const getAll async event APIGatewayEvent context Context The code works in local sls offline but after I deployed I got message Internal Server Error "},
{"id": 46748, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T22:41:09Z", "scrap_date": "2024-04-30T23:53:35.174428", "content": "Have you looked at the CloudWatch Logs to see if the Lambda is returning successfully or failing"},
{"id": 46749, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T07:07:38Z", "scrap_date": "2024-04-30T23:53:35.175429", "content": "MySQL connection timeout dont know why"},
{"id": 467410, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T10:50:54Z", "scrap_date": "2024-04-30T23:53:35.175429", "content": "Stackoverflow suggest edit awsm json where is it exclude [ awssdk mysql ] includePaths [ node_modulesmysql node_modulesbignumber js node_modulesreadablestream node_modulesisarray node_modulescoreutilis node_modulesinherits node_modulesstring_decoder ]"},
{"id": 467411, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-01-16T11:56:14Z", "scrap_date": "2024-04-30T23:53:35.176429", "content": "Id start with the basics If youre 100 certain your configuration is correct them consider spinning up an EC2 instance with the same config and test it can connect "},
{"id": 467412, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T12:14:41Z", "scrap_date": "2024-04-30T23:53:35.177429", "content": "So the MySQL DB is in another ASW root account I created a new one just for testing serverless framework but I am able to connect from my local environment and working normally I tried context callbackWaitsForEmptyEventLoop false still not working "},
{"id": 467413, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T22:07:04Z", "scrap_date": "2024-04-30T23:53:35.177429", "content": "Based on your responses I would focus on security groups It sounds like your Lambdas dont have access to the database because the security groups are blocking it "},
{"id": 467414, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-17T04:41:33Z", "scrap_date": "2024-04-30T23:53:35.178430", "content": "Which policy should I use I am using AdministratorAccess"},
{"id": 467415, "question_id": 4674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-16T14:16:30Z", "scrap_date": "2024-04-30T23:53:35.179430", "content": "Return this Use JSON stringify body null 2 "},
{"id": 89512, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-02T00:17:48Z", "scrap_date": "2024-04-30T23:53:36.002363", "content": "Hi Richard As far as I am aware you are correct in saying the Serverless Framework does not offer a way to configure methodlevel throttling natively via the serverless yml file I have found a similar discussion going on in this GitHub issue and the two solutions that have been offered are Hope this helps "},
{"id": 89513, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-02T15:50:59Z", "scrap_date": "2024-04-30T23:53:36.003358", "content": "Hi Teddy Thanks for your input on this tricky problem Im learning a lot I have taken a look at both of these options Keep in mind the Gateway is already created and I want to change this one setting of a particular end point 1 1 Create a AWSApiGatewayStage then on MethodSettings set a MethodSetting and set the Throttling here This is all good but when I go to deploy I am not understand what I should set the RestApiId property The end section of this link gives a good demonstration on achieve this httpsserverless comframeworkdocsprovidersawsguideresources Hope this all makes sense Any help with the RestAPIID when you have just created the end point would be really useful ergads Rich"},
{"id": 89514, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T00:35:24Z", "scrap_date": "2024-04-30T23:53:36.004356", "content": "I know this is hideous but why not write a timestamp to DynamoDB every time the endpoint is called and check if the elapsed time is 1000ms each time you call it Dont tell me its gross I already know that lol It should work though "},
{"id": 89515, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-16T13:49:02Z", "scrap_date": "2024-04-30T23:53:36.005357", "content": "Used the serverless plug in to configure that default Throttling Hi Mr RichardHill could you please share the way you handled to set the default Throttling Regards Hamlet"},
{"id": 89516, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-09T16:16:14Z", "scrap_date": "2024-04-30T23:53:36.006357", "content": "Hi Im also interested in this feature of specific endpoint throttling rate and burst Its possible to set this up via AWS Console under ApiGateway Service Stages stage endpoint http verb Default Method Throttling and the configuration is kept after a new deploy However it doesnt seem possible to configure it using serverless yml which would be nice If you have any news on this topic dont hesitate to notify"},
{"id": 89517, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-29T15:36:47Z", "scrap_date": "2024-04-30T23:53:36.007357", "content": "You can use Ref ApiGatewayRestApi to set the rest api id "},
{"id": 89518, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-30T06:06:49Z", "scrap_date": "2024-04-30T23:53:36.007357", "content": "A plugin for the Serverless framework which configures throttling for API Gateway endpoints DianaIonitaserverlessapigatewaythrottling"},
{"id": 89519, "question_id": 8951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-18T00:41:34Z", "scrap_date": "2024-04-30T23:53:36.008357", "content": "Is this still the case There is no way to throttle a specific endpoint using the http event It looks like it is a simple enough process in AWS using the command line Throttling requests to your HTTP API Amazon API Gateway like this Would be great to have this as a built in feature "},
{"id": 26032, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-31T08:45:12Z", "scrap_date": "2024-04-30T23:53:36.681664", "content": "Updated to 1 21 0 still not working "},
{"id": 26033, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-31T15:31:11Z", "scrap_date": "2024-04-30T23:53:36.681664", "content": "Have you changed regions CloudFormation is region specific so if you have moved from one region to another while you were trying different credential methods will account for the issue You can check what region the stack is in using the console then set the region explicitly using r edit as a test then set it permanently probably using awsconfig "},
{"id": 26034, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-31T15:42:30Z", "scrap_date": "2024-04-30T23:53:36.682664", "content": "My default region is euwest1 and hasnt changed I have the region configured in my awsconfig file but I also tried specifying it on the CLI with the region option Ive managed to get it to work using aws sts assumerole and proving the AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY and AWS_SESSION_TOKEN variables on the CLI but this is not exactly ideal "},
{"id": 26035, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T13:49:55Z", "scrap_date": "2024-04-30T23:53:36.683664", "content": "Someone else raised the same problem and ended up having a bash script that does the trick save anyone writing their own Itd be nice to see this in Serverless as its in similar tools like Sceptre using the iam_role configuration option "},
{"id": 26036, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-11T09:22:36Z", "scrap_date": "2024-04-30T23:53:36.684665", "content": "Wow im having the exact same problem and its Nov 2020 now Below is my serverless yml service slawsapi01 app slawsapi01 frameworkVersion 2 provider name aws runtime nodejs12 x c serverless [any command] keeps giving me the following Serverless Error Stack with id cjsdev does not exist Your Environment Information Operating System win32 Node Version 12 19 0 Framework Version 2 11 1 Plugin Version 4 1 2 SDK Version 2 3 2 Components Version 3 3 0"},
{"id": 26037, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-19T05:21:29Z", "scrap_date": "2024-04-30T23:53:36.685665", "content": "Im having the same issue Stack with id pendingdateservicedev does not exist May I know how did you resolve the issue"},
{"id": 26038, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T07:58:15Z", "scrap_date": "2024-04-30T23:53:36.686665", "content": "Hello from 2021 I am very new to Serverless framework Trying to execute serverless info on an existing infrastructure and get Stack with id xxxxx does not exist The stack does exist aws region apsoutheast2 cloudformation describestacks stackname xxxxx is showing it How did you fix this"},
{"id": 26039, "question_id": 2603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-17T16:57:34Z", "scrap_date": "2024-04-30T23:53:36.687665", "content": "I have probably figured this out In my case the real error was another one it was related with the missing region but it was showing it as Stack with id does not exist So you should try to temporarily disable the offending rows with cf and try to print the stack output to check if it works without these rows "},
{"id": 25762, "question_id": 2576, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-22T15:08:36Z", "scrap_date": "2024-04-30T23:53:37.459754", "content": "cyorobert Did you ever figure out a solution to this Thanks "},
{"id": 66662, "question_id": 6666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-22T16:18:51Z", "scrap_date": "2024-04-30T23:53:38.231231", "content": ""},
{"id": 179232, "question_id": 17923, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-11-24T01:02:17Z", "scrap_date": "2024-04-30T23:53:39.363375", "content": "What they are mentioning is that you cannot deploy the same service to multiple regions You can deploy different service to different regions just like what you are doing "},
{"id": 97942, "question_id": 9794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-12T02:47:19Z", "scrap_date": "2024-04-30T23:53:40.401183", "content": "Here a couple of links I think you should read to get more details and resolutions how to prevent throttle error Medium 22 Mar 19 How to Run 1000s of AWS Lambda functions each minute Using Fanout pattern to run 1000s of AWS Lambda Functions each minute Reading time 7 min read Amazon Web Services 26 Sep 18 Investigating spikes in AWS Lambda function concurrency Amazon Web Services This post is courtesy of Ian Carlson Principal Solutions Architect AWS As mentioned in an earlier post a key benefit of serverless applications is the ease with which they can scale to meet traffic demands or requests AWS Lambda is at Amazon Web Services 11 Dec 17 Managing AWS Lambda Function Concurrency Amazon Web Services One of the key benefits of serverless applications is the ease in which they can scale to meet traffic demands or requests with little to no need for capacity planning In AWS Lambda which is the core of the serverless platform at AWS the unit of theburningmonk com 7 Oct 19 The API Gateway security risk you need to pay attention to theburningmonk com When you deploy an API to API Gateway throttling is enabled by default in the stage configurations By default every method inherits its throttling settings from the stage Having builtin throttling enabled by default is great However the "},
{"id": 97943, "question_id": 9794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-10T21:04:52Z", "scrap_date": "2024-04-30T23:53:40.404183", "content": "Hi tinynet Im not sure what you mean by this In my mind each web request will have maybe 510 lambda calls through api gateway What are these 510 calls In a typical serverless web app each web request would be served by exactly 1 synchronous Lambda function invocation triggered by API Gateway So if you have 400 reqssec hitting APIGW and lets say your average Lambda execution time is 0 1 seconds you would on average have 40 concurrent Lambda executions under this peak load You could check out this calculator I created a while back to get an idea of how close to the concurrency limits your application would get httpswinterwindsoftware comlambdascalingcalculator Also note that the 1000 is a soft limit that can be increased via a request to AWS Support "},
{"id": 97944, "question_id": 9794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-24T10:58:39Z", "scrap_date": "2024-04-30T23:53:40.406184", "content": "I think were at 10000 and wanted to have this increased further but AWS support is acting up a bit when it comes to that "},
{"id": 41252, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-02T22:24:35Z", "scrap_date": "2024-04-30T23:53:41.401121", "content": "Hey scumola what integration type are you using for your function If possible could you post the whole functions block for your serverless yml Ill experiment and see if I can figure out a workaround"},
{"id": 41253, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-02T22:36:09Z", "scrap_date": "2024-04-30T23:53:41.402121", "content": "Thanks alexdebrie1"},
{"id": 41254, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-02T22:43:34Z", "scrap_date": "2024-04-30T23:53:41.402121", "content": "Its these that I want to get rid of"},
{"id": 41255, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-03T20:50:14Z", "scrap_date": "2024-04-30T23:53:41.403122", "content": "scumola I dug around on this and have an update Theres no way to not send up any templates at all as the Framework automatically sends up applicationjson and applicationxwwwformurlencoded templates See here You can overwrite those templates so it looks like youd have to go with your second option which is to use a mapping thats similar to a passthrough I cant find docs on what that looks like can you send me an event after a passthrough"},
{"id": 41257, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-05T15:25:37Z", "scrap_date": "2024-04-30T23:53:41.404122", "content": "This fixes it "},
{"id": 41258, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-23T10:33:53Z", "scrap_date": "2024-04-30T23:53:41.404122", "content": "i am facing the same issue but i cannot update the serverless stack "},
{"id": 41259, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-18T13:19:45Z", "scrap_date": "2024-04-30T23:53:41.405122", "content": "samiya03 I faced the same issue I opted for overwriting the mapping template in the serverless file This allows whatever you pass in to be passed through while the applicationjson mapping template is used "},
{"id": 412510, "question_id": 4125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-24T14:45:34Z", "scrap_date": "2024-04-30T23:53:41.406122", "content": "The following lines will disable default mappings Related GitHub URL Issue 7008 default request templates by jormaechea Pull Request 8159 serverlessserverless GitHub"},
{"id": 179452, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-28T11:02:28Z", "scrap_date": "2024-04-30T23:53:42.456782", "content": "Our automated build that worked till last week have suddenly started failing with the same error Environment linux node 16 15 1 framework 3 25 0 plugin 6 2 2 SDK 4 3 2"},
{"id": 179453, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-28T11:10:17Z", "scrap_date": "2024-04-30T23:53:42.457782", "content": "gcpatil Looks like aws has changed something which is causing the build error we use aws codebuild to deploy our serverless application But all of a sudden it started failing since today it was working till last friday "},
{"id": 179454, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-28T13:42:46Z", "scrap_date": "2024-04-30T23:53:42.457782", "content": "ajk we use codebuild too which will do the installs everytime I did a test where my local didnt had the upgraded packages It worked fine on execution from local into my AWS account I upgraded packages to the latest on local nodejs version ofcourse varied between local and codebuild purely because codebuild does not support anything greater that 16 x and it broke local too with the same issue Some dependencies is breaking it I have tried rolling back few versions and dependencies within aws sdk but so far I havent had any luck"},
{"id": 179455, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-28T16:58:46Z", "scrap_date": "2024-04-30T23:53:42.458783", "content": "We are seeing the same problem Nothing in our build and deployment configuration has changed in many months It has been rock solid for the last few years "},
{"id": 179456, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-11-28T18:02:05Z", "scrap_date": "2024-04-30T23:53:42.459783", "content": "For details please see issue 11561 "},
{"id": 179457, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-28T18:26:44Z", "scrap_date": "2024-04-30T23:53:42.459783", "content": "Found a solution on GitHub Its a regression in awssdk I have restricted the upgrade of awssdk 1259 0 and now the build succeeds and gets deployed "},
{"id": 179458, "question_id": 17945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-29T18:33:55Z", "scrap_date": "2024-04-30T23:53:42.460783", "content": "This issue has been fixed See Request is missing Authentication Token after upgrade to 3 25 0 11561 "},
{"id": 67262, "question_id": 6726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-29T07:47:20Z", "scrap_date": "2024-04-30T23:53:43.541794", "content": "Did you ever get this figured out Im seeing a very similar trend with my sqs usage Even when not in use at all im getting avg 99 NumberOfEmptyReceives a minute "},
{"id": 67263, "question_id": 6726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-23T10:06:33Z", "scrap_date": "2024-04-30T23:53:43.542795", "content": "Amazon SQS short and long polling Amazon Simple Queue Service Hello adamtb andy265 Did you find a way around this"},
{"id": 67264, "question_id": 6726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-22T13:55:14Z", "scrap_date": "2024-04-30T23:53:43.543795", "content": "Anyone ever figure out a way to do this within the serverless com configuration Having the same issue "},
{"id": 67265, "question_id": 6726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-29T20:25:42Z", "scrap_date": "2024-04-30T23:53:43.544795", "content": "Ive found a way to enable long polling both for queue and dead letter queue dlq References"},
{"id": 163792, "question_id": 16379, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-30T18:18:38Z", "scrap_date": "2024-04-30T23:53:44.484799", "content": "Youll need to pick the VPC and subnets that contain the resources you need to access We cant tell you which ones without loads more details "},
{"id": 163232, "question_id": 16323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-30T18:19:11Z", "scrap_date": "2024-04-30T23:53:45.389591", "content": "You just have to wait Contact AWS if it takes more than a few hours "},
{"id": 164502, "question_id": 16450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-17T00:19:58Z", "scrap_date": "2024-04-30T23:53:46.447053", "content": "Did you ever resolve this Just updated from old v2 version to v3 and am getting the same issue"},
{"id": 164503, "question_id": 16450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-30T18:20:01Z", "scrap_date": "2024-04-30T23:53:46.448054", "content": "Almost always when I get it its because my AWS profile awsprofile has no access "},
{"id": 176582, "question_id": 17658, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-04T09:21:18Z", "scrap_date": "2024-04-30T23:53:48.457704", "content": "So either this is a rare event or its common and no one knows what Serverless does here "},
{"id": 176583, "question_id": 17658, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-14T16:19:28Z", "scrap_date": "2024-04-30T23:53:48.458705", "content": "Or does everyone know that Serverless will sometimes delete a SQS with no warning and drop messages in flight on the floor "},
{"id": 54972, "question_id": 5497, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-18T15:35:06Z", "scrap_date": "2024-04-30T23:53:49.438011", "content": "ok i was missing the from my template although now i get this error looking at httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiess3policy html i got this but it is still not correct what am i missing"},
{"id": 54973, "question_id": 5497, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-06T06:40:10Z", "scrap_date": "2024-04-30T23:53:49.439440", "content": "I met the same problem but the bucket policies are not updated when i deploy my function did you fix the issue"},
{"id": 54974, "question_id": 5497, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-14T23:49:09Z", "scrap_date": "2024-04-30T23:53:49.440445", "content": "Adding the S3 bucket policy as resource worked for me"},
{"id": 72612, "question_id": 7261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T19:31:44Z", "scrap_date": "2024-04-30T23:53:50.378725", "content": "Did you ever figure this out Im experimenting referencing a handler function from a parent directory as well and not making much progress"},
{"id": 72613, "question_id": 7261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T21:22:14Z", "scrap_date": "2024-04-30T23:53:50.380726", "content": "Unfortunately I did not I just brute forced it by using symbolic links I havent gone back to figure out if serverless supports this type of use case now but maybe because of your post this thread will get bumped and we can get an answer "},
{"id": 72614, "question_id": 7261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-20T18:41:02Z", "scrap_date": "2024-04-30T23:53:50.380726", "content": "Doesnt have solution for this yet I am expecting to do the sameI used symbolic link but that cause me an error which say Resource handler returned message Unzipped size must be smaller than 55046686 bytes Service Lambda Status Code 400 Request ID 160800aa70404699a22a36c1cb91ed89 RequestToken eb9a6882d0cafe7c76178ab39e1b749f HandlerErrorCode InvalidRequest "},
{"id": 176882, "question_id": 17688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-09T14:55:20Z", "scrap_date": "2024-04-30T23:53:51.044692", "content": "I dont use the serverlesssinglepageappplugin but in having a look at my own S3 yaml config for S3 i noticed that you may need to add a 3rd colon to your Resource value See below I think youve only got 2 colons and then the What i think might be the necessary value for your Resource arnawss3"},
{"id": 176883, "question_id": 17688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-21T09:48:27Z", "scrap_date": "2024-04-30T23:53:51.045956", "content": "I tried to debug and see it not work when create S3 bucketACL"},
{"id": 176362, "question_id": 17636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-21T17:42:17Z", "scrap_date": "2024-04-30T23:53:51.879159", "content": "cwt Please update your serverless version to latest version Maybe 3 21 0 And you will be good "},
{"id": 163722, "question_id": 16372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-18T11:44:26Z", "scrap_date": "2024-04-30T23:53:52.764745", "content": "Hi Did anyone find a resolution to this I seem to have the exact same problem package artifact s3privatebucketpackage zip Error Error ENOENT no such file or directory open s3privatebucketpackage zip"},
{"id": 163723, "question_id": 16372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-19T08:09:14Z", "scrap_date": "2024-04-30T23:53:52.765745", "content": "No I ended up using docker "},
{"id": 163724, "question_id": 16372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-23T11:02:11Z", "scrap_date": "2024-04-30T23:53:52.765745", "content": "Thanks I was fortunate in that my package was bloated and after a cleanup actual size was much smaller no longer needed to use S3"},
{"id": 166432, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-02T20:01:59Z", "scrap_date": "2024-04-30T23:53:53.649812", "content": "What do you mean by normal messages What exactly is problematic here"},
{"id": 166433, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-02T20:20:58Z", "scrap_date": "2024-04-30T23:53:53.650812", "content": "Non error message are displayed as errors instead of warnings etc This causes pipeline builds to fail because it thinks errors occurred"},
{"id": 166434, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-02T20:33:04Z", "scrap_date": "2024-04-30T23:53:53.650812", "content": "The log outputs are redirected to stderr which is a standard practice for CLI tools its a change from how it behaved in v2 along with new logs "},
{"id": 166435, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-03T00:12:18Z", "scrap_date": "2024-04-30T23:53:53.651812", "content": "That doesnt sound rightstderr stands for standard error Its not errors being logged"},
{"id": 166436, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-03T08:06:49Z", "scrap_date": "2024-04-30T23:53:53.652813", "content": "stderr is the standard output to which logs errors diagnostic messages are outputted by most of the CLI tools and programs It wasnt the case in Serverless for a long time due to messy implementation of the logging engine that has been changed in v3 Even if the name of stderr might suggest that its only for errors that is not the case I believe you mightve explicitly enabled failing on stderr output in Azure Pipelines you should be able to turn it off in a similar way as suggested here Azure commandline task What is the difference between Fail on standard error and Continue on error unchecked Stack Overflow"},
{"id": 166437, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-03T10:08:26Z", "scrap_date": "2024-04-30T23:53:53.653812", "content": "Thanks for the quick feedback but I must disagree with you stdout should be used for normal logs It makes no sense whatsoever to use the error function to log non error messages while there is a stdout function to stream normal messages Do you have a link where I can read this CLI standards because its basic Linux commands and practices"},
{"id": 166438, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-02-03T10:34:10Z", "scrap_date": "2024-04-30T23:53:53.654813", "content": "Hello you can find more details about our current loggingoutput APIs utilslog md at main serverlessutils GitHub Theres a distinction between substantial output that is intended for further processing for that we use writeText and that is being outputted to stdout whereas everything else is considered to be logsdiagnositcs and that is outputted to stderr Its done on purpose to allow more programmatic use of certain commands and allow e g deterministic parsing of command outputs that are no longer polluted with warninglogs "},
{"id": 166439, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-11T11:37:11Z", "scrap_date": "2024-04-30T23:53:53.655814", "content": "its a change from how it behaved in v2 along with new logs Nox Vidmate"},
{"id": 1664310, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-09T11:49:04Z", "scrap_date": "2024-04-30T23:53:53.655814", "content": "It surprises me too I just updated to v3 version and all my pipelines are broken now Fortunately I found this topic and wasted only a few days The problem is that serverless deploy usually is just one of a ton of commands in a deployment script Of course Its possible to ignore the whole stderr but in this case you will miss a really important mistake sometime So I think this feature should be added to the list of breaking changes "},
{"id": 1664311, "question_id": 16643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-23T11:05:47Z", "scrap_date": "2024-04-30T23:53:53.656814", "content": "Yep also seeing this issue with serverless causing my pipeline Octopus to fail due to output in stderr Other CLIs do not give me this issue unless there is a genuine error My work round seems to be ignore stderr in my pipeline which seems a step backwards"},
{"id": 56852, "question_id": 5685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T00:53:48Z", "scrap_date": "2024-04-30T23:53:54.505540", "content": "The configurations look good I just tried your exact configuration without any issues Try running sls remove and then deploying again "},
{"id": 56853, "question_id": 5685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-26T19:43:22Z", "scrap_date": "2024-04-30T23:53:54.506540", "content": "I have the same error here In my case I have a SQS to trigger Lambda function When I do a fulldeployment creating SQS and Lambda at the same time I get this error "},
{"id": 56854, "question_id": 5685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-24T07:39:11Z", "scrap_date": "2024-04-30T23:53:54.507549", "content": "Yes I am reproducing this issue today in 2022 using these plugins How did you get around it in the end I tried deploying without the subscription at first and then with it on a separate deploy but it didnt help Update It turns out that I just had to provide the right permissions at the function level with the right SQS name using the serverlessiamrolesperfunction plugin It should also work if you set it at the provider level without that plugin Previously I was relying on a separate package plugin that would create the queue and permissions for me but that is seemingly something change that that behaviour is lost in that plugin and I have to do it explicitly "},
{"id": 177692, "question_id": 17769, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-24T19:09:50Z", "scrap_date": "2024-04-30T23:53:55.542142", "content": "use a variable in self provider envrironment like LOG_LEVEL selfcustom environment selfcustom stage logging then have the appropriate level for each stage like your can then reference it from code via process env LOG_LEVEL we use bole so in the log js file we have bole output level process env LOG_LEVEL stream You can also define a LOG_LEVEL at the function level to override the stages settings if you need Hope this helps"},
{"id": 177792, "question_id": 17779, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-26T07:08:53Z", "scrap_date": "2024-04-30T23:53:56.488096", "content": "Is this expected Yes CloudFormation the underlying AWS service that handles deployment will happily add and remove any resources required I would strongly recommend two things As a side note substantial is very subjective A small change to the stack like removing a DynamoDB table or Cognito User Pool might be only one resource but its substantial because you cannot replace the data in it "},
{"id": 177793, "question_id": 17779, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-10-26T08:12:59Z", "scrap_date": "2024-04-30T23:53:56.490097", "content": "Thanks It makes sense I guess and while youre right that even a small change to delete a single resource could be catastrophic that wouldnt typically happen in the scenario where someone accidentally used the same stack name as something existing and youd think that it would at least be quite easy to detect that a deployed template is say more than 50 different from the existing stack and at least prompt a warning But anyway this was nowhere near tearing down something from production but a valid lesson learnt the hard way I guess Im aware of DeletionPolicies and have been using them for things like DynamoDB tables in the past so maybe this was a good wakeup call to start using them again "},
{"id": 168132, "question_id": 16813, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-31T20:14:01Z", "scrap_date": "2024-04-30T23:53:57.331768", "content": "did u got the solution as i am stuck with same issue"},
{"id": 168133, "question_id": 16813, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-01T16:34:09Z", "scrap_date": "2024-04-30T23:53:57.331768", "content": "Hello This is the working serverless yml file that I have"},
{"id": 177612, "question_id": 17761, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-02T17:55:15Z", "scrap_date": "2024-04-30T23:53:58.400314", "content": "We scraped the idea compose doesnt do what we wanted to achieve "},
{"id": 174022, "question_id": 17402, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-11-04T13:59:49Z", "scrap_date": "2024-04-30T23:53:59.313085", "content": "For the record my team has been waiting for this functionality as well for a long time For now weve linked our OnError SNS topic to a SQS queue but it seems a clunky solution to me"},
{"id": 176962, "question_id": 17696, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-05T11:39:32Z", "scrap_date": "2024-04-30T23:54:00.245095", "content": "Good Evening Welcome to the Severless Community SvelteKit is a structure for building web uses all things considered with a wonderful improvement experience and adaptable filesystembased directing Dissimilar to singlepage applications SvelteKit doesnt think twice about Website optimization moderate improvement or the underlying burden insight however not at all like conventional serverdelivered applications route is momentary for that application like feel "},
{"id": 177812, "question_id": 17781, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-07T11:46:17Z", "scrap_date": "2024-04-30T23:54:01.194676", "content": "Hey Dear I would recommend reaching out to Sendy and Bref to see if its possible to make it work However looking at the getting started guide for Sendy step 3 it notes that uploads folder permission should be set as 777 However on Lambda the only writable directory is tmp unless you use EFS to mount a directory If the uploads directory path or any other directory path to write files can be modified it may be possible from Lambda perspective By Tatum"},
{"id": 172922, "question_id": 17292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-06T19:18:00Z", "scrap_date": "2024-04-30T23:54:02.253447", "content": "Im having this same issue too Did you end up resolving it"},
{"id": 172923, "question_id": 17292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-14T08:39:14Z", "scrap_date": "2024-04-30T23:54:02.254446", "content": "Hello Did you manage to find a solution I also have this issue I do not receive an error at deploy but the bucket is empty Can anyone please help me with this"},
{"id": 172924, "question_id": 17292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-07T12:10:07Z", "scrap_date": "2024-04-30T23:54:02.255448", "content": "i was facing a same issue but after some time i realize that it is due cache storage remove your caches then may be your issue become resolve it can also occur due to slow internet speed check both things hopefully you will solve your problem thank you"},
{"id": 172925, "question_id": 17292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-08T16:14:06Z", "scrap_date": "2024-04-30T23:54:02.256447", "content": "Hopefully My opinion will be good in this discussion"},
{"id": 176142, "question_id": 17614, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-15T01:38:37Z", "scrap_date": "2024-04-30T23:54:03.951261", "content": "Packages are included because they are found in import statements Are you using older require or es6 style imports es6 works better Also youre showing typescript in dev dependencies but all your files are js Are you using typescript"},
{"id": 176143, "question_id": 17614, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-15T15:46:17Z", "scrap_date": "2024-04-30T23:54:03.952267", "content": "I was going to phase in typescript but I dont have it in right now I tried it without the typescript requirement with the same result That being said I am using older require statements Ill go ahead and use imports instead to see if that helps "},
{"id": 176144, "question_id": 17614, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-19T13:09:15Z", "scrap_date": "2024-04-30T23:54:03.952267", "content": "The problem Im having with this approach is the fact that the builtin function deployed with serverless uses a require statement I cannot use this when I add type module To the package json file to support import statements Also Ive tried changing this to an import statement and I get the error The requested module serverless_sdkindex js does not provide an export named serverlessSDK"},
{"id": 176145, "question_id": 17614, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-21T13:16:24Z", "scrap_date": "2024-04-30T23:54:03.953262", "content": "I found the root cause of this Ive been using serverlesspluginincludedependencies to deploy my functions as the npm libraries with the solution has grown to a point that it wont deploy without it In certain environments the latest version version 5 at the time of this doesnt deploy any dependencies I rolled back the version to 4 1 and it seemed to work Also note that it took about 8 or 9 minutes to deploy and it looked like it froze but did eventually work so if anyone else is reading this and runs into this I hope Ive just saved you hours worth of time "},
{"id": 67542, "question_id": 6754, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-23T17:15:37Z", "scrap_date": "2024-04-30T23:54:04.802928", "content": "Were you able to resolve this"},
{"id": 67543, "question_id": 6754, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-16T15:35:24Z", "scrap_date": "2024-04-30T23:54:04.803922", "content": "Can someone know if this error is resolved"},
{"id": 67544, "question_id": 6754, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-03-20T12:59:29Z", "scrap_date": "2024-04-30T23:54:04.803922", "content": "So I was able to successfully deploy the lambda flask API with the above configuration There are couple of issues that was in my case not sure if its the same thing with your case as well Just incase if others stumble upon they may find it useful So the error Unable to import application application predominantly means the app can be successfully deployed but your flask server cannot be started In your code please remove any thing related to app run This is not needed serverlesswsgi plugin takes care of it automatically You shouldnt start the flask app leave it to the lambda to take that decision There were also several environment variables which I forgot to initialise My app is designed to be database action centric and if I cannot establish a connection I retry and fail The error message wasnt appropriate but nevertheless I forgot to mention database related environment secrets and that caused the issue as well "},
{"id": 67545, "question_id": 6754, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-22T17:47:50Z", "scrap_date": "2024-04-30T23:54:04.805922", "content": "Can anyone give more context on the cause of this error how to resolve it Im having the same error when anyone on my team other than me tries to deploy our Serverless API Im the only person who can deploy so this is a huge blocker Been stuck on this issue for months "},
{"id": 173143, "question_id": 17314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-23T09:23:04Z", "scrap_date": "2024-04-30T23:54:05.861761", "content": "Okay I found a way to do this You can do this with extensions You have to create your models under Resources to reference them Bonus If you want to reference a model from another model the ref property has to be the full url You can define your schema like this if you want to do this I hope this helps "},
{"id": 176662, "question_id": 17666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-04T06:04:44Z", "scrap_date": "2024-04-30T23:54:06.890995", "content": "Hi Can you please share the policies attached to your user"},
{"id": 82742, "question_id": 8274, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-05-15T11:22:14Z", "scrap_date": "2024-04-30T23:54:07.804624", "content": "Hi I think you can define your table as a resource and set TimeToLiveSpecification httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcedynamodbtable html Is this what you need"},
{"id": 82743, "question_id": 8274, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-17T19:39:00Z", "scrap_date": "2024-04-30T23:54:07.805624", "content": "I think it is Thankyou"},
{"id": 82744, "question_id": 8274, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-16T15:05:33Z", "scrap_date": "2024-04-30T23:54:07.805624", "content": "I cant currently get that to work maybe the format of my field is worng Do you have an example configuration for this"},
{"id": 82746, "question_id": 8274, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-05T04:22:07Z", "scrap_date": "2024-04-30T23:54:07.806624", "content": "Here is what worked for me"},
{"id": 144722, "question_id": 14472, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-06T04:33:29Z", "scrap_date": "2024-04-30T23:54:08.842488", "content": "Hi anthonyl were you able to fix this problem Im facing the same issue and I dont know what to do"},
{"id": 121412, "question_id": 12141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-07T13:28:48Z", "scrap_date": "2024-04-30T23:54:09.834881", "content": "I have precisely the same issue Do you solve it"},
{"id": 156312, "question_id": 15631, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-13T12:33:59Z", "scrap_date": "2024-04-30T23:54:10.534761", "content": "This would be nice to have some documentation on as it doesnt appear to work Bit annoying little things like this is what spoils Serverless as a good solution for production quality projects "},
{"id": 156313, "question_id": 15631, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-10T14:45:21Z", "scrap_date": "2024-04-30T23:54:10.535761", "content": "Hello just had the issue the syntax worked for me As far as I understand you have to use the syntax as it would have been rendered while using serverless yml template"},
{"id": 177062, "question_id": 17706, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-10-10T15:26:16Z", "scrap_date": "2024-04-30T23:54:11.634119", "content": "Try to upgrade to serverless version v3 as the default node version up to v3 was nodejs12 and after v3 is node14 as it doesnt look like it picked version from a provider runtime At least for customresourceexistings3 I think I saw it like that Not able to verify it now but I remember I noticed this custom resource cloudformation template when added existing true had a different runtime version based only on changes in the serverless version after bump it up to v3 it showed node14 and any bellow was node12 although my provider runtime was set to node14 all the time Would like to find out more as it wasnt documented UPDATE Actually I found it now in upgrading v3 page that the default runtime is changed so this explains it all Anyway Id like to have a control over this version as well as"},
{"id": 177232, "question_id": 17723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-11T04:36:20Z", "scrap_date": "2024-04-30T23:54:12.752947", "content": "I exported in environment variable SLS_DEBUG and adding option verbose at my sls command I still get the generic error without any log"},
{"id": 177233, "question_id": 17723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-11T04:54:14Z", "scrap_date": "2024-04-30T23:54:12.753947", "content": "after too much time I found my error updated the module exports value to"},
{"id": 127372, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-04T14:21:10Z", "scrap_date": "2024-04-30T23:54:13.866730", "content": "What is the reason for you wanting to use the yaml file The serverless ts file introdces type autocompletion which is really helpful when building serverless apps especially when you have to reference things between files "},
{"id": 127373, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-05T15:07:41Z", "scrap_date": "2024-04-30T23:54:13.867730", "content": "Mostly because of familiarity and team direction I will look into this and see if I can advocate for a ts file "},
{"id": 127374, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-05T16:20:40Z", "scrap_date": "2024-04-30T23:54:13.867730", "content": "I have the same problem with some legacy apps but the Typescipt autocompletion and imports exports are so useful So Im trying to work out how I can migrate my old yaml files into the new TS format "},
{"id": 127375, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-05T22:16:56Z", "scrap_date": "2024-04-30T23:54:13.868731", "content": "Apologies for hijacking this thread but I have a similar question With the typescript based config file how do I use Serverless variables just as literal strings"},
{"id": 127376, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-29T16:20:57Z", "scrap_date": "2024-04-30T23:54:13.868731", "content": "Yes literal strings would work"},
{"id": 127377, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-02T23:19:23Z", "scrap_date": "2024-04-30T23:54:13.869731", "content": "Any updates on this issue I have the same question I would like to use a yml serverless file in a typescript project but I want to know if this is fully supported "},
{"id": 127378, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-15T14:02:55Z", "scrap_date": "2024-04-30T23:54:13.869731", "content": "With the typescript based config file how do I use Serverless variables just as literal strings Showbox jiofi local html"},
{"id": 127379, "question_id": 12737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-13T18:12:27Z", "scrap_date": "2024-04-30T23:54:13.870731", "content": "Simple The serverless dashboard service only supports serverless yml"},
{"id": 178162, "question_id": 17816, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-08T18:44:43Z", "scrap_date": "2024-04-30T23:54:14.716969", "content": "So the Issue was in path clientservice there is a single inverted comma which is a syntactical error causing this The correct snippet is as follows"},
{"id": 148022, "question_id": 14802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-09T22:35:10Z", "scrap_date": "2024-04-30T23:54:15.413743", "content": "I am currently typing this on my phone because I havent been able to login to my reddit account via Google Chrome or Safari Im not sure why but whenever I press the login or create new account buttons nothing happens It doesnt matter what I type in and there is no error message I just click and there is no response from the page can someone help me figure this Showbox jiofi local html tplinklogin out"},
{"id": 148023, "question_id": 14802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-10-10T14:46:02Z", "scrap_date": "2024-04-30T23:54:15.414743", "content": "I am getting You have not registered a user account Please contact support and provide this identifier to reference this issue CYR3851ZMJJP"},
{"id": 148024, "question_id": 14802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-09T06:30:52Z", "scrap_date": "2024-04-30T23:54:15.414743", "content": "I spoke to support and the suggest running the command serverless login This fixed it for me "},
{"id": 160392, "question_id": 16039, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-20T07:09:34Z", "scrap_date": "2024-04-30T23:54:16.471145", "content": "Just a guess but the deployerRole is probably assumed by Cloudfront to deploy the actual resources only after the Cloudformation template has been synthesised using the roleprofile that the serverless cli is running under "},
{"id": 160393, "question_id": 16039, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-20T07:34:57Z", "scrap_date": "2024-04-30T23:54:16.472145", "content": "The deploymentRole is indeed assumed by CloudFront to deploy the actual resources That is also what I want so no problem there The problem is why is a role created for CloudFront being applied to a Lambda function that as I understand it is being autogenerated for the Dashboard functionality which I dont even use If deploymentRole is present it should only be applied to CloudFront and not to some autogenerated Lambda When not using deploymentRole another role is generated for that Lambda which is also what should continue to happen when deploymentRole is being used as that autogenerated role works just fine "},
{"id": 160394, "question_id": 16039, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-17T17:50:44Z", "scrap_date": "2024-04-30T23:54:16.473145", "content": "Hi were you able to find a resolution to this issue Currently running into the exact same issue and not sure what to do "},
{"id": 160395, "question_id": 16039, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-07T07:33:15Z", "scrap_date": "2024-04-30T23:54:16.474145", "content": "I was able to fix this issue for my setup Find out what role your CustomDashresourceDashapigwDashcwDashroleLambdaFunction uses with provider iam deploymentRole turned offdisabled Copy that role info from serverlessstate json and convert it to YAML with httpsjson2yaml com Add the new role to your resources section in serverless yml Example IamRoleCustomResourcesLambdaExecution Type AWSIAMRole Properties AssumeRolePolicyDocument Version 20121017 Statement Effect Allow Principal Service lambda amazonaws com Action stsAssumeRole Policies PolicyName FnJoin selfcustom stage myproject customresourceslambda PolicyDocument Version 20121017 Statement Effect Allow Resource Then add an extensions section to the end of your resources section to overwrite the deploymentRole on the CustomDashresource resources extensions CustomDashresourceDashapigwDashcwDashroleLambdaFunction Properties Role FnGetAtt IamRoleCustomResourcesLambdaExecution Arn Reenable provider iam deploymentRole and sls deploy Worked for me "},
{"id": 160396, "question_id": 16039, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-08T16:20:46Z", "scrap_date": "2024-04-30T23:54:16.476146", "content": "To use a custom resource youll need to do three things"},
{"id": 170823, "question_id": 17082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-10T10:16:34Z", "scrap_date": "2024-04-30T23:54:17.566673", "content": "the opt appears to read options defined when you execute a cli command For example this command defines an option called stage to be qa sls deploy stage qa So this will be read in the yml as opt stage and give the value qa"},
{"id": 52032, "question_id": 5203, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-10T10:23:10Z", "scrap_date": "2024-04-30T23:54:18.452280", "content": "While i understand this is an old question this is for anyone who navigates here through the google search As mentioned in this stack over flow post serverlessplugintypescript plugin compiles ts only starting from root files taken from severless functions handlers"},
{"id": 149842, "question_id": 14984, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-10-18T16:59:50Z", "scrap_date": "2024-04-30T23:54:20.281780", "content": "Im getting the same problem any suggestions I presume this is a problem updating old configurations UPDATE Aha worked for me after deleting local serverless directory "},
{"id": 149843, "question_id": 14984, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-18T10:17:03Z", "scrap_date": "2024-04-30T23:54:20.282780", "content": "This fixed it for me too thank you "},
{"id": 175182, "question_id": 17518, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-18T01:33:48Z", "scrap_date": "2024-04-30T23:54:21.303183", "content": "The runtime version is hardcoded here and is updated to use Node14 in Serverless Framework V3 BREAKING CHANGE Default runtime has been changed from `nodejs12 x` to `nodejs14 x` So upgrading framework to V3 will change runtime to node14 x"},
{"id": 175183, "question_id": 17518, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-18T07:30:28Z", "scrap_date": "2024-04-30T23:54:21.304183", "content": "Finally select Create Modify Lambda function Now that we have a Lambda function that will execute every time our Auto Scaling group changes"},
{"id": 175352, "question_id": 17535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-23T16:46:20Z", "scrap_date": "2024-04-30T23:54:22.166646", "content": "I found a way to do this Now my api is 2x times faster I am using the plugin serverlessbundle Changes that i made"},
{"id": 20142, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 7, "created_date": "2017-06-06T23:56:33Z", "scrap_date": "2024-04-30T23:54:23.223042", "content": ""},
{"id": 20143, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-07T09:51:36Z", "scrap_date": "2024-04-30T23:54:23.224036", "content": "thank you that fixed it Just out of curiosity would there be a way to recover from this without losing the api gateway subdomain"},
{"id": 20144, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-07T10:05:33Z", "scrap_date": "2024-04-30T23:54:23.224036", "content": "Sadly no The API Gateway ID is automatically generated by Amazon If you were using a custom domain you could move that "},
{"id": 20145, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T20:53:24Z", "scrap_date": "2024-04-30T23:54:23.225036", "content": "buggy After I removed http and redeploy stack output still show ApiId and ServiceEndpoint "},
{"id": 20146, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T23:01:34Z", "scrap_date": "2024-04-30T23:54:23.225036", "content": "You need to remove all references to it Have a look at the CloudFormation output from Serverless It should provide more information about what is using it "},
{"id": 20147, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T23:48:20Z", "scrap_date": "2024-04-30T23:54:23.226036", "content": "buggy I comment everything out and have only code below but for some reason it doesnt update Cloudformation stack Any idea I deleted api gateway manually service cognito provider name aws runtime nodejs8 10 stage optstage dev region optregion uswest2 timeout 30"},
{"id": 20148, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T00:00:06Z", "scrap_date": "2024-04-30T23:54:23.227036", "content": "Dont look at your serverless yml file When you run serverless package it should create a folder serverless with two cloudformation files Look at the cloudformationtemplateupdatestack json file for any references to your API "},
{"id": 20149, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T00:03:30Z", "scrap_date": "2024-04-30T23:54:23.228037", "content": "buggy here is my cloudformationtemplateupdatestack json file and its only reference for s3bucket that deploy serverless file AWSTemplateFormatVersion 20100909 Description The AWS CloudFormation template for this Serverless application Resources ServerlessDeploymentBucket Type AWSS3Bucket Properties BucketEncryption ServerSideEncryptionConfiguration [ ServerSideEncryptionByDefault SSEAlgorithm AES256 ] Outputs ServerlessDeploymentBucketName Value Ref ServerlessDeploymentBucket and I still got same error with apiId"},
{"id": 201410, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T11:39:27Z", "scrap_date": "2024-04-30T23:54:23.229037", "content": "Are you 100 certain youre updating the same stack Are you 100 certain the stack update is succeeding Beyond that Im lost for why "},
{"id": 201411, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T22:08:44Z", "scrap_date": "2024-04-30T23:54:23.229037", "content": "buggy I tried to delete stack and it was not succeed either "},
{"id": 201412, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T22:40:34Z", "scrap_date": "2024-04-30T23:54:23.230037", "content": "If you try deleting the stack in the AWS console it will typically fail because the deployment bucket has files in it Remove those files plus files from any other S3 buckets you have and try again On the second attempt at deleting it will often provide a list of resources that cant be deleted and ask you if you want to leave them Say yes and clean them up manually "},
{"id": 201413, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-19T09:58:27Z", "scrap_date": "2024-04-30T23:54:23.231037", "content": "Thanks buggy Your answer was really helpful "},
{"id": 201414, "question_id": 2014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-23T17:52:41Z", "scrap_date": "2024-04-30T23:54:23.231037", "content": "Thank you for your help "},
{"id": 175112, "question_id": 17511, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-20T02:23:02Z", "scrap_date": "2024-04-30T23:54:24.078827", "content": "You need to also include the function name assuming your testdeploy ts has your function like export const myUserName Handler async event any then your path should be handler dsthandlerstestdeploy myUserName"},
{"id": 175113, "question_id": 17511, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T12:53:52Z", "scrap_date": "2024-04-30T23:54:24.079827", "content": "Yep that was the issue I needed to add the function name to the handler After I did that it deployed correctly "},
{"id": 175382, "question_id": 17538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-23T16:50:42Z", "scrap_date": "2024-04-30T23:54:25.096582", "content": "I dont know if it could help"},
{"id": 175383, "question_id": 17538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T12:48:49Z", "scrap_date": "2024-04-30T23:54:25.097583", "content": "The option is already set It looks like the node_modules is huge and contain lost of lib that is doesnt used by the code of the function "},
{"id": 175384, "question_id": 17538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T14:29:15Z", "scrap_date": "2024-04-30T23:54:25.097583", "content": "Try uninstalling serverlessoffline "},
{"id": 175502, "question_id": 17550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T17:51:56Z", "scrap_date": "2024-04-30T23:54:26.193607", "content": "I think I figured it out wasnt passing a query param so serverless was rejected the request with a message [userId is required] but serverless does not include the cors headers on that automated response so was a falseerror message "},
{"id": 175412, "question_id": 17541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T02:50:06Z", "scrap_date": "2024-04-30T23:54:27.266579", "content": "So my main question would be is it possible to access ENV variables from the CLI as Im doing in my startdevserverless and serverlessdeploy scripts We just put our values in a env file like so Update the serverless yml file region entry And dont pass them on the cli in your package json and it should deploy to the region and stage set in your env file Our CICD build has a custom script that generates the env file with appropiate STAGE entries"},
{"id": 175413, "question_id": 17541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T16:07:31Z", "scrap_date": "2024-04-30T23:54:27.268579", "content": "Hi Thanks for the response Are you guys using serverless v3 and node16"},
{"id": 175414, "question_id": 17541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-24T23:23:03Z", "scrap_date": "2024-04-30T23:54:27.268579", "content": "Serverless v3 and node14 Lumigo didnt support node16 at the time though will revisit at some point "},
{"id": 145222, "question_id": 14522, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-03-31T02:56:11Z", "scrap_date": "2024-04-30T23:54:28.042432", "content": "Do not apply this to already deployed service Refer httpswww serverless comframeworkdocsdeprecations"},
{"id": 145223, "question_id": 14522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-27T20:22:59Z", "scrap_date": "2024-04-30T23:54:28.043432", "content": "To fix this error you have to make some changes to your code before you deploy See Serverless Framework Upgrading to v3"},
{"id": 138372, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-04T18:37:29Z", "scrap_date": "2024-04-30T23:54:29.021804", "content": "I dont have the same problem FWIW in the latest release I was hitting the same error initially but it was because Id named the property maximumBatchWindow instead of maximumBatchingWindow"},
{"id": 138373, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-10T19:23:30Z", "scrap_date": "2024-04-30T23:54:29.022810", "content": "Id named the property maximumBatchWindow instead of maximumBatchingWindow I guess the documentation should be correct your suggestion is also not working for me"},
{"id": 138374, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T11:39:05Z", "scrap_date": "2024-04-30T23:54:29.022810", "content": "Same thing for me doesnt seem to be working "},
{"id": 138375, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-17T00:09:51Z", "scrap_date": "2024-04-30T23:54:29.023805", "content": "For me it was not working for serverless V1 7 I updated the serverless to 2 23 and it started working for V1 7 it was not picking up batchSize and maximumBatchingWindow For V2 23 its working now and changes are reflected in aws console"},
{"id": 138376, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-05-07T15:33:49Z", "scrap_date": "2024-04-30T23:54:29.024805", "content": "For me it was not working for serverless V1 7 I updated the serverless to 2 23 and it started working It would be great if serverless team can specify what version of serverless support each functionality in documentation"},
{"id": 138377, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-09T08:49:35Z", "scrap_date": "2024-04-30T23:54:29.024805", "content": "It still doesnt work with latest version of serverless "},
{"id": 138378, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-04T08:30:46Z", "scrap_date": "2024-04-30T23:54:29.025805", "content": "Same problem here with v2 70 0"},
{"id": 138379, "question_id": 13837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-30T09:52:54Z", "scrap_date": "2024-04-30T23:54:29.025805", "content": "It is only supported on version 2 14 0 and above so you must upgrade your version This is the release features Release 2 14 0 20201201 serverlessserverless GitHub"},
{"id": 63572, "question_id": 6357, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-01-30T05:56:08Z", "scrap_date": "2024-04-30T23:54:29.983325", "content": "I recently had this issue and the problem was with authorization caching I was getting the exact same error message I fixed this in the API Gateway dashboard Under the API that was causing the issue there is a section for the Authorizers Click edit and uncheck Authorization Caching Then make sure to redeploy your API after clicking save "},
{"id": 63573, "question_id": 6357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-30T17:28:33Z", "scrap_date": "2024-04-30T23:54:29.984325", "content": "thx for saving me lots of neurons"},
{"id": 63574, "question_id": 6357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-06T06:59:27Z", "scrap_date": "2024-04-30T23:54:29.984325", "content": "disabling caching may not be the correct way to go You may refer to this answer In short when you authorize the request the event methodArn contains the request path as well Which means that if this is cached only this specific request maybe used The answer provides a solution "},
{"id": 175792, "question_id": 17579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-06T09:35:08Z", "scrap_date": "2024-04-30T23:54:30.730135", "content": "Looks like we can just do"},
{"id": 166602, "question_id": 16660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-15T16:15:58Z", "scrap_date": "2024-04-30T23:54:31.794484", "content": "I received something related And it has a hard date April 30 2022 Lambda API calls will fail with permission errors "},
{"id": 166603, "question_id": 16660, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-02-24T19:16:57Z", "scrap_date": "2024-04-30T23:54:31.795484", "content": "Do you have a plan to resolve the issue"},
{"id": 166605, "question_id": 16660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-08T09:48:08Z", "scrap_date": "2024-04-30T23:54:31.796484", "content": "Hi guys any updates on this issue"},
{"id": 162632, "question_id": 16263, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-10T11:30:07Z", "scrap_date": "2024-04-30T23:54:32.774753", "content": "Did you found the solution to this"},
{"id": 175312, "question_id": 17531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-12T17:02:17Z", "scrap_date": "2024-04-30T23:54:33.875714", "content": "useDotenv true works for me "},
{"id": 47002, "question_id": 4700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-07T23:30:07Z", "scrap_date": "2024-04-30T23:54:34.944175", "content": "You can use FnGetAtt to retrieve the GroupId for a security ground Something like"},
{"id": 47003, "question_id": 4700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-15T13:20:47Z", "scrap_date": "2024-04-30T23:54:34.945175", "content": "You have a little typo you need GettAtt instead of GetArr"},
{"id": 47004, "question_id": 4700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-16T02:52:28Z", "scrap_date": "2024-04-30T23:54:34.946175", "content": "Thank you Ive edited it to update it "},
{"id": 47005, "question_id": 4700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-09T22:59:18Z", "scrap_date": "2024-04-30T23:54:34.946175", "content": "When I tried to get security group id for my lambda I am getting an error Incorrect type Expected string Did it work and then something changed with serverless framework itself functions authorizer handler srcv1oddcauthorizer handler memorySize 512 timeout 30 reservedConcurrency 2 tracing PassThrough vpc securityGroupIds FnGetAtt [ AuthorizerLambdaSecurityGroup GroupId ] subnetIds selfcustom PARAMETERS CoreVpcPrivSubnet1a selfcustom PARAMETERS CoreVpcPrivSubnet1b "},
{"id": 47006, "question_id": 4700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-15T08:29:27Z", "scrap_date": "2024-04-30T23:54:34.947176", "content": "Are you sure that selfcustom PARAMETERS CoreVpcPrivSubnet1a and selfcustom PARAMETERS CoreVpcPrivSubnet1b are set"},
{"id": 174182, "question_id": 17418, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-21T00:04:35Z", "scrap_date": "2024-04-30T23:54:36.785516", "content": "Problem fixed Its because of Python virtual environment I deleted the venv and recreate a new one Fixed "},
{"id": 58742, "question_id": 5874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-30T08:07:16Z", "scrap_date": "2024-04-30T23:54:37.666926", "content": "You can exclude the package json and node_modules from your package using the package exclude option in your serverless yml Personally I install everything locally so each service is using the correct version of Serverless "},
{"id": 58743, "question_id": 5874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-21T18:20:56Z", "scrap_date": "2024-04-30T23:54:37.667926", "content": "Installing locally isnt a great solution If you use lambda layers for node_modules then youll almost certainly run into this Unzipped size must be smaller than 262144000 bytes Service AWSLambdaInternal Status Code 400 Error Code InvalidParameterValueException Request ID Proxy null "},
{"id": 86962, "question_id": 8696, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-26T12:05:31Z", "scrap_date": "2024-04-30T23:54:38.739793", "content": "rmtuckerphx I have facing the same problem did you find a solution for it "},
{"id": 171012, "question_id": 17101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-27T05:16:53Z", "scrap_date": "2024-04-30T23:54:39.332435", "content": "Youve probably already found your solution but for everyone else check CloudFormation in aws for the error details You will need to select Deleted stacks"},
{"id": 174722, "question_id": 17472, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-03T22:41:29Z", "scrap_date": "2024-04-30T23:54:40.139849", "content": "Good Article for reference here The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more Id have a look at the section titled Itll probably come down to getting the correct Allow actions for the Lambdas Also that the S3 Cloudwatch or some other SNS events trigger the lambdas correctly and have the proper lambdaInvoke permissions in your template something like this Good Luck "},
{"id": 174752, "question_id": 17475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-08-04T22:54:04Z", "scrap_date": "2024-04-30T23:54:41.040191", "content": "We had the same problem to tackle It was surprisingly hard to find documentation describing the schema of the Cloudwatch Logs payload The payload is a JSON object but it is base64 encoded and compressed Heres roughly what our handler looks like The logChunk JSON payload looks something like this once it has been base64 decoded and decompressed"},
{"id": 174753, "question_id": 17475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-08-05T08:26:17Z", "scrap_date": "2024-04-30T23:54:41.042186", "content": "Wow this is gold thank you so much "},
{"id": 174882, "question_id": 17488, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-08-06T19:24:57Z", "scrap_date": "2024-04-30T23:54:42.126585", "content": "Have not tried to do so yet but do assume you could You would just subscribe the handlersfunctions to the same Queue in the events section of your yaml file I assume you could follow one of these setups to get you started I believe you could just use the same queue name in the events area I would expect The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more Im thinking something like below You could use different Queue Subscription methods though "},
{"id": 174883, "question_id": 17488, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-07T08:56:15Z", "scrap_date": "2024-04-30T23:54:42.128586", "content": "Yes yes that actually works Thanks "},
{"id": 174842, "question_id": 17484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-08T17:25:10Z", "scrap_date": "2024-04-30T23:54:43.226480", "content": "We identified an issue with an environment variable that was causing the cache to not update properly however there is still one place that it is not updating as we would expect it In the method request configuration under Request Paths there is a value for a parameter in the request path This has a configuration option to enabledisable caching by that parameter What we have found is when that value is set on the first serverless deployment of an API it never changes on subsequent serverless deployments Also if we change it manually and then perform a serverless deployment it does not revert it back Since this is configuration as code it is a problem that it does not revert manual changes to what is configured in the code base Are there some additional configurations that need to be set in serverless in order to update this on deployments"},
{"id": 17772, "question_id": 1777, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-03T19:16:40Z", "scrap_date": "2024-04-30T23:54:43.988805", "content": "I was able to use params by adding a parameters section to the resources section Apparently serverless will let you define anything that can go in a cloudformation template not just resources Make sure you specify defaults that is what serverless will use when you do a serverless deploy My use case is that I want to be able override the default values when I use the generated cloudformation template directly e g in production Here is how I referenced the params"},
{"id": 17773, "question_id": 1777, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-05T04:33:23Z", "scrap_date": "2024-04-30T23:54:43.989806", "content": "Update FYI this doesnt work when you try to do serverless deploy function for a specific function it seems the Cloudfromation resolution doesnt happen but it still works for a full serverless deploy"},
{"id": 17774, "question_id": 1777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T05:13:05Z", "scrap_date": "2024-04-30T23:54:43.990805", "content": "Thanks for the info My guess the sls deploy function work directly with Lambda bypassing CloudFormation but I could be wrong About my usecase securing the secrets it might be a difficult situation with serverless as I wouldnt want to set for e g the db credentials under the default value of the Parameters It will be visible and easily accesible under the AWS console Although sls command allows custom CLI optionparam and I can use these input properties in the YML for e g putting them into the Parameters section as youve suggested and with noecho enabled However CloudFormation Parameters section only allow default values to be set and sls has no proper Parameters integration with the stack This would mean I still need to set the values into the defaults which will eventually be visible under the AWS console The sls doesnt seem to be able to inject or supply them directly into stack like aws CLI More info httpdocs aws amazon comAWSCloudFormationlatestUserGuideparameterssectionstructure html"},
{"id": 17775, "question_id": 1777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-13T18:59:40Z", "scrap_date": "2024-04-30T23:54:43.992806", "content": "Ive found that this plugin will solve the issue of not having passwords in your templates Set cloudformation parameters when deploying using serverless framework GitHub trek10incserverlesscloudformationparametersetter Set cloudformation parameters when deploying using serverles Just follow the examples on this page then you can add to your template deploy then unset the variable and you can commit it to your repo From now on every deploy will use the existing param If you need to change the password edit the above but dont commit then remove the value after deploy It mentions you can use the environment variable as well which makes the above process easier but I did not test it "},
{"id": 17776, "question_id": 1777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-09T09:55:36Z", "scrap_date": "2024-04-30T23:54:43.993806", "content": "Now serverless supports stackParameters to pass parameters to cloudformation templates"},
{"id": 65402, "question_id": 6540, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-23T13:27:24Z", "scrap_date": "2024-04-30T23:54:45.013833", "content": "Yes here is from serverless yml"},
{"id": 65403, "question_id": 6540, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-29T09:11:41Z", "scrap_date": "2024-04-30T23:54:45.014833", "content": "Oh yes Many thanks frang "},
{"id": 65404, "question_id": 6540, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-11T01:26:21Z", "scrap_date": "2024-04-30T23:54:45.014833", "content": "Another good option is to send SNS topics to and SQS Queue and then to a Lambda Function Create SQS Queue that received messages from SNS Topics through Subscribing your SQS Queue to the SNS Topic with an SQS Queue Policy Bonus Included is an AWS Lambda Function that is triggered by the SQS Queue "},
{"id": 105502, "question_id": 10550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-18T00:32:11Z", "scrap_date": "2024-04-30T23:54:46.152327", "content": "I ended up implementing CORS manually myself Essentially a cors request is a OPTIONS call to your server with your url before the actual POSTGET request So I just applied this rule to capture all OPTIONS requests alb listenerArn Ref ALBListener priority 1 conditions path method OPTIONS The handler function would then return headers with cors info callback null statusCode 200 statusDescription OK isBase64Encoded false headers ContentType applicationjson AccessControlAllowOrigin AccessControlAllowHeaders AccessControlAllowMethods Obvs in production you probably want to not have so many wildcards I think also in every response in other requests I had to include these headers to make everything work "},
{"id": 105503, "question_id": 10550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-26T19:07:50Z", "scrap_date": "2024-04-30T23:54:46.154327", "content": "Thanks shadrech that one works"},
{"id": 105504, "question_id": 10550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-01T07:57:06Z", "scrap_date": "2024-04-30T23:54:46.154327", "content": "rigobertocontreras shadrech guys where you add the above specified option on AWS ALB Kindly mention the steps please "},
{"id": 105505, "question_id": 10550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-27T15:07:52Z", "scrap_date": "2024-04-30T23:54:46.155328", "content": "adityatezsure the rules are defined against the listener In the console if you click Viewedit rules you can add the OPTIONS bypass IF Http request method is OPTIONS"},
{"id": 105506, "question_id": 10550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-07T16:21:14Z", "scrap_date": "2024-04-30T23:54:46.155328", "content": "Hello folks could pls provide screen shots on how to get to ALB rules settings in more details having trouble finding it thks"},
{"id": 105507, "question_id": 10550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-12T18:03:46Z", "scrap_date": "2024-04-30T23:54:46.156328", "content": "shadrech jamesmorgan can one of you provide a little more information on how you are doing this We have created the lambda function and the first rule in the ALB for the OPTIONS method but we are not seeing how to use those headers with the next request in rule 2 "},
{"id": 126662, "question_id": 12666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-05T07:19:54Z", "scrap_date": "2024-04-30T23:54:47.207505", "content": "Sorry to bump this just curious if someone else can try this out before I go and create a github issue"},
{"id": 126663, "question_id": 12666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-15T06:14:19Z", "scrap_date": "2024-04-30T23:54:47.208506", "content": "Got into the same issue did you solve it somehow Anyone else that knows this and can explain"},
{"id": 126664, "question_id": 12666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-15T09:14:47Z", "scrap_date": "2024-04-30T23:54:47.208506", "content": "Hi Sorry Ive moved away from serverless framework to use sst dev instead"},
{"id": 141682, "question_id": 14168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-25T22:46:40Z", "scrap_date": "2024-04-30T23:54:48.112360", "content": "Update Finally got passed this error basically my config in webpack was an async function that returned a config object I changed it into just a regular config object and it started parsing correctly "},
{"id": 141683, "question_id": 14168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-05T06:43:36Z", "scrap_date": "2024-04-30T23:54:48.113360", "content": "Hi thanks for sharing the solution "},
{"id": 141684, "question_id": 14168, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-10-20T15:29:36Z", "scrap_date": "2024-04-30T23:54:48.114360", "content": "Thanks for the insight For anyone who comes here and the solution Ariel found isnt relevant what solved this error for me is to change the order of the plugins in the serverless yml file This might be obvious for some but I didnt find it written anywhere related to this error message So the serverlesswebpack plugin must be written first and the serverlessoffline last Hope it can help someone "},
{"id": 141685, "question_id": 14168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-15T10:32:44Z", "scrap_date": "2024-04-30T23:54:48.115360", "content": "Fantastic thanks for sharing this I was getting Unzipped size must be smaller than 262144000 bytes error when deploying with serverlesspluginwarmup plugin It fixed my issue "},
{"id": 164312, "question_id": 16431, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-23T14:40:42Z", "scrap_date": "2024-04-30T23:54:49.062403", "content": "You could do it like this in my example"},
{"id": 164313, "question_id": 16431, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-29T21:15:54Z", "scrap_date": "2024-04-30T23:54:49.063403", "content": "Sunac Without knowing the contents of those files thats not overly helpful Do you have the contents of those files"},
{"id": 164314, "question_id": 16431, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-15T11:26:01Z", "scrap_date": "2024-04-30T23:54:49.064404", "content": "Content is usual Here is the first resources from fiels e g slsdynamodb yml slsexport yml"},
{"id": 168122, "question_id": 16812, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-02-27T23:50:33Z", "scrap_date": "2024-04-30T23:54:49.927113", "content": "AWS supports dotnet6 0 now How long will it take serverless to add the runtime support"},
{"id": 168123, "question_id": 16812, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-08T06:53:49Z", "scrap_date": "2024-04-30T23:54:49.928113", "content": "Serverless supports dotnet6 runtime now "},
{"id": 168124, "question_id": 16812, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-13T00:21:42Z", "scrap_date": "2024-04-30T23:54:49.929113", "content": "Hello charithj do you have the source that affirms this"},
{"id": 168125, "question_id": 16812, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-14T14:34:25Z", "scrap_date": "2024-04-30T23:54:49.929113", "content": "I just installed the serverless framework today and assuming I followed the directions correctly I get this error If net6 0 is supported then what did I do wrong"},
{"id": 168126, "question_id": 16812, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-22T03:09:17Z", "scrap_date": "2024-04-30T23:54:49.930114", "content": "Yes in here feat AWS Lambda Add support for `dotnet6` runtime by martincostello Pull Request 10757 serverlessserverless GitHub"},
{"id": 168127, "question_id": 16812, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-16T11:06:16Z", "scrap_date": "2024-04-30T23:54:49.931114", "content": "go on aws check blog for how dotnet6 can be connected"},
{"id": 161802, "question_id": 16180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-17T08:03:12Z", "scrap_date": "2024-04-30T23:54:50.843412", "content": "I reccomend you using CloudFlare if you can They have an option of hotlink protection "},
{"id": 34192, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T17:28:10Z", "scrap_date": "2024-04-30T23:54:52.985099", "content": "Did you ever figure this out"},
{"id": 34193, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T00:20:44Z", "scrap_date": "2024-04-30T23:54:52.985099", "content": "I wrote a wrapper script before do the deployment It doesnt support in serverless framework currently "},
{"id": 34194, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-07-18T00:41:05Z", "scrap_date": "2024-04-30T23:54:52.986098", "content": "I add my project repos to the CF description so I can hunt down stuff easier later Demo httpsgithub comDavidWellsbuslifyblobmasterapiserverless ymlL65 Uses this script httpsgithub comDavidWellsbuslifyblobmasterapiscriptsgitremote js"},
{"id": 34195, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T01:49:48Z", "scrap_date": "2024-04-30T23:54:52.987099", "content": "could you give details on how to put them together and make it work"},
{"id": 34196, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-14T02:11:02Z", "scrap_date": "2024-04-30T23:54:52.987099", "content": "selfcustom repo calls this file and gives me the value httpsgithub comDavidWellsbuslifyblobmasterapiserverless ymlL8"},
{"id": 34197, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-14T05:04:20Z", "scrap_date": "2024-04-30T23:54:52.988099", "content": "Hi thanks for this script I incorporated it as per your excellent example and added the scriptsgitremote js process env repo is still undefined for me Any thoughts welcome it worked great as plain node code but NOT from serverless local custom var "},
{"id": 34198, "question_id": 3419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-22T20:48:04Z", "scrap_date": "2024-04-30T23:54:52.988099", "content": "Does this work with bitbucket cloud fearlessfly DavidWells"},
{"id": 24002, "question_id": 2400, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-02T01:40:53Z", "scrap_date": "2024-04-30T23:54:53.973503", "content": "I think youre right to want to keep a single code base and data set Two other options that come to mind are Finally if youre not committed to using REST then look at GraphQL "},
{"id": 24003, "question_id": 2400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-03T13:52:52Z", "scrap_date": "2024-04-30T23:54:53.973503", "content": "Thanks for the response buggy I really appreciate it After posting here I also went back and found some other folks who I think were struggling with the same thing Im a bit surprised it seems like a situation folks would often hit and I would have thought thered be more chatter about it I appreciate your ideas I really like the GraphQL idea next app Im trying out that for sure As for the two you added yeah its going to be painful one way or the other Ill try to update this request with the path I took so that other folks can learn from my mistakes Thanks "},
{"id": 24004, "question_id": 2400, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-15T16:35:01Z", "scrap_date": "2024-04-30T23:54:53.975503", "content": "Personally I would use aliases for this one alias per version of your deployment You might want to look into this plugin httpswww npmjs compackageserverlessawsalias"},
{"id": 24005, "question_id": 2400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-23T20:30:22Z", "scrap_date": "2024-04-30T23:54:53.975503", "content": "Try this serverlessssmversiontracker npm Helps keep track of the microservice versions Updates on sls deploy "},
{"id": 166122, "question_id": 16612, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-25T23:41:12Z", "scrap_date": "2024-04-30T23:54:55.046365", "content": "Did you find a solution for this I am in the same situation"},
{"id": 94402, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-29T17:37:36Z", "scrap_date": "2024-04-30T23:54:55.943234", "content": "The docs you link to specify Using the existing config will add an additional Lambda function and IAM Role to your stack The Lambda function backsup the Custom S3 Resource which is used to support existing S3 buckets "},
{"id": 94403, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-29T18:57:21Z", "scrap_date": "2024-04-30T23:54:55.944234", "content": "Im blind I guess Thanks for the reply I still think this is weird I can connect an existing s3 bucket from the GUI why cant I just connect it is weird"},
{"id": 94404, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-02T20:38:16Z", "scrap_date": "2024-04-30T23:54:55.945235", "content": "This is all because of limitations in place by AWS on the CloudFormation which is what we use to deploy your resources into AWS as well as maintain state Unfortunately the ability to connect to existing S3 buckets doesnt exist in CloudFormation strange I know so the only way left for us to add that feature is to support it via a feature provided by AWS know as Custom CloudFormation Resources We know this isnt perfect but those are some of the limits we work under"},
{"id": 94405, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-03T10:59:50Z", "scrap_date": "2024-04-30T23:54:55.946235", "content": "Thank you for the clarification I was sure that the problem is in AWS"},
{"id": 94406, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-10T07:59:12Z", "scrap_date": "2024-04-30T23:54:55.946235", "content": "Does this means one need to pay for compute of both the lambdas on s3 triggers Thanks Amar "},
{"id": 94407, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-10T09:53:24Z", "scrap_date": "2024-04-30T23:54:55.947235", "content": "I think yes In the end I put the trigger manually to avoid this"},
{"id": 94408, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-10T17:59:32Z", "scrap_date": "2024-04-30T23:54:55.948235", "content": "Thanks for the quick response Ideally we wont need to drop the cloudformation stack If at all one need to delete the stack it will FAIL since the Lambda cant be deleted unless the s3 event notification added manually isnt removed Is there a work around for this "},
{"id": 94409, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-29T03:44:55Z", "scrap_date": "2024-04-30T23:54:55.948235", "content": "Is there a way to set a trigger likethis directly in cloudformation so we dont have the additional lambda costs Or even a way to define what this IAM role name is"},
{"id": 944010, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-28T06:57:17Z", "scrap_date": "2024-04-30T23:54:55.949235", "content": "We need to change the automatically created lambda function name IAM role an most importantly the VPC configurations Is there a way or a workaround to do that Thanks"},
{"id": 944011, "question_id": 9440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-26T18:24:20Z", "scrap_date": "2024-04-30T23:54:55.949235", "content": "As I understand this the extra function stacknamecustomresourceexistings3 is used only for creating and managing Event Notifications on the S3 bucket and not later on for the events themselves If you look at it in the AWS Console youll see it doesnt list any triggers so it shouldnt get called Serverless should probably remove it together with the extra Role on deployment finish "},
{"id": 173362, "question_id": 17336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-23T22:00:28Z", "scrap_date": "2024-04-30T23:54:56.832372", "content": "I recently added a request authorizer to my Serverless template and it was not nearly as straight forward as the docs would have you believe First in Serverless the type is CUSTOM not request when you want a request type authorizer Second to convince Serverless that your authorizer really is a request authorizer and should not be a token authorizer you need to define the authorizer in the Resources section of the template Something like That was the only way I got it properly working "},
{"id": 173363, "question_id": 17336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-24T03:25:44Z", "scrap_date": "2024-04-30T23:54:56.833372", "content": "First in Serverless the type is CUSTOM not request First in Serverless the type is CUSTOM not request You mean to say this should be like But the docs here says it should be type request See the attached screenshot Can you please provide any link to docs you found"},
{"id": 173364, "question_id": 17336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-27T14:35:56Z", "scrap_date": "2024-04-30T23:54:56.834372", "content": "I cant provide any relevant documentation for it This comes from various examples and lots of trial and error However it just occurred to me we may not be talking about the same version I know Im a little behind on Serverless versions which version are you using"},
{"id": 139242, "question_id": 13924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T03:21:45Z", "scrap_date": "2024-04-30T23:54:57.792430", "content": "Completely wiped framework and reinstalled Back to normal now and I dont as of yet have to give provider variable on CLI "},
{"id": 139243, "question_id": 13924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-30T13:26:34Z", "scrap_date": "2024-04-30T23:54:57.793430", "content": "SERVERLESS_PLATFORM_VENDORaws mine doesnt work still in chinese"},
{"id": 172442, "question_id": 17244, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-06-07T10:39:50Z", "scrap_date": "2024-04-30T23:54:58.801955", "content": "Ensure to upgrade serverlessoffline plugin to latest version"},
{"id": 172443, "question_id": 17244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-08T21:53:50Z", "scrap_date": "2024-04-30T23:54:58.802956", "content": "I solved by deleting the property dontPrintOutput The Serverless Framework Plugin Registry Search thousands of Serverless Framework plugins "},
{"id": 172444, "question_id": 17244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-02T00:40:08Z", "scrap_date": "2024-04-30T23:54:58.802956", "content": "upgrade serverlessoffline to 8 8 0 and change the offline config fixed the issue port to httpPort "},
{"id": 173772, "question_id": 17377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-01T14:00:39Z", "scrap_date": "2024-04-30T23:54:59.859372", "content": "Now getting Access Denied Still no useful error output Nothing in Cloudwatch "},
{"id": 173773, "question_id": 17377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-04T10:06:10Z", "scrap_date": "2024-04-30T23:54:59.860369", "content": "Seems like a pretty basic problem for there to be no answers for What is the minimum list of permissions for a basic serverless stack say to create just an S3 bucket How do you get better error messages so you can troubleshoot"},
{"id": 173832, "question_id": 17383, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-07-06T12:55:00Z", "scrap_date": "2024-04-30T23:55:00.889636", "content": "You dont need to define query parameters in serverless yml file You can just access that info in your handler event This is ok Then in your result main function you can access to query parameters in event queryStringParameters object"},
{"id": 21612, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-05T09:47:10Z", "scrap_date": "2024-04-30T23:55:01.678350", "content": "CognitoUserPool I have encountered exactly the same issue when trying to set the authorizer arn from a AWSCognitoUserPool resource that is been created in the same serverless yml Is there a solution to this yet Help would be appreciated "},
{"id": 21613, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-01-18T14:02:53Z", "scrap_date": "2024-04-30T23:55:01.679350", "content": "Basically from what I understand from reading every thread on here about this especially this thread cognitouseridentitypoolsasserverlessymlresourcedefs It is related to a bigger ARN issue in serverless which is currently being looked at ARN Issue So we are for the time being effed "},
{"id": 21614, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-01T09:30:03Z", "scrap_date": "2024-04-30T23:55:01.680350", "content": "Same problem here Grrr For the time being the only choice is to hardwire the ARN "},
{"id": 21615, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-06T10:56:05Z", "scrap_date": "2024-04-30T23:55:01.681351", "content": "The issue seems to be that the parameter passing to the function extractAuthorizerNameFromArn in AppData\\Roaming\\npm\\node_modules\\serverless\\lib\\plugins\\aws\\lib\\naming js12734 is not really a string and therefore it cant split I tried to just add toString but no improvement I worked way to less with npm and so on to figure out how they are passing the FnGetAtt bla bla bla to the actual ARN string to then cut in pieces So if anybody has a fix for that it would be a great help I dont mind fixing npm stuff "},
{"id": 21616, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-09-23T21:25:16Z", "scrap_date": "2024-04-30T23:55:01.682351", "content": "I managed to get it working building a Cognito User Pool Authorizer on the fly to put as the function authorizer arn Authorizer Config Function config Its part of my Serverless Yeoman Generator Hope it helps Took a couple of days to figure it out writing tests and debugging the resource builders of aws provider Have a look here may help you unless you provide a string to arn the resource build in serverless assumes youre trying to reference a lambda function to make the authorization and can only build that kind of authorizer for you httpsgithub comserverlessserverlessblobmasterlibpluginsawspackagecompileeventsapiGatewaylibauthorizers jsL27"},
{"id": 21617, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-24T14:58:10Z", "scrap_date": "2024-04-30T23:55:01.683351", "content": "My workaround was to use the serverlessstackoutput plugin to store the CloudFormation outputs of the service being depended on in a file e g buildstack json I then pull in the UserPool Arn via the following Not ideal as it adds complexity to the build process by depending on a local file vs the info stored in CloudFormation but works for the time being until there is a fix "},
{"id": 21618, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-31T09:39:35Z", "scrap_date": "2024-04-30T23:55:01.684346", "content": "Got a notice on GH that a link broke so Authorizer config link fix Function config link fix P S Lesson learned dont link to master branch"},
{"id": 21619, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T21:10:14Z", "scrap_date": "2024-04-30T23:55:01.685352", "content": "404 on authorizer "},
{"id": 216110, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T21:27:16Z", "scrap_date": "2024-04-30T23:55:01.685352", "content": "Sorry org got deleted Thought this would be outdated by now github com RobertBrewitzgeneratorserverlessblobb29b934bfedc7a8a5ebb5a4e63dead6985a41b20generatorsbasetemplatesconfigfunctionsdefaultsfunction yml Expect CORS errors sometimes AccessControlAllowOrigin is not returned by API Gateway by default API Gateway catches lambda errors and does not return headers from your lambda functions error response Not possible at this time to configure API Gateway Responses from serverless yml defaultsFunction name selfservice selfprovider stage defaultsFunction handler handler defaultsFunction memorySize 128 events http path defaults method any authorizer type COGNITO_USER_POOLS authorizerId Ref ApiGatewayAuthorizer cors This file has been truncated show original github com RobertBrewitzgeneratorserverlessblobb29b934bfedc7a8a5ebb5a4e63dead6985a41b20generatorsbasetemplatesconfigresourcescognitouserpoolsauthorizer yml Resources ApiGatewayAuthorizer DependsOn ApiGatewayRestApi Type AWSApiGatewayAuthorizer Properties AuthorizerResultTtlInSeconds 300 IdentitySource method request header Authorization RestApiId Ref ApiGatewayRestApi Type COGNITO_USER_POOLS Name Authorizer ProviderARNs FnJoin arnawscognitoidp selfprovider region Ref AWSAccountId userpool This file has been truncated show original"},
{"id": 216111, "question_id": 2161, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-06T22:02:28Z", "scrap_date": "2024-04-30T23:55:01.688353", "content": "try this authorizer name MyAuthorizer type COGNITO_USER_POOLS arn FnGetAtt CognitoUserPool Arn source Serverless Framework AWS Lambda Events REST API API Gateway v1 "},
{"id": 12002, "question_id": 1200, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-13T12:31:06Z", "scrap_date": "2024-04-30T23:55:02.721631", "content": "This package is having the below configuration error Configuration error at functions unrecognized property deadLetter There is some active PR in Repo Can you merge the PR"},
{"id": 128462, "question_id": 12846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-15T02:15:52Z", "scrap_date": "2024-04-30T23:55:03.547592", "content": "i have this same problem do you have any updates"},
{"id": 149182, "question_id": 14918, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-19T19:32:48Z", "scrap_date": "2024-04-30T23:55:04.416164", "content": "I worked on that issue and the following lines worked for me cors origin https www example comhttps example comhttps dev example com headers Accept Referer SessionToken UserAgent XXSRFTOKEN allowCredentials true But the third origin https dev example com throws me a CORS error The first two origins worked well I have putted spaces between URLs because as a new user Im not allowed to put URLs Hope it helps"},
{"id": 149183, "question_id": 14918, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-11T00:03:37Z", "scrap_date": "2024-04-30T23:55:04.418160", "content": "Hi no answers to that please No one know how to solve that ShowBox Tutuapp Mobdro"},
{"id": 149184, "question_id": 14918, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-19T17:51:29Z", "scrap_date": "2024-04-30T23:55:04.418160", "content": "I ran into a similar problem using AWS API Gateway and enabling multiple origins I found that even though the AccessControlAllowOrigin header in Header Mappings inside the Integrated Response indicates that only one domain was applied you have to scroll down to the Mapping Templates section and click on the applicationjson ContentType to see that the logic contains all of the domains listed under origins in your yaml file "},
{"id": 14792, "question_id": 1479, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-13T22:26:57Z", "scrap_date": "2024-04-30T23:55:05.455115", "content": "Yes it is supported For example"},
{"id": 14793, "question_id": 1479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-14T13:57:41Z", "scrap_date": "2024-04-30T23:55:05.456115", "content": "Also note that if you want to handle store youll need a second event that handles that path without the proxy part I do this for awsserverlessexpress and point all my http events to the same handler "},
{"id": 14794, "question_id": 1479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-15T21:07:07Z", "scrap_date": "2024-04-30T23:55:05.457116", "content": "Thanks seems like I am going to be able make use of this "},
{"id": 14795, "question_id": 1479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-02T14:19:25Z", "scrap_date": "2024-04-30T23:55:05.457116", "content": "that was very helpful thanks also works with serverlessoffline plugin"},
{"id": 14796, "question_id": 1479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-16T17:39:02Z", "scrap_date": "2024-04-30T23:55:05.458116", "content": "This doesnt seem to work Other than adding proxy to the path is something else needed Im using AWS Lambda Go API Proxy with Gin"},
{"id": 7002, "question_id": 700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T23:14:42Z", "scrap_date": "2024-04-30T23:55:06.493140", "content": "Are you sure you havent renamed anything Does your sls info command show the right output for your existing deployment It sounds like somethings been renamed and a new stack is being deployed but its still generating names for resources that match your existing deployment "},
{"id": 7003, "question_id": 700, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-17T02:49:22Z", "scrap_date": "2024-04-30T23:55:06.494140", "content": "Were you able to solve this problem Did you try deleting the LambdasCloudFormation templatesCloudWatch logs before redeploying I had a similar problem which was fixed by removing the CloudWatch log groups for the relevant Lambda functions "},
{"id": 7004, "question_id": 700, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-04-17T05:32:58Z", "scrap_date": "2024-04-30T23:55:06.495141", "content": "Apologies for the bump I figure this might be helpful to others I had the same issue It was caused by an earlier development stage where Id created my s3 bucket manually Removing the s3 bucket from aws allowed cloudformation to stand up the stack Hope this helps someone WIlfred"},
{"id": 7005, "question_id": 700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T09:50:27Z", "scrap_date": "2024-04-30T23:55:06.496140", "content": "This worked for me as well Thanks for the solution"},
{"id": 7006, "question_id": 700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-01T17:42:01Z", "scrap_date": "2024-04-30T23:55:06.496140", "content": "This post saved my life but I wanted to share this other link which explains the root cause of the problem which is caused by changing cloudformation resources logical id without changing the logical name httpsaws amazon compremiumsupportknowledgecentercloudformationstackresourcefailure"},
{"id": 7007, "question_id": 700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-24T15:45:45Z", "scrap_date": "2024-04-30T23:55:06.497141", "content": "Im also have this same error although in my case it seems to be specific to the Function VERSION that already exists arn and NOT the logical id or name I can confirm So I have no idea why these two things would ever happen"},
{"id": 7008, "question_id": 700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-05T20:32:38Z", "scrap_date": "2024-04-30T23:55:06.498141", "content": "Had the same issue Updating Serverless to version 2 33 1 fixed this for me"},
{"id": 7009, "question_id": 700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-09-19T11:10:46Z", "scrap_date": "2024-04-30T23:55:06.498141", "content": "To date the latest serverless version is 3 22 0 Serverless Framework Build web mobile and IoT applications with serverless architectures using AWS Lambda Azure Functions Google CloudFunctions more Latest version 3 22 0 last published a month ago Start using serverless in your Are you sure"},
{"id": 179502, "question_id": 17950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-30T18:16:30Z", "scrap_date": "2024-04-30T23:55:07.331847", "content": "If you run sls package and look in the serverless folder is there a zip file there How large is it Whats in it "},
{"id": 179503, "question_id": 17950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-30T21:33:29Z", "scrap_date": "2024-04-30T23:55:07.331847", "content": "Sorry I forgot to post here that I found the answer yesterday It seems that using version 14 20 of nodejs fixed the issue I didnt have to change any of my code"},
{"id": 149862, "question_id": 14986, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-15T14:53:27Z", "scrap_date": "2024-04-30T23:55:09.069322", "content": "Hello did you resolve your error "},
{"id": 149863, "question_id": 14986, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-27T09:20:31Z", "scrap_date": "2024-04-30T23:55:09.070322", "content": "Hey I am facing same issue Can you help me Framework Core 2 67 0 local Plugin 5 5 4 SDK 4 3 2 Components 3 18 2"},
{"id": 142452, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T13:45:31Z", "scrap_date": "2024-04-30T23:55:10.109248", "content": "Having the same issue Started this morning atakansavas Can you share your serverless yaml "},
{"id": 142453, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T13:50:48Z", "scrap_date": "2024-04-30T23:55:10.110249", "content": "Of course I use nodejs with fastify Here is my file"},
{"id": 142454, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T21:00:11Z", "scrap_date": "2024-04-30T23:55:10.110249", "content": "Hi again Finally i can fix the problem I dont know why but when i try to deploy my lambda project to cloud error says my npm packages size is too big And i decided to take a look again my package json Here is my solution steps Also you can use serverlessbundle package on npm for webpack "},
{"id": 142455, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-04T12:57:13Z", "scrap_date": "2024-04-30T23:55:10.111249", "content": "A fix for the issue related to EMFILE is being deployed later today "},
{"id": 142456, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-09T10:45:55Z", "scrap_date": "2024-04-30T23:55:10.111249", "content": "And could it be solved"},
{"id": 142457, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-09T10:46:33Z", "scrap_date": "2024-04-30T23:55:10.112249", "content": "The fix was deployed last week so you should be able to update the framework and all is well again"},
{"id": 142458, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T16:09:05Z", "scrap_date": "2024-04-30T23:55:10.112249", "content": "How have you fixed for the issue related to EMFILE"},
{"id": 142459, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-13T14:38:53Z", "scrap_date": "2024-04-30T23:55:10.113249", "content": "I just started getting this same issue last week I upgraded to use the latest AWS sdks which got rid of the problem for a few days but it came back again I installed serverlesspluginincludedependencies which seems to help deploy in our CICD circleci but Im not able to deploy locally and it feels like its just a problem waiting to rear its head in the near future Serverless Packaging service Serverless Error Cannot read file node_modulesuuiddistesmnodenil js due to EMFILE too many open files open UserslironDevSourceIPsourceipapinode_modulesuuiddistesmnodenil js Your Environment Information Operating System darwin Node Version 12 22 8 Framework Version 2 72 2 Plugin Version 5 5 4 SDK Version 4 3 0 Components Version 3 18 2"},
{"id": 1424511, "question_id": 14245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-30T11:46:54Z", "scrap_date": "2024-04-30T23:55:10.114244", "content": "Hello I got the EMFILE error when launching the serverless deploy script I used the gracefulfs package like this to solve the issue by this"},
{"id": 172592, "question_id": 17259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-31T16:47:45Z", "scrap_date": "2024-04-30T23:55:10.969495", "content": "nevermind found the error it was in the env"},
{"id": 36292, "question_id": 3629, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T20:47:41Z", "scrap_date": "2024-04-30T23:55:11.943110", "content": "Im not sure this is possible The framework wires up the necessary IAM permissions for lambda functions working with API gateway etc Thats why it needs specific IAM roles"},
{"id": 36293, "question_id": 3629, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-21T12:46:11Z", "scrap_date": "2024-04-30T23:55:11.944111", "content": "errors To solve this problem I created a User Defined Policy say iam_get_role_policy with the following details Service IAM Actions Read all of them Write CreateRole Assign this policy to the Users group "},
{"id": 36294, "question_id": 3629, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-11T05:58:46Z", "scrap_date": "2024-04-30T23:55:11.945111", "content": "Hi Team Make sure the requested region in IAM policy for iam is not restricted to uswest2 Iam should be global "},
{"id": 36295, "question_id": 3629, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-04T07:03:19Z", "scrap_date": "2024-04-30T23:55:11.946111", "content": "Does your solution work for sls remove I bet not but it would be great to know See serverless remove fails due to managed policies automatically added to IAM Roles again Issue 11133 serverlessserverless GitHub"},
{"id": 170992, "question_id": 17099, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-08T17:24:30Z", "scrap_date": "2024-04-30T23:55:12.936076", "content": "Same issue here I think this started after adding bcrypt "},
{"id": 170993, "question_id": 17099, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-08T17:49:34Z", "scrap_date": "2024-04-30T23:55:12.937076", "content": "Confirmed Removing bcrypt resolves the issue Unfortunately I need it "},
{"id": 105662, "question_id": 10566, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-02T12:40:16Z", "scrap_date": "2024-04-30T23:55:13.971026", "content": "Since I still havent found anything related to this question Ill try asking again gcloud has this command gcloud functions deploy FUNCTION_NAME clearmaxinstances but sls does not seem to have something similar Thanks "},
{"id": 105663, "question_id": 10566, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-20T09:11:43Z", "scrap_date": "2024-04-30T23:55:13.972025", "content": "I got it work as follow"},
{"id": 105664, "question_id": 10566, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-09T12:29:45Z", "scrap_date": "2024-04-30T23:55:13.973025", "content": "Hi do you know if there is an option for minimum instances I tried minInstances but it didnt work Id really appreciate your help "},
{"id": 59512, "question_id": 5951, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-28T19:02:23Z", "scrap_date": "2024-04-30T23:55:14.813039", "content": "I ran into a similar issue with a project I was working on last night but with an S3 bucket That being said I was seeing the following Ultimately I found that this was due to 2 things I had performed an sls remove that partially failed because there were contents in the S3 bucket but it seemed like the CloudFormation stack had thought the bucket had been removed I was able to fix this by either changing the stage environment or going into the AWS console and removing the S3 bucket and CloudFormation stack manually I confirmed that either or both approaches worked for this case and it may be worth a shot in your case as well "},
{"id": 59513, "question_id": 5951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-01T19:14:04Z", "scrap_date": "2024-04-30T23:55:14.814040", "content": "Thank you Will try and get back "},
{"id": 59514, "question_id": 5951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-09T21:29:11Z", "scrap_date": "2024-04-30T23:55:14.815040", "content": "I can confirm that only the first method worked for me I changed the stage environment and it all went good The other method does not seem to work for me The error I was getting was Error CREATE_FAILED IamRoleLambdaExecution serverless lambdaRole already exists"},
{"id": 169582, "question_id": 16958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-20T10:35:50Z", "scrap_date": "2024-04-30T23:55:15.912003", "content": "I do have the same problem S Did you figure it out"},
{"id": 169583, "question_id": 16958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-22T11:06:02Z", "scrap_date": "2024-04-30T23:55:15.913003", "content": "Problem for me was than Python version installed in my Docker container was FROM python3 9slimbuster but in serverless yml provider referenced runtime python3 8 changed container version to FROM python3 8slimbuster and happy thereafter quite slow deployment though "},
{"id": 169584, "question_id": 16958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-22T11:52:09Z", "scrap_date": "2024-04-30T23:55:15.913003", "content": "Problem for me was resolved when I changed the python version to 3 6"},
{"id": 169585, "question_id": 16958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-25T16:35:02Z", "scrap_date": "2024-04-30T23:55:15.914004", "content": "I also solved it seems you can not use python 3 10 to run the plugin I recorded the steps in case I need to review on the future here they are in case someone is stuck Setup Plugin Serverless Python Requirements YouTube"},
{"id": 169586, "question_id": 16958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-19T10:30:59Z", "scrap_date": "2024-04-30T23:55:15.915004", "content": "I also got this and resolved in a similar way Its a real shame we cant use python 3 10 to run the plugin even if the runtime of the function itself is a supported version like 3 8 etc After I resolved this I then spent ages grappling with this for ages as well serverless deploy Exited with code 1 Issue 663 serverlessserverlesspythonrequirements GitHub I think there is a problem with the Docker image for python 3 8 I got it working by setting dockerizePip to false"},
{"id": 169587, "question_id": 16958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-10T11:20:39Z", "scrap_date": "2024-04-30T23:55:15.916004", "content": "Hi MagicJF I am also expecting such video for perfect solution Thanks"},
{"id": 172792, "question_id": 17279, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-10T01:59:38Z", "scrap_date": "2024-04-30T23:55:16.991199", "content": "Not sure there is a way to write the description because its part of the gateway definition behind the scenes I noticed on mine that I have a mix of REST calls and Websocket calls and the screen you show on mine actually says Serverless Websocket for description but REST is blank Digging through the serverless folder build with the sls package command I found the JSON where the description is specified So presumably the same entry could be made in a rest entry per the docs at AWSApiGatewayRestApi AWS CloudFormation Here except I cant see any way to specify your own setup for this chunk of cloudformation since its a behind the scenes thing with the serverless framework But that is where it would go Also found Serverless Framework Plugins check under the Manual Merge section"},
{"id": 172793, "question_id": 17279, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-10T15:12:06Z", "scrap_date": "2024-04-30T23:55:16.992199", "content": "Thank you Appreciate the input Ill look into these and see if I can use them "},
{"id": 111722, "question_id": 11172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-10T22:09:33Z", "scrap_date": "2024-04-30T23:55:18.047835", "content": "you still have this error because I got the same error still"},
{"id": 171902, "question_id": 17190, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-13T11:26:15Z", "scrap_date": "2024-04-30T23:55:18.573366", "content": "Im getting the same issue Did you find a fix for this Environment win32 node 16 15 1 framework 3 19 0 local 3 19 0v global plugin 6 2 2 SDK 4 3 2"},
{"id": 155792, "question_id": 15579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-14T04:38:13Z", "scrap_date": "2024-04-30T23:55:19.491136", "content": "Hi has anyone actually used this plugin recently its variables evaluate to undefined for me declared it as per docs npm installed declared custom variable etc "},
{"id": 159462, "question_id": 15946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-20T07:34:18Z", "scrap_date": "2024-04-30T23:55:20.185370", "content": "I ended up with COMMIT envCODEBUILD_RESOLVED_SOURCE_VERSION in my serverless yml Forgot to mention I am using Output artifact format CodePIpeline default on AWS "},
{"id": 159463, "question_id": 15946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-14T05:10:15Z", "scrap_date": "2024-04-30T23:55:20.186370", "content": "Hi I am hoping you may know of another way as I dont know of CodePIpeline default on AWS for me "},
{"id": 173332, "question_id": 17333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-06-17T16:17:39Z", "scrap_date": "2024-04-30T23:55:20.960147", "content": "Mhmm I was able to forceupdate everything by changing each linked function in my serverless yml by at least a linebreak in the file Oh well "},
{"id": 109632, "question_id": 10963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-01T18:16:30Z", "scrap_date": "2024-04-30T23:55:21.884936", "content": "I also with this problem any solution to import two files in provider environment "},
{"id": 106702, "question_id": 10670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-02T20:43:23Z", "scrap_date": "2024-04-30T23:55:22.631325", "content": "Im facing this same issue If I change the APIGW Access Log Destination ARN to a Kinesis Firehose or custom CloudWatch LogGroup it gets reverted anytime we do a deploy regardless of whether were modifying the logging settings or not "},
{"id": 171352, "question_id": 17135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-08T19:58:32Z", "scrap_date": "2024-04-30T23:55:24.635911", "content": "Ok looks like a typical redherring sort of AWS error message and was due to a misconfigured S3 ARN in serverless yml If I replace my environment variables in the snippet below with the hardcoded ARN everything works My deploy script that calls serverless deploy is setting the environment variables correctly so now I need to figure out why the variable is not being expanded properly in serverless yml "},
{"id": 171353, "question_id": 17135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-08T20:24:54Z", "scrap_date": "2024-04-30T23:55:24.636911", "content": "It looks like environment variables have to be declared before they can be used The only way I could use the environment variable in the resources section was to add a higher level environment section This is both redundant and counterintuitive But if I dont include the environment section below I get the CredentialsProviderError Could not load credentials from any providers error "},
{"id": 170842, "question_id": 17084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-13T21:11:21Z", "scrap_date": "2024-04-30T23:55:25.370905", "content": "For what it is worth this was fixed by modifying AWS and other tools we had implemented to control access to AWS It would be nice if SST allowed more control over the bootstrapping process so for example we could indicate an existing stagingbucket should be used "},
{"id": 171452, "question_id": 17145, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-12T17:15:46Z", "scrap_date": "2024-04-30T23:55:26.116060", "content": "The event data passed to the lambda from the CloudWatch schedule includes an event time Here is a sample of what CloudWatch passes I havent used the time field myself but I believe it is when the trigger fired "},
{"id": 171453, "question_id": 17145, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-17T06:57:41Z", "scrap_date": "2024-04-30T23:55:26.117060", "content": "Hi thanks for sharing "},
{"id": 129232, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-31T20:38:12Z", "scrap_date": "2024-04-30T23:55:27.152882", "content": "I too would like to know about this Googling shows this but I cant make sense of it If you set params as required via serverless syntax you then can just also activate the validator for parameters like so"},
{"id": 129233, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-02T09:15:12Z", "scrap_date": "2024-04-30T23:55:27.153882", "content": "so to do this with the following plugins on a function The resource bodyAndParams This does work but i would ideally like to remove the plugins as its an additional dependancy in deploying my application The header validation being the main thing i care about because it removes the requirement for the code to validate the headers"},
{"id": 129234, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-02T17:31:57Z", "scrap_date": "2024-04-30T23:55:27.154882", "content": "agreed I am in a similar scenario though I also get some warning each time about it"},
{"id": 129235, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-04T10:36:41Z", "scrap_date": "2024-04-30T23:55:27.155882", "content": "There is no need for a plugin for request validation It is built into the framework httpswww serverless comframeworkdocsprovidersawseventsapigatewayrequestparameters"},
{"id": 129236, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-11-04T23:52:02Z", "scrap_date": "2024-04-30T23:55:27.155882", "content": "That makes them required but doesnt set the validation in the api gateway so therefore it doesnt actually validate"},
{"id": 129237, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-19T14:34:52Z", "scrap_date": "2024-04-30T23:55:27.156882", "content": "I dont understand why you need those two plugins Youre adding raw CloudFormation so you should be able to enable validation directly in it I got it to work but with an OpenAPI xamazonapigatewayrequestvalidator script embedded into the Cloudformation which was deployed via Serverless That said I dont know why your AWSApiGatewayRequestValidator resource wouldnt work Anyways have you figured this out Im actually trying to somewhat the opposite I want to disable validation When you create the gateway in Serverless native way i e below adding a schema automatically turns on validation and I cant find any way to NOT enable it "},
{"id": 129238, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-21T13:45:09Z", "scrap_date": "2024-04-30T23:55:27.157883", "content": "For those of you failing to see this like I also did This is what you need to do in plain english Turn ApiGatewayMethodNameOfYourApiLookItUpInYourTemplate to APIGatewayMethod12 In my case it was APIGatewayDealsGet The thing I was looking at was my handler name in serverless Alternatively if this does not work check the s3 bucket mine was called xxxxxxxapserverlessdeploymentbuck1epdp60eqveqr and go to serverless yyyyyyyyyyy aaaa timestamp compiledcloudformationtemplate json And look for the name of your method in there example mine was"},
{"id": 129239, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-03T18:07:34Z", "scrap_date": "2024-04-30T23:55:27.158883", "content": "I still cant get this to work Have both plugins installed The events in my function properly declared and my resources First of all serverless doesnt recognize property reqValidatorName I guess theres something I missed After adding It says resources Resources ApiGatewayMethodPermissionUsersGet should have required property Type So I guess theres a lot more that I missed here Im trying to do as you said set the request validation configuration in aws "},
{"id": 1292310, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-03T19:19:36Z", "scrap_date": "2024-04-30T23:55:27.159883", "content": "Check my reply "},
{"id": 1292311, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-10T19:02:56Z", "scrap_date": "2024-04-30T23:55:27.160883", "content": "Ok there we go Had to read it a few time to see it Thanks for your time "},
{"id": 1292312, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T08:26:18Z", "scrap_date": "2024-04-30T23:55:27.160883", "content": "Heave you solved this issue resources Resources ApiGatewayMethodPermissionUsersGet should have required property Type"},
{"id": 1292313, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-01T01:33:12Z", "scrap_date": "2024-04-30T23:55:27.161883", "content": "This is not working for me Pretty much 99 of the problems I have with AWS are with the API Gateway Here is the error I am getting Error The CloudFormation template is invalid Invalid template resource property APIGatewayUserprofilePost And here is my code I have a function named userprofile with a POST method What am I doing wrong here"},
{"id": 1292314, "question_id": 12923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-17T06:59:09Z", "scrap_date": "2024-04-30T23:55:27.162884", "content": "try this ApiGatewayMethodUserprofilePost"},
{"id": 156872, "question_id": 15687, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-05T12:51:41Z", "scrap_date": "2024-04-30T23:55:28.111974", "content": "This is an issue currently with the serverlesswsgi plugin used to deploy Serverless applications that has since been resolved by the plugin author You can find more information here Werkzeug updated Getting errors Issue 179 logandkserverlesswsgi GitHub"},
{"id": 156873, "question_id": 15687, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-05T13:11:15Z", "scrap_date": "2024-04-30T23:55:28.112974", "content": "Thanks for the reply Looks like this was driven by python 2 compatibility issues Btw since I posted my question I managed to resolve it by changing Flask version in the requirements txt to Flask1 1 4 and removing werkzeug from it altogether Thanks for your reply anyway "},
{"id": 156874, "question_id": 15687, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-17T07:00:15Z", "scrap_date": "2024-04-30T23:55:28.113975", "content": "Hello Im just new to serverless and I just managed to get Python installed on Microsoft code Now Ive connected my pyboard 1 1 and try to run a default program The first error I hit is ModuleNotFoundError No module named pyb I hope someone can help solve this Thanks "},
{"id": 162172, "question_id": 16217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-10T14:04:06Z", "scrap_date": "2024-04-30T23:55:29.162318", "content": "Could you please share a ZIP of the codebase Itd help me eliminate the various probable causes of the problem "},
{"id": 162173, "question_id": 16217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-10T14:36:21Z", "scrap_date": "2024-04-30T23:55:29.163318", "content": "Google Drive file I uploaded it to the above link I removed some company related data Thank you"},
{"id": 162174, "question_id": 16217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-17T16:42:52Z", "scrap_date": "2024-04-30T23:55:29.164320", "content": "was this resolved if yes can you share how it was resolved Thank you "},
{"id": 171062, "question_id": 17106, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-18T10:01:08Z", "scrap_date": "2024-04-30T23:55:30.014827", "content": "Try checking this link Wondering how you can upload files to AWS S3 using a serverless architecture Check out this short tutorial In case anyone wants to upload file on AWS using C In this article I have provided step by step guide to upload file on Amazon Web Services AWS S3 using C in ASP NET Core MVC Thanks"},
{"id": 105382, "question_id": 10538, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-02-13T09:31:09Z", "scrap_date": "2024-04-30T23:55:30.447985", "content": "You can take a look on the serverlesspluginifelse"},
{"id": 105383, "question_id": 10538, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-06T07:56:03Z", "scrap_date": "2024-04-30T23:55:30.447985", "content": "Thanks however managed to figure it out as And then for the Function"},
{"id": 105384, "question_id": 10538, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-07T22:22:26Z", "scrap_date": "2024-04-30T23:55:30.448986", "content": "When I try to take this strategy Im getting a warning which will soon be an error in a new version because I have that empty as you showed above How did you get around that"},
{"id": 105385, "question_id": 10538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-18T20:29:34Z", "scrap_date": "2024-04-30T23:55:30.449986", "content": "Im having the same issue as mattcaruso but now it fails to builddeploy with Cannot resolve variable at functions myfunction events 0 schedule Value not found at self source any idea what to do My usecase Using serverless to deploy a lambda I have a function with a cloudWatch cron event I dont want to just disable for dev stage I want to avoid creating the event at all when deploying to dev only creating it when the function is deployed to prod"},
{"id": 171263, "question_id": 17126, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-20T19:11:02Z", "scrap_date": "2024-04-30T23:55:31.466999", "content": "I vaguely remember that they arent quite possible with the lazy class loading and method binding Essentially the bytecode needs to know the exact signature of the method you call and that messes this up somehow Kodi nox"},
{"id": 167142, "question_id": 16714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-19T11:08:59Z", "scrap_date": "2024-04-30T23:55:32.379229", "content": "Not sure how to do exactly what you specified but I have seen examples where the included file is able to reference a e g custom variable from the including file The example I saw was here GitHub murali44RDSAuroraServerless Aurora Serverless Deployment and Migration Demo though the variables in the sub files didnt all match up with those in the top level file the overall principle did work "},
{"id": 167143, "question_id": 16714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-23T13:15:26Z", "scrap_date": "2024-04-30T23:55:32.381229", "content": "Thanks Although I have moved on from this I appreciate your suggestion and I will checkout the demo you linked Cheers Jay"},
{"id": 131752, "question_id": 13175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-24T04:02:58Z", "scrap_date": "2024-04-30T23:55:33.493443", "content": "i have the same exact issue do you have any updates on this"},
{"id": 140042, "question_id": 14004, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-24T19:31:44Z", "scrap_date": "2024-04-30T23:55:34.519332", "content": "graysonbridges Hi we are facing now same issue What did you end up doing "},
{"id": 172252, "question_id": 17225, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-05-24T16:01:03Z", "scrap_date": "2024-04-30T23:55:35.698767", "content": "Hi lucholafrazia1 imagine this scenario you create you first service in serverless yml service 1 provider name aws runtime nodejs14 x region useast1 timeout 20 functions addroleadmin handler backendsrcfunctionsaddroleadminaddroleadmin add_role_admin name slsstage addroleadmin description addroleadmin events http cors true method post path backendadminaddroleadmin in this first function you create the apigateway in the second function different repository and different serverless yml you reference the rest api ID and the rest api resource ID from the first service service 2 provider name aws runtime nodejs14 x region useast1 apiGateway restApiId ssmXXXXXXXsecretsRESTAPIID restApiRootResourceId ssmXXXXXXXsecretsRESTAPIROOTRESOURCEID description xxxx xxxx xxxx functions createadmin handler backendsrcfunctionscreateadmincreateadmin create_admin name slsstage createadmin description createadmin events http cors true method post path backendadmincreateadmin when you reference the element apiGateway in provider section and pass the rest api ID and and rest root resorce ID every function than you create in the serverless yml are attached to the first apigateway I hope this info help you"},
{"id": 172253, "question_id": 17225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-24T16:18:01Z", "scrap_date": "2024-04-30T23:55:35.700767", "content": "Hi sergioal12 Thanks for the reply Thats amazing Could this be apply to function level Lets say that I have several events in my serverless yml Could I set that backendadminupdateadmin be handle by another Api Gateway Thanks a lot my friend"},
{"id": 172254, "question_id": 17225, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-05-24T16:30:53Z", "scrap_date": "2024-04-30T23:55:35.701767", "content": "I never test this approach apiGateway element is at same level events element"},
{"id": 172255, "question_id": 17225, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-05-24T16:51:48Z", "scrap_date": "2024-04-30T23:55:35.702768", "content": "Ill give a try and let you know if it works Thanks a lot"},
{"id": 172257, "question_id": 17225, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-05-25T01:24:15Z", "scrap_date": "2024-04-30T23:55:35.702768", "content": "My friend It worked like a charm Youre the best sergioal12"},
{"id": 172292, "question_id": 17229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-25T20:52:04Z", "scrap_date": "2024-04-30T23:55:36.194150", "content": "Update Looking at the matching tag for the version number Im using on github and navigating to the page I want in the docs folder seems to be sufficient for now e g serverlessiam md at v2 64 1 serverlessserverless GitHub"},
{"id": 172412, "question_id": 17241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-26T16:59:28Z", "scrap_date": "2024-04-30T23:55:37.282391", "content": "I also came across this topic that is rather old which doesnt seem to apply very precisely to my case since I am not trying to set permissions for delivery to a lambda "},
{"id": 148692, "question_id": 14869, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-29T18:00:51Z", "scrap_date": "2024-04-30T23:55:38.220780", "content": "I was using an older version of Node which prevented me from upgrading Serverless to a version that supported the EFS settings By upgrading Node to the latest LTS I was able to upgrade Serverless to a version that supported the EFS settings and the file system attachment is working as expected now "},
{"id": 148693, "question_id": 14869, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-26T23:25:42Z", "scrap_date": "2024-04-30T23:55:38.221777", "content": "can you please tell the node version and sls version"},
{"id": 55222, "question_id": 5522, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-09T08:44:41Z", "scrap_date": "2024-04-30T23:55:40.283831", "content": "In theory didnt try it myself yet you create the queue and the bucket as a separate resources under resources and configure S3 to send events to the queue Something along the lines of Then you hook your Lambda to the queue according to the fine manual httpsserverless comframeworkdocsprovidersawseventssqs"},
{"id": 55223, "question_id": 5522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-08T13:32:21Z", "scrap_date": "2024-04-30T23:55:40.284831", "content": "Did you ever find a way to solve this Im having the same issue and the solution provided by terotil is not working for me "},
{"id": 55224, "question_id": 5522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-07T08:33:09Z", "scrap_date": "2024-04-30T23:55:40.285831", "content": "Still no go on this Anyone that has found a solution What I am trying to do is to have my function Lambda triggered from SQS but that SQS queue should be fed from an S3 Bucket I want to be able to create the S3 Bucket the SQS queue S3 event trigger for SQS and the SQS trigger for the Lambda from Serverless "},
{"id": 160452, "question_id": 16045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-08T07:44:22Z", "scrap_date": "2024-04-30T23:55:41.419438", "content": "For one off alarms within your stack adding a Resource block for each of the Alarms plus a single shared Topic and Subscription works fine If you want things like an automatic error alert for any Lambda in the yml that fails the plugin does that "},
{"id": 131582, "question_id": 13158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-24T14:32:26Z", "scrap_date": "2024-04-30T23:55:42.506859", "content": "Fixed with httpsgithub comserverlessserverlesspull8505"},
{"id": 131583, "question_id": 13158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-12T22:17:55Z", "scrap_date": "2024-04-30T23:55:42.507860", "content": "I cant get module aliases working with serverless framework and a typescript lambda i tried serverlessbundle and serverlesstypescript plugins but none of them works and when i try to deploy it gives a module missing error The same happen when using sls offline to test the lambda locally "},
{"id": 131584, "question_id": 13158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-13T22:29:23Z", "scrap_date": "2024-04-30T23:55:42.508860", "content": "i tried serverlessbundle and serverlesstypescript plugins but none of them works and when i try to deploy it gives a module missing error The same happen when using sls offline to test the lambda locally 9Apps Showbox Tutuapp"},
{"id": 131585, "question_id": 13158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-08T10:15:10Z", "scrap_date": "2024-04-30T23:55:42.509860", "content": "Same here Ive raised Adding serverlesspluginawsalerts to a project adds 40meg to package zip size Issue 218 ACloudGuruserverlesspluginawsalerts GitHub because its clearly adding that to package json that balloons the size "},
{"id": 131586, "question_id": 13158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-08T15:05:17Z", "scrap_date": "2024-04-30T23:55:42.510860", "content": "Note this happens for instance if you are pinned to an older plugin version that declares a peer dependency on an older Serverless version so Serverless brings itself and all its own dependencies into the project You might be able to work around by excluding the extra node_modules folders using the settings in serverless yml"},
{"id": 170312, "question_id": 17031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-14T04:47:18Z", "scrap_date": "2024-04-30T23:55:43.562867", "content": "here is my info after I deployed"},
{"id": 133462, "question_id": 13346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-19T10:56:54Z", "scrap_date": "2024-04-30T23:55:44.644652", "content": "if you are facing any issues with preparing for the SAAC02 exam preparation dont wordy ExamsEmpire com provide an updated and latest SAAC02 exam preparation material and 247 customer support"},
{"id": 170152, "question_id": 17015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-19T19:12:57Z", "scrap_date": "2024-04-30T23:55:45.342120", "content": "Ive been wondering the same thing "},
{"id": 170032, "question_id": 17003, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-11T11:55:51Z", "scrap_date": "2024-04-30T23:55:46.379583", "content": "Would people think it was weird to use this with emptymissing for nonlive stages amazon web services How to have optional resources with Serverless framework on AWS Stack Overflow "},
{"id": 170033, "question_id": 17003, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-20T13:07:11Z", "scrap_date": "2024-04-30T23:55:46.380584", "content": "And to comment myself each included file needs to start"},
{"id": 57862, "question_id": 5786, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-20T23:28:39Z", "scrap_date": "2024-04-30T23:55:47.196797", "content": "Couple of contracts ago I went into a place where it took about 45 minutes running it similarly to you from code push through AMI build in packer to being live Everything was fine but there was a lot of pushing and pulling of images that wasnt necessary and we were building everything all in one go This was Django Dockercompose but no container orchestration Kodi nox"},
{"id": 170712, "question_id": 17071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-25T15:54:01Z", "scrap_date": "2024-04-30T23:55:48.065651", "content": "If you are looking to download WordPress themes I recommend that you go to the httpswplod com and httpsthemeforest net websites they are the top websites "},
{"id": 169402, "question_id": 16940, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-27T01:50:57Z", "scrap_date": "2024-04-30T23:55:48.885622", "content": "Getting the same problem It also happens when resolving ssm secrets that dont exist It fails rather than using the provided default Blocking deployment now "},
{"id": 169403, "question_id": 16940, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-27T03:00:33Z", "scrap_date": "2024-04-30T23:55:48.886622", "content": "Ok found a solution by looking at how serverless do it If your variable doesnt exist your resolve needs to It looks like youve tried this so unclear why you still get an error "},
{"id": 170182, "question_id": 17018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-27T05:50:12Z", "scrap_date": "2024-04-30T23:55:49.828588", "content": "Found the issue I was passing in the wrong stage name It had leading caps in the initial deploy and I was passing it in as all lowercase "},
{"id": 170792, "question_id": 17079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-27T13:16:01Z", "scrap_date": "2024-04-30T23:55:50.609389", "content": "if you can see the cookie in next api request to the cors domain it is ok you dont need to see the cookie in the application in devtools p s you can see it in cookie tab on the request itself "},
{"id": 170862, "question_id": 17086, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-28T12:18:03Z", "scrap_date": "2024-04-30T23:55:51.508797", "content": ""},
{"id": 129142, "question_id": 12914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-29T16:00:15Z", "scrap_date": "2024-04-30T23:55:52.502100", "content": "Trying adding s3PutBucketPublicAccessBlock to the Role that is doing the deployment "},
{"id": 171182, "question_id": 17118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-05T06:39:15Z", "scrap_date": "2024-04-30T23:55:53.363162", "content": "Hi johanmattsson A few weeks ago I had the same problem which I wasnt able to create a new connection even though I destroyed the connection I used I had to create a new connection as default using connection manager then getConnection createConnection conditionally If you are going to take this route this posting will be helpful Wiring up TypeORM with Serverless by Karim Varela Safara Engineering Medium"},
{"id": 114622, "question_id": 11462, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-23T04:10:05Z", "scrap_date": "2024-04-30T23:55:54.428597", "content": "Cant say that Im familiar with your particular use case but I have come across situations where methods appeared to be ignored entirely In my case it was due to calling an asynchronous method without waiting on its response Heres a snippet from my app that posts a message to an SNS topic Im not 100 certain whats going on with createPlatformEndpoint but could it be the case youre exiting the method without it finishing execution I came across an article that may help Gettingnodejsandlambdatoplaynicely I found this snippet may address your particular scenario If you test outside of Lambda these patterns work fine in nodejs because the default node runtime waits for all tasks to complete before exiting Context succeed context done and context fail however are more than just bookkeeping they cause the request to return after the current task completes even if other tasks remain in the queue Generally thats not what you want if those tasks represent incomplete callbacks Good luck "},
{"id": 114623, "question_id": 11462, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-05-26T18:12:23Z", "scrap_date": "2024-04-30T23:55:54.431598", "content": "Hi I just read your post and please try with this method I hope this can work for you "},
{"id": 114624, "question_id": 11462, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-06T16:27:58Z", "scrap_date": "2024-04-30T23:55:54.431598", "content": "SethThomas nikola116 I was stuck at same problem for a couple of days I had a same problem before but couldnt recall how did I fix that I think AWS Documentation for SDK v2 node js is missing details on using functions Thanks for your help"},
{"id": 42942, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-18T22:24:17Z", "scrap_date": "2024-04-30T23:55:56.112530", "content": "What does your serverless yml look like You can set the stage key under the provider block"},
{"id": 42943, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-19T00:11:40Z", "scrap_date": "2024-04-30T23:55:56.113530", "content": "DavidWells Thanks for your prompt reply I went ahead and created a minimal reproducible repo for you to see a working example Minimal Reproducible Repo Contribute to dmhalejrserverlesspackageminimalexample development by creating an account on GitHub My misunderstanding is just regarding the sls package command and why it defaults to dev even though I defined in the yml an environmental variable in the stage entry My hope was that a environment agnostic package could be created and either opt or env variables could be leveraged to finalize the deploy like so sls deploy stage production package pathtopackage Let me know if you need anything else "},
{"id": 42944, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-29T12:30:49Z", "scrap_date": "2024-04-30T23:55:56.114530", "content": "Since this discussion a week or so ago I just made sls deploy handle both build and deploy of the artifacts The issue I was running into seems incorrect Ill await further clarification before removing my inquiry "},
{"id": 42945, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-19T01:31:06Z", "scrap_date": "2024-04-30T23:55:56.115531", "content": "dmhalejr did you ever find a way to create environmentagnostic builds Im still wading through the docs and articles but havent found a way yet "},
{"id": 42946, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-19T01:41:51Z", "scrap_date": "2024-04-30T23:55:56.115531", "content": "Theres an open bug for it Allow to create reusable crossstage deployment ready build artifacts Issue 3528 serverlessserverless GitHub"},
{"id": 42947, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-19T02:52:48Z", "scrap_date": "2024-04-30T23:55:56.116531", "content": "Hey mmaglana Thanks for checking out Sadly I never found a way around this error and believe I still have my minimal viable project available I may take a stab this weekend in getting it uptodate and checking with the latest version of serverless Minimal Reproducible Repo Contribute to dmhalejrserverlesspackageminimalexample development by creating an account on GitHub "},
{"id": 42948, "question_id": 4294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-13T10:40:21Z", "scrap_date": "2024-04-30T23:55:56.117531", "content": "What does your serverless yml look like Speed Test"},
{"id": 23142, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T10:17:04Z", "scrap_date": "2024-04-30T23:55:56.854094", "content": "No update from anyone here However I just tested a different set up With the script from the original question we make sure that only the node modules from production are used remove the ignore scripts if this is required by some packages Now we just exclude the original source and test folders This seems to work however Does not work Both snippets adapted from the docs"},
{"id": 23143, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T13:32:40Z", "scrap_date": "2024-04-30T23:55:56.856094", "content": "Im having the same problem The way excludesincludes and individual packaging work dont seem to line up with the documentation Im currently trying to exclude all node modules from an individually packaged function However the only way it will work is if I use the global package individually setting If the global setting is not used the function package settings are ignored and everything is included in the package "},
{"id": 23144, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T17:44:22Z", "scrap_date": "2024-04-30T23:55:56.857094", "content": "My problem ended up being the serverlesspluginincludedependencies plugin interaction with packaging "},
{"id": 23145, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-03T15:50:27Z", "scrap_date": "2024-04-30T23:55:56.857094", "content": "Dont you need to exclude everything first than begin to include This is what worked for me I manage functions individually but it may not matter "},
{"id": 23146, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-04T00:53:12Z", "scrap_date": "2024-04-30T23:55:56.858095", "content": "Serverless changed the way it handled dependencies a few releases ago Previously it uploaded everything from node_modules which included development dependencies There were a number of solutions around this but theyre all redundant now Serverless will automatically exclude the development dependencies and their dependencies from the zip file It looks like this change means you can no longer exclude packages from the node_modules directory manually "},
{"id": 23147, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-04T19:13:18Z", "scrap_date": "2024-04-30T23:55:56.859095", "content": "Good to know I did not see this at all Just checked with the documentation it says this in the end Development Dependencies Serverless will autodetect and exclude development dependencies based on the runtime your service is using This ensures that only the production relevant packages and modules are included in your zip file Doing this drastically reduces the overall size of the deployment package which will be uploaded to the cloud provider It might be good to update the first example which still uses includeexclude on node_modules "},
{"id": 23148, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-04T19:14:12Z", "scrap_date": "2024-04-30T23:55:56.860095", "content": "Sounds good I did not understand it this way For me the include only should work like a whitelist However it seems I just misunderstood the documentation Thank you for clarifying this "},
{"id": 23149, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-01T20:18:06Z", "scrap_date": "2024-04-30T23:55:56.861095", "content": "Make sure its not a webpack issue If youre using serverlesswebpack in your serverless yml to transpile code it will be bundled into a webpack dir or some other temporaryintermediary dir and its from there that serverless will try to create a CloudFormation package So if youre trying to includeexclude stuff from the root of your project dir then youre prone to get confusedfrustrated I solved my particular problem by specifying what filesdir I wanted to copy over in the webpack config js to webpack using a webpack plugin called copywebpackplugin Syntax const CopyWebpackPlugin require copywebpackplugin const path require path plugins [ new CopyWebpackPlugin [ from path join __dirname pic png ] ] "},
{"id": 231410, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T15:05:43Z", "scrap_date": "2024-04-30T23:55:56.862095", "content": "Just want to say for future searchers that exclude did work for me this syntax in serverless yml package exclude configlocal json verified did not send over"},
{"id": 231411, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-15T21:55:53Z", "scrap_date": "2024-04-30T23:55:56.863096", "content": "A complete exclude lets include act as a white list The node_modules must be quoted I dont add it in the includes so that the framework can exclude development dependencies "},
{"id": 231412, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-28T19:33:29Z", "scrap_date": "2024-04-30T23:55:56.864096", "content": "I also had But node_modules are still included no matter what but its probably good practice to include node_modules in case the code changes in the future "},
{"id": 231414, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-19T14:40:45Z", "scrap_date": "2024-04-30T23:55:56.864096", "content": "Same problem here The package command works in general but not in function scope Or to be more precise it does because the artifact child element is recognized and evaluaed only include and exclude are just skipped Are there any news on that topic In theory it does not sound like a big problem more like a minor bug "},
{"id": 231415, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-24T06:23:14Z", "scrap_date": "2024-04-30T23:55:56.865096", "content": "This is the only solution worked for me first exclude all then include only required packages package exclude include dist node_modules packakge json"},
{"id": 231416, "question_id": 2314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-15T10:07:06Z", "scrap_date": "2024-04-30T23:55:56.866096", "content": "The docs are still wrong you have to use exclude not patterns"},
{"id": 22272, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T05:54:06Z", "scrap_date": "2024-04-30T23:55:57.556591", "content": "In bash contains the exit value of the last command 0 means success and 1 means failure "},
{"id": 22273, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T07:48:05Z", "scrap_date": "2024-04-30T23:55:57.557591", "content": "Thank you I know that The question was mainly if sls deploy fills that with correct values Ill try "},
{"id": 22274, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T08:11:21Z", "scrap_date": "2024-04-30T23:55:57.557591", "content": "To answer your new question yes "},
{"id": 22275, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-30T15:58:05Z", "scrap_date": "2024-04-30T23:55:57.558591", "content": "I have a variation of this issue on this in my bash scripts echo e Changing to messagingservices directory to deploy messaging service lambda\\n pushd messagingservice echo Deploying Messaging Service tee a scriptsdeploy log serverless deploy 21 tee a scriptsdeploy log popd STATUS if [ STATUS eq 0 ] then echo Deployment of Messaging Service Succeeded tee a scriptsdeploy log else echo Deployment of Messaging Service Failed tee a scriptsdeploy log exit 1 fi It always returns 0 even if it fails Not sure if the redirect is the issue here I have used this logic for executing other programs in a bash script Like orensarid I want to stop the script if I get a nonzero return code"},
{"id": 22276, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T03:40:54Z", "scrap_date": "2024-04-30T23:55:57.559591", "content": "Set STATUS on the line immediately after you run the serverless command Ive never used popd but Ill bet almost anything youre setting STATUS to the return value from that command which is why its always 0 even when serverless fails "},
{"id": 22277, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-25T17:06:26Z", "scrap_date": "2024-04-30T23:55:57.560592", "content": "Thanks that was part of the problem I also was using a pipe so I implemented the PIPESTATUS to get the true return code of the process I wanted serverless deploy 21 tee a scriptsdeploy log STATUS PIPESTATUS[0] if [ STATUS eq 0 ] then "},
{"id": 22278, "question_id": 2227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-17T08:10:09Z", "scrap_date": "2024-04-30T23:55:57.561592", "content": "I found this one which stops my deployment After sls get the error with datadog dependencies it doesnt return immediately but call 2 more useless functions"},
{"id": 168662, "question_id": 16866, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-18T07:25:48Z", "scrap_date": "2024-04-30T23:55:58.333518", "content": "The problem is not here it was in my bucket definition My s3_bucket full var had already appending "},
{"id": 148182, "question_id": 14818, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-20T14:12:32Z", "scrap_date": "2024-04-30T23:55:59.331657", "content": "JaspreetChhabra I would suggest not to tie your environment values into serverless yaml but rather be environment specific and have the values stored in either your CICD if its not a secret or PII or consider cloud specific secret storage like SSM If you have that in ur CICD lie github actions you have to create environment or repo secrets and access that in the workflow like this secret KEY_OF_UR_CHOICE this is injected to the serverless and now to inject them to the lambda workload use the environment spec as specified by serverless yml This allows the environment variable to be used in springboot or in application yaml as you desire Please refer the springboot documentation on how to use them If you are storing them in secret manager service like SSM then you are bound to access them only using the API so it depends on whether u are allowed to use aws cli in your cicd and fetch them or only restricted to use the API inside springboot code in which case using the environment variable in application yaml is not possible Hope this helps"},
{"id": 150372, "question_id": 15037, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-21T15:50:41Z", "scrap_date": "2024-04-30T23:56:00.041482", "content": "I have fixed sls deploy serverless deploy Issue Issue internalmodulescjsloader js888 throw err ^ Error Cannot find module C\\Users\\AppData\\Roaming\\npm\\node_modules\\serverless\\bin\\serverless js [90m at Function Module _resolveFilename internalmodulescjsloader js88515 [39m [90m at Function Module _load internalmodulescjsloader js73027 [39m [90m at Function executeUserEntryPoint [as runMain] internalmodulesrun_main js7212 [39m [90m at internalmainrun_main_module js1747[39m code [32mMODULE_NOT_FOUND[39m requireStack [] Windows Operating System Solution Step 1 Go to file explorer Step 2 Find the top file explorer 4th option View Step 3 Click the View option and Tick the Hidden items Step 4 Go to this file path C\\Usersyour user name\\AppData\\Roaming\\npm Step 5 Find these files given below serverless serverless serverless sls sls sls Step 6 Delete these above 6 files file types cmd powershell documentetc Step 7 then install freshly serverless framework npm install g serverless Step 8 Successfully fixed youre issue If you have any doubt feel free to ping me Im here to help you Happy Coding "},
{"id": 150373, "question_id": 15037, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-03-21T11:18:28Z", "scrap_date": "2024-04-30T23:56:00.043483", "content": "I have fixed sls deploy serverless deploy Issue Issue internalmodulescjsloader js888 throw err ^ Error Cannot find module C\\Users\\AppData\\Roaming\\npm\\node_modules\\serverless\\bin\\serverless js [90m at Function Module _resolveFilename internalmodulescjsloader js88515 [39m [90m at Function Module _load internalmodulescjsloader js73027 [39m [90m at Function executeUserEntryPoint [as runMain] internalmodulesrun_main js7212 [39m [90m at internalmainrun_main_module js1747[39m code [32mMODULE_NOT_FOUND[39m requireStack Windows Operating System Solution Step 1 Go to file explorer Step 2 Find the top file explorer 4th option View Step 3 Click the View option and Tick the Hidden items Step 4 Go to this file path C\\Usersyour user name\\AppData\\Roaming\\npm Step 5 Find these files given below If you have any doubt feel free to ping me Im here to help you Happy Coding thanks for the awesome information "},
{"id": 114242, "question_id": 11424, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-13T19:37:01Z", "scrap_date": "2024-04-30T23:56:01.050400", "content": "Im also encountering this same issue Serverless is not configuring the references properly when using provisionedConcurrency for an authorizer "},
{"id": 114243, "question_id": 11424, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-13T19:55:24Z", "scrap_date": "2024-04-30T23:56:01.051400", "content": "I submitted a bug report for this in github httpsgithub comserverlessserverlessissues7726"},
{"id": 114244, "question_id": 11424, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-14T06:28:58Z", "scrap_date": "2024-04-30T23:56:01.052401", "content": "Great thanks for the link Chris "},
{"id": 114245, "question_id": 11424, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-24T19:26:12Z", "scrap_date": "2024-04-30T23:56:01.052401", "content": "Hi This is a fairly old thread but I ran into the same issue that API Gateway not referencing provisioned alias lambda when specifying provisioned concurrency Following the bug report link it is not clear that it is fixed either What is the best way to handle this Thank you Deniz"},
{"id": 114246, "question_id": 11424, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-21T14:21:01Z", "scrap_date": "2024-04-30T23:56:01.053401", "content": "Great thanks for the link Chris thanks for sharing Showbox jiofi local html"},
{"id": 147422, "question_id": 14742, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T20:08:43Z", "scrap_date": "2024-04-30T23:56:01.635498", "content": "Hi I am facing the same issue have you found the solution to this problem"},
{"id": 147423, "question_id": 14742, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-23T10:58:35Z", "scrap_date": "2024-04-30T23:56:01.636498", "content": "thanks for the awesome information "},
{"id": 155192, "question_id": 15519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-14T09:55:49Z", "scrap_date": "2024-04-30T23:56:02.430156", "content": "I think issue is is that TypeScript validation wont allow variable syntax which is perfectly fine and welcome by the Framework Id call it as limitation of TypeScript resolver Please open issue at GitHub serverlesstypescript TypeScript definitions for Serverless Framework service configuration and ask for recommendations"},
{"id": 155193, "question_id": 15519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-15T00:09:42Z", "scrap_date": "2024-04-30T23:56:02.431156", "content": "After setting up a normal SLS YAML file and using opt I got deprecation warnings when I deployed That is a sign to not use opt and instead use Environment Variables "},
{"id": 155194, "question_id": 15519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-24T16:44:09Z", "scrap_date": "2024-04-30T23:56:02.432156", "content": "You can write like this region optregion eucentral1 as eucentral1"},
{"id": 169522, "question_id": 16952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-30T23:16:50Z", "scrap_date": "2024-04-30T23:56:03.469032", "content": "Every attempt Ive seen to split resource definitions like this fails There are many posts in the forum around different permutations of the problem It seems like the only use of the file function is for handling properties like you have already done for the queue name I would try to refactor the iamroles file into the serverless yml file and use variables like you did with the queue name to control the properties of the role "},
{"id": 148382, "question_id": 14838, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-31T17:45:29Z", "scrap_date": "2024-04-30T23:56:04.541687", "content": "hi jkupcho Were you able to identify a solution for this Ideally my approach would be have a separate backend servers and technically its possible to have a fullstack with Nextjs Given the opportunity I would like to have my graphQL service completely separated and host it as a separate serverless lambda with APIGW as proxy to my graphQL apollo The only reason I would like to follow this pattern is because I do want my backend changes to be independent of my frontend Not sure if you are looking for this or if you already found a better solution"},
{"id": 169602, "question_id": 16960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-31T17:37:49Z", "scrap_date": "2024-04-30T23:56:05.655905", "content": "Hi Tom I might be incorrect but this problem looks to be more or less like the problem you wanted to access another APIGW in a different account but use that as your event trigger So serverless deals with specifying your apigateways already configured ones in providers spec something like this provider name aws region apsouth1 memorySize 512 runtime nodejs14 x stackName piadbingestionstackapi stackTags Org HashedIn Product PR001 Dep HU httpApi id 6ser0pzuj2 This is the APIGW id vpc securityGroupIds sg6386341e subnetIds subnet05cf6b7f357a02e11 This is the VPC and subnets where the lambda will be deployed to but the problem of accessing your APIGW in a different gateway is a Networking problem and it should be addressed there in my opinion I am not an expert in networking but VPC peering might help "},
{"id": 169603, "question_id": 16960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-01T07:47:12Z", "scrap_date": "2024-04-30T23:56:05.657906", "content": "Hi Thank you for a quick reply Let me paraphrase my problem Ive already managed to do that thorugh aws console it just required me to point full lambdaA ARN when setting up agB some access policy on lambdaA Now I would like to set this up through serverless bu not sure how would I point those two to look at each other Many thanks T "},
{"id": 158512, "question_id": 15851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-23T07:24:50Z", "scrap_date": "2024-04-30T23:56:06.558516", "content": "Hi Did you ever find a solution to this Im seeing the same error when trying to deploy to API Gateway Mark"},
{"id": 158513, "question_id": 15851, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-04-04T14:05:36Z", "scrap_date": "2024-04-30T23:56:06.559516", "content": "Yea with the latest version of serverless typescript the syntax for a Default Handler is just"},
{"id": 26012, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-04T07:14:40Z", "scrap_date": "2024-04-30T23:56:07.544095", "content": "Im not sure if you figured this out It might be easier to have a different yaml file for each stage then include that based on the stage youre deploying to Then inside the file you would have something like"},
{"id": 26013, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T09:22:09Z", "scrap_date": "2024-04-30T23:56:07.545094", "content": "Thanks buggy that might be a suitable work around though Im still curious if it can be done from an environment variable "},
{"id": 26014, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T07:02:30Z", "scrap_date": "2024-04-30T23:56:07.546094", "content": "Environment variables dont support listsarrays as a data type so this is not really a Serverless limitation but a limitation of environment variables Since you know the content of the variable why not just pass a string of comma separated ids and split them in your function"},
{"id": 26015, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T00:55:08Z", "scrap_date": "2024-04-30T23:56:07.546094", "content": "Using split within the function would be a very easy solution if the values were getting used in the lambda function but in the scenario described above the values are getting used in the serverless config to set up the VPC membership What I really need is a way to split the string in the serverless yml file "},
{"id": 26016, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T09:42:20Z", "scrap_date": "2024-04-30T23:56:07.547094", "content": "Ah my bad The short answer is No You could request it as a feature but it would require a code change to the variables functionality "},
{"id": 26017, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T01:01:34Z", "scrap_date": "2024-04-30T23:56:07.548095", "content": "Thanks for clarifying At least now I know that my hacky solution is the best I can hope for with the version were using "},
{"id": 26018, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-10-17T17:11:38Z", "scrap_date": "2024-04-30T23:56:07.548095", "content": "After I struggled for the same issue for 1 day I found an accepted way of passing subnet ids as a list to VPC block In your case variables are expected to be like this In vpc block you can split the elements by a delimiter"},
{"id": 26019, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-17T23:25:10Z", "scrap_date": "2024-04-30T23:56:07.549095", "content": "Brilliant Thanks for sharing "},
{"id": 260110, "question_id": 2601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-06T12:40:27Z", "scrap_date": "2024-04-30T23:56:07.549095", "content": "Awesome"},
{"id": 167182, "question_id": 16718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-25T01:39:02Z", "scrap_date": "2024-04-30T23:56:08.644131", "content": "Yup were having similar issues with our CI logs being filled up with I cant find any settings to disable this "},
{"id": 167183, "question_id": 16718, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-02-25T01:59:31Z", "scrap_date": "2024-04-30T23:56:08.644131", "content": "As a quick work around using cat is a way to suppress the loading animation progress indicator event emitter or whatever you want to call it i e "},
{"id": 167184, "question_id": 16718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-22T12:40:55Z", "scrap_date": "2024-04-30T23:56:08.645289", "content": "Same here did nobody open a bug already Are you certain it is a bug [X] Yes it looks like a bug Is the issu e caused by a plugin [X] It is not a plugin issue Are you using the latest version [X] Yes I am using the latest version Is there an existing issue for this [X] I have searched existing issues it has not been reported yet Issue description status line does not overwrite scrolls forever Service configuration serverless yml content ```yaml NA ``` Command name and used flags sls deploy Command output ```shell Uploading 614 05 kB 3s Uploading 614 05 kB 3s Uploading 614 05 kB 3s Uploading 614 05 kB 4s Uploading 614 05 kB 4s Uploading 614 05 kB 4s Uploading 614 05 kB 4s Uploading 614 05 kB 4s Uploading 614 05 kB 4s ``` ``` Environment information ```shell Running serverless from node_modules Framework Core 3 8 0 local 3 7 5 global Plugin 6 1 6 SDK 4 3 2 ```"},
{"id": 167185, "question_id": 16718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-22T19:38:32Z", "scrap_date": "2024-04-30T23:56:08.647131", "content": "I actually do not think this is a bugdefect The code works it is just annoying that the progress dumps hundreds of lines into output It is something serverless support couldshould help fix and make the usage more enjoyable I realized I may not have explaineddocumented the symptoms fully Here is sample output showing 8 lines of several hundreds Creating CloudFormation stack 15s Creating CloudFormation stack 15s Creating CloudFormation stack 15s Creating CloudFormation stack 15s Creating CloudFormation stack 15s Creating CloudFormation stack 15s Creating CloudFormation stack 15s One workaround is listed above filtering via cat I found another one by running a different terminal client in my case GitHub gnometerminatorterminator multiple GNOME terminals in one window The output looks good with no further modificationssettings I also noted that this is only a problem with serverless version 3 x I had to downgrade to version 2 72 3 for other reasons and the progress is shown correctly by simple dots in all terminals It looks like version 3 x I tested 3 8 0 is showing the progress in a way that clutters the stdout on some terminals I wish support would chime in about the TERM settings "},
{"id": 167186, "question_id": 16718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-28T09:03:12Z", "scrap_date": "2024-04-30T23:56:08.649132", "content": "Ack in sls v1 it was also fine "},
{"id": 167187, "question_id": 16718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-06T13:45:53Z", "scrap_date": "2024-04-30T23:56:08.649132", "content": "The latest release has fixed this"},
{"id": 174052, "question_id": 17405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-07-20T13:25:54Z", "scrap_date": "2024-04-30T23:56:09.349547", "content": "I did more digging First create_domain works fine When I did However when I try to deploy changeset for the entire stack still errs as before Also tried using the new domain and it does not work What is going on"},
{"id": 174053, "question_id": 17405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-12-04T22:31:12Z", "scrap_date": "2024-04-30T23:56:09.350547", "content": "Im having this exact same issue with a custom domain for a serverless deploy that worked before adding the custom domain My serverless yml looks identical to this except for my specific values Any ideas where the error is The one thing I can add is I did poke around inside AWS Cloudformation and noticed that the cloudfront distribution that is an output for the stack And also for the A and AAAA records that were created for my custom domain by running SLS_DEBUG sls create_domain verbose is not listed when I go to my global view of all cloudfront distributions for my account Why would my root user not be able to see a cloudfront distribution that was created by this serverless stack using the same account"},
{"id": 41212, "question_id": 4121, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-04-02T02:51:32Z", "scrap_date": "2024-04-30T23:56:11.447504", "content": "Seems currently there is no way to enabledisable pointintime recovery setting with AWS Cli or API httpsdocs aws amazon comclilatestreferencedynamodbrestoretabletopointintime html You must manually set up the following on the restored table"},
{"id": 41213, "question_id": 4121, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-03T12:51:58Z", "scrap_date": "2024-04-30T23:56:11.448505", "content": "I setup this yesterday I initially had my DynamoDB tables in Paris euwest3 region but it turned out that this region doesnt get any of the fancy backup abilities Especially the PointinTime which is automated and fully managed by AWS I therefore migrated all my tables to Ireland euwest1 region which supports the same features as those in us and is the cheapest in europe I havent had the pleasure to use it yet"},
{"id": 41214, "question_id": 4121, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-10-30T19:34:31Z", "scrap_date": "2024-04-30T23:56:11.449505", "content": "For those looking there is a way to automate it now Use the AWS CloudFormation AWSDynamoDBTable resource for DynamoDB "},
{"id": 41215, "question_id": 4121, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-30T23:27:51Z", "scrap_date": "2024-04-30T23:56:11.450505", "content": "Yes it works now Since Dynamodb is resource in SLS we can directly use Cloudformation codes in serverless yml "},
{"id": 41216, "question_id": 4121, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-17T11:41:52Z", "scrap_date": "2024-04-30T23:56:11.450505", "content": ""},
{"id": 41217, "question_id": 4121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-10T19:22:39Z", "scrap_date": "2024-04-30T23:56:11.451506", "content": "great so useful thanks "},
{"id": 165472, "question_id": 16547, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-18T13:19:33Z", "scrap_date": "2024-04-30T23:56:12.363351", "content": "1 I have the same problem"},
{"id": 165473, "question_id": 16547, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-15T17:52:49Z", "scrap_date": "2024-04-30T23:56:12.364346", "content": "I had the same problem but in my case I was using the ubuntulatest image and the following code in my dockerfile all i needed to do was change to WORKDIR command for some reason using the cd in RUN was not working It is a little different from your dockerfile but maybe WORKDIR can solve the problem"},
{"id": 24872, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T16:42:16Z", "scrap_date": "2024-04-30T23:56:13.030193", "content": "Hey Cael6 in your service directory can you run npm list grep serverlesspythonrequirements If its installed correctly it should look something like this If its not installed youll get a bunch of output about missing packages If that doesnt work we can try something else "},
{"id": 24873, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T18:45:39Z", "scrap_date": "2024-04-30T23:56:13.031192", "content": "That is exactly what I got"},
{"id": 24874, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T19:44:26Z", "scrap_date": "2024-04-30T23:56:13.032193", "content": "Hmm In your service directory can you drop into a Node REPL and see if you can load the plugin Run the following commands"},
{"id": 24875, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T22:16:17Z", "scrap_date": "2024-04-30T23:56:13.032193", "content": "Heres what I got"},
{"id": 24876, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T22:35:35Z", "scrap_date": "2024-04-30T23:56:13.033193", "content": "It looks like I needed to be running node v6 Thanks for your help alexdebrie1"},
{"id": 24877, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T08:57:40Z", "scrap_date": "2024-04-30T23:56:13.033193", "content": "I have the same problem with the serverlessclients3 plugin I have used both npm and yarn Could this be the problem"},
{"id": 24878, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T18:07:40Z", "scrap_date": "2024-04-30T23:56:13.034193", "content": "paolini If you turn on debug mode it will show more context around why the plugin isnt loading That should throw the actual error for the plugin "},
{"id": 24879, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T20:31:40Z", "scrap_date": "2024-04-30T23:56:13.034193", "content": ""},
{"id": 248710, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-05T00:37:48Z", "scrap_date": "2024-04-30T23:56:13.035193", "content": "paolini Looks like there was a compatibility issue with pre1 0 versions of the Framework and 1 0 versions That was fixed in a PR but a new release wasnt published to NPM because the credentials are lost see here Fortunately someone forked the project into serverlessfinch which has the latest updates I would recommend using that instead of serverlessclients3 "},
{"id": 248711, "question_id": 2487, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-17T02:45:04Z", "scrap_date": "2024-04-30T23:56:13.036194", "content": "Ive got the same problem Why is this I setting NODE_PATH as nvmversionsnodev16 14 0libnode_modules and install as nvm i g serverlesspythonrequirements but continue By creating a separate package json in the Python project the plugin installation and operation works well But since it is inefficient to install each package json for many serverless I want to use the global module but is there any way"},
{"id": 128852, "question_id": 12885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T06:26:21Z", "scrap_date": "2024-04-30T23:56:14.084998", "content": "I think i have found the issue which need to be fixed with in server less and workaround for now Rollback your serverless enviornment to version 2 5 0 when writing this current version is 2 8 0 I went through the Serverless releases and one particular releaseCommit caught my eyes 2 6 0 Recently schema for http has been created which doesnt include documentation tagkey Check the Exact commit lines I am not into JS development but i hope this can be priortisedfixed quickly by serverless devs or someone who knows this code base "},
{"id": 128853, "question_id": 12885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T06:39:32Z", "scrap_date": "2024-04-30T23:56:14.086745", "content": "I created this Docker image with serverles and aws cli V2 and it work perfectly from now onwards will keep using this image until its fixed by serverless and may be then go back to latest serverless version "},
{"id": 128854, "question_id": 12885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-22T15:14:05Z", "scrap_date": "2024-04-30T23:56:14.087748", "content": "I created this Docker image with serverles and aws cli V2 and it work perfectly for httpsalphapharma to from now onwards will keep using this image until its fixed by serverless and may be then go back to latest serverless version huge thanks for keeping updating really appreciating"},
{"id": 128855, "question_id": 12885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-14T14:49:19Z", "scrap_date": "2024-04-30T23:56:14.088742", "content": "I created this Docker image with serverles and aws cli V2 and it work perfectly from now onwards will keep using this image until its fixed by serverless and may be then go back to latest serverless version thanks for the awesome information "},
{"id": 128856, "question_id": 12885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-17T14:05:12Z", "scrap_date": "2024-04-30T23:56:14.089743", "content": "I created this Docker image with serverles and aws cli V2 and it work perfectly from now onwards will keep using this image until its fixed by serverless and may be then go back to latest serverless version RUN whoami RUN npm install g serverless 5 0 serverless v RUN aptget update y aptget install curl y aptget install zip y RUN curl httpsawscli amazonaws comawscliexelinuxx86_64 zip o awscliv2 zip unzip awscliv2 zip awsinstall RUN rm fR awscliv2 zip RUN npm install serverlessawsdocumentation savedev RUN npm install serverlessdomainmanager savedev RUN npm install serverlesspluginsplitstacks savedev RUN aptget install reinstall make RUN aws version thanks for the awesome information thank my issue has been fixed "},
{"id": 163255, "question_id": 16325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-04T08:37:32Z", "scrap_date": "2024-04-30T23:56:14.936679", "content": "Latest and last update To solve this problem you should update serverlss sdk to 268 0 or newer"},
{"id": 163256, "question_id": 16325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-06T00:14:56Z", "scrap_date": "2024-04-30T23:56:14.937676", "content": "Just ran in to this error after upgrading to 2 68 Downgraded back to 2 66 and now its working again I was also getting the error Retrying ensure function state for function Both errors repeated about 20 times "},
{"id": 163257, "question_id": 16325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-06T03:04:02Z", "scrap_date": "2024-04-30T23:56:14.938683", "content": "Sorry Its wrong wait mainintar to fix "},
{"id": 163258, "question_id": 16325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-07T03:40:05Z", "scrap_date": "2024-04-30T23:56:14.938683", "content": "Yeah even after changing versions I get this error But only on this project not others The Lambda function is still deploying though with v2 66 "},
{"id": 163259, "question_id": 16325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-07T03:55:31Z", "scrap_date": "2024-04-30T23:56:14.939677", "content": "For more info you can visit githubcomserverlessserverlessdiscussions"},
{"id": 1632510, "question_id": 16325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-18T14:55:40Z", "scrap_date": "2024-04-30T23:56:14.940677", "content": "You should wait for function code update to complete before proceeding with update of function configuration "},
{"id": 167212, "question_id": 16721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-18T14:50:18Z", "scrap_date": "2024-04-30T23:56:15.947467", "content": "This is not something Ive tried but from the documentation Serverless Variables it looks like you could do it Maybe something like Maybe Try experimenting with that or something like it "},
{"id": 167213, "question_id": 16721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-18T16:31:11Z", "scrap_date": "2024-04-30T23:56:15.948467", "content": "Dude thanks for answering me Its something Ive tried with no success Unfortunately I do not understand and the doc does not clarify how to possibly structure the file in the variable My test is"},
{"id": 167214, "question_id": 16721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-18T16:50:06Z", "scrap_date": "2024-04-30T23:56:15.948467", "content": "I think the way the roles file is structured is okay I believe the problem is how you included it in the parent file Instead of try"},
{"id": 167215, "question_id": 16721, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-21T10:23:36Z", "scrap_date": "2024-04-30T23:56:15.949467", "content": "Unfortunately none of the attempts work Test 1"},
{"id": 167362, "question_id": 16736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-23T08:32:44Z", "scrap_date": "2024-04-30T23:56:16.999708", "content": "maybe a hint from myside my layer reference in the function section of the serverless is different i use a reference output of the cloudformation layerstack it is the layeroutputarnfromcfstack for example My deployment is sepearated into 2 stacks a sls deployment for the layer after i deploy my slsfunction stack My reference looks like slsxyzmocklayerdevXyzDashmockDashdependenciesLambdaLayerQualifiedArn"},
{"id": 167852, "question_id": 16785, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-23T19:38:12Z", "scrap_date": "2024-04-30T23:56:17.538537", "content": "Best practice is to always have development and production environment 100 separate Adapting a framework to flawed development practices may have side effects for the 99 99 of organisations that do it the right way "},
{"id": 167972, "question_id": 16797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-23T23:34:03Z", "scrap_date": "2024-04-30T23:56:18.607927", "content": "it appears this was a plugin serverlesscloudmap which was breaking deploy yet providing no error info"},
{"id": 168212, "question_id": 16821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-28T04:55:20Z", "scrap_date": "2024-04-30T23:56:19.727180", "content": "Looking at the dependency tree lazystream is a dependency of archiver which is a dependency of serverless"},
{"id": 152732, "question_id": 15273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-12T22:18:16Z", "scrap_date": "2024-04-30T23:56:20.579268", "content": "I am new to coding and to Visual Studio Code so I am trying to teach myself how to use the program I primarily want to code in Java and I have it set up correctly The problem is that every time I try to run a basic hello world program it prints in the terminal but in the tutorial videos it prints in debug console Has anyone had this problem and can anyone help 192 168 100 1 192 168 1 1 me fix this"},
{"id": 152734, "question_id": 15273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-30T18:16:38Z", "scrap_date": "2024-04-30T23:56:20.581269", "content": "Hey could you please tell me if you figured out how to do that "},
{"id": 152735, "question_id": 15273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-28T19:57:42Z", "scrap_date": "2024-04-30T23:56:20.581269", "content": "I realize this is kind of old but I ran into the same problem last night I was eventually able to figure it out on my own Running serverless in the vscode debugger wouldnt produce any output in the debugger output window It would run and I could set breakpoints and it would hit them but nothing would print I found that setting console integratedTerminal in the launch json entry for the debug session fixed the issue vscode switches to the terminal instead of the debug output but it still runs under the debugger In my case Im trying to develop a serverless plugin so I have a plugin_dir directory with a simple serverless yml file and my plugins index js in it Heres my full launch json entry for this"},
{"id": 124162, "question_id": 12416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-07T13:51:47Z", "scrap_date": "2024-04-30T23:56:21.699847", "content": "Having the same warning here even after updating to the latest serverless Have you found out what was happening on your side"},
{"id": 124163, "question_id": 12416, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2020-09-22T13:39:57Z", "scrap_date": "2024-04-30T23:56:21.699847", "content": "It seems the cors configuration got moved up into the provider config Setting up API Gateway HTTP APIs with AWS Lambda via the Serverless Framework"},
{"id": 124164, "question_id": 12416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-27T14:03:28Z", "scrap_date": "2024-04-30T23:56:21.700847", "content": "Oh I see thanks That clarifies it I was able to hack around the thing by defining OPTIONS endpoints myself that return 200 OK but this seems preferable "},
{"id": 124165, "question_id": 12416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T04:14:27Z", "scrap_date": "2024-04-30T23:56:21.701848", "content": "Cors should work by default imho No need to set anything in the serverless yml "},
{"id": 124166, "question_id": 12416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-01T09:46:43Z", "scrap_date": "2024-04-30T23:56:21.701848", "content": "That would be quite dangerous cors exists so that not any remote origin can access your resources its for your resources protection so its ideal to not work by default but having finegrained controls to allow it step by step "},
{"id": 138882, "question_id": 13888, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T22:11:56Z", "scrap_date": "2024-04-30T23:56:22.853455", "content": "Hello rosenjd4 as far as Im concerned its currently not supported at schema level in framework you might want to report that as an issue or feature request"},
{"id": 138883, "question_id": 13888, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-06T14:37:44Z", "scrap_date": "2024-04-30T23:56:22.854454", "content": "I am relatively new here but looks like CloudFormation does support fifo topics httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiessnstopic html So if that is supported is it possible to deploy fifo topics by specifying them as resources using CloudFormation syntax If I am reading this right that should just work How to deploy and manage AWS infrastructure to use with your AWS Lambda functions with the Serverless Framework I am looking to deploy a SNS fifo topic stack so I will try this Am I misreading the capabilities"},
{"id": 138884, "question_id": 13888, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-12T20:52:22Z", "scrap_date": "2024-04-30T23:56:22.856455", "content": "Hi Ziggyrama did you find out how to configure serverless ts yml to create a sns fifo resource"},
{"id": 138885, "question_id": 13888, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-07-13T00:18:55Z", "scrap_date": "2024-04-30T23:56:22.857456", "content": "I ended up abandoning fifo topics for my deployments but that being said since CloudFormation supports them you can probably just set the FifoTopic attribute in the topic resource definition and that should work So something like this"},
{"id": 138886, "question_id": 13888, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-02T10:31:26Z", "scrap_date": "2024-04-30T23:56:22.857456", "content": "Yes that works But if you need this topic as a Lambda trigger event be aware that lambda supported only standard SNS topics and not yet FIFO so as a lambda event you would probably need SNS Funout to use SQS Fifo subscribed to SNS FIFO topic like this solution Introducing Amazon SNS FIFO FirstInFirstOut PubSub Messaging AWS News Blog "},
{"id": 36392, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-01-31T15:37:40Z", "scrap_date": "2024-04-30T23:56:23.849288", "content": "Try sudo npm install serverless g Or install the framework locally in the project folder npm install serverless savedev when installing locally reference serverless like node_modules binserverless deploy or with npx serverless deploy"},
{"id": 36393, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T18:11:12Z", "scrap_date": "2024-04-30T23:56:23.850289", "content": "Thanks very much for your reply David Ive already tried prefixing with sudo and that failed too see second error block above Good to know I have the option of installing locally Id like to get to the bottom of the global install issue I had no trouble installing the framework on my MacBook Pro a few weeks ago Possibly has something to do with the version of node or npm that Im running on my iMac"},
{"id": 36394, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T18:43:28Z", "scrap_date": "2024-04-30T23:56:23.851289", "content": "macOS 10 12 6 I switched to 9 4 0 and was able to install serverless globally just fine Node version doesnt seem to affect the install for me at least but just to eliminate that possibility have you tried a lower version I use 6 11 5 since Google Cloud Function only supports that Also do you use a version manager like NVM"},
{"id": 36395, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-02-01T16:14:33Z", "scrap_date": "2024-04-30T23:56:23.852289", "content": "Thanks Eric I wasnt using NVM but I am now Did what you suggested and tried a lower version I went for 6 11 5 since you said that was working for you and Im happy to report that npm install g serverless completed without an error Thanks again "},
{"id": 36396, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T19:09:14Z", "scrap_date": "2024-04-30T23:56:23.852289", "content": "Woot Glad to help Jeremy Holler if you have any other issues"},
{"id": 36397, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T19:46:13Z", "scrap_date": "2024-04-30T23:56:23.853704", "content": "It worked for me Thank you "},
{"id": 36398, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-09T07:20:44Z", "scrap_date": "2024-04-30T23:56:23.854290", "content": "Thanks helped a lot"},
{"id": 36399, "question_id": 3639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-08T17:11:49Z", "scrap_date": "2024-04-30T23:56:23.854290", "content": "Works only when use npx serveless Tks bro "},
{"id": 168692, "question_id": 16869, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-11T21:02:58Z", "scrap_date": "2024-04-30T23:56:24.883232", "content": "Still not sure what precipitated this problem but we did find a solution In one case we could not tolerate the value of the key changing so we had to use this syntax to lock in the value In either case I first removed the apiKeys section and deployed it to erase any reference to the keys Then I manually removed the keys in the AWS API Gateway console Then I readded the apiKeys section and deployed successfully Would have liked to be able to fix this without down time but in this situation it was not a big problem "},
{"id": 150962, "question_id": 15096, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-24T03:50:09Z", "scrap_date": "2024-04-30T23:56:25.841480", "content": "Hey did you manage to solve the issue I am facing the same problem with the connection limit"},
{"id": 150963, "question_id": 15096, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-03-12T03:07:01Z", "scrap_date": "2024-04-30T23:56:25.842480", "content": "We use AWS to run PostgreSQL on RDS service serverless framework to deploy a bunch of Lambdas A while back we faced a similar problem when multiple clients were triggering lambdas which in turn were making connections to DB and were depleting the pool We ended up with RDS Proxy solution managed by AWS It looks like a 247 running EC2 instance in my understanding that works in between Lambdas and RDS and queues incoming connection requests such that it can maintain a fixed number of connections to RDS itself You might want to research if Netlify has a similar managed service and try using it Alternatively you could deploy a 247 running service that will do exactly that It should be straightforward to implement connection queueing I guess "},
{"id": 165452, "question_id": 16545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-15T08:59:02Z", "scrap_date": "2024-04-30T23:56:27.661897", "content": "This error message looks like its related to a plugin called serverlessawsalias I would recommend getting in touch with the plugin author at GitHub serverlessheavenserverlessawsalias Alias support for Serverless 1 x as they would be best suited to help answer those questions If there is anyone else on the forums with experience with the plugin then please feel free to assist"},
{"id": 165342, "question_id": 16534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-15T09:26:20Z", "scrap_date": "2024-04-30T23:56:28.355129", "content": "Hi Isaac Currently Serverless does not use Java and therefore Log4j in any capacity in our own SaaS solutions such as Serverless Dashboard or Serverless Cloud With regard to the Serverless Framework we have made recent releases with updated versions of Log4j for the Java based templates that may be used when creating new Java based services Anyone deploying Java based Serverless Framework services should naturally make sure that they update things as necessary in their own projects an aspect we have no control over and would depend on the individual developers and teams to correct themselves "},
{"id": 165392, "question_id": 16539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-15T08:52:15Z", "scrap_date": "2024-04-30T23:56:29.378043", "content": "Hey there This page in the docs does not directly answer your question but may be what you need to get you in the right direction Serverless Framework AWS Lambda Events API Gateway"},
{"id": 165393, "question_id": 16539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-15T13:30:49Z", "scrap_date": "2024-04-30T23:56:29.378043", "content": "Thanks for the hint I tried to define the API Gateway as a resource and link it to the provider apiGateway but the result is that CloudFront links to the API Gatway I defined in resources and the serverless function still has its own API Gateway How can I make serverless uses also the API Gateway that I defined in resoucers Also why cant I just reference to the API ID that is generated by serverless My serverless yml feels quite complicated "},
{"id": 165394, "question_id": 16539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-17T08:23:50Z", "scrap_date": "2024-04-30T23:56:29.380043", "content": "I got the error I was using the new HTTP API instead of the REST API Changing httpApi to http in my function declaration made it work One last question Is it possible to also reference the httpApi ID in the Cloudformation resource I tried Ref AWSApiGatewayV2Api but it didnt work I also couldnt find any reference here Serverless Framework AWS Lambda Guide AWS Infrastructure Resources"},
{"id": 165395, "question_id": 16539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-17T09:05:36Z", "scrap_date": "2024-04-30T23:56:29.381043", "content": "Also got the HTTP API reference resolved "},
{"id": 135552, "question_id": 13555, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-07T12:38:55Z", "scrap_date": "2024-04-30T23:56:30.417707", "content": "I think you will have to rely on bash If the stacks are independent you could execute on parallel doing something like sls deploy c pathtoserverless1 yml sls deploy c pathtoserverless2 yml If you want instead to execute sequentially if one fails the following wont be executed sls deploy c pathtoserverless1 yml sls deploy c pathtoserverless2 yml If you have parameters you could manage them from bash also "},
{"id": 135553, "question_id": 13555, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-02-02T16:48:37Z", "scrap_date": "2024-04-30T23:56:30.419707", "content": "bash example i think i got this from this forum a while back for dir in _projectfolderfolderwithallthesubfolders do cd dir npx serverless deploy done"},
{"id": 165742, "question_id": 16574, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-18T09:31:37Z", "scrap_date": "2024-04-30T23:56:31.483929", "content": "Hi Ali and welcome to the forums In your serverless yml you posted I am not seeing a useDotenv property at all Could you share the version with that included so we can confirm it looks good"},
{"id": 38032, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T18:21:15Z", "scrap_date": "2024-04-30T23:56:32.592254", "content": "I dont have a solution but I have been trying to figure this out for a couple days Can someone PLEASE post example YML from 2 services with 1 apiGatewayId I have tried using an Output Value and an Export from the main stack resources and then using that variable in the second stacks provide But it always creates 2 separate ApiGateways I cant seem to find an example of this solution anywhere "},
{"id": 38033, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T20:55:44Z", "scrap_date": "2024-04-30T23:56:32.593253", "content": "Im a newbie too but I can think of 2 ways of doing this The first way is to use a custom domain and url rewriting through baseUrl for each service Basically each service will have its own CloudFront but theyll all be available though a common custom domain Learn how to use the same domain name for multiple Serverless services with API Gateway base path mappings For instance using this model I can have The 2nd way would be to only use 1 service but split your code in subdirectories I havent tested the 2nd solution but read about it online a few times Id rather go with the 1st solution or I guess the serverless yml will grow quite a lot if it contains all endpoints of all services "},
{"id": 38034, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T21:10:15Z", "scrap_date": "2024-04-30T23:56:32.595255", "content": "Im starting to implement a variation of that first solution now I am deploying all of my services to separate API gateways I have a cloudfront CDN in front of them with each APIG mapped to a behavior So httpsmydomain comapiassets cloudfront behavior that routes that traffic to the api gateway for the assets service "},
{"id": 38035, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T08:04:48Z", "scrap_date": "2024-04-30T23:56:32.595255", "content": "Im a newbie too but I can think of 2 ways of doing this I think both are brilliant solutions but there should be a way of doing this using the restApiId restApiRootResourceId and in general the apiGateway configuration section "},
{"id": 38036, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T09:52:29Z", "scrap_date": "2024-04-30T23:56:32.596255", "content": "I have updated the docs to explain this You can find it here httpsgithub comserverlessserverlessblobmasterdocsprovidersawseventsapigateway mdshareapigatewayandapiresources"},
{"id": 38037, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-08T14:21:20Z", "scrap_date": "2024-04-30T23:56:32.597255", "content": "Hey great documentation I ve also deploy many microservices under same API GATEWAY But i find some one big issue on this approach There is the chance that 2 services use the same parent resource resource so in order to solve this I ve created a seperate serverless yml that builds all resource in ApiGateway and output the values in the stack value But thinks getting harder in examples like you have urls companies companyId stories companies companyId campaigns Now you need a value in the stack for both companies and companies companyId resource While api is getting bigger you either have more resources to create and output or you should find other ways to format your urls What would you suggest"},
{"id": 38038, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-21T19:49:36Z", "scrap_date": "2024-04-30T23:56:32.598255", "content": "Hi I copied the code in this link httpsgithub comserverlessserverlessblobmasterdocsprovidersawseventsapigateway mdshareapigatewayandapiresources but i get different endpoints and restApiIds Can anyone check what i could have done wrong here are my 2 services service notesappmononotes plugins custom stage optstage selfprovider stage webpack webpackConfig webpack config js includeModules true provider name aws runtime nodejs8 10 stage dev region useast1 environment tableName file databaseserverless yml custom tableName iamRoleStatements Effect Allow Action dynamodbDescribeTable dynamodbQuery dynamodbScan dynamodbGetItem dynamodbPutItem dynamodbUpdateItem dynamodbDeleteItem Resource FnImportValue selfcustom stage NotesTableArn functions get Defines an HTTP API endpoint that calls the main function in get js path url path is notes id method GET request handler get main events http path notes id method get cors true authorizer aws_iam resources Resources MyApiGW Type AWSApiGatewayRestApi Properties Name MyApiGW Outputs apiGatewayRestApiId Value Ref MyApiGW Export Name MyApiGatewayrestApiId service notesappmonobilling plugins custom stage optstage selfprovider stage webpack webpackConfig webpack config js includeModules true environment file env yml selfcustom stage file env yml default provider name aws runtime nodejs8 10 stage dev region useast1 apiGateway restApiId FnImportValue MyApiGatewayrestApiId restApiRootResourceId FnImportValue MyApiGatewayrootResourceId environment stripeSecretKey selfcustom environment stripeSecretKey functions billing handler billing main events http path billing method post cors true authorizer aws_iam I noticed in cloudfront that my notes service has different service endpoint and apiGatewayRestApiId Is this supposed to happen Service endpoint httpsexttceymxb executeapi useast1 amazonaws comdev apiGatewayRestApiId e10zsltayj Thank you"},
{"id": 38039, "question_id": 3803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-18T21:55:25Z", "scrap_date": "2024-04-30T23:56:32.602256", "content": "Hey Dionisis I am exactly trying to get a configuration like the one youre mentioning but failing to get these paths to deploy Having something like companies companyId companies companyId stories companies companyId campaigns Do you have a working example that could get me started with Im failing to get the functions for stories and campaigns to work "},
{"id": 165712, "question_id": 16571, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-20T11:10:42Z", "scrap_date": "2024-04-30T23:56:33.417888", "content": "Solution was just to add an IAM role statement to the yaml"},
{"id": 165872, "question_id": 16587, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-25T16:01:46Z", "scrap_date": "2024-04-30T23:56:34.468511", "content": "Based on the documentation it looks like you are invoking the lambda correctly It is how I do it as well When setting the FunctionName parameter make sure it matches exactly to the name of the lambda as deployed in AWS not as named in the serverless template In this case I would look closer at the logs for the calling lambda to be sure it is failing where you think it is failing The 500 HTTP response just indicates the lambda failed It could be on any part of the code So review the lambda logs for detail on where it might be failing "},
{"id": 166012, "question_id": 16601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-25T13:28:13Z", "scrap_date": "2024-04-30T23:56:35.186045", "content": "Could you share the serverless yml you package json and the exact error message"},
{"id": 166013, "question_id": 16601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-25T14:29:23Z", "scrap_date": "2024-04-30T23:56:35.187045", "content": "I managed to solve The problem was in the git integration that was missing "},
{"id": 166014, "question_id": 16601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-25T17:08:17Z", "scrap_date": "2024-04-30T23:56:35.187045", "content": ""},
{"id": 110962, "question_id": 11096, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-26T14:50:46Z", "scrap_date": "2024-04-30T23:56:36.300813", "content": "davidsauvage Did you have any luck with this I am facing a similar issue"},
{"id": 166202, "question_id": 16620, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-28T17:34:14Z", "scrap_date": "2024-04-30T23:56:36.856954", "content": "Might have sorted out when this is working Seems to work if one sets the memory value to i e 4096 in AWS console Future sls deploy executions will work But setting this value through the serverless yml configuration is showing the error above "},
{"id": 163772, "question_id": 16377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-08T14:56:53Z", "scrap_date": "2024-04-30T23:56:37.710950", "content": "tried redeploying in another region updated node version deleted teh stack completely and deploying a fresh one still no help Where can I find the exact internal errorfailure that is causing cloudformation step to fail"},
{"id": 163773, "question_id": 16377, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-01-29T04:41:46Z", "scrap_date": "2024-04-30T23:56:37.711950", "content": "I dont know if you have already solved this but today I had the same issue when mistakenly using inputs an types interchangeably In your case I can notice OrderInput and BookInput are types and not inputs Also remember not to have an input be the field of a type or viceversa That was my mistake and it was not noticed by the compiler although I use amplify instead of serverless for this "},
{"id": 86372, "question_id": 8637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-17T04:16:21Z", "scrap_date": "2024-04-30T23:56:38.456400", "content": "Im also facing the same issue Any way to fix it"},
{"id": 86373, "question_id": 8637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-17T04:19:22Z", "scrap_date": "2024-04-30T23:56:38.456400", "content": "It seems this is the issue with the Safari browser You can run following command to open login in Chrome This works for me "},
{"id": 86374, "question_id": 8637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-19T19:40:40Z", "scrap_date": "2024-04-30T23:56:38.457400", "content": "It seems like the issue is still happening to me even after setting the default browser to Chrome Any other fixes"},
{"id": 86375, "question_id": 8637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-31T07:04:56Z", "scrap_date": "2024-04-30T23:56:38.458400", "content": "Try npx serverless login or npx sls login rather than sls login or serverless login"},
{"id": 166262, "question_id": 16626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-01T01:51:45Z", "scrap_date": "2024-04-30T23:56:39.308657", "content": "Good to know that I am not alone with this issue In my case it only happens in Github Actions Locally it just works The error is totally random so I have to keep retrying my job until it works "},
{"id": 166263, "question_id": 16626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-01T16:02:43Z", "scrap_date": "2024-04-30T23:56:39.309657", "content": "Hello rodrigogs could you share the details about the node version your OS where this error happens"},
{"id": 166264, "question_id": 16626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-01T17:58:05Z", "scrap_date": "2024-04-30T23:56:39.310657", "content": "I think I can do better This is the repository where the deploy job fails with this error from time to time GitHub rodrigogsjuquinha If you fork it and run github actions you should eventually see the error Retrying a few times usually solve it "},
{"id": 166265, "question_id": 16626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-01T22:26:43Z", "scrap_date": "2024-04-30T23:56:39.311657", "content": "rodrigogs when you say youre also getting this error does that mean you are getting the same error message i e TypeError validate is not a function at ConfigSchemaHandler validateConfig"},
{"id": 166266, "question_id": 16626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-01T22:53:44Z", "scrap_date": "2024-04-30T23:56:39.312310", "content": "asker yes but it only happens in the ci Probably because it always has to install it from scratch sometimes it works sometimes not One thing that might be influencing it is that Im using pnpm to manage my npm packages "},
{"id": 166267, "question_id": 16626, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-02-03T09:45:29Z", "scrap_date": "2024-04-30T23:56:39.313301", "content": "asker please try with v3 1 1 It wont fix the issue but will print better debug logs Having that please open an issue at httpsgithub comserverlessserverlessissuesnewassigneeslabelstemplatebugreport yml providing all the printed output"},
{"id": 154732, "question_id": 15473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-07T18:07:09Z", "scrap_date": "2024-04-30T23:56:40.349355", "content": " josecarlosanpedro I am facing the same issue any leads would really help"},
{"id": 98412, "question_id": 9841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-13T15:28:22Z", "scrap_date": "2024-04-30T23:56:41.521592", "content": "In the stack that creates the resources export the namearn values you need in your other stack s Then in the serverless yml of the stacks that need the values import via cf or FnImport the properties you need arn to grant iamRolePermissions name to access it Hope it helps "},
{"id": 98413, "question_id": 9841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-22T01:23:14Z", "scrap_date": "2024-04-30T23:56:41.523592", "content": "I would highly recommend you take an infrastructure as code approach Im personally using AWS CDK Take a look at this great tutorial for an example of how you could do it Getting Production Ready Serverless Stack"},
{"id": 98414, "question_id": 9841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-08T13:40:06Z", "scrap_date": "2024-04-30T23:56:41.524592", "content": "Hey everyone we are exploring solutions for these exact scenarios deploying resources e g database SQS S3 separately from the serverless serviceAPI and easily integrate the ARNsIDs of those resources Were looking for users to give feedback on that feature and possibly beta test it If you are interested post a reply here or send me an email matthieu napoli com"},
{"id": 159262, "question_id": 15926, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-16T07:18:18Z", "scrap_date": "2024-04-30T23:56:43.457143", "content": "Im new here and I always read the docs so same problem Im surprised that this issues is not yet sorted Worrisome "},
{"id": 159263, "question_id": 15926, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-16T15:53:58Z", "scrap_date": "2024-04-30T23:56:43.458144", "content": "Indeed It triggers a tremendous lack of confidence for me in the project "},
{"id": 161782, "question_id": 16178, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-11-03T11:31:52Z", "scrap_date": "2024-04-30T23:56:44.222940", "content": "Hello its been supported almost from day 1 of the release of support on AWS The first version that includes support is 2 56 0"},
{"id": 164232, "question_id": 16423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-22T09:49:13Z", "scrap_date": "2024-04-30T23:56:45.166040", "content": "same here seems the region does not support http api"},
{"id": 93233, "question_id": 9323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-31T11:05:38Z", "scrap_date": "2024-04-30T23:56:45.894090", "content": "did you find the solution to this problem"},
{"id": 93234, "question_id": 9323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-28T00:47:49Z", "scrap_date": "2024-04-30T23:56:45.895090", "content": "Im having the same issue and Im also using the serverlesswebpack plugin serverless yml resourcesconsumers yml handlersdomainconsumersmylambda ts"},
{"id": 97142, "question_id": 9714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-08T02:11:59Z", "scrap_date": "2024-04-30T23:56:46.616951", "content": "Hi again For anyone who stumbles across this post according to AWS Support as of November 2019 Unfortunately at the moment of writing the API call to subscribe managed WAF rule group is not yet supported in CloudFormation and is only available with AWS CLISDK and console TLDR Its not possible to create Web ACLs configured with marketplace rule groups via CloudFormationServerless templates Forlornly James"},
{"id": 97143, "question_id": 9714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-14T18:59:29Z", "scrap_date": "2024-04-30T23:56:46.619035", "content": "Hey James check this out WAFv2 This was apparently released very recently just a few weeks after your post "},
{"id": 97144, "question_id": 9714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-28T02:39:22Z", "scrap_date": "2024-04-30T23:56:46.619035", "content": "ndormont I looked at the link shared Where does it say how can the marketplace rules be configured through serverless framework or cloudformation"},
{"id": 129052, "question_id": 12905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-28T11:27:59Z", "scrap_date": "2024-04-30T23:56:47.618496", "content": "Hi Did you find any solution to this problem"},
{"id": 163902, "question_id": 16390, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-01-05T09:43:25Z", "scrap_date": "2024-04-30T23:56:48.592052", "content": "jonyeezs Unfortunately file variable paths in the Framework are always even in imported files resolved in relation to the service directory So in case of A service directory is servicesA so file serverless yml as listed in resources serverless yml will reach for servicesAserverless yml and not serverless yml as you probably anticipate Its a known issue see Variables file source paths resolved always against service path Issue 6039 serverlessserverless GitHub we plan to address it at some point but currently ETA is unknown itll always help to 1 on that In your case the best way to mitigate that would be to place all service configuration at same level som for B at servicesB and for C at servicesC"},
{"id": 33972, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-29T01:17:57Z", "scrap_date": "2024-04-30T23:56:49.675883", "content": "Seems the resource I am looking for is AWSApiGatewayRestApi httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayrestapi html So it should be Let me test it "},
{"id": 33973, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-12-29T06:50:45Z", "scrap_date": "2024-04-30T23:56:49.676883", "content": "bill a little late but checkout How to I get my API Gateway URL with the Serverless Framework where I write about using Ref ApiGatewayRestApi to set an environment variable to the API GW URL "},
{"id": 33974, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-29T11:03:51Z", "scrap_date": "2024-04-30T23:56:49.677884", "content": "Thanks buggy That will be easier use Ref ApiGatewayRestApi directly "},
{"id": 33975, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2019-07-11T17:05:34Z", "scrap_date": "2024-04-30T23:56:49.677884", "content": "For anyone else who finds this note theres some confusion here about API gateway resources The RestApiId is the id of the API resource itself which is returned by a Ref of the implied ApiGatewayRestApi resource that Serverless creates under the hood The RootResourceId is the id of the REST resource not to be confused with a CloudFormation resource at the root of the APIs path i e If you are hanging methods or subresources off of root youll need to provide this as the parent resource id It is available as an attribute of the API resource So for example to define a resource at the path mythings which needs both the api id and the root resource id your CF template would look like Hope this helps clarify "},
{"id": 33976, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-20T19:14:32Z", "scrap_date": "2024-04-30T23:56:49.679883", "content": "Thanks for sharing this It was really helpful "},
{"id": 33977, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-16T19:55:32Z", "scrap_date": "2024-04-30T23:56:49.679883", "content": "Thanks realy what I was looking for "},
{"id": 33978, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-11T09:48:29Z", "scrap_date": "2024-04-30T23:56:49.680884", "content": "I have in my template something like this which worked okay up to now and outoftheblue Ive started to get In the end I was able to pin point the source of the issue to upgrade of serverlesspluginsplitstacks from 1 9 3 to 1 10 0 version Downgrading fixed the problem "},
{"id": 33979, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-01T06:46:14Z", "scrap_date": "2024-04-30T23:56:49.681884", "content": "so where does this go I am trying to attach ApiGatewayRestApi in a policy Resource Please help"},
{"id": 339710, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-24T17:21:57Z", "scrap_date": "2024-04-30T23:56:49.681884", "content": "You can use the CloudFormation builtin Sub to substitute it into a string Will resolve to something like"},
{"id": 339711, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-25T00:17:17Z", "scrap_date": "2024-04-30T23:56:49.682884", "content": "you can use Use AWSAccountId and other cloudformation pseudo parameters in your serverless yml values and call the value like AWSRestApiId "},
{"id": 339712, "question_id": 3397, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-07T10:22:24Z", "scrap_date": "2024-04-30T23:56:49.682884", "content": "Nice thanks for sharing the information it really helps student like but beginner like me it is little hard to understand fast can anyone suggest a good AWS classes in Pune "},
{"id": 165012, "question_id": 16501, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-07T21:37:05Z", "scrap_date": "2024-04-30T23:56:50.681069", "content": "Figured out the issue after more digging and it seems like a bug with Serverless Basically when serverless attempted to attach the layer created by the plugin to the function it failed because it was exceeding the max size of 250MB This failure was silent in the deployment process though and I only figured it out after seeing the function had no assigned layer and attempting to manually assign the layer resulted in the above error "},
{"id": 122122, "question_id": 12212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-18T14:47:56Z", "scrap_date": "2024-04-30T23:56:51.129966", "content": "For anyone who might care about this issue it selfresolved somehow the following day Today it is again occurring I am not sure why I think that my only choice at this point is to sls remove and redeploy I would still love someone to provide some insight into this issue Thanks "},
{"id": 122123, "question_id": 12212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-08T00:58:01Z", "scrap_date": "2024-04-30T23:56:51.131967", "content": "Had a similar issue where one of my lambda functions had an SQS trigger initially deployed through sls deploy Recently i had to change the batchSize of the SQS trigger for which i coulndt find an edit option This time i manually deleted the existing SQS trigger and created a new one with the desired batchSize wouldnt have gotten into this issue if i had gone through the proper route of sls deploy Turns out the initial resource that got created in the cloudformation stack for the SQS trigger did not get deleted and was still holding the physical UUID of the old SQS trigger that i had deleted manually So now when i tried to deploy again it started throwing this resource does not exist error This is due to the fact that the UUID of the new SQS trigger does not match with the physical UUID present in the resource mapping of cloudfromation stack In order to fix this And after that when i did the sls deploy the resource got autocreated in the cloudformation stack and it started working httpsaws amazon compremiumsupportknowledgecenterfailingstackupdatesdeleted"},
{"id": 57122, "question_id": 5712, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-09T12:21:47Z", "scrap_date": "2024-04-30T23:56:52.164861", "content": "If youre not using Amplify for your front end then NO If you are using Amplify for your front end and youre currently using ServerlessSAM for your backend then I would continue doing that but keep an eye on Amplify CLI If youre starting a new project and you understand AWS serverless plus the Serverless FrameworkSAM then I would probably continue using ServerlessSAM Again keep an eye on Amplify CLI If youre a front end developer starting a new project from scratch who wants to use AWS serverless and Amplify but doesnt understand much about the backend services then use Amplify CLI "},
{"id": 57123, "question_id": 5712, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-20T17:47:30Z", "scrap_date": "2024-04-30T23:56:52.165862", "content": "Whats the difference between Amplify and SLS in terms of functionalities It sounds like that SLS focuses on building backend services while Amplify covers both frontend and backend"},
{"id": 57124, "question_id": 5712, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-01T20:43:48Z", "scrap_date": "2024-04-30T23:56:52.166862", "content": "Im currently at the same fork in the road Amplify is impressive in itself and an AWS solution but once checking out this plugin httpsgithub comsid88inserverlessappsyncplugin I dont see why i would limit myself using amplify instead of serverless Perhaps im missing something"},
{"id": 57125, "question_id": 5712, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2019-02-24T17:53:12Z", "scrap_date": "2024-04-30T23:56:52.166862", "content": "tbh at this point I think SLS has made better architecture and design decisions than Amplify Amplify does a little bit too much and looks like was not designed with a clear clean real world infra and architecturedesign in mind Im sure it will get better over time as been the pattern with all other AWS services and products My problem 1 with Amplify is that if you decide to use it for both Backend and Frontend it will magically create your BE and ties it to your FE which is awesome but totally impractical in realworld usecases in most of my projects I have multiple clients consuming the same BackEnd sometimes even 3rd party clients and a lot of them are not currently supported by Amplify like Flutter for instance making it unnecessarily difficult and complicated to use the BE elsewhere Its usable you just need to find what has the magic done and discover BE resources which brings me to problem 2 Problem 2 is even worse in terms of good practices in architecture and design Im an SA which makes me hesitant about some of the opinions of Amplify especially if used for both BE and FE and thats the separation of concerns while this may be helpful arguably for beginners or really small apps that exist only in one platform ie mobile and has simple1to1 BEFE relations it can turn into a nightmare if used in enterprise or even small apps that do just a little bit more than a simple game on appstore I have many concerns there but in general I really do not like to mix the BackEnd and FrontEnd code the way its done in Amplify I see no good coming out of that although you can see the separation in different config files that does not help 3 Added complexity which is the weirdest part as it looks like Amplify is trying to sacrifice everything else to make it simple for ideas to turn into apps think of FireBase but it does it in a very very very opinionated and complex way if you want to do anything else than the way it was designed for you may actually need to learn a lot more about its opinions which makes it more complex than standard ways of doing things These are all just my humble opinion and may very well be wrong or changed but atm if I was to improve Amplify I would completely separate the two sections while keeping the automated process to create and connect them but using distinct separate commands and would provide supportdocumentation to plug the created BE to other frameworks and would treat Amplify owns FE just like one of those not differently I would also use best practices and cleaner structural design to store everything that should not be checked into a repository in one directory and not scattered in different config folders I would also try to design a better simpler infra as a code solution not multiple CFs I would also try to avoid doing more than what needs to be done by Amplify so for instance to setup the local profile for AWS accounts they could just direct the user to AWS CLI where they can learn to set up their local profiles or AWS could create a separate tool that does just that I feel thats a little bit too much to do all that and create AMIs opening webpages and stuff that makes it difficult to categorize this tool in my toolset is it a CDCI tool is it a development Framework is it an IDE plugin is it a magic wand But again Im almost sure it will become much much better over time but until then while keeping an eye on it Im not going to use it for more than a ready to use usermanagement UI template for Cognito and will continue using lovely SLS for everything else "},
{"id": 57126, "question_id": 5712, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-08T21:09:20Z", "scrap_date": "2024-04-30T23:56:52.171863", "content": "Hello friends Im new to the Serverless Framework with some working experience on AWS Amplify A lot of progress has been happening on both sides since Feb 2019 Before investing more curious how the two compare now a few years after the original question was asked Does someone here know of some resources that do a good job at detailing this perhaps even with examples"},
{"id": 142982, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-08T18:44:24Z", "scrap_date": "2024-04-30T23:56:53.297157", "content": "This has the same result as the OP in version 2 28 7 If this behavior is not allowed then it completely breaks the pattern for having shared configurations This behavior began with 2 26 0 `"},
{"id": 142983, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-08T19:51:37Z", "scrap_date": "2024-04-30T23:56:53.298157", "content": "Im glad others have reposted this because I also retested last week on 2 28 6 after my original post was closed hopeful that it was fixed Alas it wasnt so I was puzzled why my post was closed without waiting for confirmation that it has indeed been fixed Hopefully it was a misunderstanding and the issue will be resolved soon it should be pretty easy to recreate "},
{"id": 142984, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-15T17:36:33Z", "scrap_date": "2024-04-30T23:56:53.299157", "content": "I hope the issue will be resolved Im still seeing it in version 2 29 0 This functionality is pretty important to us "},
{"id": 142985, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-16T13:10:24Z", "scrap_date": "2024-04-30T23:56:53.300158", "content": "Is it just a warning The shared configs look like to be loaded correctly "},
{"id": 142986, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-16T13:27:09Z", "scrap_date": "2024-04-30T23:56:53.300158", "content": "It does for now but the warning says the next major version will treat it as an error "},
{"id": 142987, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-17T08:21:18Z", "scrap_date": "2024-04-30T23:56:53.301158", "content": "Hi same problem there this is very confusing and if you look at the documentation about variables this is the example that is given How to use Serverless Variables to insert dynamic configuration info into your serverless yml"},
{"id": 142988, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-03-17T14:30:16Z", "scrap_date": "2024-04-30T23:56:53.302158", "content": "Hi this will be a massive pain if you cant use shared configs We use a shared API Gateway VPC custom stage data that we share with 10 services We would have to duplicate these values in each service which would be a nightmare I hope they are planning on providing an alternative method for managing config data like this "},
{"id": 142989, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-17T19:29:20Z", "scrap_date": "2024-04-30T23:56:53.303159", "content": "Still an issue in 2 30 3"},
{"id": 1429810, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-23T03:26:03Z", "scrap_date": "2024-04-30T23:56:53.303159", "content": "Just ran into this as well Per their deprecations this will not be supported moving forward httpswww serverless comframeworkdocsdeprecationsserverlessconstructorconfigconfigurationpathrequirement"},
{"id": 1429811, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-03-23T03:44:50Z", "scrap_date": "2024-04-30T23:56:53.304159", "content": "I am hoping this is an unintentional deprecation message as quite a common use case to import a file from outside the parent hierarchy It would be really appreciated if someone from Serverless themselves could investigate and respond as my previous forum post looked like it was closed in error but we havent heard anything in this thread "},
{"id": 1429812, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-25T19:00:48Z", "scrap_date": "2024-04-30T23:56:53.304159", "content": "Its a real worry for me too I lean towards micro services and a level of shared config is very important "},
{"id": 1429813, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-29T11:58:20Z", "scrap_date": "2024-04-30T23:56:53.305159", "content": "All my projects since I started using serverless have this configuration It just makes sense to use shared config when youre dealing with micro services They are screwing a lot of people if the deprecation pushes through "},
{"id": 1429814, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-31T00:50:24Z", "scrap_date": "2024-04-30T23:56:53.306159", "content": "garethmcc Id appreciate if you could take a look at this thread and possibly provide some clarity for us as you closed the original forum post regarding this believing it was fixed but were still seeing this deprecation warning So I wanted to understand more about whether this deprecation warning is intentional or perhaps some over zealous logic flagging something that there is no intention to remove in 3 0 and in that case we do not need to be alarmed Thanks in advance "},
{"id": 1429815, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-02T08:52:29Z", "scrap_date": "2024-04-30T23:56:53.307159", "content": "Heres the github issue Multiservice repository support aka Lerna I think we can relax a bit for now "},
{"id": 1429816, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T00:54:39Z", "scrap_date": "2024-04-30T23:56:53.308159", "content": "The existing decision that they seem to still be going with is to put it gently very bad This breaks the model of a monorepo with shared configs and would stop large project migration to framework 3 without horrifyingly complex workarounds What is the appropriate level of stink to raise to get this decision backed off on or changed in detail As it stands this just makes my world worse with no benefit "},
{"id": 1429818, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-06-02T08:27:51Z", "scrap_date": "2024-04-30T23:56:53.309160", "content": "One thing to bear in mind with any changes like this is that everything we do or propose to do is to help make serverless development as a whole better safer more secure easier or any number of other possible reasons We never make changes on a whim and sometimes the only way to get feedback from the community is to propose a change via deprecation notices We have tried surveys questionnaires interviews and a ton of other methods to try and get feedback from the community about where the framework should go to make decisions but none work better than putting something out there and getting actual feedback"},
{"id": 1429819, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T09:55:10Z", "scrap_date": "2024-04-30T23:56:53.310160", "content": "I havent tested this yet but I believe the workaround is to set the project directory property projectDir property"},
{"id": 1429820, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-05T09:14:53Z", "scrap_date": "2024-04-30T23:56:53.310160", "content": "Restriction to not allow to by default reach outside of service folder was made mainly for security reasons to avoid errors and ensure best practices In a normal service scenario you rather do not want to include files outside of service or repository as it makes the project not portable cloning service on a different machine wont clone parent folders While in the case of multiservice repositories we advise to simply mark project boundary with projectDir through which boundary can be relaxed to one of the parent folders If you still feel theres some problem with that solution please let us know best if at Multiservice repository support aka Lerna Issue 9095 serverlessserverless GitHub as its where we group all changes that are planned to be made to ensure solid multirepository support"},
{"id": 1429821, "question_id": 14298, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2022-01-10T12:53:51Z", "scrap_date": "2024-04-30T23:56:53.312160", "content": "Hey everyone after discussing internally heres an update the original deprecation Cannot load file from outside of service folder is being removed from Serverless Framework v2 Including from parent directories file will work in v2 and v3 by default The projectDir option will no longer be required the projectDir option will actually be ignored "},
{"id": 160892, "question_id": 16089, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-26T12:18:11Z", "scrap_date": "2024-04-30T23:56:54.333458", "content": "I suppose not then "},
{"id": 160893, "question_id": 16089, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-27T07:25:15Z", "scrap_date": "2024-04-30T23:56:54.334458", "content": "The same email actually mentions that using frameworks like Serverless Framework means you do not need to worry They hide it very well in the middle of the wall of text but its there "},
{"id": 160894, "question_id": 16089, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-27T16:43:48Z", "scrap_date": "2024-04-30T23:56:54.335458", "content": "So when did Serverless add support What version do I need to tell my team to be on "},
{"id": 160895, "question_id": 16089, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-10-28T08:17:13Z", "scrap_date": "2024-04-30T23:56:54.335458", "content": "I have the same question the email does state If you are using these tools and are already on the latest Software Development Kit SDK you do not need to take any action and can stop reading now If you are using an earlier SDK version please update to the latest one I am still on serverless version 1 8 and am unsure if this will actually continue to work "},
{"id": 160896, "question_id": 16089, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-10-29T09:07:51Z", "scrap_date": "2024-04-30T23:56:54.336458", "content": "Serverless never needed to add support Because we use CloudFormation to make the deployments into AWS support exists automatically You are only really affected by the states issue if using the SDK to deploy functions which the framework does not do "},
{"id": 146622, "question_id": 14662, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-08T21:37:35Z", "scrap_date": "2024-04-30T23:56:55.440956", "content": "I havent used awsvault but I guess you should rely on this A vault for securely storing and accessing AWS credentials in development environments Using the equivalent on awsvault to named profiles and login previously will allow you to use the option awsprofile profileName when you execute any command with SLS CLI "},
{"id": 146623, "question_id": 14662, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-01-13T12:30:39Z", "scrap_date": "2024-04-30T23:56:55.441956", "content": "You need to use awsvault to write the temporary credentials to a temporary file AWS_SHARED_CREDENTIALS_FILE and then set AWS_SDK_LOAD_CONFIG1 so it ends up looking a little like AWS_SHARED_CREDENTIALS_FILE pwd credentials AWS_SDK_LOAD_CONFIG1 serverless deploy stage staging awsprofile profilename"},
{"id": 50092, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T05:26:20Z", "scrap_date": "2024-04-30T23:56:56.208979", "content": "The current best practice is one account per service per stage This is designed to limit the blast radius when something goes wrong Im the first to admit that I dont normally follow that advice for smaller projects If Im only working with a couple of services then Im more likely to use one account per stage with all services in that stage deployed to the same account This limits the blast radius but there are still times especially during deployment when things can go very wrong AWS goes even further with SAM They recommend one SAM project for each event sources I think what your missing here is automated deployments Developers shouldnt be executing deployment scripts Instead you should look at automating this using your CICD pipeline "},
{"id": 50093, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T08:42:00Z", "scrap_date": "2024-04-30T23:56:56.210980", "content": "Interesting The one account per service per stage makes sense but my main issue with this rule so far is defining whats a service because when building microservices architecture many services are related to each other and deciding whats a service and whats inside a service can be hard Also we all eventually start with a small project which then grows and grows until its not small anymore Anticipating growth can be hazardous I dont use SAM but I heard about it a lot does SLS generates SAM templates on its own Howwhy use SAM when using SLS arent they the same thing Youre totally right about automated deployments I dont currently have any Its not that I dont want to but dont really know what to use third party bitbucket CICD AWS CICD The SLS world is fairly new "},
{"id": 50094, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-09T14:49:39Z", "scrap_date": "2024-04-30T23:56:56.211980", "content": "Both Serverless and SAM transform into CloudFormation for deployment They do a similar thing but very differently You could achieve the same result with Serverless that the AWS SA was recommending for SAM by only having one event source per Serverless project Defining a microservice can be difficult and I dont believe there is a single correct answer But thats why they pay you the big bucks I wouldnt stress too much about getting it 100 right day one Like any code you write your architecture will need to be refactored over time For example Theres nothing wrong with building user notifications into a service but if you discover that multiple services are sending notifications to users then you might want to look at moving that into a notifications service Equally it may be obvious from day one that youre going to have user notifications sent from multiple services so you just build it that way from the beginning It might help to ask questions like For automated deployments I would start with the CICD solution that you already understand If you dont have one then maybe give code pipeline a go"},
{"id": 50095, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-14T13:32:20Z", "scrap_date": "2024-04-30T23:56:56.213981", "content": "So Im not new to Lambda but I am new to SLS Ill be using it for production very soon and Ive had the same considerations and issues For example when using Lambda with SQS triggers youll find there are additional SQS permissions needed which are not necessarily documented in the most obvious places and the whole process becomes somewhat trialanderror see How to grant access to SQS in Serverless yml In any event since these are microservices we are pushing out with SLS and on their own should be simple nonproprietary functions I also maintain the philosophy that each of these nonproprietary functions should be sharable or portable in the sense that I can give it to any 3rd party to use or develop on their own AWS account using what ever liberal or conservative permission scheme they desire So in other words just as I expect a developer to have their own GitHub account I also expect them to have their own AWS account which shouldnt be an issue since there is a free tier available It also means that I dont have to manage other accounts for other environments My SLS project will always include unit tests for the http endpoints and a deployment script which executes these tests the moment sls deploy completes successfully Your situation may be a little different but hopefully this gives you some ideas Regarding the idea of what a microservice is yes that can be tricky but the first thing I consider is is this a function I can share publicly or is it proprietary If its proprietary e g contains specific SQL which I dont want to share with anyone then most likely the servicefunction is not designed properly in the first place and the proprietary part should be moved back to the calling application Thus when these services are stripped of proprietary logic even domain specific functionality and in turn become more generic they naturally end up looking like proper generic microservices "},
{"id": 50096, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-18T18:46:21Z", "scrap_date": "2024-04-30T23:56:56.216982", "content": "Sorry for summoning an old post from the grave but its a great topic with what appears to be great information Our environment has finally grown enough that we keep hitting various AWS limits The latest being the Max Deployed Code size for Lambda So Ive decided to restructure by moving devtestsandbox environments into their own accounts as children of an Org Ive created an Org in our original account so its the Master Ive also created an account as my personal dev environment as a child account My core stack which contains S3 buckets Dynamodb tables Lambda Functions for some core functionality that are exported for use by API stacks etc is deployed fine Following the advice in the main post here I still have my Route53 DNS in the Org Master account Now as I go to deploy my first API stack and create the Custom Domain I wonder Creating a new ACM Cert in each child account isnt too annoying but that still leaves me wondering how I use the Master accounts DNSDomain from the child accounts My longterm goal being to spin up a separate account for each developer multiple accounts for QA an Integration Test account Sandbox account and possibly others "},
{"id": 50097, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-10-04T22:39:35Z", "scrap_date": "2024-04-30T23:56:56.218982", "content": "Honestly I should write a blog post about what we did to our AWS setup But basically we have 2 accounts for every product Production and Staging I tried keeping my route53 config on the main account org root it works as long as you dont have multiple sub domains like a b c com actually it can work either way but since we use staging productname com for instance the staging DNS config must be configured through the root org account and that gets complicated over time its just easier if the Staging AWS account deals with its own DNS setup to be honest Less headaches and more agile avoid waiting on an operation that can only been done by a highclearance operative bfieber bout your question for your ACM Certificate I have the following policy because ran into the same issue All my certificates ask for at least 2 domain names the concerned domain and a wildcard domain For instance my ACM for productname will be productname com productname com This way I can create as many sub domains as I want without generatingconfiguring additional ACM helped me recently with a demo productname com and a v2 productname com for instance Nothing more to do on the ACM side with this policy But if you split your domain names between accounts like production aws account productname com staging aws account staging productname com Then youll need to generate two ACM anyway because they cant be shared across AWS accounts Also I made a rule to allow all my developers to READONLY Route53 settings so that they can fetch DNS configuration of production systems thats usually needed when youre doing CNAME or NS rules from one domain to another One additional advice before you decide to change your setup modify your NS TTL value from 2 days to 5 mins and wait 2 days after changing it before changing the whole thing if thats your plan that way youll save yourself lots of headaches because you wont need to wait 2 days to see if your DNS changes are applied basically reduces the cache time perfect during development Also with this kind of setup youll hit another great AWS limit A IAM user cant belong to more than 10 groups at once yup sucks A trick is to use policies which allows 10 more policies but thats it Doesnt help when you create one group per productstage My IAM user as CTO has reached that limit already and I think Ill have to create a special group just for myself that allows access to multiple AWS accounts and use that group instead of using one group per productstage but thats another issue that youll face later annoying one Hope it helps wanted to summarize it all but hell thats AWS were talking about "},
{"id": 50098, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-18T21:46:12Z", "scrap_date": "2024-04-30T23:56:56.222983", "content": "Hi I am in exactly same situation and looking for answers for the questions you raised Just wanted to know how did you go about this Thanks Niraj"},
{"id": 50099, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-19T15:45:48Z", "scrap_date": "2024-04-30T23:56:56.223983", "content": "I havent Made a few starts but keep getting pulled off for other dev work Hoping I can get the time to focus on it at some point "},
{"id": 500910, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-20T00:39:28Z", "scrap_date": "2024-04-30T23:56:56.223983", "content": "Hi Thank you for detailed reply I have already setup my ACM certificate with wildcard so I have product com and product com for that ACM This ACM is in my root account in AWS Organizations Now how should I use that certificate when creating an API Gateway and custom domain in another production child account I cant get that option through console to select the ACM certificate of root account Thanks Niraj"},
{"id": 500911, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-20T21:53:43Z", "scrap_date": "2024-04-30T23:56:56.224984", "content": "Hi Everyone I was able to do this by creating a sub domain in production account like prod company com and then created NS record in masterroot account pointing to this sub domain in production account In subdomain production account I created an Alias record to point to production custom domain But I had to create another ACM certificate in production account as mentioned earlier by VadorequestSL "},
{"id": 500912, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2019-02-21T18:49:25Z", "scrap_date": "2024-04-30T23:56:56.225983", "content": "Indeed you need to create the ACM certificate in the AWS Account youll use it You cannot create it on another account it wont be usable Must be within the same account you can create a ACM certificate with the same domain names in separated accounts though there is no conflict about that I am not quite sure if you fixed all your issues but I had eventually documented the whole thing internally Here it is hope it helps The AWS configuration to run an app with each stage living in a different AWS Account is a bit tedious to say the least For instance it is not possible for an AWS Account to access another AWS Accounts ACM Certificates This means that each certificate must be created in the proper AWS Account Therefore there is a certificate for each stage Also when configuring additional custom domain like mybudgetadvisor com which acts as the enduser production website for hep thefundingplace org the certificate must contain all domain names like mybudgetadvisor com and hep thefundingplace org otherwise there will be a SSL handshake failure This implies to know the final enduser domain name when creating the production certificate or to have to create another certificate later and replace the certificate used by the Custom Domain once issued The domain should have been bought from the Root AWS Account Since we dont want to deploy anything on thefundingplace org itself but only on subdomains then we dont have to change anything on the apex domain Instead well create a Hosted Zone for each domain you need to create in the appropriate AWS Account staging production etc Then well create a NS Record Set for each of those domains so that the requests going to a domain are handled by this domain This allows each stage to handle its own DNS properly unlike it was done with unly org and staging unly org and therefore allows developers to deal with DNS of the stage they have access to instead of configuring all DNS through the AWS Root Account which is neither developerfriendly nor practical nor a good design but rather a noobie mistake [that ones on me ] Now that we know a bit more about the limitations we have to deal with lets look at the step to setup the whole thing Connect to the AWS Console with your usual AWS Account which has crossaccounts privileges ability to go to other AWS Accounts Switch to the production account of your application for instance [production] TFP in our case cross account Switch to the AWS Root Account you need to leave the crossaccount mode by clicking on Back to YOUR_EMAIL [Only an admin can do that because need write access to the AWS Account Root] Nice Now the DNS settings defined in the [production] TFP AWS Account are applied to demo thefundingplace org and we can now create the ACM certificate Switch to the production account of your application for instance [production] TFP in our case cross account Nice Your production setup is ready lets try to see if we can generate the custom domain by running sls create_domain you must configure the NODE_ENV and stage properly or it wont work GROUP_NAMEdemo NODE_ENVproduction sls create_domain s demo You should get a message like demo thefundingplace org was createdupdated New domains may take up to 40 minutes to be initialized and have to wait a good 30mn for the process to be done You can check its status in API Gateway Custom Domains make sure to select your region like Ireland Now that the custom domain is being created lets setup the staging environment Switch to the staging account of your application for instance [staging] TFP in our case cross account Switch to the production account of your application for instance [production] TFP in our case cross account Nice Now the DNS settings defined in the [staging] TFP AWS Account are applied to staging demo thefundingplace org and we can now create the ACM certificate Switch to the staging account of your application for instance [staging] TFP in our case cross account Nice Your staging setup is ready lets try to see if we can generate the custom domain by running sls create_domain you must configure the NODE_ENV and stage properly or it wont work GROUP_NAMEstaging demo NODE_ENVstaging sls create_domain s demoStaging You should get a message like staging demo thefundingplace org was createdupdated New domains may take up to 40 minutes to be initialized and have to wait a good 30mn for the process to be done You can check its status in API Gateway Custom Domains make sure to select your region like Ireland Finger in the nose right Yeah thats what documentation is for I bet you wish you had to figure all this out by yourselves I did "},
{"id": 500913, "question_id": 5009, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-02-21T23:18:27Z", "scrap_date": "2024-04-30T23:56:56.232985", "content": "Thats really helpful thank you very much It helped me validate what I have done I also like the trick to treat PRODUCTION domain as root account for STAGING account which makes sense as you want both of those account to be identical as much as possible "},
{"id": 29022, "question_id": 2902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T02:30:41Z", "scrap_date": "2024-04-30T23:56:57.185967", "content": "Youll need at least three projects One for each platform with platform specific function handlers and their own serverless yml A third one with platform independent business logic If youre using Node then Id implement this as a private NPM package Youll also need an abstraction layer for storage message queues etc so that your business logic doesnt end up with platform specific code in it Id try to inject this into your business logic from your platform specific handlers "},
{"id": 29023, "question_id": 2902, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-18T13:44:18Z", "scrap_date": "2024-04-30T23:56:57.186967", "content": "Hi buggy thanks for you reply I really like the suggestion of using private npm packages for this As Ive already set up a local npm server this will be the way to go Still I think it would be neat if the Serverless CLI had an option to set a specific yml file This way a user could keep 2 different configurations in the sam project folder and decide for each deployment which one to use "},
{"id": 29024, "question_id": 2902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T00:45:52Z", "scrap_date": "2024-04-30T23:56:57.187967", "content": "FYI Theres a PR in progress to address this as a CLI option "},
{"id": 29025, "question_id": 2902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-26T09:33:05Z", "scrap_date": "2024-04-30T23:56:57.188968", "content": "Can you provide link to this pull request "},
{"id": 29026, "question_id": 2902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-02T14:22:29Z", "scrap_date": "2024-04-30T23:56:57.188968", "content": "I recently had the same question and notice that there some differences how to handle http requests in aws and Google cloud my solution was create a node wrapper to handle that differences Take a look httpsgithub comcloudifyjsrestful"},
{"id": 29027, "question_id": 2902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-15T08:43:32Z", "scrap_date": "2024-04-30T23:56:57.189968", "content": " Q1 Describe the problem use case that needs to be solved Us e case description In scope of a single service we would like to be able to setup cloud components which are deployed to multiple providers Side considerations to keep in mind Modular approach Derive from single `serverless` installation instead switch to model where each construct which is in sope of interest is installed individually and `serverless` just serves as a core CLI that orchestrates deployments and other CLI commands Any and multi region deployments In scope of a single service deploy different components to different regions also consider use case of deploying same component to multiple regions at once Fast development flow Ensure fast integration with a cloud but do not close the door for _offline emulation_ while it is being promoted as an antipattern users should be able to achieve that if they want to Any provider deployments Provide a mean to easily switch given _component_ to be deployed to other provider Programmatical API Allow to construct components programmatically IaC Ensure solid intellisense integration with attached typings Ease of extensibility Currently Framework is easly extendablepatchable through integrated plugins systems this should not change Q2 Propose a solution e g provide configuration example Note This is optional remove this section if you do not wish to propose anything at this point Proposed solution [WIP] _Derives from internal document in which potential solution was discussed by ac360 mnapoli fredericbarthelet medikoo and pgrzesik_ _Shares same goal as [`serverlesslift`] httpsgithub comgetliftlift plugin but with intention to evolve a current implementation of a Serverless Framework CLI into a solution which delivers firstclass multiproviders support so it does not happen via plugin or injected external CLI implementation _ General design and configuration structure New `providers` top level property in which target cloud vendors with eventual extra configuration should be listed e g ```yaml providers aws type aws additional config netlify type netlify additional config googleCloud type googlecloud additional config ``` New `tobenamed` top level property in which cloud components should be listed Current property name candidates `constructs` or `components` let us settle on `components` for now Components could be high level and low level High level component may construct needed low level components internally so they are not mentioned in configuration explicitly or user may configure low level components to be used by high level components ```yaml components Low level component someFunction type function provider aws additional config High level component staticWebsite type staticwebsite provider netlify additional config ``` Each listed provider indicates distinct deployment group For given provider type e g `aws` multiple providers can be configured That way multiple Cloudformation stacks could be configured or CloudFormation deployment could be accompanied with one made directly through AWS SDK Components may rely on outputs coming from other components Such cross dependencies influence the providerscomponents deployment order Atomic deployment depending on provider configuration is made either on provider or component level State management depending on provider configuration is handled either externally e g CloudFormation case or internally direct AWSSDK case Each provider type and component type can be constructed programmatically IaC way Abstract classes ideally should be published as separate paackage e g `serverlesscore` `serverlessbase` or similiar This package should be used as a base when creating specific Providers or Components Each provider and component may expose commands which can be triggered programmatically or via CLI to operate directly and just against given provider or component Provider specific command `sls providercommandname providername [ options]` e g we can deploy just specific provider via `sls providerdeploy netlify` Component specific command `sls componentcommandname componentname [ options]` e g current `sls invoke f functionname` could be represented via `sls componentinvoke functionname` Aside of that Framework will provide global CLI commands as `deploy` `remove` `info` `package` `print` and others TBD which will be processed against all configured providers Community extensionsplugins system Community may introduce their own providercomponent implementations by either 1 extending existing providerscomponents or by 2 creating new ones by extending documented abstractions we will provide Commands processing is backed by evented lifycycle engine through which community may hack into process and update existing behaviors in more general manner Integration with current Framework services CLI will support two service configuration modes exclusively either one we use currently with `provider` top level property setup or one with `providers` but with possibility to integrate existing service configuration into multi providers `providers` service by configuring it as one of the providers ```yaml providers oldService type legacy Current properties of serverless yml aside of some core ones provider name aws runtime nodejs14 x functions fucntionA handler index js ``` Such legacy provider type cannot be accompanied with components New provider component constructs may access deployment outputs of old provider and may pass their outputs to it this will also indicate the order whether legacy deployment is made before new providers after or maybe in parallel Legacy provider will support all old Framework commands they will have to be run against it specifically So e g current `sls invoke options` after integration could be achieved via `sls providerinvoke oldService options` Theoretically multiple legacy providers could be configured but it has to be ensured that our internals allow for multiple `Serverless` instances in same process and success with plugins may vary CLI process integration Handling of a new provider and components constructs will happen with a brand new deployment engine but most of the preliminary steps that happen in a CLI process like CLI input validation service configuration resolution will stay common to old Framework deployements and new multiprovider deployments To integrate new providers component constructs handling we will need to update our processing flow so when it detects Multi Providers configuration it runs Multi Providers engine Pre Multi Providers introduction CLI process flow Processing flow as of v3 with no Multi Providers support yet will be significantly improved from state we have currently in v2 and will lay out as follows _ marks handlers which may terminate further processing _ 1 Local Fallback 1 CLI Triage 1 Essentials 1 Tab completion 1 Graceful FS 1 Uncaught exception 1 CLI input schema no service 1 Version 1 if no service command 1 CLI input schema AWS service 1 CLI input validation 1 else 1 Service configuration 1 if no service 1 CLI input schema AWS service 1 CLI input validation 1 else 1 Service configuration body 1 Core configuration properties 1 Dotenv 1 Provider resolution 1 CLI input schema service or AWS service 1 Variables meta 1 Variable parse errors 1 Variables resolution unfulfilled opt 1 Variable resolution errors 1 Plugins initialization 1 CLI input schema service or AWS service extensions 1 CLI input validation 1 Variables resolution 1 Variable resolution errors 1 Help 1 if service 1 Service command run through lifecycle engine 1 else 1 Nonservice command CLI process flow with Multi Providers handling Integration of Multi Provider services will mostly fall down to using Multi Providers engine instead of old Framework engine when Multi Providers service is detected _Cursive_ indicates processing specific to old Framework provider service Bold indicates processing specific to new Multi Providers service 1 Local Fallback 1 CLI Triage 1 Essentials 1 Tab completion 1 Graceful FS 1 Uncaught exception 1 CLI input schema no service 1 Version 1 if no service command 1 CLI input schema AWS service 1 CLI input validation 1 else 1 Service configuration 1 if no service 1 CLI input schema AWS service 1 CLI input validation 1 else 1 Service configuration body 1 Core configuration properties 1 Dotenv 1 Provider s resolution 1 CLI input schema _service or AWS service_ or Multi providers service 1 Dashboard provider credentials resolution 1 Variables meta 1 Variable parse errors 1 Variables resolution unfulfilled opt 1 Variable resolution errors 1 if old provider 1 _Old plugins initialization _ 1 else 1 Multi Providers providers components initialization 1 New plugins initialization 1 CLI input schema _service or AWS service_ or Multi providers service extensions 1 CLI input validation 1 Variables resolution 1 Variable resolution errors 1 Help 1 if service 1 if old provider 1 _Old service command run run through old lifecycle engine _ 1 else 1 Multiproviders command run run through new lifecycle engine 1 else 1 Nonservice command Multi providers processing engine When initialized each provider and component should export Configuration schema A list of commands with corresponding lifecycle events map Lifecycle handlers Command run phase will be just about processing lifecycle engine events in configured order So conceptually very similar to how it works in old engine New implementation will be about creating a cleaner simpler without unrelated attachments version of lifecycle engine we are working with currently Processing engine should not be CLI specific in any way It should expose a natural programmatical API to be used by CLI process It probably should be implemented in scope of this repository _Note That is just general description Before jumping into implementation we should in finer detail specify the engine together with abstractions and first real cases of providers and components_ Implementation Roadmap 1 [x] [v3pre] httpsgithub comserverlessserverlessmilestone83 milestone all steps needed to be done in context of v2 to open the door for v3 release 1 [ ] [v3] httpsgithub comserverlessserverlessmilestone84 release 1 [x] httpsgithub comserverlessserverlessissues1720 Upgrade logging library 1 [ ] httpsgithub comserverlessserverlessissues9290 Improve AWS credentials handling and seclude then from internals 1 [ ] Seclude dashboard provider credentials resolution from internals 1 [ ] Specify in detail Multi Provider abstractions and processing engine 1 [ ] Implement Multi Provider abstractions and processing engine 1 [ ] Integrate Multi Provider engine into CLI"},
{"id": 41412, "question_id": 4141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-03T20:24:53Z", "scrap_date": "2024-04-30T23:56:58.934288", "content": "yes I saw it as well Nice to follow up"},
{"id": 41413, "question_id": 4141, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-04T08:38:24Z", "scrap_date": "2024-04-30T23:56:58.935288", "content": "For the people who are using Lambda It doesnt work Lambda function with the latest stable Serverless The error message is below An error occurred CloudFrontDistribution The function has an invalid runtime for functions that are triggered by a CloudFront event nodejs8 10 Expecting nodejs6 10 Function arnawslambdauseast1966390130392function13 Service AmazonCloudFront Status Code 400 Error Code InvalidLambdaFunctionAssociation Request ID 0d52960337e311e8bcb43d379f0b0c9a "},
{"id": 41414, "question_id": 4141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T16:32:11Z", "scrap_date": "2024-04-30T23:56:58.936288", "content": "Note XRAY is broken if using Node 8 10 and ASYNCAWAITs without callbacks in the handler It looks like the xray sdk instruments the handler with the assumption that the handler will follow the callback pattern required in node 4 and 6 With node 8 `async` functions are available and encouraged in the node 8 on lambda blog post but including the sdk without wrapping the async handler fails Working ```js exports handler async statusCode 200 ``` ``` HTTP1 1 200 OK ``` Broken ```js require awsxraysdk exports handler async statusCode 200 ``` ``` HTTP1 1 502 Bad Gateway message Internal server error ``` Workaround ```js require awsxraysdk exports handler event context callback run then res callback null res catch err callback err async function run return statusCode 200 ``` ``` HTTP1 1 200 OK ``` We just found this out yesterday when troubleshooting why things were failing through the API Gateway "},
{"id": 41415, "question_id": 4141, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-18T14:19:15Z", "scrap_date": "2024-04-30T23:56:58.938288", "content": "I migrated a big project today and the time node8 uses to bunde all package is very very much faster than when using node6 its like 35 times faster from 35mn to 1mn only Performance improvement aint no joke "},
{"id": 41416, "question_id": 4141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-27T18:45:33Z", "scrap_date": "2024-04-30T23:56:58.939289", "content": "nodejs 8 is no longer supported on serverless framework VadorequestSL"},
{"id": 41417, "question_id": 4141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-29T09:18:27Z", "scrap_date": "2024-04-30T23:56:58.939289", "content": "No AWS follows the official Node js deprecation notices Starting November 1 2021 the AWS SDK For JavaScript v2 will no longer support the following end of life EOL Node js runtime versions Node js 0 10 EOL on 20161031 Node js 0 12 EOL on 20161231 Node js 4 x EOL on 20180430 Node js Gotta use v12 or v14 nowadays Even v10 will be removed soon its already deprecated "},
{"id": 108922, "question_id": 10892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-06T20:11:27Z", "scrap_date": "2024-04-30T23:56:59.772759", "content": "Ive run into the same issue Is there a solution"},
{"id": 108923, "question_id": 10892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-24T00:42:44Z", "scrap_date": "2024-04-30T23:56:59.774008", "content": "Ensure you have the latest serverless version I was using an old version I updated to 2 25 2 e g curl o L httpsslss ioinstall bash or npm install g serverless or serverless upgrade However Im getting the issue where when I update a lambda it doesnt attach the Cloudfront trigger to the UPDATED lambda version "},
{"id": 108924, "question_id": 10892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-01T13:21:36Z", "scrap_date": "2024-04-30T23:56:59.775004", "content": "However Im getting the issue where when I update a lambda it doesnt attach the Cloudfront trigger to the UPDATED lambda version I am running into this exact same issue Is this the expected outcome of this or am I misconfiguring the deployment"},
{"id": 108925, "question_id": 10892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-01T12:41:14Z", "scrap_date": "2024-04-30T23:56:59.776005", "content": "I solved this problem via a plugin called silvermine serverlessplugincloudfrontlambdaedge"},
{"id": 163432, "question_id": 16343, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-03T14:30:24Z", "scrap_date": "2024-04-30T23:57:00.762189", "content": "This is embarrassing sls was something else on my Linux box it was not serverless I confirmed by running the command serverless and I got Sorry guys "},
{"id": 8392, "question_id": 839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-03T20:11:16Z", "scrap_date": "2024-04-30T23:57:01.887747", "content": "You could use updated json as suffix without prefix and will cover all updated json files into your subfolders "},
{"id": 8393, "question_id": 839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-29T03:52:05Z", "scrap_date": "2024-04-30T23:57:01.888747", "content": "khinester have you figured this out Im facing the same problem tks"},
{"id": 8394, "question_id": 839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-04T02:53:46Z", "scrap_date": "2024-04-30T23:57:01.888747", "content": "Couple more years have gone by any way of solving this Ive got basically the same issue need to trigger on all original jpg files"},
{"id": 8395, "question_id": 839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-04T03:00:52Z", "scrap_date": "2024-04-30T23:57:01.889748", "content": "This stack overflow post seems to indicate its simply something S3 cant do "},
{"id": 10812, "question_id": 1081, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-07T05:22:24Z", "scrap_date": "2024-04-30T23:57:03.004900", "content": "I havent tried this but if you put a Description section in the serverless yml s resources section it might override it I know that the resources section is merged with the base template as part of a deploy "},
{"id": 10813, "question_id": 1081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-09T03:33:19Z", "scrap_date": "2024-04-30T23:57:03.005900", "content": "FWIW I tried it and it works "},
{"id": 10814, "question_id": 1081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-09T14:50:04Z", "scrap_date": "2024-04-30T23:57:03.006901", "content": "Description That works perfectly thank you "},
{"id": 10816, "question_id": 1081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-13T13:43:34Z", "scrap_date": "2024-04-30T23:57:03.006901", "content": "Just to help out on the actual sample definition this is how I got it to update the description version info Framework Core 1 78 1 standalone Plugin 3 7 0 SDK 2 3 1 Components 2 33 4 Serverless template"},
{"id": 10817, "question_id": 1081, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-12-09T00:49:48Z", "scrap_date": "2024-04-30T23:57:03.007901", "content": "This works and puts a description into the compiled updatestack JSON file but not the createstack JSON file This feels like a bug "},
{"id": 163622, "question_id": 16362, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-09T01:53:10Z", "scrap_date": "2024-04-30T23:57:04.032603", "content": "The symbolic link answer here also works but its basically just duplicating the code everywhere anyway AWS SAM has the ability to test lambda layers locally I wonder if Serverless framework also plans on supporting this"},
{"id": 88662, "question_id": 8866, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-18T17:37:10Z", "scrap_date": "2024-04-30T23:57:04.683711", "content": "Id like to do this too Most of my functions need to set in a VPC so they can talk to RDS but one needs to talk to SES so needs to be outside the VPC Having a whole separate stack for this seems overkill but as theyll need to use SNS to communicate anyway maybe no bad thing "},
{"id": 88663, "question_id": 8866, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-18T23:10:52Z", "scrap_date": "2024-04-30T23:57:04.684712", "content": "I have the same requirements for some of my applications some Lambdas need to be part of the same VPC while others must not be part of any VPC at all What I have being doing so far and has worked well for me is to define the VPC configuration in a custom settings section of my serverless yml file and reference this for all the Lambdas that need to be part of the VPC The Lambdas that do not need to be part of a VPC simply do not reference the configuration Note that this method involves that no VPC configuration is set at the provider level For instance Note that you can create one than one VPC configuration with this method in case you need different Lambdas to be part of different VPCs Hope this helps "},
{"id": 88664, "question_id": 8866, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-02-19T10:03:36Z", "scrap_date": "2024-04-30T23:57:04.686712", "content": "So the steps seem to be after modifying the serverless yml as above and it gets run Using SES from a function outside the VPC just works so this is a good approach just a shame about the boilerplate VPC added to each normal function rather than being able to say vpcnone on the one special one "},
{"id": 88665, "question_id": 8866, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-10T08:08:58Z", "scrap_date": "2024-04-30T23:57:04.687712", "content": "Based from Serverless Framework AWS Lambda Functions we can simply set the vpc value for no vpc functions to null "},
{"id": 109142, "question_id": 10914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-16T13:36:11Z", "scrap_date": "2024-04-30T23:57:05.783683", "content": "Hi were you able to solve this I am stuck with same issue"},
{"id": 109143, "question_id": 10914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-17T20:24:27Z", "scrap_date": "2024-04-30T23:57:05.784723", "content": "No I ended up implementing the Alternative Approach I described above a separate domain for the API which necessitated CORS "},
{"id": 109144, "question_id": 10914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-12T11:09:06Z", "scrap_date": "2024-04-30T23:57:05.784723", "content": "I know it might be a little too late but that can be done with AWS CloudFront You can configure the routing rules there "},
{"id": 163322, "question_id": 16332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-13T18:52:31Z", "scrap_date": "2024-04-30T23:57:06.445269", "content": "Hey I would love to help but I dont know much about that "},
{"id": 154462, "question_id": 15446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-10T21:07:31Z", "scrap_date": "2024-04-30T23:57:07.733127", "content": "Im also running into this issue as well Any workarounds or ways to fix this I was considering looking into increasing some API Gateway related quotas "},
{"id": 154463, "question_id": 15446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-13T19:09:21Z", "scrap_date": "2024-04-30T23:57:07.734127", "content": "we ended up forking the awsdocumentation plugin and making adjusments there We needed the ability to share models across different stacks services and that plugin didnt allow for it "},
{"id": 53772, "question_id": 5377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-02T18:20:20Z", "scrap_date": "2024-04-30T23:57:08.678875", "content": "I couldnt find any good automated solutions for this so I created one Serverless plugin to track versions of deployed services GitHub danepowellserverlessversiontracker Serverless plugin to track versions of deployed services This plugin is super simple all it does is to create a local git tag after you run a deploy using the version of the deployed function as the tag name That way youll always be able to correlate the versions of your local source code and deployed artifacts "},
{"id": 53774, "question_id": 5377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-14T00:58:19Z", "scrap_date": "2024-04-30T23:57:08.680875", "content": "danepowell Thanks Thats pretty interesting Is there a way to show the versions on the serverless dashboard though"},
{"id": 163372, "question_id": 16337, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-13T16:10:11Z", "scrap_date": "2024-04-30T23:57:09.688875", "content": "Hey still no answer for this one "},
{"id": 163373, "question_id": 16337, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-14T12:49:25Z", "scrap_date": "2024-04-30T23:57:09.689875", "content": "Hey still no answer for this one "},
{"id": 156272, "question_id": 15627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-15T11:55:35Z", "scrap_date": "2024-04-30T23:57:10.725284", "content": "didnt solve the issue but did fix the problem Using expressasynchandler now instead to wrap my express functions Works like a charm "},
{"id": 162982, "question_id": 16298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-15T18:44:13Z", "scrap_date": "2024-04-30T23:57:11.483195", "content": "I have having the same issue Did you figure this out I am thinking that I can do the initial deploy via sls deploy then update the settings I need manually within the console If I need to update my function in the future Ill limit the scope of my deployment to just the function code "},
{"id": 159022, "question_id": 15902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-21T02:56:59Z", "scrap_date": "2024-04-30T23:57:12.011739", "content": "This had me stumped for a while Then I realised that it was probably using my global CLI package version Once I updated that with npm update g serverless the warnings went away and I set variablesResolutionMode to 20210326 "},
{"id": 159023, "question_id": 15902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-21T09:53:49Z", "scrap_date": "2024-04-30T23:57:12.013740", "content": "npm update g serverless I still get the error even after updating serverless possibly its other plugins that need updating Serverless Error Approached unrecognized configuration variable sources aws still and it appeared when I started using serverless deploy from my mac The cicd pipleline using drone deploys with no issues and this is using Linux base images variablesResolutionMode 20210326 is needed as it complains of the use of aws otherwise frameworkVersion is now 2 59 0"},
{"id": 159024, "question_id": 15902, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-15T22:00:28Z", "scrap_date": "2024-04-30T23:57:12.014740", "content": "To anyone that is still running into this issue I have been able to fix it by downloading serverless globally and setting my node version to v15 4 0 npm i g serverless Hope this helps someone in the future "},
{"id": 122092, "question_id": 12209, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-07T15:38:28Z", "scrap_date": "2024-04-30T23:57:13.033606", "content": "Sorry here is an additional picture Was just curious if I would just swap out Pillow for the dependencies Id want to use for my Lambda function"},
{"id": 122093, "question_id": 12209, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-16T07:55:40Z", "scrap_date": "2024-04-30T23:57:13.034606", "content": "You dont need any of this You need to write a proper Dockerfile containing the stuff to run your app And you need Docker in your machine Have you seen Container Image Support for AWS Lambda So no with Docker you dont need serverlesspythonrequirements plugin though its fantastic in other scenarios So your Dockerfile should be something like Of course you could use the traditional way as taught include your deps in requirements txt etc Then if your artifact uncompressed got under the 250 Mb that should be fine But those python modules you want to use take a lot of space and you may need to read carefully Serverless Framework Plugins "},
{"id": 131192, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-24T15:16:37Z", "scrap_date": "2024-04-30T23:57:15.175570", "content": "Same here I dont understand this documentation it doesnt work as described and most importantly you cant seem to be able to put other variables there too Also I dont understant why in the provided example in the documentation they use once FnJoin and the other one Ref on its own None of the Cloudformation syntaxes "},
{"id": 131193, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2020-12-09T17:50:37Z", "scrap_date": "2024-04-30T23:57:15.176570", "content": "Hey folks Just wanted to chime in I too eliminated the same plugin dependency and changed my CloudFormation syntax as follows producing the exact same CF template as before Like I said the resulting CF template is identical and the changes are minimal just add CFs Sub intrinsic function and replace with and you should get the same template Hope it helps "},
{"id": 131194, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-14T00:00:35Z", "scrap_date": "2024-04-30T23:57:15.177570", "content": "Just got bitten by this change as well Removed the package assuming the syntax would match only to have my deployments fail There is no mention in the docs or deprecation messages that there is a significant syntax difference This should be documented with a guide for updating templates from the deprecated plugin to the new feature Cheers to Martin for sharing the CF Sub function "},
{"id": 131195, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T07:50:57Z", "scrap_date": "2024-04-30T23:57:15.178571", "content": "For anyone using Typescript for their serverless config serverless ts instead of serverless yml the below should be helpful"},
{"id": 131196, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-15T00:57:39Z", "scrap_date": "2024-04-30T23:57:15.179570", "content": "I think the documentation has beem updated for this httpswww serverless comframeworkdocsprovidersawsguidevariablespseudoparametersreference"},
{"id": 131197, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-18T14:09:23Z", "scrap_date": "2024-04-30T23:57:15.179570", "content": "Thanks Martin for the sub example Latest documentation doesnt show that anywhere at least that I could find "},
{"id": 131198, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-17T20:19:42Z", "scrap_date": "2024-04-30T23:57:15.180571", "content": "I really couldnt give up the plugin that is tagged as deprecated I started to remove its usage in my projects but had to rollback I had to dig in all cloudformation files to check what was wrong very time consuming Also there was no need to prefix with Sub which is more convenient"},
{"id": 1311910, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-24T09:21:09Z", "scrap_date": "2024-04-30T23:57:15.181571", "content": "Thank you Martin This was really helpful We solved our issues on IAM role statements by your example but one more was causing the same error IamRoleLambdaExecution The policy failed legacy parsing It was scheduled event Sub wasnt accepted here so we had to change it to use import value So after applying changes you suggested and fix events arn above we were able to get rid of the pseudo parameters plugin and use the latest SLS version "},
{"id": 1311911, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-25T21:01:46Z", "scrap_date": "2024-04-30T23:57:15.182571", "content": "There several places where cf intrinsic functions are not well supported Some frustrating situation Ive encountered trying to use them also with authorizers"},
{"id": 1311912, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-07-08T12:44:50Z", "scrap_date": "2024-04-30T23:57:15.182571", "content": "The serverles documentation is mentioning that the pseudoparameters are now built in variables without relying on CF and Sub awsregion awsaccountId The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more However I get the following error on deployment Serverless Error Invalid variable reference syntax for variable awsregion You can only reference env vars options files You can check our docs for more info "},
{"id": 1311913, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-19T15:12:32Z", "scrap_date": "2024-04-30T23:57:15.183572", "content": "I have this problem as well using I am using this version of serverless I have validated my local serverless package has the code associated with this PR in it Closes 9005"},
{"id": 1311914, "question_id": 13119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-05T20:17:55Z", "scrap_date": "2024-04-30T23:57:15.184572", "content": "You are using only one You have to change awsaccountId for awsaccountId"},
{"id": 160702, "question_id": 16070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-07T20:51:31Z", "scrap_date": "2024-04-30T23:57:15.776804", "content": "CORS is for Requests made with an Options header If you have only granted s3GetObject access to anyone then that is why you can perform a Get Object request but not a List bucket which Showbox jiofi local html tplinklogin requires the s3ListBucket permission "},
{"id": 136552, "question_id": 13655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-02T21:08:55Z", "scrap_date": "2024-04-30T23:57:16.256819", "content": "Is there a way to post messages directly to a SQS queue from a API GW websocket I have found some hacky ways to do it with the HTTP and REST APIs but I cannot for the life of me figure out how to do it with websocket routes 9Apps Showbox Tutuapp"},
{"id": 136553, "question_id": 13655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-08T14:40:25Z", "scrap_date": "2024-04-30T23:57:16.257819", "content": "Hey mates I have the same problem here Did you guys find any solution Tks"},
{"id": 40572, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-21T06:36:05Z", "scrap_date": "2024-04-30T23:57:17.277585", "content": "Finally I can solve the problem The problem is that I need to give binary data inside Body of s3 putObject function Cheers John"},
{"id": 40573, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-21T13:37:42Z", "scrap_date": "2024-04-30T23:57:17.278584", "content": "You may also want to consider making AWS S3 presigned URLs in a lambda function and then pass those URLs back to the user app Doing it that way can be more secure since the user cant mess with the key and bucket name Also check out AWS Amplify which has built in support for uploading images A declarative JavaScript library for application development using cloud services GitHub awsamplifyamplifyjs A declarative JavaScript library for application development using cloud services "},
{"id": 40574, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-21T23:31:16Z", "scrap_date": "2024-04-30T23:57:17.279584", "content": "Thanks jonsmirl I will check awsamplify Cheers John"},
{"id": 40575, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-24T09:13:04Z", "scrap_date": "2024-04-30T23:57:17.279584", "content": "could you share the detail codes to fix your issue Thanks "},
{"id": 40576, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T00:23:39Z", "scrap_date": "2024-04-30T23:57:17.280584", "content": "Hi bill I tried to send base64 that is turned in client side code of image in JSON rather than actual binary image file and send it to lambda Then the 64 code is turned back to binary data let binary new Buffer[base64] base64 and put it inside s3s putObject function Body binary Thats it Cheers Bill"},
{"id": 40577, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T03:49:23Z", "scrap_date": "2024-04-30T23:57:17.281585", "content": "Still not sure if I fully understand without see the real updates from your original codes but anyway thanks a lot "},
{"id": 40578, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-05T06:09:12Z", "scrap_date": "2024-04-30T23:57:17.281585", "content": "Bill he first passed image in base64 format as which he had shown in figure and that caused the problem later he changed that base64 to binary format and passed finally that solved the problem problem occurred at Body data[base64] solved at Body imageCode"},
{"id": 40579, "question_id": 4057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-09T04:29:40Z", "scrap_date": "2024-04-30T23:57:17.282585", "content": "I am having issues while uploading images Could you please help me on it"},
{"id": 161652, "question_id": 16165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-09T14:22:15Z", "scrap_date": "2024-04-30T23:57:18.157924", "content": "Im worried about this too "},
{"id": 161653, "question_id": 16165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-09T14:26:09Z", "scrap_date": "2024-04-30T23:57:18.158924", "content": "I found this thread AWS Lambda Extending State to All Functions 5 by berimbolo"},
{"id": 162412, "question_id": 16241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-12T15:26:00Z", "scrap_date": "2024-04-30T23:57:19.170974", "content": "I found a fix that worked I had to update my cfn sqs yml to include permissions for S3 buckets to send events to the SQS queue as below As for my cfn s3 yml the correct way to reference the queue was I believe the problem was that AWS checks that the notification will be possible at deployment time rather than letting your service fail at runtime as explained in this Stack Overflow answer A lot of AWS configuration allows you to connect services and they fail at runtime if they dont have permission however S3 notification configuration does check some destinations for access This would mean that since I hadnt configured my SQS queue to allow notifications from the S3 bucket AWS noticed this misconfiguration and stopped the deployment with an error "},
{"id": 162582, "question_id": 16258, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-16T21:12:11Z", "scrap_date": "2024-04-30T23:57:19.789537", "content": "Sadly the region does not support dashboards 2021 11 17 The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 158522, "question_id": 15852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-17T10:23:01Z", "scrap_date": "2024-04-30T23:57:20.347552", "content": "Probably not relevant by now but I encountered the same issue so I might be relevant to others AWS doesnt support multiple overlapping triggers for different lambdas This means that you cannot create a trigger of mypath twice for the same bucket and direct it to two lambdas or mypath and mypathfolder to different lambdas This can be reproduced using the aws console using the properties tab Event notifications Create event notification The solution I used is to make the bucket notify a SNS message which in turn triggers the lambda and doesnt have the same limitation "},
{"id": 140562, "question_id": 14056, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-01T13:12:19Z", "scrap_date": "2024-04-30T23:57:21.042170", "content": "Hi I got the same problem Did you find a solution Thanks"},
{"id": 140563, "question_id": 14056, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-26T17:36:21Z", "scrap_date": "2024-04-30T23:57:21.042170", "content": "Hey Marc any luck with this The schema validators dont reuse the existing validators basically so we need to manually specify them for each api im working on it at the moment just having an issue with outputting the request validator for reuse across stacks Im using httpswww serverless compluginsserverlessreqvalidatorplugin to create a validator for reuse Another thing is it seems there are already default validators in api gw provided however im not sure how to use them in each lambda A validatebody and queryandheaders and both together seems to exist If I get a fix in ill post what I did here and check how CDK handles request validation XD Im very surprised the validator limit isnt mentioned in AWS documentation Probably some feedback there "},
{"id": 140564, "question_id": 14056, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T10:43:28Z", "scrap_date": "2024-04-30T23:57:21.044171", "content": "Hi Brian As AWS Suggested you can have max of three validators but you can have multiple Models Each model can hold the schema To validate the Rest API you can refer to the Model and refer to the existing validator about what to validate "},
{"id": 140565, "question_id": 14056, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-17T20:55:37Z", "scrap_date": "2024-04-30T23:57:21.045171", "content": "Hi do you have an example of the working yml code about this Really appreciate it "},
{"id": 119062, "question_id": 11906, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-23T00:38:15Z", "scrap_date": "2024-04-30T23:57:22.100063", "content": "If anyone is having this issue in addition to declaring the binaryMediaTypes in yml files the lambda response must also contain a header with same contenttype the body in base64 format and isBase64Encoded true e g "},
{"id": 99762, "question_id": 9976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-22T19:34:24Z", "scrap_date": "2024-04-30T23:57:23.182489", "content": "Hi rotex Im starting with Go now and got the same question have you figured this out Thanks "},
{"id": 99763, "question_id": 9976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-23T07:42:21Z", "scrap_date": "2024-04-30T23:57:23.183489", "content": "Hi samuelsilva Yes I did Here is the ticket I opened and fixed gomod sh overwrites go mod if it exists Issue 7244 serverlessserverless GitHub I didnt update this post because I figured it would be released and therefore fixed for everyone Its strange that you are still experiencing it Which version are you using It looks to me like its been released for ages The very good news is that the fix is extremely easy and you can easily patch your local code Heres the entire change required Do not overwrite `go mod` on `make` if it exists by rotex Pull Request 7245 serverlessserverless GitHub Good luck and all the best Ivaylo"},
{"id": 73462, "question_id": 7346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-24T17:51:34Z", "scrap_date": "2024-04-30T23:57:24.129660", "content": "Im experiencing the same problem with serverless v2 66 2 I could not understand what is going on as this is affecting several serverless projects which were working properly earlier Has anyone found the root cause and a fix for this "},
{"id": 162042, "question_id": 16204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-12T22:11:04Z", "scrap_date": "2024-04-30T23:57:25.124599", "content": "In your serverless xml youll want something like this to use NodeJS 14 Looks like its not a sls upgrade that will have caused it but a change on the AWS side to remove support for node 10"},
{"id": 162043, "question_id": 16204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-12T22:28:04Z", "scrap_date": "2024-04-30T23:57:25.125599", "content": "Agreed the underlying issue is the removal of the runtime support The lambas being deployed are python ones so the serverless yml already has defined in it But it turns out updating another plugin serverlessdomainmanager fixes the issue "},
{"id": 162044, "question_id": 16204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-26T06:39:50Z", "scrap_date": "2024-04-30T23:57:25.125599", "content": "Hi mattcarter I am also facing the same problem but in my case the plugins are different from yours Did you specify a particular version like below to fix it"},
{"id": 46602, "question_id": 4660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-11T22:55:14Z", "scrap_date": "2024-04-30T23:57:26.048470", "content": "In case anyone finds this and wants to know how heres what I did You can use the UserData property when defining an EC2 instance in serverless yml to send the user data The value of that property can be a file using the file myfile txt syntax However the contents of the file sent have to be base64 encoded because youre using the bare cloudformation syntax not serverless syntax So thats OK Build a script Lets call it startup sh You can fill it with whatever you need Then base64 encode it using your favorite command line tool into a new file maybe called startup sh base64 Now in the UserData property use this file startup sh base64 and you should get the intended result "},
{"id": 46603, "question_id": 4660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T10:03:01Z", "scrap_date": "2024-04-30T23:57:26.050470", "content": "In case anyone finds this you can go one step further You dont have to do the base64 encoding yourself"},
{"id": 46604, "question_id": 4660, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-12-20T21:37:01Z", "scrap_date": "2024-04-30T23:57:26.051471", "content": "If useful to anyone else here is how I did it all within serverless yml and using pseudo parameters Note that when using \\n you must put the string in double quotes "},
{"id": 165492, "question_id": 16549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-15T08:46:57Z", "scrap_date": "2024-04-30T23:57:27.146929", "content": "Hey there and welcome to the forums I would suggest using the concept of stages in order to differentiate between clients serverless deploy stage client1"},
{"id": 166032, "question_id": 16603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-01-26T16:35:46Z", "scrap_date": "2024-04-30T23:57:28.125802", "content": "One way to get the exact error from the packaging process would be to run the exact command on your local machine to see what is pip install complaining about The times Ive had that issue were related to Python packages that are being compiled from source Linux libraries missing on the container image that is running the build I resorted to creating a custom building image with the required libraries so that Python could complete the packages installation "},
{"id": 166033, "question_id": 16603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-03T11:49:32Z", "scrap_date": "2024-04-30T23:57:28.126802", "content": "Im facing the same issue As far as I know you will need both the docker service and dockercli available in the image youre running Im working on this issue and will post again if I fix it "},
{"id": 166034, "question_id": 16603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-10T02:03:30Z", "scrap_date": "2024-04-30T23:57:28.127802", "content": "Facing a similar issue when deploying via Gitlab CI I can sls deploy to AWS from the CLI without issue I added services dockerdind but still get the eror msg Error Error spawn docker ENOENT at Process ChildProcess _handle onexit nodeinternalchild_process28219 at onErrorNT nodeinternalchild_process47716 at processTicksAndRejections nodeinternalprocesstask_queues8321 Selection from the POC gitlabci yml"},
{"id": 166035, "question_id": 16603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-10T14:57:06Z", "scrap_date": "2024-04-30T23:57:28.128802", "content": "bdb2381 I believe that would be because you dont have docker installed on the node16 13 2 image Tdsone Ive managed to fix my problem with the following config The above would most likely work with node16 and more uptodate version of docker too just make sure the versions of installed engine etc are compatible with the attached service "},
{"id": 157832, "question_id": 15783, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-12T22:24:00Z", "scrap_date": "2024-04-30T23:57:30.057489", "content": "For me it was easier and ultimately more reliable to test on actual AWS resources in the cloud I could use the node SDK to create tables in the test set up and then tear down 9Apps Showbox Tutuapp after Youre unlikely to incur costs for it also "},
{"id": 109892, "question_id": 10989, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-13T04:13:33Z", "scrap_date": "2024-04-30T23:57:31.218932", "content": "Im having this same Issue did you fix it"},
{"id": 109893, "question_id": 10989, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-13T04:38:33Z", "scrap_date": "2024-04-30T23:57:31.219932", "content": "I was not able to fix Ive abandoned the project sadly "},
{"id": 139152, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-02T17:27:43Z", "scrap_date": "2024-04-30T23:57:31.732398", "content": "Hey HugoPelletier I just ran into this issue as well What fixed it for me was to do the following in my serverless yml give that a try but depending on your directory structure you might need to adjust the package include section for the function Also if you can include your project directory structure that would help as AWS Lambda functions dont follow the same rules for python module paths "},
{"id": 139153, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T19:27:02Z", "scrap_date": "2024-04-30T23:57:31.733399", "content": "cturnerconfluent Same error If I try without this part I got another error message Cannot read property artifact of undefined Running on this version serverless version Serverless config options_stage undefined Serverless serverless service custom stage undefined Serverless serverless service provider stage optstage local Serverless config stage optstage local Framework Core 2 15 0 Plugin 4 3 0 SDK 2 3 2 Components 3 4 3"},
{"id": 139154, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T19:58:47Z", "scrap_date": "2024-04-30T23:57:31.734407", "content": "Try changing the function block for the httprequest from to and keep everything the same as our original serverless yml file"},
{"id": 139155, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-17T00:17:12Z", "scrap_date": "2024-04-30T23:57:31.735405", "content": "Just tried your suggestion no luck I also removed all the functions from the yaml file and still got the same error pretty strange Im pasting the yaml file just in case you see something wrong Obviously Im new to serverless Thanks again for your help "},
{"id": 139156, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-17T00:32:00Z", "scrap_date": "2024-04-30T23:57:31.735405", "content": "Can you share what your project directory looks like"},
{"id": 139157, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-17T14:15:26Z", "scrap_date": "2024-04-30T23:57:31.736405", "content": "I try multiple things so please ignore the extra files in the handlers directory"},
{"id": 139158, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-17T15:32:37Z", "scrap_date": "2024-04-30T23:57:31.736405", "content": "for your function block can you try doing using the handler py file that is the root of your project directory try this and see if it works if it doesnt I am not sure the issue is with the plugin serverlesspythonrequirements"},
{"id": 139159, "question_id": 13915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-15T13:51:30Z", "scrap_date": "2024-04-30T23:57:31.737405", "content": "Hello I solved this issue by following comment mountCode True with serverlesspythonrequirements Issue 92 localstackserverlesslocalstack GitHub"},
{"id": 126762, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T22:38:05Z", "scrap_date": "2024-04-30T23:57:32.664568", "content": "This is still happening and I can reproduce this every time A bit more info from the logs This is the API Gateway log As you can see it does say the authorizer was called but the client is not authorizer The problem is the logs for the authorizer dont show a call The log below shows two calls to a test end point and both were successful Any ideas why the api gateway would think it called an authorizer when it doesnt look like it did"},
{"id": 126763, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-01T23:26:02Z", "scrap_date": "2024-04-30T23:57:32.665568", "content": "Still beating my head against a wall on this one So I changed my authorizer to return Allow every single time No way it can get an access denied now right Well apparently it can To recap calling first end point everything is fine calling the second end point it doesnt even call the authorizer So I am starting to suspect AWS is caching the policy document the method arn and on the second it is checking that document and never calls the authorizer Can some confirm that is how it works And if so how do you turn off that behavior Or tell it to call the authorizer every time when the method is not in the policy document"},
{"id": 126764, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-02T01:32:54Z", "scrap_date": "2024-04-30T23:57:32.667569", "content": "I think the problem is the method arn coming into your authorizer Function check is being cached by the API gateway authorizer and that is why the results you have are random Try changing your method arn code to use a wildcard Instead of the method arn as is when the code validates the policy "},
{"id": 126765, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-02T13:44:52Z", "scrap_date": "2024-04-30T23:57:32.667569", "content": "I used the two examples that are linked off the example ages which do the same Both those files take the method arn from event methodArn Regarldess the autorizer never gets called for a second time Sequance"},
{"id": 126766, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-02T14:48:19Z", "scrap_date": "2024-04-30T23:57:32.668569", "content": "Finally solved The answer came from API Gateway authorization and policy caching TLDR Policies are cached so you either need to set the TTL to 0 so your authorizer gets called each time or you need to construct a policy document that includes every single end point you have in your API In my case it was easy because I want to let the user access everything if they are logged in so my code looks something like this Note right now set to Allow always you should of course set to Allow or Deny as needed Where the two represent the method and the path in my case after apiv1 "},
{"id": 126767, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-02T14:48:55Z", "scrap_date": "2024-04-30T23:57:32.669569", "content": "If anyone from serverless support read this PLEASE update the docs to explain this "},
{"id": 126768, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-17T02:02:27Z", "scrap_date": "2024-04-30T23:57:32.670569", "content": "Thank you chanan I had been running into this myself and it was quite mysterious "},
{"id": 126769, "question_id": 12676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-16T20:08:33Z", "scrap_date": "2024-04-30T23:57:32.670569", "content": "Thank you chanan from me too such a weird bug I experienced the same and was going crazy The actual docs are here Introducing custom authorizers in Amazon API Gateway AWS Compute Blog Because policies are cached for a configured TTL API Gateway only invokes your Lambda function the first time it sees a token all of the calls that follow during the TTL period are authorized by API Gateway using the cached policy "},
{"id": 160742, "question_id": 16074, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-10-15T11:07:55Z", "scrap_date": "2024-04-30T23:57:33.792363", "content": "Its going to depend on the language and packaging For Node options including"},
{"id": 160743, "question_id": 16074, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-18T00:31:56Z", "scrap_date": "2024-04-30T23:57:33.793364", "content": "Thanks in the end Ive gone for the single package json where the serverless yml is Was trying esbuild Confused as to how to structure shared code Issue 210 floydspaceserverlessesbuild GitHub though bizaarely one of my functions fails with 20211015T070811 20211015T070811 687Z undefined ERROR Uncaught Exception errorTypeTypeErrorerrorMessageCannot destructure property dir of T package as it is undefined stack[TypeError Cannot destructure property dir of T package as it is undefined at node_modulesesmesm js vartaskv1index js5098220 at __require vartaskv1index js4144 at node_modulesdigitalbazaarhttpclientindex js var Perhaps some commonJSrequireJS issue idk I do know I miss Golang "},
{"id": 161042, "question_id": 16104, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T05:41:25Z", "scrap_date": "2024-04-30T23:57:34.844627", "content": "Solved by using the ifelse plugin The Serverless Framework Plugin Registry Search thousands of Serverless Framework plugins "},
{"id": 84382, "question_id": 8438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T15:19:46Z", "scrap_date": "2024-04-30T23:57:35.902121", "content": "Hey man Did you figure out this issue Could you share it with me please"},
{"id": 161022, "question_id": 16102, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T09:15:33Z", "scrap_date": "2024-04-30T23:57:36.710190", "content": "Im not sure what you are trying to do You can just edit the file and change the service name "},
{"id": 161023, "question_id": 16102, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-20T07:25:43Z", "scrap_date": "2024-04-30T23:57:36.711190", "content": "Yeah I can edit the file but then I need to remember to revert that line when I upstream it "},
{"id": 160232, "question_id": 16023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-22T20:37:36Z", "scrap_date": "2024-04-30T23:57:37.771726", "content": "I am seeing the same issue I dont remember if I ever set a username but no matter what I add it seems to fail "},
{"id": 161162, "question_id": 16116, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T09:12:39Z", "scrap_date": "2024-04-30T23:57:38.730789", "content": "18 04 Im on 20 04 here and never seen this issue If you check iotop or something is it hammering a slow disk "},
{"id": 161163, "question_id": 16116, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-23T22:00:22Z", "scrap_date": "2024-04-30T23:57:38.731789", "content": "Hi sorry it turned out it was taking time because i had the aws sam build from earlier in the directory which was making the package extremely massive and essentially hanging my system when the packaging was going on Just a thought to keep in mind if anyone faces a similar issue"},
{"id": 38172, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T00:12:05Z", "scrap_date": "2024-04-30T23:57:39.406488", "content": "michaelmei just browsing your code looks like you might have to pass in the port as well in your connection string "},
{"id": 38173, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T00:44:30Z", "scrap_date": "2024-04-30T23:57:39.407488", "content": "Hi rupakg Thanks for pointing that out I have changed the code to the following but still got the same error message Would it might be caused by the VPC network Shall I configure the VPC network for the function even it is in the same aws region as the RDS mysql instance import sys import logging import pymysql name xxxx password xxxxxxxxxx db_name xxxxxxxxxx rds_host xxxxxxxxxxxx uswest2 rds amazonaws com3306 port 3306 logger logging getLogger logger setLevel logging INFO try conn pymysql connect rds_host username passwdpassword dbdb_name connect_timeout5 except logger error ERROR Unexpected error Could not connect to MySql instance sys exit logger info SUCCESS Connection to RDS mysql instance succeeded def mysql_test event context This function inserts content into mysql RDS instance item_count 0 with conn cursor as cur cur execute create table Employee3 EmpID int NOT NULL Name varchar 255 NOT NULL PRIMARY KEY EmpID cur execute insert into Employee3 EmpID Name values 1 Joe cur execute insert into Employee3 EmpID Name values 2 Bob cur execute insert into Employee3 EmpID Name values 3 Mary conn commit cur execute select from Employee3 for row in cur item_count 1 logger info row response statusCode 200 body Added d items to RDS MySQL table item_count return response Best Michael"},
{"id": 38174, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T05:27:47Z", "scrap_date": "2024-04-30T23:57:39.410489", "content": "michaelmei Is the RDS configured within a VPC If yes then you have to configure you function to access the VPC network "},
{"id": 38175, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T05:30:02Z", "scrap_date": "2024-04-30T23:57:39.410489", "content": "Hi Rupak Yes The RDS Mysql instance is in the default VPC would you please give me an example of how to configure the function to be in the same VPC region in serverless yaml file Thanks Michael "},
{"id": 38176, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T08:43:09Z", "scrap_date": "2024-04-30T23:57:39.411489", "content": "michaelmei you can put the following snippet under the provider section Let me know if it works for you Thanks Rupak Ganguly"},
{"id": 38177, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T23:55:18Z", "scrap_date": "2024-04-30T23:57:39.412483", "content": "rupakg Thanks for the reply appreciated Just changed the serverless yaml as following But I got the following error when trying to deploy I have admin access to the user Would you please provide any suggestion Thank you heaps venv MacBookProserverlesswechatapitest michaelmei serverless deploy Serverless Installing required Python packages with python3 6 Serverless Docker Image lambcilambdabuildpython3 6 Serverless Linking required Python packages Serverless Packaging service Serverless Excluding development dependencies Serverless Unlinking required Python packages Serverless Uploading CloudFormation file to S3 Serverless Uploading artifacts Serverless Uploading service zip file to S3 22 35 MB Serverless Validating template Serverless Updating Stack Serverless Checking Stack update progress Serverless Operation failed Serverless Error An error occurred IamRoleLambdaExecution API iamAttachRolePolicy User arnawsiamxxxxxxxxxxxxxuserxxxxxxxxx is not authorized to perform iamAttachRolePolicy on resource role awspythonwechatapidevuswest2lambdaRole Your Environment Information OS darwin Node Version 8 6 0 Serverless Version 1 25 0 service awspythonwechatapi frameworkVersion 1 2 0 2 0 0 provider name aws stage dev region uswest2 runtime python3 6 vpc securityGroupIds sgxxxxxx subnetIds subnetxxxxxxxxx subnetxxxxxxxxx subnetxxxxxxxxx iamRoleStatements Effect Allow Action ec2CreateNetworkInterface Resource functions currentTime handler handler mysql_test events http path mysql method get resources Resources WriteDashPostLogGroup Type AWSLogsLogGroup Properties RetentionInDays 30 MyDB Type AWSRDSDBInstance Properties DBName xxxxxxxxxx AllocatedStorage 5 DBInstanceIdentifier xxxxxxxxxx DBInstanceClass db m1 small Engine MySQL MasterUsername xxxxxxxxxxxx MasterUserPassword xxxxxxxxxxxx DeletionPolicy Snapshot plugins custom pythonRequirements dockerizePip nonlinux"},
{"id": 38178, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T05:44:05Z", "scrap_date": "2024-04-30T23:57:39.415490", "content": "If you copied this directly from your serverless config then it looks like youve indented the securityGroupIds and subnetIds too much Instead of use"},
{"id": 38179, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T06:21:39Z", "scrap_date": "2024-04-30T23:57:39.416490", "content": "Hi buggy I have changed the indention and attached the screenshot of the configuration Still got the error Please indicate Thanks "},
{"id": 381710, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T10:39:09Z", "scrap_date": "2024-04-30T23:57:39.416490", "content": "michaelmei Are you still getting the following error An error occurred IamRoleLambdaExecution API iamAttachRolePolicy User arnawsiamxxxxxxxxxxxxxuserxxxxxxxxx is not authorized to perform iamAttachRolePolicy on resource role awspythonwechatapidevuswest2lambdaRole If so it looks like a permissions error for your IAM user doing deploys Are you still using the same credentials that were working previously"},
{"id": 381711, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-23T03:29:55Z", "scrap_date": "2024-04-30T23:57:39.417490", "content": "Hi alexdebrie1 Thanks for the reply I have double checked with the iam user and it turned out it is the one that worked previously Would you please refer to the following permission I gave to the user and provide some hints on it Thanks "},
{"id": 381712, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-26T00:14:25Z", "scrap_date": "2024-04-30T23:57:39.418490", "content": "vpc securityGroupIds sgxxxxxxx subnetIds subnetxxxxxxx iamRoleStatements Effect Allow Action ec2CreateNetworkInterface Resource Did you ever figure this out Im running into the same problem trying to connect to RDS Postgres within a VPC from my node lambda function Ive added the following to my serverless yml but its not helping Any help much appreciated "},
{"id": 381713, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-20T15:24:05Z", "scrap_date": "2024-04-30T23:57:39.419491", "content": "kvarela What is not working The above yaml looks good to me Give me more details of what error you are seeing "},
{"id": 381714, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-22T18:16:55Z", "scrap_date": "2024-04-30T23:57:39.420491", "content": "Hello michaelmei michaelmei rupakg I am facing this same issue Cannot connect to a AWS RDS mysql database from lambda in python with same code Kindly help me with this issue "},
{"id": 381715, "question_id": 3817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-25T10:32:27Z", "scrap_date": "2024-04-30T23:57:39.420491", "content": "Can any one have solution for this issue"},
{"id": 146612, "question_id": 14661, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-27T15:48:58Z", "scrap_date": "2024-04-30T23:57:40.448221", "content": "Id like to know that as well It seems that its not supported by default but maybe someone can help with a cloudformation example to do it Creating the VPC link should be easy but how do you connect it to the httpAPI end points"},
{"id": 78172, "question_id": 7817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-28T07:23:16Z", "scrap_date": "2024-04-30T23:57:41.464471", "content": "Came across this a couple years later but have worked it out with some help from the solution mentioned here One caveat is that it tries to create resources first and fails because the Lambda does not exist yet So I deployed once with the resource commented out and then uncommented and ran again once the Lambda was created There might be a better solution to that though "},
{"id": 161632, "question_id": 16163, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-30T13:25:15Z", "scrap_date": "2024-04-30T23:57:42.164259", "content": "Found the answer though not what I was hoping for RFC 1738 says unsafe characters must be urlencoded including curly brackets I guess the other deploy modes where raw curlies are accepted are not in compliance with the spec whereas AWS is I would be surprised if there is a setting to instruct AWS to loosen compliance Now to see if there is a setting in Postman to automatically urlencode curlies [ETA] this helps highlight the query string in Postman rightclick Encode URL Component"},
{"id": 121132, "question_id": 12113, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2020-07-28T07:26:53Z", "scrap_date": "2024-04-30T23:57:43.243270", "content": "Hi Ive noticed that the serverless ts files are very new so I dont think there will be many examples I have just tested your example though and you can simply wrap it in quotes like this Because its a ts file you can also declare all your options in strings above the full object and then just reference them below like this You can test your config with the print command This will interpret your config object and print it to the console sls print"},
{"id": 121133, "question_id": 12113, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-28T07:44:34Z", "scrap_date": "2024-04-30T23:57:43.244270", "content": "Hi alexvdvalk thank your very much for your help and examples "},
{"id": 121134, "question_id": 12113, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2020-08-06T00:35:23Z", "scrap_date": "2024-04-30T23:57:43.245270", "content": "Furthering if you are moving from the yml syntax and you make use of the custom section just as Alex has described you can do this sort of thing as well example custom section in the serverless ts You can access those variables just as Alex described with this"},
{"id": 121135, "question_id": 12113, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-13T08:34:15Z", "scrap_date": "2024-04-30T23:57:43.245270", "content": "I could not get env DOMAIN_NAME env DOMAIN_NAME env process DOMAIN_NAME etc to work I could get env process DOMAIN to work by doing Even though I have useDotenv true"},
{"id": 121136, "question_id": 12113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-30T13:46:35Z", "scrap_date": "2024-04-30T23:57:43.246270", "content": "you can set the stage in an environment variable and then use it in the serverless ts example for serverlessoffline package json scripts startoffline set STAGEdev serverless offline start serverless ts const stage process env STAGE console log stage const serverlessConfiguration Serverless "},
{"id": 161452, "question_id": 16145, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-01T21:46:22Z", "scrap_date": "2024-04-30T23:57:43.674628", "content": "For anyone with this issue that cant find an answer this has to do with using Lambda proxy vs nonproxy When using Lambda proxy basically Serverless Framework ignores any responses because technically it doesnt make a lot of sense If you are attempting to add them it is probably for Swagger documentation like I was and you should do so in some other way "},
{"id": 157682, "question_id": 15768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-23T16:07:57Z", "scrap_date": "2024-04-30T23:57:45.743235", "content": "Im tasked with enforcing that all s3 buckets have access logging enabled whats the best way to implement this Users need the ability to use their own target bucket if desired but if none are selected during bucket creation or if its later removed I need to set the target bucket 9Apps Showbox Tutuapp as the central bucket Ill create and use as default "},
{"id": 157612, "question_id": 15761, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-23T16:08:19Z", "scrap_date": "2024-04-30T23:57:46.566245", "content": "In my codes there are times when I dont exactly know what the account ID is going to be exactly especially since we have many accounts In my specific case I am trying to build the ARN for a policy before actually submitting it to AWS When using Cloudformation I can simply use AWSAccountId however in this case Im not using it Was wondering if there is some magical Speed Test way of omitting the account ID and then AWS simply assumes the account ID as the one its in "},
{"id": 7052, "question_id": 705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-02T00:05:34Z", "scrap_date": "2024-04-30T23:57:47.573215", "content": "Unfortunately it looks like youve hit a current limitation Serverless automatically creates any buckets mentioned in your events configuration which is why youre getting a conflict with the bucket youve defined in your resources section A quick check of CFN docs makes it look like you cant create CorsConfiguration outside of the Bucket resource I think youre going to need to raise an issue for this if you want it to work You basically want this but for S3 "},
{"id": 7053, "question_id": 705, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-01-13T17:50:14Z", "scrap_date": "2024-04-30T23:57:47.574215", "content": "I had the same issue and ended up following the guidance from eahefnawy in issue 2967 The answer is not to define an S3 event with the function since serverless attempts to create a new S3 bucket but to manually define the NotificationConfiguration in the S3 bucket resource as well as a corresponding Lambda permission resource This solution relies on the CloudFormation naming convention used by serverless for Lambda functions In your case it would look something like"},
{"id": 7054, "question_id": 705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-13T22:56:13Z", "scrap_date": "2024-04-30T23:57:47.575216", "content": "Nice I like how that works out the defaults are reasonable but can be overridden if needed "},
{"id": 7055, "question_id": 705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T14:15:56Z", "scrap_date": "2024-04-30T23:57:47.576216", "content": "In case anybody struggles with this I continued to receive the validation error because I was using the full bucket ARN in the SourceArn property for the permission After I copied the example and concatenated with my bucket name everything worked "},
{"id": 7056, "question_id": 705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-14T19:41:18Z", "scrap_date": "2024-04-30T23:57:47.576216", "content": "I tried mfrankwork s solution but am getting a cryptic error An error occurred DiyBucket Unable to validate the following destination configurations Service Amazon S3 Status Code 400 Error Code InvalidArgument Request ID 6516C03FC6506837 S3 Extended Request ID RD1gHlYOOADRL7J8vg1MIf6xnPkDQ28plAkZOzgJijzalpz6i1u1CaXUslLIzrmZ6Y4glYFE My complete serverless yml"},
{"id": 7057, "question_id": 705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T21:34:16Z", "scrap_date": "2024-04-30T23:57:47.577216", "content": "concatenated with my bucket name everything worked Can you please elaborate on this I am still getting error Unable to validate the following destination configurations Service Amazon S3 Status Code 400 Error Code InvalidArgument My persmission in yaml looks as follows rLambdaPermission Type AWSLambdaPermission Properties FunctionName GetAtt rLambdaFunction Arn Action lambdaInvokeFunction Principal s3 amazonaws com SourceAccount Sub AWSAccountId SourceArn Sub arnawss3 pBucket AWSAccountId AWSRegion useast1 Thanks"},
{"id": 7058, "question_id": 705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-28T04:18:51Z", "scrap_date": "2024-04-30T23:57:47.579216", "content": "Ive used this and appreciated it thanks As of Jan 2020 there is an easier way to do this described here Heres how that would look"},
{"id": 32142, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-11-29T19:00:52Z", "scrap_date": "2024-04-30T23:57:48.487647", "content": "Calling lambdas directly is fine and cheaper If you need to expose the lambda to a broader audience web then api gateway is it Some cool things about api gateway is custom authorizers stage variables and like you mentioned api rate limits "},
{"id": 32143, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-04T04:48:49Z", "scrap_date": "2024-04-30T23:57:48.489647", "content": "Hi jonsmirl The fundamental thinking behind the lambda is event driven design When ever an event triggered by the user only a small amount of code Lambda function will execute AWS provides various events to trigger lambda execution API Gateway and CLI calls is 2 of those CLI calls are good if the lambda is not going to be distributed to to mass audience and used by a Team in closed environment The reason for this is to execute lambda from CLI you need to create an IAM user and give him sufficient permissions which will become very difficult if functionality of lambda needs to be exposed to large group For larger reach API Gateway with Custom Authorizer is very good option "},
{"id": 32144, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-12-04T05:10:41Z", "scrap_date": "2024-04-30T23:57:48.490647", "content": "My lambdas use AWS Cognito logins to get temp credentials The role associated with the Cognito pool only allows execution of specific set of lambdas listed in the policy Inside side each lambda the Cognito user ID that is passed in vai the environment is used to keep the users from messing with each other This setup does not require external people to have a IAM user Flow is like this User authenticates via GoogleFacebookCognito User pool Authentication provides a JWT token Present the JWT token to the Cognito Federation pool Receive temporary IAM credentials for the role associated with the Federation pool Use those temp IAM credentials to call the lambda functions The policy in the role locks the functions down so that you can only execute them The Federation pool has also assigned the JWT user a Cognito ID That Cognito ID is provided inside the environment for the lambda function Now the lambda function can use it to keep the users separate You cant mess with the Cognito ID since it has been encrypted into the temp credentials "},
{"id": 32145, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-04T05:56:37Z", "scrap_date": "2024-04-30T23:57:48.492648", "content": "Your implementing is perfectly all right as you or your team are using all the lambdas in your code application and not exposing them to any thirdpary team for using in their code API Gateway is mainly for exposing the functionality to different team users to used this their code and getting standard REST api signature for the calls Only issue with your implementation is you do not have control over no of execution of lambda which may cost you unexpected money I personally paid the price on similar implementation during development when one of my developer created an infinite condition in the code and ended up additional cost of several hundred "},
{"id": 32146, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-12-04T15:09:31Z", "scrap_date": "2024-04-30T23:57:48.493648", "content": "I think this is totally dependent on your application but one of the main reason for using an API over a direct invocation is adaptability to change It is in my opinion not just for when you need to expose your services externally What happens if 6 months from now your project lead or executives say they want you to use Docker containers or worse VMs to run a particular service currently handled by a Lambda function If you only have direct invocations then you will find yourself having to cascade down all the callers and have them point to the new servicethis may involve lots of code modifications Contrast that with having a predefined API which all your callers use All you would have to do is modify the API to point to your new resource I think overall its just a matter of loose coupling between micro servicesthe same reason why you often want to use queues between them if you want more of a pull mechanism rather than push "},
{"id": 32147, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-07T23:41:10Z", "scrap_date": "2024-04-30T23:57:48.494648", "content": "Definitely depends on your domain but as someone who mostly works with APIs and mobile apps to consume them I wouldnt use Lambda directly Having an intermediary like API Gateway between your app and lambdas is pretty valuable in itself It decouples your mobile clients from needing to know about all the lambdas and from them changing You cant force iOS and Android app updates so whatever coupling you put out in the wile needs to supported for quite a while Even with automatic updates this is at least months until theres an insignificant number of people who havent updated depending on your domain So as your backend evolves do you just deploy new Lambdas and leave the old ones running for backwards compatibility If you change things with your AWS roles and IAM does that break all existing apps in the wild I quite like having a standard HTTP interface so I can manage whats exposed to apps better "},
{"id": 32148, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-08T00:45:31Z", "scrap_date": "2024-04-30T23:57:48.496649", "content": "You still have to leave all of the old lambdas running with API gateway to support the different API versions in the gateway API Gateway does not make that problem go away "},
{"id": 32149, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-08T01:00:47Z", "scrap_date": "2024-04-30T23:57:48.496649", "content": "Yeah it wont solve the API versioning problem but it does decouple consumers from knowing anything more than endpoints and payload contracts I change my lambdas and internal structure more often than I change the external API contract so I like the flexibility it gives me "},
{"id": 321410, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-16T13:32:53Z", "scrap_date": "2024-04-30T23:57:48.497649", "content": "A new reason Ive heard is because API Gateway some how deploys into Cloudfront I believe the reasoning is that you can hide a multiregional deployment behind Cloudfront and the app is then not aware it is multiregional With direct lambda calls the regions are visible Is this something worth considering We are a long ways away from needing multiregion support Related to this is the ability to use Clouldfront and API gateway together to get rid of the need for CORS httpsapimeister com20170509hostingacloudfrontsitewiths3andapigateway html"},
{"id": 321411, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T15:47:48Z", "scrap_date": "2024-04-30T23:57:48.498649", "content": "Hey sorry to post this so long after the thread but I just wanted to followup to see how this is working out for you As far as I can tell for my use case express app on Lambda API Gateway is doing nothing for me It may even be constraining me a bit due to some of its own inherent limitationsquirks So Id like to dump it and just allow direct access via CloudFront to my lambda functions So how it working out for you Thanks Ryan"},
{"id": 321412, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-31T16:57:52Z", "scrap_date": "2024-04-30T23:57:48.499649", "content": "The web app I work on has been changed to do direct lambda access It uses AWS Amplify to do that Check out the docs here there is example for both lambda and API Gateway httpsaws github ioawsamplifymediaapi_guide There is nothing illegal about doing direct lambda access from a web app it is just slightly harder to do than API Gateway since lambda is restricted to only returning JSON If you need something other format returned you have to deal with that in your web app Most mobile apps only do direct lambda access and ignore API Gateway Thats why I thought it was useless I had previously worked on the mobile app I also ignore cloudfront for lambda access The cloudfront cache is pointless these are API calls I do use cloudfront to serve up my web app "},
{"id": 321413, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T18:37:20Z", "scrap_date": "2024-04-30T23:57:48.500650", "content": "isnt AWS Amplify API is API Gateway and not direct lambda execution "},
{"id": 321414, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T20:27:44Z", "scrap_date": "2024-04-30T23:57:48.501650", "content": "You can use it either way You can set a direct target of aws lambda into the API object in Amplify I am using Amplify to directly call lamda "},
{"id": 321415, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T21:44:59Z", "scrap_date": "2024-04-30T23:57:48.502645", "content": "oh is that possible could you suggest how to do it "},
{"id": 321416, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T22:10:35Z", "scrap_date": "2024-04-30T23:57:48.502645", "content": "Amplify configure Auth identityPoolId config IdentityPoolId region useast1 userPoolId config UserPoolId userPoolWebClientId config UserPoolClientId API endpoints [ name api endpoint httpslambda useast1 amazonaws com service lambda ] "},
{"id": 321417, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T05:29:49Z", "scrap_date": "2024-04-30T23:57:48.503645", "content": "Sorry to bring up this old post Ive some questions on your flow Mine is as follows However Im a bit confused about the Execution Role in the Lambda setup Am I correct to say that Also you mentioned you used the Cognito ID in the lambda function to keep the users separate It is more for your application logic purposes Or is it used for managing access to AWS resources Or something else I should be aware of"},
{"id": 321418, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-08-08T11:56:06Z", "scrap_date": "2024-04-30T23:57:48.504645", "content": "Everyone gets confused at this point when using AWS First consider that anyone using your app can mess with the code and get access to the Cognito credentials not too bad since they expire in a couple of hours So you really want to lock down what the Cognito credentials can do for example mine are locked down to the absolution minimum possible Like no access to dynamodb but they can trigger the execution of specific lambda functions Once you use the locked down Cognito credentials to run a lambda function you want that lambda function to be able to do something right Thats where execution credentials come in I set specific credential onto each function that allow the minimum privs needed for that function to run So lets let this function read from dynamodb Now you have to use some application logic The callers CognitoID was securely passed into your lambda function in the environment Get this ID from the environment and use it in your code to limit what the function can access in dynamodb It doesnt work for the lambda function to run under then Cognito credentials remember those credential dont have access to dynamodb After a while you will learn that it is possible to give permissions to directly access dynamodb using you Cognito credentials But I dont recommend doing that It is possible to get it to work and it might be a tad faster but you will have to be very careful in considering how that permission can be abused by a hostile user For example it is probably unwise to let anyone directly write to the database without a lambda in front validating the write data "},
{"id": 321419, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T16:12:01Z", "scrap_date": "2024-04-30T23:57:48.507646", "content": "Yep coming from WCF background Im really getting confused So am I right to say that the main design considerations are Totally off topic but is there an AWSway of doing authorization in the function The convention method I can think of is Thanks "},
{"id": 321420, "question_id": 3214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T16:41:19Z", "scrap_date": "2024-04-30T23:57:48.507646", "content": "It is possible to run all of your federated logins googlefacebook in via Cognito User pools If you do that you can get support for groups admins etc But it costs to do that for large numbers of logins For example a million users in Cognito User pools is about 50000yr or 100000 is 3300yr If you just stick with the federated pools it is free If you federate via User Pools then you can assign as many different types of credentials as you want If you are going the way of custom authorizers you probably want to look at API gateway where they are much easier to use We use both techniques normal users come in via federation pool and all receive the same credentials Admins come in via user pool and get different credentials We manually create the user pool accounts The downside of this is that there is no simple way to promote a normal user to an admin since moving them between the pools changes their cognito ID BTW if you are using unauthenticated cognito IDs be aware that you will generate many millions of them in your federated pool "},
{"id": 158542, "question_id": 15854, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-08T08:45:33Z", "scrap_date": "2024-04-30T23:57:49.357689", "content": "Hello QAnders that is quite surprising and Ive never run into it previously Are you using any external plugins Do you have the ability to provide a small reproducible case"},
{"id": 158543, "question_id": 15854, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-09-29T14:50:50Z", "scrap_date": "2024-04-30T23:57:49.358689", "content": "Thanks pgrzesik Turns out that CloudFormation had done a rollback and added the previous previous working version which didnt have the IAM setup "},
{"id": 159882, "question_id": 15988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-29T14:54:27Z", "scrap_date": "2024-04-30T23:57:50.417194", "content": "Did a bunch of testing and managed to recreate the issue in our Test environment CloudFormation CREATE_FAILED AWSS3Bucket S3BucketQvaliafilestoreqabgfilesservice The issue is that CF errors on already exists However this CF Stack has existed since 2018 and havent caused issues before Why would it start complaining about a Bucket well two buckets actually all of a sudden Bucket creation date is August 29 2018 104538 UTC0200 "},
{"id": 155392, "question_id": 15539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-29T19:26:03Z", "scrap_date": "2024-04-30T23:57:51.423588", "content": "If youve got the AWS CLI in CI you should be able to use it to wait on the stack to transition to another state like this"},
{"id": 159072, "question_id": 15907, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-30T11:47:17Z", "scrap_date": "2024-04-30T23:57:52.216482", "content": "Hi guys Solved using Resolution of environment variables ie loading environment variables from env files instead custom json files Thanks anyway to everybody "},
{"id": 95362, "question_id": 9536, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-14T09:37:28Z", "scrap_date": "2024-04-30T23:57:53.019681", "content": "You might find it easier to implement using Lambda Proxy integration "},
{"id": 95363, "question_id": 9536, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-03T14:31:23Z", "scrap_date": "2024-04-30T23:57:53.020681", "content": "I ran into the same issue while trying to implement stripe webhooks To validate and process a stripe webhook the raw body of the request and the stripe signature from the request header is required The config in the snippet above will only provide the raw body The snippet below is enhances the mapping template to provide both raw body and request headers required to process stripe webhook events Hope this helps someone"},
{"id": 93802, "question_id": 9380, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-10-03T18:54:54Z", "scrap_date": "2024-04-30T23:57:53.714134", "content": "Im guessing OP has figured this out since 2019 but for anyone facing this issue The Action specification uses colons and not period to separate the service name and the specific action The OP had this code And that should have been this"},
{"id": 55642, "question_id": 5564, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-26T06:34:19Z", "scrap_date": "2024-04-30T23:57:54.694733", "content": "You could build a plugin but personally I would use a deploy script that includes sls deploy liquibase update This way the liquibase update will only run if the sls deploy succeeds "},
{"id": 55643, "question_id": 5564, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-27T17:28:29Z", "scrap_date": "2024-04-30T23:57:54.695733", "content": "Is there a serverless way of having schema versioning or otherwise having my schema in my git repo"},
{"id": 55644, "question_id": 5564, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-06T03:22:27Z", "scrap_date": "2024-04-30T23:57:54.695733", "content": "Here is an interesting opition 4 years ago about it I 1 to this question about the serverless way to do the database migrations 3 votes and 8 comments so far on Reddit"},
{"id": 43792, "question_id": 4379, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-06T22:55:36Z", "scrap_date": "2024-04-30T23:57:55.746068", "content": "Just joined the community and this is obviously late but for anyone else wondering The Serverless Framework Plugin Registry Search thousands of Serverless Framework plugins "},
{"id": 160052, "question_id": 16005, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-07T08:25:22Z", "scrap_date": "2024-04-30T23:57:56.578668", "content": "Hello dman777 I dont really understand the question could you rephrase it Is there a reason why youre installing awscli via pip "},
{"id": 138522, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T21:02:45Z", "scrap_date": "2024-04-30T23:57:57.355099", "content": "Hello DivZero thanks for feedback These settings are not going to be passed to Lambda functions during deployment theyre only locally loaded as env variables Well consider supporting false though"},
{"id": 138524, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T09:58:30Z", "scrap_date": "2024-04-30T23:57:57.356099", "content": "Hello Darksinge thanks for sharing Could you expand a bit more on for what reasons youd like that to be excluded Please note that its not going to inject your env variables into Lambda environment they will be only loaded locally "},
{"id": 138525, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T22:56:11Z", "scrap_date": "2024-04-30T23:57:57.356099", "content": "Hi pgrzesik I see that Darksinge removed his comment I cannot be sure why but I do wonder if its because he realised that it was not a substitute or addition to populating the environment clause of the configuration This is the mistake I made when I opened this ticket I wonder if the message isnt clear enough Maybe there needs to be more documentation about what this new feature will do in the help document and how it can be used My understanding at the moment is that This means that you could reflect them in the configuration if you do want them to be visible to your Lambda But if you dont do that they will not be used beyond the same scope as actual local environment variables with the same notes as in the Referencing Environment Variables section of the documentation Two points remain"},
{"id": 138526, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-11T09:22:02Z", "scrap_date": "2024-04-30T23:57:57.358100", "content": "Thank you for responding DivZero Your understanding is 100 correct The variables loaded when useDotenv true is set are only loaded into process env which makes them available during variables resolution etc As for the questions It is currently unclear what the priority order is If I have a variable thats both declared in my env file and also declared in my actual local environment which one will be used by Serverless in version 3 0 0 We follow the dotenv approach which never modifies the variables that are already set dotenv npm I think allowing this to be false in 3 0 0 would still be vital as a env file has existing uses Mixing in this file with serverless will potentially actually break things Do you happen to know workflows that will be broken by the autoloading of env files I was thinking about it for quite a while and didnt find anything concrete we will consider allowing false for sure but we want to better understand the actual issues that not allowing to do so might cause Thanks once again DivZero"},
{"id": 138527, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T09:37:56Z", "scrap_date": "2024-04-30T23:57:57.360101", "content": "One example of a use case where I might want to set useDotenv to false is if Im using serverless ts config files Where I prefer loading my variables in my own modules and importing them into the Serverless config These variables may be loaded from dotenv files and may not be loaded the same way or using the same conditions as Serverless So we my script and Serverless may choose different files In my config modules I might do some checking and verification on the environment I can potentially verify both that things are set and that things arent set I may also though I probably wouldnt recommend it change the environment into something that is valid lets say I need to remove an environment variable due to some condition Basically this means that my environment once Serverless actually starts deploying or my application starts locally may be different to what it was after I verified it Which to me seems like a potentially huge problem "},
{"id": 138528, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-10T19:40:16Z", "scrap_date": "2024-04-30T23:57:57.362101", "content": "Our use case for setting useDotenv to false is that we have local scripts in the project directory that use env and we have separate configuration for our serverless deployments Wed prefer to keep these separate so our offline scripts dont interfere with deployed code The local scripts and the deployed lambda functions share code and target the same production environment but have some differences in configuration we would like be able to keep separate "},
{"id": 138529, "question_id": 13852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-07T08:26:06Z", "scrap_date": "2024-04-30T23:57:57.363101", "content": "Hello Weve decided to skip making it a default from next major and removed the deprecation If you dont want to use it simply do not set useDotenv property "},
{"id": 159972, "question_id": 15997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-04T15:57:39Z", "scrap_date": "2024-04-30T23:57:58.451659", "content": "Was able to get this working with this"},
{"id": 159973, "question_id": 15997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-07T08:23:35Z", "scrap_date": "2024-04-30T23:57:58.451659", "content": "Hello Framework already supports this setting starting with version 2 61 0"},
{"id": 159974, "question_id": 15997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-07T17:00:59Z", "scrap_date": "2024-04-30T23:57:58.452659", "content": "My post was pre 2 61 0"},
{"id": 159975, "question_id": 15997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-08T07:40:05Z", "scrap_date": "2024-04-30T23:57:58.452659", "content": "Sure thing I just wanted to let you and everyone in this thread know that its now available"},
{"id": 160472, "question_id": 16047, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-08T09:45:04Z", "scrap_date": "2024-04-30T23:57:59.240459", "content": "It seems like this was resolved by installing the latest canary version of serverless 2 61 005f937f2 "},
{"id": 115252, "question_id": 11525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-22T21:12:56Z", "scrap_date": "2024-04-30T23:58:00.692202", "content": "For anyone in a similar situation this post has helped me find different approaches to try Not completely working on my end but its a start How to send a cookie as a response"},
{"id": 115253, "question_id": 11525, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-05-27T20:49:00Z", "scrap_date": "2024-04-30T23:58:00.692202", "content": "I was able to figure it out This was more of an issue with my lack of experience with Cookies rather than a serverless issue In the POST method I respond with the following statusCode 303 headers Location cloudFrontURL SetCookie authToken token SameSiteNone Domaincloudfront_redirect_url Path Secure contenttype applicationjson "},
{"id": 115254, "question_id": 11525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-06T22:12:03Z", "scrap_date": "2024-04-30T23:58:00.693203", "content": "Hi Willc417 I am having same problem where by I am not able to persist my cookies in subsequent request to api Can you explain what you mean by Domaincloudfront_redirect_url"},
{"id": 36482, "question_id": 3648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T20:45:59Z", "scrap_date": "2024-04-30T23:58:01.775039", "content": "If no codeyml changes happen the deployment should stop If thats not the case check the version of framework it at the latest If you modify anything in serverless yml you must run a full sls deploy to deploy the changes For faster deploys of just code changes you can run sls deploy function f NameOfFunction and it will just zip up code and be much faster than full deploy"},
{"id": 36483, "question_id": 3648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T10:17:58Z", "scrap_date": "2024-04-30T23:58:01.776040", "content": "If I dont modify anything code or yml as you said sls deploy does not do anything My concern is when I just modify a resource in the yml definition which has nothing to do with lambda In that case when I sls deploy every lambda is redeployed so a new version of the lambda is created in AWS with exactly the same code as it had before "},
{"id": 36484, "question_id": 3648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T19:06:33Z", "scrap_date": "2024-04-30T23:58:01.777040", "content": "sls deploy does not do anything My concern is when I just modify a resource in the yml definition which has nothing to do with lambda In that case when I sls deploy every lambda is redeployed so a new version of the lambda is created in AWS with exactly the same code as it had before Yeah it creates new versions If I recall correctly and cleans up older ones Out of curiosity what is your concern with this I think you can disable this with this flag Serverless Framework AWS Lambda Functions"},
{"id": 36485, "question_id": 3648, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-02T09:57:44Z", "scrap_date": "2024-04-30T23:58:01.778040", "content": "Its good to know about that flag thanks I have already had problems with old versions of my functions taking too much space But my concern was mainly the amount of time that every deployment has to spend first uploading the zip file with the code and then creating new lambda versions for each lambda in the serverless yml file This happens regardless of whether those lambdas were modified Unfortunately I believe that the versionFunctions flag does not address this problem it just avoids keeping old versions of the functions hanging there "},
{"id": 36486, "question_id": 3648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-09T14:22:34Z", "scrap_date": "2024-04-30T23:58:01.779040", "content": "Im having the same problem here Even if nothing is changed Im spending 12 minutes of my CICD pipelines just reuploading things and updating the stack "},
{"id": 36487, "question_id": 3648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-08T01:35:04Z", "scrap_date": "2024-04-30T23:58:01.780040", "content": "I was equally annoyed by this Its time consuming and its needlessly filling my deployment bucket I roll out lots of infra through my serverless yml and regularly update those resources without touching Lambda code For the longest time I saw the warning that Serverless wasnt allowed to GetFunction so I gave it those permissions assuming that would solve it After all GetFunction will return a hash of the function body so with that I figured it would know enough not to upload it needlessly But it seems its still doing it "},
{"id": 158532, "question_id": 15853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-08T08:44:26Z", "scrap_date": "2024-04-30T23:58:02.562018", "content": "Hello VincentHuysmans1 Thats interesting we didnt run into it during testing so far Could you please report it as an issue here httpsgithub comserverlessserverlessissues "},
{"id": 158533, "question_id": 15853, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-09-08T09:22:33Z", "scrap_date": "2024-04-30T23:58:02.563019", "content": "Hi I forgot about this question I managed to solve the issue and the solution was not serverless related I was running the script using AWS CodeBuild The role of the CodeBuild project was missing some permissions The missing policy was"},
{"id": 158534, "question_id": 15853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-08T15:06:01Z", "scrap_date": "2024-04-30T23:58:02.564021", "content": "Thanks for clarification VincentHuysmans1"},
{"id": 159222, "question_id": 15922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-14T12:58:17Z", "scrap_date": "2024-04-30T23:58:03.523631", "content": "Is there a way to convert it to JSON through API GW No If youre using applicationxwwwformurlencoded encoded content then its URL encoded string You need to URL decode the body to access the data If youre using nodejs then you might be able to use URLSearchParams "},
{"id": 159223, "question_id": 15922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-14T15:04:24Z", "scrap_date": "2024-04-30T23:58:03.524631", "content": "I am using Go Thank you "},
{"id": 159162, "question_id": 15916, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-14T13:20:29Z", "scrap_date": "2024-04-30T23:58:04.513024", "content": "I had a look through your SO post and it seems like youre doing everything you should be Ive been using custom authorizers heavily over the past few years and passing data to functions via the authorzier response too My guess is there is a minor error in your auth function code somewhere but I cant see it I take it from seeing your console log authResponse line in the generatePolicy function that youre seeing the authResponse object with the scopes in the context Id double check the authorizer is returning what youre expecting it to be returning then go from there For some 3rd party documentation on custom authorizers Ive found this article to be an excellent reference "},
{"id": 159163, "question_id": 15916, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-14T16:35:07Z", "scrap_date": "2024-04-30T23:58:04.515021", "content": "Thanks for taking a look I managed to get it working but similarly to the post which I linked to I dont know why Seems like the solution is sleep on it and come back with fresh eyes "},
{"id": 109562, "question_id": 10956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-14T21:26:10Z", "scrap_date": "2024-04-30T23:58:05.039945", "content": "Did you get an answer to this I definitely need it I want to use a single existing authorizer for all of my applications For now I only know to set it manually after I deploy Ick "},
{"id": 154942, "question_id": 15494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-07T11:59:18Z", "scrap_date": "2024-04-30T23:58:06.096668", "content": "Have you fix this Use boot3"},
{"id": 154943, "question_id": 15494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-01T10:26:04Z", "scrap_date": "2024-04-30T23:58:06.097674", "content": "No I havent solved this yet "},
{"id": 154944, "question_id": 15494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-02T08:32:02Z", "scrap_date": "2024-04-30T23:58:06.098674", "content": "The error isnt about the string MyS3Bucket but about whatever name youve given the bucket in your MY_BUCKET_NAME environmment variable To debug exactly whats wrong with the name without posting the name of the bucket here take the name and the regex from the error and put into something like httpsregex101 com Best guess would be that youve started the bucket name either with a number or some punctuation character e g an escaped quote or or something like that EDIT Or youve not defined that environment var at all by accident"},
{"id": 154945, "question_id": 15494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-15T06:45:22Z", "scrap_date": "2024-04-30T23:58:06.099674", "content": "I have just faced and fixed this issue took me a few hours I gave up using provider and it works right away for some reason "},
{"id": 159282, "question_id": 15928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-15T08:10:17Z", "scrap_date": "2024-04-30T23:58:06.762440", "content": "You can deploy while lambdas are executing the execution is an invocation of the lambda function at trigger time Given a lambda is at v1 and it is invoked it will spin up a container and start its execution When you start a deploy of v2 while v1 it is executing the v1 lambda still runs Then when the deploy is finished any new invocations will be of the v2 lambda If you want to ensure no data is lost you should look at having lambda read from an SQS queue that way if any errors occur in the lambda the payload will be returned to the queue and can be picked up by another invocation"},
{"id": 159283, "question_id": 15928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-15T22:47:56Z", "scrap_date": "2024-04-30T23:58:06.764574", "content": "Thanks for that DrColza its good to have confirmation of what we suspected"},
{"id": 151772, "question_id": 15177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-07T11:48:28Z", "scrap_date": "2024-04-30T23:58:07.876151", "content": "I have the same issue were you able to find a solution by any chance"},
{"id": 151773, "question_id": 15177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-16T11:21:31Z", "scrap_date": "2024-04-30T23:58:07.877152", "content": "I have the same error Have you found a resolution If so would you post it Thank you "},
{"id": 151774, "question_id": 15177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-16T16:36:20Z", "scrap_date": "2024-04-30T23:58:07.878152", "content": "PS Why should I add true at the end of the string to find the secret If I remove this value i get the error With SSM Parameter store values this true indicated that the value was of type SecureString and should be decrypted before being returned The syntax for referencing SSM parameters and secrets manager has changed since you last post would be worth revisiting the docs"},
{"id": 152582, "question_id": 15258, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-08T17:53:37Z", "scrap_date": "2024-04-30T23:58:08.915127", "content": "Before running serverless deploy did you run npm i Is there a node_modules folder in your project before deploying it serverless deploy is just going to package up whats in your project folder "},
{"id": 152583, "question_id": 15258, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-17T10:21:50Z", "scrap_date": "2024-04-30T23:58:08.916127", "content": "Before running serverless deploy did you run npm i Is there a node_modules folder in your project before deploying it serverless deploy is just going to package up whats in your project folder thanks for the information "},
{"id": 152584, "question_id": 15258, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-18T10:15:29Z", "scrap_date": "2024-04-30T23:58:08.917127", "content": "Before running serverless deploy did you run npm i Is there a node_modules folder in your project before deploying it serverless deploy is just going to package up whats in your project folder Ometv chatroulette thanks for the information thanks my issue has been fixed "},
{"id": 154592, "question_id": 15459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T10:17:29Z", "scrap_date": "2024-04-30T23:58:10.000125", "content": "Just to add I have now added an additional step into the release pipeline to do an npm install tsnode which now leads to the following error Cannot load serverless ts Initialization error TSError Unable to compile TypeScript followed by a number of messages like this Cannot find module serverless typescript or its corresponding type declarations It looks like its trying to recompile the whole source which will fail as this is the release pipeline and the sourcecode isnt available But I cant see why "},
{"id": 154593, "question_id": 15459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-19T00:49:00Z", "scrap_date": "2024-04-30T23:58:10.001126", "content": "simonphughes did you figure this out Im running into the same problem Your problem you might be able to solve it with npm i if you also have your package json Im running into a different problem where I dont want to do npm i and my serverless ts is referencing the functions so Ill need to basically pull down the whole source again which makes no sense to pack it in the first place Im coming to the conclusion that serverless yml might be the way to go back to "},
{"id": 154594, "question_id": 15459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-19T09:57:46Z", "scrap_date": "2024-04-30T23:58:10.002120", "content": "Hey Shawn never did figure this out In the end I decided to move to a serverless yml for other reasons primarily the lack of examples as I couldnt get binary files being moved between api gateway and my lambda functions correctly Havent thought about building and deploying for a few months now but out our product live this week so automating this is now back to the top of my list I hope having moved to a yml file it will make it easier "},
{"id": 154862, "question_id": 15486, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-19T22:53:19Z", "scrap_date": "2024-04-30T23:58:10.756103", "content": "Also make sure you are not zipping the folder the file is in but everything contained within the root 9Apps Showbox Tutuapp of the folder "},
{"id": 154772, "question_id": 15477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-19T22:53:58Z", "scrap_date": "2024-04-30T23:58:11.809324", "content": "So I wrote a GitHub Python package that I want to use in my AWS lambda function The way Ive been able to do this now is to directly upload the package folder in the file directory of the AWS Speed Test Lambda function so it can be imported "},
{"id": 114892, "question_id": 11489, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-15T04:28:44Z", "scrap_date": "2024-04-30T23:58:12.698238", "content": "curious as to what you ended up doing and how you structured it Im struggling with same scenario and how to handle common configuration Referencing parent serverless yml doesnt seem to work consistently and I still have to declare pretty much the entire configuration in the child anyway so not realizing much of a benefit I tried using the parent plugin and that did nothing at all I was hoping to find a definitive answer for recommended best practices on this but seems like Im coming up with a ton of semi different approaches none of which I can seem to get working lol "},
{"id": 114893, "question_id": 11489, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-21T19:15:39Z", "scrap_date": "2024-04-30T23:58:12.700239", "content": "Id suggest spliting your project to smaller services Each service should contain serveral lambdas that relate to each other Something like this config for common yml configurations users would contain a serverless yml with user lambdas events same for events items and items This will be less tedious as configuring an entire stack per lambda but not as messy as throwing everything into 1 file"},
{"id": 37092, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T18:49:48Z", "scrap_date": "2024-04-30T23:58:13.612891", "content": "Note if I reduce to zero packages listed in my dependencies in package json then Im still left with a 43MB JS file "},
{"id": 37093, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T19:25:16Z", "scrap_date": "2024-04-30T23:58:13.613891", "content": "Further if I add an exclude block to foobar function and exclude node_modules I still get 43mb"},
{"id": 37094, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T20:02:38Z", "scrap_date": "2024-04-30T23:58:13.613891", "content": "mmm might be related to Excluding Development Dependencies Takes Forever There might be a regression in framework that no longer excludes dev dependancies Can you raise as issue in github after checking out the related thread httpsgithub comserverlessserverlessissues2709issuecomment309038597"},
{"id": 37095, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T21:17:15Z", "scrap_date": "2024-04-30T23:58:13.614892", "content": "One thing that I noticed before I started packaging individually is that the size of the deployment package increased every time I would add a new function So node_modules was being included for every one of my N functions "},
{"id": 37096, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T22:34:58Z", "scrap_date": "2024-04-30T23:58:13.615892", "content": "DavidWells I looked at the related thread seems that i was closed based on a PR that was incorporated in July Im currently on the latest build of serverless 1 26 0 so should be operating with the benefit of this PR One thing I may have not fully digested was a suggestion to have a nodejspackagejson parameter was this implemented didnt see it in PR commentary just as suggestion in the issue I have been trying to rely on include and exclude directives "},
{"id": 37097, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T22:49:25Z", "scrap_date": "2024-04-30T23:58:13.616892", "content": "One other strategy Ive tried without success is to exclude node_modules at the global package scope but then just including specific node_modules needed in the include blocks of individual functions For example Doing this however seems to exclude all node_modules and then ignore the includes at the function level "},
{"id": 37098, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-07T00:22:06Z", "scrap_date": "2024-04-30T23:58:13.617892", "content": "A bit desperate folks I have lost weeks on this I even tried to revert to rollup for tree shaking but that failed for a variety of reasons If I cant solve this todaytomorrow Ill have to move away from serverless which would make me very sad as its a great framework but in this state it just isnt usable "},
{"id": 37099, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T08:33:37Z", "scrap_date": "2024-04-30T23:58:13.618892", "content": "If I cant solve this todaytomorrow Ill have to move away from serverless which would make me very sad as its a great framework but in this state it just isnt usable This chatter doesnt scale on a community forum dont expect an account manager to drop everything to make sure you keep using the product How is this blocking you Personally the only benefit of a small package size for me is when I need to deploy from my home which has limited upload bandwidth You havent shared your package json which begs the question do you have any packages in the devDependecies section My suggestions Try multiple versions of the framework shouldnt too long to test the releases from 1 19 to 1 26 I say 1 19 because the last bug I had with omitting devDependencies was fixed there Serverless webpack it bundles everything into a single js file "},
{"id": 370910, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T17:51:49Z", "scrap_date": "2024-04-30T23:58:13.619893", "content": "Wow that was an aggressive response I have lost a month of productivity researching bundling solutions webpack rollup browserify that will work around this problem and so my response which initially garnished a response was in hindsight entirely reasonable I mean we are talking about a showstopper problem after all I have a 20 line function which uses Axios and yet its too big to be published as a single function When I deploy the whole thing it goes up but ends up being 78mb Webpack rollup and browserify all have problems working with googles Firebase and I have not yet found a way to work around that so the obvious bundling solution doesnt work for me either im guessing that others may have worked around this problem via this solution Also the ability to globally exclude all of node_modules and then at a function level bring back packages doesnt seem to work that was another hope In the end I wrote a JS file to analysize my dependency tree and tease out the devDeps and all the modules which the devDeps were bringing in aka recreating the wheel that serverless apparently developed and now I have a list of 100s of packages that Im excluding That gets me back down to 47mb still way too big but working Comparison I have one function which has no npm dependencies so for it I just exclude every package this uploads to a normal filesize of 5 4mb Look were a community Slapping someone in your community is not a good thing to do I think an apology from you sime would be a good gesture You assumed I was an idiot I am not Note the documentation points to a feature which allows you to point to a JSON config file for the full list of exclusions but it doesnt specify the format of that JSON file I had hoped it would just be a JSON array of directories to exclude but that doesnt work so my serverless yaml file has to contain the hundreds of exclusions 322 exclusions "},
{"id": 370911, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T18:20:14Z", "scrap_date": "2024-04-30T23:58:13.622894", "content": "yankeeinlondon Im not sure whats going on with your deps Can you share the serverless yml or add me github username DavidWells to the repo I personally havent seen any issues with dev dependancies not being excluded from any of my services So it sounds like something specific to your project setup"},
{"id": 370912, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T18:38:24Z", "scrap_date": "2024-04-30T23:58:13.623893", "content": "David the serverless yaml file with long exclusion list reduced for sanitys sake is listed below I will also add you to the repo too its on BitBucket though whats your username Here too are the files sizes of the various functions when I do a full deploy Note the stateInfo2 line item is a webpack bundled version of stateInfo but it doesnt export the handler function correctly so doesnt actually work this I believe is down to some webpackbundler issues that others are experiencing with some googlecloud apis "},
{"id": 370913, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T19:24:42Z", "scrap_date": "2024-04-30T23:58:13.624893", "content": "I did a visual inspection of whats taking up room within node_modules I was surprised by how inefficient and big wordnetdb is It is a dependency of natural which is a natural language processing module I plan to use in a few functions but none that are here yet I had been excluding natural at the function level but not wordnet The other obvious thing to exclude is awssdk as thats given for free in Lambda Once doing that my file sizes are now listed below In short more manageable but the problem still remains "},
{"id": 370914, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T02:28:23Z", "scrap_date": "2024-04-30T23:58:13.626894", "content": "I ran sls package and the analyized one of the functions theyre all roughly the same size and should have same deps Red areas are obvious devDeps that are included There are more than this which are a bit more hidden Im disappointed my little script for identifying the deps didnt pick it up but this was with Serverlesss excludeDevDependencies flag turned on too "},
{"id": 370915, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T16:26:41Z", "scrap_date": "2024-04-30T23:58:13.627894", "content": "yankeeinlondon my bitbucket username is also davidwells Can you add me to check it out Yeah prettier awssdk typescript etc should all be automatically getting excluded Not sure why they arent right now I will have a look in repo"},
{"id": 370916, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T23:29:57Z", "scrap_date": "2024-04-30T23:58:13.628895", "content": "DavidWells Ive added you to the repo Try running npm run deps after a yarn to get packages into place for an analysis of which dependencies should be excluded This is what is allowing me to operate right now output from my last run of deps"},
{"id": 370917, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T00:34:32Z", "scrap_date": "2024-04-30T23:58:13.628895", "content": "With my deps script producing 482 exclusions my stateInfo function is now 22 86mb aka a workable size Here is the structure of the package that remains google deps are by far biggest deadcode contributor I am going to send the PRs for each of their repos which include node_modules as part of the repo bad juju Note that I did add a few more exclusions to my alwaysexclude yaml file an input to the deps script than the master branch has in it If you want to get exactly the same result update this file to"},
{"id": 370918, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T01:06:46Z", "scrap_date": "2024-04-30T23:58:13.630895", "content": "By comparison with no exclusions but using serverlesss package excludeDevDependencies set to true the file size jumps to 74 62mb I wanted to provide a visual map view but every time I try to SLS errors out with EMFILE too many open files"},
{"id": 370919, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T03:33:20Z", "scrap_date": "2024-04-30T23:58:13.630895", "content": "serverlesszipService js at 643c4fdd7e9c7bfd7a81c4be81a23cffd4be3113 serverlessserverless GitHub is choking with the amount of deps It might be due to one of the larger ones like that database dep Related issue with globby maybe Too slow in big projects Issue 43 sindresorhusglobby GitHub all glob libs seem to face this tho wordnetdb is 45MB and firebase is 8 4MB Get rid of those deps or tree shake out what you need and your zip should be much smaller this is 53 4 of the total 58 1mb zip I also removed the awssdk as its already included in the lambda runtime I will email you the updated serverless yml and package json Im using "},
{"id": 370920, "question_id": 3709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T03:54:15Z", "scrap_date": "2024-04-30T23:58:13.632896", "content": "Also moment js is large Checkout httpsgithub comsmallwinsspacetime or httpsdatefns org"},
{"id": 159062, "question_id": 15906, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-10T04:01:03Z", "scrap_date": "2024-04-30T23:58:14.173902", "content": "Im fine with console error console warn etc from Console Node js v14 17 6 Documentation but I dont know how to get that into Cloudwatch friendly JSON "},
{"id": 159063, "question_id": 15906, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-09-14T21:02:51Z", "scrap_date": "2024-04-30T23:58:14.174902", "content": "hendry might want to check out GitHub getndazndaznlambdapowertools Powertools logger HTTP client AWS clients middlewares patterns for Lambda functions makes it quite nice to add structured logs to node based lambdas "},
{"id": 159064, "question_id": 15906, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-22T08:41:39Z", "scrap_date": "2024-04-30T23:58:14.175903", "content": "hendry internally in the Framework were now reconfiguring all logging with this library GitHub medikoolog Universal logging utility Check the docs and see if it can fit your needs"},
{"id": 159065, "question_id": 15906, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-22T09:04:13Z", "scrap_date": "2024-04-30T23:58:14.176903", "content": "Thanks Im currently using httpslambdalog js org and Im OK with it Wish I could figure out how to log timestamps in local time and sort of helpers wrt EMF [1] would be nice [1] Specification Embedded metric format Amazon CloudWatch"},
{"id": 155562, "question_id": 15556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-20T12:41:32Z", "scrap_date": "2024-04-30T23:58:16.670383", "content": "Im currently working as a DevOps Engineer I know everyone hates that term for BIG_BANK Unfortunately I am pretty limited in which technologies I can implement at work in my current role but I am trying to continue learning on my own I use Docker Jenkins and other tools of the trade at work but one that I cant really make use of due to red tape is Terraform I have heard of using Terraform for on demand infrastructure or as part of a CICD pipeline and I am wondering what the use cases for this would be For example why would I want to automate spinning up or tearing down Kodi nox something like an EC2 as part of my CICD pipeline"},
{"id": 155563, "question_id": 15556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-20T13:35:17Z", "scrap_date": "2024-04-30T23:58:16.671383", "content": "The Serverless Framework is for building serverless applications If you have a web applciation for example that needs to be able to receive HTTP requests to a backend that computes over that request and stores data in a datastore of some kind instead of explicitly defining the resources you need you add a function that gets triggered by an http event and use a service like DynamoDB to store data You could configure all of this together manually in the AWS console yourself but you cant store that in git or share that with your team or make it easily deployable The Serverless Framework lets you do that It is not for a dev ops professional deploying infrastructure for a team of developers Its a developer tool to be used by developers to build applications and helps them use serverless infrastructure to accomplish so reducing dev ops load and allowing teams to develop and get apps into production faster"},
{"id": 155453, "question_id": 15545, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-21T11:51:18Z", "scrap_date": "2024-04-30T23:58:17.430172", "content": "Hi m schubert I was also looking for a solution to this and I came across your question I was able to resolve it and I see that the issue with yours is that you are wrapping the line that contains FnSub in single quotes Heres an example below from my code Resource FnSub arnawses selfprovider region AWSAccountId domainimagessearch selfprovider stage As you can see the Object that contains FnSub is not wrapped in quotes The link to my full serverless ts file is udacityclouddeveloperserverlesslesson3serverless ts at main tobennanwokikeudacityclouddeveloperserverlesslesson3 GitHub I hope this helps Happy Coding "},
{"id": 34282, "question_id": 3428, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-04T22:14:33Z", "scrap_date": "2024-04-30T23:58:18.387009", "content": "yes DeletionPolicy Retain means serverless will not delete it when remove whole serverless stack to protect the data If you change to DeletionPolicy Delete serverless framework will remove that database as well Normally I set a variable on it for nonprod environment set to Delete for production environment set to Retain "},
{"id": 34283, "question_id": 3428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-23T06:02:05Z", "scrap_date": "2024-04-30T23:58:18.388009", "content": "When you set DeletionPolicy Retain in your production environment How do you get your script to skip the creation of the resource"},
{"id": 123262, "question_id": 12326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-20T06:22:11Z", "scrap_date": "2024-04-30T23:58:19.420554", "content": "I solved this by adding the aws_iam authorizer also to the public endpoints and then enabling access to these functions for unauthenticated users as well "},
{"id": 123263, "question_id": 12326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-20T04:30:49Z", "scrap_date": "2024-04-30T23:58:19.421555", "content": "Hi severi How did you configure serverless to allow unauthorized users for some functions What did you have to change in your serverless yml"},
{"id": 123264, "question_id": 12326, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-23T16:18:26Z", "scrap_date": "2024-04-30T23:58:19.421555", "content": "I solved this by enabling unauthorized user access to all functions via AWSCognitoIdentityPoolRoleAttachment Roles unauthenticated then added authorization logic to the code basically you can check if event requestContext identity cognitoAuthenticationType is authenticated "},
{"id": 157372, "question_id": 15737, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-23T19:39:53Z", "scrap_date": "2024-04-30T23:58:20.121149", "content": "Faced this in the past heres what you should do Remove local serverless Folder and then do sls package this will generate a cloud formation file you go to cloud formation edit stack this will take you to the visual editor and you paste the previously generated file in there There must be a better way of doing this but this one is what I know and it worked"},
{"id": 158102, "question_id": 15810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-24T22:55:20Z", "scrap_date": "2024-04-30T23:58:21.203350", "content": "There isnt a way to say only offset 3 failed If the order isnt import you could write the failure to a DLQ manually then process messages from that This would allow you to respond successfully with the Lambda triggered from MSK One of the more important things that people often overlook about Lambda is that your functions need to be idempotent "},
{"id": 158032, "question_id": 15803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-26T15:49:31Z", "scrap_date": "2024-04-30T23:58:21.822173", "content": "The issue was with the node version Theres apparently a bug with node v15 I downgraded to 13 x x and it worked like a charm "},
{"id": 151232, "question_id": 15123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-27T10:35:06Z", "scrap_date": "2024-04-30T23:58:22.814956", "content": "solved it by removing file variables and added the var locally"},
{"id": 157592, "question_id": 15759, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-26T23:26:42Z", "scrap_date": "2024-04-30T23:58:23.503970", "content": "I didnt find an answer to this specific questions but I found that I could accomplish the same this using an AWSServerlessApplication model The layer I was interested is available so I could add And in the Lambda function definition httpsserverlessrepo aws amazon comapplicationsuseast1336392948345awsdatawranglerlayers"},
{"id": 119622, "question_id": 11962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-27T11:42:44Z", "scrap_date": "2024-04-30T23:58:24.335630", "content": "Hi nidersa The problem you are having here is related with the indentation in your serverless yml file With you current indent the serverless framework receives something like Here you can see the value for alb event is null so try to indent inner content 2 spaces to the right and you should be good to go I hope it helps "},
{"id": 158182, "question_id": 15818, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-29T06:29:13Z", "scrap_date": "2024-04-30T23:58:25.308942", "content": "Try eventBridge camelCase provider eventBridge useCloudFormation true"},
{"id": 153262, "question_id": 15326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-19T14:56:27Z", "scrap_date": "2024-04-30T23:58:26.035930", "content": "I need to do the same thing I assume this isnt supported since there has been zero activityresponse to your question "},
{"id": 153263, "question_id": 15326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-19T15:24:27Z", "scrap_date": "2024-04-30T23:58:26.036930", "content": "Yeah they are still trying to add this feature In the end I just wrote cloudformation in my serverless yml to add Dead letter queue"},
{"id": 153264, "question_id": 15326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-28T09:55:40Z", "scrap_date": "2024-04-30T23:58:26.037925", "content": "Hello Im trying to do exactly the same thing do you have any example of how you did by any chance Thanks in advance "},
{"id": 153265, "question_id": 15326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-31T14:35:14Z", "scrap_date": "2024-04-30T23:58:26.037925", "content": "You can write something like this in your serverless ymls resources section Note lambdaInvokeFunction is necessary permission to add Other option that I use is to call the api putTargets by writing a custom plugin"},
{"id": 157042, "question_id": 15704, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-31T14:56:47Z", "scrap_date": "2024-04-30T23:58:26.626927", "content": "Hey have you found the help you needed "},
{"id": 157043, "question_id": 15704, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-31T15:18:40Z", "scrap_date": "2024-04-30T23:58:26.627927", "content": "Yes I found It was wrong on documentation I needed to set the key like eventHubName "},
{"id": 157044, "question_id": 15704, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-31T15:40:34Z", "scrap_date": "2024-04-30T23:58:26.628927", "content": "Im happy that you could easily solve this problem SHAREit MX Player"},
{"id": 66062, "question_id": 6606, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-01T14:09:33Z", "scrap_date": "2024-04-30T23:58:27.466757", "content": "Hi there did you get an answer to this I am facing the same need Hamlet"},
{"id": 119232, "question_id": 11923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-04T22:40:59Z", "scrap_date": "2024-04-30T23:58:28.373836", "content": "I believe last time I had this error or perhaps it was similar was due to the fact that I switched devices from home PC to work PC and I was not logged in SLS on that device Perhaps you need to sls login with your credentials first Little bit of a shot in the dark here as I dont know your full setup to further help Login to the serverless platform"},
{"id": 119233, "question_id": 11923, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2021-05-12T07:14:29Z", "scrap_date": "2024-04-30T23:58:28.374836", "content": "Please remove app and org attributes from your serverless yml file I think it tries to find app from your serverless account and when it is not able to find it it throws the error I fixed this using this method"},
{"id": 119234, "question_id": 11923, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-02T00:50:30Z", "scrap_date": "2024-04-30T23:58:28.375837", "content": "This fixed it Thank you "},
{"id": 158962, "question_id": 15896, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-21T15:22:50Z", "scrap_date": "2024-04-30T23:58:29.197757", "content": "Hi did you manage to find a solution TweakBox Tutuapp"},
{"id": 156702, "question_id": 15670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-03T10:20:11Z", "scrap_date": "2024-04-30T23:58:30.643693", "content": "It got resolved by replacing the project key with alphanumeric id I was using the numeric id only"},
{"id": 144852, "question_id": 14485, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-04T09:27:01Z", "scrap_date": "2024-04-30T23:58:31.727135", "content": "Hi Patrick I was wondering if you had found the solution to this as Im hitting the same issue Regards Matthew"},
{"id": 144853, "question_id": 14485, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-04T10:34:53Z", "scrap_date": "2024-04-30T23:58:31.728136", "content": "Ok I figured out the problem the sqs definition needs to look like this events sqs arn ImportValue selfcustom sstApp BijenkorfSQSTopicArn"},
{"id": 127992, "question_id": 12799, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-04T07:03:14Z", "scrap_date": "2024-04-30T23:58:32.683148", "content": "Yes It is possible with a little workaround Note Make sure that you have latest version of serverless framework"},
{"id": 127993, "question_id": 12799, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-04T22:04:52Z", "scrap_date": "2024-04-30T23:58:32.684148", "content": "Something like this worked for me"},
{"id": 155082, "question_id": 15508, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-19T07:46:01Z", "scrap_date": "2024-04-30T23:58:33.486068", "content": "Hi you can set them in environment area in your serverless yml does that make sense"},
{"id": 155083, "question_id": 15508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-05T16:46:45Z", "scrap_date": "2024-04-30T23:58:33.487068", "content": "Thank you so much for your help "},
{"id": 120082, "question_id": 12008, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-06T09:30:15Z", "scrap_date": "2024-04-30T23:58:34.197444", "content": "I know this is already a year old but have you solved this"},
{"id": 155112, "question_id": 15511, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-07T20:51:36Z", "scrap_date": "2024-04-30T23:58:35.208727", "content": "what do you mean how dare you its just Arrayfrist because some people want to be slightly more expressive that this is the first element not the 0th certainly nothing to do with Kodi nox the youtube comment section"},
{"id": 155052, "question_id": 15505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-07T20:52:52Z", "scrap_date": "2024-04-30T23:58:35.986011", "content": "I swear I saw a few weeks ago somewhere else on reddit a reference to a command line interface for reddit But I cant find it now Search shows reditcli but that post was over a year old 192 168 100 1 192 168 1 1 Is that still the best option"},
{"id": 30232, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-11-05T14:13:29Z", "scrap_date": "2024-04-30T23:58:37.129397", "content": "Hey batjko were working on an OpenFaaS integration right now Stay tuned for updates but Im hopeful it will be out before the end of the year "},
{"id": 30233, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-05T17:05:17Z", "scrap_date": "2024-04-30T23:58:37.130397", "content": "Thats awesome looking forward to trying it out then Thanks for the quick response "},
{"id": 30234, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-11-16T00:12:08Z", "scrap_date": "2024-04-30T23:58:37.131398", "content": "Hey batkjo Alex here creator of OpenFaaS We have a really well thoughtout CLI that works in a very similar way to the serverless CLI and is written in Go which makes it super fast it also uses YAML alexdebrie1 is right that we also have a provider for the Serverless Inc CLI in progress Checkout our official CLI here httpsgithub comopenfaasfaascli and the beginner tutorial here httpsblog alexellis ioquickstartopenfaascli"},
{"id": 30235, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-19T02:12:11Z", "scrap_date": "2024-04-30T23:58:37.132398", "content": "Thanks for your response alexellis At my work were forced to stay away from any kind of vendor lockin to be clouddeployable in any country even those where the big three arent present for whatever reason so in order to make use of lambdasfaas of some kind a ServerlessOpenFaaS combination would be a really sweet one "},
{"id": 30236, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-24T04:19:37Z", "scrap_date": "2024-04-30T23:58:37.133398", "content": "I too am looking for a serverless com plugin for an onpremise Kubernetes cluster I tried kubeless but its too buggy and doesnt support python 3 6 Looking forward to OpenFaas "},
{"id": 30237, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-14T16:19:20Z", "scrap_date": "2024-04-30T23:58:37.134398", "content": "Hello alexdebrie1 searching for FaaS on onprem Openshift took me here It would be really interesting to use Serverless framework on OpenFaaS being a user of Serverless on AWS previously Do you have a view on when this will be available or atleast directions to a work in progress project where we can pitch in Thanks"},
{"id": 30238, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-22T09:21:37Z", "scrap_date": "2024-04-30T23:58:37.135399", "content": "Hi all I know this is an old post Im just wondering if the OpenFaaS integration ever progressed or is still planned It doesnt seem to be in the docs Thanks"},
{"id": 30239, "question_id": 3023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-11T14:30:13Z", "scrap_date": "2024-04-30T23:58:37.135399", "content": "Gathered that this is an old post but im keen to know if this has actually come to fruition Im building a container faasd hybrid portable envirorment on vagrant for my dev teams and id much rather use something like serverless to enforce portability in our apps as opposed to an appspecific abstraction Has this gone anywhere Thanks "},
{"id": 157102, "question_id": 15710, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-10T14:32:54Z", "scrap_date": "2024-04-30T23:58:37.873617", "content": "What is likely happening and has happened to me in the past is that the two faulty methods are actually returning with error responses of some kind 4XX or 5XX errors By default those error types do not have CORS correctoly set but there is a way to fix that using the resources section of the serverless yml You can see more info on setting those default return values in this blog post by going halfway down to the section with the heading CORS with custom authorizers httpswww serverless comblogcorsapigatewaysurvivalguide"},
{"id": 157103, "question_id": 15710, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-10T15:19:05Z", "scrap_date": "2024-04-30T23:58:37.874617", "content": "I updated my serverless yml file to but this too doesnt work When I inspect the response I see that there are 2 APIs"},
{"id": 157104, "question_id": 15710, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-11T08:41:07Z", "scrap_date": "2024-04-30T23:58:37.875618", "content": "Can you add for 5XX too Also take a look at your CloudWatch logs for that function to see if there are any errors being logged that end up returning the 500 error via API Gateway"},
{"id": 157105, "question_id": 15710, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-12T13:01:13Z", "scrap_date": "2024-04-30T23:58:37.875618", "content": "After spends hours on this issue and coordinating with the frontend developer we realized that was a missing parameter in the frontend that was required for the backend It was causing an internal server error thats why the headers were not available After adding the parameter the requests were successful"},
{"id": 154682, "question_id": 15468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-13T11:09:41Z", "scrap_date": "2024-04-30T23:58:38.927414", "content": "Having exactly the same problem Adding this S3 event works sometimes but other times it fails like described by OP "},
{"id": 156082, "question_id": 15608, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-15T04:44:10Z", "scrap_date": "2024-04-30T23:58:39.670600", "content": "I see the same behavior If all your functions canshould be cors enabled you can do it this way provider httpApi cors true Though I am having a problem getting this to work with serverless js The docs show this works but that is for serverless yml Bret"},
{"id": 157072, "question_id": 15707, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-17T08:08:57Z", "scrap_date": "2024-04-30T23:58:40.607850", "content": "We do not rely on stage functionality on AWS instead for each stage we create different instance of HTTP API Its for the same reason as with API Gateway see AWS API Gateway stages are deployed as different API instances no AWS stages are used Issue 2445 serverlessserverless GitHub If youd like each API to be deployed to some specific stage please open a new request and provide a good reasoning note that Framework wont create multiple stages in context of one HTTP API its always about single stage on AWS side its the reason why it makes most sense to go on with default "},
{"id": 91762, "question_id": 9176, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-10T15:07:43Z", "scrap_date": "2024-04-30T23:58:41.550849", "content": "Any help on this I am kind of facing the same problem But mine breaks here When I run this sls deploy v"},
{"id": 91763, "question_id": 9176, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-17T08:12:11Z", "scrap_date": "2024-04-30T23:58:41.551849", "content": "Just had the same issue because I was specifying verbose as command line param"},
{"id": 157562, "question_id": 15756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-18T13:28:55Z", "scrap_date": "2024-04-30T23:58:42.641253", "content": "This is answered by heath if you get lucky with your search"},
{"id": 107302, "question_id": 10730, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-12T13:27:23Z", "scrap_date": "2024-04-30T23:58:43.344949", "content": "This is likely webpack enforcing NODE_ENV value setting it to production Ive solved this by adding the following to my webpack config"},
{"id": 107303, "question_id": 10730, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-08-17T14:11:18Z", "scrap_date": "2024-04-30T23:58:43.345949", "content": "This is likely webpack enforcing NODE_ENV value setting it to production "},
{"id": 153802, "question_id": 15380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-23T12:57:30Z", "scrap_date": "2024-04-30T23:58:44.460925", "content": "It would be great if you share complete logs to get better picture It would also be informative if you share version of sls"},
{"id": 153803, "question_id": 15380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-23T13:27:17Z", "scrap_date": "2024-04-30T23:58:44.460925", "content": "thats all that shows when i run sls deploy v but the issue turns out to be an issue with the serverlessignore plugin not working with my current version of serverless which is 2 48 0 Not sure how to resolve "},
{"id": 153804, "question_id": 15380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-23T16:44:34Z", "scrap_date": "2024-04-30T23:58:44.461926", "content": "Perhaps adding below given property in your serverless yml file could help in pointing the exact configuration issue configValidationMode error"},
{"id": 153805, "question_id": 15380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-16T12:27:53Z", "scrap_date": "2024-04-30T23:58:44.462926", "content": "the issue turns out to be an issue with the serverlessignore plugin not working with my current version of serverless which is 2 48 0"},
{"id": 153806, "question_id": 15380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-17T14:10:34Z", "scrap_date": "2024-04-30T23:58:44.463926", "content": "the issue turns out to be an issue with the serverlessignore plugin not working with my current version of serverless which is 2 48 0"},
{"id": 153807, "question_id": 15380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-19T15:59:47Z", "scrap_date": "2024-04-30T23:58:44.463926", "content": "the issue turns out to be an issue with the serverlessignore plugin not working with my current version of serverless which is 2 48 0"},
{"id": 53602, "question_id": 5360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-13T15:54:02Z", "scrap_date": "2024-04-30T23:58:46.494933", "content": "Did you ever figure out how to set serverSideEncryption AES256 on the deployment bucket Im in the same boat as you So in my setup im using serverless 1 34 1 I originally did not have a deploymentBucket section at all The deployment bucket was created without serverside encryption enabled so I then put serverSideEncryption my yml file But the deploymentBucket STILL does not have serverside encryption enabled "},
{"id": 53603, "question_id": 5360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-25T22:20:19Z", "scrap_date": "2024-04-30T23:58:46.495933", "content": "I did It ended up being way more complicated than I had hoped It had to do with how serverless wants to create the bucket for s3 events I was able to piece the attached yml file together from stuff in the forum and other sources Seems to work for me Take a look at the resources section of the yml "},
{"id": 53604, "question_id": 5360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-20T22:29:22Z", "scrap_date": "2024-04-30T23:58:46.496933", "content": "Curious if there has been any work on making easier in serverless it seems like a very common usecase to be able to generate an S3 bucket for events that has SSE encryption "},
{"id": 119872, "question_id": 11987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T01:54:37Z", "scrap_date": "2024-04-30T23:58:47.253508", "content": "sam here I got sam issue"},
{"id": 119873, "question_id": 11987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-21T12:17:49Z", "scrap_date": "2024-04-30T23:58:47.254508", "content": "same here any understanding on this issue anywhere EDIT i have no idea what i did but suddenly it is working again "},
{"id": 36782, "question_id": 3678, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T04:06:49Z", "scrap_date": "2024-04-30T23:58:47.920490", "content": "Yes Youd need to set your AWS creds in the environment variables of your codeBuild instance httpsserverless comframeworkdocsprovidersawsguidecredentialsquicksetup"},
{"id": 36783, "question_id": 3678, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-22T04:09:29Z", "scrap_date": "2024-04-30T23:58:47.921491", "content": "Isnt that insecure"},
{"id": 151682, "question_id": 15168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-22T07:55:29Z", "scrap_date": "2024-04-30T23:58:48.880342", "content": "Pip is a python packaging module that helps us too install python libraries To install python librariesmodules you need to install pip Upgrade pip python m pip install upgrade pip"},
{"id": 155702, "question_id": 15570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-22T08:02:35Z", "scrap_date": "2024-04-30T23:58:49.585424", "content": "Hi there Could you provide a little more information about this customer As far as a vendor agreement the Serverless Framework is an open source tool and as such requires no vendor agreement in place in order to use experiment and evaluate it If you would prefer to message me directly you can do so by email at gareth com"},
{"id": 153602, "question_id": 15360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-22T22:33:14Z", "scrap_date": "2024-04-30T23:58:50.547964", "content": "Weve been using typescript with lambdas for several years now At first we used webpack various versions of it with tsloader and so but we learned that minification is not good for debugging as stack traces would say like error reading x of undefined at handler js row 1 character 233024 Not very informative There were also other problems with webpack 192 168 100 1 192 168 1 1"},
{"id": 152522, "question_id": 15252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-22T22:34:33Z", "scrap_date": "2024-04-30T23:58:51.567720", "content": "I joined a team a few months ago and took over a web application that prides itself fully serverless and uses microservice architecture The entire application is written in NodeJs and built on AWS Lambda using Serverless framework snaptube vidmate"},
{"id": 141462, "question_id": 14146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T07:58:54Z", "scrap_date": "2024-04-30T23:58:52.713432", "content": "The webpage has been updated now there is no mention about Soon well also have a migration guide to help you move over your Serverless Framework projects to SST What does it mean No answer and the sentence that made me confused was deleted what should I understand Its even more confusing "},
{"id": 141463, "question_id": 14146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-26T21:22:19Z", "scrap_date": "2024-04-30T23:58:52.714431", "content": "Hey Patchoulin sorry I didnt see this before SST and Serverless Framework are two separate open source frameworks for building serverless applications SST is based on AWS CDK and allows you to test your Lambda functions live The docs that you linked to are from SST and not related to Serverless Framework Hope that helps "},
{"id": 43032, "question_id": 4303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-27T18:19:43Z", "scrap_date": "2024-04-30T23:58:53.626058", "content": "Any news on this Im facing the same issue "},
{"id": 156282, "question_id": 15628, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-28T10:32:54Z", "scrap_date": "2024-04-30T23:58:54.117678", "content": "OK I have solved the above topic but I cant seem to close the topic Maybe interesting for future reference people who do the same as me event detail must be a JSON object and not a JSON array Perhaps interesting to know for the people maintaining serverlessofflineawseventbridge this works differently online "},
{"id": 152802, "question_id": 15280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-12T22:18:47Z", "scrap_date": "2024-04-30T23:58:54.981764", "content": "You should set the deprecation variables in your serverless yml file and verify that serverless deploy is successful and the framework interpolates your variables as snaptube vidmate you intend "},
{"id": 152803, "question_id": 15280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-28T17:37:46Z", "scrap_date": "2024-04-30T23:58:54.982762", "content": "Hey have you figured out how to do that Appvalley TutuApp Tweakbox"},
{"id": 152682, "question_id": 15268, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-29T00:20:15Z", "scrap_date": "2024-04-30T23:58:55.928052", "content": "Did you ever get this working I keep finding my libraries dont go to a library directory when I put them in the DockerExtraFiles parameter "},
{"id": 156012, "question_id": 15601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-27T01:37:16Z", "scrap_date": "2024-04-30T23:58:56.753371", "content": "Im experiencing the same thing Serverless at provider httpApi authorizers customAuthorizer unrecognized property type Serverless at provider httpApi authorizers customAuthorizer unrecognized property functionName Serverless at provider httpApi authorizers customAuthorizer unrecognized property enableSimpleResponses Serverless at provider httpApi authorizers customAuthorizer should have required property issuerUrl Serverless at provider httpApi authorizers customAuthorizer should have required property audience Just seems like its ignoring type request and related configuration "},
{"id": 156013, "question_id": 15601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-27T16:54:24Z", "scrap_date": "2024-04-30T23:58:56.754372", "content": "This issue has been resolved it turns out this was due to an outdated Serverless version locally v1 74 1 Updating to v2 49 0 fixed this for me "},
{"id": 156014, "question_id": 15601, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-29T00:30:46Z", "scrap_date": "2024-04-30T23:58:56.755372", "content": "Resolved for me as well For the next person I think I had a plugin that installed serverless locally even though I did not intentionally do that I deleted the serverless folder under my projects node_modules and then running serverless version gave me the correct version 2 52 1 and it worked So if youre reading this try this"},
{"id": 101652, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-03T10:14:55Z", "scrap_date": "2024-04-30T23:58:57.793388", "content": "Hi SuprNerd and welcome to the community It looks as if the library you are trying to use is attempting to create some kind of symlink on the Lambda The structure of a Lambda though does not necessarily allow this A quick Google of Invalid crossdevice link seems to indicate that symlinking across partitions or devices is not possible which must mean that tmp and var are not on the same device This is just a guess however as I am no Python expert "},
{"id": 101653, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-05T09:30:53Z", "scrap_date": "2024-04-30T23:58:57.794389", "content": "i am running into a similar error Any solutions or help but its with any python package i try to use i get invalid cross link error"},
{"id": 101654, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-07T23:19:32Z", "scrap_date": "2024-04-30T23:58:57.795389", "content": "Any update on this as of yet Still struggling with the issue haha"},
{"id": 101655, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-07T23:40:02Z", "scrap_date": "2024-04-30T23:58:57.795389", "content": "just make sure all your files exists in the same directory Especially we you run sls deploy make sure you run that with proper permission just do ls la you will get list of all hidden files serveless directory must be create in the same filesystem if its created in the root and you have other files in your user filesystem Just try avoiding sudo if sls deploy without sudo throws error remove serveless directory and again run the sls deploy without sudo The key is all your files must be in same filesystem This solved my error Hope this helps "},
{"id": 101656, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-08T00:30:17Z", "scrap_date": "2024-04-30T23:58:57.797384", "content": "Can I ask what are the contents of your serverless directory I just have requirements txt in there "},
{"id": 101657, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-08T01:53:38Z", "scrap_date": "2024-04-30T23:58:57.797384", "content": "It is created during runtime when you do sls deploy"},
{"id": 101658, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-02T02:44:38Z", "scrap_date": "2024-04-30T23:58:57.798384", "content": "I had a similar issue I looked looked up the error OSError [Errno 18] Invalid crossdevice link Some people said it was an issue with pip so I tried pip install upgrade pip Heres what did work for me Also I am assuming you are using the serverlesspythonrequirements plugin After doing all that I deployed again and it worked It seems like the issue was something in my virtual environment"},
{"id": 101659, "question_id": 10165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-29T18:32:35Z", "scrap_date": "2024-04-30T23:58:57.799384", "content": "Any help here still with that error try all you suggested here "},
{"id": 156182, "question_id": 15618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-26T17:02:57Z", "scrap_date": "2024-04-30T23:58:58.491172", "content": "Appreciate if anyone could share whether theyre able to get this DynamoDB Streams property worked in their serverless yml file If so could you please share the yml configuration for it functionResponseType ReportBatchItemFailures"},
{"id": 156183, "question_id": 15618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-30T01:19:57Z", "scrap_date": "2024-04-30T23:58:58.492172", "content": "As per the following PR feat AWS Stream Add support for custom checkpoint by imewish Pull Request 9056 serverlessserverless GitHub Being new to this forum Im wondering how do I bring this to the attention of serverless com As mentioned in my initial post we are getting the error even after making the changes as per the above merged PR Appreciate any help in this regard Thanks boxed"},
{"id": 132092, "question_id": 13209, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-02T19:47:56Z", "scrap_date": "2024-04-30T23:58:59.518380", "content": "I am getting a similar error eusouth1 region is not supported by dashboard I logged in to sls dashboard during project creation I dont really care about the sls dashboard now and would just like to deploy my service to the Milan region Any pointers"},
{"id": 132093, "question_id": 13209, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-02T21:16:55Z", "scrap_date": "2024-04-30T23:58:59.519381", "content": "Its been a while FWICR sls will do a deploy to the sls dashboard saas platform if you have your organization set at the top of serverless yml To deploy straight to aws without the dashboard just remove those lines from the top of serverless yml i e "},
{"id": 133522, "question_id": 13352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-26T09:26:13Z", "scrap_date": "2024-04-30T23:59:01.393217", "content": "Hey I have just came across this from what I see this repository is using serverless framework Take a look again maybe when you were checking it out it wasnt there Admittedly its one of the earlier versions and might need a bump but should still deploy just fine s1mrankaur"},
{"id": 16712, "question_id": 1671, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-09T11:23:31Z", "scrap_date": "2024-04-30T23:59:02.519098", "content": "Using optregion selfprovider region should work Its probably more common to include the following snippet inside your serverless yml then use selfcustom region "},
{"id": 16713, "question_id": 1671, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T17:18:01Z", "scrap_date": "2024-04-30T23:59:02.521095", "content": "Thanks for your help I tried the following provider name aws runtime java8 custom region optregion selfprovider region environment SPRING_PROFILES_ACTIVE custom region But got this error message Serverless Error "},
{"id": 16714, "question_id": 1671, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-12T01:31:04Z", "scrap_date": "2024-04-30T23:59:02.522095", "content": "It would help if you can format your serverless yml "},
{"id": 16715, "question_id": 1671, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-21T08:51:43Z", "scrap_date": "2024-04-30T23:59:02.522095", "content": " custom region perhaps can try selfcustom region "},
{"id": 16716, "question_id": 1671, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-25T07:24:04Z", "scrap_date": "2024-04-30T23:59:02.523096", "content": "I success this code you can try it "},
{"id": 16717, "question_id": 1671, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-29T03:47:54Z", "scrap_date": "2024-04-30T23:59:02.523096", "content": "I use the serverless pseudo parameters plugin for this httpswww serverless compluginsserverlesspseudoparameters With this plugin you can reference AWSRegion AWSAccountId in your yaml for example "},
{"id": 154392, "question_id": 15439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-29T20:30:29Z", "scrap_date": "2024-04-30T23:59:03.019322", "content": "Ive got it"},
{"id": 154532, "question_id": 15453, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-30T23:32:52Z", "scrap_date": "2024-04-30T23:59:04.139838", "content": "I also used this as reference httpswww serverless comframeworkdocsprovidersawseventsstreams which should match the docs "},
{"id": 154552, "question_id": 15455, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T05:09:54Z", "scrap_date": "2024-04-30T23:59:05.147298", "content": "See Custom bucket configuration not doing anything Issue 9636 serverlessserverless GitHub"},
{"id": 79142, "question_id": 7914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-30T21:30:21Z", "scrap_date": "2024-04-30T23:59:05.719822", "content": "Do you need to provide compatibleRuntimes Or when referencing the node_modules now are you going through optlayerNamenode_modules "},
{"id": 79143, "question_id": 7914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T16:37:18Z", "scrap_date": "2024-04-30T23:59:05.720841", "content": "You need to insert your node_modules directory into nodejs directory nodejsnode_modules httpsdocs aws amazon comlambdalatestdgconfigurationlayers htmlconfigurationlayerspath"},
{"id": 79144, "question_id": 7914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-24T08:01:02Z", "scrap_date": "2024-04-30T23:59:05.720841", "content": "This way of writing is correct AnalyticsShared This part doesnt always work correctly though Serverless Framework says as following in AWS LayersUsing your layers To use a layer with a function in the same service use a CloudFormation Ref The name of your layer in the CloudFormation template will be your layer name TitleCased without spaces and have LambdaLayer appended to the end EG This phenomenon may happen when layers name is equal to service name Thats because layers name create zip file e g Test zip as well as service name create zip file e g test zip when sls deploy with cloudformation info "},
{"id": 79145, "question_id": 7914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T06:23:35Z", "scrap_date": "2024-04-30T23:59:05.722823", "content": "Hi At the point when you make a layer you should package all its anything but a compress record document You transfer the compress record file to your layer from Amazon Simple Storage Service Amazon S3 or your neighborhood machine Lambda separates the layer substance into thepick registry when setting up the execution climate for the capacity "},
{"id": 154102, "question_id": 15410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-25T18:45:22Z", "scrap_date": "2024-04-30T23:59:06.838410", "content": "I assume that this is probably due to this not being run in cloud formation or something I there no way to say template this with the accountId of the user running this deploy"},
{"id": 154103, "question_id": 15410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-30T12:00:25Z", "scrap_date": "2024-04-30T23:59:06.839410", "content": "Hey cleartrevorvossberg Ive merged today a PR that will allow to reference and resolve accountId in all places in your config Add support for `awsregion` and `awsaccountId` variables by pgrzesik Pull Request 9662 serverlessserverless GitHub It should be released either today or tomorrow"},
{"id": 154104, "question_id": 15410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-30T18:56:02Z", "scrap_date": "2024-04-30T23:59:06.840410", "content": "Thanks that looks great What version would that end up in or how would I be able to use those changes"},
{"id": 154105, "question_id": 15410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T07:48:28Z", "scrap_date": "2024-04-30T23:59:06.841411", "content": "It will be available with 2 50 0 that will be released in 1 hour "},
{"id": 151492, "question_id": 15149, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T10:26:35Z", "scrap_date": "2024-04-30T23:59:07.492198", "content": "Hi edwar95 Ive come across the same error when deploying Log looks exactly like yours Did you solve this issue thx in advance"},
{"id": 150402, "question_id": 15040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T11:28:49Z", "scrap_date": "2024-04-30T23:59:08.391753", "content": "Bump as Im also getting this error Your Environment Information Operating System linux Node Version 14 17 0 Framework Version 2 48 1 local Plugin Version 5 4 2 SDK Version 4 2 3 Components Version 3 12 0"},
{"id": 154902, "question_id": 15490, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-05T06:55:42Z", "scrap_date": "2024-04-30T23:59:09.439465", "content": "Ok solved this issue by updating my serverless package"},
{"id": 154492, "question_id": 15449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-05T07:45:02Z", "scrap_date": "2024-04-30T23:59:10.555350", "content": "This is a silly mistake with the template variables Change to straight text and it works "},
{"id": 154502, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-30T21:12:15Z", "scrap_date": "2024-04-30T23:59:11.590472", "content": "pgrzesik buggy apologies for tagging you directly but I was wondering if you can help me with this or let me know if I am using the correct keywords as I am unfamiliar with the terminology for this section of aws"},
{"id": 154503, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T07:50:04Z", "scrap_date": "2024-04-30T23:59:11.591473", "content": "Hello does that persist after subsequent deployments Could you check if thats the case by fetching the stages e g via AWS CLI Maybe its just some caching on the frontend side in the AWS console"},
{"id": 154504, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T08:32:25Z", "scrap_date": "2024-04-30T23:59:11.591473", "content": "Hi pgrzesik thanks for the quick reply Unfortunately it does not look like it is frontend caching For example If I view the stage documentation I still see the old paths If I then do an AWS CLI call to export that documentation I still see the old resource paths too I can also still curl both endpoints too The only way to remove these old resource paths is doing a a subsequent forced deploy where no code has changed via serverless or via the AWS console Also just to confirm this is a completely new project thats been created so there shouldnt be any odd plugins causing this issue this is the full serverless yml file below "},
{"id": 154505, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-01T10:40:10Z", "scrap_date": "2024-04-30T23:59:11.593473", "content": "pgrzesik Ive been experimenting this morning it looks like we need that second deploy for some reason For example this is what I am doing It looks like step 3 can be either I think serverless should be doing that deploy automatically to remove the old resource paths but it is not currently doing so"},
{"id": 154509, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-02T12:34:26Z", "scrap_date": "2024-04-30T23:59:11.594474", "content": "Thanks for extra details Could you please report is as an issue following the issue template ideally with reproducible steps here Issues serverlessserverless GitHub Thanks in advance"},
{"id": 1545010, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-02T15:04:02Z", "scrap_date": "2024-04-30T23:59:11.594474", "content": "pgrzesik thank you very much I have opened an issue please let me know if I can provide any more detail"},
{"id": 1545011, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-05T07:34:01Z", "scrap_date": "2024-04-30T23:59:11.595474", "content": "Thanks a lot Ill be looking into that issue today"},
{"id": 1545012, "question_id": 15450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-05T08:23:49Z", "scrap_date": "2024-04-30T23:59:11.595474", "content": "Thank you so much Im more than happy to send extra screenshots or jump on a call to help"},
{"id": 145043, "question_id": 14504, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-06T09:09:04Z", "scrap_date": "2024-04-30T23:59:12.564394", "content": "At 50 cents per GB ingested thats about 2 billion lambda invocations per day At that scale Im sure you have other issues to worry about than a 300 ClodWatch 9Apps Showbox Tutuapp Logs bill "},
{"id": 154982, "question_id": 15498, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-06T15:42:12Z", "scrap_date": "2024-04-30T23:59:13.632377", "content": "StepFunctions Can run up to 1 year But the individual Lambda functions still have the same limitations they have when used outside of a StepFunction So you can set a timeout on your individual Lambda functions of up to 15 minutes but not remove it completely That being said if you have a single process that needs to run longer you need to break it up in smaller pieces that can fit without the 15 minute max timeout "},
{"id": 154983, "question_id": 15498, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-06T16:00:45Z", "scrap_date": "2024-04-30T23:59:13.633374", "content": "Thanks for that clarification Brett "},
{"id": 154432, "question_id": 15443, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-06T15:20:33Z", "scrap_date": "2024-04-30T23:59:14.653156", "content": "So do I need to explicitly provide the BillingMode value for AWSServerlessSimpleTable resources Nope There is not property named BillingMode on the SimpleTable resource It can be implied by the lack of a ProvisionedThroughput property That is you can explicitly define ProvisionedThroughput or leave it off for PAY_PER_REQUEST "},
{"id": 154433, "question_id": 15443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-06T17:40:40Z", "scrap_date": "2024-04-30T23:59:14.654157", "content": "Oh thats so Thanks for your helping "},
{"id": 154642, "question_id": 15464, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-08T10:27:02Z", "scrap_date": "2024-04-30T23:59:15.427591", "content": "Sorry I didnt realize that the following applies also to http events"},
{"id": 150012, "question_id": 15001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-14T10:21:08Z", "scrap_date": "2024-04-30T23:59:17.098524", "content": "I think I find the root cause Its indent space where two more are needed [1] aws api gateway Serverless Configuration warning at functions app events[0] unsupported function event Stack Overflow"},
{"id": 150013, "question_id": 15001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-13T01:03:07Z", "scrap_date": "2024-04-30T23:59:17.099521", "content": "Hi thanks for sharing the solution Mini Militia App Lock"},
{"id": 70142, "question_id": 7014, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-15T22:39:11Z", "scrap_date": "2024-04-30T23:59:18.100728", "content": "Is there any way to fix this without path change No The API Gateway only allows one resource with variable path part under a parent resource "},
{"id": 70143, "question_id": 7014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T06:58:38Z", "scrap_date": "2024-04-30T23:59:18.101728", "content": "Hi buggy Spring allows this mapping why Gateway API has problem with this mapping It creates problem while moving the microservice to aws Had to rename the mappings and handle them Is there a workaround for this Please let me know your thoughts "},
{"id": 91352, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-23T23:47:55Z", "scrap_date": "2024-04-30T23:59:18.967648", "content": "Very similar but I got this With the following"},
{"id": 91353, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-24T21:50:03Z", "scrap_date": "2024-04-30T23:59:18.968645", "content": "Im getting a similar problem on 1 50 0 "},
{"id": 91354, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-27T04:13:43Z", "scrap_date": "2024-04-30T23:59:18.969646", "content": "zacharywenner Thank you for opening the issue github comserverlessserverless Issue AWS Events Cognito User Pool Triggers fail to deploy \t \topened by zacharywenner \ton 20190826 \t \t \t This is a Bug Report Description What went wrong I tried to deploy Cognito Triggers on 1 50 0 The error I am getting related to PreSignUp I first mentioned that it happened when I removed a function but as you say another similar problem occurred when I deploy The problem occurred when I enabled MultiFactor Authentication and provided a role to allow Amazon Cognito to send SMS messages "},
{"id": 91355, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-09T14:28:36Z", "scrap_date": "2024-04-30T23:59:18.970646", "content": "Having the same issue after removing a handler from the serverless yml file that had an event referencing an existing cognito user pool This occurs after deploying the handler function successfully then removing the function handler definition in its entirety from the serverless yml file and attempting to redeploy An error occurred CognitoCustomMessageHandlerCustomCognitoUserPool1 Failed to delete resource User arnawsstsACCOUNTIDassumedroledevopalusersIamRoleCustomResourcesLambdaExecuti18KXQ6A3U9B54opalusersdevcustomresourceexistingcup is not authorized to perform lambdaRemovePermission on resource arnawslambdauseast1ACCOUNTIDfunctionopalusersdevcognitoCustomMessageHandler If I check the offending IamRole it does indeed have the correct permissions after deploying the functions But when I remove the entire function from the serverless yml file I believe the opalusersdevcustomresourceexistingcup resource created by the Serverless Framework has its permissions removed BEFORE it attempts to do its work on the function handler that I removed but fails since it no longer has permissions Seems like an issue with order of operations but no idea how to resolve "},
{"id": 91356, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-10T01:24:19Z", "scrap_date": "2024-04-30T23:59:18.972646", "content": "Eventually now I deal with it by deleting the description below event and manually linking triggers after deployment "},
{"id": 91357, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-01-14T18:36:47Z", "scrap_date": "2024-04-30T23:59:18.973647", "content": "Still getting the samesimilar error in 1 61 with config kizashitakata I am doing the same thing for remediation would be nice if it could be fixed properly I saw some users on the bug report thread deleted and recreated their user pool to fix it this is not an option for me Also fwiw if I go to the url provided in the Serverless deploy output the stack error says this Failed to delete resource Statement cognitotriggersdevcustomMessageuswest2_ is not found in resource policy See details in CloudWatch Log 20200114[LATEST]cb27c13b56634f3e94ef038f6d268bbf I am not able to locate the log mentioned "},
{"id": 91358, "question_id": 9135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T19:55:32Z", "scrap_date": "2024-04-30T23:59:18.974647", "content": "I had this same issue Serverless v2 43 1 What I wound up doing was this"},
{"id": 150772, "question_id": 15077, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T22:44:38Z", "scrap_date": "2024-04-30T23:59:19.849707", "content": "Hi All Based on further testing and checks it seems this issue is somehow connected with the M1 Mac what I am using Strangely the exact same Mac setup is working with very small few kB zip files and the bigger files with the same config are working on my intel based older Mac For now I have am using a very hacky script to manually upload the generated artefacts and also finish the CloudFormation updates"},
{"id": 151952, "question_id": 15195, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T21:10:19Z", "scrap_date": "2024-04-30T23:59:20.615288", "content": "Ive tried ECR for my PythonDjango applications and its really a gift from heaven no layers no pythonRequirements no 250MB limit Linux dependencies are simply installed by yum in Dockerfile On the other hand all existing things are not working Serverless dashboard doesnt support functions inside an Kodi nox image"},
{"id": 150202, "question_id": 15020, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-15T21:11:06Z", "scrap_date": "2024-04-30T23:59:21.716824", "content": "Ive got this one with TypeScript Node including express React and SCSS It works for my needs but it might not work for yours Just thought Id give you more 9Apps Showbox Tutuapp options"},
{"id": 136842, "question_id": 13684, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-13T05:06:28Z", "scrap_date": "2024-04-30T23:59:22.627086", "content": "Update I started with a really simple sls config and modified localstack config and finally got it resolved "},
{"id": 136843, "question_id": 13684, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-09T14:29:02Z", "scrap_date": "2024-04-30T23:59:22.628086", "content": "What was the issue I am asking as I am getting the same error "},
{"id": 136844, "question_id": 13684, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-23T21:59:24Z", "scrap_date": "2024-04-30T23:59:22.629085", "content": "I am having the same problem What do you mean by and modified localstack config i cant get to solve this problem and i need to deploy my functions"},
{"id": 136845, "question_id": 13684, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-28T15:51:35Z", "scrap_date": "2024-04-30T23:59:22.630091", "content": "Same problem for me Anyone found the solution"},
{"id": 136846, "question_id": 13684, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-17T16:57:20Z", "scrap_date": "2024-04-30T23:59:22.630590", "content": "Im had the same problem I changed the name of service in serverless yml The name was testeserverlesslocal I changed it to teste and works for me I think if you change the name to a short name maybe will work"},
{"id": 139032, "question_id": 13903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-30T15:55:21Z", "scrap_date": "2024-04-30T23:59:23.697129", "content": "Or I think a different way to handle this would be to manually set the name for the usage plan instead of letting serverless create the name Unfortunately I havent found a way to get this to work either "},
{"id": 139033, "question_id": 13903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-30T16:13:37Z", "scrap_date": "2024-04-30T23:59:23.698129", "content": "After several hours I finally figured this out myself For those who are looking for this solution you need to reference the CloudFormation resource that gets generated by serverless This is done using the Ref method and making sure you get the naming correct You can read more in the link below For my problem it meant concatenating the name of the plan with the first letter capitalized Also putting the environment variables on the provider leads to a circular dependency So I had to move it to the lambda function How to deploy and manage AWS infrastructure to use with your AWS Lambda functions with the Serverless Framework"},
{"id": 139034, "question_id": 13903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-31T17:53:26Z", "scrap_date": "2024-04-30T23:59:23.699129", "content": "Unfortunately I am still working on this and running into issues The method posted above works great for an isolated lambda function If I add an api gateway event to trigger the lambda function I get a long circular dependency chain Essentially the gateway depends on the lambda but adding the Ref and an event causes the lambda to depend on the gateway I have no idea how to resolve this issue If you guys have any advice for me please share thanks Error The CloudFormation template is invalid Circular dependency between resources [CreateKeyLambdaVersioneOpZrqC8mpUGLztEz3wzGrzZJDqxNuyFs4odZqt8c ApiGatewayUsagePlanFree CreateKeyLambdaPermissionApiGateway CreateKeyLambdaFunction ApiGatewayMethodKeysPost ApiGatewayDeployment1612115480987]"},
{"id": 139035, "question_id": 13903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-03T06:29:33Z", "scrap_date": "2024-04-30T23:59:23.700130", "content": "Running into exactly this problem I do not understand why the gateway depends on the lambda If I create the api gateway and usage plan separately using whatever method save the ids in ssm and refer to them in serverless yml everything would have been fine Can someone from serverless explain"},
{"id": 139036, "question_id": 13903, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-06-18T13:08:49Z", "scrap_date": "2024-04-30T23:59:23.701130", "content": "We manage to solve this by separating the UsagePlan to a separate resource"},
{"id": 74823, "question_id": 7482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-23T13:03:03Z", "scrap_date": "2024-04-30T23:59:24.550214", "content": "I was having the same issue but was missing the serverless yml config Im using apolloserverlambda although is similar config to express cors wise "},
{"id": 74824, "question_id": 7482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-23T13:20:45Z", "scrap_date": "2024-04-30T23:59:24.551214", "content": "I think your problem may just be orgin typo"},
{"id": 74825, "question_id": 7482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-10T19:25:43Z", "scrap_date": "2024-04-30T23:59:24.552214", "content": "how to allow multiple origin"},
{"id": 74826, "question_id": 7482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-19T01:22:55Z", "scrap_date": "2024-04-30T23:59:24.552214", "content": "Is there a way to leave the handling of the OPTIONS method to the express app and bypass serverless I tried Working locally with serverlessoffline this works But it does not seem to be working on the actual server "},
{"id": 86242, "question_id": 8624, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-06-24T06:23:49Z", "scrap_date": "2024-04-30T23:59:25.215222", "content": "Hi Dsantacruz and welcome to the community The issue you mention is the fact that the environment under which your Lambda functions run on AWS is not the same as the environment you might run locally Bcrypt has to be compiled for the environment in which it is going to execute since it is written in C and this means if you have to use that specific version there are some hoops you will need to jump through These instructions should help you with that route httpsgithub comkelektivnode bcrypt jswikiInstallationInstructionsrhelandcentos The alternative is to use a module called bcryptjs httpsgithub comdcodeIObcrypt js which does exactly the same thing but is written purely in JavaScript The downside is that it will be a bit slower but this might be good enough for you "},
{"id": 86243, "question_id": 8624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-27T07:23:58Z", "scrap_date": "2024-04-30T23:59:25.217223", "content": "The downside is that it will be a bit slower but this might be good enough for you It should be good enough and its not really a downside The response time of a call to bcrypt is not the premier thing to optimize on The funny thing is that bcrypt is designed to be configurably slow From Wikipedia bcrypt is an adaptive function over time the iteration count can be increased to make it slower so it remains resistant to bruteforce search attacks even with increasing computation power So even if a bruteforce attack on hashed passwords with another implementation might be 30 faster that effect can be cancelled by increasing the number of hashing rounds by the algorithm "},
{"id": 86244, "question_id": 8624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-19T21:33:33Z", "scrap_date": "2024-04-30T23:59:25.219223", "content": "change package to npm install bcryptjs var bcrypt require bcryptjs The functions are the same Get more information here GitHub dcodeIObcrypt js Optimized bcrypt in plain JavaScript with zero dependencies "},
{"id": 56332, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2018-08-31T05:40:13Z", "scrap_date": "2024-04-30T23:59:25.972773", "content": "I would start by trying something like"},
{"id": 56333, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-08-31T14:24:22Z", "scrap_date": "2024-04-30T23:59:25.973774", "content": "Your solution seems to be exactly that I was looking for I also have successfully tested your approach with this This import my api yml like expected but it also removes a lot of advantages the serverless framework gives me If I replace the whole API template with my API definition I also have to define all other API ressources like the API keys the API deployment and the trigger for the lambda functions by my self For me an better solution would be if I could use something like the putrestapi command in cloudformation to overwrite only the Methods and Models from the serverless API template and keep the API Keys and lambda trigger aws apigateway putrestapi restapiid AWSApiGatewayRestApi region selfprovider stage mode overwrite body fileapimodelapi yml"},
{"id": 56334, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-02T13:02:14Z", "scrap_date": "2024-04-30T23:59:25.975774", "content": "Thanks for moving this discussion forward My organisation is API therefore Swagger first rather than Function therefore Serverless first If we can achieve the successful marriage of the two Swagger and Serverless then I will win them over with Serverless without it reluctantly Im likely destined for SwaggerSAM The Swagger use case the organisation likes is the ability to forward engineer the consumerclient "},
{"id": 56336, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-04T11:18:07Z", "scrap_date": "2024-04-30T23:59:25.976775", "content": "If I replace the whole API template with my API definition I also have to define all other API ressources like the API keys the API deployment and the trigger for the lambda functions by my self You dont need to replace the whole template The Serverless Framework will merge your resources section with the one it generates My example adds the Body property to the CloudFormation generated by the Serverless Framework "},
{"id": 56337, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-04-08T12:36:48Z", "scrap_date": "2024-04-30T23:59:25.977775", "content": "Hi Im testing your trick by including the following swagger definition in the resource section However when I serverless deploy my API I get the following error message Should I add xamazonapigatewayintegration Is there a way that serverless still handles the integration layer for us My second question is Using swagger how does serverless map the routes from the swagger definition to the JS methods I mean the swagger equivalent to the handler keyvalue pair Thanks"},
{"id": 56338, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-19T19:29:44Z", "scrap_date": "2024-04-30T23:59:25.978775", "content": "This works great except for when using the serverlessoffline plugin Does anyone have any strategy to combine the two in your project"},
{"id": 56339, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T06:41:16Z", "scrap_date": "2024-04-30T23:59:25.978775", "content": "Hey slaursenfl did you ever work out a strategy for this"},
{"id": 563310, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-22T22:07:37Z", "scrap_date": "2024-04-30T23:59:25.979775", "content": "thomasama Im running into the same issue you are now having I have defined by swagger documentation and included it in the Body attribute of the ApiGatewayRestApi Resource section but am getting An error occurred ApiGatewayDeployment1554726393541 No integration defined for method Service AmazonApiGateway Status Code 400 Error Code BadRequestException Request ID Did you ever find a way to resolve this issue"},
{"id": 563311, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-15T21:43:43Z", "scrap_date": "2024-04-30T23:59:25.980776", "content": "Late to the party here but this thread was very helpful Some documentation on how Serverless merges the resources would be helpful my google fu hasnt found anything particularly substantial yet LucasRudd I ran into this as well when doing SAM The xamazonapigatewayintegration property can be added to a path and use intrinsic functions Docs here httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayswaggerextensionsintegration html"},
{"id": 563312, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-07-08T18:18:37Z", "scrap_date": "2024-04-30T23:59:25.981776", "content": "I have been trying to get this working also If you define all of your API endpoints in your swaggeropenAPI specification and include the xamazonapigatewayintegration properties to associate endpoints with lambda functions as Ashpabb suggests then you would not have any http event definitions on your functions in the functions section of serverless yml because the relationship between the lambda functions and the API endpoints is defined in the swaggeropenAPI spec Indeed if you do define http events for functions with the same endpoint names as in the swagger spec then youll get a Another resource with the same parent already has this name error from Serverless upon deployment But if you dont have any http event definitions then Serverless does not create an API for you so you have to do it all yourself in Cloudformation buggy you say that Serverless will merge your resources with the one it generates but it seems to me that it wont generate any API resources in this scenario You could add a dummy http event to your functions in order to prompt Serverless to create the API the permissions and the deployment but thatd leave a dummy endpoint lying around So I think Dragonil was correct when stating that this approach requires the developer to define all the API resources themselves when using a swaggeropenAPI specification Here is the Cloudformation that I added to serverless yml to get it working with a swagger specification And the relevant part of my swagger spec looks like this I appreciate this question was asked a long time ago and perhaps there is a better approach now If so Id love to hear about it There doesnt seem to be a lot of documentation around how to get a swaggeropenAPI spec working within a Serverless application "},
{"id": 563313, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-24T17:43:10Z", "scrap_date": "2024-04-30T23:59:25.984776", "content": "This solution was the one I was looking for Thank you very much As a complement for those who are trying to add more than 1 lambda function in your swagger yaml you need to add the reference to any endpoint that implements a lambda with the xamazonapigatewayintegration extention and within your serverless yaml you can specify another Permission key with a variant name like PermissionLambdaOne PermissionLambdaTwo and provide the lambda name for each lambda you are building Also I can say that Ive tested plugins like serverlessswaggerapi but it didnt function as expected Well appreciate if these plugins were officialy supported by serverless to make API building much more powerfull "},
{"id": 563314, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-01T01:06:05Z", "scrap_date": "2024-04-30T23:59:25.985777", "content": "salvadornava01 Can you provide an example with more than one Lambda"},
{"id": 563315, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-02T02:56:42Z", "scrap_date": "2024-04-30T23:59:25.986777", "content": "dalejacques Of course Lets say for example that you have 2 lamdba functions in your serverless yml functions named testOne and testTwo Then you need to reference that functions in your permissions like and then in your swagger yaml use those FunctionName as follows And thats it Your functions in your serverless project will be matched with the definitions on your swagger yaml"},
{"id": 563316, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-03T03:40:34Z", "scrap_date": "2024-04-30T23:59:25.988778", "content": "salvadornava01 Tremendous Thankyou Im going through this right now and you just saved me hours of work Let me know if I can ever repay the favor "},
{"id": 563317, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T21:03:14Z", "scrap_date": "2024-04-30T23:59:25.989778", "content": "Im glad to know that I can help you mate And dont worry we are here to contribute to the community Wish you happy coding "},
{"id": 563318, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T09:43:27Z", "scrap_date": "2024-04-30T23:59:25.990777", "content": "salvadornava01 Im trying this solution and encountered The CloudFormation template is invalid Template error instance of FnGetAtt references undefined resource "},
{"id": 563319, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-31T21:25:37Z", "scrap_date": "2024-04-30T23:59:25.990777", "content": "jericromero In FnGetAtt you need to reference the normalized Resource Name for the function See here for sls docs on how the normalized names are structured In short change To"},
{"id": 563320, "question_id": 5633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-22T02:11:23Z", "scrap_date": "2024-04-30T23:59:25.991778", "content": "If you overwrite the Body property of the API Gateway created by serverless in resourcesextensions section you will have all the definition of the swagger file included and you wont have to create the API Gateway from scratch The only bad thing is that you wont be able to test locally "},
{"id": 89072, "question_id": 8907, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-06T17:55:28Z", "scrap_date": "2024-04-30T23:59:27.010775", "content": "I have the same issue now Were you able to figure out the solution to this"},
{"id": 89073, "question_id": 8907, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-09-24T15:04:34Z", "scrap_date": "2024-04-30T23:59:27.011776", "content": "The AWSApiGatewayDeployment needs DependsOn attribute on one AWSApiGatewayMethod otherwise CloudFormation will try to create the deployment before the API is ready "},
{"id": 89074, "question_id": 8907, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-22T09:34:13Z", "scrap_date": "2024-04-30T23:59:27.011776", "content": "I also faced the same issue Im using serverless function to create my rest api As AWS docs says AWSApiGatewayDeployment needs DependsOn attribute on one AWSApiGatewayMethod therefore I added DependsOn as mentioned below ApiGWCustomDomain Type AWSApiGatewayDomainName Properties DomainName selfcustom config environment domain RegionalCertificateArn selfcustom config environment certificateArn EndpointConfiguration Types REGIONAL SecurityPolicy TLS_1_2 ApiGatewayDeployment Type AWSApiGatewayDeployment DependsOn ApiGatewayMethodHealthGet ApiGWCustomDomain Properties Description envSTAGE environment RestApiId Ref ApiGatewayRestApi StageName envSTAGE See if this helps "},
{"id": 153312, "question_id": 15331, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-06-22T17:55:00Z", "scrap_date": "2024-04-30T23:59:27.942540", "content": "hi ajoslin103 I have done this so that every time new code is pushed to gitlab a pipeline runs that deploys to my test environment Just make sure that you include serverless as a dependency of your project npm i serverless save then add the following to your gitlabci In my example I cache all node_modules so I dont have to install them for every stage of my pipeline And in the stage definition deploytest I call upon the locally installed version of serverless Hope this helps "},
{"id": 153313, "question_id": 15331, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-22T21:18:57Z", "scrap_date": "2024-04-30T23:59:27.944541", "content": "I found a project to clone that worked Apologies I should have returned and marked this solved"},
{"id": 153314, "question_id": 15331, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-23T07:35:33Z", "scrap_date": "2024-04-30T23:59:27.945541", "content": "no worries glad it worked out for you"},
{"id": 153832, "question_id": 15383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-23T17:08:29Z", "scrap_date": "2024-04-30T23:59:29.041048", "content": "colon comes after self try below given code RDS_ENDPOINT ssmrds selfcustom stage dbENDPOINT "},
{"id": 153834, "question_id": 15383, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-06-23T18:19:40Z", "scrap_date": "2024-04-30T23:59:29.042043", "content": "LOL Thanks muqadarali"},
{"id": 153992, "question_id": 15399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-24T13:48:32Z", "scrap_date": "2024-04-30T23:59:29.771445", "content": "Cold starts if a lambda is created from AWS ECR container is also very long"},
{"id": 66732, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-12-07T00:59:18Z", "scrap_date": "2024-04-30T23:59:30.937689", "content": "Not sure if this helps you but Ive found that including the layerspecific modules as developer dependencies npm install savedev works for me the libraries are available locally but excluded during the packagedeploy process relying on the layer to execute on Lambda I dont know of a better way but its worked for me in my first usecase "},
{"id": 66733, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T01:00:21Z", "scrap_date": "2024-04-30T23:59:30.938689", "content": "My post on a similar idea AWS Lambda Layers and local dev"},
{"id": 66736, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T02:12:18Z", "scrap_date": "2024-04-30T23:59:30.939689", "content": "Thank you deltafactory I ended up doing the same That works for local but now when I try and deploy and run I get Cannot find module on my require in the lambda with the layer If I leverage nodes fs and look at the lambda file system I can see my module from the layer under optnode_modules but its not being picked up by the running lambda Is there some other trick"},
{"id": 66737, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T02:33:04Z", "scrap_date": "2024-04-30T23:59:30.940689", "content": "For anyone else reading in future I missed this part httpsdocs aws amazon comlambdalatestdgconfigurationlayers htmlconfigurationlayerspath In your layer you need to put your local module under some folder nodejsnode8node_modules So if your layer looks like serverless yml layernodejsnode8node_modulesmyLocalModule where the layer config in the yml looks like"},
{"id": 66738, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-07T13:00:17Z", "scrap_date": "2024-04-30T23:59:30.941690", "content": "Yeah invoke local is tricky Were still figuring out how best to make layers work with that "},
{"id": 66739, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T22:28:33Z", "scrap_date": "2024-04-30T23:59:30.941690", "content": "thanks dschep great article btw got me a long ways here"},
{"id": 667310, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-12T18:56:28Z", "scrap_date": "2024-04-30T23:59:30.942690", "content": "Thanks for your helpful comments How did you import the module after creating this folder structure I have a similar issue and optnodejsnode6node_modules is present at execution time but I see Cannot find module any help appreciated "},
{"id": 667311, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-12T19:08:54Z", "scrap_date": "2024-04-30T23:59:30.943690", "content": "mardh take a harder look at this link httpsdocs aws amazon comlambdalatestdgconfigurationlayers htmlconfigurationlayerspath specifically"},
{"id": 667312, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-13T09:42:58Z", "scrap_date": "2024-04-30T23:59:30.943690", "content": "srgavai thanks again I created a folder structure nodejsnode_modules too in a new layer version I can see optnodejsnode_modules is mounted NODE_PATH includes optnodejsnode_modules but no luck For context Im attempting to access optnodejsnode_modulespuppeteer via require puppeteer "},
{"id": 667313, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2018-12-13T23:38:29Z", "scrap_date": "2024-04-30T23:59:30.944691", "content": "Ive just gone through the process of creating my own custom layer global application code To be able to run with sls invoke local I used npm link Assuming your layer is here layersnodejsnode_modulessomemodule Go into this directory and execute npm link This will link the module globally Then to be able to use this module when running locally go to your home directory and execute npm link somemodule This will create node_modulessomemodule which points to the global symlink which points back to the module you have in the layers dir Doing this puts your layer module in Nodes execution path which means require somemodule will work when running sls invoke local` You might think why not run npm link somemodule in my application directory if you do this sls deploy ends up deploying the layer code into the lambda function code package which is redundant Hope this helps "},
{"id": 667314, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-08T14:51:24Z", "scrap_date": "2024-04-30T23:59:30.946691", "content": "Hi any thoughts how includerequire node_modules in my lambda local code before deploying through sls Im trying to deploy puppeteer and convertsvgtopng to manipulate svg2png base64 image Any success"},
{"id": 667316, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-12T15:45:24Z", "scrap_date": "2024-04-30T23:59:30.947691", "content": "This method works for me Update the NODE_PATH environment variable in the serverless yml of the lambda"},
{"id": 667317, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-26T09:45:36Z", "scrap_date": "2024-04-30T23:59:30.948691", "content": "Hey jamiechong Thanks for the information Was wondering if there has been any progress on the matter Im trying to deploy an AWS lambda using typescript w webpack that uses another AWS layer ive deployed I used your suggestion re the npm link outside of the application folder but webpack still concatenated the npm package my layer code into the lambda handler js If I npm unlink then sls deploy fails on not finding the module that is hosted in the layer Any ideas Thanks"},
{"id": 667319, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-19T20:23:51Z", "scrap_date": "2024-04-30T23:59:30.949692", "content": "This is my setup"},
{"id": 667320, "question_id": 6673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-24T08:12:41Z", "scrap_date": "2024-04-30T23:59:30.949692", "content": "If you have trouble with this part AWS Layers Using your layers To use a layer with a function in the same service use a CloudFormation Ref The name of your layer in the CloudFormation template will be your layer name TitleCased without spaces and have LambdaLayer appended to the end EG the next code will help you This phenomenon may happen when layers name is equal to service name Thats because layers name create zip file e g Test zip as well as service name create zip file e g test zip when sls deploy with cloudformation info I wrote the same issue here "},
{"id": 150912, "question_id": 15091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-31T15:17:08Z", "scrap_date": "2024-04-30T23:59:33.086155", "content": "The way that I do this I create my API gateway with terraform is that I push the API gateway IDs into SSM parameter store and then retrieve them when I deploy the serverless project "},
{"id": 122322, "question_id": 12232, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-01T03:51:29Z", "scrap_date": "2024-04-30T23:59:33.598954", "content": "Just wondering if there was any solution to resolve this Have the same issue when adding a new lambda with 3 subnets specified "},
{"id": 119102, "question_id": 11910, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-08T08:14:56Z", "scrap_date": "2024-04-30T23:59:34.633268", "content": "GetAtt Can you check if Queue you have mentioned already exists "},
{"id": 119103, "question_id": 11910, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-10T12:01:19Z", "scrap_date": "2024-04-30T23:59:34.634268", "content": "This was a new queue created after another one but the attributes were changed to prevent duplication I rolled back the queue manually deleting all existing queues along with policies and tried a fresh which seemed to work May be there was something i missed cant be sure Thanks "},
{"id": 119104, "question_id": 11910, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-01T12:56:40Z", "scrap_date": "2024-04-30T23:59:34.635268", "content": "Does this mean that a redeploy that includes an SQS queue could never work without deleting the original queue"},
{"id": 152012, "question_id": 15201, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-06-02T08:18:31Z", "scrap_date": "2024-04-30T23:59:35.700522", "content": "There is some really good documentation on the entire dashboard including this specific page that may help you httpswww serverless comframeworkdocsguidescicdcustomscripts"},
{"id": 151972, "question_id": 15197, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T08:19:57Z", "scrap_date": "2024-04-30T23:59:36.633099", "content": "I would suggest checking to see if an existing issue exists or creating a new one in the Serverless Framework GitHub issues list Issues serverlessserverless GitHub"},
{"id": 126302, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-23T09:42:44Z", "scrap_date": "2024-04-30T23:59:37.238201", "content": "Have you tried uninstalling and reinstalling the serverless package"},
{"id": 126303, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-23T15:10:33Z", "scrap_date": "2024-04-30T23:59:37.239201", "content": "ha I really hope that works"},
{"id": 126304, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-23T16:04:30Z", "scrap_date": "2024-04-30T23:59:37.239201", "content": "No dice I had already tried doing that in the project folder but didnt consider it may be a global issue so I tried that Ended up killing the node modules and reinstalling and removing my global serverless install all together "},
{"id": 126305, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-23T17:27:00Z", "scrap_date": "2024-04-30T23:59:37.240201", "content": "messing around with versions I actually get an error with anything under serverless 1 7 1 because it doesnt recognize GetAtt 1 731 83 get me a bit further setup gets past but hangs at"},
{"id": 126306, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-23T17:44:22Z", "scrap_date": "2024-04-30T23:59:37.241201", "content": "Have you tried a new severless project"},
{"id": 126307, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T04:15:34Z", "scrap_date": "2024-04-30T23:59:37.241201", "content": "To try recreating the issue Thats a good idea as well Ill give that a go Im actually tracing the issue through the serverless package now to see where it hangs so Ill keep you posted "},
{"id": 126308, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T04:30:43Z", "scrap_date": "2024-04-30T23:59:37.242202", "content": "Getting a bunch of these messages"},
{"id": 126309, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T04:32:23Z", "scrap_date": "2024-04-30T23:59:37.243202", "content": "Aaaand there is is Cyclical reference I missed I wonder why the logs started showing up all of a sudden that helped me find it may have been buried by the fact that I was running it in an npm script before "},
{"id": 1263010, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-23T22:00:16Z", "scrap_date": "2024-04-30T23:59:37.243202", "content": "How did you solve the problema i am having the same problem"},
{"id": 1263011, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-27T21:55:00Z", "scrap_date": "2024-04-30T23:59:37.244202", "content": "I solved this issue by closing my terminal "},
{"id": 1263012, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T02:48:15Z", "scrap_date": "2024-04-30T23:59:37.244202", "content": "I was having this issue and it turned out that I wasnt using the latest version of serverless More specifically I wasnt pointed to the latest version installed on my system Make sure that your output for sls version lines up with the latest available version of the framework Then make sure the location which sls lines up with where your npm packages are installed if you installed using npm install g serverless If not you can do one of two things Alternatively you can install serverless locally to your application and run it from the node_modules directory "},
{"id": 1263013, "question_id": 12630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T08:22:26Z", "scrap_date": "2024-04-30T23:59:37.246202", "content": "Running the serverless commands from a project with a local version installed will now automatically run the version contained in your project and not the global version If you run serverless version and it has local after the version number it is using the project local version not the global"},
{"id": 150622, "question_id": 15062, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-05-24T17:41:30Z", "scrap_date": "2024-04-30T23:59:37.845661", "content": "try"},
{"id": 150623, "question_id": 15062, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T18:13:41Z", "scrap_date": "2024-04-30T23:59:37.846662", "content": "That works thank you very much "},
{"id": 152052, "question_id": 15205, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T22:08:36Z", "scrap_date": "2024-04-30T23:59:38.795125", "content": "This question is bountied on SO python Serverless Framework create postman collection with generated API ID Stack Overflow stuck on this one"},
{"id": 136412, "question_id": 13641, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-08T17:44:42Z", "scrap_date": "2024-04-30T23:59:39.402883", "content": "I figured it out I was missing the QueuePolicy resource After adding the code bellow to resources its working "},
{"id": 136413, "question_id": 13641, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-03T07:46:52Z", "scrap_date": "2024-04-30T23:59:39.403883", "content": "In your solution you are creating a new s3 bucket is there any way of using an existing bucket"},
{"id": 152212, "question_id": 15221, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-03T18:13:00Z", "scrap_date": "2024-04-30T23:59:40.461870", "content": "The upload of files via API Gateway and Lambda is not the recommended practice Its just not made to handle that use case elegantly and even if you got past your current issues you would come across others related to file size limits and more The recommended best practice when it comes to doing file uploads using Serverless is to use a Lambda to generate a one time URL to upload into S3 "},
{"id": 150302, "question_id": 15030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-04T22:32:05Z", "scrap_date": "2024-04-30T23:59:41.148244", "content": "Cloudwatch alarm for sqs trigger sns which triggers 192 168 100 1 192 168 1 1 lambda"},
{"id": 123902, "question_id": 12390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-08T11:15:37Z", "scrap_date": "2024-04-30T23:59:42.209049", "content": "adding the below worked for me"},
{"id": 152632, "question_id": 15263, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-09T01:21:39Z", "scrap_date": "2024-04-30T23:59:43.174851", "content": "So apparently the patterns arent ready for primetime despite the nag being generated by the CLI reverted back to includeexclude and everything worked as i would expect Using version 2 45 1 Node 12 16 1 "},
{"id": 152633, "question_id": 15263, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-09T14:31:38Z", "scrap_date": "2024-04-30T23:59:43.174851", "content": "Having the exact same issue i was even kinda confronted by a developer on the project assuring me that everything worked perfectly Which after 2 hours of messing around it works for 1 folder that is external to my src directory by only adding the folders name but adding anything with a glob will not work im trying to add a folder from my src directory that is not compiled html files and there is no way to make it work i tried nothing works So im back to saying like you did 3boysdad this is not ready to be replacing the old excludeinclude system that old pattern works perfectly and now replaced by something that does not work "},
{"id": 139622, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T19:59:24Z", "scrap_date": "2024-04-30T23:59:44.122545", "content": "Hi Chris Running into exactly this Did you already find a solution Cheers Erik"},
{"id": 139623, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T20:19:57Z", "scrap_date": "2024-04-30T23:59:44.122545", "content": "A solution Yes A good one Eh So never could figure this out directly in serverless so ended up just using Terraform which is standard in my env for EFS deployment then dumping the TF outputs to a JSON outputs file which can be read in by serverless It works perfectly but does introduce a step outside of serverless Im sure this could be accomplished natively by creating a module similar to the domain creation module but for me since we use TF anyway TF was the way to go Chris"},
{"id": 139624, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-08T10:13:36Z", "scrap_date": "2024-04-30T23:59:44.124546", "content": "Haha yeah thats a solution I was thinking on splitting my yaml into two and applying the second after some delay"},
{"id": 139625, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-08T12:34:54Z", "scrap_date": "2024-04-30T23:59:44.124546", "content": "Yeah the nice thing with Terraform is that it doesnt complete until the resource is actually created and available so it will sit there running for a half hour if needed so you can just run TF and then serverless right afterward no need for delay "},
{"id": 139626, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-09T04:59:09Z", "scrap_date": "2024-04-30T23:59:44.125546", "content": "Yeah and I was under the impression serverless does that as well It seems this case is more of an exception I like how serverless seems more declarative compared to tf and also saves me from managing state myself "},
{"id": 139627, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-09T11:44:02Z", "scrap_date": "2024-04-30T23:59:44.126546", "content": "Found it So before I got this error I got it working by adding an additional DependsOn attribute on the AccessPoint as suggested here The serverless yaml then looks something like this"},
{"id": 139628, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-30T22:37:01Z", "scrap_date": "2024-04-30T23:59:44.127547", "content": "Hey eriktim Thanks for sharing your solution It works for me The only issue that I found is when I have to use EFS combined with container image When I try to mount in a function in an image deploy is completed but when invoked it function always timed out Anyone has any clue"},
{"id": 139629, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-01T09:53:39Z", "scrap_date": "2024-04-30T23:59:44.127547", "content": "Youre welcome pradella Did you try increasing the timeout or do you use the default 6 seconds "},
{"id": 1396210, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-02T14:23:43Z", "scrap_date": "2024-04-30T23:59:44.128546", "content": "Yes I did Ive create a function to get an object from s3 and I put a console log before inside and after the function and only the before is displayed All console log are displayed when EFS is not a resource in my function combined with a container image "},
{"id": 1396211, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-09T17:40:47Z", "scrap_date": "2024-04-30T23:59:44.129547", "content": "UPDATE just found out that the current serverless yml create VPC and subnets without internet gateway so thats why I cannot perform s3 getObject Now Im trying to figure out how to allow my lambda inside this newly VPC can access internet "},
{"id": 1396212, "question_id": 13962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-09T18:56:51Z", "scrap_date": "2024-04-30T23:59:44.130547", "content": "UPDATE 2 just found this article to setup VPC lambda with internet access AWS Lambda Enable Outgoing Internet Access within VPC by Philipp Holly Medium But NAT gateway is quite expensive In my case that I just need to access S3 the solution was to create a VPC Endpoint to S3 I would like to tell you about a new AWS feature that will allow you to make even better use of Amazon Virtual Private Cloud VPC and Amazon Simple Storage Service S3 As you probably know S3 provides you with secure durable and highly scalable When creating this endpoint choose your VPC subnet and select service name com amazonaws useast1 s3 and endpoint type as Gateway Maybe theres a way to setup this VPC endpoint in serverless yml but will try to do it later Thanks everyone "},
{"id": 143242, "question_id": 14324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-26T05:03:52Z", "scrap_date": "2024-04-30T23:59:45.062848", "content": "We just tried to replace AWSAccountId with AWSAccountId and are receiving the same errors still Specifically our use case is in the following location I upgraded our serverless version to 2 43 1"},
{"id": 143243, "question_id": 14324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-10T00:50:57Z", "scrap_date": "2024-04-30T23:59:45.064847", "content": "mrowles and anyone else having issues with AWSAccountId in your template Add Sub before the string and it works without issue This will work with or without quotes around the string containing Sub Using your example Example without quotes"},
{"id": 143244, "question_id": 14324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-10T01:05:36Z", "scrap_date": "2024-04-30T23:59:45.064847", "content": "Yep I was meant to come back here and update that I missed those 4 little characters Thanks mate "},
{"id": 20292, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-08T19:59:19Z", "scrap_date": "2024-04-30T23:59:46.209225", "content": "So deleting the bucket manually and other resources via sls remove worked But after adding a third test function and trying to redeploy I got the same error "},
{"id": 20293, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-09T09:35:09Z", "scrap_date": "2024-04-30T23:59:46.210225", "content": "Resources NewResource Type AWSS3Bucket Properties BucketName tests3bucket2 In your handler you are already creating the resource so remove the resource will work "},
{"id": 20294, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-31T17:07:37Z", "scrap_date": "2024-04-30T23:59:46.211225", "content": "I have the same issue What do you mean by In your handler you are already creating the resource"},
{"id": 20295, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-02T23:38:37Z", "scrap_date": "2024-04-30T23:59:46.211225", "content": "What do you mean by In your handler you are already creating the resource If you use the syntax [quote] Then the s3 bucket is automatically created and you dont need to define it in the resources section If you do want to define it in the resources section then you need to name the resource correctly so Serverless knows to override its own definition otherwise you end up trying to create two buckets with the same name "},
{"id": 20296, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-03T11:05:58Z", "scrap_date": "2024-04-30T23:59:46.212225", "content": "you need to name the resource correctly what would be the correct way to name it both in the event and the resources section"},
{"id": 20297, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-03T23:07:29Z", "scrap_date": "2024-04-30T23:59:46.213226", "content": "amitm02 Follow the example in the Serverless Framework docs The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 20298, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-18T08:39:43Z", "scrap_date": "2024-04-30T23:59:46.214226", "content": "Hi what about if i dont want to recreated the bucket but to use the already exists bucket"},
{"id": 20299, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-01-22T10:43:28Z", "scrap_date": "2024-04-30T23:59:46.214226", "content": "Then have a look at httpsgithub commayconbordinserverlesspluginexistings3"},
{"id": 202910, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-12T19:56:02Z", "scrap_date": "2024-04-30T23:59:46.215227", "content": "Hi in my handler im using s3 as an event but i have a problem to enable versioning of s3 im trying to do in this way but the version is not going to enable events s3 bucket test VersioningConfiguration Enabled event s3ObjectCreated rules suffix jpg"},
{"id": 202911, "question_id": 2029, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-06-11T01:35:55Z", "scrap_date": "2024-04-30T23:59:46.216227", "content": "Just add existing true events s3 bucket test VersioningConfiguration Enabled event s3ObjectCreated existing true rules suffix jpg Setting up AWS S3 Events with AWS Lambda via the Serverless Framework"},
{"id": 46572, "question_id": 4657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T03:08:18Z", "scrap_date": "2024-04-30T23:59:48.109576", "content": "Id like the same API endpoint with path healthcheck to point to an existing lambda function You would need to add a custom ApiGatewayResource and ApiGatewayMethod in the resources section of your serverless yml Currently the healthcheck path is created but it doesnt point to the correct lambda function It points to the function that serverless yml creates Which is expected In the functions section of your serverless yml you define your Lambda functions and which events trigger them The syntax youre using makes no sense "},
{"id": 46573, "question_id": 4657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T13:59:26Z", "scrap_date": "2024-04-30T23:59:48.110576", "content": "Thanks for your response Ive tried to create a custom resource with API GW and method Perhaps Im wrong but that would create its own API gateway endpoint I would end up with two API endpoints One via serverless and another via the custom resource "},
{"id": 46574, "question_id": 4657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T23:10:29Z", "scrap_date": "2024-04-30T23:59:48.111672", "content": "The Serverless Framework basically transforms your serverless yml into a CloudFormation template You can override and extend the template it outputs through the resources section in your serverless yml Just make sure you adding it to the API GW created by Serverless and youre not creating a new one The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 46575, "question_id": 4657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-30T14:13:45Z", "scrap_date": "2024-04-30T23:59:48.112674", "content": "Hi As you said above I have created custom API Gateway resource and method "},
{"id": 46576, "question_id": 4657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-19T15:12:55Z", "scrap_date": "2024-04-30T23:59:48.113675", "content": "Is it still the case that you cannot connect to an api gateway created outside of your cloud formation template via your serverless yml file My lambda function needs to get triggered from the api gateway This API gateway is not created as part of my serverless stack The api gateway is set up already and integrated with cognito and my serverless yml needs to create a lambda function that gets triggered by that existing api gateway Is this not possible So far I have only found the solution where I need to create api gateway via serverless yml then import it in another serverless yml as a resource Unfortunately how this api gateway gets created is not upto me and my lambda has to get triggered from that existing API gateway Please do let me know if anyone has solved this or there is no solution for this yet "},
{"id": 150532, "question_id": 15053, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-19T15:54:07Z", "scrap_date": "2024-04-30T23:59:48.887250", "content": "The problema was the version of nodejs I was usgin node 16 Now I am using node LTS 14 Problem solved "},
{"id": 52512, "question_id": 5251, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-19T01:45:08Z", "scrap_date": "2024-04-30T23:59:49.959715", "content": "Hi could you please tell me what do you do to solve this issue Thanks"},
{"id": 52513, "question_id": 5251, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-05-20T07:51:55Z", "scrap_date": "2024-04-30T23:59:49.960729", "content": "Ahoi ImperezCuba Sorry its so long ago I actually do not know anymore what I did if I solved or anything Really really sorry"},
{"id": 150802, "question_id": 15080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-21T15:47:46Z", "scrap_date": "2024-04-30T23:59:51.132812", "content": ""},
{"id": 140922, "question_id": 14092, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-18T05:13:48Z", "scrap_date": "2024-04-30T23:59:52.163097", "content": "appears to be related to the serverlesslayers plugin in some way"},
{"id": 140923, "question_id": 14092, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-25T14:53:47Z", "scrap_date": "2024-04-30T23:59:52.164097", "content": "Hi pwhitfieldcashwerkz I have the same issue Did you eventually find a solution"},
{"id": 140924, "question_id": 14092, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-24T01:01:39Z", "scrap_date": "2024-04-30T23:59:52.165097", "content": "I wound up here with the same problem Started poking around and it turned out I was using the wrong version of Node for my project It expected 12 x and I was using 14 x It was using 12 x inside the project directory thanks to NVM however unfortunately due to how Serverless works it will invoke the global Node version nvm use g 12 fixed this for me your mileage may vary depending on what version your project expects "},
{"id": 14302, "question_id": 1430, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-24T07:44:04Z", "scrap_date": "2024-04-30T23:59:53.136921", "content": "Did you choose any approach"},
{"id": 142232, "question_id": 14223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T01:55:01Z", "scrap_date": "2024-04-30T23:59:54.047939", "content": "Hello I had exactly the same error today actually it is still impacting us In order to add further details Ive removed pieces from the serverless yml file one by one and it seems that the issue is caused by the inclusion of the serverlessstepfunctions plugin If I do remove the plugin the sls deploy command works smoothly the problem is that we DO NEED that plugin Can u confirm you are using that plugin as well Any idea on how we can solve this issue "},
{"id": 142233, "question_id": 14223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:34:54Z", "scrap_date": "2024-04-30T23:59:54.049939", "content": "same here please help "},
{"id": 142234, "question_id": 14223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-29T10:10:05Z", "scrap_date": "2024-04-30T23:59:54.049939", "content": "Same here abdullahdarwish Alejandro1881 Have you guys solved this issue"},
{"id": 130572, "question_id": 13057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-31T04:50:37Z", "scrap_date": "2024-04-30T23:59:55.024421", "content": "For anyone else who comes across this in future this is possible for both http and rest APIs or"},
{"id": 143532, "question_id": 14353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-31T10:21:55Z", "scrap_date": "2024-04-30T23:59:56.181635", "content": "Daniel Im in the exact same spot here trying to figure out how to reference a bucket Im creating in serverless ts from the S3 event declaration Indeed the handler tries to create a new bucket if Im not declaring existing true The bucket logical id then becomes S3Bucket PascalCase of bucket string value So it might be possible to name your resource as S3BucketImagesS3Bucket and the handler will find it See below Still this is more a hack than a solution Ill keep you posted if I find anything else "},
{"id": 149202, "question_id": 14920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-11T00:12:30Z", "scrap_date": "2024-04-30T23:59:57.059317", "content": "Hey have you found out how to do that or not yet TweakBox Tutuapp"},
{"id": 149982, "question_id": 14998, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-13T01:01:29Z", "scrap_date": "2024-04-30T23:59:58.018756", "content": "Hi i am also looking for a way to do this SHAREit MX Player"},
{"id": 93582, "question_id": 9358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-22T23:16:16Z", "scrap_date": "2024-04-30T23:59:59.102107", "content": "Hi I was having a similar problem and was only able to find success following the instructions below Hope these can help Serverless Azure Functions Plugin Add Azure Functions support to the Serverless Framework serverlessserverlessazurefunctions"},
{"id": 93583, "question_id": 9358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-27T09:22:22Z", "scrap_date": "2024-04-30T23:59:59.103107", "content": "Thanks I can confirm that the simple way does not work but the advanced authentication using AZ CLI works beginning with az ad sp createforrbac name"},
{"id": 93584, "question_id": 9358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-25T11:28:31Z", "scrap_date": "2024-04-30T23:59:59.104107", "content": "I would suggest you to take the advantage of utilizing azure migration consulting services where all the basic framework and services are managed appropriately Even I had faced an issue where I get a deployment failed when I enter git push azure master near the end It was resolved easily "},
{"id": 129722, "question_id": 12972, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-29T23:16:53Z", "scrap_date": "2024-05-01T00:00:00.062726", "content": "Sorry to revive a dead forum thread I am experiencing the exact same issue and would like to know if you managed to solve it and if so what your solution was "},
{"id": 129723, "question_id": 12972, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-30T06:27:00Z", "scrap_date": "2024-05-01T00:00:00.063726", "content": "Hi Sadly no I put some time trying to figure this out but didnt get anywhere so I dropped it and ran these tests by starting the local instance myself This is one of the quirks that made me opt for running integration tests against live resources in the cloud and keep local testing for unit tests and local lambda invocations only If you ever solve this Id love to hear what you did good luck "},
{"id": 129724, "question_id": 12972, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-11T19:33:44Z", "scrap_date": "2024-05-01T00:00:00.064727", "content": "Thanks for the response yo1la In the end I ended up just switching from the jestdynamodb package to the jestdynalite package Using the jestdynalite package is very similar to using the jestdynamodb package so it was very easy to transition In the end the dynalite package just worked and I had very little trouble with it and will use it when unit testing projects which interact with DynamoDB from now on "},
{"id": 124742, "question_id": 12474, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-10T15:53:56Z", "scrap_date": "2024-05-01T00:00:01.092647", "content": "Sure You just need the arn of the dynamo stream You can retrieve that via the AWS Console Its listed on the Overview tab when you select the table Then in your function definition in serverless yml add the arn to the stream event handler like so Youll also need to ensure that you add an entry to your iamRoleStatment The Stream arn is static unless you drop and recreate it or the underlying table When ti does change only the datetime at the end of the arn So be sure to update the arn on your handler if you alter the stream source Hope this helps "},
{"id": 124743, "question_id": 12474, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-12T14:21:56Z", "scrap_date": "2024-05-01T00:00:01.094647", "content": "I know I am late to this I was having the same problem to automate the deployment I cannot copy and paste ARN again and again Even asked this on StackOverflow What I found was that we can basically do this by using AWS DynamoDB Describe Streams Method link here API_streams_DescribeStream In case someone wants an implementation I wrote a serverless plugin that fetches and attach ARN link here serverlessdynamodbstreamarnplugin"},
{"id": 119992, "question_id": 11999, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-13T18:17:15Z", "scrap_date": "2024-05-01T00:00:01.758629", "content": "Looks like you double indented the properties under the vpc securityGroupIds subnetdIds should only be 2 spaced deeper than vpc"},
{"id": 119993, "question_id": 11999, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-07-14T09:23:08Z", "scrap_date": "2024-05-01T00:00:01.759629", "content": "subnetdIds Also subnetdIds has a spelling mistake should be subnetIds"},
{"id": 154402, "question_id": 15440, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-19T22:43:02Z", "scrap_date": "2024-05-01T00:00:02.538118", "content": "Turns out serverless does this out of the box and I just wasnt paying attention "},
{"id": 74262, "question_id": 7426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-26T11:43:01Z", "scrap_date": "2024-05-01T00:00:04.406922", "content": "No doubt AWS is one of the best provider cloudways comblogbestiaasproviders as mentioned here and serverless is possible on cloudways since your server is being by cloudways and you just keep an eye as an observer"},
{"id": 74263, "question_id": 7426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-30T13:32:34Z", "scrap_date": "2024-05-01T00:00:04.407922", "content": "Hey Sha totally agree with you that AWS serverless is a good tie We have posted a guide on cloud migration in our blog check it out to learn all the tech niceties "},
{"id": 146152, "question_id": 14615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-01T06:05:40Z", "scrap_date": "2024-05-01T00:00:05.349377", "content": "Have you found solution for this case "},
{"id": 115292, "question_id": 11529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-26T17:58:09Z", "scrap_date": "2024-05-01T00:00:06.264576", "content": "You can get rid of it by specifying a specific name"},
{"id": 115293, "question_id": 11529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-26T20:38:12Z", "scrap_date": "2024-05-01T00:00:06.265576", "content": "I already do that My functions are API endpoints "},
{"id": 115294, "question_id": 11529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-27T08:48:52Z", "scrap_date": "2024-05-01T00:00:06.266576", "content": "Can you share your serverless yml file with us"},
{"id": 115295, "question_id": 11529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-03T18:51:58Z", "scrap_date": "2024-05-01T00:00:06.266576", "content": "Running into the same thing when deploying lambda functions Maybe this is normal but Im curious if theres a way to remove it Snippet from my the serverless yml showing the function names are specified Using Serverless 2 39 1"},
{"id": 49322, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T16:12:58Z", "scrap_date": "2024-05-01T00:00:06.948843", "content": "Why cant you set up crossaccount permissions using IAM roles httpsdocs aws amazon comIAMlatestUserGuidetutorial_crossaccountwithroles html"},
{"id": 49323, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T00:07:23Z", "scrap_date": "2024-05-01T00:00:06.948843", "content": "AFAIK IAM role is used to grant lambda the access to other AWS resources the resourcebaed policy is opposite it indicates which AWS resource can invoke lambda My goal is to enable an AWS resource invoke lambda from another account not to allow lambda to access crossaccount AWS resources thus I need to set up resourcebased policy for lambda"},
{"id": 49324, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T12:59:03Z", "scrap_date": "2024-05-01T00:00:06.949843", "content": "According to the docs once you create a role and grant access to the cross account you have established trust between the Production and Development accounts by creating a role in the Production account that identifies the Development account as a trusted principal You should then be able to assume the role with your Lambda role I havent tried this with Lambda directly but it seems like it would work "},
{"id": 49325, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-03T13:37:33Z", "scrap_date": "2024-05-01T00:00:06.950843", "content": "You seem to confuse Lambda resourcebased policies with Lambda execution role Assuming role in Lambda role grants Lambda the role privileges so that Lambda can access AWS resources in another account its NOT used for allowing AWS resources invoke Lambda I am following httpsaws amazon comblogsdevopshowtocentrallymanageawsconfigrulesacrossmultipleawsaccounts to authorize AWS Config in account A to invoke a Lambda in account B Step 2 and Step 3 in this doc describes the difference between Lambda resourcebased policies and Lambda execution role I have managed to create Lambda resourcebaed polices using AWS CLI but I have NOT been seen how to do it via the Serverless Framework thus I would like to know if Serverless Framework can configure Lambda resourcebased policies and how"},
{"id": 49326, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T13:54:29Z", "scrap_date": "2024-05-01T00:00:06.952844", "content": "Sorry for the confusion I thought you wanted a Lambda function in Account A to be able to trigger a Lambda function in Account B Anything you can do in CloudFormation can be done in the serverless ymls Resources section "},
{"id": 49327, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T23:47:00Z", "scrap_date": "2024-05-01T00:00:06.952844", "content": "Thanks for your advice I will test it "},
{"id": 49328, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-16T14:50:56Z", "scrap_date": "2024-05-01T00:00:06.953844", "content": "Tigerwan did you manage to solve this I have a similar issue in that I need to create a resourcebased function policy for a lambda function so that it can be invoked by CloudWatch events that dont exist at deploy time dynamically added cron events "},
{"id": 49329, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-01T10:06:46Z", "scrap_date": "2024-05-01T00:00:06.953844", "content": "Is anybody has an example for this"},
{"id": 493210, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-05-21T18:57:35Z", "scrap_date": "2024-05-01T00:00:06.954844", "content": "In your template Resources section httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcelambdapermission html"},
{"id": 493211, "question_id": 4932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-05-04T12:59:35Z", "scrap_date": "2024-05-01T00:00:06.954844", "content": "Thanks for the answer it works great But I have one question Suppose I want to give the same resourcebased policy to multiple lambda functions in my serverless yml What is the correct way of doing this Do I have to create a new lambda permission resource for every function"},
{"id": 49382, "question_id": 4938, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-11T16:26:05Z", "scrap_date": "2024-05-01T00:00:07.857860", "content": "Hey DUMBASS self If you get this error again its because youre trying to deploy from your Vagrant box when you SHOULD be using your Ubuntu subystem You need to make sure youre using Pip 9 0 1 "},
{"id": 49383, "question_id": 4938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-05T07:31:23Z", "scrap_date": "2024-05-01T00:00:07.858860", "content": "Im encountering same issue with you can you explain to me why not to use vagrant box Do I need to install an ubuntu Subsystem in Window 10"},
{"id": 49384, "question_id": 4938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-05T15:07:09Z", "scrap_date": "2024-05-01T00:00:07.860071", "content": "I assume you can use a Vagrant box you may just need to give it more RAM"},
{"id": 117552, "question_id": 11755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-31T22:49:21Z", "scrap_date": "2024-05-01T00:00:08.805264", "content": "Same error here even using sls invoke local"},
{"id": 117553, "question_id": 11755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:35:48Z", "scrap_date": "2024-05-01T00:00:08.806265", "content": ""},
{"id": 117554, "question_id": 11755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-06T16:01:16Z", "scrap_date": "2024-05-01T00:00:08.807265", "content": "Not sure if youre still having trouble with this but this worked for me Its just manually passing in the event data for the function so edit the data for the function method you want to call You can also make a json for the event data and just pass in the path to the file"},
{"id": 149492, "question_id": 14949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T19:53:00Z", "scrap_date": "2024-05-01T00:00:09.855670", "content": "I found the solution Yeoman tool is missing the generation of the following section Sid ModifyBucketPolicy Action [ s3GetBucketPolicy s3PutBucketPolicy ] Effect Allow Resource [ arnawss3xxxxx serverlessdeploy ] "},
{"id": 102592, "question_id": 10259, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-16T04:43:57Z", "scrap_date": "2024-05-01T00:00:11.002528", "content": "Update removing a policy that required MFA multi factor authentication for that user made SLS work Having a MFA requirement on a user apparently can mess up API access "},
{"id": 102593, "question_id": 10259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T20:09:52Z", "scrap_date": "2024-05-01T00:00:11.003528", "content": "This appears to be the case with SourceIp restrictions as well which is disappointing "},
{"id": 147342, "question_id": 14734, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T20:14:20Z", "scrap_date": "2024-05-01T00:00:12.003807", "content": "It is managedExternally true missed that in the docs "},
{"id": 149502, "question_id": 14950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T21:03:22Z", "scrap_date": "2024-05-01T00:00:13.077633", "content": "I believe the issue is how youre defining your sqs arn in this case In the example you posted you can see that arn is being given a value on its own line where you are trying to define it on the same line Try changing your code to"},
{"id": 149132, "question_id": 14913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T21:08:15Z", "scrap_date": "2024-05-01T00:00:14.144958", "content": "Qualifying question before trying to give you an answer Do you mean Secrets Manager or Parameter Store Your code syntax would indicate youre trying to pull from Parameter Store but you said Secrets Manager in your question "},
{"id": 119742, "question_id": 11974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-07T22:18:50Z", "scrap_date": "2024-05-01T00:00:15.306493", "content": "Did you manage to solve this issue"},
{"id": 147392, "question_id": 14739, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-09T22:36:13Z", "scrap_date": "2024-05-01T00:00:16.375048", "content": "This whole thread is quite misleading The right conclusion which is also the one supported by the article you post is FaaS is not suited for all types of Kodi nox applications "},
{"id": 33152, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T21:52:09Z", "scrap_date": "2024-05-01T00:00:17.259455", "content": "pmclean1964 Are you behind a network proxy Looks like another user faced a similar error httpsgithub comserverlessserverlessissues3127"},
{"id": 33153, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-13T14:16:30Z", "scrap_date": "2024-05-01T00:00:17.259455", "content": "Thanks for responding Ill have to check Im not a network expert but wouldnt the AWS CLI have the same issue Ill sit down with one of the network guys and explain what I think is going on and see if they have insight into the issue "},
{"id": 33154, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-13T17:23:17Z", "scrap_date": "2024-05-01T00:00:17.260464", "content": "Thats a good point regarding the AWS CLI Im not quite sure there Let me know if the network person is able to help you We can dig further if not "},
{"id": 33155, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T20:55:40Z", "scrap_date": "2024-05-01T00:00:17.261462", "content": "Im having a similar issue Im not behind a proxy but getting the same error when going through the quick start Your Environment Information OS win32 Node Version 10 5 0 Serverless Version 1 32 0"},
{"id": 33156, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T17:31:51Z", "scrap_date": "2024-05-01T00:00:17.262462", "content": "Im having a similar issue Im not behind a proxy and Im getting the error Everything was work last week without any issues Did you find a fix for this"},
{"id": 33157, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-13T23:11:05Z", "scrap_date": "2024-05-01T00:00:17.262462", "content": "Im having the exact same issue and am utterly perplexed Anyone made any progress on getting this resolved"},
{"id": 33158, "question_id": 3315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-13T18:32:56Z", "scrap_date": "2024-05-01T00:00:17.263462", "content": "Im having the same issue here Have there been any updates on this Im not behind a proxy Things were working for me a few weeks ago but now if I even run the serverless command in powershell I get this error It appears to happen at the invoke InteractiveCli step "},
{"id": 150142, "question_id": 15014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-16T08:30:53Z", "scrap_date": "2024-05-01T00:00:18.159477", "content": "I figured it out If anyone has the same problem I did a major oopsie and didnt realise that Asyncio is now a part of Python So by uninstalling asyncio and removing it from requirements txt I could get it going "},
{"id": 108502, "question_id": 10850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-10T20:28:22Z", "scrap_date": "2024-05-01T00:00:19.141437", "content": "Did you have any luck on this topic"},
{"id": 108503, "question_id": 10850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-20T04:33:43Z", "scrap_date": "2024-05-01T00:00:19.142437", "content": "gposse dcabib did you guys figure out how to make this work Im just starting to try to figure this out and cant find much info on this use case "},
{"id": 147532, "question_id": 14753, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-17T08:05:32Z", "scrap_date": "2024-05-01T00:00:21.329834", "content": "I do use it with serverless framework v2 and it works and just looking at the code there seems to be a handler for the v2 payload here serverlesswsgiserverless_wsgi py at master logandkserverlesswsgi GitHub"},
{"id": 145372, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-27T17:04:49Z", "scrap_date": "2024-05-01T00:00:22.292630", "content": "Im facing the same issue"},
{"id": 145373, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-27T17:49:15Z", "scrap_date": "2024-05-01T00:00:22.293630", "content": "I am facing the same issue Tried with versions 2 29 0 2 31 0 and the cicd feature on serverless com The error message when running serverless deploy debug"},
{"id": 145374, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-29T01:46:25Z", "scrap_date": "2024-05-01T00:00:22.294631", "content": "I also faced this issue AWSLambdaFullAccess has been depreciated AWS has a replacement policy AWSLambda_FullAccess Full details can be found here Troubleshooting AWS Lambda identity and access AWS Lambda"},
{"id": 145375, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-29T08:34:19Z", "scrap_date": "2024-05-01T00:00:22.294631", "content": "The issue is tracked on Role already exists deleted role policy AWSLambdaFullAccess does not exist or is not attachable Issue 918 serverlesscomponents GitHub"},
{"id": 145376, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-29T11:41:54Z", "scrap_date": "2024-05-01T00:00:22.295631", "content": "I have the same issue when try to deploy a new lambda but old lambda is still working Is there work arround AWS a new policy AWSLambda_FullAccess I created a role with AWSLambda_FullAccess and try to attach to lambda when deploy but it did not work may be my method is wrong every time it create a role provider name aws stage dev region useast1 iam role arnawsiam3373293854581role"},
{"id": 145377, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-30T17:09:34Z", "scrap_date": "2024-05-01T00:00:22.296631", "content": "is there a workaround or fix to this"},
{"id": 145378, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-30T21:20:53Z", "scrap_date": "2024-05-01T00:00:22.297631", "content": "Yes See Role already exists deleted role policy AWSLambdaFullAccess does not exist or is not attachable Issue 918 serverlesscomponents GitHub use express component until its merged "},
{"id": 145379, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-06T12:55:34Z", "scrap_date": "2024-05-01T00:00:22.297631", "content": "That may work for component express but what about component awslambda where I wish to use Python as the implementation language Thanks "},
{"id": 1453710, "question_id": 14537, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-17T22:17:28Z", "scrap_date": "2024-05-01T00:00:22.298632", "content": "There is an open PR for the awslambda component unfortunately not merged and released so seems we are stuck for now Update default role policy by alisalahio Pull Request 45 serverlesscomponentsawslambda GitHub"},
{"id": 147912, "question_id": 14791, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-04-20T12:24:30Z", "scrap_date": "2024-05-01T00:00:22.882582", "content": "1"},
{"id": 147913, "question_id": 14791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-20T13:27:32Z", "scrap_date": "2024-05-01T00:00:22.882582", "content": "Have the same problems with deploying I returned to the previous version 2 35 0 "},
{"id": 147914, "question_id": 14791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-20T14:31:05Z", "scrap_date": "2024-05-01T00:00:22.883583", "content": "Getting the same error on a Serverless CICD build and deploy "},
{"id": 147915, "question_id": 14791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-20T15:16:35Z", "scrap_date": "2024-05-01T00:00:22.883583", "content": "All good now with 2 37 0"},
{"id": 147916, "question_id": 14791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-20T15:58:13Z", "scrap_date": "2024-05-01T00:00:22.884583", "content": "I got the same issue"},
{"id": 147917, "question_id": 14791, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-20T15:58:43Z", "scrap_date": "2024-05-01T00:00:22.884583", "content": "A new version 2 37 0 has been released that resolves this issue"},
{"id": 18692, "question_id": 1869, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-20T16:00:42Z", "scrap_date": "2024-05-01T00:00:23.564624", "content": "How is this solved "},
{"id": 94772, "question_id": 9477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-21T08:54:26Z", "scrap_date": "2024-05-01T00:00:24.591779", "content": "I know this is old but I had the same issue For me it doesnt show the exact same error The last part of the error doesnt say but says something like User arnawsiamxxxxuserxxxx is not authorized to perform eventsPutEvents on resource arnawsevents euwest1nnnnnnnnnneventbusdefault The resource is in the error so in my case I can use If yours really says I dont have an answer but otherwise thats probably your resource "},
{"id": 82202, "question_id": 8220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T11:20:52Z", "scrap_date": "2024-05-01T00:00:25.370178", "content": "Hi what error did you get How do you work with event body "},
{"id": 82203, "question_id": 8220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T11:32:06Z", "scrap_date": "2024-05-01T00:00:25.370178", "content": "Hey So I think its down to me having to JSON parse event body when its in Lambda but in local event body is already a JS object So local I get the error Unexpected token o in JSON at position 1"},
{"id": 82204, "question_id": 8220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T11:50:14Z", "scrap_date": "2024-05-01T00:00:25.371179", "content": "Yep you are right you need to use JSON parse As for invoke local you just need to save your event body as JSON stringify JSON stringify body So instead of you will have a data json"},
{"id": 82205, "question_id": 8220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T18:11:59Z", "scrap_date": "2024-05-01T00:00:25.372179", "content": "Perfect that worked Thanks for your time "},
{"id": 82206, "question_id": 8220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-23T09:51:26Z", "scrap_date": "2024-05-01T00:00:25.372179", "content": "Its annoying to have data json body as a string so I did this in the code const requestBody typeof event body string JSON parse event body event body"},
{"id": 148042, "question_id": 14804, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-23T09:47:06Z", "scrap_date": "2024-05-01T00:00:25.866781", "content": "Can you try this instead"},
{"id": 148043, "question_id": 14804, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-23T12:17:43Z", "scrap_date": "2024-05-01T00:00:25.867781", "content": "Hey yes I figured that out and solved the problem Thanks for your time"},
{"id": 148322, "question_id": 14832, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-23T14:55:58Z", "scrap_date": "2024-05-01T00:00:26.950497", "content": "I did following changes and worked buildspec Follow this instructions httpsdocs aws amazon comcodebuildlatestuserguidetroubleshooting htmltroubleshootingcannotconnecttodockerdaemon"},
{"id": 89782, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-04T23:56:12Z", "scrap_date": "2024-05-01T00:00:28.006632", "content": "I am having a similar problem using a Visual Studio Code Remote Dev Container and came to the forums to search for this Hopefully someone has a solution "},
{"id": 89783, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T15:22:48Z", "scrap_date": "2024-05-01T00:00:28.006632", "content": "same here i am evaluating some possibilities for monitoring and it would be nice if someone could provide feedback for this problem "},
{"id": 89784, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T16:48:46Z", "scrap_date": "2024-05-01T00:00:28.007632", "content": "i used an environment variable of SERVERLESS_ACCESS_KEY with a personal access key httpsdashboard serverless comtenantsTENANT_NAMEaccessKeys and was able to deploy within our azure devops pipeline i think this would work for you but not 100 sure"},
{"id": 89785, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T09:22:58Z", "scrap_date": "2024-05-01T00:00:28.008632", "content": "I tried what you suggest and what alexdebrie suggests in this post Log into Serverless Platform on a headless system But I still get the message Serverless Logging you in via your default browser What I tried Is there something wrong "},
{"id": 89786, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T09:47:00Z", "scrap_date": "2024-05-01T00:00:28.009633", "content": "Hi Patchoulin The environment variables that needs to be set is not in serverless yml but in the environment where serverless deploy is run for your CICD system You then will not need to run sls login"},
{"id": 89787, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T11:22:55Z", "scrap_date": "2024-05-01T00:00:28.009633", "content": "try export SERVERLESS_ACCESS_KEYXXXXXXXXXX and then do sls deploy"},
{"id": 89788, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-20T11:48:22Z", "scrap_date": "2024-05-01T00:00:28.010633", "content": "Thank you for your help it works "},
{"id": 89789, "question_id": 8978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-26T19:52:35Z", "scrap_date": "2024-05-01T00:00:28.011633", "content": "I am having the same issue I have set the SERVERLESS_ACCESS_KE in my CICD environment yet I am still getting this error Authentication failed Please contact support and provide this identifier to reference this issue I am using my personal access key Any ideas Thanks "},
{"id": 131872, "question_id": 13187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-07T10:55:15Z", "scrap_date": "2024-05-01T00:00:29.043318", "content": "Hi Leo did you solve it"},
{"id": 131873, "question_id": 13187, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-08T01:03:07Z", "scrap_date": "2024-05-01T00:00:29.044318", "content": "Hi cotrariello yeah I worked around by creating a Handler class in root package under srcmainjava then that class extends the real handler I dont think the GCP and Serverless fully support java Functions suggest you to use python for new project If like me I already got some working code in Java and trying to deploy it to GCP then here are some hints"},
{"id": 131874, "question_id": 13187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-19T07:43:53Z", "scrap_date": "2024-05-01T00:00:29.045327", "content": "Hi leo7 thank you for the reply I also solved by putting the Java Handler Class in the root folder Only one question what do you mean in the last point Because I generate the jar artifact and it works fine "},
{"id": 131875, "question_id": 13187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-19T22:47:44Z", "scrap_date": "2024-05-01T00:00:29.046330", "content": "Hi cotrariello that is good if you can use jar instead of a zip file That didnt work for me but I may give it another try"},
{"id": 131876, "question_id": 13187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-28T10:06:02Z", "scrap_date": "2024-05-01T00:00:29.046330", "content": "Hi leo7 with the new version of the framework it does not work for me too So I deployed the function directly from the Google Console using the zip version as you suggest Thank you "},
{"id": 143192, "question_id": 14319, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-09T11:52:34Z", "scrap_date": "2024-05-01T00:00:29.770984", "content": "This is the full debug btw "},
{"id": 143193, "question_id": 14319, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-03-10T12:00:29Z", "scrap_date": "2024-05-01T00:00:29.770984", "content": "I was pulling my hair out on this but have finally resolved it For anyone that hits this problem in future the issue was actually with the provider settings on the serverless dashboard for some reason Im not sure why but provider in httpsapp serverless comMYCOMPANYappsSERVICESERVICEsettingsproviders was changed to old AWS credentials I updated the key and secret there and leviola all microservices now deploy again Phew "},
{"id": 143194, "question_id": 14319, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-29T07:21:15Z", "scrap_date": "2024-05-01T00:00:29.771975", "content": "THIS IS THE WAY mandalorianemojihere I followed your advice and it worked out What I am sad about is that I couldnt make it work using the credentials file in the aws folder Saying that because in the very beginning when I was setting up my laptop I first set up the AWS credentials and then set up the Serverless Framework credentials and everything was just working Then I did something and it all broke Cheers markcastle "},
{"id": 148632, "question_id": 14863, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-28T15:01:39Z", "scrap_date": "2024-05-01T00:00:30.653684", "content": "I have now also asked this question in Dry runs noDeploy cli option disappeared in 2 36 0 Discussion 9389 serverlessserverless GitHub not sure which platform is the better options "},
{"id": 148633, "question_id": 14863, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-29T10:12:47Z", "scrap_date": "2024-05-01T00:00:30.654684", "content": "As covered in the linked discussion on Github running sls package does the majority of what noDeploy did and certainly covers my use case"},
{"id": 147092, "question_id": 14709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-29T12:55:58Z", "scrap_date": "2024-05-01T00:00:31.212670", "content": "Hi I have a similar problem with a custom event bus I did try with AWS directly and code seems to work but it doesnt with localstack If I switch to use the default bus it makes it work with localstack Any more insight on this bug or any workaround "},
{"id": 147093, "question_id": 14709, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-29T13:09:03Z", "scrap_date": "2024-05-01T00:00:31.213670", "content": "Hi in the meantime Ive opened a ticket on localstack github EventBridge trigger on localstack defaults to default event bus even though a new one is passed Issue 3872 localstacklocalstack GitHub And its currently checked from what I can tell "},
{"id": 3732, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-22T22:40:13Z", "scrap_date": "2024-05-01T00:00:32.216529", "content": "What version of Serverless are you running i e sls v output Your config looks good so Im hoping your just running an older version of Serverless which didnt have that functionality "},
{"id": 3733, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-23T06:21:49Z", "scrap_date": "2024-05-01T00:00:32.217530", "content": "Unfortunately Im on the latest version 1 0 0rc 1"},
{"id": 3734, "question_id": 373, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-23T06:54:38Z", "scrap_date": "2024-05-01T00:00:32.218530", "content": "Looks like my PR to implement provider profile wasnt in rc 1 its in rc 2 which is now available Please try that it should work"},
{"id": 3735, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-23T08:04:02Z", "scrap_date": "2024-05-01T00:00:32.218530", "content": "Yes I updated to RC2 and now its working Thanks a lot rowanu"},
{"id": 3737, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-30T14:54:51Z", "scrap_date": "2024-05-01T00:00:32.219530", "content": "bart is this option available on serverless invoke cli command Im trying to use it without success And if I log the AWS credentials its the wrong one "},
{"id": 3738, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-30T22:03:45Z", "scrap_date": "2024-05-01T00:00:32.220530", "content": "Profile selection has been completely reworked since my changes back in the RC so Im not sure if its supported anymore The config docs suggest to me that commandline options on invoke are not supported"},
{"id": 3739, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-08T19:38:59Z", "scrap_date": "2024-05-01T00:00:32.220530", "content": "I cannot for the life of me get serverless to respect my profile choices OS darwin Node Version 8 1 3 Serverless Version 1 21 1 My setup I have no AWS_ environment variables set in my console I have a storytape_dev and storytape_prod profile setup in awscredentials and I have removed the [default] one I have the region set in awsconfig for both of these profiles I have verified that the credentials work by running aws iam listusers profile storytape_dev and getting the user list back I have tried it without the profile and it fails as expected What I have tried so far I have tried hardcoding the profile stage and region in my serverless yml file I have followed the instructions in this guide to setup per stage profiles I have removed the profile state and region from serverless yml and run AWS_PROFILEstorytape_dev sls deploy Im out of ideas All of the things Ive tried so far result in ServerlessError The security token included in the request is invalid Back before I setup multiple accounts this was working Any help would be very much appreciated Here is the rub I deactivated my production key in the AWS IAM console When I turn on the prod key I get The specified bucket does not exist even though I ran AWS_PROFILEstorytape_dev sls deploy Somehow the prod profile is being used even though I have removed all profile info from serverless yml and set a different profile on the command line "},
{"id": 37310, "question_id": 373, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-09-08T23:22:07Z", "scrap_date": "2024-05-01T00:00:32.223531", "content": "Looks like this was my fault I had added process env AWS_PROFILE storytape_prod to my webpack config js file I have removed that I also removed the region stage and profile from serverless yml and now AWS_PROFILEstorytape_dev sls deploy works as expected "},
{"id": 37311, "question_id": 373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-30T11:23:35Z", "scrap_date": "2024-05-01T00:00:32.224531", "content": "setting AWS_PROFILE didnt work for me instead profile option did sls deploy profile profile_name"},
{"id": 148832, "question_id": 14883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-30T11:33:56Z", "scrap_date": "2024-05-01T00:00:33.174679", "content": "I found out the issue Its because I was sending and object inside context and its not allowed to We should only sent primitive datatypes string number boolean"},
{"id": 148392, "question_id": 14839, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-24T12:36:00Z", "scrap_date": "2024-05-01T00:00:34.300379", "content": "I dont think its the worst thing but better to avoid One way you could do it is to store the arn in system centre parameter store on AWS You can then refer to that within the serverless yml file it has built in support with ssm A bigger security warning for you is to remember that your git history will be public too so its no use just taking things out before making things public if you were already using git privately It can be best to just start fresh and copy the files across to a brand new public repo "},
{"id": 148393, "question_id": 14839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-24T14:40:16Z", "scrap_date": "2024-05-01T00:00:34.301379", "content": "Thanks for the reply I will look into to using parameter store Will it still work when I run offline Right now I have both a dev and production bucket a dev and production DynamoDB etc and I switch between them depending on the stage The ability to reference the bucket and table name whilst running in offline mode is important Also are there any actual risks you can think of if I did actually publish the ARNs I know its probably best to avoid but Im wondering more generally if theres anything an attacker can do with them My layer ARNs for example those layers CANT be referenced by anyone other than me right"},
{"id": 148394, "question_id": 14839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-30T12:16:14Z", "scrap_date": "2024-05-01T00:00:34.302380", "content": "Speaking for myself I take the view that all information is useful to a hacker so I avoid putting anything that could be of use to a malicious actor into anything that could be made both intentionally and unintentionally public Yes its a pain But I view it as paying forward "},
{"id": 79632, "question_id": 7963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-29T13:13:48Z", "scrap_date": "2024-05-01T00:00:36.346014", "content": "Does no one have any experience using using layers I have ended up using AWS SAM for my application Its a very light wrapper around cloudformation and lambda and is easy to understand what it is doing There were a couple small gotchas with it building your own layers is not fully supported by the tool but overall seems to work a lot nicer in the AWS ecosystem and does support running layers locally right out of the box "},
{"id": 79633, "question_id": 7963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-20T13:48:51Z", "scrap_date": "2024-05-01T00:00:36.348014", "content": "So you ditched serverless to go with AWS SAM 11 Months later are you happy with your local development ecosystem Would you recommend going with SAM over serverless"},
{"id": 79634, "question_id": 7963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-20T14:13:08Z", "scrap_date": "2024-05-01T00:00:36.348014", "content": "Hi ltomes 11 months later and no we are still not entirely happy with our serverless setup To be honest we have not put that much time and effort behind it but the main blocker for us is that all of these tools serverless aws sam use cloudformation to manage the functions at the end of the day which makes it very difficult for us to standup lambdas when all of our other infrastructure is defined in terraform scripts To get around this right now we are using paramater store and secrets manager to pass values from terraform such as database names or kinesis stream names into our sam templates It works but it is very clunky and easy to mess up My latest thinking on the matter has been to just standup blank functions using terraform with all the associated environment variables and lambda configpermissions in place and then use a CD tool to drop our code in place Yeah we miss some of the nice things that we get from SAM but at the end of the day it is just cloud formation so we could easily still take advantage of the macrostemplates that SAM has added to cloudformation by setting up a stack ourselves in terraform Hope that helps give you some more context on the matter "},
{"id": 79635, "question_id": 7963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-08T20:48:31Z", "scrap_date": "2024-05-01T00:00:36.352015", "content": "Hey there Having a similar issue here Trying to user chromeawslambda layer to run a nodejs puppeteer function locally using docker"},
{"id": 6952, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T23:11:28Z", "scrap_date": "2024-05-01T00:00:37.169225", "content": "This is not really a Lambda issue but more of an authentication issue Your users should be authenticating in order to make requests to any service Lambdabased or otherwise and at this time you confirm that they have paid their billsubscription I know the A Cloud Guru guys use Auth0 to do their authentication it sounds like it works well in a Serverless context They have presented on their architecture at a number meetups and conferences so check that out or you could just ask johncmckim nicely "},
{"id": 6953, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T23:22:13Z", "scrap_date": "2024-05-01T00:00:37.170225", "content": "ivanderbu2 if youre developing a SaaS product as rowanu says an authentication service like Auth0 is great Its simply a matter of setting up a custom authorizer to protect your endpoints But it sounds like your developing a software package that will be deployed into customer environments Can you confirm if that is your use case If so thats very different to our use case and Im not exactly sure how you should proceed "},
{"id": 6954, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T09:47:07Z", "scrap_date": "2024-05-01T00:00:37.171225", "content": "johncmckim yes software will be deployed into customer environments Once it is deployed they will have entire code frontend and backend "},
{"id": 6955, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T10:26:27Z", "scrap_date": "2024-05-01T00:00:37.172225", "content": "With Node and Python Im 99 sure the answer will be no The interpreter needs the source code to run There are steps you can take to make this more difficult like using an obfuscator Java might offer more protection as youre uploading a compiled jar file Im not sure how easy these are to decompile into meaningful source Another option might be to use Go and Apex Again Im not sure how easy it is to reverse the compiled code back into a usable source format "},
{"id": 6956, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T10:34:27Z", "scrap_date": "2024-05-01T00:00:37.173226", "content": "buggy then I think the only solution would be to roll updates on weeklymonthly level so it would make sense to have licensed software Invoking some kind of obfuscator into lambda functions would be too costly I thought that there maybe some kind of permissions option like in Unix systems where one user can not access other users files "},
{"id": 6957, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T11:25:41Z", "scrap_date": "2024-05-01T00:00:37.174226", "content": "Who are you actually trying to stop from viewing the source It sounded like youre selling a product to customers who self host using their own AWS account and you dont want those customers to access the code Can you provide a more detailed example of how you want this to work"},
{"id": 6958, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T11:35:14Z", "scrap_date": "2024-05-01T00:00:37.174226", "content": "buggy once user buys license and submit IAM creds my system deploys entire infrastructure to their AWS account So my system will posses one IAM user on their AWS account for deployment and updates but they will be admins cause it is their AWS account Is there some option to set permissions in that way so admin of AWS account can not access certain lambda functions Sounds silly I know but actually it would be a good thing for security so they dont mess up the system or in this case copypaste lambda code But on the other hand they would have access to creds of my IAM user I see I will need to find other solution "},
{"id": 6959, "question_id": 695, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-01T20:34:23Z", "scrap_date": "2024-05-01T00:00:37.176226", "content": "ivanderbu2 I think the short answer is no Your customers are the admins and have full control as they should Imagine a case were thirdparty code did something malicious intentionally or not The admins of the AWS account have the ultimate responsibility and should be able to disable applications deployed to their account If your main concern is your IP you might be able to handle this through contracts You should seek some legal advice on the best way to do that Deploying to custom sites is painful in a lot of different ways Dont do it unless your application absolutely requires it "},
{"id": 69510, "question_id": 695, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-01T21:25:22Z", "scrap_date": "2024-05-01T00:00:37.177226", "content": "Deploying to custom sites is painful in a lot of different ways Dont do it unless your application absolutely requires it This is so true I cant agree enough Based on the other comments I think buggy has the closest thing youre going to get as an answer use a complied language While Im not putting this forward as a good idea you could compilein a check for the AWS account number that the code is running in and only work in accounts that have been registeredpaid for While Im sure it could be reverseengineered someones really got to want to do it In reality if youve got software good enough that people what to pirate youre bound to have a lot more people who cant be bothered and will just pay you i e so they can work on their actual problems and get support from you etc "},
{"id": 69511, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T22:05:15Z", "scrap_date": "2024-05-01T00:00:37.178227", "content": "If you want 100 protection then you need to host the software on behalf or your client It sounds like you dont want to do the traditional SaaS model You could try setting up an AWS account for each client keep the credentials for yourself and pass the billing on to them The biggest problem with compiled languages will be the cold start time We know if takes longer for Java to cold start than Javascript Im not sure about Go Invoking some kind of obfuscator into lambda functions would be too costly Why would this be too costly Just make it part of the build process "},
{"id": 69512, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-02T09:41:17Z", "scrap_date": "2024-05-01T00:00:37.179227", "content": "buggy I meant each lambda function in that application is pretty light for execution and adding obfuscator will add more ms to execution Actually I never done that in JS but from PHP experience I know it adds some overhead "},
{"id": 69513, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-02T09:44:27Z", "scrap_date": "2024-05-01T00:00:37.180227", "content": "In reality if youve got software good enough that people what to pirate youre bound to have a lot more people who cant be bothered and will just pay you i e so they can work on their actual problems and get support from you etc I agree with this its better approach than playing cat and mouse game with the clients "},
{"id": 69514, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-24T09:36:42Z", "scrap_date": "2024-05-01T00:00:37.181228", "content": "ivanderbu2 Could you use consolidating billing to solve this problem You would setup a new AWS account for each client then have them pay for it via consolidated billing Ive only recently started looking at this but I dont think the consolidating billing account has access to your account "},
{"id": 69515, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-24T22:42:28Z", "scrap_date": "2024-05-01T00:00:37.182228", "content": "buggy child accounts definitely dont have access to the parent account "},
{"id": 69516, "question_id": 695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-09T00:44:42Z", "scrap_date": "2024-05-01T00:00:37.182228", "content": "ivanderbu2 I was reading the comments on this thread and it makes sense however I wanted to see if you ever found a solution to protecting the lambda code I understand that transparency is the best when deployingrunning lambda functions in a clients environment but I do think as a SaaS offering that relies on Lambda having a way to protect the source IP from theft would be useful "},
{"id": 36852, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-05T21:40:20Z", "scrap_date": "2024-05-01T00:00:37.573440", "content": "Anything listed in package json as a dev dependancies should be automatically excluded It sounds like one of your includeexclude patterns is glob matching much more than it needs Do you need to explicitly define the includeexclude because of your project structure"},
{"id": 36853, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-05T23:00:36Z", "scrap_date": "2024-05-01T00:00:37.574445", "content": "Well Yes You can see from above that I exclude git doesnt that make sense Is it not normal to exclude git Maybe Im misunderstanding the normal method for doing this type of thing Do you have documentation for what is by default included or excluded in a serverless deployment package Also I have a lot of things in my node_modules like serverless offline My impression from awhile ago was that serverless packages up everything so you have to specifically exclude things that dont make sense "},
{"id": 36854, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-05T23:44:33Z", "scrap_date": "2024-05-01T00:00:37.575445", "content": "anything listed in gitignore and package json devDependancies get excluded by default since idk like 7 versions ago git folders shouldnt be included in the deploy zip of your service"},
{"id": 36855, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T00:17:51Z", "scrap_date": "2024-05-01T00:00:37.576445", "content": "OK And how do libraries work when doing build individually How do I make sure that only the libraries for a given project are deployed So if a given endpoint needs library A but not library B then whats the best way to manage that So far Ive had a package json and node_modules for every one of my source directories that gets deployed individually Maybe thats trying to manage too much though "},
{"id": 36856, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-21T16:33:33Z", "scrap_date": "2024-05-01T00:00:37.577446", "content": "i also have the same problem here is my server yml also if i delete the function with kubeless and deploy after like below the commnad doesnt stuck kubeless function delete getpost sls deploy any idea why it is taking so long"},
{"id": 36857, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-06T22:35:43Z", "scrap_date": "2024-05-01T00:00:37.577446", "content": "This pr might fix the issue Would you be able to test 1 Please check out and follow our Contributing Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 2 Do not remove any section of the template If something is not applicable leave it empty but leave it in the PR 3 Please follow the template otherwise we will have to ask you to update it and it will take longer until your PR is merged What did you implement Closes 5568 Briefly describe the feature if no issue exists for this PR How did you implement it Instead of passing the complete pattern list into Globby a complete project file list is loaded into memory and _then_ resolved from the patterns using `micromatch` The use of `micromatch` here is because `glob` itself uses `minimatch` which is why we are seeing such a significant performance difference If this is a nontrivial change please briefly describe your implementation so its easy for us to understand and review your code How can we verify it Run `sls package` on a project with a large file count with many dev dependencies The difference in timing is 30s compared to 15 minutes Add any applicable config commands screenshots or other resources to make it easy for us to verify this works The easier you make it for us to review a PR the faster we can review and merge it Examples serverless yml Fully functioning to easily deploy changes Screenshots Showing the difference between your output and the master Cloud Configuration List cloud resources and show that the correct configuration is in place e g AWS CLI commands Other Anything else that comes to mind to help us evaluate Todos [x] Write tests [x] Write documentation [x] Fix linting errors [x] Make sure code coverage has not dropped [x] Provide verification config commands resources [x] Enable Allow edits from maintainers for this PR [x] Update the messages below Is this ready for review YES Is it a breaking change NO Cheers "},
{"id": 36858, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-10T09:00:53Z", "scrap_date": "2024-05-01T00:00:37.580457", "content": "Late to the party but this recent update helped a lot Thanks "},
{"id": 36859, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2019-04-25T10:42:00Z", "scrap_date": "2024-05-01T00:00:37.581447", "content": "Doesnt look like this has been fixed yet Excluding development dependencies still takes forever for me "},
{"id": 368510, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-17T18:06:09Z", "scrap_date": "2024-05-01T00:00:37.582447", "content": "The same problem for me take around 78 minutes"},
{"id": 368511, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-06-27T04:59:20Z", "scrap_date": "2024-05-01T00:00:37.582447", "content": "I was also having the same problem The below seemed to work for me Note that I am using layers to hold my node module dependency so the above is just for my functions "},
{"id": 368512, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-05-29T03:36:59Z", "scrap_date": "2024-05-01T00:00:37.583447", "content": "I was having the same problem It turned out that for various reasons the project structure had about 250000 files in it links in node_modules In serverless yml wed added an exclude glob that would get rid of about 244000 of them The slowdown happened when packaging was processing that exclude glob We fixed it by changing serverless yml from to"},
{"id": 368513, "question_id": 3685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-09T12:57:40Z", "scrap_date": "2024-05-01T00:00:37.584447", "content": "Changing from an exclude to a include dropped my deploy to like 10 of original duration Shocked this simple change was so effective thanks "},
{"id": 146442, "question_id": 14644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-06T07:02:55Z", "scrap_date": "2024-05-01T00:00:38.644124", "content": "This is how httpswww serverless comframeworkdocsprovidersawseventswebsocketeventdefinition You shouldnt create the websockets yourself ahead of time the Serverless Framework does all of that for you by using the event definition in the link above"},
{"id": 146443, "question_id": 14644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-09T20:58:47Z", "scrap_date": "2024-05-01T00:00:38.645124", "content": "How do you set up two websockets This appears to only set up one You can route to multiple functions but only by using the body action param I want to have two with different authentication so different connect and disconnect handlers "},
{"id": 146392, "question_id": 14639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-08T03:54:31Z", "scrap_date": "2024-05-01T00:00:39.562348", "content": "Ended up doing some print debugging to figure out where the binary was lol For aws providers using nodejs runtime it seems like the binary will be located here optbinarynamebinaryname"},
{"id": 146393, "question_id": 14639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-11T19:22:30Z", "scrap_date": "2024-05-01T00:00:39.563349", "content": "Documentation link to anyone lurking Lambda layers AWS Lambda"},
{"id": 140732, "question_id": 14073, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-11T09:16:17Z", "scrap_date": "2024-05-01T00:00:40.583350", "content": "Okay so I worked at a few places that used serverless yml serverless template as the package to deploy stacks to lambda API gateway Now never really using cloudformation directly despite the auto gen one serverless creates I am curious what is a better one to use If serverless the preferred way To deploy API gateway lambda functions When creating Kodi nox apis"},
{"id": 135832, "question_id": 13583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-11T09:17:02Z", "scrap_date": "2024-05-01T00:00:41.428408", "content": "I am trying to get a Jenkins server in the root account of an organization to be able to push a serverless application nodejs using serverless framework to a new development account I have setup a JenkinsAccessRole that has a trust relationship with the main 9Apps Showbox Tutuapp account "},
{"id": 147052, "question_id": 14705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-12T11:03:19Z", "scrap_date": "2024-05-01T00:00:42.390190", "content": "Perhaps this is because the command is executed before the serverless framework has been fully installed It may also be related to the PATH variable not being set at that time or correctly Perhaps run the serverless command using the path to the binary Difficult to say exactly since I havent used the Azure devops pipeline "},
{"id": 147042, "question_id": 14704, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-12T12:01:22Z", "scrap_date": "2024-05-01T00:00:43.401568", "content": "rdamico this is a sligthly tricky case As per current spec used format matches Serverless variables Easy fix for now is that you can use FnJoin to split private cognitoidentity amazonaws comsub string in a way that Serverless variables resolution does not trigger I assume following would work Stil this experience will be improved"},
{"id": 147043, "question_id": 14704, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-12T12:28:18Z", "scrap_date": "2024-05-01T00:00:43.402573", "content": "Thank for the information Will defintely track those issues "},
{"id": 94322, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-25T14:27:37Z", "scrap_date": "2024-05-01T00:00:44.567253", "content": "I dont know if you can use an environmental variable such as"},
{"id": 94323, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-25T16:29:54Z", "scrap_date": "2024-05-01T00:00:44.568254", "content": "I dont know if you can use an environmental variable such as Not sure I follow you mean your example wouldnt work"},
{"id": 94324, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-25T17:09:10Z", "scrap_date": "2024-05-01T00:00:44.568254", "content": "Ive not tried this yet"},
{"id": 94325, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-25T20:19:08Z", "scrap_date": "2024-05-01T00:00:44.569254", "content": "The input properties are included in the event argument passed to your handler function"},
{"id": 94326, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-25T20:31:43Z", "scrap_date": "2024-05-01T00:00:44.569254", "content": "Thats what I was hoping and looking for but in my case event is undefined for some reason Its populated only when the lambdas trigger is Api Gateway but not when its CloudWatch cron Update its undefined whenever I add these lines When theyre off event is populated with data "},
{"id": 94327, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-10T11:32:17Z", "scrap_date": "2024-05-01T00:00:44.570254", "content": "Hey did you manage to solve this I have the same question "},
{"id": 94328, "question_id": 9432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-12T14:17:21Z", "scrap_date": "2024-05-01T00:00:44.571255", "content": "Hi do you need to read the input data from a lambda Usually the data is inside the event object with the name you choose in the serverless file So if you put a email object will be inside the event email property Always as string "},
{"id": 54682, "question_id": 5468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-22T03:02:03Z", "scrap_date": "2024-05-01T00:00:45.483116", "content": "Take a look at this repo httpsgithub comjgeschwendtserverlessprisma"},
{"id": 54683, "question_id": 5468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-14T14:51:36Z", "scrap_date": "2024-05-01T00:00:45.484117", "content": " from Prisma Prisma now has a nice deployment guide for deploying to AWS Lambda which uses Serverless Framework Deploying to AWS Lambda Prisma Docs If you like it more technical you can also look at the end to end tests that run for each Prisma version that ensures nothing breaks with Prisma and Serverless e2etestsplatformsserverlesslambda at dev prismae2etests GitHub"},
{"id": 146502, "question_id": 14650, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-14T16:14:04Z", "scrap_date": "2024-05-01T00:00:46.417936", "content": "I dont know either the date but I can suggest you check here the deprecations httpswww serverless comframeworkdocsdeprecations Furthermore adding this line below service in your serverless yml will help you testing the new features before they are officially released variablesResolutionMode 20210326 Happy debugging"},
{"id": 120242, "question_id": 12024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-15T21:54:41Z", "scrap_date": "2024-05-01T00:00:47.333095", "content": "Hey ClarkIm having the same issue Did you figure out a solution for this Thanks "},
{"id": 120243, "question_id": 12024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-14T20:59:33Z", "scrap_date": "2024-05-01T00:00:47.334096", "content": "We did not solve this "},
{"id": 113932, "question_id": 11393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-14T22:32:39Z", "scrap_date": "2024-05-01T00:00:48.402978", "content": "Overview of Kubernetes and Understanding Monitoring and Security in Showbox jiofi local html tplinklogin Kubernetes"},
{"id": 139682, "question_id": 13968, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-16T23:34:40Z", "scrap_date": "2024-05-01T00:00:49.132086", "content": "Hey seif I seem to have run into the same problem the code somehow works on my colleagues Linux machine but throws an Error Unable to fetch information about api mydomain com when I try to run it on a mac Did you happen to figure it out by any chance"},
{"id": 139683, "question_id": 13968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-15T14:33:16Z", "scrap_date": "2024-05-01T00:00:49.133086", "content": "Unfortunately 1 The plugin works on Debian and fails on MacOS Any workarounds"},
{"id": 139684, "question_id": 13968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-15T19:34:28Z", "scrap_date": "2024-05-01T00:00:49.133086", "content": "Hi arenayen No unfortunately i ignored using this plugin and i forgot to mention im also using Mac "},
{"id": 139685, "question_id": 13968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-15T19:35:38Z", "scrap_date": "2024-05-01T00:00:49.134086", "content": "Hi tomaszdudek Im also using mac its strange that problem related to client os "},
{"id": 102652, "question_id": 10265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-15T16:45:14Z", "scrap_date": "2024-05-01T00:00:50.123198", "content": "Checking the policy for this IAM Role I even tried granting it superuser access on every S3 bucket But this yields the same error result"},
{"id": 102653, "question_id": 10265, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-01-15T17:50:58Z", "scrap_date": "2024-05-01T00:00:50.124199", "content": "Hi there I would recommend adding two resources one for the contents of the bucket which you already have and the other for the bucket itself as well If you dont have both you are not giving permissions to perform function on the bucket itself such as list the bucket not its contents the bucket I would also suggest posting the full error message you get as that usually helps indicate the exact missing resource and method"},
{"id": 102654, "question_id": 10265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-15T18:47:43Z", "scrap_date": "2024-05-01T00:00:50.125199", "content": "I have added that ARN too but that does not make the difference Full error is like this What I noticed is that region property in the error object is null I have set a region in the S3 class but it makes no difference If I log my bucket I can see that bucket and the key is correct I have a bucket slss3example with a file database csv and logging what I get from the lambda received event I get"},
{"id": 102655, "question_id": 10265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-21T03:38:29Z", "scrap_date": "2024-05-01T00:00:50.126199", "content": "Have you confirmed you can access the bucket using the same credentials using an alternative method for example using AWS CLI aws s3api getobject bucketBUCKETNAME keyOBJECTKEY tmpfoo"},
{"id": 102656, "question_id": 10265, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-07-28T04:18:17Z", "scrap_date": "2024-05-01T00:00:50.126199", "content": "Hello thibmaek I was having same exact issue trying to upload a file to S3 using AWS Node js SDK and the privilege I was missing turned out to be s3PutObjectTagging How did I found this out I manually modified the Lambdas role in IAM to provide full access to S3 like so Then upload started working This allowed me to narrow down the issue It was definitely a missing permission Then I read the AWS documentation at httpsdocs aws amazon comAmazonS3latestAPIAPI_PutObjectTagging html and noticed that my request is to upload in my Node js app is trying to add tagging during upload Below are the parameters I pass to awssdk S3 client After I found my root cause and in order to adhere to least privilege principle I changed the Lambdas role policy to So now Im a happier camper Hope this helps you narrow down your problem if you havent already good luck "},
{"id": 102657, "question_id": 10265, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-04-30T13:23:35Z", "scrap_date": "2024-05-01T00:00:50.128200", "content": "In my case I solved it by adding both arnawss3bucket and arnawss3bucket as Resources "},
{"id": 38002, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-19T18:47:23Z", "scrap_date": "2024-05-01T00:00:51.944313", "content": "You need to connect to the database outside of your handler"},
{"id": 38003, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T07:17:01Z", "scrap_date": "2024-05-01T00:00:51.945313", "content": "Yea Ive tried that and nothing seems to work I created just an if statement outside the handler to call the db connect that didnt work Ive called the connectoDatabase function outside the handler and had a separate function the handler calls that hits the db inside of a try catch that didnt seem to work I dont know what Im doing wrong chris"},
{"id": 38004, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T21:30:52Z", "scrap_date": "2024-05-01T00:00:51.946313", "content": "I am using DynamoDB for my projects so I cannot be of much help unfortunately Not sure if you saw this blog post from Mongo httpswww mongodb comblogpostoptimizingawslambdaperformancewithmongodbatlasandnodejs"},
{"id": 38005, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T05:13:05Z", "scrap_date": "2024-05-01T00:00:51.947314", "content": "ahansson89 Thanks for giving it a try Yea I looked over that post and quite a few others and have tried everyone of them I dont know maybe it has something to do with using local serverlessoffline I figure it out eventually Thanks Chris"},
{"id": 38006, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-05T02:00:52Z", "scrap_date": "2024-05-01T00:00:51.947314", "content": "Interesting just as a reference This works for me in serverlessoffline At first glance this only difference is that I save db connections[0] readyState instead of hard setting it to true "},
{"id": 38007, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-25T15:14:28Z", "scrap_date": "2024-05-01T00:00:51.948314", "content": "Im having the same problem and im certain its because of serverless offline Do you figure out a way Thanks"},
{"id": 38008, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-06-05T16:03:56Z", "scrap_date": "2024-05-01T00:00:51.949314", "content": "This is only an issue with serverlessoffline and is caused by the way it does cache invalidation If you want a quick fix you can do sls offline start skipCacheInvalidation which will start and kill a node process for every request This slows things down but fixes the issue of database connections staying open See this PR for details httpsgithub comdheraultserverlessofflinepull368"},
{"id": 38009, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T07:12:49Z", "scrap_date": "2024-05-01T00:00:51.950315", "content": "Do you ever need to disconnect from Mongo in your lambda Or do you just let the connection linger"},
{"id": 380010, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-13T16:48:16Z", "scrap_date": "2024-05-01T00:00:51.950315", "content": "Hi ojongerius can you explain why you choose the first db thanks"},
{"id": 380011, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-15T15:13:45Z", "scrap_date": "2024-05-01T00:00:51.951315", "content": "I had the same issue and you saved me so much frustration The skipCacheInvalidation flag did the trick and saved my local MongoDB from crashing from too many open documents THANK YOU "},
{"id": 380012, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-01T01:03:06Z", "scrap_date": "2024-05-01T00:00:51.951315", "content": "This works EXCEPT it stops serverlessoffline from autoreloading on code changes Webpack sees the change and recompiles using serverlesswebpack as well but serverlessoffline doesnt swap code in require see httpsgithub comserverlessheavenserverlesswebpackissues352 The thing that serverlessoffline is not doing that aws lambda does is share a container for all function invocations In AWS it runs the code outside the handler when it creates the container then invokes the function multiple times from the same container until somewhere between 5 and 30 minutes at which point it kills the container and creates a new one on the next invocation This is why declaring the db connection outside the function makes it reusable However serverlessoffline doesnt seem to do this unless skipCacheInvalidation is set It would be nice if we could get this sharedcontainer behavior in serverlessoffline instead of creating a brand new one on every invocation "},
{"id": 380013, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-11-21T23:43:31Z", "scrap_date": "2024-05-01T00:00:51.953315", "content": "In case anyone lands here and is looking for a solution you can run sls offline start allowCache that should keep your mongodb connection and any other variables defined outside the handler live outside the handler "},
{"id": 380014, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-26T19:26:38Z", "scrap_date": "2024-05-01T00:00:51.954315", "content": "thanks man it worked for me "},
{"id": 380015, "question_id": 3800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-30T10:52:02Z", "scrap_date": "2024-05-01T00:00:51.954315", "content": "Youve called the connectoDatabase function outside the handler and had a separate function the handler calls that hits the db inside of a try catch that didnt seem to work "},
{"id": 143922, "question_id": 14392, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-19T09:28:21Z", "scrap_date": "2024-05-01T00:00:52.768286", "content": "I looked up the word kafka in the github repository of serverless and came across a few files and this documentation page httpsgithub comserverlessserverlessblob4ba4b81e746fc7f59457d2f9ca74b90371979643docsprovidersawseventsmsk md"},
{"id": 143923, "question_id": 14392, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-31T10:22:29Z", "scrap_date": "2024-05-01T00:00:52.769286", "content": "Thanks for bringing this to our attention its being brought by one of the indirect dependencies "},
{"id": 143582, "question_id": 14358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-31T10:23:20Z", "scrap_date": "2024-05-01T00:00:53.627211", "content": "Hello at the moment you cannot use EFS as an event source for Lambda "},
{"id": 142022, "question_id": 14202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-31T16:54:40Z", "scrap_date": "2024-05-01T00:00:54.472194", "content": "Youll need a regionspecific deployment bucket You currently reference it from the envconfigs yml but I dont imagine it varies by region As an example Heres what I use Which would resolve sls deploy s dev r uswest1 to And if you dont want to manually precreate the possible buckets take a look at serverlessplugincreatedeploymentbucket or serverlessdeploymentbucket"},
{"id": 19972, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T06:35:32Z", "scrap_date": "2024-05-01T00:00:55.449589", "content": "I just ran into the exact same issue alechewitt did you or anyone else manage to find a solution for this"},
{"id": 19973, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-12T23:24:22Z", "scrap_date": "2024-05-01T00:00:55.450589", "content": "Im in the same situation There is a closedwithoutfix issue from v0 5 about this httpsgithub comserverlessserverlessissues672"},
{"id": 19974, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-12T23:38:42Z", "scrap_date": "2024-05-01T00:00:55.450589", "content": "My situation is this I need to set a boolean variable so that in our CICD builds custom dockerizePip is set to false The following does not work because the environment variable value is interpreted as a string so any value will be interpreted as true and if the variable is not set serverless complains thus A valid environment variable to satisfy the declaration envDOCKERIZE_PIP could not be found The following also does not work because a boolean literal cannot appear as a default value Invalid variable reference syntax for variable false You can only reference env vars options files You can check our docs for more info So here is my workaround Externally the environment variable DOCKERIZE_PIP is either set for true or not set for false If it is not set we default to a special custom variable false to work around the inability to use a boolean literal as a default "},
{"id": 19975, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T02:00:25Z", "scrap_date": "2024-05-01T00:00:55.452589", "content": "guyc thats a cool workaround but doesnt seem to work for me Running serverless ^1 28 0"},
{"id": 19976, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T02:32:50Z", "scrap_date": "2024-05-01T00:00:55.452589", "content": "Thats odd Heres a minimum serverless yml file to demonstrate maybe this will help This test used sls version 1 31 With BOOLEAN_TEST not set set the environment variable The value set to test is a string but at least for dockerizePip it seems to be interpreted as a true value "},
{"id": 19977, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T03:13:02Z", "scrap_date": "2024-05-01T00:00:55.453590", "content": "Oh cool I didnt know about sls state dev print thats really helpful Ye so it looks like my variables are correct booleans as you mention But for some reason the enabled false doesnt work perhaps because the null is there Not sure why its there this is it in my serverless yml Oh wait is it because there is a space after schedule jeeze thats a gotcha if thats the case Ah its the indenting on schedule Wow I hate yml For future reference this is the correct structure note two indents for rate and enabled but now for some reason serverless deploy still doesnt set the cloudwatch trigger for the lambda to false Any suggestions"},
{"id": 19978, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T05:25:13Z", "scrap_date": "2024-05-01T00:00:55.455591", "content": "It would be helpful to see how selfcustom enableSchedules is assigned Heres an example that very closely mirrors your use case Generate without setting BOOLEAN_TEST look for this section in the cloudformation script Note that State is DISABLED Generate with BOOLEAN_TEST set and now State is ENABLED Hooray "},
{"id": 19979, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T07:03:59Z", "scrap_date": "2024-05-01T00:00:55.456590", "content": "guyc hey thanks for your reply and thanks for the tips about sls package again really useful I did as you mentioned and indeed can replicate your results in serverlesscloudformationtemplateupdatestack json but if you then go ahead and deploy it seems like the stacks cloudwatch enabled state doesnt change Oh wait if I then click on it it then says Status Disabled on the next page So I guess it is working Jeeze AWS has a confusing interface Thanks again for all your help there "},
{"id": 199710, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-02-27T10:29:05Z", "scrap_date": "2024-05-01T00:00:55.457590", "content": "Heres another way to do it"},
{"id": 199711, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-28T16:24:31Z", "scrap_date": "2024-05-01T00:00:55.457590", "content": "Now you could do this"},
{"id": 199712, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-30T10:48:48Z", "scrap_date": "2024-05-01T00:00:55.458591", "content": "thats a cool workaround but doesnt seem to work for me"},
{"id": 199713, "question_id": 1997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-31T13:07:46Z", "scrap_date": "2024-05-01T00:00:55.458591", "content": "Thats a cool workaround but doesnt seem to work for me"},
{"id": 92672, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T08:16:32Z", "scrap_date": "2024-05-01T00:00:56.243970", "content": "I have got this issue today on my current project which was still running perfectly from yesterday Version 1 38 0 Update httpsgithub comserverlessserverlessissues6659"},
{"id": 92673, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T09:59:58Z", "scrap_date": "2024-05-01T00:00:56.244971", "content": "Im getting the same issue when running through my CI gitlab but interestingly it runs OK locally both using serverless 51 0 Perhaps there is a breaking change in a dependency looks like awssdk with me "},
{"id": 92674, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T11:53:11Z", "scrap_date": "2024-05-01T00:00:56.245971", "content": "I see the same issue Yesterday everything was fine "},
{"id": 92675, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T12:29:47Z", "scrap_date": "2024-05-01T00:00:56.246971", "content": "Im seeing this today as well with version 1 50 1 "},
{"id": 92676, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-10T14:11:11Z", "scrap_date": "2024-05-01T00:00:56.246971", "content": "Also happening to us right now We are using Buildkite All of a sudden our deploys are failing [20190910T083526Z] Prefix xxxxxxxxxxx [20190910T083526Z] [20190910T083526Z] Type Error [20190910T083526Z] [20190910T083526Z] Cannot convert undefined or null to object [20190910T083526Z] [20190910T083526Z] For debugging logs run again after setting the SLS_DEBUG environment variable [20190910T083526Z] [20190910T083526Z] Stack Trace [20190910T083526Z] [20190910T083526Z] TypeError Cannot convert undefined or null to object [20190910T083526Z] at hasOwnProperty [20190910T083526Z] at features constructor validateRegionalEndpointsFlag usrlocallibnode_modulesserverlessnode_modulesawssdklibservicessts js9241 "},
{"id": 92677, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T15:22:08Z", "scrap_date": "2024-05-01T00:00:56.248972", "content": "nerwinchernando Identical error to ours"},
{"id": 92678, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T16:15:43Z", "scrap_date": "2024-05-01T00:00:56.248972", "content": "Yes this has broken our build pipeline Thanks"},
{"id": 92679, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T17:11:08Z", "scrap_date": "2024-05-01T00:00:56.249972", "content": "Any solution Same error here "},
{"id": 926710, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-10T17:29:33Z", "scrap_date": "2024-05-01T00:00:56.249972", "content": "I had the same issue today I updated serverless to 1 51 0 and it went back to work "},
{"id": 926711, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-09-10T19:34:13Z", "scrap_date": "2024-05-01T00:00:56.250973", "content": "the problem was with awssdkjs and theyve commited a fix just a while ago github comawsawssdkjs Updates SDK to v2 526 0 by on 0621PM 10 Sep 19 UTC changed 12 files with 95 additions and 60 deletions If you guys reinstall serverless from scratch or removing packagelock json it should work"},
{"id": 926712, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-10T19:45:30Z", "scrap_date": "2024-05-01T00:00:56.251972", "content": "Things seem to be working again jeez Thanks "},
{"id": 926713, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-11T11:03:07Z", "scrap_date": "2024-05-01T00:00:56.251972", "content": "I still had an issue even after updating to serverless 1 51 0 and SDK 2 526 0 The problem has gone after I added [default] section to awsconfig file I found this solution in this thread Add support optin regional STS endpoints"},
{"id": 926714, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-18T06:00:04Z", "scrap_date": "2024-05-01T00:00:56.252973", "content": "I have the same problem too Version 1 51 0"},
{"id": 926715, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-18T06:00:18Z", "scrap_date": "2024-05-01T00:00:56.252973", "content": "It has something to do with awssdk httpsgithub comawsawssdkjspull2840"},
{"id": 926716, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-04T09:04:48Z", "scrap_date": "2024-05-01T00:00:56.253973", "content": "offline Starting Offline devuswest2 offline Offline [http for lambda] listening on httplocalhost3002 ANY httplocalhost3000dev proxy POST httplocalhost300020150331functionsangularuniversalinvocations ANY httplocalhost3000dev POST httplocalhost300020150331functionsangularuniversalinvocations Type Error TypeError Cannot convert undefined or null to object at keys at parseResources Usersusernameworksprojectnamenode_modulesserverlessofflinedisteventshttpparseResources js19422 at HttpServer createResourceRoutes Usersusernameworksprojectnamenode_modulesserverlessofflinedisteventshttpHttpServer js76456 at Http createResourceRoutes Usersusernameworksprojectnamenode_modulesserverlessofflinedisteventshttpHttp js5765 at ServerlessOffline _createHttp Usersusernameworksprojectnamexnode_modulesserverlessofflinedistServerlessOffline js21753 at process _tickCallback internalprocessnext_tick js687 Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information Operating System darwin Node Version 10 16 0 Framework Version 1 69 0 Plugin Version 3 6 9 SDK Version 2 3 0 Components Version 2 30 5 I tried add default profile to aws credential I treid reinstall whole serverless delete package lock json node_modules I tried update awssdk"},
{"id": 926717, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-05T14:12:23Z", "scrap_date": "2024-05-01T00:00:56.256973", "content": "Did you get to the bottom of this Im experiencing the same with serverlessoffline"},
{"id": 926718, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-05T18:22:42Z", "scrap_date": "2024-05-01T00:00:56.256973", "content": "I think Ive found out what it is in case its useful Setting the resourceRoutes property to true in custom without a resources section Ive created a github issue as I think its worthy of a more informative error message"},
{"id": 926719, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-11T09:22:55Z", "scrap_date": "2024-05-01T00:00:56.257974", "content": "rcoundon Hey there i keep getting this error Could you please help me out Id really appreciate it Type Error TypeError Cannot convert undefined or null to object at Function entries at getConfigsByWarmer C\\Users\\ryan\\OneDrive\\Desktop\\Cantoonify_Model\\cartoonify\\node_modules\\serverlesspluginwarmup\\src\\config js17034 at WarmUp configPlugin C\\Users\\ryan\\OneDrive\\Desktop\\Cantoonify_Model\\cartoonify\\node_modules\\serverlesspluginwarmup\\src\\index js8210 at C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\lib\\classes\\PluginManager js50155 at tryCatcher C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\util js1623 at Object gotValue C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\reduce js16818 at Object gotAccum C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\reduce js15525 at Object tryCatcher C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\util js1623 at Promise _settlePromiseFromHandler C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\promise js54731 at Promise _settlePromise C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\promise js60418 at Promise _settlePromiseCtx C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\promise js64110 at _drainQueueStep C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js9712 at _drainQueue C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js869 at Async _drainQueues C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js1025 at Immediate Async drainQueues [as _onImmediate] C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js1514 at processImmediate internaltimers js46121"},
{"id": 926720, "question_id": 9267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-14T11:57:51Z", "scrap_date": "2024-05-01T00:00:56.260975", "content": "rcoundon Hey there i keep getting this error Could you please help me out Id really appreciate it Type Error TypeError Cannot convert undefined or null to object at Function entries at getConfigsByWarmer C\\Users\\ryan\\OneDrive\\Desktop\\Cantoonify_Model\\cartoonify\\node_modules\\serverlesspluginwarmup\\src\\config js17034 at WarmUp configPlugin C\\Users\\ryan\\OneDrive\\Desktop\\Cantoonify_Model\\cartoonify\\node_modules\\serverlesspluginwarmup\\src\\index js8210 at C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\lib\\classes\\PluginManager js50155 at tryCatcher C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\util js1623 at Object gotValue C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\reduce js16818 at Object gotAccum C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\reduce js15525 at Object tryCatcher C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\util js1623 at Promise _settlePromiseFromHandler C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\promise js54731 at Promise _settlePromise C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\promise js60418 at Promise _settlePromiseCtx C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\promise js64110 at _drainQueueStep C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js9712 at _drainQueue C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js869 at Async _drainQueues C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js1025 at Immediate Async drainQueues [as _onImmediate] C\\Users\\ryan\\AppData\\Roaming\\npm\\node_modules\\serverless\\node_modules\\bluebird\\js\\release\\async js1514 at processImmediate internaltimers js46121"},
{"id": 78222, "question_id": 7822, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-03T21:42:38Z", "scrap_date": "2024-05-01T00:00:56.923003", "content": "I have UserData set up right now I was just hoping to do it with as little intervention as possible was hoping there was a windows container such as Speed Test Docker "},
{"id": 141832, "question_id": 14183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-05T06:43:31Z", "scrap_date": "2024-05-01T00:00:57.991966", "content": "Hi i have the same problem too ShowBox Mobdro"},
{"id": 141833, "question_id": 14183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-05T06:45:58Z", "scrap_date": "2024-05-01T00:00:57.991966", "content": "Can you share the output of the serverless version command"},
{"id": 121812, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-04T07:25:51Z", "scrap_date": "2024-05-01T00:00:59.052036", "content": "Hi Dave This is a message from our newly released validator for the serverless yml to try and help point folks to potential issues with their serverless yml Could you share the serverless yml for the project returning this method at all"},
{"id": 121813, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-04T08:56:17Z", "scrap_date": "2024-05-01T00:00:59.053036", "content": "Hi we are seeing the same error since yesterday We have got the following line in our serverless yml config file frameworkVersion 1 17 0 2 0 0"},
{"id": 121814, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-04T09:09:55Z", "scrap_date": "2024-05-01T00:00:59.054036", "content": "The error message should tell you how to temporarily deactivate the check We also have an update going out shortly and is possibly even out already to correct this "},
{"id": 121815, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-04T15:29:47Z", "scrap_date": "2024-05-01T00:00:59.054036", "content": "Hi Gareth I had had frameworkVersion 1 78 0 at the top level Just tested with 1 78 1 and looks to be fixed now Thanks "},
{"id": 121816, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-05T20:02:29Z", "scrap_date": "2024-05-01T00:00:59.055036", "content": "I have version 1 78 1 and still getting the error Serverless Configuration error at root unrecognized property querystrings serverless yml snippet"},
{"id": 121817, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-07T09:57:43Z", "scrap_date": "2024-05-01T00:00:59.055036", "content": "And Im getting the Configuration error at root unrecognized property deploymentBucket as well frameworkVersion 1 78 1 is used"},
{"id": 121819, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-09T08:31:28Z", "scrap_date": "2024-05-01T00:00:59.056037", "content": "You get the error because deploymentBucket is actually in the wrong spot The error says you have it root so it needs to be indented under provider"},
{"id": 1218110, "question_id": 12181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-05T19:46:29Z", "scrap_date": "2024-05-01T00:00:59.057037", "content": "Hi Gareth Im seeing a similar problem when I set configValidationMode error for any versions I tried Configuration error at root unrecognized property resources If I set I set configValidationMode warn the error does not appear "},
{"id": 117702, "question_id": 11770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-05T21:02:55Z", "scrap_date": "2024-05-01T00:01:00.071937", "content": "Did you work out how to achieve this"},
{"id": 146432, "question_id": 14643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-06T07:01:48Z", "scrap_date": "2024-05-01T00:01:01.075122", "content": "Can you share the output of serverless version command"},
{"id": 146433, "question_id": 14643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-06T16:30:55Z", "scrap_date": "2024-05-01T00:01:01.076122", "content": " serverless version Framework Core 2 33 1 Plugin 4 5 3 SDK 4 2 2 Components 3 8 1 garethmcc"},
{"id": 49742, "question_id": 4974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-07T00:12:56Z", "scrap_date": "2024-05-01T00:01:01.806936", "content": "have you solve this I have the same problem "},
{"id": 40442, "question_id": 4044, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-17T23:54:08Z", "scrap_date": "2024-05-01T00:01:02.553082", "content": "Update Im now using SAM and getting better debugging in general When I now put the feed the buffer til callback I get this At least the buffer isnt empty anymore but it still dont work "},
{"id": 40443, "question_id": 4044, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T00:13:59Z", "scrap_date": "2024-05-01T00:01:02.554082", "content": "So I tried something new using the buffer as an image source Now I get something interesting like this and a lot more of the same I guess someone knows what this is "},
{"id": 40444, "question_id": 4044, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-07T00:16:42Z", "scrap_date": "2024-05-01T00:01:02.555083", "content": "nobody has response of this problem I cant solve this is stuck I have the same problem"},
{"id": 40822, "question_id": 4082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-24T07:35:54Z", "scrap_date": "2024-05-01T00:01:03.392911", "content": "I finally saw an error when click its resource from the related cloudformation stack I fixed it with the answer from aws Forums Could you try going through the process at Amazon Web Services SignIn and then verify if you still see the error The problem might be that accounts created long time ago would not subscribe to new services automatically Going through above process will make the account subscribed to all existing services and future new services Similar post Forums AWS rePost This is my first time to know this resubscribe feature Good to know Furthermore I met the same problem in another aws account which need an extra step here is the link to activate the services on the account AWS Console Signup Once the services are activated and support the EULA is signed Seems the owner to apply the account forgot to active EULA End user license agreement After actived EULA and resubscribe the problem is fixed "},
{"id": 40823, "question_id": 4082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-31T17:30:23Z", "scrap_date": "2024-05-01T00:01:03.394914", "content": "are you able to figure out why two log groups are being created even you have give only one to create"},
{"id": 40824, "question_id": 4082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-24T23:41:52Z", "scrap_date": "2024-05-01T00:01:03.394914", "content": "Serverless will automatically create a log group so this config is creating an additional one You can disable the automatic one with disableLogs true How to configure AWS Lambda functions in the Serverless Framework"},
{"id": 40825, "question_id": 4082, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-04-07T07:45:47Z", "scrap_date": "2024-05-01T00:01:03.395908", "content": "Can you help me config Serverless cloudWatch My config nameLogs handler lambdaindex functionLogsLB events cloudwatchLog awslogsnamelogs But I have an error he specified log group does not exist Service AWSLogs Status Code 400 Error Code ResourceNotFoundException Request ID id Proxy null Can help me if I mistake something"},
{"id": 146172, "question_id": 14617, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-07T12:35:04Z", "scrap_date": "2024-05-01T00:01:03.950112", "content": "I solved the problem"},
{"id": 116442, "question_id": 11644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-09T14:01:00Z", "scrap_date": "2024-05-01T00:01:05.200313", "content": "same for me have no idea whet is it about yet"},
{"id": 116444, "question_id": 11644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-08T05:35:31Z", "scrap_date": "2024-05-01T00:01:05.201312", "content": "Hi there If you delete the serverlessrc file and then run serverless login again this problem should be resolved "},
{"id": 144132, "question_id": 14413, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-18T21:04:18Z", "scrap_date": "2024-05-01T00:01:07.122003", "content": "Hi am also getting this error with a serverless deploy The issue occurs when I am using an exported https_proxy Without the proxy everything works fine Using Framework version 2 30 3 Remark The useDotEnv variable within serverless yml is set to true in my case plugins used "},
{"id": 144133, "question_id": 14413, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-19T07:34:18Z", "scrap_date": "2024-05-01T00:01:07.124004", "content": "Think I found the root cause Workaround pin the serverless version to 2 29 0 With latest releases a new file libawsrequest js was introduced Inside those changes URL is used not url anymore The url parse command returned an object with a path property the URL object does not have the path property Was not able to proove that yet "},
{"id": 144134, "question_id": 14413, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-19T07:47:45Z", "scrap_date": "2024-05-01T00:01:07.125004", "content": "Created a bug ticket The options or port or path argument must be specified when using https_proxy version 2 30 Issue 9146 serverlessserverless GitHub"},
{"id": 144135, "question_id": 14413, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-22T21:02:01Z", "scrap_date": "2024-05-01T00:01:07.125004", "content": "Lars1 my issue was related with setting https_proxy The bug was introduced to the serverless framework with version 2 30 0 There was a PR 9147 which should solve that issue It is merged to master but not included into a new release think it will be part of 2 30 4 Am not sure if that problem is also related to your case If you use a proxy then downgrading to 2 29 should solve your issue or wait until the hotfix is added into a new release "},
{"id": 144137, "question_id": 14413, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-23T07:51:08Z", "scrap_date": "2024-05-01T00:01:07.126004", "content": "That was exactly our problem We pinned the version to 2 29 0 and are waiting for a new version to be released "},
{"id": 138542, "question_id": 13854, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-25T11:37:47Z", "scrap_date": "2024-05-01T00:01:08.146854", "content": "I figured out my issue I had forgotten to add the following custom webpack webpackConfig webpack config js includeModules true"},
{"id": 138543, "question_id": 13854, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T16:09:02Z", "scrap_date": "2024-05-01T00:01:08.148854", "content": "Hi thanks for sharing the solution it may help SHAREit MX Player"},
{"id": 138544, "question_id": 13854, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-23T18:21:48Z", "scrap_date": "2024-05-01T00:01:08.148854", "content": "You can use this template which needs less configuration GitHub subhankardeserverlessnodejses7template Zero configuration and fully compatible with ES6ES7 template for Serverless development using Nodejs"},
{"id": 143222, "question_id": 14322, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-23T22:09:37Z", "scrap_date": "2024-05-01T00:01:09.237507", "content": "Ive read a lot of articles posts etc but have not yet been able to get python 3 6 to talk to SQL Server using AWS Lambda Any help would be greatly appreciated Kodi nox "},
{"id": 144652, "question_id": 14465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-24T18:12:47Z", "scrap_date": "2024-05-01T00:01:10.010838", "content": "I was able to resolve this by removing serverlesswebpack plugin"},
{"id": 126022, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-27T01:28:37Z", "scrap_date": "2024-05-01T00:01:10.628249", "content": "You can setup it through the AWS console UI or you can create your own authorizer function Like serverless yml authorizer authorizerFun"},
{"id": 126023, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-09-27T09:32:01Z", "scrap_date": "2024-05-01T00:01:10.629250", "content": "Thanx sgyyz for the reply The above is an implementation of how to attach a lambda authorizer for REST API but I havent found a way to attach a lambda authorizer for HTTP API through serverless yml even though HTTP APIs support lambda authorizers "},
{"id": 126025, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-19T04:26:49Z", "scrap_date": "2024-05-01T00:01:10.630250", "content": "I havent found a way to attach a lambda authorizer for HTTP API through serverless yml even though HTTP APIs support lambda authorizers I can do this by hand but I cant find a way to persuade sls to do this Whats the correct yaml to achieve it"},
{"id": 126026, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-20T04:03:27Z", "scrap_date": "2024-05-01T00:01:10.630250", "content": "I would also like to be able to this I guess for now it will be a manual process"},
{"id": 126027, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-11T17:08:40Z", "scrap_date": "2024-05-01T00:01:10.631250", "content": "Any updates here Cant find the way to attach lambda authorizer not jwt to the httpapi route Weird situation I can create authorizerfunctiongateway but cant link them to each other"},
{"id": 126028, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-12T07:11:32Z", "scrap_date": "2024-05-01T00:01:10.632251", "content": "Btw I managed to do this by creating separate AWSApiGatewayV2Authorizer and AWSApiGatewayV2Route AWSApiGatewayV2Integration for all api resources it is working but would be great to have builtin functionality as for JWT authorizers"},
{"id": 126029, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-15T04:13:02Z", "scrap_date": "2024-05-01T00:01:10.632251", "content": "Hi NevRA Would you be willing to share the example CloudFormation yaml for that Ive been struggling to do the same thing Thanks "},
{"id": 1260210, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-20T18:56:12Z", "scrap_date": "2024-05-01T00:01:10.633256", "content": ""},
{"id": 1260211, "question_id": 12602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-25T18:07:23Z", "scrap_date": "2024-05-01T00:01:10.633256", "content": "Looks like theres an outstanding issue for this on GH if anyone wants to follow progress "},
{"id": 138242, "question_id": 13824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-03T01:48:26Z", "scrap_date": "2024-05-01T00:01:11.709286", "content": "I am also facing this issue Has anyone been able to figure out what the cause is"},
{"id": 138243, "question_id": 13824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-25T19:00:54Z", "scrap_date": "2024-05-01T00:01:11.710280", "content": "Culprit found POST request hanging Issue 1150 dheraultserverlessoffline GitHub"},
{"id": 94642, "question_id": 9464, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-25T22:53:39Z", "scrap_date": "2024-05-01T00:01:12.702996", "content": "asafvaron90 Hi I am facing the same issue Were you able to resolve it"},
{"id": 129562, "question_id": 12956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-23T02:48:43Z", "scrap_date": "2024-05-01T00:01:13.758216", "content": "I think the issue is that ENV vars are always a string Specifically in your case a string version of the integer value you want So youd have to find some other way to get the value perhaps from parameter store "},
{"id": 144322, "question_id": 14432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-19T10:57:32Z", "scrap_date": "2024-05-01T00:01:14.574204", "content": "ok good luck and thanks a lot for your detailed message"},
{"id": 144323, "question_id": 14432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-24T10:26:27Z", "scrap_date": "2024-05-01T00:01:14.575204", "content": "Why would you If you dont trust your provider spin up your own openwhisk"},
{"id": 143042, "question_id": 14304, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-16T16:28:56Z", "scrap_date": "2024-05-01T00:01:15.587957", "content": "So I figured out how to set this manually is there a way to do it from Serverless framework"},
{"id": 145402, "question_id": 14540, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-28T14:03:56Z", "scrap_date": "2024-05-01T00:01:16.366757", "content": "I have observed that my request doesnt reach upto api gateway until 5 minutes passes from first request event though i have disabled Authorizer Cache which was set for 5 minutes Any solutions "},
{"id": 81102, "question_id": 8110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-29T21:14:25Z", "scrap_date": "2024-05-01T00:01:17.047769", "content": "Were you able to fix this"},
{"id": 116182, "question_id": 11618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-25T19:00:43Z", "scrap_date": "2024-05-01T00:01:18.021729", "content": "You should keep in mind your budget a number of visitors on your site catalog size possibility to scale and other factors before deciding which hosting to choose I think Atharva System may provide more information to you which may help you to take your decision Atharva System is a pioneer in cloud computing services and has been providing effective business solutions to companies for years Cloud has been our inhouse specialty As one of the most soughtafter technology solutions it not only optimizes your data storage but also simplifies your operations "},
{"id": 116183, "question_id": 11618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-07T11:55:00Z", "scrap_date": "2024-05-01T00:01:18.023729", "content": "Magento has unique features and so it also needs a hosting service that can enhance these features Lets take at the following some of the best hosting options for building an ecommerce site with Magento AWS You can build a Magento site using Amazons AWS The QuickStart process automatically installs Magento on the AWS cloud You need to first sign up for an AWS account to build with Magento A detailed guide is provided for you to get started Google Cloud If you prefer the security and quality hosting that Google can bring then hosting Magento sites on their platform is a wise choice However this method requires technical knowhow and is not for casual users Bitnami offers Magentos image on GCP You can pick a hosting platform that has the right amount of features that are relevant to you In this way you get your moneys worth and build a Magento site without difficulty "},
{"id": 116184, "question_id": 11618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-08T13:53:10Z", "scrap_date": "2024-05-01T00:01:18.024730", "content": "Do you want to know the right solution for it Okay Here is the right way to know the right hosting platform for your next one Go through this link Click me"},
{"id": 158642, "question_id": 15864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-08T17:04:47Z", "scrap_date": "2024-05-01T00:01:19.066186", "content": "leahclark please open issue at httpsgithub comserverlessserverlessissues I believe its simply because we do not support FnIf intristic function at this property This can be easily fixed by updating the schema and if thats the case you may go directly with PR"},
{"id": 158643, "question_id": 15864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-09-21T13:30:49Z", "scrap_date": "2024-05-01T00:01:19.067186", "content": "I also think that its can be fixed by updating the schema Appvalley TutuApp Tweakbox"},
{"id": 160432, "question_id": 16043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-08T05:32:29Z", "scrap_date": "2024-05-01T00:01:19.938719", "content": "The answer was ApiId "},
{"id": 160433, "question_id": 16043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-08T16:08:39Z", "scrap_date": "2024-05-01T00:01:19.938719", "content": "Probably this was an API Gateway Issue Add some console logs in Lambda function and check cloudwatch logs "},
{"id": 160572, "question_id": 16057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-09T09:02:58Z", "scrap_date": "2024-05-01T00:01:20.776879", "content": "It looks like module exists Serverless Framework Plugins"},
{"id": 140542, "question_id": 14054, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T22:23:53Z", "scrap_date": "2024-05-01T00:01:22.697454", "content": "Im taking over an AWS serverless project and I cant seem to get it running locally Im running from an Ubuntu subsystem inside Windows 10 Showbox jiofi local html tplinklogin "},
{"id": 140402, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T11:03:59Z", "scrap_date": "2024-05-01T00:01:23.525858", "content": "Arh ok this started working again once we relinked the AWS providers We were worried about doing this as we were not sure whats going on in the background and as other things had appeared to break we did not want to "},
{"id": 140403, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T12:46:04Z", "scrap_date": "2024-05-01T00:01:23.526859", "content": "Actually this is not fixed It appears that the setting of the provider in the serverless UI is always used regardless of the AWS_PROFILE env used in the CLI I have a service with 3 stages Now test is a dynamic stage it does not have a provider setup in the serverless UI Yesterday I could deploy using AWS_PROFILEtestprofile and it worked and deployed to the correct AWS account However today it wont work unless I create an provider in the serverless UI and link it to this service stage When I try to deploy without linking a provider in the UI using AWS_PROFILE I can see that its looking in the wrong AWS account and I am getting Again "},
{"id": 140404, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T12:53:16Z", "scrap_date": "2024-05-01T00:01:23.527859", "content": "Have also tried with passing awsprofile to the deploy command But that results in the same errors "},
{"id": 140405, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T14:10:35Z", "scrap_date": "2024-05-01T00:01:23.528859", "content": "This has been acknowledged as a bug in that AWS_PROFILEawsprofile no longer overrides the provider setting in the serverless UI "},
{"id": 140406, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-10T13:11:57Z", "scrap_date": "2024-05-01T00:01:23.529854", "content": "Is there any progress regarding this bug I just encountered the same problem and cant deploy to my development with local credentials Just upgraded to the latest CLI and when I run it it now prints out that it is using provider credentials configured via dashboard Also with dashboard provider credentials Im stuck with production credentials Meaning that even if CLI informs me with an URL to dashboard that it is using dev credentials it still uses production credentials Any hints what I could try to overcome this problem"},
{"id": 140407, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-10T14:20:53Z", "scrap_date": "2024-05-01T00:01:23.530860", "content": "In general I gave up trying to manage deployments via the CLI and had to make sure all providers are set up in the serverless web app Its already causes a few issues for us The bigger issue is parameters for us As we have 10s of services its basically an unmanagable mess managing config for each service and stage in the UI Serverless appears to be focusing on small services rather than serious use cases "},
{"id": 140408, "question_id": 14040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-10T14:27:57Z", "scrap_date": "2024-05-01T00:01:23.531860", "content": "Thanks for update electrical I think Ill sort this out by setting up pipelines for nonprod environments as well "},
{"id": 143322, "question_id": 14332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-11T09:12:18Z", "scrap_date": "2024-05-01T00:01:24.566664", "content": "Hello claudiadast theres a small typo in your example you have subnetdIds where it should be subnetIds I believe we should update schema to catch these typos Ive tested in locally and it should resolve your problem here "},
{"id": 142192, "question_id": 14219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-12T06:25:57Z", "scrap_date": "2024-05-01T00:01:25.605602", "content": "Here a follow up the problem was that I installed Node js and npm through snap and there were issues with paths So I removed the Node js snap sudo snap remove node I installed nvm and then the last Node js LTS nvm install lts Opened another terminal and updated npm npm install g npm and finally npm install g serverless"},
{"id": 41832, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T22:01:39Z", "scrap_date": "2024-05-01T00:01:26.387872", "content": "I think you are looking for not"},
{"id": 41833, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-07T03:13:48Z", "scrap_date": "2024-05-01T00:01:26.388872", "content": "Im getting 503 Service Unavailable and then timeout "},
{"id": 41834, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-07T03:45:11Z", "scrap_date": "2024-05-01T00:01:26.388872", "content": "That would make sense The code you are running throws an error and kills the lambda function So it responds with service unavailable Did you try using catch rather than error "},
{"id": 41835, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-07T04:50:47Z", "scrap_date": "2024-05-01T00:01:26.389873", "content": "Yeah I changed it However I just found out that if I do it in the format below I seem to get some response from the axios Not sure whats going on behind serverless app Well I will keep reading the doc Please advice if there is a betterstandard practise when it comes to calling external services in Serverless Framework "},
{"id": 41836, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-07T05:43:05Z", "scrap_date": "2024-05-01T00:01:26.390872", "content": "Oh from the look of this httpswww reddit comrawscomments4dlpkrlambda_call_to_external_api looks like I need to deal with something called VPC "},
{"id": 41837, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-04-07T06:39:25Z", "scrap_date": "2024-05-01T00:01:26.390872", "content": "Ok no need for VPC I do able to call external services inside my nodejs function naturally Problem comes with mailchimp so now i need to figure what was it "},
{"id": 41838, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-17T18:37:44Z", "scrap_date": "2024-05-01T00:01:26.391872", "content": "You ever figure this out Im dealing with the same thing but for cheetahmail "},
{"id": 41839, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-21T04:00:20Z", "scrap_date": "2024-05-01T00:01:26.392873", "content": "Hey sorry for the late reply Yeah its working fine for me My problem was I didnt handle the error returned from mailchimp and I also opted for the module exports yourFunction pattern Anyway I will share my code And thats it Hope that helped "},
{"id": 418310, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T18:36:06Z", "scrap_date": "2024-05-01T00:01:26.392873", "content": "This helped me Thanks kilgarenone"},
{"id": 418312, "question_id": 4183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-13T22:12:57Z", "scrap_date": "2024-05-01T00:01:26.393873", "content": "Thank you guys for your replies it really helped to solve my problem Ive been dealing with it for a long time thanks 192 168 100 1 192 168 1 1"},
{"id": 125492, "question_id": 12549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-14T12:26:55Z", "scrap_date": "2024-05-01T00:01:27.088895", "content": "Why not make this a layer Package your certs up and push it out as a layer Add the layer in your function and then add the environment variable and point it to"},
{"id": 13382, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-16T21:23:40Z", "scrap_date": "2024-05-01T00:01:28.161607", "content": "Youre doing it the right way The only improvement to this system i e having a standardised naming convention would be to add helper functions probably as part of the variables system to convert serverless yml references to CFN Logical IDs but I doubt its worth the extra complexity at this stage "},
{"id": 13383, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T06:13:20Z", "scrap_date": "2024-05-01T00:01:28.162607", "content": "Note to future readers that if your function name key contains you would have to replace them by Dash For instance helloworld HelloDashworldLambdaFunction` note the leading capitalized letter "},
{"id": 13384, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-04T11:14:59Z", "scrap_date": "2024-05-01T00:01:28.163608", "content": "This is not working for me Im getting the following error The CloudFormation template is invalid Template error instance of FnGetAtt references undefined resource createAuthChallengeLambdaFunction Heres my custom resource Could it be that this custom resource definition is in a separate yml file that is loaded into serverless yml"},
{"id": 13385, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-05T09:10:21Z", "scrap_date": "2024-05-01T00:01:28.164608", "content": "From peeking into serverlessserverlessstate json I think perhaps my function reference name should be Will try this and report back "},
{"id": 13386, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2019-07-06T13:25:11Z", "scrap_date": "2024-05-01T00:01:28.164608", "content": "Figured it out The function name is capitalized so createAuthChallenge becomes CreateAuthChallengeLambdaFunction"},
{"id": 13387, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T17:39:27Z", "scrap_date": "2024-05-01T00:01:28.165608", "content": "Same problem here Your solution works for me Thanx"},
{"id": 13388, "question_id": 1338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-15T05:15:21Z", "scrap_date": "2024-05-01T00:01:28.165608", "content": "disbelief I literally just signed up to thank you your solution worked"},
{"id": 139302, "question_id": 13930, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-02T10:50:47Z", "scrap_date": "2024-05-01T00:01:29.296434", "content": "So I still have no idea why Serverless stopped respecting my AWS credential env variables Ive managed to work around the issue using a script a colleague of mine wrote Simple script to export current AWS SSO credentials or run a subprocess with them GitHub linaroitsaws2wrap Simple script to export current AWS SSO credentials or run a subprocess with them I now need to run aws2wrap profile ProfileName exec sls deploy v stage dev Where ProfileName relates to an entry in awsconfig like"},
{"id": 139303, "question_id": 13930, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-19T09:44:20Z", "scrap_date": "2024-05-01T00:01:29.298435", "content": "Hi Im contributing to an opensource project that aims to solve this credentials problem with exteernal libraries like SLS and this is the exact use case Take a look at Leapp GitHub Noovolarileapp Leapp is the tool to access your cloud It securely stores your access information and generates temporary credential sets to access your cloud ecosystem from your local machine "},
{"id": 19722, "question_id": 1972, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T23:15:36Z", "scrap_date": "2024-05-01T00:01:30.102788", "content": "I have one serverless yml for each service rather than one for each Lambda function A service being a collection of related Lambda functions microservice To deploy a service I use npm run deploy which runs a bunch of tasks compile lint test etc before deploying the service While each service is deployed separately all of the functions inside a service are deployed together To support different stages I have npm run deploySTAGE for example npm run deploydev Thinking about it I should probably make npm run deploy use dev by default instead of prod and make prod more explicit "},
{"id": 19723, "question_id": 1972, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-06T02:42:47Z", "scrap_date": "2024-05-01T00:01:30.104788", "content": "Sidenote Has anyone noticed these TypeError Cannot read property pipesCount of undefined errors"},
{"id": 19724, "question_id": 1972, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-06T17:15:30Z", "scrap_date": "2024-05-01T00:01:30.105788", "content": "When it comes to managing many functions we have taken the approach of breaking things up into distinct business domains and each domain is essnetially a single Serverless service For example Customer data management is a single service which has exposed APIs for receiving new customer data editing it allowing API calls to retrieve it as well as event based functions to add customer to mailing list if appropriate log all interaction CRMwise etc This way if we need to make a change to something related to Customer its only one service that needs updating and deploying Speaking of which we also currently use Bitbucket for SCM and with that comes Pipelines whcih we use for our CICD well pipeline This allows us to as soon code is pushed into the repo run all our tests and if they pass run sls deploy to then have all changes automatically pushed live As a part of our process developers run their tests locally using a combination of serverless plugins to run offline and that wrap Lambda functions for unit testing purposes they then push their code at the develop branch which runs our HTTP integration tests a very limited number as well as the unit tests again before the code being accepted by me into the master branch which then automatically goes live Doing things this way we dont really care how long it takes to go live because we can test all code offline and not have to worry about deployments Any communication between services is done over HTTP and a RESTful architecture "},
{"id": 19725, "question_id": 1972, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-24T05:36:04Z", "scrap_date": "2024-05-01T00:01:30.107789", "content": "This pipesCount issue is httpsgithub comserverlessserverlessissues3723 and the tldr solution is to update to NodeJS 8 1"},
{"id": 19726, "question_id": 1972, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-22T05:18:25Z", "scrap_date": "2024-05-01T00:01:30.108789", "content": "We are facing this issue for nodejs12 x x Type Error TypeError Cannot read property pipesCount of undefined at ReadStream Readable pipe _stream_readable js63713 at Readable anonymous optatlassianpipelinesagentbuildnode_moduleslazystreamliblazystream js3312 at Readable instance computed optatlassianpipelinesagentbuildnode_moduleslazystreamliblazystream js1814 at Readable read optatlassianpipelinesagentbuildnode_modulesreadablestreamlib_stream_readable js44310 at resume_ optatlassianpipelinesagentbuildnode_modulesreadablestreamlib_stream_readable js79012 at processTicksAndRejections internalprocesstask_queues js8421 For debugging logs run again after setting the SLS_DEBUG environment variable Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information Operating System linux Node Version 12 20 1 Framework Version 2 17 0 local Plugin Version 4 5 1 SDK Version na Components Version 3 7 5"},
{"id": 133932, "question_id": 13393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-06T07:34:09Z", "scrap_date": "2024-05-01T00:01:30.911583", "content": "Hi marcelomrwin Were you able to find a working example for the blob event for function I am receiving either one of these errors and not able to pass any of them The documentation has no working solutions Thanks "},
{"id": 133933, "question_id": 13393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T13:45:10Z", "scrap_date": "2024-05-01T00:01:30.912583", "content": "Hey there I know Im a bit late here but Ive got the same issue running the Timer Events Functions I couldnt get it working as described in the appropriate docs But changing To Helped me out I think you could apply it to your blob use case in the same way "},
{"id": 102872, "question_id": 10287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T00:16:42Z", "scrap_date": "2024-05-01T00:01:31.908015", "content": "I didnt manage to reproduce this error but I got another error while deploying your example Required custom attributes are not supported currently So try this And if you still get the error take a look at CloudFormation find the stack there open Events and find the exact original error there "},
{"id": 102873, "question_id": 10287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-18T10:42:26Z", "scrap_date": "2024-05-01T00:01:31.909015", "content": "You are not able to set slug as a required you can do that only with fields which are specified by AWS"},
{"id": 102874, "question_id": 10287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-22T16:08:48Z", "scrap_date": "2024-05-01T00:01:31.909015", "content": "Hello see if the AttributeDataType is not missing in the email item "},
{"id": 54962, "question_id": 5496, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-22T01:23:14Z", "scrap_date": "2024-05-01T00:01:32.592729", "content": "Hi You could create a VPN between AWS and Azure and launch your Lambda script within the appropriate VPC on AWS If you are using DNS names you may need to create Route53 records Check out this document to create the VPN Good luck httpsblogs technet microsoft comcanitpro20160111stepbystepconnectyourawsandazureenvironmentswithavpntunnel"},
{"id": 54963, "question_id": 5496, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-25T08:14:17Z", "scrap_date": "2024-05-01T00:01:32.594730", "content": "Both AWS Lambda and Microsoft support Node js Python and C for example However AWS Lambda provides further support for Python and Java while Azure Functions provides support for F and PHP Additionally both run on different execution platforms AWS Lambda is built from the AMI which runs on Linux while Microsoft Azure Functions run in a Windows environment It is a good idea to create a VPN between AWS and Azure and launch your Lambda script If you dont have any idea about that itll be better to take help from any of the cloud consultancy services who will be responsible for all aspects of connecting AWS Lamdba with Microsoft Azure "},
{"id": 136032, "question_id": 13603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-11T14:18:53Z", "scrap_date": "2024-05-01T00:01:33.570522", "content": "I might be totally wrong here but is this not expected behavior when you run sls deploy for instance the serverless cli is making a connection to serverless and pulling the credentials it needs to deploy the cloud formation templates that it generated If you sign out of the serverless cli and run the same deploy command it will look for AWS credentials on your local machine "},
{"id": 159142, "question_id": 15914, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-12T21:51:22Z", "scrap_date": "2024-05-01T00:01:34.409934", "content": "Yes you can fall back on using underlying CloudFormation inside serverless yml Heres an example I used it to implement URL rewrite to append index html to the URI for single page applications "},
{"id": 159452, "question_id": 15945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-12T22:22:40Z", "scrap_date": "2024-05-01T00:01:35.512964", "content": "I get that prefixes are subfolders and each prefix can archive about 3 5k5 5k request per second How would you use this to your advantage by spreading the reads If I have a very long path prefix to a single file how would it help for that Kodi nox file or thats not the idea I am confused "},
{"id": 83342, "question_id": 8334, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-05-21T19:31:28Z", "scrap_date": "2024-05-01T00:01:36.536958", "content": "Hi you can do it in this way yourfunction js p s If your functions resources are in the same stack you can just use USER_POOL_ID Ref CognitoUserPool and USER_POOL_CLIENT_ID Ref CognitoUserPoolClient"},
{"id": 83343, "question_id": 8334, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-17T15:15:54Z", "scrap_date": "2024-05-01T00:01:36.537958", "content": "Thanks for solution it works"},
{"id": 83344, "question_id": 8334, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-19T07:42:38Z", "scrap_date": "2024-05-01T00:01:36.537958", "content": "moro Hey I can access these two However I am unable to access the Client secret in lambda How do I access that I checked on the web but could not find any solution to this Thanks in advance"},
{"id": 83345, "question_id": 8334, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-19T13:42:19Z", "scrap_date": "2024-05-01T00:01:36.538959", "content": "Hi could you pls try this httpsstackoverflow coma539689451268283 I hope I understood your question correctly "},
{"id": 83346, "question_id": 8334, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-21T13:04:45Z", "scrap_date": "2024-05-01T00:01:36.538959", "content": "Hi moro Could you teach me how to get Cognito userPoolId in AWS amplify react app I want to delete a user in the AWS Cognito user pool const params Username selectedRows[i] UserPoolId process env REACT_APP_COGNITO_USER_POOL_ID "},
{"id": 83347, "question_id": 8334, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-02T08:13:33Z", "scrap_date": "2024-05-01T00:01:36.539959", "content": "Thanks for the solution"},
{"id": 137722, "question_id": 13772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-18T16:45:52Z", "scrap_date": "2024-05-01T00:01:38.310554", "content": "Im new to Serverless and experiencing the same issue when trying to deploy a function build on MacOS Catalina Is there any news already Just found this issue On my local Mac I was trying the awsgomod template and sls deploy failed with An error occurred HelloLambdaFunction Uploaded Seems to be related to Node 15 6 0"},
{"id": 137723, "question_id": 13772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T20:24:37Z", "scrap_date": "2024-05-01T00:01:38.311633", "content": "The argument about security is particularly funny when you know that Lambda is stuck on Node 6 12 which is a few years old and has unpatched security issues People have been asking for a new version of Node for years now and in typical AWS style they dont even bother answering or giving any type of roadmap Kodi nox "},
{"id": 137724, "question_id": 13772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-14T12:46:50Z", "scrap_date": "2024-05-01T00:01:38.312631", "content": "Yeah same issue here on brand new macbook down graded to node with brew and works "},
{"id": 137725, "question_id": 13772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-22T08:08:34Z", "scrap_date": "2024-05-01T00:01:38.312631", "content": "Seems this is fixed see Mac awsgomod deploy failed Uploaded file must be a nonempty zip Issue 8772 serverlessserverless GitHub"},
{"id": 136362, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-12T13:11:32Z", "scrap_date": "2024-05-01T00:01:39.273669", "content": "Im not an expert but Im facing the same problems and below are my possible solutions I identified that there are some common resources used by different microservices domain name authorizer I have a stack for these resources deployed using serverless stack toolkit SST GitHub serverlessstackserverlessstack Serverless Stack Toolkit allows you to deploy CDK and Serverless Framework apps together This stack is first deployed and then the microservices I think that it is an antipattern to call a microservice synchronously from an other microservice To avoid this I used two patterns For asynchronous calls between microservices I use SNS topics created using SST on which some events are published with their payloads and other microservices subscribe to the interesting events For example it is useful when a data is deleted and other microservices have relations to this data I notified them that the data has been deleted For synchronous calls between microservices I use an orchestrator Some complex API methods require to communicate with several microservices Then the orchestrator is responsible to these complex calls and it orchestrates the communication between the microservices Im not sure to understand correctly the question We use a monorepo approach for the service layer in order to permit reusability of code that is not service specific but it is forbidden to communicate directly between services The other advantage is that the orchestrator do not have to call deployed lambda it use directly the code of the service and it avoid too many cold starts I hope it helps you and Im interesting to any suggestion about improving this management "},
{"id": 136363, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T00:49:04Z", "scrap_date": "2024-05-01T00:01:39.276670", "content": "Patchoulin Thank you for your response I am considering using lerna instead and adding the downstream services as devdependencies 2 Could you share an example of the orchestrator please For example we are just starting off and we have 3 microservices to register a tenant Now one of these services calls two other services I imagine this to be happening a lot for synchronous communication I would love to have a better idea of your orchestrator that would facilitate this without making it an antipattern "},
{"id": 136364, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-27T08:50:34Z", "scrap_date": "2024-05-01T00:01:39.277670", "content": ""},
{"id": 136365, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-27T20:11:05Z", "scrap_date": "2024-05-01T00:01:39.277670", "content": "Patchoulin Cognito pools will be created onfly for each new customer Thats correct Service A needs data from Service B lets say So I am guessing that Request Service A Service Orchestraror Service B Does that look right So every time service needs data from another service there will an additional call to Orchestrator service which will further call the service we want the data from"},
{"id": 136366, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T09:27:14Z", "scrap_date": "2024-05-01T00:01:39.278670", "content": "The orchestrator is used to orchestrate the communication between microservices such as on the image below I am interested about feedbacks on this approach "},
{"id": 136367, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-29T00:33:25Z", "scrap_date": "2024-05-01T00:01:39.279664", "content": "Patchoulin So the client will hit the Orchestrator microservice I dont like that very much For ex If I have an endpoint customerReg This endpoint needs to call userReg which owns users table to get data from it I would still want my client to hit customercustomerReg and not the orchestratorreg as in that case I will need to put in all of the logic in the orchestrator I would have thought that it would be Client CustomerRegOrchestratorRegUserReg What do you think Patchoulin"},
{"id": 136368, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-29T08:04:34Z", "scrap_date": "2024-05-01T00:01:39.280671", "content": "I would not do this because in complex situation you could have something like that Client CustomerReg OrchestratorReg UserReg OrchestratorReg OtherServiceReg This could imply spaghetti code really difficult to debugunderstand With the approach that I suggest all microservice are called from the orchestrator and it simplifies the understanding of the process I understand what you dont like in this approach and I agree with you But it is the solution that I found to keep the business complexity as low as possible and to avoid to search in all microservices wher to update the dependancies when an interface evolves Do you see the advantages What do you think about "},
{"id": 136369, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-29T19:27:14Z", "scrap_date": "2024-05-01T00:01:39.281671", "content": "Patchoulin I would not do this because in a complex situation you could have something like that Client CustomerReg OrchestratorReg UserReg OrchestratorReg OtherServiceReg In that situation Id rather Client CustomerReg OrchestratorReg UserReg OtherServiceReg Instead of UserReg calling OrchestratorReg further Id call them sequentiallyparallelly from Orchestrator Reg itself and then return to CustomerReg This could keep the business complexity low as well while most of the logic will still lie in the respective services instead of Orchestrator service What do you think"},
{"id": 1363610, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-24T02:50:28Z", "scrap_date": "2024-05-01T00:01:39.282671", "content": "Patchoulin Bump What do you about the above mentioned approach"},
{"id": 1363611, "question_id": 13636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-24T08:16:52Z", "scrap_date": "2024-05-01T00:01:39.283672", "content": "Sincerely I think Im not enough skilled to have a really relevant opinion so dont take my opinion as a source of truth but more as a debate about possible approaches In your flow there is a part that I dont really understand UserReg OtherServiceReg What I suggested is to use an orchestrator to orchestrate the sequence of synchronous calls to microservices in order to restrict synchronous calls between microservices The goal is to avoid strong coupling between microservices An other advantage is that the orchestrator can prevent microservice failure and react accordingly because the flow is totally managed by the orchestrator and it is clearly visible In your flow if a microservice fail then the chain of calls is broken and it is difficult to determine how to manage failure because the links between microservices is opaque one microservice doesnt know how other microservice works and how they are linked What do you think about it "},
{"id": 141842, "question_id": 14184, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-27T00:13:35Z", "scrap_date": "2024-05-01T00:01:39.815675", "content": "Ok as is always the case after playing with a few more permutations I found the following to work e g replace the nested single quotes around dev with double quotes I guess to not clash with the outer inner quotes Makes sense in retrospect "},
{"id": 138632, "question_id": 13863, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-27T21:28:15Z", "scrap_date": "2024-05-01T00:01:40.591476", "content": "I checked the syno_mem_check file as you have mentioned The real function that checks the compability is actually in libhwcontrol so shared library Showbox jiofi local html tplinklogin "},
{"id": 140152, "question_id": 14015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-28T22:28:57Z", "scrap_date": "2024-05-01T00:01:41.448049", "content": "The IAM user I use as the Visual Studio AWS profile seems to need certain permissions to do this but I couldnt find which these were Ive ended up giving this user the AdministratorAccess policy for now until I get it figured out Probably overkill and dangerous but Im just playing with the free tier for now Nox Vidmate VLC "},
{"id": 120652, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-20T20:18:13Z", "scrap_date": "2024-05-01T00:01:42.367444", "content": "Hmmm actually Im failing to find this feature in the source code Im going to implement this locally could you recommend me a developers guide to follow"},
{"id": 120653, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-29T09:41:10Z", "scrap_date": "2024-05-01T00:01:42.368450", "content": "Need this feature too Seems only SAM has it now and not the Serverless framework Edit Theyve opened up an issue by the way for this Use case description AWS has recently announced support for EFS in Lambda functions httpsaws amazon comblogsawsnewasharedfilesystemforyourlambdafunctions Using them would help in different use cases as described "},
{"id": 120654, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-01T14:17:02Z", "scrap_date": "2024-05-01T00:01:42.369445", "content": "Just wanted to mention that I found a workaround Im using plugin serverlessdefaultawsresourceproperties and setting the EFS configuration as a default for all Lambda functions Because of that obviously only lambdas that need this configuration should be in this stack And it correctly generates the code but again with the caveat that all lambdas in this stack will have this configuration "},
{"id": 120655, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-25T23:41:33Z", "scrap_date": "2024-05-01T00:01:42.369445", "content": "Hi I just tried that and Im getting this error Cannot read property Resources of undefined Any ideas"},
{"id": 120656, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-11T21:34:19Z", "scrap_date": "2024-05-01T00:01:42.370445", "content": "same error for me as well Cannot read property Resources of undefined"},
{"id": 120657, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T12:23:36Z", "scrap_date": "2024-05-01T00:01:42.371445", "content": "Can you share the complete serverless yml please Thank you "},
{"id": 120658, "question_id": 12065, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-02T16:53:10Z", "scrap_date": "2024-05-01T00:01:42.371445", "content": "I had the same error Declaring each lambda in the resources section of the yaml file solved it Alternatively this blog post uses the extensions ability of the serverless framework to add the efs to a single function if thats more suitable to your use case "},
{"id": 142292, "question_id": 14229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T02:48:40Z", "scrap_date": "2024-05-01T00:01:43.359795", "content": "Have you tried fixing the stack name under provider section provider stackName mystackname ^This should work unless you use a stack name that is dependent with the service name ex stackName selfprovider stage selfservice "},
{"id": 92982, "question_id": 9298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-11T11:47:16Z", "scrap_date": "2024-05-01T00:01:44.106435", "content": "Yup just changing the install serverless line in my CI script fixed it npm install g serverless to npm install g serverless 51"},
{"id": 92983, "question_id": 9298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:37:30Z", "scrap_date": "2024-05-01T00:01:44.107435", "content": "RangeError Maximum call stack size exceeded This error is almost always means you have a problem with recursion in JavaScript code as there isnt any other way in JavaScript to consume lots of stack Sometimes calling a recursive function over and over again causes the browser to send you Maximum call stack size exceeded error message as the memory that can be allocated for your use is not unlimited How to fix it Wrap your recursive function call into a Also you can localize the issue by setting a breakpoint on RangeError type of exception and then adjust the code appropriately "},
{"id": 139642, "question_id": 13964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-06T02:05:41Z", "scrap_date": "2024-05-01T00:01:44.968453", "content": "I too got this error Anyone any idea"},
{"id": 139643, "question_id": 13964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-07T08:21:26Z", "scrap_date": "2024-05-01T00:01:44.969453", "content": "same here error below"},
{"id": 139644, "question_id": 13964, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-08T05:17:00Z", "scrap_date": "2024-05-01T00:01:44.970454", "content": "Im to getting same error sls deploy simplegit deprecation notice git silent logging should be configured using the debug library DEBUG environment variable this will be an error in version 3 Serverless Running serverless installed locally in service node_modules And command gets hang here "},
{"id": 139645, "question_id": 13964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-09T17:01:32Z", "scrap_date": "2024-05-01T00:01:44.971454", "content": "same message here but no issues because of it yet looks a bit ugly any resolutionthoughts sls version simplegit deprecation notice git silent logging should be configured using the debug library DEBUG environment variable this will be an error in version 3 Framework Core 2 23 0 Plugin 4 4 2 SDK 2 3 2 Components 3 6 2"},
{"id": 139646, "question_id": 13964, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-10T10:57:53Z", "scrap_date": "2024-05-01T00:01:44.972454", "content": "Hello New version of the plugin was released 4 4 3 that no longer uses that deprecated method Fresh installations of Framework should install that version of dependecy by default now"},
{"id": 139648, "question_id": 13964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:37:40Z", "scrap_date": "2024-05-01T00:01:44.972454", "content": "Same here Any solution"},
{"id": 141853, "question_id": 14185, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-01T17:48:08Z", "scrap_date": "2024-05-01T00:01:45.604891", "content": "I have the same concern Following the monorepomultiple services approach described here Share Code Between Services Serverless Stack What could be the workaround for this"},
{"id": 141854, "question_id": 14185, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-02T16:19:27Z", "scrap_date": "2024-05-01T00:01:45.605891", "content": "I am also concerned about this we are using a monorepo type structure with multiple microservices each with their own serverless yml It doesnt make sense to not be able to share variables between the projects "},
{"id": 141855, "question_id": 14185, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-02T18:00:00Z", "scrap_date": "2024-05-01T00:01:45.606891", "content": "Just ran into this issue Looking for a way to fix this properly "},
{"id": 141856, "question_id": 14185, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-03T06:48:56Z", "scrap_date": "2024-05-01T00:01:45.606891", "content": "Please note that this is not removing support for external files This was fixed in 2 28 2 Release 2 28 2 20210302 serverlessserverless GitHub"},
{"id": 141857, "question_id": 14185, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:49:24Z", "scrap_date": "2024-05-01T00:01:45.607891", "content": "I am just closing this topic so there is no more confusion"},
{"id": 142242, "question_id": 14224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T11:00:03Z", "scrap_date": "2024-05-01T00:01:46.348340", "content": "The solution so far seems to be declare them in the function separately Suggested here was some ways to avoid putting it into every function 3 votes and 4 comments so far on Reddit"},
{"id": 141062, "question_id": 14106, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T11:09:41Z", "scrap_date": "2024-05-01T00:01:47.219392", "content": "Nowbody any experience I would like to use the docker versions as I would like to use testcontainers org for unit testing "},
{"id": 142592, "question_id": 14259, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-04T05:07:15Z", "scrap_date": "2024-05-01T00:01:47.925555", "content": "After some deep digging I figured out how to do this Hope this helps someone With the version available at the time I have done the following For the lambda name its as simple as setting the name property which gets translated to cloudformations functionName directly in my example where I wanted a custom naming convention I am very happy with this solution because the other resources like LogGroups are also named after it and all link together using serverless For the deletion policy on the lambda I added this under resources in YML The naming of the function is documented under override cloudformation extensions"},
{"id": 128292, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-20T00:13:46Z", "scrap_date": "2024-05-01T00:01:48.863172", "content": "yea whats going on here all broken now "},
{"id": 128293, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-20T15:00:12Z", "scrap_date": "2024-05-01T00:01:48.863172", "content": "Bump Im also wondering about this "},
{"id": 128294, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-20T15:02:11Z", "scrap_date": "2024-05-01T00:01:48.864172", "content": "I guess it might be time I fill a proper bug report"},
{"id": 128295, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-25T10:17:50Z", "scrap_date": "2024-05-01T00:01:48.864172", "content": "same for me with version 2 8 Did you do a bug report I searched github but I didnt found it"},
{"id": 128296, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2020-10-26T04:11:55Z", "scrap_date": "2024-05-01T00:01:48.865172", "content": "It should be ANY proxy now You need an extra before the proxy bit You can verify their regex on a regex tester httpsregex101 comrXD0RQ01"},
{"id": 128297, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-27T13:18:11Z", "scrap_date": "2024-05-01T00:01:48.866172", "content": "It should be ANY proxy now Thanks it worked"},
{"id": 128299, "question_id": 12829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-04T11:44:12Z", "scrap_date": "2024-05-01T00:01:48.866172", "content": "Thank you it worked very fine for me"},
{"id": 18582, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2017-05-12T17:36:42Z", "scrap_date": "2024-05-01T00:01:49.734433", "content": "Nothing to extreme Just a slight formatting problem Add 2 more spaces to the indent of bucket event rules Like so See Here in the Serverless docs for reference "},
{"id": 18583, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-13T14:53:30Z", "scrap_date": "2024-05-01T00:01:49.735433", "content": "Succeeded by adding more spaces Thank you so much "},
{"id": 18584, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-24T18:03:03Z", "scrap_date": "2024-05-01T00:01:49.735433", "content": "I still have issues with s3 trigger auto registering on aws console any help is appreciated"},
{"id": 18585, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-24T22:39:21Z", "scrap_date": "2024-05-01T00:01:49.736434", "content": "existings3 rename existings3 to s3 existings3 isnt a valid event source see serverless docs for details"},
{"id": 18586, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-26T17:08:17Z", "scrap_date": "2024-05-01T00:01:49.736434", "content": "bfieber Hes using serverlesspluginexistings3 to be able to use a an existing bucket "},
{"id": 18587, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T23:57:15Z", "scrap_date": "2024-05-01T00:01:49.737434", "content": "I had the same issue and I suspected it was the case but couldnt see it Thanks for this "},
{"id": 18588, "question_id": 1858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-05T10:17:52Z", "scrap_date": "2024-05-01T00:01:49.738434", "content": "Im having the same issue here on the same bucket I have 3 functions with s3 events but only 2 are registered It happens randomly I have had this issue a few times and the only way to fix was remove the stack completely sls remove and deploy again Anyone else has the same odd behaviour"},
{"id": 125192, "question_id": 12519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-05T22:05:04Z", "scrap_date": "2024-05-01T00:01:50.744385", "content": "I want to use Cognito for logging users in not Facebook or Google etc The problem is I have no idea how to go about logging a user in Im also not sure how to go about authorising the AWS JavaScript browser SDK so that I can make AWS API calls to things such as S3 Showbox jiofi local html tplinklogin "},
{"id": 139522, "question_id": 13952, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-08T15:40:44Z", "scrap_date": "2024-05-01T00:01:52.446544", "content": "Hey there Definitely no spying We do currently work with Tencent as a requirement in providing Serverless framework to Chinese developers and as a part of that we need to make an attempt to provide those users the login experience that is standard for them including authentication using QR codes via WeChat which is pretty much what all of China uses What your friend experienced is definitely only because the portion of the backend that tries to detect where the user is from to load the preferred experience detected them as from China Hope that helps answer the questions"},
{"id": 139523, "question_id": 13952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-09T02:08:07Z", "scrap_date": "2024-05-01T00:01:52.448623", "content": "Yup definitely helped Thank you "},
{"id": 139802, "question_id": 13980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-09T02:17:01Z", "scrap_date": "2024-05-01T00:01:53.394099", "content": "Have you tried escaping \\data\\ \\hello world\\ or also try saving this^ in a file and run serverless invoke local f MyfunctionName p pathtofile Hope it could help I havent tried tho haha"},
{"id": 139882, "question_id": 13988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-10T10:59:10Z", "scrap_date": "2024-05-01T00:01:54.539170", "content": "I dont think we have a specific documentation around how that is getting resolved as its really an implementation detail What values that youve mentioned are incorrect Maybe theres a bug if thats the case please report it on our issue tracker thanks in advance"},
{"id": 40562, "question_id": 4056, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T16:50:56Z", "scrap_date": "2024-05-01T00:01:55.497885", "content": "JustinDynamicD did you find a solution to this issue"},
{"id": 140022, "question_id": 14002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-09T20:02:31Z", "scrap_date": "2024-05-01T00:01:56.427122", "content": "Not sure why but the custom section seems to override whatever name I provide in the resource section This works"},
{"id": 140023, "question_id": 14002, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-10T11:01:01Z", "scrap_date": "2024-05-01T00:01:56.427122", "content": "Hello in your first example are you sure that no such bucket with mycoolbucket name exists Seems like a pretty plausible name and Bucket names have to unique globally "},
{"id": 140024, "question_id": 14002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T15:13:47Z", "scrap_date": "2024-05-01T00:01:56.428122", "content": "Keep in mind that bucket names must be globally unique So even if YOU dont already have a bucket with that name somebody else probably does Update your template to make the name unique in some way like yourname mycoolbucket and you may have better luck "},
{"id": 140025, "question_id": 14002, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-11T22:19:56Z", "scrap_date": "2024-05-01T00:01:56.429127", "content": "That could very well be Thanks for pointing that out "},
{"id": 139662, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-06T15:53:08Z", "scrap_date": "2024-05-01T00:01:57.372274", "content": "Just spent a couple more hours on this conundrum "},
{"id": 139663, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-09T20:35:38Z", "scrap_date": "2024-05-01T00:01:57.372274", "content": "Still no success I have tried setting IAM roles for the websocket API although surely that is what Serverless is supposed to do It did not make any difference My next step is to abandon the Serverless Framework and see if this can be done with AWS SAM CLI "},
{"id": 139664, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T14:08:10Z", "scrap_date": "2024-05-01T00:01:57.373274", "content": "I am using this WSConnectionRespondPolicy Effect Allow Action executeapiManageConnections Resource arnawsexecuteapi connections With screenshot as the formattings get screwed up I think you are using wron resource targets tforster I have it up and running happy to help if you need to talk it through Not sure on your settings regarding endpoints either When I deploy both API and WS on the same stack they each get their own domain you can get it out by running Sample output Config for the wsManagement api here posting itself"},
{"id": 139665, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T14:35:27Z", "scrap_date": "2024-05-01T00:01:57.374839", "content": "jadczakd Thank you for responding Funnily enough I stumbled across arnawsexecuteapiconnections yesterday and with that I was able to get things working I just wish like everyone that AWS had better documentation I am seeing two different domains in sls info which bears out with a single mention I stumbled upon early in this exercise that said that API Gateway does not support HTTP and WS on the same domain Curious though you have one line that says WEBSOCKET_API Ref WebsocketsApi what is that referencing The two most annoying aspects are the same two annoying aspects I have battled since the first release of the Serverless Framework Thanks for listening to my rant And thank you for responding with the solution "},
{"id": 139666, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T15:26:10Z", "scrap_date": "2024-05-01T00:01:57.375842", "content": "Curious though you have one line that says WEBSOCKET_API Ref WebsocketsApi what is that referencing You can use this reference only when you have a WS api defined AFAIK it will reference the URI that you have to use for WS connectivity in short I dont have any object by that name anywhere in my ymls defined To be honest I am entirely against testing serverless locally for any chain functions for example In my opinion it works well only with single and simple req res functions Otherwise the overhead in maintaining a local virtual env is simply too big think when you start using different sort of queues and database triggers to run your lambdas for example Any time I am trying to use local browser with some methods behind a custom authorizer I think Post is usually the problematic one there are issues as well Custom authorizer itself is another plugin you would have to use to mimic it locally there is simply too much overhead to do it From my experience its way cheaper to do it on the cloud and remember invest in automating the automatic removal of non essential envs think for example a cron that runs every Friday at 16 and sends you home cause your env cant be used untill monday Most the cloud providers will let you define stage in some way shape or form I would advise doing the following and simple passing the stage into the deploy function like so Then you can easily spawn ephemeral environments for features developers depending on the need "},
{"id": 139667, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T15:48:28Z", "scrap_date": "2024-05-01T00:01:57.377842", "content": "Does WEBSOCKET_API Ref WebsocketsApi go in the serverless yml file If so under which sectionheading WR to testing locally how do you develop then With no debugging capability in AWS I would say that all but the most trivial function would be a nightmare to develop blindly Being able to step through code and inspect the stack each step of the way is imperative and thus the reason the serverless offline capability is a critical feature of the serverless framework WR to stages I generally use four which correspond to local dev then a dev stage and prod in AWS itself I have the stage variable configured as part of a larger project infrastructure that ties in documentation testing and deployment This ends up as sls deploy awsprofile projectspecificprofile "},
{"id": 139668, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T15:54:45Z", "scrap_date": "2024-05-01T00:01:57.379837", "content": "Oh and just to circle back to the original problem The arnawsexecuteapiconnections arn was definitely causing problems However I am all but convinced that AWS Lambda does not support AWS JavaScript 3 SDK The following works both locally and in AWS lots of code removed for brevity But this only works locally and fails silently in AWS as in I cant get anything to log to CloudWatch I can use the older v2 format but its a shame as the monolithic architecture is adding an additional 10 Mb of unused code to my function Have you used the newest JS SDK I have it working for in other Lambdas for DynamoDB "},
{"id": 139669, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-11T23:09:16Z", "scrap_date": "2024-05-01T00:01:57.380837", "content": "Stumbled onto this issue and spent the entire day today trying to figure it out As it turns out this has been a V3 SDK bug for some time but there is a workaround See here for more details Describe the bug When making request to the ApiGatewayManagementApi the stage name is not being included in the request path resulting in Hope this helps "},
{"id": 1396610, "question_id": 13966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-12T14:25:49Z", "scrap_date": "2024-05-01T00:01:57.381837", "content": "WR to testing locally how do you develop then With no debugging capability in AWS I would say that all but the most trivial function would be a nightmare to develop blindly Being able to step through code and inspect the stack each step of the way is imperative and thus the reason the serverless offline capability is a critical feature of the serverless framework I would say that youve hit the nail on the head this is by far the worst part of serverless developmeent right now I am not aware on any perfect solutions I am using xray have small functions but I feel your pain Imagine mine in environemnt where I do use sqs queues sns queues as triggers and lambdas are merely step functions so there is a lambda chain that spawns multiple ones Dont get me wrong I feel like for simple scenarios local testing is ok but otherwise is such a clustermess to manage that I would rather not do it I can use the older v2 format but its a shame as the monolithic architecture is adding an additional 10 Mb of unused code to my function Have you used the newest JS SDK I have it working for in other Lambdas for DynamoDB Regarding this I am using so I cant really say but I would try the ref suggestion I would also advise not bundling the AWS sdk at all Its globally available in AWS functions myself to limit the bundle sizes I use serverlessbundle npm and its forceExclude option layers It optimizes the deployments significantly but if youre looking to lower the startup time cold starts processing times it doesnt seem like its doing much Does WEBSOCKET_API Ref WebsocketsApi go in the serverless yml file If so under which sectionheading In my service I simply put it in the env of the stack so that its globally available like so if you take a look at my example I would not have been bit by the mistake discussed in the issue because I am passing all the changeable parts of the identifier explicitly stage an region are provided in manner similar to above which I know is redundant but more explicit at the same time tforster lmk if that helped I am really happy to jump on a call to discuss it help should you need it Addendum Ive just found this GitHub localstacklocalstack A fully functional local AWS cloud stack Develop and test your cloud Serverless apps offline in a serverless newsletter Haven given it a go yet But will do soon "},
{"id": 58582, "question_id": 5858, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T19:55:24Z", "scrap_date": "2024-05-01T00:01:58.223685", "content": "Did you get this working I think the Dockerfile is just used locally and not used at all on the live deployments but I might be wrong Long story short Is it possible to use our own lambda image to run python To ship custom software when pip is not enough for all your needs"},
{"id": 138072, "question_id": 13807, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-13T20:25:03Z", "scrap_date": "2024-05-01T00:01:59.213422", "content": "I found nothing obviously wrong in that short post but would have wished for more depth Also it is funny that the author consistently calls _ the default variable Topic variable is IMHO a much more fitting name 9Apps Showbox Tutuapp"},
{"id": 140372, "question_id": 14037, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-15T09:47:56Z", "scrap_date": "2024-05-01T00:02:00.206490", "content": "Just wondering if anyone knows of any want to set parameters via CLI"},
{"id": 140582, "question_id": 14058, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-15T17:27:02Z", "scrap_date": "2024-05-01T00:02:01.358464", "content": "In a plain lambda environment you would need to use native binary packages lambda zips to do this Use Amazon Linux AMI Native Binary Packages in a Lambda Deployment Package and its yum not aptget However I am not sure if this is supported by serverless "},
{"id": 56732, "question_id": 5673, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-06T18:32:03Z", "scrap_date": "2024-05-01T00:02:02.195163", "content": "I have posted feature request to integrate with AWS CDK 1 If you have a question and not a feature request please ask first at ht tpforum serverless com 2 Please check if an issue already exists This feature may have already been requested 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Feature Proposal Description Are there any plans to support or integrate into AWS CDK Cloud Development Kit httpsawslabs github ioawscdk AWS CDK can nicely handle CloudFormation Stack creation and updates using TypeScript but lacks packaging lambda functions for deployment For deploying lambda the AWS CDK supports only inline code S3 archive and local directory Serverless is managing its own CloudFormation stack with custom resources and handles packaging of lambda nicely with plugins How about to integrate these two tools There is one similar question on forum yet unanswered httpsforum serverless comtawscdkvsserverlessframeworkforlambda5673"},
{"id": 56733, "question_id": 5673, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-14T05:37:03Z", "scrap_date": "2024-05-01T00:02:02.198164", "content": "Yes just started using it and its a breath of fresh air If you do anything other than Lambda functions on AWS its so much easier as you just define what you want and it creates all the IAM roles with minimal access permissions And yes you can script it so if you have a generic lambda that you call differently i e different environmental vars say you can loop over an array which contains the differences You dont have to write any cloudformation template stuff anymore or dick around with references its all setup for you you just have to link the services The only draw back is that there is vendor lock in but it i expect a framework to emerge that abstracts the provider out and does this generically i mean they pretty much all offer the same stuff "},
{"id": 56734, "question_id": 5673, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2020-09-04T07:05:08Z", "scrap_date": "2024-05-01T00:02:02.199164", "content": "We actually put something together recently at Serverless Stack to helping using Serverless Framework and AWS CDK together Serverlesss strength is working with Lambda and API Gateway So a good pattern here is to use CDK for the rest of your infrastructure and Serverless for your Lambda functions So we created a tool to do exactly this Serverless Stack Toolkit SST which allows you to combine CDK and Serverless Framework httpsgithub comserverlessstackserverlessstack You can deploy your Serverless service and CDK service like sls deploy stage dev and sst deploy stage dev "},
{"id": 56735, "question_id": 5673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-15T21:49:33Z", "scrap_date": "2024-05-01T00:02:02.200165", "content": "Serverless makes it easier to deploy lambdas and other services around lambda apigateway cognito etc etc It has few bugs here and there but all in all its very good framework to deploy lambdas Atleast i found that it takes out lot of burden from developer This is more of config over coding and i like it I used CDK for common infrastructure thats created only once eg ApiGateway RDS SQS queues Route53 etc I was used to writing this as bare cloudformation templates and cdk made it much easier for me "},
{"id": 81882, "question_id": 8188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-08T13:07:57Z", "scrap_date": "2024-05-01T00:02:03.110209", "content": "Hi did you find anything about that Im struggle with that and for now i cant add it through GCP website either Thanks"},
{"id": 81883, "question_id": 8188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T11:36:37Z", "scrap_date": "2024-05-01T00:02:03.111209", "content": "Ive added vpc projects project_id locations region connectors connector_name to my function but have no idea how set egresssettings Can anyone help"},
{"id": 140702, "question_id": 14070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T17:48:06Z", "scrap_date": "2024-05-01T00:02:04.136378", "content": "Maybe something about this"},
{"id": 140703, "question_id": 14070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T19:41:54Z", "scrap_date": "2024-05-01T00:02:04.136378", "content": "Still having same problem after update to 2 25 Here is my comment on github sls deploy with optional_parameter does not work anymore Issue 8950 serverlessserverless GitHub"},
{"id": 140704, "question_id": 14070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-16T21:22:02Z", "scrap_date": "2024-05-01T00:02:04.137378", "content": "Fixed on 2 25 1 release "},
{"id": 139472, "question_id": 13947, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-11T07:24:12Z", "scrap_date": "2024-05-01T00:02:05.142006", "content": "It seems that this stackoverflow discussion may provide a solution and this Medium article is needed to make it work Configure Amazon CloudFront CDN for WebSocket connection Nick Zamosenchuk Medium"},
{"id": 139473, "question_id": 13947, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-19T11:01:04Z", "scrap_date": "2024-05-01T00:02:05.144006", "content": "Those resources were the solution It is also possible to use cloudfront to enable insecure websocket connections and to do a ton of other things With lambda edge is possible to rewrite requests and responses Something odd is happening tho I have a custom domain for my cloudfront distribution therefore i use a SSL certificate created via ACM for that domain instead of the cloudfront SSL default certificate That certificate i got via ACP appears wrong though trying to connect to the endpoint using openssl results in a error The default cloudfront certificate has a wrong hostname My clients can tolerate a certificate with a wrong hostname but arent able to use my custom certificate at all Is there something i should be paying attention to in order to allow my own custom certificate to be used"},
{"id": 141152, "question_id": 14115, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-20T18:05:42Z", "scrap_date": "2024-05-01T00:02:06.158180", "content": "Reading more about lambda container functions I believe this may have something to do with requirement 3 from aws DOCS but Im unsure how to cause serverless to use the tmp folder More documentation Creating Lambda container images AWS Lambda"},
{"id": 13122, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T21:59:27Z", "scrap_date": "2024-05-01T00:02:06.731168", "content": "headers AccessControlAllowOrigin Required for CORS support to work AccessControlAllowCredentials true Required for cookies authorization headers with HTTPS Looks like the above code needs the SetCookie mycookietest header"},
{"id": 13123, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T22:08:32Z", "scrap_date": "2024-05-01T00:02:06.732168", "content": "Hi David Tried setting it in the headers section to no avail "},
{"id": 13124, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T22:13:47Z", "scrap_date": "2024-05-01T00:02:06.733168", "content": "Hmmm not sure Can you send me the code to test over here david at serverless dot com"},
{"id": 13125, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T22:16:58Z", "scrap_date": "2024-05-01T00:02:06.733168", "content": "Ive made my private repo public httpsgithub comandrewoh531accountsservice"},
{"id": 13126, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T23:03:19Z", "scrap_date": "2024-05-01T00:02:06.734169", "content": "Tried a bunch of stuff Seeing the same as you I get the setcookie header back in the response but dont see the cookie httpvolatileswim surge sh It looks like it can be done with custom response headers Serverless Framework AWS Lambda Events API Gateway Going to ask the pmuens and eahefnawy for some insight here "},
{"id": 13127, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T00:35:30Z", "scrap_date": "2024-05-01T00:02:06.735169", "content": "Thanks When you say that it can be done with custom response headers do you mean configuring the serverless yml file Looks like only fixed cookie values can be returned with custom response headers "},
{"id": 13128, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T00:44:10Z", "scrap_date": "2024-05-01T00:02:06.735169", "content": "Ive set cookies using the SetCookie header with lambaproxy integration but I was returning texthtml instead of applicationjson andrewoh531I assume youre not deploying with domainlocalhost as that would muck with things Youre probably experiencing a problem caused by the API and the website having different origins Search Stack Overflow for 5 minutes and youll find a bunch of people having similar issues See httpstackoverflow comquestions14462423crossdomainpostrequestisnotsendingcookieajaxjquery for example If youre building an API then I would recommend against using cookies "},
{"id": 13129, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T00:49:28Z", "scrap_date": "2024-05-01T00:02:06.737169", "content": "Also look at httpsdeveloper mozilla orgenUSdocsWebHTTPHeadersAccessControlAllowCredentials which talks about setting the AccessControlAllowCredentials true header so that credentials i e cookies are exposed to the page "},
{"id": 131210, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T02:51:47Z", "scrap_date": "2024-05-01T00:02:06.737169", "content": "Hi Buggy Thanks for your suggestions Tried them out but didnt help Im trying to build a serverless authentication service and would like to return a jwt token in the response cookie which is what Im trying to achieve here Is your serverless available on Github or somewhere public Would like to compare configurations to see if theres something I may have overlooked Thanks"},
{"id": 131211, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-14T06:30:42Z", "scrap_date": "2024-05-01T00:02:06.738169", "content": "Apologies I got the solution working when I deployed to AWS I was testing locally and expecting it to work when running offline using serverlesswebpack s Im guessing that its API Gateway thats actually doing some stuff to set the cookie in the response Thanks David Buggy for the responses "},
{"id": 131212, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T06:44:10Z", "scrap_date": "2024-05-01T00:02:06.739170", "content": "Is your serverless available on Github or somewhere public Would like to compare configurations to see if theres something I may have overlooked Its not public at the moment but it probably will be in a few weeks When the user makes an API call to authenticate themselves the payload includes a JWT token that is kept in session storage All future API calls need to include that token in the headers so I can tell who is making the API call "},
{"id": 131213, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-14T12:03:49Z", "scrap_date": "2024-05-01T00:02:06.740170", "content": "Hi Buggy Somewhat of a side track but I was using cookies with httpOnly and secure options set over sessionStoragelocalStorage for security reasons Theres a post here if youre interested httpsstormpath comblogwheretostoreyourjwtscookiesvshtml5webstorage Cheers"},
{"id": 131214, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-16T06:09:22Z", "scrap_date": "2024-05-01T00:02:06.741170", "content": "Did anyone solve this yet"},
{"id": 131215, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-16T12:25:13Z", "scrap_date": "2024-05-01T00:02:06.741170", "content": "Did anyone solve this yet Most of whats posted here still seems valid You can set cookies in general using the SetCookie header If youre having a problem its almost certainly not serverless specific The only thing I would add is making sure you set withCredentials true when making an AJAX request "},
{"id": 131216, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-16T15:06:58Z", "scrap_date": "2024-05-01T00:02:06.742170", "content": "buggy thanks for the response Im trying to do servicetoservice no AJAX I e a have two services web and auth which are both awsserverlessexpress services webhome redirects to authlogin which successfully does the OAuth dance with an external provider and creates a JWT token It then redirects back to webprofile In the webprofile service handler I want to access the JWT either through a cookie or a header For example In the auth handler I have But the event in the web service that is redirect to doesnt have the header "},
{"id": 131217, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-18T02:49:58Z", "scrap_date": "2024-05-01T00:02:06.743171", "content": "If you want help youll need to provide a lot more detail about exactly what youre attempting to do The more specific you are the easier it is to answer Currently there are too many gaps and assumptions that need to be made I would also suggest starting your own thread rather than hijacking this one From what youve written so far I suspect your problem is an understanding of how to pass auth tokens between services rather than how to send a cookie in a response "},
{"id": 131218, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-05T18:40:07Z", "scrap_date": "2024-05-01T00:02:06.744171", "content": "I also have an oauth partner where that partner calls my serverless oauth endpint where the dance is done On success I want to create a JWT token and then redirect to my react app The JWT would then be passed from the frontend in every api gateway call and verified by a custom autorizer But Im wondering about the best way to pass the JWT to the frontend with a cookie I guess that means my authorizer would check the cookie each time or just pass it back in response store it somewhere locally in the app like local storage etc and then somehow pass it as an Authorization header each time in each api gateway request via https of course richburdon curious did you figure it out "},
{"id": 131219, "question_id": 1312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-21T19:44:11Z", "scrap_date": "2024-05-01T00:02:06.746166", "content": "Did anyone figure out how to return cookies in serverlessoffline Im not seeing the cookies in Chrome "},
{"id": 113492, "question_id": 11349, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-05T01:58:00Z", "scrap_date": "2024-05-01T00:02:08.681137", "content": "I believe task timeout can also occur when you do not have the proper configuration to connect to your db cluster Have you rererereconfirmed the ip Are you going through a ec tunnel to get to your db Is this running in AWS I know the default config on aws is that you cant connect directly to the DB you have to create an EC2 to use as a tunnel and ensure the ec2 has a security group allowing external ips and must also be in AWSs internal subnet the same as your DB is Im assuming both are in AWS Sorry Im making a lot of assumptions here but maybe you can at least check that as a non issue if youre already familiar and have checked these settings or share with us roughly the configuration you have going on here "},
{"id": 113493, "question_id": 11349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-05T18:18:22Z", "scrap_date": "2024-05-01T00:02:08.683137", "content": "Thanks keephopealive for your response I dont have to do any configuration as MongoDB takes care of the configurations and provided a URI connection string which the serverless lambdas need to connect to the database Locally everything works fine but when I tried connecting to the cluster it time out See attached"},
{"id": 113494, "question_id": 11349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-06T02:35:06Z", "scrap_date": "2024-05-01T00:02:08.684138", "content": "For debugging logs run again after setting the SLS_DEBUG environment variable Are these logs the most you can get out of debugging including using the above environment variable Unless its the incorrect IP connecting to the DB or the authorization is not failing to connect to that IP its hard to tell without more data though I wonder if anyone else has any other thoughts "},
{"id": 113495, "question_id": 11349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-24T16:13:40Z", "scrap_date": "2024-05-01T00:02:08.685138", "content": "Did you ever figure out why this was happening Im running into a similar issue now Code works well locally but getting this odd issue connecting to Atlas"},
{"id": 138732, "question_id": 13873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-27T03:00:02Z", "scrap_date": "2024-05-01T00:02:09.631160", "content": "Another screenshot"},
{"id": 129412, "question_id": 12941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-27T06:40:15Z", "scrap_date": "2024-05-01T00:02:10.405747", "content": "FaitAccompli I also got the same issue How did you solved it"},
{"id": 138892, "question_id": 13889, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-27T23:53:30Z", "scrap_date": "2024-05-01T00:02:10.995113", "content": "facepalm Right after I sent this I looked at my code for the umpteenth time and realised I had AWS_PROFILEredacted in my env file Removed it and everything works "},
{"id": 138792, "question_id": 13879, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T04:24:32Z", "scrap_date": "2024-05-01T00:02:12.059299", "content": "Does the same thing happen if you run the exact same deploy command from your own machine The remote side is closing your connection You may get more useful information if you turn on verbose logging from serverless Update your bitbucketpipeline yml to add verbose to your deployment line serverless deploy verbose"},
{"id": 138793, "question_id": 13879, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T07:28:23Z", "scrap_date": "2024-05-01T00:02:12.061299", "content": "this is the result Serverless Serverless Invoke deploy Serverless Invoke package Serverless Packaging service Serverless Excluding development dependencies Serverless Compiling Functions Serverless Compiled Function hello4 actionNametestexamplehello4overwritetrueaction exec mainhellokindnodejsdefaultcodehidden limits timeout60000memory256concurrency1 parameters[]annotations[ keyrequirewhiskauthvaluefalse keywebexportvaluetrue keyfinalvaluetrue ] Serverless Compiling Packages Serverless Compiled Package testexample nametestexampleoverwritetruepackage namespace_ Serverless Compiling API Gateway definitions Serverless Compiled API Gateway definition hello4 [ operationGETrelpathtestexamplehello4responsetypejsonnamespace_actionhello4pkgetestexample ] Serverless Compiling Rules Serverless Compiling Triggers Feeds Serverless Compiling Service Bindings Serverless Deploying Packages Serverless Deploying Package testexample Serverless Deployed Package testexample Serverless Deploying Functions Serverless Deploying Function testexamplehello4 Serverless Error ServerlessError Failed to deploy function testexamplehello4 due to error Unknown Error From API socket hang up at ow actions create then catch err node_modulesserverlessopenwhiskdeploylibdeployFunctions js1815 at processTicksAndRejections internalprocesstask_queues js865 and yes from my local environment work perfectly even I reproduce the same steps in a docker image with the version that I have in bitbucket and works but in bitbucket not"},
{"id": 138812, "question_id": 13881, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T05:26:38Z", "scrap_date": "2024-05-01T00:02:13.033284", "content": "Im no expert but looking at some of my joins I use Ref AWSAccountId successfully so try something like this"},
{"id": 138813, "question_id": 13881, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T13:32:30Z", "scrap_date": "2024-05-01T00:02:13.034460", "content": "Yeah I tried all these variations but it didnt work although the same works if it is in the actual resource and not a mapping so i am not sure what is happening"},
{"id": 138452, "question_id": 13845, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-28T18:57:50Z", "scrap_date": "2024-05-01T00:02:13.587430", "content": "Make sure you have an AWS profile or the proper AWS access envs configured that points to the account where the SSM param is stored You can use the awscli aws configure profile default or a specific name httpsdocs aws amazon comclilatestuserguidecliconfigureenvvars html Also the SSM params use FQNs so they always start with "},
{"id": 138752, "question_id": 13875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-28T05:06:05Z", "scrap_date": "2024-05-01T00:02:14.590557", "content": "Have a read of the maintainers note here It may help Basically youre wanting recursive resolution As that can get you in an infinite loops its not done serverlessVariables js at master serverlessserverless GitHub Heres something to try after looking at the getValueFromOptions function on line 640 What if you use the options value rather than the custom value"},
{"id": 138753, "question_id": 13875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-29T01:39:43Z", "scrap_date": "2024-05-01T00:02:14.592558", "content": "Thanks for the tip to checkout the serverless Variables js I arrived at something that works via reading some source code and console logging the entire serverless object This example applies a helper function to titlecase some input option values There is a result of parsing the input options already available in the serverless object This simple example assumes the input options are part1 value and part2 value but the generalization is to traverse the properties of serverless processedInput options and apply any custom helpers to those values "},
{"id": 117862, "question_id": 11786, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-30T21:10:19Z", "scrap_date": "2024-05-01T00:02:15.457863", "content": "I would like this too You might say just use two different serverless ymls but I feel like it would be a simple solution for serverless to have a feature like function edge true or something that automatically limits memory to 128mb limits timeout to 5 and removes environment variables Or at least a way to manually remove environment variables from a function so that global ones can still exist There isnt currently a way to do this is there"},
{"id": 132883, "question_id": 13288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-01T14:05:58Z", "scrap_date": "2024-05-01T00:02:16.311239", "content": "Issue has been posted to Silent failure of Serverless deploy Issue 8839 serverlessserverless GitHub"},
{"id": 70612, "question_id": 7061, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T05:03:14Z", "scrap_date": "2024-05-01T00:02:17.379031", "content": "It seems Some where in your serverless yml you used RootResourceId Better If you can provide all code in serverless yml to answer"},
{"id": 110752, "question_id": 11075, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-13T14:40:12Z", "scrap_date": "2024-05-01T00:02:18.228121", "content": "Hi If anyone need I was able to copy from Lambda to Shared Folder using a python library PySMB I used code from here to test list dir httpsgist github comjoselitosne74dbc2812c6479d3678 Also these docs httpspysmb readthedocs ioenlatestapismb_SMBConnection html To copy I used storeFile method Here the code Ive used Obs It is need to upload to Lambda folder pysmb and pyasn1 librarys"},
{"id": 110753, "question_id": 11075, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T14:45:21Z", "scrap_date": "2024-05-01T00:02:18.229121", "content": "how do we copy files from shared folder to S3 other way round I was able to run code till print files for file in files print file filename "},
{"id": 139282, "question_id": 13928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T15:50:22Z", "scrap_date": "2024-05-01T00:02:19.237635", "content": "This isnt a Serverless issue Its a requirement of AWS See Requirements for Using SSLTLS Certificates with CloudFront AWS Region that You Request a Certificate In for AWS Certificate Manager If you want to require HTTPS between viewers and CloudFront you must change the AWS Region to US East N Virginia in the AWS Certificate Manager console before you request or import a certificate "},
{"id": 64242, "question_id": 6424, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T19:31:21Z", "scrap_date": "2024-05-01T00:02:20.244176", "content": "bhuday Im also looking for the similar automation It seems like there is a way to share the models with other accounts via KMS keys Im looking ways to implement this with least painful way Deploy an Amazon SageMaker Model to a Different AWS Account"},
{"id": 45412, "question_id": 4541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T10:44:53Z", "scrap_date": "2024-05-01T00:02:20.936220", "content": "The default base URL for the API Gateway is https apiid executeapi region amazonaws com stage Youre getting dev at the start of the path because youre deploying to the dev stage If you were deploying to a stage like prod it would be prod instead To the best of my knowledge the only way around this is to attach a custom domain name to the API gateway If youre requesting https apiid executeapi region amazonaws com channelCode instead of https apiid executeapi region amazonaws com stage channelCode then its going to fail because the URL doesnt map to anything Also the path in your serverless yml is generally written relative channelCode rather than absolute channelCode but I dont think it makes an actual difference "},
{"id": 45413, "question_id": 4541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-02T21:58:16Z", "scrap_date": "2024-05-01T00:02:20.937220", "content": "Make sure serverlessoffline is the last plugin via serverlessoffline npm"},
{"id": 139392, "question_id": 13939, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-04T11:00:53Z", "scrap_date": "2024-05-01T00:02:21.729697", "content": "Your dependencies should be packaged properly you should put the dependencies in a folder named python See image reference below heres a yml example for nodejs layers common path name mylayer retain true package exclude include nodejs try this for python layers common path name mylayer retain true package exclude include python"},
{"id": 139393, "question_id": 13939, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-04T17:24:08Z", "scrap_date": "2024-05-01T00:02:21.731697", "content": "Nope this is not necessary if we are doing with serverless When we add it as layers serverless handles it internally Since my project was a POC I switched from python to nodeJs keeping the folder structure same the issue is resolved without even making a single change This problem persists only for python layers"},
{"id": 57642, "question_id": 5764, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-11T21:50:28Z", "scrap_date": "2024-05-01T00:02:23.786980", "content": "According to the serverlessoffline documentation you should use serverless offline start or sls offline start to run it Maybe using CMD [ sls offline start ] would help"},
{"id": 57643, "question_id": 5764, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-11T22:54:13Z", "scrap_date": "2024-05-01T00:02:23.787980", "content": "I probably should have elaborated a bit more It runs fine inside the container and lists the routes etc However trying to access it from my host machine at 0 0 0 049160 yields the Connection reset by peer error "},
{"id": 57644, "question_id": 5764, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-12T16:00:11Z", "scrap_date": "2024-05-01T00:02:23.788981", "content": "In that case maybe trying to change the host serverlessoffline is listening on to 0 0 0 0 would help You can do so by adding the snippet below to your serverless yml "},
{"id": 57645, "question_id": 5764, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-13T20:12:42Z", "scrap_date": "2024-05-01T00:02:23.789981", "content": "Thanks so much That worked perfectly Ive included a link to the example in case anybody else is curious httpsgitlab comdupkeyserverlessexamplestreemasterdockerserverlessdevelopmentenvironment"},
{"id": 57646, "question_id": 5764, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-06T22:31:10Z", "scrap_date": "2024-05-01T00:02:23.790981", "content": "Thanks dupkey and teddygustiaux this was useful In case anyone wants to set the host in the Dockerfile only you can do it like this"},
{"id": 57647, "question_id": 5764, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T13:20:00Z", "scrap_date": "2024-05-01T00:02:23.790981", "content": "I had some issues with my base image not being able to find the sls or serverless commands automatically and I ended up having to actually provide a path to the serverless bin file I also created a Github Gist to hopefully give a little more help with this in the future to anyone needing a little bit more clarification Thanks to everyone on this thread for pointing me in the right direction with the host flag"},
{"id": 75962, "question_id": 7596, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-11T11:32:31Z", "scrap_date": "2024-05-01T00:02:24.732365", "content": "Hi is there any feedback on this I would also like to see if it is possible to define in serverless into which log group your lambda function should store the logs "},
{"id": 75963, "question_id": 7596, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T17:08:47Z", "scrap_date": "2024-05-01T00:02:24.733372", "content": "Id also love to understand how this is achieved "},
{"id": 95762, "question_id": 9576, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-14T16:09:16Z", "scrap_date": "2024-05-01T00:02:25.829948", "content": "Same error and question here Why is a role to be created"},
{"id": 95763, "question_id": 9576, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-18T04:16:33Z", "scrap_date": "2024-05-01T00:02:25.830948", "content": "Serverless creates a role for lambda execution using iamRoleStatements I think your assumed role has some permission boundary set by your organization you can create a custom role with the permission boudary set and then use the role in the function you define "},
{"id": 95764, "question_id": 9576, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T17:41:51Z", "scrap_date": "2024-05-01T00:02:25.832135", "content": "Is it possible to use a predefined role Allowing role creation is a security concern "},
{"id": 59812, "question_id": 5981, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-27T02:05:26Z", "scrap_date": "2024-05-01T00:02:26.887362", "content": "Did you ever find a resolution to this issue Im receiving a similar error and am having a pretty difficult time finding the source See this stack overflow post "},
{"id": 59813, "question_id": 5981, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T21:14:45Z", "scrap_date": "2024-05-01T00:02:26.888362", "content": "Anybody has solution to this yet I am having same error for a cloudformation created bucket the solution in this link does not seem to work "},
{"id": 119552, "question_id": 11955, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-08T13:31:13Z", "scrap_date": "2024-05-01T00:02:27.847111", "content": "not an expert here so sorry that i cannot help im just wondering if youve found a solution since then really tempted into finding out whats wrong thanks"},
{"id": 119553, "question_id": 11955, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-08T14:08:45Z", "scrap_date": "2024-05-01T00:02:27.848111", "content": "I still havent found a solution unfortunately "},
{"id": 119554, "question_id": 11955, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T22:35:40Z", "scrap_date": "2024-05-01T00:02:27.848111", "content": "The topic was opened a while back but for anyone else experiencing the same issue doublecheck if the plugins are listed inside your package json rdarg beonedesignsg Hope you guys got it working already Feel free to DM or email me frank run the link to the build next time and I will get the team to take a look "},
{"id": 132252, "question_id": 13225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T11:00:22Z", "scrap_date": "2024-05-01T00:02:28.664236", "content": "Hi have you found a solution Mini Militia App Lock"},
{"id": 132702, "question_id": 13270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-16T19:01:19Z", "scrap_date": "2024-05-01T00:02:29.394162", "content": "I am getting the same error when running sls test I tried the suggestions here Disable serverless enterprise wrapper to no avail Did you ever find a solution"},
{"id": 132703, "question_id": 13270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-16T20:16:48Z", "scrap_date": "2024-05-01T00:02:29.395167", "content": "Hi there I believe this functionality is now entirely locked behind their enterprise offering I never did find a solution "},
{"id": 137282, "question_id": 13728, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-17T13:24:50Z", "scrap_date": "2024-05-01T00:02:30.154693", "content": "Just figured out that I was doing wrong here is the correct code "},
{"id": 133472, "question_id": 13347, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-18T02:31:28Z", "scrap_date": "2024-05-01T00:02:31.098885", "content": "Is there any potential fixes for this I asked on StackOverflow with not too much of a solution although the information was helpful "},
{"id": 137502, "question_id": 13750, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-18T16:56:31Z", "scrap_date": "2024-05-01T00:02:32.103678", "content": "If anyone has trouble with this i realised there is an s3 event tag existing true which Ive added and thus it doesnt break when adding lifecycle rules in the Resources section "},
{"id": 46952, "question_id": 4695, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-07T18:31:55Z", "scrap_date": "2024-05-01T00:02:33.053689", "content": "There are 2 resolutions I prefer 2 myself and you can do it in your serverless yml where you define your function s Example The key bit being resultTtlInSeconds 0 Hope this helps "},
{"id": 46953, "question_id": 4695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-18T23:15:23Z", "scrap_date": "2024-05-01T00:02:33.054689", "content": "I am having similar issues as of January 2021 The issue is two fold One the resultTtlInSeconds is set on every endpoint in the serverless yml file yet in AWS Console I can see that only one custom authorizer with only one TTL gets created so the fact that I am setting the resultTtlInSeconds in all n of my endpoints makes no sense Secondly everything was working fine for me with a resultTtlInSeconds 3600 setting until recently when it randomly decided to reject every request as unauthorized The solution was the change it to 0 but that means that there is no caching even for identical requests not good if you custom authorizer calls DynamoDB for example This is an old thread but hopefully someone can either benefit from the clarity or can help us understand what is going on here "},
{"id": 33812, "question_id": 3381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T15:49:06Z", "scrap_date": "2024-05-01T00:02:33.893897", "content": "Turn on logging for your lambda functions The billing info is in there "},
{"id": 33813, "question_id": 3381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-19T04:28:25Z", "scrap_date": "2024-05-01T00:02:33.894897", "content": "Yes but the result is cached by api gateway so essentially its once per session "},
{"id": 135962, "question_id": 13596, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-08T08:45:17Z", "scrap_date": "2024-05-01T00:02:34.639831", "content": "Hi avanijjain16 You probably updated the lib serverlessreqvalidatorplugin to version 1 0 4 Not an ideal solution but for now can you try to explicit go back to 1 0 3 And see if it works again then Maybe the plugin newer version has some compatibility issues Good luck Richard"},
{"id": 135963, "question_id": 13596, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-08T09:17:31Z", "scrap_date": "2024-05-01T00:02:34.641831", "content": "Hey Plugin has been updated with verification part httpswww serverless comframeworkdocsprovidersawsguidepluginsextendingvalidationschema and if you are using version of framework which is older then it will throw the error mentioned As a fix before you would be able to upgrade serverless please pin to 1 0 3 instead of latest"},
{"id": 135964, "question_id": 13596, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-19T17:13:58Z", "scrap_date": "2024-05-01T00:02:34.642832", "content": "Thank you for your reply Yes this was fixed after using 1 0 3 "},
{"id": 137972, "question_id": 13797, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-20T04:04:27Z", "scrap_date": "2024-05-01T00:02:35.771901", "content": "Finally found this post and it worked like a charm for my use case "},
{"id": 129282, "question_id": 12928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-11T21:33:14Z", "scrap_date": "2024-05-01T00:02:36.704343", "content": "I having the same problem that you are What is funny to me is that I am seeing fileSystemConfig and fileSystemConfigs plural in various documentation could this be a mismatch"},
{"id": 129283, "question_id": 12928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-20T00:22:19Z", "scrap_date": "2024-05-01T00:02:36.705343", "content": "I can confirm that fileSystemConfig and fileSystemConfigs plural do not attachmount the efs access point onto the Lambda function They do not error in our build Very frustrating because they also REMOVE any manual mounting done in AWS console Any update full build or single lambda update with f can remove the mount I hope this gets fixed soon "},
{"id": 129284, "question_id": 12928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-20T14:21:47Z", "scrap_date": "2024-05-01T00:02:36.706343", "content": "Hello if youre still experiencing that issue could you report it via issue tracker We have an integration test for EFS integration and we didnt observe any regressions thus far but we might be missing something "},
{"id": 137922, "question_id": 13792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-20T15:12:16Z", "scrap_date": "2024-05-01T00:02:37.665013", "content": "Thats not a limitation of Serverless Its a limitation of DynamoDB While you can use StringSet as a data type for nonindexed values it cant be applied to an Indexed attribute See AWS Reference CloudFormation Attribute Definitions tldr Only String Binary Number types are available for keysindexes Heres a screen capture from the AWS DynamoDB Console creating a Table"},
{"id": 136522, "question_id": 13652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-09T20:57:36Z", "scrap_date": "2024-05-01T00:02:39.791788", "content": "After re going through thte Docusign example i reverted the versions of the python packages to and has seemed to fix the issue any ideas as to why the newer versions of these packages dont get packaged the same way"},
{"id": 136252, "question_id": 13625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-10T18:51:34Z", "scrap_date": "2024-05-01T00:02:40.781949", "content": "what part failed was there more info I am getting Error The CloudFormation template is invalid Template format error Unresolved resource dependencies [ApiGatewayResourceAppAnyVar] in the Resources block of the template"},
{"id": 136632, "question_id": 13663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-10T19:49:49Z", "scrap_date": "2024-05-01T00:02:41.822847", "content": "if I look in the cloudformation template for the error it looks like this may have to do with the 200 limit on the number of functions you can have We use a plugin serverlesspluginsplitstacks to split them up to get past the limit difference in the 2 templates with the error current ResourceId RefApiGatewayResourceAppAnyVar old when it worked ResourceId FnGetAtt[APINestedStackOutputs ApiGatewayResourceAppAnyVar] "},
{"id": 136633, "question_id": 13663, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2021-01-10T20:02:12Z", "scrap_date": "2024-05-01T00:02:41.824848", "content": "that was it the plugin is currently in a failed state and we were pulling in the latest version I pinned it in the package json to be serverlesspluginsplitstacks 1 9 3 and now the build succeeds We were only just over the 200 limit like 210 or something so now need to figure out how to remove this dependency "},
{"id": 136634, "question_id": 13663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-11T18:10:51Z", "scrap_date": "2024-05-01T00:02:41.825848", "content": "I was passing for the same problem here fixed installing serverlessplugin 1 9 3 as you mentioned Tks a lot "},
{"id": 132392, "question_id": 13239, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-11T12:36:18Z", "scrap_date": "2024-05-01T00:02:42.862773", "content": "Hi I also have the same problem have you found a solution SHAREit MX Player"},
{"id": 92492, "question_id": 9249, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-12T15:32:13Z", "scrap_date": "2024-05-01T00:02:44.026206", "content": "1 for OpenFaas It has a unique deployment method that makes it perfect for an application Im building but Id really like to use Serverless while building it "},
{"id": 117382, "question_id": 11738, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-21T07:59:49Z", "scrap_date": "2024-05-01T00:02:44.765184", "content": "This is probably too late but just wanted to leave a comment for anyone else who finds this To avoid the preinstall step just create a npmrc file at the project root Then add a variable for the token npm pkg github com_authToken GITHUB_TOKEN Make sure to add a secured parameter GITHUB_TOKEN in the project stage profile "},
{"id": 117383, "question_id": 11738, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-12T23:19:51Z", "scrap_date": "2024-05-01T00:02:44.767184", "content": "Actually with even there is npmrc with registryhttpsregistry npmjs org_authToken NPM_TOKEN and NPM_TOKEN set in parameters Im getting"},
{"id": 135582, "question_id": 13558, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-11T04:48:47Z", "scrap_date": "2024-05-01T00:02:45.815935", "content": "You could try adding execution role attached to your lambda to an IAM user that has programmatic access and test your copy operation from either the aws cli or executing a nodejs script locally In either case you may want verify read and write operations separately Also if youre referencing process env EMAIL_BUCKET in code check that expected values match the intended bucket name I see you refer to both busquoemail as well as myemail in your sls yml "},
{"id": 135583, "question_id": 13558, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-13T01:14:08Z", "scrap_date": "2024-05-01T00:02:45.817936", "content": "Yeah I tried to remove references to my application name to avoid confusion I ended up finding a solution that calls getting the object writing a copy of it and deleting the old one instead of copy This was possible without changing permissions This leads me to think that the s3 copy operation does something else behind the scenes that was being blocked by permissions "},
{"id": 136482, "question_id": 13648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-13T07:37:23Z", "scrap_date": "2024-05-01T00:02:46.887743", "content": "Hello jahorwitz at the moment its not possible to define images with CF functions you have to supply already resolved uri If you feel like it would be useful to support such use cases please create a proposal here Issues serverlessserverless GitHub Best Piotr"},
{"id": 134272, "question_id": 13427, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-06T09:15:18Z", "scrap_date": "2024-05-01T00:02:47.678892", "content": "Me and my team are also interested in this feature If there is somebody who can point us to where we need to expand the functionality to support this to save us some time from digging around the code and docs we would happily contribute unless this is already in progress in which case it would be nice to know if this is the case "},
{"id": 134273, "question_id": 13427, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-13T07:41:09Z", "scrap_date": "2024-05-01T00:02:47.679890", "content": "Hey adrianfundmore please report an issue here with the proposal to add that support Issues serverlessserverless GitHub As for suggestions on how to implement it it should be quite similar to httpsgithub comserverlessserverlesspull8164"},
{"id": 109912, "question_id": 10991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T06:09:05Z", "scrap_date": "2024-05-01T00:02:48.706178", "content": "Looks like noone answered this question but Ill have a go Serverless framework in my opinion has the following purposes Simplifies the creation of AWS resources related to Lambda functions using infrastructureascode e g API GW event handling it is significantly more succint and easier to read than standard CloudFormation scripts It build quite a lot of the bolierplate AWS resources that you would otherwise have to create by hand Provides a useful libary for plugins and extensions that save you from having to create common deployment tools and patterns from scratch Simplifies parameter and variable handling inside Serverless scripts compared to CloudFormation I would say that Serverless offers some advantages for creating CloudFormation resources even if you dont use any Lambda functions at all although in this case much of the serverless yml would be identical to a CloudFormation script to do the same thing "},
{"id": 109913, "question_id": 10991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-12T22:16:33Z", "scrap_date": "2024-05-01T00:02:48.708178", "content": "To be frank the development experience for lambda leaves much to be desired Its hard to develop build and test code on your laptop that will work exactly in lambda Especially for less AWS experienced devs I feel like its a guessing game sometimes as to what I can expect from the event or context AWS passes to the function forced to just spin up a lambda to output those objects so I know what properties they have Maybe theres a better way that Im unaware of "},
{"id": 109914, "question_id": 10991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-13T22:28:54Z", "scrap_date": "2024-05-01T00:02:48.709173", "content": "To be frank the development experience for lambda leaves much to be desired Its hard to develop build and test code on your laptop that will work exactly in lambda Especially for less AWS experienced devs I feel like its a guessing game sometimes as to what I can expect from the event or context AWS passes to the function forced to just spin up a lambda to output those objects so I know what properties they have Maybe theres a better way that Im unaware Kodi nox of "},
{"id": 128792, "question_id": 12879, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-16T22:12:58Z", "scrap_date": "2024-05-01T00:02:49.373714", "content": "Ive noticed the same thing it is the myLambdastagecustomresourceeventbridge that receives the events and myLambda doesnt get triggered Have you found a solution EDIT I was pushing the wrong events so the wrong lambda was getting called However Im still getting the custom lambda deployed as above with the permissions "},
{"id": 128793, "question_id": 12879, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-19T14:25:49Z", "scrap_date": "2024-05-01T00:02:49.375715", "content": "On my side its the same the proper lambda is getting called but I still have this extra lambda function hanging around which has an empty log so it doesnt even run after deployment Im suspecting a bug that appeared recently where maybe it doesnt get cleaned up while deploying or something like that I have this stack running for some weeks already and just noticed those extra lambda functions recently May be worth opening an issue for that if multiple people are in the same situation Ill wait and see if we get more traction here and open an issue for it "},
{"id": 128794, "question_id": 12879, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-14T08:15:56Z", "scrap_date": "2024-05-01T00:02:49.376715", "content": "Hi I have the same issue Wondering about that additional lambda Are there any news in this direction Best Patrick"},
{"id": 136822, "question_id": 13682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-14T10:58:35Z", "scrap_date": "2024-05-01T00:02:50.010842", "content": "Take a look at httpswww serverless compluginsserverlessmultiregionplugin"},
{"id": 39292, "question_id": 3929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-26T17:49:15Z", "scrap_date": "2024-05-01T00:02:51.161828", "content": "ktwbc you able to resolve this please share if got any solution "},
{"id": 39293, "question_id": 3929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-26T23:10:39Z", "scrap_date": "2024-05-01T00:02:51.162829", "content": "You can make direct calls to dynamo from the client with the awssdk cognito See httpsaws amazon comblogsmobilebuildingfinegrainedauthorizationusingamazoncognitouserpoolsgroups"},
{"id": 39294, "question_id": 3929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-14T20:16:42Z", "scrap_date": "2024-05-01T00:02:51.163829", "content": "I found httpswww serverless compluginsserverlessapigatewayserviceproxy which is what I was looking for"},
{"id": 125072, "question_id": 12507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-08T22:29:26Z", "scrap_date": "2024-05-01T00:02:51.982899", "content": "I found a repo that is setup similar to my own httpsgithub comAnomalyInnovationsserverlesslernayarnstarter In the case above for example how would each service be deployed via the serverless CICD if they dont have yarn workspace access to the code resource in packagessamplepackage "},
{"id": 125073, "question_id": 12507, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-09T20:34:46Z", "scrap_date": "2024-05-01T00:02:51.983899", "content": "Quick update on this it turns out that if a yarn lock file exists with a service in a monorepo the serverless cicd service will use yarn instead of npm install Its hacky but placing an empty yarn lock file in each service works "},
{"id": 125074, "question_id": 12507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T00:42:28Z", "scrap_date": "2024-05-01T00:02:51.984899", "content": "danb235 I am trying to do the same thing I am using the Serverless framework but not serverless CICD We use npm and havent used yarn for anything yet Can you recommend how should yarn be used here and what for exactly I have been through the same example as well but it uses yarn and seed"},
{"id": 134622, "question_id": 13462, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-15T09:32:18Z", "scrap_date": "2024-05-01T00:02:52.834834", "content": "Hi Serge i add the same issue and founded that adding a tsexpecterror compilation directive stopped the compiler from screaming It seems the problem is general for all the additional structures added by plugins It is a bit of a hack so any better options would be appreciated Best Pierre"},
{"id": 131992, "question_id": 13199, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-24T20:31:36Z", "scrap_date": "2024-05-01T00:02:53.855114", "content": "Update on my issue I seem to be tripped up by serverlessstate json ^1 68 0 serverlessstate json ^1 67 0"},
{"id": 131993, "question_id": 13199, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T11:01:07Z", "scrap_date": "2024-05-01T00:02:53.856115", "content": "I seem to be tripped up"},
{"id": 135012, "question_id": 13501, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-28T15:10:27Z", "scrap_date": "2024-05-01T00:02:55.834784", "content": "Some conversation on this on gitter so copying here for reference produces However my concern here is that the structure could change or the processedInput property becomes private in a future release so Im interested to know if there are differentbetter options"},
{"id": 134752, "question_id": 13475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-28T05:39:48Z", "scrap_date": "2024-05-01T00:02:56.608279", "content": "Make sure to include documentation in custom section We put the"},
{"id": 134753, "question_id": 13475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-28T16:40:35Z", "scrap_date": "2024-05-01T00:02:56.613280", "content": "You re my hero works great Although i didnt know that in order to put the plugin awsdocumentation on my serverless it had to be used somewhere in the same serverless file S At least they dont mention it on the awsdocumentationplugin docs Thanks Again "},
{"id": 135092, "question_id": 13509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-28T16:42:13Z", "scrap_date": "2024-05-01T00:02:57.582244", "content": "Are you logged in I e have you run "},
{"id": 135093, "question_id": 13509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-29T03:06:05Z", "scrap_date": "2024-05-01T00:02:57.582244", "content": "Yes logged in It does not seem to make any difference "},
{"id": 135094, "question_id": 13509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-29T08:35:29Z", "scrap_date": "2024-05-01T00:02:57.583238", "content": "If you do create the app in the console and then use the same org and service name in the serverless definition in your project does it get populated with the details of your project"},
{"id": 135095, "question_id": 13509, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-29T10:35:43Z", "scrap_date": "2024-05-01T00:02:57.583238", "content": "I figured it out You need to do maybe good idea to add getting started chapter showing how to enable serverless in new project outside web console "},
{"id": 134682, "question_id": 13468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-29T14:11:56Z", "scrap_date": "2024-05-01T00:02:58.621974", "content": "I ran into some similar issues which i discussed here Serverless Webpack Bundling Best Practices I was never able to find an official answer but it seems like the default approach where the node_modules folder is included in the deployment zip is the best practice I think there are sometimes issues when webpack bundles things that are running server side I have somewhat of a solution in my previous post where you specifically highlight to webpack to include some packages in the bundle but this doesnt seem very robust to me so I stayed with the default approach "},
{"id": 135382, "question_id": 13538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-30T17:52:33Z", "scrap_date": "2024-05-01T00:02:59.302746", "content": "If you add some logging to your authenticate function is it successfully returning a well formed IAM policy"},
{"id": 135432, "question_id": 13543, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-31T09:13:51Z", "scrap_date": "2024-05-01T00:03:00.420736", "content": "If you suspect the problem is with the iamRoleStatement what happens if you specify the arn directly If that works you could also build the ARN in a different way something like"},
{"id": 133322, "question_id": 13332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-28T15:56:12Z", "scrap_date": "2024-05-01T00:03:01.380265", "content": "Shameless bump I know it is Christmas time and all but is there someone from the Serverless Framework project who might be able to answer this Id love to move to httpApis but cant yet as I cant use my shared gateway "},
{"id": 133323, "question_id": 13332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-31T10:33:33Z", "scrap_date": "2024-05-01T00:03:01.381265", "content": "There doesnt seem to be a whole lot of activity in here sadly and unfortunately I dont know the answer to your question or Id try to help You could try over at the serverless gitter httpsgitter imserverlessserverless"},
{"id": 133324, "question_id": 13332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-31T10:37:53Z", "scrap_date": "2024-05-01T00:03:01.381265", "content": "Ive asked on Twitter whether this is still supposed to be the best place to come for help httpstwitter comrcoundonstatus1344593313014435840"},
{"id": 133325, "question_id": 13332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-31T10:42:19Z", "scrap_date": "2024-05-01T00:03:01.382265", "content": "Another place you could try is the serverless channel at That seems to get more frequent replies"},
{"id": 117582, "question_id": 11758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-19T15:40:23Z", "scrap_date": "2024-05-01T00:03:01.983713", "content": "I dont think this is easy but its probably possible with a plugin that uses the amazon cli I had a similar question myself about getting the default VPC arn "},
{"id": 117583, "question_id": 11758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-16T13:22:34Z", "scrap_date": "2024-05-01T00:03:01.984714", "content": "ever figure this out"},
{"id": 117584, "question_id": 11758, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-05T04:06:30Z", "scrap_date": "2024-05-01T00:03:01.984714", "content": "One way is to have the vpc in a CloudFormation stack and to put the subnet ids in as Outputs serverless makes it easy to retrieve CloudFormation outputs "},
{"id": 98952, "question_id": 9895, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-05T21:19:11Z", "scrap_date": "2024-05-01T00:03:03.104703", "content": "ErickYataco I have the exact same problem with PreTokenGeneration any luck making it work"},
{"id": 136072, "question_id": 13607, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-07T01:58:15Z", "scrap_date": "2024-05-01T00:03:04.109506", "content": "Apologies Looking at the output of deploy it appears that serverless already uses S3 Not sure how to delete this post but will try as it isnt much use to anyone Thanks for the great software and forum "},
{"id": 88382, "question_id": 8838, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-07T13:36:00Z", "scrap_date": "2024-05-01T00:03:04.900669", "content": "Just started working with your plugin It seems simple enough Ill let you know the results"},
{"id": 132122, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-11-25T15:47:38Z", "scrap_date": "2024-05-01T00:03:05.968293", "content": "Having same issue today "},
{"id": 132123, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-11-25T16:40:03Z", "scrap_date": "2024-05-01T00:03:05.969294", "content": "Whats with this today Im having the same issue I cant deploy anything Ive tracked the source of the error and it comes from serverless platformsdkdistlogscreateDestination js Its a call to serverless API POST httpsapi serverless commaltdestinationscreate This is responding with 500 Internal server error Can someone at serverless look at this Its literally wasting hours of my time "},
{"id": 132124, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-11-25T16:42:03Z", "scrap_date": "2024-05-01T00:03:05.970294", "content": "garethmcc are you guys aware of this issue"},
{"id": 132125, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T17:07:20Z", "scrap_date": "2024-05-01T00:03:05.970294", "content": "AWS is experiencing downtime which could be causing this issue "},
{"id": 132126, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T17:23:32Z", "scrap_date": "2024-05-01T00:03:05.971294", "content": "It is possible that it could be an AWS issue they first issue reporting was 636 AM PST We are investigating increased error rates for Kinesis Data Streams APIs in the USEAST1 Region We were having issues at least an hour before that We also dont use Kinesis So that would have to be a backend process that serverless is using "},
{"id": 132127, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T17:28:04Z", "scrap_date": "2024-05-01T00:03:05.971294", "content": "If anyone is getting this issue That seems to go away if I specify the region in my command line instead of relying on the awsconfig file But it still fails at the platformsdk fetching part So not super helpful "},
{"id": 132128, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T18:27:53Z", "scrap_date": "2024-05-01T00:03:05.972294", "content": "Experiencing the same here Guess we have to wait till the AWS services a back online "},
{"id": 132129, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-01T13:48:46Z", "scrap_date": "2024-05-01T00:03:05.973294", "content": "Same here too "},
{"id": 1321210, "question_id": 13212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-07T20:03:25Z", "scrap_date": "2024-05-01T00:03:05.973294", "content": "This is happening for me too ignoring provider credentials error Error Request failed with status code 500"},
{"id": 81212, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-30T15:42:10Z", "scrap_date": "2024-05-01T00:03:06.960457", "content": "Here is my config As for DefaultDashauthorizerLambdaFunction my authorizer function name is defaultauthoriser thats why I need to use Dash instead of In your case you shoul use AuthorizerLambdaFunction in a different package stack I import it in this way"},
{"id": 81213, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-30T16:31:02Z", "scrap_date": "2024-05-01T00:03:06.961457", "content": "Thanks you very much for the answer However it doesnt seems to work on my side i have this error The CloudFormation template is invalid Unresolved resource dependencies [Authorizer] in the Outputs block of the template I use serverless alias plugin to handle my stages do you think it could come from this plugin Thanks in advance "},
{"id": 81214, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-30T18:03:00Z", "scrap_date": "2024-05-01T00:03:06.962458", "content": "As for alias plugin I dont know Can you provide your updated serverless yml"},
{"id": 81215, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T13:54:54Z", "scrap_date": "2024-05-01T00:03:06.963457", "content": "Hello Ive managed to export the authorizer without serverless aws alias plugin and the export shows in Cloudformation to confirm that its been exported This is my serverless yml However when i try to import it inside another service i have an error An error occurred ApiGatewayMethodV1SomeGet Invalid authorizer ID specified Setting the authorization type to CUSTOM or COGNITO_USER_POOLS requires a valid authorizer Service AmazonApiGateway Status Code 400 Error Code BadRequestException Ive tried to import it like this Do you have any idea where this error could come from Thanks a lot in advance "},
{"id": 81216, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T10:14:33Z", "scrap_date": "2024-05-01T00:03:06.964458", "content": "It seems to me that you use AuthorizerId instead of an export name so I think the right ref should be cfauthorizerapigateway selfprovider stage authorizerapigateway selfprovider stage AuthorizerId because the correct format is cfSTACK_NAME EXPORT_VALUE_NAME Can you check it and also please try to use this approach p s Ive assumed that your common package name is authorizerapigateway and your stack name is authorizerapigateway selfprovider stage "},
{"id": 81217, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T13:16:08Z", "scrap_date": "2024-05-01T00:03:06.965458", "content": "Thanks a lot for the answer but it doesnt seems to work i have the same error message Nevertheless i might know where this error comes from I used separate services so separated api gateway so the second service might not have the right to access the first service If i export the restApiId of the first service and import it in the second service do you think it might work "},
{"id": 81218, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T13:57:46Z", "scrap_date": "2024-05-01T00:03:06.966458", "content": "Honestly I dont know I assume that this will not help but I would recommend trying a few things open your cloudformation console and take a look at your exported variables here is an example httpstake msHBR2J you will see your authorizer exported name 1 Try to hardcode your auhorizerId import you will have something like this authorizerId ImportValue authorizerapigatewaystageAuthorizerId if it works it means that your import cf is not correct 2 Try to hardcode a value you will see it in the outputs tab you will have authorizerId d242dsf2 and you will be able to check if your authorizer works if it doesnt help maybe we can talk via skype or another messenger in this way we will fix it much faster but its up to you"},
{"id": 81219, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-05-04T19:12:12Z", "scrap_date": "2024-05-01T00:03:06.967458", "content": "Ok i quite solved my problem by making the 2 stacks serverless service share a unique Api Gateway Here is my final code And then import it Nevertheless this solution doesnt fit my needs I would like to have different Apis of ApiGateway sharing the same authorizer so when i change the configuration of the authorizer all Apis are affected Do you think it could be possible even inside the aws console Otherwise i will submit a feature request to AWS In all cases thanks for your very generous help "},
{"id": 812110, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-08T22:02:17Z", "scrap_date": "2024-05-01T00:03:06.968459", "content": "Hi havent seen your message I dont think that you can share authorizers between different api gateways As you can see each gateway has its own list of authorizers and when you declare your authorizer you also need to set a RestApiId property As I can see you have a few options"},
{"id": 812111, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-08T09:18:41Z", "scrap_date": "2024-05-01T00:03:06.969459", "content": "moro I think it is possible using httpswww serverless comframeworkdocsprovidersawseventsapigatewaysharingauthorizer But I am not sure how to ensure that authorizer is deployed before APIgateways"},
{"id": 812112, "question_id": 8121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-08T09:19:20Z", "scrap_date": "2024-05-01T00:03:06.970459", "content": "Julien Were you able to have a shared authorizer with multiple API gateways"},
{"id": 117922, "question_id": 11792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-23T15:32:48Z", "scrap_date": "2024-05-01T00:03:08.000302", "content": "Im having the exact same issue running ls showed that the opt directory is truly empty Did you ever solve this"},
{"id": 117923, "question_id": 11792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-08T19:25:48Z", "scrap_date": "2024-05-01T00:03:08.001302", "content": "danieloi sorry for the late reply I hope you got unblocked in the end Ive sinced moved on and dont need this any more but this may be useful for future people The binaries are stored stored in opt in locations that are languagespecific Here are my notes had to manually set the path to include the location it appeared to land in opt Unclear why the binaries had to be in a folder inside opt but thats the only way it seemed to work This is how you do that process env[PATH] process env[PATH] process env[LAMBDA_TASK_ROOT] at the beginning of your lambda function that calls the methods Had to manually copy the binaries pip install target dependenciespython r requirements txt"},
{"id": 137492, "question_id": 13749, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-15T17:50:16Z", "scrap_date": "2024-05-01T00:03:09.054416", "content": "Ok have found how to specify roles I needed to RTFM a lil deeper and use the Arn notation If anyone runs into this its here Now to figure log groups "},
{"id": 137493, "question_id": 13749, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-21T07:51:40Z", "scrap_date": "2024-05-01T00:03:09.055416", "content": "for roles it is also useful to checkout the serverless plugin serverlessiamrolesperfunction which allows you for each function to add its needed permissions and per default a role with default lambda execution permissions plus the once you specified are generated For the log groups if you use the name property for each function then you get a log stream with awslambda which works but im not sure if the path awslambda is also changeable Here is a partial sample of a functions yml file"},
{"id": 137772, "question_id": 13777, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-21T10:43:41Z", "scrap_date": "2024-05-01T00:03:10.131439", "content": "In case anyone else is having this issue or has stumbled upon this post from google it looks to be caused by a known issue with a dependency It can be solved by downgrading node to 14 15 4 I have a GraphQL API that has two indexes one runs Express index js and the other runs Serverless indexServerless js For the "},
{"id": 133852, "question_id": 13385, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-16T08:47:16Z", "scrap_date": "2024-05-01T00:03:12.112851", "content": "Well its not completely legit since its not supposed to be a string Sure Javascript will autoconvert it to a number in many cases but I guess youre using TypeScript because you want strong typing Anyway simply convert it to an integer You can use parseInt Number or simply put a plus in front logRetentionInDays selfcustom logRetention selfprovider stage Alternatively if you feel it really SHOULD accept a string I for one definitely do not make a bug report on the serverlesstypescript Github repo asking for widening of the allowed types in the interface "},
{"id": 133853, "question_id": 13385, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-16T08:58:20Z", "scrap_date": "2024-05-01T00:03:12.114857", "content": "Hmmm Youre actually right The string will be replaced by the actual value but the config doesnt know that until it has converted the value so a string should be accepted "},
{"id": 133854, "question_id": 13385, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-16T23:07:46Z", "scrap_date": "2024-05-01T00:03:12.114857", "content": "Aside from using tsignore this also works though it looks ugly The as 3 30 is necessary because the logRetentionDays is typed as EDIT Nope apparently my alternate solution doesnt work Once you use Number on it it returns null for some reason Strange because Number 3 definitely does not equal null "},
{"id": 128432, "question_id": 12843, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-28T09:40:20Z", "scrap_date": "2024-05-01T00:03:12.857861", "content": "any luck looking for the same"},
{"id": 128433, "question_id": 12843, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-17T00:29:02Z", "scrap_date": "2024-05-01T00:03:12.858862", "content": "Using the typescript node js serverless template I was able to use a Kinesis Stream Arn using the following syntax"},
{"id": 62902, "question_id": 6290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-31T12:34:55Z", "scrap_date": "2024-05-01T00:03:13.792578", "content": "A few thoughts In AWS theres a variable for Lambda version called LATEST arnawslambdaawsregionacctidfunctionhelloworldLATEST but I wonder if you really want to do latest version usually youll want to work with stage andor version aliases "},
{"id": 62903, "question_id": 6290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-31T14:05:41Z", "scrap_date": "2024-05-01T00:03:13.794581", "content": "No I definitely dont want the LATEST version Im looking to use the version of the function that was just autocreated by Serverless I dont think its possible which is a bummer It means Ill have to have two separate YAML filesCloudFormation stacks and one will use the outputs to get the Lambda ARNs with version numbers "},
{"id": 62904, "question_id": 6290, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-17T21:51:24Z", "scrap_date": "2024-05-01T00:03:13.795579", "content": "This can be achieved with the [serverlessscriptableplugin] httpsgithub comweixu365serverlessscriptableplugin As an example I put a placeholder for the reference in my serverless yml file The scriptable plugin uses a hook The script completeLambdaAssociation js updates the LambdaFunctionARN by searching for the AWSLambdaVersion resource "},
{"id": 119532, "question_id": 11953, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-21T10:44:52Z", "scrap_date": "2024-05-01T00:03:14.864567", "content": "Serverless WSGI utilizing Programming interface Entryway with proxied Lambda reasonably effectively yet that doesnt resemble a pragmatic answer for creating with these two choices Or then again perhaps it is "},
{"id": 134472, "question_id": 13447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-22T08:47:21Z", "scrap_date": "2024-05-01T00:03:15.856839", "content": "I see the error Fix is to alter the Makefile with CGO_ENABLED0 like so"},
{"id": 125102, "question_id": 12510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-22T15:41:32Z", "scrap_date": "2024-05-01T00:03:16.569352", "content": "I believe this Serverless plugin only if you have provided stackTags under the provider section of your serverless only supports functions stream DynamoDB Bucket CloudFront and API Gateway see this link httpswww serverless compluginsserverlesspluginresourcetagging"},
{"id": 106352, "question_id": 10635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-22T20:16:57Z", "scrap_date": "2024-05-01T00:03:17.732534", "content": "I believe you can use the Serverless plugin and add stackTags under the provider section of your serverless and can apply your tags there It only tag your functions stream DynamoDB Bucket CloudFront and API Gateway resources see this link httpswww serverless compluginsserverlesspluginresourcetagging"},
{"id": 134412, "question_id": 13441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T13:35:48Z", "scrap_date": "2024-05-01T00:03:18.706207", "content": "Serverless can use webpack for you put excludeinclude in the serverless yaml file to specify what things to keep when packaged and what to drop Put the general rules at the top of the serverless yaml under package and then override them later in individual functions using package again my serverless yaml looks like this package exclude package json serverless yml README md gitignore vs release_notes src resources node_modules functions MyFunction package srclambdaMyFunction js libsrequiredLibraryrequiredFile js"},
{"id": 134492, "question_id": 13449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T13:55:04Z", "scrap_date": "2024-05-01T00:03:19.292449", "content": "I see an option to use CloudFormation parameters using the plugin serverlessparameters I can parameterize the variables that are different from dev and production environment Here is the serverless yml file I have parameterized securityGroup Ids and subnet ids The issue I am facing is that I dont find a way to pass parameters using sls deploy command Alternative approach is the deploy using the Cloudformation template directly using updatestack command aws cloudformation updatestack stackname secretproject templatebody file serverlesscloudformationtemplateupdatestack json parameters ParameterKeysecurityGroupIdsParameterValuesga123456 ParameterKeysubnetIdParameterValuesubnet1\\subnet2"},
{"id": 134142, "question_id": 13414, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-22T16:52:21Z", "scrap_date": "2024-05-01T00:03:20.392193", "content": "Hello you can start with this boilerplate I just made You should be able to define additional ressources in your serverless yml as usual httpsgithub comprettyfuntherapyserverlesslambdacontainerboilerplate"},
{"id": 134143, "question_id": 13414, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-22T18:01:05Z", "scrap_date": "2024-05-01T00:03:20.393193", "content": "Thanks for the effort Do you have a sample that has two lambda functions deployed using one container image"},
{"id": 134144, "question_id": 13414, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T17:04:57Z", "scrap_date": "2024-05-01T00:03:20.394194", "content": "Im not sure you can do that as youre image point to a single handler Or maybe with parameters In my example it sits behing an api gateway and it has a http router behind so you can access different controllers depending of the method and path you use "},
{"id": 134732, "question_id": 13473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T18:19:18Z", "scrap_date": "2024-05-01T00:03:21.495097", "content": "I didnt realize I had to delete it on the aws console It can be deleted from here httpsconsole aws amazon comcloudformation"},
{"id": 132872, "question_id": 13287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-23T20:49:05Z", "scrap_date": "2024-05-01T00:03:22.520032", "content": "I dont like having Lambdas triggered from S3 anyway I prefer S3SNSSQS lambda SQS gives you much better error handling with dead letter queues You also get much better visibility 9Apps Showbox Tutuapp"},
{"id": 113172, "question_id": 11317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-02T10:02:32Z", "scrap_date": "2024-05-01T00:03:23.530450", "content": "You may need to add an access token for your Serverless account to the deployment environment There are docs here that describe how httpswww serverless comframeworkdocsdashboardcicdrunninginyourowncicd"},
{"id": 113173, "question_id": 11317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-24T13:05:55Z", "scrap_date": "2024-05-01T00:03:23.531450", "content": "Try to downgrade node to 10 19 0"},
{"id": 134232, "question_id": 13423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-24T12:52:43Z", "scrap_date": "2024-05-01T00:03:24.366523", "content": "I wasnt even aware this could be specified in TypeScript If you can share what you have already Id be happy to try to make it work as Im now interested in this approach myself"},
{"id": 134233, "question_id": 13423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-24T13:20:15Z", "scrap_date": "2024-05-01T00:03:24.367822", "content": "Found an example here httpswww serverless comframeworkdocsprovidersawsguideintro Ill have a play around"},
{"id": 134234, "question_id": 13423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-24T14:31:26Z", "scrap_date": "2024-05-01T00:03:24.367822", "content": "Have you tried or Or just Obviously youd need the import in the file too"},
{"id": 39882, "question_id": 3988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-07T19:25:05Z", "scrap_date": "2024-05-01T00:03:25.482660", "content": "with which solution did you end up searching for a solution to this right now "},
{"id": 39883, "question_id": 3988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T19:49:56Z", "scrap_date": "2024-05-01T00:03:25.482660", "content": "We ended up writing a script that would execute the function after the deploy was completed Not ideal but it got the job done"},
{"id": 39884, "question_id": 3988, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-14T20:04:35Z", "scrap_date": "2024-05-01T00:03:25.483660", "content": "If anyone is searching for a solution and gets redirected here like me I ended up writing a custom cloud formation resource I did not even know that these exist It depends of the use case of course though for me it was a good fit "},
{"id": 39885, "question_id": 3988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-26T17:29:58Z", "scrap_date": "2024-05-01T00:03:25.484660", "content": "Hey JuHwon Can you please share the custom resource code"},
{"id": 116102, "question_id": 11610, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-28T03:38:57Z", "scrap_date": "2024-05-01T00:03:26.524255", "content": "Replying to my own question I ended up writing a plugin to do this Serverless API stage plugin manages client certificate assignment and rotation when expiration is due "},
{"id": 100672, "question_id": 10067, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-17T06:05:25Z", "scrap_date": "2024-05-01T00:03:28.361222", "content": "try this"},
{"id": 100673, "question_id": 10067, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-17T18:58:08Z", "scrap_date": "2024-05-01T00:03:28.361222", "content": "yes I had tried 2 options in case 1 I simply see no logs which means the function in AWS is not picked up at all in case 2 the rate 5 minutes works fine see in logs however rate cron is not picked up Which brings me to the question maybe rate cron is not supporting input key I could not find exact docs about it that is all docs I found httpsserverless comframeworkdocsprovidersawseventsschedule "},
{"id": 100674, "question_id": 10067, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-18T03:29:44Z", "scrap_date": "2024-05-01T00:03:28.363223", "content": "for some unknown to me reasons option 2 had started working on AWS"},
{"id": 100675, "question_id": 10067, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-02T14:26:06Z", "scrap_date": "2024-05-01T00:03:28.363223", "content": "Bumping since this is the only topic I could find on this issue the reason the above code works is the double tab The above works whereas the following Does not Documentation seems wrong on this issue "},
{"id": 30322, "question_id": 3032, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-02T16:34:46Z", "scrap_date": "2024-05-01T00:03:29.477420", "content": "The documentation doesnt seem entirely clear the following a preserves the actual event and b adds new fields to the detail object Here is the event object as passed to the Lambda function"},
{"id": 132732, "question_id": 13273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-03T13:41:18Z", "scrap_date": "2024-05-01T00:03:30.145224", "content": "Found typo in the code facepalm case closed "},
{"id": 111092, "question_id": 11109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-04T08:59:40Z", "scrap_date": "2024-05-01T00:03:30.968179", "content": "I think this helps you httpstheburningmonk com201905howtoincludeserverlessrepositoryappsinserverlessyml"},
{"id": 132902, "question_id": 13290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-04T15:36:46Z", "scrap_date": "2024-05-01T00:03:31.666502", "content": "Resolved Pls close this question"},
{"id": 114102, "question_id": 11410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-02T12:29:39Z", "scrap_date": "2024-05-01T00:03:32.427186", "content": "Hello I am looking for a sample use case on this too Any luck with this yet"},
{"id": 114103, "question_id": 11410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-02T11:47:06Z", "scrap_date": "2024-05-01T00:03:32.428186", "content": "Unfortunately this still does not work for me Anyone else had luck Seems a big gap in documentation on the AWS site as well "},
{"id": 114104, "question_id": 11410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-05T20:37:05Z", "scrap_date": "2024-05-01T00:03:32.429186", "content": "My mistake was using the proxys ARN as the IAM resource for rdsdbconnect The resource has to be in the format If you compare that to the proxy ARN youll notice the proxy ARN says dbproxy instead of dbuser which is what fixed it in my case This resource was pretty helpful as well httpsitnext ioworkwithawsrdsproxy9d7e09668080"},
{"id": 133312, "question_id": 13331, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-07T09:58:50Z", "scrap_date": "2024-05-01T00:03:33.219431", "content": "I figured this out Just include a separate serverless yml in your other folder and deploy that separately Now I just need to run my manual lambdas through babel before deploying "},
{"id": 133172, "question_id": 13317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-08T06:29:51Z", "scrap_date": "2024-05-01T00:03:34.029350", "content": "any one please help"},
{"id": 131712, "question_id": 13171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-06T18:54:45Z", "scrap_date": "2024-05-01T00:03:35.086136", "content": "Hi I am having the same warning did you find how to remove it"},
{"id": 131713, "question_id": 13171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-07T16:56:42Z", "scrap_date": "2024-05-01T00:03:35.087137", "content": "CUSTOM doesnt appear to be a valid authorizer type From the AWS API Gateway Authorizer Reference"},
{"id": 131714, "question_id": 13171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-07T22:25:01Z", "scrap_date": "2024-05-01T00:03:35.087137", "content": "AWS API Gateway Authorizer Reference the log error have this"},
{"id": 131715, "question_id": 13171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-08T11:25:04Z", "scrap_date": "2024-05-01T00:03:35.088538", "content": "bfieber thanks for the reply As far as I can understand those types go for the actual authorizer where the config I mentioned is where you reference an authorizer to be used for a specific Method See the link in the bottom of my post jayceesnow Unfortunately I didnt find a way passed this other than turning of all validation using configValidationMode error Thanks anyway for confirming that Im not the only one struggling with this I guess the right way forward would be to make an issue a PR in the serverless repo "},
{"id": 131716, "question_id": 13171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-08T15:42:50Z", "scrap_date": "2024-05-01T00:03:35.089542", "content": "Looks like a potential bug in the SLS code In v2 5 0 and below it would pass the CUSTOM type along silently and AWS CFn would allow it As of v2 6 0 they added JSONSchema validation of the type that doesnt include CUSTOM as a valid option But looking at the docs you linked and the fact that its just a warning it seems to be an incorrect warning Does the service still deploy event with the warning"},
{"id": 131717, "question_id": 13171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-08T16:56:25Z", "scrap_date": "2024-05-01T00:03:35.090541", "content": "bfieber yes the service is deployed even with the warnging "},
{"id": 84982, "question_id": 8498, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-07T10:00:12Z", "scrap_date": "2024-05-01T00:03:35.814932", "content": "Sounds like an API Gateway error Have you tried checking the API Gateway to see if there are some API Gateway resources referencing the function you originally deleted"},
{"id": 84983, "question_id": 8498, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-09T21:04:31Z", "scrap_date": "2024-05-01T00:03:35.815932", "content": "Nothing that I can find I had already deleted what I could find for it "},
{"id": 84984, "question_id": 8498, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-06-09T22:04:49Z", "scrap_date": "2024-05-01T00:03:35.816932", "content": "Okay I finally figured it out In addition to deleting the service and the function from the AWS console I had to delete the role but not the user itself for the function in the IAM users page then attempt to delete the stack from the CloudFormation page That will then give a list of things it was unable to delete so I had to delete those manually Then I needed to attempt to delete the stack again and it was successful Then I was able to redeploy again "},
{"id": 84985, "question_id": 8498, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-09T04:28:02Z", "scrap_date": "2024-05-01T00:03:35.817932", "content": "Worked like a charm Thank you"},
{"id": 133542, "question_id": 13354, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-10T10:44:02Z", "scrap_date": "2024-05-01T00:03:36.841179", "content": "This error usually occurs when I do not have enough S3 buckets capacity available AWS by default only allows you 100 S3 buckets per AWS account I am sure if you opened the AWS console for the account you are deploying to you would find there are a lot of S3 buckets you could delete "},
{"id": 133592, "question_id": 13359, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-10T15:13:28Z", "scrap_date": "2024-05-01T00:03:37.649699", "content": "For anyone else out there with the same question I didnt find an answer to why I couldnt create it with cloud formation but I did solve the greedy proxy using VPC link which is all I really wanted anyways Hope this helps "},
{"id": 124232, "question_id": 12423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-10T15:51:49Z", "scrap_date": "2024-05-01T00:03:38.482296", "content": "I had same issue use as syntax example id like to setting at environment object maybe your case is I hope it helps you "},
{"id": 133702, "question_id": 13370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-10T18:39:40Z", "scrap_date": "2024-05-01T00:03:39.289096", "content": "Serverless variables"},
{"id": 133703, "question_id": 13370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-10T18:40:18Z", "scrap_date": "2024-05-01T00:03:39.289096", "content": "pipeline log"},
{"id": 84282, "question_id": 8428, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-11T22:17:54Z", "scrap_date": "2024-05-01T00:03:40.337579", "content": "I would create a custom middleware see below The stylish Node js middleware engine for AWS Lambda You need to hook up to the onError hook and there you have access to the request and the error I would just post the error to rollbar "},
{"id": 84283, "question_id": 8428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-12T07:41:35Z", "scrap_date": "2024-05-01T00:03:40.339580", "content": "I was going to suggest Middy too its a great addition But Hareramrai mentions theyre using Go so i dont believe it will work Youll have to search for lambda middleware and see whats out there I just saw one called Vesper httpsgithub commefellowsvesper but I dont have any experience with it personally "},
{"id": 133202, "question_id": 13320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-08T09:26:12Z", "scrap_date": "2024-05-01T00:03:41.515325", "content": "I have found an argument dockerarg in the CLI reference This could be the solution dockerarg p 54325432 but unfortunately this argument seems to have a bug here I just created an issue httpsgithub comserverlessserverlessissues8587"},
{"id": 133203, "question_id": 13320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-09T12:49:38Z", "scrap_date": "2024-05-01T00:03:41.516324", "content": "Ok passing this dockerarg did not help in my case I still need help with this issue "},
{"id": 133204, "question_id": 13320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-11T03:55:56Z", "scrap_date": "2024-05-01T00:03:41.517329", "content": "Error Failed to run docker for go1 x image exit code 1 Currently invoke local only supports the NodeJs and Python runtimes Invoke an AWS Lambda Function using the Serverless Framework"},
{"id": 133205, "question_id": 13320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-11T13:24:57Z", "scrap_date": "2024-05-01T00:03:41.517329", "content": "Thank you for your answer I do not think this is true though Invoke local in fact does work very well with Go It is only when I try to connect to my local database it will error and then crash which will make the container it is running in crash thus this error message Unless you meant only NodeJS and Python support invoking a function using the local runtime versions of NodeJS Python so without docker But even when using docker which I have to apparently there should be a way to connect to my local db "},
{"id": 133206, "question_id": 13320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-13T15:31:31Z", "scrap_date": "2024-05-01T00:03:41.518325", "content": "Did you do a deploy Then your codes are run in your provider now aws It makes sense that your localhost is not accessible there"},
{"id": 133207, "question_id": 13320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-14T08:34:50Z", "scrap_date": "2024-05-01T00:03:41.519325", "content": "No I did not deploy Actually I load the db host from an environment variable So only locally it will be localhost "},
{"id": 125692, "question_id": 12569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-17T04:45:03Z", "scrap_date": "2024-05-01T00:03:43.621232", "content": "I am getting this same error as well I was not getting this error before yesterday and now it is Not sure what happened"},
{"id": 125693, "question_id": 12569, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-17T12:16:15Z", "scrap_date": "2024-05-01T00:03:43.622233", "content": "Same issue Everything deploys fine but GitHub actions display merge as a failure "},
{"id": 125694, "question_id": 12569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-17T21:17:00Z", "scrap_date": "2024-05-01T00:03:43.623233", "content": "Im also getting the same error Happened to me after upgrading the CLI "},
{"id": 125695, "question_id": 12569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-21T15:23:58Z", "scrap_date": "2024-05-01T00:03:43.623233", "content": "Me too Ive tried debugging it and got that the originRemote is name origin however it does not have the key refs and thats why we get this error "},
{"id": 96692, "question_id": 9669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T16:06:00Z", "scrap_date": "2024-05-01T00:03:44.551392", "content": "Hello Were you able to solve this issue I am having the same problem "},
{"id": 96693, "question_id": 9669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T16:51:24Z", "scrap_date": "2024-05-01T00:03:44.552398", "content": "Hi Actually no I did something I didnt want to as a workaround copied all the common code between the 3 folders I had no time since then to try again and find a solution for this but once I do Ill try to post it here "},
{"id": 96694, "question_id": 9669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-25T00:19:16Z", "scrap_date": "2024-05-01T00:03:44.553571", "content": "Hi we are using for this Lerna monorepo package manager "},
{"id": 96695, "question_id": 9669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-27T19:44:32Z", "scrap_date": "2024-05-01T00:03:44.554399", "content": "Hi all after much digging I found out that serverless does not support the pathing options offered by typescript For anyone else it appears the options are Copy the code as httpforum serverless comuGunterJameda suggested Utilize Webpack to allow setting the rootDir in typescript Symlink your shared module code to the each of your microservices directories I wrote a bash script that will symlink a directory called _shared to all directories one level under a parent directory called microservices or 4 Use Lerna as httpforum serverless comuFilipPyrek although afaik that is only a solution for external dependencies via yarn or npm and not internal shared modules"},
{"id": 96696, "question_id": 9669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T09:54:48Z", "scrap_date": "2024-05-01T00:03:44.555398", "content": "What do you mean by solution for external dependencies cgrafton One of main features of Lerna is handling internal modules dependencies httpsgithub comlernalernaabout"},
{"id": 96697, "question_id": 9669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-22T17:12:29Z", "scrap_date": "2024-05-01T00:03:44.556398", "content": "Have you succeeded with Option 2 Utilize Webpack to allow setting the rootDir in typescript Or maybe have an example Thank you "},
{"id": 131352, "question_id": 13135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-19T15:35:36Z", "scrap_date": "2024-05-01T00:03:45.391130", "content": "Try updating your version of serverlessoffline Looking at package json the their repo it looks like they even have serverless v 2 2 0 as a dev dependency "},
{"id": 131353, "question_id": 13135, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-23T23:31:04Z", "scrap_date": "2024-05-01T00:03:45.391130", "content": "Hi gabsong First of all sorry for my English Second I guess you have the same problem that I had a few days ago Im not sure but maybe this few lines can help you Commands mkdir helloworld npm init y npm create t awsnodejs nhelloworld npm install serverlessoffline savedev Then perhaphs you recieve a lot warning messages like this npm WARN deprecated hapi vise 1 1 This version has been deprecated and is no longer supported or maintained npm WARN deprecated hapi PACKAGE BLA BLA BLA and finally npm WARN serverlessoffline 8 0 requires a peer of serverless1 60 0 but none is installed You must install peer dependencies yourself This means that you need install some stuff MANUALLY in this specific case npm install serverless1 60 0 savedev I hope this can help you Regards AJM"},
{"id": 84832, "question_id": 8483, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-24T14:41:39Z", "scrap_date": "2024-05-01T00:03:46.166363", "content": "I have the same issue and am running serverless 2 0 Could you resolve this or find a workaround The only workaround I can think of is using a separate lambda function for each log group Are there plans to fix this"},
{"id": 99322, "question_id": 9932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-22T12:24:26Z", "scrap_date": "2024-05-01T00:03:47.235356", "content": "Hi there and welcome to the community Nope They never ever do Whether you do a local deployment using AWS access key and ID or via a role allocated to a deployment profile in the dashboard We make API requests into your AWS account using your credentials but they are never stored or sent anywhere else And with the framework being fully open source and having had a reasonably sized community looking through the code quite a bit you are welcome to audit the framework itself or get a third party to do so for you if you need to be sure one of the advantages an open source framework gives you When it comes to the Dashboard you setup a link from our AWS account to your own using an IAM role you have complete control over on your account So even there we never see any credentials its a pure IAM interaction over API that you can disconnect at any time If you want to see more details about how that role works we have a video as a part of our free course that describes the process httpsserverless comlearntutorialwhathappensondeployment If you have any more specific questions please feel free I was trying to answer as generally as I could "},
{"id": 99323, "question_id": 9932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-22T14:56:11Z", "scrap_date": "2024-05-01T00:03:47.237357", "content": "Thank you for the response "},
{"id": 99324, "question_id": 9932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-01T06:05:45Z", "scrap_date": "2024-05-01T00:03:47.238357", "content": "Thanks for this helpful reply Is this still the case for Serverless Components The docs say that component deployment happens in the cloud but Im afraid I dont understand what that means Is it running in the SLS cloud On an SLS account on AWS On our account on AWS using SLS code Which servers and accounts do our AWS credentials pass through during deployment I had a quick look through the code but couldnt figure out the deployment architecture and data flow I really like what SLS is doing so it would be very helpful to understand this aspect better "},
{"id": 99325, "question_id": 9932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-01T07:57:18Z", "scrap_date": "2024-05-01T00:03:47.239357", "content": "Components are different They are also being created for a different purpose Components are designed to fulfill the needs for very specific use cases and also to improve the developer experience massively with goals such as super fast deployment times live coding in the cloud so you dont need local emulation as well as live debugging with logs I say all this because the only way we found to make those goals feasible and drastically reduce deployment times to make testing in the cloud feel local was to actually move the deployment process off of a developers local machine and make deployments happen in AWS itself so that all the API calls are made on AWSs local network which massively speeds up deployment What this means for your question is that in components case when you deploy a component at that moment the credentials in your env is passed to the deployment engine in AWS deployment is made to your AWS account and the credentials are then deleted by the fact the deployment container is essentially destroyed So while your credentials are passed from your local machine along with your component configuration this needs to be done each time We are hoping to leverage the same technique we use in the dashboard for the original V1 framework for components with a role and no need for credentials but at this point we are trying accelerate release of components so folks can get use out of them and we can start getting some feedback to improve where it needs it Hope that helps answer the questions"},
{"id": 99326, "question_id": 9932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-01T09:17:07Z", "scrap_date": "2024-05-01T00:03:47.241357", "content": "Thats very helpful thanks I can understand how running on AWS would speed things up Ive found that true as well for some of our own internal development tasks that operate on AWS services I understand from your response how the credentials are used in an ephemeral way during component deployment as opposed to AWS keys being permanently recorded in our SLS account for example Using a role instead of credentials sounds good so Im looking forward to that when its ready The reason I am interested in components is because we are looking to deploy Nextjs on AWS and SLS support for Nextjs seems to have effectively moved from a V1 style plugin to a component via a wonderful contributor project So just to clarify a little further the deployment engine is a container created and managed by Serverless Inc And is the software running on the container open or closed source If its open source which GitHub repo has the source code"},
{"id": 99327, "question_id": 9932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T07:33:20Z", "scrap_date": "2024-05-01T00:03:47.243358", "content": "At this point I can say the best way to deploy components is using the new dashboard we have been hard at work on It uses relatively the same process of creating cross account access that generates temporary access credentials for deployment purposes "},
{"id": 132202, "question_id": 13220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T21:11:20Z", "scrap_date": "2024-05-01T00:03:48.224133", "content": "Im seeing something similar I think its related to the AWS outage today httpsstatus aws amazon com"},
{"id": 130262, "question_id": 13026, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T21:49:18Z", "scrap_date": "2024-05-01T00:03:48.939467", "content": "But when I try sending messages from SNS to SQS using the default KMS awssqs it then fails with an error KMS AccessDeniedException Its very odd Sometimes its like the message receiver SQS needs to have access other times its like the message sender needs to have access Kodi nox"},
{"id": 130502, "question_id": 13050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-25T21:50:10Z", "scrap_date": "2024-05-01T00:03:49.545324", "content": "I didnt find a way to reference resources from other files or environment variables within buildspec yml like you would in serverless yml for instance but its possible to run custom scripts that can Serverlesssyncs3buckets uses the bucket name and local directory you write in the custom attributes of your serverless yml and sync the both up 9Apps Showbox Tutuapp"},
{"id": 119202, "question_id": 11920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T15:04:03Z", "scrap_date": "2024-05-01T00:03:50.672005", "content": "Hello gomesp did you find a solution"},
{"id": 119203, "question_id": 11920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-26T19:02:49Z", "scrap_date": "2024-05-01T00:03:50.672005", "content": "It seems that serverless framework is setting an empty policy string if you wont specify provider resourcePolicy yourself This seems to be causing problems for the PRIVATE endpoint type As AWS suggests you should allow only traffic from your VPC for the PRIVATE endpoint type "},
{"id": 119204, "question_id": 11920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-26T19:03:21Z", "scrap_date": "2024-05-01T00:03:50.673005", "content": "Also I guess that gomesp may had it right but the Resource policy inside serverless yml shouldnt contain the Statement only the array itself like this You can see an example of how to add Resoruce policy to the serverless yml here httpswww serverless comframeworkdocsprovidersawseventsapigatewayresourcepolicy Of course it is not advised to have such policies so I would stick with the AWS policy mentioned above "},
{"id": 132282, "question_id": 13228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-29T01:30:03Z", "scrap_date": "2024-05-01T00:03:51.460121", "content": "After a lot of head banging came to understand that the above is the correct solution I just used allowed_headers check box in httpswww testcors org Once i remove it works fine "},
{"id": 132522, "question_id": 13252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-30T12:05:44Z", "scrap_date": "2024-05-01T00:03:52.360603", "content": "Solved my problem calling aws cloudformation describestackresource stackname xxx logicalresourceid UserPool after retrieving sls output "},
{"id": 79012, "question_id": 7901, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-14T21:07:57Z", "scrap_date": "2024-05-01T00:03:53.449022", "content": "Below code works for me"},
{"id": 79013, "question_id": 7901, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-01T13:48:32Z", "scrap_date": "2024-05-01T00:03:53.449022", "content": ""},
{"id": 43522, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-26T09:34:40Z", "scrap_date": "2024-05-01T00:03:54.161146", "content": "Im also facing same issue We need to use existing apiGateway httpsgithub comserverlessserverlesspull4247 as we ran out of 200 resource limit so migrated to new version 1 26 1 If we deploy with this version it gives internal server error Guys help will be really appreciated "},
{"id": 43523, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-26T18:36:53Z", "scrap_date": "2024-05-01T00:03:54.162146", "content": "Here is the difference in template generated in both cases for jagdish176 issue The RequestParameters Section is new which was not there earlier "},
{"id": 43524, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-26T19:34:34Z", "scrap_date": "2024-05-01T00:03:54.163149", "content": "This code is introduces in 1 26 which is not in 1 24 If I comment it in the plugin and use it what could be the effect Please note request parameters are already added in the properties section line 15 in serverlessmaster\\lib\\plugins\\aws\\package\\compile\\events\\apiGateway\\lib\\method\\index js const requestParameters event http request event http request parameters There should be a separate flag for this Regards Adit"},
{"id": 43525, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-26T19:45:03Z", "scrap_date": "2024-05-01T00:03:54.164147", "content": "aditmalik I believe the issue i mentioned is exactly because of this section of code Probably we should allow the user to choose if he wants to propagate the mapping to integration request too "},
{"id": 43526, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-27T01:03:22Z", "scrap_date": "2024-05-01T00:03:54.165147", "content": "Seems this was done with the PR httpsgithub comserverlessserverlesspull4665 "},
{"id": 43527, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-27T02:14:05Z", "scrap_date": "2024-05-01T00:03:54.165147", "content": "anyupdate if this is going to be changed or modified or removed"},
{"id": 43528, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-27T02:58:58Z", "scrap_date": "2024-05-01T00:03:54.166147", "content": "can you raise an issue with details directly to github comserverlessserverless for this big"},
{"id": 43529, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-04-27T03:16:36Z", "scrap_date": "2024-05-01T00:03:54.166147", "content": "httpsforum serverless comtupgradingfrom124to126serverlessawssignat urevalidationfailswheninvokinglamdafunction4352 From 1 26 onward in case of Lambda integrations Legacy calls are failing I looked at the code line 91 in serverlessmaster\\lib\\plugins\\aws\\package\\compile\\events\\apiGateway\\lib\\method\\integration js request parameters are again added in the integration section of cloud formation template Which enable integration request to specify request parameter this is not in the case of previous versions of plugin Anyupdates if this could be an optional or any workarounds Raised an issue in serverless"},
{"id": 435210, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-27T11:15:15Z", "scrap_date": "2024-05-01T00:03:54.168148", "content": "I raised an issue with AWS and they answered as below The internal server error was raised because of Signature mimatch between API Gateway and Lambda As API Gateway too uses Authorization header the header gets corrupted if users too use it AWS advised me not to use this header and use a different name I changed my header from Authorization to AuthToken and it worked in 1 26 1 serverless Posting this is it can help anyone I believe this is just a work around and sls needs to fix this Thanks Vasu"},
{"id": 435211, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-27T14:24:15Z", "scrap_date": "2024-05-01T00:03:54.169148", "content": "Authorization Authorization is a standard header tag i dont think renaming it right "},
{"id": 435212, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-27T14:46:36Z", "scrap_date": "2024-05-01T00:03:54.169148", "content": "I agree It would also require all your consumers to change their headers I too gonna wait for sls to fix it "},
{"id": 435213, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-29T11:49:27Z", "scrap_date": "2024-05-01T00:03:54.170148", "content": "Authorization is standard header tag not mean you have to use the name You can define to any other names if you want to do "},
{"id": 435214, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-21T19:41:58Z", "scrap_date": "2024-05-01T00:03:54.170148", "content": "I have a written a serverless plugin for workaround while the team fixes it permanently Contribute to vasudevanpalaniserverlessfixapigwint development by creating an account on GitHub You can do npm install serverlessfixapigwint Add this plugin to serverless yml file deploy Thanks"},
{"id": 435215, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-28T19:41:01Z", "scrap_date": "2024-05-01T00:03:54.171149", "content": "I have got it resolved by configuring the aws credentials using the below cmds serverless config credentials provider aws k your_access_key_id_here s your_secret_access_key_here export AWS_ACCESS_KEY_IDyour_access_key_id_here export AWS_SECRET_ACCESS_KEYyour_secret_access_key_here"},
{"id": 435216, "question_id": 4352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-01T13:49:42Z", "scrap_date": "2024-05-01T00:03:54.172149", "content": "If we deploy with this version it gives internal server error"},
{"id": 132062, "question_id": 13206, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-02T05:20:40Z", "scrap_date": "2024-05-01T00:03:54.805321", "content": "Have a look at this blog post Never again fear breaking your Serverless application due to integration issues "},
{"id": 9462, "question_id": 946, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2016-12-14T21:41:34Z", "scrap_date": "2024-05-01T00:03:55.904958", "content": "yankeeinlondon are you trying to get the AccountID in CloudFormation Can you use a Pseudo Parameter i e AWSAccountId httpdocs aws amazon comAWSCloudFormationlatestUserGuidepseudoparameterreference html"},
{"id": 9463, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T21:46:45Z", "scrap_date": "2024-05-01T00:03:55.905959", "content": "Yes johncmckim that looks exactly right Sorry never sure whether I should be looking for things in cloudfront serverless or elsewhere So if Im understanding correctly I could put something like this in my serverless yml Im running to a meeting but will plug it in this afternoon "},
{"id": 9464, "question_id": 946, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-14T21:54:11Z", "scrap_date": "2024-05-01T00:03:55.906959", "content": "yankeeinlondon no worries All part of learning You wont be able to use it in that part of the serverless yml See this example If youre just using the AccountId from IAM you should be able to use it directly rather than through a custom property Hope that makes sense P S its off the top of my head so there might be syntax issue but should be close"},
{"id": 9465, "question_id": 946, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-15T00:31:31Z", "scrap_date": "2024-05-01T00:03:55.907959", "content": "Hmmm Tried your suggestion and got Invalid variable reference syntax for variable AWSRegion You can only reference env vars options files You can check our docs for more info "},
{"id": 9466, "question_id": 946, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-12-15T00:36:39Z", "scrap_date": "2024-05-01T00:03:55.907959", "content": "ars options files You can check our docs for more info Ah yes sorry Again was off the top of my head Thats an issue with FnSub right now The syntax for variables i e blah conflicts with Serverless Its a PITA You would normally be able to use variableSyntax to work around that but theres a bug You might have to do something like this instead FnJoin [ [ awsec2 Ref AWSRegion Ref AWSAccountId xxxxxx ]] Clearly thats no where near as nice as FnSub"},
{"id": 9467, "question_id": 946, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-12-15T00:44:26Z", "scrap_date": "2024-05-01T00:03:55.909960", "content": "Well lots of thanks for your help Dont think Id have gotten there myself For now Ill wildcard the accountId as I have the stage and region available locally in the serverless yml and thats pretty good resolution Ive tested and this seems to work"},
{"id": 9468, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-14T16:38:19Z", "scrap_date": "2024-05-01T00:03:55.909960", "content": "Hi I was wondering if there was any progress on the ability to distinguish AWS variables from serverless variables or at least to escape the serverless variable replacement functionality it seems like a pretty useful ability so that I can pass a string literal to AWS for it to use to replace variables From what I can tell variableSyntax that is referred to above isnt active right now No documentation that I can find "},
{"id": 9469, "question_id": 946, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-03-31T00:22:54Z", "scrap_date": "2024-05-01T00:03:55.910960", "content": "Ive been down this road myself Heres the comment I made to remind me of the problems and the variableSyntax Im using to get past this issue With that in place I can now use FnSub basically as indicated by johncmckim Dont forget to then change all your Serverless variables as indicated in the comment above selfcustom whatever becomes selfcustom whatever "},
{"id": 94610, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-16T13:29:31Z", "scrap_date": "2024-05-01T00:03:55.911960", "content": "Oh thats a really sweet idea donpedro Im definitely going to do that thanks "},
{"id": 94611, "question_id": 946, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-04-22T14:13:04Z", "scrap_date": "2024-05-01T00:03:55.912960", "content": "Hey donpedro thanks for the idea had to adjust your regular expression a little bit to make it work with my recursive variables thought you might want to know about it variableSyntax \\ \\ Now works for things like this DefaultCurrency selfcustom optregion selfprovider region optstage selfprovider stage DefaultCurrency Thanks again seems like this feature is somewhat undocumented "},
{"id": 94612, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-25T15:31:26Z", "scrap_date": "2024-05-01T00:03:55.913961", "content": "cdichiara I expanded on your regex to The difference is I do not need to wrap my serverless variables in the extra "},
{"id": 94613, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-03T17:52:29Z", "scrap_date": "2024-05-01T00:03:55.913961", "content": "Thank you for that solution It doesnt make much sense to me that Serverless uses the same variable syntax as CloudFormation Ive changed mine accordingly"},
{"id": 94614, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-19T21:19:17Z", "scrap_date": "2024-05-01T00:03:55.914961", "content": "What about this one AWS [\\s\\S] If you only want to avoid issues with AWS pseudo parameters it should do the trick without having to deal with changing format of all serverless variables"},
{"id": 94615, "question_id": 946, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-09-19T21:41:13Z", "scrap_date": "2024-05-01T00:03:55.914961", "content": "Ok easier solution User the serverlesspseudoparameters plugin It fixed my issue instantly by replacing character by in my resource declarations "},
{"id": 94616, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-28T18:28:47Z", "scrap_date": "2024-05-01T00:03:55.915961", "content": "This is a much easier solution Works for me "},
{"id": 94617, "question_id": 946, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-16T18:26:37Z", "scrap_date": "2024-05-01T00:03:55.915961", "content": "Thanks donpedro This works perfectly and now I too have a reminder "},
{"id": 133672, "question_id": 13367, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-12-28T05:04:27Z", "scrap_date": "2024-05-01T00:03:56.991372", "content": "You could add stack output to your serverless yml A couple ways to do things If you wanted to save in an ssm parameter you could reference it in some other build If you simply want to refer to what wil be the ApiId in another yml file you can include the file in your serverless yml file serverless functions yml Then you can simply use a Ref ApiGatewayRestApi in the included file to refer to the logical name the generated stack uses for your api Finally if you want to save it for later reference you can store the value in SSM then refer to it in another serverless build using ssmpathtoyourvalue "},
{"id": 99692, "question_id": 9969, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-14T11:50:12Z", "scrap_date": "2024-05-01T00:03:59.164118", "content": "Im facing the same issue where I have a Lambda Edge and I need to attach it to an existing CF Distribution Have you found something about this"},
{"id": 99693, "question_id": 9969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T23:50:14Z", "scrap_date": "2024-05-01T00:03:59.164118", "content": "Hi This creates only new distribution It does not attach the Lambda to existing distribution Relationship between Lambda function and CloudFront distribution is in definition of the CloudFront distribution So first you need to deploy the Lambda function with necessary permissions and then you need to point CloudFront to exact version of the function Steps Install plugin npm install savedev silvermineserverlessplugincloudfrontlambdaedge It attaches necessary permissions so CloudFront can invoke the Lambda function When you change source code of lamboGeoLocationQa you will have to repeat the steps 36 "},
{"id": 99694, "question_id": 9969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T05:48:53Z", "scrap_date": "2024-05-01T00:03:59.166118", "content": "I am curious if anybody has found a way to not create a Cloudfront distribution when using Lambda handlers in Serverless framework It makes deployments very slow if you have a preexisting distribution "},
{"id": 99695, "question_id": 9969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-09T14:55:03Z", "scrap_date": "2024-05-01T00:03:59.166118", "content": "Yeah seems like you cannot I have preexisting CF distribution already"},
{"id": 123362, "question_id": 12336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-20T19:48:49Z", "scrap_date": "2024-05-01T00:03:59.660277", "content": "Sorry I dont have an answer but I was just going to post the exact question with the exact problem with my code Im getting a CREATE FAILED when deploy it and it rolls back Or as you I get the capitalization error as well if I try to do a Ref to my bucket variable I actually came here to post this exact questionproblem Hope we can get some answers "},
{"id": 123363, "question_id": 12336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-05T12:55:24Z", "scrap_date": "2024-05-01T00:03:59.661852", "content": "Further investigation suggests that it is the serverless parser for the event that is the problem where the custom variable is hardcoded to the actual bucket name e g throws the error whereas setting the bucket name directly works e g Clearly this is suboptimal "},
{"id": 123364, "question_id": 12336, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-15T19:21:46Z", "scrap_date": "2024-05-01T00:03:59.662857", "content": "I have this same problem The function wasnt deploying with the normal indentation and I dont understand why this would be different but thats another issue I suppose The function deploys now but the trigger is not being created I have a hard coded bucket name as well "},
{"id": 123365, "question_id": 12336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-26T10:42:05Z", "scrap_date": "2024-05-01T00:03:59.663855", "content": "One way I fixed this is by doing something like wkhatch and using the following indentation Created an s3 bucket as a separate resource and referenced it in the event like below And then added the existing flag "},
{"id": 123366, "question_id": 12336, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-10-14T20:52:31Z", "scrap_date": "2024-05-01T00:03:59.664855", "content": "How this indentation issue is not considered a major problem is beyond me "},
{"id": 123367, "question_id": 12336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-09T15:35:54Z", "scrap_date": "2024-05-01T00:03:59.664855", "content": "For me what finally worked was to add a rule to the definition of the serverless template on that event i e Without the rules the trigger were not created Version details"},
{"id": 99442, "question_id": 9944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-02T13:02:55Z", "scrap_date": "2024-05-01T00:04:00.404605", "content": "Hey Akiren Ive run into the NOENT issue with NPM and bitbucket pipelines with the simple setup described by the tutorial of Ayush Sharma that you linked to But it happened only the very first time and after that worked seamlessly "},
{"id": 99443, "question_id": 9944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-09T17:30:13Z", "scrap_date": "2024-05-01T00:04:00.405605", "content": "Wow and you just redeployed and it worked I have deployed over 100 times to no avail you should see my bitbucket logs lol Thanks for the response"},
{"id": 99444, "question_id": 9944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-09T19:39:16Z", "scrap_date": "2024-05-01T00:04:00.405605", "content": "From the error you got It seems your python didnt install in the right directory Could you use the official example and see what happen You can always run a shell command in the pipelines and verify your file locations "},
{"id": 99445, "question_id": 9944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-14T16:12:40Z", "scrap_date": "2024-05-01T00:04:00.406605", "content": "Akiren Did you get anywhere with this for GHA Curious if you have a working template to share "},
{"id": 99446, "question_id": 9944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-09T17:16:43Z", "scrap_date": "2024-05-01T00:04:00.407785", "content": "Hi I am trying to setup a bitbucket pipeline saving AWS credentials as bitbucket variable but its not locating it Getting this error 4s serverless config credentials provider aws key AWS_DEV_LAMBDA_KEY secret AWS_DEV_LAMBDA_SECRET node87 ExperimentalWarning The dns promises API is experimental node87 ExperimentalWarning The fs promises API is experimental Serverless Error AWS provider credentials not found Learn how to set up AWS provider credentials in our docs here httpslss ioawscredssetup Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information Operating System linux Node Version 11 13 0 Framework Version 2 11 1 Plugin Version 4 1 2 SDK Version 2 3 2 Components Version 3 3 0"},
{"id": 128052, "question_id": 12805, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-10-14T05:02:39Z", "scrap_date": "2024-05-01T00:04:01.397619", "content": "What would happen to current serverless yml Would it still work"},
{"id": 128053, "question_id": 12805, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-25T21:55:59Z", "scrap_date": "2024-05-01T00:04:01.397619", "content": "Yeah you are still Serverless Framework for Lambda and API Gateway Only the resources ie DynamoDB table S3 bucket are provisioned using CDK "},
{"id": 128054, "question_id": 12805, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-26T02:38:56Z", "scrap_date": "2024-05-01T00:04:01.398619", "content": "Thanks for the clarification "},
{"id": 128056, "question_id": 12805, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-10T20:39:28Z", "scrap_date": "2024-05-01T00:04:01.398619", "content": "Hi thanks for the update and the explanation TweakBox Tutuapp"},
{"id": 128002, "question_id": 12800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-10T23:19:56Z", "scrap_date": "2024-05-01T00:04:02.494916", "content": "Im having the same exact problem jdc18 Did you ever find a solution"},
{"id": 128003, "question_id": 12800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-11T00:23:54Z", "scrap_date": "2024-05-01T00:04:02.495916", "content": "jdc18 I found a solution for my use case I am running serverlessoffline with the setting useDocker True Because my handler s run in Docker I needed to use the special DNS name that allows the container access to my local network "},
{"id": 130822, "question_id": 13082, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-11T20:54:35Z", "scrap_date": "2024-05-01T00:04:03.609584", "content": "This was solved It can be tagged as a Layer 8 issue Check this link for the answer "},
{"id": 130072, "question_id": 13007, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-11-13T18:42:57Z", "scrap_date": "2024-05-01T00:04:04.451316", "content": "Heh I went ahead and made an SO post while this post was hidden by community flags please see the answer for solution and please dont hide this post bc it contains a link "},
{"id": 51252, "question_id": 5125, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-07-19T01:06:14Z", "scrap_date": "2024-05-01T00:04:05.339000", "content": "YAML allows If you want the longer version I wrote it here"},
{"id": 51253, "question_id": 5125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T18:55:33Z", "scrap_date": "2024-05-01T00:04:05.340000", "content": "Perfect thank you "},
{"id": 51254, "question_id": 5125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-25T22:21:03Z", "scrap_date": "2024-05-01T00:04:05.341000", "content": "As you can see it gets very repetitive duplicating variables into each stage Is there a way I can have a second file for globals that I can merge with this file somehow That way I can remove duplicates from each stage The better solution will be to use SSM parameters It will help not only for yml file but also it will allow you to share variables between multiple serverless projects lambda functions Following link might help you updated this post has been updated on 15092017 following the release of Serverless framework 1 22 0 which introduced support for SSM parameter store out of the box Go to the end of post to see how it compares with other approaches "},
{"id": 51255, "question_id": 5125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-15T07:35:49Z", "scrap_date": "2024-05-01T00:04:05.342000", "content": "hey buggy and dhavalyours Thanks for your answers I am using following for my service level environment which will be shared across functions How can I add additional env variables which are not in my secrets manager or something I want to generate through serverless opts example How to merge both so that I have secrets from secrets manager and additional variables provided in serverless yml I tried merging yaml objects using tips provided in this post "},
{"id": 38082, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T00:16:15Z", "scrap_date": "2024-05-01T00:04:06.519901", "content": "The secret is to set Cache Based on Selected Request Headers to ALL in the behavior In Yaml it looks like this Dont worry that this turns off caching for this lambda origin It is unlikely that you would want IAM secured results to be cached You can easily turn caching on for other origins such as S3 "},
{"id": 38083, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-20T17:01:15Z", "scrap_date": "2024-05-01T00:04:06.520901", "content": "I also wondered what was the use of API Gateway One thing that comes to my mind is the usage of custom domains If you want your content to be deliver through a custom domain of yours youll need it "},
{"id": 38084, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-20T18:01:00Z", "scrap_date": "2024-05-01T00:04:06.521901", "content": "Cloudfront fully supports custom domains In fact that is how APIGateway gets it custom domain via a hidden Cloudfront distribution I have this working now with https custom domain and cloudfront Note that S3 caching is disabled in this YAML so that I can test my code Turn it on for production "},
{"id": 38085, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T18:03:06Z", "scrap_date": "2024-05-01T00:04:06.522902", "content": "Thats where you set the custom domain name And the certificate for it"},
{"id": 38086, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T18:09:03Z", "scrap_date": "2024-05-01T00:04:06.522902", "content": "PathPattern 20150331 This is the messy bit that picks off the lambda requests but it doesnt have to be this way If you want to pay for lambda you can insert a little function that will rewrite the URLs A function would let you rewrite something like apimyfunc into 20150331functionsmyfuncinvocations I suspect APIGateway has a hidden edge function doing just that Both schemes work Note that there is no free tier for lambda You will likely run a 10mth bill when using edge to rewrite the URLs in a modestly active API "},
{"id": 38087, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T20:45:52Z", "scrap_date": "2024-05-01T00:04:06.523902", "content": "Very interesting I havent looked much at AWS configuration outside of what SLS shows in the documentation I assume that they had a good reason to use API Gateway instead of CloudFront directly maybe for the sake of simplicity Regarding your caching you could set something like this to disable it in development and enable it in the other environments I do the same kind of stuff to define the RAM to be used by each lambda I define values for each stage and the right value is picked up when I run the script "},
{"id": 38088, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T21:26:08Z", "scrap_date": "2024-05-01T00:04:06.524902", "content": "API Gateway is simpler to use API Gateway is also good for when you are selling API access It is also not at all obvious how to directly proxy lambda with Cloudfront it took me several months to discover how to do it Plus if you cant figure out this bit PathPattern 20150331 you will never get it to work With API Gateway in the way my API calls turn around in about 150ms and they are pretty consistent With direct Cloudfront to Lambda I run 70130ms with far more variability Occasionally a simple call will finish in 40ms Note that lambda is still protected by https and AWS4 signatures I suspect over time API Gateway will stop being an actual machine somewhere and instead simply turn into a bunch of lambda functions As far as I can tell there isnt anything in API Gateway that couldnt be done via lambda This is probably why they hide their internal Cloudfront distribution from the developers "},
{"id": 38089, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-12T11:15:18Z", "scrap_date": "2024-05-01T00:04:06.526903", "content": "Im trying to achieve Cloudfront Lambda without Api Gateway as well Ive researched a lot and it seems currently you are the only one that managed it and spoke about it jonsmirl THANK YOU Ive got few questions When you make an HTTP POST to xxx cloudfront com20150331functionsmyfuncinvocations is the call routed to HTTP POST lambda useast1 amazonaws com20150331functionsmyfuncinvocations Reading your other posts on this forum I understood that you are using AWS Amplify Cognito and when you are calling xxx cloudfront com20150331functionsmyfuncinvocations AWS Amplify adds a bunch of Authorization headers with the Cognito user data Ive tried curl X POST httpsxxx cloudfront net20150331functionsmyFuncinvocations but without Authorization Header Im getting messageMissing Authentication Token Would it be possible to NOT USE Cognito and specify an Amazon IAM key and secret for the Cloudfront Distribution How could you handle HTTP methods other than POST Using a Lambda to rewrite the request as a HTTP POST and passing the original http method as a parameter"},
{"id": 380810, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-12T11:48:56Z", "scrap_date": "2024-05-01T00:04:06.528903", "content": "You need to sign the requests using AWS Signature 4 httpswww npmjs compackageawssignaturev4"},
{"id": 380811, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T17:53:18Z", "scrap_date": "2024-05-01T00:04:06.528903", "content": "Could you share some snippet code for the lambda rewrite jonsmirl I managed to add the authorization header using aws4 but the Lambda Custom Origin is returning the error"},
{"id": 380812, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T18:06:23Z", "scrap_date": "2024-05-01T00:04:06.529903", "content": "I dont use lambda at edge I sign the requests in the browser and send them directly to lambda useast1 amazonaws com No cloudfront at all In my measurement cloudfront made lambda calls slower Cloudfront is great for caching your static stuff AWS Amply can generate the sigv4 for you Amplify configure Auth identityPoolId config IdentityPoolId region useast1 userPoolId config UserPoolId userPoolWebClientId config UserPoolClientId API endpoints [ name api endpoint httpslambda useast1 amazonaws com service lambda ] "},
{"id": 380813, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T20:46:20Z", "scrap_date": "2024-05-01T00:04:06.530904", "content": "Is it actually possible to use CloudFront with a Lambda as Custom Origin at all The problem is that the Host header forwarded from CloudFront to the Lambda cannot be changed So even if you use a lambda to add authorizations headers signed with aws4 signature the Host header will be stuck at xxx cloudfront com or your custom domain name and will not match the Host used in the aws4 signature With Amplify or a HTTP POST you can call directly the HTTP POST lambda useast1 amazonaws com20150331functionsmyfuncinvocations but you cannot call a CloudFront distribution in front of the lambda for the same problem with the Host header I described above "},
{"id": 380814, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T21:05:59Z", "scrap_date": "2024-05-01T00:04:06.532904", "content": "You need to make a distribution in cloudfront that points to lambda useast1 amazonaws com Maybe this is more what you are looking for Adds Lambda support to Serverless Contribute to silvermineserverlessplugincloudfrontlambdaedge development by creating an account on GitHub Another article on a similar technique AWS Lambda is still a young feature in AWS Generally Available since July 2017 Reading time 9 min read"},
{"id": 380815, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T21:28:22Z", "scrap_date": "2024-05-01T00:04:06.533904", "content": "Yes I did use a CloudFront Distribution and the serverlessplugincloudfrontlambdaedge The problem is the authorization headers part though You need to sign the request with aws4 but CloudFront wont allow you to replace the Host header and so the aws4 signature will not match and return"},
{"id": 380816, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T22:18:52Z", "scrap_date": "2024-05-01T00:04:06.533904", "content": "There is definitely a way to do this I remember getting stuck at this exact issue about a year ago when I tired this This is some trick with setting up the CF distribution that allows this to work But after I got it working I concluded that all Cloudfront was doing was making my API call take an extra 60ms to complete Since I abandoned this method Ive forgotten how I did it Maybe this was it httpsdocs aws amazon comAmazonCloudFrontlatestDeveloperGuideforwardcustomheaders html"},
{"id": 380817, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T08:35:28Z", "scrap_date": "2024-05-01T00:04:06.534905", "content": "If you read below there is a section that states httpsdocs aws amazon comAmazonCloudFrontlatestDeveloperGuideforwardcustomheaders htmlforwardcustomheadersblacklist And Lambda can only Read but not write the Host header Readonly Headers for CloudFront Viewer Request Events Host httpsdocs aws amazon comAmazonCloudFrontlatestDeveloperGuidelambdarequirementslimits htmllambdareadonlyheaders So maybe you did place the CloudFront Distribution in front of a Lambda using the Custom Origin but then you still called the Lambda directly using AWS Amplify or a HTTP POST jonsmirl"},
{"id": 380818, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T13:08:59Z", "scrap_date": "2024-05-01T00:04:06.535905", "content": "I did not need to use Edge at all There is a way to configure the distribution behavior to do this "},
{"id": 380819, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T14:06:33Z", "scrap_date": "2024-05-01T00:04:06.536905", "content": "I think you might have setup the CloudFront Distribution in front of the Lambda using the Custom Origin but then you might have called directly the Lambda anyway not finding out that the CloudFront Distribution wouldnt allow accept the aws4 signing Could you recreate a basic github repository project demonstrating how to place a CloudFront Distribution in front of a Lambda and having them called not from AmplifyCognito but by making an HTTP POST request to the CloudFront url xxx cloudfront com "},
{"id": 380820, "question_id": 3808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T14:41:50Z", "scrap_date": "2024-05-01T00:04:06.537905", "content": "I looked in my git log I think this was the configuration I used But note that I concluded that doing this gained nothing but slowing down your lambda access "},
{"id": 109362, "question_id": 10936, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-17T00:14:15Z", "scrap_date": "2024-05-01T00:04:07.259993", "content": "If your lambda is in a VPC uses private Subnet and DynamoDB is not in the same VPC chances are you wont be able to connect both unless you establish VPC Peering"},
{"id": 40942, "question_id": 4094, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T17:52:28Z", "scrap_date": "2024-05-01T00:04:07.883054", "content": "i was having issues with serverless on IOT too so I just avoided it and wrote direct cloud formation calls in my yaml file If this doesnt work enter your SQL via the WebUI and make sure it is valid "},
{"id": 40943, "question_id": 4094, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-05T22:28:58Z", "scrap_date": "2024-05-01T00:04:07.884055", "content": "I found a solution and as usual it turned out to be my own stupidity Serverless deploy seems to default to sql version 20151008 and it doesnt support the get function When I specified sql version 20160323 in serverless yml I could deploy just fine If you deploy with Type AWSIoTTopicRule You need to specify AwsIotSqlVersion 20160323 I havent tested the serverless default syntax but it is documented here httpsserverless comframeworkdocsprovidersawseventsiot sqlVersion 20160323"},
{"id": 40944, "question_id": 4094, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-18T03:01:41Z", "scrap_date": "2024-05-01T00:04:07.885054", "content": "This solved my issue too Thanks heaps I think the problem is with AWSs cfn documentation They should mention the difference between IOTSQL parser versions and the default version is the old one before saying its not required "},
{"id": 1312, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-16T12:49:58Z", "scrap_date": "2024-05-01T00:04:08.795988", "content": "No Slack that I know of but there is a Gitter chatroom there httpsgitter imserverlessserverless"},
{"id": 1313, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-23T11:12:37Z", "scrap_date": "2024-05-01T00:04:08.796988", "content": "Hi svitekp lets create a slackgroup and share in this forum what do you think"},
{"id": 1314, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-23T17:51:43Z", "scrap_date": "2024-05-01T00:04:08.796988", "content": "At the moment we dont have a user Slack channel We keep everything in Gitter and will probably at some point establish a slack channel but we didnt have the time yet Ill bring it up to the team"},
{"id": 1315, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-23T17:57:02Z", "scrap_date": "2024-05-01T00:04:08.797988", "content": "httpsletsgoserverless slack commessagesgeneral We have this one"},
{"id": 1316, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T11:34:43Z", "scrap_date": "2024-05-01T00:04:08.797988", "content": "Marckaraujo Can you invite me cesar ap oliveira com Thanks Best regards Cesar Oliveira"},
{"id": 1317, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T17:52:11Z", "scrap_date": "2024-05-01T00:04:08.798988", "content": "maybe look into something like this httpsgithub comtherealklannislackinviterequest just to avoid tons of me too posts"},
{"id": 1318, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T02:59:49Z", "scrap_date": "2024-05-01T00:04:08.799989", "content": "You can signup for that slack group at httpsletsgoserverless stamplayapp com without needing to ask for an invite "},
{"id": 1319, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T19:23:18Z", "scrap_date": "2024-05-01T00:04:08.799989", "content": "The serverless com site has a subcommand under community for slack But the link goes to an expired invitation "},
{"id": 13110, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T00:13:58Z", "scrap_date": "2024-05-01T00:04:08.800989", "content": "Try the Gitter httpsgitter imserverlessserverless which I think is run by Serverless Inc or httpswtserverlessseattle sandbox auth0extend comserverlessforumsignup which is run by Serverless Seattle "},
{"id": 13111, "question_id": 131, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-03T20:04:44Z", "scrap_date": "2024-05-01T00:04:08.801989", "content": "There is a very active slack group here serverlesscontrib slack com would probably be good to consolidate gitter into the slack one "},
{"id": 13112, "question_id": 131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-19T12:07:44Z", "scrap_date": "2024-05-01T00:04:08.801989", "content": "AnthonyC isnt this an invite only slack though"},
{"id": 130063, "question_id": 13006, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-13T18:45:25Z", "scrap_date": "2024-05-01T00:04:09.710927", "content": "This post got hidden by community flags but I was able to get an assist on SO Cant seem to post a link to the SO question here either so please search and Im certain you will find it Basically need to coerce the TS type "},
{"id": 130064, "question_id": 13006, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-19T18:45:54Z", "scrap_date": "2024-05-01T00:04:09.711925", "content": "The type coercion looks like this"},
{"id": 104192, "question_id": 10419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-17T20:55:40Z", "scrap_date": "2024-05-01T00:04:10.717818", "content": "Bump Anyone know the answer to this This is something dinged by Cloud Conformity httpswww cloudconformity comknowledgebaseawsAPIGatewayclientsslcertificateenabled html"},
{"id": 104193, "question_id": 10419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-28T03:21:20Z", "scrap_date": "2024-05-01T00:04:10.718818", "content": "I created a plugin to manage this and published on npm Serverless API stage plugin manages client certificate assignment and rotation when expiration is due "},
{"id": 103232, "question_id": 10323, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-23T22:47:10Z", "scrap_date": "2024-05-01T00:04:11.615737", "content": "Hi can you share serverless yml config you are using Either you should remove or lower reservedConcurrency of your functions or increase the concurrency account limit by contacting AWS support If you want to increase the limit go to httpsconsole aws amazon comsupportcasescreate"},
{"id": 103233, "question_id": 10323, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-26T09:05:13Z", "scrap_date": "2024-05-01T00:04:11.616736", "content": "Thank you i raise the limit and it did fix the issue for future visit the calculation is as follow ConcurrentExecutionLimit default 1000 lets say we have 40 function that we limit with reservedConcurrency 23 so we get 920 80 left for function without reservedConcurrency limit aws will save 100 invocation free so we had 920 100 1020 so in this case we going to get an error "},
{"id": 103234, "question_id": 10323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-23T11:58:05Z", "scrap_date": "2024-05-01T00:04:11.617737", "content": "Just thought I would share a quick experience with this issue as I had this error today during a deployment I added some new functions and reduced the reserved concurrency one one function and made that available to the new functions I believe I received this error because the new concurrency is assigned before it is removed from the existing function As an example this is my before state Maximum concurrency 1000 Function A reserved concurrency 800 New state deployed via Serverless framework Function A 400 Function B 200 Function C 200 I receive the error because it tries to assign the concurrency to Function B and C before reducing Function A It thinks the new concurrency adds up to 1200 800 200 200 so of course it throws an error The work around was lower the concurrency for Function A first to 400 deploy that and then add reserved concurrency to the new functions Hope this helps someone having the same issue "},
{"id": 137602, "question_id": 13760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-16T01:01:05Z", "scrap_date": "2024-05-01T00:04:12.501380", "content": "Looks like I could also follow the answer given by Chris here Conditional serverless yml based on stage 12 by gpa This way I can use a CloudFormation conditional to only deploy infrastructure when I run dev and not on the other stages "},
{"id": 137603, "question_id": 13760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-04T16:25:37Z", "scrap_date": "2024-05-01T00:04:12.502380", "content": "Hey have you found what you were looking for ShowBox Tutuapp Mobdro"},
{"id": 122412, "question_id": 12241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-15T17:09:53Z", "scrap_date": "2024-05-01T00:04:14.359057", "content": "U found the solution for these error"},
{"id": 122413, "question_id": 12241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-24T15:54:06Z", "scrap_date": "2024-05-01T00:04:14.360056", "content": "It is hard to say without additional information however as indicated by the message check the events in your yml That is of course assuming you have already coded your api The link you sent is only deployment after the api has been coded Regarding the yml file I would check to ensure there is a space between your hyphen and http without the space you will surely get that error "},
{"id": 114842, "question_id": 11484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-19T12:06:52Z", "scrap_date": "2024-05-01T00:04:15.415923", "content": "I found this page Setting up Cosmos DB Events with Azure Functions via the Serverless Framework But when i try Serverless plugin cosmosDB not found Make sure its installed and listed in the plugins section of your serverless config file "},
{"id": 114843, "question_id": 11484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-29T13:17:56Z", "scrap_date": "2024-05-01T00:04:15.416936", "content": "I have encountered same issue I want to create cosmos DB with serverless framework However it seems not possible I have found this source"},
{"id": 114844, "question_id": 11484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-27T06:50:08Z", "scrap_date": "2024-05-01T00:04:15.416936", "content": "Using serverless framework how to setup a Azure CosmosDB in yml file It still seems not possible Ive installed the serverlessazurefunctions and tried to create the yml configuration but still having issues Ive logged a bug here if anyone can help 1 Please check if an issue already exists This bug may have already been documented 2 Check out and follow our Guidelines httpsgithub comserverlessserverlessazurefunctionsCONTRIBUTING md 3 Fill out the whole template so we have a good overview on the issue 4 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 5 Please follow the template otherwise we will have to ask you to update it This is a Bug Report Description What went wrong when running sls offline or sls deploy this error pops up What did you expect should have happened publish to azure with a function that allows me to readwrite with cosmosDB What was the config you used pretty much straight from [the docs] httpswww serverless comframeworkdocsprovidersazureeventscosmosdb ``` functions sampleQuery handler srchandlerssample query events http true methods POST authLevel anonymous cosmosDB direction out name record name of input parameter in function signature databaseName sampleDB collectionName sampleCollection connectionStringSetting COSMOS_DB_CONNECTION name of appsetting with the connection string createIfNotExists true A boolean value to indicate whether the collection is created when it does not exist ``` What stacktrace or error message from your provider did you see Error Binding direction not supported at Function Usersmichaelblomdevelopmentnanookreportingconfigapinode_modulesserverlessazurefunctionslibsharedutils js9939 Similar or dependent issues [image] httpsuserimages githubusercontent com3649409719655583e7960017a411eb8e65bcec667ce7ef png I thought it a bit strange that the error message has 2 spaces between Binding and direction so i have play around with the indentation a bit but that did not fix anything Additional Data Your Environment Information Operating System darwin Node Version 10 16 0 Framework Version 2 8 0 Plugin Version 4 1 1 SDK Version 2 3 2 Components Version 3 2 7 _Provider Error messages_ Error Binding direction not supported at Function anonymous Usersmichaelblomdevelopmentnanookreportingconfigapinode_modulesserverlessazurefunctionslibsharedutils js9939 "},
{"id": 126902, "question_id": 12690, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-09-29T07:08:16Z", "scrap_date": "2024-05-01T00:04:16.482687", "content": "I have actually found the solution myself and will write it here in case others need it in the future Setting the value to null in some stages simply disables Serverless from adding provisioned concurrency "},
{"id": 126903, "question_id": 12690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-27T13:23:53Z", "scrap_date": "2024-05-01T00:04:16.483687", "content": "Would you mind helping out Id love to know what you have done Please take a look at my post Disabled provision concurrency for Development Stage I have not been able to get or null or 0 to work"},
{"id": 129512, "question_id": 12951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-28T09:44:22Z", "scrap_date": "2024-05-01T00:04:17.424841", "content": "when I dont include any properties under cosmosDB it says Error Required property connectionStringSetting is missing for bindingcosmosDB When I add connectionStringSetting or anything under cosmosDB it says Error Binding connectionStringSetting not supported"},
{"id": 29792, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-29T08:48:02Z", "scrap_date": "2024-05-01T00:04:18.480631", "content": "You can output the sls info with this plugin httpsgithub comsbstjnserverlessstackoutput Here is an example service using it httpsgithub comsbstjnserverlessanalyticsblobmasterserverless ymlL6 where you specify the output file httpsgithub comsbstjnserverlessanalyticsblobmasterserverless ymlL31L32 Then you can grab the live API endpoints resource info etc programmatically from that file "},
{"id": 29793, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T18:37:50Z", "scrap_date": "2024-05-01T00:04:18.481630", "content": "Thanks for the link DavidWells this plugin is a good start but unfortunately it does not output the custom domain set up by the serverlessdomainmanager plugin httpsserverless comblogserverlessapigatewaydomain"},
{"id": 29794, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T18:48:53Z", "scrap_date": "2024-05-01T00:04:18.482631", "content": "Word Do you have the customDomain set in serverless yml You might need to setup a custom function to construct the correct url values httpsgithub comsbstjnserverlessstackoutputconfiguration see the handler js I feel the pain here It should be easier "},
{"id": 29795, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T18:50:25Z", "scrap_date": "2024-05-01T00:04:18.483631", "content": "Yes I have the custom domain set up and working correctly it appears both in sls info and sls info verbose Ive just created a Github issue to track the response from the plugin author httpsgithub comsbstjnserverlessstackoutputissues6"},
{"id": 29796, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-03T20:01:09Z", "scrap_date": "2024-05-01T00:04:18.484631", "content": "I created an updated version of the plugin to fit my needs Output manifest of endpoints resources outputs etc of a serverless service GitHub DavidWellsserverlessmanifestplugin Output manifest of endpoints resources outputs etc of a serverle Outputs manifest data from all deployed stages including custom domains"},
{"id": 29797, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-09T07:43:05Z", "scrap_date": "2024-05-01T00:04:18.484631", "content": "hello can you help me on exporting the stack output to json file I am stuck from 2 days"},
{"id": 29798, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-09T07:47:14Z", "scrap_date": "2024-05-01T00:04:18.485632", "content": "hello can you tell me how did you export the stack output to the json files please help me"},
{"id": 29799, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-12T17:35:55Z", "scrap_date": "2024-05-01T00:04:18.486632", "content": "Take a look at serverlessstackoutput Install the serverlessstackoutput package with npm i D serverlessstackoutput Include the following in your serverless yml This will create a stage stackoutput json file with your stack outputs whenever you deploy Hope it helps "},
{"id": 297910, "question_id": 2979, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-29T05:17:43Z", "scrap_date": "2024-05-01T00:04:18.486632", "content": "thank you bfieber for your help "},
{"id": 129942, "question_id": 12994, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-02T12:13:47Z", "scrap_date": "2024-05-01T00:04:19.268183", "content": "And if I let it time out I get this"},
{"id": 123332, "question_id": 12333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-01T12:57:37Z", "scrap_date": "2024-05-01T00:04:20.450802", "content": "Its about not having to maintain that server thats behind it nor worry about any sort of scaling and security "},
{"id": 123333, "question_id": 12333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-02T19:36:58Z", "scrap_date": "2024-05-01T00:04:20.451802", "content": "Its about not having to maintain that server thats behind itsecurity Kodi nox nor worry about any sort of scaling and"},
{"id": 126573, "question_id": 12657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-02T19:45:31Z", "scrap_date": "2024-05-01T00:04:21.226186", "content": "For each of your deployment stages Im guessing you only have one or two you can create a custom domain name in the API gateway console 9Apps Showbox Tutuapp"},
{"id": 11472, "question_id": 1147, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T00:55:02Z", "scrap_date": "2024-05-01T00:04:22.112844", "content": "Hi brettneese this might not be much help to you right now but just want to let you know what I have done with some of my own example projects I wanted to have more control of the role used to execute Lambda functions and in my case I decided to set up the role manually using the AWS IAM ui and gave it PowerUserAccess I then manually updated my serverless yml with the profile I wanted to use and the role This thread has more information about roles per function httpsgithub comserverlessserverlesspull2073 Also there is more on custom roles in the Serverless Framework docs here httpsserverless comframeworkdocsprovidersawsguideiamcustomiamroles"},
{"id": 11473, "question_id": 1147, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-21T03:53:30Z", "scrap_date": "2024-05-01T00:04:22.114844", "content": "Because youre trying to use the ARN in the resources section which is just CloudFormation you can use the intrinsic function GetAtt Heres what you need for your RoleARN"},
{"id": 11474, "question_id": 1147, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-04T19:02:02Z", "scrap_date": "2024-05-01T00:04:22.115845", "content": "I realize this is an old thread but Google leads here and the last proposed solution does not work It still results in a CF error Error The CloudFormation template is invalid Template error instance of FnGetAtt references undefined resource IamRoleLambdaExecution"},
{"id": 11475, "question_id": 1147, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-31T07:45:37Z", "scrap_date": "2024-05-01T00:04:22.116845", "content": "IamRoleLambdaExecution How did you solve this"},
{"id": 11477, "question_id": 1147, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T21:12:51Z", "scrap_date": "2024-05-01T00:04:22.116845", "content": "Using Role GettAtt YourIamRole Arn Worked for me "},
{"id": 11478, "question_id": 1147, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-03T01:12:03Z", "scrap_date": "2024-05-01T00:04:22.117846", "content": "Role GetAtt YourIamRole Arn"},
{"id": 130132, "question_id": 13013, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-03T21:04:22Z", "scrap_date": "2024-05-01T00:04:23.209587", "content": "I made a couple related posts here which somehow got flagged as spam Cross posted to SO"},
{"id": 37922, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-18T13:23:14Z", "scrap_date": "2024-05-01T00:04:24.312818", "content": "I got a reply from AWS support I have spoken to our CloudFront team and they have mentioned that the reason you cannot delete the CloudFront Distribution is due to it being used by your API Gateway API Gateway is currently using the CloudFront Distribution behind the scenes and you will need to delete the API Gateway first The following link will provide you some relief in this Understanding data models Amazon API Gateway Deleting a distribution Amazon CloudFront I hope that helps and should you have any further questions or concerns do not hesitate to contact us again I looked into my CloudFront and couldnt see no distribution in any region Im moving on with this issue but existing stuff not showing up is definitely gonna make things harder to debug "},
{"id": 37923, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-19T17:45:59Z", "scrap_date": "2024-05-01T00:04:24.314819", "content": "I believe there is an issue when running sls remove it doesnt remove the associated resources of a certificate For instance when a certificate has been applied on a CloudFront distribution when the distribution is removed by Serverless the link between the two isnt removed Which leads to situation where we cannot remove the certificate itself Ive been struggling for days to apply a new certificate and Im still having issues because I cannot find the associated resources of the certificate And the certificate wont allow to be deleted until all associated resources have been deleted Edit Actually the issue kinda was that sls remove doesnt remove domains created by sls create_domain which is okay But I wasnt aware of what sls create_domain was creating behind the scene "},
{"id": 37924, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-02-20T13:50:28Z", "scrap_date": "2024-05-01T00:04:24.315818", "content": "I finally got a clear answer from the AWS support and this this issue seem to be rather commoncritical Ill detail how to resolve it since I spent about a week stuck on it Basically when we run sls create_domain we create a domain which can only be seen in the API Gateway But its tricky because even if you have something running the API Gateway home page doesnt necessarily show it For instance there It shows me getting started But if I click on the Get started button I do have an API running its only an example API but still So if you havent created any API just create one and use the sample Then you can access to Custom Domain Names And then you can edit a Custom Domain and assign a new certificate Then you can go back to the Certificate Manager and delete the old certificate which isnt used anymore assuming none of the Custom Domains you have is using it I did it for my 3 custom domains and Im good to go Finally N B You must create all your certificates in the default useast1 region you musnt create them in another region if you want to use them in the API Gateway I was wrong at first when thinking I should create my certificates in the Paris region "},
{"id": 37925, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-04-17T10:59:10Z", "scrap_date": "2024-05-01T00:04:24.317820", "content": "Thanks this is great I spent a good few hours trying to figure out why my certificate was marked as being used by CloudFront yet I couldnt see any distributions ps I did have to wait 1020 mins for the CloudFront distribution to release the certificate and finally show as not in use "},
{"id": 37926, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-02T09:07:50Z", "scrap_date": "2024-05-01T00:04:24.318820", "content": "I am having the same problem but here the ressources in question are load balancers I cant delete or even find them for the life of it Neither via CLI nor the GUI Any tips"},
{"id": 37927, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-24T08:16:02Z", "scrap_date": "2024-05-01T00:04:24.319820", "content": "I have the exact same problem Cant delete or find the load balancers which are shown as attached to the certificate "},
{"id": 37928, "question_id": 3792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-04T09:13:51Z", "scrap_date": "2024-05-01T00:04:24.319820", "content": "Whi is this closed Seems like its not resolved For the issue is that sls remove only disable the CloudFront distribution but doesnt delete it "},
{"id": 115482, "question_id": 11548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-14T19:11:16Z", "scrap_date": "2024-05-01T00:04:25.367611", "content": "Check this tutorial out httpswww serverless comblogmonitoranddebugallserverlesserrors Basically you must use context captureError error instead of throw error in your catch block"},
{"id": 115483, "question_id": 11548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-04T15:08:37Z", "scrap_date": "2024-05-01T00:04:25.368611", "content": "Using context captureError error with an async handler results in the warning below serverless_sdk should properly and transparently handles uncaught errors instead of shifting an unnecessary burden on users to catch everything The fact that the Buffer constructor is really old and serverless_sdk is closed source makes it really uneasy "},
{"id": 115484, "question_id": 11548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-04T15:33:21Z", "scrap_date": "2024-05-01T00:04:25.369611", "content": "Basically you must use context captureError error instead of throw error in your catch block But I still want to make my lambda fail because I have lambda SQS integration and I want the SQS message to be retried for instance so how do I do this without throwing the error "},
{"id": 87262, "question_id": 8726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-05T19:32:46Z", "scrap_date": "2024-05-01T00:04:26.406718", "content": "I noticed that the Azure Functions project had a bug regarding the service bus connection settings This occurs when using servicebus triggers and has nothing to do with the serverless framework Were you able to get this working since I am trying to modify local settings json to get around the issue as suggested on Azure forums but its still not quite working for me The error I get in the Azure console after deployment is Error The function runtime is unable to start Microsoft Azure WebJobs ServiceBus Microsoft Azure WebJobs SDK ServiceBus connection string Endpointsbblahblahblahsbn servicebus windows netSharedAccessKeyNameRootManageSharedAccessKey[Hidden Credential] is missing or empty Session Id e74c5c88d77b489397cb10b25155f483 Timestamp 20200305T192615 664Z"},
{"id": 87263, "question_id": 8726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-30T03:23:06Z", "scrap_date": "2024-05-01T00:04:26.408719", "content": "add a host json file with this content at your project level version 2 0 extensionBundle id Microsoft Azure Functions ExtensionBundle version [1 2 0 0 "},
{"id": 87264, "question_id": 8726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-05T11:54:58Z", "scrap_date": "2024-05-01T00:04:26.409719", "content": "Fyi it appears that the extensionBundle should be wrapped in an extensions property like this"},
{"id": 58292, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-02T22:57:20Z", "scrap_date": "2024-05-01T00:04:27.445087", "content": "Any idea how I could go about debugging this Is there log files that indicate deploying the lambda into a VPC failed Thanks "},
{"id": 58293, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T14:02:49Z", "scrap_date": "2024-05-01T00:04:27.446087", "content": "Hey there Chad Did you find a solution to this Im having the same problem "},
{"id": 58294, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T20:00:57Z", "scrap_date": "2024-05-01T00:04:27.446087", "content": "Yes my issue ended up being a misspelling of subnetIds as listed above subnetdIds vs subnetIds "},
{"id": 58295, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-03T10:40:24Z", "scrap_date": "2024-05-01T00:04:27.447087", "content": "Oh i see I have a different problem them thanks for the help "},
{"id": 58296, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-11T21:55:55Z", "scrap_date": "2024-05-01T00:04:27.447087", "content": "I dont have any typos and my vpc entry in serverless yml is silently ignored Any suggestions Heres the snippet from serverless yml"},
{"id": 58297, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2019-06-04T11:31:38Z", "scrap_date": "2024-05-01T00:04:27.448088", "content": "A bit late but for the benefit of anyone else reading this if youve previously deployed without VPC settings and add VPC settings later you seem to need to use serverless deploy force "},
{"id": 58299, "question_id": 5829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-06T10:22:52Z", "scrap_date": "2024-05-01T00:04:27.449088", "content": "Everyone reading this as paolo said this is the solution serverless deploy force"},
{"id": 130482, "question_id": 13048, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-06T23:07:58Z", "scrap_date": "2024-05-01T00:04:28.270695", "content": "It was environment issue restarting the terminal fixed it "},
{"id": 98972, "question_id": 9897, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-16T21:22:00Z", "scrap_date": "2024-05-01T00:04:29.137568", "content": "Hi Hugh Have you been able to resolve this issue I am also getting the same error My yaml is something like this I get the same error if I provide the restApiRootResourceId as well Thanks Sushrut"},
{"id": 98973, "question_id": 9897, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-07-21T05:03:41Z", "scrap_date": "2024-05-01T00:04:29.138568", "content": "Have you guys try instead of The slash makes the difference "},
{"id": 98974, "question_id": 9897, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-07T01:01:02Z", "scrap_date": "2024-05-01T00:04:29.139568", "content": "I am having problems getting the resource id for a path I see examples like the above restApiResources usersposts xxxxxxx I assume you are filling in the xxxxx with the actual resource id or am I missing something around the xs"},
{"id": 127932, "question_id": 12793, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-08T16:26:32Z", "scrap_date": "2024-05-01T00:04:30.892825", "content": "Well I found a workaround I replace Sub with Join This is what I had And this is the replacement However I would like to know if there is a better way "},
{"id": 124472, "question_id": 12447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-11T01:11:17Z", "scrap_date": "2024-05-01T00:04:31.903500", "content": "My manager has been bitten by the create as many accounts as possible bug and wants a design with a single ingress into the accounts via an API Gateway with the ECS services in a different account The idea being that if an F5 or Barracuda is inserted into the mix we would just have the one for all accounts The current set up has the ECS being used with Application Load Balancers since they are able to perform the healthchecks on the application Now this leads to a number of moving parts and Im trying to understand if this is even feasable as it seems like a lot of hard work and every items ends up having a limitation preventing this Kodi nox"},
{"id": 124682, "question_id": 12468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-11T01:12:04Z", "scrap_date": "2024-05-01T00:04:32.894497", "content": "I have two stages defined in APIGateway PROD and TEST and I have a lambda function defined with two aliases also named PROD and TEST Is it possible in APIGateway to have the PROD stage reference the PROD lambda alias and the TEST stage reference the TEST alias of the Lambda function 9Apps Showbox Tutuapp"},
{"id": 41232, "question_id": 4123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-27T11:30:16Z", "scrap_date": "2024-05-01T00:04:33.873791", "content": "Where you able to resolve this error I am recieving the same one "},
{"id": 41233, "question_id": 4123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-03T12:07:28Z", "scrap_date": "2024-05-01T00:04:33.874791", "content": "No I was not able to I am handling the deployments from local yet to find a solution "},
{"id": 41234, "question_id": 4123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-28T16:11:03Z", "scrap_date": "2024-05-01T00:04:33.875792", "content": "Still no solution for this issue Im stuck with my pipeline dont know whats happening"},
{"id": 41235, "question_id": 4123, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-12-03T06:56:08Z", "scrap_date": "2024-05-01T00:04:33.875792", "content": "Had this problem to with pipeline in gitlab Turned out that when copy pasting the credentials from aws to the gitlab variables some spaces were copied to causing a malformed URL "},
{"id": 41236, "question_id": 4123, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-12T13:56:33Z", "scrap_date": "2024-05-01T00:04:33.876792", "content": "Same here there was space on key you saved my day"},
{"id": 103022, "question_id": 10302, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-12T14:47:59Z", "scrap_date": "2024-05-01T00:04:34.651671", "content": "Hey there does anyone have a solution for this Using S3 events in my function implicitly creates a Lambda permission without the SourceAccount condition Config and therefor SecurityHub are reporting the lambda function as noncompliant This actually makes sense since the resulting condition only references the SourceArn of an S3 bucket which could possible end up outside the account when deleted and recreated The additional condition of SourceAccount would remediate the security finding But how to create the condition when the lambda permission is created implicitly by the S3 events trigger"},
{"id": 128402, "question_id": 12840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-13T05:10:10Z", "scrap_date": "2024-05-01T00:04:35.642473", "content": "I forget to mention those Java Lambda are managed outside of my service I dont have to worry about their deployment "},
{"id": 128732, "question_id": 12873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-15T21:47:59Z", "scrap_date": "2024-05-01T00:04:36.524746", "content": "Got it working with the serverlesspseudoparameters plugin Thats not supposed to be required anymore but using it made it work properly "},
{"id": 97472, "question_id": 9747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-15T22:02:44Z", "scrap_date": "2024-05-01T00:04:37.364729", "content": "Hey man Do you solved"},
{"id": 128662, "question_id": 12866, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-19T13:59:53Z", "scrap_date": "2024-05-01T00:04:38.341880", "content": "Did you end up figuring this out I am exactly at this step and would like to use the gitssh connector Currently I am using a personal access token and that works but isnt ideal "},
{"id": 129132, "question_id": 12913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T13:36:35Z", "scrap_date": "2024-05-01T00:04:39.441565", "content": "I want to pass custom data for each http event in serverless yml Is that somehow possible Unfortunately I couldnt find anything so far have you found an answer please update if you do or someone else please answer this i am having the exact same question for my project any help is deeply appreciated "},
{"id": 129133, "question_id": 12913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T14:22:15Z", "scrap_date": "2024-05-01T00:04:39.443565", "content": "Unfortunately not and as far as it looks like there is no possibility except writing an own Event handler copy of API Gateway handler with custom parameters and validator I wanted to pass an option to set a dynamic function that should be executed Doing it now by checking event resource and event httpMethod in an index handler with many if else statements Not the perfect way for sure but a workaround that works for me "},
{"id": 129134, "question_id": 12913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T19:55:57Z", "scrap_date": "2024-05-01T00:04:39.444565", "content": "Are you trying to pass something from the caller or just something statically defined in your serverless yml If its just a static value you could pass it in as an environment variable instead of a request parameter editing your example test The if using Node js reference it in your Lambda with"},
{"id": 129135, "question_id": 12913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T20:32:38Z", "scrap_date": "2024-05-01T00:04:39.444565", "content": "Thank but I know that I can pass environment variables per handler but I want to pass it to the http event and not the entire function "},
{"id": 71942, "question_id": 7194, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-23T05:17:08Z", "scrap_date": "2024-05-01T00:04:40.037418", "content": "Im having the same problem Have you figured this out"},
{"id": 71943, "question_id": 7194, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-21T21:50:44Z", "scrap_date": "2024-05-01T00:04:40.038419", "content": "Same problem here Any help would be appreciated "},
{"id": 128142, "question_id": 12814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-22T20:12:24Z", "scrap_date": "2024-05-01T00:04:40.811817", "content": "Think you are seeing the same kind of stuff i have posted about here How do you add a request validator to api gateway since i want to drop the plugins and go native if possible"},
{"id": 130362, "question_id": 13036, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-11-06T16:30:46Z", "scrap_date": "2024-05-01T00:04:41.481389", "content": "Of course In the Serverless Docs see Reference Variables in Javascript Files Just add a script such as gettime js Reference that in the custom section of your serverless yml then reference that as an environment var under your function definition Or if you want it available to all your functions define it under provider Heres a simple working serverless yml Then you can access that envVar in your lambda function hello js like so"},
{"id": 130363, "question_id": 13036, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-09T02:16:14Z", "scrap_date": "2024-05-01T00:04:41.483390", "content": "Resolved Thank you "},
{"id": 136692, "question_id": 13669, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-05T21:30:04Z", "scrap_date": "2024-05-01T00:04:42.550590", "content": "Consider this course First in the Lambda dump the incoming event using a simple console log statement Then after a test api call use Cloudwatch logs to inspect the log file which will contain the full event object Im not sure what format of APIGWLAMBDA integration you are using but chances are the Request Context or similar prop might tell you what you need to know "},
{"id": 139072, "question_id": 13907, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-06T09:36:33Z", "scrap_date": "2024-05-01T00:04:43.404381", "content": "I solved this issue it seem packaging and then deploy is not working correctly with alias plugin i just used sls deploy and it works "},
{"id": 113032, "question_id": 11303, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-02T01:12:08Z", "scrap_date": "2024-05-01T00:04:44.292525", "content": "Including versions in case that is helpful information serverlessoffline ^5 12 1 using an older version because of this ongoing issue serverlesswebpack ^5 3 1 serverless Framework Core 1 67 2 Plugin 3 6 6 SDK 2 3 0 Components 2 29 0"},
{"id": 113033, "question_id": 11303, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-02T01:14:21Z", "scrap_date": "2024-05-01T00:04:44.293525", "content": "Me and my team are dealing with the same issue Would love to see it resolved "},
{"id": 113034, "question_id": 11303, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-04T20:59:56Z", "scrap_date": "2024-05-01T00:04:44.294526", "content": "Timeline for a fix This is a significant blocker for us"},
{"id": 113035, "question_id": 11303, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-04T21:51:56Z", "scrap_date": "2024-05-01T00:04:44.294526", "content": "Glad someone reported this Getting the same issue and its a major hold up for me "},
{"id": 113036, "question_id": 11303, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-04T22:06:29Z", "scrap_date": "2024-05-01T00:04:44.295526", "content": "literally just ran into this too im on the latest of everything tho"},
{"id": 113037, "question_id": 11303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-21T20:35:46Z", "scrap_date": "2024-05-01T00:04:44.295526", "content": "Was this issue ever resolved I am running into this very problem right now with the latest versions of Serverless framework and webpack There is no error message after webpack but the deployment does not seem to happen What happened to the original question Any update afterwards Thanks "},
{"id": 126442, "question_id": 12644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-25T13:58:22Z", "scrap_date": "2024-05-01T00:04:45.970491", "content": "Hello It works if you refresh it manually via AWS web console because in addition to creating the rule AWS also creates needed privileges for putting messages into SQS by EventBridge rule For Lambda functions you have to let the EventBridge Rule invoke the function itself It can be done this way And for sure if you are using SQS you need to do the same for SQS Im not really sure how you can achieve that but my bet is that AWSSQSQueuePolicy is way to go I was basing it on examples from AWS documentation Let us know what is the correct configuration for SQS it might be useful in the future because with SQS we can do the batch processing with EventBridge SQS Lambda architecture "},
{"id": 126443, "question_id": 12644, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-25T19:40:23Z", "scrap_date": "2024-05-01T00:04:45.972492", "content": "okay thank you very much for helping me You have brought me quite a bit further I had to change a little bit on your SQS Policy but the direction was fully right Because sharing is caring I want to provide the solution for everyone The final working example"},
{"id": 118382, "question_id": 11838, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-29T17:13:50Z", "scrap_date": "2024-05-01T00:04:46.936396", "content": "Not sure if this is exactly what youre looking for but I noticed that sometimes I was getting CORS error responses when something else inside my lambda execution was failing check your cloudwatch logs Specifically my lambda function didnt have permission to write to my DynamoDB table for some reason API gateway returns the issue as a CORS problem If this is unrelated trying using middy httpsgithub commiddyjsmiddy eg"},
{"id": 118383, "question_id": 11838, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-27T22:07:57Z", "scrap_date": "2024-05-01T00:04:46.937396", "content": "i agree with Craig im finding this to be the case for errors that happen within the function or if i try the wrong HTTP method i e PUT when it should be a POST idk if this is a SLS bug or it just means Im constructing my responses incorrectly on errors"},
{"id": 118384, "question_id": 11838, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T03:21:02Z", "scrap_date": "2024-05-01T00:04:46.938396", "content": "Cors should work by default You likely do not need all those headers for both request and response I suggest you try one of those http api example for aws and nodejs first "},
{"id": 108642, "question_id": 10864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-28T23:15:14Z", "scrap_date": "2024-05-01T00:04:47.649471", "content": "same problem here it seems that serverless is just ignoring that"},
{"id": 108643, "question_id": 10864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T03:47:42Z", "scrap_date": "2024-05-01T00:04:47.650471", "content": "You dont really need to touch anything in AWS side I got some sample codes in nodejs for extracting and working with jwt but I cannot post the gitlab links here if event headers Authorization event headers Authorization toUpperCase startsWith BEARER token event headers Authorization substr 6 trim You will run it like curl https link stage testtest H Authorization Bearer jwt"},
{"id": 108644, "question_id": 10864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T04:42:07Z", "scrap_date": "2024-05-01T00:04:47.651471", "content": "You dont really need to touch anything in AWS side I got some sample codes in nodejs for extracting and working with jwt but I cannot post the gitlab links here if event headers Authorization event headers Authorization toUpperCase startsWith BEARER token event headers Authorization substr 6 trim You will run it like curl https link stage testtest H Authorization Bearer jwt"},
{"id": 125952, "question_id": 12595, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T03:54:36Z", "scrap_date": "2024-05-01T00:04:48.516337", "content": "Just create your own makefile like httpsgitlab comjonee316acloudappbackendserverlessblobmasterlanguagesgodatabasesmongodbprovidersawsfunctionsaccountMakefile"},
{"id": 125953, "question_id": 12595, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T04:43:33Z", "scrap_date": "2024-05-01T00:04:48.517337", "content": "You can just create your makefile I got a sample but I am not allowed to post its link here PHONY build clean deploy build export GO111MODULEon env GOOSlinux GOARCHamd64 go build ldflagss w o binemail_validation email_validationmain go env GOOSlinux GOARCHamd64 go build ldflagss w o binforgot_password forgot_passwordmain go env GOOSlinux GOARCHamd64 go build ldflagss w o binis_logged_in is_logged_inmain go env GOOSlinux GOARCHamd64 go build ldflagss w o binlogin loginmain go env GOOSlinux GOARCHamd64 go build ldflagss w o binlogout logoutmain go env GOOSlinux GOARCHamd64 go build ldflagss w o binregister registermain go env GOOSlinux GOARCHamd64 go build ldflagss w o binresend_email_validation resend_email_validationmain go clean rm rf bin vendor Gopkg lock deploy clean build sls deploy verbose"},
{"id": 124882, "question_id": 12488, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T03:59:51Z", "scrap_date": "2024-05-01T00:04:49.365273", "content": "You should be able to do it in code The lambda response headers can be configured In golang code AWSresponse Headers map[string]string ContentType textcsv `"},
{"id": 124883, "question_id": 12488, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T07:45:14Z", "scrap_date": "2024-05-01T00:04:49.366273", "content": "Yes but I am using lambda integration is this still possible I was under the impression this would work if I was using proxy integration which I am not Thanks for the reply "},
{"id": 96302, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-16T14:53:34Z", "scrap_date": "2024-05-01T00:04:50.419261", "content": "Instead of attempting to construct the Arn you can use FnGetAtt or GetAtt to retrieve the Arn or Hope it helps "},
{"id": 96303, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-16T16:32:33Z", "scrap_date": "2024-05-01T00:04:50.420261", "content": "FnGetAtt [CognitoUserPool Arn] hi bfieber thanks for the suggestion When I try using FnGetAtt I get And when I try using GetAtt I get the error Am I missing something"},
{"id": 96304, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-16T16:39:38Z", "scrap_date": "2024-05-01T00:04:50.421261", "content": "Please help me to understand correctly but am I correct in that when you include files under resources that they are not runrendered until it gets uploaded to cloudformation If that is the case how can the serverless yml hope to construct the arn line before the User Pool resource is even created In another attempt I tried having the Arn saved to a SSM and then read in the SSM but when the function event runs the SSM hasnt been populated and it errors out This code syntactically works and if I manually populate the SSM entry it works but when I serverless remove and deploy the SSM doesnt get generated until after its being referenced to Is there some sort of depends on or requires in serverless Thanks again "},
{"id": 96305, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2019-10-16T20:40:11Z", "scrap_date": "2024-05-01T00:04:50.422262", "content": "SOLVED I was able to reference an explicitly declared authorizer In my cognitouserpool yml file I added the MyApiGatewayAuthorizer section ending up with and in my function event definition I specified the authorizer as such This worked for me I hope it can help someone else "},
{"id": 96306, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-08T12:42:51Z", "scrap_date": "2024-05-01T00:04:50.423262", "content": "You are god given thank you a lot After a day struggling around with cryptic http parse error or providerArns cannot be empty errors this is finally working "},
{"id": 96307, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-10T20:17:48Z", "scrap_date": "2024-05-01T00:04:50.424262", "content": "I know this is marked as solved but the same config doesnt seem to apply for typescript configurations Any suggestions on how to solve for ts configurations"},
{"id": 96308, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-15T09:46:23Z", "scrap_date": "2024-05-01T00:04:50.425262", "content": "I am also facing the same problem"},
{"id": 96309, "question_id": 9630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-01T00:09:18Z", "scrap_date": "2024-05-01T00:04:50.425262", "content": "This worked beautifully "},
{"id": 126832, "question_id": 12683, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-01T13:50:40Z", "scrap_date": "2024-05-01T00:04:51.472490", "content": "Serverless Framwork creates an output called HttpApiUrl when deploying I looked in the template update stack that is generated and lifted this CloudFormation code from there Im using the JSON format here so you may have to adjust if youre using yaml I hope this helps "},
{"id": 126833, "question_id": 12683, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-01T14:00:23Z", "scrap_date": "2024-05-01T00:04:51.473490", "content": "It does thank you Exactly what I was looking for I havent worked with Serverless for long and even less with CloudFormation so this just saved me a ton of digging Thanks "},
{"id": 29852, "question_id": 2985, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-10-29T22:46:17Z", "scrap_date": "2024-05-01T00:04:52.597028", "content": "Hey anderslundsgard youre correct that each serverless yml will create a new RestAPI resource in API Gateway You can then map multiple RestAPIs to the same custom domain using a BasePathMapping If you do this each Rest API must have a base path mapping Thus if you had two services usersservice and productsservice you could map them to your custom domain using users as your base path for the first and products as the base path for the second Weve got a couple resources on setting this up a blog post on using a custom domain name with your Serverless service and a blog post on putting multiple Serverless services under the same custom domain which I believe is what youre looking for Both posts use the excellent serverlessdomainmanager plugin from the fine people at Amplify Education "},
{"id": 29853, "question_id": 2985, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-30T18:41:49Z", "scrap_date": "2024-05-01T00:04:52.598029", "content": "Great Looks exactly what I was hoped for Thanks "},
{"id": 29854, "question_id": 2985, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-02T21:21:27Z", "scrap_date": "2024-05-01T00:04:52.599029", "content": "For future readers serverless allows this natively If the API gateway already exists add a configuration block in the provider section of serverless yaml like this Other configuration options are available see httpswww serverless comframeworkdocsprovidersawsguideserverless yml"},
{"id": 127332, "question_id": 12733, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-04T23:47:58Z", "scrap_date": "2024-05-01T00:04:53.448475", "content": "kubectl logs hello79b55c49b9xxzx5 Traceback most recent call last File kubeless py line 10 in kubelesss py os getenv MOD_NAME IOError [Errno 2] No such file or directory"},
{"id": 93412, "question_id": 9341, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-05T08:55:12Z", "scrap_date": "2024-05-01T00:04:54.471261", "content": "i am also having an issue with combining the multiple serverless yml files Can you tell me the way that worked for you"},
{"id": 125702, "question_id": 12570, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-10-05T17:41:16Z", "scrap_date": "2024-05-01T00:04:55.553411", "content": "Hey all I figured this out and created a blog post demonstrating how I did it Feel free to check it out and drop commentsquestions Cheers Josh"},
{"id": 116312, "question_id": 11631, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-06T14:37:49Z", "scrap_date": "2024-05-01T00:04:56.644421", "content": "Did you ever solve this Im running into the same issue "},
{"id": 116313, "question_id": 11631, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-06T15:05:00Z", "scrap_date": "2024-05-01T00:04:56.645422", "content": "I got it working again I had to update my node from version 13 5 to 14 13 "},
{"id": 126982, "question_id": 12698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T03:41:50Z", "scrap_date": "2024-05-01T00:04:57.535376", "content": "Have you tried the 2 ruby examples for aws"},
{"id": 126983, "question_id": 12698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T12:55:59Z", "scrap_date": "2024-05-01T00:04:57.535376", "content": "Those two examples dont connect to a database My issue is the pg gem or any gem that requires native extensions My lambda works fine if I dont include the pg gem and comment out the code that connects to the database "},
{"id": 126984, "question_id": 12698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-07T04:09:47Z", "scrap_date": "2024-05-01T00:04:57.536376", "content": "Have you done it without the serverless framework If you can do it straight there is no reason serverless will not work If your ruby stuffs does not work out of the box in straight lambda you likely need to bring your own ruby distro "},
{"id": 114912, "question_id": 11491, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-07T11:03:21Z", "scrap_date": "2024-05-01T00:04:58.643643", "content": "error command x86_64linuxgnugcc failed with exit status 1 Most of the time these are dependencyissues You need to install a package called pythondev This package includes header files a static library and development tools for building Python modules extending the Python interpreter or embedding Python in applications When encountering this error please note before the error it may say you are missing a package or header file you should find those and install them and verify if it works For Python 2 x use sudo aptget install pythondev If you using python 3 try to replace pythondev with python3dev For a specific version of Python 3 replace x with the minor version in sudo aptget install python3 xdev"},
{"id": 127302, "question_id": 12730, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-10-07T20:28:30Z", "scrap_date": "2024-05-01T00:04:59.759143", "content": "anyone can help me Its very frustrating and confuse"},
{"id": 120122, "question_id": 12012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-17T20:09:45Z", "scrap_date": "2024-05-01T00:05:00.689166", "content": "I get something similar with a Java maven app "},
{"id": 120123, "question_id": 12012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-08T09:28:18Z", "scrap_date": "2024-05-01T00:05:00.690166", "content": "Has anybody found the solution I was just about to try serverless with the gradle template and Im getting the same errors as above"},
{"id": 125232, "question_id": 12523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-11T20:58:28Z", "scrap_date": "2024-05-01T00:05:02.599135", "content": "Just curious can we reuse an EventBridge Event Found here httpswww serverless comframeworkdocsprovidersawseventseventbridge"},
{"id": 118712, "question_id": 11871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-13T18:00:20Z", "scrap_date": "2024-05-01T00:05:03.651118", "content": "Hi Craig did you manage to resolve this we are also facing same issue "},
{"id": 100262, "question_id": 10026, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-07T21:45:32Z", "scrap_date": "2024-05-01T00:05:04.644336", "content": "Did you figure this out I ran into the same issue "},
{"id": 98742, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-25T05:47:39Z", "scrap_date": "2024-05-01T00:05:05.793824", "content": "Yes you can assuming you are on mac or linux you can set the AWS_PROFILE environment variable AWS_PROFILEprofilename sls deploy"},
{"id": 98743, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-25T15:31:47Z", "scrap_date": "2024-05-01T00:05:05.794824", "content": "Thanks apsoto_wurl but unfortunately thats not quite what I was asking Both the AWS CLI and SLS CLI for functions allow the profile to be set using a profile flag Since we switch between so many client accounts throughout the day we have built a bash framework around a lot of the common task and that framework expects and passes the profile flag For some reason Serverless component management does not accept that flag "},
{"id": 98744, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-25T18:24:32Z", "scrap_date": "2024-05-01T00:05:05.795824", "content": "tforster ok I recall trying profile and it not working so my example above is what I figured out as my work around Good luck and please post back if you find a way for it to work "},
{"id": 98745, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-18T18:08:41Z", "scrap_date": "2024-05-01T00:05:05.796824", "content": "This bug just bit me again I have been deploying with sls awsprofile profilename and banging my head against the wall wondering why SLS says its successful and I cannot find anything in my clients account Then when I go to my personal account I see all my client work there Serverless is still ignoring awsprofile for serverless components "},
{"id": 98746, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-13T16:59:05Z", "scrap_date": "2024-05-01T00:05:05.797819", "content": "This worked for me AWS_PROFILEpersonal sls deploy s dev"},
{"id": 98747, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-13T18:24:50Z", "scrap_date": "2024-05-01T00:05:05.797819", "content": "trevorallred That works but the issue is that when the serverless framework first launched before they introduced components they supported awsprofile profilename But for some reason did not carry it over to components Its still part of the sls command for any noncomponent CLI functions I use it all the time and I have extensive scripts set up to use it across clients I just wish I could use it when working with Serverless Framework components "},
{"id": 98748, "question_id": 9874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-14T12:27:22Z", "scrap_date": "2024-05-01T00:05:05.798819", "content": "I was facing the same issue AWS_PROFILEpersonal sls deploy s dev it worked for me AWS Classes in Pune"},
{"id": 125412, "question_id": 12541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-14T22:11:04Z", "scrap_date": "2024-05-01T00:05:06.828988", "content": "Here it is AWSTemplateFormatVersion20100909 Resources MyTopicRule TypeAWSIoTTopicRule Properties RuleName RefNameParameter TopicRulePayload RuleDisabledtrue SqlSELECT temp FROM SomeTopic WHERE temp 60 Actions[ S3 BucketName RefMyBucket RoleArn FnGetAtt[ MyRole Arn ] KeyMyKey txt ] MyBucket TypeAWSS3Bucket Properties "},
{"id": 124442, "question_id": 12444, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-15T04:29:31Z", "scrap_date": "2024-05-01T00:05:07.790507", "content": "I wish somebody answered at least one of these similar questions ugh lol Did you ever arrive at a solution and if so do you mind sharing it Thanks "},
{"id": 2072, "question_id": 207, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-08-29T23:55:40Z", "scrap_date": "2024-05-01T00:05:08.488054", "content": "Nevermind I found the answer For anyone else interested this is how Ive done it again the indentation is wrong provider name aws runtime nodejs4 3 vpc securityGroupIds Ref LambdaSecurityGroup The LambdaSecurityGroup reference name comes from my custom resource name"},
{"id": 2073, "question_id": 207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-15T15:20:51Z", "scrap_date": "2024-05-01T00:05:08.489054", "content": "are you able to share the cloudformation template you used to create your security group in serverless"},
{"id": 125642, "question_id": 12564, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-16T14:23:46Z", "scrap_date": "2024-05-01T00:05:09.563424", "content": "Ok I solved it The services in the dockercompose of Localstack MUST include cloudformation completely missed that Adding cloudformation at the end of the SERVICES variable the creation of the stack was successful "},
{"id": 125392, "question_id": 12539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-14T14:14:04Z", "scrap_date": "2024-05-01T00:05:10.700216", "content": "Hello You can solve this with GraphQL apollo server Instead of API Gateway you can use Appsync and it has out of support for GraphQL Regards Syam"},
{"id": 125393, "question_id": 12539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-16T05:32:42Z", "scrap_date": "2024-05-01T00:05:10.700216", "content": "Are you not able to use v1 as a path to represent the various versions Ideally you want to have stage variable in API Gw to hold the version Dont know how this is implemented with terraform Will be interested to know Ed Lima Cloud Support Engineer Theres a new feature on Amazon API Gateway called stage variables Stage variables act like environment variables and can be used to change the behavior of your API Gateway methods for each deployment stage for "},
{"id": 125394, "question_id": 12539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-16T08:04:23Z", "scrap_date": "2024-05-01T00:05:10.702217", "content": "Hi Dicondur Are you not able to use v1 as a path to represent the various versions I think if it were a single serverless project then I would be ok but as I have multiple micro repos and each holds a serverless project in its own right when I then try to use the v1 identifier in the URL cloud formation complains that is already owned by another stack so the first project deployed into API gateway will be fine whatever one it happens to be subsequent deployments will then fail I will look at what you have referenced and see if there is a way to do this "},
{"id": 125395, "question_id": 12539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-16T08:09:38Z", "scrap_date": "2024-05-01T00:05:10.703217", "content": "I dont think stage variables will help here because this is an issue with actually creating a new endpoint in a different serverless project when an endpoint with the version has already been created I had read that some people create a serverless project per function so how can this work If I have a single serverless project per function and I have a rest resource lets call it person and in my first project I attach person id cars from what I can see it wont be possible in the second serverless project to attach person id addresses due to the cloudformation deployment failing when the second deployment tries to use the person identifier "},
{"id": 125396, "question_id": 12539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-17T16:04:21Z", "scrap_date": "2024-05-01T00:05:10.704218", "content": "Haa I see have you looked at nested Stacks httpsdocs aws amazon comAWSCloudFormationlatestUserGuideusingcfnnestedstacks html"},
{"id": 79982, "question_id": 7998, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-16T06:03:05Z", "scrap_date": "2024-05-01T00:05:11.517722", "content": "the serverless framework composes the name which comes from your stage service"},
{"id": 79983, "question_id": 7998, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-16T12:22:30Z", "scrap_date": "2024-05-01T00:05:11.518722", "content": "So the name will always be [stage][service] for the api Is there a way to deploy the code to the specified stage for the named service I basically end up with 4 APIs each with one stage rather than one api with 4 stages Is it not possible to deploy the API to the same service but to a different stage in the same service It seems like a bug to specify a stage for a deployment but end up with a new API with prefixed by the name of the deployment and with only one stage That is staging in this case seems to just be creating a new API It seems like there should be a way to overrride this and deploy to a stage in the API name I created Right now I end up with prodMYAPI stage prod stagingMYAPI stage staging testMYAPI stage test devMYAPI stage dev What I expected and wanted was MYAPI stage prod stage staging stage test stage dev"},
{"id": 79984, "question_id": 7998, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-27T13:00:35Z", "scrap_date": "2024-05-01T00:05:11.519723", "content": "Hi there I am having the same problem Have you found any good solution for this Would appreciate any ideas Cheers"},
{"id": 79985, "question_id": 7998, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-18T00:04:56Z", "scrap_date": "2024-05-01T00:05:11.520723", "content": "I was also a bit surprised by this I assumed that each stage will be in one api gateway instead each stage gets its own api gateway Is there a way to change that"},
{"id": 112442, "question_id": 11244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-18T03:12:50Z", "scrap_date": "2024-05-01T00:05:12.228013", "content": "I used the serverlesspseudoparameters plugin Then I added a CloudFront resource with the following origin Origins DomainName FnJoin Ref ApiGatewayRestApi executeapi Ref AWSRegion amazonaws com OriginPath selfprovider stage I hope that helps"},
{"id": 82172, "question_id": 8217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-07T09:54:55Z", "scrap_date": "2024-05-01T00:05:13.344682", "content": "Did any one find solution to this problem i did serverless deploy i get same error i have user credentials using which i can create bucket using AWS CLI "},
{"id": 82173, "question_id": 8217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-19T03:44:31Z", "scrap_date": "2024-05-01T00:05:13.345682", "content": "I also encountered this problem with an appropriately permissioned user when attempting to create to following bucket I could however create the bucket if I didnt specify AccessControl PublicRead Having done that I tried to add the access control and the bucket update failed with API s3PutBucketAcl Access Denied so the initial error message wasnt the whole story I found that public access to buckets was being blocked at an account level httpsdocs aws amazon comAmazonS3latestdevcreatingaccesspoints htmlaccesspointsbpasettings After changing those settings I was able to create the bucket "},
{"id": 67802, "question_id": 6780, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-22T16:59:07Z", "scrap_date": "2024-05-01T00:05:14.155670", "content": "Did you ever solve this I am hitting the same issue"},
{"id": 126352, "question_id": 12635, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-23T14:57:36Z", "scrap_date": "2024-05-01T00:05:14.855981", "content": "Take a look at the tutorial at Serverlessstack If you can put all your services into a monorepo it walks you through setting up the deployment accounting for crossservice dependencies using Seed run Im in the process of migrating all or legacy service repos into a monorepo for this specific reason "},
{"id": 126353, "question_id": 12635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T06:59:02Z", "scrap_date": "2024-05-01T00:05:14.856981", "content": "Thanks for response Ill try to use Seed it seems very powerful "},
{"id": 113952, "question_id": 11395, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-11T12:23:35Z", "scrap_date": "2024-05-01T00:05:15.858962", "content": "Here is the answer Serverless Domain Manager Error usermanagement creatoriq com BadRequestException Only REGIONAL domain names can be managed through the API Gateway V2 API For EDGE domain names please use the API Gateway V1 API Also note that only REST APIs can be attached to EDGE domain names Serverless Domain Manager Error your custom domain Error Error your custom domain Unable to update basepath mapping "},
{"id": 62342, "question_id": 6234, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T15:04:26Z", "scrap_date": "2024-05-01T00:05:16.806409", "content": "I was facing the same issue noticed this was happening because i was trying to deploy locally using sls deploy from my machine rather than code build or other and since I was passing profile in the command but not in the serverless yml provider therefore it was causing this issue Kindly try addingsetting profile in your serverless yml under provider section and see if it works "},
{"id": 68352, "question_id": 6835, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-25T14:06:11Z", "scrap_date": "2024-05-01T00:05:18.976126", "content": "Like you I would like to be able to add my PermissionBoundary property directly in my iamRoleStatements but as a temporary workaround I have simply extended my IAM Role in the Resources section MyFunctionIamRoleLambdaExecution is automatically created by Serverless Framework for my function MyFunction "},
{"id": 68353, "question_id": 6835, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-29T13:44:07Z", "scrap_date": "2024-05-01T00:05:18.978126", "content": "I would also like this feature I think adding another element to the iamRoleStatements would be easiest Writing a plugin to do this is also possible rather than adding an extension for every function in the Resources section Thanks for the example "},
{"id": 68354, "question_id": 6835, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T20:36:18Z", "scrap_date": "2024-05-01T00:05:18.978126", "content": "The complete example would be this"},
{"id": 116632, "question_id": 11663, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-08T08:49:47Z", "scrap_date": "2024-05-01T00:05:19.842106", "content": "Best way so far found is the upgrade to the latest version of SLS 1 72 tested Use extensions something like the below Extensions are used to override the stack CF resources Just get the name of the resource right and you are all good "},
{"id": 116633, "question_id": 11663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T20:44:49Z", "scrap_date": "2024-05-01T00:05:19.844105", "content": "The complete example would be"},
{"id": 123732, "question_id": 12373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T19:49:31Z", "scrap_date": "2024-05-01T00:05:20.572920", "content": "You may want to use something like AWS Cognito which can grant authenticated or unauthenticated users access to upload to S3 without needing to store or send any sensitive credentials Im not sure how else one would upload directly from client to S3 "},
{"id": 123733, "question_id": 12373, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T20:45:57Z", "scrap_date": "2024-05-01T00:05:20.573920", "content": "It turns out that what I thought had been a bug I had been chasing for several weeks was in actual fact misunderstood behaviour in the way a new tool works I had iamRoleStatements in serverless set to grant the lambda execution role the necessary rights to sign the URL for PutObject and PutObjectACL But it never worked except locallyoffline The only workaround was to add the code snippet which resulted in a working URL albeit signed with different credentials To cut a long story short I switched from PostMan to a VSCode extension called REST Client It works very well as long as you dont click the URL that is displayed in the response Doing so brings up the VSCode dialog box to either navigate to or copy the URL Copying the URL also includes automatic escaping Since the URL is so long and scrolls out of my viewport I never clued into the fact it was already escaped Every time I pasted the URL into my client app to upload the file I was actually pasting it already escaped My client app would then escape it a second time and obviously the upload fails My confusion was compounded by the fact the URL would work locally because it was picking up and using my AWS access key from my environment or worked if I added the AWS config with the same super credentials directly in the Lambda itself Needless to say I felt rather foolish when I realised I was the cause of my own issues for accidentally doubleescaping Troy"},
{"id": 123952, "question_id": 12395, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T20:52:15Z", "scrap_date": "2024-05-01T00:05:21.673042", "content": "You declare authorizer of type CUSTOM as well as type REQUEST "},
{"id": 51822, "question_id": 5182, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-05T04:11:54Z", "scrap_date": "2024-05-01T00:05:22.712336", "content": "It is supported now in cloudformation Use the AWS CloudFormation AWSSNSSubscription resource for SNS This post is courtesy of Otavio Ferreira Manager Amazon SNS AWS Messaging Amazon SNS is a fully managed pubsub messaging and eventdriven computing service that can decouple distributed systems and microservices By default when your publisher However It is now supported yet in serverless You may consider this plugin serverlesssnsfilter npm"},
{"id": 51823, "question_id": 5182, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-31T03:48:05Z", "scrap_date": "2024-05-01T00:05:22.714336", "content": "was this issue ever fixed subscribe sqs queue to sns topic with filter policy from serverless yaml"},
{"id": 121052, "question_id": 12105, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-08-30T20:10:14Z", "scrap_date": "2024-05-01T00:05:23.316101", "content": "Hi BjMrq A few responses based on my usage so far Q I the how would I reference a value from another field A You can use the same process actually and its translated later at runtime So you can obtain a custom variable like this somewhat silly example Q How would I reference the value of an argument passed in the CLI A You can use the same process as above just use the optsome_option syntax you would use in your serverless yml file "},
{"id": 121053, "question_id": 12105, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-01T03:13:15Z", "scrap_date": "2024-05-01T00:05:23.317096", "content": "Thanks Will try it have a good day"},
{"id": 45302, "question_id": 4530, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T17:24:32Z", "scrap_date": "2024-05-01T00:05:24.294831", "content": "Ran into this myself and found this github issue ` to be of some help TLDR trying to reference AWSRegion and AWSAccountId resulting in legacy parsing error during cloudformation load work around was using Join and Ref"},
{"id": 45303, "question_id": 4530, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T03:14:10Z", "scrap_date": "2024-05-01T00:05:24.295830", "content": "I suspect youve copied AWS AccountId from somewhere that was using the serverlesspseudoparameters plugin Try adding that plugin "},
{"id": 45304, "question_id": 4530, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-02T23:46:41Z", "scrap_date": "2024-05-01T00:05:24.296836", "content": "[rasool] Did yiu have any luck make your serverless yml work I am trying look for exactly the same process to use dynamoDB stream and I am not finding any support Regards "},
{"id": 99192, "question_id": 9919, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-23T15:30:08Z", "scrap_date": "2024-05-01T00:05:25.303533", "content": "This isnt working for me either I ran ls on my current directory and it showed that the opt directory was empty Help "},
{"id": 99193, "question_id": 9919, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-03T08:42:38Z", "scrap_date": "2024-05-01T00:05:25.304533", "content": "According to httpswww serverless comframeworkdocsprovidersawsguidelayers it can only be referenced by ARN explicitly in cross services scenario This looks a bit odd or am I understanding this wrong"},
{"id": 52642, "question_id": 5264, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-13T19:33:48Z", "scrap_date": "2024-05-01T00:05:26.045999", "content": "Im running into a similar issue and I cant find resources about this anywhere Maybe my approach is wrong Heres what Im having to do Heres what I would prefer to do Does this make sense Is there a way to do this My current method is not scalable "},
{"id": 52643, "question_id": 5264, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-14T17:19:41Z", "scrap_date": "2024-05-01T00:05:26.046999", "content": "I iterated on my solution but its still far from perfect I have an array of mappings like so Once a JWT is decoded I check the users permissions against the scopes defined in that mapping Heres my authorizer code I omitted errorchecking and irrelevant things While this works it means I have to keep the function names in serverless yml in perfect sync with my authMappings array Additionally that array will be uploaded to Lambda which is not great Does anyone have a better solution Im unfortunately thinking of switching to Express just because of this Cc buggy"},
{"id": 52644, "question_id": 5264, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-03T14:13:10Z", "scrap_date": "2024-05-01T00:05:26.049000", "content": "By default all authorizers are set to use Identity source token Here is how you can pass other parameters to the authorizer Then you can create a reusable authorizer definition in custom section In example above you can see how to define passing a querystring parameter Im not sure if it is needed as whne changing type from token to request all http request data is passed headers paths all query strings like for regular lambda proxy integration Finally in each function you want to use your authorizer"},
{"id": 98262, "question_id": 9826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-06T21:29:16Z", "scrap_date": "2024-05-01T00:05:26.881876", "content": "Did you fix this problem Its happening exactly the same for me Thanks "},
{"id": 111672, "question_id": 11167, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-17T11:03:18Z", "scrap_date": "2024-05-01T00:05:27.972630", "content": "I realised that my uri under the xamazonapigatewayintegration attribute is not quite correct I need to find the full ARN for the Lambda function that is created by this serverless project How can I dynamically refer to the lambda Arn in there I am trying selffunctions hello arn without any success "},
{"id": 111673, "question_id": 11167, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-06T21:41:46Z", "scrap_date": "2024-05-01T00:05:27.973630", "content": "Did you ever get this working I would like to do interface first design with openapi 3 0 and user serverless"},
{"id": 72332, "question_id": 7233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-02T17:42:26Z", "scrap_date": "2024-05-01T00:05:28.811004", "content": "I believe the problem is that you need to reference the lambda by the CF Normalized Name Which would be something like CustomResourceLambdaFunction For more details reference the Serverless Documentation"},
{"id": 72333, "question_id": 7233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-04T12:55:02Z", "scrap_date": "2024-05-01T00:05:28.812005", "content": "thanks for the answer i have already tried but not work yet this is my resource my lambda function is not a resource but a function in a serverless yml this is my situation thanks"},
{"id": 72334, "question_id": 7233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-04T13:17:37Z", "scrap_date": "2024-05-01T00:05:28.812005", "content": "I solved the problem I went to see inside the stack file inside the folder serverless in addition to adding LambdaFunction to the end of the name I had set serverless also changes the first letter from lowercase to uppercase so now instead of putting customResourceLambdaLambdaFunction I put CustomResourceLambdaLambdaFunction and it works "},
{"id": 72335, "question_id": 7233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-08T06:54:27Z", "scrap_date": "2024-05-01T00:05:28.812999", "content": "Your function defined in serverless yml is converted into a cloudformation resource under the hood The resource is called XLambdaFunction where X The name of your function with the first letter capitalized So if you have You can reference"},
{"id": 124612, "question_id": 12461, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-08T12:39:33Z", "scrap_date": "2024-05-01T00:05:29.832464", "content": "Hi please see below directly copied from our yaml file let me know if you have any further questions tab formatting is broken due to the wysiwyg editor but after every attribute add a tab in the below line as per serverless yml syntax savingsRatesStream handler apisavingsrate savingsRateTrigger events stream arn arnawsdynamodbtablesavingsrateuniquedevstream2020xxxxTxxxxxx xxx batchSize 100 maximumRetryAttempts 10 startingPosition LATEST enabled true"},
{"id": 71142, "question_id": 7114, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-30T10:31:00Z", "scrap_date": "2024-05-01T00:05:30.750979", "content": "Typically youll setup Elasticsearch which you can do in the resources section of your serverless yaml then add a stream to the dynamodb table with a Lambda that reads from the stream and write to Elasticsearch "},
{"id": 124912, "question_id": 12491, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-09T00:18:08Z", "scrap_date": "2024-05-01T00:05:31.615978", "content": "Sorry all it looks like the reason it wasnt working was due to cognito being in a different region in my AWS development account A more helpful message would be really nice here"},
{"id": 93332, "question_id": 9333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-09T19:46:27Z", "scrap_date": "2024-05-01T00:05:32.482774", "content": "having the same issue Did you maybe found a solution"},
{"id": 7922, "question_id": 792, "domain": "forum.serverless.com", "like_num": 10, "created_date": "2016-11-21T11:19:28Z", "scrap_date": "2024-05-01T00:05:34.578979", "content": "First make sure your resource includes a StreamSpecifcation so that is setup up the stream See httpdocs aws amazon comamazondynamodblatestAPIReferenceAPI_StreamSpecification html for more information about values You also need to make sure your iamRoleStatement has the correct permissions I also have dynamodbGetItem and dynamodbPutItem because my Lambda needs to put and get items so you may or may not need them too Deploy now so that it creates the stream then go to the AWS console and get the Stream ARN for your table Finally configure your function with a stream event using the Stream ARN from the AWS console Deploy again and your Lambda function should be getting called when records change The Serverless manual includes a new format In Serverless 1 1 there is a confirmed bug that prevents this from working The recommended solution is to use the arn format "},
{"id": 7923, "question_id": 792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-24T21:48:16Z", "scrap_date": "2024-05-01T00:05:34.580979", "content": "Perfect explanation buggy Thank you so much Was struggling with this The docs are not so helpful in this specific topic "},
{"id": 7924, "question_id": 792, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-11-25T16:00:41Z", "scrap_date": "2024-05-01T00:05:34.581980", "content": "MyTable I also worked around the known bug and defined the cloudformation mapping directly in the serverless yml This workaround has the advantage that you dont have to know the ARN of the lambda function "},
{"id": 7925, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-28T18:07:17Z", "scrap_date": "2024-05-01T00:05:34.582980", "content": "Hi chgerkens Can you please explain this Where are you placing that YML definition In the Resources section Thanks in advance "},
{"id": 7926, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-28T19:23:08Z", "scrap_date": "2024-05-01T00:05:34.583980", "content": "Right under For instance below the DynamoDB table resource that includes the StreamSpecification "},
{"id": 7928, "question_id": 792, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-08T21:29:53Z", "scrap_date": "2024-05-01T00:05:34.583980", "content": "Can you share the full serverless yml file Its not clear from the documentation how to accomplish this "},
{"id": 7929, "question_id": 792, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-21T04:00:17Z", "scrap_date": "2024-05-01T00:05:34.584981", "content": "httpsgithub comserverlessserverlesspull3111 contains a complete and working serverless yml example from pmuens I cannot deeplink to the post so search for FYI heres the serverless yml Ive used this time with the correct indentation on the pull request page I mentioned "},
{"id": 79210, "question_id": 792, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2017-08-16T08:48:36Z", "scrap_date": "2024-05-01T00:05:34.585981", "content": "I also have a working DynamoDB Streams example as part of my GraphQL API example You can find it here httpsgithub comboazdejongserverlessgraphqlapidynamodbstreams"},
{"id": 79211, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-24T15:21:30Z", "scrap_date": "2024-05-01T00:05:34.585981", "content": "Does anyone know how to get this working with serverlessoffline The above example buggy posted doesnt appear to work at least for me it doesnt "},
{"id": 79212, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-25T10:01:42Z", "scrap_date": "2024-05-01T00:05:34.586976", "content": "tgfischer The example is for a real DynamoDB I dont think serverlessoffline supports DynamoDB streams "},
{"id": 79214, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-18T09:08:38Z", "scrap_date": "2024-05-01T00:05:34.586976", "content": "beautiful Worked for me "},
{"id": 79216, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-16T04:52:55Z", "scrap_date": "2024-05-01T00:05:34.587981", "content": "I searched the whole document for this I couldnt find anything about creating stream using serverless How did you get this solution"},
{"id": 79217, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-16T00:55:12Z", "scrap_date": "2024-05-01T00:05:34.587981", "content": "This property definition doesnt really work How can I reference the lambda function that I want the dynamo stream to trigger on update using the lambda functions name"},
{"id": 79218, "question_id": 792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-16T14:24:44Z", "scrap_date": "2024-05-01T00:05:34.589080", "content": "There is no need for the Event Source Map you can just define all of the mappings required in the Lambda declaration itself"},
{"id": 123072, "question_id": 12307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-18T08:15:37Z", "scrap_date": "2024-05-01T00:05:35.458953", "content": "I have found an answer on StackOverflow Repeating it here in case anyone else needs it and yes this should work for any config not just CustomDomain "},
{"id": 104482, "question_id": 10448, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-18T16:33:26Z", "scrap_date": "2024-05-01T00:05:36.623182", "content": "If you go to the target group under EC2 in the AWS console youll find you need to manually assign the target lambda in the Targets tab Im still looking for an automated way to do this it appears that CF still doesnt support this and serverless yml alb isnt fully baked either The best avenue seems to be setting up a custom resource for you stack to use which executes the API calls to register the targets aws elbv2 registertargets targetgrouparn arnawselasticloadbalancinguswest2123456789012targetgroupmytcpiptargets8518e899d173178f targets Idarnawslambdauswest2123456789012functionmyfunction"},
{"id": 122922, "question_id": 12292, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-08-18T08:07:04Z", "scrap_date": "2024-05-01T00:05:37.646010", "content": "In the Allow policy set the Resource to rather than the methodArn I cant remember why but after a lot of problems this solved it for me Maybe it caches that that principal is only allowed to see the first provided methodArn even when caching is turned off Sorry I cant remember what it is but try using a wildcard "},
{"id": 122923, "question_id": 12292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-18T21:57:56Z", "scrap_date": "2024-05-01T00:05:37.646938", "content": "This worked saved a lots of time thank you"},
{"id": 111902, "question_id": 11190, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-19T20:12:54Z", "scrap_date": "2024-05-01T00:05:38.730774", "content": "serverless yml"},
{"id": 111903, "question_id": 11190, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-19T20:13:29Z", "scrap_date": "2024-05-01T00:05:38.731774", "content": "packadge json"},
{"id": 111904, "question_id": 11190, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-19T20:14:16Z", "scrap_date": "2024-05-01T00:05:38.731774", "content": "tsconfig json"},
{"id": 111905, "question_id": 11190, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-21T12:44:12Z", "scrap_date": "2024-05-01T00:05:38.732774", "content": "Hey Raven did you figure it out how to fix it"},
{"id": 123502, "question_id": 12350, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-21T13:21:08Z", "scrap_date": "2024-05-01T00:05:39.577920", "content": "Okay the difference between those two variables is that dashboardName is resolved in the Resources block If I use it for an environment variable of a function then I get the same problem with deepX So it is actually because of the variableSyntax But how would I fix that"},
{"id": 123503, "question_id": 12350, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-21T15:46:38Z", "scrap_date": "2024-05-01T00:05:39.578920", "content": "Posted this on github and got a solution httpsgithub comserverlessserverlessissues8116 Extending the variableSyntax regex to include deep solved the issue variableSyntax \\\\ env self opt file cf s3 deep [\\\\ ][ azAZ09 _\\\\\\\\\\\\ \\\\ ] "},
{"id": 123672, "question_id": 12367, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-24T15:13:06Z", "scrap_date": "2024-05-01T00:05:40.478696", "content": "You do this like normal outside of a serverless space As long as your lambda can communicate with your mysql server you can just use standard libraries in Python Node Java or whatever you plan to use "},
{"id": 123673, "question_id": 12367, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-25T01:24:37Z", "scrap_date": "2024-05-01T00:05:40.479696", "content": "One thing to look out for is you will probably want to deploy your lambda inside the same vpc as the mysql is located "},
{"id": 123674, "question_id": 12367, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-25T12:23:23Z", "scrap_date": "2024-05-01T00:05:40.480696", "content": "Thanks Ill move that direction"},
{"id": 123675, "question_id": 12367, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-25T12:24:33Z", "scrap_date": "2024-05-01T00:05:40.481697", "content": "Thats a good point thanks "},
{"id": 123652, "question_id": 12365, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-25T12:37:33Z", "scrap_date": "2024-05-01T00:05:41.515798", "content": "Well after 2 days Ive finally found that it wasnt cors not working though Im still curious why the API Gateway UI isnt reflecting whats in my serverless config My lambda was timing out due to something unrelated and causing an http error This http error wasnt carrying the required headers so the browser just reported error mentioned above In case it helps anyone review your lambda logs In my case the lambda was set to a max execution time of 6 seconds and so the logs always showed an Integration Latency of 6 seconds "},
{"id": 115312, "question_id": 11531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-28T23:16:38Z", "scrap_date": "2024-05-01T00:05:42.526651", "content": "I went on a similar journey a month ago and after a bug was fixed this documentation should work for what youre looking to do httpswww serverless comframeworkdocsprovidersawseventshttpapireusinghttpapiindifferentservices I hope this answers your question "},
{"id": 115313, "question_id": 11531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-21T17:23:22Z", "scrap_date": "2024-05-01T00:05:42.527651", "content": "Hi dotorghala thanks for replying to this question I put this issue aside while I worked on other things but Im getting back to it now Do you mind describing how you used the httpApi id field to achieve this Im not sure I follow from the documentation alone and could use an example I follow the general strategy outlined in the serverless stack demo as Ive been able to get this to work with API Gateways REST API When trying to apply the same principles to HTTP APIs I get stuck on the last part in that tutorial which relies on the framework generated ApiGatewayRestApi variable Since that variable is not created when using only HTTP APIs Im not sure what variable I should be relying on I see the documentation you linked says We may attach configured endpoints to HTTP API created externally Does that mean an HTTP API endpoint created outside of the Serverless Framework e g directly in the AWS Console Thanks "},
{"id": 115314, "question_id": 11531, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-25T21:33:30Z", "scrap_date": "2024-05-01T00:05:42.528652", "content": "I create my httpApi in a separate serverless service with other infrastructure In my serverless yml for ever service I reference the httpApi ID in the provider section like this provider name aws runtime python3 8 httpApi id [the ID of your http API goes here] You can hardcode the ID or reference via a variable or via Import a cloud formation Export Then under the function it self you just need to set the method and path and authorizer if you want functions createSomething handler create_something handler events httpApi method POST path create_something authorizer id [cognitoAuthorizerId] I hope this helps "},
{"id": 99852, "question_id": 9985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-26T04:19:41Z", "scrap_date": "2024-05-01T00:05:43.565898", "content": "I have the same issue Creating resources directly using cloudformation template under resources throws error It would be great to have that feature in sls template to be able to use the existing API An error occurred ServiceUsagePlan API Stage not found xxxxdev Service AmazonApiGateway Status Code 404 Error Code NotFoundException"},
{"id": 107922, "question_id": 10792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T08:58:27Z", "scrap_date": "2024-05-01T00:05:44.376720", "content": "You dont need to use CloudFormation to specify usage plans That is available as a part of the framework httpsserverless comframeworkdocsprovidersawseventsapigatewaysettingapikeysforyourrestapi"},
{"id": 107923, "question_id": 10792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-26T04:35:32Z", "scrap_date": "2024-05-01T00:05:44.377720", "content": "garethmcc do you know how to use existing API Key within the serverless template Using the apiKey in the serverless template with existing API key throws an error Looks like its trying to create it again and thus resulting in error "},
{"id": 123462, "question_id": 12346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-26T20:11:07Z", "scrap_date": "2024-05-01T00:05:45.430257", "content": "I was facing the same problem today and finally i solved it but im not sure if i did it to complicated before i packed each lambda as a module i could import the functions from an upper folder but after modularize them not anymore I did my steps along this doc I have a couple of AWS Lambda functions I have my functions in a separate file called t have to change anything in my Lambda functions I cannot provide you my project like it is now but if you need it as a whole i can strip out some stuff and then provide it to you but maybe those parts already help you "},
{"id": 124092, "question_id": 12409, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-28T14:39:15Z", "scrap_date": "2024-05-01T00:05:46.335867", "content": "Okay after a lot of experimentation the answer was to add async to the handler Does anyone know the underlying reason for this We are not awaiting for any particular value to resolve and I assume the required file has already been packed in as part of the deployment"},
{"id": 86022, "question_id": 8602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-21T06:25:00Z", "scrap_date": "2024-05-01T00:05:47.176770", "content": "There isnt any need to explicitly set the authorizer You can do so when linking your handlers to the related http event instead as described here httpsserverless comframeworkdocsprovidersawseventsapigatewayhttpendpointswithcustomauthorizers Serverless will automatically associate the authorizer to the endpoint triggering the Lambda function even across services if you know the ARN of the authorizer function "},
{"id": 86023, "question_id": 8602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-03T12:14:15Z", "scrap_date": "2024-05-01T00:05:47.177770", "content": "Hi Gareth Thanks for the tips Following that I got my authorizer work with other services However by using ARN each time if we redeployed authorizer ARNs value will change then we have to update each services serverless yml and redeploy each service Do you have any suggestion to avoid this Thanks very much "},
{"id": 86024, "question_id": 8602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-28T18:04:13Z", "scrap_date": "2024-05-01T00:05:47.178770", "content": "Ive recently encountered this same problem and discovered that even though the IdentitySource property is marked as optional in the CFN docs its not I was able to resolve my same problem by adding this property to my authorizer IdentitySource method request header Authorization"},
{"id": 123562, "question_id": 12356, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-10T20:05:39Z", "scrap_date": "2024-05-01T00:05:47.968725", "content": "I noticed there hasnt been a reply yet so i figured id ask a question im also looking for a solution to this What about switching to a custom authorizer that redirects to a separate lambda method when authentication fails Would that be a worthwhile approach"},
{"id": 124802, "question_id": 12480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-10T16:08:18Z", "scrap_date": "2024-05-01T00:05:49.110953", "content": "awssdk"},
{"id": 124803, "question_id": 12480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-11T12:25:24Z", "scrap_date": "2024-05-01T00:05:49.111953", "content": "I was also looking for any modeling tool for Amazons DynamoDB Ive found dynamoose that looks promissor but I am really disappointed If you find anything better let me know "},
{"id": 124804, "question_id": 12480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-11T18:28:00Z", "scrap_date": "2024-05-01T00:05:49.112953", "content": "Ive enjoyed working with Amazons NoSQL Workbench Its a GUI application that Ive found helpful for data modeling query building etc Definitely work a look "},
{"id": 64322, "question_id": 6432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-06T13:04:18Z", "scrap_date": "2024-05-01T00:05:51.028568", "content": "I have been using the Serverless Framework with AWS and being able to create an manage the permissions for the Lambda functions within the YAML is great I am now looking at developing with Azure functions using the Serverless Framework but I cant see how to customise the RBAC roles or create RBAC roles as a custom resource For example whats the most convenient way to give the Azure function code permission to write to a Cosmos DB database So I just wondered what approach you used in the end"},
{"id": 64323, "question_id": 6432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-31T14:56:11Z", "scrap_date": "2024-05-01T00:05:51.030569", "content": "Facing similar problems I would like to assign different roledefinitions roles to azure functions so that principle of least priviledges can be followed effectively With serverless framework i cant find any way to assign function wise roles for Azure but same can be done with AWS lambda functions Does serverless already has something to acheive this OR they will be developingnot developing it in future Any suggestions here will be very helpful Thanks "},
{"id": 121752, "question_id": 12175, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-02T20:04:42Z", "scrap_date": "2024-05-01T00:05:52.147134", "content": "Hi You can look at my previous reply about this topic here You can simply wrap your variable in double quotes and it should work You wont be able to use the template literals though backticks Remember because its a TS file you can set your stage as a separate variable and then reference it whereever you need I made an example in my previous post linked below "},
{"id": 121753, "question_id": 12175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-02T20:42:01Z", "scrap_date": "2024-05-01T00:05:52.148133", "content": "Thank you for your reply checking right now"},
{"id": 121852, "question_id": 12185, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-05T09:28:39Z", "scrap_date": "2024-05-01T00:05:53.181818", "content": "krone black Hi there Can you try to logout and log back in I have just adjsuted a setting on your account and you should be able to log in now"},
{"id": 121853, "question_id": 12185, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-05T11:01:25Z", "scrap_date": "2024-05-01T00:05:53.182818", "content": "Awesome I succeeded that login to serverless Thank you "},
{"id": 121972, "question_id": 12197, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-06T02:20:08Z", "scrap_date": "2024-05-01T00:05:53.972725", "content": "It seems you have to search for aws or something like that to actually find any meaningful documentation Is that indeed the only way to get to the documentation By already knowing what youre looking for"},
{"id": 119422, "question_id": 11942, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-08-06T05:47:03Z", "scrap_date": "2024-05-01T00:05:54.573368", "content": "The problem is in the webpack config Add js into the resolve extensions array "},
{"id": 115912, "question_id": 11591, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-07T13:45:56Z", "scrap_date": "2024-05-01T00:05:55.655132", "content": "I can confirm that enabled false does not work for e ventBridge events My workaround was to use a schedule event instead Heres an example workaround Note that when I changed my yaml to this new method the new rule was properly added as disabled However the old rule which had a different automatic resource name was never deleted and had to be deleted manually This was pretty insidious since I could see my new disabled rule but my function kept triggering I believe that two above issues are bugs It would be good if the doc would at least note the enabled false limitation until this is fixed There are some other asymmetries with scheduled eventsBridge too For example schedules must run on the default eventBus Therefore the eventBus property for a scheduled eventBridge event wont work this is an AWS limitation "},
{"id": 122152, "question_id": 12215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-08T20:29:44Z", "scrap_date": "2024-05-01T00:05:56.658483", "content": "Adding additional env files like env dev env prod solved "},
{"id": 31362, "question_id": 3136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-04T02:43:41Z", "scrap_date": "2024-05-01T00:05:57.635745", "content": "Little delayed in the response hopefully youve figured this out since you posted but I believe the answer youre looking for can be found here Scroll down to the part where it talks about the user pool "},
{"id": 31363, "question_id": 3136, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-20T14:29:27Z", "scrap_date": "2024-05-01T00:05:57.636868", "content": "bobbiebarker I have successfully protected an endpoint in my service following the example in that link by using a Cognito user pool arn And by successfully meaning that once I request I get back the message Unauthorized From what Ive read I need to include a token received from logging in with Cognito in the request as an Authorization header But when I do it does not allow me to reach the endpoint What am I missing here This is my serverless yml And for the request Im using Postman to include the Bearer token which results in a Authenitcation header like this Ive also tried removing the Bearer part from that header without any luck "},
{"id": 31364, "question_id": 3136, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-20T15:12:59Z", "scrap_date": "2024-05-01T00:05:57.637867", "content": "Just fixed it Turned out I was using the accessToken from the response of cognitoUserauthenticateUser where I should use the idToken"},
{"id": 31365, "question_id": 3136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-09T00:16:37Z", "scrap_date": "2024-05-01T00:05:57.638866", "content": "Hello yn5 I am trying create user in Cognito User Pool using serverless I was able to handle user authentication using this article httpswww serverless comblogserverlessauthwithawshttpapis but I was not able to create user using an API Gateway Lambda endpoint Do you have any reference how I should create a lambda function to be able to create a new users instead of using Host UI interface Thanks in advanced "},
{"id": 121113, "question_id": 12111, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-29T07:07:51Z", "scrap_date": "2024-05-01T00:05:58.532873", "content": "Serverless uses Cloudformation under the hood I was able to accomplish your scenario using Cloudformation Outputs in my parent yaml file and then referencing the outputs in my child yaml files that need them with the variables tools listed here How to use Serverless Variables to insert dynamic configuration info into your serverless yml"},
{"id": 121114, "question_id": 12111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-29T10:03:19Z", "scrap_date": "2024-05-01T00:05:58.534873", "content": "Thanks alexvdvalk Ill try that approach Much appreciated "},
{"id": 121115, "question_id": 12111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-10T09:36:25Z", "scrap_date": "2024-05-01T00:05:58.534873", "content": "If you deployed the dynamoDB with a stack cloudformation template the stack can output and export a global identifier which you can then user in your serverless configuration httpsdocs aws amazon comAWSCloudFormationlatestUserGuideoutputssectionstructure html"},
{"id": 122232, "question_id": 12223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-09T08:09:35Z", "scrap_date": "2024-05-01T00:05:59.402642", "content": "Which programming language are you using And what are you using to build your front end website Cognito has a lot of flexibility so it would be difficult to answer this AWS Amplify might be a good solution for you here It allows you to host your own UI but does a lot of the work for you "},
{"id": 122233, "question_id": 12223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-09T10:07:57Z", "scrap_date": "2024-05-01T00:05:59.403642", "content": "Hello I am using NodeJS and so far I am not thinking about front end because I will create several API microservices before start building the front end Yes I can use amplify but Id like create user pool management using serverless Any recommendation Thanks for your reply"},
{"id": 122234, "question_id": 12223, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-10T11:58:36Z", "scrap_date": "2024-05-01T00:05:59.404694", "content": "You need to use the AWS sdk package and then use the functions listed in this page httpsdocs aws amazon comcognitouseridentitypoolslatestAPIReferenceAPI_AdminGetUser html The functions that start with admin can handle creating cognito users etc You will need to make sure that your app has the correct AWS permissions to do these tasks "},
{"id": 122235, "question_id": 12223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-10T14:40:22Z", "scrap_date": "2024-05-01T00:05:59.405643", "content": "Thanks a lot I will read it and implement as defined in this document Another question based on your experience what is a good best way to do user authentication Is it using cognito user poll or implement a DynamoDB table with users credentials Thanks in advanced "},
{"id": 122236, "question_id": 12223, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-10T20:31:26Z", "scrap_date": "2024-05-01T00:05:59.405643", "content": "Cognito is difficult to learn but i think its worth it There are many things to think about with auth It would be REALLY difficult to to recreate all of this and then you have to be responsible for making sure that its really secure I prefer AWS to do that for me And they give you 50000 monthly active users for free which is also great Serverless Framework also works well with auth0 which seems more popular than cognito but I havent used this myself Might be worth checking out if you dont like Cognito Rapidly integrate authentication and authorization for web mobile and legacy applications so you can focus on your core business "},
{"id": 122237, "question_id": 12223, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-12T03:04:51Z", "scrap_date": "2024-05-01T00:05:59.407644", "content": "Have worked with both auth0 is definitely more mature but if you want to remain only inside aws cognito will do"},
{"id": 122602, "question_id": 12260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-11T17:55:00Z", "scrap_date": "2024-05-01T00:06:00.529674", "content": "Hi there It looks like you may be trying to use the stepFunctions plugin Can you confirm if there is a plugins section in your serverless yml file and that there is a reference to the step functions plugin Also can you run npm install from the root of the service to make sure all required libraries and plugins are actually installed before deploying"},
{"id": 122603, "question_id": 12260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-12T08:16:42Z", "scrap_date": "2024-05-01T00:06:00.531675", "content": "Hi Same problem here I installed everything and referred the plugin in the serverless yml file Thanks"},
{"id": 122604, "question_id": 12260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-12T09:07:24Z", "scrap_date": "2024-05-01T00:06:00.531675", "content": "In version 1 78 we released our serverless yml syntax validator schema to help catch errors created by accidentally formatting files incorrectly As a part of that it means that plugin authors also needed to add additional details to the schema so that their plugin configurations are not flagged as an error and thats whats happening to you Id recommend dropping an issue on the GitHub for the step functions plugin but for now you can add a simple configuration to temporarily disable this feature configValidationMode off The GitHub for the plugin is here httpsgithub comserverlessoperationsserverlessstepfunctionsissues"},
{"id": 122605, "question_id": 12260, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-08-12T09:21:35Z", "scrap_date": "2024-05-01T00:06:00.532675", "content": "Thanks I dropped an issuer on their github BRs Julien"},
{"id": 66632, "question_id": 6663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T13:10:09Z", "scrap_date": "2024-05-01T00:06:01.198032", "content": "dixiehacker If you check the CloudFormation template generated by Serverless youll see youre trying to create an S3 bucket under the resource S3UploadBucket with the name uniquebucketfhdjsjdhejcndjskdf and Serverless is also trying to create an S3 bucket with that name under the resource S3BucketUniquebucketfhdjsjdhejcndjskdf When you use bucket selfcustom bucket in the functions event Serverless automatically tries to create the S3 bucket for you with that name "},
{"id": 66633, "question_id": 6663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-25T02:05:08Z", "scrap_date": "2024-05-01T00:06:01.199032", "content": "So which is it set up the bucket using the function or set it up allocating it in the resources section Adding exist true doesnt remove the error of preexisting buckets Seems a tremendous catch22 If I want lambda to act on a bucket item sls creates the bucket first If I want to setup resources to act on the bucket set up an ses rule it has to refer to the bucket Signed Confused Noob"},
{"id": 66634, "question_id": 6663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-12T16:07:54Z", "scrap_date": "2024-05-01T00:06:01.200033", "content": "anyone ever figure this out so confusing "},
{"id": 122762, "question_id": 12276, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-13T19:41:42Z", "scrap_date": "2024-05-01T00:06:02.355659", "content": "I decided I was overthinking this so I just created an http event trigger on my lambda function and added a subscription to the SNS topic to point to my lambda via the https endpoint as opposed to trying to have SNSlambda directly across accounts Much simpler this way "},
{"id": 123392, "question_id": 12339, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-24T16:58:12Z", "scrap_date": "2024-05-01T00:06:03.113652", "content": "The identation of your s3 events configuration is wrong It should be"},
{"id": 123393, "question_id": 12339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T15:06:44Z", "scrap_date": "2024-05-01T00:06:03.114652", "content": "Generally this error means that your S3 bucket doesnt have permission to invoke a Lambda function The required permissions are automatically added to a resourcebased policy for your function when you use the Amazon S3 console to configure an event notification for Lambda"},
{"id": 20632, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-14T16:13:35Z", "scrap_date": "2024-05-01T00:06:03.925412", "content": "Hi yamazaki I think there is still no proper way to do this in serverless but theres some plugin See httpsgithub comserverlessserverlessissues2797 for details "},
{"id": 20633, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-15T01:57:48Z", "scrap_date": "2024-05-01T00:06:03.926412", "content": "Thank you bbilget I have tried increasingly what is in this article We inserted ContentHandling CONVERT_TO_BINARY and set MediaType from APIGateway However the execution result is internal server error If you specify Media Type on the API Gateway the above error will be returned How can I base64encod binary data with serverless and payload it to Lambda"},
{"id": 20634, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-15T12:07:26Z", "scrap_date": "2024-05-01T00:06:03.927178", "content": "Hi yamazaki Handling binary data with APIGW is a little tricky You can check my example for JavaJRestless here httpsgithub combbilgerjrestlessexamplesblobmasterawsgatewayawsgatewaybinaryREADME md Aside from this"},
{"id": 20635, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-16T02:34:42Z", "scrap_date": "2024-05-01T00:06:03.928181", "content": "Thank you bbilger I hava a once question How to set isBase64Encoded with APIGateway Method Request or Integration request"},
{"id": 20636, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-16T10:58:15Z", "scrap_date": "2024-05-01T00:06:03.928181", "content": "You dont You have to set it on the proxy response object in your lambda function assuming you are using proxy integration See httpsforums aws amazon comthread jspamessageID753476753476 if you postput binary data APIGW will set the flag on the request object "},
{"id": 20637, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-06-19T17:30:31Z", "scrap_date": "2024-05-01T00:06:03.929176", "content": "Hello Check out serverless plugin written by me Serverless plugin for binary files support in AWS Gateway maciejtrederserverlessapigwbinary There is also examples provided one with angular and one with express PS Stars and contribution are welcome "},
{"id": 20638, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-20T03:49:41Z", "scrap_date": "2024-05-01T00:06:03.930175", "content": "Thank you bbilger and maciejtreder This problem was solved I hope serverless will be easy to use "},
{"id": 20639, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T22:37:08Z", "scrap_date": "2024-05-01T00:06:03.930175", "content": "maciejtreder sir you are a life saver Thank you Though I will say using this config instead in my serverless yml seem to work better for my png case apigwBinary types "},
{"id": 206310, "question_id": 2063, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-24T15:19:33Z", "scrap_date": "2024-05-01T00:06:03.931176", "content": "Is this still necessary with serverless v2 2 0 Im really struggling to work with the data that is received in a lambda_proxy function when its an image "},
{"id": 29242, "question_id": 2924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T14:53:26Z", "scrap_date": "2024-05-01T00:06:04.896761", "content": "Looking to see if anyone has been successful at this as well I posted same question Default deployment bucket SSE but havent seen any traffic "},
{"id": 29243, "question_id": 2924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T15:27:52Z", "scrap_date": "2024-05-01T00:06:04.897761", "content": "Heres a working serverless yml I just slapped together You can confirm in the console that it was created with encryption enabled If youre looking to create your bucket by defining it as an event source try this one You still need the resources section but be sure to name the bucket resource logical name in alignment with the logical naming rules Hope it helps "},
{"id": 29244, "question_id": 2924, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-11T17:34:19Z", "scrap_date": "2024-05-01T00:06:04.898761", "content": "Thanks This does work for me and give me the expected results Didnt think to put in the Resources section I will try to apply this to my specific serverless yml "},
{"id": 29246, "question_id": 2924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T18:50:14Z", "scrap_date": "2024-05-01T00:06:04.898761", "content": "I attempted this method andi have a issue where that bucket already exists MY environment already exists without the encryption and im just trying to add it on That will be a problem deploying this to production but thats a different issue So i deploy to a new stage and i get this error An error occurred S3Bucketxxxxxxxxxxxxxx Unable to validate the following destination configurations Service Amazon S3 Status Code 400 Error Code InvalidArgument Request ID 0EEE841094AA8DF1 S3 Extended Request ID 3ozSLtqO0nzXDMDfL65o4FhPzsUVrOQEGbIN2nF7b26c3lHIIRyETI7ntKxC88anSC45dcV9hOI Proxy null "},
{"id": 120412, "question_id": 12041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-21T20:50:12Z", "scrap_date": "2024-05-01T00:06:07.033551", "content": "Hi parthpatwala I published something on this topic this week Im not sure if it answers all your questions but at least some of them httpsdev tojsangilveuploadingfilestos3withserveless4ai1"},
{"id": 109542, "question_id": 10954, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-17T17:59:54Z", "scrap_date": "2024-05-01T00:06:07.859765", "content": "were you able to find a solution to this "},
{"id": 109543, "question_id": 10954, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-21T21:07:24Z", "scrap_date": "2024-05-01T00:06:07.860766", "content": "Not yet unfortunately What I am doing today is deploying from my computer with the CLI It works but its far from ideal "},
{"id": 87502, "question_id": 8750, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-22T05:33:13Z", "scrap_date": "2024-05-01T00:06:08.916006", "content": "I was wondering about this too We want to make use of ssm parameters in our config that live in a different AWS account from the account we are deploying to I thought I could make it work by packaging using a role in the account where the ssm store is then deploy using a role from the other account but because serverless deploy still evaluates serverless yml on deploy it doesnt seem to work"},
{"id": 87503, "question_id": 8750, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-22T21:45:53Z", "scrap_date": "2024-05-01T00:06:08.918007", "content": "For testing and debugging You can run package and then take a look at your serverless folder and review the cloudformation it produces and the zip file it creates You can often find a lot of problems with your configuration that way and help optimize your package sizes "},
{"id": 120872, "question_id": 12087, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-23T00:45:49Z", "scrap_date": "2024-05-01T00:06:09.828339", "content": "It was an issue with the yaml this works"},
{"id": 117172, "question_id": 11717, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-11T05:26:05Z", "scrap_date": "2024-05-01T00:06:10.772566", "content": "roadtest I am running into the same issues have you had any luck with deployment"},
{"id": 117173, "question_id": 11717, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-11T21:33:23Z", "scrap_date": "2024-05-01T00:06:10.773567", "content": "no i havent figured out solution My temp workaround is creating eventbridge rule resource separately I consider this could be bug of latest serverless release "},
{"id": 117174, "question_id": 11717, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-15T02:40:51Z", "scrap_date": "2024-05-01T00:06:10.774567", "content": "Were you able to wire up the Lambdas using ARNs in the serverless yml file once that was done"},
{"id": 117175, "question_id": 11717, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2020-07-23T08:59:36Z", "scrap_date": "2024-05-01T00:06:10.775562", "content": "Although it sounds super trivial I read about someone having the same problem that solved it by indenting the lines properly in your eventBridge configuration like so"},
{"id": 102402, "question_id": 10240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-14T11:46:33Z", "scrap_date": "2024-05-01T00:06:11.813318", "content": "Have you found anything related to this Im facing this issue too"},
{"id": 102403, "question_id": 10240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-14T12:05:27Z", "scrap_date": "2024-05-01T00:06:11.814317", "content": "Nope nothing Im thinking of doing the deploy to the CFD using AWS CLI "},
{"id": 102404, "question_id": 10240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T23:57:25Z", "scrap_date": "2024-05-01T00:06:11.814317", "content": "Hi take a look at here Lambda with an existing cloudfront distirbution"},
{"id": 102405, "question_id": 10240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-05T16:51:03Z", "scrap_date": "2024-05-01T00:06:11.815318", "content": "Can we do this without using any plugin Like I can provide my existing distribution ID and domain name in the serverless yml file and after successful deployment of lambda edge function serverless will automatically update the cloud front with latest version of lambda edge"},
{"id": 102406, "question_id": 10240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-06T05:28:12Z", "scrap_date": "2024-05-01T00:06:11.815318", "content": "I have checked that plugin We cant use the existing cloud front distribution It only works with the new distribution "},
{"id": 102407, "question_id": 10240, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-23T11:10:27Z", "scrap_date": "2024-05-01T00:06:11.816312", "content": "This plugin does what is needed A Serverless Framework plugin to create your Lambda against a preexisting CloudFront serverlessoperationsserverlesslambdaedgepreexistingcloudfront"},
{"id": 120972, "question_id": 12097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-24T07:48:48Z", "scrap_date": "2024-05-01T00:06:12.601775", "content": "my config file"},
{"id": 120973, "question_id": 12097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-24T07:49:30Z", "scrap_date": "2024-05-01T00:06:12.602775", "content": "The project Enterprise applications experience a very high volume of notifications that can wreak havoc on applications Rather than overloading an application or constantly scaling up and down based on bursts of usage using a message queue like AWS SQS can AWS Lambda function created in PHP that once triggered moves a message from SQS into DynamoDB nexmocommunitymessagingawssqsdynamodbphp"},
{"id": 120974, "question_id": 12097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-24T09:14:17Z", "scrap_date": "2024-05-01T00:06:12.603776", "content": "Hey Mendelor If oyu are looking for assistance with bref Id recommend asking over at the project itself on GitHub Matthieu is usually very responsive with questions as well as the community he has around bref right now While Bref may use the Serverless Framework to do deployments the plugin makes some substantial changes to the underlying process so you would probably need to read the docs there and get support there to really help you out httpsbref sh"},
{"id": 120975, "question_id": 12097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-24T09:48:45Z", "scrap_date": "2024-05-01T00:06:12.604776", "content": "Okay thank you for your help"},
{"id": 120702, "question_id": 12070, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-23T18:31:27Z", "scrap_date": "2024-05-01T00:06:13.501478", "content": "Documentation on this topic is here This is loosely the configuration you would need CORS can be a tricky issue to resolve This documentation has been super helpful for that "},
{"id": 120703, "question_id": 12070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-25T09:31:07Z", "scrap_date": "2024-05-01T00:06:13.502478", "content": "Sorry for late reply But I ended up finding more rigid solution for me which is path params But I was missing method ANY is it a mandate for proxy resources csmiller4567 I tried the same with GET but it gave me error saying that and are invalid characters in the path value"},
{"id": 121082, "question_id": 12108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-26T05:02:58Z", "scrap_date": "2024-05-01T00:06:14.604007", "content": "Sorry replying myself it seems like we should introduce awsxraysdkcore reference blog In this chapter we look at how to trace Serverless apps using AWS XRay Since your app is made up of multiple services its important to configure XRay to get visibility over a request as it flows through the system Thank you so much "},
{"id": 121182, "question_id": 12118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-27T12:34:02Z", "scrap_date": "2024-05-01T00:06:15.447446", "content": "There should be no requirement to login Would you mind sharing what makes you think that"},
{"id": 120172, "question_id": 12017, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-14T07:05:44Z", "scrap_date": "2024-05-01T00:06:16.256021", "content": "Welcome funkel You should be able to add a property to turn logging on for http api under provider Setting up API Gateway HTTP APIs with AWS Lambda via the Serverless Framework"},
{"id": 120173, "question_id": 12017, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-27T13:14:58Z", "scrap_date": "2024-05-01T00:06:16.257021", "content": "Hello garethmcc This is something i have turned on already in our serverless yml and I am posting logs to cloudwatch although it custom log format does not seem to be working and Im unable to collect cloudwatch metrics The metrics piece of it on the stage seems to be disabled in the aws console and this is primarily what Im trying to enable at this point "},
{"id": 120174, "question_id": 12017, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T07:14:28Z", "scrap_date": "2024-05-01T00:06:16.258021", "content": "If you are having an issue with the logs feature and it doesnt seem to work Id recommend creating a bug for it in the official issue tracker on GitHub with as much detail as you can here httpsgithub comserverlessserverlessissues That way the team or even just a community contributor can look into it and either guide you to a resolution or get the bug fixed "},
{"id": 121232, "question_id": 12123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T07:17:39Z", "scrap_date": "2024-05-01T00:06:17.351431", "content": "Hey Stuart You should be able to create that EventBridge rule using CloudFormation in Resources just like you did the SQS queue The CloudFormation documentation to do so is here httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceeventsrule html"},
{"id": 121233, "question_id": 12123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T10:11:58Z", "scrap_date": "2024-05-01T00:06:17.352431", "content": "Thanks Gareth that works a treat "},
{"id": 120262, "question_id": 12026, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T20:36:08Z", "scrap_date": "2024-05-01T00:06:17.969427", "content": "Turns out I was on a very old version of Serverless 1 4x Upgrading to 1 7x fixed this "},
{"id": 81532, "question_id": 8153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T20:04:34Z", "scrap_date": "2024-05-01T00:06:18.678223", "content": "See the AWS Documentation for CloudWatch Schedule Expressions The specific rule you want to notice is"},
{"id": 81533, "question_id": 8153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T20:27:30Z", "scrap_date": "2024-05-01T00:06:18.678717", "content": "Thats a good point on the cron expression but it doesnt help with the general parsing issue With proper indentation serverless is complaining about the rate property missing With improper indentation it rightly but confusingly as it send no warning just ignores the schedule "},
{"id": 81534, "question_id": 8153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T22:38:59Z", "scrap_date": "2024-05-01T00:06:18.679720", "content": "I know this is old but I just ran into the same issue so Ill leave the answers for others if they make the same mistake I did The AWS schedule syntax is not standard cron and they really shouldnt call it that httpsdocs aws amazon comAmazonCloudWatchlatesteventsScheduledEvents html It has an extra field at the end to specify the year so a proper AWS schedule syntax has 6 fields and would look like"},
{"id": 62582, "question_id": 6258, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-30T06:40:15Z", "scrap_date": "2024-05-01T00:06:19.514538", "content": "I have same problem in July 2020 I see things doesnt change here If its not supported then why write it in documentation Is this documentation first project"},
{"id": 126552, "question_id": 12655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T16:35:17Z", "scrap_date": "2024-05-01T00:06:20.567418", "content": "One other piece of information the typeof data received in event body is a string However I cannot seem to convert this into anything useful"},
{"id": 126553, "question_id": 12655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-24T21:22:46Z", "scrap_date": "2024-05-01T00:06:20.568420", "content": "So it appears this is a serverlessoffline problem when running within AWS the data is converted to a base64 encoded string Therefore I guess the question is is the contentHandling CONVERT_TO_TEXT option not supported in serverlessoffline"},
{"id": 119382, "question_id": 11938, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-06T14:42:05Z", "scrap_date": "2024-05-01T00:06:22.687371", "content": "NM After lots of digging I determined that what I was trying to do required an entry in the resources section of the template yml file shown below Lots of digging required Very slow going "},
{"id": 119372, "question_id": 11937, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-06T15:47:38Z", "scrap_date": "2024-05-01T00:06:23.636367", "content": "Hi Does your lambda involve the express server If one lambda function handles over many requests then it should be express server inside one lambda function with node js Its working like server but lambda have limited timeout You can get an idea from this blog serverless Deploy a REST API using Serverless Express and Node js Learn how to use the popular Express js framework to deploy a REST API with Serverless DynamoDB and API Gateway "},
{"id": 19352, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T09:50:28Z", "scrap_date": "2024-05-01T00:06:24.586185", "content": "I understand your query but can you explain your use case of using groups as opposed to multiple userpools i e 1 pool for admins and other for customers "},
{"id": 19353, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T12:17:20Z", "scrap_date": "2024-05-01T00:06:24.587201", "content": "That is what I ended up doing but its kind of a pain to manage because I have to check two different user pools any time I want to do any sort of authentication It also means that if I want to have different pools per environment I need to have two per environment instead of just one Finally it seems like this is exactly what user groups were meant for fine grain control over a pool "},
{"id": 19354, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T08:17:24Z", "scrap_date": "2024-05-01T00:06:24.588185", "content": "Did you try creating 2 different groups with separate roles with limited privileges i e one role with write privileges for admins assigned to ADMINS group and 2nd role with read only policy for users assigned to CUSTOMERS group within the same userpool You can also assign precedence in case your users are falling into 2 different groups You can refer this link for preparing resources for your service related to cognito user groups httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpoolgroup html In your serverless yml file you can specify only the ARN of UserPool Let me know if this works If not I will try it over the weekend and update on this thread "},
{"id": 19355, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-01T10:53:51Z", "scrap_date": "2024-05-01T00:06:24.589186", "content": "Hi Arb are you using the provided Cognito User Pool Authorizer If so this only supports YesNo access to the API Cognito groups only apply if your performing a token JWT exchange for SigV4 credentials then any calls to API Gateway or native AWS APIs are performed with the IAM permissions you set for the users group groups can be switched if a user is a member of more than one We built a custom authoriser that looks at the roles within the JWT and builds a policy for the API Gateway by looking up the relevant groups IAM policies and this then allowed us to use the Cog Ito groupspreferred group to control access to our APIs So Admins could invoke say update and delete where as Users maybe only read and limited updates I based the Custom Authoriser on the example on GitHub from AWS But was rewritten in C "},
{"id": 19356, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T13:23:56Z", "scrap_date": "2024-05-01T00:06:24.591186", "content": "Yes Im using the provided Cognito User Pool Authorizer Im totally fine with yesno access to the API I just didnt want to have to split my users across two user pools to make this work When I became aware of groups this seemed like the perfect fit I thought about building a custom authorizer but I had an extremely hard time believing no one in the community has ever tried this before"},
{"id": 19357, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T13:36:42Z", "scrap_date": "2024-05-01T00:06:24.591186", "content": "Im sure there a some people doing it but we didnt find any maybe like my client it ends up being their IP and they are not into sharing for what ever reason Rumours of a more advanced User Pool authoriser are abound supporting groups like we built but to be honest it wasnt a lot of changes to the example code provided But you could raise it as a requested feature with AWS "},
{"id": 19358, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T04:11:30Z", "scrap_date": "2024-05-01T00:06:24.592186", "content": "arb this may help you httpsaws amazon comblogsmobilebuildingfinegrainedauthorizationusingamazoncognitouserpoolsgroups"},
{"id": 19359, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-17T04:52:13Z", "scrap_date": "2024-05-01T00:06:24.593187", "content": "Hi Arb are you using the provided Cognito User Pool Authorizer If so this only supports YesNo access to the API While you are correct the the provided Cognito User Pool Authorizer is only yesno you can inspect the claims in the JWT token in either your mapping template context authorizer claims[cognitogroups] Integrate a REST API with an Amazon Cognito user pool Amazon API Gateway or a lambda function Accessing user claims in lambda with AWS_IAM authorizer Issue 320 amazonarchivesamazoncognitoidentityjs GitHub by and then providing logic based on the result FYI"},
{"id": 193510, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T18:40:28Z", "scrap_date": "2024-05-01T00:06:24.594187", "content": "I just developed a middleware to manage permissions based on Cognito users group marcosantonocitomiddycognitopermission"},
{"id": 193511, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-06T15:52:58Z", "scrap_date": "2024-05-01T00:06:24.595187", "content": "You can use customAuthorizer to use two groups in one user pool You just need to create two custom authorizers for admin and customers You can create the policy for the user types You can get some idea from this httpsgithub comawslabsawssupporttoolstreemasterCognitodecodeverifyjwt"},
{"id": 193512, "question_id": 1935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-07T12:12:16Z", "scrap_date": "2024-05-01T00:06:24.595187", "content": "The way that we approached this is by defining AWSCognitoUserPoolGroup groups as part of the resources block in the serverless YAML An IAM role is also defined and assigned to this User Pool Group and this has the IAM policies defined for that particular User Pool Group We have a bunch of different APIs for our web app functionality which are defined as separate Serverless YAMLs A single Cognito User Pool is used and users within this pool can be assigned to multiple User Pool Groups For each API we just assigned the User Pool as the authoriser but for both Access Tokens and ID Tokens you can access the user group claims within them for a user This means that we just add a simple bit of logic to the lambda function to check whether a user is in the required group and if so adopt the role that is assigned You can use STS Assume Role for this To prevent calling of the API in the first place you can use API keys for this I liked this approach because everything can be defined with the YAML template and you can clearly see what permission your Lambda function will have either in the YAML or by looking at the IAM role within AWS As an aside I am currently trying to do this on Azure using the Serverless Framework and currently struggling to see how it can be achieved without making separate ARM templates "},
{"id": 117672, "question_id": 11767, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-09T21:02:09Z", "scrap_date": "2024-05-01T00:06:25.470539", "content": "I was wondering the same Were you able to find a way "},
{"id": 117673, "question_id": 11767, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-10T01:15:36Z", "scrap_date": "2024-05-01T00:06:25.471545", "content": "I couldnt find a way to do it in the framework but got my usecase working by deploying the project then manually editing the Lambda settings in the AWS console adding the subnet ids and security group ids in the VPC section The VPC settings persist when the app is redeployed I thought about having some kind of postdeploy hook that sets the VPC info aws lambda updatefunctionconfiguration functionname myfunction vpcconfig SubnetIds[]SecurityGroupIds[] but Im not dynamically adding new projects so manually editing in the console once worked for my usecase "},
{"id": 119772, "question_id": 11977, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-10T07:14:32Z", "scrap_date": "2024-05-01T00:06:26.447457", "content": "Hi Fran As you said it should work with the region configured in the serverless yaml can you please share your code Usually Im using serverlessdotenvplugin have you tried it Bye "},
{"id": 119773, "question_id": 11977, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-10T08:53:00Z", "scrap_date": "2024-05-01T00:06:26.448457", "content": "Hi Marco I opened an issue in GitHub and it seems to be a bug the serverless yml that I am using is in the issue Here is the link httpsgithub comserverlessserverlessissues7929 Thanks Fran"},
{"id": 49782, "question_id": 4978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-11T00:34:54Z", "scrap_date": "2024-05-01T00:06:27.331179", "content": "Bump I have the same running the createUser tutorial from serverless "},
{"id": 119602, "question_id": 11960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-08T15:09:52Z", "scrap_date": "2024-05-01T00:06:28.421305", "content": "Perhaps its best to give an example borrowed from Alex Debries article on onetomany modeling in DynamoDB Imagine I have a DynamoDB table that looks like this When I do a query for all rows in the Microsoft Organization I get back JSON that looks like this and I want my API to return the following JSON to the client Most API examples I see online assume the format that comes out of DynamoDB is exactly what the API returns However as this example shows I want to return a different format How are people doing this in their own APIs"},
{"id": 119603, "question_id": 11960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-10T19:03:17Z", "scrap_date": "2024-05-01T00:06:28.422305", "content": "Am I correct to assume youre using lambda proxy integration You may want to use a projection httpsdocs aws amazon comamazondynamodblatestdeveloperguideExpressions ProjectionExpressions html to tailor your db response or simply manipulate the response json before stringifying it onto the lambda response body "},
{"id": 119604, "question_id": 11960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-12T14:57:59Z", "scrap_date": "2024-05-01T00:06:28.423305", "content": "Im new to DynamoDB so Im learning the vocabulary as I go I was not aware of Projection Expressions thanks for that tip It appears that Projection Expressions allow me to filter the results of a query which will definitely be useful However Im not sure its quite what Im looking for in terms of shaping the JSON response from my API Im finding that your second suggestions is likely what Ill be doing e g manipulate the response JSON before stringifying I had wondered if people were using any particular techniquetools to manipulate the response I suppose manipulating maps in Javascript isnt too awful"},
{"id": 120072, "question_id": 12007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T10:55:09Z", "scrap_date": "2024-05-01T00:06:29.521321", "content": "After all of this I realised I dont even need to launch this lambda into the VPC at all and it will get internet access by default and all it needs is access to the lambda service to invoke the functions Due to this is doesnt have any access to my VPC and so on premise so I think this is actually the more secure solution "},
{"id": 119342, "question_id": 11934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T17:00:47Z", "scrap_date": "2024-05-01T00:06:30.169077", "content": "Hi Apparently it is possible I havent try yet but I found this guide that show you how can you do it Build a REST API using the Apple Swift AWS Lambda Runtime Reading time 4 min read and also this one In this tutorial well build a simple Swift Serverless REST API endpoints to create update delete and retrieve list of todo items Reading time 20 min read"},
{"id": 119972, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T07:22:58Z", "scrap_date": "2024-05-01T00:06:31.239278", "content": "That doesnt sound right there is no retry policy in the serverless framework that I know of If it is still doing this then I would recommend running sls remove to decomission your AWS APIs etc as you will eventually get charged for this Can you post a link to the tutorial you followed"},
{"id": 119973, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T09:06:01Z", "scrap_date": "2024-05-01T00:06:31.240278", "content": "It is possible it is just an automated tool run by anyone with the time to download it and do some basic config against your endpoint It doesnt have to be intentional a lot of these tools can just iterate through possible domain values and make requests I would recommend getting in touch with AWS to investigate further what the cause may be as well The Serverless Frameworkmakes no additional requests your endpoints at all all metrics needed are retrieved via a CloudWatch subscription that happens asynchronously in the background and in no way involves HTTP at all "},
{"id": 119974, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T16:11:46Z", "scrap_date": "2024-05-01T00:06:31.241278", "content": "Ok i tried to run sls remove I had a custom domain mapped to the api so the function failed and left my service in a broken state I went and removed the domain mapping from api gateway and then tried to run sls remove again but it already removed the s3 bucket so my dashboard still showed the service the lambda functions were removed but the api was not removed and the dynamodb wasnt removed either I manually deleted the api and the dynamodb table from the aws console and tried to see if i could deploy again it started giving me an error Application not found so i had to open the dashboard delete and recreate the app to try a deploy again Now the deploy failed with the following Warned no cfnRole set details httpslss iosgrequirecfnrole Require the cfnRole option which specifies a particular role for CloudFormation to assume while deploying I dont remember having to add anything like that when going through the tutorial so im wondering if i should nuke my repo and start over "},
{"id": 119975, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-07-13T16:38:04Z", "scrap_date": "2024-05-01T00:06:31.243279", "content": "The specific message about cfnRole is just a warning based on one of the default safeguards set on your deployment profile You can actually ignore that Any issue with your deployment would be related to an error after that message"},
{"id": 119976, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T16:40:05Z", "scrap_date": "2024-05-01T00:06:31.244279", "content": "I thought so the actual error ended up being that the s3 bucket didnt exist anymore and it was recommended that i manually create it So i did that and did another deploy which seemed to be successful at least to the point that the output said it was pushed to the dashboard but i dont see the api in api gateway It also seems to have the exact same url slug as the old one that i removed im wondering if there is a way to force it to completely generate a new service "},
{"id": 119977, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T16:41:16Z", "scrap_date": "2024-05-01T00:06:31.245279", "content": "The tutorial is here httpswww youtube comwatchvVlyaZuY_XLk this video and the one with 17 User Creation in its title that is part of the same playlist "},
{"id": 119978, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T16:44:46Z", "scrap_date": "2024-05-01T00:06:31.245279", "content": "Now im getting Stackarnawscloudformationuswest2222008606357stackuserservicedevf5563230c17611ea82bd0a5d164d0af8 is in DELETE_FAILED state and can not be updated even using sls deploy force doesnt seem to help "},
{"id": 119979, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T17:14:20Z", "scrap_date": "2024-05-01T00:06:31.246280", "content": "I renamed the app and service to something else in my serverless yml and the deploy functions perfectly So something must have gotten out of sync "},
{"id": 1199710, "question_id": 11997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-13T17:45:40Z", "scrap_date": "2024-05-01T00:06:31.247280", "content": "If you go to the CloudFormation service inside AWS you can manually remove the service You may need to jump through a few hoops with deleting of specific resources in the CloudFormation stack but once that is deleted a new deploy from that point on is a whole new stack You could also just change the service name slightly to force creation of a new stack "},
{"id": 80242, "question_id": 8024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-14T23:49:27Z", "scrap_date": "2024-05-01T00:06:32.292573", "content": "I am hitting this now Curious if anyone ever answered or if it was resolved"},
{"id": 72652, "question_id": 7265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-27T12:48:58Z", "scrap_date": "2024-05-01T00:06:33.146385", "content": "Hey there have you found a solution for it I am looking for the solution using webpack and share common data between the serverless files Thanks"},
{"id": 72653, "question_id": 7265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T04:47:05Z", "scrap_date": "2024-05-01T00:06:33.147385", "content": "Yes I did I restructured my application as I mentioned Used webpack babel to share common resource Works perfect for me You can Refer This"},
{"id": 72654, "question_id": 7265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-26T05:49:44Z", "scrap_date": "2024-05-01T00:06:33.148386", "content": "Hi can you explain a bit about how youve used webpack to solve the issue of sls offline with multiple serverless yml files We already use webpack but still need to get round the CloudFormation 200 resource limit Ive not found a nice way to solve it so far "},
{"id": 72655, "question_id": 7265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-15T06:15:19Z", "scrap_date": "2024-05-01T00:06:33.149386", "content": "Hi martingo I am also searching for the solution to deploy multiple yml files with single command have you found it"},
{"id": 41882, "question_id": 4188, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-16T23:09:42Z", "scrap_date": "2024-05-01T00:06:34.066921", "content": "Please try this httpswww alibabacloud comhelpdocdetail52995 htm"},
{"id": 41883, "question_id": 4188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-18T22:41:32Z", "scrap_date": "2024-05-01T00:06:34.066921", "content": "You might want to try this Serverless Alibaba Cloud Function Compute Plugin Add Alibaba Cloud Function Compute support to the Serverless Framework GitHub aliyunserverlessaliyunfunctioncompute Serverless Alibaba Cl "},
{"id": 41884, "question_id": 4188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-18T09:13:00Z", "scrap_date": "2024-05-01T00:06:34.067921", "content": "There does not seem to be much recent activity for the Aliyun serverless plugin Is Serverless Framework community actively supporting the Aliyun plugin Or are we really just on our own"},
{"id": 120622, "question_id": 12062, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-20T07:40:39Z", "scrap_date": "2024-05-01T00:06:34.840812", "content": "What happens when you try Remember you can serverless print to see what the serverless yml would look like with all variables added and files inserted "},
{"id": 110272, "question_id": 11027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-14T22:18:54Z", "scrap_date": "2024-05-01T00:06:35.552761", "content": "Same issue as listed here"},
{"id": 110273, "question_id": 11027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-16T07:35:10Z", "scrap_date": "2024-05-01T00:06:35.553761", "content": "I get My serverless yml configs looks like Looks like when I ziptrue or layertrue that is in any way requirements are zipped the serverless deploy in CircleCI still looks for serverlessrequirements dir and fails to find it sls deploy on local works perfectly and so does aws lambda after deployment "},
{"id": 110274, "question_id": 11027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-20T10:48:58Z", "scrap_date": "2024-05-01T00:06:35.554761", "content": "I get My serverless yml configs looks like Looks like when I ziptrue or layertrue that is in any way requirements are zipped the serverless deploy in CircleCI still looks for serverlessrequirements dir and fails to find it teatv shareit sls deploy on local works perfectly and so does aws lambda after deployment no reply "},
{"id": 90342, "question_id": 9034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-10T09:05:06Z", "scrap_date": "2024-05-01T00:06:36.591021", "content": "I fixed this by replacing with"},
{"id": 90343, "question_id": 9034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-25T05:41:10Z", "scrap_date": "2024-05-01T00:06:36.592021", "content": "I met this problem as well What i found is some race condition between IAM role and lambda It seems IAM role takes longer to be created and lambda is set to use the role that is not fully ready I changed the provider role to be lambdaRole It seems to fix the dependency or race condition issue "},
{"id": 13682, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 7, "created_date": "2017-02-21T22:41:30Z", "scrap_date": "2024-05-01T00:06:38.512415", "content": "Something like this should work"},
{"id": 13683, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T14:52:23Z", "scrap_date": "2024-05-01T00:06:38.513416", "content": "Nice this works Thank you very much One quick question what is the reason for this stage selfopt stage selfprovider stage instead of simply using selfopt stage Thanks"},
{"id": 13684, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-22T18:54:13Z", "scrap_date": "2024-05-01T00:06:38.514416", "content": "It allows the user to override the stage on the command line "},
{"id": 13685, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-05T18:23:51Z", "scrap_date": "2024-05-01T00:06:38.514416", "content": "Im pretty new to serverless and this might be a dumb question FnJoin [ [arnawssns selfcustom region Ref AWSAccountId selfcustom alertDispatchTopic ] ] yields an object during runtime that lacks the account ID i e it just has Ref AWSAccountId How do you get this to reduce out to a string I should note that Im testing this in serverlessoffline so that might affect this as well "},
{"id": 13686, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-05T22:42:06Z", "scrap_date": "2024-05-01T00:06:38.515421", "content": "johnhaley81 Its Cloud Formation syntax thats resolved during deployment If youre using serverlessoffline then it probably wont work You could try using different environment variables for each stage see this then use that syntax for prod and put the ARN for an SNS topic you manually created into development "},
{"id": 13687, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-05T22:47:17Z", "scrap_date": "2024-05-01T00:06:38.516417", "content": "Perfect Thanks buggy "},
{"id": 13688, "question_id": 1368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T09:57:37Z", "scrap_date": "2024-05-01T00:06:38.516417", "content": "Is there a way to put the Arn etc into an environment block so you dont repeat the FnJoin in two places "},
{"id": 117362, "question_id": 11736, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-16T15:35:25Z", "scrap_date": "2024-05-01T00:06:39.440175", "content": "gaiachik If you are setting the lambda proxy means no ways that you can reject See proxy means what pass the request directly to the actual endpoint without any API activity inside Else remove the proxy and do the operations "},
{"id": 117363, "question_id": 11736, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-22T10:12:31Z", "scrap_date": "2024-05-01T00:06:39.441175", "content": "thank you I was entirely missing the point of what lambdaproxy actually means Now it makes a lot of sense a bit of a duh moment cheers "},
{"id": 112282, "question_id": 11228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-24T12:34:40Z", "scrap_date": "2024-05-01T00:06:40.115963", "content": "I managed to do this by moving the statement to a separate managed policy and applying the Condition to that "},
{"id": 112283, "question_id": 11228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T22:26:46Z", "scrap_date": "2024-05-01T00:06:40.117146", "content": "In case you need another approach heres what I did This would only create the EventSourceMapping in prod and dev2 stages "},
{"id": 113962, "question_id": 11396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T23:01:46Z", "scrap_date": "2024-05-01T00:06:41.135167", "content": "Have a gander at serverlessstackoutput plugin It will output the stack to a local file during deployment Have your tests read in the value you need and viola "},
{"id": 118212, "question_id": 11821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T16:43:43Z", "scrap_date": "2024-05-01T00:06:41.943085", "content": "The reason why it is labelled as NotAnErrorType is just because you are not returning an Error type just as the message suggests Wit a custom authorizer you should be returning a policy document with a deny set on the method ARN being accessed as described here httpswww serverless comlearntutorialvalidatejwts"},
{"id": 118213, "question_id": 11821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-23T10:53:15Z", "scrap_date": "2024-05-01T00:06:41.944086", "content": "Hey garethmcc Thanks for coming back to me Thanks for the link I didnt know these videos even existed However I have tried this Deny approach but I am returned with a 500 and empty message using this route return generatePolicy undefined Deny event methodArn It is like it heads to the function after auth with that policy as opposed to returning a 401403 Reading here it should return a 403 Forbidden httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayuselambdaauthorizer html As a side note this tutorial probably needs updating This is an example of how to protect API endpoints with Auth0 JSON Web Tokens jwt and a custom authorizer lambda function Lastly Id like to send my thanks for your help and response rate You have been invaluable and an asset to Serverless and its community Thanks"},
{"id": 118214, "question_id": 11821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-23T11:43:32Z", "scrap_date": "2024-05-01T00:06:41.946086", "content": "Hi garethmcc After testing further I was able to get this working with callback null generateDeny undefined event methodArn However this returns a 403 response For this specific instance when validating the authentication information we would like to return a 401 response We can complete this using callback Unauthorized However we come back to the original issue in that the Dashboard shows this as NotAnErrorType Ideally we would not like these to show as Errors as it would make finding other errors more difficult as these would occur when someones token is not validexpired etc Thanks"},
{"id": 118215, "question_id": 11821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-24T08:09:54Z", "scrap_date": "2024-05-01T00:06:41.947087", "content": "Would you be able to open a chat in the dashboard with me using the Intercom help bubble bottom right Then we can try things in private chat and I can respond back here later with any results for anyone else interested "},
{"id": 118262, "question_id": 11826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T16:51:10Z", "scrap_date": "2024-05-01T00:06:42.672483", "content": "Hi Lior Answered you in Gitter For anyone else coming later and finding this via Google this is the answer I gave Each deployment uses CloudFormation as a way to keep current deployment state This isnt something I have done so YMMV but you could try using the CloudFormation resource import feature In other words deploy your new Serverless service without the existing functions just to get the initial deployment done import the existing functions into the CloudFormation stack created by the deployment add the existing functions to the serverless yml and now when you deploy it should all sync up "},
{"id": 118263, "question_id": 11826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T17:45:53Z", "scrap_date": "2024-05-01T00:06:42.674483", "content": "Thanks for the quick reply I will try this and update on the results"},
{"id": 118264, "question_id": 11826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-24T16:10:32Z", "scrap_date": "2024-05-01T00:06:42.675483", "content": "I cant seem to make it work However I export the Lambda function when I try to import it to the CloudFormation stack created by serverless framework I get an error Any ides"},
{"id": 118282, "question_id": 11828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-24T16:17:25Z", "scrap_date": "2024-05-01T00:06:43.616922", "content": "It turns out our Jenkins deployment somehow changed the permissions of the directory it pulls the github repository into to package Once that was fixed it worked "},
{"id": 68842, "question_id": 6884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-15T21:59:08Z", "scrap_date": "2024-05-01T00:06:44.545800", "content": "Im also experiencing this issue did you find a solution "},
{"id": 68843, "question_id": 6884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-22T08:51:05Z", "scrap_date": "2024-05-01T00:06:44.545800", "content": "Hi my colleague had the same issue and updating his Serverless seemed to solve the issue "},
{"id": 68844, "question_id": 6884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-30T21:22:59Z", "scrap_date": "2024-05-01T00:06:44.546800", "content": "The example from that repo you referenced doesnt look valid Also I dont see your layers property in your serverless yml file Ive got it working with serverless yml and then my lambda function has a property of layers as well like You can reference the lambda layer by name case sensitive e g Test not test appended with LambdaLayer"},
{"id": 68845, "question_id": 6884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-28T09:29:37Z", "scrap_date": "2024-05-01T00:06:44.547800", "content": "Hi you can consider this plugin it attaches automatically layers to your lambda Serverless js plugin that implements AWS Lambda Layers which reduces drastically lambda size warmup and deployment time agutoliserverlesslayers"},
{"id": 68846, "question_id": 6884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T05:23:07Z", "scrap_date": "2024-05-01T00:06:44.548800", "content": "Node Version 12 16 1 Serverless Framework Core Version 1 73 1 I have the same problem and so far I havent been able to attach the layer to the lambda below my serverless yml"},
{"id": 68847, "question_id": 6884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T05:24:23Z", "scrap_date": "2024-05-01T00:06:44.548800", "content": "I tried to use your plugin and was not successful"},
{"id": 94422, "question_id": 9442, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T20:48:20Z", "scrap_date": "2024-05-01T00:06:45.089228", "content": "I found the solution I was missing a keyword package above the include statement in servereless yml and that enables me to include the local modules Below you will see the updated servereless yml and the updated import statement in connection py These are the only changes needed Note that the package include statement can be put at the function level or at the package level depending on how many of your lambda functions should have access to the included local python modules I add my change at the function level servereless yml connection py"},
{"id": 94423, "question_id": 9442, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-12T10:36:51Z", "scrap_date": "2024-05-01T00:06:45.090228", "content": "Does it work with local invoke I designed my packages similarly to yours however when I do local invoke doesnt find the packages Did you test it with the docker option If yes how do you pass custom events Thanks "},
{"id": 94424, "question_id": 9442, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T07:08:26Z", "scrap_date": "2024-05-01T00:06:45.091228", "content": "This is a known issue with a stalled PR and a couple of hacky workarounds httpsgithub comUnitedIncomeserverlesspythonrequirementsissues520"},
{"id": 94602, "question_id": 9460, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-15T23:06:21Z", "scrap_date": "2024-05-01T00:06:45.781919", "content": "I am having the same issues Any recommendations on what is the issue"},
{"id": 94603, "question_id": 9460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-19T20:38:00Z", "scrap_date": "2024-05-01T00:06:45.783094", "content": "same here when I deploy localy using cli serverless deploy stage dev it works fine the problem is only when build is triggered from CICD"},
{"id": 94604, "question_id": 9460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T16:37:15Z", "scrap_date": "2024-05-01T00:06:45.784099", "content": "Having the same issue here can anyone respond to this"},
{"id": 118232, "question_id": 11823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-22T16:48:39Z", "scrap_date": "2024-05-01T00:06:46.838085", "content": "Keeping things as simple as possible makes it less likely for there to be an issue Just zipping everything up and sending it all in one shot is far simpler than trying to determine which function contains which file and potentially get it wrong Besides except for taking up a little extra disk space the additional files do no harm they do not slow down the execution of your Lambda function If you really want to make each function as minimal as possible you can of course use a plugin to bundle things more efficiently but they add complexity and can cause deployment issues "},
{"id": 118233, "question_id": 11823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-25T07:50:28Z", "scrap_date": "2024-05-01T00:06:46.840085", "content": "Hi I managed to only deploy what I need to the lambda by doing the following Add this above your provider section in the yml file Then in your function definition you can decide what to includeexlude using this It applies the exclude first and then the include so effectively you exclude everything and then include only the things you want"},
{"id": 118234, "question_id": 11823, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T17:44:48Z", "scrap_date": "2024-05-01T00:06:46.841080", "content": "Thanks Ill try this out I also changed my code to typescript so now its not even showing me the source code on the lambda function I think your solution can optimize the code and reduce the function size "},
{"id": 67722, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T16:05:15Z", "scrap_date": "2024-05-01T00:06:47.599821", "content": "im running into the EXACT same issue I realize this is 18 months old but did you ever figure this out"},
{"id": 67723, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-25T07:56:01Z", "scrap_date": "2024-05-01T00:06:47.600821", "content": "Here is some sample code that I am using to set up lambda integration This populates the request and response by using velocity templates Let me know if this doesnt cover everything you need or want more info and I will try to help further"},
{"id": 67724, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T14:27:45Z", "scrap_date": "2024-05-01T00:06:47.601822", "content": "what do you have your lambda returning My serverless response looks like this and my lambda returns Unfortunately it is still being returned as a 200 to the client and not a 400"},
{"id": 67725, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-25T16:45:40Z", "scrap_date": "2024-05-01T00:06:47.601822", "content": "my lambda returns this I think setting the context fail is the key to making it realise it has failed"},
{"id": 67726, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T17:05:57Z", "scrap_date": "2024-05-01T00:06:47.602822", "content": "no luck still getting the same thing do you have error code set to 400"},
{"id": 67727, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-25T17:24:06Z", "scrap_date": "2024-05-01T00:06:47.602822", "content": "No error code is just the type of error returned from aws AccessDenied etc Its not because you are missing the statusCodes in your yml is it Are the response templates showing up in the Aws console"},
{"id": 67728, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T17:35:56Z", "scrap_date": "2024-05-01T00:06:47.603822", "content": "Im not sure what you mean by its not because you are missing the statusCodes in your yml is it but i did look at the cloudformationtemplateupdatestack json and see this so i think you are onto something Looks like my response templates are empty but i have the status codes in my serverless yml as listed above"},
{"id": 67729, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-25T17:41:16Z", "scrap_date": "2024-05-01T00:06:47.604822", "content": "If you look at my example above after response I have a line saying statusCodes but you dont"},
{"id": 677210, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-25T17:43:32Z", "scrap_date": "2024-05-01T00:06:47.604822", "content": "Doh lol That was it Just fixed Thanks "},
{"id": 677211, "question_id": 6772, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-25T17:44:59Z", "scrap_date": "2024-05-01T00:06:47.605822", "content": "Awesome Easily missed "},
{"id": 118852, "question_id": 11885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-30T15:21:31Z", "scrap_date": "2024-05-01T00:06:48.438093", "content": "You may have more luck filing an issue over at httpsgithub comserverlessserverlessissues"},
{"id": 118412, "question_id": 11841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-30T19:51:48Z", "scrap_date": "2024-05-01T00:06:49.458043", "content": "Im nearly certain that Serverless doesnt create the Cognito instance Youll need to do that outside of Serverless or use another service like Auth0 Once youve configured Cognito youll know your PoolId and ClientId My suggestion is Get it configured first hard code the variables see if it works httpsdocs aws amazon comcognitolatestdeveloperguidewhatisamazoncognito html"},
{"id": 37943, "question_id": 3794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-30T20:13:33Z", "scrap_date": "2024-05-01T00:06:50.374854", "content": "Hi hope this helps someone else Try using"},
{"id": 115932, "question_id": 11593, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-01T07:10:23Z", "scrap_date": "2024-05-01T00:06:51.442032", "content": "i have created my VM with credentials file but it seems that this cred is for serverless framework and not for the VM how can i create the VM with Service account permission "},
{"id": 115562, "question_id": 11556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T08:59:42Z", "scrap_date": "2024-05-01T00:06:53.112835", "content": "Hi Fairly new myself but you might need to add an outputs section to allow it to be referenced in the lambda environment variables Use the output in this link and see if that works"},
{"id": 116412, "question_id": 11641, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T09:09:14Z", "scrap_date": "2024-05-01T00:06:54.030981", "content": "Hi I think this is one of the settings that cannot be changed once the user pool is created You cant even change it in the cognito console itself If you havent already got genuine user data in there you can remove the stack and then redeploy to get the case sensitivity set correctly "},
{"id": 116413, "question_id": 11641, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T12:19:14Z", "scrap_date": "2024-05-01T00:06:54.031982", "content": "Yes thats why I am asking when creating the userpool fresh from serverless how do I set it correct the first time because like you say the value cant be changed later even from the UI"},
{"id": 116414, "question_id": 11641, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-03T12:49:33Z", "scrap_date": "2024-05-01T00:06:54.032982", "content": "Sorry misread the question That is quite odd as I have been using this CaseSensitive property successfully I have created a brand new serverless project and copied and pasted your resource into it and it also worked fine See below Could it be the version of serverless you are using perhaps I am running on v 1 70 1 at the moment"},
{"id": 116592, "question_id": 11659, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-04T12:17:27Z", "scrap_date": "2024-05-01T00:06:55.023801", "content": "Is it in Org settings Deployment profiles"},
{"id": 116593, "question_id": 11659, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-04T15:04:32Z", "scrap_date": "2024-05-01T00:06:55.024801", "content": "Oh that was it Thanks"},
{"id": 45602, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-24T18:33:54Z", "scrap_date": "2024-05-01T00:06:56.120977", "content": "I ran into this as well I dont think Serverless has a way to handle this itself so I had to disable the hoisting feature of Yarn Workspaces See here for more info on nohoist "},
{"id": 45603, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-21T05:04:50Z", "scrap_date": "2024-05-01T00:06:56.121976", "content": "This is very suboptimal but I had to go with Ryans advice too I made it a little more specific But there are significant issues most notably that dev dependencies are bundled with your app httpsgithub comserverlessserverlesspull3889issuecomment414547166"},
{"id": 45604, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-09-13T15:56:18Z", "scrap_date": "2024-05-01T00:06:56.122977", "content": "We use Yarn Workspaces at our company butterwire as all our JS code is in a mono repo We created a small plugin to help use serverless without requiring to use nohoist for the reasons mentioned above It might have some rough edges but hopefully its useful to some A Serverless plugin that allows use of serverless in a JS mono repo GitHub Butterwireserverlesspluginmonorepo A Serverless plugin that allows use of serverless in a JS mono repo "},
{"id": 45605, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-15T18:12:01Z", "scrap_date": "2024-05-01T00:06:56.123977", "content": "Thank you This is what Ive been looking for "},
{"id": 45606, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-22T12:55:08Z", "scrap_date": "2024-05-01T00:06:56.123977", "content": "Does anyone have an example of how to create a project with yarn workspaces and serverlesspluginmonorepo"},
{"id": 45607, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T21:04:07Z", "scrap_date": "2024-05-01T00:06:56.124977", "content": "Although Ive had success using serverlesspluginmonorepo packaging up the hoisted dependencies Im still running into issues packaging up local packages not published to an external repo Local builds work fine but serverless package errors with Im using serverlesswebpack and it seems the issue lies with that plugin I switched to serverlessjetpack and it packaged and deployed correctly but Id prefer to manage the packaging of the lambda with webpack for minification etc if possible "},
{"id": 45608, "question_id": 4560, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-07T17:20:35Z", "scrap_date": "2024-05-01T00:06:56.126237", "content": "Hi DanRivett Im also facing the same issue After switching to serverlessjetpack it seems bundling is working however Im not able to apply babel to convert the ES6 code to commonjs and so it fails during runtime Any thoughts on how to do that With webpack such things were explicit configurations "},
{"id": 27392, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-21T04:34:45Z", "scrap_date": "2024-05-01T00:06:56.973182", "content": "You cant yet use the YAML CFN functions in Serverless its all converted to JSON under the hood If you replace it with a straight Ref object it should work fine "},
{"id": 27393, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-21T04:46:17Z", "scrap_date": "2024-05-01T00:06:56.974182", "content": "Hi Do you have a sample serverless yml which does that"},
{"id": 27394, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-09-21T09:14:00Z", "scrap_date": "2024-05-01T00:06:56.974182", "content": "Changing the first part of your snippet will fix the error youre reporting"},
{"id": 27395, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-21T18:48:53Z", "scrap_date": "2024-05-01T00:06:56.975182", "content": "Awesome that worked One more question Can I also limit the iamRoleStatements to this Queue Right now I have this I tried changing that to the following but that doesnt work "},
{"id": 27396, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-09-21T19:44:50Z", "scrap_date": "2024-05-01T00:06:56.975182", "content": "Yes but the IAM Resource requires the Arn instead of the Url So use the following Or if you prefer limit the role to only allow adding messages to the queue like so Hope it helps "},
{"id": 27397, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-21T21:44:56Z", "scrap_date": "2024-05-01T00:06:56.976183", "content": "Awesome it works Thanks a lot "},
{"id": 27398, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T23:53:05Z", "scrap_date": "2024-05-01T00:06:56.976183", "content": "Same questions Thanks You rock "},
{"id": 27399, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-14T10:45:09Z", "scrap_date": "2024-05-01T00:06:56.977183", "content": "So I have just hit this snag However in place of the SQS QueueUrl being return I get [object Object] as the environment variable Not sure why"},
{"id": 273910, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-11T21:40:38Z", "scrap_date": "2024-05-01T00:06:56.977183", "content": "This is why your env variable points to a reference not to a value Maybe you are running your lambda on your local machine as me This is because there is not exist a defined stage in our local machines In my case I used this plugin in order to get the value in my environment value See this post which use serverlesscloudsideplugin in order to define a stage locally and then get the real environment variable value At the beginning QUEUE_URL had [Object object] string value after using cloudside plugin I got the real value"},
{"id": 273911, "question_id": 2739, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-09T19:21:23Z", "scrap_date": "2024-05-01T00:06:56.979183", "content": "Adding a proper working example for anyone who lands on this page CREDIT TO httpsdev topiczmar_0awslambdasqseventswithserverlessframeworkoj6 CREDIT TO httpsdev topiczmar_0awslambdasqseventswithserverlessframeworkoj6"},
{"id": 117242, "question_id": 11724, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-10T14:54:33Z", "scrap_date": "2024-05-01T00:06:58.073684", "content": "I have figured it out Looking forward to help others on this issue "},
{"id": 114112, "question_id": 11411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-10T08:00:47Z", "scrap_date": "2024-05-01T00:06:59.139940", "content": "I am also looking for the answer to this Did you get anywhere with it Thanks "},
{"id": 114113, "question_id": 11411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-11T16:35:26Z", "scrap_date": "2024-05-01T00:06:59.140940", "content": "Hi sajithneyo gaiachik Not sure whether i understood your requirement correctly Correct me if im wrong your requirement is accept only of contentType applicationjson and how to achieve the same using serverless correct If i understood correctly means provider name aws runtime nodejs10 x description Test API for contentType optional Description to publish to AWS region useast1 stage Testdev functions GetCart handler handler hello events http path test1 method get authorizer aws_iam integration http cors false request uri httpkarthibalu simplesite com passThrough NEVER template applicationjson parameters headers XEpUserRoles false XEpUserScopes false XEpUserTraits false XRequestedWith false XRequestId false XEpUserId false response statusCodes 200 pattern headers StrictTransportSecurity maxage31536000 AccessControlExposeHeaders cLocation AccessControlAllowOrigin Original Url cLocation integration response header Location 500 pattern 500 headers StrictTransportSecurity maxage31536000 AccessControlAllowOrigin Original Url Let me know if this suits the requirement Thanks Always welcome for needy "},
{"id": 114114, "question_id": 11411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-11T18:02:15Z", "scrap_date": "2024-05-01T00:06:59.143941", "content": "Hello and thank you Yes I realized that actually my question was different because i am using lambdaproxy integration I realized later that you can do it with the lambda one and NEVER as option for pass through What Ive done right now with lambdaproxy integration feels hacky i e i just check the headers in the handler and return a 400 if they dont match I was hoping to find a way to do it without using lambda integration but i could not find any info on how to do it with lambdaproxy Maybe its not a possible setting I did open a separate topic for my question in case you know the answer to that too Reject requests based on contenttype header lambdaproxy Thank you Gaia"},
{"id": 117202, "question_id": 11720, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-15T20:42:43Z", "scrap_date": "2024-05-01T00:06:59.946928", "content": "Hi Noel Heres a github repo with a sample deployment It does the following "},
{"id": 94492, "question_id": 9449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-07T19:07:34Z", "scrap_date": "2024-05-01T00:07:00.953409", "content": "Ay I got the same error with my S3 events block Did you find a solution EDIT I found the solution in Github You need to delete your events and recreate them I did that and now it works fine I hope it can help Here is my code "},
{"id": 94493, "question_id": 9449, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-06-16T10:25:40Z", "scrap_date": "2024-05-01T00:07:00.954409", "content": "Nice it works In case anybody doesnt know how to delete S3 events please jump to httpsdocs aws amazon comAmazonS3latestuserguideenableeventnotifications html for details "},
{"id": 117842, "question_id": 11784, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-22T03:48:39Z", "scrap_date": "2024-05-01T00:07:01.993044", "content": "bad indent I suppose "},
{"id": 72762, "question_id": 7276, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T00:22:06Z", "scrap_date": "2024-05-01T00:07:03.042832", "content": "Hi yoouuri Im getting the same error as well when trying to do the same thing You figure this out Or still stuck too"},
{"id": 72763, "question_id": 7276, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-03T00:34:06Z", "scrap_date": "2024-05-01T00:07:03.043833", "content": "I also have the same issue with the same yaml above anyone has a solution thanks "},
{"id": 75922, "question_id": 7592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T15:44:23Z", "scrap_date": "2024-05-01T00:07:04.156663", "content": "Ok I think Ive got this worked out now The referenced name needs to be in CF format so TransformKinesisLambdaFunction in this case "},
{"id": 75923, "question_id": 7592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-03T00:38:48Z", "scrap_date": "2024-05-01T00:07:04.157662", "content": "Hi ishmeister could you please show me your role definiton DeliveryStreamRole Basically I have the same setting as yours But I kept on have the error on generating DeliveryStream Im not sure why "},
{"id": 126472, "question_id": 12647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-25T15:54:50Z", "scrap_date": "2024-05-01T00:07:05.257065", "content": "SOLUTION my project folder had to be on a file system which gave me permission to perform sls deploy without using sudo"},
{"id": 142352, "question_id": 14235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T06:39:31Z", "scrap_date": "2024-05-01T00:07:06.430754", "content": "Would you be able to paste your serverless yml as the issue is likely there "},
{"id": 142353, "question_id": 14235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T08:15:40Z", "scrap_date": "2024-05-01T00:07:06.430754", "content": "Sure i had included the link I have copied the contents too now "},
{"id": 142354, "question_id": 14235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-03T10:50:16Z", "scrap_date": "2024-05-01T00:07:06.431754", "content": "Hi I have similar problem But just similar Not same Exceptions are different Could it be a general CICD problem My question link"},
{"id": 142355, "question_id": 14235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-07T17:03:15Z", "scrap_date": "2024-05-01T00:07:06.431754", "content": "Im really not sure whats going wrongright but it started working for me again on its own Now im stuck with a different issue already listed in GitHub Unsettled promises Issue 5972 serverlessserverless GitHub Again this is only happening in my GitLab pipelines"},
{"id": 109612, "question_id": 10961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T15:04:41Z", "scrap_date": "2024-05-01T00:07:07.424776", "content": "You can create private API GWs reference section Configuring endpoint types Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework Youll also need to define VPC Endpoint you are using"},
{"id": 147732, "question_id": 14773, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-02T15:30:07Z", "scrap_date": "2024-05-01T00:07:08.247674", "content": "Hi I was having this issue as well however I found it to be an erroneously error My service loaded the outputs from my other application and deployed fine If you have variablesResolutionMode 20210326 set in your serverless config you will need to remove it as it will throw an error instead of just a warning Hope this helps "},
{"id": 115092, "question_id": 11509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-27T19:28:47Z", "scrap_date": "2024-05-01T00:07:10.083123", "content": "I would like to know if anyone was able to figure this out as well"},
{"id": 103832, "question_id": 10383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-15T13:27:03Z", "scrap_date": "2024-05-01T00:07:11.064575", "content": "thedrivendev Were you able to find a solution to this Todd"},
{"id": 103833, "question_id": 10383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-27T20:03:14Z", "scrap_date": "2024-05-01T00:07:11.065576", "content": "Hi Todd Sorry for missing your message I was able to find a way around this by prepending all of my routes with api The CloudFront routing still seems strange to me Ive been away from serverless for the past few months but jumping back in now Thanks "},
{"id": 109492, "question_id": 10949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-08T23:07:43Z", "scrap_date": "2024-05-01T00:07:11.995196", "content": "Have run into same problem did you find a resolution"},
{"id": 109493, "question_id": 10949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-16T07:35:27Z", "scrap_date": "2024-05-01T00:07:11.996196", "content": "I have exactly the same problem when I run sls deploy the function is created without the necessary permissions to be publicly accessible From what Ive read as of January 15 2020 HTTP functions require authentication by default You can specify whether a function allows it to be invoked without authentication at the time it is deployed or later Does anyone have a solution Thank you "},
{"id": 109494, "question_id": 10949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-05T07:16:59Z", "scrap_date": "2024-05-01T00:07:11.996196", "content": "Facing same issue Any solutions "},
{"id": 109495, "question_id": 10949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-28T01:47:32Z", "scrap_date": "2024-05-01T00:07:11.997197", "content": "Im having the same issue Cloud Endpoints may help but I feel that is not the only way to gain access One thing I did notice is that your userservice account must have the role Cloud Functions Admin If you have that role you can use sis invoke f functionnameherefromserverlessyml Please let me know if you figure out how to invoke via curl Thanks "},
{"id": 54032, "question_id": 5403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-10T18:19:48Z", "scrap_date": "2024-05-01T00:07:12.756606", "content": "Shooting from the hip here but maybe you need to include the SqsQueue in the DependsOn list for SnsQueuePolicy Just thinking that if its trying to reference the Queue and it hasnt finished creating it yet "},
{"id": 54033, "question_id": 5403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-10T20:13:08Z", "scrap_date": "2024-05-01T00:07:12.757606", "content": "SnsSubscription depends on both the queue and the topic and the queue policy then depends on the subscription so indirectly it has a dependency on both of them iiuc CloudFormation shows the policy being created last and if I do it in two stages first all the resources except the policy then add the policy to serverless yml and redeploy it errors out it in the same way as well "},
{"id": 54034, "question_id": 5403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-13T07:43:33Z", "scrap_date": "2024-05-01T00:07:12.758606", "content": "I found the issue It seems like Version 20121017 was expanded into a full ISO 8601 timestamp When I have time Ill do some more digging might be a bug "},
{"id": 54035, "question_id": 5403, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-02T10:18:52Z", "scrap_date": "2024-05-01T00:07:12.758606", "content": "I faced the same issue turns out the value for Version has to be quoted thanks to your hint on this Version 20121017 or Version 20121017"},
{"id": 54036, "question_id": 5403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-28T01:54:51Z", "scrap_date": "2024-05-01T00:07:12.759606", "content": "I know this is a bit old but would you mind post a snippet of the resource definition that worked for you including the queue creation and the policy creation Thanks"},
{"id": 28872, "question_id": 2887, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-19T23:43:02Z", "scrap_date": "2024-05-01T00:07:13.437791", "content": "Any updates on this In my opinion this is a musthave "},
{"id": 28873, "question_id": 2887, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-28T02:06:35Z", "scrap_date": "2024-05-01T00:07:13.438797", "content": "I dont believe path and method are valid definitions in your serverless yml for GCP Please read httpswww serverless comframeworkdocsprovidersgoogleeventshttp"},
{"id": 98242, "question_id": 9824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-11T22:46:31Z", "scrap_date": "2024-05-01T00:07:14.068768", "content": "answering my own question since found the way"},
{"id": 98243, "question_id": 9824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-28T13:34:53Z", "scrap_date": "2024-05-01T00:07:14.069768", "content": "If i follow what you proposed I receive this error Failed to create resource Configurations overlap Configurations on the same bucket cannot share a common event type I have the feeling we just can have 3 differents notifications on the s3 bucket However if I check manually I can have one single notifications for the three events Dont understand "},
{"id": 98244, "question_id": 9824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-28T15:38:00Z", "scrap_date": "2024-05-01T00:07:14.070769", "content": "Hi When I get the error of configurations overlapping is because the trigger was created manually hence serverless deployment will not overwrite it Id manually go in the AWS console delete whatever notification you have on that bucketpath and then re attempt to deploy "},
{"id": 115712, "question_id": 11571, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-27T21:00:46Z", "scrap_date": "2024-05-01T00:07:14.813633", "content": "I think the error is in the Resource I believe you need to use Sub to substitute the variable into the arn Try Sub arnawss3 selfprovider environment S3_BUCKET Theres other syntax for this as well but it is the most straightforward for my use I am also new to serverless but in my experience it has been difficult to debug so I have relied heavily on the Cloudformation Docs and trial and error Hope this helps "},
{"id": 115713, "question_id": 11571, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-28T17:40:12Z", "scrap_date": "2024-05-01T00:07:14.814633", "content": "Yup that worked Thanks man"},
{"id": 3382, "question_id": 338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T00:35:30Z", "scrap_date": "2024-05-01T00:07:15.788576", "content": "I just ran into something similar with apigateway to lambda to dynamodb So I went into my AWS console and found the role serverless created in the IAM console and attached an admin policy to it just for testing purposes and cleared it up I too would think this could be configurable but havent quite figured it out Still finding my way around as well Examples would be great "},
{"id": 3383, "question_id": 338, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-09-20T03:11:14Z", "scrap_date": "2024-05-01T00:07:15.789576", "content": "Just watch out with that Adrian as you might have issueserrors when removing the service that youve modified manually since resources are managed by CloudFormation in the background Ideally you would give you functions more IAM permissions Heres what I have to allow my functions to call each other This way the permissions are managed by CFN and will be cleanedup for you and in the right order so you dont get any surprises "},
{"id": 3384, "question_id": 338, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-20T12:59:28Z", "scrap_date": "2024-05-01T00:07:15.790576", "content": "Thank you rowanu That worked beautifully I am very quickly learning that I need to learn a lot more about CFN in order to get the most out of this framework and AWS frankly "},
{"id": 3385, "question_id": 338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T22:51:05Z", "scrap_date": "2024-05-01T00:07:15.791577", "content": "I agree I had not seen the lambda yaml for working with DynamoDB when I tried some I did find out on the web I was having no luck So thanks Ill refactor Is there a good place in the docs to see these examples Or am I missing it"},
{"id": 3386, "question_id": 338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T22:54:26Z", "scrap_date": "2024-05-01T00:07:15.792577", "content": "NM I found this httpsserverless comblogserverlessv10betarelease2 Sorry getting there slowly Works great "},
{"id": 3387, "question_id": 338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-24T05:53:58Z", "scrap_date": "2024-05-01T00:07:15.792577", "content": "Thanks Works like charms "},
{"id": 3388, "question_id": 338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-08T17:37:06Z", "scrap_date": "2024-05-01T00:07:15.793577", "content": "using Resource in your policies often represents a security risk You should probably use something more granular and specify a sourceArn specific to the lambda you would like to be allowed to invoke "},
{"id": 3389, "question_id": 338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-29T06:35:17Z", "scrap_date": "2024-05-01T00:07:15.793577", "content": "I would like to avoid doing Resource but I have no idea how to write out the granular roleresource in Cloudformation syntax in my serverless yml "},
{"id": 115102, "question_id": 11510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-30T06:55:33Z", "scrap_date": "2024-05-01T00:07:16.746245", "content": "I have the same issue with a different file six py I also uninstalled back to 1 71 1 and it worked Seems like this is a bigger issue"},
{"id": 114342, "question_id": 11434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-14T08:58:51Z", "scrap_date": "2024-05-01T00:07:17.647527", "content": "What may work better is to deploy first to use the new table before restoring That way there is no existing table "},
{"id": 114343, "question_id": 11434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-14T11:38:18Z", "scrap_date": "2024-05-01T00:07:17.648526", "content": "Thanks for the reply The problem is DynamoDB pointintime restore will not let you restore to an existing table you have to create a new one when you restore So if we created the table before the restore we could use pointintime restore to restore data to the table we created for the deploy We followed the guidelines in the serverlessstack com tutorial when setting up our yml files When you update this yml to use the restored table is when you get the error This tutorial also has a section on enabling pointintime restore but it doesnt cover how to actually do a restore and update your lambda functions to use the new table that gets created when you do a restore I believe what may work is having the lambda functions use an environment variable that is set to the new table we can update the environment variable in the yml files then deploy and shouldnt encounter the table already exists error "},
{"id": 114344, "question_id": 11434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-15T06:54:55Z", "scrap_date": "2024-05-01T00:07:17.650527", "content": "The old way is to use AWS Data Pipeline It should be able to restore to an existing table It requires more effort and it is slower But it might just solve your problem In theory Never done this myself So I try it out on a safe environment first "},
{"id": 114345, "question_id": 11434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-19T11:31:08Z", "scrap_date": "2024-05-01T00:07:17.651528", "content": "Thanks for the reply The environment variable approach worked For anyone that is interested a DynamoDB pointintime restore does restores to a new table If you have a bunch of lambda functions that use DynamoDB you need to update them so that they use the restored table To do this you can set an environment variable in the provider section of your serverless yml file to the name of the new table created during the restore and have your lambda functions use the environment variable to determine which table to access DynamoDB Pointintime Recovery is a great feature to enable on your DynamoDB tables Just a little tricky to get your lambda functions using restored tables in the event that you actually have to do a restore "},
{"id": 114346, "question_id": 11434, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-31T09:27:18Z", "scrap_date": "2024-05-01T00:07:17.652527", "content": "The last backup feature for Dynamodb that I need is to be able to share backups across accounts so I can perfectly mimic production in testdev rather than having to stream"},
{"id": 49962, "question_id": 4996, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T01:02:11Z", "scrap_date": "2024-05-01T00:07:18.322525", "content": "I wrote about this in How do I get my API Gateway URL Just copy the snippet at the bottom of that article "},
{"id": 49963, "question_id": 4996, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-08T14:09:44Z", "scrap_date": "2024-05-01T00:07:18.323525", "content": "Thank you so much In the meantime I found the solution by myself"},
{"id": 49964, "question_id": 4996, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-01T03:34:38Z", "scrap_date": "2024-05-01T00:07:18.324526", "content": "Serverless has ServiceEndpoint created already to export across stacks this try this below to export them"},
{"id": 36232, "question_id": 3623, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-22T19:55:57Z", "scrap_date": "2024-05-01T00:07:19.283059", "content": "Any luck with this I am running into the same exact problem trying to save a JWT in a HTTPOnly Cookie "},
{"id": 36233, "question_id": 3623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-22T20:15:00Z", "scrap_date": "2024-05-01T00:07:19.284064", "content": "Not really I decided not to use cookies for my use case I think you may work around it by specifying origin to be your domain if you have a single domain instead of origin In general Id suggest not to use serverless api gateway integration if you need finegrained control over CORS Its better to use a lambda to respond to the options request and respond with dynamic origins "},
{"id": 36234, "question_id": 3623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-14T17:15:34Z", "scrap_date": "2024-05-01T00:07:19.285064", "content": "I have this same problem and have not found a solution yet either "},
{"id": 36235, "question_id": 3623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T06:06:59Z", "scrap_date": "2024-05-01T00:07:19.286077", "content": "I also encountered the same problem If you know exactly the origins that can access your api then you can configure the allowed origins using serverless cors feature httpsserverless comframeworkdocsprovidersawseventsapigatewayenablingcors But if youd need to allow credentials for any origin serverless cannot do that for you AFAIK In that case you need to handle the OPTIONS request by yourself and set the AccessControlAllowOrigin to same value as request Origin header Remember to set all other cors headers as well "},
{"id": 36236, "question_id": 3623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-01T10:28:56Z", "scrap_date": "2024-05-01T00:07:19.287065", "content": "So sad this is not properly supported This is what Im doing The neat thing is that you dont need to add all the extra headers or other complex stuff The problem is that as other has stated you can not specify dynamic origins and you can not use if the allowCredentials is set to true "},
{"id": 50972, "question_id": 5097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-31T09:35:13Z", "scrap_date": "2024-05-01T00:07:20.184704", "content": "Did you find a solution for this "},
{"id": 50973, "question_id": 5097, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-31T11:52:12Z", "scrap_date": "2024-05-01T00:07:20.184704", "content": "Yes It ended up working if I removed all node packages from that folder and re installed the plugins next to where the yml file existed"},
{"id": 50974, "question_id": 5097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-01T12:13:01Z", "scrap_date": "2024-05-01T00:07:20.185705", "content": "Thanks ill give that a try "},
{"id": 116372, "question_id": 11637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-01T14:53:05Z", "scrap_date": "2024-05-01T00:07:20.648041", "content": "It would probably just be easier to let the Serverless Framework do the entire deployment Perhaps take a look at the Serverless Framework CICD solution httpswww serverless comblogannouncementcicd"},
{"id": 95052, "question_id": 9505, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-05T21:59:32Z", "scrap_date": "2024-05-01T00:07:21.749689", "content": "Im having the same problem did you found some solution"},
{"id": 95053, "question_id": 9505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T00:00:19Z", "scrap_date": "2024-05-01T00:07:21.749689", "content": "Im also having the same problem and it seems there are outstanding bugs for this httpsgithub comserverlessserverlessissues4720 is at least one Is there a solution or does anyone know if there are plans to fix this Seems its been broken since v1 39 "},
{"id": 95054, "question_id": 9505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T00:01:14Z", "scrap_date": "2024-05-01T00:07:21.750690", "content": "serverless services"},
{"id": 95055, "question_id": 9505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-02T00:10:06Z", "scrap_date": "2024-05-01T00:07:21.751690", "content": "Seems like maybe they fixed this for the deploy command httpsgithub comserverlessserverlesspull6606 but still need to do it for package command"},
{"id": 115762, "question_id": 11576, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-02T08:21:10Z", "scrap_date": "2024-05-01T00:07:22.878487", "content": "Hi Relatively new to serverless myself but I am pretty sure this is how it works You define your resources in the yaml file eg a DynamoDB table and then the first time you deploy the yaml it will create the table or any resource Any subsequent deploys will first check if there are any changes to the resource and will then apply those changes if required If nothing has changed in that resource then the deploy will do nothing to that resource For example you create a YAML with a dynamo DB table and an single API gateway and associated lambda function All 3 will be created when you deploy If you then add a new API gateway and lambda to the yaml and deploy only the new API gateway and lambda will be deployed the rest will be ignored as it hasnt changed "},
{"id": 83102, "question_id": 8310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-05T19:54:32Z", "scrap_date": "2024-05-01T00:07:24.709446", "content": "what im noticing here is that im trying something similar using their declared syntax events schedule cron 2 input tables foobar sls package ignores the inputtables thing the other thing im noticing is that serverless folks have not responded did you ever solve your problem"},
{"id": 83103, "question_id": 8310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-07T20:10:56Z", "scrap_date": "2024-05-01T00:07:24.711446", "content": "I believe the indentation here is the issue for inputs In YAML whitespace is used to determine how the data is structured Here is an example of a function using the inputs Im looking into the issue with the enabled property now to see why that happened for you Edit I just confirmed that changing the above to enabled false will correctly set the event in the CloudWatch event rule to disabled Interestingly in the AWS console the event still appears as enabled But if you run the AWS CLI command to check the status of the rule it is actually disabled and not triggering any of the functions As an example aws events describerule name inputestdevHelloEventsRuleSchedule1EXAMPLE"},
{"id": 83104, "question_id": 8310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-13T15:01:00Z", "scrap_date": "2024-05-01T00:07:24.712447", "content": "Actually Im not sure this is a bug The Event is still set to Enabled in the Lambda Console however going to the actual Schedule in CloudWatch Rules is set to Disabled This makes sense to me as the Event is still the trigger for the lambda function but the actual Schedule itself is Disabled "},
{"id": 114322, "question_id": 11432, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-13T15:58:12Z", "scrap_date": "2024-05-01T00:07:25.438514", "content": "OK so what Ive discovered To totally disable enable enterpriseDisabled in serverlessrc Undocumented but checked here To disable the various trackers I hacked up the following yml"},
{"id": 114392, "question_id": 11439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-14T08:47:08Z", "scrap_date": "2024-05-01T00:07:26.273536", "content": "This is probably what you are looking for httpswww jeremydaly comauroraserverlessdataapiafirstlook"},
{"id": 114282, "question_id": 11428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-15T09:21:56Z", "scrap_date": "2024-05-01T00:07:27.409598", "content": "Anyone had this issue before"},
{"id": 104172, "question_id": 10417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-14T00:00:09Z", "scrap_date": "2024-05-01T00:07:28.125471", "content": "I am having this same issue and cannot find a work around Help "},
{"id": 104173, "question_id": 10417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-15T18:44:04Z", "scrap_date": "2024-05-01T00:07:28.126466", "content": "Current serverless framework 1 71 1 handles maximumRetryAttempts It doesnt handle maximumRecordAgeInSeconds though For that youd have to put an extensions section in your serverless yml Something like"},
{"id": 114582, "question_id": 11458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-15T14:59:56Z", "scrap_date": "2024-05-01T00:07:29.238590", "content": "It looks like there is a message from your Lambda You should be able to see potentially more error detail in CloudWatch as that is where error messages go by default "},
{"id": 114583, "question_id": 11458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-15T15:13:12Z", "scrap_date": "2024-05-01T00:07:29.239590", "content": "Hi garethmcc Thanks for the reply Not much luck there I can request coming in but it complains about no log4j appender despite it being in my dependencies dependency"},
{"id": 114584, "question_id": 11458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-20T14:27:52Z", "scrap_date": "2024-05-01T00:07:29.240590", "content": "Are you explicitly logging the error message Regarding the log4j warning do you have a log4j config file included in the deployment package"},
{"id": 115332, "question_id": 11533, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-22T20:20:44Z", "scrap_date": "2024-05-01T00:07:30.228706", "content": "It looks like it is sourced from Github and solved it by itself Thanks"},
{"id": 103872, "question_id": 10387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-27T18:21:10Z", "scrap_date": "2024-05-01T00:07:31.368604", "content": "This looks like its related but possibly not the exact right part of the code httpsgithub comserverlessserverlessblobc9a6b75d49502cb429ad34ef4a917f6d286db60elibpluginsawspackagecompileeventsapiGatewaylibmethodintegration jsL209"},
{"id": 103873, "question_id": 10387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-27T19:46:11Z", "scrap_date": "2024-05-01T00:07:31.369604", "content": "Thanks for the question This should be possible by returning a context object in the policy returned by your authorizer That context is then pushed over to the Lambda function you trigger An example of this can be found here httpsgithub comfernandomcserverlessjamsblobmasterbackendauth py In the case in that function generate_policy generates the IAM policy used to authorizer the access to the Lambda Function that handles the API endpoint But it also adds a context object to the policy which in this case contains scopes for the API You can use that context object to send things other than scopes though I hope this helps If you want to learn more about it there is a section on Lambda Authorizers and Protected APIs in the latter half of this free course httpsserverless comlearncoursesserverlessforfrontenddevelopers"},
{"id": 103874, "question_id": 10387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-27T20:25:52Z", "scrap_date": "2024-05-01T00:07:31.370605", "content": "Thanks fernandomc Im having no problem with returning the context object from my authorizer the problem is that there doesnt seem to be a way to pass the value from the context as a header to my HTTP backend API Gateway documents a way to do this I showed it in the image in my original post but the Serverless Framework doesnt seem to describe a way to take an HTTP header in the integration request from the context "},
{"id": 103875, "question_id": 10387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-05T22:28:49Z", "scrap_date": "2024-05-01T00:07:31.371605", "content": "Sorry about the delayed reply tmglb I was out for a bit and just getting caught up today Im not sure on how to configure that I havent done it before myself Have you already asked this question in the Community Slack sometimes other folks have already done things like this You can join the Slack here serverless comslack"},
{"id": 103876, "question_id": 10387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-25T14:37:40Z", "scrap_date": "2024-05-01T00:07:31.372605", "content": "Hey tmglb did you find a solution to this problem Im having the same issue trying to pass context from the custom authorizer I tried a search in the Slack and I can see the question being asked but no answers "},
{"id": 103877, "question_id": 10387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-25T15:06:33Z", "scrap_date": "2024-05-01T00:07:31.373605", "content": "I did eventually get context from the custom authorizer to work though I couldnt exactly say why I had binaryMediaTypes and allegedly this was interfering with request processing Removing it was one of the steps that was required to make things work One other important thing to note is that apparently the custom authorizer is not invoked if you use the Test button so if you are not seeing authorizer context when using that path thats possibly why I learned this the very hard way "},
{"id": 112022, "question_id": 11202, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2020-04-21T22:58:31Z", "scrap_date": "2024-05-01T00:07:32.424573", "content": "I went back to the docs and noticed everything after eventBridge needed an extra indent otherwise there are no warningserrors but the rule is not created "},
{"id": 112024, "question_id": 11202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-27T06:06:57Z", "scrap_date": "2024-05-01T00:07:32.425609", "content": "Wow That was random and arbitrary Thanks for putting this here 3"},
{"id": 115242, "question_id": 11524, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-27T07:12:55Z", "scrap_date": "2024-05-01T00:07:33.303765", "content": "Update I used Dehlis answer in the same SO post that I referenced in my initial question"},
{"id": 115652, "question_id": 11565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-27T14:43:12Z", "scrap_date": "2024-05-01T00:07:34.234428", "content": "Figured it out It was selfprovider stage "},
{"id": 6972, "question_id": 697, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-31T23:08:12Z", "scrap_date": "2024-05-01T00:07:35.303649", "content": "as your business logic doesnt need long running thread Not sure where you got this statement from why would Node js be any worse than any other language for longrunning processes As for your other questionspoints"},
{"id": 222, "question_id": 22, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-08T05:14:47Z", "scrap_date": "2024-05-01T00:07:35.924342", "content": "I have aggregated the information on serverless services based on cloud vendors and have posted it in stackoverflow Here is the link httpstackoverflow coma404781253477322 Feel free to edit or add new features to the answer Lets maintain this to keep track of the new features by various vendors "},
{"id": 7172, "question_id": 717, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-15T12:45:54Z", "scrap_date": "2024-05-01T00:07:36.840588", "content": "Hi rajwilku there is even a stalled PR Azure support 1547 maybe you wanted to address the open comments"},
{"id": 8752, "question_id": 875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-03T23:40:50Z", "scrap_date": "2024-05-01T00:07:37.676291", "content": "I probably wont utilize it until other providers have similar offering or SLS has its own offering "},
{"id": 8753, "question_id": 875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-04T18:38:49Z", "scrap_date": "2024-05-01T00:07:37.677291", "content": "I personally think it looks pretty promising The logging of the step functions is very well made which is a good sign for easy debugging "},
{"id": 8754, "question_id": 875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-06T01:52:17Z", "scrap_date": "2024-05-01T00:07:37.678291", "content": "I like state machines in general so I definitely want to give them a go Im not show howif it should be incorporated with the SLS framework I think it needs to be understood better before attempting integrationinclusion "},
{"id": 1462, "question_id": 146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T10:28:41Z", "scrap_date": "2024-05-01T00:07:38.700610", "content": "Were still discussing the details behind Versioning and Alias and how we want to implement this in Serverless You can stay up to date on the issue here httpsgithub comserverlessserverlessissues1457 At the moment we dont support versioning or aliasing at all and were not sure if we should in the future "},
{"id": 1463, "question_id": 146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-21T17:49:38Z", "scrap_date": "2024-05-01T00:07:38.702610", "content": "Is versioning and alias function ready to use"},
{"id": 1464, "question_id": 146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-21T21:29:21Z", "scrap_date": "2024-05-01T00:07:38.702610", "content": "Yes new versions are now created since this PR was merged "},
{"id": 112932, "question_id": 11293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-28T13:24:13Z", "scrap_date": "2024-05-01T00:07:40.513910", "content": "And if i create a serverless yml file without the baseconfig everything works fine but i will lose all the base config"},
{"id": 85802, "question_id": 8580, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-28T15:29:17Z", "scrap_date": "2024-05-01T00:07:41.667253", "content": "Im trying to the similar functionality were you able to find a way to do this via Serverless"},
{"id": 112102, "question_id": 11210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-28T21:53:37Z", "scrap_date": "2024-05-01T00:07:42.643832", "content": "For anyone else who runs into this issue I managed to figure out what the issue was I was doing all my testing on localhost and trying different ports e g localhost3000 vs localhost5000 There are two things you may run into while doing this Silly issue but not well documented so hope someone else finds this useful "},
{"id": 111242, "question_id": 11124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-29T03:21:46Z", "scrap_date": "2024-05-01T00:07:43.701422", "content": "Having this exact issue Deploy command hangs after webpack Last statements before it exits with no error are"},
{"id": 50342, "question_id": 5034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-30T15:47:41Z", "scrap_date": "2024-05-01T00:07:44.786527", "content": "I am facing same issue I first Bundle using sls package then i am deploying same package using sls deploy package However It is throwing error CodeSHA256 is different from current CodeSHA256 in LATEST Please try again with the CodeSHA256 in LATEST Service AWSLambdaInternal Status Code 400 Error Code InvalidParameterValueException Request ID 25f3ca320448423baf43c054fa913777 "},
{"id": 97632, "question_id": 9763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T16:14:26Z", "scrap_date": "2024-05-01T00:07:45.670750", "content": "I think you need to use package option I dont think serveless support artifact option See this instruction httpsserverless comframeworkdocsprovidersawsguidepackaging"},
{"id": 97633, "question_id": 9763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-12T08:47:05Z", "scrap_date": "2024-05-01T00:07:45.671745", "content": "You could try the command seed run service uses serverless package stage dev package stageartifacts"},
{"id": 97634, "question_id": 9763, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-30T17:42:43Z", "scrap_date": "2024-05-01T00:07:45.672746", "content": "I havent found a way to do truly immutable deployments with serverless unless your deploy is static for a given AWS account in a given Region I dont see any way to be able to say something like serverless deploy package serverlessstuff stage qa region uswest2 Ive found that I can make a package that is now 100 locked to the specific region stage and all environment variables used at the time serverless package was run Which does not make this very useful in CICD pipeline since this is only deployable to one place if I use any environment vars to help configure the deployment Using SSM settings is fine just completely locks this specific packaing to a single deployment into a single stage single region single AWS Account deployment Anyone find a better way"},
{"id": 113212, "question_id": 11321, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-02T10:01:13Z", "scrap_date": "2024-05-01T00:07:46.774918", "content": "There was a bug related to this has since been fixed Just npm i g serverless to update and redeploy"},
{"id": 112972, "question_id": 11297, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-05-03T09:07:08Z", "scrap_date": "2024-05-01T00:07:47.704916", "content": "I got the solution the problem is not in serverless framework but in npm and can be solved by cleaning the cache with the syntax of sudo npm cache clean force Thks "},
{"id": 113372, "question_id": 11337, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-04T10:45:13Z", "scrap_date": "2024-05-01T00:07:48.459345", "content": "So basically it seemed that serverless offline wasnt able to access my localstack environment Im on Fedora and somehow disabling SELINUX fixed this issue "},
{"id": 113662, "question_id": 11366, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-06T15:40:31Z", "scrap_date": "2024-05-01T00:07:49.424480", "content": "Hey rnd_dev can you share more information What does the serverless yaml file look like specifically for the function environment and what command are you using to test the function Any other relative information would be great to include Obviously keep any sensitivesecure data out of the posts"},
{"id": 113663, "question_id": 11366, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-06T16:36:16Z", "scrap_date": "2024-05-01T00:07:49.425480", "content": "I am using serverless invoke function providers Here is my current config As for javascript file I am invoking function like this"},
{"id": 113762, "question_id": 11376, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-07T13:44:51Z", "scrap_date": "2024-05-01T00:07:50.385930", "content": "Hey SavelevArtemD I just deployed the following serverless yaml I think the only difference is putting curly braces around CognitoUserPoolClient for the audience And everything seemed to get deployed Looking at the stack in the CloudFormation Console I see this Then if I click the link in the row for HttpApi and then navigate to the Authorization section and select the endpoint I see this So it looks like everything is deploying successfully on my end Running sls version I get Hopefully this helps Let me know if you cant get it working Best Grant Plug The complexity of getting Cognito working with serverless is the reason I founded JustAuthenticateMe Its a super simple authenticationasaservice thats straightforward to set up Check it out at httpswww justauthenticate me"},
{"id": 113763, "question_id": 11376, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-07T18:13:44Z", "scrap_date": "2024-05-01T00:07:50.387930", "content": "Thanks a lot I solved my problem by simple updating servreless completely forgot I used the version 1 63 0 "},
{"id": 109502, "question_id": 10950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-14T22:12:03Z", "scrap_date": "2024-05-01T00:07:51.439324", "content": "I have the same issue Was working last week and just stopped Look forward to a solution Error ENOENT no such file or directory copyfile C\\snapshot\\serverless\\node_modules \\enterpriseplugin\\sdkpy\\serverless_sdk_ init _ py C\\dev\\serverlessservicecheck1\\serverless_sdk_ init _ py Your Environment Information Operating System win32 Node Version 12 13 1 Framework Version 1 66 0 standalone Plugin Version 3 4 1 SDK Version 2 3 0 Components Version 2 22 3"},
{"id": 109503, "question_id": 10950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-07T20:25:06Z", "scrap_date": "2024-05-01T00:07:51.441324", "content": "I am having issues with is as well I created a ticket on github and referenced this forum post Here is the link for those who want to track it httpsgithub comserverlessserverlessissues7696"},
{"id": 14832, "question_id": 1483, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-14T21:30:39Z", "scrap_date": "2024-05-01T00:07:52.512129", "content": "I know were talking about this on Slack too but I figure putting it here is good for everyones benefit Your caveat comment is on the right track this is a pattern youre used to from RailsDjangoet al which doesnt translate well to a Serverless or serverless environment well I know because I came with the same patternsideas The problem youre trying to solve is a database problem not an application problem but using ORMs blurs the lines between the two Remember in the days before RAD Rapid Application Development migrations were the domain of DBAs and developers never got a chance to do them Given how infrequent migrations are or should be Im a proponent of doing them from a management subnetmachine While this breaks a pure serverless setup IMO its the most sane approach While I could imagine a solution to run your migrations with something like apexshell or lambdashell Im not sure I feel comfortable recommending them "},
{"id": 14833, "question_id": 1483, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-29T15:08:03Z", "scrap_date": "2024-05-01T00:07:52.514129", "content": "There is a plugin out there called httpsgithub comNevonserverlesspgmigrations"},
{"id": 14834, "question_id": 1483, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T06:06:59Z", "scrap_date": "2024-05-01T00:07:52.514129", "content": "Is there anything similar for MySQL"},
{"id": 14835, "question_id": 1483, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-07T21:51:04Z", "scrap_date": "2024-05-01T00:07:52.515129", "content": "I wrote this plugin that works with TypeORM and supports MySQL MariaDB Postgres CockroachDB SQLite Microsoft SQL Server sql js Database migrations for AWS Lambda and RDS using TypeORM Migrations nathanagezserverlesstypeormmigrations"},
{"id": 12232, "question_id": 1223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T04:07:08Z", "scrap_date": "2024-05-01T00:07:53.582109", "content": "Does it have to use ExpressJS You generally dont need it when using Serverless A quick search of the examples repo shows up awsnoderestapiwithdynamodb which sounds like what youre trying to do Your other option would be to take an ExpressJS example application and migrating it to Lambda as described in this blog post This uses the awsserverlessexpress library from AWS Labs "},
{"id": 12233, "question_id": 1223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:35:09Z", "scrap_date": "2024-05-01T00:07:53.583107", "content": "Another item to consider lambda does not have any state or lifcycle events to know when your container is being shut down This means connection pooling is not really an option and external solutions like MySQL or MongoDB for time sensitive operations sub 1 second As a result you have to have some sort of intermediary like RESTHeart between your lambda functions and MongoDB which gives you performance but then adds a huge complication relatively in your scalability since EC2 now needs to be addressed So using DynamoDB or S3 as your data source might make a lot more sense Its worth noting that S3 only works for basic CRUD operations by key not querying unless you get clever and make use of elastic search or some other intermediary which again introduces scalability concerns S3 does have the benefit of being incredibly fast though faster than DynamoDB in all my tests "},
{"id": 12842, "question_id": 1284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T00:47:29Z", "scrap_date": "2024-05-01T00:07:54.547525", "content": "Yep that definitely sounds like a good usecase for a Lambdabased application as long as you can divvyup your work in to lessthan5minute chunks of processing Assuming you can it would also help you get the parallel processing benefits you are after Not sure about your point 4 as the scope of that could be quite large or it could not depending on your hard requirements I havent used the data processing example myself but technically the things youre after are achievable Another option might be the recently released AWS Batch "},
{"id": 12843, "question_id": 1284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:30:07Z", "scrap_date": "2024-05-01T00:07:54.548526", "content": "Rowanu is right you have to be able to divvy up your work for it to be worthwhile THis is kind of the important part as well because the kind of solution you will build for S3 bulk processing is inherently different than a standard batch process The tools and scale available to you are different and the kind of performance improvements you might do in one would be an anti pattern in the other I recommend you consider making heavy use of updatedelete triggers specifically using prefix rules to determine when specific lambda events should fire This could enable you to send a file through a lifecycle by processing it then saving it back to S3 with a different name causing another event to fire and begin processing the next step With the incredibly low latency access between lambda and S3 breaking your file up into chunks which lambda can do very quickly as well and having each chunk be worked will be limited only by your Lambda restrictions Last note all of your lambda restrictions can be updated by requesting an increase to AWS this includes the 5 minute execution time httpdocs aws amazon comlambdalatestdglimits html"},
{"id": 12844, "question_id": 1284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:40:58Z", "scrap_date": "2024-05-01T00:07:54.550526", "content": "rowanu matt thanks for your responses and insights In particular I didnt yet know about AWS Batch We can definitely split up execution into small units our current engine already works like that but on a single machine Well have to find the right batchfragment sizes of course One of the challenges is that the size of processed data for any process can vary widely from a few hundred Kilobytes to multiple gigabytes Our users expect the system to return first results very fast its an interactive transformation environment and then later to receive results of the entire data set having been transformed Based on what weve tried out so far were looking at a combination of divide and conquer and iterative processing along the lines of the following using a merge combine many objects into one use case"},
{"id": 12845, "question_id": 1284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T15:21:21Z", "scrap_date": "2024-05-01T00:07:54.551527", "content": "I admit I completely forgot about AWS Batch Ive been a bit to deep in the serverlesslambda world and I may have fallen victim to the old saying to a hammer every problem looks like a nail This is all armchair quarterbacking though you know the problem better so take my suggestions with a grain of salt A couple things I do want to share with you having done some batch processing with Lambda previously First make sure that you keep your steps and functions to a SINGLE purpose This isnt just for maintainability but also for performance Second when working with files Node js streams is the way to go or Language equivalent Ive read and processed enormous amounts of data with them Matt"},
{"id": 12892, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-02-09T00:15:48Z", "scrap_date": "2024-05-01T00:07:55.137257", "content": "Ive been keeping my SPA and API separate I started that way because I typically need different packages config files and deployment scripts for each For personal projects Im using the same repo but different folders for each For professional projects Ive been using one repo for the API and another for the SPA That reflects me being the only person working on the personal stuff while the professional projects will probably have different teams on them "},
{"id": 12893, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-09T00:44:04Z", "scrap_date": "2024-05-01T00:07:55.138169", "content": "1 for keeping them separate As the thread topic shows theyre two separate applications and should be treated as such It seems like people get confused just because they can write them in the same language "},
{"id": 12894, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T13:35:31Z", "scrap_date": "2024-05-01T00:07:55.139174", "content": "Thanks buggy for the answer Is there a way to integrate both API and SPA behind Cloudfront without having to do it manually"},
{"id": 12895, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T13:39:14Z", "scrap_date": "2024-05-01T00:07:55.140173", "content": "I agree completely rowanu Im already working at it separately I just wanted to deploy both automatically behind Cloudfront "},
{"id": 12896, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:21:55Z", "scrap_date": "2024-05-01T00:07:55.140173", "content": "Once you add the requirement of manually no it can be done but you have to manually configure CloudfFont to do it With a different behavior for each resource routing appropriately to the different origins "},
{"id": 12897, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T21:26:26Z", "scrap_date": "2024-05-01T00:07:55.141167", "content": "Ah OK I misunderstood the question You will have to configure the CloudFront distributions yourself but you can and should be using CloudFormation to set these distributions up I would keep them out of your Serverless service definitions because you wont want to deploy changes to it very often and CF changes take aaaaaaages either create a resourceonly service or just do native CFN Setting up the CF S3 connection is pretty trivial The CF API GW is a bit more involved but still doable I have a draft blog post for doing this but then again I have a lot of drafts "},
{"id": 12898, "question_id": 1289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T22:47:49Z", "scrap_date": "2024-05-01T00:07:55.142168", "content": "Involved You nailed it rowanu A while ago Ive got some headache with the Pattern Path and Origin Path Serving a S3 bucket and an API Gateway through CloudFront "},
{"id": 109602, "question_id": 10960, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-15T16:41:53Z", "scrap_date": "2024-05-01T00:07:56.938393", "content": "I think your problem is within you are defining a State of type Task without specifying a Resource for it"},
{"id": 24272, "question_id": 2427, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-08-07T20:04:14Z", "scrap_date": "2024-05-01T00:07:57.417430", "content": "I thought this sounded familiar httpforum serverless comtoverridethestackdescription1081"},
{"id": 24273, "question_id": 2427, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-08T01:50:17Z", "scrap_date": "2024-05-01T00:07:57.418430", "content": "Hello Rowanu Thanks the actually fixed the issue Winston"},
{"id": 24274, "question_id": 2427, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-16T02:33:18Z", "scrap_date": "2024-05-01T00:07:57.419432", "content": "Thanks for the hint Fixed the issue Really appreciate it "},
{"id": 41992, "question_id": 4199, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T11:39:51Z", "scrap_date": "2024-05-01T00:07:59.585765", "content": "The DLQ isnt used the first time a message fails Its only used once all of the retries are exhausted "},
{"id": 41993, "question_id": 4199, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T22:22:48Z", "scrap_date": "2024-05-01T00:07:59.586766", "content": "AWS Documentations says Any Lambda function invoked asynchronously is retried twice before the event is discarded I assume i cannot test the DLQ in this way because both sls invoke and an http event are both synchronous calls "},
{"id": 41994, "question_id": 4199, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T23:32:56Z", "scrap_date": "2024-05-01T00:07:59.587766", "content": "Correct You need to invoke the Lambda asynchronously via SNS for example Typically it will attempt to deliver the message three times the initial plus two retries and then the message will be put onto the DLQ "},
{"id": 102992, "question_id": 10299, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-01-19T20:00:07Z", "scrap_date": "2024-05-01T00:08:00.468819", "content": "Answering my own question it looks like I should have imported by output name not output export name which is bit weird and all the docs I have seen point to export name but this is how I was able to make it work replaced this authorizerId myAppservices selfprovider stage ExtApiGatewayAuthorizer selfprovider stage with authorizerId myAppservices selfprovider stage ApiGatewayAuthorizerId "},
{"id": 102993, "question_id": 10299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-20T12:21:19Z", "scrap_date": "2024-05-01T00:08:00.469819", "content": "Awesome This solved my issue that I have been having for the last day or so Thanks "},
{"id": 108842, "question_id": 10884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-21T13:49:41Z", "scrap_date": "2024-05-01T00:08:01.324393", "content": "Hi tmrc any luck with this Have you managed to also set up virtual network integration Thanks "},
{"id": 19562, "question_id": 1956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-29T20:00:58Z", "scrap_date": "2024-05-01T00:08:01.978953", "content": "Currently Google Cloud Functions does not support environment variables like AWS Lambda does Its a feature they still need to add Perhaps consider joining their Beta Google Cloud Functions mailing group to find out more "},
{"id": 19563, "question_id": 1956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T14:35:13Z", "scrap_date": "2024-05-01T00:08:01.980953", "content": "I actually asked a similar question on SO a few days ago since I wanted to handle the credentials through env variables I wasnt using Serverless at all then And no no solution so far Using Serverless is actually a solution for my use case since I can store the credential on the dev computer and run serverless which zip the credentials somehow in a secure way I assume But I dont need to put the credential file in my git repository like I did before which is much better anyway "},
{"id": 19564, "question_id": 1956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T09:48:04Z", "scrap_date": "2024-05-01T00:08:01.981954", "content": "Recently Cloud Functions supports environment variables httpscloud google comfunctionsdocsenvvar"},
{"id": 19565, "question_id": 1956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-25T17:20:33Z", "scrap_date": "2024-05-01T00:08:01.982954", "content": "Is now there a way to provide environment variables for GCF function in serverless yml file"},
{"id": 19566, "question_id": 1956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-21T14:49:49Z", "scrap_date": "2024-05-01T00:08:01.982954", "content": "service TEST provider name google environment plugins serverlessgooglecloudfunctions serverlessdotenvplugin"},
{"id": 56372, "question_id": 5637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-21T22:51:47Z", "scrap_date": "2024-05-01T00:08:02.864056", "content": "are u able to solve this"},
{"id": 109872, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-02T20:26:37Z", "scrap_date": "2024-05-01T00:08:04.025812", "content": "OK it appears that if I import Router from expresslibrouter then I get a router instance This is the same instance the express index should export So I am close but this feels wrong I havent changed anything I feel like I have some kind of incorrect module configuration or something So why cant I do express Router Any ideas would be greatly appreciated "},
{"id": 109873, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-03T10:12:37Z", "scrap_date": "2024-05-01T00:08:04.026812", "content": "OK so an update In the end I patched apolloserverexpress so that it gets the router instance from librouter and then everything works as expected I obviously do not want to do this so I really need to work out whats causing this "},
{"id": 109874, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T10:57:39Z", "scrap_date": "2024-05-01T00:08:04.027813", "content": "I have exactly the same issue using express directly I havent changed anything from previous release and im getting this error TreeMan360 thanks for sharing the fix it works Im looking forward for official response from serverless team "},
{"id": 109875, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T11:11:07Z", "scrap_date": "2024-05-01T00:08:04.028813", "content": "No sorry seems the fix doesnt works for me the response body contains also the header This issue doesnt make any sense for me "},
{"id": 109876, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T14:42:21Z", "scrap_date": "2024-05-01T00:08:04.028813", "content": "Hey I AM SO GLAD SOMEONE ELSE HAS THIS PROBLEM This has been driving me nuts this week Here is a gist of my patched ApolloServer js Key points Where express_1 was defined previously I added an additional require for the direct import Then I changed it to use this to access the Router instance and console log so I can verify my change is still present I would make a proper patch module for this but I want to find out whats going on here I must have some kind of module configuration wrong but I just cant think what I hope the above at least gets you unblocked temporarily If you do resolve this can you please let me know I will do the same Thanks Mark FWIW this is a stack overflow question I am going to put up for bounty stackoverflow com Highly confusing express Router issue express serverlessframework asked by TreeMan360 on 0643PM 02 Apr 20 UTC"},
{"id": 109877, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T14:47:37Z", "scrap_date": "2024-05-01T00:08:04.030814", "content": "Ahhh I only just noticed this I am sitting here trying to work this out also and I thought it was an issue with serverlesshttp but based on your comment it must be related to the express problem You are right this issue makes zero sense to me either and if this is the same root cause then its now an even bigger problem for me"},
{"id": 109878, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T14:53:12Z", "scrap_date": "2024-05-01T00:08:04.031814", "content": "mattia are you aware what triggered the issue to start happening with you Are you just running express on lambda without nestjs etc I am TreeMan360 on discord if you want to chat "},
{"id": 109879, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T20:09:25Z", "scrap_date": "2024-05-01T00:08:04.032814", "content": "ok TreeMan360 im aware what trigger the issue very strange bug has very strange solution Try lo disable Serverless Framework Enterprise if its enabled you can just comment the tenant and app rows into your serverless yml file and deploy the app again I think that theres a bug in the last version of the serverlesssdk Let me know "},
{"id": 1098710, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T21:28:17Z", "scrap_date": "2024-05-01T00:08:04.033814", "content": "Good deduction that seems feasible I didnt even think of that This indeed fixes the problem in my test lambda Legend Untangling myself from enterprise is a pain as I use the secrets manager for stage environment variables I have sent a message on the dashboard chat Lets hope we can get this resolved ASAP Definitely with a regression test"},
{"id": 1098711, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-05T08:25:26Z", "scrap_date": "2024-05-01T00:08:04.034815", "content": "TreeMan360 let me know when you will get an answer from serverless support "},
{"id": 1098712, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-05T09:43:54Z", "scrap_date": "2024-05-01T00:08:04.034815", "content": "Bug Report Description When using the Serverless Framework EnterprisePro deployment where the Serverless SDK is included Express fails to work correctly Removing app "},
{"id": 1098713, "question_id": 10987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-23T11:08:34Z", "scrap_date": "2024-05-01T00:08:04.035815", "content": "Hey Guys I ran into the same issue and was going mad myself too I went back to a very basic example from the serverless site and rebuild my application from there At the end I noticed that the sample does not have the serverless account declaration at the beginning of the serverless yaml file So I went back to my original code commented out the variables and heypresto it worked Not the cleanest option and Id love to have a permanent solution Just wanted to share my experience Any update from support yet Steit "},
{"id": 78192, "question_id": 7819, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-24T15:44:45Z", "scrap_date": "2024-05-01T00:08:04.878108", "content": "We had a similar issue and this was because of caching the slimed version of libraries We were using serverlesspythonrequirements plugin for packaging python dependencies You can enable two kinds of caching with this plugin which are currently both ENABLED by default First a download cache that will cache downloads that pip needs to compile the packages And second a what we call static caching which caches output of pip after compiling everything for your requirements file Since generally requirements txt files rarely change you will often see large amounts of speed improvements when enabling the static cache feature These caches will be shared between all your projects if no custom cacheLocation is specified So what had happened in our case was that the second person had enabled the slim paramter and cached the slimed version of all the libraries on his local machine Now since this plugin uses cache by default so his final deployment package kept using the slimed versions across all the projects The first person didnt use slim so for him package size was slightly larger than the second person A way to avoid this confusion is to configure serverlesspythonrequirements plugin in the following way in your serverless yml"},
{"id": 112662, "question_id": 11266, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2020-04-26T09:35:53Z", "scrap_date": "2024-05-01T00:08:05.528297", "content": "Okay I found the solution now Change cors true to"},
{"id": 74292, "question_id": 7429, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-14T18:53:22Z", "scrap_date": "2024-05-01T00:08:06.041352", "content": "At the time we stopped passing the f arg and that let us make progress but we might be needing to pass the f arg again and will run into this problem again Anybody run into this issue by any chance"},
{"id": 74293, "question_id": 7429, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-27T08:09:41Z", "scrap_date": "2024-05-01T00:08:06.042352", "content": "Any progress made about this Im experiencing the same issue full deploy works but function only fails which is kind of weird "},
{"id": 13192, "question_id": 1319, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T21:53:42Z", "scrap_date": "2024-05-01T00:08:06.758997", "content": "Do you have CORS set in serverless yml cors true"},
{"id": 13193, "question_id": 1319, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T02:11:41Z", "scrap_date": "2024-05-01T00:08:06.759997", "content": "panorart It looks like youre using jQuery for your AJAX request The jQuery docs state that data is converted to a query string unless its already a string Are you trying to pass this as a JSON object If you are then try using data JSON stringify params param1 543543 param2 fdasghdfghdf test yes Youll need to use JSON parse event body in your Lambda to convert the string back to a JSON object "},
{"id": 13572, "question_id": 1357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T04:16:47Z", "scrap_date": "2024-05-01T00:08:07.862832", "content": "you able to find answer for your question I had same question Below URL says The password features use the Secure Remote Password SRP protocol to avoid sending cleartext passwords over the wire so SDK uses SRP protocol which is more secure GitHub amazonarchivesamazoncognitoidentityjs Amazon Cognito Identity SDK for JavaScript Contribute to amazonarchivesamazoncognitoidentityjs development by creating an account on GitHub what is the best practice"},
{"id": 13573, "question_id": 1357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T05:56:38Z", "scrap_date": "2024-05-01T00:08:07.863832", "content": "Still not sure on this And you are right the quote with SRP makes me wondering if my approach is really a good idea to go "},
{"id": 13574, "question_id": 1357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T05:30:58Z", "scrap_date": "2024-05-01T00:08:07.864833", "content": "I have opened below issue with AWS lets see what they suggest I am planning to use Cognito user pool federated identities with APIG and lambda In my case I am planning to use "},
{"id": 12022, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-02T01:20:26Z", "scrap_date": "2024-05-01T00:08:08.745740", "content": "I wouldnt call SES directly from the API that registers new users Its better to decouple the two using SNS i e API GW Lambda SNS Lambda SES This way your API wont block or fail if theres a temporary issue with SES The biggest problem with bulk sending is going to be the SES rate limit Id be inclined to break it up into a two step process Have one Lambda generate the messages and put them onto an SQS queue Once it finishes populating the queue I would invoke another Lambda to read messages from the queue and deliver them via SES The first Lambda needs to break sending into smaller batches and keep an eye on context getRemainingTimeInMillis to make sure you dont exceed the maximum time If you are getting close to time then you can invoke the Lambda again telling it where to continue The second Lambda pulls messages from SQS and sends them via SES until the queue is empty It also needs to keep an eye on context getRemainingTimeInMills to invoke itself again if it gets close to time "},
{"id": 12023, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T02:52:24Z", "scrap_date": "2024-05-01T00:08:08.747740", "content": "Hi buggy Im interested on this too In this case there is a lambda handler for API GW lets say registration_handler js which includes a method for registering users Inside this method there is a sendARegistrationMessageToSNS function How this function should be Is it a mySNSInstance publish data funcion err result or is it an invoke another lambda as event type which receives the message and it performs the publish Thank in advance "},
{"id": 12024, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-02T03:33:52Z", "scrap_date": "2024-05-01T00:08:08.748741", "content": "The way Ive been trying to architect this is to have a core API that triggers generic events In this case Id have an SNS topic for user_created Once the API has validated the input and saved the data I would publish a message to the user_created topic and have the API return success This keeps the code in the API to a minimum so its fast The reason Im using generic events instead of verbsinstructions user_created versus send_welcome is so that I can easily add replace and remove functionality without needing to change existing code I then build other Lambda functions to receive messages from the user_created topic and process them accordingly There might be one to send a welcome email one to add the user to my mailing list etc In terms of the actual implementation there are two approaches You could create a Lambda that listens to the DynamoDB stream of a table and publish the events as they come off the stream You could have the Lambda processing the API request directly call mySNSInstance publish Currently Im using option 2 In your example that would mean having sendARegisationMessageToSNS inside registration_handler js and it would call mySNSInstance publish Its my preference because it gives me more control over when the event is published at the expensive of having to publish it myself PS My general rule is that if you have one Lambda directly invoking another Lambda youre probably doing it wrong "},
{"id": 12025, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-02T20:13:53Z", "scrap_date": "2024-05-01T00:08:08.750741", "content": "so would this be an appropriate process when some part of my system e g the website backend registers a new user etc and saves to db etc it then subsequently makes a post call to my api gateway endpoint e g amazon xxxuserCreateduserId123 APi gateway forwards this to a lambda function the lambda function pulls all the data for the userId123 from a database and puts message on an SQS user_created queue another lambda is configured to read messages off this SQS queue It uses all the info in the message to call some external email api i e passing email address and some other user info that the email system will build an email from If the email api call returns a success then the lambda deletes the message from the queue hopefully before the visibility timeout expires But if there was an error then no delete is issues and i guess the message will be picked up and tried again later I have a few questions thanks"},
{"id": 12026, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T22:46:48Z", "scrap_date": "2024-05-01T00:08:08.752742", "content": "walshe Use SNS instead of SQS You can configure SNS to invoke a Lambda when a message is ready It will also handle retries With SQS you need a long running process that polls the queue You can then use a dead letter queue for failures that you monitor for alerting "},
{"id": 12027, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-02T23:13:19Z", "scrap_date": "2024-05-01T00:08:08.753742", "content": "buggy hmm I was reading this article httpscloudonaut iointegratesqsandlambdaserverlessarchitectureforasynchronousworkloads which talks about SQS SQS seems to be the best way to deal with fault tolerance heres my summary of the article applied to my scenario 1 some event happens 2 post a message to AWS Api Gateway passing relevant parameters e g an entity id 3 API Gateway forwards to a Lambda Node js function 4 The Lambda function looks up any info for the entity id if necessary and then places a message on an SQS user_registered queue with a payload containing relevant info 5 An Events Rule will trigger a dedicated Lambda Consumer every minute 6 The Lambda Consumer will read as many messages off the SQS queue as it can and for each message will call a worker Lambda to handle the message 7 The worker Lambda calls 3rd party email api 8 A successful api call will mean that the worker should delete the message from the SQS queue But a failure will mean it wont and so it should just do nothing Does doing nothing mean that after the visibility period expires that the message goes back on the sqs queue 9 if the message is put back on the regular sqs queue max 1 times I it automatically goes onto the preconfigured Dead letter queue to avoid poison pill message situations would love your thoughts thanks"},
{"id": 12028, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T00:00:47Z", "scrap_date": "2024-05-01T00:08:08.755743", "content": "5 An Events Rule will trigger a dedicated Lambda Consumer every minute Personally this screams massive fail Im not saying there arent reasons to use SQS but if you need SQS regular polling especially every minute then you should probably be using SNS would love your thoughts Use SNS a dead letter queue "},
{"id": 12029, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T03:50:02Z", "scrap_date": "2024-05-01T00:08:08.756744", "content": "interesting didnt know SNS could be used with DLQs"},
{"id": 120210, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-03T11:23:25Z", "scrap_date": "2024-05-01T00:08:08.756744", "content": "Technically the dead letter queue is on the Lambda not SQS httpdocs aws amazon comlambdalatestdgdlq html Whats kind of interested I havent tried this yet is that you can use an SNS topic for the dead letter queue This should allow you take advantage of SNS fan out so that you receive a notification when something fails and you could then put the message into SQS for later retry "},
{"id": 120211, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-06T23:02:23Z", "scrap_date": "2024-05-01T00:08:08.758744", "content": "buggy So I had this idea like you said However I just read that SNS can end up delivering a message twice to the same subscriber which is not so good as i could end up sending duplicate emails I could try and implement some sort of throttle in the last part that does the email i e record something in a database but it probably wouldnt get saved fast enough to be read by the processor of the duplicate message from aws docs Q How many times will a subscriber receive each message Although most of the time each message will be delivered to your application exactly once the distributed nature of Amazon SNS and transient network conditions could result in occasional duplicate messages at the subscriber end Developers should design their applications such that processing a message more than once does not create any errors or inconsistencies "},
{"id": 120212, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-07T11:58:22Z", "scrap_date": "2024-05-01T00:08:08.759744", "content": "When SNS invokes your Lambda it may send multiple messages at once I dont see how SNS could know which messages were successfully processed if your Lambda fails so I assume it needs to send all of them again I would write your Lambda so that its idempotent or has a way to deduplication messages If you dont you run the risk of processing the first couple of messages multiple times while the last message dont get processed "},
{"id": 120213, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-07T14:27:28Z", "scrap_date": "2024-05-01T00:08:08.760745", "content": "buggy from what I understand the lambda processes one message at a time from SNS but the problem is that it can end up receiving the same message twice from SNS I wonder of I could just get my lambda to insert a row in to dynambo db with an identifier for the message then if a duplicate gets sent to just make sure that there is still only one row in dynamo for that message Meanwhile I think I could could use dynamodb streaming to have make any inserts into the dynamdb trigger a lambda this way hopefully the lambda would not process any duplicates since dynamo would have no duplicate rows too complex maybe "},
{"id": 120214, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-06T05:09:25Z", "scrap_date": "2024-05-01T00:08:08.761745", "content": "walshe Im in the same exact position Could you share how you resolved it Im evaluating using Dynamodb and a table with seen IDs keys and using the new TTL feature available on Dynamodb "},
{"id": 120215, "question_id": 1202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-07T21:25:23Z", "scrap_date": "2024-05-01T00:08:08.762745", "content": "Long time running AWS Lambda use Step Functions httpswww linkedin compulselargefileprocessingcsvusingawslambdastepfunctionsnachocoll"},
{"id": 16572, "question_id": 1657, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-13T00:12:07Z", "scrap_date": "2024-05-01T00:08:09.594814", "content": "Hi AndyC Well it depends on the level of security you want to accomplish The most simple thing you can do is to inject a custom header httpswww owasp orgindex phpCrossSite_Request_Forgery_ CSRF _Prevention_Cheat_SheetProtecting_REST_Services_Use_of_Custom_Request_Headers Using a custom header however is if at all only secure if your app is not vulnerable to XSS The next best thing you can do is to go with a Double Submit Cookie httpswww owasp orgindex phpCrossSite_Request_Forgery_ CSRF _Prevention_Cheat_SheetDouble_Submit_Cookie stormpath has a nice article about it too httpsstormpath comblogwheretostoreyourjwtscookiesvshtml5webstorage And if this is an option dont store the JWT in a cookie at all then XSRF is not an issue Hope this helps "},
{"id": 16573, "question_id": 1657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-13T05:49:40Z", "scrap_date": "2024-05-01T00:08:09.596815", "content": "Thanks for your kind response mate must admit had trawled though most of that a few times and certainly was leaning to double sumbit but also they wont be storing the JWT in a cookie any way just a lot of mixed info out there about how secure that was if your protected against XSS that it may still be insecure without CSRF Knowing my clients they will want both so will see what their PEN tests turn up I guess Better than the developers issuing CSRF page values and cookies from API calls which didnt feel right at all Thanks again at least this has been good to brush up on my client side security again been too long lol"},
{"id": 47302, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-11T23:30:37Z", "scrap_date": "2024-05-01T00:08:11.363771", "content": "Im not sure if this is related but if you declare your handler function async then you dont use callback If youre using the Node 8 10 runtime it wont work "},
{"id": 47303, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-15T07:20:47Z", "scrap_date": "2024-05-01T00:08:11.364774", "content": "Take a look at this httpsstackoverflow comquestions45348580awslambdareturningpdffile"},
{"id": 47304, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-18T14:34:38Z", "scrap_date": "2024-05-01T00:08:11.365772", "content": "You might also give chromeless or serverless chrome a shot github com prismagraphqlchromelessblobmasterexamplesgooglepdf js const Chromeless require chromeless async function run const chromeless new Chromeless const pdf await chromeless goto httpswww google com type chromeless input[nameq] press 13 wait resultStats pdf displayHeaderFooter true landscape true console log pdf prints local file path or S3 url await chromeless end run catch console error bind console "},
{"id": 47305, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-18T15:35:35Z", "scrap_date": "2024-05-01T00:08:11.366772", "content": "Thanks for the suggestions and guidance My problem was that I was testing directly on the service endpoint As soon as I called the service from the frontend Javascript and open it on a new window it worked window open dataapplicationpdfbase64 pdf "},
{"id": 47306, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-13T02:48:26Z", "scrap_date": "2024-05-01T00:08:11.367772", "content": "Api2Pdf runs on AWS Lambda and supports wkhtmltopdf as well as Headless Chrome Super easy "},
{"id": 47307, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-20T22:13:19Z", "scrap_date": "2024-05-01T00:08:11.367772", "content": "Checkout this post httpsmedium comcrespo wanghowtogeneratepdfinawslambdac92477068cf6 it might help"},
{"id": 47308, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-14T02:28:54Z", "scrap_date": "2024-05-01T00:08:11.368772", "content": "There are people asking for the solution using headless chrome puppeteer here it is httpsmedium comswlhhowtocreatepdfinlambdausingpuppeteer6355348b8a82"},
{"id": 47309, "question_id": 4730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-03T10:58:57Z", "scrap_date": "2024-05-01T00:08:11.368772", "content": "Does anyone has this working I have a piece of code that works fine when running locally yet when I deploy this to AWS Lambda then I get an error Here is what I tried Once deployed Im getting I searched for the solution and found this SO stackoverflow com Error write EPIPE javascript node js epipe asked by Marc Rasmussen on 0445PM 19 Jan 16 UTC The solution is apparently to add phantomPath Therefore I modified the code like this Additionally I downloaded and added precompiled phantomjs_linuxx86_64 to static directory that gets deployed to AWS Lambda Yet that still fails with Error write EPIPE even though the file is there and I pass phantomPath Any help or advice UPDATE I think Ive finally found the issue it must be the permissions When I deploy my function and check files in static directory I see I tried to change the permissions with chmod ax phantomjs_linuxx86_64 yet I got Therefore I assumed I should be able to reproduce this on mac too and I downloaded and replaced phantomjs_linuxx86_64 with phantomjs_osx locally Next I removed permissions with chmod agox phantomjs_osx When I ran the function locally BOOM I was able to reproduce the same error"},
{"id": 110022, "question_id": 11002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-03T16:39:55Z", "scrap_date": "2024-05-01T00:08:12.340896", "content": "This actually worked for my needs I was able to pass the output of one function as input data to another"},
{"id": 39932, "question_id": 3993, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T15:15:04Z", "scrap_date": "2024-05-01T00:08:13.286183", "content": "I am facing the same issue Do you have a fix or an explanation for it"},
{"id": 110052, "question_id": 11005, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-04T18:41:31Z", "scrap_date": "2024-05-01T00:08:14.390477", "content": "Hi If Im understanding the issue correctly then this is a tricky one that I ran into a while back I posted here about the solution I found at the time and Ill attempt to adapt it to your example here Hopefully this still works in the latest version of serverless The configuration will end up looking something like this notice the change to the endpoint authorizer and the new ApiGatewayAuthorizer resource P S self promotion ahead hopefully thats okay here The complexity I experienced in getting Cognito set up and working is the main reason I created JustAuthenticateMe I even made a serverless framework plugin to make the backend portion of endpoint authentication ultra simple httpsgithub comCoalesceSoftwareserverlessjustauthenticatemeplugin"},
{"id": 33682, "question_id": 3368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-05T22:50:57Z", "scrap_date": "2024-05-01T00:08:15.008817", "content": "This would be a great feature Id love to override provider level VPC settings for just one lambda function Right now the only option is to set the vpc setting for every function other than the one I dont need to be in the VPC "},
{"id": 87032, "question_id": 8703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-03T20:50:18Z", "scrap_date": "2024-05-01T00:08:16.030084", "content": "Solved I was following a poorly structured example after reviewing the documentation the solution was relatively simple adding an input property to the params"},
{"id": 87033, "question_id": 8703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-07T11:16:41Z", "scrap_date": "2024-05-01T00:08:16.031084", "content": "const stateMachineArn process env statemachine_arn Hi Since I am new to serverless for step function my question is how you get satemachine_arn from Thanks Tran"},
{"id": 102802, "question_id": 10280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-09T17:42:23Z", "scrap_date": "2024-05-01T00:08:17.112437", "content": "I have this question as well Furthermore when I try to use the example code I get I want to do something like"},
{"id": 32532, "question_id": 3253, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-09T21:19:35Z", "scrap_date": "2024-05-01T00:08:18.102476", "content": "It has been supported for some time Im dropping it here for whoever finds this question and want to see the setup"},
{"id": 110792, "question_id": 11079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-10T04:23:19Z", "scrap_date": "2024-05-01T00:08:19.168758", "content": "Figured it out I had to delete the apps Serverless dashboard app create a new dashboard app and reconnect it to my application "},
{"id": 110362, "question_id": 11036, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-10T10:52:40Z", "scrap_date": "2024-05-01T00:08:19.770965", "content": "Have you tried setting the runtime to dotnetcore3 1 With Node you typically just need to set the new runtime and it works "},
{"id": 109322, "question_id": 10932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-10T10:46:20Z", "scrap_date": "2024-05-01T00:08:20.392490", "content": "Theres a template for that "},
{"id": 109323, "question_id": 10932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-10T21:03:24Z", "scrap_date": "2024-05-01T00:08:20.393491", "content": "I ended up finding this It works thank you "},
{"id": 110342, "question_id": 11034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-06T13:24:44Z", "scrap_date": "2024-05-01T00:08:20.999047", "content": "The 30 meg increase is a local increase only presumably in uncompressed filesize Its what I see in the serverlesswebpack output when I run serverless offline When I deploy Im telling webpack to minimize for production so the size Still the individual package size goes up 5x for any of the entrypoints that load googleapis so Id love to cut that down Heres my webpack config js"},
{"id": 110343, "question_id": 11034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-10T13:47:39Z", "scrap_date": "2024-05-01T00:08:21.000048", "content": "Hey Joost How are you importingrequiring the googleapis package into your js module files I havent used this particular package before but if youre using serverlesswebpack and you only import the particular functions you need using the import funcName from modulename or const funcName require modulename syntax then the treeshaking should only bundle the functions that your code references Some prototypeoriented packages that have all functions hang off a single class e g momentjs dont play nicely with treeshaking but most do in my experience I typically configure my serverlesswebpack config to set includeModules false meaning no node_modules folder get packaged at all and I trust webpack to only bundle what it needs "},
{"id": 110344, "question_id": 11034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-10T21:49:15Z", "scrap_date": "2024-05-01T00:08:21.001048", "content": "paulswail Its a multistep process but my handler imports a function from another module to run the actual route specific logic which uses a YouTube wrapper function in a utility module which then does which then does Theres no way to do something like import youtube from googleapis unfortunately After some more digging there is a thread and ongoing work to break the module up into smaller pieces that can be imported individually but there seem to be some logistical complexities in finishing this work I did try includeModules false thanks for the tip but that didnt change the bundle size I did verify that it was including all the APIs by looking at the generated package and found unique references that only existed in other APIs source files in my resulting bundle Then I looked at the module source and just went and straight up commented out all the APIs I didnt need in this file and suddenly my bundle was a third of the original size Until Google update the module this seems a hacky but workable solution There was also a reference to browser bundles of specific APIs but Im not really sure how to integrate this into my workflow "},
{"id": 110382, "question_id": 11038, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-14T02:03:29Z", "scrap_date": "2024-05-01T00:08:21.973914", "content": "Hello jasonrberk and welcome to the forum I am not sure if the pipeline you described is possible but to answer your first question you can look at the package command It will package your application into a zip file located in the serverless directory along with other files It is also possible to package functions individually as indicated the Serverless AWS Packaging Guide which is a good resource to go through Hope this helps "},
{"id": 85022, "question_id": 8502, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-18T12:12:57Z", "scrap_date": "2024-05-01T00:08:22.507187", "content": "I have this same question Did you figure this out If so would you update your post with the solution you found Thanks "},
{"id": 85023, "question_id": 8502, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-15T15:43:27Z", "scrap_date": "2024-05-01T00:08:22.508187", "content": "See this link check first answer from buggy httpforum serverless comtreferencetoaexternalswaggerapidefinition5633"},
{"id": 17272, "question_id": 1727, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T08:42:08Z", "scrap_date": "2024-05-01T00:08:23.095284", "content": "After thinking about it I think I was missing SNS SNS now seems the obvious KISS solution here that gives me a ton of flexibility So now I need to figure out how to get from a http POST to SNS "},
{"id": 15772, "question_id": 1577, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-19T09:53:32Z", "scrap_date": "2024-05-01T00:08:23.981450", "content": "Also wondering about this as would make development much quicker"},
{"id": 93462, "question_id": 9346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-25T11:50:36Z", "scrap_date": "2024-05-01T00:08:26.510433", "content": "Is this resolved Can we list down ARN from different user pools"},
{"id": 108222, "question_id": 10822, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-24T08:27:34Z", "scrap_date": "2024-05-01T00:08:26.962062", "content": "anuborah did you figure it out There are quite some examples available where you run ecs task from lambda function and you pass parameters from lambda but this is not what I want e g httpsserverless comblogserverlessapplicationforlongrunningprocessfargatelambda"},
{"id": 108223, "question_id": 10822, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-26T03:00:41Z", "scrap_date": "2024-05-01T00:08:26.963062", "content": "Thanks a lot I have accessed this link already before but I am able to output the Fargate response to SQS and continue the lambda execution"},
{"id": 106752, "question_id": 10675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-23T12:20:06Z", "scrap_date": "2024-05-01T00:08:27.912562", "content": "no one I will leave as it is "},
{"id": 106753, "question_id": 10675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-26T09:54:27Z", "scrap_date": "2024-05-01T00:08:27.918564", "content": "I dont know about this issue hope someone will help you answer "},
{"id": 42612, "question_id": 4261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-16T10:06:02Z", "scrap_date": "2024-05-01T00:08:28.526268", "content": "it works in fact closed "},
{"id": 42613, "question_id": 4261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-26T22:00:30Z", "scrap_date": "2024-05-01T00:08:28.526268", "content": "it worked for me too "},
{"id": 109172, "question_id": 10917, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-27T14:24:51Z", "scrap_date": "2024-05-01T00:08:29.436645", "content": "I managed to work out how to do it for myself First exclude EVERYTHING Then only include the stuff I need for my functions Which did the trick"},
{"id": 109012, "question_id": 10901, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-27T17:52:44Z", "scrap_date": "2024-05-01T00:08:30.310419", "content": "I removed the github continuous integration stuff for this service on the dashboard and it seems to be fine now Im guessing there is some weird bug in that system Ill just deploy manually from now on "},
{"id": 109202, "question_id": 10920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-27T20:46:13Z", "scrap_date": "2024-05-01T00:08:31.361963", "content": "I think Im getting a handle on API stuff Reading through the code for the backend component is helping It doesnt look like the api component can handle being passed a domain Im currently trying to add a domain to the backendmicroservices example template Im so close to getting it to work Im getting the following Here is the serverless yml Any ideas Somewhat solved The awsapigateway component has a slightly different requirement on the inputs than the api component which is what the microservices template provided as my starting point I should have changes the functions and authorizers to include the arn So createUser arn and auth arn Now Ive just got an issue with the domain Invalid stage identifier specified So close "},
{"id": 109242, "question_id": 10924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-28T15:23:28Z", "scrap_date": "2024-05-01T00:08:32.137126", "content": "Ah so I worked out the problem The authorizer definition is per event and not per function Not sure why i missed that "},
{"id": 107412, "question_id": 10741, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-28T23:23:53Z", "scrap_date": "2024-05-01T00:08:33.258420", "content": "May I ask if there is any documentation for this It seems the serverless is filled more with examples rather than details options Thanks "},
{"id": 107413, "question_id": 10741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-28T23:33:29Z", "scrap_date": "2024-05-01T00:08:33.259420", "content": "The answer is no Recently I had to design a solution for dynamic task scheduling The requirement was that an email had to be sent to each user Reading time 5 min read"},
{"id": 109682, "question_id": 10968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-01T16:52:04Z", "scrap_date": "2024-05-01T00:08:34.080221", "content": "Here is the sls print s dev output Here is the cloudformation update file content The error is Maybe something pebkacy here by myself "},
{"id": 109683, "question_id": 10968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-01T17:34:21Z", "scrap_date": "2024-05-01T00:08:34.081221", "content": "Version serverless version Framework Core 1 67 0 Plugin 3 6 1 SDK 2 3 0 Components 2 22 3"},
{"id": 109684, "question_id": 10968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-01T17:49:09Z", "scrap_date": "2024-05-01T00:08:34.082222", "content": "And the plot thickens Based on reviewing this transform code in the serverless plugin for aws in the events section httpapiindex js it appears that the settings should be indented like this which gives the cloudformation of Good now I get So it appears I need more Cognito configuration to enable the wellknown end point and this is where my JWT knowledge is very weak Ill dig around locally but if anyone has gotten past this point with Cognito and httpApi and deploying let me know Im sure its out of the Serverless realm now and into API Gateway V2 and Cognito integration config "},
{"id": 109722, "question_id": 10972, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-02T00:46:25Z", "scrap_date": "2024-05-01T00:08:34.889246", "content": "I actually think this Github issue has the answer When I am adding the following code in serverless yml file provider name aws runtime python3 6 stage dev region [REGION] iamRoleStatements Effect Although it would be nice if this could be done in serverless yml by referencing the function name "},
{"id": 109702, "question_id": 10970, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-02T16:25:00Z", "scrap_date": "2024-05-01T00:08:35.865277", "content": "I spoke to a rep and they said they are stored in SSM inside of Serverless Pros AWS environment "},
{"id": 88332, "question_id": 8833, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-22T00:16:28Z", "scrap_date": "2024-05-01T00:08:36.488688", "content": "So as embarrassed as I am to admit this it turns out that the only thing I was doing wrong was using a version of serverless that was too old to support the relatively new existing true option I was running 1 45 x and apparently this feature didnt make it in until 1 47 x or 1 48 x Either way upgrading serverless to use the latest version solved my issue "},
{"id": 88333, "question_id": 8833, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-02T16:39:12Z", "scrap_date": "2024-05-01T00:08:36.489689", "content": "Hi Kevin I am doing the similar thing of adding a bucket and adding event trigger in lambda on object creation The initial deployment works fine and it add the associated policies roles trigger to lambda and addition of new s3 bucket When I redeploy add existing true for same bucket which was created earlier It gives me error like Failed to create resource Configuration is ambiguously defined Cannot have overlapping suffixes in two rules if the prefixes are overlapping for the same event type See details in CloudWatch Log I know that we cant have same trigger event defined in s3 for same lambda however it should overwrite it or skip doing the same Can you suggest what I am doing wrong here Here is the sample to the same "},
{"id": 187092, "question_id": 18709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-28T17:26:59Z", "scrap_date": "2024-05-01T00:08:37.606347", "content": "Found a temporary solution Updated the plugin file by just adding a small check that function exists or not Previous output OutputKey this provider naming getLambdaFunctionUrlOutputLogicalId func Modified Code output OutputKey this provider naming hasOwnProperty getLambdaFunctionUrlOutputLogicalId this provider naming getLambdaFunctionUrlOutputLogicalId func false"},
{"id": 183522, "question_id": 18352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-30T06:42:46Z", "scrap_date": "2024-05-01T00:08:38.534666", "content": "hi redeemefy Where you able to resolve this I am facing similar issue "},
{"id": 103242, "question_id": 10324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T07:04:34Z", "scrap_date": "2024-05-01T00:08:40.652841", "content": "Getting the same issue "},
{"id": 103243, "question_id": 10324, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-23T13:48:27Z", "scrap_date": "2024-05-01T00:08:40.653835", "content": "Solution Export the following variable AWS_REGIONeuwest1 Or any other region that you want to deploy your app to "},
{"id": 103244, "question_id": 10324, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-11T08:12:10Z", "scrap_date": "2024-05-01T00:08:40.654835", "content": "Thanks mhadi It worked You are awesome y "},
{"id": 107712, "question_id": 10771, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-11T19:45:35Z", "scrap_date": "2024-05-01T00:08:41.567672", "content": "Well actually that does not work Even adding full S3 access to the Lambda role yields access denied if the bucket is not public "},
{"id": 107713, "question_id": 10771, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-11T21:05:57Z", "scrap_date": "2024-05-01T00:08:41.568667", "content": "I should stop doubting myself My code was fine Turns out awsprofile was not being honoured in my call to sls offline Changing to AWS_PROFILExxx sls offline works This whole time I have been pulling out my hair thinking I have been misunderstanding how SLS works all these years I would like a doover on the last 4 days please "},
{"id": 105852, "question_id": 10585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-16T23:18:54Z", "scrap_date": "2024-05-01T00:08:42.641039", "content": "Update this is with the dev bucket only that is to say uploading to the prod bucket does trigger the function to execute Im wondering if this could be to do with the existing true property Ive read that you can only have one existing bucket for a function although I didnt think thatd be an issue there as the proddev flavours of the stages create their own functions in serverless "},
{"id": 105853, "question_id": 10585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-12T09:54:00Z", "scrap_date": "2024-05-01T00:08:42.643040", "content": "Is the Dev bucket a preexisting bucket Can you show the contents of environment yml incase there is something wrong there Also if you check the cloudformation file inside the serverless directory where youre deploying from you should be able to see exactly whats being deployed "},
{"id": 105854, "question_id": 10585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-12T11:50:33Z", "scrap_date": "2024-05-01T00:08:42.643040", "content": "Hi Dr Colza I actually resolved this the issue was AWS had throttled the function for the dev env but not prod Im not sure why this was the case as I hadnt specified to throttle the function but there you go which returned ReservedConcurrentExecutions 0 Manually set the ReservedConcurrentExecutions in the serverless yml This did the job nicely For anyone else running these types of issues this blog helped me greatly httpsaws amazon comblogscomputemanagingawslambdafunctionconcurrency"},
{"id": 105855, "question_id": 10585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-12T12:17:48Z", "scrap_date": "2024-05-01T00:08:42.645040", "content": "Hi jshhrrsn Glad you got sorted no idea why the reserved concurrency would be set to zero very odd Thanks for the link too will give it a read DrColza"},
{"id": 99952, "question_id": 9995, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-01T21:37:03Z", "scrap_date": "2024-05-01T00:08:43.649210", "content": "Actually this was a newbie mistake I needed to run npm install in the plugin directory "},
{"id": 95692, "question_id": 9569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T07:49:33Z", "scrap_date": "2024-05-01T00:08:44.719157", "content": "Hi Venturix I am also facing the same problem Please let me know if you found the solution"},
{"id": 95693, "question_id": 9569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-14T01:59:07Z", "scrap_date": "2024-05-01T00:08:44.720157", "content": "I met the same problem for sending the email to the addresses not verified in SES I had the domain verified either and if I send the email to the addresses that verified in SES separately it will receive it but it needs to take a long time to get it Otherwise it wont receive it without any error message "},
{"id": 95694, "question_id": 9569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-13T01:18:29Z", "scrap_date": "2024-05-01T00:08:44.721157", "content": "Hey Venturix I fixed my issue due to that we are trying to make the send email async so created the async function we call this async function without await or any promise so the send email method is not triggered So below are our code snippet before and after before users map user sendEmail user after Promise all users map user sendEmail user "},
{"id": 46132, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-03T00:14:56Z", "scrap_date": "2024-05-01T00:08:45.869835", "content": "I think you need to set an environment varable called AWS_PROFILE [1][2] This should help the aws cli to use the profile you want [1] httpsdocs aws amazon comclilatestuserguideclimultipleprofiles html [2] httpsserverless comframeworkdocsprovidersawsguidevariables"},
{"id": 46133, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-03T16:03:57Z", "scrap_date": "2024-05-01T00:08:45.870835", "content": "willKo I dont think so It used to work without environment varable correctly "},
{"id": 46134, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-12T01:48:08Z", "scrap_date": "2024-05-01T00:08:45.870835", "content": "Pawel I am having the same issue Tried removing serverless and reinstalling but same issue specifying an an aws profile but deploying to my main aws account "},
{"id": 46135, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-12T14:34:54Z", "scrap_date": "2024-05-01T00:08:45.871836", "content": "I deploy to two different stacks without any problems but I do have a slightly different setup In dev yml I have And in prd yml I have Obviously my default and prd profiles are set up in point to separate accounts in awscredentials"},
{"id": 46136, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-12T18:06:41Z", "scrap_date": "2024-05-01T00:08:45.872836", "content": "Pawel my issue ended up being that I was looking for them in the aws web gui but was looking in the wrong region"},
{"id": 46137, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T06:54:52Z", "scrap_date": "2024-05-01T00:08:45.873836", "content": "The way how we work in our environment is we do not hard code the stage or region in the serverless yml file It is passed via the deploy command Command line to deploy serverless deploy stage dev region useast1 profile awsDev Sample Serverless yml File"},
{"id": 46138, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-23T01:44:39Z", "scrap_date": "2024-05-01T00:08:45.873836", "content": "Pawel did you find a fix"},
{"id": 46139, "question_id": 4613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-13T16:54:22Z", "scrap_date": "2024-05-01T00:08:45.874837", "content": "I tried absolutely everything to persuade serverless to use a profile from my awscli credentials Absolutely nothing worked at all I had linked my web serverless dashboard to my serverless CLI and that created a default profile for deployment It turned out that the serverless CLI was using that default profile from the web dashboard for all my stage deployments despite specifying a different profile everywhere else The only way I found to override it was to establish a second profile in the web dashboard link it with the right AWS account in the web dashboard and explicitly set that profile to be used for the right stage in the web dashboard awsprofile in the serverless CLI AWS_PROFILE in the serverless CLI and profile in serverless yml had absolutely no effect This is with the latest code in 202003 "},
{"id": 107982, "question_id": 10798, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T08:56:42Z", "scrap_date": "2024-05-01T00:08:46.505829", "content": "You absolutely can Remove the org and app settings from your serverless yml and then make sure you have the AWS access key and secret available in whatever environment you are deploying from This page should help you decide how you want to manage those credentials httpsserverless comframeworkdocsprovidersawsguidecredentials I prefer the use of serverless config credentials command myself because I usually work on multiple AWS accounts Then when it comes to deploying from my local machine I can choose which account to deploy too using awsprofile option "},
{"id": 108002, "question_id": 10800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T08:53:41Z", "scrap_date": "2024-05-01T00:08:47.433111", "content": "I would suggest confirming that the endpoint the test is calling is correct as API gateway will often return 403 when the path is invalid as technically you arent allowed to access any other path but those youve created "},
{"id": 108003, "question_id": 10800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T20:17:42Z", "scrap_date": "2024-05-01T00:08:47.434112", "content": "npx awsapigatewayclitest is being called with pathtemplatehello npx awsapigatewayclitest defaults to GET The invokeurlhttpsID executeapi useast2 amazonaws comdev looks ok too The path is defined in serverless yml as hello with a method of GET The handler is called handler js and contains a function called hello as supplied by the tutorial Checking in API Gateway Stages dev the Invoke URL is given as httpsID executeapi useast2 amazonaws comdevhello In both cases ID is replaced with the correct matching ID without quotes "},
{"id": 107962, "question_id": 10796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T08:57:35Z", "scrap_date": "2024-05-01T00:08:48.320759", "content": "Did you previously have the table configured with WCU and RCU"},
{"id": 107963, "question_id": 10796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-15T11:46:35Z", "scrap_date": "2024-05-01T00:08:48.321759", "content": "I didnt think so but thankfully I havent launched yet so I just recreated everything Question though it seems that one cant ever alter tables using the AWS console or else the serverless yml will be out of sync and future deployment wont work Is that fair to say"},
{"id": 107964, "question_id": 10796, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-16T08:47:43Z", "scrap_date": "2024-05-01T00:08:48.322760", "content": "Its generally a bad idea to alter anything not just DynamoDB tables This is because of CloudFormation which the Serverless Framework leverages for deploying your infrastructure as well as maintaining state of your stack "},
{"id": 93432, "question_id": 9343, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-04T08:33:49Z", "scrap_date": "2024-05-01T00:08:49.425652", "content": "Hey there I just faced the same issue Did you figure out a solution"},
{"id": 93433, "question_id": 9343, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-04T08:46:09Z", "scrap_date": "2024-05-01T00:08:49.426653", "content": "It should be fixed in version 1 53 "},
{"id": 93434, "question_id": 9343, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-16T16:29:46Z", "scrap_date": "2024-05-01T00:08:49.427653", "content": "I have the same bug in v1 66 0 Other dependencies are serverlessoffline and serverlesswebpack "},
{"id": 107492, "question_id": 10749, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-16T16:27:24Z", "scrap_date": "2024-05-01T00:08:50.446117", "content": "Getting the same warning after upgrading from Serverless 1 5 x to 1 6 6 0 Originally I had timeout 30 but changed it to timeout 29 and stil got the same error message Considering I need these 29 timeout lambdas to use the maximum time I can probably just remove this line altogether and by default it will use the maximum timeout Edit I was going to open an issue but it looks like one is open already httpsgithub comserverlessserverlessissues7440issuecomment598411665 To avoid the warning as of 3162020 downgrade to 1 6 5 or wait for the pull request 7467 to be merged "},
{"id": 107493, "question_id": 10749, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-16T22:52:16Z", "scrap_date": "2024-05-01T00:08:50.448528", "content": "I checked that PR and I dont think it will help me It looks like the check is for 29s so the timeout needs to be less than 29 the message and the code dont agree So reducing the timeout setting to 28 should work "},
{"id": 107494, "question_id": 10749, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-16T23:03:41Z", "scrap_date": "2024-05-01T00:08:50.448528", "content": "I verified that 28 worked Thanks very much for finding the PR it helped me understand how the check was working "},
{"id": 40872, "question_id": 4087, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-26T04:53:25Z", "scrap_date": "2024-05-01T00:08:51.115356", "content": "you need cd to the folder where has the file serverless yml thats the deploy command complain for For example"},
{"id": 40873, "question_id": 4087, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-26T13:43:51Z", "scrap_date": "2024-05-01T00:08:51.116356", "content": "Thank you bill seeing this now I am surprised that I felt the need to ask this question"},
{"id": 40874, "question_id": 4087, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-17T16:53:10Z", "scrap_date": "2024-05-01T00:08:51.116356", "content": "Hi I receive this error when using the serverlesspythonrequirement plugin and i do not have a file named serverless yml but two files serverlessA yml and serverlessB yml then I try to execute is the config creating some weird folder structure behind the scene thanks M"},
{"id": 23652, "question_id": 2365, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-26T00:34:18Z", "scrap_date": "2024-05-01T00:08:51.691185", "content": "I think that handlers path wrong Please check the directory structure of handler hello once again "},
{"id": 23653, "question_id": 2365, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2017-07-26T00:37:45Z", "scrap_date": "2024-05-01T00:08:51.692185", "content": "You need to bump the path and method another tabstop "},
{"id": 23654, "question_id": 2365, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-26T01:08:15Z", "scrap_date": "2024-05-01T00:08:51.692185", "content": "Ah didnt realize yaml indentation changed in that circumstanceworks now Thank you very much for the quick reply much appreciated "},
{"id": 23655, "question_id": 2365, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-25T07:48:14Z", "scrap_date": "2024-05-01T00:08:51.693186", "content": "Great Catch I am too faced the same issue"},
{"id": 23656, "question_id": 2365, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-19T07:30:22Z", "scrap_date": "2024-05-01T00:08:51.693186", "content": "Thank you very much "},
{"id": 107502, "question_id": 10750, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-19T21:59:18Z", "scrap_date": "2024-05-01T00:08:52.731269", "content": "Hi I ran into the same issue I had to change my serverless yaml runtime nodejs12 x My project also builds within a Docker image before deploying so I also had to update the node version installed in my container but for most this wont apply Hope this helps "},
{"id": 82592, "question_id": 8259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-03T01:54:05Z", "scrap_date": "2024-05-01T00:08:53.665573", "content": "FWIW Ive seen sls remove fail to completely pull down a stack leaving some crumbs behind I was noy able to get this teardown working 100 but try logging into cloudformation and the you can"},
{"id": 82593, "question_id": 8259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T13:48:44Z", "scrap_date": "2024-05-01T00:08:53.666573", "content": "Recently I run into same problem several times Probably this is a bug of serverlessframework It looks like it didnt remove LogGroup I removed previous deployment using sls removed and subsequent deployment failed due to"},
{"id": 82594, "question_id": 8259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-13T07:47:31Z", "scrap_date": "2024-05-01T00:08:53.667573", "content": "Guys In a secured environment you cannot remove log groups Our deployer permissions allow log group creation but not removal How it should work is"},
{"id": 82595, "question_id": 8259, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-20T00:10:33Z", "scrap_date": "2024-05-01T00:08:53.668574", "content": "Hey shederman How can I correct the situation if thats not the behavior Im seeing Im getting the error An error occurred ApiGatewayLogGroup awsapigateway api_name already exists I manually deleted the associated API Gateway object and eventually deleted all Serverlessrelated items in my AWS environment but the issue still persists Any advice Thanks"},
{"id": 44342, "question_id": 4434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T18:04:03Z", "scrap_date": "2024-05-01T00:08:54.809447", "content": "I am also having this problem though for me it occurs without the log flag Any insight would be appreciated "},
{"id": 44343, "question_id": 4434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-18T01:53:54Z", "scrap_date": "2024-05-01T00:08:54.809447", "content": "Which version of the Serverless Framework are you using Support for async functions when using invoke local is available since version 1 29 0 according to the changelog Upgrading to a more recent version might help Another thing that comes to mind according to the API Gateway documentation the body property must be a JSON string when using the Lambda Proxy Integration which is the case by default for the Serverless Framework So maybe try this body JSON stringify Some Value "},
{"id": 44344, "question_id": 4434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-30T21:02:24Z", "scrap_date": "2024-05-01T00:08:54.811442", "content": "Im getting same problem "},
{"id": 44345, "question_id": 4434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-20T23:23:23Z", "scrap_date": "2024-05-01T00:08:54.811442", "content": "I have the same issue with OSX Mojave Framework Core 1 67 0 Plugin 3 5 0 SDK 2 3 0 Components 2 22 3"},
{"id": 44346, "question_id": 4434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-21T02:20:19Z", "scrap_date": "2024-05-01T00:08:54.812442", "content": "I had the same problem dont know if youve solved it yet"},
{"id": 86822, "question_id": 8682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-02T06:30:58Z", "scrap_date": "2024-05-01T00:08:56.856122", "content": "Hi Selke and welcome to the community It most definitely is possible to use npm modules You would however preferably require your module outside the function instead This is just a small optimisation Otherwise you have it right Just use them like you always have for Node "},
{"id": 86823, "question_id": 8682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-03T21:56:20Z", "scrap_date": "2024-05-01T00:08:56.858122", "content": "See i tried doing this and when I run the function it does not work I have ruled out that I am not using the package correctly "},
{"id": 86825, "question_id": 8682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T04:59:55Z", "scrap_date": "2024-05-01T00:08:56.858122", "content": "I went to the root folder of the Serverless project and ran npm install geopoint save package json got updated with dependencies geopoint ^1 0 1 and node_modules folder was created My folder structure looks like this rootprojectfolder functions geospatial handler js node_modules geopoint"},
{"id": 86826, "question_id": 8682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-20T00:50:28Z", "scrap_date": "2024-05-01T00:08:56.859122", "content": "seriously n it worked 9Apps VidMate apk"},
{"id": 17112, "question_id": 1711, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T03:43:08Z", "scrap_date": "2024-05-01T00:08:57.844903", "content": "No there is not way to conditionally includeexclude parts of the serverless yml because its not a great idea to do so While I can totally understand your usecase what youre doing may come back to bite you and often does in larger projects and environments Since your devtest environment does not represent your prod environment its conceivable your application will works in devtest but have a bug in prod That being said and I feel dirty suggesting this you could try to use CFN Conditionals to do what youve described Remember that the resources section of your serverless yml is merged with the final generated CFN template so by adding in Conditions to your resources you might be able to do it e g have two function definitions one for devtest that is VPCd and one for prod that is not "},
{"id": 17113, "question_id": 1711, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-07T20:58:17Z", "scrap_date": "2024-05-01T00:08:57.846904", "content": "Did you ever find a reasonable solution for this issue talawahtech "},
{"id": 17114, "question_id": 1711, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T00:38:18Z", "scrap_date": "2024-05-01T00:08:57.846904", "content": "It might be possible using something like Its mixing stage specific variables with YAML anchors in an attempt to get vpcSettings to contain the right value "},
{"id": 17115, "question_id": 1711, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-04T16:19:57Z", "scrap_date": "2024-05-01T00:08:57.847904", "content": "Fwiw I achieved this by doing a slightly modified way to buggy I created a settings file called vpc_settings yml in the base of my project The structure was as follows The top level keys refer to my stages Then I have serverless yml for each microservice in microservicesnameserverless yml I had the following for provider key When you deploy a stage that does not have sec group subnet in vpc_settings yml it will grant the Lambdas execution role IAM permissions to create and manage EC2 network interface I believe this is because we are still specifying the vpc key However it wont actually put it into VPC mode because we havent specified security group or subnet When you deploy a stage that has a fully defined config in vpc_settings yml it will work This isnt ideal and I would recommend that you keep your environments the same but sometimes you gotta do what you gotta do "},
{"id": 17116, "question_id": 1711, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-21T10:55:12Z", "scrap_date": "2024-05-01T00:08:57.848904", "content": "The following is working on our side Although we get a warning from serverless for the empty dev environment "},
{"id": 103332, "question_id": 10333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-22T18:36:05Z", "scrap_date": "2024-05-01T00:08:58.617746", "content": "I got some guidance from AWS support but its still not quite right yet As you can see from the attachment it looks like the export is created successfully Heres where I try to us FnImportValue to import the CognitoUserPool When I go to deploy this is the error I get sls deploy s dev servicesuffix Larry Serverless Error Trying to request a non exported variable from CloudFormation Stack name CASAPIAUTHLarrydev Requested variable CognitoUserPool It looks like the import is using the correct stack name and variable name but it says it cant find it Thats whats confusing Thanks Larry"},
{"id": 103333, "question_id": 10333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T23:21:46Z", "scrap_date": "2024-05-01T00:08:58.619749", "content": "Can you provide your serverless yml files I need to see where and how are you using the FnImportValue "},
{"id": 103334, "question_id": 10333, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-02-18T23:05:54Z", "scrap_date": "2024-05-01T00:08:58.620742", "content": "Hi Sorry for the delay Was distracted with other tasks Heres the main serverless yml file And here is the resources yml that tries to import Cognito This shows you the two main files and how Im trying to do the import Let me know if youd like to see anything more Thanks "},
{"id": 103335, "question_id": 10333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-21T16:32:43Z", "scrap_date": "2024-05-01T00:08:58.620742", "content": "this really helps me thank you Larry a lot i really appreciate it i was just wondering if you can help me with something when i would have questions as i can feel that i will have some "},
{"id": 83383, "question_id": 8338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-28T09:35:06Z", "scrap_date": "2024-05-01T00:08:59.661761", "content": "Try serverlesslayers plugin "},
{"id": 83384, "question_id": 8338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-22T18:51:14Z", "scrap_date": "2024-05-01T00:08:59.662761", "content": "Hi did you solved it How I recently experienced the same problem solved by creating local serverless plugin see example here httpsgithub comhuksleygithubdeploys3functiontreemasterserverlessexistinglayer"},
{"id": 105482, "question_id": 10548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-19T23:46:17Z", "scrap_date": "2024-05-01T00:09:00.636304", "content": "sgyyz there is a typo in the authorizer that you posted it says exectueapiInvoke instead of executeapiInvoke What happens when you fix that"},
{"id": 105483, "question_id": 10548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-24T06:02:31Z", "scrap_date": "2024-05-01T00:09:00.637304", "content": "executeapiInvoke tmglb Thank you Its really a typo "},
{"id": 105232, "question_id": 10523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-18T16:08:41Z", "scrap_date": "2024-05-01T00:09:01.524965", "content": "Hey Konstantinos im having the exact same situation you detailed above Were you able to make any progress on a solution"},
{"id": 105233, "question_id": 10523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-18T19:15:58Z", "scrap_date": "2024-05-01T00:09:01.524965", "content": "I have the same issue on OS linux ubuntu 18 Node version 12 16 0 Framework version 1 63 0 Plugin version 3 3 0 SDK Version 2 3 0 Components Core version 1 1 2 Components CLI Version 1 4 0 Regards Pawel"},
{"id": 105234, "question_id": 10523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-21T18:44:33Z", "scrap_date": "2024-05-01T00:09:01.525965", "content": "Hello I had a similar problem and after debugging the error identified that its because the previous deployment templates used dont have any parameters The plugin isnt handling this Ive raised this on github Whilst the fix is being added the solution would be to go to the Azure portal and delete the previous deployments or if you want to be more specific go through each of them and delete any deployments which have ZERO parameters Cheers Bruce"},
{"id": 105235, "question_id": 10523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-25T07:53:19Z", "scrap_date": "2024-05-01T00:09:01.526965", "content": "jaekschmitt pawelste I switched to a solution without serverless actually bstorrie Thanks a lot good to know there is a raised issue and not something done wrong by my side "},
{"id": 31022, "question_id": 3102, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-11T21:51:27Z", "scrap_date": "2024-05-01T00:09:02.455960", "content": "You wouldnt happen to be listing one of your lambda functions under the resources section would you Something like this It appears that if you add a lambda under the resources section the Code field is required and the error handling for a missing Code field is pretty poor as in nonexistent "},
{"id": 31023, "question_id": 3102, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T15:34:20Z", "scrap_date": "2024-05-01T00:09:02.456960", "content": "I encountered the same issue and it was because the case of the function name was off in the resources section I renamed the lambda function name in the resources section to match the lambda function name exactly from serverlesscloudformationtemplateupdatestack json and the S3Key error went away "},
{"id": 31024, "question_id": 3102, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-07T17:53:36Z", "scrap_date": "2024-05-01T00:09:02.456960", "content": "I think you forgot to add Code field in lambda function resource resources Resources offlineStatemenFunction Type AWSLambdaFunction Properties Code actual code which echos the incoming event ZipFile exports handler function event context callback console log receiving event console log event callback nulldone Handler index handler Role FnGetAtt [ LambdaRole ARN ] Runtime nodejs8 10 Timeout 300 [quote]"},
{"id": 31025, "question_id": 3102, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-19T07:42:04Z", "scrap_date": "2024-05-01T00:09:02.458961", "content": "The issue comes from the fact that sometimes there is a difference between how you name the function in your serverless yaml file and how the framework actually names it during its creation in CloudFormation For instance I named a function onObjectCreated in the configuration file whereas it became OnObjectCreatedLambdaFunction in CloudFormation You can see this inspecting the list of created Resources in the console of the service "},
{"id": 31026, "question_id": 3102, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-25T12:32:14Z", "scrap_date": "2024-05-01T00:09:02.459961", "content": "Hi I am having same problem at the moment when I am trying to deploy from one AWS account to another Would it be possible to provide your serverless yaml file At the moment I am not sure if the issue is with function name as it is mentioned in this topic or something else Thanks in advance Br Aljaz "},
{"id": 106132, "question_id": 10613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-24T14:38:34Z", "scrap_date": "2024-05-01T00:09:03.538407", "content": "I assume thats no then Well have to stick to telling people to run npm tests sls deploy which is less elegant "},
{"id": 106133, "question_id": 10613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-26T10:12:17Z", "scrap_date": "2024-05-01T00:09:03.539408", "content": "Hmm maybe httpsgithub comuswitchserverlesshooksplugin is what I want with a hook that runs our gulp test task "},
{"id": 88572, "question_id": 8857, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-27T03:15:23Z", "scrap_date": "2024-05-01T00:09:04.394323", "content": "found the solution use dependOn property and get the function name from serverlessserverlessstate json"},
{"id": 10252, "question_id": 1025, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-30T06:21:08Z", "scrap_date": "2024-05-01T00:09:05.262735", "content": "AWS only allows you to define one handler per Lambda function To implement the services pattern you need to implement a router inside your handler If you want to see how Im doing it Ive written a blog post about Routing API Gateway Traffic Through One Lamda Function with example code "},
{"id": 10253, "question_id": 1025, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-02T09:21:45Z", "scrap_date": "2024-05-01T00:09:05.264736", "content": "Thanks for your help Thats what we need "},
{"id": 10254, "question_id": 1025, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-28T17:03:41Z", "scrap_date": "2024-05-01T00:09:05.264736", "content": "It seems that serverless no longer supports duplicate event types in a single function I implemented your code and got an error related to duplicate http events Is there an update to this approach or did I miss something"},
{"id": 106902, "question_id": 10690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-03T17:21:12Z", "scrap_date": "2024-05-01T00:09:06.090202", "content": "I have the exact same error as you Didnt happen at the first try about 3 days ago But now it is bothering me and I cant seem to find why "},
{"id": 107002, "question_id": 10700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-04T07:38:04Z", "scrap_date": "2024-05-01T00:09:06.924423", "content": "Its pretty simple event body contains the raw body Nothing complicated "},
{"id": 102942, "question_id": 10294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-27T00:32:51Z", "scrap_date": "2024-05-01T00:09:07.389273", "content": "Ive got exactly same issue"},
{"id": 102943, "question_id": 10294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-02T14:33:00Z", "scrap_date": "2024-05-01T00:09:07.390273", "content": "I think you need an object with the arn and topicName in your second snippet you might need or want to output the topic name rather than hard code it as I have below "},
{"id": 102944, "question_id": 10294, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-05T15:08:25Z", "scrap_date": "2024-05-01T00:09:07.390273", "content": "since im getting the exact same issue as OP i was hoping to get help edlea thanks for your response will try and come with an update i still need some help with my delice recipes projects thanks"},
{"id": 102945, "question_id": 10294, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-05T15:26:13Z", "scrap_date": "2024-05-01T00:09:07.391274", "content": "Eque19 I was in fact able to solve it I had to import the value into a custom var and then use the correct format when referencing the topic as an event as edlea pointed out Hope that helps "},
{"id": 101712, "question_id": 10171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-05T18:55:06Z", "scrap_date": "2024-05-01T00:09:08.410587", "content": "Having the same question myself Serverless makes it easy to deploy to different stages but this creates a whole new stack so it doesnt seem like theres a way to setup a teststaging stack and then pushpromote that stack to prod we just have to do a new sls deploy command with the prod environment set but this method doesnt guarantee an identical stack "},
{"id": 77402, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-27T03:01:40Z", "scrap_date": "2024-05-01T00:09:09.482407", "content": "Looks like service name conflict have u tried changing the stage name by environment name or changing the service name by environment name "},
{"id": 77403, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-27T13:14:59Z", "scrap_date": "2024-05-01T00:09:09.483407", "content": "Thanks for answering We actually tried many things but everything was broken after all So weve changed the name of the project and redeploy it using serverless deploy command What we would like is to have some tutorial andor template of serverless yml and maybe buildspec yml to know the full process to use a CICD CodePipeline or another in order to build and deploy FROM a Github repository TO Api Gateway Lambdas so using CloudFormation Thanks in advance if you have anything that could help "},
{"id": 77404, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-27T19:25:22Z", "scrap_date": "2024-05-01T00:09:09.484407", "content": "Right now the process I have in place is github as source to codepipeline using with webhooks next run codebuild project were I have a container with sls installed as environment in build stage do sls package package pathtopackage next in buildspec yml set the zip generated and serverless yml to be the artifacts now you have a immutable artifact which u can build once and deploy to all other environments In codepipeline one pipeline does build dev qa and finally stage to s3 Another codepipeline then gets triggered with s3 upload and starts production deployment which has manual approval as the first stage after source i do not have the template to share at the moment build will try to publish sometime this weekend "},
{"id": 77405, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T07:11:22Z", "scrap_date": "2024-05-01T00:09:09.485408", "content": "Hey bishwashdevops Im actually doing this right now too but Im currently calling sls deploy for each separate stage Dev staging prod which Im not totally happy with Im interested about how you generate an immutable artifact that you can deploy to each stage further down the pipeline My understanding which may be wrong is that sls package generates a stagespecific artifact So Id need to have the build step call sls package 3 times How do you handle this"},
{"id": 77406, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T08:37:40Z", "scrap_date": "2024-05-01T00:09:09.486408", "content": "Hey Julien Im currently building a CICD process which uses CodePipeline and CodeBuild to deploy a serverless yml service Lambdas APIGW using the following pipeline Its almost fully working now but I want to optimise a few things Im going to write it up as a blog post with source code included serverless yml buildspec yml CDK constructs for creating pipeline Ill link to it here once I have it ready "},
{"id": 77407, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T10:09:05Z", "scrap_date": "2024-05-01T00:09:09.487408", "content": "Thanks you all for your answers Hope to see your works on this subjects soon If you want to share some draft dont hesitate i will be glad to help you in the process "},
{"id": 77408, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-29T00:40:50Z", "scrap_date": "2024-05-01T00:09:09.488408", "content": "After you run package the cloudformation template generated is stageenv specific but the zip should not be which you have total control over so in buildspec artifacts i have so when i am in another stage the ouput artifact has already packaged lambda function along with serverless yml Then run sls deploy artifact packagename zip the cloudformation will be regenerated but the package does not have to be One addition is required in serverless yml for this to work I had posted about it at medium a while back httpslink medium comW46tiZIfrV"},
{"id": 77409, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-02T09:30:52Z", "scrap_date": "2024-05-01T00:09:09.489409", "content": "Thanks for this Bishwash that makes sense and Ill probably update my build steps to use your approach Julien heres the link to my blog post which might be helpful for you httpswinterwindsoftware comserverlesscicdpipelineswithawscdk"},
{"id": 774010, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T06:39:25Z", "scrap_date": "2024-05-01T00:09:09.489409", "content": "Hi When are you planning to share your work I am looking for something similar "},
{"id": 774011, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T07:08:35Z", "scrap_date": "2024-05-01T00:09:09.490409", "content": "Hello I actually use only CodeBuild now and not the full CodePipeline It can be triggererd by a push on a remote repository and then run the commands you put in your buildspec yaml You only need to install your package eg npm install and then run serverless deploy Using the AWS console the configuration is made quite easy if youre familar with AWS services Hope it helps "},
{"id": 774012, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T07:58:29Z", "scrap_date": "2024-05-01T00:09:09.491410", "content": ""},
{"id": 774013, "question_id": 7740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-08T21:02:41Z", "scrap_date": "2024-05-01T00:09:09.491410", "content": "Hey I wrote an article about deploying Serverless application using Github Actions hope it helps "},
{"id": 106472, "question_id": 10647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-09T15:32:06Z", "scrap_date": "2024-05-01T00:09:10.506696", "content": "Any ideas Do I need to create a plugin just for this one value or is there maybe a branch of aws plugin that has the latest features"},
{"id": 76352, "question_id": 7635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-11T15:06:18Z", "scrap_date": "2024-05-01T00:09:11.992588", "content": "Quote The problem is with your indenting in serverless yml Notice that hello and events is at the same indention level When you packagedeploy its being evaluated as two functions the hello function and the events function The events function doesnt contain a handler property so throws an error I assume you meant to have the events label actually defining the events trigger for the hello function If so then just indent the events block another 2 spaces to the right like so"},
{"id": 76353, "question_id": 7635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-11T16:17:22Z", "scrap_date": "2024-05-01T00:09:11.994589", "content": "Thanks for the assistance bfieber it finally works "},
{"id": 76354, "question_id": 7635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-09T15:43:58Z", "scrap_date": "2024-05-01T00:09:11.994589", "content": "I think the indentation under comments in the template file is non trivial "},
{"id": 105052, "question_id": 10505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-09T20:40:59Z", "scrap_date": "2024-05-01T00:09:12.855834", "content": "Moved on to using AWS the first example I tried worked Apparently there is something wrong with GCS "},
{"id": 94952, "question_id": 9495, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-10T13:56:27Z", "scrap_date": "2024-05-01T00:09:14.018094", "content": "you actually forgot to set AWS_REGION in the serverless yml"},
{"id": 104562, "question_id": 10456, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-04T03:19:23Z", "scrap_date": "2024-05-01T00:09:15.102831", "content": "After touching awscredentials below is the new error Here is the error stack "},
{"id": 104563, "question_id": 10456, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-11T00:18:30Z", "scrap_date": "2024-05-01T00:09:15.104831", "content": "Necromancerx in your first post you were looking at awsconfig which is incorrect then in second post youre looking at awscredentials which is the correct location it looks like you need to move then entries from your first post to awscredentials"},
{"id": 105282, "question_id": 10528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-11T23:55:57Z", "scrap_date": "2024-05-01T00:09:16.045054", "content": "Hello mcdonnelljohn and welcome to the forum It looks like this error is thrown by serverlessmochaplugin This plugin added support for the Node js 12 x runtime at the end of November 2019 but does not seem to have released a new version on npm since the end of July 2019 The example repository you are looking at updated its runtime at the beginning of December 2019 but was previously using an older runtime compatible with serverlessmochaplugin My understanding is that at the time the article was initially published the command you run was working as expected because it was using this older runtime My recommendation would be to change your runtime in your serverless yml file to be nodejs10 x or nodejs8 10 and to try again Hope this helps "},
{"id": 105283, "question_id": 10528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T00:00:07Z", "scrap_date": "2024-05-01T00:09:16.047054", "content": "Actually I just realized garethmcc is the author of the article and the owner of the repository Maybe you could confirm if my theory is right or not Thanks in advance "},
{"id": 105284, "question_id": 10528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T09:37:55Z", "scrap_date": "2024-05-01T00:09:16.047054", "content": "I actually forked the original project and released the fork to npm as serverlessmocha not serverlessmochaplugin"},
{"id": 105285, "question_id": 10528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T09:45:00Z", "scrap_date": "2024-05-01T00:09:16.048055", "content": "Thanks teddygustiaux and garethmcc for the information I have to admin I was lost I wouldnt have guessed that the plugin would effect the serverless runtime so wasnt looking into that more had thought something was misconfigured with my installation of serverless It might be useful if we could get a minor change to that repository to change the referenced serverlessmochaplugin ^1 10 0 to be serverlessmocha ^1 12 0` to avoid others confusion in future Thanks again for the information guys Now to begin my serverless journey"},
{"id": 105286, "question_id": 10528, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-02-12T10:07:11Z", "scrap_date": "2024-05-01T00:09:16.049055", "content": "True Ill change that"},
{"id": 105287, "question_id": 10528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T12:20:34Z", "scrap_date": "2024-05-01T00:09:16.050055", "content": "Thanks for the explanation garethmcc mcdonnelljohn Hope you have a great time in the world of serverless "},
{"id": 104712, "question_id": 10471, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T18:59:32Z", "scrap_date": "2024-05-01T00:09:16.937953", "content": "Updates The subscription for lambda is created but the filterPolicy is still not working I also checked generated cloud formation template It also doesnt have FilterPolicy block in subscription Result of that I have put a if condition in my subscribed lambda to check for specific msgCode and process it only when that condition is true "},
{"id": 102002, "question_id": 10200, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-14T08:56:25Z", "scrap_date": "2024-05-01T00:09:17.941984", "content": "The new interface for CloudWatch logs looks and works great the only issue is that its not very discoverable You have to know exactly what you are looking for and how Seed main UI is structured to find it "},
{"id": 102003, "question_id": 10200, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-14T18:07:53Z", "scrap_date": "2024-05-01T00:09:17.942984", "content": "Thats a good point Well be rolling out some updates over the next few weeks to fix this "},
{"id": 102004, "question_id": 10200, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-01-27T20:08:06Z", "scrap_date": "2024-05-01T00:09:17.943985", "content": "Weve now got a new metrics interface to go with the logs Its really fast and it even lets you inspect errors and view the logs right from the charts Here are the details of how it works New and Improved Serverless Metrics"},
{"id": 102005, "question_id": 10200, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-02-12T21:00:47Z", "scrap_date": "2024-05-01T00:09:17.944985", "content": "We are introducing App Reports Its a weekly or daily email report that contain the key performance metrics of your Serverless apps Together with Logs and Metrics you can now monitor diagnose and debug your apps on Seed all with zeroconfiguration Here are the details of how it works Introducing App Reports"},
{"id": 104372, "question_id": 10437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T09:26:07Z", "scrap_date": "2024-05-01T00:09:18.884080", "content": "Not sure if this is what you want but you can take a look on the serverlesspluginifelse It allows you to exclude a function or resources if the env testing"},
{"id": 105362, "question_id": 10536, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T09:12:42Z", "scrap_date": "2024-05-01T00:09:19.979127", "content": "I think your code looks okay documentClient delete Perhaps you want to "},
{"id": 105363, "question_id": 10536, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T12:15:23Z", "scrap_date": "2024-05-01T00:09:19.980127", "content": "What do you see in cloudwatch log"},
{"id": 105412, "question_id": 10541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T11:39:39Z", "scrap_date": "2024-05-01T00:09:20.428119", "content": "To anyone having a similar problem I solved it with the following Step Functions Environment and Resources Everything works but I am now having another problem which is created by the fact that when I deploy to devprod one of them works the other one doesnt as it claims the stepMachine is already created "},
{"id": 105413, "question_id": 10541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T12:22:01Z", "scrap_date": "2024-05-01T00:09:20.430120", "content": "Can you add the stage in the stage machine name"},
{"id": 105414, "question_id": 10541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T12:23:29Z", "scrap_date": "2024-05-01T00:09:20.430120", "content": "Good point just tried and it doesnt work It could be thought Thats what I tried"},
{"id": 105415, "question_id": 10541, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T12:24:31Z", "scrap_date": "2024-05-01T00:09:20.431120", "content": "Just tried I could be wrong but it doesnt work"},
{"id": 105312, "question_id": 10531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T09:36:07Z", "scrap_date": "2024-05-01T00:09:21.528620", "content": "Actually the 100 buckets for S3 is just a soft limit you can raise a service limit request to increase it "},
{"id": 105313, "question_id": 10531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T18:04:00Z", "scrap_date": "2024-05-01T00:09:21.529620", "content": "Thank you for your answer cheesiangcs but perhaps you didnt understand me or I didnt explain myself enough I already deleted S3 buckets so the soft limit of 100 shouldnt be an issue anymore in that context I know that a ticket can be raised and the limit increased but that wasnt the point of this topic My question was referred to understand why I got the same error message even when I had enough buckets size to do the deploy I finally found somewhere that there was a chance that this problem was related to authorization so I started using awsazurelogin and the problem was solved for some reason problem solved for me "},
{"id": 105192, "question_id": 10519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-11T00:25:44Z", "scrap_date": "2024-05-01T00:09:22.479695", "content": "hernanc checkout the serverlessdotenvplugin module httpswww npmjs compackageserverlessdotenvplugin u can use it to load env then u can have a env file for each environment"},
{"id": 105193, "question_id": 10519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-12T02:36:34Z", "scrap_date": "2024-05-01T00:09:22.480695", "content": "For lambda they are part of the lambda settings sls use cloudformation to configure lambda env variables"},
{"id": 105194, "question_id": 10519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T09:18:54Z", "scrap_date": "2024-05-01T00:09:22.480695", "content": "Maybe you can take a look on the serverlesspluginifelse"},
{"id": 105195, "question_id": 10519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-13T11:53:34Z", "scrap_date": "2024-05-01T00:09:22.481696", "content": "Are you the plugin author or promoting it its been 3 posts in a row that you nane it hehe"},
{"id": 105196, "question_id": 10519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-14T02:03:46Z", "scrap_date": "2024-05-01T00:09:22.481696", "content": "jfn0 Hahaa no I just found this plugin yesterday and it solved all my problem like having different env have different stageVar etc My serverless yaml file reduces from 700 lines to less than 200 "},
{"id": 76852, "question_id": 7685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-14T19:24:02Z", "scrap_date": "2024-05-01T00:09:23.578575", "content": "Hi I had the same problem This was the ONLY result in Google The only way I found to work around this was to delete the firehose stream and start over again "},
{"id": 87942, "question_id": 8794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-16T12:22:52Z", "scrap_date": "2024-05-01T00:09:24.563228", "content": "Very much looking for this Theres mangum but its barely a concept httpsgithub comermmangum Also delijatis has a fork of Zappa which includes ASGI support httpsgithub comdelijatiZappa but Zappa hasnt seen any major improvements in a long time I know it makes little difference if its ASGI or WSGI when youre running them on lambdas but the future of python is async and many people want to develop on the new async web frameworks SanicQuartStarlette "},
{"id": 87943, "question_id": 8794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T02:39:07Z", "scrap_date": "2024-05-01T00:09:24.564229", "content": " Zappa hasnt seen any major improvements in a long time Zappa is under active development and another way to say this is that Zappa is stable for its targeted usecase and supports event triggers and ALB deployment And yes Zappa only currently supports WSGI applications I expect that ASGI support is being considered especially now that APIGateway now supports websockets "},
{"id": 87944, "question_id": 8794, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-22T22:03:18Z", "scrap_date": "2024-05-01T00:09:24.565229", "content": "Zeit Serverless Functions has ASGI support I created a demo of this integration with FastAPI httpsgithub compaul121fastapizeitnow Not using it in production for anything but am quite interested in that "},
{"id": 169992, "question_id": 16999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-30T06:43:43Z", "scrap_date": "2024-05-01T00:09:25.632518", "content": "Hi sathishmohanps were you able to resolve this I am facing similar issue"},
{"id": 18072, "question_id": 1807, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-06T20:19:07Z", "scrap_date": "2024-05-01T00:09:26.300163", "content": "In my limited experience of using RDS with a serverless stack NodeJS you can keep DB connection pools alive between invocations The way I have done this in the past is to create my connection pool outside of the handler function This way the connection pool is only created new DB connection on first initialization of the lambda and then available to all invocations while the lambda is hot The reason that this works is that lambda tries to reuse containers where possible if your function is getting regular traffic then you will see that DB connection pool is getting reused without a new connection created each time After a bit of a google I found a similar question in the AWS forums that seems to confirm this httpsforums aws amazon comthread jspathreadID216000 Obviously it is worth experimenting with this to see if it works for you as there are good few reasons having connections floating outside invocations isnt a great idea as discussed in the above linked forum thread Alternatively I recommend looking at DynamoDB if you need a more distributed DB to cover a large number of requests "},
{"id": 33192, "question_id": 3319, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-14T21:06:20Z", "scrap_date": "2024-05-01T00:09:28.256094", "content": "I can relate to your thoughts Ill share what we do in a project hopefully someone will give better ideas or suggestions in the discussion So our repo is relative simple data lake Our auth part is simply signed requests back and forth as in time it will be machines dealing with the requests not people using UI Although we use lerna in other projects we dont use it in this one because the services are not npm packages that we would publish on npm For orchestration we simply use scripts Yes its not perfect but it does the job as each deployment follows the other synchronously As a general rule of thumb each service which contains serverless yml would share output via serverlessstackoutput This plugin helps with that each service deployment results in a json file having information about service endpoint And following some common conventions like putting this output file in serverless folder and knowing which service comes after which service we can relatively safely rely on these output files being loaded via variables in serverless yml files Its something like service discovery Each mini endpoint can be glued to other services and used via environment variables in lambda functions In some cases however when you use less popular services or plugins such as elasticsearch youll still need to use Cloud Formations Output for the serverlessstackoutput or as you mentioned import the value of the previous CF ouput with something like FnImportValue selfprovider stage elasticsearchServiceEndpoint which indeed gets funky at some point and harder to maintain In short to my personal knowledge scripts with sls deploy in series help at this point and the different services might need CF specific output to share their service mini endpoints with other services "},
{"id": 33193, "question_id": 3319, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T14:45:27Z", "scrap_date": "2024-05-01T00:09:28.259105", "content": "Were currently having the same challenge One of our repos has about 5 SLS services that need to be deployed in a specific order We too right now are using scripts and serverlessstackoutput to hot potato outputs into the params of the next However were looking for a better way Also wanting to reuse JS across projects where it makes sense Currently were investigating httpsnx dev and httpslerna js org to see if either will work So far lerna has much of what we need save for the ability to ORDER the deployments etc Nx seems to have it all even has implicitDependencies so we can say that the slsfrontend depends on the slsapi which in turn depends on the slsauth However Nx seems to have a good deal more to learn and hoverhead in the way of config They try to solve that extra conf by creating boilerplates for projects which is just one more thing to createmanage Still on the look for the right thing Still playing with these two "},
{"id": 102522, "question_id": 10252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T23:56:20Z", "scrap_date": "2024-05-01T00:09:29.205963", "content": "Hi so move the necessary module from devDependencies to dependencies in package json I think that that could solve it "},
{"id": 102523, "question_id": 10252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T04:56:03Z", "scrap_date": "2024-05-01T00:09:29.206963", "content": "You should take a look at this plugin npm serverlesspluginbrowserify Serverless v1 0 plugin that uses Browserify to bundle NodeJS Lambda functions It will bundle you lambda in a single file with only the required xeps Smaller size and faster coldstart "},
{"id": 103472, "question_id": 10347, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T23:00:43Z", "scrap_date": "2024-05-01T00:09:29.810852", "content": "Hi did you try running the command in some different folder Or try running serverless create help pick the template you want from the list and then run for example serverless create t awsnodejs"},
{"id": 103473, "question_id": 10347, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T09:38:42Z", "scrap_date": "2024-05-01T00:09:29.811852", "content": "Thanks Different directory didnt seem to change anything but I found some different instructions I think AWS ones and just launched straight in wrote a serverless yml set up credentials and was able to serverless deploy my app If I find any logs or anything that tells me what went wrong Ill try to remember to update this topic "},
{"id": 102292, "question_id": 10229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T00:24:51Z", "scrap_date": "2024-05-01T00:09:30.694369", "content": "lambda thatll be called by an existing CF distribution IMHO I think its better to separate Lambda functions to separate Serverless service because of their special constraints as you mentioned for some strange reason can not have any env vars defined"},
{"id": 102293, "question_id": 10229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-24T19:54:21Z", "scrap_date": "2024-05-01T00:09:30.695117", "content": "Yeah it ended up working out better that way anyway since I ran into more restrictions for example edgelambda amazonaws com needed IAM service permissions "},
{"id": 103882, "question_id": 10388, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T01:35:27Z", "scrap_date": "2024-05-01T00:09:31.559949", "content": "changed serverlessdomainmanager ^3 3 1 in the package json and it solved the issue"},
{"id": 104013, "question_id": 10401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T23:14:40Z", "scrap_date": "2024-05-01T00:09:32.599594", "content": "I saw your earlier post I also got the same issue "},
{"id": 104014, "question_id": 10401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T23:17:40Z", "scrap_date": "2024-05-01T00:09:32.600595", "content": "Last time when I used serverless Azure templates I managed to deploy it to Azure functions but it was not running Azure function not running error Today when I updated to the latest serverless release I got this issue instead "},
{"id": 104015, "question_id": 10401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T23:27:55Z", "scrap_date": "2024-05-01T00:09:32.601595", "content": "Because you should change function js outs name as return As I knew the plugin serverlessazurefunctions do not check the language python or nodejs It only uses res as the name of output but according to the documentation of function app We should use return "},
{"id": 104016, "question_id": 10401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T23:31:38Z", "scrap_date": "2024-05-01T00:09:32.602595", "content": "I dont know how to change it when we deploy the only way is clone the plugin and go to file srcsharedbindings ts Search binding[constants name] res And replace res to return and then compile it again Import it as local plugin "},
{"id": 103982, "question_id": 10398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-29T12:40:55Z", "scrap_date": "2024-05-01T00:09:33.400655", "content": "Doest the file in the error message exists"},
{"id": 27762, "question_id": 2776, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-27T04:20:39Z", "scrap_date": "2024-05-01T00:09:34.334768", "content": "I came across this thread that has a workaround but not a great solution httpsgithub comserverlessserverlessissues308 Have there been any updates in this area"},
{"id": 27763, "question_id": 2776, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-02T02:12:41Z", "scrap_date": "2024-05-01T00:09:34.335768", "content": "I had the same problem with the node_expat module After failing to come up with an elegant solution I decided to keep both versions mac compiled and linux compiled in my node_modules directory e g node_expat mac and node_expat linux Before deploying my function I ran a script to rename the linux version to the proper filename and deployed Its not pretty but it worked "},
{"id": 27764, "question_id": 2776, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-03T10:23:41Z", "scrap_date": "2024-05-01T00:09:34.336768", "content": "If youre using native NPMs you need to provide a version compiled for Lambda i e using the correct AWS AMI when you upload your node_modules folder If you dont it wont run It might worth looking into using CICD to deploy or adding a deploy script inside your package json so that you always have a consistent deployment experience "},
{"id": 27765, "question_id": 2776, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-25T20:36:25Z", "scrap_date": "2024-05-01T00:09:34.337768", "content": "Just to add to buggy s answer you can use httpsgithub comlambcidockerlambda to run a local container that is the same as the remote environment "},
{"id": 27766, "question_id": 2776, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-29T17:25:55Z", "scrap_date": "2024-05-01T00:09:34.337768", "content": "use bcrypt js instead of bcrypt npm bcryptjs Optimized bcrypt in plain JavaScript with zero dependencies Compatible to bcrypt "},
{"id": 72042, "question_id": 7204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-30T06:06:41Z", "scrap_date": "2024-05-01T00:09:34.906389", "content": "Any luck with that "},
{"id": 104272, "question_id": 10427, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-30T20:13:29Z", "scrap_date": "2024-05-01T00:09:36.254252", "content": "What is your deployment output Also it looks like your last line is missing a file extension and some necessary syntax "},
{"id": 103532, "question_id": 10353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-01T20:40:05Z", "scrap_date": "2024-05-01T00:09:37.200917", "content": "Managed to achieve it with referring one function twice"},
{"id": 11712, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-25T01:57:48Z", "scrap_date": "2024-05-01T00:09:38.131412", "content": "Yep the resources section takes CloudFormation which can create IAM Policies "},
{"id": 11713, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-25T02:24:50Z", "scrap_date": "2024-05-01T00:09:38.132412", "content": "rowanu It is trust policy not role or resource "},
{"id": 11714, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-25T04:35:37Z", "scrap_date": "2024-05-01T00:09:38.132412", "content": "It is a policy document which can be defined in an IAM Policy resource "},
{"id": 11715, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-25T11:55:04Z", "scrap_date": "2024-05-01T00:09:38.133407", "content": "Is it possible to add this policy document to default IAM role I have this in resources IotPolicy Type AWSIAMPolicy Properties PolicyName IoT PolicyDocument Version 20121017 Statement Effect Allow Principal Service iot amazonaws com Action stsAssumeRole Resource Roles Ref IamRoleLambdaExecution And I got Serverless Error "},
{"id": 11716, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-25T12:54:49Z", "scrap_date": "2024-05-01T00:09:38.134431", "content": "I have the same problem as Jari Plz someone provide a working sample "},
{"id": 11717, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-25T21:25:05Z", "scrap_date": "2024-05-01T00:09:38.134431", "content": "Ah my bad I was sure I had done this with just in a policy before but after reviewing my old code I can see that wasnt the case trust policies must be defined in the IAM Role To do this you must override the default function Role that all Serverless functions get Heres what the Role resource should look like You then use the Role in your function definition like this taken from the docs Obviously if you want your function to do other things like log to CloudWatch etc then you will need to add additional statements you wont get any of the defaults you usually get with the builtin Serverless function Role "},
{"id": 11718, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-26T17:22:46Z", "scrap_date": "2024-05-01T00:09:38.135428", "content": "rowanu Thx for the example couldnt test it yet because I am facing a deploy problem with serverless But I suggest to have it somewhere in Docs Thanks"},
{"id": 11719, "question_id": 1171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T09:06:57Z", "scrap_date": "2024-05-01T00:09:38.136429", "content": "This is now possible with custom resources httpsgist github comsdomagalaa647a69f0dd87af545d7c45dfc7b0114"},
{"id": 50422, "question_id": 5042, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T09:07:40Z", "scrap_date": "2024-05-01T00:09:39.164965", "content": "Possible solution httpsgist github comsdomagalaa647a69f0dd87af545d7c45dfc7b0114"},
{"id": 85862, "question_id": 8586, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-01T08:48:08Z", "scrap_date": "2024-05-01T00:09:39.625234", "content": "Hi have you found the solution to this"},
{"id": 85863, "question_id": 8586, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T23:44:25Z", "scrap_date": "2024-05-01T00:09:39.626235", "content": "Hi I am also looking for a solution for this It doesnt look like serverless supports custom domain names for websockets The custom domain manager plugin also doesnt support it Has anyone found a work around"},
{"id": 104282, "question_id": 10428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-01T01:32:43Z", "scrap_date": "2024-05-01T00:09:40.542582", "content": "Can you share some code that will help "},
{"id": 104283, "question_id": 10428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T14:01:02Z", "scrap_date": "2024-05-01T00:09:40.542582", "content": "For example in srcclass ts Then in my serverless yml file I tried this If I run sls package I get the error No matching handler found for srcclass MyClass in projectdir Check your service definition "},
{"id": 104284, "question_id": 10428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T23:12:45Z", "scrap_date": "2024-05-01T00:09:40.543577", "content": "I do not think its possible but you can export a function and use your class in this function"},
{"id": 104285, "question_id": 10428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-04T14:27:08Z", "scrap_date": "2024-05-01T00:09:40.544577", "content": "Yeah I already went the route of creating and exporting a stub function but its not as pretty "},
{"id": 104286, "question_id": 10428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-05T02:45:42Z", "scrap_date": "2024-05-01T00:09:40.544577", "content": "You are right lets find or create a plugin serverlessclasshandler"},
{"id": 101552, "question_id": 10155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-31T01:55:32Z", "scrap_date": "2024-05-01T00:09:42.253460", "content": "It looks like the data is base64 encoded Have you tried decoding it"},
{"id": 101553, "question_id": 10155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-31T02:36:00Z", "scrap_date": "2024-05-01T00:09:42.254451", "content": "Yeah that turned out to be the issue It wasnt just base64 though it was also gzipped so base64 was returning some jumbled text Oh well now fixed "},
{"id": 69532, "question_id": 6953, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-12T09:45:35Z", "scrap_date": "2024-05-01T00:09:43.372948", "content": "You need to use the serverlessiamrolesperfunction plugin if you want to set the IAM roles at the function By default the IAM roles need to be put in the provider and apply to all functions "},
{"id": 69533, "question_id": 6953, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-31T10:19:54Z", "scrap_date": "2024-05-01T00:09:43.374948", "content": "Indeed that was it Thanks for the reply "},
{"id": 6252, "question_id": 625, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-25T23:46:23Z", "scrap_date": "2024-05-01T00:09:43.947176", "content": "Hi JakubMatejka I have the same problem but I dont know how to deploy and assign a lambda function directly as a cognito trigger Please can you explain me this Regarding your problem the only thing seems to work is deploy using serverless in my case only creates the lambda go to amazon web console reselect your lamdbda function on your cognito triggers section and apply changes Tell me if it works As far as I know the permission is set to the lambda function by cognito and it is not for invoke the lambda itself but allow your lambda to invoke other amazon lambda I suppose I couldnt sucess by adding lambdaInvokeFunction permission to the role "},
{"id": 6253, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T08:22:17Z", "scrap_date": "2024-05-01T00:09:43.949177", "content": "OMG youre right endymion When I remove the trigger and put it there again manually using aws console it works But how is that possible I described the pool using cli command aws cognitoidp describeuserpool and the trigger was set up correctly As far as I know setting the trigger is not possible in Serverless We have a makefile which creates Cognito pool then deploys lambda functions using Serverless and then assigns the function as trigger You can see it here httpsgithub comkebooladeveloperportalblobmasterMakefile and httpsgithub comkebooladeveloperportalblobmasterscriptsawssetup jsL73 "},
{"id": 6254, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T10:32:21Z", "scrap_date": "2024-05-01T00:09:43.950177", "content": "So it looks like a bug in aws If I set the trigger either by aws cli or by Javascript sdk then the lambda function fails However when I remove it and set again from aws console it works ok Good news is that it is easily reproducible on the same user pool when I remove the trigger and set again using cli lambda function again fails So I am going to report it to aws "},
{"id": 6255, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T21:34:51Z", "scrap_date": "2024-05-01T00:09:43.951178", "content": "JakubMatejka can you please tell me how to do it by using the aws cli By the way thank you very much for posting the links about cognito pool creation and lambda deployment"},
{"id": 6256, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T09:00:09Z", "scrap_date": "2024-05-01T00:09:43.951178", "content": "Sure it is aws cognitoidp updateuserpool region useast1 userpoolid poolId lambdaconfig CustomMessage messageHandlerArn But be aware that you have to include all your custom settings like autoverification password policy etc or they will be reset to default values "},
{"id": 6258, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-29T11:30:13Z", "scrap_date": "2024-05-01T00:09:43.952178", "content": "I eventually found a solution to this"},
{"id": 6259, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T02:13:10Z", "scrap_date": "2024-05-01T00:09:43.953185", "content": "samredway How did you set up the permission for the lambda trigger via Serverless Is there a way to do so We are running into the same issue with our postconfirmation lambda trigger We used CloudFormation template to configure the Cognito user pool but the LambdaConfig doesnt add the proper permission to lambda And there is no way to run addpermission on Serverless "},
{"id": 62510, "question_id": 625, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2018-12-05T12:16:00Z", "scrap_date": "2024-05-01T00:09:43.953185", "content": "We added the following item under Resources This allows all your user pools to invoke the specified function It took me ages to find it so I hope this helps someone "},
{"id": 62511, "question_id": 625, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-01T07:11:50Z", "scrap_date": "2024-05-01T00:09:43.954176", "content": "awscognitoidp note you can restrict the access on resource and cognitoidp user with this I am successfully able to create and deploy cloudformation Stack for the module "},
{"id": 101592, "question_id": 10159, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-02T05:38:17Z", "scrap_date": "2024-05-01T00:09:44.872907", "content": "Cannot reproduce Are you using a private npm registry Maybe your npm registry was broken "},
{"id": 36812, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T12:42:31Z", "scrap_date": "2024-05-01T00:09:45.957308", "content": "Questions 1 How long is the overall execution time when you run your script at home 2 What ist the error message when it fails on aws lambda 3 Do you use any nonstandard python libraries for example requests 4 Which runtime did you choose 5 How did you trigger your lambda function schedule api gateway Some notes 1 The asyncio stuff should run on aws lambda because its python But of course you have to use runtime python3 6 2 The timeout property for the function should be set appropriately otherwise timeout can occur before the function finishes Timeout can be set up to 5 minutes for a lambda function 3 If you use nonstandard python libraries you maybe forgot to deploy them Just my two cents "},
{"id": 36813, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T13:32:51Z", "scrap_date": "2024-05-01T00:09:45.959309", "content": "Questions 1 How long is the overall execution time when you run your script at home 2 What ist the error message when it fails on aws lambda 3 Do you use any nonstandard python libraries for example requests 4 Which runtime did you choose 5 How did you trigger your lambda function schedule api gateway Hey Franky Thanks for grabbing ahold of this Heres some answers import json import requests import boto3 import itertools from pprint import pprint from datetime import datetime timedelta from bs4 import BeautifulSoup Some notes 1 The asyncio stuff should run on aws lambda because its python But of course you have to use runtime python3 6 2 The timeout property for the function should be set appropriately otherwise timeout can occur before the function finishes Timeout can be set up to 5 minutes for a lambda function 3 If you use nonstandard python libraries you maybe forgot to deploy them Thanks for these Heres my replies provider name aws runtime python3 6 so I think the runtime is fine The real problem was I had no idea how to write the loop that handle all the asyncio stuff The standalone script has the following loop asyncio get_event_loop future asyncio ensure_future main loop run_until_complete future I have no idea how to encode that loop in a lambda handler Im very new to Lambda Thanks for your time jas "},
{"id": 36814, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T13:47:16Z", "scrap_date": "2024-05-01T00:09:45.961310", "content": "Add the property timeout to your function in serverless yml timeout 120 Sets the timeout to 120 seconds maximum possible value is 300 5 minutes Then the maximum execution time of your lambda is 120 seconds and it should work See example in docs The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 36815, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T22:59:37Z", "scrap_date": "2024-05-01T00:09:45.962310", "content": "Thanks yes that does let the synchronous version run to completion thank you Im curious about getting the asynchronous version running I will attempt to add in the aiohttp and the event loop grabbing code even though Im not sure how it will all work with Lambda"},
{"id": 36816, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T23:16:19Z", "scrap_date": "2024-05-01T00:09:45.963311", "content": "I think there should be no problem running the asyncio stuff if you select the python3 6 runtime because its native python Just make sure all your external nonstandard libraries are asynciocompatible Afaik the requests library is not compatible with asyncio However if you come close to the 300sec limit with the total execution time of your lambda you have to rethink A possible architecture may be This can be scaled up if you allow parallel execution of the worker lambda function Just my two cents "},
{"id": 36817, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-13T21:22:49Z", "scrap_date": "2024-05-01T00:09:45.964310", "content": "Hi Franky Thanks for helping How does the event loop programming need to be done In my old async code I had these lines at the end loop asyncio get_event_loop future asyncio ensure_future main loop run_until_complete future but now my AWS handler needs event and context to be passed Im very new to python and even newer to AWS Ive been googling and reading for days but Im still pretty clueless "},
{"id": 36818, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-13T22:19:21Z", "scrap_date": "2024-05-01T00:09:45.965311", "content": "I tried using the following async def run_task_checks my normal code async def hello event context loop asyncio get_event_loop future asyncio ensure_future run_task_checks loop run_until_complete future But I get the error RuntimeWarning coroutine hello was never awaited not sure how to proceed Any help greatly appreciated "},
{"id": 36819, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-13T22:29:51Z", "scrap_date": "2024-05-01T00:09:45.966311", "content": "OK I think I got it It should be def hello event context and not async def hello eventcontext Seems to be working now Thanks for holding my hand "},
{"id": 368110, "question_id": 3681, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-04T00:43:27Z", "scrap_date": "2024-05-01T00:09:45.967312", "content": "Hey jasonestewart i have just started developing application on Lambda using python Interested in knowing how asyncio works I noticed that in your example the hello function does not have a return line Have you tried returning a http response"},
{"id": 101732, "question_id": 10173, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-03T22:09:26Z", "scrap_date": "2024-05-01T00:09:47.009003", "content": "I came across this answer which is a nifty way of deploying to multipleregions for specific functions however it is not a silver bullet especially if youre not wanting to deploy your entire stack on multiple regions github comserverlessserverless \t Multiregion deployments opened 0125PM 18 Aug 17 UTC pmuens This is a Feature Proposal Description Add support for multiregion deployments originally brought up by nikgraf catdeployment feature needs feedback"},
{"id": 101832, "question_id": 10183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-06T06:59:16Z", "scrap_date": "2024-05-01T00:09:48.003921", "content": "Hi ch This should help you out httpsserverless comframeworkdocsprovidersawseventseventbridgeeventbridgeevent"},
{"id": 101833, "question_id": 10183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-06T08:25:13Z", "scrap_date": "2024-05-01T00:09:48.004921", "content": "Hi garethmcc Thanks for reply If im not wrong source is the attribute which we customly define"},
{"id": 101834, "question_id": 10183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-06T08:53:58Z", "scrap_date": "2024-05-01T00:09:48.005915", "content": "It would be very helpful if any one posts sample connecting code in python or any reference "},
{"id": 101802, "question_id": 10180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-07T23:53:32Z", "scrap_date": "2024-05-01T00:09:49.104147", "content": "ust make sure all your files exists in the same directory Especially we you run sls deploy make sure you run that with proper permission just do ls la you will get list of all hidden files serveless directory must be create in the same filesystem if its created in the root and you have other files in your user filesystem Just try avoiding sudo if sls deploy without sudo throws error remove serveless directory and again run the sls deploy without sudo The key is all your files must be in same filesystem This solved my error "},
{"id": 92332, "question_id": 9233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-06T13:37:12Z", "scrap_date": "2024-05-01T00:09:50.020458", "content": "Hello I dont think you can send a custom message However you can send a 401 HTTP status code by returning Unauthorized or 403 by returning a policy with effect Deny instead of Allow You can find more details here httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayuselambdaauthorizer html Hope it helps"},
{"id": 92333, "question_id": 9233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-08T01:49:06Z", "scrap_date": "2024-05-01T00:09:50.021458", "content": "If I throw an error like throw new Error blabla from the lambdaauthorizer why the response is not message blabla "},
{"id": 100292, "question_id": 10029, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-08T08:35:35Z", "scrap_date": "2024-05-01T00:09:50.738426", "content": "After inspecting the Zip it turns out node_modules and venv were being included After explicitly excluding them Im down to 8 3MB"},
{"id": 102122, "question_id": 10212, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-09T08:19:57Z", "scrap_date": "2024-05-01T00:09:51.578732", "content": "Hi rt The most recent version of the Framework resolves this issue There was actually a bug in the AWS implementation of provisionedConcurrency that has now been resolved Can you try out the newest version and see how that goes for you"},
{"id": 36042, "question_id": 3604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-13T13:43:43Z", "scrap_date": "2024-05-01T00:09:52.321571", "content": "diego1686 did you ever find a solution to this Thanks "},
{"id": 36043, "question_id": 3604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-13T12:28:21Z", "scrap_date": "2024-05-01T00:09:52.322571", "content": "iamroberthanson If you want to inject a header into a proxied request you can do this"},
{"id": 102152, "question_id": 10215, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2020-01-14T09:45:59Z", "scrap_date": "2024-05-01T00:09:53.203829", "content": "Here is how we are doing it Honestly I dont think it should be serverless framework responsibility to split your Cloud Formation stack It should be done by you "},
{"id": 102422, "question_id": 10242, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-14T11:48:07Z", "scrap_date": "2024-05-01T00:09:54.140652", "content": "I asked this on their support back in December and they said they will announce when it will be available but also that will require some time"},
{"id": 102423, "question_id": 10242, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-14T12:21:36Z", "scrap_date": "2024-05-01T00:09:54.141652", "content": "You can track the progress on Github httpsgithub comserverlessserverlessissues7052"},
{"id": 102502, "question_id": 10250, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-14T14:52:41Z", "scrap_date": "2024-05-01T00:09:55.213577", "content": "I use the serverless offline package with Node12 just fine Make sure you have the updated version of that package which currently is 5 12 1 httpswww npmjs compackageserverlessoffline"},
{"id": 102503, "question_id": 10250, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-15T08:16:35Z", "scrap_date": "2024-05-01T00:09:55.214577", "content": "Thanks for the info as it indirectly led me to get it working As I installed Serverless Framework for the first time yesterday I assume all the packages should be the latest Anyway I ran npm install serverlessoffline savedev and still got the same error Then I opened serverless yml to edit it like it says in the link you provided and I noticed in that yml file that there was a line runtime nodejs12 x Its a new project that was created after node12 was removed and nodejs10 installed so I dont know where Serverless Framework is picking up that 12 version Anyway I changed that line to runtime nodejs10 x and sls offline works now "},
{"id": 100062, "question_id": 10006, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-16T10:14:34Z", "scrap_date": "2024-05-01T00:09:56.313887", "content": "I am having the same issue but with a different plugin is this solved Also my app is formed from multiple subapps all using the same node modules and connected to the same API Gateway on AWS it works for all of the except a few but there is no difference between them I checked the serverless yml config its all ok The plugin is in in the node modules folder It was installed with yarn and has all its dependencies And as I mentioned the same package json and the same node modules works for other apps"},
{"id": 100063, "question_id": 10006, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-16T11:34:19Z", "scrap_date": "2024-05-01T00:09:56.315887", "content": "Unfortunately not I just didnt use this plugin "},
{"id": 100064, "question_id": 10006, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-16T15:25:12Z", "scrap_date": "2024-05-01T00:09:56.315887", "content": "I ran sls plugin install n serverlessawsalias successfully It appears in package json it appears in npm list And I can include it in node require serverlessawsalias That all looks good but the error mentions Make sure its installed and listed in the plugins section of your serverless config file Did you remember to include it in the plugins section of your serverless yml example Hope this helps "},
{"id": 20742, "question_id": 2074, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-15T12:12:17Z", "scrap_date": "2024-05-01T00:09:58.070068", "content": "You can do something like this where you set an environment variable and reference it in your lambda You can even assign environment variables to individual functions But the syntax should be the same Hope this helps environment USER_POOL FnGetAtt [ userPool Arn ] userPool Type AWSCognitoUserPool Properties AdminCreateUserConfig AllowAdminCreateUserOnly true AliasAttributes String AutoVerifiedAttributes String DeviceConfiguration DeviceConfiguration EmailConfiguration EmailConfiguration EmailVerificationMessage String EmailVerificationSubject String LambdaConfig LambdaConfig MfaConfiguration String Policies Policies UserPoolName selfprovider custom stage XXXX Schema AttributeDataType String Mutable true Name role SmsAuthenticationMessage String SmsConfiguration SmsConfiguration SmsVerificationMessage String UserPoolTags String String"},
{"id": 20743, "question_id": 2074, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-07T03:10:17Z", "scrap_date": "2024-05-01T00:09:58.072068", "content": "Youre almost correct in your original code but Ref should be Ref This works for my subnetIds"},
{"id": 81552, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-06T06:14:29Z", "scrap_date": "2024-05-01T00:09:58.984449", "content": "The first command I found is with option noDeploy I can validate the file serverless yml But this is not enough need more checks "},
{"id": 81553, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-07T09:55:56Z", "scrap_date": "2024-05-01T00:09:58.985449", "content": "Hi Bill As with most methods of development you need to maintain control of what gets taken live With Serverless if you have a production environment you deploy to then you should never make changes to the Serverless service and only add remove or alter existing resources using the serverless yml file for the service That way if you are the only developer deploying to that service then when you deploy changes your service will change to be exactly what it is you deploy If what you are after is some way to test your code locally before deploying then I would recommend considering using a setup involving unit tests locally Lambda functions are just basic functions that receive a specially structured event object as a parameter from some external trigger such as API Gateway S3 SNS SQS or a multitude of other events So in order to execute your code locally you need someway to call your function with an event object that matches the event object of the trigger you are expecting to call your function The serverlessmochaplugin makes this easier by combining mocha a unit testing module and your function together You can then build the event object you need to send to the function and see that your code works as intended I have found this AWS documentation has some great event object examples Once you have a test event object mocha lets you run your function repeatedly while you are developing to make local development easier Now you can execute your functions locally But they will still attempt to make calls to AWS services that you may be using To help with this I have found the awssdkmock plugin to be very useful It allows you to capture calls to AWS services like S3 DynamoDb etc and return your own custom responses even errors So now you can test handling specific responses from these AWS services Let me know if this makes sense or you want further clarification "},
{"id": 81554, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-07T09:58:22Z", "scrap_date": "2024-05-01T00:09:58.988450", "content": "I guess I should also add if what you are looking for is a way to test your service on AWS before going live this is doable by deploying to an alternate AWS account and testing there first "},
{"id": 81555, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-08T01:36:40Z", "scrap_date": "2024-05-01T00:09:58.989451", "content": "Thanks garethmcc There are several levels for dryruns I used terraform with option plan I can clearly see the resource changes before I deploy the change With this dryrun option terraform plan I can check APIG Lambda not the code details only setting about them dynamodb tables SQSSNS or others I only check the configuration changes at this stage In production it shouldnt change frequently but I still need find a way to test a dryrun first With sls deploy or sls deploy noDeploy I cant have similar output for reference Think about this scenario I set a CICD pipeline I normally set these steps With every deployment I need go through above steps what should I put in first step dryrun I will promote the deployment from dev uat then production Even the changes are all fine in devuat I still need a dryrun step before production deployment I agree to run with mochachai or other testing tools "},
{"id": 81556, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-17T00:22:16Z", "scrap_date": "2024-05-01T00:09:58.991451", "content": "Regarding point 1 Second test I added Save the file serverlesscloudformationtemplateupdatestack json as artifacts when deploy the serverless stack on master branch I set this task in CICD piepline and did something similar test as below When run the test it will generate the latest package file and compare with the exist running package file It is not perfect but do give me some readable details how the IaC changes I am currently going through aws cdk AWS Cloud Development Kit AWS CDK v2 it has the diff feature to compare the resources change I am checking if I can use it with serverless framework deployment The CDK Toolchain is a command line tool for interacting with CDK apps It enables developers to synthesize artifacts such as AWS CloudFormation templates deploy stacks to development AWS accounts and diff against a deployed stack to understand the impact of a code change "},
{"id": 81557, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-17T00:38:21Z", "scrap_date": "2024-05-01T00:09:58.992452", "content": "Regarding alternate AWS account and testing there first of course following aws best practices the codes will be deployed to devuatstag or other nonprod environments first then prod But before deploy to dev Id like to run some tests first "},
{"id": 81558, "question_id": 8155, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-07T22:29:10Z", "scrap_date": "2024-05-01T00:09:58.993452", "content": "I second this In particular what I really need here is to know exactly what CF changes are and are not going to be made before they are applied "},
{"id": 13582, "question_id": 1358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-09T16:59:42Z", "scrap_date": "2024-05-01T00:09:59.631915", "content": "Hey walshe I know it might be a bit late but I see the question is unanswered and I feel compelled to collaborate Please serve yourself how to setup the DLQ to a lambda function straight in your yml file the next picture will show you an example Ill also paste some text down below is as simple as that your_function_name handler your_handler timeout 12 memorySize 576 reservedConcurrency 20 optional Overwrite the default reserved concurrency limit By default AWS uses account concurrency limit onError arnawssnseuwest2 FailedFns Optional SNS topic SQS arn Ref FnGetAtt and FnImportValue are supported as well which will be used for the DeadLetterConfig As you can see the bolded text the [ onError ] config attr is the way to config the DLQ for a function You are also allowed to use CloudFormation sintax here I hope this helps Cheers Hamlet"},
{"id": 99672, "question_id": 9967, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-11T19:47:13Z", "scrap_date": "2024-05-01T00:10:00.469387", "content": "This is now supported in Serverless 1 59 0 httpsgithub comserverlessserverlessreleasestagv1 59 0 code change httpsgithub comserverlessserverlesspull7031 "},
{"id": 100492, "question_id": 10049, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-12T16:42:04Z", "scrap_date": "2024-05-01T00:10:01.244512", "content": "My handler function signature looks like func Handler req events APIGatewayProxyRequest utils Response error Then I get to the parameters with req PathParameters[param_name] req QueryStringParameters[param_name]"},
{"id": 66342, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-05T19:02:49Z", "scrap_date": "2024-05-01T00:10:02.237050", "content": "I agree Also every time a deploy is made a new version of the layer is generated even if we dont make any change to it "},
{"id": 66343, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-05T23:17:07Z", "scrap_date": "2024-05-01T00:10:02.238050", "content": "Youre right about that Looking into it now For the time being one way to handle this is to have your layer your service using the layer in different serverless projects In your services serverless yml Then in a separate project managing your layer"},
{"id": 66344, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-06T01:13:10Z", "scrap_date": "2024-05-01T00:10:02.238050", "content": "Update Ive tried tweaking the cloudformation template in subsequent uploads so that the layer definition is identical But it still creates a new layer version As such the work around above is your best solution it seems "},
{"id": 66345, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-16T19:49:09Z", "scrap_date": "2024-05-01T00:10:02.239051", "content": "1 having layers deployed only when they change would be really nice The ffmpeg example in the blog post is about 50MB which is quite long to upload and layers could definitely be the solution to upload it only once "},
{"id": 66346, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-25T01:12:40Z", "scrap_date": "2024-05-01T00:10:02.240051", "content": "1 hope to keep this conversation alive Redeploying layers every time seems to eliminate a huge advantage of using layers to begin with "},
{"id": 66348, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-01T15:33:11Z", "scrap_date": "2024-05-01T00:10:02.241051", "content": "Ive done this but I redeploy my layer creating a new version and my service still points to the previous version of the layer how can I solve this without having to redeploy my service"},
{"id": 66349, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-01T21:58:00Z", "scrap_date": "2024-05-01T00:10:02.241051", "content": "1 this is causing a huge issue blocking CI deployments Is this resolved yet"},
{"id": 663410, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-01T22:11:20Z", "scrap_date": "2024-05-01T00:10:02.242051", "content": "It has a plugin which solves this problem Serverless js plugin that implements AWS Lambda Layers which reduces drastically lambda size warmup and deployment time GitHub agutoliserverlesslayers Serverless js plugin that implements "},
{"id": 663411, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-15T22:18:05Z", "scrap_date": "2024-05-01T00:10:02.243051", "content": "I noticed this too I think IMO it makes more sense to just not even use Serverless at all when creating layers Ill probably just manually create a layer to hold my audio binaries ffmpeg etc and then use the ARN in my Serverless stacks to use those binaries That way if I recompile ffmpeg I can create a new version write in the description about what version of ffmpeg it is or whatever and then just update the Serverless config to point to the new version "},
{"id": 663412, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-12T11:13:10Z", "scrap_date": "2024-05-01T00:10:02.244052", "content": "I was able to avoid the Excluding development dependencies by zipping the layers manually and referencing them with packageartifactlayer zip this helped me to reduce deployment time by 30 sec Project structure My layers folder serverless yml layers part The plugin that was mentioned earlier agutoliserverlesslayers didnt work for me I get a weird error of could not push of undefined My current solution does not resolve the fact that the layers are being createddeleted each deployment I think I figured out why this is happening after reading this httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertieslambdalayerversioncontent html The Lambda Layer Version is referencing an S3 object this means that each time we deploy we upload a new S3 object so each time we create a new lambda layer version I assume that this can be solved by creating the lambda layers manually and decouple them from the serverless yml file \\"},
{"id": 663413, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-12-12T16:20:08Z", "scrap_date": "2024-05-01T00:10:02.245052", "content": "I agree that the solution is to have your layers in another project One huge reason to use layers is to share code like writing your DB connection pooling once deploy it as a layer and have all your other projects use the layer to get connections Its great for auth layers too so you dont have to copy paste your auth code everywhere Keeping them in the same project is nice while you learn them but to share them youll find youll eventually want to move them so youre not always trying to figure out which app project the DB layer is in then having to redeploy that project to get DB changes out "},
{"id": 663414, "question_id": 6634, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-12T22:44:22Z", "scrap_date": "2024-05-01T00:10:02.247053", "content": "agreed lesson learned"},
{"id": 80782, "question_id": 8078, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T08:12:01Z", "scrap_date": "2024-05-01T00:10:02.856612", "content": "I couldnt find a solution using HTTP_PROXY so I had to switch to using a LAMBDA_PROXY I will update here if I find an HTTP_PROXY solution "},
{"id": 80783, "question_id": 8078, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-07T10:13:12Z", "scrap_date": "2024-05-01T00:10:02.857611", "content": "Ive found an approach to being able to use the serverless framework and be able to hard code integration request header values and utilise HTTP_PROXY instead of maintaining a LAMBDA_PROXY I had to write an intermediary python script to programmatically edit the Cloudformation that the serverless tool creates Deployment steps as follows I bundled these commands together in a Makefile so I could call a single command for packaging updating and deploying make deploySTAGE"},
{"id": 80784, "question_id": 8078, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-13T11:15:32Z", "scrap_date": "2024-05-01T00:10:02.858611", "content": "Have you tried to override cloudformation template directly from serverless yml How to deploy and manage AWS infrastructure to use with your AWS Lambda functions with the Serverless Framework Then you can override request integration header sending thirdparty authorization token instead of AWS Apigateway token Hope this helps "},
{"id": 42402, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-21T08:59:52Z", "scrap_date": "2024-05-01T00:10:03.894518", "content": "Any update I have also been suffering from the issue with serverlesspluginexistings3 plugin "},
{"id": 42403, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-22T01:39:22Z", "scrap_date": "2024-05-01T00:10:03.895518", "content": "You need to use existingS3 as the event name instead of s3 If you dont then Serverless will attempt to create the S3 bucket for you "},
{"id": 42404, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T14:17:59Z", "scrap_date": "2024-05-01T00:10:03.896519", "content": "Hi buggy Hope youre doing well I need to to use existingS3 in order to use a Lambda function that triggers file uploads to the bucket I tried to use it based on what you suggested however I am getting the following error when trying to get the logs of my lambda Please let me know if you know what that error means "},
{"id": 42405, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T14:18:41Z", "scrap_date": "2024-05-01T00:10:03.896519", "content": ""},
{"id": 42406, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T14:19:31Z", "scrap_date": "2024-05-01T00:10:03.897519", "content": ""},
{"id": 42407, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-15T11:15:39Z", "scrap_date": "2024-05-01T00:10:03.897519", "content": "Daniela I havent used that plugin in a long time"},
{"id": 42408, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-15T14:20:55Z", "scrap_date": "2024-05-01T00:10:03.898519", "content": "Ok thanks Hopefully Ill find the solution and when I do Ill definetely update this I kind of really need to find the solution so will work even harder on it"},
{"id": 42409, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-28T21:12:50Z", "scrap_date": "2024-05-01T00:10:03.898519", "content": "HI Daniela I am trying to do the same thing Did you find a solution Thanks Prem"},
{"id": 424010, "question_id": 4240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-17T06:49:22Z", "scrap_date": "2024-05-01T00:10:03.899520", "content": "You now have the ability to import your resources httpsaws amazon comblogsawsnewimportexistingresourcesintoacloudformationstack into your existing serverless stack I have not tried it"},
{"id": 90512, "question_id": 9051, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-17T10:25:04Z", "scrap_date": "2024-05-01T00:10:04.682965", "content": "Hey did you ever get a fix for this My serverless deploy command is just hanging as well at Running docker "},
{"id": 90513, "question_id": 9051, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-17T10:30:15Z", "scrap_date": "2024-05-01T00:10:04.683965", "content": "Whilst it looks looks the requirements were generated from the right place Generated requirements from Usersmikebdevproj123greatAPIrequirements txt What looks a bit suspect is that Installing Requirements from step is pointing at UsersmikebLibraryCachesserverlesspythonrequirements0cf3759736038430b48f8f5894d3500ba566baf01f99172d17defe97148b4952_slspycrequirements txt but actually this is just a copy of the requirements txt file in my project I have done everything from within a virtual environment UPDATE turns out my libraries and package dependencies were just too large I had to package them up into custompythonrequirments with some slim globbing its all in serverlesspythonrequirements docs "},
{"id": 100962, "question_id": 10096, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-17T13:45:15Z", "scrap_date": "2024-05-01T00:10:05.455280", "content": "I have created a SSCCE that illustrates the problem "},
{"id": 100963, "question_id": 10096, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-18T11:32:56Z", "scrap_date": "2024-05-01T00:10:05.457280", "content": "Figured it out My serverless yml has the following attributes defined which triggers Serverless to setup Dashboard The user account I have has never had anything to do with Dashboard before which is why the token needed is null "},
{"id": 101082, "question_id": 10108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-19T09:31:37Z", "scrap_date": "2024-05-01T00:10:06.103716", "content": "Serverless Packaging service Serverless Excluding development dependencies Serverless Packaging Python Requirements Lambda Layer Serverless Invoke awspackagefinalize Serverless Invoke awscommonmoveArtifactsToPackage Serverless Building Docker image 1 1 Error 1 Stack Trace Error 1 at module exports logError Usersmikeblom nvmversionsnodev12 10 0libnode_modulesserverlesslibclassesError js9311 at Usersmikeblom nvmversionsnodev12 10 0libnode_modulesserverlessbinserverless653 at processImmediate internaltimers js43921 at process topLevelDomainCallback domain js13123 From previous event at Usersmikeblom nvmversionsnodev12 10 0libnode_modulesserverlessbinserverless629 at Object Usersmikeblom nvmversionsnodev12 10 0libnode_modulesserverlessbinserverless664 at Module _compile internalmodulescjsloader js93630 at Object Module _extensions js internalmodulescjsloader js94710 at Module load internalmodulescjsloader js79032 at Function Module _load internalmodulescjsloader js70312 at Function Module runMain internalmodulescjsloader js99910 at internalmainrun_main_module js1711"},
{"id": 34422, "question_id": 3442, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-20T12:11:12Z", "scrap_date": "2024-05-01T00:10:07.190576", "content": "Hi were you able to figure out how to use multiple authorizer for one endpoint please"},
{"id": 101282, "question_id": 10128, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-23T02:42:25Z", "scrap_date": "2024-05-01T00:10:07.977458", "content": "Post full code should be better"},
{"id": 101283, "question_id": 10128, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-23T02:46:27Z", "scrap_date": "2024-05-01T00:10:07.977458", "content": "const AWS require awssdk const documentClient new AWS DynamoDB DocumentClient const s3 new AWS S3 region euwest1 const bucketName process env bucketName const fiveMinsInMili process env fiveMinsInMili exports handler async event "},
{"id": 101284, "question_id": 10128, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-23T10:59:41Z", "scrap_date": "2024-05-01T00:10:07.978458", "content": "I solved it with adding Effect Allow to yml file"},
{"id": 75032, "question_id": 7503, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-24T02:13:00Z", "scrap_date": "2024-05-01T00:10:09.081309", "content": "Did you ever find a resolution for this issue Im having the same problem Thanks "},
{"id": 102752, "question_id": 10275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-17T15:48:23Z", "scrap_date": "2024-05-01T00:10:09.876766", "content": "You appear to have left out Properties BucketName in your S3 resource definition unless Im very much mistaken"},
{"id": 102753, "question_id": 10275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-17T16:46:22Z", "scrap_date": "2024-05-01T00:10:09.877767", "content": "I agree but from the documentation httpsgithub comhorike37serverlessapigatewayserviceproxys3 I fail to see where I should put this"},
{"id": 102754, "question_id": 10275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-17T17:10:48Z", "scrap_date": "2024-05-01T00:10:09.878767", "content": "Oh the s3 must be an object error is just about the yml being not valid indentation issue I like json more SHAME SHAME SHAME For the bucket name you mean something like this "},
{"id": 102755, "question_id": 10275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-17T17:13:23Z", "scrap_date": "2024-05-01T00:10:09.878767", "content": "Thats the one yes "},
{"id": 102882, "question_id": 10288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-17T18:38:16Z", "scrap_date": "2024-05-01T00:10:10.618883", "content": "Check your indentations under http"},
{"id": 102883, "question_id": 10288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-17T19:15:51Z", "scrap_date": "2024-05-01T00:10:10.619881", "content": "Hey Thank you for your response I corrected the indentation but I am still unable to run it Have a look at the screenshot"},
{"id": 94152, "question_id": 9415, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T11:52:35Z", "scrap_date": "2024-05-01T00:10:12.268388", "content": "I would also like to connect one Lambda function to multiple CloudFront distributions Would be nice with more advanced examples too "},
{"id": 94153, "question_id": 9415, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-18T08:09:33Z", "scrap_date": "2024-05-01T00:10:12.269389", "content": "Hi did you find out if its possible Have thesame issue Want to use multiple cloudfront for staging"},
{"id": 94154, "question_id": 9415, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-18T16:01:34Z", "scrap_date": "2024-05-01T00:10:12.269389", "content": "I am also curious if you have found an answer Id like to be able to use serverless to add a lambda at edge function to an existing Cloudfront distribution The documentation doesnt make it seem like it works that way "},
{"id": 94155, "question_id": 9415, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T14:51:21Z", "scrap_date": "2024-05-01T00:10:12.270389", "content": "I wasnt able to use multiple CloudFront distributions using the native Serverless Framework event Instead I was able to do it using this Serverless Plugin silvermine serverlessplugincloudfrontlambdaedge I would have preferred to achieve it with the native event but the plugin works well nonetheless "},
{"id": 98902, "question_id": 9890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T14:34:48Z", "scrap_date": "2024-05-01T00:10:13.394885", "content": "Looks like a similar problem occurred here After upgrade to v1 57 0 new deployments of existing services run x2000 times slower"},
{"id": 98903, "question_id": 9890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T14:48:45Z", "scrap_date": "2024-05-01T00:10:13.395880", "content": "It would appear that removing the app line from your serverless yml file will get rid of this latency "},
{"id": 98904, "question_id": 9890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-20T05:38:36Z", "scrap_date": "2024-05-01T00:10:13.395880", "content": "Hey there As I responded on the other thread would you be able to share your serverless yml If you prefer you can create a private gist and send it to me personally if you dont want to do it publicly "},
{"id": 98142, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-11T10:22:05Z", "scrap_date": "2024-05-01T00:10:14.405899", "content": "Update after removing the app and tenant lines from my serverless yml the execution time is back down to 615ms cold start 100ms warm This is a hell of an overhead for the Serverless dashboard functionality Is there any guidance on how to get this functionality without killing the lambda execution times Cheers Chris "},
{"id": 98143, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T14:34:12Z", "scrap_date": "2024-05-01T00:10:14.407521", "content": "Hey I had a similar problem my 20ms response time shot up to 6 seconds I will try removing the dashboard stuff now "},
{"id": 98144, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T14:59:10Z", "scrap_date": "2024-05-01T00:10:14.407899", "content": "Hey that worked I guess we just need to opt out of the dashboard stuff for now "},
{"id": 98145, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-20T05:27:24Z", "scrap_date": "2024-05-01T00:10:14.407899", "content": "Hi folks This should obviously not be happening I am going to forward some of the engineering team over here to take a look Would you be up for answering questions around this so we can track this down"},
{"id": 98146, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-20T05:35:19Z", "scrap_date": "2024-05-01T00:10:14.408899", "content": "To get it started would you be able to share your serverless yml file You can create a private gist and send it to me privately if you dont want to share publicly"},
{"id": 98147, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-21T16:03:07Z", "scrap_date": "2024-05-01T00:10:14.409900", "content": "Thank you all for your bug reports Weve released a fix for this specific bug httpsgithub comserverlessenterprisepluginreleasestagv3 2 5 You can run npm install g serverless and verify you have serverless enterpriseplugin v3 2 5 by running sls version"},
{"id": 98148, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-22T02:27:34Z", "scrap_date": "2024-05-01T00:10:14.409900", "content": "Hi happy to help share the serverless yml but it looks like this may be fixed ill try the latest version and let you know how i get on"},
{"id": 98149, "question_id": 9814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-22T12:15:53Z", "scrap_date": "2024-05-01T00:10:14.410903", "content": "Yup I shared the issue with the team and they were able to track it down "},
{"id": 84592, "question_id": 8459, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-05T06:11:24Z", "scrap_date": "2024-05-01T00:10:15.426964", "content": "Hi Edgar The entire sls deploy process is based off CloudFormation and creates a new CloudFormation stack for each service you build by uploading a CF template and your Lambda function artifacts to an S3 bucket and then running threm through the CloudFormation service This is deliberate because the aim of Serverless is to help you build serverless microservices very easily without having to worry about the deployment process The resources section of the serverless yml is also all just vanilla CloudFormation and you can use whatever CF you want to extend the capabilities of your service As far as deploying on a tool like CodeBuild if you can run a shell command you can deploy with Serverless and I would encourage you to try and make use of the benefits the serverless deployment provides you as it can take away a lot of the hassles of deploying serverless architectures its really its core strength Serverless can also keep your CF stacks in sync if you make a change it will only alter the part that has changed "},
{"id": 84593, "question_id": 8459, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-22T16:01:31Z", "scrap_date": "2024-05-01T00:10:15.428965", "content": "Hi Gareth In and of itself what you are saying makes perfect sense But allow me to share a recent experience I have been developing lambdas with serverless for awhile now and some of these are being deployed identically across multiple accounts and regions The organization Im working for has now decided that these will be managed via CF StackSets So theres no way to use any serverless command The best I can do is somehow prebuild everything with serverless including the CF template and hand that off Im going to hack together a solution but some variant of serverless package that solves my problem would be sweet Best Tavin"},
{"id": 98992, "question_id": 9899, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-20T15:19:04Z", "scrap_date": "2024-05-01T00:10:16.530240", "content": "I havent tried it personally but it looks like theyve added support for vpclink integration recently Heres a link to the Documentation Hope it helps "},
{"id": 98993, "question_id": 9899, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-25T12:47:24Z", "scrap_date": "2024-05-01T00:10:16.531240", "content": "Thanks for your response i will try it And I have same question but for httpproxy Ive already found things about that but i would like to put query string like this in my request And same for integration response Thanks in advance"},
{"id": 23742, "question_id": 2374, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-27T22:42:15Z", "scrap_date": "2024-05-01T00:10:17.461875", "content": "You can pass in a profile like so serverless config credentials provider aws key 1234 secret 5678 profile customprofile For more details check the Serverless Framework docs Thanks Rupak Ganguly"},
{"id": 23743, "question_id": 2374, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-27T22:58:02Z", "scrap_date": "2024-05-01T00:10:17.462875", "content": "yeah after running through that it doesnt consider awsconfig But if using awsprofile does that set an env variable anywhere that can be used in the serverless yml file"},
{"id": 23744, "question_id": 2374, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-26T09:05:52Z", "scrap_date": "2024-05-01T00:10:17.462875", "content": "If you want to use awsconfig You should make sure that awsconfig id is different from awscredentials id ex If you execute some command like sls invoke f testfunction awsprofile test in this situation Then the serverlesscli considers only awscredentials I think the serverlesscli considers awscredentials first Try again after remove the same id in the awscredentials "},
{"id": 99362, "question_id": 9936, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-22T12:18:16Z", "scrap_date": "2024-05-01T00:10:18.342559", "content": "Welcome to the community Valentina Could you post a bit more ideally all your function definitions in your serverless yml Also would it be a problem for you to change the name of the event"},
{"id": 99363, "question_id": 9936, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-25T17:20:31Z", "scrap_date": "2024-05-01T00:10:18.343560", "content": "Changing the name of the event would create a new event and it will be functional but I was wondering if we could reuse the same event for another lambda function "},
{"id": 99364, "question_id": 9936, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-27T05:41:17Z", "scrap_date": "2024-05-01T00:10:18.344560", "content": "You can if it is an asynchronous event trigger like SNS SQS etc Its how I get many of my Lambda functions to all get triggered off of one trigger "},
{"id": 99612, "question_id": 9961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-27T12:41:40Z", "scrap_date": "2024-05-01T00:10:19.244450", "content": "All you need to do is remove the app and org settings in the serverless yml file"},
{"id": 99613, "question_id": 9961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-27T15:08:25Z", "scrap_date": "2024-05-01T00:10:19.245450", "content": "Great that resolved it Gero"},
{"id": 64732, "question_id": 6473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-19T05:09:20Z", "scrap_date": "2024-05-01T00:10:20.247345", "content": "If in doubt reference the documentation There are only limited circumstances in which updating is supported If youre making changes to AttributeDefinitions or KeySchema then be aware it might cause replacement of the table too "},
{"id": 64733, "question_id": 6473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-19T15:55:15Z", "scrap_date": "2024-05-01T00:10:20.248345", "content": "Yea it appears that because I had to add an AttributeDefinition it did not work I thought it should be ok since it was not part of the KeySchema to begin with it was ok but apparently it is not Whats strange is that I can add it via the Console just fine but via Serverless CF I cannot Thanks"},
{"id": 64734, "question_id": 6473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T10:45:59Z", "scrap_date": "2024-05-01T00:10:20.249346", "content": "I havent come across this myself but I have heard that DynamoDB has trouble if you try to make too many changes at once Perhaps try adding the attribute and then make changes to the GSI Otherwise Im out of ideas "},
{"id": 64735, "question_id": 6473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-25T21:15:27Z", "scrap_date": "2024-05-01T00:10:20.250346", "content": "Ive found that using the awscli I could add a single attribute along with a GSI definition If I add that attribute and GSI to my serverless yml file it fails stating it already exists If I then delete the index using the AWS console sls deploy can then create the GSI from the YML definition I havent found another way of adding an attribute and GSI to an existing table at the same time but something like the following works gsicommandNewFieldName json would contain something like After its finished creating the index and Attribute delete the index and run sls deploy with attribute and gsi defined and it should recreate it under the control of the serverless stack "},
{"id": 64736, "question_id": 6473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-26T22:35:44Z", "scrap_date": "2024-05-01T00:10:20.251346", "content": "Im curious of this CLI creat CLI delete sls deploy process is still the preferred way to add a GSI to an existing table After doing these steps I get the following error on deployment"},
{"id": 64737, "question_id": 6473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-27T17:31:04Z", "scrap_date": "2024-05-01T00:10:20.252347", "content": "Replying to my own comment here for posterity I had added the index to GlobalSecondaryIndexes but hadnt added the attribute to AttributeDefinitions hence its complaint "},
{"id": 61462, "question_id": 6146, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-19T15:24:09Z", "scrap_date": "2024-05-01T00:10:20.837556", "content": "FWIW I ended up skipping the event and instead dynamically calling lambda addPermission in runtime to add resourcebased permissions to the lambda function Im attaching to dynamically created CloudWatch event rules Would still be interesting to know if its possible to solve it all in sls "},
{"id": 61463, "question_id": 6146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-26T13:58:56Z", "scrap_date": "2024-05-01T00:10:20.838556", "content": "Im trying to figure out this exact issue right now I was hoping the resourcebased policy could specify an arn prefix with a wildcard for the SourceArn but it doesnt seem to be working Im also not sure if I need to pass the Lambdas IAM role as RoleArn when creating the event rules or if that should be left blank when I set it I get an error about iamPassRole and Im not sure if that should be necessary I dont love the idea of calling addPermission but if it worked for you I might go that route although I dont know if that will even scale I think there is a very low limit on the number of those policies that can be added to a single resource in my case I might need up to the max of 100 event rules pointing to my single Lambda "},
{"id": 61464, "question_id": 6146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-17T08:56:21Z", "scrap_date": "2024-05-01T00:10:20.839557", "content": "Sorry for not responding earlier but to follow this up Essentially I do this Then in the invoked function I use the passed ruleName to remove the rule since its now obsolete This way the function will never have more than one policy related to CW rules but I tryandsilentlyfail to add that policy every time Of course that policy could have been set up statically at deploy time by invoking a script from SLS Did you end up doing something similar or did you find a better approach"},
{"id": 61465, "question_id": 6146, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-05-22T10:39:55Z", "scrap_date": "2024-05-01T00:10:20.840557", "content": "Even longer overdue but the reason my code above adds the lambda permission in runtime is that I couldnt find how to set a resource policy on a lambda function statically Since then Ive found how that can be done so the code above can be simplified into serverless yml scheduler js To avoid adding lots and lots of CW rules the invoked scheduled function may clean up by removing the rule that triggered it myscheduledfunction js"},
{"id": 61466, "question_id": 6146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-01T00:23:41Z", "scrap_date": "2024-05-01T00:10:20.841557", "content": "You probably saved me at least few hours of banging my head against the keyboard "},
{"id": 23712, "question_id": 2371, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-01T13:19:15Z", "scrap_date": "2024-05-01T00:10:21.670441", "content": "Did you finally find a way to implement it"},
{"id": 98862, "question_id": 9886, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-02T18:34:44Z", "scrap_date": "2024-05-01T00:10:22.352745", "content": "I dont know why but this is now working So if the moderator could delete this thread that would be fine It does not allow me to do that "},
{"id": 100032, "question_id": 10003, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-03T14:59:12Z", "scrap_date": "2024-05-01T00:10:23.468720", "content": "Stupid move on my part I was still on v1 51 "},
{"id": 89742, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T08:26:21Z", "scrap_date": "2024-05-01T00:10:24.571633", "content": "Do you actually reach the return part of your handler code It could be that something goes wrong the framework tries to return status 500 or similar and then the CORS error appears because you do not catch exception and no CORS header for other status than http 200 If I were you I would try and debug to see which line in your code is reached if any "},
{"id": 89743, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-12T01:42:21Z", "scrap_date": "2024-05-01T00:10:24.573634", "content": "and further to montao have you authenticated with your custom authorizer"},
{"id": 89744, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-13T06:36:12Z", "scrap_date": "2024-05-01T00:10:24.573634", "content": "goldie I agree that the authorizor may be the problem for the original poster Or did you actually mean my authorizer but that is not part of the problem or is it "},
{"id": 89745, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-13T06:52:47Z", "scrap_date": "2024-05-01T00:10:24.574634", "content": "em thanks for your reply and sorry for my late reply Can u explain more about authorizor may be the problem The custom authorizor use some id and secret to generate a token via jwt library And I think the code should be alright as when I use postman with same header and body it works properly BTW the serverless tml and handler looks fine right"},
{"id": 89746, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-13T08:03:07Z", "scrap_date": "2024-05-01T00:10:24.575635", "content": "I think you need to add some logging and as montao suggested see if you ever get to the return statement I have had this problem with a custom authorizer where auth was failing before even the lambda executed and it looked like a CORS error from the outside "},
{"id": 89747, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-13T08:04:16Z", "scrap_date": "2024-05-01T00:10:24.576635", "content": "Sorry I meant the OPs authorizer Ive seen this kind of problem before "},
{"id": 89748, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-14T01:53:43Z", "scrap_date": "2024-05-01T00:10:24.576635", "content": "Thx for you reply I added few logs in custom authorizer and lambda function it turns out they are not executed at all It might be some other issues I am trying to figure out with our frontend developer Thx for your advice "},
{"id": 89749, "question_id": 8974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-03T17:47:43Z", "scrap_date": "2024-05-01T00:10:24.577635", "content": "I might have the exact same problem right now with 2 almost equal functions that drives me crazy If anyone has an idea how to debug it"},
{"id": 23662, "question_id": 2366, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-26T20:04:33Z", "scrap_date": "2024-05-01T00:10:25.596529", "content": "Check the output of a sls package command i e the generated template files and confirm that the role statements are being generated as you expect Youve done the right thing by overriding the variableSyntax but best to be sure alternatively you can inspect the function role you have already deployed as part of your testing I havent used Firehose personally its not in apsoutheast2 yet but you might need to have a trust relationship with the Firehose service principal As per these docs Usually you would create a separate IAM role in your resources section for it to use i e that would have access to the S3 bucket etc "},
{"id": 23663, "question_id": 2366, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-02T09:36:27Z", "scrap_date": "2024-05-01T00:10:25.598529", "content": "The firehose resource arn is incorrect The correct way is as below"},
{"id": 23664, "question_id": 2366, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-12-04T19:51:13Z", "scrap_date": "2024-05-01T00:10:25.598529", "content": "I know this is an old thread but Google leads here so Im replying for other people The reason the role assignment is failing is because its trying to assign the default lambda role to the Firehose and the permissions on that role are not set up for assignment Serverless Framework does not expose the AssumeRolePolicyDocument on the default role so you have to create a new role specifically for your Firehose and then assign it There might be an easier way to do this but the example below works "},
{"id": 100222, "question_id": 10022, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-05T21:28:35Z", "scrap_date": "2024-05-01T00:10:26.589938", "content": "Hey Richard CloudFormation doesnt require that you specify the name field for these resources in fact I almost always let CF automatically name them A couple of reasons"},
{"id": 12782, "question_id": 1278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-02T15:32:31Z", "scrap_date": "2024-05-01T00:10:28.610078", "content": "I am having the same problem No clear way to get usable versioning "},
{"id": 12783, "question_id": 1278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-06T22:39:11Z", "scrap_date": "2024-05-01T00:10:28.611078", "content": "Im in the same boat"},
{"id": 12784, "question_id": 1278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-28T13:51:35Z", "scrap_date": "2024-05-01T00:10:28.611078", "content": "did any of you solve that problem"},
{"id": 12785, "question_id": 1278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-28T14:37:11Z", "scrap_date": "2024-05-01T00:10:28.612079", "content": "Very late answer but maybe helpful for users with similiar problem serverlessawsalias"},
{"id": 12786, "question_id": 1278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-08T08:53:28Z", "scrap_date": "2024-05-01T00:10:28.612079", "content": "I tried to use serverlessawsalias but I cant manage to get it work with custom domains Is there any way to connect it with custom domains or how to do it"},
{"id": 15852, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-04T11:46:52Z", "scrap_date": "2024-05-01T00:10:29.385128", "content": "This AWS Lambda function scheme was driving me crazy many thanks for those tips I did not know what to do to overcome this misfunctioning "},
{"id": 15853, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-05T01:56:56Z", "scrap_date": "2024-05-01T00:10:29.386123", "content": "Thanks for sharing sventech Is it same to the problem I discovered recently 2 weeks ago I enabled Custom Access Logging in api gateways stage for example dev I found the logs are collected across in a lot of log steams UUID in same log group They are not always the latest logs saved in latest log stream in each log stream the logs can be 2 weeks old to present "},
{"id": 15854, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T09:40:03Z", "scrap_date": "2024-05-01T00:10:29.387129", "content": "sventech the solution you suggested doesnt work for us Can you confirm that the solving line logger handlers [] SOLUTION HERE Should actually be logging getLogger handlers [] Which effectively resets the handlers of the root logger Thx"},
{"id": 15855, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-28T10:43:30Z", "scrap_date": "2024-05-01T00:10:29.387129", "content": "Yes I was doing the standard format logger logging getLogger logger handlers []"},
{"id": 15856, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-28T13:16:34Z", "scrap_date": "2024-05-01T00:10:29.388129", "content": "Excellent Just for future knowledge or anyone else coming across this issue here is the cause Lambda sets up its own form of root logger with a handler attached Pythons logging module creates loggers in an hierarchical manner such that each logger is a descendant of the root logger With this given every logger created in the Lambda code will be a descendant of that preset root logger Python loggers also behave such that a logger would first handle the log message with its attached log handlers and then propagate the message up the logging hierarchy to its parent In turn each ancestor up the chain would also issue the message to its handlers and then pass the call up to its parent and so on The solution for this can be either deleting the root loggers handlers altogether OR setting the loggers propagate attribute to False such that it wont propagate the log message to its parent and prevent the ancestors handlers from being called That is"},
{"id": 15857, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-28T17:59:57Z", "scrap_date": "2024-05-01T00:10:29.389129", "content": "Hi Bill that is interesting but I think unrelated would be more about Amazon infrastructure log handling vs Python interpreter in Lambda "},
{"id": 15858, "question_id": 1585, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-10T09:31:23Z", "scrap_date": "2024-05-01T00:10:29.390130", "content": "Hi all I also cross this issue and I wonder if there is an allegiant way to remove only the AWS handler from the handlers list I tried to run on the handlerslist and find the AWS handler and remove it but the get_name function in the handler class return None Thanks "},
{"id": 18642, "question_id": 1864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-14T23:20:48Z", "scrap_date": "2024-05-01T00:10:30.049983", "content": "Maybe this doesnt really make sense CodeStar creates endpoints Serverless creates endpoints how to get the latters to be the formers A manually created pipeline with just source and build phases would make more sense for staying with Serverless And using CodeStar you probably dont need Serverless though you would have to do a lot of tricky CloudFormation work if you needed to provision resources dynamically or whatever It would be nice though if Serverless could somehow be plugged into a CodeStar created project or had its own template wink Serverless can create and manage resources in a nicer way that editing the CS CF templates "},
{"id": 18643, "question_id": 1864, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-02T08:13:56Z", "scrap_date": "2024-05-01T00:10:30.050983", "content": "I think this should be possible Underneath codestar is just linking together general purpose components and each one of them should be able to work with serverless Ive managed to reproduce the s3 error in the build step of the pipeline The fix for that is in several steps in my serverless yml I told it to use the deployment artifact bucket created by codestar like so In my buildspec yml I changed it to use serverless only to package things up The upload sh script copies the artifact to the deployment bucket It should work from your dev machine as long as you set the S3_BUCKET environment variable which codestar seems to set in its pipeline for us its the name of the deployment bucket Finally you need to modify the role that codestar uses for the pipeline Mine seems to be called CodeStarWorkerserverlessCloudFormation You need to add the s3GetBucketLocation permission on the deployment artifact bucket Note that codebuild can modify the role and role policy so theres a chance the policy change could be overwritten things to try in order to be more defensive there using attached policy instead of modifying the inline one or uncheck the tickbox that allows codebuild to edit the role in the codebuild projects properties Having got this far the deploy step of my pipeline fails because its supplying cloudformation template parameters where none are expected So next go to the codepipeline and edit it The parameters are specified in the deploy phases GenerateChangeSet step Modify that so the parameters json object is empty Further the pipeline needs to run the cloudformation GenerateChangeSet with a particular capability Change the capability from CAPABILITY_IAM to CAPABILITY_NAMED_IAM Next need to add some more permissions this time to the cloudformation deploy role Mine seems to be called CodeStarWorkerserverlessCloudFormation That role needs permissions to create everything that serverless puts in its generated cloudformation template That includes cloudwatch log groups iam execution role for lambda and any other bits and pieces youve added At the minimum I added I also had to add iamPassRole for the lambda execution role that serverless created Also note that serverless uses a shared iam role for lambdas I dont believe this is good practice and it also complicates things when the role is managed by more than one cloudformation template One of the things Im not sure about is what the codestar cloudformation transformation does Theres a resource that gets deleted a SyncResources thing Its not present in the serverless cloudformation probably because serverless doesnt use the codestar CF transformation I dont yet know what breaks when you mess with this "},
{"id": 18644, "question_id": 1864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T08:16:41Z", "scrap_date": "2024-05-01T00:10:30.054984", "content": "Post above needs more love this is spot on you saved me hours of bashing codestar into submission I had to switch to serverless from the AWS SAM because I was unable to make it work with cors using inline swagger I needed a number of changes to fix my codestar install to work with serverless Permission changes on the IAM role for the codebuild phase were against the role CodeStarWorkerCodeBuild instead of CloudFormation typo on your end and they required s3ListAllMyBuckets s3GetBucketLocation Also the build command for your upload needed to change to sh upload sh"},
{"id": 18645, "question_id": 1864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T15:13:20Z", "scrap_date": "2024-05-01T00:10:30.056985", "content": "Guys Im sorry if I dont see something you all are seeing But why not have a buildspec as simple as"},
{"id": 18646, "question_id": 1864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T22:38:30Z", "scrap_date": "2024-05-01T00:10:30.056985", "content": "you could but CodeStar sets up an explicit deploy phase which takes the cf template as input Same result but you would have to change the pipeline entirely "},
{"id": 18647, "question_id": 1864, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-11T18:30:30Z", "scrap_date": "2024-05-01T00:10:30.057985", "content": "is there any way to deploy it somehow first with serverless let cloudformation create everything and then export the complete template from CF to replace the template yml file that CS needs for its deploy phase in my case I already have everything built through serverless but outside CS I would like to start using CS but avoiding having to start from scratch and handing over the control from sls to CS how possible would that be"},
{"id": 98372, "question_id": 9837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-13T15:26:11Z", "scrap_date": "2024-05-01T00:10:31.133085", "content": "Would have to see the handler code but what appears to be the most common cause is failure to call the callback at the end of the function "},
{"id": 98373, "question_id": 9837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-14T00:47:33Z", "scrap_date": "2024-05-01T00:10:31.134085", "content": ""},
{"id": 98374, "question_id": 9837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-14T15:42:46Z", "scrap_date": "2024-05-01T00:10:31.135086", "content": "Hmm I dont see any issues To confirm I went ahead and whipped up a simple service with your code and its returning as expected First invocation REPORT RequestId 4b88f9463c654ba6aaca8a27bff70320 Duration 128 67 ms Billed Duration 200 ms Memory Size 1024 MB Max Memory Used 77 MB Init Duration 205 88 ms Subsequent invocations Invocation command sls invoke s brett f hello d userToMarkInactivejoe l Heres my serverless yml and the handler function Built and deployed with Serverless 1 53 0"},
{"id": 98562, "question_id": 9856, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-15T11:35:18Z", "scrap_date": "2024-05-01T00:10:32.222030", "content": "I figured out the problem As often as it occurs it was a simple annoying frustrating typo Hopefully this will at least help someone else uncover the source of the problem In my serverless yml I had three functions defined While trying to solve a different problem I renamed my functions like so stage functionName However after renaming the first one I just copied and pasted to the second and third then updated the function name but I never updated the second function name So the first functions logs conflicted with the second Basically I had this stage functionA stage functionA stage functionC But should have had this stage functionA stage functionB stage functionC Once I made this change my stack was created successfully without error "},
{"id": 98692, "question_id": 9869, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-17T01:55:57Z", "scrap_date": "2024-05-01T00:10:32.685192", "content": "maybe you can try to have 3 folders 1stage all syncing to [branches of] the same repo Mote hackily maybe renaming the serverless folder in your service directory isnt that where serverless remembers to which stack the service is deployed"},
{"id": 54272, "question_id": 5427, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-14T13:15:33Z", "scrap_date": "2024-05-01T00:10:33.442521", "content": "The cloudwatchLog event source monitors log groups and then streams them to your Lambda function So in your case youd want to configure your logshipper function with a cloudwatchLog event for each function you want to stream to logshipper For example This will create subscriptions to those log groups and send them all to logshipper Note that you are limited to ONE subscription per log group so this would be the only function that will monitor them "},
{"id": 54273, "question_id": 5427, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-14T14:49:09Z", "scrap_date": "2024-05-01T00:10:33.443522", "content": "Many thanks Will give a try postcoffee "},
{"id": 54274, "question_id": 5427, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-18T22:16:22Z", "scrap_date": "2024-05-01T00:10:33.444522", "content": "Hi Jeremy If you are using the Serverless Enterprise Framework which already creates a log group subscription how would be the best way to ingest all Lambda logs to ELK In the past i was using the serverlesseslogs plugin until we moved to Serverless SLS gives us monitoring in return but not raw logs to consult As they retrieve the logs using a IAM Role and not a lambda y cant reuse the lambda to send logs to SLS and ELK So how can you deal with this problem Best "},
{"id": 4672, "question_id": 467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-08T06:13:09Z", "scrap_date": "2024-05-01T00:10:34.403638", "content": "For example if you have this in your serverless yml Your iamRoleStatements json would be formatted with [ ] at the toplevel e g with the statements you need You only need to include the part after Statement in your original post It would be nice if the CLI complained about this when you get it wrong "},
{"id": 4673, "question_id": 467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-09T20:46:24Z", "scrap_date": "2024-05-01T00:10:34.404639", "content": "EDIT Its works my error was to place iamRoleStatements line inside the custom section Thank you very much ianserlin Working version of serverless yml file provider name aws runtime nodejs4 3 iamRoleStatements ref iamRoleStatements json Hi ianserlin Ive tried it but it seems it does not work The custom iamRole settings are not set in the lambda execution role that serverless creates Im pasting my serverless yaml file Maybe Im missing something service serverlessuserservice On amazon web console I can see that the policy devserverlessuserservicelambda has not included the custom params for the IAM Role"},
{"id": 4674, "question_id": 467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:53:33Z", "scrap_date": "2024-05-01T00:10:34.406681", "content": "Can you try running serverless deploy noDeploy and inspect the CF template files that are created in the serverless folder The statements should be included there if they arent there might be an issue with indention"},
{"id": 4675, "question_id": 467, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-12T23:32:45Z", "scrap_date": "2024-05-01T00:10:34.406681", "content": "Hi flomotlik My issue was solved i edited my post some days ago As you said it was an indentation error oops Thank you "},
{"id": 4676, "question_id": 467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:14:58Z", "scrap_date": "2024-05-01T00:10:34.407640", "content": "We need to add more validation for that in the future"},
{"id": 4677, "question_id": 467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T04:56:55Z", "scrap_date": "2024-05-01T00:10:34.408640", "content": "Serverless link doesnt work anymore "},
{"id": 83412, "question_id": 8341, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-19T04:57:19Z", "scrap_date": "2024-05-01T00:10:35.384493", "content": "any news about ur question"},
{"id": 100252, "question_id": 10025, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-06T09:10:13Z", "scrap_date": "2024-05-01T00:10:36.333211", "content": "Hi there Its usually a good idea just to post your issue in as much detail as possible so that if anyone can help they can answer with all information available "},
{"id": 100182, "question_id": 10018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-06T09:14:13Z", "scrap_date": "2024-05-01T00:10:37.339667", "content": "Could you share your full serverless yml Also if you are trying to assing IAM permissions to a lambda function you dont need to go the route of setting it via CloudFormation You can define IAM permissions as a part of the Serverless Framework in a much simpler way httpsserverless comframeworkdocsprovidersawsguideiamiam"},
{"id": 100183, "question_id": 10018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-06T11:57:32Z", "scrap_date": "2024-05-01T00:10:37.341668", "content": "Hi Gareth Thanks for your reply The suggestion you submitted is exactly what I did I hadnt relized at the time as I am quite new to building large ish aws structure Thanks again much appreciated"},
{"id": 103052, "question_id": 10305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-19T21:31:32Z", "scrap_date": "2024-05-01T00:10:38.286526", "content": "Hello and welcome to the forum As a good starting point you can refer to the documentation of the Serverless Framework regarding plugins At the top of the page you will find links to a couple of articles walking you through writing your first plugin and if you scroll down you will find the Writing Plugins section that provide some more details Unfortunately it is not exhaustive so in addition to that it might be helpful to have a look at the code of some existing plugins You can find a lot of great projects on the Serverless community plugins repository Finally lifecycle events are a cornerstone concept when writing plugins but I have found to be sometimes difficult to figure out which ones I need to use These couple of resources have helped a lot"},
{"id": 103053, "question_id": 10305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-20T13:35:22Z", "scrap_date": "2024-05-01T00:10:38.288526", "content": "Hi teddygustiaux Thank a lot for these links I will read it for sure and maybe Ill also start giving a glance at the SLS code itself "},
{"id": 103102, "question_id": 10310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-20T13:41:07Z", "scrap_date": "2024-05-01T00:10:39.027770", "content": "Hi from aws apigateway FAQ API Gateway supports throttling settings for each method or route in your APIs You can set a standard rate limit and a burst rate limit per second for each method in your REST APIs and each route in WebSocket APIs Further API Gateway automatically protects your backend systems from distributed denialofservice DDoS attacks whether attacked with counterfeit requests Layer 7 or SYN floods Layer 3 "},
{"id": 22542, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T23:44:09Z", "scrap_date": "2024-05-01T00:10:39.896684", "content": "Ive reproduced this issue here httpsgithub comProbablePrimeserverlesssnsissue"},
{"id": 22543, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T04:27:12Z", "scrap_date": "2024-05-01T00:10:39.896684", "content": "Is there a reason youre manually setting up the SNS topic in the resource section Normally you would just do this and let Serverless handle the rest Assuming you need to set it up manually then something like this should work Im using a variation on this in my serverless yml"},
{"id": 22544, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T12:28:13Z", "scrap_date": "2024-05-01T00:10:39.897685", "content": "I dont intend to subscribe to this SNS topic from this service It will be exported from the cloud formation stack to be used in another serverless microservice so events is not suitable Your FnJoin solution is interesting but quite long and unwieldy If i manually edit the outputted cloudformation i can fix this with a simple depends on I might need to open an issue on the framework Thanks for your reply "},
{"id": 22545, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T12:49:22Z", "scrap_date": "2024-05-01T00:10:39.898685", "content": "DependsOn only impacts the order of creation so it wont help you find the Arn for the SNS topic Even if the stack is created in the right order you still cant use FnGetAtt to find the Arn because CloudFormation doesnt support that The only attribute you can retrieve is the TopicName At least thats what the docs say httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferencegetatt html As far as Im aware the only way to get the Arn is to build it using FnJoin or FnSub "},
{"id": 22546, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-11T12:55:34Z", "scrap_date": "2024-05-01T00:10:39.899685", "content": "Ahh that seems problematic In the JS SDK i can only publish to a topic via ARN Ok thank you for the full explanation ill use the join for now Ill also see what resources in the AWS space are available to help out here from an outside perspective i would assume GetAtt should be able to get an Arn if the resource has one I figured this out using Ref httpsdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferenceref html which will get you the sns topic ARN Thank you "},
{"id": 22547, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-20T20:43:29Z", "scrap_date": "2024-05-01T00:10:39.900685", "content": "Its been a while since this question was asked but now you can use cloud formation and do something like Stack A where the topic is created serverless yml Stack B where the topic is referenced serverless yml"},
{"id": 22548, "question_id": 2254, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-21T01:19:34Z", "scrap_date": "2024-05-01T00:10:39.901686", "content": "I would recommand you this plugin to write your SNS_ARN npm serverlesspseudoparameters Serverless AWS Pseudo Parameters "},
{"id": 39522, "question_id": 3952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T16:59:42Z", "scrap_date": "2024-05-01T00:10:40.953926", "content": "httpsforums aws amazon comthread jspathreadID231059"},
{"id": 39524, "question_id": 3952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-01T15:52:59Z", "scrap_date": "2024-05-01T00:10:40.954926", "content": "Bjorn121 If you use python you can use the Boto3 lambda API get_policy to see what resourcebased policies are attached with your lambda functions and then use remove_permission to simplify or clean up duplicate policies or policies that arent needed You can check out this article for information on how to fix this issue After you fix the limit error you can create an IAM role that has policies to access lambda Then use that role for API Gateway to invoke lambda instead of creating individual AWSLambdaPermission for each lambda function "},
{"id": 39525, "question_id": 3952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-05T08:48:07Z", "scrap_date": "2024-05-01T00:10:40.955927", "content": "Bjorn121 Have you managed to get a wildcard permission specified in your serverless yml I am trying to get the same thing I have a bunch of CloudWatch events that triggers my lambda function and each event gets a permission created which gives me PolicyLengthExceededException "},
{"id": 74392, "question_id": 7439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-20T13:26:44Z", "scrap_date": "2024-05-01T00:10:41.413793", "content": "Hey I created a user pool group from the console and then created a route on my frontend to restrict users from that group only to access that specific route "},
{"id": 74393, "question_id": 7439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-20T16:37:47Z", "scrap_date": "2024-05-01T00:10:41.414794", "content": "Thanks for the reply Im still looking to see if someone has an example of creating the User Groups in serverless yml"},
{"id": 74394, "question_id": 7439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-20T18:10:57Z", "scrap_date": "2024-05-01T00:10:41.415794", "content": "I found this video pretty helpful httpswww youtube comwatchv4QwWY9Fg4p4 She has a lot of cool videos on serverless"},
{"id": 74395, "question_id": 7439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-21T02:54:56Z", "scrap_date": "2024-05-01T00:10:41.415794", "content": "i have this working perhaps can be of help httpsgithub comnkhineelmgolangspablobmasterserverless ymlL290 and can add group to the schema something like"},
{"id": 74396, "question_id": 7439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-05T10:41:36Z", "scrap_date": "2024-05-01T00:10:41.416794", "content": "I think those are custom attributes not really suited for the group functionality of the cognito service"},
{"id": 74397, "question_id": 7439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-05T10:44:03Z", "scrap_date": "2024-05-01T00:10:41.416794", "content": "this might be the a actual solution stackoverflow com AWS Serverless Framework User Groups in yml file amazonwebservices amazoncognito serverlessframework asked by AMoses on 0810PM 26 Nov 18 UTC"},
{"id": 96842, "question_id": 9684, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-24T19:54:16Z", "scrap_date": "2024-05-01T00:10:43.399085", "content": "The console would be the correct place to check If its not showing then you may have a mistake in your serverless yml "},
{"id": 92692, "question_id": 9269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-25T05:27:27Z", "scrap_date": "2024-05-01T00:10:44.527983", "content": "I have a similar problem but its not an sls bug In my case its because AWS dont allow 2 lambdas to share the same S3 event regards Anthony"},
{"id": 96982, "question_id": 9698, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-25T15:24:08Z", "scrap_date": "2024-05-01T00:10:45.532360", "content": "Have a look at Custom IAM Roles in the Serverles documentation There you can get very detailed and control every aspect of your IAM permissions Hope it helps "},
{"id": 96983, "question_id": 9698, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-25T18:28:29Z", "scrap_date": "2024-05-01T00:10:45.533361", "content": "That works for me Thanks a lot "},
{"id": 69052, "question_id": 6905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-03T16:42:08Z", "scrap_date": "2024-05-01T00:10:46.644457", "content": "I still need help with this Any ideas"},
{"id": 69053, "question_id": 6905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-30T04:15:19Z", "scrap_date": "2024-05-01T00:10:46.645457", "content": "lp me package up dependencies for a python script I have which uses DLIB for some machine learning facial property detection I can run it fine locally but when I use your system to package up my project ready for Lambda I am met with missing file errors coming from lambda its self If youre using serverlesspythonrequirements to package dependencies it unfortunately does not bundle in the dynamic libraries required You have to build them in an environment that lambda functions use such as amazonlinux and bundle it But you can provide a custom Dockerfile to serverlesspythonrequirements and make it work Heres an example of tesseract library Dockerfile httpsgithub combweigelawslambdatesseractlayerblobmasterDockerfile"},
{"id": 25532, "question_id": 2553, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T20:08:06Z", "scrap_date": "2024-05-01T00:10:47.721201", "content": "Im also struggling with this "},
{"id": 25533, "question_id": 2553, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T04:35:44Z", "scrap_date": "2024-05-01T00:10:47.722202", "content": "Did you try exclude all like below And then include the necessary files "},
{"id": 25534, "question_id": 2553, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-25T07:34:32Z", "scrap_date": "2024-05-01T00:10:47.722202", "content": "did anyone solved this i am also struggling with this "},
{"id": 25535, "question_id": 2553, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-31T19:13:54Z", "scrap_date": "2024-05-01T00:10:47.723202", "content": "11 Months and noone has addressed this "},
{"id": 97082, "question_id": 9708, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-01T21:47:12Z", "scrap_date": "2024-05-01T00:10:48.786827", "content": "Im not sure if Im going down the wrong track here any suggestions"},
{"id": 96942, "question_id": 9694, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-24T19:51:01Z", "scrap_date": "2024-05-01T00:10:49.390771", "content": "Hi Celicoo Thats probably best asked over at the projects Github repo httpsgithub comserverlessserverlessissues "},
{"id": 96943, "question_id": 9694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-01T22:10:45Z", "scrap_date": "2024-05-01T00:10:49.391771", "content": "Was there much pushback from AWS They specifically stated in the docs that they do not raise that limit "},
{"id": 96572, "question_id": 9657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-03T18:54:35Z", "scrap_date": "2024-05-01T00:10:50.271547", "content": "Ok fuck it I found solution faster by myself "},
{"id": 97702, "question_id": 9770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T12:54:27Z", "scrap_date": "2024-05-01T00:10:51.075122", "content": "Hello cantordust let me see if I can help you To add a trigger to Lambda based on an existing S3 bucket you must do functions users handler users handler events I am assuming your lambda is created through serverless Let me know if this was helpful if not could you please detail your current scenario manually created or serverless created lambda for example "},
{"id": 97302, "question_id": 9730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T15:57:55Z", "scrap_date": "2024-05-01T00:10:52.096132", "content": "You need to modify the role associates to the Lambda function take a look at iamRoleStatements configuration If you wanted to modify JSON or yaml file you can implement your own plugin If you are working with SSM I suggest you take a look at the middy ssm middleware The purpose of that middleware is it will retrieve the param value as runtime cache it for next execution "},
{"id": 96432, "question_id": 9643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-21T11:22:28Z", "scrap_date": "2024-05-01T00:10:52.826478", "content": "Anyone able to help with this Ive set the VPC in serverless yml but this creates a VPC for each stage within the Stack What id like it a VPC outside of the Stack so one VPC can be assigned to Lambdas within several different Stacks"},
{"id": 96433, "question_id": 9643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T16:01:31Z", "scrap_date": "2024-05-01T00:10:52.827478", "content": "I think this post might help you If not please let me know "},
{"id": 97582, "question_id": 9758, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-11-05T16:12:00Z", "scrap_date": "2024-05-01T00:10:53.813411", "content": "You need to add spaces to the events configuration as below See this instruction httpsserverless comframeworkdocsprovidersawseventssns"},
{"id": 61422, "question_id": 6142, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-22T01:25:35Z", "scrap_date": "2024-05-01T00:10:54.899698", "content": "Did you find a workaround or convenient solution for this"},
{"id": 61423, "question_id": 6142, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T18:09:57Z", "scrap_date": "2024-05-01T00:10:54.900698", "content": "Sorry for the late reply didnt notice your question Yes I have a work around You have to create a package json in the common folder and run npm i to install any libraries It seems the when you run locally any files in that common folder expect to find their nodemodules in that common folder But when you deploy it takes them from the main folder Whilst seemingly a pain in the neck this does have one handy benefit for me I am using Camaro which required me to have one compiled binary when running locally and a completely different one deployed to AWS So I have the Mac binary installed in common and AWS binary in my main folder I then removed all Camaro calls from doe in my main folder and put a very simple wrapper function in common So when I run locally that call expects to find camaro in my common folder and thus it picks up the Mac binary But when I deploy it deploys the AWS binary from my main folder "},
{"id": 97772, "question_id": 9777, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-06T02:46:57Z", "scrap_date": "2024-05-01T00:10:55.949952", "content": "Using Ref function you can get the UserPoolId"},
{"id": 97782, "question_id": 9778, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-06T10:45:01Z", "scrap_date": "2024-05-01T00:10:56.988054", "content": "Maybe you need to write a plugin to update log retention after deploying I havent tried this but take a look at addretentionpolicytoapigatewaylogspublishedtocloudwatch"},
{"id": 53562, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-09T12:58:18Z", "scrap_date": "2024-05-01T00:10:57.841629", "content": "You want to use cloudformation directive like below Basically stage variables are available in ApiGateway stage resources in order to use them you attach the api gateway stage to deployment This will give you ability to use same openapi definition to be used in multilple stages so you can point prod lambda functions to prod api endpoint and dev to dev api endpoint Also if you are using swagger file and need to reference stage variable with sign you will need to use variableSyntax \\\\ stageVariables [ azAZ09 _\\\\\\\\\\\\\\ \\\\ ] to pass to your swagger definition And refer to stage var say you have stage variable called Stage in your swagger definition like so xamazonapigatewayintegrationuri arnawsapigatewayuseast1lambdapath20150331functionsarnawslambdauseast1174076265606functionhacontentsyndicationlambda stageVariables Stage imagesinvocations"},
{"id": 53563, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T05:40:35Z", "scrap_date": "2024-05-01T00:10:57.843630", "content": "This is not working its showing error as ApiGatewayDeploymentDev The REST API doesnt contain any methods Any idea why its showing "},
{"id": 53564, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-17T15:37:41Z", "scrap_date": "2024-05-01T00:10:57.844630", "content": "Someone mentioned this several months ago All API Gateways must have at least one method defined "},
{"id": 53565, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T18:25:08Z", "scrap_date": "2024-05-01T00:10:57.844630", "content": "Were you ever able to resolve this I am having the same issue "},
{"id": 53566, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T19:50:42Z", "scrap_date": "2024-05-01T00:10:57.845630", "content": "Love how Serverless is making all these enterprise software but havent create a solution for a problem that everyone using AWS in a true enterprise level is having "},
{"id": 53567, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-26T07:52:46Z", "scrap_date": "2024-05-01T00:10:57.845630", "content": "It does work as detailed by serkanh A method has to be added also but the idea of putting the two stages and two deployments in the same Resources section works "},
{"id": 53568, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-26T07:56:12Z", "scrap_date": "2024-05-01T00:10:57.846631", "content": "It does work but the problem mentioned by jeremydaly is linked "},
{"id": 53569, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-26T07:57:06Z", "scrap_date": "2024-05-01T00:10:57.846631", "content": "I was disappointed that serverless wouldnt allow that in a more convenient way but I realised that it made sense they want each project and deploy to be completely independent As api gateway is the only service that can handle multiple stage they just ignored that feature and focused on independent convenient deployments "},
{"id": 535610, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-09T10:06:48Z", "scrap_date": "2024-05-01T00:10:57.847631", "content": "Where to add method "},
{"id": 535611, "question_id": 5356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-07T14:21:35Z", "scrap_date": "2024-05-01T00:10:57.847631", "content": "Same level as ApiGatewayRestApi root of Resources ApiMethodTest Type AWSApiGatewayMethod Properties HttpMethod GET AuthorizationType NONE RestApiId Ref ApiGatewayRestApi ResourceId FnGetAtt ApiGatewayRestApi RootResourceId Integration Type MOCK RequestTemplates applicationjson statusCode 200 IntegrationResponses StatusCode 200 ResponseTemplates applicationjson statusCode 200 PassthroughBehavior WHEN_NO_TEMPLATES"},
{"id": 29382, "question_id": 2938, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-10-24T10:29:18Z", "scrap_date": "2024-05-01T00:11:00.009101", "content": "Hey Birowsky theres a small indentation issue with your YML The keys under stream need to be indented two additional spaces The correct syntax is For a note on why check out this resources on nested dictionaries in YML "},
{"id": 29383, "question_id": 2938, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-24T19:29:45Z", "scrap_date": "2024-05-01T00:11:00.010101", "content": "I was just coming to make the same post and there was already a solution on the first page How convenient It would be great to have this create an error rather than failing silently I spent a lot of time trying to debug this "},
{"id": 29384, "question_id": 2938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-25T13:34:28Z", "scrap_date": "2024-05-01T00:11:00.011101", "content": "Thats a great idea mrosett Looking into how I can implement that "},
{"id": 29385, "question_id": 2938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-11T12:29:18Z", "scrap_date": "2024-05-01T00:11:00.012102", "content": "Thanks alexdebrie1"},
{"id": 94222, "question_id": 9422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-06T10:08:59Z", "scrap_date": "2024-05-01T00:11:01.125509", "content": "What plugins do you have enabled in your serverless yml"},
{"id": 94223, "question_id": 9422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-13T21:14:20Z", "scrap_date": "2024-05-01T00:11:01.126508", "content": "Serverless Offline and Serverless Bundle The later was the culprit Im assuming I have the config wrong Ive had to disable the plugin as I needed to get on with development quickly Any suggestions for a fix would certainly be appreciated "},
{"id": 95342, "question_id": 9534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-14T09:15:15Z", "scrap_date": "2024-05-01T00:11:02.241201", "content": "File paths and names are usually case sensitive so they should be getNextRecordgetNextRecord lambda_handler"},
{"id": 95832, "question_id": 9583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-14T09:28:25Z", "scrap_date": "2024-05-01T00:11:03.294281", "content": "Those status codes only apply to Lambdas handling requests from the API Gateway and not the custom authorizers See httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayuselambdaauthorizer html for an example of how to trigger a 401 response from a custom authorizer "},
{"id": 96052, "question_id": 9605, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-14T09:33:04Z", "scrap_date": "2024-05-01T00:11:04.272542", "content": "Dale Salter covered how A Cloud Guru does this in his Serverless Days Sydney talk You can find it at httpswww youtube comwatchvWDd2qfEwdzQ Short answer option 2 "},
{"id": 95782, "question_id": 9578, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-14T09:44:29Z", "scrap_date": "2024-05-01T00:11:05.250411", "content": "tks for your share very much very much very much"},
{"id": 95562, "question_id": 9556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-15T05:39:21Z", "scrap_date": "2024-05-01T00:11:06.167204", "content": "No you cannot You might be able to have the company CNAME whatever domain they are planning to use to your custom domain name"},
{"id": 95563, "question_id": 9556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-15T08:43:59Z", "scrap_date": "2024-05-01T00:11:06.167204", "content": "Yes thanks I think this may be the only solution "},
{"id": 93762, "question_id": 9376, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-15T10:03:17Z", "scrap_date": "2024-05-01T00:11:07.286800", "content": "Hi I found a solution that works You need to make sure that the lib folder is also pushed into the git hence make sure it doesnt show up in the gitignore txt file that is created when packaging deploying the lambda"},
{"id": 40242, "question_id": 4024, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-15T13:53:48Z", "scrap_date": "2024-05-01T00:11:08.246266", "content": "walery No nothing that I have heard of But there are a few things that you might find useful Serverless Framework snippets for VS Code Serverless Framework snippets for VS Code Contribute to RafalWilinskiserverlessvscodesnippets development by creating an account on GitHub Serverless Dashboard for Atom Making it easier to manage serverless applications from within the Atom editor"},
{"id": 40243, "question_id": 4024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-16T03:47:13Z", "scrap_date": "2024-05-01T00:11:08.247266", "content": "Ive built code completion plugin for VSCode httpsmarketplace visualstudio comitemsitemNameThreadHeap serverlessidevscode on top of languageserver It should be possible to wire it with IntelliJ but I have not looked into that Would be great if somebody can contribute "},
{"id": 95912, "question_id": 9591, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-16T17:14:51Z", "scrap_date": "2024-05-01T00:11:09.258699", "content": "I ended up making a plugin for this httpswww npmjs compackageserverlesspluginlayermanager If anyone finds this useful give me feedback "},
{"id": 16072, "question_id": 1607, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T21:38:07Z", "scrap_date": "2024-05-01T00:11:09.911944", "content": "1 It will be extremely useful"},
{"id": 16073, "question_id": 1607, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-15T22:57:09Z", "scrap_date": "2024-05-01T00:11:09.911944", "content": "1 I would also love to see this"},
{"id": 16074, "question_id": 1607, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-17T00:16:11Z", "scrap_date": "2024-05-01T00:11:09.912938", "content": "Try this one httpsmarketplace visualstudio comitemsitemNameThreadHeap serverlessidevscode"},
{"id": 96592, "question_id": 9659, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-19T17:28:35Z", "scrap_date": "2024-05-01T00:11:10.975371", "content": "Hmm changed the function name file method name to something longer and it worked Very weird "},
{"id": 96452, "question_id": 9645, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-22T10:09:36Z", "scrap_date": "2024-05-01T00:11:11.814065", "content": "The rollout of this feature is done by AWS Its happening but its slow "},
{"id": 96622, "question_id": 9662, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-22T10:20:32Z", "scrap_date": "2024-05-01T00:11:12.890069", "content": "AWS has DocumentDB which might help I think you need to deploy DocumentDB inside a VPC which has implications for Lambda "},
{"id": 96552, "question_id": 9655, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-22T10:16:40Z", "scrap_date": "2024-05-01T00:11:13.964214", "content": "Hi Glenn I fixed your formatting If youre using the same indentation here in your serverless yaml then your indentation is wrong "},
{"id": 96553, "question_id": 9655, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-22T14:28:04Z", "scrap_date": "2024-05-01T00:11:13.965212", "content": "Hi Buggy Thanks very much for getting back to me You were exactly right the indentation was off Im pretty frustrated with myself that I didnt catch that but relieved its working properly now Thanks again Glenn"},
{"id": 96402, "question_id": 9640, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-23T14:12:25Z", "scrap_date": "2024-05-01T00:11:14.985224", "content": "Not a malformed ARN just a format that I hadnt seen before We adjusted our Resource to include tags and all is well "},
{"id": 94652, "question_id": 9465, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-27T15:32:36Z", "scrap_date": "2024-05-01T00:11:16.883354", "content": "Thats because requestId is a property of the API Gateway event type and not the Cloudwatch event type See Using AWS Lambda with Other Services for examples of event payloads you can expect from the various other services For this comparison look at"},
{"id": 94653, "question_id": 9465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-27T16:14:23Z", "scrap_date": "2024-05-01T00:11:16.884354", "content": "I think I get what you mean Just to make sure are you talking about the requestId used by Serverless e g the one highlighted here httpsdashboard serverless comtenantsmyusernameapplicationsmyprojectservicesmyservicestagedevregionuseast1invocationsexplorer 5709fc647d8b46fba56db9765aee5318 Also if thats the case is there any way to map AWSs requestId to Serverlesss requestId"},
{"id": 94522, "question_id": 9452, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-27T22:57:24Z", "scrap_date": "2024-05-01T00:11:17.629535", "content": "This may not be appropriate for this forum but this is how I solved the problem Instead of using serverless execute codes directly in lambcilambda since it is actually the image that serverless use to execute code on I used docker to compile go files into its appropriate environment In Makefile build and run the image copy the binary files to local and finally attach those files as volume to lamcilambda image and run By doing so I am certain that I am attaching the executable files to its appropriate place and being able to run the lambda function I hope this is helpful for someone else and let me know if you encounter problems "},
{"id": 82072, "question_id": 8207, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T15:19:05Z", "scrap_date": "2024-05-01T00:11:18.632538", "content": "I am also having the same issue"},
{"id": 82073, "question_id": 8207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-30T03:18:03Z", "scrap_date": "2024-05-01T00:11:18.633536", "content": "Same issue Id like to let engineers deploy to a stack like devjohndoe1 and have it just work Is that possible"},
{"id": 57352, "question_id": 5735, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-30T22:23:04Z", "scrap_date": "2024-05-01T00:11:19.687247", "content": "f not and the custom auth lambda is the suggested route could anyone point me in the right direction of how to structure that Im facing the same problem kc01926 By any change have you figured this out"},
{"id": 25482, "question_id": 2548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T21:25:10Z", "scrap_date": "2024-05-01T00:11:20.538515", "content": "I just ran into this same issue while trying to parse PDFs that are posted in multipartformdata requests "},
{"id": 25483, "question_id": 2548, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-13T21:45:36Z", "scrap_date": "2024-05-01T00:11:20.539515", "content": "Did you configure any binary media types If not then just search the forum You either need to configure binary media types manually or use some plugin you most likely dont use Java I guess but check this on how to configure binary media types manually httpsgithub combbilgerjrestlessexamplesblobmasterawsgatewayawsgatewaybinaryREADME md "},
{"id": 25484, "question_id": 2548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-14T00:30:14Z", "scrap_date": "2024-05-01T00:11:20.540520", "content": "It wont work for everyone or every situation but my preference is to upload them to S3 using a signed URL then trigger a Lambda when a file is created in the bucket "},
{"id": 25485, "question_id": 2548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-30T22:40:08Z", "scrap_date": "2024-05-01T00:11:20.541520", "content": "You need to config Binary support for media types Check this github com bbilgerjrestlessexamplesblobmasterawsgatewayawsgatewaybinaryREADME md AWS Gateway Binary Example showing binary data responses and requests Installation Deployment ```bash git clone httpsgithub combbilgerjrestlessexamples git cd jrestlessexamples gradlew build cd awsgatewayawsgatewaybinary serverless deploy serverless logs f api t if you want to tail the logs ``` Since it is not yet possible in `serverless` or rather `CloudFormation` to set binary media types they must be set manually Open the AWS console go to the API Gateway page add the binary media types `imagegif` `applicationoctetstream` and `multipartformdata` and save [] binary_media_types png This file has been truncated show original"},
{"id": 93882, "question_id": 9388, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-30T22:53:42Z", "scrap_date": "2024-05-01T00:11:21.391623", "content": "trying to implement a custom lambda authorizer and I want setting auth token AAAauthorization not A This might help you A crash course on securing Serverless APIs with JSON web tokens"},
{"id": 94832, "question_id": 9483, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-01T19:38:38Z", "scrap_date": "2024-05-01T00:11:22.342785", "content": "See Serverless Docs Specifically the The Default IAM Role section for an explanation "},
{"id": 94092, "question_id": 9409, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-26T09:13:13Z", "scrap_date": "2024-05-01T00:11:23.366814", "content": "Alternate workflow API Gateway Lambda SQS Lambda SQS Lambda HTTP Be aware that youll still have 30 sec timeout on API Gateway Lambda as well as on API Gateway Lambda stepfunction not 100 sure about this one So if you cant use websockets it still wont be enough to get the result If you just want to trigger the processing it would work For testing localstack should work for you "},
{"id": 94093, "question_id": 9409, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-01T20:25:56Z", "scrap_date": "2024-05-01T00:11:23.367814", "content": "Thanks The main idea was to hand off execution and simply return a success with a step function so rather than wait for a response that something succeeded it just needs to hand off to another script When its done it will return to a separate HTTP endpoint to log the success or failure etc So the HTTP at the end was a different endpoint not a return response We are looking into converting to websockets Is it possible via AWS or Serverless to simply convert an existing API gateway from HTTP to websockets or do we have to rebuild a new gateway"},
{"id": 94094, "question_id": 9409, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-02T02:09:16Z", "scrap_date": "2024-05-01T00:11:23.368814", "content": "Cant answer this unfortunatelly Weve moved to AWS AppSync GraphQL with its subscriptions when we needed this feature "},
{"id": 95092, "question_id": 9509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-03T11:05:05Z", "scrap_date": "2024-05-01T00:11:24.356331", "content": "Hello and welcome If the name of the serverless package is not changed the service name if you do any change to the serverless file and run sls deploy the changes will be made on the same resources "},
{"id": 95002, "question_id": 9500, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-02T20:38:32Z", "scrap_date": "2024-05-01T00:11:25.123206", "content": "Possibly related Feature Request API Gateway Stage Variables"},
{"id": 95003, "question_id": 9500, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-03T11:09:12Z", "scrap_date": "2024-05-01T00:11:25.124206", "content": "Hello I think you are talking about the S3 bucket that serverless creates when uploading your data to cloudformation You can choose what files you add to the zip package in the serverless file using the include and exclude keywords serverless Serverless Framework Guide AWS Lambda Guide Packaging How the Serverless Framework packages your AWS Lambda functions and other available options If you dont put this file inside your package will not be uploaded on S3 nor on lambda etc"},
{"id": 45482, "question_id": 4548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-22T05:34:18Z", "scrap_date": "2024-05-01T00:11:26.153967", "content": "mahendra Did you find a solution to this If yes please share "},
{"id": 45483, "question_id": 4548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-03T14:32:54Z", "scrap_date": "2024-05-01T00:11:26.154967", "content": "guess you can with"},
{"id": 75002, "question_id": 7500, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-04T06:54:28Z", "scrap_date": "2024-05-01T00:11:27.159933", "content": "Hello Did you solve your problem I think that I have the same the lambda show this error because the call on Stripe API doesnt return before the lambda timeout I teseted to set 10 seconds and I still got this error [Update] My problem was that my lambda was in private network to access RDS instance and I didnt set up a NAT gateway to provide internet access to this private network httpsaws amazon comfrpremiumsupportknowledgecenterinternetaccesslambdafunction"},
{"id": 95062, "question_id": 9506, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2019-10-02T17:21:14Z", "scrap_date": "2024-05-01T00:11:28.297220", "content": "Hi KanesYang It sounds like Step Functions would be the best way to handle this situation You can add a wait step for 2 hours and then Step Functions will continue on and invoke Function B The alternative way you could handle this is for Function A to create a CloudWatch Event for 2 hours later that invokes Function B Once Function B has completed its tasks it would delete the CloudWatch Event First option is a cleaner approach "},
{"id": 95063, "question_id": 9506, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-10-08T03:03:11Z", "scrap_date": "2024-05-01T00:11:28.298220", "content": "use step functions or use dynamodb streams with a 2 hours TTL items Read more about it here httpstheburningmonk com201903dynamodbttlasanadhocschedulingmechanism"},
{"id": 95432, "question_id": 9543, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-08T16:43:26Z", "scrap_date": "2024-05-01T00:11:29.404292", "content": "I answered my own question The best way to do this is to create a second yaml file and import it into severless yml using the file custom yaml syntax"},
{"id": 91932, "question_id": 9193, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-09T11:49:06Z", "scrap_date": "2024-05-01T00:11:30.183357", "content": "Up "},
{"id": 51382, "question_id": 5138, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2018-07-18T18:56:35Z", "scrap_date": "2024-05-01T00:11:31.271853", "content": "Oops I found out that I could just do that directly in the serverless config file"},
{"id": 51383, "question_id": 5138, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-09T19:55:26Z", "scrap_date": "2024-05-01T00:11:31.271853", "content": "Nice for you but I was hoping to get how to actually do what you originally tried "},
{"id": 78632, "question_id": 7863, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T08:49:31Z", "scrap_date": "2024-05-01T00:11:33.232637", "content": "I am also looking for how to specify this In the obsoleted serverlesswebsocketsplugin it could be specified in this way But it cant be done now with my current version 1 43 0 I have tried this in wild hopes it would work but it didnt "},
{"id": 78633, "question_id": 7863, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T08:56:05Z", "scrap_date": "2024-05-01T00:11:33.233643", "content": "Found the issue on Github httpsgithub comserverlessserverlessissues6130 Looking forward to the enhancement "},
{"id": 93112, "question_id": 9311, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T12:05:11Z", "scrap_date": "2024-05-01T00:11:34.259421", "content": "Solved The trackingcache directory had become owned by nobody and wasnt writable "},
{"id": 16982, "question_id": 1698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T16:36:15Z", "scrap_date": "2024-05-01T00:11:35.181603", "content": "Hi I found a really simple solution I think it is worth to share since it took me a few time to find this minimal working code If you have a common form that send data with content type applicationxwwwformurlencoded just flag Lambda proxy integration then you will find encoded form data in event body which can be parsed with Node js querystring native module "},
{"id": 20672, "question_id": 2067, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-19T14:20:35Z", "scrap_date": "2024-05-01T00:11:36.060505", "content": "Hello anybody any ideas on what i am doing wrong here "},
{"id": 20673, "question_id": 2067, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-21T14:35:21Z", "scrap_date": "2024-05-01T00:11:36.061506", "content": "Found the answer Basically i added a plugin and modified the resource as shown below to do the trick "},
{"id": 20674, "question_id": 2067, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-11T09:54:28Z", "scrap_date": "2024-05-01T00:11:36.061506", "content": "stage When I followed the setting and add the new resource ApiGatewayStage I got this error Do you know how to fix it I didnt set stage in provider so it uses the default stage dev do I have to set other name to avoid the error After I remove and deploy again this issue is gone now have another An error occurred ApiGatewayStage CloudWatch Logs role ARN must be set in account settings to enable logging But I have set the iamRoleStatements I have added the role in provider part but still get same error"},
{"id": 20675, "question_id": 2067, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-07T20:41:05Z", "scrap_date": "2024-05-01T00:11:36.062506", "content": "Follow the steps here to enable cloudwatch logging on the apigateway httpsaws amazon compremiumsupportknowledgecenterapigatewaycloudwatchlogs"},
{"id": 20676, "question_id": 2067, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-10T04:48:47Z", "scrap_date": "2024-05-01T00:11:36.063507", "content": "I wrote a detail document on how to enable access logs for api gateway VivekMuddasani The big problem in your solution is the role you defined in provider role is used by lambda not for api gateway "},
{"id": 20677, "question_id": 2067, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-13T13:10:49Z", "scrap_date": "2024-05-01T00:11:36.064507", "content": "Solution mentioned by VivekMuddasani no longer works in version greater than 1 41 0 of the framework This will be overwritten by the new capability of the framework but unfortunately it will try to create a role for the cw logging which isnt a good practice in production without having a way to use an existing role "},
{"id": 76662, "question_id": 7666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-14T14:10:28Z", "scrap_date": "2024-05-01T00:11:37.123228", "content": "Solved This was because I didnt put the relevant files in a subdir and from there to deploy "},
{"id": 76663, "question_id": 7666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T09:42:39Z", "scrap_date": "2024-05-01T00:11:37.124222", "content": "Hi Could you please give some more info about the solution"},
{"id": 76664, "question_id": 7666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-12T13:26:33Z", "scrap_date": "2024-05-01T00:11:37.125223", "content": "Hi It is quite simple that you should create a directory for the application you want to deploy and have all the relevant files under it from there you run the command The mistakes I had is that I tried to deploy from home directory which has too many files to cause the file size exceeds Hope this helps Cheers Richard"},
{"id": 76665, "question_id": 7666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-13T02:34:09Z", "scrap_date": "2024-05-01T00:11:37.126223", "content": "Hi Richard Thanks for your answer It seems the problem is different in my case I get a RangeError Maximum call stack size exceeded error message and tens of to node_modulesgracefulfsgracefulfs js21829 file although I run the command in the correct directory Thanks again for you answer "},
{"id": 76666, "question_id": 7666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-14T17:36:19Z", "scrap_date": "2024-05-01T00:11:37.126223", "content": "Hi you have an endless loop somewhere if this happens on the deploy command maybe check the yml file s for any recent change you did that can affect how the node_modules are loading maybe some module is loaded in a loop by mistake like two variables that reference eachother for example "},
{"id": 92592, "question_id": 9259, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-09T15:05:51Z", "scrap_date": "2024-05-01T00:11:38.090815", "content": "Looks like youre trying to get an Arn from an Arn That is youre constructing the arn as a string then trying to get the arn from that string Heres 2 potential solutions to your issue Hope it helps "},
{"id": 92593, "question_id": 9259, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-18T06:00:31Z", "scrap_date": "2024-05-01T00:11:38.091821", "content": "Thanks Brett it helped"},
{"id": 88702, "question_id": 8870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-29T14:04:17Z", "scrap_date": "2024-05-01T00:11:39.123899", "content": "I am also wondering this"},
{"id": 88703, "question_id": 8870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-17T20:56:05Z", "scrap_date": "2024-05-01T00:11:39.124896", "content": "Me too This is really useful so I can later export an OpenAPI definition of my API including responses "},
{"id": 88704, "question_id": 8870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-18T16:54:24Z", "scrap_date": "2024-05-01T00:11:39.125897", "content": "Have you looked at using the serverlessreqvalidatorplugin for the response schema validation It does have that capability "},
{"id": 50112, "question_id": 5011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T08:02:36Z", "scrap_date": "2024-05-01T00:11:40.127824", "content": "Youll also need permissions to create CloudWatch Logs API Gateway etc The minimum permissions required to deploy using Serverless is often discussed and rarely resolved Thats why most people use accounts with admin access "},
{"id": 50113, "question_id": 5011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T15:30:44Z", "scrap_date": "2024-05-01T00:11:40.128824", "content": "Thanks for the reply your comment makes it clear that I need to give the admin role to the EC2 server so that it can create all those cloudwatch logs and other stuff which is great to know Provided that I give the build server admin access then how can I use a IAM role instead of an API access key"},
{"id": 50114, "question_id": 5011, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-04T00:17:43Z", "scrap_date": "2024-05-01T00:11:40.128824", "content": "If your EC2 instance has an associated IAM role then you can get temporary credentials to applyset before deploying your serverless application That way you wont have to storeset admin access key inside the ec2 instance To do this you first need to have a user which is defined in the aws credentials file serverless config credentials provider aws key ABC secret 12345 profile MyBasicUserName That user has basic access that only allows them to assume the role associated with the ec2 instance You need to edit the trust policy in the role and state that you want that user to assume the role e g When the user assumes the role they can get temporary access keys which allows all of the permissions allowed in the role aws sts assumerole rolearn arnawsiam0123456789012roleMyEc2RoleName rolesessionname RoleSession1 profile MyBasicUserName Now you just need to extract the AccessKeyId and SecretAccessKey to pass them into serverless heres a bash script to help serverless config credentials provider aws key AWS_ACCESS_KEY_ID secret AWS_SECRET_ACCESS_KEY NOTE the long space in the IFS line is a tab character press ctrlv tab to create it I hope that helps httpsdocs aws amazon comIAMlatestUserGuideid_credentials_temp_useresources html"},
{"id": 50115, "question_id": 5011, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-04T08:34:39Z", "scrap_date": "2024-05-01T00:11:40.131826", "content": "I have since discovered that you can also get the temporary credentials through the ec2 instance using cURL the credentials exist in instance metadata within the ec2 instance to get them you do e g The credentials file actually needs the token too so here is an alternative script to setup temporary credentials WARNING this will overwrite your default profile Note you also need qr installed to parse the JSON returned from cURL"},
{"id": 50116, "question_id": 5011, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-08T19:07:35Z", "scrap_date": "2024-05-01T00:11:40.132826", "content": "This is really amazing thanks so much Pete for taking the time to reply Your last post worked perfectly "},
{"id": 50117, "question_id": 5011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-19T04:57:09Z", "scrap_date": "2024-05-01T00:11:40.132826", "content": "In this case I still need to create a user right But I cannot create a IAM user I just want to use the IAM role "},
{"id": 91202, "question_id": 9120, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-09-12T09:19:10Z", "scrap_date": "2024-05-01T00:11:41.171732", "content": "This is not possible due to a missing feature in cloudFormation I will try to work on a plugin to do it "},
{"id": 91203, "question_id": 9120, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-19T10:04:17Z", "scrap_date": "2024-05-01T00:11:41.171732", "content": "Done httpsgithub comManoManoTechserverlessplugintagsns"},
{"id": 93862, "question_id": 9386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-19T18:16:10Z", "scrap_date": "2024-05-01T00:11:42.230831", "content": "Oh I think this might be an IAM permission issue Ill probably need to add these permissions"},
{"id": 93542, "question_id": 9354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-21T19:31:35Z", "scrap_date": "2024-05-01T00:11:43.035004", "content": "I tried it using Windows 10 too and I did not have any issues Have you tried updating npm or Node version"},
{"id": 94022, "question_id": 9402, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-21T22:25:01Z", "scrap_date": "2024-05-01T00:11:44.165253", "content": "Found the issue At some point in my old code that i had used to populate a large amount of data to a red shift cluster i called credentials update or some such nonsense Apparently credentials update is enough to make sls start looking for a credentials file on its running file system despite it being run entirely from aws lambda by way of rest calls blah blah blah Still have 1 more issue im trying to work out but hopefully i wont have to bother yall on the forums with it "},
{"id": 94062, "question_id": 9406, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-22T18:50:09Z", "scrap_date": "2024-05-01T00:11:44.920242", "content": "got it at the top of the yml add exclude for all files service myService package individually true exclude and include per function functions create handler create handler package include create js"},
{"id": 94102, "question_id": 9410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-23T04:54:48Z", "scrap_date": "2024-05-01T00:11:46.011032", "content": "Lambdas cant actually run for 4 hours so I assume you mean the test took 4 hours You dont say anything about how many Lambdas you invoked how long each took to run or how many you ran concurrently All of this is really important For example Your Lambda might take 20ms to execute but youre still going to be billed for 100ms 5x the actual time "},
{"id": 94103, "question_id": 9410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-23T13:25:37Z", "scrap_date": "2024-05-01T00:11:46.013030", "content": "Thanks for the replies The lambda had been invoked over 250000 times in 4 hours and billed the duration was over 300 million milliseconds a few days Thats what I was confused Later I realized that the concurrent executions of the lambda which made this happening Resolved Thanks "},
{"id": 92912, "question_id": 9291, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-23T22:33:15Z", "scrap_date": "2024-05-01T00:11:47.131378", "content": "If the lambda succeeds the message is deleted If it fails it would go back onto the queue You dont need to manage the queue from the lambda Its not done by Serverless but rather by the SQS Lambda triggered setup in AWS Be aware that your SQS message timeout needs to be larger than the timeout of your lambda Reason being is if your SQS message is picked up by a Lambda and the timeout is 30s and the Lambda runs longer than 30s the message will go back onto the queue and might get picked up by another lambda Might Lambda concurrency 1 "},
{"id": 94372, "question_id": 9437, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T14:23:25Z", "scrap_date": "2024-05-01T00:11:48.008272", "content": "I almost always use the proxy integration so Im not fully prepared for this Before using serverless I fallowed this guide Medium 7 Mar 16 Error handling in AWS API Gateway with Lambda When it comes to error handling in AWS API Gateway with Lambda you may find this blog very informative After some hours of experiments I Reading time 2 min read Hope it helps"},
{"id": 90592, "question_id": 9059, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T12:03:08Z", "scrap_date": "2024-05-01T00:11:50.089269", "content": "Theres an apiGateway setting under provider that might help you with this "},
{"id": 90593, "question_id": 9059, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-21T13:29:17Z", "scrap_date": "2024-05-01T00:11:50.090269", "content": "We have already looked into this and could not get a solution going It would not let us deploy the same gateway under a different stage "},
{"id": 90594, "question_id": 9059, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-27T07:51:50Z", "scrap_date": "2024-05-01T00:11:50.091397", "content": "Hi tbaustin I dont think you can do that afaik and this was done so by design to keep each stage standalone This way each stage can be deployed to a different AWS account That said is there a particular use case you have in mind Perhaps we can suggest an alternative for your approach"},
{"id": 90595, "question_id": 9059, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-27T12:50:27Z", "scrap_date": "2024-05-01T00:11:50.092270", "content": "Atm we are deploying one stage in serverless and then going into aws and manually creating the other stages This is what we want to have so if it is not possible in serverless there may not be another approach haha Im open for anything though"},
{"id": 87452, "question_id": 8745, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-27T14:16:03Z", "scrap_date": "2024-05-01T00:11:50.866953", "content": "I am facing the same problem My app is composed of multiple services and I am able to deploy successfully on one service but I cant deploy for the other services Do you find any solution on that AFAIK there is a limit on subscription group [1 and cant be changes] listed here httpsdocs aws amazon comAmazonCloudWatchlatestlogscloudwatch_limits_cwl html After some digging I end up in this page httpsgithub comserverlessenterpriseplugin which states that the serverless version required should be 1 45 This would make sense as I am able to deploy correctly services that have been created after the version 1 45 Ok then now is there a way to redeploy the existing old services without having to remove them and recreate them Removing a service is not an option as it will wipe the associated data [dynamo] "},
{"id": 87453, "question_id": 8745, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-28T10:02:03Z", "scrap_date": "2024-05-01T00:11:50.868954", "content": "updates After being in touch with the serverless support they suggested me to look if there was any subscription to the cloudwatch logs Indeed there was so I removed them and redeployed and all went smooth So in case you have issues check if there are subscriptions in the cloudwatchlogs page in AWS "},
{"id": 85742, "question_id": 8574, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-16T16:51:11Z", "scrap_date": "2024-05-01T00:11:51.877617", "content": "davidjb99 Did you implement a Cloud Build solution for serverless that addresses the credentials issue I am looking to do the same thing and I am curious if you were able to work around the issue "},
{"id": 85743, "question_id": 8574, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T12:37:54Z", "scrap_date": "2024-05-01T00:11:51.878617", "content": "davidjb99 My solution for this was to use GCPs Key Management Service to encrypt the keyfile I include the encrypted key in my source code The Cloud Build process can the use the gcloud kms decrypt command to provide the decrypted keyfile for the serverless process Ill work on contributing this to the documentation "},
{"id": 85744, "question_id": 8574, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-29T16:20:58Z", "scrap_date": "2024-05-01T00:11:51.880618", "content": "I made a PR to change the authentication used with uses the correct credentials on cloudbuild See here "},
{"id": 27262, "question_id": 2726, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-09-18T20:27:02Z", "scrap_date": "2024-05-01T00:11:52.915468", "content": "FIXED really dump error just used CloudFront designer to debug an error Here are SNS resources with an attached policy hint take care about proper indentation for Topics"},
{"id": 27263, "question_id": 2726, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-03T14:04:41Z", "scrap_date": "2024-05-01T00:11:52.916467", "content": "Thank you You saved me some time "},
{"id": 43272, "question_id": 4327, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-23T11:25:48Z", "scrap_date": "2024-05-01T00:11:53.859188", "content": "Take a look on below topics let me know if they are helpful or not Using tokens with user pools Using the Refresh Token To use the refresh token to get new tokens use the InitiateAuth or the AdminInitiateAuth API methods The auth flow type is REFRESH_TOKEN_AUTH The authorization parameters AuthParameters are a keyvalue map where the key is REFRESH_TOKEN and value is the actual refresh token httpsdocs aws amazon comja_jpclilatestreferencecognitoidpinitiateauth html Initiates signin for a user in the Amazon Cognito user directory You cannot sign in a user with a federated IdP with InitiateAuth For more information see Adding user pool signin through a third party "},
{"id": 43273, "question_id": 4327, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-05-03T10:49:55Z", "scrap_date": "2024-05-01T00:11:53.861189", "content": "You can refresh the id token using the refresh token that is returned when you authenticate against the user pool The refresh token also has an expiration time but that is configurable The refresh token lifespan depends on the configuration of the user pool client you are using when you authenticate The max expiration is 10 years On the web side you would refresh like this Look at httpsgithub comawsawsamplifytreemasterpackagesamazoncognitoidentityjs Use case 32 The Cognito iOS library should have similar functionality bill s response has to do with refreshing tokens and AWS credentials if you have integrated Cognito User Pool with Cognito Identity Pool which is a whole other set of complexity Unfortunately the AWS docs dont really explain the difference too well "},
{"id": 43274, "question_id": 4327, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T02:19:49Z", "scrap_date": "2024-05-01T00:11:53.863190", "content": "Thanks Brian bwinant That is awesome It is the solution that I am looking for "},
{"id": 43275, "question_id": 4327, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-04T12:33:52Z", "scrap_date": "2024-05-01T00:11:53.864191", "content": "JohnWai how did you implement the refresh token Currently facing similar issues "},
{"id": 92072, "question_id": 9207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-04T02:17:42Z", "scrap_date": "2024-05-01T00:11:54.907796", "content": "I tested the Website Component and it worked great thanks Re Jons post I wasnt sure how to configure the rest of the custom domain setup process I found the CloudFront Component and I am going to test it with an empty S3 Component to redirect from www to root domain but I cant find documentation on all the details I also tried a few settings from my nonComponent setup such as a provider section with stackName and it resulted in an error Invalid variable reference syntax for variable name You can only reference env vars options files You can check our docs for more info Where can I find the docs for these Thanks"},
{"id": 90812, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-15T08:19:46Z", "scrap_date": "2024-05-01T00:11:55.954511", "content": "just to add to this as another test I changed the layout of my project to be the following to try to separate out the logic into individual lambda functions itemsendpoint functions getAll handler js containing just the code to get all items getSingle handler js containing just the code to get single item templates folder containing relevant vtl templates serverless yml My serverless yml references the handler like handler functionsgetAllhandler listAll But now the lambdas are still duplicated and both contain the entire functions folder and the templates folder Have I got a fundamental misunderstanding here or doing something silly"},
{"id": 90813, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-16T09:47:39Z", "scrap_date": "2024-05-01T00:11:55.956512", "content": "Latest update Using a SAM template you can specify the path of the code for your lambda function using the CodeUri entry in your yaml file but it doesnt appear that this is supported in the serverless framework I like the simplicity of the serverless framework but not having control of things like this is pushing me back towards using SAM "},
{"id": 90814, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-29T04:22:40Z", "scrap_date": "2024-05-01T00:11:55.957512", "content": "Looking at that project which is rather old done in 2016 it will create several different lambda functions for each part which is a function It should not create duplicate lambda functions if that happened then something is wrong The problem might be that the version of nodejs you try to use is being deprecated and obsolete httpsaws amazon comblogsdevelopernodejs6isapproachingendoflifeupgradeyourawslambdafunctionstothenodejs10lts But I suggest that you use some newer example preferably directly from the serverless blog or repository instead httpsgithub comserverlessexamples If you still prefer a nodejs backend then there are examples at the above link "},
{"id": 90815, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-03T20:10:14Z", "scrap_date": "2024-05-01T00:11:55.958512", "content": "Hi Many thanks for the reply I have tried increasing the node version but that didnt help with the duplication of lambda functions I took a look at the examples you mentioned and deployed the serverlessrestapiwithdynamodb example as that has multiple lambdas but that also duplicates the lambdas and has all of the handler files uploaded to each lamba as seen in the picture below Is that what you would expect to see"},
{"id": 90816, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-03T21:47:37Z", "scrap_date": "2024-05-01T00:11:55.959513", "content": "The functions are unique in that the serverlessrestapiwithdynamodbdevget is a single Function The part that appears to be confusing you is that ALL the code from your project is deployed into all four Lambda functions This is normal behavior If you wish to only include the code relevant to each function you need to configure your serverless yml to individual package your functions See The Serverless Docs for Individual function packages for more details Or you Webpack the serverlesswebpack plugin to do treeshaking and reduce each functions footprint even more "},
{"id": 90817, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-05T13:56:38Z", "scrap_date": "2024-05-01T00:11:55.960513", "content": "Ahh Awesome Many thanks for your reply The package individually and then using package exclude has given me the result I want which is that only the relevant files get uploaded to my Lambda function Out of interest you say that deploying ALL the code into all Lamda functions is normal behaviour Is that just because its too hard to figure out what is needed without the developer explicitly stating that or is there some other use case that I am missing where this is actually beneficial Thanks again"},
{"id": 90818, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-05T15:10:37Z", "scrap_date": "2024-05-01T00:11:55.961514", "content": "I imagine its just legacy behavior There are times when letting the system try and work that out fails so the default behavior while not optimal in regards to deployment packagelambda size is likely the safest path to ensure that all necessary files are included Thus its remained as the default But thankfully the tools have been added over time to enable developers to optimize to their hearts content "},
{"id": 90819, "question_id": 9081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-06T08:32:48Z", "scrap_date": "2024-05-01T00:11:55.962514", "content": "yeah that makes a lot of sense Thanks again"},
{"id": 90582, "question_id": 9058, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-06T10:49:32Z", "scrap_date": "2024-05-01T00:11:56.936185", "content": "For anyone else who lands here v3 0 0 of the component provides the optional input parameter for specifying the table name So"},
{"id": 92272, "question_id": 9227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-07T07:35:59Z", "scrap_date": "2024-05-01T00:11:57.653475", "content": "One thing Id change is the monthly cron Id change this to a daily process Reason being is youll be placing quite a bit of load on your RDS 1 day a month Do this in small batches daily and you can then scale the system accordingly One thing to keep in mind is that streams generated by DynamoDB is NOT a SQS stream therefore if the lambda fails to write the records to RDS the RDS will be out of sync If you want it to be bullet proof and have the ability to playback failures using a lambda to write to Kinesis then into RDS or RedShift is a better option youll also have the ability format the records with an additional lambda Glacier is a safe option to use but Id only really opt to go that route if you have Terrabytes of data Otherwise just keep it in S3 also be aware of the timecost of retrieving data from Glacier As for saving records to RDS Id go DynamoDB DynamoDB Stream Lambda Kinesis Firehose RDS Otherwise the solution seems sound"},
{"id": 92302, "question_id": 9230, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-07T07:41:56Z", "scrap_date": "2024-05-01T00:11:58.666523", "content": "I suggest you upload a code sample or point to a repo otherwise you wont have much luck here it might very well be an issue with Webpack "},
{"id": 92442, "question_id": 9244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-07T18:02:42Z", "scrap_date": "2024-05-01T00:11:59.443741", "content": "The problem is you have declared get as async but are using callbacks When you use async serverless will serve up what you return from this function which is nothing There are two solutions To use callbacks remove your async Using asyncawait requires more changes but is cleaner code It would something like I do not use Dynamo and am assuming it returns a promise Gary"},
{"id": 92443, "question_id": 9244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-07T18:24:15Z", "scrap_date": "2024-05-01T00:11:59.444741", "content": "thank you very much Gary for spending the time answering me I will see if I can make it work with your suggestions in mind "},
{"id": 92444, "question_id": 9244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-07T18:36:24Z", "scrap_date": "2024-05-01T00:11:59.445742", "content": "Your are welcome and good luck Gary"},
{"id": 78312, "question_id": 7831, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-09T03:14:47Z", "scrap_date": "2024-05-01T00:12:00.464827", "content": "If you specified vpc you do not need to specify AWSLambdaVPCAccessExecutionRole in your iamManagedPolicies "},
{"id": 93992, "question_id": 9399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-23T14:26:48Z", "scrap_date": "2024-05-01T00:12:01.563900", "content": "up I believe there is someone who knows whats going on"},
{"id": 93993, "question_id": 9399, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-09-25T14:29:12Z", "scrap_date": "2024-05-01T00:12:01.564900", "content": "Hello everything is normal The serverless has a deployment bucket where it stores everything he needs for cloudformation deployment There is nothing you can do about it"},
{"id": 76152, "question_id": 7615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-26T05:16:45Z", "scrap_date": "2024-05-01T00:12:02.656866", "content": "Facing the same issue here Did you find the solution o this yet "},
{"id": 30302, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-05T20:59:55Z", "scrap_date": "2024-05-01T00:12:03.324219", "content": "pgali Do you know the ARN of your authorizer function If you need to find it you can navigate to your function in the AWS Lambda console The ARN will be listed at the top it will look something like arnawslambdauseast1786336611111functioncustomauthorizer To use it as the authorizer in your Serverless service paste the ARN into your service Notice the last line has the example ARN from above Let me know if that helps "},
{"id": 30303, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-05T21:01:43Z", "scrap_date": "2024-05-01T00:12:03.326220", "content": "Hi alexdebrie1 Thank you for your answer Thats how I got it to work for now but that wouldnt work in an automated deployment environment I want to be able to reference the ARN programatically and do not want to be tied up using static ARN names in serverless yaml file"},
{"id": 30304, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2017-11-05T21:24:19Z", "scrap_date": "2024-05-01T00:12:03.327220", "content": "pgali That makes complete sense There are a couple different ways to handle this First you could manage the authorizer function in your serverless yml file and refer to it directly That would have syntax like this If you dont want that you could manage the Authorizer function in a different CloudFormation stack and have the Lambda ARN as an output Then you could reference the ARN programmatically using the CloudFormation Output variable syntax If you dont manage the authorizer in a stack you could store the ARN in something like AWS Parameter Store and then refer to it in your serverless yml using the SSM Parameter Store variable syntax Do any of those work"},
{"id": 30306, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-05T21:40:38Z", "scrap_date": "2024-05-01T00:12:03.328220", "content": "I am trying your second option I am getting an error saying trying to access an non exported variable Trying to look into it"},
{"id": 30307, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-05T21:50:14Z", "scrap_date": "2024-05-01T00:12:03.329221", "content": "Any chance you could help me with a working sample of exporting an ARN that can be referenced in another cloud stack I used to be able to do that in the past but having difficultly this time"},
{"id": 30308, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-06T00:35:40Z", "scrap_date": "2024-05-01T00:12:03.330221", "content": "Sure thing pgali Are you managing your authorizer Lambda function with Serverless If so go to that service directory and run sls info v In the output it prints out a lot of information about your service You need to look for two things stack in the Service Information section and FunctionNameLambdaFunctionQualifiedArn in the Stack Outputs section In your other Serverless service you can refer to this using cfstack LambdaOutputKey For example In this one my stack is testserviceprod The output key for my function is HelloLambdaFunctionQualifiedArn So to refer to it in my other serverless yml "},
{"id": 30309, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-06T03:01:24Z", "scrap_date": "2024-05-01T00:12:03.331221", "content": "Hi alexdebrie1 Thank you Thank you so much You made my day Worked like a charm following your instructions "},
{"id": 303010, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-06T03:19:06Z", "scrap_date": "2024-05-01T00:12:03.332222", "content": "Awesome Glad to hear that"},
{"id": 303011, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-07T21:59:12Z", "scrap_date": "2024-05-01T00:12:03.333222", "content": " in the Service Information sec authorizer cftestserviceprod HelloLambdaFunctionQualifiedArn how can one have the env auto placed here so that it becomes authorizer cftestservicedev HelloLambdaFunctionQualifiedArn or authorizer cftestserviceprod HelloLambdaFunctionQualifiedArn based on the stage "},
{"id": 303012, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T18:54:11Z", "scrap_date": "2024-05-01T00:12:03.334222", "content": "did you work out how to get the right stage automatically in the authroizer arn e g authorizer cftestserviceprod HelloLambdaFunctionQualifiedArn vs authorizer cftestservicedev HelloLambdaFunctionQualifiedArn "},
{"id": 303013, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T19:10:18Z", "scrap_date": "2024-05-01T00:12:03.335223", "content": "had to do this in the end which looks so nasty authorizor arnawslambda selfcustom region functionsecurityservice selfcustom stage myauthorizer"},
{"id": 303014, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-14T20:54:43Z", "scrap_date": "2024-05-01T00:12:03.336223", "content": "An interesting read however my authorizer is a Cognito user pool Ive already got one API Authorizer setup so Id like to refer to it in each of my endpoints from multiple services Does anyone have any idea how to do that"},
{"id": 303015, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-31T14:23:40Z", "scrap_date": "2024-05-01T00:12:03.336223", "content": "Im using ssm for that it works pretty well but you have to want to use another service from AWS authorizer ssmmyAuthorizerArn "},
{"id": 303016, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-21T03:29:54Z", "scrap_date": "2024-05-01T00:12:03.337224", "content": "Im using the CF format But it seems like AWS add the version number of the lambda Check this post Do you have any solution for this issue "},
{"id": 303017, "question_id": 3030, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-10-10T07:28:23Z", "scrap_date": "2024-05-01T00:12:03.338224", "content": "It is possible to xreference a stack The problem is the output CF parameter includes the version number of the authoriser in the arn so you could use the yaml Join function to construct the arn given the you know the actual name of the lambda itself The arn is in the form arnawslambda region account function stack stage lambdaname "},
{"id": 56082, "question_id": 5608, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-21T02:45:34Z", "scrap_date": "2024-05-01T00:12:04.424900", "content": "Hello Any update on this topic Did you find a workaround to use the LATEST version of it "},
{"id": 56083, "question_id": 5608, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-10T07:32:58Z", "scrap_date": "2024-05-01T00:12:04.425898", "content": "You dont want the version at all AuthorizeLambdaFunctionQualifiedArn already contains the version so adding LATEST wont work Surely you know the name of your lambda function Given that this pseudo works arnawslambda region account function stack stage lambdaname "},
{"id": 70972, "question_id": 7097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-22T04:42:10Z", "scrap_date": "2024-05-01T00:12:06.039019", "content": "Assuming you want to be able to run your lambdas in serverlessoffline from IntelliJ setup a rundebug configuration as in the attached screenshot If you dont have sls installed globally set JavaScript file option to location of serverless in your local node_modules This setup has worked for me and with it you can set breakpoints and step through your lambda code within IntelliJ"},
{"id": 70973, "question_id": 7097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-22T13:19:57Z", "scrap_date": "2024-05-01T00:12:06.040019", "content": "Hi thanks for your response I guess i will have to open an github issue Only difference is i am running on windows I did the same thing but i still get the exception basedir dirname echo 0 sed e s\\g ^^^^^^^ SyntaxError missing after argument list at new Script vm js797 at createScript vm js25110 at Object runInThisContext vm js30310 at Module _compile internalmodulescjsloader js65728 at Object Module _extensions js internalmodulescjsloader js70010 at Module load internalmodulescjsloader js59932 at tryModuleLoad internalmodulescjsloader js53812 at Function Module _load internalmodulescjsloader js5303 at Function Module runMain internalmodulescjsloader js74212 at startup internalbootstrapnode js28319 Waiting for the debugger to disconnect "},
{"id": 70974, "question_id": 7097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-13T21:53:33Z", "scrap_date": "2024-05-01T00:12:06.042020", "content": "This works fine in IntelliJ on Windows the entry javascript file needs to be something like The file in node_modules\\ bin\\sls is a shell script not a javascript file "},
{"id": 90602, "question_id": 9060, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-15T07:01:02Z", "scrap_date": "2024-05-01T00:12:06.849274", "content": "Only just started with this stuff myself but in the error message its sfetchUserData and in the tree s_fetchUserData js so maybe the _ needs correcting somewhere"},
{"id": 90972, "question_id": 9097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-16T16:33:27Z", "scrap_date": "2024-05-01T00:12:07.728138", "content": "For reference here is a cf log screenshot"},
{"id": 88402, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T13:48:55Z", "scrap_date": "2024-05-01T00:12:08.336198", "content": "Have a look at httpsserverless comframeworkdocsprovidersawsguidecredentialsusingawsaccesskeys"},
{"id": 88403, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T17:15:52Z", "scrap_date": "2024-05-01T00:12:08.337199", "content": "I created access key and secret key for tenant althout it is giving me same error I am running in dev enviorment "},
{"id": 88404, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T17:29:15Z", "scrap_date": "2024-05-01T00:12:08.337199", "content": "Check whether your environment variables are set If the command above returns nothing then take a look at the solution buggy provided to set them properly "},
{"id": 88405, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T17:44:34Z", "scrap_date": "2024-05-01T00:12:08.338199", "content": "yes it is returning AWS_SECRET_ACCESS_KEYBe AWS_ACCESS_KEY_IDW2"},
{"id": 88406, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T17:46:16Z", "scrap_date": "2024-05-01T00:12:08.339223", "content": "What is the next step as it is return same error again Could not find an access key for tenant tiegeendpointsapp Log out and log in again to create a new access key for this tenant "},
{"id": 88407, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T18:25:34Z", "scrap_date": "2024-05-01T00:12:08.340200", "content": "The details it is asking for is to access your Serverless account If you enter serverless login at the CLI it will open a browser to allow you to login Alternatively you can remove the app and tenant or org properties from your serverless yml so that it will stop trying to connect to your Serverless account"},
{"id": 88408, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T18:51:29Z", "scrap_date": "2024-05-01T00:12:08.341200", "content": "Thanks I removed app and tenant properties after run serverless deploy command it is giving me below error ServerlessError configure not a valid keyvalue pair missing equalsign in Authorization header AWS4HMACSHA256 Credentialaws configure list20190722useast1cloudformationaws4_request SignedHeadershostxamzcontentsha256xamzdate Signature "},
{"id": 88409, "question_id": 8840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-17T02:53:21Z", "scrap_date": "2024-05-01T00:12:08.342200", "content": "To find your Access Key and Secret Access Key "},
{"id": 90572, "question_id": 9057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-18T01:47:50Z", "scrap_date": "2024-05-01T00:12:09.264436", "content": "Tracked it back and got it working Made a fonts conf put the fonts in psb in fonts and added the fontconfig path here stackoverflow com Include custom fonts in AWS Lambda amazonwebservices lambda fonts asked by will on 0950AM 29 Sep 17 UTC"},
{"id": 85292, "question_id": 8529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-18T16:41:51Z", "scrap_date": "2024-05-01T00:12:10.352310", "content": "I had the same error and my problem was my stage in customDomain was incorrect I had followed some example where the stage was ci and I was deploying stage dev "},
{"id": 33102, "question_id": 3310, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-12T13:20:41Z", "scrap_date": "2024-05-01T00:12:11.475392", "content": "With custom authorizers you have two options Most of the time you will want to return list of policy statements covering every resource the user needs to access This will allow you to cache the result While you can use a wildcard you can also list each resource as its own policy statement Change the TTL to 0 so the policy is never cached This will cause the custom authorizer to be executed for each request Depending on your authentication mechanism this may allow you to cut someone off immediately Where possible I would go with option 1 over option 2 "},
{"id": 33103, "question_id": 3310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-04T16:30:49Z", "scrap_date": "2024-05-01T00:12:11.477313", "content": "hi buggy could you please give a bit more details on why option 1 is preferred a bit of context the application i am working on MAY contain entityId in request string custom authorizer puts that entityId into context so that backend function would know which entity was authorized to be accessedmodified if no entityId is present in context as no entityId is provided in query path authenticated userId is used as entityId usertoentity relation is onetoone i found that along with policy statements AWS also caches authentication context so that all consequent calls to my service return the same result are there any guidelinesbest practices to do such dynamic authorization should it be located in backend function or custom authorizer is the right place thanks alex"},
{"id": 33104, "question_id": 3310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-05T12:59:36Z", "scrap_date": "2024-05-01T00:12:11.478313", "content": "I wrote a proper response on my blog API Gateway authorization and policy caching The short version is use the custom authorizer to implement broad level acess controls and the Lambda to implement finegrained access controls "},
{"id": 33105, "question_id": 3310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-18T19:23:21Z", "scrap_date": "2024-05-01T00:12:11.479314", "content": "thanks a lot for taking time for such detailed explanation i now feel like my initial question shouldve been written in a bit different way here is the answer to that question ive compiled this from your response put nonfunctionalnonbusiness security logic into authorizer authorizer is not a way to separate security aspect you should invent or find one by yourself AWS does its best to make it as hard as possible youll have to spread securityrelated code onto business and nonbusiness parts info below is jfyi problem to solve entities relations activities the solution i came up with all users have access to profile by the same location profile superuser accesses profile by user id profile userId use custom authorizer to identify whether provided token grants access to owned resource or to all resources and for AWS policy the problem i met unfortunately it was not possible to do authorization of superusers without turning off caching for custom authorizer even though policy i have generated allowed access to any of possible resources like apiinvoke profile AWS was caching policies in couple with requests because of such caching each consequent request from superuser to any other than initial profile returned the same initial profile i do not stop wondering about a weirdness which AWS guys put into their designs unfortunately as engineer i see more issues in the AWS interfaces than benefits inevitably serverless development helps to reduce expenses for business thats what they [cloud providers] are selling but as for engineer it is a huge ugly mess of tech in its current state"},
{"id": 33106, "question_id": 3310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-16T10:44:59Z", "scrap_date": "2024-05-01T00:12:11.482314", "content": "I recently encountered this issue and was able to solve it by allowing the authorized client to access all functions So once user is authenticated allowall is cached I can still use the cache Nonauthenticated users are blocked obviously Your custom authorizer should return a resource ending with instead of returning event methodArn"},
{"id": 90622, "question_id": 9062, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-13T19:51:56Z", "scrap_date": "2024-05-01T00:12:12.528839", "content": "Any error logs can you share a snippet of your code "},
{"id": 90623, "question_id": 9062, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T09:47:40Z", "scrap_date": "2024-05-01T00:12:12.529836", "content": "use strict const twilio require twilio const config require config const phoneFormatter require phoneformatter const phoneValidator require awesomephonenumber const ObjectId require mongodb ObjectId const database require database const async require async const _ require lodash const twilioAccount config const sendMessageTest async inputs module exports send async function req res "},
{"id": 58622, "question_id": 5862, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T09:47:46Z", "scrap_date": "2024-05-01T00:12:13.135300", "content": "Provider plugin for the Serverless Framework v1 x which adds support for Firebase Cloud Functions "},
{"id": 90712, "question_id": 9071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T12:11:31Z", "scrap_date": "2024-05-01T00:12:14.236887", "content": "There doesnt appear to be CloudFormation support for Cloud Search Perhaps a CloudFormation custom resource "},
{"id": 88932, "question_id": 8893, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-20T17:18:39Z", "scrap_date": "2024-05-01T00:12:15.356706", "content": "update the runtime value within the serverless yml file to nodejs10 x"},
{"id": 38452, "question_id": 3845, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-06T22:44:36Z", "scrap_date": "2024-05-01T00:12:16.272308", "content": "I was wondering if you found any answers on how to deploy either bluegreen or canary scenario Im still tinkering with this myself There are a number of plugins that let you modify the CF template before it goes to AWS I was thinking it might be possible to use that to setup a bluegreen The Lambda functions themselves also offer traffic shifting based on the function versions but Im not sure how to manage that using the serverless framework Anyone done this"},
{"id": 38453, "question_id": 3845, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-26T12:35:43Z", "scrap_date": "2024-05-01T00:12:16.274309", "content": "I wrote a plugin exactly for that take a look and let me know if you found it useful Canary deployments for your Serverless application GitHub davidgfserverlessplugincanarydeployments Canary deployments for your Serverless application"},
{"id": 38454, "question_id": 3845, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-26T14:14:57Z", "scrap_date": "2024-05-01T00:12:16.275309", "content": "Awesome I will give this a try and let you know how it goes I use another plugin that pushes changesets so seeing if they play friendly together will be interesting I would guess that would rule out watching for alerts perhaps "},
{"id": 38455, "question_id": 3845, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-03T17:32:05Z", "scrap_date": "2024-05-01T00:12:16.276310", "content": "In case anyone is wondering you can use this canary plugin with the changesets plugin Worked fine Thanks David working great for us "},
{"id": 38456, "question_id": 3845, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-23T08:25:50Z", "scrap_date": "2024-05-01T00:12:16.277310", "content": "Great job for this plugin thank you Unfortunately the hook does not works if we use also serverlessdomainmanager plugin Do you know how to make the hooks compatible with serverlessdomainmanager plugin Is there an other way to determine plugin compatibility list on internet than testing and see that it does not work "},
{"id": 38457, "question_id": 3845, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-23T12:32:49Z", "scrap_date": "2024-05-01T00:12:16.278310", "content": "Ok the problem came from the fact I used global VPC configuration I didnt know how CodeDeploy works I added the VPC configuration for each function in serverless yml except for the hooks no global VPC configuration that all functions inherit "},
{"id": 52752, "question_id": 5275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-29T01:26:20Z", "scrap_date": "2024-05-01T00:12:17.059956", "content": "The f parameter should be the name of the function inside your serverless yml so its most likely sls logs s dev f TestPublic"},
{"id": 52753, "question_id": 5275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-29T17:45:22Z", "scrap_date": "2024-05-01T00:12:17.060956", "content": "that did the trick thanks "},
{"id": 72002, "question_id": 7200, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-11T12:46:24Z", "scrap_date": "2024-05-01T00:12:18.170242", "content": "Got the same question "},
{"id": 72003, "question_id": 7200, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-26T19:38:39Z", "scrap_date": "2024-05-01T00:12:18.171239", "content": "By default only files inside your service directory get packaged for deployment However this seems to be a common practice to help keep things DRY and somebody has already written a handy plugin to help include external files when you deploy Heres what you can do Then in your serverless yml file This tells serverless to include the common directory in your deployment package and copies it to the root of your fooA service directory So the final package structure looks like this Now you only have your common code written in a single location and any service can get those files at deployment and use them "},
{"id": 91262, "question_id": 9126, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-27T05:00:19Z", "scrap_date": "2024-05-01T00:12:18.973829", "content": "Thanks Lots of good examples there I could not find an example for GitLab but I have previously open sourced an example with a CICD pipeline for an AWS Lambda which can be deployed from GitLab CICD httpsgitlab commontaoawslambdagogitlabsls This example does not actually deploy because I dont have a private account but it will work if you clone it and put in the account credentials deploy role and deploy token as CICD variables in GitLab "},
{"id": 64112, "question_id": 6411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-13T15:10:45Z", "scrap_date": "2024-05-01T00:12:19.996514", "content": "Currently serverless does not support AWS stages for the API Gateway but you can use the alias plugin for this Alias support for Serverless 1 x Contribute to serverlessheavenserverlessawsalias development by creating an account on GitHub "},
{"id": 64113, "question_id": 6411, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-07T14:29:38Z", "scrap_date": "2024-05-01T00:12:19.998515", "content": "A year later Nov 2019 it looks like it possible to avoid this hurdle by deploying a single API gateway with the framework and then create a new stage from another template The single API still needs a stage name I use common so I end up with MyApicommon with another project i e MyApp deploying stages with serverless deploy stage devprod[ ] You have to use stage variables in the API as a single template there has to be used by every stage We end up with things like TableName MyApp stageVariables Stage table1 in the templates "},
{"id": 29032, "question_id": 2903, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T21:07:40Z", "scrap_date": "2024-05-01T00:12:21.691587", "content": "Hi bglick So I did some testing with this and I think the SourceAccount property is preventing it From the docs it says SourceAccount is used for S3 and SES That being said I havent had any luck scoping to permissions down to my account Ive tried using the SourceArn property with something like arnawslambdauseast1myIdfunction I also tried setting Principal lambda amazonaws com Neither one worked "},
{"id": 29033, "question_id": 2903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-18T06:08:43Z", "scrap_date": "2024-05-01T00:12:21.692588", "content": "Basically we have a lambda that is doing some basic logging type work and we want to allow any other lambda in our account to invoke it via an internal library without having to explicitly reference it in each lambdas iamRoleStatements This sounds like a really bad use of one Lambda calling another Lambda It would be better to implement logging as a library then use that inside your other Lambdas without invoking a second Lambda If you cant do that then I would look at attaching your logging Lambda to a Kinesis stream and have the main Lambda put messages onto the stream when logging is required "},
{"id": 29034, "question_id": 2903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-18T22:10:02Z", "scrap_date": "2024-05-01T00:12:21.694588", "content": "Yeah I simplified the use case a bit We actually are using this to wrap a kinesis stream because we dont want to leak the stream details into 50 microservices which we would have to change if we decide to change the way were partitioning the stream or if we move to a different underlying implementation Basically we want to have one service Lambda that the other services invoke and encapsulate the stream details in the single lambda "},
{"id": 29035, "question_id": 2903, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-30T14:12:00Z", "scrap_date": "2024-05-01T00:12:21.695588", "content": "The only way I could get this to work was with public access i e Principal which I quickly tried with a dummy lambda As soon as I tried SourceArn or SourceAccount I hit the same AccessDenied error This also seems to prevent crossaccount lambda calling unless we assume a role in the target account"},
{"id": 89562, "question_id": 8956, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-31T17:09:03Z", "scrap_date": "2024-05-01T00:12:22.498687", "content": "I was able to get the deployment to work by changing serverless yaml from dockerizePip nonlinux to dockerFile Usersme dockermachinemachinesdefault"},
{"id": 54012, "question_id": 5401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-12T06:55:59Z", "scrap_date": "2024-05-01T00:12:23.601794", "content": "Checklist time If you can post code that will generally help debugging "},
{"id": 54013, "question_id": 5401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-12T22:43:53Z", "scrap_date": "2024-05-01T00:12:23.602795", "content": "Im doing as Buggy says and my async await code works just fine Usually if I have a bug its because Im missing an await Even TypeScript is not very good at noticing such things "},
{"id": 54015, "question_id": 5401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-21T19:29:09Z", "scrap_date": "2024-05-01T00:12:23.603794", "content": "Turns out this was a problem with my VPC Its rather easy to shoot yourself in the foot with AWS network settings "},
{"id": 54016, "question_id": 5401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-21T21:36:13Z", "scrap_date": "2024-05-01T00:12:23.603794", "content": "context callbackWaitsForEmptyEventLoop false Why would you disable this Doesnt seem like good practice Your event loop should be empty before you finish "},
{"id": 54017, "question_id": 5401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-18T07:50:01Z", "scrap_date": "2024-05-01T00:12:23.604795", "content": "I dont know enough about Lambda and Node to know why but my Lambdas just timeout if I dont include that line "},
{"id": 54018, "question_id": 5401, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-01T04:07:41Z", "scrap_date": "2024-05-01T00:12:23.605795", "content": "I would suggest that you console log at every major step in your code Then I would look at cloudwatch to see what the last logged statement was I have found that I regularly make calls to services or reference variables that dont exist and the code just exits Look at you last logged statement and see what happens in your code right after that last console log Also verify that the lambda hasnt timed out default is 6 seconds Your last line in cloudwatch will include how long the function took to execute Here is an example of using promises in serverless to read a file github com contractorwolfslsstocktickerblobmasterroutesroutehelpers jsL37 reject err get view from filename inject the model data module exports LoadFilePromise function file promise views console log new Date getTime LoadFilePromise CALLED file return new Promise resolve reject fs readFile file function err data if err var dataFromfile String data SUCCESS console log dataFromfile cb nulltemplates resolve dataFromfile else "},
{"id": 43952, "question_id": 4395, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-29T14:05:16Z", "scrap_date": "2024-05-01T00:12:24.671478", "content": "Did you find a solution [UPDATE] I found the following method Hope it can help "},
{"id": 46882, "question_id": 4688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T23:55:33Z", "scrap_date": "2024-05-01T00:12:25.657794", "content": "Serverless uses CloudFormation to deploy stacks and in CloudFormation the User Pool triggers are part of the User Pool configuration This means you cant configure an existing user pool to use your function by setting cognitoUserPool as an event source for your functions You can still use the Lambdas with the existing User Pool but you need to"},
{"id": 46883, "question_id": 4688, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-07T02:24:48Z", "scrap_date": "2024-05-01T00:12:25.659863", "content": "I am doing this but the setup is probably a bit weird I have a separate CloudFormation stack that manages the Cognito User Pool Lets say that stack is named cognitostack and it outputs the ARN of the user pool like this Then my serverless yml will create a service named myservice stage and set up the Cognito trigger like this It works cause the Cognito User Pool LambdaConfig does not care if the ARN you are referencing is an existing lambda function or not AWS is not consistent about this So if all you do is deploy the cognitostack you will have problems cause the PreSignUp trigger will fail The important bit in the serverless yml is the AWSLambdaPermission to allow Cognito to execute your Lambda function Without it if you go into the Cognito console it will look like your lambda is connected to the user pool but it wont run CognitoDashpreDashsignupLambdaFunction is the logical name of the lambda function generated by Serverless The SourceArn comes from the custom variable which is set by referencing the exported CloudFormation Cognito user pool ARN This setup works for me hopefully you can tweak it for your use case "},
{"id": 46884, "question_id": 4688, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-02T19:25:33Z", "scrap_date": "2024-05-01T00:12:25.661860", "content": "SOLVED I was having same issue when i was deploying with serverless version 1 42 But I tried with serverless version 1 48 and it got fixed "},
{"id": 69623, "question_id": 6962, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-12T08:46:35Z", "scrap_date": "2024-05-01T00:12:26.697989", "content": "Not Knex specific but I do have an example of connecting Lambda to a Postgres database that you might find useful httpsmattwelke com20190106freetiermanagedsqlwithawslambdaandherokupostgres html Can you post the code that isnt working right now"},
{"id": 69624, "question_id": 6962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-06T17:21:29Z", "scrap_date": "2024-05-01T00:12:26.698989", "content": "claym Id love to hear how you even got knex working with serverless It yells at me about a lot of missing packages mssql mysql oracle which Im not even using Example of my output when I try to deploy"},
{"id": 69625, "question_id": 6962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-28T11:43:41Z", "scrap_date": "2024-05-01T00:12:26.699989", "content": "ffxsam Did you ever find a solution to this I am having problems and have setup this dummy repo A boilerplate app for creating a serverless com lambda AWS that provides a registerlogin API returning JWT tokens GitHub lukebyrnetypescriptexpressjwtlambda A boilerplate app for crea and am trying to get some debug support from serverlesswebpack I often have this error and I never know where to look at to fix the issue Is t here a waytool to have more information about the error I have the `SLS_DEBUG` set to true but it does not help ``` Unable to import module handler Error at Function Module _load module js27625 at Module require module js35317 at require internalmodule js1217 at Object anonymous vartaskhandler js37319 at __webpack_require__ vartaskhandler js2030 at Object anonymous vartaskhandler js5319 at __webpack_require__ vartaskhandler js2030 at vartaskhandler js4018 at Object anonymous vartaskhandler js4310 ``` Thank you very much Thierry"},
{"id": 69626, "question_id": 6962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-03T15:46:04Z", "scrap_date": "2024-05-01T00:12:26.701990", "content": "I was trying to fix it but I gave up and just went full JS"},
{"id": 69627, "question_id": 6962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-03T04:46:04Z", "scrap_date": "2024-05-01T00:12:26.701990", "content": "To fix this problem I had to list knex as an external in my webpack config then I had to add custom force include in my serverless config so it doesnt try to bundle knex but uses the one installed in the lambdas environment"},
{"id": 89832, "question_id": 8983, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-03T07:01:27Z", "scrap_date": "2024-05-01T00:12:27.611688", "content": "Well how bout that One of the changes I made while migrating the chassis to TypeScript means it no longer replaces ref with the file at build time This alternate syntax works"},
{"id": 77352, "question_id": 7735, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-04T10:01:22Z", "scrap_date": "2024-05-01T00:12:28.461760", "content": "Did you manage Got any insights or examples Thanks "},
{"id": 77353, "question_id": 7735, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-04T14:01:47Z", "scrap_date": "2024-05-01T00:12:28.463376", "content": "Its been about a month since I looked but no havent found any examples "},
{"id": 77354, "question_id": 7735, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-05T08:47:53Z", "scrap_date": "2024-05-01T00:12:28.464374", "content": "Check out the quick start examples on httpsdocs aws amazon comdocumentdblatestdeveloperguidequickstartwithcloudformation html and the CloudFormation documentation for DocumentDB at httpsdocs aws amazon comAWSCloudFormationlatestUserGuideAWS_DocDB html"},
{"id": 9082, "question_id": 908, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-12-16T09:19:16Z", "scrap_date": "2024-05-01T00:12:29.453001", "content": "Firstly you need to via console only currently in Binary Support add multipartformdata This is the ContentType used by POSTs that include files Next in your code you need to parse the request body itself Python provides a simple function for this cgi parse_multipart from cgi import parse_header parse_multipart from io import BytesIO However it loses the filename along the way Its theoretically possible in theory to also use the cgi FieldStorage but I havent tried yet "},
{"id": 9083, "question_id": 908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T13:52:06Z", "scrap_date": "2024-05-01T00:12:29.454001", "content": "How do you get API gateway to give you the body as base64 For me python3 6 its a utf8 string "},
{"id": 9084, "question_id": 908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-05T12:13:11Z", "scrap_date": "2024-05-01T00:12:29.455002", "content": "Add multipartformdata as Binary Media Types in your apis settings through console or by open api documentation Please find detail here httpsstackoverflow comquestions41756190apigatewaypostmultipartformdata I hope it helps"},
{"id": 89952, "question_id": 8995, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-05T14:59:55Z", "scrap_date": "2024-05-01T00:12:30.585668", "content": "I got this working by creating a new service with same name as the existing one by using command serverless create n myAppapi u httpsgithub comserverlessenterprisetemplate where myAppapi is the name of my existing serviceapp I ran this command in a separate folder and once successfully executed it creates a new service with same name as existing Then updated the serverless yml of existing app by adding two keys as mentioned below app myAppapiprod name of app created in serverless dashboard account under application tenant name_of_tenant name of user as mentioned in serverless account After making above changes to existing service Just doing sls deploy did the Job "},
{"id": 69242, "question_id": 6924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-05T23:53:37Z", "scrap_date": "2024-05-01T00:12:31.560440", "content": "Bumping this Have same issue Im looking at the output in CF console and other stacks have zero issues with using outputs from other stacks but this stack is throwing an error Its the only stack to reference this particular output but I can see the output in the CF console like I mentioned Just updated to 1 49 0 to see if anything improves and will update the post In meantime if anyone has any ideas"},
{"id": 69243, "question_id": 6924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T00:47:52Z", "scrap_date": "2024-05-01T00:12:31.562550", "content": "fixed twas the old cut n paste bug missing caused failure"},
{"id": 60562, "question_id": 6056, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-08T09:13:38Z", "scrap_date": "2024-05-01T00:12:32.409816", "content": "Youll need to use an existing plugin like httpswww npmjs compackageserverlesspluginexistings3"},
{"id": 60563, "question_id": 6056, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-08-06T14:23:14Z", "scrap_date": "2024-05-01T00:12:32.410816", "content": "This is now possible without thirdparty plugins since Serverless Framework version 1 47 0 The property existingtrue should be added to the event trigger See the documentation here httpsserverless comframeworkdocsprovidersawseventss3usingexistingbuckets and the associated PR here httpsgithub comserverlessserverlesspull6290"},
{"id": 15282, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-21T11:03:15Z", "scrap_date": "2024-05-01T00:12:33.530938", "content": "The easiest solution is to make sure you dont have a profile specified in your serverless yml then set the AWS_PROFILE environment variable to the profile from your awscredentials file that you want to use For example AWS_PROFILEprod sls deploy s prod"},
{"id": 15283, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T23:05:30Z", "scrap_date": "2024-05-01T00:12:33.531939", "content": "Yep profiles for the win You can even configure your profiles to use crossaccount roles as described in the docs "},
{"id": 15284, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-23T19:45:03Z", "scrap_date": "2024-05-01T00:12:33.532939", "content": "Hey guys Sorry for the late post Is this actually working for you We have a crossaccount setup but I ended up having to resort to some other tricks to get this to work Passing the AWS profile as environment variable works fine with regular AWS cli and other tools Here is sample error message I get My setup looks like this redacted of course Sample crossaccount settings for Dev vs Staging environments Thanks Serge"},
{"id": 15285, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-23T21:03:29Z", "scrap_date": "2024-05-01T00:12:33.533939", "content": "Ah sorry about that sdeby I have had problems doing the crossaccount role and wrote a wrapper script to make it work I really shouldve mentioned that Heres the script I mentioned in another post httpforum serverless comtproblemsdeployingusingacrossaccountroleinaws14932urowanu"},
{"id": 15286, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-24T01:31:42Z", "scrap_date": "2024-05-01T00:12:33.534940", "content": "Passing the AWS profile as environment variable works fine with regular AWS cli and other tools My understanding is that the environment variables are used by the SDK which underpins both the AWS CLI tools and the Serverless Framework I know they work with Serverless if youre referencing a profile in awscredentials but Ive never tried it with crossacross roles "},
{"id": 15287, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-03-24T19:19:49Z", "scrap_date": "2024-05-01T00:12:33.535940", "content": "Personally we do the following Setup multiple AWS accounts as others above have mentioned and then you just need to specify the stage and it automatically will select the correct profile to use dev and test use our dev acc prod the prod account Tailor as you see fit Ryan"},
{"id": 15288, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-09-13T06:59:43Z", "scrap_date": "2024-05-01T00:12:33.536940", "content": "Hey rowanu I have been trying to deploy my serverless lambda in production account the same as I did in dev account but it failed for the past 23 hours I tried the different ways described in documentation httpsserverless comframeworkdocsprovidersawsguideserverless yml I tried usingtheawsprofileoption and Per Stage Profiles but both did not work But finally I sorted it out the reason is I am accessing my prod account via roles not via user accounts The link you provided httpdocs aws amazon comIAMlatestUserGuideid_roles_use_switchrolecli html will add the profile associated to the prod role in this file awsconfig while serverless apparently only checking awscredentials correct me if I am wrong The fix was simply adding the role profile in awscredentials file as follow This will make both AWS CLI and serverless CLI be able to rundeploy onto the prod by specifying the role as follows aws cli aws iam listusers profile prodaccess serverless cli sls deploy s prod awsprofile prodaccess Hope this saves someone time Thanks for sharing ideas and for your time "},
{"id": 15289, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-14T04:32:07Z", "scrap_date": "2024-05-01T00:12:33.538941", "content": "Thanks for sharing this Ive been bitten by the config vs credentials thing in the past I think that roles are only supported in config because they depend on a source_profile as youve mentioned i e its an SDK thing not a Serverless thing "},
{"id": 152810, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-13T09:39:58Z", "scrap_date": "2024-05-01T00:12:33.539941", "content": "Hi menocomp I just wanted to say thank you I spent like 3 hours pulling my hair out Cheers Igor"},
{"id": 152811, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-19T00:52:47Z", "scrap_date": "2024-05-01T00:12:33.540942", "content": "I tried same steps mentioned by menocomp but getting Serverless Deployment failed Serverless Error An error occurred while provisioning your stack XXXXXXXLambdaFunction Crossaccount pass role is not allowed zip files are getting copied in S3 in prod account Also noticed S3 Server side encryption Access denied while checking the file permissions Which is not allowing to deploy Can someone please guide on this "},
{"id": 152812, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-08-12T19:16:27Z", "scrap_date": "2024-05-01T00:12:33.541942", "content": "Ive had to read both menocomp answer and the AWS doc to figure it out but here is a full working example for those interested This setup is to configure one profile named development which will work whether its executed from aws CLI command or sls CLI command This is assuming that you want to setup a crossaccount access by providing a role_arn to the aws configuration awsconfig awscredentials With this setup If you remove the role_arn and source_profile from awscredentials youll notice it may still work depending on your permissions doesnt work at all in my case because my IAM user doesnt have any permission on the root account but you wont hit the same account youll hit the root account not the crossaccount Thanks for your input menocomp definitely saved me a lot of time "},
{"id": 152813, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-27T02:57:06Z", "scrap_date": "2024-05-01T00:12:33.543943", "content": "I wanted to use as environment variable instead of having to pass the profile flag each time So I updated bash_profile with alias slssls awsprofile AWS_DEFAULT_PROFILE Now if I do export and run sls its much easier and obviously that exported profile name needs to be in the credentials file "},
{"id": 152814, "question_id": 1528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T22:51:56Z", "scrap_date": "2024-05-01T00:12:33.544943", "content": "I just wanted to share that weve written about this pattern in detail I know we are late to the party but hopefully somebody finds it useful Let me know if we should go into further detail for anything "},
{"id": 90022, "question_id": 9002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T00:30:42Z", "scrap_date": "2024-05-01T00:12:34.304147", "content": "I feel you man I had to write a whole new usersession system based on encrypted browser cookies to make my site work on Lambda That said it works great Worth the pain "},
{"id": 90023, "question_id": 9002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T08:50:40Z", "scrap_date": "2024-05-01T00:12:34.305148", "content": "When I checked the github of expresssession a warning was displayed to configure the store when deploying the product to the store But now req session disappears when user logs in and refreshes after 23 minutes Please let me know how to fix it "},
{"id": 90212, "question_id": 9021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T08:33:15Z", "scrap_date": "2024-05-01T00:12:35.418367", "content": "It should work by just removing the authorizer part of serverless yml but there are a number of other configuration details which also must work in AWS to make your lambda publicly reachable for instance your VPC and subnet To begin you can go to your lambda function in the AWS web ui and try test it from its lambda web ui and also set the VPC and subnet from there Or more preferably also set those details in serverless yml as well "},
{"id": 90213, "question_id": 9021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T09:29:34Z", "scrap_date": "2024-05-01T00:12:35.419368", "content": "Thanks for your reply I just wanna make sure that every single function can have its own authorizer settings and its not on the serverless yml level "},
{"id": 90214, "question_id": 9021, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-07T09:54:37Z", "scrap_date": "2024-05-01T00:12:35.420368", "content": "Yes every function or event can have its own authorizer It is not on the toplevel I might be able to post an example for you if you can not find any good example"},
{"id": 90052, "question_id": 9005, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-06T23:25:43Z", "scrap_date": "2024-05-01T00:12:36.023287", "content": "You cant mix the async and callback handler syntax This isnt valid use or The way your code is currently written the Lambda returns a Promise that is resolved almost immediately after the second s3 getObject and before you use the callback Lambda then terminates without completing your code I wrote a blog post about how async handlers work a while ago "},
{"id": 90053, "question_id": 9005, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T07:00:32Z", "scrap_date": "2024-05-01T00:12:36.024288", "content": "Sorry I pasted the wrong code and have update the post with correct code above I had the async removed already from the actual code i was trying It works fine as in download from s3 and uploads file to the 3rd party server The only problem is it doesnt give any legit response and only returns Internal Server error which is a kind of bugger "},
{"id": 90054, "question_id": 9005, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T11:37:49Z", "scrap_date": "2024-05-01T00:12:36.025288", "content": "Are you using lambda integration If you are then the response is incorrect and needs to be something like"},
{"id": 88182, "question_id": 8818, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-18T08:05:21Z", "scrap_date": "2024-05-01T00:12:38.067433", "content": "For my multi service monorepos I always use serverlesswebpack plugin to package my Lambdas and set package individuallytrue The webpack tree shaking ensures that only the modules needed by each Lambda is bundled resulting in optimised package sizes I also have started to just keep a single package json with this approach which keeps dependency management simpler "},
{"id": 88183, "question_id": 8818, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T09:05:33Z", "scrap_date": "2024-05-01T00:12:38.068434", "content": "Thanks for your reply Im kinda not expert with webpack is there any detailed examples or tutorials on how to package using serverlesswebpack "},
{"id": 88184, "question_id": 8818, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-18T16:18:15Z", "scrap_date": "2024-05-01T00:12:38.069434", "content": "Check out the serverlesswebpack plugin repo Basically you install the plugin add some config to your serverless yml and create a webpack config js file in the same folder Heres a basic webpack config js that I have used for Javascript projects And the key parts of serverless yml "},
{"id": 85042, "question_id": 8504, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-19T09:25:04Z", "scrap_date": "2024-05-01T00:12:39.152217", "content": "I totally support this I think it will not be too difficult to add for example a symbol to the white spaces like in the editors and it will improve a lot the potential of the tutorials"},
{"id": 4002, "question_id": 400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-28T03:04:16Z", "scrap_date": "2024-05-01T00:12:40.239503", "content": "As far as I can see Usage Plans arent yet supported by CloudFormation so theres no way that I know of to do this in Serverless right now "},
{"id": 4003, "question_id": 400, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-30T15:21:24Z", "scrap_date": "2024-05-01T00:12:40.240503", "content": "They are now httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayusageplan html"},
{"id": 4004, "question_id": 400, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-28T17:28:59Z", "scrap_date": "2024-05-01T00:12:40.240503", "content": "Thank you but can this be defined in the serverless yml file I have two different API keys that are associated with different usage plans one for testing and another for our customer but all I see in the example with no way to associate them is apiKeys List of API keys to be used by your service API Gateway REST API myFirstKey optstage myFirstKey envMY_API_KEY you can hide it in a serverless variable usagePlan Optional usage plan configuration quota limit 5000 offset 2 period MONTH throttle burstLimit 200 rateLimit 100"},
{"id": 4005, "question_id": 400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-08T11:42:57Z", "scrap_date": "2024-05-01T00:12:40.241503", "content": "Did you find a solution is it possible now to add an API to an existing Usage Plan"},
{"id": 4006, "question_id": 400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T13:00:56Z", "scrap_date": "2024-05-01T00:12:40.242504", "content": "Used the AWS CLI with the following command aws apigateway updateusageplan usageplanid PLAN_ID patchoperations opaddpathapiStagesvalueAPI_IDAPI_STAGE"},
{"id": 87792, "question_id": 8779, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T13:52:06Z", "scrap_date": "2024-05-01T00:12:40.779590", "content": "Im not sure if this still works but the old solution was adding the following as the first line of your event handler"},
{"id": 88612, "question_id": 8861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-24T06:59:08Z", "scrap_date": "2024-05-01T00:12:42.780534", "content": "Well ended up creating a new NPM package and published it Serverless Offline SSM Provider for invoke local"},
{"id": 77662, "question_id": 7766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-03T11:56:15Z", "scrap_date": "2024-05-01T00:12:43.632452", "content": "anand chauhan uaz Same problem here I think they still dont support dotnet core 2 2 Were you able to solve it "},
{"id": 77663, "question_id": 7766, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-03T11:59:41Z", "scrap_date": "2024-05-01T00:12:43.633454", "content": "According to httpsdocs aws amazon comlambdalatestdglambdaruntimes html AWS Lambda only supports 1 0 and 2 1"},
{"id": 77664, "question_id": 7766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-03T12:03:07Z", "scrap_date": "2024-05-01T00:12:43.633454", "content": "buggy Yeah true thanks"},
{"id": 77665, "question_id": 7766, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-01T20:31:58Z", "scrap_date": "2024-05-01T00:12:43.634453", "content": "You can build a function using NET core 2 2 httpsaws amazon comblogsdeveloperannouncingamazonlambdaruntimesupport"},
{"id": 77666, "question_id": 7766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-23T11:19:29Z", "scrap_date": "2024-05-01T00:12:43.634453", "content": "I have tried using the custom runtime support for AWS lambda and dotnetcore2 2 but cant deploy my stack due to this Serverless error The only way to get Serverless to deploy it is to change the runtime to dotnetcore2 1 but the the API errors with This is understandable but Im stuck on the initial runtime deployment Please see my repo here and suggest any fixes "},
{"id": 77667, "question_id": 7766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-24T15:45:55Z", "scrap_date": "2024-05-01T00:12:43.635454", "content": "Hi Yeah im having the same issues getting NET CORE 3 0preview working with it I got the builder working but now i understand that serverless isnt supporting the push of netcoreapp3 0 yet boo hoo"},
{"id": 86902, "question_id": 8690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-24T17:12:07Z", "scrap_date": "2024-05-01T00:12:44.498666", "content": "After a lot of time searching I figured it out The correct way to map that request is this That way the lambda function can receive the product object as a parameter"},
{"id": 87742, "question_id": 8774, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-26T02:22:54Z", "scrap_date": "2024-05-01T00:12:45.289606", "content": "The reason this is happening is that the browser tries to connect with TLS on a nonTLS port Try this and see if it works Docsbay Localhost5000 Description After starting simplehttp2server the console shows Listening on 5000 If we forget that it is serving over https and try to access httplocalhost5000 a binary file gets downloaded Steps to Reproduce 1 \tCD into directory "},
{"id": 88812, "question_id": 8881, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-26T06:08:05Z", "scrap_date": "2024-05-01T00:12:46.204144", "content": "You can use FnGetAtt to retrieve the Arn property if you know the name of the AppSync object in the CloudFormation config See the CloudFormation docs "},
{"id": 88802, "question_id": 8880, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-26T14:57:10Z", "scrap_date": "2024-05-01T00:12:47.259853", "content": "They are a bit behind but HomeBrew now can update to 1 48 3 so I did no change but of course serverless now has 1 48 4 It will probably be a few days before HomeBrew catches up again so Im curious would doing this one via NPM cause any issues that would interfere with the future HomeBrew updates"},
{"id": 88972, "question_id": 8897, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-26T15:03:15Z", "scrap_date": "2024-05-01T00:12:48.062253", "content": "Hi Did you test it with 0 The minimumCompressionSize property has a nonnegative integer value between 0 and 10485760 10M bytes It measures the compression threshold If the payload size is smaller than this value compression or decompression are not applied on the payload Setting it to zero allows compression for any payload size From AWS doc Enable payload compression for an API Amazon API Gateway Like"},
{"id": 88252, "question_id": 8825, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T21:03:56Z", "scrap_date": "2024-05-01T00:12:49.038681", "content": "You may have multiple pathParameters But not different ones at the same nesting level example Hope that helps "},
{"id": 88253, "question_id": 8825, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-20T14:08:24Z", "scrap_date": "2024-05-01T00:12:49.039682", "content": "Thank you for your reply I have question though alerts alertName printerid subscribe printers printerid alertName subscribe This 2 paths have different starting point Is this allowed Also if I create 2 seperate services and each service having one of the above path then will it be allowed"},
{"id": 88255, "question_id": 8825, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-29T14:39:03Z", "scrap_date": "2024-05-01T00:12:49.039682", "content": "alerts alertName printerid subscribe printers printerid alertName subscribe This 2 paths have different starting point Is this allowed Yes This wont be a problem Also if I create 2 seperate services and each service having one of the above path then will it be allowed Independently I they would be fine but I imagine that you would have issues trying to deploy the 2nd stack as API Gateway would flag problems resolving the conflict "},
{"id": 50462, "question_id": 5046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-09T17:23:05Z", "scrap_date": "2024-05-01T00:12:49.900296", "content": "Any luck with this Im currently stuck at the same point and the only workaround I found is to add the external resolved IP to the etchosts file which is kinda ugly "},
{"id": 50463, "question_id": 5046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T15:22:00Z", "scrap_date": "2024-05-01T00:12:49.900296", "content": "Hello Guys Im actually facing the same issue is someone able to find a solution "},
{"id": 50464, "question_id": 5046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-21T10:00:01Z", "scrap_date": "2024-05-01T00:12:49.901296", "content": "Hello I just found the solution I forget to add the ressource policy to allow the private endpoint to access the API "},
{"id": 50465, "question_id": 5046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-30T09:51:02Z", "scrap_date": "2024-05-01T00:12:49.902296", "content": "Where do i add this policy Thanks "},
{"id": 90112, "question_id": 9011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-07T17:31:59Z", "scrap_date": "2024-05-01T00:12:51.030483", "content": "It looks like this issue is caused by the ARN being parsed by Serverless in a way that makes it incompatible with EventBridge partner sources or any ARN that contains a character The line in question is in this GitHub commit This code works fine for custom event bus ARNs that follow the format However this wont work for partner sources like my Segment example In this case Serverless is searching for an event bus called only eventbusXXXXXXXXXX instead of the full bus name Edit I created GitHub issue 6514 for this bug"},
{"id": 97562, "question_id": 9756, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-11-05T03:47:00Z", "scrap_date": "2024-05-01T00:12:51.776233", "content": "I wrote this post to describe how to do it Let me know if can help you"},
{"id": 97563, "question_id": 9756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-08T05:00:35Z", "scrap_date": "2024-05-01T00:12:51.776233", "content": "1 this is exactly how we did it"},
{"id": 12712, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:02:45Z", "scrap_date": "2024-05-01T00:12:53.631309", "content": "Can you hit your getway with postman and record the request and response and add those here Might also be useful to see what your code is doing as well specifically what is getting supplied to the callback "},
{"id": 12713, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-10T04:12:37Z", "scrap_date": "2024-05-01T00:12:53.632310", "content": "I created another function just to test this I did a serverless create template awsnodejs then added the headers content encoding endpoint here is the endpoint httpsvrpfpzuwph executeapi useast1 amazonaws comdevhi when i try to hit it through postman I got the Could not get any response error screen"},
{"id": 12714, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-17T17:22:01Z", "scrap_date": "2024-05-01T00:12:53.633310", "content": "That endpoint appears to be down May want to provide some code or create a github project with a working example so people can give you some help at their convenience "},
{"id": 12715, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T04:37:13Z", "scrap_date": "2024-05-01T00:12:53.634310", "content": "hey Matt thanks for looking into this issue is whenever I put ContentEncodinggzip the service appears offline When I test it through API Gateway it works fine Literally all I did was create a new serverless project template then editted the yaml file to include the below before deploying response headers ContentType applicationjson ContentEncoding gzip"},
{"id": 12716, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-23T16:39:32Z", "scrap_date": "2024-05-01T00:12:53.635311", "content": "barrytam20 Did you find a way of gzip encoding responses using serverless lambdaapi gateway "},
{"id": 12717, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-23T20:06:31Z", "scrap_date": "2024-05-01T00:12:53.635311", "content": "It is possible to gzip responses but there are a couple of limitations My Java framework JRestless supports it partially i e for binary responses Heres an example for it httpsgithub combbilgerjrestlessexamplestreemasterawsgatewayawsgatewaybinary Since you are probably not interested in a solution for Java let me try to explain how it works in general for lambda proxy integration At the moment gzipping responses in APIGW makes IMO sense for binary responses only This is how binary responses work So once you managed to setup binary responses all you need to do is to gzip your binary data before you base64 encode it and send an additional response header ContentEncoding gzip if you receive a request header AcceptEncoding gzip It would be great if APIGW would support it out of the box and theres a thread in the forum httpsforums aws amazon comthread jspathreadID192948tstart0"},
{"id": 12718, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T03:01:27Z", "scrap_date": "2024-05-01T00:12:53.637311", "content": "Im a fan of the serverless framework Were using it for a large project at work Still I have a side project I have been working on for many years It uses JEE7 and RESTEasy on the back end running in Wildfly server on Openshift Origin I have some heavyweight endpoints that returned 22 megs of data for some users a matrix representation of data I was thinking I needed a massive model rewrite immediately Then I came across a blog about gzipping json responses I was able to go from returning 22mb of data from one endpoint down to 1 6mb by adding GZIP annotation to it Thats all I had to do I came here to see if it was as easy to do something similar with the serverless framework Apparently not It seems theres some magic left in the old Enterprise Java yet "},
{"id": 12719, "question_id": 1271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-22T13:47:06Z", "scrap_date": "2024-05-01T00:12:53.638312", "content": "service xxxxxxxxxxxxxxx provider name aws runtime python3 7 apiGateway minimumCompressionSize 1024"},
{"id": 18832, "question_id": 1883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T12:55:34Z", "scrap_date": "2024-05-01T00:12:54.547632", "content": "With SNS the event source you get in lambda is based on the AWS SNS notification types similar to S3 events which predate the lambda integration With SNS I think AWS have used the same record model across all services with notifications so this could be why we get an array which only has one record I cant find any AWS docs that explain the SNS message structure in detail so it could be worth a message in the AWS forums to get some more information Added this S3 notification event doc for reference httpdocs aws amazon comAmazonS3latestdevnotificationcontentstructure html"},
{"id": 18833, "question_id": 1883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T18:30:05Z", "scrap_date": "2024-05-01T00:12:54.548581", "content": "the link i provided explained the message a little I look just to confirm that SNS will send one message at a time despite the model supporting more due to the array This is critical because it will change my design and i will use Kinesis instead where i can get up to 10000 messages per Lambda execution "},
{"id": 18834, "question_id": 1883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T19:27:40Z", "scrap_date": "2024-05-01T00:12:54.549581", "content": "Hey Im sure that I have never got more than 1 message from SNS per lambda invoke however this might be down to a low frequency of SNS dispatches around 1 per min in my experience From your stated volume of messages 10000 per invoke Im not 100 sure what you are looking to implement message bus or message dispatch but I think kinesis might be what you are after Kinesis works with your lambda function in a few different ways httpdocs aws amazon comlambdalatestdgwithkinesis html It sounds like you are after the event structure pull down multiple messages in one invoke kinesis adds multiple messages to the stack and you grab as many messages from the stack as you need to process setting the pointers etc 10k in this use case Thing to watch out with here is how long it takes your lambda to process the 10000 messages if it takes a while to complete you might max out your invoke time before you finish also you will pay more due to long run time Also do you want to process less than 10k messages or are you going to wait until you have 10k messages waiting to be processed SNS to lambda will be invoked per message dispatch so as you push your 10k messages into SNS it will dispatch these to a listening lambda eventually I dont think this really fits your use case but offers a benefit if you change your design idea a bit Instead of processing in 10k batches you can process single messages at a time this will have a shorter invoke time and will hopefully ensure your lambda doesnt max out its invoke time Bottom line in design is to weigh up if a batch processing design is really what you need or if stream processing works for you Kinesis offers both options may be with higher costs and setup complexity but SNS will only really serve a message per invoke design but is a lot easier to setup Sorry if this is still a bit vague Hope this helps a little"},
{"id": 18835, "question_id": 1883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T20:27:48Z", "scrap_date": "2024-05-01T00:12:54.551582", "content": "Thanks vor the info I wanted to use SNS for two reasons Kinesis comes with a high upfront cost even when you dont use it to the max and scalability is not automatic You have to create a second third shard use a partioning key etc Processing 10000 messages is actually very fast 12sec so no issues with Lambda times I will go with Kinesis just for the batch message process property of it If SNS could send more message per invocation then the choice would be SNS just for the price and scalability perspective Thanks for the info about the SNS "},
{"id": 18836, "question_id": 1883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-23T21:07:55Z", "scrap_date": "2024-05-01T00:12:54.553583", "content": "I think sns follow push based mechanism while kinesis is pull based So in kinesis you have the freedom to read in batches but sns being push based send notification once it gets one "},
{"id": 18837, "question_id": 1883, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-24T06:27:53Z", "scrap_date": "2024-05-01T00:12:54.553583", "content": "There is a good intermediate here that has not been mentioned SQS can be used as an event trigger for Lambda functions as well httpsserverless comframeworkdocsprovidersawseventssqs and does message batching as well The problem with using SNS in your use case is if you have a very bursty rate of message sends and 10k message get pushed at SNS rapidly you will probably reach your concurrent Lambda limits very quickly SQS on the other hand can batch messages together so you reduce the number of concurrent Lambdas it autoscales unlike Kinesis as you mentioned and has no fixed cost "},
{"id": 86192, "question_id": 8619, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-24T06:30:32Z", "scrap_date": "2024-05-01T00:12:55.603619", "content": "Your iamRolesStatement is almost correct you are missing just one character"},
{"id": 86142, "question_id": 8614, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-24T06:33:51Z", "scrap_date": "2024-05-01T00:12:56.719133", "content": "Hi balavec and welcome the Serverless community There is definitely a way to get the same URL endpoints You just need to add some additional configuration It is in fact documented on our site here httpsserverless comframeworkdocsprovidersawseventsapigatewayshareapigatewayandapiresources Hope that helps"},
{"id": 25442, "question_id": 2544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T18:28:41Z", "scrap_date": "2024-05-01T00:12:57.818793", "content": "WanderingBrooks Im a novice when it comes to conditions but I think you need to define the conditions in a separate Conditions block then you can refer to a particular condition within different resources Adopting your example itd be something like this Please let me know if that works The documentation I used is here "},
{"id": 25443, "question_id": 2544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T19:27:35Z", "scrap_date": "2024-05-01T00:12:57.821260", "content": "That doesnt work unfortunately the problem is in the FnEquals itself If I use this as the condition instead it will deploy there must be something odd with FnEquals or the way I was formatting it "},
{"id": 25444, "question_id": 2544, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-21T19:45:25Z", "scrap_date": "2024-05-01T00:12:57.821260", "content": "Ahh yep I misread that it was an IAM condition So there are two different concepts here A CloudFormation Condition allows you to optionally create a resource within CloudFormation if certain conditions are met An IAM Condition limits the granted access to resources which meet the given conditions The FnEquals is for the former while ArnLike is for the latter Docs on IAM Conditions are here "},
{"id": 25445, "question_id": 2544, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-21T19:52:28Z", "scrap_date": "2024-05-01T00:12:57.822260", "content": "I figured out what the problem was I was assuming that it was the same as a condition for IAM However this condition is for checking the arn or things like that I found that here I found a way around it thanks for your help"},
{"id": 25446, "question_id": 2544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-26T16:49:18Z", "scrap_date": "2024-05-01T00:12:57.823261", "content": "I ran into the same error because I inappropriately placed the Condition element at the wrong level inside the Properties tag but it should be at the top tag of the Resource "},
{"id": 84422, "question_id": 8442, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T05:35:28Z", "scrap_date": "2024-05-01T00:12:58.594669", "content": "Any update on this "},
{"id": 84423, "question_id": 8442, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-13T06:12:58Z", "scrap_date": "2024-05-01T00:12:58.595670", "content": "Any update on this Up"},
{"id": 84424, "question_id": 8442, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-27T06:56:46Z", "scrap_date": "2024-05-01T00:12:58.595670", "content": "Any update on this Up"},
{"id": 86602, "question_id": 8660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-27T20:34:02Z", "scrap_date": "2024-05-01T00:12:59.481729", "content": "This has been solved with the new version file"},
{"id": 82552, "question_id": 8255, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-20T16:23:42Z", "scrap_date": "2024-05-01T00:13:00.301956", "content": "Hey SwethaM R Slightly off topic but was also struggling a bit with Headless Chrome So ended up using httpswww npmjs compackagechromeawslambda as a lambda layer instead relatively easy to set up and use Instructions available on that page Best F"},
{"id": 82553, "question_id": 8255, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-28T03:31:46Z", "scrap_date": "2024-05-01T00:13:00.303962", "content": "Thanks for the reply I somehow resolved this issue by separating the module exports which was in same js file I will try your solution also and let you know the update "},
{"id": 11962, "question_id": 1196, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-01-31T00:03:42Z", "scrap_date": "2024-05-01T00:13:01.015867", "content": "You can do this by calling another lambda function with the InvocatinoType Event It will invoke the other function without waiting for the response httpdocs aws amazon comAWSJavaScriptSDKlatestAWSLambda htmlinvokeproperty"},
{"id": 11963, "question_id": 1196, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-30T14:56:01Z", "scrap_date": "2024-05-01T00:13:01.016967", "content": "Just in case someone like me is looking for the way to trigger HTTP API method in fire and forget manner You can make nodes native https request and wait for end callback only to make sure the endpoint received you request but without waiting for response Here is an example for zeitnode v2 lambdas"},
{"id": 42052, "question_id": 4205, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T22:03:08Z", "scrap_date": "2024-05-01T00:13:02.100871", "content": "Schedule definition seems to be okay I assume there is something wrong with your handler "},
{"id": 42053, "question_id": 4205, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T11:02:41Z", "scrap_date": "2024-05-01T00:13:02.101872", "content": "Thanks Can you please let me know how to test locally with UTC time "},
{"id": 42054, "question_id": 4205, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-30T08:26:27Z", "scrap_date": "2024-05-01T00:13:02.102872", "content": "Franky Hi Thanks but cron is running when I used for all six options but unable to run with defined UTC time "},
{"id": 42056, "question_id": 4205, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-02T18:42:47Z", "scrap_date": "2024-05-01T00:13:02.102872", "content": "I am having exactly the same issue Cron does not work on a defined time I tested with rate 3 minutes it worked perfectly It also works when I trigger my function making a GET request I checked Cloudwatch logs My function is never called when using CRON Would you know what I else I could do Thanks "},
{"id": 87002, "question_id": 8700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-04T11:25:33Z", "scrap_date": "2024-05-01T00:13:03.189021", "content": "Solved Terminal was invoking globally installed 1 27 3 serverless package Upgrade did the job "},
{"id": 87172, "question_id": 8717, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-07T13:03:48Z", "scrap_date": "2024-05-01T00:13:04.985267", "content": "According to the serverless yml reference there is a name parameter that can be used to name the deployed Lambda Personally I would advise against it as the Serverless Framework stage isnt the same as the API Gateway stage Removing it will prevent you from deploying different stages to the same account later "},
{"id": 87182, "question_id": 8718, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-07T13:11:23Z", "scrap_date": "2024-05-01T00:13:06.022193", "content": "It sounds like you have Serverless installed but an error in your serverless yml file "},
{"id": 86652, "question_id": 8665, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-29T16:01:11Z", "scrap_date": "2024-05-01T00:13:06.891208", "content": "Looks like it is not possible to write a cloud formation template for SNS Platform Application currently so thats why it is not supported in serverless Looks like I have to manually create the application which is kind of a bummer as I was pretty enthusiastic with deploying everything in just a single command "},
{"id": 86653, "question_id": 8665, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-07T12:51:43Z", "scrap_date": "2024-05-01T00:13:06.892208", "content": "It doesnt really help you but I can confirm we had to create the platform application manually once for each platform then we could deploy everything else with Serverless "},
{"id": 86654, "question_id": 8665, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-08T01:13:43Z", "scrap_date": "2024-05-01T00:13:06.893209", "content": "Thank you for sharing I had to do the same and it seems to work so far"},
{"id": 87222, "question_id": 8722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-08T02:55:04Z", "scrap_date": "2024-05-01T00:13:07.624185", "content": "Anyone have some ideas"},
{"id": 62732, "question_id": 6273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T05:22:37Z", "scrap_date": "2024-05-01T00:13:09.194770", "content": "Hi Brorio I got the same issue recently as well I have also tried multiple options 1 Try to upgrade to babel 7 2 Try to upgrade from es2015 to env Both dont work Have you resolved this issue already Thanks "},
{"id": 62733, "question_id": 6273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T14:25:54Z", "scrap_date": "2024-05-01T00:13:09.195770", "content": "I am having a similar problem detailed below What went wrong Babel Migration from 7 x to 8 x Node Migration from 8 x to 10 x What was the config you used Changed targets in babelrc from 8 10 to 10 14 1 Changed runtime in serverless yml from 8 10 to runtime nodejs10 14 1 What stacktrace or error message from your provider did you see Here is what is in my babelrc file Here are my dependencies in my package json What do you think I really want to stay current and use the most recent version of babel if at all possible Does anyone know if serverlesswebpack supports babel v8 yet If so how can I get them to work together considering the above info Thanks "},
{"id": 62734, "question_id": 6273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T15:53:19Z", "scrap_date": "2024-05-01T00:13:09.196770", "content": "My answer to this was to get rid of load in my web pack config files"},
{"id": 80452, "question_id": 8045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-07T00:45:53Z", "scrap_date": "2024-05-01T00:13:10.012447", "content": "Did you ever find an answer to your question"},
{"id": 84932, "question_id": 8493, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T15:29:42Z", "scrap_date": "2024-05-01T00:13:11.122684", "content": "For reference here is the error and my environment info Please note I have checked all the features added since 1 36 3 and none seemed to mention anything that should affect this but I havent tried deploying with the latest version of serverless just yet Im using the latest docker image amaysimserverless1 36 3 "},
{"id": 84933, "question_id": 8493, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-07T09:56:21Z", "scrap_date": "2024-05-01T00:13:11.123686", "content": "I also tried sls deploy force and got the same error "},
{"id": 85162, "question_id": 8516, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-10T03:37:44Z", "scrap_date": "2024-05-01T00:13:12.068659", "content": "I ended up finding the solution here It actually surprises me quite a bit Turns out the clientside shouldnt have AccessControlAllowOrigin That should only be in the Lambda code apparently and adding it to the jQuery code will cause the preflight to fail for some reason Quick update Also Although I found the solution before anybody had a chance to respond I want to say thanks to this community This is the third I think question Ive asked on this board and everyone here has been very friendly welcoming and helpful That hasnt gone unnoticed on my part and Im grateful "},
{"id": 58592, "question_id": 5859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-10T16:33:41Z", "scrap_date": "2024-05-01T00:13:13.048842", "content": "Did you ever figure this out Im just looking for the easiest way to allow my function to be accessible from the internet and to make https requests while being in a VPC "},
{"id": 81122, "question_id": 8112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-03T01:38:32Z", "scrap_date": "2024-05-01T00:13:14.075940", "content": "Try adding callback as a third argument "},
{"id": 81123, "question_id": 8112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-11T06:01:30Z", "scrap_date": "2024-05-01T00:13:14.075940", "content": "Yeah thats a good Idea me and my friends at the law office are having the same problem "},
{"id": 81124, "question_id": 8112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-11T06:02:32Z", "scrap_date": "2024-05-01T00:13:14.076940", "content": "I am from Houston and just moved to Atlanta "},
{"id": 81125, "question_id": 8112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-11T06:03:56Z", "scrap_date": "2024-05-01T00:13:14.077940", "content": "I always have this problem try adding a callback as a third argument That is what my lawyer taught me to do "},
{"id": 37552, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-12T18:40:28Z", "scrap_date": "2024-05-01T00:13:15.255975", "content": "Thanks for your detailed feedback VadorequestSL First of all the Serverless Framework is an opensource softweare and the community plays a big role in maintaining it Secondly the provider integrations are implemented as plugins which are owned and managed by the corresponding provider companies GCF and Azure plugin implementations are not as full featured as the AWS one It is also due to the fact AWS is the most popular cloud provider and that implementation is more developed Having said that I agree we have room for improvement And you can help us improve the docs or help with issues if possible It is opensource after all I therefore spent quite a lot of time trying to mix examples I found with AWS which arent compatible at all with GCP like for instance the handler handler which is rather handler index handler using AWS Not sure if you saw this page but the nuances of the handler and the index js file is documented If you have any suggestions to improve that I can help you with that There are no plugins for Google on the repository either GitHub serverlessplugins Serverless Plugins Extend the Serverless Framework with these community driven plugins or if there are its hard to figure out which ones AWS is the most popular provider and hence most of the community writes plugins for AWS Not much we can do there We will update the plugins page as and when we find any plugins for other providers If you are interested in helping out with a plugin please let me know and I can help Tag the Serverless plugins to make it easier to know for what platform they are compatible with Will work on adding tags in the plugins repo to clarify the cloud provider there is no equivalent of the serverless yml format for GCP Will work on a page that describes serverless yml for other providers There is page for Spotinst since the provider worked with us on the docs If you are interested to help with the definition please let me know An equivalent of Serverless Offline GitHub dheraultserverlessoffline Emulate AWS and API Gateway locally when developing your Serverless project for GCP should be released ASAP It is a community project and you can request the author for a GCP version You can use sls invoke local command to test your code locally but it is not a replacement for the offline plugin Currently Ive reached a point where I believe Serverless is an awesome solution but still to young to be used with GCP and lets be honest GCP is also really young and lack a lot of features which doesnt help Serverless to shine either We agree with your statement That is mostly the reason why the focus has been on AWS As GCF is still in Beta not many people are building on it so there is no community support Also Serverless takes pride by being Provider agnostic but thats just a marketing lie Its true in the sense that its not strongly coupled to any provider and can be used with any but its a lie because you cant just switch to one provider to another without going through huge and deep changes in both your configuration and source code depending on what you do The reason why the framework is provider agnostic is because it providers a standard workflow across providers for developing and deploying your serverless applications e g sls create sls invoke local sls invoke sls deploy The serverless yml preserves commonality in sections but some granular rules are different as they are controlled by the cloud providers Just switching the provider attribute in the serverless yml file to make it work for different providers was never a goal for the framework and is not feasible at the moment But we are working on several things that will help a Universal Function Signatures Will allow you to write your functions in one generic way and will be translated into providers version on deploy b CloudEvents Standardize the event schema between providers so that event communication and passage across providers is easily achievable c Event Gateway A communication hub for events across providers It is API gateway pubsub in one place d Composability via Components Implement a component based architecture for creating composable applications Thank you for your feedback I really appreciate it and I would be glad to help you out I will invite you to our Slack channel Thanks Rupak Ganguly Serverless Inc "},
{"id": 37553, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-13T13:31:38Z", "scrap_date": "2024-05-01T00:13:15.261977", "content": "Hello rupakg and thank you very much for your fast feedback Not sure if you saw this page but the nuances of the handler and the index js file is documented If you have any suggestions to improve that I can help you with that I did see it but its not made obvious enough the differences between google and AWS Because when I ran into other examples in plugins etc I forgot about that index file thing and saw handler index first and alike which eventually confused me until I reread that page later on AWS is the most popular provider and hence most of the community writes plugins for AWS Not much we can do there We will update the plugins page as and when we find any plugins for other providers If you are interested in helping out with a plugin please let me know and I can help Indeed communityleaded Im not interested by writing a plugin right now got stuff to deliver and cant focus on that Will work on adding tags in the plugins repo to clarify the cloud provider Will work on a page that describes serverless yml for other providers Great Thanks We agree with your statement That is mostly the reason why the focus has been on AWS As GCF is still in Beta not many people are building on it so there is no community support I think you should just clarify that GCP is still in beta and doesnt provide as much features as AWS does so that developer dont fall from their expectations Its fine to have a beta version just make it clear Just switching the provider attribute in the serverless yml file to make it work for different providers was never a goal for the framework and is not feasible at the moment Thats what one could understand from provider agnostic I understand its not a trivial thing to do and is probably impossible to reach a 100 crosscompatibility between providers configuration file a Universal Function Signatures Will allow you to write your functions in one generic way and will be translated into providers version on deploy b CloudEvents Standardize the event schema between providers so that event communication and passage across providers is easily achievable c Event Gateway A communication hub for events across providers It is API gateway pubsub in one place d Composability via Components Implement a component based architecture for creating composable applications I have to say I dont really understand what that doesmean One more things I noticed and didnt quite understand and not related to GCPAWS is the signature of the functions Most of the time we see the usual request response but sometimes we see something like request context callback and I didnt understand where that came from is it related to the event gateway I guess I just went through a lot of stuff at once and got confused Thank you again for your detailed answer "},
{"id": 37554, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-14T10:06:57Z", "scrap_date": "2024-05-01T00:13:15.266978", "content": "Hi can you please share any github code to get started with serverless with google cloud functions as I also wish to do this "},
{"id": 37555, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-10T08:31:38Z", "scrap_date": "2024-05-01T00:13:15.266978", "content": "PhilAndrew I totally missed your post sorry I personally switched to AWS since then mostly due to the lack of SLSGCP supportfeatures I therefore havent used SLS with GCP for any real project I kinda hoped the GCP support will increase within the next few months and switch back to GCP later mostly due to the pricing but now that Im using AWS and so many of their tools I doubt Ill have the couragetime to switch over to GCP once everything is in place "},
{"id": 37556, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T14:07:31Z", "scrap_date": "2024-05-01T00:13:15.267979", "content": "Most of the time we see the usual request response but sometimes we see something like request context callback and I didnt understand where that came from is it related to the event gateway I guess I just went through a lot of stuff at once and got confused You will callback in Node js code since it supports callbacks or async requests Most of the statically typed compiled languages like C Java Go will have the request response signature Hope that clarifies it "},
{"id": 37557, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T18:37:32Z", "scrap_date": "2024-05-01T00:13:15.268979", "content": "I actually think the difference was because of the provider most examples were with AWS some with GCP and both may not have the same signature Not 100 sure about it but thats what I eventually figured out if I recall correctly "},
{"id": 37558, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-05T17:46:22Z", "scrap_date": "2024-05-01T00:13:15.269979", "content": "Before I begin Im using serverless on fairly complex app in production using AWS and I have a great experience so far BUT Making serverless work for Google is next to impossible for any non hello world setup Ive wasted a fair amount of time on trying to do so and Im not planning on trying it again Serverless works for any infrastructure as long as you only use AWS "},
{"id": 37559, "question_id": 3755, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-12T09:48:03Z", "scrap_date": "2024-05-01T00:13:15.270974", "content": "Hey AdamZaczek I am planning on integrating Serverless Framework for our GCP CF production environments What issues did you run into when using SF for GCP The documentation seems to be fairly complete and straightforward is it performance errors Regards Adrian"},
{"id": 32872, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-22T18:32:54Z", "scrap_date": "2024-05-01T00:13:16.215217", "content": "What is the point of serverlesspluginstagevariables here"},
{"id": 32873, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-22T20:11:09Z", "scrap_date": "2024-05-01T00:13:16.216218", "content": "serverless framework doest support stage api gateway stage currently so you need the plugin to help"},
{"id": 32874, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-23T18:36:42Z", "scrap_date": "2024-05-01T00:13:16.216218", "content": "Using that just gives me this error Cannot read property stageVariables of undefined Does it just want you to put something empty if you dont want to use it Maybe Im missing something from your post "},
{"id": 32875, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T23:20:10Z", "scrap_date": "2024-05-01T00:13:16.217218", "content": "Add this to serverless yml custom stageVariables env selfprovider stage "},
{"id": 32876, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T01:03:36Z", "scrap_date": "2024-05-01T00:13:16.218218", "content": "Hi Bill Thanks for your docs Im getting this error when I run sls deploy Ive configured the API Gateway CloudWatch ARN installed serverlesspluginstagevariables and added this to resources Resources Any clues"},
{"id": 32877, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-12T02:19:53Z", "scrap_date": "2024-05-01T00:13:16.218218", "content": "Solve this by adding RestApiId "},
{"id": 32878, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T02:52:46Z", "scrap_date": "2024-05-01T00:13:16.219219", "content": "Nice to hear your problem is fixed I didnt have to set RestApiId in my serverless yml but good to know this "},
{"id": 32879, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-04T14:12:25Z", "scrap_date": "2024-05-01T00:13:16.219219", "content": "Hi Bill I am getting the following error Wondering where I can get this deployment ID from My serverless code looks like this"},
{"id": 328710, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-13T17:21:34Z", "scrap_date": "2024-05-01T00:13:16.220219", "content": "I am getting the same error I opened a issue on the plugins github httpsgithub comsvdgraafserverlesspluginstagevariablesissues15 but I am starting to think its not necessarily related to that The deploymentId comes from here httpsgithub comawslabsawsapigatewaysdkjavablobmastersrcmainjavacomamazonawsservicesapigatewaymodelCreateStageInput java "},
{"id": 328711, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T18:40:35Z", "scrap_date": "2024-05-01T00:13:16.221219", "content": "I am having issues getting this working I am a bit new to SLS The error I am getting is An error occurred ApiGatewayStage qa already exists I am adding logging to an existing deployment so the environmentstage does already exist but I am unsure how to let it add to that environmentstage "},
{"id": 328712, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-12T15:24:57Z", "scrap_date": "2024-05-01T00:13:16.222220", "content": "I cant enable CloudWatch logs for API Gateway It doesnt give error but when I check serverless logs I can see somehow logLevel is OFF and tracingEnabled is false This is my serverless file These are the serverless logs Does anyone have an idea why I cant enable CloudWatch logs By the way I have already set a CloudWatch log role ARN in API Gateway settings I just need to enable logging for API Gateway "},
{"id": 328713, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-13T09:08:03Z", "scrap_date": "2024-05-01T00:13:16.223220", "content": "You need to put in the log key in your serverless file as follow It works for me on sls version 1 44 1 However this leads to another problem as the Access Log format seems to be hardcoded in as well I was not able to use my own format so i had to revert back to 1 41 1 which allow me to enable logging and specify my own custom access log format This can be seen at line 177 in the code httpsgithub comserverlessserverlessblob0b53d71a8ff28e51f0080afbe8e0f513bfccb797libpluginsawspackagecompileeventsapiGatewaylibhackupdateStage js Maybe the author can shed some lights as to why the access log format is hardcoded in the code"},
{"id": 328714, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-13T09:40:11Z", "scrap_date": "2024-05-01T00:13:16.224220", "content": "My sls version is 1 44 1 as well I have added the following key under provider However the result is still the same and logs have the following lines as well which I think that it means somehow logging settings are OFF although I say resAPI is true Is there a way I can create API gateway resource with CloudFormation script rather than serverless creation Because even if I manage to enable logs I need to enable caching and access logging as well "},
{"id": 328715, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-13T14:33:41Z", "scrap_date": "2024-05-01T00:13:16.225221", "content": "Try downgrading to serverless 1 41 1 able to configure cloud watch logs and access logs"},
{"id": 328716, "question_id": 3287, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-13T15:48:37Z", "scrap_date": "2024-05-01T00:13:16.225221", "content": "I have tried with 1 41 1 and it didnt work and then I have installed the latest version 1 45 1 and tried again It didnt work and it gave the following error message Rest API could not be resolved This might be casued by a custom API Gateway setup With you current setup stage specific configurations such as tracing logs and tags are not supportedPlease update your configuration or open up an issue if you feel that there is a way to support your setup By the way there is a spelling mistake in the error message casued should be replaced with caused I have deleted the whole stack and tried again and finally it worked with the following key Thanks for helping me out "},
{"id": 27122, "question_id": 2712, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T12:57:39Z", "scrap_date": "2024-05-01T00:13:17.219134", "content": "Im not familiar with this particular resource but in general you can use unlisted resources "},
{"id": 27123, "question_id": 2712, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-17T20:09:17Z", "scrap_date": "2024-05-01T00:13:17.220135", "content": "Yep its just CloudFormation so put in the resources section If youre looking to filter your Lambda functions logs youll need to work out their resource names from the docs "},
{"id": 27124, "question_id": 2712, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-19T14:40:56Z", "scrap_date": "2024-05-01T00:13:17.221135", "content": "Thanks buggy and rowanu For reference this works Sadly CloudFormation doesnt allow setting DefaultValue 0 0 under MetricTransformations but thats not Serverless fault Cheers Brian "},
{"id": 85532, "question_id": 8553, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-14T10:55:59Z", "scrap_date": "2024-05-01T00:13:18.025171", "content": "I have found the answer in the CloudFormation console In the Events tab there is a list of resources including with my metric filter creation attempt and I can see the Logical ID of REST API log group is ApiLogGroup I have changed my metric filter as follows and it worked Another nice thing I have noticed is if one of the properties using Ref Logical ID notation there is no need to use DependOn option The resource is created depending on the reference This nice feature is explained in CloudFormation documentation"},
{"id": 83542, "question_id": 8354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-08T09:16:38Z", "scrap_date": "2024-05-01T00:13:18.981055", "content": "We use the serverless offline application and also run dynamodb locally It works surprisingly well We also rely much on unit tests to prove that our Lambdas work as expected We use mocking in python to mock specific parts of the code so that our unit tests can be run locally For integration tests we dont run them in the code pipeline GitLab CICD because we dont have dynamodb installed there but we might arrange that later we only run unit tests in the pipeline But locally we also run integration tests that actually connect to DynamoDB locally Actually it works even better than I expected "},
{"id": 83543, "question_id": 8354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-08T21:40:48Z", "scrap_date": "2024-05-01T00:13:18.982055", "content": "Thanks for reply I tried to dig the topic a bit further and this post is a result of it might be useful for someone httpwww piotrnowicki com201906awstestingserverlessapplication montao I wonder you mention that it works better than I expected or surprisingly well Do you mean the serverlessoffline or the dynamodb local instance Can you elaborate a bit on it Thanks in advance "},
{"id": 83544, "question_id": 8354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-16T07:23:00Z", "scrap_date": "2024-05-01T00:13:18.983055", "content": "Yes Since there is no official development server for Serverless Framework I did not expect the sls offline to work very well but it did So we can write and run both unit tests and integration tests locally and in our GitLab code pipeline I thought that the environment of AWS Lambda was too complex to reproduce locally and that a community effort could not do it But it works And it is a big difference for trying out small changes locally instead of the alternative of deploying and debugging the Lambda functions in the AWS cloud "},
{"id": 85132, "question_id": 8513, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-16T19:22:40Z", "scrap_date": "2024-05-01T00:13:20.084114", "content": "Hi if Im not mistaken API gateway has a 30 seconds timeout limit So I think you have a few options"},
{"id": 85592, "question_id": 8559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-18T21:21:04Z", "scrap_date": "2024-05-01T00:13:20.974454", "content": "You should be able to specify the ARN of the authorizer you created in TerraForm using the arn param withing the authorizer config authorizer arn arnawslambda selfprovider region selfcustom environment selfcustom stage awsAccountId function selfprovider stackTags product internal selfcustom stage "},
{"id": 62262, "question_id": 6226, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-26T02:53:34Z", "scrap_date": "2024-05-01T00:13:21.936436", "content": "Ok looks like Ive got the answer thanks to staff at cloudflare pointing it out to me Just closing it off here for anyone else that hits this Looks like if I use a newer version of node eg v10 x serverless deploy runs here without seeing this explosion from the serverlesscloudflareworkers plugin I guess the required node version over here on the quickstart guide might need to be bumped up a bit Cheers "},
{"id": 62263, "question_id": 6226, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-20T21:31:51Z", "scrap_date": "2024-05-01T00:13:21.937437", "content": "Thank you for this Was getting the same error with Node version 6 17 1 Using v10 x fixed it Cheers "},
{"id": 62264, "question_id": 6226, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T06:40:49Z", "scrap_date": "2024-05-01T00:13:21.938437", "content": "Will be updating that requirement Appreciate your input to make our docs better Thanks "},
{"id": 85352, "question_id": 8535, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T10:54:11Z", "scrap_date": "2024-05-01T00:13:23.029772", "content": "CloudFormation can have issues when resource created by it are manually deleted There are generally two strategies for fixing this Manually recreate the resource This only works for some resources and I thought S3 was one of them Completely delete the resource from your CloudFormation config deploy so CloudFormation removes it from the stack add it back to the config and deploy so CloudFormation creates it again If this wasnt the deployment bucket that would be really easy You can probably fix its going to be complicated lots of packaging modifying templates and manual deployments I dont suppose you can just delete the stack and create a new one"},
{"id": 85682, "question_id": 8568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T12:58:35Z", "scrap_date": "2024-05-01T00:13:24.088455", "content": "Youd probably need to post a MCVE e g a serverless yml and related source file s for anyone to debug this Definitely seems odd "},
{"id": 83022, "question_id": 8302, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-18T06:45:24Z", "scrap_date": "2024-05-01T00:13:26.007674", "content": "It already does Just set runtime nodejs10 x in your serverless yml "},
{"id": 83023, "question_id": 8302, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-18T07:44:30Z", "scrap_date": "2024-05-01T00:13:26.008674", "content": "In my case I could indeed just change runtime from nodejs8 10 to nodejs10 x deploy it to AWS and it worked the first time I then started wondering which exact version of node 10 is running on AWS Lambda I temporarily added an endpoint to my serverless app returning the content of process env and the result is this on 18th of May 2019 an aws lambda running node10 x on useast1 was using node 10 15 3 This is important if you are using javascript features not yet supported even by node 10 and you want to optimize babel compiling the backend code by telling the target node version"},
{"id": 83024, "question_id": 8302, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-19T11:08:24Z", "scrap_date": "2024-05-01T00:13:26.009674", "content": "giorgiozamparelli Unlike the previous Node runtimes AWS plans to keep it up to date with latest release version See the AWS release blog post Starting with Node 10 AWS Lambda will also automatically update the language minor versions to latest minor version as specified by GitHub nodejsRelease Node js Release Working Group"},
{"id": 55312, "question_id": 5531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-18T20:13:10Z", "scrap_date": "2024-05-01T00:13:26.809598", "content": "I am having an API stage tag issue in the backend coding of the hp customer support and I am clueless at this point of time What should I do get more idea on it "},
{"id": 55313, "question_id": 5531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-21T21:01:26Z", "scrap_date": "2024-05-01T00:13:26.809598", "content": "I have the same issue the documentation states that stackTags to apply to API gateway The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more yet this does not show up in the console I am using sls version 1 43 0 Seems this is still a bug I can see a merge but its not working This is a Feature Proposal Description On AWS tags are commonly used for logically associating resources with each other and simplifying billing Amazons API Gateway stages support tags now However those do not seem to be populated by Serverless yet [image] httpsuserimages githubusercontent com154822934832452e0f42dc4f69e11e78b9124ed871202d6 png Serverless already supports tags for Lambda functions as well as a stackwide tags `stackTags` As an API Gateway stage can only have one set of tags I suggest to automatically assign the `stackTags` to the API Gateway stages during deployment "},
{"id": 83362, "question_id": 8336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-21T22:15:29Z", "scrap_date": "2024-05-01T00:13:27.751894", "content": "Hi have you checked if serverlessapigwbinary added necessary binary types I would recommend to open your gateway console and take a look httpstake msOXzz7 can be useful as well httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewaypayloadencodings html"},
{"id": 83363, "question_id": 8336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-22T11:13:55Z", "scrap_date": "2024-05-01T00:13:27.752893", "content": "Hi Yes Checked There was missing binary types Specifically applicationxwwwformurlencoded Now it seems to work Thanks "},
{"id": 77922, "question_id": 7792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T04:22:30Z", "scrap_date": "2024-05-01T00:13:28.775912", "content": "hi do you manage to solve this problem I am currently having the same issue "},
{"id": 83842, "question_id": 8384, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T06:33:01Z", "scrap_date": "2024-05-01T00:13:29.551784", "content": "Since things seem to work via Postman but no via browser based fetch it seems like a CORS issue What seems to be missing is the AccessControlAllowCredentials header being allowed That may be whats causing your issue "},
{"id": 83822, "question_id": 8382, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T14:09:21Z", "scrap_date": "2024-05-01T00:13:30.499104", "content": "This may be a simpler solution in serverless yml Hope it helps "},
{"id": 83722, "question_id": 8372, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-27T16:54:00Z", "scrap_date": "2024-05-01T00:13:31.370149", "content": "Hi it seems to me that you need to change a little bit your uploadNotes s3 upload is async but you dont wait for a result try this one"},
{"id": 83723, "question_id": 8372, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-28T06:36:34Z", "scrap_date": "2024-05-01T00:13:31.371149", "content": "Your upload notes function calls the S3 upload function asynchronously but you exit the function before waiting for the result which is what is causing your issue "},
{"id": 83724, "question_id": 8372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T13:08:27Z", "scrap_date": "2024-05-01T00:13:31.372149", "content": "Thanks That did the trick I had tried adding await keyword in front of the s3 upload but I added async in front of the function calling it instead of adding promise at the end Im still trying to wrap my mind around promises Im still not getting any of the log output that I put in s3 upload call but I assume thats because its still wrapped in the promise somehow The file notes csv shows up in the s3 bucket though which is what I want it to do so thanks "},
{"id": 83725, "question_id": 8372, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-28T14:29:57Z", "scrap_date": "2024-05-01T00:13:31.373149", "content": "Hi Im glad you have fixed your code If you want to see s3 upload function happening here when s3 finishes uploading your file just add it after await s3 upload you dont need a callback anymore "},
{"id": 83802, "question_id": 8380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T06:26:06Z", "scrap_date": "2024-05-01T00:13:32.355545", "content": "The usual way to create a custom authorizer is to just create a function you want to act as your authorizer which it sounds like you already have but add no event to it Then when you have a fun ction you want to make use of the custom authorizer just pass the name of that authorizer function you created previously and API Gateway will automatically use your custom authorizer Theres an example config at httpsserverless comframeworkdocsprovidersawseventsapigatewayhttpendpointswithcustomauthorizers Hope that helps"},
{"id": 83803, "question_id": 8380, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-28T20:38:08Z", "scrap_date": "2024-05-01T00:13:32.357546", "content": "Thanks Yes I tried that initially but it kept barfing about some of the params I was setting as I needed typerequest and identitySources etc etc So then I took the approach of creating an authorizer via CF and was hoping to simply reference it but the docs dont really tell you how I since retried defining the authorizer within the function much like your example and it works fine FYI This morning I spotted this httpsgithub comserverlessserverlessissues6125 which proves you could actually reference an authorizer previously created in CF Cheers for helping out "},
{"id": 45962, "question_id": 4596, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-29T23:39:32Z", "scrap_date": "2024-05-01T00:13:33.413964", "content": "I am also facing the same issue even now Can anyone help I see that the function created is on Windows and not Linux this supports Python Is there any variable which can be specified in serverless yml to create a linux based functions app "},
{"id": 84052, "question_id": 8405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-29T16:19:06Z", "scrap_date": "2024-05-01T00:13:34.434218", "content": "The Serverless framework is meant to help you build cloud based Serverless applications using a multitude of cloud managed services in way that does not require you to manage the infrastructure externally from service you are building In other words when you build a Serverless service the entire service including the configuration and code is encapsulated and you can deploy it with a single command to the cloud and remove it again You can commit it to source control and other developers can edit and improve on it State of infrastructure is maintained every time you redeploy after changes have been made Without some method to assist you in deploying and maintaining the cloud infrastructure you need it very quickly becomes messy or requires additional expertise to manage those resources But because with the Serverless framework the infrastructure the code needs is defined with the code itself it simplifies the entire process massively "},
{"id": 84053, "question_id": 8405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-30T08:09:01Z", "scrap_date": "2024-05-01T00:13:34.436218", "content": "Many thanks Hence i understand the overall function package is cloud dependent although the part specific to the infrastructure is managed by the framework by means of plugins Am i right That said around the framework one can build a neutral environment which allows code to be quickly rebuilt to port function packages to other supported cloud right thanks"},
{"id": 83532, "question_id": 8353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-23T20:12:39Z", "scrap_date": "2024-05-01T00:13:35.362227", "content": "Hi I would try to take a look at your cloudformation you can find it in your aws console it should have a stack with your resources created by serverless framework you can open labda console as well Maybe you have a few aws accounts and serverless deploys to another one "},
{"id": 83533, "question_id": 8353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-31T00:29:29Z", "scrap_date": "2024-05-01T00:13:35.363227", "content": "Theres nothing in my CloudFormation page It says Stacks 0 Theres also nothing in the Lambda page It has a Get Started page I also have working Node js functions and those arent listed there either "},
{"id": 83534, "question_id": 8353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-31T01:07:44Z", "scrap_date": "2024-05-01T00:13:35.364227", "content": "Okay part of this mystery is solved The Stacks 0 and nothing listed in the Lambda page is because Im apparently working on two different servers which I suppose is pretty similar to what you said though theyre not two different accounts Im not 100 sure how that happened but noticing the droplist in the upperright corner just resolved a lot of confusion for me I never expected that I still havent got the C working but my superiors informed me that theyd rather do Node js instead Ill leave this here in case anybody else wants to comment for people in the future coming by this post Update And I just realized thats why nothing was listed in the API Gateway page either so I suppose this is solved Update 2 I forgot to say thanks to Moro Thanks Moro "},
{"id": 83535, "question_id": 8353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-31T07:46:31Z", "scrap_date": "2024-05-01T00:13:35.365228", "content": "Hi no problem happy to help If Im not mistaken you have different regions for different users thats why you couldnt see any stacks API gateway configs right As for C cant help you because I work just with Node js hope somebody will write how to fix your C deployment p s I would recommend adding a region to your local awsconfig otherwise you will have the same problem in the future its easy to leave some resources in a different region"},
{"id": 13152, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T21:49:44Z", "scrap_date": "2024-05-01T00:13:36.432298", "content": "What does your serverless yml look like"},
{"id": 13153, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T13:40:34Z", "scrap_date": "2024-05-01T00:13:36.432298", "content": ""},
{"id": 13154, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T13:42:01Z", "scrap_date": "2024-05-01T00:13:36.433298", "content": "Lets say if I remove one of the schedules and try to deploy again Ill get the same error that the schedule already exists in the stack This is really weird"},
{"id": 13155, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T21:59:56Z", "scrap_date": "2024-05-01T00:13:36.433298", "content": "Hmmm yeah everything looks ok in serverless yml Looks like a potential issue with cloudformation not recognizing one of the schedule events is removed Can you file this as an issue on httpsgithub comserverlessserverlessissues In the meantime if you sls remove the entire stack and then try and sls deploy it should tear everything down and start over from scratch"},
{"id": 13156, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T22:29:00Z", "scrap_date": "2024-05-01T00:13:36.434298", "content": "Alright Ill file this issue For the time being Ive been using sls remove and sls deploy The only stuff that Ive got to do manually is to attach the KMS encryption key to the lambda function role"},
{"id": 13157, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-19T15:23:07Z", "scrap_date": "2024-05-01T00:13:36.435299", "content": "We found today that it happens when order of schedules changes because you removed or added a rule"},
{"id": 13158, "question_id": 1315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-02T07:20:38Z", "scrap_date": "2024-05-01T00:13:36.435299", "content": "any idea what is the solution of this problem if i remove it will work but how we can fix in yml file "},
{"id": 83682, "question_id": 8368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-27T17:02:17Z", "scrap_date": "2024-05-01T00:13:37.517517", "content": "Hi I dont work with go but it seems to me that you need to have a single entry point instead of a single binary What I mean is that you need to have a path and an internal router You can also take a look at plugins like this httpsgithub comFidelLimitedserverlesspluginwarmup good luck "},
{"id": 83683, "question_id": 8368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-27T20:25:35Z", "scrap_date": "2024-05-01T00:13:37.518517", "content": "Hi I dont work with go but it seems to me that you need to have a single entry point instead of a single binary Hi Moro Awesome Yeah were both talking about the same thing having a single binary would as you say be a single entry point that then uses internal routing to determine the handler I ran some load testing against a couple of test scenarios and having the single entry point most definitely yielded the result I eluded to in my original post You can also take a look at plugins like this GitHub juanjoDiazserverlesspluginwarmup Keep your lambdas warm during winter good luck Ill take a look thanks for the help I appreciate it "},
{"id": 83684, "question_id": 8368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-02T08:16:31Z", "scrap_date": "2024-05-01T00:13:37.519517", "content": "If youre using Aurora Serverless have you though about setting the minimum capacity to 1 so that it keeps the cluster running and using the data API so your Lambda can run outside the VPC"},
{"id": 83685, "question_id": 8368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-02T08:44:44Z", "scrap_date": "2024-05-01T00:13:37.520518", "content": "If youre using Aurora Serverless have you though about setting the minimum capacity to 1 so that it keeps the cluster running and using the data API so your Lambda can run outside the VPC Nope and nope but this sounds very interesting If youre using Aurora Serverless have you though about setting the minimum capacity to 1 so that it keeps the cluster running Hm so Im using CloudFormation to build the infrastructure I assume youre referring to ScalingConfiguration Valid for Aurora DB clusters only How does this impact the running costs Would this not consume the same resource as a nonserverless RDS instance and using the data API so your Lambda can run outside the VPC By using the Data API for Aurora Serverless v1 you can work with a webservices interface to your Aurora Serverless v1 DB cluster The Data API does not require a persistent connection to the DB cluster Instead it provides a secure HTTP endpoint Wow this looks really useful Ill have a read through the documentation So tldr it basically creates a http service for the RDS instance Thanks for this its super helpful "},
{"id": 83686, "question_id": 8368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-02T23:15:48Z", "scrap_date": "2024-05-01T00:13:37.522513", "content": "How does this impact the running costs Would this not consume the same resource as a nonserverless RDS instance Financially it would be like running an instance all the time It would still scale up and down to 1 but there would always be something running which should fix the cold start time I cant help with the Cloud Formation because I dont use RDS anymore "},
{"id": 11272, "question_id": 1127, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-01T18:11:43Z", "scrap_date": "2024-05-01T00:13:38.227566", "content": "Yes It appears to be the case for me as well If that is so yet to be confirmed then the question is why the authorizer configuration set at endpoint level when it really should be at api level "},
{"id": 11273, "question_id": 1127, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-15T03:39:50Z", "scrap_date": "2024-05-01T00:13:38.228567", "content": "Im running into this same situation Is there a way to do this globally I dont see an answer in the docs to add resultTtlInSeconds to the authorizer function just the expanded object per method "},
{"id": 11274, "question_id": 1127, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T16:52:03Z", "scrap_date": "2024-05-01T00:13:38.228567", "content": "I did this with custom variables and apply it to all event methods "},
{"id": 11275, "question_id": 1127, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-20T20:04:32Z", "scrap_date": "2024-05-01T00:13:38.229567", "content": "Same issue here I have a custom authorizer defined with a cache setting of 3600 seconds in API Gateway Do I also need to specify the resultTtlInSeconds for every serverless function that uses that authorizer"},
{"id": 11276, "question_id": 1127, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-03T18:36:13Z", "scrap_date": "2024-05-01T00:13:38.230567", "content": "You can override the authorizer resource that gets created for your authorizer function See the docs for how to Override AWS CloudFormation Resource "},
{"id": 84742, "question_id": 8474, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-05T09:57:04Z", "scrap_date": "2024-05-01T00:13:40.356843", "content": "Reason found I defined the path as testcommand so that was also the value of service in serverless yml which caused it to fail "},
{"id": 81722, "question_id": 8172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-05T16:21:30Z", "scrap_date": "2024-05-01T00:13:42.281726", "content": "Maybe start with s3 to make sure your code works Also post your complete serverless yml so it is easier to pinpoint where it goes wrong "},
{"id": 81723, "question_id": 8172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-06T21:59:58Z", "scrap_date": "2024-05-01T00:13:42.282726", "content": "Hi there Thanks for your answer Here are my full serverless yml service myexpressapplication provider name aws iamRoleStatements Effect Allow Action s3PutObject s3DeleteObject s3DeleteObjects s3GetObject Resource arnawss3AAAAAAAA runtime nodejs8 10 stage dev region useast1 profile serverlessadmin functions app handler index handler events http ANY http ANY proxy My function is const serverless require serverlesshttp const express require express const app express const AWS require awssdk const s3 new AWS S3 app get function req res var params Bucket AAAA s3 getBucketPolicyStatus params function err data if err console log err err stack an error occurred else console log data successful response module exports handler serverless app But it does not work "},
{"id": 81724, "question_id": 8172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-07T18:44:35Z", "scrap_date": "2024-05-01T00:13:42.284726", "content": "Hi if you call s3 getBucketPolicy you need to have the s3GetBucketPolicyStatus permission httpsdocs aws amazon comAmazonS3latestAPIRESTBucketGETPolicyStatus html As for logs what error did you get"},
{"id": 81512, "question_id": 8151, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-08T17:34:38Z", "scrap_date": "2024-05-01T00:13:43.318609", "content": "Not sure if theres a way to set a default but you could create a statusCodes variable in the custom section and assign your constant object to it Then you would only need to reference the custom variable each time rather than the whole object "},
{"id": 81702, "question_id": 8170, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-08T20:09:22Z", "scrap_date": "2024-05-01T00:13:43.798098", "content": "Please share part of serverless yml customDomain Do you get anything in output for Serverless Domain Manager Summary"},
{"id": 82252, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T19:33:58Z", "scrap_date": "2024-05-01T00:13:44.742707", "content": "Hi can you provide the whole function"},
{"id": 82253, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T20:04:03Z", "scrap_date": "2024-05-01T00:13:44.743458", "content": "export async function reg event context try console log awaiting on createUserPool let myResult await createUserPool hardcodedtenantid1context if myResult console log myResult return success myResult else console log nope return failure status false catch e console log exception calling createUserPool console error e return failure status false Create a new User Pool for a new tenant param tenantId The ID of the new tenant param callback Callback with created tenant results function createUserPool tenantIdcontext console log invokedFunctionArncontext invokedFunctionArn const functionArnCols context invokedFunctionArn split const region functionArnCols[3] const accountId functionArnCols[4] var promise new Promise function resolve reject return promise "},
{"id": 82254, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T20:06:03Z", "scrap_date": "2024-05-01T00:13:44.745036", "content": "Running offline I now see that I have this error But I dont see that online Role arn does not belong to your account Online just reports that the function timed out in 6 seconds "},
{"id": 82255, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T20:30:25Z", "scrap_date": "2024-05-01T00:13:44.745459", "content": "What about your console logerror calls Have seen any logs"},
{"id": 82256, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T20:33:49Z", "scrap_date": "2024-05-01T00:13:44.746459", "content": "Thats an interesting point also The logs in the promise callbacks or after the return of await do not show up anywhere in CloudWatch when running online Offline they work fine in the terminal where Im running serverless Thats where I see message Role arn does not belong to your account code NotAuthorizedException"},
{"id": 82257, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T20:36:29Z", "scrap_date": "2024-05-01T00:13:44.746459", "content": "I feel I need to fix my serverless yml to set the correct authorization but I cant find what I need to have there iamRoleStatements Effect Allow Action ec2CreateNetworkInterface ec2DescribeNetworkInterfaces ec2DeleteNetworkInterface cognitoidentityCreateIdentityPool"},
{"id": 82258, "question_id": 8225, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T20:55:07Z", "scrap_date": "2024-05-01T00:13:44.747454", "content": "interesting I would try to move try to the top of the promise part right before init the service provider and email message content add a few more console log before each new AWS "},
{"id": 35342, "question_id": 3534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-11T12:38:51Z", "scrap_date": "2024-05-01T00:13:45.749270", "content": "Hiya As this problem be solved because I am facing a similar issue I have an external python package that I can install in my virtual env which is then appearing in my requirements txt file but I would needd somehow to have this package transfered so that it can be reinstalled on the server side Here is my error message Could not find a version that satisfies the requirement ncapiclient0 0 5 from r vartaskrequirements txt line 14 from versions No matching distribution found for ncapiclient0 0 5 from r vartaskrequirements txt line 14 "},
{"id": 82242, "question_id": 8224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T18:52:53Z", "scrap_date": "2024-05-01T00:13:46.629982", "content": "Hi have you added an indentation before MyNewBucket"},
{"id": 82243, "question_id": 8224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T19:39:13Z", "scrap_date": "2024-05-01T00:13:46.630982", "content": "Yep that was a typo on my part there are no errors when I deploy validation or otherwise "},
{"id": 82244, "question_id": 8224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T19:56:22Z", "scrap_date": "2024-05-01T00:13:46.631982", "content": "I would recommend to check a cloudformation page there you can find your stack and check events At least you will see when the stack has been updated the last time "},
{"id": 82245, "question_id": 8224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-12T12:08:00Z", "scrap_date": "2024-05-01T00:13:46.631982", "content": "The issue was an extra space before resources which was also propogated down the section "},
{"id": 24052, "question_id": 2405, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-02T18:26:57Z", "scrap_date": "2024-05-01T00:13:47.501995", "content": "Youre close I had the same issue when trying to set up a passthrough to CloudSearch tracked it down to using the following format I did and still do have one other problem in that while the api gateway handles receipt of the query string params now it doesnt automatically add them to the CloudFormation file To get around that I do sls package p foo s stage Update the fooserverlessstate json file to add the following Then sls deploy p foo s stage Bit of a nuisance but at the time I wasnt able to find another way around it Hope it helps "},
{"id": 24053, "question_id": 2405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T10:13:27Z", "scrap_date": "2024-05-01T00:13:47.503996", "content": "Hi I am struck in similar situation but on POST I want to assign a model to request body But I dont know how to define the same in yml file I am trying the following Can you please let me know how the yml should be defined Thanks Satheesh"},
{"id": 24054, "question_id": 2405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T13:48:58Z", "scrap_date": "2024-05-01T00:13:47.504996", "content": "Hi On to my future investigation and googling through I found Serverless AWS Documentation plugin which helps in deploying model definition from yml as well as documentation You can find the more on there serverlessawsdocumentation Serverless 1 0 plugin to add documentation and models to the serverless generated API Gateway Thanks Satheesh"},
{"id": 24055, "question_id": 2405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-13T13:20:11Z", "scrap_date": "2024-05-01T00:13:47.505997", "content": "To achieve programmatic setting of the integration request header I had to package the code using serverless then use a python script to manually set the hard coded value within the cloudformation then use serverless to deploy the updated package Thread here"},
{"id": 82382, "question_id": 8238, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-13T15:48:49Z", "scrap_date": "2024-05-01T00:13:48.062249", "content": "Hi have you tried to use role GetAtt rvsHealthCheckRole Arn instead of role rvsHealthCheckRole I can be wrong but it seems to me that you need to pass an arn "},
{"id": 82383, "question_id": 8238, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-14T01:00:47Z", "scrap_date": "2024-05-01T00:13:48.063249", "content": "Yep trying that now Lets see how it goes Thanks "},
{"id": 81332, "question_id": 8133, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-05T18:07:04Z", "scrap_date": "2024-05-01T00:13:49.117690", "content": "What types of files Binary files e g ZIP are not working using the Node js if thats what you have SDK I switched to this one httpsgithub comAutomatticknox That works for both ZIP and JAR files for me "},
{"id": 81333, "question_id": 8133, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-14T04:53:33Z", "scrap_date": "2024-05-01T00:13:49.118691", "content": "files We are using CSV files and excel "},
{"id": 82183, "question_id": 8218, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-10T21:35:51Z", "scrap_date": "2024-05-01T00:13:50.236686", "content": "Enabling access logs for API Gateway via the Serverless Framework is a welcome addition However it would be great if the access logs expiration could respect the providerlevel logRetentionInDays setting which doesnt seem to work with logs restApi true simplified to one line here added to the provider section of the serverless yaml file "},
{"id": 82662, "question_id": 8266, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-15T16:13:43Z", "scrap_date": "2024-05-01T00:13:51.398290", "content": "I figured this out It was an http timeout occurring from within the AWS client The solution is to set AWS_CLIENT_TIMEOUT environment variable AWS_CLIENT_TIMEOUT360000 serverless invoke l t s dev f lambdaa p mydata yml This sets the httpOptions timeout configuration for the AWS SDK "},
{"id": 82782, "question_id": 8278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-15T20:00:08Z", "scrap_date": "2024-05-01T00:13:52.454350", "content": "Hi if Im not mistaken right now serverless has native support for this feature httpsgithub comserverlessserverlessissues4661 httpsgithub comserverlessserverlesspull6000 Is this what you need"},
{"id": 82784, "question_id": 8278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-16T12:39:22Z", "scrap_date": "2024-05-01T00:13:52.456350", "content": "Thank you It works Just for reference without plugin and with the following syntax"},
{"id": 82785, "question_id": 8278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-16T12:54:48Z", "scrap_date": "2024-05-01T00:13:52.456350", "content": "Cool thank you for letting me know I havent used it before but it always good to know as much as possible"},
{"id": 82982, "question_id": 8298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-16T18:23:44Z", "scrap_date": "2024-05-01T00:13:53.548624", "content": "Apologies for poor formatting first post "},
{"id": 5212, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T13:01:02Z", "scrap_date": "2024-05-01T00:13:54.545526", "content": "Does that code work on your local system as well Here is also the guide for it httpdocs aws amazon comlambdalatestdgvpcrds html You might need to put the functions into a VPC httpsserverless comframeworkdocsprovidersawsvpc"},
{"id": 5213, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:31:10Z", "scrap_date": "2024-05-01T00:13:54.546526", "content": "thanks for reply flomotlik if i am use it on local without serverless it work fine so i need vpc to work with RDS and just add this vpc securityGroupIds securityGroupId1 securityGroupId2 subnetIds subnetId1 subnetId2 but is serverless v1 not support nodeModule "},
{"id": 5214, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:53:13Z", "scrap_date": "2024-05-01T00:13:54.547521", "content": "If you can connect from your local system into RDS then it should be working from the lambda as well I think We do support any database or pretty much any service that AWS provides and also node_modules Basically if it works in NodeJS it should work in Lambda with Serverless "},
{"id": 5215, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T19:33:58Z", "scrap_date": "2024-05-01T00:13:54.548521", "content": "so serverless already support it so if i not wanna use vpc i can still use RDS right is it something i must include on yml file to getting node_module "},
{"id": 5216, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T02:31:10Z", "scrap_date": "2024-05-01T00:13:54.549522", "content": "frengkys There are a few of places this could be going wrong Id start by making sure you have a working Lambda function that at least attempts to create a connection console log and the CloudWatch logs will help you Also see httpsaws amazon comblogsawsnewaccessresourcesinavpcfromyourlambdafunctions for information on running Lambda functions inside your VPC Youll need to do that unless your database port is open to the world a bad idea If youre still stuck then please post your entire Lambda function here The code youve posted so far wont run on its own "},
{"id": 5217, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T05:31:51Z", "scrap_date": "2024-05-01T00:13:54.550522", "content": "hiiii thanks for replying this is my code and the output is statusCode500body errorMessageProcess exited before completing request and yml is like this"},
{"id": 5218, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T11:25:22Z", "scrap_date": "2024-05-01T00:13:54.550522", "content": "What does the cloud watch log say It should contain more information about the error "},
{"id": 5219, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T11:51:17Z", "scrap_date": "2024-05-01T00:13:54.551523", "content": "sorry but how can i use cloud watch log on serverless"},
{"id": 52110, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T12:21:11Z", "scrap_date": "2024-05-01T00:13:54.551523", "content": "I guess you should close the connection using con destroy before calling context succeed but the log in CloudWatch should tell you more Locate the function in aws console go to Monitoring tab and follow link View logs in CloudWatch"},
{"id": 52111, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T08:49:38Z", "scrap_date": "2024-05-01T00:13:54.552523", "content": "i dont know why but the sql wont connect the error went gone but the sql wont connected this is my code now buggy flomotlik JakubMatejka"},
{"id": 52112, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:11:50Z", "scrap_date": "2024-05-01T00:13:54.553523", "content": "And what do the logs say BTW regarding your RDS setup do you have it publicly accessible"},
{"id": 52113, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:14:28Z", "scrap_date": "2024-05-01T00:13:54.553523", "content": "there is nothing on the logs seriously it should be Error connect to DB or DB is connected right but none of them shown "},
{"id": 52114, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:15:13Z", "scrap_date": "2024-05-01T00:13:54.554524", "content": "but the pre and post logs is shown"},
{"id": 52115, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:36:44Z", "scrap_date": "2024-05-01T00:13:54.555524", "content": "and publicly accessible is already yes"},
{"id": 52116, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:41:50Z", "scrap_date": "2024-05-01T00:13:54.555524", "content": "it should be Error connect to DB or DB is connected right You database connection code is outside of the Lambda function handler I wouldnt assume that its being run every time the Lambda is called Try moving the const con mysql createConnection and con connect inside the Lambda handler function so that you know its actually being run "},
{"id": 52117, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:46:22Z", "scrap_date": "2024-05-01T00:13:54.556524", "content": "Yes the container could have been reused which means that the code outside of module exports handler wasnt run again httpsaws amazon comblogscomputecontainerreuseinlambda Second thing is that console log of the error wont be called at all because you throw the error before right"},
{"id": 52118, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T09:57:53Z", "scrap_date": "2024-05-01T00:13:54.557524", "content": "use strict module exports send event context callback const mysql require mysql const con mysql createConnection host xxxxxxxxxxxxxxx user xxxxxxxxx password xxxxxxxxxxx database xxxxxxx con connect function err if err console log Error connect to DB return console log DB is connected var data event body json_data console log pre con query SELECT 1 1 AS solution function err rows fields if err throw err console log post var temp name frengky var query con query INSERT INTO temp SET tempfunction errres if err throw err console log query sql con end const response statusCode 200 body JSON stringify id data id context succeed response module exports ping event context callback const response statusCode 200 body JSON stringify message ping handler called context succeed response the logs still isnt say anything except pre and post log oh and console log query sql but the logs that say Mysql is connected or not isnt shown buggy JakubMatejka"},
{"id": 52119, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T10:01:29Z", "scrap_date": "2024-05-01T00:13:54.559525", "content": "service mytest provider name aws runtime nodejs4 3 stage dev region apsoutheast2 functions sendData handler handler send memorySize 128 timeout 10 events http method POST path send integration lambda cors true response headers AccessControlAllowOrigin ping handler handler ping memorySize 128 timeout 10 events http method GET path ping resources Resources AWSLambdaVPCAccessExecutionRole Type AWSIAMManagedPolicy Properties Description Policy for allowing vpc connection Roles"},
{"id": 52120, "question_id": 521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T10:03:47Z", "scrap_date": "2024-05-01T00:13:54.562526", "content": "or are there something forgotten on my yml file buggy JakubMatejka flomotlik"},
{"id": 58802, "question_id": 5880, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2018-09-19T17:21:00Z", "scrap_date": "2024-05-01T00:13:55.290550", "content": "I figured this out thanks to an answer in another forum and reading the docs more closely In case anyone else comes across this later there is the solution In your main handler you can provide a function that modifies the request object and has the event context provided "},
{"id": 58803, "question_id": 5880, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-18T21:33:28Z", "scrap_date": "2024-05-01T00:13:55.291550", "content": "Thanks very much This just solved a major problem for me "},
{"id": 83142, "question_id": 8314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-19T06:22:28Z", "scrap_date": "2024-05-01T00:13:56.297624", "content": "Using the online works You will also need to specify the region and stage sls dynamodb seed seeddomain online"},
{"id": 72222, "question_id": 7222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-17T19:17:35Z", "scrap_date": "2024-05-01T00:13:58.429972", "content": "I experienced the same issue despite the fact that your approach is provided in the Serverless documentation at The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 80142, "question_id": 8014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-18T14:30:36Z", "scrap_date": "2024-05-01T00:13:59.314845", "content": "I use the built in logger from the Go SDK I figure the fewer libraries and frameworks I import the better in the lambda world "},
{"id": 56782, "question_id": 5678, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-20T17:28:12Z", "scrap_date": "2024-05-01T00:14:00.244957", "content": "Hello Tom I am having the same problem have you fixed it I have searched for ways to rerun npm install or run npm rebuild on the server but i think you cant because is serverless so it means it creates a new instance to run the function and its dependency whose are zipped already so i guess one solution could be build the application in an OS compatible with the OS running the function or change the OS of the instance that is running the function the fact is that i have not found a way to track what is serverless is doing in AWS I can see the S3 bucket but i can not see any of the API Gateway Cloud Formation Lambda configuration and in the S3 Bucket i can not do much"},
{"id": 66582, "question_id": 6658, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-22T17:04:09Z", "scrap_date": "2024-05-01T00:14:01.286652", "content": "Serverless Framework version 1 39 1 or later natively supports enabling XRay tracing see httpsserverless comframeworkdocsprovidersawsguidefunctionsawsxraytracing Version 1 41 0 added the ability to trace API Gateway requests see httpsgithub comserverlessserverlesspull5692files"},
{"id": 74732, "question_id": 7473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-22T18:05:19Z", "scrap_date": "2024-05-01T00:14:02.013498", "content": "Correct syntax is Note arn before FnGetAtt Get started with Simple Queue Service SQS and Serverless and learn some of the important configuration options "},
{"id": 76172, "question_id": 7617, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-11T23:42:01Z", "scrap_date": "2024-05-01T00:14:03.111211", "content": "anwarhamr Im facing the same issue Did you ever resolve this Thanks "},
{"id": 76173, "question_id": 7617, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-24T21:35:25Z", "scrap_date": "2024-05-01T00:14:03.112409", "content": "I did get this to work my issue was a syntax error in the variable name containing the path to the file"},
{"id": 70302, "question_id": 7030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-27T15:31:53Z", "scrap_date": "2024-05-01T00:14:04.244513", "content": "Same question Im here looking for Stitch support"},
{"id": 81022, "question_id": 8102, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-04-29T16:50:31Z", "scrap_date": "2024-05-01T00:14:05.233680", "content": "You can set a custom authorizer function for your function and validate the request before invoking your main function Heres the serverless documentation with an example "},
{"id": 80932, "question_id": 8093, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-27T14:41:58Z", "scrap_date": "2024-05-01T00:14:06.233273", "content": "Hi I have a monorepo project some packages have their internal resources but they use common resources as well sqs sns So Ive decided to create an additional package just for this purpose I have a folder with a serverless yml file which contains just common resources descriptions In this way I can change these resources without redeploying lamdas So maybe you can create an additional folder and put a serverless yml with your descriptions there it will create an extra stack so you will need to use Outputs ImportValue "},
{"id": 80933, "question_id": 8093, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-30T06:12:51Z", "scrap_date": "2024-05-01T00:14:06.235274", "content": "Ok I kinda understand Do you have any examples of how to use Outputs and ImportValue Like a code snippet It would help to understand better Thanks"},
{"id": 80934, "question_id": 8093, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-30T15:18:11Z", "scrap_date": "2024-05-01T00:14:06.235274", "content": "Sure common resources commonpackage serverless yml in a different package where I want to use this queue So you just need to import value by name "},
{"id": 81192, "question_id": 8119, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-30T15:26:33Z", "scrap_date": "2024-05-01T00:14:07.272907", "content": "Hi maybe you have a typo in your region I dont think that the xxwest1 region exists The regions list it here httpsdocs aws amazon comgenerallatestgrrande html p s I think you can use Resource GetAtt HtmlToPDFQueue Arn instead of const "},
{"id": 81193, "question_id": 8119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-01T10:03:36Z", "scrap_date": "2024-05-01T00:14:07.273907", "content": "Hi the I typed xxwest1 just to hide euwest1 didnt actually typed the xx lol Anyway problem solved my Resource arn was wrong and I hade some additional access to sort out for my user "},
{"id": 81194, "question_id": 8119, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-05-01T12:09:45Z", "scrap_date": "2024-05-01T00:14:07.274907", "content": "Haha happy you have found the problem as for arn thats why I proposed to use GetAtt HtmlToPDFQueue Arn"},
{"id": 81302, "question_id": 8130, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-01T17:18:45Z", "scrap_date": "2024-05-01T00:14:08.357671", "content": "serverlessdomainmanager serverless plugin"},
{"id": 81303, "question_id": 8130, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T20:03:30Z", "scrap_date": "2024-05-01T00:14:08.358671", "content": "Thanks bfieber I had tried this before however I was trying to use a domain that already existed and was referenced in a CloudFront distribution I received this error when running sls create_domain Error Failed to create custom domain api xxxxxxxxxxx io I deleted rt53 records pointing to this domain and removed reference to this domain in CloudFront Then I reran sls create_domain and I saw a new CloudFront distribution in the Serverless Domain Manager Summary after running sls deploy Only other thing that seemed confusing was the CloudFront distribution is not visible in the AWS console or through the aws cli issue 163 tracks this but I thought Id mention it if it can save others some research This is a great plugin "},
{"id": 81304, "question_id": 8130, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T20:06:22Z", "scrap_date": "2024-05-01T00:14:08.360672", "content": "mtocci Correct Its not displayed because its managed by API Gateway They dont want us having the ability to muck it up "},
{"id": 49372, "question_id": 4937, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-03T02:20:15Z", "scrap_date": "2024-05-01T00:14:09.303260", "content": "Hi Im getting same error could you solve it yet My Cognito resource Error message"},
{"id": 49373, "question_id": 4937, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-13T09:40:33Z", "scrap_date": "2024-05-01T00:14:09.303260", "content": "Dear Team I am experiencing similar issue Is this problem solved my cloudformation template looks like Without RoleMappings property is is working RavidIdentityPoolRoleAttachment DependsOn CognitoIdentityPoolId CognitoIPUnAuthorizedRole CognitoIPAuthorizedRole Type AWSCognitoIdentityPoolRoleAttachment Properties IdentityPoolId Ref CognitoIdentityPoolId RoleMappings AmbiguousRoleResolution AuthenticatedRole Type Rules RulesConfiguration Rules Claim email MatchType Contains RoleARN GetAtt CognitoClaimRoleRavid Arn Value testemail Roles authenticated GetAtt CognitoIPAuthorizedRole Arn unauthenticated GetAtt CognitoIPUnAuthorizedRole Arn"},
{"id": 49374, "question_id": 4937, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T21:05:47Z", "scrap_date": "2024-05-01T00:14:09.305261", "content": "the way it worked for me"},
{"id": 20242, "question_id": 2024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-08T11:48:46Z", "scrap_date": "2024-05-01T00:14:10.095588", "content": "I just realized that I constantly deployed on the wrong service so I did not send the resource to AWS However its still not working With the feedback of serverless I added Type RestApiId and StageName I realized that the number behind the ApiGateWayDeployment seems to change with every deployment so I cannot overwrite the existing one or at least I dont know how With my adjusted serverless yml the throttling of my service still doesnt change So I still need help with this "},
{"id": 20243, "question_id": 2024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-02T21:36:30Z", "scrap_date": "2024-05-01T00:14:10.097589", "content": "Did you ever figure this out Im trying to override the dev stage throttle variables for a single method "},
{"id": 20244, "question_id": 2024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T07:24:07Z", "scrap_date": "2024-05-01T00:14:10.098589", "content": "Unfortunately not Were going without throttling and it worked fine So I didnt really get back to the topic However if you or someone else finds out I wouldnt mind implementing it as well "},
{"id": 19132, "question_id": 1913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-23T19:35:16Z", "scrap_date": "2024-05-01T00:14:10.828820", "content": "1 Ive got the same issue as well "},
{"id": 19133, "question_id": 1913, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-24T00:36:41Z", "scrap_date": "2024-05-01T00:14:10.828820", "content": "You should be able to get the API Gateway ID using Ref See httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferenceref html"},
{"id": 19134, "question_id": 1913, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-26T03:09:21Z", "scrap_date": "2024-05-01T00:14:10.829820", "content": "Is the resource youre trying to reference in the same stack as where youre referencing it If so use Ref as per buggy s comment the cf variable syntax is for CloudFormation Outputs i e from other stacks "},
{"id": 19135, "question_id": 1913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T08:21:11Z", "scrap_date": "2024-05-01T00:14:10.830820", "content": "I have added a websocket api gateway and would like to get the endpoint of it just like the rest api endpoint Compare GET httpschjpngb443 executeapi eucentral1 amazonaws comtestfacebookmessages wssrs1ekw8ha0 executeapi eucentral1 amazonaws comtest Note that the rest api and websocket api have differing ids chjpngb443 and rs1ekw8ha0 respectively I couldnt find a suitable Ref variable for the websocket api id Does anyone know how to get this property"},
{"id": 19136, "question_id": 1913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T09:25:58Z", "scrap_date": "2024-05-01T00:14:10.831821", "content": "please take a look Reference Websocket Api url in serverless yml"},
{"id": 19137, "question_id": 1913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-03T11:05:42Z", "scrap_date": "2024-05-01T00:14:10.832821", "content": "Thanks I am sorry I wasnt able to find that one For reference Ref WebsocketsApi will give you the id"},
{"id": 81622, "question_id": 8162, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-05T16:27:36Z", "scrap_date": "2024-05-01T00:14:11.544167", "content": "If you add another stage prod in your current API you will have the same base URL but different URIs of course I dont fully understand your question so if you want the opposite different base URLs then you just create a second API which will get its own Stage that will have a separate base URL "},
{"id": 84662, "question_id": 8466, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-05T14:22:28Z", "scrap_date": "2024-05-01T00:14:12.368950", "content": "What was missing was the explicit auth workflows on the userpool"},
{"id": 78292, "question_id": 7829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-04T16:21:29Z", "scrap_date": "2024-05-01T00:14:14.182052", "content": "Hi have you tried to use WebsocketsApi "},
{"id": 78293, "question_id": 7829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T08:49:31Z", "scrap_date": "2024-05-01T00:14:14.182052", "content": "Thank you very much this is exactly what i needed "},
{"id": 79122, "question_id": 7912, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-06T07:46:24Z", "scrap_date": "2024-05-01T00:14:15.144500", "content": "Hi it seems to me that you need to add a name for each value Here is an example now you can get a value Hope it will help httpsdocs aws amazon comAWSCloudFormationlatestUserGuidemappingssectionstructure html"},
{"id": 79123, "question_id": 7912, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T14:20:39Z", "scrap_date": "2024-05-01T00:14:15.145500", "content": "Yes Thank you moro That did the trick "},
{"id": 79124, "question_id": 7912, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T14:51:06Z", "scrap_date": "2024-05-01T00:14:15.145500", "content": "np happy to help"},
{"id": 79302, "question_id": 7930, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T16:28:20Z", "scrap_date": "2024-05-01T00:14:15.969190", "content": "Should be doable if I understand correctly it might looks something like this serverless yml top vars yml serverless yml bottom "},
{"id": 79303, "question_id": 7930, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T16:51:32Z", "scrap_date": "2024-05-01T00:14:15.970190", "content": "dev [default] huh Im wasnt familiar with the syntax of [default] This is awesome Thanks "},
{"id": 79304, "question_id": 7930, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T17:26:46Z", "scrap_date": "2024-05-01T00:14:15.970190", "content": "Yup You should still be able to do what you want without that merge syntax but it was next level when I first discovered it Its important to know though that it only merges first level things Its not a deepmerge "},
{"id": 79442, "question_id": 7944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-09T22:32:52Z", "scrap_date": "2024-05-01T00:14:17.041464", "content": "I was finally able to overcome my issues LambdaEntryPoint cs example Startup cs example Note some of this can be generated from templates Outside of what is readily available on the Internet these steps highlight some of the hurdles I had to overcome to get mine working "},
{"id": 32692, "question_id": 3269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-10T23:44:56Z", "scrap_date": "2024-05-01T00:14:18.097124", "content": "My understanding is that the framework exclusively uses CF I would imagine you would need to develop a new provider if you were going down this road "},
{"id": 32693, "question_id": 3269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T00:48:06Z", "scrap_date": "2024-05-01T00:14:18.098124", "content": "I use Terraform a lot yes I like it more than Cloudformation templates It can make the job done super fast if compare the time to maintain Cloudformation template it easily goes up to thousands lines But terraform is not good for serverless related resources it is still too complex or feature missed to be managed by terraform We still need Serverless framework to manage the lambdaapi gateway dynamodb separately Context The AWS API let us import an API from a JSON Swagger v2 0 see [ here] httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewayimportapi html and [here] httpdocs aws amazon comclilatestreferenceapigatewayimportrestapi html It would be nice to support this feature in Terraform This has been already asked in [3675] httpsgithub comhashicorpterraformissues3675 but it was not the original request of the issue As a note The API Gateway extensions to the Swagger specification support the AWSspecific authorization and API Gatewayspecific API integrations see [here] httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewayswaggerextensions html Potential solutions We could either use directly JSON files or use a data source `aws_api_swagger` to store to swagger Then we could update the resource `aws_api_gateway_rest_api` to specifiy a swagger I spent a couple weeks trying to get this to work before I found out terraform isnt supporting it IMO terraform needs a doesnt really support API Gateway on the front page README If anyone has found a way to actually use API Gateway from terraform in production without lots of manual setup Id love to pick your brain Right now Im forced to consider alternatives like serverless Zappa or CloudFormation Mixed serverless framework and terraform are not bad idea at all In fact with current functions in terraform you have to mix it with serverless framework to deal with API Gateway "},
{"id": 32694, "question_id": 3269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T15:48:50Z", "scrap_date": "2024-05-01T00:14:18.101125", "content": "Afraid I dont but am also interested I find Cloudformation lacking in cases where you need to do do some conditional logic prior to provisioning Unfortunately Im afraid sime is right and it may not be easy to implement For example if you are to use plugins you generally have to overwrite a compiledCloudformationTemplate parameter "},
{"id": 32695, "question_id": 3269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-13T15:35:08Z", "scrap_date": "2024-05-01T00:14:18.102126", "content": "Terraform is the way forward in my case Love to continue to use serverless however CF is not long term solution "},
{"id": 32696, "question_id": 3269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-14T00:07:30Z", "scrap_date": "2024-05-01T00:14:18.102126", "content": "Thats great to hear that there are others out there also interested in using Terraform w Serverless Our team has found CF very tedious to write and hard to manage but the serverless framework config is less verbose So adding another Provider would be the best way if we really wanted to integrate Terraform w Serverless Franework or is having a mix of both a good idea Thanks"},
{"id": 32697, "question_id": 3269, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-09T23:44:29Z", "scrap_date": "2024-05-01T00:14:18.103126", "content": "Very interested in this because our team uses Terraform but are also exploring the serverless framework The best info I can find so far in 2019 is httpstheburningmonk com201903makingterraformandserverlessframeworkworktogether"},
{"id": 11392, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-18T04:16:26Z", "scrap_date": "2024-05-01T00:14:18.730364", "content": "You need to return after your callback "},
{"id": 11393, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-18T04:42:29Z", "scrap_date": "2024-05-01T00:14:18.730364", "content": "oh so what does callback actually mean Why would you use it more than once"},
{"id": 11394, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-18T05:16:55Z", "scrap_date": "2024-05-01T00:14:18.731364", "content": "Using callback is optional You only need to use it if you want to pass information back to caller Theres a bunch of information on httpdocs aws amazon comlambdalatestdgnodejsprogmodelhandler htmlnodejsprogmodelhandlercallback about it Importantly calling callback doesnt terminate your Lambda function From what I can tell it just set the response that will be sent to the caller once your function terminates "},
{"id": 11395, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-21T23:34:39Z", "scrap_date": "2024-05-01T00:14:18.732364", "content": "A more common pattern would be the return the callback itself"},
{"id": 11396, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-24T07:11:08Z", "scrap_date": "2024-05-01T00:14:18.733365", "content": "That makes sense Default template should have that no Otherwise people will get a nasty surprise like I did "},
{"id": 11397, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T17:07:48Z", "scrap_date": "2024-05-01T00:14:18.733365", "content": "I know this is old but Im fairly confused here I have the same logic going on an APIGateway with this exact pattern of course the result is not null but an API response It works when I invoke locally with a mock API request JSON file but fails with an internal server error when deployed to AWS I know it is related to this statement because if I get rid of the return the rest of the function executes With the return statement it fails with no errors just exits due to the return It seems like the callback just isnt being executed because of the return "},
{"id": 11398, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T12:52:01Z", "scrap_date": "2024-05-01T00:14:18.734365", "content": "freako987 Are you using Node 8 10 Have you declared your handler async If so you cant use callback and need to return a value I wrote an article explaining how async appears to work with Node 8 10 How async Lambda handlers work in Node 8 10"},
{"id": 11399, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T21:34:52Z", "scrap_date": "2024-05-01T00:14:18.735359", "content": "To add to buggy s response can you share some code Is your err object empty"},
{"id": 113910, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T01:47:13Z", "scrap_date": "2024-05-01T00:14:18.736366", "content": "Migrated to 8 10 recently cannot use return callback null response nor callback null response return In the doc it implies that callback is supported but that is not the case whenever I try to push my lambda with my serverless command I created a new callback function on my lambda console and set the environment to node 8 10 it worked as expected I use similar function on serverless project I see this Task timed out after 6 01 seconds on my cloudwatch log "},
{"id": 113911, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T09:10:45Z", "scrap_date": "2024-05-01T00:14:18.737366", "content": "k1m8ee Node 8 10 supports both async and callback handler syntax If you want more help youll need to post your code "},
{"id": 113912, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T12:48:23Z", "scrap_date": "2024-05-01T00:14:18.737366", "content": "Hi buggy thanks for reply to my post I make sure that it runs on nodejs8 10 AWS lambda console exports handler event context callback TODO implement const response statusCode 500 body JSON stringify Hello from Lambda return response callback null response Local serverless project serverless yml alternatively function hello event context callback return response return callback null response But if i try async function hello event context callback try throw Ops catch e return response vola it works "},
{"id": 113913, "question_id": 1139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-09T23:54:40Z", "scrap_date": "2024-05-01T00:14:18.739367", "content": "Does anyone know how to write an authorizer that is defined async"},
{"id": 78162, "question_id": 7816, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-27T15:28:57Z", "scrap_date": "2024-05-01T00:14:19.559297", "content": "ive managed to get the url of the api doing so and then in my enviroment API_CLIENT_URL selfcustom apigatewayurl Im still trying to figure out how to get the ref of the OTHER api gateway the websocket Posting this for anyone in my situation Thanks"},
{"id": 78163, "question_id": 7816, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-02T16:17:39Z", "scrap_date": "2024-05-01T00:14:19.560464", "content": "Have you had any luck outputting the WS gateway endpoint now Ive been running into the same issue as you and have been unable to find any related docs "},
{"id": 78164, "question_id": 7816, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-03T09:08:52Z", "scrap_date": "2024-05-01T00:14:19.561415", "content": "No luck yet Ive manage to put only one WS gateway endpoint as showed a couple of post above but still cant find anything to reference the websocket For now ive just put a placeholder and then change it manually Maybe all the websocket thing is a little bit premature in serverless or Im missing something bit time"},
{"id": 78165, "question_id": 7816, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T08:50:51Z", "scrap_date": "2024-05-01T00:14:19.562413", "content": "Hello I asked the same question here and got an answer by another user that solved my problem hope you find this useful Cheers and thanks to this wonderful community "},
{"id": 78166, "question_id": 7816, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-10T07:43:43Z", "scrap_date": "2024-05-01T00:14:19.562413", "content": "Thats pretty close to what I ended up with as well My laptop was out of commission while traveling over the weekend so wasnt able to follow up Thanks so much for sharing "},
{"id": 10152, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T20:22:33Z", "scrap_date": "2024-05-01T00:14:20.165120", "content": "It sounds like the CI system doesnt have access to your AWS credentials Those will need to be exposed as env variables in codeship How to set up the Serverless Framework with your Amazon Web Services credentials"},
{"id": 10153, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-27T20:35:18Z", "scrap_date": "2024-05-01T00:14:20.166120", "content": "Hey David The credentials are loaded and work I get very far in the process the function is created and the stack is updated The problem is that I didnt give permissions to the AWS user but I gave it restrictive permissions It fails on something after the stack is updated And I am trying to find out what it can be Omer"},
{"id": 10154, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T21:04:09Z", "scrap_date": "2024-05-01T00:14:20.167120", "content": "The framework runs a number of different aws sdk calls and will need those permissions We dont have a comprehensive list of this handy but this search should show mostall of the services that the framework calls httpsgithub comserverlessserverlesssearchutf8qthis provider requesttypeCode"},
{"id": 10155, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-28T11:30:57Z", "scrap_date": "2024-05-01T00:14:20.168120", "content": "Hi David Your suggestion helped a lot as I added a console log for every aws request that comes out Thus I was able to get the correct IAM restrictive access permissions that let me use serverless deploy and serverless deploy show without admin access Only giving the deployer the exact access he needs to the resources and actions needed Of course this is without extra resources only a simple function deployment but adding permissions for exact resources is much easier later I assume I will later try and make serverless remove work as well Missing some actions I guess I suggest this restrictive access permission policy to be used by anyone who doesnt want to give his deployment machine AMI admin access which is extremely permissive I will post it later after I get the remove to work"},
{"id": 10156, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-12-28T15:40:28Z", "scrap_date": "2024-05-01T00:14:20.169121", "content": "In case anyone is interested heres a pretty restrictive IAM access permission policy that will let you deploy and remove simple functions To add resources you will need to add specific permissions for each resources but this lets you createremoveupdate functions create the s3 bucket for the deployment zips This uses a custom role for the functions but can be changed to include the autocreated roles if you change to their names instead The policy httppastebin com6af4f6RF I suggest moving in general to the minimal access permission for the deployer and increase it as needed and also put something in the serverless docs about this A lot of companies can not give their deployment machines which can be a cloud CI for example admin access to AWS"},
{"id": 10157, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-12-07T21:25:46Z", "scrap_date": "2024-05-01T00:14:20.170121", "content": "The fact that you need to go potentially read code to understand how to address this issue is a bug in serverless error messages IMO The error message printed should really be more informative than just Access Denied Access to what was denied"},
{"id": 10158, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-10T20:35:44Z", "scrap_date": "2024-05-01T00:14:20.171122", "content": "this was a good start but its missing cloudformationValidateTemplate I agree that this should just be in the serverless docs "},
{"id": 10159, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T16:37:55Z", "scrap_date": "2024-05-01T00:14:20.172122", "content": "Is there an update to this 11 months later and in version 1 27 3 I still get the same error "},
{"id": 101510, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-05T02:37:26Z", "scrap_date": "2024-05-01T00:14:20.172122", "content": "My error was that the user did not have permissions to S3 buckets where the zip files are uploaded I had to give full Access error should say what permission exactly are needed "},
{"id": 101511, "question_id": 1015, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-10T14:37:04Z", "scrap_date": "2024-05-01T00:14:20.173122", "content": "Im still getting this in April 2019 Is there any official documentation about this"},
{"id": 41582, "question_id": 4158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T12:03:22Z", "scrap_date": "2024-05-01T00:14:20.810607", "content": "Ok I did a test without severelesswebpack plugin and it creates a zip files with node_modules inside Those binary lame and sox files are present So the plugin is the problem here Any idea how to fix that problem"},
{"id": 41583, "question_id": 4158, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-10T17:36:59Z", "scrap_date": "2024-05-01T00:14:20.811613", "content": "If you are using serverlesswebpack you can use copywebpackplugin to include additional files in the package "},
{"id": 79182, "question_id": 7918, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-10T19:07:39Z", "scrap_date": "2024-05-01T00:14:21.863396", "content": "Where did you find it see httpsgithub comserverlessserverlessblobmasterpackagelock json"},
{"id": 79183, "question_id": 7918, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-10T19:21:09Z", "scrap_date": "2024-05-01T00:14:21.864396", "content": "Sorry I shouldve clarified its only for certain templates "},
{"id": 78982, "question_id": 7898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-08T18:15:06Z", "scrap_date": "2024-05-01T00:14:22.610559", "content": "Im not sure its a best practice but we break our serverless files into functions and infrastructure Our infrastructure files are deployed once to build the infrastructure and the function files are deployed as the functions change Our function files reference our infrastructure files "},
{"id": 78983, "question_id": 7898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-11T14:49:09Z", "scrap_date": "2024-05-01T00:14:22.611559", "content": "A better approach is to use SNS notification for example i have resourcesnotificationstransform yml resourcess3upload yml so this way i am able to attach events on an existing bucket and my transform yml is resourcesfunctionstransform yml hope this helps"},
{"id": 72172, "question_id": 7217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-12T15:06:15Z", "scrap_date": "2024-05-01T00:14:23.638703", "content": "ExtendedS3DestinationConfiguration I confirmed that I have ran into the same issue At first using S3DestinationConfiguration and ExtendedS3DestinationConfiguration both cause the same issue Encountered unsupported property ErrorOutputPrefix Very likely a bug from the aws side From the console it doesnt have an option to provide ErrorOutputPrefix "},
{"id": 72173, "question_id": 7217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-11T16:07:08Z", "scrap_date": "2024-05-01T00:14:23.639704", "content": "Hello did you managed to find a solution for this Im having the same problem trying to add the prefix and errorPrefix without success "},
{"id": 79612, "question_id": 7961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-12T08:44:26Z", "scrap_date": "2024-05-01T00:14:24.727598", "content": "Check the plugin Serverless framework plugin for easily supporting AWS CloudFormation Sub intrinsic function variables GitHub santiagocardenasserverlesscloudformationsubvariables Serverless framework plugi "},
{"id": 79613, "question_id": 7961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-12T14:24:51Z", "scrap_date": "2024-05-01T00:14:24.728592", "content": "A plugin is nice but Im wondering why this isnt built into the Serverless platform "},
{"id": 79772, "question_id": 7977, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-04-13T18:17:22Z", "scrap_date": "2024-05-01T00:14:25.790827", "content": "Hi serverless natively supports websockets you dont need to use any plugins right now Please take a look if you have a serverlesswebsocketsplugin remove it and use route instead of routeKey plugin uses a routeKey param Serverless version should be at least 1 38 0 p s if it doesnt help please provide the whole serverless yml"},
{"id": 79752, "question_id": 7975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-13T18:37:22Z", "scrap_date": "2024-05-01T00:14:26.658908", "content": "Hi at the first glance everything looks fine but there are a lot of hellos here you have a hello function hello state machine I would try to change all hello names maybe there is some kind of conflict "},
{"id": 79412, "question_id": 7941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-13T19:00:14Z", "scrap_date": "2024-05-01T00:14:27.685792", "content": "Hi if Im not mistaken bot sendMessage returns a promise you use an async function so I think you dont need to use cb you need to add await return a correct message p s have you tried to call this url using postman or something similar"},
{"id": 76792, "question_id": 7679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-15T15:07:30Z", "scrap_date": "2024-05-01T00:14:28.933155", "content": "Ive just ran into the same problem Given I was deploying without issue When I installed the plugin Then I saw the error nodestream is not supported by this platform after trying to deploy I havent found a fix yet but Ill post if I find anything"},
{"id": 76793, "question_id": 7679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-15T15:52:37Z", "scrap_date": "2024-05-01T00:14:28.934156", "content": "Given I was deploying without issue When I installed the plugin Then I saw the error nodestream is not supported by this platform after trying to deploy I havent found a fix yet but Ill post if I find anything Huh interesting that it only happened to you after installing the severlesspythonrequirements I installed that as well but I wasnt able to even start the install without installing it because it need a package called fsextra So you were able to deploy without having the serverlesspythonrequirements package installed"},
{"id": 76794, "question_id": 7679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-19T11:12:17Z", "scrap_date": "2024-05-01T00:14:28.935156", "content": "I have my python files in subdirectories and I can deploy with the following config in my serverless yml file However if I try to package that file up for the function like below which I do on many other serverless apis then Im running into the nodestream issue I checked my node_modules directory and I do have the fsextra module installed already perhaps running npm install fsextra will help you out Edit When my config is set to this Then it will deploy but the lambda errors because the python file isnt packaged up which in turn requires the serverlesspythonrequirements package which in turn is causing the deployment issue "},
{"id": 76795, "question_id": 7679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-19T12:27:21Z", "scrap_date": "2024-05-01T00:14:28.936157", "content": "derek_maurer I deleted the node_modules directory and have been able to deploy with serverlesspythonrequirements installed I think the issue was to do with conflicting local and global npm package installations Hope this helps "},
{"id": 46772, "question_id": 4677, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T23:14:10Z", "scrap_date": "2024-05-01T00:14:29.910139", "content": "Typically people do it the other way around which removes the problem"},
{"id": 46773, "question_id": 4677, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T23:19:00Z", "scrap_date": "2024-05-01T00:14:29.911140", "content": "Yes I know but I want to not have the custom variable and for example on the IAM roles use directly the reference to the function item"},
{"id": 46774, "question_id": 4677, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-03-26T21:46:26Z", "scrap_date": "2024-05-01T00:14:29.912140", "content": "In case someone need this the syntax is selfresources Resources transactions Properties GlobalSecondaryIndexes 0 IndexName"},
{"id": 77342, "question_id": 7734, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-26T22:07:51Z", "scrap_date": "2024-05-01T00:14:30.918030", "content": "7 days and no reply Will open a bug in GitHub"},
{"id": 61522, "question_id": 6152, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-17T02:15:59Z", "scrap_date": "2024-05-01T00:14:31.829267", "content": "dmhalejr Its better to log feature requests as an issue at the Github project httpsgithub comserverlessserverlessissues"},
{"id": 61523, "question_id": 6152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T11:04:02Z", "scrap_date": "2024-05-01T00:14:31.830268", "content": "Second that Or please explain why this is undesirable "},
{"id": 77892, "question_id": 7789, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-29T01:14:00Z", "scrap_date": "2024-05-01T00:14:32.990414", "content": "Nevermind should have gone deeper into the docs "},
{"id": 60232, "question_id": 6023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-04T03:08:57Z", "scrap_date": "2024-05-01T00:14:33.780410", "content": "You should be able to but you also shouldnt need to This is how I do it "},
{"id": 60233, "question_id": 6023, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-29T22:43:57Z", "scrap_date": "2024-05-01T00:14:33.781408", "content": "Do you know how to define a dependency for a function Ive a function that depends on a VPC that has a VPCEndpoint which gets deleted before my function You can see the whole config at httpsgithub comhittaskyddsrumupdatesheltersblob83225bfb8f13aaafd88c96236daed3993e71cc86serverless yml I guess it may be a bug within serverless though since the VPCEndpoint should be dependent on the VPC "},
{"id": 69132, "question_id": 6913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-08T04:22:14Z", "scrap_date": "2024-05-01T00:14:34.340247", "content": "Am having the same error But yours might be related to the dynamodb local plugin that you use "},
{"id": 69133, "question_id": 6913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T02:21:01Z", "scrap_date": "2024-05-01T00:14:34.341247", "content": "if the issue is with the dynamodb local plugin then its weird because the endpoints for me works fine locally however when I deploy it and run it then it fails I have also moved the serverlessdynamodblocal from dependencies to devDependencies"},
{"id": 69134, "question_id": 6913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-30T18:36:53Z", "scrap_date": "2024-05-01T00:14:34.342248", "content": "Hey Kedarnag13 Im have the same issue I was able to execute fine locally but when I deployed I got the same error Were you able to find solution to the problem Thanks"},
{"id": 76242, "question_id": 7624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-01T06:46:48Z", "scrap_date": "2024-05-01T00:14:35.364518", "content": "I got the same problem but I cannot find any solution"},
{"id": 77962, "question_id": 7796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-01T21:58:11Z", "scrap_date": "2024-05-01T00:14:36.418575", "content": "The serverless variable cf command is a good way of importing other stack outputs Although I fear this is possibly just an abstraction of the intrinsic function you are already using Worth a try though The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 40462, "question_id": 4046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-31T06:29:19Z", "scrap_date": "2024-05-01T00:14:37.427458", "content": "Hi Im have setup hasMany relation in my user table In my handler js file Ive something like this db User create nametest tags[ isReadybool isReadyfalse ] include[db Tag] But it fails creating data in tags table for the user What can be wrong Im using postgres "},
{"id": 40463, "question_id": 4046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-02T07:12:40Z", "scrap_date": "2024-05-01T00:14:37.428458", "content": "I have the same problem but I use mariadb so do I need to include mariadb into forceInclude please share your configuration file"},
{"id": 59682, "question_id": 5968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-28T14:57:33Z", "scrap_date": "2024-05-01T00:14:38.532884", "content": "it seems the bucket name exists"},
{"id": 59683, "question_id": 5968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-02T12:49:49Z", "scrap_date": "2024-05-01T00:14:38.533881", "content": "I had a similar problem when deploying a CloudFront distribution with a S3 origin and creating a S3 Bucket Policy I solved the problem by not specifying the region and using the default useast1 region instead as this is the region for global services "},
{"id": 10702, "question_id": 1070, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-06T03:36:42Z", "scrap_date": "2024-05-01T00:14:39.635212", "content": "Youd have to run your deploy command multiple times with different region XXX arguments "},
{"id": 10703, "question_id": 1070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-02T23:57:32Z", "scrap_date": "2024-05-01T00:14:39.636212", "content": "Is it also possible to have some part of serverless framework to be deployed to one region and other parts to another region"},
{"id": 59872, "question_id": 5987, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-30T07:38:57Z", "scrap_date": "2024-05-01T00:14:40.710311", "content": "webtask has been official deprecated and support for it has been removed 1 Please check out and follow our Contributing Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 2 Do not remove any section of the template If something is not applicable leave it empty but leave it in the PR 3 Please follow the template otherwise we will have to ask you to update it and it will take longer until your PR is merged What did you implement Removed all references to webtask io and the webtask provider Closes 5262 Related to auth0serverlesswebtasks16 How did you implement it Pulled source and removed all references to webtask provider and template code Is this ready for review YES Is it a breaking change YES For anyone attempting to use the provider it will be deprecated on NPM after PRs are submitted "},
{"id": 38802, "question_id": 3880, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-28T10:50:56Z", "scrap_date": "2024-05-01T00:14:41.698778", "content": "I have the same need Alternatively please provide a reason why it should not be done this way Thanks "},
{"id": 38803, "question_id": 3880, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-04T20:34:33Z", "scrap_date": "2024-05-01T00:14:41.699778", "content": "This GitHub issue goes into it with a solution near the bottom Its not perfect and Id really like support for this in vanilla Serverless but I hope it helps someone "},
{"id": 78432, "question_id": 7843, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-04T23:46:44Z", "scrap_date": "2024-05-01T00:14:42.459822", "content": "Hi Ak1 What has worked for me is to have the git file structure under a path For instance your yml lives on the root of the file structure Your code might live under functionFolderNamehandler js In the yml the path under handler just dont start it with a forward slash handlerfunctionFolderNamehandler getMyFunction With sls deploy it ends up in a path in lambda I am still figuring out what the best code structure of a project is Presently I have ymls for each Lambda function Trying to look at it as distinct parts of functionality If you have any insights please let me know "},
{"id": 34742, "question_id": 3474, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-05T00:01:15Z", "scrap_date": "2024-05-01T00:14:43.591254", "content": "Is there any support for this"},
{"id": 76542, "question_id": 7654, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-13T09:19:35Z", "scrap_date": "2024-05-01T00:14:45.544039", "content": "adding and referencing it within the function works"},
{"id": 73492, "question_id": 7349, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-12T13:23:41Z", "scrap_date": "2024-05-01T00:14:46.617145", "content": "Digging a bit deeper According to this blog the AWSApiGatewayAuthorizer CloudFormation resource should have a property AuthorizerCredentials that contains the authorizer role or if you leave it empty the authorizer Lambda is expected to have a resourcebased permissions Looking in the CloudFormation template generated by Serverless I dont see the AuthorizerCredentials property set so either I missed the way to add it or I am expected to use a resourcebased policy on my authorizer Lambda function The plot thickens If I create the authorizer lambda function using the Serverless framework is there a way for me to create the resourcebased policy"},
{"id": 73493, "question_id": 7349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-13T01:38:06Z", "scrap_date": "2024-05-01T00:14:46.618146", "content": "moshebs did you find a solution to this Im using a shared authorizer model which means I am using Resources to setup the authorizer I know I need to set a AuthorizerCredentials value but Im unclear where I find the role ARN that needs to be dropped in there "},
{"id": 73494, "question_id": 7349, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-13T02:13:42Z", "scrap_date": "2024-05-01T00:14:46.619146", "content": "moshebs I was able to get this working in my case by adding the following resource to my config"},
{"id": 73495, "question_id": 7349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-13T11:21:44Z", "scrap_date": "2024-05-01T00:14:46.619146", "content": "duro yes this is pretty much what I am doing Sorry for not updating the post "},
{"id": 76642, "question_id": 7664, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-13T20:25:27Z", "scrap_date": "2024-05-01T00:14:47.362192", "content": "i had to add the TopicPolicy as"},
{"id": 75502, "question_id": 7550, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-13T22:44:31Z", "scrap_date": "2024-05-01T00:14:48.173400", "content": "You can split an SSM string into a list with this syntax ssm_var_split FnSplit [ ssmx ] This is a Feature Proposal Description SSM params can have a StringList type of comma separated values It would be great if there was some syntax we could provide to automatically split this StringList by comma into an array Without splitting this string value the current Serverless variable resolution will put the entire StringList value into the CF template For example say if I stored a StringList param of all my `subnetIds` per account in SSM It would be nice if I can set the vpc config value `subnetIds` to something like ` ssmmy_path_to_subnet_ids_listtruesplit ` An alternative to this explicit setting would be to always split StringList types into an array by default "},
{"id": 76562, "question_id": 7656, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-14T17:12:32Z", "scrap_date": "2024-05-01T00:14:48.805802", "content": "This is a good question Im not sure you can use the baked in events However you could use the httpswww npmjs compackageserverlesspluginexistings3 plugin to listen to those s3 buckets where the emails are dumped Out of curiosity what does the cloudformation for this look like"},
{"id": 76563, "question_id": 7656, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-14T17:32:04Z", "scrap_date": "2024-05-01T00:14:48.806802", "content": "DavidWells thanks for the response Yesterday I was able to use the AWS SES receive emails and process body example and add an SES rule in the Resources section see below Only problem is that I cant autocreate the S3 bucket Action because the S3 bucket doesnt exist at the time the CloudFormation resources are created So this gets me closest to an automated solution I just have to go into the SES rule and add the S3 bucket action When I remove the stack I just have to first delete all content from the bucket and then Serverless removes it all If I could create the bucket in the Resources section without screwing up the Eventbased creation Id have a complete solution resources Resources S3EMailBucketPermissions Type AWSS3BucketPolicy ReceiptRule Type AWSSESReceiptRule Properties RuleSetName defaultruleset Rule Name selfcustom sesRuleName Enabled true Recipients FnJoin [ [ selfcustom sesRuleName acme com ] ] ScanEnabled true Actions StopAction Scope RuleSet S3Action BucketName selfcustom bucketRef "},
{"id": 76932, "question_id": 7693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-15T20:12:58Z", "scrap_date": "2024-05-01T00:14:49.605857", "content": "Ive figured it out DLQ only works for asynchronous lambda invocations Gateway invocations are synchronous "},
{"id": 77032, "question_id": 7703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-17T16:39:48Z", "scrap_date": "2024-05-01T00:14:50.520382", "content": "I literally just created a topic about this Im getting the exact same error It seemed to start happening yesterday after no changes to my configuration files It only happens whe I use the serverlesswebpack plugin I tried to create a fresh porject with the helloworld template and the deploy succeeded "},
{"id": 77033, "question_id": 7703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-17T16:48:45Z", "scrap_date": "2024-05-01T00:14:50.522383", "content": "Wow thanks for the fast answer gabrielvincent When I take out the webpack plugin from serverless yml the deployment works However I need webpack because my project is written in Typescript Did anybody change the webpack plugin today If so can I lock down the plugin to yesterdays version"},
{"id": 77034, "question_id": 7703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-17T17:32:22Z", "scrap_date": "2024-05-01T00:14:50.523382", "content": "Got it Its not the webpack plugin its the serverless script itself 1 39 0 Public Published 2 days ago With 1 38 0 everything still works fine 1 39 0 must be the cause "},
{"id": 77035, "question_id": 7703, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-03-17T17:51:40Z", "scrap_date": "2024-05-01T00:14:50.523382", "content": "Yes An issue was opened on Github This is a Bug Report Description Incorrect path separator used when det ermining where the deployment artefact is located in AWS deployment What went wrong When setting the package path the wrong path seperate was being used for MacOS resulting in the incorrect path being used to upload artefacts to S3 What did you expect should have happened Correct path seperate to be used based upon OS What was the config you used Standard What stacktrace or error message from your provider did you see ``` Serverless Uploading CloudFormation file to S3 Serverless Uploading artifacts Error ENOENT no such file or directory stat server serverless serverlessfishcarecmsserver zip For debugging logs run again after setting the SLS_DEBUG environment variable Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information OS darwin Node Version 9 3 0 Serverless Version 1 39 0 ``` Solution Change File serverlesslibpluginsawspackagelibsaveServiceState js Line 35 To `packageRef artifact substr packageRef artifact lastIndexOf path sep 1 ` I would make the change myself but have not contributed before and do not have time right now to meet contribution requirements "},
{"id": 76192, "question_id": 7619, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-10T19:37:58Z", "scrap_date": "2024-05-01T00:14:51.530628", "content": "It actually doesnt look like my authorizer is being created when I login and check it manually When I try to I cannot use Cognito directly If this is the case that we cannot use Cognito directly it should state in the docs httpsserverless comframeworkdocsprovidersawseventswebsocketusingauthorizers "},
{"id": 76193, "question_id": 7619, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-15T16:09:13Z", "scrap_date": "2024-05-01T00:14:51.531628", "content": "In my experience a Amazon Websockets does not support modifying the subprotocol as you are doing in your example as shown here httpsforums aws amazon comthread jspamessageID883536tstart0 That is why you are not seeing the token in your authorizer b Also your authorizer is not being created if you are using the latest version of severless 1 38 You might have to use the master Full support for authorizer is for the 1 39 release "},
{"id": 76194, "question_id": 7619, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-17T19:16:18Z", "scrap_date": "2024-05-01T00:14:51.532629", "content": "Thanks Looks to be the case httpsgithub comserverlessserverlessissues5910"},
{"id": 77102, "question_id": 7710, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-03-18T16:25:02Z", "scrap_date": "2024-05-01T00:14:52.489064", "content": "Checkout httpsgithub commiddyjsmiddy it lets you add middleware beforeafter functions"},
{"id": 25732, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-25T14:13:25Z", "scrap_date": "2024-05-01T00:14:53.638270", "content": "nford Agreed that its not easy to find Ill add that to my list of content to create In the meantime try this plugin serverlessdomainmanager It claims to make it easy to set up I strongly prefer using plugins rather than writing my own custom CloudFormation whenever possible If you do try it please report back and let me know if it works for you I havent had the time to try it yet "},
{"id": 25733, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-25T17:25:29Z", "scrap_date": "2024-05-01T00:14:53.639270", "content": "Not much luck with that npm install serverlessdomainmanager serverless createdomain"},
{"id": 25734, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-25T17:37:54Z", "scrap_date": "2024-05-01T00:14:53.640270", "content": "Hey nford its actually an underscore not a dash serverless create_domain "},
{"id": 25735, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-25T17:39:44Z", "scrap_date": "2024-05-01T00:14:53.640270", "content": "So it is Thank you for that "},
{"id": 25736, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-25T17:53:38Z", "scrap_date": "2024-05-01T00:14:53.641271", "content": "I very much would like this to work except that Im creating my certificate in the Resources section with configuration based on httpsgithub comImmobilienScout24awscfverifiedsslcertificate Unless there is a way for this plugin to wait for that creation step to complete since this requires a certificate configured it would probably make more sense to do the domain setup in Resources as well "},
{"id": 25737, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-25T21:59:45Z", "scrap_date": "2024-05-01T00:14:53.642271", "content": "Hmm yea you would probably have to do it in Resources then You could copy the code from the domain manager plugin its a lot of CloudFormation under the hood One thing to note it takes upwards of 40 minutes to create a new CloudFront distribution anyway Because of this Id recommend using the plugin and just manually approving a certificate But its up to you "},
{"id": 25738, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-29T15:00:12Z", "scrap_date": "2024-05-01T00:14:53.643271", "content": "Actually if you look at the plugin theres no CloudFormation under the hood It uses the JS SDK "},
{"id": 25739, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T13:03:06Z", "scrap_date": "2024-05-01T00:14:53.643271", "content": "Im a 1 here would be great to have a recommended way of achieving this Ive tried the serverlessdomainmanager plugin Initially it didnt work for me as my certificate wasnt useast1 it only supports that region Ive now moved my certificate over and the plugin is successfully invoked on deploy At the end of deployment it outputs However the Lambda functions still arent available on that custom domain "},
{"id": 257310, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-17T09:49:09Z", "scrap_date": "2024-05-01T00:14:53.644272", "content": "I tried serverlessdomainmanager but it only works in useast1 Im located in euwest1 Are there other ways to add custom domain to API Gateway"},
{"id": 257311, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-17T22:36:14Z", "scrap_date": "2024-05-01T00:14:53.645272", "content": "Just create your certificate on useast1 and itll work on any region you are creating the custom domain "},
{"id": 257312, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-20T13:26:35Z", "scrap_date": "2024-05-01T00:14:53.646273", "content": "juanangosto I created the certificates in the useast1 region but i still receive the same error when i execute sls create_domain Error Could not find the certificate mycertificatname mydomain was not created in API Gateway Any idea what im missing My serverless yml looks like service myserverlessservice provider name aws runtime java8 stage optstage dev region euwest1 custom config file serverless selfprovider stage cfg yml try using this config file object customDomain basePath selfcustom config path domainName selfcustom config domainName stage optstage dev certificateName selfcustom config certificateName createRoute53Record true package artifact builddistributionshello zip functions hello handler com serverless Handler events https path file serverless dev cfg yml path method get plugins UPDATE Nevermind i was using the wrong certificationName It has to be the Domain Name of the certificate not the Name "},
{"id": 257313, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-20T14:53:33Z", "scrap_date": "2024-05-01T00:14:53.647273", "content": "Next stop Error Error Cannot find AWSApiGatewayDeployment Try running sls create_domain first at Usersvandercpintellijmyserverlessservicenode_modulesserverlessdomainmanagerindex js9713 at process _tickDomainCallback node js4129 From previous event at PluginManager invoke usrlocallibnode_modulesserverlesslibclassesPluginManager js36622 at PluginManager spawn usrlocallibnode_modulesserverlesslibclassesPluginManager js38417 at Deploy usrlocallibnode_modulesserverlesslibpluginsdeploydeploy js12050 From previous event at Object Deploy hooks beforedeploydeploy [as hook] usrlocallibnode_modulesserverlesslibpluginsdeploydeploy js11010 at usrlocallibnode_modulesserverlesslibclassesPluginManager js36655 From previous event at PluginManager invoke usrlocallibnode_modulesserverlesslibclassesPluginManager js36622 at PluginManager run usrlocallibnode_modulesserverlesslibclassesPluginManager js39717 at usrlocallibnode_modulesserverlesslibServerless js10433 at processImmediate [as _immediateCallback] timers js38317 From previous event at Serverless run usrlocallibnode_modulesserverlesslibServerless js9174 at usrlocallibnode_modulesserverlessbinserverless4250 Someone any idea create_domain is already successfully called at this point Update There was a type in the events config http s http solved this issue"},
{"id": 257314, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-04T11:53:38Z", "scrap_date": "2024-05-01T00:14:53.650273", "content": "Ive used this plugin successfully and I have a working example at httpsgithub comVadorequestserverlesswithnext the example is actually much more than just serverlessdomainmanager but it partially relies on it But its still a real headache one year later to configure custom domains and certificate I always setup my custom domain and certificates from the AWS console and do it manually mostly because most examples show how to do it that way But its become so complicated for me now Im really looking forward a way of doing it through the serverless yml Im looking for examples and best practices I read that most people suggest to have a different serverless yml to do this kind of stuff its totally fine But Im really missing examples of this Im no sysadmin and Im literally wasting days of work on this kind of setup Im currently working on a new project with a very complicated AWS Accounts architecture and Ive been failing for almost 3 days now despite AWS Support helping me A guide would definitely be useful and I havent seen any besides httpsserverless comblogserverlessapigatewaydomain which doesnt cover enough things and relies on a lot of manual operations "},
{"id": 257315, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-18T07:54:58Z", "scrap_date": "2024-05-01T00:14:53.652275", "content": "i am getting error with create_domain PS C\\Users\\parik\\Desktop\\test_ser_custopm serverless create_domain Serverless Error Serverless command create_domain not found Did you mean create Run serverless help for a list of all available commands i did run npm install serverlessdomainmanager i am getting the the below warning npm WARN awspython 1 0 No description npm WARN awspython 1 0 No repository field npm WARN awspython 1 0 No license field "},
{"id": 257316, "question_id": 2573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-19T00:31:03Z", "scrap_date": "2024-05-01T00:14:53.653274", "content": "parikannappan It looks like the serverlessdomainmanager plugin is not loaded Did you add it to the list of plugins in your serverless yml as indicated by the documentation It should look like this"},
{"id": 77082, "question_id": 7708, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-19T02:16:02Z", "scrap_date": "2024-05-01T00:14:54.671848", "content": "Serverless Version 1 39 0 Switching to version 1 39 1 fixed the issue "},
{"id": 31042, "question_id": 3104, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-19T02:54:54Z", "scrap_date": "2024-05-01T00:14:55.458706", "content": "The normalized id should would be MuUserPool that means the CF name ought to be CognitoUserPoolMyUserPool like you suggest however this seems not to be the case In my case I have AppUserPool and this is the sls output Either the docs are wrong or there is a bug IMO "},
{"id": 77462, "question_id": 7746, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-20T22:12:27Z", "scrap_date": "2024-05-01T00:14:56.498788", "content": "Thats not exactly what you asked for but you can instead use bitbucket repository variables There is also an option to make a secret variable"},
{"id": 77463, "question_id": 7746, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-20T22:45:04Z", "scrap_date": "2024-05-01T00:14:56.499788", "content": "I am loading the variables in env yml from bitbucket repository variables"},
{"id": 76392, "question_id": 7639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-21T15:46:07Z", "scrap_date": "2024-05-01T00:14:56.858634", "content": "wizabhishek IAM roles are given to users so you can just create a IAM user grant him the role you want and use its credentials "},
{"id": 75982, "question_id": 7598, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T23:51:18Z", "scrap_date": "2024-05-01T00:14:57.605054", "content": "Im having a similar issue but I cant see your files because the links you posted are blank "},
{"id": 75983, "question_id": 7598, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-21T22:41:36Z", "scrap_date": "2024-05-01T00:14:57.605054", "content": "Maybe your lambda is inside a vpc and cannot access DDB If thats the case you can simply add an endpoint I think thats the name to DDB that lets the vpc objects to speak with DDB Also check the security groups "},
{"id": 77622, "question_id": 7762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-21T23:25:30Z", "scrap_date": "2024-05-01T00:14:58.505448", "content": "I was missing the following roles"},
{"id": 34682, "question_id": 3468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-13T00:22:06Z", "scrap_date": "2024-05-01T00:15:00.554515", "content": "1 for this does anyone have successful experience with CN regions"},
{"id": 34683, "question_id": 3468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-19T09:46:00Z", "scrap_date": "2024-05-01T00:15:00.555515", "content": ""},
{"id": 34684, "question_id": 3468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T05:12:11Z", "scrap_date": "2024-05-01T00:15:00.555515", "content": "Using Serverless framework for AWS China is possible Many additional steps are required to make the serverless framework in AWS China Create a separate profile e g cn in aws and add your region name cnnorthwest1 and the access key and secret access key in the credentials file When deploying the serverless framework you will need to use this profile serverless deploy awsprofile cn The EDGE API gateway configuration is not supported in AWS China region So you will be to configure API gateway type in the serverless yaml file endpointType REGIONAL arnawscndynamodbcnnorthwest1table arnawscns3 EnvironmentVariablesFeature is not supported in cnnorthwest1 region So you will need to remove if there are any environment variables used for Lambda The next issue is related to permission for API Gateway to call Lambda You might get an error like The provided principal was invalid Please check the principal and try again Serverless has provided a solution you will need to install a node js plugin from serverless Resolve serverless invalid principal issue when deploying in China region GitHub bearyserverlesspluginawscnprincipal Resolve serverless invalid principal issue when deploying in China re 403 forbidden exception when API was invoked via Postman or CURL The API gateway needs to be whitelisted for your AWS Account using either by getting an ICP exception or ICP recordal Forums Hope this helps regards dattatray "},
{"id": 74472, "question_id": 7447, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T09:15:28Z", "scrap_date": "2024-05-01T00:15:01.169790", "content": "I found a solution on stackoveflow create two fifos mkfifo fifo_stdin mkfifo fifo_stdout in one terminal In the same terminal open stdout on background and write to stdin cat fifo_stdout cat fifo_stdin In python code create the the pdb object and use it import pdb mypdb pdb Pdb stdinopen fifo_stdin r stdoutopen fifo_stdout w mypdb set_trace Run python script from the folder where fifos were placed or place fifos in the first step in the folder with python code in another terminal Now I am able to use pdb in first console PS It is useful to use noTimeout option while debugging sls offline noTimeout"},
{"id": 32882, "question_id": 3288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-31T11:48:17Z", "scrap_date": "2024-05-01T00:15:02.314187", "content": "I found its cloudformation setting for custom access logging the related keyword is which need be set in resource Amazon API Gateway Stage So I should be fine to manage it with below codes let me test it "},
{"id": 32883, "question_id": 3288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-03T14:26:45Z", "scrap_date": "2024-05-01T00:15:02.315187", "content": "Hi are you able to setup the custom access logging in Cloudformation"},
{"id": 32884, "question_id": 3288, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-03T20:22:26Z", "scrap_date": "2024-05-01T00:15:02.315187", "content": "No It is supported in API but not cloudformation I cant find the keyword accessLogSettings in below aws document Amazon API Gateway Stage MethodSetting"},
{"id": 32885, "question_id": 3288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-17T07:03:09Z", "scrap_date": "2024-05-01T00:15:02.316188", "content": "cassiesu I successfully did it via aws cli as work around aws cli supports accessLogSettings httpsdocs aws amazon comclilatestreferenceapigatewayupdatestage html Wrote simple script to enable this feature So I can run below command to enable custom access log on nominated APIG Reference httpsforums aws amazon commessage jspamessageID715755"},
{"id": 32886, "question_id": 3288, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-04T09:59:44Z", "scrap_date": "2024-05-01T00:15:02.317188", "content": "It is now supported via cloudformation as you can see in the docs Syntax is the following I dont know since when but now its possible"},
{"id": 32887, "question_id": 3288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-01T00:15:12Z", "scrap_date": "2024-05-01T00:15:02.317188", "content": "Thats great Thanks for the updates "},
{"id": 25172, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-17T21:43:36Z", "scrap_date": "2024-05-01T00:15:03.355452", "content": "Ive never tried to define the variables in the path and request properties at the same time although I can see where you got the example from in the docs Try this definition Youll still see the id variable in the event pathParameters object i e event pathParameters id "},
{"id": 25173, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T06:04:35Z", "scrap_date": "2024-05-01T00:15:03.356453", "content": "Hi tanks for your answer I have done this before The lambda functions are working this way but AWS then doesnt have the path parameters in the generated SDK "},
{"id": 25174, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T09:15:25Z", "scrap_date": "2024-05-01T00:15:03.357453", "content": "Sorry I dont understand what you mean by generated SDK If you go to userstest do you see the value test in the event pathParameters id property If so then path parameter is being mapped to the variable defined "},
{"id": 25175, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T10:46:39Z", "scrap_date": "2024-05-01T00:15:03.358447", "content": "I mean the API Gateway Client SDK Generation on AWS after you deploy your API "},
{"id": 25176, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T19:59:36Z", "scrap_date": "2024-05-01T00:15:03.358447", "content": "Ah now I understand Ive never used that myself so Im not sure whats missing to connect your serverless yml function definition and the SDK definition "},
{"id": 25177, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-08-22T20:28:03Z", "scrap_date": "2024-05-01T00:15:03.359454", "content": "Hi gkTim this might help"},
{"id": 25179, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T17:57:40Z", "scrap_date": "2024-05-01T00:15:03.359454", "content": "Ive been looking ages for this Thank you Sorry to revive this old post but after 2 years this problem still exist "},
{"id": 251710, "question_id": 2517, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-01T12:26:38Z", "scrap_date": "2024-05-01T00:15:03.360454", "content": "Hey thats awesome thats why I posted it Yeah I dont know how many people are using the Generated SDK in this crowd "},
{"id": 75382, "question_id": 7538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-01T19:26:11Z", "scrap_date": "2024-05-01T00:15:04.407881", "content": "The issue was the use of async The async keyword executes asynchronously and will return a Promise Since its an asynchronous function the Lambda is being terminated before it could actually execute the callback Credit goes to help on httpsstackoverflow comquestions54945218awslambdanodesoapfunctionserverlessframework "},
{"id": 75532, "question_id": 7553, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T08:01:08Z", "scrap_date": "2024-05-01T00:15:05.442590", "content": "I have resolved it set below path export NODE_PATHusrlocallibnode_modules"},
{"id": 75152, "question_id": 7515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T14:20:15Z", "scrap_date": "2024-05-01T00:15:06.577032", "content": "Hi I also have the same problem For now I am downgrading to 1 36 and using the deprecated serverlesswebsockets plugin Could you ping me if you find a solution Thanks"},
{"id": 75153, "question_id": 7515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T15:14:17Z", "scrap_date": "2024-05-01T00:15:06.577032", "content": "Hi yes i found one solution will share once i done For now you can assign iamrolestatements policies at provider level and which will joined with the policies of the default IAM role at runtime Therefore your default role would be set on all types of API functions and by adding policies to it you are providing more permissions Thanks Ankur"},
{"id": 75154, "question_id": 7515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T15:20:03Z", "scrap_date": "2024-05-01T00:15:06.578032", "content": "Hi Also after downgrading the serverlessplugin version is it working fine like can we provide roles for both types at provider level I am also looking for how to use single role for all my deployment and dont want default to be role created Can you help please Thanks Ankur"},
{"id": 75155, "question_id": 7515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T15:53:12Z", "scrap_date": "2024-05-01T00:15:06.579032", "content": "Yes This works Adding a policy to the default role created works "},
{"id": 75156, "question_id": 7515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T15:55:49Z", "scrap_date": "2024-05-01T00:15:06.580032", "content": "I think that the default role is in the code and I have checked so far I would like to be wrong and have not seen anyway that the core code can retrieve a customuser defined role Also I have not tried to downgrade yet But I will try the option of downgrading and using the deprecated serverlesswebsockets plugin before the end of the day Also thanks for your help "},
{"id": 75157, "question_id": 7515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-04T16:05:12Z", "scrap_date": "2024-05-01T00:15:06.581033", "content": "Welcome I have just tried the websocket deployment and it seems we can only define role for websocket functions like either in default handlers onconnect disconnect or in sendmessage handler like below In this case the connect disconnect routes will be deploy with default IAM role but it should be fine functions hello handler CsharpHandlersAwsDotnetCsharp HandlerHello name APITypeHello selfprovider stage name APITypeHello role arnawsiam rolelambdarolenew events http path apishipments method post integration lambda cors true onConnect handler CsharpHandlersAwsDotnetCsharp WSSConnectHandlerWSSConnect name onConnect selfprovider stage name OnConnect events websocket route connect websocket route disconnect chatMessage handler CsharpHandlersAwsDotnetCsharp WebsocketHandlerGetWSSRequest name chatMessage selfprovider stage name chatMessage role arnawsiam rolelambdarolenew events websocket route chatMessage"},
{"id": 75842, "question_id": 7584, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T02:18:52Z", "scrap_date": "2024-05-01T00:15:07.626770", "content": "What does the expected resultant CF would look like"},
{"id": 75843, "question_id": 7584, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T02:27:17Z", "scrap_date": "2024-05-01T00:15:07.627770", "content": "if we going to use cloudformation it will look something like"},
{"id": 9762, "question_id": 976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T21:51:03Z", "scrap_date": "2024-05-01T00:15:08.313200", "content": "So I can vouch that it is totally possible to assume a role from within a Lambda function You just need to watch out because once youve assumed a role especially if it is in another account then you might not have permission to log to CloudWatch Logs as you did before you assumed the role so your debugging might be difficult I will try and find the code I used but it wasnt in a Serverless project so may not be immediately useable for you Have you tired giving it permission to assume all roles i e Resource in the iamRoleStatements section and get that working before you try restricting it Youre definitely right to want to restrict it but first make sure its not that thats causing you issues "},
{"id": 9763, "question_id": 976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-20T08:28:15Z", "scrap_date": "2024-05-01T00:15:08.314200", "content": "Yes I started with the broadest permissions but it doesnt work either Glad to hear that it should work so that I know I just miss some piece in the puzzle and thanks for pointing out to the logs permisions I probably wouldnt realized it at the first go But it shouldnt influence the assuming itself right When the role to assume doesnt exist at all it still fails on Not authorized to perform stsAssumeRole "},
{"id": 9764, "question_id": 976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-20T09:22:52Z", "scrap_date": "2024-05-01T00:15:08.315201", "content": "I just found the code that I used and realised that I didnt actually do an assume role I simply updated the SDK to use the targets Access Key Id and Secret Access Key In my code I set them like this Unfortunately it means you need longlived keys which may or may not work for you "},
{"id": 9765, "question_id": 976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-06T22:32:02Z", "scrap_date": "2024-05-01T00:15:08.316200", "content": "This is an old issue but you dont need long lived keys If the lambda is invoked using a role that has trust with the other account you can use sts assumerole For posterity so no one goes down the long lived keys route Ill post the answer I only gave this link a quick review but it seems to have the goods One of the biggest issues with the current version of the AWSSDKJS is that role credentials are not initialised as nice This is a stackoverflow answer which doesnt show all the trust policies but just some concise code"},
{"id": 9766, "question_id": 976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T12:23:48Z", "scrap_date": "2024-05-01T00:15:08.317201", "content": "needs to have a trust policy that allows the role with which your lambda executes to assume it Here is one useful link This is a Bug Report Description My lambda function tries to assume a role using aws sdk like this ``` const sts new aws STS region process env REGION const roleName ` this env SERVICE_NAME _ecr_role` sts assumeRole RoleSessionName roleName RoleArn `arnawsiam this env ACCOUNT_ID role roleName ` Policy JSON stringify Version 20121017 Statement [ Effect Allow Action [ ecrGetDownloadUrlForLayer ecrPutImage ecrInitiateLayerUpload ecrUploadLayerPart ecrCompleteLayerUpload ecrGetAuthorizationToken ecrBatchCheckLayerAvailability cloudwatchlogs ] Resource `arnawsecr this env REGION this env ACCOUNT_ID repository this env SERVICE_NAME test_repository` ] promise ``` But it fails on ``` AccessDenied Not authorized to perform stsAssumeRole at Request extractError vartasknode_modulesawssdklibprotocolquery js4029 at Request callListeners vartasknode_modulesawssdklibsequential_executor js10520 at Request emit vartasknode_modulesawssdklibsequential_executor js7710 at Request emit vartasknode_modulesawssdklibrequest js66814 at Request transition vartasknode_modulesawssdklibrequest js2210 at AcceptorStateMachine runTo vartasknode_modulesawssdklibstate_machine js1412 at vartasknode_modulesawssdklibstate_machine js2610 at Request anonymous vartasknode_modulesawssdklibrequest js389 at Request anonymous vartasknode_modulesawssdklibrequest js67012 at Request callListeners vartasknode_modulesawssdklibsequential_executor js11518 at Request emit vartasknode_modulesawssdklibsequential_executor js7710 at Request emit vartasknode_modulesawssdklibrequest js66814 at Request transition vartasknode_modulesawssdklibrequest js2210 at AcceptorStateMachine runTo vartasknode_modulesawssdklibstate_machine js1412 at vartasknode_modulesawssdklibstate_machine js2610 at Request anonymous vartasknode_modulesawssdklibrequest js389 ``` Even when my lambda role has configured policy to allow `stsAssumeRole` on `` heres the whole role definition httpsgithub comkebooladeveloperportalblobmasterserverless ymlL362 Is it necessary to set something more then what I have or is it some kind of bug Thanks for help Additional Data Serverless Framework Version you are using 1 2 Operating System macOS 10 12"},
{"id": 74432, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T15:07:46Z", "scrap_date": "2024-05-01T00:15:09.447875", "content": "This would be really useful the docs say to do auth in the connect but would be nice to use existingsimilar auth functions I already have "},
{"id": 74433, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T16:30:16Z", "scrap_date": "2024-05-01T00:15:09.447875", "content": "Looks like this will be officially supported in the coming Serverless release of 1 39 0 1 Please check out and follow our Contributing Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 2 Do not remove any section of the template If something is not applicable leave it empty but leave it in the PR 3 Please follow the template otherwise we will have to ask you to update it and it will take longer until your PR is merged What did you implement Closes 5857 Closes 5874 Briefly describe the feature if no issue exists for this PR How did you implement it If this is a nontrivial change please briefly describe your implementation so its easy for us to understand and review your code Using the Authorizer CF template and mapping it to the Route template and setting the required permissions How can we verify it Using the following service ```yml service websocketauthorizers provider name aws stage dev runtime nodejs8 10 functions connect handler handler connect events websocket route connect authorizer name auth identitySource route request header Auth route request querystring Auth default handler handler default events websocket route default auth handler handler auth ``` ```js handler js use strict const AWS require awssdk the following section injects the new ApiGatewayManagementApi service into the Lambda AWS SDK otherwise you will have to deploy the entire new version of the SDK START ApiGatewayManagementApi injection const Service apiLoader AWS apiLoader services[apigatewaymanagementapi] const model metadata apiVersion 20181129 endpointPrefix executeapi signingName executeapi serviceFullName AmazonApiGatewayManagementApi serviceId ApiGatewayManagementApi protocol restjson jsonVersion 1 1 uid apigatewaymanagementapi20181129 signatureVersion v4 operations PostToConnection http requestUri connections connectionId responseCode 200 input type structure members Data type blob ConnectionId location uri locationName connectionId required [ConnectionId Data] payload Data paginators shapes AWS ApiGatewayManagementApi Service defineService apigatewaymanagementapi [20181129] Object defineProperty apiLoader services[apigatewaymanagementapi] 20181129 eslintdisablenextline get function get return model enumerable true configurable true END ApiGatewayManagementApi injection module exports connect event context cb cb null statusCode 200 body Connected module exports default async event context cb const client new AWS ApiGatewayManagementApi apiVersion 20181129 endpoint `https event requestContext domainName event requestContext stage ` await client postToConnection ConnectionId event requestContext connectionId Data `default route received event body ` promise cb null statusCode 200 body Sent module exports auth async event context return principalId user policyDocument Version 20121017 Statement [ Action executeapiInvoke Effect Allow Resource event methodArn ] ``` deploy then connect to the ws url ``` wscat c wssID executeapi useast1 amazonaws comdevAuthfoo H Authbar connection should SUCCEED because you provided both identity sources querystring header wscat c wssID executeapi useast1 amazonaws comdev H Authbar connection should FAIL because you ONLY provided the header and your serverless yml clearly states that you need the querystring identity source If you remove the `identitySource` from `serverless yml` it should SUCCEED because using ONLY the header is the default behavior ``` Add any applicable config commands screenshots or other resources to make it easy for us to verify this works The easier you make it for us to review a PR the faster we can review and merge it Examples serverless yml Fully functioning to easily deploy changes Screenshots Showing the difference between your output and the master Cloud Configuration List cloud resources and show that the correct configuration is in place e g AWS CLI commands Other Anything else that comes to mind to help us evaluate Todos [x] Write tests [x] Write documentation [x] Fix linting errors [x] Make sure code coverage has not dropped [x] Provide verification config commands resources [x] Enable Allow edits from maintainers for this PR [x] Update the messages below Is this ready for review YES Is it a breaking change NO"},
{"id": 74434, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-28T16:54:18Z", "scrap_date": "2024-05-01T00:15:09.454877", "content": "Thats great thanks "},
{"id": 74435, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T15:05:11Z", "scrap_date": "2024-05-01T00:15:09.455877", "content": "Are Websocket authorizers supported in 1 38 Docs for 1 38 seem to indicate they are httpsserverless comframeworkdocsprovidersawseventswebsocketusingauthorizers I also tried this out myself but was unable to get my auth handler to run when route connect am I missing something"},
{"id": 74436, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T15:21:03Z", "scrap_date": "2024-05-01T00:15:09.456877", "content": "I believe it will be supported in 1 39 although they seem already updated the doc ahead of the new release If you really need it now you have to manually configure it from the console or use cli "},
{"id": 74437, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T15:27:06Z", "scrap_date": "2024-05-01T00:15:09.457878", "content": "Yep Ill be doing as you suggest Just needed to confirm for my own sanity"},
{"id": 74438, "question_id": 7443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-07T17:06:22Z", "scrap_date": "2024-05-01T00:15:09.457878", "content": "I faced a similar problem and I decide to pull the code directly from master npm install That seems to fix it "},
{"id": 23022, "question_id": 2302, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-17T00:58:26Z", "scrap_date": "2024-05-01T00:15:10.158732", "content": "Im not sure you can If you look at the doco for variables youll see you cant set the keys in the yaml file using variables Note You can only use variables in serverless yml property values not property keys So you cant use variables to generate dynamic logical IDs in the custom resources section for example I think its the same for all providers but Ive linked to the AWS one You should be able to change the path though because that is a value not a key Taking a step back though why do you want to do this It seems to break the usual tradition of building a single artifact and promoting it up through your environments If you change things when it goes to production you havent really tested what is being deployed in your CI environment "},
{"id": 23023, "question_id": 2302, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-17T03:53:53Z", "scrap_date": "2024-05-01T00:15:10.160732", "content": "The Serverless framework automatically names your Lambda based on the service stage and function name So if your service is called sls and the function is chameleon and youre deploying to a stage ci then the lambda will be named slscichameleon When you deploy to prod it would become slsprodchameleon You dont need to do anything for this to happen "},
{"id": 23024, "question_id": 2302, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-08T15:13:03Z", "scrap_date": "2024-05-01T00:15:10.161733", "content": "Would I be able to do the same dynamic naming for other resource i e SNS topic"},
{"id": 67682, "question_id": 6768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-20T07:35:23Z", "scrap_date": "2024-05-01T00:15:11.199823", "content": "Finally this issue was solved "},
{"id": 67683, "question_id": 6768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-19T02:03:47Z", "scrap_date": "2024-05-01T00:15:11.200823", "content": "Please can you advise how did you solve this I am still getting this error An error occurred SNSSubscription Topic does not exist Thanks"},
{"id": 67684, "question_id": 6768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-19T10:56:52Z", "scrap_date": "2024-05-01T00:15:11.201823", "content": "You can solve this issue by writing yml file like below Maybe we should write Subscription section under Topic section Thanks"},
{"id": 67685, "question_id": 6768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-09T19:31:04Z", "scrap_date": "2024-05-01T00:15:11.201823", "content": "If you need to add a subscription to a topic before its created you can do "},
{"id": 75652, "question_id": 7565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-10T04:21:51Z", "scrap_date": "2024-05-01T00:15:12.301090", "content": "From the documentation on this page Enabling CORS for a REST API resource Amazon API Gateway You must set up an OPTIONS method to handle preflight requests to support CORS However OPTIONS methods are optional if 1 an API resource exposes only the GET HEAD or POST methods and 2 the request payload content type is applicationxwwwformurlencoded multipartformdata or textplain and 3 the request does not contain any custom headers When possible we recommend to use OPTIONS method to enable CORS in your API cors true in the serverless file sets up API gateway to respond to the OPTION preflight request However its only needed if the browser makes one In your case the browser may not be making one "},
{"id": 75653, "question_id": 7565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-10T04:22:49Z", "scrap_date": "2024-05-01T00:15:12.303090", "content": "You ALSO need to set the headers in your response like you said youre doing "},
{"id": 75654, "question_id": 7565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-10T19:53:01Z", "scrap_date": "2024-05-01T00:15:12.304091", "content": "Makes sense thanks "},
{"id": 76412, "question_id": 7641, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-12T03:37:14Z", "scrap_date": "2024-05-01T00:15:13.213629", "content": "Problem got fixed I had a use case where I had to show a custom message to user so I was using javascript template literals string in environment variable After I removed my recent changes things started working as before "},
{"id": 75592, "question_id": 7559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-12T11:20:21Z", "scrap_date": "2024-05-01T00:15:14.188997", "content": "I tried using Node js runtime in the AWS Lambda and was able to send messages using websocket from Lambda Check this link httpsmedium freecodecamp orgrealtimeapplicationsusingwebsocketswithawsapigatewayandlambdaa5bb493e9452 And also tried using boto3 python runtime but getting the same error as u faced Let me know if you have achieved using boto3 in AWS Lambda "},
{"id": 21172, "question_id": 2117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T00:30:05Z", "scrap_date": "2024-05-01T00:15:15.159261", "content": "Have you defined the right runtime for your service It sounds like the service is trying to import your Python code as a Node module "},
{"id": 21173, "question_id": 2117, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-03-31T19:09:05Z", "scrap_date": "2024-05-01T00:15:15.160250", "content": "also getting these all of sudden today checked everything deleted node_modules etc etc etc START RequestId bbf91003351411e8a5620b564eacadc5 Version LATEST 185301 Unable to import module generaluserStoreInfo Error hours now trying to solve this"},
{"id": 21174, "question_id": 2117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-24T19:37:25Z", "scrap_date": "2024-05-01T00:15:15.161250", "content": "Any ideas how to resolve this When running sls deploy v the function gets created in Lambda with the expected environment variables When I execute the Lambda function I get Heres my code handler py serverless yml"},
{"id": 43232, "question_id": 4323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T13:56:49Z", "scrap_date": "2024-05-01T00:15:17.156766", "content": "Anyone I can see that input parameters go into the event json into my lambda Can anyone at a minimum explain what stageParams does Its not obvious to me and I cant find anything in the docs Thanks "},
{"id": 43233, "question_id": 4323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-12T13:08:46Z", "scrap_date": "2024-05-01T00:15:17.157763", "content": "Yeah I would love to know the same Unclear from the docs"},
{"id": 43234, "question_id": 4323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-14T02:16:35Z", "scrap_date": "2024-05-01T00:15:17.158764", "content": "input and inputPath map to AWS constructs stageParams is just a subitem of input and appears to be a made up name showing that you can nest things under input"},
{"id": 73832, "question_id": 7383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-15T16:30:57Z", "scrap_date": "2024-05-01T00:15:18.146012", "content": "My mistake seems max value applies to openwhisk but not aws Got lost in the doco "},
{"id": 73902, "question_id": 7390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-15T22:27:10Z", "scrap_date": "2024-05-01T00:15:19.248150", "content": "Figured it out myself One of the file was a key file And on my mac only i had read access to it Changed that and its working "},
{"id": 26132, "question_id": 2613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-18T08:19:12Z", "scrap_date": "2024-05-01T00:15:20.256972", "content": "Also looked for that and could not find This seems very basic to me am I missing something"},
{"id": 26133, "question_id": 2613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-18T14:43:37Z", "scrap_date": "2024-05-01T00:15:20.257972", "content": "Just in case anyone struggles with this challenge I managed to do it with the great serverlessapistage plugin "},
{"id": 15052, "question_id": 1505, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-03-19T01:11:56Z", "scrap_date": "2024-05-01T00:15:21.056482", "content": "If you manually delete resources then Cloud Formation wont recreate them for you You generally have three options available "},
{"id": 15053, "question_id": 1505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-19T05:05:54Z", "scrap_date": "2024-05-01T00:15:21.057482", "content": "Thanks I followed I first one"},
{"id": 15054, "question_id": 1505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-21T10:05:36Z", "scrap_date": "2024-05-01T00:15:21.057482", "content": "buggy I followed the 3rd options it works Thanks"},
{"id": 74592, "question_id": 7459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-21T21:15:43Z", "scrap_date": "2024-05-01T00:15:22.049613", "content": "I build my template for SAM I put dynamodbupdate and dynamodbquery but If you need more actions I think that goes like this"},
{"id": 73422, "question_id": 7342, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-18T00:38:48Z", "scrap_date": "2024-05-01T00:15:23.123818", "content": "Youre basically looking at 1x CDN and S3 per site if you want unique index pages You could then choose to prerender your routes or not A more advanced solution where you can have multiple routes index pages and domains you would likely need to use Lambda to handle the routing You could either hard code it or implement something like this httpsgithub comidvbmiddyreroute Full disclosure I wrote it to make things like this dead simple "},
{"id": 73423, "question_id": 7342, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-22T06:55:47Z", "scrap_date": "2024-05-01T00:15:23.124816", "content": "Thanks iDVB Ill take a look at the reroute option "},
{"id": 70452, "question_id": 7045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-17T15:29:48Z", "scrap_date": "2024-05-01T00:15:24.241723", "content": "It would be in your serverless yml file under the provider section Make sure you have it set to the appropriate runtime "},
{"id": 70453, "question_id": 7045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-22T19:59:58Z", "scrap_date": "2024-05-01T00:15:24.242723", "content": "The default should be updated from 4 3 to a supported runtime Or an explicit runtime should be required "},
{"id": 13702, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-14T12:57:41Z", "scrap_date": "2024-05-01T00:15:25.320954", "content": "I too am finding it difficult to find a clear answer to this question It seems that Amazon suggests using KMS and enviroment variables Is this possible to set up with Serverless If someone could post some simple instructions or better yet a detailed blog post or video about this Im sure it would be quite popular and helpful Thanks for your help in advance "},
{"id": 13703, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-14T21:34:40Z", "scrap_date": "2024-05-01T00:15:25.321954", "content": "Currently I think the easiest way is using environment variables it means you can set different values depending on environmentstage and you can see where theyre coming from relatively clearly in your serverless yml Via Serverless Variables you can even store your secrets in environment variables on your deployment machine and have them loaded at deploy time This means you dont even need to write them to your serverless yml There is an open feature request to allow you to select a KMS key so that the environment variables are encrypted at deployment i e you cant see them via the console "},
{"id": 13704, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-03-14T23:28:32Z", "scrap_date": "2024-05-01T00:15:25.322955", "content": "jimjimovich This comes up so often I wrote a detailed post explaining exactly how to do it with environment variables Keeping secrets out of Git"},
{"id": 13705, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-16T13:25:23Z", "scrap_date": "2024-05-01T00:15:25.323955", "content": "Thanks After reading your post I was able to figure out the environment variables I also figured out how to use the awscli to encrypt my passwords with KMS and then include the encrypted ciphertext as the environment variable and decrypt it with KMS at run time "},
{"id": 13706, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-29T16:23:53Z", "scrap_date": "2024-05-01T00:15:25.324955", "content": "So here is my initial investigation The serverless example httpsgithub comserverlessexamplestreemasterawsnodeenvvariablesencryptedinafile is still a security problem here because it passes the unencrypted ENV variable as a cloudformation template and you can see the unencrypted value in the console Im not even sure if there is a way with cloudformation to Add encryption helpers and use this key so github issue 2996 might not even be possible The plugin httpsgithub commarcyteruiserverlesscrypt gives you runtime encryption but not using encrypted environment variables you create a file serverlesssecret json via the plugin hooks and the CipherText is decrypted at runtime by an injected module slscrypt This is the most secure and complete way of doing it but unfortunately it isnt using ENV variables and will cost you a call to the KMS API What would be awesome is if you could add encrypted ENV variables that were encrypted by the awslambda key to your cloudformation template and they were automatically decrypted runtime This doesnt seem possible because you cant use the awslambda key to encrypt anything JimJimovich might be able to give a bit more information on exactly how he went about using awscli to encrypt env vars "},
{"id": 13707, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T00:39:41Z", "scrap_date": "2024-05-01T00:15:25.326956", "content": "Serverless Variables Hey Jim could you enlighten us on how you did the KMS part I already have my serverless functions deployed "},
{"id": 13708, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-22T08:07:17Z", "scrap_date": "2024-05-01T00:15:25.326956", "content": "Hey Jim this has been asked before but could you please elaborate on the part where you encrypt and decrypt it at runtime Im struggling a lot with this here"},
{"id": 13709, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-23T19:43:05Z", "scrap_date": "2024-05-01T00:15:25.327956", "content": "I am using KMS which is an aws service I have a file in my local system called secrets json which contains the raw secrets and is not committed into github There is a corresponding file called secrets encrypted which is committed into github and simply contains the encrypted contents of secrets json I then created some gulp scripts which I can run using my aws credentials like this This then encrypts the contents of secrets json and puts it into a file called secrets encrypted I have the inverse as well Which decrypts the contents of secrets encrypted and puts the decrypted contents into secrets json I also made a gulp script which I run before a publish which diffs the decrypted contents of both files and makes sure that they are the same because since Im not committing it into git the two files can become unsynchronized or overwritten by a merge When publishing I publish the encrypted secrets encrypted file During runtime in my lambda it finds secrets encrypted and then uses the KMS api to decrypt its contents When looking to decrypt you dont have to specify a key the KMS api will use the current users access rights to find and try a key until decryption is successful In my case I have a single key in my account that I use and grant access rights to users or roles that need it and it has a well known name You then use that key to do the encryption KMS keys can be found under the IAM Encryption Keys section in the AWS console From there just create a key and give it access here is an example access policy which would let any user or role in your account use the key to encrypt decrypt files When you create a key this way it gets a Key ID and an ARN you need to use that ARN for encryption not decryption Here is my entire encrypt decrypt set of commands for Gulp4"},
{"id": 137010, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-26T13:57:46Z", "scrap_date": "2024-05-01T00:15:25.330957", "content": "Hey thank you so much for the thorough explanation Has definitely helped me a lot it works now and the usage of gulp is very nice too Appreciated "},
{"id": 137011, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-10T23:02:20Z", "scrap_date": "2024-05-01T00:15:25.331957", "content": "By the way it may be easier to store secrets in the new AWS Secrets Manager I tested it out today with Go in a lambda function and it works quite well AWS Secrets Manager to Rotate Manage Retrieve Secrets"},
{"id": 137012, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-09T07:06:04Z", "scrap_date": "2024-05-01T00:15:25.332958", "content": "jimjimovich Seconding AWS Secrets Manager Ive used it quite a bit for DB Credentials as well as API Keys and it seems to work really slick in Python Ive even combined it with environmental variables as buggy suggests to have different secrets managers for the different stages If anyone is looking for a quick example handler py serverless yml I also wrote a more detailed post on setting up the secrets manager here if anyone is still having issues httpspythoninthe cloudblogusingawssecretsmanagertokeepyourdatabasepasswordsafefrompryingeyes"},
{"id": 137014, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-20T05:06:41Z", "scrap_date": "2024-05-01T00:15:25.333958", "content": "Hey guys would you be concerned about the extra resources required for the execution of retrieving the secrets from KMS Essentially every time a lambda gets executed itll have to decrypt the secret adding CPU memory execution time or is this only while the function is not warm Ideas"},
{"id": 137015, "question_id": 1370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-23T07:01:01Z", "scrap_date": "2024-05-01T00:15:25.334958", "content": "Hey tgmedia I believe if you do the decryption in a global context and store the results in a global variable like my example above it will remain cached while the function is warm So youd only be paying for the decryption when starting a cold container"},
{"id": 74062, "question_id": 7406, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-22T18:46:36Z", "scrap_date": "2024-05-01T00:15:26.278026", "content": "Yes multiple Lambda functions are supported Your question seems to do more with packaging you want each of those functions to package the code of just one function See httpsserverless comframeworkdocsprovidersawsguidepackagingpackagingfunctionsseparately for more information on how to do that "},
{"id": 74063, "question_id": 7406, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-26T03:48:40Z", "scrap_date": "2024-05-01T00:15:26.279025", "content": "Thanks for your help This is now considered as resolved "},
{"id": 11532, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T17:02:41Z", "scrap_date": "2024-05-01T00:15:27.292915", "content": "Have you solved this I am looking at sharing code between my functions and cant make it work "},
{"id": 11533, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T17:24:45Z", "scrap_date": "2024-05-01T00:15:27.293915", "content": "I ended up using webpack to create a bundle per function When using webpack set the library target to commonjs2 then in yml Im setting the function handler to e g webpackbundle1 handler Im not sure this is the best approach but at least it works for what I need "},
{"id": 11534, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T17:34:45Z", "scrap_date": "2024-05-01T00:15:27.294915", "content": "Ok thanks I will give it a try if I cant find another solution Have you tried this module serverlesssharedlibrary"},
{"id": 11535, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T18:11:16Z", "scrap_date": "2024-05-01T00:15:27.294915", "content": "no Im not aware of that module If you do find another solution maybe you can post it on this forum"},
{"id": 11536, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T15:56:50Z", "scrap_date": "2024-05-01T00:15:27.295915", "content": "I just use simple syntax like this to include another file var routehelper require routesroutehelpers Does that not work for you"},
{"id": 11537, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T16:49:45Z", "scrap_date": "2024-05-01T00:15:27.295915", "content": "I sure it will I was no aware I can specify a path in the lambda handler and without that the handler is placed at root level meaning you cannot include files above If instead you change the folder structure to something like this and then define the handlers as Then Im sure it will work"},
{"id": 11538, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-01-25T16:04:19Z", "scrap_date": "2024-05-01T00:15:27.296916", "content": "I solved this problem in a simple way using symbolic links Then i just import libfile as usual inside any of the native services file and it works When serverless zips the services it follows the links and actually creates a normal file it works great "},
{"id": 11539, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-13T05:17:52Z", "scrap_date": "2024-05-01T00:15:27.297916", "content": "polvoazul excellent solution thank you "},
{"id": 115310, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-05-13T12:36:39Z", "scrap_date": "2024-05-01T00:15:27.297916", "content": "Here is my solution add below lines in pacakge json The local package common will be copied to nodemodulescommon as other npm modules when you run npm install Then you should be fine to reference the shared library as other npm modules const common require common Reference httpsdocs npmjs comfilespackage jsonlocalpaths"},
{"id": 115311, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-13T12:39:12Z", "scrap_date": "2024-05-01T00:15:27.298916", "content": "how you put the symbolic link"},
{"id": 115312, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-25T18:57:56Z", "scrap_date": "2024-05-01T00:15:27.299917", "content": "I usually like to stay away from symbolic links What is wrong with creating a shared folder and adding all the common code there trying to figure out if symbolic links are serving a specific purpose"},
{"id": 115313, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-25T18:58:59Z", "scrap_date": "2024-05-01T00:15:27.300918", "content": "ln s Use symbolic links to store application files elsewhere without breaking the app that depends on them "},
{"id": 115314, "question_id": 1153, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-27T12:38:42Z", "scrap_date": "2024-05-01T00:15:27.300918", "content": "Hey there how you managed to get serverless yml working with the webpack outside of the folder Do you have a main serverless yml How do you shared common config between them Also how are you running the serverlessoffline plugin I have a similar architecture but using TS "},
{"id": 74892, "question_id": 7489, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-27T12:40:16Z", "scrap_date": "2024-05-01T00:15:28.175190", "content": "maybe you have your lambdas inside a VPC If so you need to create a NAT and set the route table to get internet access in your lambda"},
{"id": 76902, "question_id": 7690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-25T00:22:03Z", "scrap_date": "2024-05-01T00:15:29.139320", "content": "This domainspecific bioinformatics paper might give you an idea on how to proceed We have used serverless AWS Lambda functions to align 640 million reads in less than 3 minutes a speedup of 500x over the singlethreaded implementation Using a hybrid cloud architecture and software modified to optimize disk transfers an entire Just look at the simple method Hope that helps "},
{"id": 77332, "question_id": 7733, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-25T15:14:33Z", "scrap_date": "2024-05-01T00:15:29.932149", "content": "I figured it out when I was inputting the command to run my create file I was calling myProfile instead of default and so it was looking for a profile that doesnt exist "},
{"id": 79732, "question_id": 7973, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-13T18:05:38Z", "scrap_date": "2024-05-01T00:15:31.006777", "content": "Hi it seems to me that you have just forgotten to add a few spaces before arn and topicName So it should be Could you check it out p s you can try to use topicArn Ref snsTopic instead of FnJoin "},
{"id": 79733, "question_id": 7973, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-13T21:49:39Z", "scrap_date": "2024-05-01T00:15:31.007777", "content": "Both worked beautifully thank you It must have been the tears of frustration that prevented me from noticing the missing spaces I do appreciate your kind help "},
{"id": 79734, "question_id": 7973, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-14T12:08:55Z", "scrap_date": "2024-05-01T00:15:31.008777", "content": "yw happy to help"},
{"id": 79862, "question_id": 7986, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-14T14:05:48Z", "scrap_date": "2024-05-01T00:15:31.857270", "content": "Hi it seems to me that when you write env OAUTH_CLIENT_ID OAUTH_CLIENT_ID your OAUTH_CLIENT_ID refers to the terminal env variable the terminal doesnt have these variables thats why OAUTH_CLIENT_ID and OAUTH_CLIENT_SECRET are empty Can it be a problem Im using this plugin for such things httpswww npmjs compackageserverlessdotenvplugin "},
{"id": 79863, "question_id": 7986, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-14T15:05:19Z", "scrap_date": "2024-05-01T00:15:31.858270", "content": "Thanks for the response The values are getting set correctly serverless logs the full values from the terminal experts and I tried setting the values as plain strings to rule this out as an issue the variables were still not getting set "},
{"id": 79864, "question_id": 7986, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-14T16:10:00Z", "scrap_date": "2024-05-01T00:15:31.859270", "content": "Ive tried to use an env param by myself it works but I use node js sls 1 40 0 maybe somebody who works with golang will help you p s I think it would be useful if you provide a serverless yml a piece of code where you try to use these variables"},
{"id": 52672, "question_id": 5267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-05T00:16:07Z", "scrap_date": "2024-05-01T00:15:33.885561", "content": "I am seeing the same issue According to Amazon docs in httpsdocs aws amazon comlambdalatestdgcreatedeploymentpkgzipjava html library dependencies should be placed as jars in a lib subdirectory in the zip file The zip I produce is working on AWS but with invoke local the jar files within the zip are not added to the classpath "},
{"id": 52673, "question_id": 5267, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-05T01:15:44Z", "scrap_date": "2024-05-01T00:15:33.886562", "content": "I have had some luck using a shadowJar which explodes all of the jars before sipping everything up See httpsimperceptiblethoughts comshadow Maven also has a similar concept "},
{"id": 17862, "question_id": 1786, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-30T21:58:55Z", "scrap_date": "2024-05-01T00:15:34.759341", "content": "Do you get anything more interesting if you run SLS_DEBUG serverless deploy verbose If not youll probably just have to log a ticket against the plugin "},
{"id": 17863, "question_id": 1786, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-05T05:16:27Z", "scrap_date": "2024-05-01T00:15:34.760348", "content": "Doublecheck that you are actually in a serverless project folderdirectory that has a serverless yml I just caught myself with this same error forgetting id cdd up one level earlier"},
{"id": 61392, "question_id": 6139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T21:56:10Z", "scrap_date": "2024-05-01T00:15:35.809804", "content": "rafaextradev Did you ever resolve this Im just starting with Google Cloud Platform and encountering the same problem "},
{"id": 61393, "question_id": 6139, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-28T05:43:58Z", "scrap_date": "2024-05-01T00:15:35.810805", "content": "Me too I can invoke but not invoke local returns nothing "},
{"id": 61394, "question_id": 6139, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-05T11:13:03Z", "scrap_date": "2024-05-01T00:15:35.811805", "content": "Same problem here anyone have solved this Serverless version 1 36 3"},
{"id": 52622, "question_id": 5262, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-18T17:42:21Z", "scrap_date": "2024-05-01T00:15:36.463707", "content": "Any update on this topic I am not sure if the Python Runtime for Google Cloud Functions is already supported by the serverless framework Documentation only mentions Node js But sometimes docs are behind the implementation "},
{"id": 52623, "question_id": 5262, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-06T13:29:00Z", "scrap_date": "2024-05-01T00:15:36.464708", "content": "Hey Franky yes this is possible However the docs seemed to be outdated and only talk about the NodeJS runtime SLS at the moment AFAIR also lacks a python runtime template for GCP cloud functions You can check this GH issue which shows you an example serverless yml Based on this I was able to get everything working "},
{"id": 71802, "question_id": 7180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-29T07:34:11Z", "scrap_date": "2024-05-01T00:15:37.269916", "content": "Ive used custom user attributes in Cognito User Pool Kind regards Robert"},
{"id": 71803, "question_id": 7180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-29T10:25:05Z", "scrap_date": "2024-05-01T00:15:37.270916", "content": "Thanks very much for this suggestion Robert I may have misunderstood but I think that if I take this approach I would be restricting access at the lambda level rather than at the API Gateway I imagine that this is a less secure approach although I dont know enough about the security side to know just how much of an issue this might be In the context of the project Im currently working on this might be a tradeoff Im willing to make but Id be very interested to hear from anyone who knows more about the security implications here "},
{"id": 71804, "question_id": 7180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-07T14:21:21Z", "scrap_date": "2024-05-01T00:15:37.271916", "content": "Correct its prone to another layer of developer error when it comes to access restrictions Otherwise your initial approach sounds safe albeit a bit more cumbersome If you can live with two separate logins and pools for admins and nonadmins that could be another approach Another option would be to have two separate pools but have a lambda layer that checks the hashed preferably email to know which pool it should authorize with "},
{"id": 72982, "question_id": 7298, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T00:59:17Z", "scrap_date": "2024-05-01T00:15:38.057915", "content": "Problem solved I needed to add a second resource definition for the files e g arnawss3myBucket arnawss3 "},
{"id": 63032, "question_id": 6303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-31T12:04:14Z", "scrap_date": "2024-05-01T00:15:39.444950", "content": "I had to set the"},
{"id": 63033, "question_id": 6303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T08:05:39Z", "scrap_date": "2024-05-01T00:15:39.445950", "content": "You can also set AccessControlAllowOrigin using lambda proxy integration to avoid setting it in all of your functions response headers "},
{"id": 72462, "question_id": 7246, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T08:06:46Z", "scrap_date": "2024-05-01T00:15:40.218393", "content": "ACMCertificateArn Doh could it be that Im using uppercase when it should be"},
{"id": 73052, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T09:02:29Z", "scrap_date": "2024-05-01T00:15:41.041872", "content": "Can you share the serverless yml you are using to deploy your endpoint Usually the cors true option is added per http event you want to enable cors for Alsoyou will need to add the necessary cors headers such as AccessControlAllowOrigin to every response from your lambdas yourself "},
{"id": 73053, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T09:45:46Z", "scrap_date": "2024-05-01T00:15:41.042872", "content": "I updated my post with the http config in my serverless yml The lambda code is ready for it as you stated I just need to enable CORS for method response header "},
{"id": 73054, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T12:27:46Z", "scrap_date": "2024-05-01T00:15:41.043879", "content": "Your response will look something like"},
{"id": 73055, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T21:00:45Z", "scrap_date": "2024-05-01T00:15:41.044873", "content": "What if I need to return a different status code rather than 200 This is why I need to return 200 for CORS using method response "},
{"id": 73056, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T21:12:45Z", "scrap_date": "2024-05-01T00:15:41.044873", "content": "You can return any status code you like Mine was just an example And the example is within your lambda So if you need to return a status code indicating that the correct data was not sent with the request it would be Or pehaps some infrastructure you are talking to errored out your response could be Pretty much any API Gateway response from your lambda must include the cors headers Whether you are returning success or failure status codes "},
{"id": 73057, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T21:23:51Z", "scrap_date": "2024-05-01T00:15:41.045873", "content": "This is actually what I have but still getting CORS error unless I create a 200 status code for CORS header in API method response like this The 200 status code is created automatically if I create the method from UI console then when I enable CORS also via console it adds AccessControlAllowOrigin header here "},
{"id": 73058, "question_id": 7305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-08T21:36:31Z", "scrap_date": "2024-05-01T00:15:41.046874", "content": "Im not sure what to tell you I have multipel Lambdas returning more than 200 status codes along with all required CORS headers without issue Perhaps your attempt at manual editing of the API Gateway settings has negatively affected the outcome Could you try redeploying to a different stage and include CORS headers for your non 200 status code responses and see how it goes You can do that by adding stage [stage name] to your sls deploy command which will spin up a different stack that wont overwrite your current one"},
{"id": 35892, "question_id": 3589, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-25T08:10:07Z", "scrap_date": "2024-05-01T00:15:41.741920", "content": "Hi dbeja I dont see any problems in the snippet you provided Do you have more resources defined in serverless yml I can post my working example of serverless yml for cognito its quite long though Cheers Igor"},
{"id": 35893, "question_id": 3589, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-25T11:00:12Z", "scrap_date": "2024-05-01T00:15:41.742919", "content": "Yes igorkosta that would be helpful My serverless yml is also quite long and split in multiple files The other parts I have in resources are a User Pool Client and a Cognito Identity"},
{"id": 35894, "question_id": 3589, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-25T15:38:33Z", "scrap_date": "2024-05-01T00:15:41.743920", "content": "CognitoIdentityProviders not sure if you saw this example already I took almost everything from it I hope it helps I am not using the IndentityPool with cognito so Im not sure if I really can help Nevertheless if it doesnt help ping me again and Ill try to help "},
{"id": 35895, "question_id": 3589, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-13T03:47:45Z", "scrap_date": "2024-05-01T00:15:41.744920", "content": "we are trying to automatically create cognito user pool by specifying cloudformation resources and including that to the serverless yml pretty much a similar scenario We were facing the circular dependency issue when we tried referring the preauth trigger to the user pool and provide an IamRoleStatement for the lambda to invoke the cognito user pool something like the below statement iamRoleStatements [ Effect Allow Action [cognitoidp] Resource FnJoin [ [ arnawscognitoidp Ref AWSRegion Ref AWSAccountId userpool Ref CognitoUserPoolMyUserPool ] ] This causes a circular dependency between the resources even referring through FnGetAtt [CognitoUserPoolMyUserPool Arn] or selfcustom env USER_POOL_ARN didnt work Do you have any suggestions to this"},
{"id": 35896, "question_id": 3589, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-18T08:53:46Z", "scrap_date": "2024-05-01T00:15:41.746921", "content": "When this happens the best option is usually to use httpsgithub comfunctionaloneserverlessiamrolesperfunction so each function gets their own set of permissions instead of all sharing the one setup "},
{"id": 35897, "question_id": 3589, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-09T12:07:20Z", "scrap_date": "2024-05-01T00:15:41.747921", "content": "buggy thanks for your input This does work using the serverlessiamrolesperfunction It fixed the circular dependency issue "},
{"id": 16752, "question_id": 1675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T01:20:09Z", "scrap_date": "2024-05-01T00:15:42.747975", "content": "The events property for your function definition needs to be a YAML array This is probably because the example code is for a different version of Serverless than youre running "},
{"id": 16753, "question_id": 1675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T02:24:07Z", "scrap_date": "2024-05-01T00:15:42.748974", "content": "If you need help debugging your serverless yml file then its best to include the relevant sections in your post So many of these problems come down to formatting "},
{"id": 16754, "question_id": 1675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-12T00:56:37Z", "scrap_date": "2024-05-01T00:15:42.749975", "content": "You are right Im new to yaml as well and didnt know that indentation was important "},
{"id": 16755, "question_id": 1675, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2017-04-18T07:18:48Z", "scrap_date": "2024-05-01T00:15:42.750975", "content": "The events property for your function definition needs to be a YAML array http use a space between and http This may solve your problem "},
{"id": 16756, "question_id": 1675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-11T12:56:35Z", "scrap_date": "2024-05-01T00:15:42.750975", "content": "Thanks akhilesh this worked for me "},
{"id": 7342, "question_id": 734, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-11T17:58:14Z", "scrap_date": "2024-05-01T00:15:43.477043", "content": "Im experiencing the same problem Some of my SNS subscriptions work others dont No discernible pattern Any ideas anyone"},
{"id": 19682, "question_id": 1968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-11T18:06:02Z", "scrap_date": "2024-05-01T00:15:44.504133", "content": "Im having a very similar issue Did you ever figure out what was going on here"},
{"id": 19683, "question_id": 1968, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-11T18:55:39Z", "scrap_date": "2024-05-01T00:15:44.505134", "content": "Sadly I havent we dropped using serverless along the way to switch to terraform If you want a bit more details there was an issue thread I created on the Serverless repo maybe something in it would help you more This is a Bug Report Description For bug reports What went wrong When I deploy a certain service not all preexisting SNS events subscriptions are registered in the lambda triggers 18 out of 22 What did you expect should have happened That all the events are properly subscribed too What was the config you used ```YAML custom baseEventName FnJoin [ [arnawssnsRef AWSRegion Ref AWSAccountId event optstage selfprovider stage ]] functions onIncomingMessage handler index onIncomingMessage events sns arn FnJoin [ [ selfcustom baseEventName onBusinessUpdated]] topicName onBusinessUpdated sns arn FnJoin [ [ selfcustom baseEventName onBusinessAccountCompleted]] topicName onBusinessAccountCompleted 20 more like that ``` What stacktrace or error message from your provider did you see NA According to CloudFormation everything was created succesfully Additional Data Serverless Framework Version you are using 1 13 2 but happens with 1 14 0 too Operating System Linux Mint Stack Trace NA Provider Error messages NA Good luck"},
{"id": 68402, "question_id": 6840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-07T15:59:02Z", "scrap_date": "2024-05-01T00:15:45.593270", "content": "Hi Kedarnag13 You need to use the alias name of your function sls create test f createInsider Regards"},
{"id": 68403, "question_id": 6840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-12T06:20:04Z", "scrap_date": "2024-05-01T00:15:45.594270", "content": "Thank you I figured it out a while ago "},
{"id": 65792, "question_id": 6579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-28T10:21:47Z", "scrap_date": "2024-05-01T00:15:46.401361", "content": "Ive tried to do this by myself and here are my results cloudformationCancelUpdateStack cloudformationContinueUpdateRollback cloudformationCreateStack cloudformationDeleteStack cloudformationDeleteStackSet cloudformationDescribeChangeSet cloudformationDescribeStackEvents cloudformationDescribeStackResource cloudformationDescribeStacks cloudformationExecuteChangeSet cloudformationGetStackPolicy cloudformationGetTemplate cloudformationListChangeSets cloudformationListStackResources cloudformationUpdateStack cloudformationValidateTemplate iamAttachRolePolicy iamCreateRole iamDeleteRole iamDeleteRolePolicy iamDetachRolePolicy iamGetPolicy iamGetRole iamListAttachedRolePolicies iamListPolicies iamListRolePolicies iamListRoles iamPutRolePolicy iamUpdateRole iamPassRole lambdaAddPermission lambdaCreateAlias lambdaCreateEventSourceMapping lambdaCreateFunction lambdaDeleteAlias lambdaDeleteEventSourceMapping lambdaDeleteFunction lambdaGet lambdaList lambdaPublishVersion lambdaRemovePermission lambdaTagResource lambdaUntagResource lambdaUpdate logsCreateLogGroup logsCreateLogStream logsDeleteLogGroup logsDeleteLogStream logsDeleteRetentionPolicy logsDeleteSubscriptionFilter logsPutMetricFilter logsPutSubscriptionFilter logsDescribeLogGroups s3DeleteObject s3DeleteObjectVersion s3GetObject s3GetObjectVersion s3PutObject s3CreateBucket s3ListBucket s3ListBucketVersions This is enough for first deploy and future deploys Serverless Framework version 1 33 2 Also I think it can be reduced too cause Serverless Framework might not need some of these policies If you have some thoughts about this list feel free to comment "},
{"id": 65793, "question_id": 6579, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-12T13:42:48Z", "scrap_date": "2024-05-01T00:15:46.404356", "content": "I think that with IAM policies youve mentioned you can get other access easily So does not seem to be very useful to cut the permissions down "},
{"id": 72972, "question_id": 7297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-12T16:35:07Z", "scrap_date": "2024-05-01T00:15:47.426531", "content": "Fixed this through Swagger Example code as under indent preformatted text by 4 spaces ``` swagger 2 0 info version 20171017T174744Z title UserMgtAPI basePath environment schemes https paths ftpuser post xamazonapigatewayauth type aws_iam produces applicationjson responses 200 description When create user request successful schema ref definitionsEmpty 400 description When API vallidation error happens schema ref definitionsEmpty xamazonapigatewayintegration responses default statusCode 200 uri FnSub arnawsapigateway AWSRegion lambdapath20150331functions FtpUserMgmtLambda Arn invocations passthroughBehavior when_no_match httpMethod POST contentHandling CONVERT_TO_TEXT type aws_proxy definitions Empty type object title Empty Schema"},
{"id": 65422, "question_id": 6542, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-23T01:44:43Z", "scrap_date": "2024-05-01T00:15:49.249762", "content": "There is some screwy path dependency issue I cant resolve with softlinks and node js Running now using npx components deploy"},
{"id": 71412, "question_id": 7141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-23T18:34:00Z", "scrap_date": "2024-05-01T00:15:50.347698", "content": "You should use module and put requirement txt to function folder that needed it example if function1 needs requirement"},
{"id": 71012, "question_id": 7101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T21:43:32Z", "scrap_date": "2024-05-01T00:15:51.440592", "content": "I cant even seem to get the example mentioned here httpsserverless comframeworkdocsprovidersawseventss3 to work without complaints of circular references from CF I think I have been very careful to follow the rules about naming "},
{"id": 71013, "question_id": 7101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-23T18:47:33Z", "scrap_date": "2024-05-01T00:15:51.441592", "content": "I was able to solve this on my own I left a comment about it here httpsgithub comserverlessserverlessissues4194issuecomment455568672"},
{"id": 71542, "question_id": 7154, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-25T22:36:33Z", "scrap_date": "2024-05-01T00:15:52.305643", "content": "confirmed with serverlessoffline team they dont support pythonrequirementplugin"},
{"id": 47072, "question_id": 4707, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-26T17:04:14Z", "scrap_date": "2024-05-01T00:15:53.021271", "content": "Hey did you get to solve this I am actually experiencing same issue"},
{"id": 47073, "question_id": 4707, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-28T08:12:57Z", "scrap_date": "2024-05-01T00:15:53.022272", "content": "I have oriented towards this example httpsgithub comefimkserverlessdjangodemo works for me now "},
{"id": 70682, "question_id": 7068, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-30T05:26:37Z", "scrap_date": "2024-05-01T00:15:53.812847", "content": "The Serverless Framework is one of many tools you can use to deploy Lambdas AWS has a similar tool called SAM You could also use the AWS CLI "},
{"id": 71032, "question_id": 7103, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-30T05:36:29Z", "scrap_date": "2024-05-01T00:15:54.931819", "content": "I assumed the property names would align to cloud formation docs They do According to the docs it should be"},
{"id": 58212, "question_id": 5821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T13:46:19Z", "scrap_date": "2024-05-01T00:15:56.018128", "content": "Hi Id like to come back to this topic since I do not have a solution yet and would assume that this is possible but out of my knowledge I currently create my lambda functions like this Problem is when I create a new userpool for some reason like changing the name I need to update the ARN and so on So how can I reference the userpool that I created within the very same serverless yml as authorizer Thanks a lot for anyone helping "},
{"id": 58213, "question_id": 5821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-30T05:41:09Z", "scrap_date": "2024-05-01T00:15:56.019128", "content": "You need to use GetAtt instead of Ref httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpool html For example GetAtt [CognitoUserPoolMyUserPool Arn]"},
{"id": 72242, "question_id": 7224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-01T05:16:28Z", "scrap_date": "2024-05-01T00:15:56.610491", "content": "You will pretty much always have to hard code to an existing ARN The only way to get it more automated is to backup the data in your table delete it define it in serverless yml with stream option turned on and then link the function in that way and restore your data A tool Ive found useful for doing these kinds of migrations is httpsgithub combchewdynamodump"},
{"id": 72243, "question_id": 7224, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-01T10:54:10Z", "scrap_date": "2024-05-01T00:15:56.611491", "content": "Yeah I was thinking about it Thanks "},
{"id": 68572, "question_id": 6857, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-01T13:17:09Z", "scrap_date": "2024-05-01T00:15:57.711572", "content": "Any can please help on this or what is best approach for the same"},
{"id": 71902, "question_id": 7190, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-02-01T15:20:25Z", "scrap_date": "2024-05-01T00:15:58.702080", "content": "With version 1 36 2 and higher there is a change in how sls login works You need to install the Enterprise Plugin Instructions are here The good news is that by doing so you will be rewarded with a bunch of new features in your dashboard Serverless Insights metrics and alerts Serverless Insights help you monitor and optimize your serverless applications Serverless Safeguards operational and security best practices Serverless Safeguards performs policy checks when you run sls deploy More details on those new features can be found here "},
{"id": 20502, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-06-15T00:14:17Z", "scrap_date": "2024-05-01T00:15:59.547024", "content": "In your serverless yaml file you can use cloud formation template to create cognito pool as shown below and then you can use the output of the cognito pool how ever you want in this example I created an env variable that will be injected to lambdas Hope this helps "},
{"id": 20503, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-19T12:19:40Z", "scrap_date": "2024-05-01T00:15:59.548024", "content": "Im also having trouble with this I can create the user pool but I cant seem to reference the user pool as a cognito provider in the identity pool section and it fails saying the provider name is wrong Its hard to find sample for these things "},
{"id": 20504, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-22T22:05:00Z", "scrap_date": "2024-05-01T00:15:59.549024", "content": "USER_POOL FnGetAtt [ userPool Arn ] That syntax works great for the environment variables but Im trying to set the authorizer arn and this Fails Im guessing in part because of order of operations What Id like is for the Resources to generate and then fetch the arn to put as my authorizer "},
{"id": 20505, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T13:08:18Z", "scrap_date": "2024-05-01T00:15:59.550024", "content": "try with FnGetAtt [ UserPool Arn ] on a new line"},
{"id": 20506, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T14:41:15Z", "scrap_date": "2024-05-01T00:15:59.550024", "content": "You can still reference the environment variable within the authorizer or define the environment variable for that function Havent tried it but try and see what happens If there is dependency issue Cloud Front provides depends on clause you can use that so you can manage the order of resource creation"},
{"id": 20507, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T17:07:14Z", "scrap_date": "2024-05-01T00:15:59.551025", "content": "altcatalin Thanks for the idea but it still barfs on it on a new line pgali The environment variable can be read in the function no problem but Im trying to get the framework to set up the authorizer for me automatically That may be asking to much Im beginning to think 8 "},
{"id": 20508, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T17:36:50Z", "scrap_date": "2024-05-01T00:15:59.552025", "content": "have you also tried with the long function form httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferencegetatt html this works"},
{"id": 20509, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T20:05:21Z", "scrap_date": "2024-05-01T00:15:59.553026", "content": "FYI just got confirmation that this is a bug that will be fixed as part of a larger ARN issue workaround described here This is a Feature proposal Description Note This issue was updated from a bug report to a feature proposal The implementation of the Basically create your stack once come back to your serverless yml and hard code the ARN that gets generated "},
{"id": 205010, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-24T10:41:02Z", "scrap_date": "2024-05-01T00:15:59.553026", "content": "I found this gist on github which helped solve a lot of my problems httpsgist github comsingledigit2c4d7232fa96d9e98a3de89cf6ebe7a5"},
{"id": 205011, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-23T03:36:21Z", "scrap_date": "2024-05-01T00:15:59.554026", "content": "Ive gotten this to work with text message verification using gist from barticus but how it works with email verification I am not sure "},
{"id": 205012, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-09T21:07:40Z", "scrap_date": "2024-05-01T00:15:59.555026", "content": "Has anyone found out more about this Im looking to do the exact same thing you nerdguru Cant see to get the authorizer to take in a GetAtt call to the resource I keep getting the SLS error functionArn split is not a function"},
{"id": 205013, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-23T00:10:01Z", "scrap_date": "2024-05-01T00:15:59.556026", "content": "I was able to get serverless to generate my identity pool using the following Hope this helps"},
{"id": 205014, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 9, "created_date": "2017-12-30T15:52:22Z", "scrap_date": "2024-05-01T00:15:59.556026", "content": "This will setup userpools that are compatible with awsamplify"},
{"id": 205015, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T16:49:48Z", "scrap_date": "2024-05-01T00:15:59.557027", "content": "Thanks jonsmirl your example has been extremely helpful to me Any chance you could tell me what Id need to change to configure the User Pool resource so that it is set up to use the users email address as their username I can do this via the AWS console but I want to put this config in serverless yml "},
{"id": 205016, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T17:20:56Z", "scrap_date": "2024-05-01T00:15:59.557027", "content": "I think you remove the name field But does amplify support that yet I dont think they have gotten around to making the userpool stuff configurable yet "},
{"id": 205017, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T17:41:40Z", "scrap_date": "2024-05-01T00:15:59.558027", "content": "I dont really know much about amplify I just want to add the config for my user pool to my serverless service and I was able to take what I needed from your example and use that to create a user pool successfully just not with the exact config I need The name field is different to username so I dont think removing that will achieve what I want Are you able to point me in direction of any docstutorials that might help me out Thanks again "},
{"id": 205018, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2018-02-27T17:55:57Z", "scrap_date": "2024-05-01T00:15:59.559028", "content": "Use the UI to get it the way you like it Then use the CLI to describe it aws cognitoidp describeuserpool userpoolid xxxxxxx"},
{"id": 205019, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T21:44:57Z", "scrap_date": "2024-05-01T00:15:59.560028", "content": "Ah ha Didnt know I could do that Thanks thats super helpful "},
{"id": 205020, "question_id": 2050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-11T06:27:49Z", "scrap_date": "2024-05-01T00:15:59.560028", "content": "hi all so i want use cognito pool id use in lambda function i try to import UserPoolId to env varible and then use env varible inside lambda but its not work got a error circuiler dependency error within serverless deploy"},
{"id": 69992, "question_id": 6999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-16T00:43:19Z", "scrap_date": "2024-05-01T00:16:00.569224", "content": "Im experiencing the same issue I have export SLS_DEBUG and no additional data is displayed the deploy ends with assumeRole I have a personal account that doesnt assumeRole and it succeeds fine with full deployment details and launch of services Using profile seems to cause it to stopshort "},
{"id": 69993, "question_id": 6999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-22T09:39:38Z", "scrap_date": "2024-05-01T00:16:00.570224", "content": "The same happens to me It used to work when AWS_SDK_LOAD_CONFIG is set to true "},
{"id": 69994, "question_id": 6999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-31T02:02:48Z", "scrap_date": "2024-05-01T00:16:00.571224", "content": "We are seeing the same exact issue when trying serverless deploy and specifying any awsprofile This just works if the the only profile available is default and nothing is specified so that default is picked up automatically Same exact lack of debugging information "},
{"id": 69995, "question_id": 6999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-01T22:13:32Z", "scrap_date": "2024-05-01T00:16:00.572225", "content": "Adding my report to this as well I have two profiles one specified in by profle AWS_PROFILEstaging and a production one AWS_PROFILEproduction that uses AssumeRole with the same credentials Deploying to staging works fine Trying to switch to the other profile just bails no output even with verbose Other attempts to set the profile AWS_PROFILEproduction sls deploy export AWS_PROFILEproduction sls deploy fail in the same way Looks like theres a bug reported with this version httpsgithub comserverlessserverlessissues5755"},
{"id": 69996, "question_id": 6999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-04T21:45:24Z", "scrap_date": "2024-05-01T00:16:00.573225", "content": "Downgraded to 1 35 1 and it works correctly "},
{"id": 39112, "question_id": 3911, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-01T17:31:01Z", "scrap_date": "2024-05-01T00:16:01.629330", "content": "As far as I know your two options are Add all of your functions to a single serverless yml file then do sls deploy Thereafter to update individual functions you can use the command sls deploy f function name such as sls deploy f function_1 If it were me I would use option 1 Depending on your use case that might not be ideal I tend to group my serverless functions by their use For example for an api I would put all of the functions relating to one api into a single serverless file all functions relating to a cognito sign up flow into one and so on and so forth "},
{"id": 39113, "question_id": 3911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-01T21:31:21Z", "scrap_date": "2024-05-01T00:16:01.631327", "content": "Thank you so much for your reply Does splitting the functions into separate severless yml files prevent functions from erasing each other when deployed separately If thats the case then why my collaborator and I are erasing each others functions when we do serverless deploy considering we are using different serverless yml files"},
{"id": 39114, "question_id": 3911, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-01T21:41:22Z", "scrap_date": "2024-05-01T00:16:01.632328", "content": "Maybe I misunderstood your situation It sounds like you two might have the same project name for your service Is the service part of your serverless yml file the same for the both of you If so then that is your issue Just change the service name and serverless will not view them as pertaining to the same project which would explain your experience "},
{"id": 39115, "question_id": 3911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-01T22:07:51Z", "scrap_date": "2024-05-01T00:16:01.633328", "content": "I see We do have the same service name That explains everything Thank you so much for your help"},
{"id": 39116, "question_id": 3911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T03:26:15Z", "scrap_date": "2024-05-01T00:16:01.633328", "content": "Normally I deal with this approach with that you never have name conflict issue with others in the same aws account "},
{"id": 79962, "question_id": 7996, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-16T14:33:40Z", "scrap_date": "2024-05-01T00:16:02.356367", "content": "Hi maybe this is what you need httpsgithub comserverlessserverlessissues4926issuecomment422646518"},
{"id": 42932, "question_id": 4293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-22T09:12:44Z", "scrap_date": "2024-05-01T00:16:02.993767", "content": "Hi Sean Did you have any luck figuring this out Id like to do the same but its tough finding the right information Thanks "},
{"id": 42933, "question_id": 4293, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-22T16:06:00Z", "scrap_date": "2024-05-01T00:16:02.994767", "content": "jiridj yes I have I created a repo a few months back cant guarantee itll work 100 at the moment and its for puppeteer version 1 4 0 but it should be a good starting point to help you out Within the serverless framework just create a function whose handler is similar to the code in the README Enjoy Tooling that allows puppeteer v1 4 0 to run within the AWS Lambda environment GitHub seanhillawspuppeteerlambda Tooling that allows puppeteer v1 4 0 to run within the AWS Lambda environment "},
{"id": 42934, "question_id": 4293, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-22T16:07:11Z", "scrap_date": "2024-05-01T00:16:02.995768", "content": "Also the guy over on this repo has been keeping his dependencies up to date works with puppeteer 1 9 0 Its where I took my compressed Chromium version from masterdist Chrome binary compatible with AWS Lambda Contribute to Kikobeatsawslambdachrome development by creating an account on GitHub "},
{"id": 42935, "question_id": 4293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-17T09:43:55Z", "scrap_date": "2024-05-01T00:16:02.996768", "content": "Maybe this will help you httpsnadeesha github ioheadlesschromepuppeteerlambdaservelerless"},
{"id": 10782, "question_id": 1078, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-06T09:33:54Z", "scrap_date": "2024-05-01T00:16:04.575522", "content": "Funny how this happens Just solved the issue myself I was researching some more and it seems that according to httpdocs aws amazon comamazondynamodblatestdeveloperguideapipermissionsreference html my resource designation was to narrow ListTables operates at the global resource level In other words my yml has changed to"},
{"id": 10783, "question_id": 1078, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-12T03:17:43Z", "scrap_date": "2024-05-01T00:16:04.576523", "content": "Thanks man this was really useful for me I had similar issue and really It is not so easy to access to amazons documentation well sometimes It is not thank you "},
{"id": 37612, "question_id": 3761, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-12T18:36:33Z", "scrap_date": "2024-05-01T00:16:05.661117", "content": "Its true that each cloud provider has slightly different handler function styles and that means you cant just change the provider in the serverless yml file and have the app work perfectly with the new provider I think that managing this is something that could be attempted in the future by creating adapter libraries for each provider with a unified interface for Serverless In the mean time you can make this a lot easier to deal with by practicing clean code What that means is separating your code into different layers For example instead of an AWS Lambda handler performing all of the work for the use case checking the user validity accessing the database to perform some work etc you have separate functions that do this specific work You can call the specific functions from different handlers identically You would just pass in whatever data is needed as parameters For example you might have a function called createUser with parameters of type newUserName string and SQLConnection You can pass these parameters in from the AWS Lambda handler If you switch to Google Cloud Functions in the future youd just have to change the handler code Youd still call the createUser function the same way This style of writing code is pretty useful in general It makes code easier to test and makes it more modular whether or not youre using Serverless "},
{"id": 69852, "question_id": 6985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-12T23:55:04Z", "scrap_date": "2024-05-01T00:16:06.639360", "content": "That will work Some resource like DynamoDB require a different name for each stage To do that I like to set the region and stage in my provider I can then add selfprovider stage to resource names so AWS creates different resources for each stage "},
{"id": 69853, "question_id": 6985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-13T01:04:04Z", "scrap_date": "2024-05-01T00:16:06.640360", "content": "Hi Thanks for your reply What I was thinking is How can I do it dynamically Without providing the data inside the serverless yml file Is there any issue with that approach "},
{"id": 69854, "question_id": 6985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-14T10:55:35Z", "scrap_date": "2024-05-01T00:16:06.641360", "content": "That is how you do it dynamically Heres a more complete example You can now sls deploy stage ANY_ENVIRONMENT and it will set up the complete environment including tables "},
{"id": 31802, "question_id": 3180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-20T18:37:27Z", "scrap_date": "2024-05-01T00:16:07.618892", "content": "Hi Henrik did you ever solve this issue I am trying to do something similar Thanks "},
{"id": 31803, "question_id": 3180, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-20T18:56:52Z", "scrap_date": "2024-05-01T00:16:07.619893", "content": "Hey Im afraid not I resorted to using JSON Web Tokens instead "},
{"id": 31804, "question_id": 3180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-23T21:17:12Z", "scrap_date": "2024-05-01T00:16:07.619893", "content": "Henrik thanks for responding to my question For anyone finding this in the future my solution was to create an apikeyauthorizer module and look up the key based upon the key name This relies on you being able to define the key name in the serverless yml file Theres probably a better way to do this and itd be great to be able to reference a specific key in process env but I could not find a way "},
{"id": 31805, "question_id": 3180, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-14T12:01:25Z", "scrap_date": "2024-05-01T00:16:07.620893", "content": "Hi is there any update or better way to access the generated API Keys"},
{"id": 69972, "question_id": 6997, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T10:23:32Z", "scrap_date": "2024-05-01T00:16:08.425755", "content": "It depends what you changed Serverless uses CloudFormation so you can always look at the CloudFormation documents to see if changing a property will require the bucket to be replaced "},
{"id": 69692, "question_id": 6969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-11T15:43:51Z", "scrap_date": "2024-05-01T00:16:09.389820", "content": "My current workaround is npm i serverless 35 1 g"},
{"id": 69693, "question_id": 6969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-11T15:44:56Z", "scrap_date": "2024-05-01T00:16:09.390820", "content": "If there was an error message I might be able to figure out why it is dying my suspicion is theres some problem with the role assumption "},
{"id": 69694, "question_id": 6969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-14T09:04:28Z", "scrap_date": "2024-05-01T00:16:09.391819", "content": "Also It has the other problem when deploy using this version serverless yml confighandlers yml then I show me the error logs when deploy on CICD Tools on gitlab"},
{"id": 69695, "question_id": 6969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T03:34:54Z", "scrap_date": "2024-05-01T00:16:09.391819", "content": "I have experienced the same exact problem when upgrading from 1 35 1 to 1 36 1 Serverless deploys exit immediately after entering an MFA TOTP Deploys that do not require MFA are successful Downgrading to 1 35 1 solves the problem Id be more than happy to help debug if someone can point me in the right direction "},
{"id": 69696, "question_id": 6969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T20:24:46Z", "scrap_date": "2024-05-01T00:16:09.392820", "content": "We use role assumption CARA with gimmeawscreds on our side so Im pretty sure it is related to that Id be glad to work with somebody on debugging currently I get NO errors even with SLS_DEBUG turned on "},
{"id": 54062, "question_id": 5406, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-12-27T18:01:40Z", "scrap_date": "2024-05-01T00:16:09.887059", "content": "It is possible that the url used is not correct I e if you try to access end point like https apiGatewayPath users instead of the right one https apiGatewayPath EnvironmentName users you will be getting 403 for OPTIONS request "},
{"id": 54063, "question_id": 5406, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T23:52:30Z", "scrap_date": "2024-05-01T00:16:09.888060", "content": "Yep that was it Thanks autushka "},
{"id": 41402, "question_id": 4140, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-19T11:41:08Z", "scrap_date": "2024-05-01T00:16:10.954955", "content": "any update on this Did you stick to a dummy endpoint Im facing the same question right now"},
{"id": 69932, "question_id": 6993, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-15T10:30:25Z", "scrap_date": "2024-05-01T00:16:12.027118", "content": "Your FnGetAtt should probably be"},
{"id": 70272, "question_id": 7027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-19T20:49:36Z", "scrap_date": "2024-05-01T00:16:12.835073", "content": "Theres a fixed size limit on Lambda functions I recommend you minimize your code using serverlessbrowserifier or similar "},
{"id": 66452, "question_id": 6645, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T13:00:47Z", "scrap_date": "2024-05-01T00:16:13.932196", "content": "Im not entirely sure how to handle layers locally Im working on some ideas tho "},
{"id": 66453, "question_id": 6645, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-10T01:38:32Z", "scrap_date": "2024-05-01T00:16:13.933196", "content": "Its not the prettiest thing but heres what Ive been using And then in serverless yml"},
{"id": 66454, "question_id": 6645, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-21T11:46:09Z", "scrap_date": "2024-05-01T00:16:13.934198", "content": "Hey uclaeagit Would you be able to share a bit more about your setup Its a pretty good solution for our project but am I right in thinking that require only accepts literal strings and cant be altered dynamically Thanks "},
{"id": 36162, "question_id": 3616, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T12:42:13Z", "scrap_date": "2024-05-01T00:16:14.783193", "content": "API Gateway websockets serverless reading this article reminded me of this post last year "},
{"id": 70702, "question_id": 7070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-19T16:17:03Z", "scrap_date": "2024-05-01T00:16:15.726451", "content": "Id think you can use the standard pattern for variables to accomplish this I tend to use this pattern in my custom section I have something like Then in your code you use the variable like"},
{"id": 70703, "question_id": 7070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T20:13:13Z", "scrap_date": "2024-05-01T00:16:15.727451", "content": "Hi roboweaver Thank you for your answer Maybe I didnt describe my problem correctly In my case I have list of more than dozen events End for every event I need different values for rate and crobFormat Like Thank you Mike"},
{"id": 71122, "question_id": 7112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-21T22:38:32Z", "scrap_date": "2024-05-01T00:16:16.633277", "content": "It seems like you would need to have different function definitions Like functions And then continue with the bucket customization as you already have "},
{"id": 71123, "question_id": 7112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-22T20:16:11Z", "scrap_date": "2024-05-01T00:16:16.634277", "content": "Adding event in the function does not work you have to add it to the AWSS3Bucket as here is the complete Resource note that we also have to create the LambdaPermission for each of the functions specifically the Naming conventions are XxxLambdaPermissionYyy where Xxx is the lambda function and Yyy is the bucket reference in the function Hope this helps others"},
{"id": 71112, "question_id": 7111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-22T23:54:55Z", "scrap_date": "2024-05-01T00:16:17.046384", "content": "Welp I finally got my question figured out Its been deleted from these forums but it basically boiled down to how to have stagebased bucket names for a function that gets triggered by s3 bucket object creation events The answer my comment is here for posterity httpsgithub comserverlessserverlessissues4194issuecomment456610612"},
{"id": 68982, "question_id": 6898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-23T01:44:33Z", "scrap_date": "2024-05-01T00:16:18.168619", "content": "This is fantastic Thank you for sharing "},
{"id": 68032, "question_id": 6803, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-26T03:08:04Z", "scrap_date": "2024-05-01T00:16:20.388767", "content": "Each Serverless project is deployed as a single CloudFormation stack CloudFormation has a limit of 200 resources in a stack Once you hit that limit you need to split your project into multiple projects If theres even a slim chance your project is going to exceed the 200 resource limit its be better to plan for it now instead of being forced into a restructure after youve hit the limit PS I know 200 sounds like a lot but depending on how you have your functions wired up youre looking at 2040 functions per project "},
{"id": 68012, "question_id": 6801, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-25T02:46:56Z", "scrap_date": "2024-05-01T00:16:21.427845", "content": "Using a UI means that whenever you want to deploy your service youll need to remember how to set up everything This can become time consuming especially if you ever wanted to redeploy your services By using Serverless framework your infrastructure becomes part of your codebase Serverless can invoke your lambda functions directly or locally it also supports a lot of plugins e g serverlessoffline which emulates the API gateway Or if you want to use Typescript theres a plugin for transpiling your source files to javascript You can even write your own plugins if you want to "},
{"id": 68013, "question_id": 6801, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-25T06:37:15Z", "scrap_date": "2024-05-01T00:16:21.429846", "content": "Thanks ikbelkirasan"},
{"id": 68014, "question_id": 6801, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-25T10:10:26Z", "scrap_date": "2024-05-01T00:16:21.429846", "content": "Agree with uikbelkirasan you do not want to be working in the UI itll slow you down If AWS is and will be your only platform you can achieve much of the same functionality with AWS SAM That said where the Serverless Framework really shines is in its portability for other CSPs Being able to develop against this framework and deploy to a variety of providers can be a beneficial layer of abstraction which provides a measure of flexibility especially if you want to protect against vendor lockin or decompose your serverless application in a way that allows you to take advantage of services provided by a number of providers that may have unique features that meet your business needs "},
{"id": 68015, "question_id": 6801, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-26T07:07:16Z", "scrap_date": "2024-05-01T00:16:21.431846", "content": "That said where the Serverless Framework really shines is in its portability for other CSPs Being able to develop against this framework and deploy to a variety of providers can be a beneficial layer of abstraction which provides a measure of flexibility especially if you want to protect against vendor lockin or decompose your serverless application in a way that allows you to take advantage of services provided by a number of providers that may have unique features that meet your business needs I think we need to be very careful with claims like this The Serverless Framework is a deployment framework that can be used with multiple cloud providers This is very different from a framework like Rails or Laravel which abstracts the underlying platform Vendor lockin still exists You cant build an application for AWS then deploy it to other providers without change "},
{"id": 68016, "question_id": 6801, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-26T07:56:55Z", "scrap_date": "2024-05-01T00:16:21.432847", "content": "I agree to an extent but it also depends on the CSP specific featuresservices you make use of Which is why I intimated that decomposing your application to take advantage of a specific service or services from one or more providers could be an advantage depending on your use case Granted if you write an application that uses DynamoDB youre not going to be porting that directly over to Azure I dont think I implied you could but the word of caution is valid nonetheless "},
{"id": 15222, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T20:42:10Z", "scrap_date": "2024-05-01T00:16:22.236876", "content": "what does the sls logs f YourFunctionName t command show for the error logs"},
{"id": 15223, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T20:53:34Z", "scrap_date": "2024-05-01T00:16:22.236876", "content": "This is what Im getting which I interpret to be all good"},
{"id": 15224, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T21:13:52Z", "scrap_date": "2024-05-01T00:16:22.237876", "content": "where are you seeing the 502 error"},
{"id": 15225, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T21:18:29Z", "scrap_date": "2024-05-01T00:16:22.238876", "content": "Make sure to set CORS headers if you are requesting from client httpsgithub comserverlessexamplesblobmasterawsnoderestapiwithdynamodbtodoscreate jsL38 Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework"},
{"id": 15226, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T13:50:37Z", "scrap_date": "2024-05-01T00:16:22.238876", "content": "Just redeployed the function with the headers still getting 502 from Postman and API Gateway item still succeeding in Dynamo"},
{"id": 15227, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-21T18:28:19Z", "scrap_date": "2024-05-01T00:16:22.239877", "content": "Maybe the response object is not correct Forgetting to stringify the body or an invalid statusCode Enabling Cloudwatch logs for the API Gateway will most likely reveal the error it has helped me in the past when troubleshooting issues like this "},
{"id": 15228, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-27T04:36:47Z", "scrap_date": "2024-05-01T00:16:22.240877", "content": "Pretty sure bni is on the right track here it sounds like the response object Look at the code you linked all the errors have console error lines before them so since youre not seeing those errors and your DDB operation is working it pretty much has to be the response object format being wrong Log out the response object and verify it before you callback null response line to be sure "},
{"id": 15229, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-26T18:09:10Z", "scrap_date": "2024-05-01T00:16:22.241878", "content": "Hello ALL Has anyone found a solution I happen to be facing the exact same issue If so please share Thank you in advance Cheers Hamlet"},
{"id": 152210, "question_id": 1522, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-27T06:27:32Z", "scrap_date": "2024-05-01T00:16:22.241878", "content": "I was facing similar issue In my case Lambda was timing out in 6 seconds Lambda was making DDB Update request but because of 3 Provision Write Capacity Units DDB update operation was taking more time and during this time lambda was getting timed out Solutions I increased Provision Write Capacity Units of DDB to required DDB Update operation was taking more time because in my case I was making number of DDB Update operations concurrently so "},
{"id": 67842, "question_id": 6784, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-22T07:42:02Z", "scrap_date": "2024-05-01T00:16:23.224376", "content": "I dont have time to elaborate an answer due to Xmas celebrations but iirc this update statement works for me"},
{"id": 67843, "question_id": 6784, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-24T02:29:33Z", "scrap_date": "2024-05-01T00:16:23.225376", "content": "const params TableName APP STAGE tags Key uuid UpdateExpression ADD tags tags ExpressionAttributeValues tags docClient createSet [foo bar baz] Thank you for your reply Im still getting the same error even with the change I made using createSet "},
{"id": 67844, "question_id": 6784, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-28T03:57:29Z", "scrap_date": "2024-05-01T00:16:23.226377", "content": "I figured out my mistake it was the issue with the Key uuid I had not defined that in the schema it was defined as id RobertBrewitz Thank you for your help "},
{"id": 68292, "question_id": 6829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-28T00:21:06Z", "scrap_date": "2024-05-01T00:16:24.187381", "content": "You can just add the file to include section in your serverless yml file We you run serverless deploy the command will take care of it "},
{"id": 68293, "question_id": 6829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-28T06:31:22Z", "scrap_date": "2024-05-01T00:16:24.188381", "content": "Thanks ikbelkirasan Is the path will be local path inside project folder or anypath which serverless deploy will take care "},
{"id": 68294, "question_id": 6829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-28T12:59:43Z", "scrap_date": "2024-05-01T00:16:24.188381", "content": "I think you can use either relative path or absolute path "},
{"id": 68302, "question_id": 6830, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T13:16:31Z", "scrap_date": "2024-05-01T00:16:25.007087", "content": "I am not sure how helpful my answer is going to be boto3 is already included on lambda Writing a file can only be done in tmp folder so you can create your pdf file as tmpmyfile pdf and then upload this file to S3 "},
{"id": 68462, "question_id": 6846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T13:48:18Z", "scrap_date": "2024-05-01T00:16:26.122641", "content": "Hi Baharul Lambda considers different handlers to be separate functions So if you want to have a get call to firstendpoint access your handler hello function and a post call to access handler hellopost then you would define two functions in your serverless yml file If you want both a get and a post to access the same handler then your example above would route both methods to the same handler function "},
{"id": 68242, "question_id": 6824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-29T17:45:02Z", "scrap_date": "2024-05-01T00:16:26.665898", "content": "I figured it out See the Stackoverflow post if youre interested or have this problem yourself "},
{"id": 68243, "question_id": 6824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T13:51:47Z", "scrap_date": "2024-05-01T00:16:26.666898", "content": "What region was this in I had this problem before by my recent tests have shown that it was fixed httpswww jeremydaly comserverlessconsumerswithlambdaandsqstriggers"},
{"id": 68244, "question_id": 6824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T14:58:57Z", "scrap_date": "2024-05-01T00:16:26.667899", "content": "Its in useast1 N Virginia "},
{"id": 68712, "question_id": 6871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T12:37:09Z", "scrap_date": "2024-05-01T00:16:27.692118", "content": "Make sure you are logging your errors and then take a look at CloudWatch logs to see what the issue is It sounds like your Lambda is throwing errors that youre not catching so an invalid response is being sent to API Gateway Also look at using the serverlessoffline plugin so that you can run your API locally You can either connect to a local database or use a VPN or SSH tunnel to connect to your remote one for testing "},
{"id": 68713, "question_id": 6871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T15:24:26Z", "scrap_date": "2024-05-01T00:16:27.694118", "content": "Ah yes I forgot to mention that the app works fine when running on serverlessoffline and a local postgres instance which is why I suspect it is something to do with rdsvpc configuration As well I attempted to console log like I dont see console log 2 when I tail via sls logs I will check cloudwatch later today thanks for the tips"},
{"id": 68714, "question_id": 6871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T23:42:38Z", "scrap_date": "2024-05-01T00:16:27.695119", "content": "Yeah no errors are present or loggable I imagine its a timeoutconnection issue My handler looks like so callbackWaitsForEmptyEvenyLoop shouldnt be causing the issue Do you know what the error could be"},
{"id": 67192, "question_id": 6719, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-02T03:37:17Z", "scrap_date": "2024-05-01T00:16:28.764237", "content": "Any luck with this If I use Linux containers I get a different error "},
{"id": 67193, "question_id": 6719, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-02T17:08:05Z", "scrap_date": "2024-05-01T00:16:28.765238", "content": "moneerrifai no solution as of yet I have posts here on the pythonrequirements github issues and stack overflow Hopefully something soon "},
{"id": 67194, "question_id": 6719, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-03T19:42:44Z", "scrap_date": "2024-05-01T00:16:28.766238", "content": "I was unable to make the plugin work but I found a better solution anyhow Lambda Layers This is a bonus because it reduces the size of the lambda and allows codefile reuse There is a prebuilt lambda layer for numpy and scipy that you can use but I built my own to show myself how it all works Heres how I made it work Create a layer package"},
{"id": 45062, "question_id": 4506, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-15T01:36:22Z", "scrap_date": "2024-05-01T00:16:29.788428", "content": "This topic has been discussed Terraform with the Serverless Framework take a look first "},
{"id": 45063, "question_id": 4506, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-05T03:03:55Z", "scrap_date": "2024-05-01T00:16:29.789429", "content": "I have done this two ways now The first way was by maintaining a CloudFormation stack with Terraform whose sole purpose was to export Terraform variables through stack exports It was straight forward to import these into the serverless config with the usual CF export caveats ie cant change them cant remove them while another stack is referencing them I used variable versioning to get around this SqsQueueUrl_v1 Recently I created a plugin that will resolve variable substitutions similar to the git and other plugins erverlessterraformoutputs Havent deployed this bit to prod yet so will have to see how it plays out "},
{"id": 69032, "question_id": 6903, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-01-07T01:43:21Z", "scrap_date": "2024-05-01T00:16:30.489540", "content": "If youre trying to package each Lambda individually then The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 69252, "question_id": 6925, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-08T23:24:43Z", "scrap_date": "2024-05-01T00:16:31.171348", "content": "Trigger a new step function and use the Wait type"},
{"id": 69352, "question_id": 6935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T10:03:10Z", "scrap_date": "2024-05-01T00:16:32.242465", "content": "I would like to use serverless to manage my beanstalk instances applications Is it posible is it right No Its the wrong tool "},
{"id": 69302, "question_id": 6930, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T10:02:16Z", "scrap_date": "2024-05-01T00:16:32.924548", "content": "Have a look at Serverless Components From memory theres a REST API component "},
{"id": 69303, "question_id": 6930, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T13:13:44Z", "scrap_date": "2024-05-01T00:16:32.925549", "content": "Thank you buggy Looks like it is this one httpsgithub comserverlesscomponentstreemasterexamplesrestapi I will try it later this week and will report results "},
{"id": 52222, "question_id": 5222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-25T23:13:31Z", "scrap_date": "2024-05-01T00:16:33.935347", "content": "Im leaning towards it being a webpack problem The first thing I would test is changing the entry in your webpack config to manually list the JavaScript entry points instead of using slsw lib entries "},
{"id": 52223, "question_id": 5222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-26T01:29:10Z", "scrap_date": "2024-05-01T00:16:33.936347", "content": "Hi buggy Thanks for the reply I was hoping for a way to configure serverless to accept a multilanguage repo As far as I know the golang serverless examples do not use webpack Im trying to avoid deep diving into webpack internals to get webpack to play nice with other languages I would prefer serverless to not even activate webpack on nonJS lambdas httpsgithub comserverlessheavenserverlesswebpackissues255"},
{"id": 52224, "question_id": 5222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-26T04:30:47Z", "scrap_date": "2024-05-01T00:16:33.937348", "content": "laboro18 The slsw lib entries is an array of function entry points thats automatically created from the serverless yml Im suggesting that you switch from the automatically generated list of entry points to a manually maintained list because I suspect the automatic list also includes the functions using the Go runtime If Im right then using a manual list will stop webpack from trying to compile them "},
{"id": 52225, "question_id": 5222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-26T19:34:02Z", "scrap_date": "2024-05-01T00:16:33.938348", "content": "I am having the same issue with a service that mixes node8 10 and ruby2 5 Lambdas When I tried the solution buggy suggested only my Node Lambda is packaged and the Ruby Lambda has an empty namesake on AWS Console laboro18 were you able to solve your problem If so could you post it here"},
{"id": 52226, "question_id": 5222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T15:30:10Z", "scrap_date": "2024-05-01T00:16:33.939349", "content": "I ended up switching to the following plugin httpswww npmjs compackageserverlesspluginincludedependencies I had to use package individually true at the root level and a couple package includeexclude at the function level for my Ruby Lambda "},
{"id": 5452, "question_id": 545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-15T05:15:48Z", "scrap_date": "2024-05-01T00:16:35.351653", "content": "Hey Jeff yes thats the reason Because it uses HTTP endpoints with the new lambdaproxy integration type we need to parse the payload in order to process it "},
{"id": 5453, "question_id": 545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-15T06:08:34Z", "scrap_date": "2024-05-01T00:16:35.352650", "content": "U mean I need to do something in my code "},
{"id": 5454, "question_id": 545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-16T21:01:34Z", "scrap_date": "2024-05-01T00:16:35.353657", "content": "Hey Jeff The code in the service is written in a way that it can be used right away the body of the response needs to be parsed as its stringified beforehand httpsgithub compmuensserverlesscrudblobmastertodoscreate jsL8 It needs to be updated only when you want to invoke the function from the console "},
{"id": 5455, "question_id": 545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T19:58:53Z", "scrap_date": "2024-05-01T00:16:35.354651", "content": "I am encountering this now I have set up a basic RESTful set of services Everything works fine and I can use Postman curl etc to execute through the API Gateway But I would like to invoke my lambda functions from the CLI directly The problem as mentioned here is that I am trying to parse already parsed JSON e g JSON parse event body Is there a pattern that is being followed to address this"},
{"id": 5456, "question_id": 545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-03T12:09:58Z", "scrap_date": "2024-05-01T00:16:35.355652", "content": "Is there a common pattern to deal with this issue now"},
{"id": 5457, "question_id": 545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T12:28:15Z", "scrap_date": "2024-05-01T00:16:35.355652", "content": "bush if you invoke your Lambda from directly from the CLI then you need to pass in an event object that looks like the one the API Gateway would pass This means the body needs to be a string containing your JSON object In simple terms body JSON stringify YOURJSONOBJECT "},
{"id": 55982, "question_id": 5598, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T20:23:50Z", "scrap_date": "2024-05-01T00:16:36.204532", "content": "HI sorry for the delay on getting back to you here If youre still having the issue can you please post the full output from a run Is that a panic or is that an error value youve seen Though this example reads from dynamodb instead of writing it may help guide you with the connection portion check the seeddynamodb folder masterawsgolangdynamostreamtoelasticsearch Serverless Examples nbspA collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more e "},
{"id": 31822, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-24T11:44:26Z", "scrap_date": "2024-05-01T00:16:37.075755", "content": "maciek miekus SNS subscription filter policies are only new to AWS Its going to take a while before theyre supported by Serverless Given that they dont seem to be supported by CloudFormation it may be a longer wait than usual "},
{"id": 31823, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-24T12:11:44Z", "scrap_date": "2024-05-01T00:16:37.076755", "content": "Thanks buggy for the prompt response I will try to solve it with AWS CLI "},
{"id": 31824, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-06T08:45:28Z", "scrap_date": "2024-05-01T00:16:37.076755", "content": "Is there already an issue open for this so that I can see when you guys are able to implement this"},
{"id": 31825, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-15T08:55:39Z", "scrap_date": "2024-05-01T00:16:37.077756", "content": "Theres now a plugin for that Serverless Framework httpsserverless com to add SNS Subscription Filters GitHub MechanicalRockserverlesssnsfilter Serverless Framework httpsserverless com to add SNS Subscription "},
{"id": 31826, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-03-28T20:58:01Z", "scrap_date": "2024-05-01T00:16:37.078756", "content": "Its been over a year sorry for bringing this back from the dead but is there any existing support for this Alternatively a link to a tracking issue or an example Resource config would be great Cheers"},
{"id": 31828, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-16T00:06:18Z", "scrap_date": "2024-05-01T00:16:37.079756", "content": "This feature seems to be available but does not work I created a stackoverflow question crickets httpsstackoverflow comquestions53269342serverlesssnsfilterpolicydoesnotputfilterinplacewhensubscriptioncreatnoredirect1comment93463364_53269342"},
{"id": 31829, "question_id": 3182, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-13T04:23:54Z", "scrap_date": "2024-05-01T00:16:37.079756", "content": "I was able to get the SNS filter policy to work I responded to anwarhamr in StackOverflow "},
{"id": 52362, "question_id": 5236, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-13T15:48:30Z", "scrap_date": "2024-05-01T00:16:37.982025", "content": "Did you ever figure this out It would be great to have a single deploymentBucket to rule them all "},
{"id": 52363, "question_id": 5236, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-13T16:25:19Z", "scrap_date": "2024-05-01T00:16:37.982025", "content": "See the deploymentPrefix config property documented here example drops it into"},
{"id": 9092, "question_id": 909, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-10T11:49:33Z", "scrap_date": "2024-05-01T00:16:38.861897", "content": "If youre referring to the API Gateway Authoriser functionality then take a look at the serverlessoffline plugin that emulates the API gateway It supports authorisers Emulate AWS and API Gateway locally when developing your Serverless project dheraultserverlessoffline"},
{"id": 9093, "question_id": 909, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-20T00:00:01Z", "scrap_date": "2024-05-01T00:16:38.862898", "content": "Unfortunately that plugin does not support custom authorizers only local ones"},
{"id": 9094, "question_id": 909, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-14T07:39:51Z", "scrap_date": "2024-05-01T00:16:38.863898", "content": "hassankhan Did u found any solution I am using Cognito UserPool "},
{"id": 2292, "question_id": 229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T15:30:59Z", "scrap_date": "2024-05-01T00:16:39.697616", "content": "Are you testing using invoke on the command line or with the browser"},
{"id": 2293, "question_id": 229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:39:27Z", "scrap_date": "2024-05-01T00:16:39.697616", "content": "As contractorwolf already alluded to this variable will not be available by default in your local mocha tests if you run a function Serverless is not automatically integrated with Mocha tests so you have to mock those parameters yourself in local unit tests You should be able to invoke it after its deployed though through serverless invoke"},
{"id": 2294, "question_id": 229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-05T00:51:55Z", "scrap_date": "2024-05-01T00:16:39.698617", "content": "Hey guys Any news on this I want to do the same thing in my local the only way I know to test my functions in my local environment is calling serverless invoke local function function_name In the case that medampudi mentioned how can I pass the phone in command line I checked in httpsserverless comframeworkdocsprovidersawsclireferenceinvokelocal but it seems that there is no any parameter option or something like that If I deploy to the aws and I test with the browser it works but I want to have a way to test it in my local thanks "},
{"id": 2295, "question_id": 229, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-05T13:30:10Z", "scrap_date": "2024-05-01T00:16:39.699617", "content": "I will reply myself The way I found is using path option When you call the endpoint form the browser you can get the parameter in Nodejs like this event pathParameters parID if you want to invoke by command line in your local environment and in order to keep the same source code the way I found is like this serverless invoke local function function_name path libdata json where data json has the pathParameters parameter value e g pathParameters parID123456 I know is not a very elegant solution but it works I hope this can help Regards"},
{"id": 2296, "question_id": 229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-14T02:45:13Z", "scrap_date": "2024-05-01T00:16:39.700617", "content": "Thanks achi2211 this works "},
{"id": 2297, "question_id": 229, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-14T21:40:49Z", "scrap_date": "2024-05-01T00:16:39.701618", "content": "If you want to avoid creating the data json file you can use the data param Like this sls invoke local function function_name data pathParameters parID123456 "},
{"id": 14252, "question_id": 1425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-03T21:54:18Z", "scrap_date": "2024-05-01T00:16:40.766997", "content": "By playing around with DependsOn although there really isnt any dependencies Im able to get the deployment working for now "},
{"id": 14253, "question_id": 1425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-03T22:04:02Z", "scrap_date": "2024-05-01T00:16:40.767997", "content": "To fix this breaking change simply delete the old log group or rename your service if you must keep the old logs I believe this will solve your issue"},
{"id": 14254, "question_id": 1425, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-08T14:44:47Z", "scrap_date": "2024-05-01T00:16:40.767997", "content": "Hitting this issue again This time I have 2 users userA userB both belonging to the same admin group deploying with userAs credential works deploying with userBs credentials consistently fails on the same computer with this error Any suggestions Edit I manually went in and deleted all resources related to the failed deployment and after that I could deploy successful "},
{"id": 14255, "question_id": 1425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-10T14:49:40Z", "scrap_date": "2024-05-01T00:16:40.768998", "content": "Running into exact same issue Was hoping to see some response "},
{"id": 14256, "question_id": 1425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T20:03:29Z", "scrap_date": "2024-05-01T00:16:40.769999", "content": "I manually went in and deleted all resources related to the failed deployment and after that I could deploy successful rakeshk You might need to sls remove and redeploy "},
{"id": 14257, "question_id": 1425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T04:35:48Z", "scrap_date": "2024-05-01T00:16:40.769999", "content": "An additional approach that may help at least on AWS is going into Cloud Formation and identifying the resources that cant deleteupdatecreate Then attach the policies through IAM necessary to allow your serverless user to deletemodifyupdatecreate those resources For me the problem with using a separate user was that the privileges for that user were different The error messaging through serverless did not fully direct me to the scope of the privileges missing to modify the existing resource but AWS Cloud Formation gave additional detail "},
{"id": 40752, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-24T09:11:24Z", "scrap_date": "2024-05-01T00:16:41.586608", "content": "Did you go through this website It gives the most you asked for serverlessstack"},
{"id": 40753, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T01:48:50Z", "scrap_date": "2024-05-01T00:16:41.587608", "content": "Hi bill and others I tried to follow but it doesnt show how to add authorization in yml file I miss the point yes it does and on handler side I show only how to link pool and federated identity I tried to use amazoncognitoidentityjs I got errors If someone have successfully developed api with cognito could you guide me how to do it The project is closed to the deadline and I am stuck in this part Many thanks John"},
{"id": 40754, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-28T04:47:07Z", "scrap_date": "2024-05-01T00:16:41.588608", "content": "Finally I found the solution Thanks bill My solution is that I tried to use cognitoidentity that wrote for nodejs based on awss javascript module BTW the module name that I used is amazoncognitoidentityjsnode Cheers John"},
{"id": 40755, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-28T14:49:52Z", "scrap_date": "2024-05-01T00:16:41.589609", "content": "John how did you solve it So my understanding is if you list your User Pool ARN under authorizer in the YML file itll result in API Gateway using that specified User Pool as the authorizer But then how did you call the API with correct authentication Did you just put one of the three tokens in Authorization header Im trying to access an API thats secured by a User Pool authorizer and have not been able to do so "},
{"id": 40756, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2018-03-28T15:36:26Z", "scrap_date": "2024-05-01T00:16:41.590609", "content": "I found the solution You need to include the ID token in your API get request after logging in It seems that AWS API get does not include the ID token automatically but you need to include it in the header yourself Docs are here httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayenablecognitouserpool html Heres a quick runthrough on how to make authenticated API requests using AWS Amplify to API Gateways that use User Pools as a custom authorizer Essentially the use case here is that you only want users who are logged into a User Pool to have access to an API endpoint Step 1 Enable User Pool Authorization for a Specific Serverless Function In your serverless yml file you want to specify which functions you want to keep behind a user login wall Essentially the authorizer property allows you to specify a custom authorizer In this case we are using the default User Pool authorizer the ARN is your User Pools ARN Once you deploy this function youll find in your API Gateway Console that the relevant function now has an Authorizer whose name should be by default your user pool Sign in That should be the gist of it Took me quite a while to figure out but if you read the AWS docs carefully and really understand what customer authorizers are then you should be good Feel free to ping me anytime about this This community has helped me a ton so Ill try my best to give back what limited amount I can "},
{"id": 40757, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-28T22:46:19Z", "scrap_date": "2024-05-01T00:16:41.592610", "content": "let idToken let await Auth signIn username password then data idToken data signInUserSession idToken jwtToken API get dev restrictedByUserPool headers Authorization idToken then console log This code is helpful thanks The problem is if you have a lot of endpoints restrictedByUserPool1 restrictedByUserPool2 restrictedByUserPool100 how do you handle them And how to manage the access with different methods getputdelete I also did a demo on how to show the cognito 3 tokens easily Id token access token and refresh token It helps to fully understand how authorization coginto user pool works with how the payload and token looks like generate Tokens with User Pools"},
{"id": 40758, "question_id": 4075, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T05:54:25Z", "scrap_date": "2024-05-01T00:16:41.594605", "content": "how does the above work with user pools federated identities I am a bit confused about that since I dont have the token "},
{"id": 10532, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-05T00:21:43Z", "scrap_date": "2024-05-01T00:16:42.503311", "content": "Anything that can be done in CloudFormation like creating a SQS queue can be done in serverless yml in the resources section "},
{"id": 10533, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-06T09:08:45Z", "scrap_date": "2024-05-01T00:16:42.504311", "content": "Great thanks for your help "},
{"id": 10534, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-21T14:43:30Z", "scrap_date": "2024-05-01T00:16:42.505312", "content": "Yeah but if i wanted to write CloudFormation then i would just write CloudFormation Serverless is great because it saves you having to write CloudFormation SQS and SNS are the glue between most large Lambda setups but are painful to setup and write CloudFormation definitions for "},
{"id": 10535, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-22T01:44:35Z", "scrap_date": "2024-05-01T00:16:42.506312", "content": "Serverless can automatically create SNS topics if you specify it as the event source for a function AWS has announced SQS event sources are coming but havent released them yet When they do Im sure Serverless will add them as an event source and automatically them too "},
{"id": 10536, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-22T07:05:00Z", "scrap_date": "2024-05-01T00:16:42.507312", "content": "Oh yes Im aware of the brilliant SNS and API Gateway feature of Serverless Its one of the main reasons i was draw to it I was hoping for a similar shortcut to something like Sending Amazon SNS Messages to Amazon SQS Queues which is difficult and error prone to setup Really what we want is somthing similar to which would perform the 5 steps in the above link"},
{"id": 10537, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-12T20:19:57Z", "scrap_date": "2024-05-01T00:16:42.507312", "content": "Any news can serverless yml create the SQS resource"},
{"id": 10538, "question_id": 1053, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-18T08:45:06Z", "scrap_date": "2024-05-01T00:16:42.508312", "content": "No From Serverless Framework AWS Lambda Events SQS Queues Note The sqs event will hook up your existing SQS Queue to a Lambda function Serverless wont create a new queue for you You can still create the SQS queue as part of the serverless yml in the resources section "},
{"id": 67222, "question_id": 6722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T09:04:21Z", "scrap_date": "2024-05-01T00:16:43.464568", "content": "Are you suggesting that Lambda A triggers Lambda B using SNS and that Lambda A B are in different projects You can allow the project with Lambda B to create the SNS topic as a trigger for Lambda B then use cross stack references to access the ARN for the SNS topic from Lambda A in the other project "},
{"id": 67223, "question_id": 6722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T09:07:16Z", "scrap_date": "2024-05-01T00:16:43.465569", "content": "Yeah lets assume these are different services The idea is to put all useful resources in Serverless yml for every Lambda and if we have some shared resource its not clear what should we do I want to deploy Lambda A if SNS exists and deploy Lambda B if SNS exists so I need to check its existance during both deployments "},
{"id": 67224, "question_id": 6722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T09:24:29Z", "scrap_date": "2024-05-01T00:16:43.466568", "content": "What you want is a cross stack reference You need to create the SNS topic in one project stack then import the ARN for it into the others If you use the cfstack output variable syntax then Serverless will warn you during deployment that it cannot resolve the cross stack reference if it doesnt exist I would generally recommend creating the SNS topic in the stack that publishes the message which is the opposite of what I described above While its a little more difficult than allowing Serverless to automatically create the topic it makes more sense if you ever end up using fan out i e publishing a message to an SNS topic triggers multiple Lambda in different stacks "},
{"id": 67225, "question_id": 6722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T09:39:15Z", "scrap_date": "2024-05-01T00:16:43.468569", "content": "Looks interesting Will check it thanks"},
{"id": 37222, "question_id": 3722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T12:55:25Z", "scrap_date": "2024-05-01T00:16:44.613672", "content": "I had a similar problem some time ago with accessing google API from aws lambda I wanted to use Google Sheets API with a python library which also needs google credentials for authentication to access the API It worked fine on my local machine but failed on aws lambda The problem was that this library wanted to write something back to the credentials json file which of course always failed because it is not allowed to write back to files on aws lambda I assume this is necessary for the OAuth process to update some local keys But i am not an OAuth expert so i wasnt able to fix this The solution was that i setup an Google Service Account and used the credentials from this account instead of the Google IAM credentials and than it worked Maybe this also helps for your problem"},
{"id": 37223, "question_id": 3722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T23:48:56Z", "scrap_date": "2024-05-01T00:16:44.614672", "content": "Thanks for your suggestion Franky I found the way how to use credential file actually but the problem is a serverless framework or aws lambda doesnt support grpc google cloud API is using this And it always gives this error rejection id 2 Error Cannot find module vartasknode_modulesgrpcsrcnodeextension_binarynodev48linuxx64glibcgrpc_node node I couldnt find any solution for this unfortunately I really dont understand why It doesnt work I added to script on package json for post install but It didnt help as well postinstall npm rebuild grpc target6 1 0 target_archx64 target_platformlinux target_libcglibc"},
{"id": 37224, "question_id": 3722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-01T09:22:00Z", "scrap_date": "2024-05-01T00:16:44.616673", "content": "Yes the gRPC node library uses node c native modules httpsgithub comgrpcgrpcnode This article talks about using node native c modules on AWS Lambda httpsaws amazon comblogscomputenodejspackagesinlambda Im trying also to use some Google Cloud node client on AWS Lambda Could you explain how you manage to solve the initial problem with the Google credential json file"},
{"id": 37225, "question_id": 3722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T17:21:12Z", "scrap_date": "2024-05-01T00:16:44.617673", "content": "Hey Franky I am having the exact similar problem as yours My python script is trying to access google sheets I am using Pygsheets package even tried gspread and these are the ways I tried to authorize httpsstackoverflow comquestions51237099pygsheetshowcaniauthorizegooglesheetsinawslambda But successfully failed I see that you did it with the help of Google Service Account Is there a documentation that you can provide on how to do this Will be helpful Thank you"},
{"id": 37226, "question_id": 3722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-18T15:47:49Z", "scrap_date": "2024-05-01T00:16:44.618674", "content": "Hey Guys any update about that I facing the same issue with Python Dialogflow client "},
{"id": 67482, "question_id": 6748, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-19T17:52:02Z", "scrap_date": "2024-05-01T00:16:45.247478", "content": "I found a good article regarding this issue and why serverless works that way Maybe it can help you "},
{"id": 38872, "question_id": 3887, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T23:36:54Z", "scrap_date": "2024-05-01T00:16:46.376367", "content": "How many functions in your service 25"},
{"id": 38873, "question_id": 3887, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T01:15:54Z", "scrap_date": "2024-05-01T00:16:46.377368", "content": "Ya 25 after that I get hit by the 20p limit Contacted AWS to see about a limit raise in meantime "},
{"id": 38874, "question_id": 3887, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-20T08:04:54Z", "scrap_date": "2024-05-01T00:16:46.378368", "content": "Did you find a solution for that requirement We are looking into use of CloudWatch Insights but that works best on a single Loggroup If there is a way to have all services share the same LogGroup instead of having a LogGroup for each service"},
{"id": 67602, "question_id": 6760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-22T04:05:19Z", "scrap_date": "2024-05-01T00:16:47.387484", "content": "Thanks for bringing this up in our repo too this is indeed weird Well look into this and get back to you ASAP Not sure why more people are not bringing this up and trying to get it fixed but I cannot deploy my golang code to AWS Lambda via the Serverless Framework on a Windows 10 machine I do not have any issues on MacOSX or Linux so it is an issue on Windows for sure I have outlined the issue here httpsforum serverless comtcantseemtodeploygolangwiththeserverlessframeworkonwindowspermissionissues6760 I have tried to bring this to the attention to the Serverless team about 6 months ago but nothing has got done about it yet Not sure why as this is a pretty big issue And the fix I do not think would be too big to complete in a short time Can someone give me guidance about this maybe i am missing something Thank you "},
{"id": 42552, "question_id": 4255, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T20:25:06Z", "scrap_date": "2024-05-01T00:16:48.251603", "content": "If youre still having issues you might want to take a look at our examples repo Serverless Examples A collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more G Were building up the golang examples across each major provider so stay tuned "},
{"id": 42553, "question_id": 4255, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-19T16:17:27Z", "scrap_date": "2024-05-01T00:16:48.253604", "content": "sebito91 this isnt an issue with his code Its an issue that ive also faced here Cannot seem to deploy Golang with the Serverless Framework on Windows permission issues "},
{"id": 42554, "question_id": 4255, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-22T04:06:39Z", "scrap_date": "2024-05-01T00:16:48.253604", "content": "Thanks really appreciate you linking the issues together Im going to look into this and get back to you ASAP apologies for the delay here "},
{"id": 67922, "question_id": 6792, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T06:43:41Z", "scrap_date": "2024-05-01T00:16:49.173532", "content": "No You would need to package it again using production as the stage then copy that output to Artifactory "},
{"id": 65512, "question_id": 6551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-24T14:39:20Z", "scrap_date": "2024-05-01T00:16:51.129920", "content": "Youre missing the dollar signs in front of your ENVIRONMENT variables "},
{"id": 65513, "question_id": 6551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-25T06:41:11Z", "scrap_date": "2024-05-01T00:16:51.130920", "content": "Thank You Jeremy for your time dollar sign is there but still it does not work offline This editor not letting me add dollar sign there This is weird "},
{"id": 64862, "question_id": 6486, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-19T03:34:00Z", "scrap_date": "2024-05-01T00:16:52.243972", "content": "The Resources need to go under a resources key in the serverless yml for the service that creates the API GW See httpsserverless comframeworkdocsprovidersawsguideresourcesconfiguration You then import it using the cf variables syntax into other services See httpsserverless comframeworkdocsprovidersawsguidevariablesreferencecloudformationoutputs"},
{"id": 64863, "question_id": 6486, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-19T22:21:44Z", "scrap_date": "2024-05-01T00:16:52.244972", "content": "Thank you I added resources node and I still get an error The CloudFormation template is invalid Invalid template resource property apiGatewayRestApiId"},
{"id": 64864, "question_id": 6486, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-25T04:45:15Z", "scrap_date": "2024-05-01T00:16:52.245967", "content": "For some reason when deploying the original service a with functions at the same time was causing my error As soon as I created a separate sls deployment one for just the API resource The documentation worked and I can treat all of my microservices with the referenced out api id Thanks for your help "},
{"id": 60862, "question_id": 6086, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T13:35:41Z", "scrap_date": "2024-05-01T00:16:53.233990", "content": "1 for example with aurora RDS"},
{"id": 65612, "question_id": 6561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T11:41:24Z", "scrap_date": "2024-05-01T00:16:54.223978", "content": "S3 bucket are globally unique Once someone creates a bucket called pdfbucketdev no one else can use that in their AWS account You need to find another name "},
{"id": 65613, "question_id": 6561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T13:51:16Z", "scrap_date": "2024-05-01T00:16:54.224978", "content": "you can use your project name as prefix for every bucket you want to create via serverless For Eg BucketName slsplayground pdfbucket selfprovider stage So slsplayground will be a prefix in you case and you can keep your bucket unique by using this "},
{"id": 65614, "question_id": 6561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T14:35:58Z", "scrap_date": "2024-05-01T00:16:54.225978", "content": "Thanks for your input Prefixing the bucket name with the service name is of course a good best practice to create useable name spaces This is rather embarrassing but changing to another bucket name did make the deploy go through Im not sure why I in the Web console cannot see an S3 Bucket named pdfbucketdev though If it existed it should have been visible there right I have only ever used one AWS account which is the one serverless is set up with In any case I can proceed with my deployments now Thanks "},
{"id": 65615, "question_id": 6561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T15:29:43Z", "scrap_date": "2024-05-01T00:16:54.226979", "content": "Im not sure why I in the Web console cannot see an S3 Bucket named pdfbucketdev though If it existed it should have been visible there right I have only ever used one AWS account which is the one serverless is set up with Because it most likely belongs to somebody else on a completely different account Globally Unique in the sense of bucket names means across ALL AWS accounts Not just yours So if I create a bucket named mysupersekretbucket in my account you wont be able to create a bucket with that name Nor will you be able to see it since its in my account Hope that makes it more clear "},
{"id": 65616, "question_id": 6561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T15:57:44Z", "scrap_date": "2024-05-01T00:16:54.228980", "content": "Ohh Got it Did not realise this was the case Thanks all for your input "},
{"id": 65642, "question_id": 6564, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-26T11:51:04Z", "scrap_date": "2024-05-01T00:16:55.264166", "content": "You could change the method to any then have the Lambda respond with an error if the method isnt post "},
{"id": 65643, "question_id": 6564, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-27T00:55:01Z", "scrap_date": "2024-05-01T00:16:55.265164", "content": "thanks any is the answer i was looking for"},
{"id": 65652, "question_id": 6565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T12:04:12Z", "scrap_date": "2024-05-01T00:16:56.206098", "content": "You need to output from the arn for the user pool from the stack that creates it then set the authorizer in the other stack using that ARN To get the ARN for a user pool you need to use FnGetAtt httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcecognitouserpool html"},
{"id": 65653, "question_id": 6565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T19:00:39Z", "scrap_date": "2024-05-01T00:16:56.207098", "content": "Thaks buggy Appreciate the help As noted I have the resource working just fine it is attaching that resource to http events on later microservices that is the problem I create the resource like this And that works great The problem is when I run the next microservice I cant reference MyCognitoAuthorizer because it is not part of that service I cant use the output because its only the authorizer ID So the question is how do I make the resource known to the other microservices like in this example which is in a separate filemicroservice I tried placing the ARN of the user pool in the WHAT GOES HERE and it worked for the first service the second service failed "},
{"id": 65654, "question_id": 6565, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-11-27T10:47:31Z", "scrap_date": "2024-05-01T00:16:56.209099", "content": "Long version httpsserverless comframeworkdocsprovidersawseventsapigatewayshareauthorizer If I understand the docs correctly then the short version is Just replace YOUROTHER_STACK with the name of your other stack "},
{"id": 65655, "question_id": 6565, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-27T21:21:46Z", "scrap_date": "2024-05-01T00:16:56.210099", "content": "That is working now I will love you forever Thank you "},
{"id": 65812, "question_id": 6581, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-29T10:56:57Z", "scrap_date": "2024-05-01T00:16:57.245728", "content": "The API Gateway only supports HTTPS Theres no HTTP support and no way to redirect HTTP to HTTPS "},
{"id": 65813, "question_id": 6581, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-29T21:58:10Z", "scrap_date": "2024-05-01T00:16:57.246723", "content": "12 hours during reinvent changes everything it looks like you can now put your Lambda behind an ALB which would allow you to serve it over HTTP and HTTPS "},
{"id": 65814, "question_id": 6581, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-29T23:04:03Z", "scrap_date": "2024-05-01T00:16:57.247722", "content": "Ill give it a go It seems to be a reasonable requirement for serverless to configure the ALB "},
{"id": 66152, "question_id": 6615, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-30T08:17:09Z", "scrap_date": "2024-05-01T00:16:58.130380", "content": "Oh sorry my fault It appears that something didnt go well in my docker machine probably the yarn install The second try worked o "},
{"id": 56152, "question_id": 5615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-06T12:50:54Z", "scrap_date": "2024-05-01T00:16:58.798445", "content": "I run into the same issue Did anyone work around it"},
{"id": 56153, "question_id": 5615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-06T17:25:51Z", "scrap_date": "2024-05-01T00:16:58.798445", "content": "Hi there Have you got that solved Met the same issue "},
{"id": 56154, "question_id": 5615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T09:31:14Z", "scrap_date": "2024-05-01T00:16:58.799445", "content": "Ive got the same problem I first tried deleting the local serverless directory which made no difference Then I checked and Im able to use s3 cp s3xxx to download the file so I know I have permission to get it then I enabled extra debugging to get this more detailed error message"},
{"id": 56155, "question_id": 5615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T10:01:58Z", "scrap_date": "2024-05-01T00:16:58.800446", "content": "Ive now upgraded to the latest version 1 34 at the time of writing which also made no difference Started a new terminal same error Restarted my computer no difference Removed Serverless Framework and reinstalled no difference Removed myself from the Enforce MFA Policy group it works Strange I can download the file from the CLI when Im a member of the group but Serverless Framework cant Not sure if thats a bug where it doesnt pick up the session token or not "},
{"id": 44482, "question_id": 4448, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T14:04:25Z", "scrap_date": "2024-05-01T00:16:59.480212", "content": "Hey there lukiffer Did you have any luck with this Im having the same problem "},
{"id": 52122, "question_id": 5212, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-24T12:30:59Z", "scrap_date": "2024-05-01T00:17:00.224580", "content": "Did you run an npm install in the project folder"},
{"id": 52123, "question_id": 5212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T13:50:59Z", "scrap_date": "2024-05-01T00:17:00.225580", "content": "No I hadnt spotted that command so I tried it but it still wouldnt run But you pointed me in the right direction I did some searching on npm install which lead me back to some of the serverless hello world examples I saw that I had initially installed serverless globally by running npm install serverless g so I took a punt and tried npm install serverless in the project directory to see what would happen This appeared to do the trick as I now have the node_modules sub directory installed below the project I changed the launch json program value back to the value in the accepted answer on stack overflow tried again and it debugged straight into it So I now have the hello world example up and running which is great thanks for the suggestion "},
{"id": 52124, "question_id": 5212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-19T22:14:23Z", "scrap_date": "2024-05-01T00:17:00.226580", "content": "I am using mac and the setting below work fine for me you have to manually pass the name of the function you are debugging"},
{"id": 52125, "question_id": 5212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-01T15:09:54Z", "scrap_date": "2024-05-01T00:17:00.227581", "content": "Hi All Has anyone done the same for golang lambda functions Using the same approach I can launch the golang function however as the type is node the function is not being stopped at the breakpoint Changing this to go and using delve doesnt work as the program is no longer a go program Any help or hints appreciated Thanks James"},
{"id": 62442, "question_id": 6244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-26T10:33:40Z", "scrap_date": "2024-05-01T00:17:01.216964", "content": "It seems like youre exceeding the API rate limits for Cognito User Pool httpsdocs aws amazon comcognitolatestdeveloperguidelimits html Your only option might be to split the user pool creation into multiple stacks to get it down "},
{"id": 62443, "question_id": 6244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-29T09:39:13Z", "scrap_date": "2024-05-01T00:17:01.217963", "content": "In the end I resolved it by making sure each resource DependsOn the resource before it so they are created in sequence But thats not really ideal and I believe there should be a better way of doing this But it appears that the rate limit error is not retryable "},
{"id": 62444, "question_id": 6244, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-02T02:57:08Z", "scrap_date": "2024-05-01T00:17:01.218963", "content": "I solved this using WaitConditions and a script in our deploy process to signal the wait condition to complete Basically I created a plugin yet to be published which creates the WaitCondition resources during the packaging process It adds resources to the depends on array of the wait condition A script monitors the deploy process and sends a signal to the wait condition when it is created which will happen after the dependencies are created so the process can continue If the wait condition is not yet created the script sleeps for a configurable amount of time before signalling again When I get a chance to publish this to npm Ill update here "},
{"id": 65842, "question_id": 6584, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-03T13:46:33Z", "scrap_date": "2024-05-01T00:17:02.267480", "content": "I have same issue It happened after updating from version 1 31 to 1 33 and I have it on last veriosn 1 34 too I hope they fix it soon "},
{"id": 66102, "question_id": 6610, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-04T09:53:20Z", "scrap_date": "2024-05-01T00:17:03.262796", "content": "Thought I would answer my own question just in case anyone else is as naieve as I am Yes of course it is necessary to include the AWS SDK as a reference to your lambda project After working through and reading the code from the Samples library it appears they all include an AWS Package library The python samples seems to all include Boto3 which is the AWS SDK for python and the Node Samples all seem to include awssdk For C just add the Nuget Package Amazon Lambda S3Events and for DynamoDB I added AWSSDK DynamosDBV2"},
{"id": 65712, "question_id": 6571, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-27T09:49:22Z", "scrap_date": "2024-05-01T00:17:04.210894", "content": "I also had to change Resource arnawsapigatewayrestapisGATEWAY_ID to Resource arnawsapigatewayrestapis "},
{"id": 65713, "question_id": 6571, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-05T01:24:01Z", "scrap_date": "2024-05-01T00:17:04.211894", "content": "Brilliant thanks It would be nice to keep a more limited policy but I guess thats a task for another day Edit Looks like the AWS credentialing instructions have already been updated Perhaps everything is fixed in the new method"},
{"id": 65682, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-26T14:06:25Z", "scrap_date": "2024-05-01T00:17:05.272878", "content": "Any help would be very much appreciated "},
{"id": 65683, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-29T00:58:38Z", "scrap_date": "2024-05-01T00:17:05.272878", "content": "I dont know if theres any way yet to configure Aurora from within the Serverless framework but Ive been using Aurora with my Serverless functions and its been performing well fyi Im using TypeORM as well to manage it "},
{"id": 65684, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-29T08:10:30Z", "scrap_date": "2024-05-01T00:17:05.273878", "content": "kvarela I really appreciate this reply I was waiting for this from last 2 days Can you please confirm the engine you are using in Aurora I want to use PostgreSQL Is it possible for you to provide some code example for the same "},
{"id": 65685, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-11-29T19:07:33Z", "scrap_date": "2024-05-01T00:17:05.274878", "content": "Im using Postgres 10 4 I wrote a blog post on how to wire up TypeORM with Postgres and Serverless It might be a bit out dated now but let me know if you have any questions httpsmedium comroamengineeringwiringuptypeormwithserverless5cc29a18824f"},
{"id": 65686, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T04:33:25Z", "scrap_date": "2024-05-01T00:17:05.275879", "content": "Thank you kvarela This is really helpful i will update here if i face any problem "},
{"id": 65687, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-04T09:40:36Z", "scrap_date": "2024-05-01T00:17:05.275879", "content": "Hi kvarela I am facing an issue in serverless webpack Everything is working fine on my deployment But after deployment it is throwing error that Postgres package has not been found installed Try to install it npm install pg save And this is my webpack config const path require path const slsw require serverlesswebpack module exports entry slsw lib entries resolve extensions [ js jsx json ts tsx ] output libraryTarget commonjs path path join __dirname webpack filename [name] js externals [ awssdk pg ] target node module loaders [ test ts x loader tsloader ] Do you have any idea about this I think this is related to the webpack externals "},
{"id": 65688, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-04T22:59:22Z", "scrap_date": "2024-05-01T00:17:05.277879", "content": "Sorry Harshit Im not familiar with Webpack "},
{"id": 65689, "question_id": 6568, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-05T14:42:32Z", "scrap_date": "2024-05-01T00:17:05.277879", "content": " kvarela No problem I found the solution of this Issue We need to forcefully include pg module I am using serverlesswebpack enable autopacking of external modules webpackIncludeModules forceInclude pg these lines need to added in the serverless yml"},
{"id": 35312, "question_id": 3531, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-18T08:39:01Z", "scrap_date": "2024-05-01T00:17:07.081009", "content": "Even better would be possibility to use ARM templates for resource creation I noticed this in the docs Resources are deployed in the following order ARM template Functions httpsserverless comframeworkdocsprovidersazureguidedeploying However I can t find information on how to use ARM template in the serverless project Could someone point me in the right direction please"},
{"id": 35313, "question_id": 3531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-17T14:03:58Z", "scrap_date": "2024-05-01T00:17:07.082009", "content": "Any update on possibility to create Azure resources from serverless yml just like for aws"},
{"id": 35314, "question_id": 3531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-08T22:23:14Z", "scrap_date": "2024-05-01T00:17:07.083009", "content": "I have used ARM template to create custom resources I reference the template in the provider object I also refernce my custom values via the parameters key and point it to my json file "},
{"id": 64002, "question_id": 6400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-08T23:50:34Z", "scrap_date": "2024-05-01T00:17:07.930086", "content": "This is essentially what this plugin does Serverless plugin to encrypt variables with KMS DEPRECATED GitHub nordcloudserverlesskmssecrets Serverless plugin to encrypt variables with KMS DEPRECATED "},
{"id": 64003, "question_id": 6400, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-09T01:21:03Z", "scrap_date": "2024-05-01T00:17:07.931086", "content": "Probably buuuuut i dont want to pay for KMS"},
{"id": 64004, "question_id": 6400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-09T17:56:02Z", "scrap_date": "2024-05-01T00:17:07.931086", "content": "You get 20000 requestsmonth for Free"},
{"id": 64005, "question_id": 6400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-09T19:48:12Z", "scrap_date": "2024-05-01T00:17:07.932087", "content": "Ahah Depending on how you code your platform it may cost a lot If you want to decrypt or get values in your lambda functions it will increase I got clients who got more than 1 millions api requests per day and more internally So yeah managing env vars the old way with simply a file is easy to understand with 100 developers and 500 services Different problems different solutions Right now there are multiple teams who are happy with this small trick Have a great day jwerre"},
{"id": 36522, "question_id": 3652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T01:01:25Z", "scrap_date": "2024-05-01T00:17:08.992429", "content": "You might need to compile the binaries for mysql2 in the linux container of the lambda environment If you install them on your local machine they are compiled for macwindows etc and not the AWS lambda linux distro This post discusses how to compile native binaries for usage in lambda httpsclaudiajs comtutorialspandoclambda html"},
{"id": 36523, "question_id": 3652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T16:59:07Z", "scrap_date": "2024-05-01T00:17:08.993429", "content": "i see that this post was written a month ago and im interested if you have found answers to your questions and generally if you have any updates"},
{"id": 36524, "question_id": 3652, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-18T12:35:56Z", "scrap_date": "2024-05-01T00:17:08.994429", "content": "According to Joes SO post the problem was resolved by forcing Serverless to include the mysql library in its bundle I believe this issue occurs because webpack does not realize that mysql is a dependency until runtime I had a similar problem with Sequelize Postgres except my missing library was pg I resolved it in the same way as Joe did Check out his post httpsstackoverflow comquestions48554917gettingsequelizejslibrarytoworkonamazonlambda"},
{"id": 36525, "question_id": 3652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-09T20:17:08Z", "scrap_date": "2024-05-01T00:17:08.995429", "content": "Weve been using Serverless with Sequelize 3 for years in Lambda It works fine Theres a connection pool issue in Sequelize 4 that was just fixed recently to make it work for Lambda as well I dont know if its integrated yet Were not using Webpack on the back end just our front end so maybe thats why we never had an issue with the MySQL 2 library We certainly didnt have to recompile anything and most of our developers are on Windows "},
{"id": 63862, "question_id": 6386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T21:01:32Z", "scrap_date": "2024-05-01T00:17:09.371240", "content": "heres the trick insted of use this cognitoIdp new this serverless providers aws sdk CognitoIdentityServiceProvider apiVersion 20160418 region this serverless providers aws getRegion and all should be fine "},
{"id": 64222, "question_id": 6422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T08:27:56Z", "scrap_date": "2024-05-01T00:17:10.377036", "content": "I created the bucket manually and removed the resources section and it deployed but something was still not right I added a iamRoleStatement and now the it is adding the trigger to the lambda function but it doesnt trigger and when I test the lambda function it stalls when downloading the original file There is definitively something wrong with this iamRoleStatement"},
{"id": 64223, "question_id": 6422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-14T21:11:37Z", "scrap_date": "2024-05-01T00:17:10.378036", "content": "Ok so the problem was I had to add a VPC endpoint to connect S3 to my VPC"},
{"id": 63942, "question_id": 6394, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-11T09:34:20Z", "scrap_date": "2024-05-01T00:17:11.262135", "content": "serverless framework on ecscontainer that has several roles configured I am too facing the same issue Please share me the suggestions if its get fixed for you "},
{"id": 63943, "question_id": 6394, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-15T09:50:18Z", "scrap_date": "2024-05-01T00:17:11.262135", "content": "Ananya not a real solution but workaround for now In my case I ended up running a bash script that fetches temp credentials and sets them as environment variables Prerequisite for running the script jq installed As far as my research goes serverless or aws jssdk does not support our use case "},
{"id": 64602, "question_id": 6460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-15T17:36:06Z", "scrap_date": "2024-05-01T00:17:12.218175", "content": "I have this problem too on my Gitlab CI pipelines right after npm i g serverless command `serverless deploy stagestaging awss3accelerate transforms to deploy LS1hd3MtczMtYWNjZWxlcmF0ZQ stagestaging disappears and awss3accelerate transforms to base64 some kind of evil magic "},
{"id": 64603, "question_id": 6460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-15T18:38:40Z", "scrap_date": "2024-05-01T00:17:12.219175", "content": "Im seeing the same issue Without digging too far I can see that it isnt handling the stage correctly Ive reverted to 1 32 and things work fine "},
{"id": 64604, "question_id": 6460, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-15T19:18:56Z", "scrap_date": "2024-05-01T00:17:12.220175", "content": "I created an issue httpsgithub comserverlessserverlessissues5496"},
{"id": 64605, "question_id": 6460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-15T19:47:42Z", "scrap_date": "2024-05-01T00:17:12.221174", "content": "Thanks I also reverted to 1 32 0 so I could get past the build issue "},
{"id": 55502, "question_id": 5550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-16T00:40:53Z", "scrap_date": "2024-05-01T00:17:13.298274", "content": "Did you ever find a solution for this"},
{"id": 29252, "question_id": 2925, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-16T08:50:54Z", "scrap_date": "2024-05-01T00:17:14.040484", "content": "I am facing similar issue mrcasablr did you found any solution"},
{"id": 64752, "question_id": 6475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-16T18:40:38Z", "scrap_date": "2024-05-01T00:17:15.110638", "content": "it seems like the user dynamodbtraining does not have access to the cloudformation service I will create a new IAM role and add the user to the role "},
{"id": 63232, "question_id": 6323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T03:12:54Z", "scrap_date": "2024-05-01T00:17:15.824434", "content": "This was finally released "},
{"id": 63762, "question_id": 6376, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-06T22:33:00Z", "scrap_date": "2024-05-01T00:17:16.755396", "content": "hi Its not clear where the problem is by the amount of info you have provided pls provide more info you can run with SLS_DEBUG and also the template file is its possible "},
{"id": 63763, "question_id": 6376, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-07T15:07:37Z", "scrap_date": "2024-05-01T00:17:16.756396", "content": "Thanks but I have fixed this issue It is because the some restriction of my AWS account After I got the admin authority this problem got solved "},
{"id": 63764, "question_id": 6376, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-20T09:50:47Z", "scrap_date": "2024-05-01T00:17:16.757397", "content": "I just ran into this issue same here s3 amazonaws com instead of s3euwest1 aws s3 ls was listing all buckets properly I refreshed my authentication token and then it worked again "},
{"id": 24172, "question_id": 2417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-05T12:29:40Z", "scrap_date": "2024-05-01T00:17:17.453448", "content": "Ive replied to your Stack Overflow post Hopefully that will help you "},
{"id": 24173, "question_id": 2417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-19T22:23:22Z", "scrap_date": "2024-05-01T00:17:17.454448", "content": "Hi buggy How do I pass the params for a API endpoint for example I have an endpoint httplocalhost3000v2userlogin which takes body of username password but when I am using the data arg in vscode the event object get the value \\username\\ \\admin\\ \\password\\ \\apasswordhaha\\ when calling the endpoint thru postman I get the value of event object as body \\n\\t\\username\\ admin\\n\\t\\password\\ apasswordhaha\\n Is there a way that I can pass the param in vscode in the same fashion as postman Any help is greatly appreciated "},
{"id": 24174, "question_id": 2417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-20T11:12:35Z", "scrap_date": "2024-05-01T00:17:17.456449", "content": "Is there a way that I can pass the param in vscode in the same fashion as postman When youre using postman youre sending a request to the API Gateway not Lambda The API Gateway then creates an event which is used when invoking Lambda Without the API Gateway you just need to generate that event yourself If the only attribute youre accessing from the event is the body then youll need to pass something like"},
{"id": 24175, "question_id": 2417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T16:16:49Z", "scrap_date": "2024-05-01T00:17:17.457449", "content": "wow that worked like a charm Thank you buggy"},
{"id": 60622, "question_id": 6062, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T21:55:58Z", "scrap_date": "2024-05-01T00:17:18.218066", "content": "Im in the same spot and have this problem also I would love for someone to chime in "},
{"id": 64592, "question_id": 6459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-18T23:26:52Z", "scrap_date": "2024-05-01T00:17:19.177267", "content": "For node 8 10 there are two supported syntax for the handler and Youre trying to mix the two by declaring the function async and then using callback which isnt supported I wrote a post about node 8 10 handlers if you want more detail "},
{"id": 64593, "question_id": 6459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-21T21:20:50Z", "scrap_date": "2024-05-01T00:17:19.178267", "content": "Thanks Buggy Your approach works in general and thanks for pointing me to your post about node 8 10 handlers What it doesnt account for specifically is the Apollo graphql handler which requires a callback Any thoughts on how to handle that"},
{"id": 64594, "question_id": 6459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-21T21:51:59Z", "scrap_date": "2024-05-01T00:17:19.179267", "content": "You can still use callbacks if you dont declare the handler async "},
{"id": 64595, "question_id": 6459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-21T22:41:32Z", "scrap_date": "2024-05-01T00:17:19.180267", "content": "Yea thanks would love to have a clean approach that only uses asyncawait but I guess Ill have to wait "},
{"id": 65212, "question_id": 6521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-22T09:20:39Z", "scrap_date": "2024-05-01T00:17:20.233732", "content": "I gave this a bit of thought for 24 hrs and spoke to a few people Best idea we came up with was dont use edge as a stage value I just tried it with sls deploy s alpha and it works fine "},
{"id": 20802, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-16T11:02:48Z", "scrap_date": "2024-05-01T00:17:22.405491", "content": "Can you format your code properly by including ```yaml on the line before and ``` on the line after it In YAML files formatting is significant "},
{"id": 20803, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T19:08:22Z", "scrap_date": "2024-05-01T00:17:22.406491", "content": "Have the same issue Can anyone provide an answer please"},
{"id": 20804, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T11:30:35Z", "scrap_date": "2024-05-01T00:17:22.407492", "content": "ghdna It would be helpful if you can post the relevant part of your serverless yml Are you deploying to the same stage region or a different one"},
{"id": 20805, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T13:48:36Z", "scrap_date": "2024-05-01T00:17:22.407492", "content": "The error message says what the issue is S3BucketName already exists However CloudFormation should know that it already created the bucket and not attempt to create it again on a subsequent deployment So this is certainly not the expected behaviour Can you confirm 2 things The reason for checking account and region is deploying to a different region or account will create a new stack which wont know that the S3 bucket was already created in the first stack If you are deploying to multiple regions then you need to either have a bucket per region include the region in the bucket name or if you want to use a common bucket you need to have one stack that creates the bucket and exports it using Outputs for other stacks to use If you are planning on using the serverless config to create the same service in multiple AWS accounts then you want to put the account id or some other accountspecific parameter e g given as an option to the serverless command into the bucket name Assuming thats not the problem I would log into the console and go to CloudFormation and check"},
{"id": 20806, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T18:37:58Z", "scrap_date": "2024-05-01T00:17:22.409492", "content": "Ok let me check cloud formation template I had given up after a whole day of trying to fix it "},
{"id": 20807, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T19:22:49Z", "scrap_date": "2024-05-01T00:17:22.410493", "content": "I have the exact same issue here and I have confirmed that I am working in the same region and that the bucket is NOT listed as a resource Any pointers greatly appreciated My serverless yml file"},
{"id": 20808, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T19:26:33Z", "scrap_date": "2024-05-01T00:17:22.411493", "content": "Update randomly trying to deploy again and it actually succeeded however the s3 bucket does not appear as listed under the lambda function resources and uploading an object to this bucket does not trigger an event calling this function At a loss "},
{"id": 20809, "question_id": 2080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-24T10:54:14Z", "scrap_date": "2024-05-01T00:17:22.411493", "content": "did u resolve this facing the same issue"},
{"id": 62322, "question_id": 6232, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-24T11:53:28Z", "scrap_date": "2024-05-01T00:17:23.068924", "content": "In the above structure is it possible to reference the entire provider key as it is in serverless yml in my subserverless yml Its technically possible but its a really bad idea so dont do it Including the API Gateway url If you want to share one API Gateway between multiple services then read Serverless Framework AWS Lambda Events REST API API Gateway v1 "},
{"id": 52052, "question_id": 5205, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-25T03:52:35Z", "scrap_date": "2024-05-01T00:17:24.112182", "content": "Hi I encounter the same problem when I install other dependencies how do you solve this issue"},
{"id": 61102, "question_id": 6110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-25T15:57:17Z", "scrap_date": "2024-05-01T00:17:25.118609", "content": "mateenhussain have you tried httpswww npmjs compackageserverlessaddapikey "},
{"id": 46192, "question_id": 4619, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T10:41:31Z", "scrap_date": "2024-05-01T00:17:26.012833", "content": "It looks like this isnt supported by CloudFormation yet Until then youll need to use one of the other mechanisms 1 If you have a question and not a bugfeature request please ask it at h ttpforum serverless com 2 Please check if an issue already exists so there are no duplicates 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Feature Proposal Description Recently API Gateway April 2nd 2018 started providing resource policy to handle each API Which includes blacklisting IP or allowing denying IP This is currently only supported by the API Gateway API AWS console AWS SDK and not yet by CloudFormation which I am guessing is why it is not yet supported by Serverless [Announcement] httpsaws amazon comaboutawswhatsnew201804amazonapigatewaysupportsresourcepolicies [Blog for consolebased setup] httpslobster1234 github io20180414amazonapigatewayipwhitelisting Probably best to wait for CloudFormation to catch up on this so I am just registering for a future task For feature proposals IP Blacklisting or allowing a certain type of method Basically IAM type policy but without creating IAM rolepolicy Json input or parameter based information can be set up Note [Forum Question in relation] httpsforum serverless comtapigatewayresourcepolicy4215 "},
{"id": 46193, "question_id": 4619, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-25T19:28:25Z", "scrap_date": "2024-05-01T00:17:26.015834", "content": "Is this still not implemented I see in documentation for serverless property resourcePolicy I use serverless 1 24 version but when i specify this resourcePolicy property it do not appear in cloudformation template Why it can be so Thank you "},
{"id": 55212, "question_id": 5521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-26T08:58:06Z", "scrap_date": "2024-05-01T00:17:26.986405", "content": "Ive been also looking into it Did you find anything"},
{"id": 62552, "question_id": 6255, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-26T10:25:22Z", "scrap_date": "2024-05-01T00:17:27.564697", "content": "You cant create crossstack references across regions You can use the intrinsic function FnImportValue to import only values that have been exported within the same region Return a value shared across multiple AWS CloudFormation stacks using the FnImportValue intrinsic function Youll need to manually lookup the ARN and set them in your other serverless yml files "},
{"id": 62553, "question_id": 6255, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-26T10:42:10Z", "scrap_date": "2024-05-01T00:17:27.565697", "content": "Thanks FWIW I ended up restructuring my stacks to avoid interstack dependencies altogether In my case that meant extracting a really small stack only holding my AWS SES templates deployed in euwest1 and moving related lambda functions to another stack in the same region as all my other stacks The only issue is a soft implicit dependency to the SES template names since I cannot refer to them through the stack output but I can live with that for now "},
{"id": 62512, "question_id": 6251, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-26T10:46:07Z", "scrap_date": "2024-05-01T00:17:28.435258", "content": "You would need to post youre entire handler if you want help debugging this From what youve posted I can see two problems Personally I wouldnt waste my time trying to get recursive callbacks working Switch your run time to Node 8 10 and take advantage of async await so your code is easier to read "},
{"id": 62642, "question_id": 6264, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-28T11:43:20Z", "scrap_date": "2024-05-01T00:17:29.523382", "content": "I think the correct syntax for the apiEndpoint is This will only be resolved during the CloudFormation deployment so the only way I could see this working is if you store the value as an stack output then have another script read the output for your front end application "},
{"id": 62643, "question_id": 6264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-28T15:10:14Z", "scrap_date": "2024-05-01T00:17:29.524383", "content": "Yeah I was hoping I could skip having to create a script to parse the CloudFormation file Thanks buggy"},
{"id": 62644, "question_id": 6264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-28T21:55:35Z", "scrap_date": "2024-05-01T00:17:29.525383", "content": "Just to be clear parsing the CloudFormation template wont help You need to look at the outputs from the stack after deployment "},
{"id": 62832, "question_id": 6283, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-29T08:24:02Z", "scrap_date": "2024-05-01T00:17:30.247095", "content": "Figured it out It was an old Role from an old stack After deleting everything related m deploy worked on all envs"},
{"id": 63362, "question_id": 6336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-02T01:59:59Z", "scrap_date": "2024-05-01T00:17:31.318060", "content": "The plugins github repo is the best place to look for support It seems like someone has already reported it Looks like `serverlessoffline`s dependecy `hapi` is out of date Normally thi s would not be a big deal but there is a new as of today security warning triggered by `cryptiles` one of `hapi`s dependencies httpswww npmjs comadvisories720 I do not know if this exposes an actual security issue probably not because serverlessoffline is only for local development but it is annoying to see those warnings The highest LTS version of `hapi` is 16 6 3 but I am not sure if this version has the updated `cryptiles` The latest `hapi` is 17 6 2 which does seem to have the updated The version of `hapi` that is currently in `serverlessoffline` is 14 2 0 ``` npm audit npm audit security report Manual Review Some vulnerabilities require your attention to resolve Visit httpsgo npm meauditguide for additional guidance High Insufficient Entropy Package cryptiles Patched in 4 1 2 Dependency of serverlessoffline [dev] Path serverlessoffline hapi cryptiles More info httpsnodesecurity ioadvisories720 High Insufficient Entropy Package cryptiles Patched in 4 1 2 Dependency of serverlessoffline [dev] Path serverlessoffline hapi iron cryptiles More info httpsnodesecurity ioadvisories720 High Insufficient Entropy Package cryptiles Patched in 4 1 2 Dependency of serverlessoffline [dev] Path serverlessoffline hapi statehood cryptiles More info httpsnodesecurity ioadvisories720 High Insufficient Entropy Package cryptiles Patched in 4 1 2 Dependency of serverlessoffline [dev] Path serverlessoffline hapi statehood iron cryptiles More info httpsnodesecurity ioadvisories720 found 4 high severity vulnerabilities in 44688 scanned packages 4 vulnerabilities require manual review See the full report for details npm v hapi hapi 6 2 BSD3Clause deps 17 versions 279 HTTP Server framework httpshapijs com keywords framework http api web dist tarball httpsregistry npmjs orghapihapi17 6 2 tgz shasum 67797e66ab7d2d58c43bdae7f1237f13f48481a9 integrity sha512vvOfssoAmRVczKMVC0lyGtpB0bvgdHVnzRrMGe5A9jy0JVnj24KpltmFIOVHmPt7zsZgUiqpGzF1R4grOhYg unpackedSize 175 3 kB dependencies accept 3 x x bounce 1 x x catbox 10 x x joi 14 x x shot 4 x x teamwork 3 x x ammo 3 x x call 5 x x heavy 6 x x mimos 4 x x statehood 6 x x topo 3 x x boom 7 x x catboxmemory 3 x x hoek 6 x x podium 3 x x subtext 6 x x maintainers hueniverse eran com disttags latest 17 6 2 lts 16 6 3 next 17 0 1 override 13 5 3 published an hour ago by hueniverse eran io npm v serverlessoffline serverlessoffline 31 0 MIT deps 13 versions 158 Emulate AWS and API Gateway locally when developing your Serverless project httpsgithub comdheraultserverlessoffline keywords Serverless Amazon Web Services AWS Lambda API Gateway dist tarball httpsregistry npmjs orgserverlessofflineserverlessoffline3 31 0 tgz shasum 0ee5885df968c4be415cf10d229370fd6cd5c908 integrity sha512uGur1LeQ8LkOl1U6RFDlfTUXAl08GeYRqqX1mjFjQQxh7Lol0JORyFQP3xfIWszCWjkdTPw79R4TPqVncMHtA unpackedSize 164 5 kB dependencies babelcore ^7 0 0 cryptiles ^4 1 2 hapi 14 2 0 jsonwebtoken ^8 3 0 velocityjs ^1 1 2 babelregister ^7 0 0 h2o2 ^5 4 0 jsstringescape ^1 0 1 lodash ^4 17 10 boom ^4 2 0 hapicorsheaders ^1 0 3 jsonpathplus ^0 16 0 uuid ^3 3 2 maintainers danielcottone daniel cottone com dherault dherault com disttags beta 1 0 0beta3 latest 3 31 0 published yesterday by dherault dherault com ```"},
{"id": 23982, "question_id": 2398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-01T10:02:08Z", "scrap_date": "2024-05-01T00:17:32.290732", "content": "Hello adlersantos have you been able to find a solution for this Im also interested by that solution "},
{"id": 23983, "question_id": 2398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-01T10:59:41Z", "scrap_date": "2024-05-01T00:17:32.291733", "content": "Actually after manually setting a breakpoint with settrace I did not encounter your issue "},
{"id": 23984, "question_id": 2398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-04T11:11:32Z", "scrap_date": "2024-05-01T00:17:32.292733", "content": "been having the exact same issue and i couldnt ever rule out whats happening maybe because i was focused on my site httpssuppsforlife tocategorypct anyway i did found a bit of help reading through your posts so thanks but if you have any updates i would appreciate it a lot"},
{"id": 23985, "question_id": 2398, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-05T17:39:30Z", "scrap_date": "2024-05-01T00:17:32.292733", "content": "Hey As majorgilles mentioned this issue should be gone in later versions of serverless Im currently using version 1 30 1 so kindly update yours if that helps "},
{"id": 63482, "question_id": 6348, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-05T02:50:38Z", "scrap_date": "2024-05-01T00:17:33.409648", "content": "Have you tried removing the environment variable from the serverless yml and just setting it in the console Putting the name into the serverless config is like saying its value is an empty string "},
{"id": 63483, "question_id": 6348, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-05T05:31:37Z", "scrap_date": "2024-05-01T00:17:33.410648", "content": "Im sure it will work but was hoping its possible to add variables using Serverless Seems like its not "},
{"id": 63484, "question_id": 6348, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-06T06:35:33Z", "scrap_date": "2024-05-01T00:17:33.411648", "content": "In order to get around this type of issue I use tools like Bitbucket Pipelines or Gitlabs CICD runners to store data like this You can add an environment variable to Bitbucket or Gitlab manually and reference that in your serverless yml so that you end up using the environment variable you inserted into BitbucketGitlab instead and never need to log into AWS to set it"},
{"id": 63485, "question_id": 6348, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-06T06:51:18Z", "scrap_date": "2024-05-01T00:17:33.412649", "content": "Great suggestion Can you please show how can I reference that value in yml file"},
{"id": 63486, "question_id": 6348, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-06T10:06:26Z", "scrap_date": "2024-05-01T00:17:33.412649", "content": "What you do is set the environment variable in Bitbucket or Gitlab depending on which you use Then in your serverless yml you are referencing an environment variable so Then when you deploy AN_ENV_VARIABLE will be available to your lambda with the value you used in your CICD build process Hope thats clear enough "},
{"id": 63812, "question_id": 6381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-08T10:34:15Z", "scrap_date": "2024-05-01T00:17:34.342381", "content": "Have you tried adding a response template for the 400 status code httpsserverless comframeworkdocsprovidersawseventsapigatewayresponses"},
{"id": 65432, "question_id": 6543, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-24T03:30:06Z", "scrap_date": "2024-05-01T00:17:35.023947", "content": "Generally speaking Serverless will package everything for you If youre having a problem can you provide an example"},
{"id": 32292, "question_id": 3229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T16:32:31Z", "scrap_date": "2024-05-01T00:17:35.819085", "content": "Any updates on this problem I am facing similar issue with kms plugin"},
{"id": 2282, "question_id": 228, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-04T23:19:32Z", "scrap_date": "2024-05-01T00:17:37.649183", "content": "Serverless uses CloudFormation under the hood so using Terraform is not beneficial since the infrastructure is already code "},
{"id": 2283, "question_id": 228, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-09-05T17:30:18Z", "scrap_date": "2024-05-01T00:17:37.650183", "content": "Yup as rowanu already mentioned were built completely on top of CF decided on that in the beginning instead of Terraform to stay close to AWS If you want to manage other resources in Terraform and deploy Serverless resources through CF thats definitely possible you then just need to make sure that your Serverless functions can access those other resources youve set up through Terraform although I think this would lead to a lot of pain to be honest "},
{"id": 2284, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-07T01:48:36Z", "scrap_date": "2024-05-01T00:17:37.651183", "content": "Thanks for the quick response I asked because some coworkers prefer terraform over CF because of past problems they had with some instability and confiability of CF Did you guys have problems regarding CF that is important to mention"},
{"id": 2285, "question_id": 228, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-08T06:09:33Z", "scrap_date": "2024-05-01T00:17:37.651183", "content": "Not sure what theyre talking about with regards to instability with CloudFormation I work solely with AWS and CFN is the way you manage AWS resources and it was actually one of the reasons I started using the Serverless Framework because its backed by CFN When I see articles like this about TF it makes me want to avoid it "},
{"id": 2286, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-08T12:06:13Z", "scrap_date": "2024-05-01T00:17:37.652184", "content": "We use Terraform in some of our internal Serverless projects as well one of our engineers really likes it and it has its updownsides For the main Serverless Services we want to go with the provider native configuration management system as any other system will simply not be used by larger companies especially enterprises "},
{"id": 2287, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-11T16:07:26Z", "scrap_date": "2024-05-01T00:17:37.653184", "content": "rowanu I know this thread is pretty old but Im curious Is Cloudformation used even when the provider is Azure or Openwhisk Im not sure how it all works under the hood but it seems like there must be or should be some sort of vendoragnostic format like terraform for codifying my infrastructure Edit Just read the above comment I guess that answers my question We use Terraform in some of our internal Serverless projects as well one of our engineers really likes it and it has its updownsides For the main Serverless Services we want to go with the provider native configuration management system as any other system will simply not be used by larger companies especially enterprises "},
{"id": 2288, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-11T20:30:52Z", "scrap_date": "2024-05-01T00:17:37.655184", "content": "Couldnt have answered it better myself My day job is consulting enterprises and the sentiment in that quote is spot on TF also stores its state outside of the platform which is something Im not personally a fan of "},
{"id": 2289, "question_id": 228, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-23T20:30:53Z", "scrap_date": "2024-05-01T00:17:37.655184", "content": "adding my perspective as a nonserverless user just passing by The comments in this thread are all understandable if the majority of what you do is serverless However in larger organisations its rarely the case Terraform is vastly superior to native CFN and so lots and lots of businesses with over 6 figure monthly AWS bills use terraform Its a complete headache to have to listen to someone tell you that you need to deploy serverless infra using sls deploy while pretty much everything else is terraform Something to consider"},
{"id": 22811, "question_id": 228, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-24T20:27:02Z", "scrap_date": "2024-05-01T00:17:37.656185", "content": "walterheck bill Id address the points you raised in your posts but both of you signed up to the forum just to to take pot shots and it also doesnt look like you have any actual Serverless Framework experience so Im probably not going to convince you of anything Have a great day "},
{"id": 22812, "question_id": 228, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-12T20:32:10Z", "scrap_date": "2024-05-01T00:17:37.657185", "content": "What would be helpful would be to reference Terraform variables in Serverless config just like you can do ssmfoo optstage bar like tffoo optstage bar because in a large co youre likely going to have infrastructure that spans a wide variety of services not just Serverless and this would be very helpful "},
{"id": 22813, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-03T20:40:20Z", "scrap_date": "2024-05-01T00:17:37.658186", "content": "i stumbled upon that thread while searching for the best way of using serverless together with terraform because we decided to give terraform a shot i have one question how are you using terraform probably through some sort of CITool wouldnt it make sense to use the same tool for deploying serverless applications"},
{"id": 22814, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-09T19:05:15Z", "scrap_date": "2024-05-01T00:17:37.659186", "content": "Hmm some not so informed responses WRT terraform above Clearly assuming that theres just one hammer CF or Terraform isnt all that enlightened Were using terraform pretty heavily at WiserSolutions that offers us a lot of flexibility and control over QA and compliance across multiple providers for a variety of services accounts etc Terraform has published a tutorial Serverless Applications with Lambda So it wouldnt be such a stretch to wonder if a Serverless Framework provider couldnt be created to deliver awesome simplicity to the process Speaking for my team it isnt really a problem weve got build tasks that can be parameterized per environment We would appreciate a Terraform providerplugin and Im sure others would too "},
{"id": 22815, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-09T21:51:34Z", "scrap_date": "2024-05-01T00:17:37.660186", "content": "Its an open source project If you want support for terraform then create an issue at the Github repo discuss the implementation in the issue and create a PR to add it "},
{"id": 22816, "question_id": 228, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-09T22:04:58Z", "scrap_date": "2024-05-01T00:17:37.661186", "content": "Like I said it would be nice Nice to have is not worth the effort Just pointing out that its not a rediculous request "},
{"id": 58532, "question_id": 5853, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-28T18:54:01Z", "scrap_date": "2024-05-01T00:17:38.567545", "content": "As mentioned the sls remove command doesnt confirm that you actually want to proceed with removing your serverless stack and you could wrap the sls remove in a custom bash function However I believe this would indeed be a nice feature to add to the cli itself and imagine other users would appreciate this feature You could submit an issue to the serverless community on the GitHub Serverless Repo and it could get added to the project Or if youd be interested you could add this yourself by contributing to the project "},
{"id": 58533, "question_id": 5853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-04T22:04:44Z", "scrap_date": "2024-05-01T00:17:38.569674", "content": "Asked on GitHub httpsgithub comserverlessserverlessissues5356"},
{"id": 58534, "question_id": 5853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T01:57:56Z", "scrap_date": "2024-05-01T00:17:38.569674", "content": "VadorequestSL I have added a similar comment in the GitHub issue you opened but I am posting here as well I have written a plugin called serverlessconfirmcommand that allows you to make commands require confirmation before execution It might suit your needs "},
{"id": 59832, "question_id": 5983, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-30T12:24:36Z", "scrap_date": "2024-05-01T00:17:39.561242", "content": "I think its Ref SNSTopicDispatch The ARN for an SNS Topic can be found using Ref see httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiessnstopic html The Serverless Framework docs say the topic will be named SNSTopic normalizedTopicName see httpsserverless comframeworkdocsprovidersawsguideresources"},
{"id": 59833, "question_id": 5983, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-11T06:03:00Z", "scrap_date": "2024-05-01T00:17:39.563240", "content": "have look into serverlesscloudformationtemplateupdatestack json to see how the serverless framework is creating the names"},
{"id": 61032, "question_id": 6103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T15:02:19Z", "scrap_date": "2024-05-01T00:17:40.303440", "content": "You were on the right track duplicating the CognitoUserPoolClient you just have to make the 2nd copy have a different name such as"},
{"id": 61033, "question_id": 6103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T07:59:37Z", "scrap_date": "2024-05-01T00:17:40.304441", "content": "Thank you for your reply bfieber I tried it but it fails when it tries to validate it Here is my full resource file Thank you "},
{"id": 61034, "question_id": 6103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T08:25:40Z", "scrap_date": "2024-05-01T00:17:40.305441", "content": "The approach seems right Heres a copy paste of code Im using"},
{"id": 8472, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-29T03:03:40Z", "scrap_date": "2024-05-01T00:17:40.942152", "content": "Has someone verified that this is a problem or am I simply doing something wrong Any info would be appreciated "},
{"id": 8473, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T01:58:53Z", "scrap_date": "2024-05-01T00:17:40.943152", "content": "Im having the same problem "},
{"id": 8474, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T01:59:50Z", "scrap_date": "2024-05-01T00:17:40.944152", "content": "Can you post the serverless yml files you are using"},
{"id": 8475, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T03:24:28Z", "scrap_date": "2024-05-01T00:17:40.944152", "content": "I simply added apiKeys property to the serverless yml file and set the private attribute to true for all the api methods that needed it I also tried adding UsagePlan to resources and was able to create a UsagePlan but couldnt connect the key to the plan "},
{"id": 8476, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-30T15:25:01Z", "scrap_date": "2024-05-01T00:17:40.945153", "content": "This is still an issue The serverless documentation says that as a result of a CloudFormation limitation I have to manually connect my api keys to a usage plan However according to the CloudFormation documentation it seems pretty trivial to connect the two Is this problem really a CloudFormation limitation If its not can we get this fixed sooner rather than later One of my main goals is to be able to create an api without performing manual steps "},
{"id": 8477, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-30T21:39:33Z", "scrap_date": "2024-05-01T00:17:40.946153", "content": "Can you share your serverless yml at least just the relevant snippet as DavidWells mentioned above"},
{"id": 8478, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T03:47:57Z", "scrap_date": "2024-05-01T00:17:40.947153", "content": "i already removed everything that I was using to try to do it using serverless Severless documentation already states that it is not possible to connect an api key to a usage plan The only thing I am doing now is using serverless to create the usage plan and the api key I then connect the two together using the aws console What I was trying to do is using the resources section of the serverless yml file and create the resources according to aws documentation httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayapikey html httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayusageplankey html httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceapigatewayusageplan html I tried several different approaches but it seemed to come down to the fact I couldnt get the proper stageId nor could I get a reference to the keyId of the newly created apiKey "},
{"id": 8479, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T04:08:46Z", "scrap_date": "2024-05-01T00:17:40.948153", "content": "I havent used API Keys personally so just coming at it from a CFN angle here You should be able to Ref the automatically generated logical ID i e the API Key which looks like ApiGatewayApiKey SequentialID to use it in your UsagePlan in the resources section of your serverless yml no"},
{"id": 84710, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T09:13:01Z", "scrap_date": "2024-05-01T00:17:40.949154", "content": "Well it is working now Thanks for pointing out the APiGatewayApiKey SequentialID I guess I didnt really understand the serverless documentation regarding the logical Id naming conventions until you pointed this out AWSs documentation regarding AWSApiGatewayUsagePlan cant be followed exactly according to the YAML example They use a Ref StageName Cant use Ref If you do serverless fails to create the script I think if the serverless documentation didnt say that connecting the keys to the plans wasnt possible I wouldnt have given up so easily when I hit this error the first time Below is what I ended up with provider name aws runtime nodejs4 3 stage dev apiKeys MyApiKey resources Resources ApiGatewayRestApi Type AWSApiGatewayRestApi Properties Name myserviceapi Making MyUsagePlan dependent upon ApiGatewayApiKey1 was also key Without it the attempt to create the plan always happened too soon and cloudformation would fail API Stage not found Again if the serverless documentation didnt state that connecting the key to the plan wasnt supported I wouldnt have given up so soon when I hit this error the first time "},
{"id": 84711, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T22:29:37Z", "scrap_date": "2024-05-01T00:17:40.951154", "content": "Thank you for sharing Shawn However it isnt clear to me whether you are also using the serverless yml file to create the API Keys or does this assume that they already exist Can you share a complete file so that we can also see how you are referring to the keys in the provider section andor in the functions section So close "},
{"id": 84712, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T06:34:37Z", "scrap_date": "2024-05-01T00:17:40.952155", "content": "The example i shared is from my severless yml file However this is an old post and my solution is no longer needed The current version of serverless handles everything automatically "},
{"id": 84713, "question_id": 847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T13:08:33Z", "scrap_date": "2024-05-01T00:17:40.953156", "content": "can you please share how to reuse existing apikey with latest version"},
{"id": 61152, "question_id": 6115, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T22:22:15Z", "scrap_date": "2024-05-01T00:17:41.650212", "content": "Also Im seeing this behavior when running the application via serverlessoffline "},
{"id": 52412, "question_id": 5241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-30T13:47:16Z", "scrap_date": "2024-05-01T00:17:42.858812", "content": "I am also looking for solution how to do it from sls cli "},
{"id": 52413, "question_id": 5241, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-08T08:37:40Z", "scrap_date": "2024-05-01T00:17:42.859812", "content": "This is not yet supported There is a PR that potentially enable this but its not merged yet Fix issues 113 and 112 BREAKING CHANGE defaults to `nodejs8` runtime ``` provider name google runtime nodejs8 project myapp region europewest1 memorySize 128 ``` Results in img width771 altscreenshot 20180731 at 13 19 41 srchttpsuserimages githubusercontent com743904345407189f0776694c411e888ed0ef0ca60465f png"},
{"id": 52414, "question_id": 5241, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-15T20:59:43Z", "scrap_date": "2024-05-01T00:17:42.860812", "content": "Any update about the support for Nodejs 8 inside the file serverless yml I tried runtime nodejs8 but it didnt work yet "},
{"id": 52415, "question_id": 5241, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-10-15T21:16:42Z", "scrap_date": "2024-05-01T00:17:42.861812", "content": "I think this was fixed about 12 months ago It works like this runtime nodejs8 Also I had to add region like this region uscentral1 Make sure you update serverlessgooglecloudfunctions npm package to at least 2 0 0"},
{"id": 61492, "question_id": 6149, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-16T22:12:05Z", "scrap_date": "2024-05-01T00:17:43.617881", "content": "As I understand it anything you can do in CloudFormation can be put in the resources section of your serverless yml "},
{"id": 61502, "question_id": 6150, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-16T23:14:29Z", "scrap_date": "2024-05-01T00:17:44.737425", "content": "Is your config json in a config folder off the root of your project From your config Im assuming its supposed to be so heres a working sample You can test it with sls print s dev and sls print s local Hope it helps "},
{"id": 61503, "question_id": 6150, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-17T03:10:18Z", "scrap_date": "2024-05-01T00:17:44.738425", "content": "Thanks for the suggestion Actually thats exactly how I have it structured Turns out there was a missing colon on the DB_HOST line Unfortunately serverless isnt clear on what line is causing the problem Would be helpful if it tied a line number to the error "},
{"id": 55242, "question_id": 5524, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-22T16:59:28Z", "scrap_date": "2024-05-01T00:17:45.529326", "content": "Never mind I figured out "},
{"id": 55243, "question_id": 5524, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-09T18:35:22Z", "scrap_date": "2024-05-01T00:17:45.530326", "content": "How did you solve for this"},
{"id": 55244, "question_id": 5524, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-17T07:02:03Z", "scrap_date": "2024-05-01T00:17:45.531327", "content": "this worked for me "},
{"id": 61652, "question_id": 6165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-18T03:26:50Z", "scrap_date": "2024-05-01T00:17:46.602760", "content": "If youre working with API Gateway Cognito and React then you should have a look at AWS Amplify "},
{"id": 61752, "question_id": 6175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-18T14:37:20Z", "scrap_date": "2024-05-01T00:17:47.502796", "content": "You may have authority to call it but does your Lambda Ensure that you grant permissions to the Lambda function by including it in your serverless yml under provider iamRoleStatements example Hope that helps "},
{"id": 61753, "question_id": 6175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-19T08:51:23Z", "scrap_date": "2024-05-01T00:17:47.503797", "content": "This was to be used by AWS Config RDK service which Im told creates the necessary policies so making the change you suggested shouldnt be neceaary so I got around it like that "},
{"id": 61792, "question_id": 6179, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-19T08:25:31Z", "scrap_date": "2024-05-01T00:17:48.450664", "content": "Put it in the custom section Use the provider section for provider specific settings for Serverless If you start putting custom settings in the provider section you may end up with a rude surprise one day if the key youre using suddenly means something Im not aware of a complete list of provider specific settings "},
{"id": 61793, "question_id": 6179, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-21T11:25:02Z", "scrap_date": "2024-05-01T00:17:48.451664", "content": "Thanks for your great response Cheers Tung"},
{"id": 62032, "question_id": 6203, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-21T22:33:03Z", "scrap_date": "2024-05-01T00:17:49.406933", "content": "You could use the API Gateway builtin support for API keys There is a soft limit of 500 which can be increased by request but Im not sure what the hard limit is Perhaps talk to AWS first to make sure the hard limit is inline with your requirements You could programmatically add new API keys using the post confirmation trigger in your Cognito User Pool If the API Gateway limits are too low then you could use a custom authorizer instead "},
{"id": 62012, "question_id": 6201, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-22T12:36:58Z", "scrap_date": "2024-05-01T00:17:50.040778", "content": "If what you want is to retrieve your AWS account ID to use in your serverless yml configuration file I would recommend you to have a look at the serverlesspseudoparameters plugin EDIT If you are just looking to retrieve the ID from the command line then you can use the AWS CLI and run aws sts getcalleridentity output text query Account Hope it helps "},
{"id": 62102, "question_id": 6210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-22T15:06:29Z", "scrap_date": "2024-05-01T00:17:50.923865", "content": "Surprisingly this just worked when actually deploying Yet the sls package didnt seem to look right "},
{"id": 57622, "question_id": 5762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-12T15:40:47Z", "scrap_date": "2024-05-01T00:17:52.671968", "content": "Try defining your function like this"},
{"id": 57623, "question_id": 5762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-25T13:22:12Z", "scrap_date": "2024-05-01T00:17:52.672965", "content": "Thank you that did the trick I swear I tried this format before and had a problem with it but Ill just chalk this up to YML being YML "},
{"id": 7702, "question_id": 770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-13T20:09:18Z", "scrap_date": "2024-05-01T00:17:53.184000", "content": "Im in the same boat Any ideas"},
{"id": 7703, "question_id": 770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-01T23:51:03Z", "scrap_date": "2024-05-01T00:17:53.185000", "content": "I was able to do this by manually creating the usage plan for my service using cloudformation syntax in the resources section and referring to my existing key by ID when specifying the UsagePlanKey They key ID can be found in the AWS console It is not an ARN just a random alphanumeric ID "},
{"id": 7704, "question_id": 770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T18:53:26Z", "scrap_date": "2024-05-01T00:17:53.186001", "content": "Hi I am getting below exception while trying to use existing API Key An error occurred ApiGatewayApiKey1 already exists in stack arnawscloudformationeucentral1 Thanks"},
{"id": 7705, "question_id": 770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-25T16:31:11Z", "scrap_date": "2024-05-01T00:17:53.187001", "content": "This is good but I feel like serverless should supply a more direct way of specifying API keys My concern with our production APIs is that sometimes for various reasons we need to tear down a serverless stack and bring it back up again Doing so invalidates the keys and this is very bad need to distribute new keys "},
{"id": 59352, "question_id": 5935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T12:21:12Z", "scrap_date": "2024-05-01T00:17:53.605803", "content": "Try to use the following glob syntax for directories directory_name This is mentioned in a note at the end of the exclude include examples of the documentation In your case it would be something like this Hope it helps "},
{"id": 59353, "question_id": 5935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T14:04:30Z", "scrap_date": "2024-05-01T00:17:53.606803", "content": "First of all thanks for your reply Unfortunately I already tried to include syntax too This was a mistake on my part I uploaded the old version of my yml file I am having the same error with added at the end of the directories "},
{"id": 59354, "question_id": 5935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T14:34:39Z", "scrap_date": "2024-05-01T00:17:53.607804", "content": "Maybe trying to reinclude the directories by whitelisting them via the exclude property would work Like this"},
{"id": 59355, "question_id": 5935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T14:56:21Z", "scrap_date": "2024-05-01T00:17:53.608804", "content": "I also tried this approach too it is not working I couldnt find any similar issues both in the forum and github page Besides this problem deploy is working just fine When I remove the global excludes all the files are deployed to every function which is not scalable in a bigger project and slows down the functions I also tried to remove the global excludes and put them in every function it also failed "},
{"id": 59382, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T01:21:14Z", "scrap_date": "2024-05-01T00:17:54.317270", "content": "Does this help AWS CloudFormation has always allowed you to customize your templates by using parameters for runtime input values Parameters make your template code dynamically configurable improving the reusability of your code Previously the only ways you I use SSM but from lambda not cloudformation Look in serverless and check the fully expanded cloudformation syntax serverless is uploading to AWS "},
{"id": 59383, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T02:44:49Z", "scrap_date": "2024-05-01T00:17:54.318270", "content": "Its actually throwing that warning when I run serverless info as well as deploy as far as I can tell its serverless doing it not the CloudFormation stack on the AWS side Regardless Ill read through this and see if anything seems relevant thanks "},
{"id": 59384, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T02:59:14Z", "scrap_date": "2024-05-01T00:17:54.319271", "content": "Cloudformation can call lambda functions I just made a little JS function that does the messy stuff in Javascript functions KeysResource role vapidRole handler vapidkeys handler const response require cfnresponse const webpush require webpush const AWS require awssdk const ssm new AWS SSM exports handler function event context console log event if event RequestType Update let keys webpush generateVAPIDKeys var params Name VAPID event ResourceProperties Stage publicKey required Type SecureString Value keys publicKey Description VAPID public key for server push Overwrite true ssm putParameter params function err data if err console log err err stack an error occurred else console log data successful response params Name VAPID event ResourceProperties Stage privateKey params Value keys privateKey params Description VAPID private key for server push ssm putParameter params function err data if err console log err err stack an error occurred else console log data successful response return response send event context response SUCCESS VAPIDPublicKey keys publicKey else return response send event context response SUCCESS VAPIDPublicKey "},
{"id": 59385, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T04:11:54Z", "scrap_date": "2024-05-01T00:17:54.321272", "content": "Im not sure I follow the relevance of CloudFormation access to lambda functions to the problem described the issue I am seeing is with trying to use a parameter within AWS parameter store SSM within the serverless yml file as per the notation documented here httpsserverless comframeworkdocsprovidersawsguidevariablesreferencevariablesusingthessmparameterstore As far as I am aware that doesnt involve Lambda calling CloudFormation or vice versa though I could certainly be wrong about that That being said thank you for taking the time to make an example to try to clarify your suggestion for me "},
{"id": 59386, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T04:30:16Z", "scrap_date": "2024-05-01T00:17:54.322272", "content": "I see now what you want I ignored that feature in YAML and used code in my lambdas to directly fetch the SSM variables I dont remember exactly why now but I believe I did it because when you bring them in as environment variables they are sitting around unencrypted where a hacker can get to them When you do it in code you can decrypt them and then immediately delete them "},
{"id": 59387, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T17:13:33Z", "scrap_date": "2024-05-01T00:17:54.323272", "content": "Another benefit of calling via code from within the Lambda is if the value in SSM changes then next instance of the Lambda will pick up the change versus being in the serverless yml which would require a redeploy "},
{"id": 59388, "question_id": 5938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T17:55:16Z", "scrap_date": "2024-05-01T00:17:54.324272", "content": "I am actually already pulling some variables within the Lambda secured ones for exactly the reasons pointed out by jonsmirl I wanted to provide this one via environment because it isnt likely to change much and based on some loggingtesting I did it can take over a second to read from SSM which in my very short 34 second runtime is significant basically since I dont need the liveupdate for this one I was hoping to avoid the tradeoff in execution time it incurs At the moment reading from within the lambda is how I am working around the issue was mainly hoping someone could specify any gotchas they found with using the feature since I cant get it to work at all asdocumented required roles for the configured serverless user etc that may not be documented "},
{"id": 5422, "question_id": 542, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T18:35:23Z", "scrap_date": "2024-05-01T00:17:55.294403", "content": "At the moment the best thing to do is using Environment variables through dotenv or similar and only adding those variables on deployment or in CI so they are not in the repo httpsserverless comframeworkdocsguideenvironmentvariablehandling This is an important feature and were working with AWS to make this much easer and better in the future but its not ready yet "},
{"id": 5423, "question_id": 542, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-27T20:28:26Z", "scrap_date": "2024-05-01T00:17:55.295403", "content": "There are a variety of sls plugins that handle env vars in different ways A while back I created one that does it a bit more intuitively in my opinion You include a env file in the root of your project and with the serverlessdotenvplugin installed when you run sls commands any env vars found in the env file will be injected into the serverless framework like all other environment variables do already You can then access them in your yaml the normal way envSOME_VAR with the added benefit that they will also be injected into your lambda functions Preload Environment Variables with Dotenv into Serverless GitHub neverendingqsserverlessdotenvplugin Preload Environment Variables with Dotenv into Serverless"},
{"id": 59082, "question_id": 5908, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-09-23T13:22:38Z", "scrap_date": "2024-05-01T00:17:56.317437", "content": "Value that youre looking for is exposed in resource output as Endpoint Address httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesrdsdatabaseinstance html section Return Values Then you can pass it to your Lambda function using FnGetAtt like this"},
{"id": 59083, "question_id": 5908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-28T19:07:30Z", "scrap_date": "2024-05-01T00:17:56.318438", "content": "Awesome Thank you so much "},
{"id": 47022, "question_id": 4702, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-28T19:07:34Z", "scrap_date": "2024-05-01T00:17:56.799323", "content": "Its here httpsgithub comlambcidockerlambdablobmasterpython3 6buildDockerfile"},
{"id": 59752, "question_id": 5975, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-30T06:01:37Z", "scrap_date": "2024-05-01T00:17:57.763927", "content": "I install serverless locally so that each service always has the correct version "},
{"id": 32902, "question_id": 3290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-10T11:28:58Z", "scrap_date": "2024-05-01T00:17:58.710581", "content": "My question is why you choice Serverless Framework to manage aws Developer Tools include CodePipeline CodeBuild CodeDeploy Are they serverless related Take a look about Terraform looks more suitable for your request httpswww terraform iodocsprovidersawsrcodepipeline html httpswww terraform iodocsprovidersawsrcodebuild_project html httpswww terraform iodocsprovidersawsrcodedeploy_app html"},
{"id": 32903, "question_id": 3290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T08:43:45Z", "scrap_date": "2024-05-01T00:17:58.711584", "content": "Yes you are right and thanks to point it out Ill take a look at terraform that seems more suitable I just wanted to centralize it in one point as with serverless Im able to create kinesis sqs and other resources I though that maybe I could use it for CI too "},
{"id": 32904, "question_id": 3290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-25T19:38:05Z", "scrap_date": "2024-05-01T00:17:58.712582", "content": "Why wouldnt someone want to Im curious and to keep everything serverless wouldnt that be in the scope of a project"},
{"id": 32905, "question_id": 3290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-30T08:15:24Z", "scrap_date": "2024-05-01T00:17:58.713582", "content": "wouldnt that be in the scope of a project Not really Typically your CICD pipeline would use the Serverless Framework only at the very end to handle deployment and updating infrastructure needed by the functions This means you need CodePipeline CodeBuild and CodeDeploy setup first I would create another project using CloudFormation or Terraform to create your CICD infrastructure "},
{"id": 52482, "question_id": 5248, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-30T08:31:24Z", "scrap_date": "2024-05-01T00:17:59.389424", "content": "Have you tried setting the deploymentBucket in your profile"},
{"id": 60002, "question_id": 6000, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-02T00:56:14Z", "scrap_date": "2024-05-01T00:17:59.978696", "content": "The best place to ask this is the Serverless repo "},
{"id": 41522, "question_id": 4152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T15:22:15Z", "scrap_date": "2024-05-01T00:18:00.940544", "content": "Anyone has insight into this "},
{"id": 41523, "question_id": 4152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T19:46:50Z", "scrap_date": "2024-05-01T00:18:00.941544", "content": "2000 more PUT requests will cost you a penny For a whole dollar you can get 200000 more I dont believe AWS will bill you until your bill exceed 25 cents The AWS free tier for PUTs is simply too low to be practical they should raise it Dont know where you are coming up with 800 Here is the pricing for PUTs PUT COPY POST or LIST Requests\t0 005 per 1000 requests"},
{"id": 41524, "question_id": 4152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T19:58:54Z", "scrap_date": "2024-05-01T00:18:00.942544", "content": "I just posted that from AWS billing forecast Do you have an insight why it is creating several PUT requests I enabled S3 logging and it created 90 requests for 4 deployments "},
{"id": 41525, "question_id": 4152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T22:08:55Z", "scrap_date": "2024-05-01T00:18:00.943544", "content": "My PUTs are projected to go over too S3 Puts\t 58 05 1161 002000 Requests \t 435 38 8707 502000 Requests Mine go over every month by a lot more than that But you have to do about 50000 in a month to get a 25 cent bill from AWS I have never reached the point where they charge my card on this account Dont see how you can get to 800 this way that would be 160M PUTs in a month "},
{"id": 41526, "question_id": 4152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T09:16:18Z", "scrap_date": "2024-05-01T00:18:00.944545", "content": "Dont believe AWS Forecast its shit Basically their algorithm is not good in the beginning of every month and also when you just get started because it somehow does calculations based on actual usage and tries to predict forecast cost Based on forecast I had a 3k bill forecasted on the 3rd of the month Which become a 30 bill 2 days ago because the algorithm had more data to work with Watch it closely but its gonna decrease like crazy youll see Better watch your actual cost in Billing summary at httpsconsole aws amazon combillinghomeregioneuwest3billsyear2018month4 for me"},
{"id": 60212, "question_id": 6021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-04T10:53:36Z", "scrap_date": "2024-05-01T00:18:01.607772", "content": "Enabling cors in your serverless yml only adds the OPTION method to the API Gateway Your response still needs to include the CORS headers or you will see No AccessControlAllowOrigin header is present on the requested resource From the error code it seems like authentication is successful but authorization is failing This is causing the API Gateway to respond with a 403 that isnt including the CORS headers I would start by looking at httpsdocs aws amazon comapigatewaylatestdeveloperguidepermissions html to make sure you have everything setup correctly "},
{"id": 45342, "question_id": 4534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-21T13:50:32Z", "scrap_date": "2024-05-01T00:18:02.572647", "content": "The Java template looks like the default serverless yml contains a bug If you change the configuration to the following template it works "},
{"id": 45343, "question_id": 4534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-05T13:38:12Z", "scrap_date": "2024-05-01T00:18:02.573647", "content": "Thanks James with that modified configuration I could move past the original error However there is a new error I extracted the jar and the class is definitely there "},
{"id": 45344, "question_id": 4534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-05T16:10:52Z", "scrap_date": "2024-05-01T00:18:02.573647", "content": "It looks like Shaz found the fix for this issue Fixes 138 In the base class base js function `getArtifactZip` we already r ead the zipfile into a buffer httpsgithub comserverlessserverlessopenwhiskblob7ffcbef78a52110d1817b32333a4cb4487da9d57compilefunctionsruntimesbase jsL83 This is then passed to the subclass `processActionPackage` function in this case in java js httpsgithub comserverlessserverlessopenwhiskblob7ffcbef78a52110d1817b32333a4cb4487da9d57compilefunctionsruntimesjava jsL36 which thinks the `zip` parameter is a `JSZip` object thus it all fails with a NPE since `zip file` does not evaluate We just need to`return zip` in the function On a cursory review I think other runtimes may make this mistake as well I think httpsgithub comserverlessserverlessopenwhisksearchqprocessActionPackageunscoped_qprocessActionPackage"},
{"id": 60242, "question_id": 6024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-08T19:11:33Z", "scrap_date": "2024-05-01T00:18:03.486924", "content": "We have setup Grafana httpsgrafana com which gives us a good way to see this data It isnt perfect since it does parse the cloudwatch metrics and sometimes seems to fail but that is maybe 2 of the time and a refresh will fix it "},
{"id": 10072, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-26T21:55:32Z", "scrap_date": "2024-05-01T00:18:04.135804", "content": "Checkout the httpsgithub comserverlessexamplestreemasterawsnoderestapiwithdynamodb example Its using dynamoDB but you could replace the getpostdelete functions with your calls to your remote MongoDB table You will need a hosted mongoDB solution because the lambda function node environment only lives for 5minutes max "},
{"id": 10073, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-26T21:57:57Z", "scrap_date": "2024-05-01T00:18:04.136804", "content": "You will need to connect to your remote MongoDB Checkout httpmongoosejs comdocsconnections html"},
{"id": 10074, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-28T01:28:01Z", "scrap_date": "2024-05-01T00:18:04.137804", "content": "Hello David Appreciate your help on above answer dynamaDB example is very helpful I am trying to see if code for connecting to DB I can put somewhere in initialize code of lambda I know all the threads says that we should not rely that container will be reused but just trying to see if I get lot of concurrent requests lambda container might get reused So instead of creating mongo connection for every request only during container initialization I can get connection Is there a way in lambda that some code block will get executed only during lambda container initialization "},
{"id": 10075, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-28T02:36:38Z", "scrap_date": "2024-05-01T00:18:04.138804", "content": "As I understand it the code outside of the handler function is executed once You could connect to the database there but with container reuse theres no guarantee the connection would still be around when the handler is executed If you have a way to test the connection is still active prior to using it then that might be viable solution "},
{"id": 10076, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-28T17:46:02Z", "scrap_date": "2024-05-01T00:18:04.139805", "content": "Hey mate I understand you and Ive been where ure at Heheheh I lost a lot of time trying to implement it and I finally found a useful way of doing it its not the optimal way of doing it but it works pretty well Since Im not using Serverless as the framework Im using ClaudiaJS deploying a full ExpressJS application For every request recieved I do connect to the database and disconnect from the database using middleware The problem that I was facing with mongoose was that I was unable to keep a connection Ive tried several things and none but this worked Ive done it before with serverless also but that was before the new version of it and its not useful anymore Github project under development link httpsgithub comTCEESNTISAPO"},
{"id": 10077, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-01T20:33:41Z", "scrap_date": "2024-05-01T00:18:04.140805", "content": "ClaudiaJS thanks lucianopf for sharing your github repo how was your experience with ClaudiaJS as compare to serverless framework why did you move ClaudiaJS I am new to serverless and still trying to find out whats best option for development for lambda and AWS api gateway "},
{"id": 10078, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-02T03:57:16Z", "scrap_date": "2024-05-01T00:18:04.141806", "content": "Is there a way in lambda that some code block will get executed only during lambda container initialization I wrote about that in this blog post hope it helps "},
{"id": 10079, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-02T04:30:07Z", "scrap_date": "2024-05-01T00:18:04.142806", "content": "rowanu thanks for sharing very nicely written article "},
{"id": 100710, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-19T11:29:50Z", "scrap_date": "2024-05-01T00:18:04.142806", "content": "That is an awesome point and Ive been deeply trying to do this since this is a thing to take care since the release of the lambda functions The problem is that mongo wont let us have multiple connections so you cant predict in which context that youll be and inevitactbly youll invoke a new context that will try to make a new connection with the mongo Unfortunetly the only solution that I could think of is to release the connection after every request If someone knows a way to open multiple connections on a lambda function Ill be really happy to hear "},
{"id": 100711, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-05T06:45:24Z", "scrap_date": "2024-05-01T00:18:04.143806", "content": "In case someone finds this post here goes some useful sample code httpsgithub comserverlessexamplestreemasterawsnoderestapimongodb"},
{"id": 100712, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-08T21:00:15Z", "scrap_date": "2024-05-01T00:18:04.144806", "content": "DavidWells I hate people who answer questions with a different solution its NOT helpful dynamodb is nothing better than a redis keyvalue store no query support no aggregation dont bother answer freaking questions if you dont know the damn answer "},
{"id": 100713, "question_id": 1007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-09T01:03:04Z", "scrap_date": "2024-05-01T00:18:04.145807", "content": "Here is a mongo example for ya httpsgithub commaciejmatusmoothieliciousblobb7a5a76eb29af076ed228c9b5d190fb56d0df1d2srclambdaaddpagevisit js Have a wonderful day"},
{"id": 25452, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-22T04:54:36Z", "scrap_date": "2024-05-01T00:18:06.109934", "content": "Code outside the handler is only executed when the Lambda is initialized during a cold start When the Lambda runs a second time its trying to use a connection thats been closed Either move the mongoose connect inside the handleCreateUser or look at connection pooling "},
{"id": 25453, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T05:30:36Z", "scrap_date": "2024-05-01T00:18:06.110939", "content": "Is there a way to close the connection just before the lambda function exit"},
{"id": 25454, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-22T23:28:08Z", "scrap_date": "2024-05-01T00:18:06.110939", "content": "Yes Just close it at the bottom of the handler function but remember to move the open to the top of the handler function or it wont run a second time"},
{"id": 25455, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-08-24T21:25:45Z", "scrap_date": "2024-05-01T00:18:06.111934", "content": "Just to add to buggy s answer I attempted to visualise what hes described in a blog post "},
{"id": 25456, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-26T03:34:24Z", "scrap_date": "2024-05-01T00:18:06.111934", "content": "Thanks buggy I think thats the best way to do it Thank you rowanu your article explained a lot more Now things are getting more clear"},
{"id": 25457, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T04:06:09Z", "scrap_date": "2024-05-01T00:18:06.112934", "content": "offtopic THPubs nice to see you here too Saw you in meteor forums "},
{"id": 25458, "question_id": 2545, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-16T06:24:58Z", "scrap_date": "2024-05-01T00:18:06.113934", "content": "Guys Almost an year have passed In the present day is there a better solution for the mongo database connection closing issue"},
{"id": 58002, "question_id": 5800, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T00:46:04Z", "scrap_date": "2024-05-01T00:18:06.977972", "content": "I found the solution In my case I had to set the env variable WSK_CONFIG_FILE to point to the wskprops file WSK_CONFIG_FILEC \\ myDirectory \\ wskprops no actual spaces necessary It is fixed now "},
{"id": 57412, "question_id": 5741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-11T22:05:43Z", "scrap_date": "2024-05-01T00:18:07.750082", "content": "I have used both ESLint and Prettier in serverless projects as standalone tools without any problem You can configure them as you prefer I think it is really difficult to talk about best practices regarding code linting and formatting as each developer tends to have a personal opinion based on preferences and experience and on the programming language itself As long as you and your team can agree on a set of rules and that you are following them it should ensure consistency across your code base I hope it helps "},
{"id": 57413, "question_id": 5741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-12T18:46:34Z", "scrap_date": "2024-05-01T00:18:07.752083", "content": "I agree with teddygustiaux I just use ESLINT with my teams and then configure the rules based on the project No need to have something specific to Serverless Serverless does a pretty good job decoupling your business logic from the framework so as long as you dont have anything too specific to a serverless implementation ESLINT should work just fine "},
{"id": 57414, "question_id": 5741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T10:49:36Z", "scrap_date": "2024-05-01T00:18:07.752083", "content": "Best way to improve quality of your code is going with 1 Typescript 2 Write lots of unit test I found these important and works for my middle sized project Itt enables it to grow further "},
{"id": 57415, "question_id": 5741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T13:37:02Z", "scrap_date": "2024-05-01T00:18:07.753084", "content": "As far as linting I came into Serverless development without any Node experience and limited JS in the browser experience For me using a predefined set of rules primarily for consistency made sense regardless of what they actually were I ended up picking Standard but only because thats whats seemed one of the easiest to deploy in Web Storm at the time Just pick one that provides the tooling you desire and stick to it There is no benefit in my humble opinion getting technical about your linters exact rules etc As long as they remain consistent "},
{"id": 39762, "question_id": 3976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-10T21:04:59Z", "scrap_date": "2024-05-01T00:18:08.567201", "content": "Ok so after playing around I realized that if I dont query my database the function returns as expected The following code works as expected however if I query a user the commented out code above the user is found ie console log USR usr returns but the callback never fires and the function times out Im thinking that maybe the issue is the db connection isnt being closed Thoughts"},
{"id": 39763, "question_id": 3976, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-03-10T22:23:33Z", "scrap_date": "2024-05-01T00:18:08.569201", "content": "Turns out using context callbackWaitsForEmptyEventLoop false saves the day "},
{"id": 39764, "question_id": 3976, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T19:46:03Z", "scrap_date": "2024-05-01T00:18:08.569201", "content": "Thanks that saved my day too "},
{"id": 48952, "question_id": 4895, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T18:39:02Z", "scrap_date": "2024-05-01T00:18:09.486339", "content": "A classpath is a list of locations to load classes from These locations can either be directories or jar files The JVM will attempt to look in the directory classes first then in Jar files When you get a ClassNotFoundException it means the JVM has traversed the entire classpath and not found the class youve attempted to reference This may be something that can happen in the distribution or production of JAR files where not all the required class files were included "},
{"id": 48953, "question_id": 4895, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T19:46:07Z", "scrap_date": "2024-05-01T00:18:09.488340", "content": "Thanks for the good ideas to bring it I know a lot more [url[ httpballtoyou com ][size1px][size] url ] J"},
{"id": 55392, "question_id": 5539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-24T05:01:11Z", "scrap_date": "2024-05-01T00:18:10.360211", "content": "Use DependsOn attribute in the AWSConfig resource so that it waits for the lambda resource to be created first Then use intrinsic functions to get the ARN httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsattributedependson html httpsdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferencegetatt html FnGetAtt [ logicalNameOfResource attributeName ] "},
{"id": 55393, "question_id": 5539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-24T10:06:56Z", "scrap_date": "2024-05-01T00:18:10.362206", "content": "Thanks for advice The challenge here is in serverless yml the lambda is not configured with a logic name It is dynamically generated after running sls cli so I am not able to fill in lambda logic name in serverless yml I can see the cfn template created by sls cli use ProcessLambdaFunction as lambda logic name but it is not a nice way to hardcode it into severless yml Any better approach"},
{"id": 55394, "question_id": 5539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-24T14:02:35Z", "scrap_date": "2024-05-01T00:18:10.363206", "content": "Hmm Maybe you could use yet another Lambda function Its purpose will be to return the ARN of any lambda logical name that is passed into it Lets call the function ReturnARNLambdaFunction Using boto3 in ReturnARNLambdaFunction you can use listfunctions and grab the ARN of the ProcessLambdaFunction function httpsboto3 readthedocs ioenlatestreferenceserviceslambda htmlLambda Client list_functions So AWSConfig DependsOn ReturnARNLambdaFunction ReturnARNLambdaFunction DependsOn ProcessLambdaFunction"},
{"id": 55395, "question_id": 5539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-26T06:18:37Z", "scrap_date": "2024-05-01T00:18:10.364206", "content": "I can see the cfn template created by sls cli use ProcessLambdaFunction as lambda logic name but it is not a nice way to hardcode it into severless yml Any better approach The Serverless Framework uses a consistent naming convention so you know the logical name for resources it creates precisely so you can override defaults and reference them The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 58072, "question_id": 5807, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-17T19:46:17Z", "scrap_date": "2024-05-01T00:18:10.982205", "content": "I figured it out Issue closed"},
{"id": 56762, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T00:57:43Z", "scrap_date": "2024-05-01T00:18:11.876481", "content": "Im so sorry you ran into this issue we should really improve that Makefile In this case youre missing the dep manager itself If you pull down the binary first and then run make and it should work for you go get v u github comgolangdepcmddep"},
{"id": 56763, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T01:57:12Z", "scrap_date": "2024-05-01T00:18:11.877481", "content": "Thanks for the reply I ran go get v u github comgolangdepcmddep and it executed without errors However running make on the tutorial repo resulted in the same error message The Makefile which is untouched is as follows Could you also clarify on the following then run make it I assume you meant running make on the tutorial repo but just wanted to double check It appears that dep is still not installed Running dep status returns I ran both go get v u github comgolangdep and go get v u github comgolangdepcmddep again but neither had any output All this is running inside a Ubuntu 16 04 LTS VirtualBox btw "},
{"id": 56764, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T02:21:22Z", "scrap_date": "2024-05-01T00:18:11.878481", "content": "Hmm this looks to be a GOPATH issue Do you mind pasting here results from the following commands For example NOTE Im using gvm so my GOPATH values will be different but make sure your Makefile is able to access the go binary and its libraries httpsgolang orgdocinstalltesting "},
{"id": 56765, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T02:40:51Z", "scrap_date": "2024-05-01T00:18:11.879481", "content": "I tried following httpsgolang orgdocinstalltesting but was not able to run the build running go env "},
{"id": 56766, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T02:45:26Z", "scrap_date": "2024-05-01T00:18:11.880482", "content": "Thanks for that post so it looks like the GOPATH is off note how it has nothing pasted out there Can you please do the following in sequence and let me know how that works If you notice that dep is somewhere within your GOPATH then you can try running the make again to see how that goes "},
{"id": 56767, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:20:38Z", "scrap_date": "2024-05-01T00:18:11.881476", "content": "thats weird cos GOPATH shows up in go env echo GOPATH homeanongo which dep returns no output my current go env which go usrlibgo1 10bingo this is different from what go env is saying and note the double slashes Is that to be expected"},
{"id": 56768, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:43:30Z", "scrap_date": "2024-05-01T00:18:11.882483", "content": "The doubleslash isnt supposed to be there but it also should not impact anything If you cd to your app folder now and run make does it work"},
{"id": 56769, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:45:45Z", "scrap_date": "2024-05-01T00:18:11.882483", "content": "okay so looks like my base Go installation is not working I edited my path settings to fix the double slash issue profile go env which go usrlibgo1 10bingo which dep Test your installation from httpsgolang orgdocinstalltesting is still not working with the same error make in the serverless tutorial folder is still not working with the same error "},
{"id": 567610, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:58:02Z", "scrap_date": "2024-05-01T00:18:11.883483", "content": "I may have missed this earlier but where did you downloadinstall golang from"},
{"id": 567611, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T04:06:36Z", "scrap_date": "2024-05-01T00:18:11.884483", "content": "I installed it a long time ago and I cant recall really This is the first time Ive had to compile it previously I just ran small tutorial snippets within my IDE Is there any guide to verify my Golang installation"},
{"id": 567612, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T04:11:00Z", "scrap_date": "2024-05-01T00:18:11.885483", "content": "I would remove any and all traces of go from your VM and try once more following these instructions Its the best default installation possible If you want to mimic my setup using another golang manager you can try the instructions here Go Version Manager Contribute to moovwebgvm development by creating an account on GitHub If all of that doesnt work please send me an email to sebastian com and I will try to replicate your env locally to help get you sorted "},
{"id": 567613, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T04:12:46Z", "scrap_date": "2024-05-01T00:18:11.886484", "content": "okay will try that next thanks for all your help Seb this was quite beyond the scope of serverless haha"},
{"id": 567614, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T04:20:42Z", "scrap_date": "2024-05-01T00:18:11.886484", "content": "Of course were happy to help Well make sure to get you sorted its pretty awesome when its all working "},
{"id": 567615, "question_id": 5676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-09T01:11:36Z", "scrap_date": "2024-05-01T00:18:11.887484", "content": "Just checking in to see how you were making out Hope things are going super well now "},
{"id": 58032, "question_id": 5803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-18T03:39:37Z", "scrap_date": "2024-05-01T00:18:12.933481", "content": "You can create the RDS instance by adding CloudFormation into your resources section You can then use GetAtt to find the hostname "},
{"id": 58052, "question_id": 5805, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-18T08:48:34Z", "scrap_date": "2024-05-01T00:18:14.037030", "content": "Nobody Ok so I ran a trivial trial Stack with one lambda fn deployed from a dir from which I created an aws template I then copied the serverless yml file into a random dir and did an sls remove Worked fine I also hacked the copy of the yaml file around a couple of times ultimately just leaving the service name and provider details and again it worked fine Limited example so a bit wary of how far that result can be extended but the docs are misleading when they say the stack needs to be removed from the working directory "},
{"id": 58152, "question_id": 5815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-18T13:33:28Z", "scrap_date": "2024-05-01T00:18:14.734674", "content": "For anyone interested I found the problem Its a bug in the serverlessstepfunctions plugin Ive submitted an issue and created a PR that fixes the problem The ServiceEndpoint output value for endpoints urls generated by the Serverless framework is being overwritten incorrectly by the serverlessstepfunctions plugin I have described the issue in detail here httpsgithub comhorike37serverlessstepfunctionsissues149 This PR changes the ServiceEndpoint generation for API gateway deployments to match the output generated by Serverless framework "},
{"id": 51602, "question_id": 5160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T04:16:31Z", "scrap_date": "2024-05-01T00:18:15.869571", "content": "Another screenshot of the npm log file attached here "},
{"id": 51603, "question_id": 5160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T05:48:53Z", "scrap_date": "2024-05-01T00:18:15.870572", "content": "The problem was with the Node version 10 7 Running this on the LTS version of Node works fine "},
{"id": 51604, "question_id": 5160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T05:53:58Z", "scrap_date": "2024-05-01T00:18:15.871572", "content": "Also having this issue in macOS 10 13 6 Thanks"},
{"id": 51605, "question_id": 5160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T11:07:14Z", "scrap_date": "2024-05-01T00:18:15.871572", "content": "Bug reports need to go to Github Theres already an issue for it 1 If you have a question and not a bugfeature request please ask it at h ttpforum serverless com 2 Please check if an issue already exists so there are no duplicates 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Bug Report Description For bug reports What went wrong npm install fails at the serverless 28 0 postinstall script What did you expect should have happened I had expected to install the serverless package What was the config you used Nothing What stacktrace or error message from your provider did you see Nothing Additional Data Serverless Framework Version you are using v1 28 0 Operating System macOS 10 13 6 Node js v10 7 0 Stack Trace ``` npm install serverless 28 0 postinstall Usersitokworkspaceserverless node scriptspostinstall js Error socket hang up at createHangUpError _http_client js31315 at TLSSocket socketOnEnd _http_client js41623 at TLSSocket emit events js18715 at TLSSocket EventEmitter emit domain js44220 at endReadableNT _stream_readable js108112 at process _tickCallback internalprocessnext_tick js6319 ``` Provider Error messages Nothing "},
{"id": 51606, "question_id": 5160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-18T15:43:41Z", "scrap_date": "2024-05-01T00:18:15.874573", "content": "I had the same exact issue In my case it turned out that I had different sls versions installed ^1 26 1 in my package json and 1 32 0 globally So I just edited the one in my json file to match the global version "},
{"id": 58722, "question_id": 5872, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-19T11:08:42Z", "scrap_date": "2024-05-01T00:18:16.708642", "content": "Its really a better idea to keep them seperate Our solution is to have a git repo for all the frontend work on Gitlab but you can also do this on Bitbucket for example and use their CICD system to automatically build the optimised static assets for the VueAngularReactWhatever framework being used and send push them at an S3 bucket on deployment That way the configuration of the git repo sets up where the files are pushed to not the developers in code "},
{"id": 58723, "question_id": 5872, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-19T11:32:39Z", "scrap_date": "2024-05-01T00:18:16.709642", "content": "Im all for keeping them separate The issue I was seeing is that when I use the domain manager plugin for API calls requiring authentication it creates some sort of hidden cloudfront set up When I then try to serve static content from an S3 bucket by setting up a new cloudfront distribution all the request to my domain e g httpswww mydomain comstatic httpswww mydomain com wellknownassetlinks json etc are also protected require an a bearer token by this hidden cloudfront distribution Im just not sure how to have both public static content and protected APIs lambdas "},
{"id": 58724, "question_id": 5872, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-19T13:02:30Z", "scrap_date": "2024-05-01T00:18:16.710643", "content": "You can set up a CloudFront distribution with your static assets in an S3 bucket Then create another origin that points to your API Gateway and set the caching behavior appropriately "},
{"id": 58782, "question_id": 5878, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-20T06:32:43Z", "scrap_date": "2024-05-01T00:18:17.789052", "content": "Try returning the result from your createResponse call instead of using the callback parameter as its not officially part of the async handler syntax "},
{"id": 58772, "question_id": 5877, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-20T06:37:26Z", "scrap_date": "2024-05-01T00:18:18.833764", "content": "First if youre using the async handler syntax there is no callback parameter officially Youre supposed to return the result you want to send on success The first parameter to the callback function is the error if your handler fails Its supposed be an Error or subclass If there is no error then you return null If youre using the async syntax you can just throw an error "},
{"id": 58942, "question_id": 5894, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-20T15:35:48Z", "scrap_date": "2024-05-01T00:18:19.966135", "content": "foretribe In DynamoDB you dont create a schema of the attributes other than the keys It is a schemaless NoSQL database So remove the lat and lng attributes from the definition Here is the confusing part if you are coming from a RDBMS or SQL databae background Every table is a collection of items and every item is a collection of keyvalue pairs called attributes In contrast to relational databases DynamoDB does not enforce a strict schema It means that different items can have different numbers of attributes and attributes with the same name can have different types Hope that helps "},
{"id": 56132, "question_id": 5613, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-01T13:21:11Z", "scrap_date": "2024-05-01T00:18:21.690181", "content": "Hi Kanthara You dont really need API Gateway to do what you want to achieve All you need do are the following Create a Lambda function and configure to it to handle post processor events on an S3 bucket In other words when a zip file is uploaded to your S3 bucket your Lambda function will be triggered Manipulate the zip file the way you want in your Lambda function Unzip upload the contents to a different bucket in s3 store metadata information in DynamoDB etc or if need be send metadata to SQS for further processing it all depends on what you want to achieve After processing the zip file delete it from the original S3 bucket If you prefer to keep the zip file move it to another S3 bucket Again this should be done from your Lambda function You can then use any method of your choice to let your users access the unzipped content This is the stage where API Gateway can come into play if using a service oriented architecture Alternatively you could allow your users to access their own content directly if you are using say Cognito and AWS S3 SDK Thanks Jonathan Ekwempu"},
{"id": 56133, "question_id": 5613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-03T16:40:44Z", "scrap_date": "2024-05-01T00:18:21.692215", "content": "Thanks JonathanEkwempu I understood the flow "},
{"id": 55592, "question_id": 5559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-26T06:31:07Z", "scrap_date": "2024-05-01T00:18:22.646706", "content": "The DynamoDB endpoint is always dynamodb REGION amazonaws com so you should be able to generate that yourself using dynamodb selfprovider region amazonaws com "},
{"id": 55593, "question_id": 5559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-03T10:18:36Z", "scrap_date": "2024-05-01T00:18:22.647706", "content": "Why does the endpoint contain the stage Ive a similar issue and I dont understand I want the ability to run local and point it to AWS ddb without having to install and run a local ddb instance I think this is a bug what do you think"},
{"id": 55594, "question_id": 5559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-04T11:05:30Z", "scrap_date": "2024-05-01T00:18:22.648707", "content": "dadvir My mistake That should have been region instead of stage I got it right earlier in my response but put used the wrong variable Ill edit the response to make it right "},
{"id": 55712, "question_id": 5571, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-26T07:19:26Z", "scrap_date": "2024-05-01T00:18:23.638328", "content": "It sounds like the Serverless Framework is attempting to resolve all variables up front which is what I would expect You might be able to solve this by using a separate file for each stage Your serverless yml would look like Your envdev yml would look like Your envstaging yml would look like"},
{"id": 55713, "question_id": 5571, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-04T12:16:58Z", "scrap_date": "2024-05-01T00:18:23.640334", "content": "This worked beautifully thanks so much for the reply "},
{"id": 56302, "question_id": 5630, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-04T12:50:51Z", "scrap_date": "2024-05-01T00:18:24.255323", "content": "The environment variables defined in the serverless yml configuration file are automatically populated when using sls You can then access them normally within your Lambda functions For example if you are using Node js it would be via process env "},
{"id": 56752, "question_id": 5675, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-05T08:11:29Z", "scrap_date": "2024-05-01T00:18:25.061221", "content": "For anyone attempting this idea the solution was to add a ManagedPolicyName to the resource this makes serverlesscloudformation create policy versions on an existing policy"},
{"id": 56832, "question_id": 5683, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T14:28:40Z", "scrap_date": "2024-05-01T00:18:25.948564", "content": "Invoking functions locally with Serverless just provides a wrapper to your functions which loads variables provided by the serverless yml file and sets your IAM permissions using the profile you set So if you create environment variables in your config Serverless will load those and make them available to the actual handlers that you are running The reason why you had to deploy first is because you are using DynamoDB In order to connect to DynamoDB tables they must be created first On your first deploy those tables would be created in your AWS account Then when you run your functions locally it will actually access those remote DynamoDB tables AWS created a downloadable version of DynamoDB that you can run locally httpsdocs aws amazon comamazondynamodblatestdeveloperguideDynamoDBLocal html It is fine to test your functions against a remote DynamoDB table if you have Internet access If you want to be able to test the entire app locally without Internet access you could use the link above to create your own local DynamoDB instance Hope that helps Jeremy"},
{"id": 56833, "question_id": 5683, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T15:39:15Z", "scrap_date": "2024-05-01T00:18:25.950564", "content": "Thanks for the detailed response can you provide an example of how I can specify local lambda invocations to access my local DynamoDB"},
{"id": 56834, "question_id": 5683, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T16:46:34Z", "scrap_date": "2024-05-01T00:18:25.950564", "content": "Follow the instructions here httpsdocs aws amazon comamazondynamodblatestdeveloperguideDynamoDBLocal DownloadingAndRunning html Then you just use the endpoint option when using the SDK and specify your local host on the correct port httpsdocs aws amazon comAWSJavaScriptSDKlatestAWSDynamoDB html This SDK above is for node But each language specific version has the same functionality "},
{"id": 56835, "question_id": 5683, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-05T19:41:25Z", "scrap_date": "2024-05-01T00:18:25.951564", "content": "The response given by jeremydaly covers it all but I just wanted to mention the serverlessdynamodblocal plugin which appears to use the aforementioned downloadable version of DynamoDB provided by AWS "},
{"id": 56932, "question_id": 5693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T22:07:11Z", "scrap_date": "2024-05-01T00:18:26.988377", "content": "Which bucket is the error message referring to"},
{"id": 56933, "question_id": 5693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T22:37:16Z", "scrap_date": "2024-05-01T00:18:26.989378", "content": "I changed the service name and killed the last serverless folder Now it works Why did I need to change the name"},
{"id": 56934, "question_id": 5693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T22:46:19Z", "scrap_date": "2024-05-01T00:18:26.989378", "content": " except the functions arent being deployed as SLS says Service files not changed Skipping deployment "},
{"id": 56935, "question_id": 5693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:26:12Z", "scrap_date": "2024-05-01T00:18:26.990378", "content": "OK so I went to AWS CloudFormation and deleted the record that existed And reran this command sls deploy force"},
{"id": 56936, "question_id": 5693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:27:48Z", "scrap_date": "2024-05-01T00:18:26.991378", "content": "Finally the functions appear"},
{"id": 40182, "question_id": 4018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T14:24:03Z", "scrap_date": "2024-05-01T00:18:27.919309", "content": "bump exact same requirement here been looking for a while and not found anything did you have any luck"},
{"id": 40183, "question_id": 4018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T03:12:28Z", "scrap_date": "2024-05-01T00:18:27.919309", "content": "I dont think Serverless has builtin support for this You might like to raise this as an issue at the Github repo If youre desperate for something now you could add an entry in the resources section for each method to add the OperationName "},
{"id": 40184, "question_id": 4018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T05:43:45Z", "scrap_date": "2024-05-01T00:18:27.920310", "content": "Ok thanks for the reply"},
{"id": 56702, "question_id": 5670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-05T13:58:04Z", "scrap_date": "2024-05-01T00:18:28.789494", "content": "Make sure that your variables are being resolved type serverless print This will show you the serverless config with all the variables interpret and really help in your debugging effort "},
{"id": 56703, "question_id": 5670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T15:32:30Z", "scrap_date": "2024-05-01T00:18:28.790500", "content": "This is telling you that you have a resource depending on another called aipsuploadsstaging The docs for S3 Bucket Syntax can be found here httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiess3bucket htmlawsresources3bucketsyntax It looks like there is not a property called Bucket If youre trying to give it a BucketName for a bucket that already exists I can tell you now that you are going to run into errors saying something like bucket already exists If thats the case checkout the plugin serverlesspluginexistings3 httpswww npmjs compackageserverlesspluginexistings3 Ive used it with success As for bucket policy docs they can be found here httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiess3policy html A great way to find the docs youre looking for is to google the resource type i e AWSS3S3Bucket"},
{"id": 56992, "question_id": 5699, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-06T23:24:45Z", "scrap_date": "2024-05-01T00:18:29.845729", "content": "Your custom authorizer needs to return a policy with all permissions that the user could ever need across the entire API endpoint The only other option is to set the TTL to 0 to disabling caching of results Its just the way caching currently works "},
{"id": 45052, "question_id": 4505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-08T07:12:13Z", "scrap_date": "2024-05-01T00:18:30.894624", "content": "I dont Know whether you found the solution but you need to replace the project below field on the serverless yml file with name of the projectID"},
{"id": 57222, "question_id": 5722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-08T10:04:04Z", "scrap_date": "2024-05-01T00:18:32.057875", "content": "Never mind it works I had a typo in my serverless yml Above given code works"},
{"id": 57262, "question_id": 5726, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-08T17:41:17Z", "scrap_date": "2024-05-01T00:18:33.127949", "content": "Actually to answer my own question I figured out a clever way to do this with existing functionality in the custom block The first step is that your functions should be already separated into subfiles and referenced from the primary serverless yml so before I had a block that looked like this So I just moved this up to the custom block like And then just changed the functions to respect the stage And now a different group of functions are deployed based on stage and I can have admindev and adminprod etc just all defined in custom"},
{"id": 57152, "question_id": 5715, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-09T12:13:34Z", "scrap_date": "2024-05-01T00:18:33.966825", "content": "Ive been using httpsgithub comhorike37serverlessstepfunctions which adds step function support to Serverless "},
{"id": 30212, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-07T00:53:48Z", "scrap_date": "2024-05-01T00:18:34.772642", "content": "Did anyone meet this issue and how to fix it I give whole change I did original serverless yml is exact same file of serverlessexampleawsnoderestapiwithdynamodbserverless yml I run sls deploy successfully Then I add the GSI part as below move to button on above file you will see the changes I did After I added GlobalSecondaryIndexes GSI codes and deploy again I got the error Cannot perform more than one GSI creation or deletion in a single update Remove the whole stack and deploy from beginning is not idea solution because I dont expect this behavior in production environment if I need to change something later "},
{"id": 30213, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-07T02:21:58Z", "scrap_date": "2024-05-01T00:18:34.773643", "content": "bill Can you do it in two steps add the first GSI then add the second GSI once its finished"},
{"id": 30214, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-11T08:18:04Z", "scrap_date": "2024-05-01T00:18:34.775001", "content": "Thanks alexdebrie1 I tested as you suggested The correct steps are"},
{"id": 30215, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-12T10:05:51Z", "scrap_date": "2024-05-01T00:18:34.775001", "content": "The correct steps are add one GSI sls deploy waiting for the first GSI created and ready active status it takes several minutes add second GSI sls deploy This does not seem correct Assuming you want your infrastructure to be fully version controlled you wouldnt want to have to remember strange deployment procedures like described I guess the question to ask is why the second global secondary index has to be registered after the first global secondary index is deployed Is this because of cloudformation or because of a serverless bug If it is because of cloudformation perhaps it is possible to define a DependsOn as a property of the second index Im not sure if that would work but if it does your deployment procedure would be version controlled again "},
{"id": 30216, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T14:41:18Z", "scrap_date": "2024-05-01T00:18:34.776643", "content": "tommedema Thats a CloudFormation issue Not sure if DependsOn would work but worth trying "},
{"id": 30217, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T10:12:35Z", "scrap_date": "2024-05-01T00:18:34.776643", "content": "hey alexdebrie1 this issue has been fixed I have the same issues and I have more tables with one or 2 indexes Its so painful to deploy my serverless project Looking forward your help "},
{"id": 30218, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-26T18:25:22Z", "scrap_date": "2024-05-01T00:18:34.777644", "content": "Hey tommedema bill alexdebrie1 I think this issue should be fixed by AWS team for sure By the way even if CloudFormation doesnt allow creation or update more than one index or 10 over tables we can make this working by queueing those requests internally in Serverless framework Or we should wait until CloudFormation issue would be fixed Why should we keep this strange deployment flow Only one way is to serialize the deployment of resources by using DependsOn property Thanks tommedema It works "},
{"id": 30219, "question_id": 3021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-10T17:54:19Z", "scrap_date": "2024-05-01T00:18:34.778644", "content": "Hi harleyguru I wonder how you used DependsOn to add 2 GSIs in one deployment I tried the following yaml but met error saying the table already exists in stack MyTableResource01 Type AWSDynamoDBTable Properties TableName MyTable [properties with first GSI] MyTableResource02 Type AWSDynamoDBTable DependsOn MyTableResource01 Properties TableName MyTable [properties with second GSI]"},
{"id": 56242, "question_id": 5624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-29T18:59:28Z", "scrap_date": "2024-05-01T00:18:35.637570", "content": ""},
{"id": 56243, "question_id": 5624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-30T00:33:04Z", "scrap_date": "2024-05-01T00:18:35.638571", "content": "You cant use callback if youre handler function is async "},
{"id": 56244, "question_id": 5624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-30T12:19:59Z", "scrap_date": "2024-05-01T00:18:35.639571", "content": "Of course You can I have deployed async lambdas that return callback and they are working I use callback when I need to return non default status codes "},
{"id": 56245, "question_id": 5624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-31T05:10:58Z", "scrap_date": "2024-05-01T00:18:35.639571", "content": "SoftMaker The AWS Lambda docs only have two supported handler syntax or I did some testing to better understand how async handlers work with Node 8 10 and the only advice I can give is dont do it Its not supported by AWS and will fail for most use cases Why do you need to use callback to return non default status codes Anything you return will be treated as success For failure you can just throw an Error Are you trying to return a failure with a result"},
{"id": 56246, "question_id": 5624, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-11T17:19:23Z", "scrap_date": "2024-05-01T00:18:35.640571", "content": "It was the dang arrow function "},
{"id": 14372, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T04:00:10Z", "scrap_date": "2024-05-01T00:18:37.465056", "content": "This looks incredible I need to set aside some time to go through it but youve got all the right pieces in place Nicely done "},
{"id": 14373, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T04:19:08Z", "scrap_date": "2024-05-01T00:18:37.466056", "content": "Thanks Pete Any advice would be appreciated "},
{"id": 14374, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T07:30:55Z", "scrap_date": "2024-05-01T00:18:37.467056", "content": "Amazing tutorial Extremely useful to have all these technologies in one comprehensive tutorial "},
{"id": 14375, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-09T07:42:10Z", "scrap_date": "2024-05-01T00:18:37.467056", "content": "Now that the core tutorial is completed a couple advanced items that would be useful to add federated authentication with Cognito eg Facebook Google using RDS eg MySQL and Sequelize as the database and ORM as an alternative to DynamoDB Granted DynamoDB is most appropriate for this simple demo but RDSAurora is also used by many enterprise applications "},
{"id": 14376, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T18:37:32Z", "scrap_date": "2024-05-01T00:18:37.468057", "content": "Yes definitely Social login with Cognito has been highly requested Will release a chapter on that soon "},
{"id": 14377, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T01:29:38Z", "scrap_date": "2024-05-01T00:18:37.469057", "content": "Got it until the Add a Create Note API part Tried to invoke serverless webpack invoke function create path event json but I get 500 error I reviewed from the start and even used the cloned repository and just updated the details with my own but I cant still get it working Is there anywhere we could ask to get this all working"},
{"id": 14378, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T05:21:25Z", "scrap_date": "2024-05-01T00:18:37.470057", "content": "Dorell the 500 error most likely results from the DynamoDB call If you open up dynamodblib js and print out the error object inside the if block Run the invoke command again and lets see what error it prints out Btw you can always talk to us through the live chat right on the tutorial page "},
{"id": 14379, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T13:21:47Z", "scrap_date": "2024-05-01T00:18:37.471058", "content": "Frank Thank you so much man Ive identified the error In the Create a DynamoDB table the fields userid and noteid are both lowercase however the code constructing the data to be inserted uses camelCase such as noteId and userId I think the tutorial part on that page should be updated since the code heavily uses the lowercase one Thanks once again I can continue now And oh the chat tip might come handy "},
{"id": 143710, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T18:15:21Z", "scrap_date": "2024-05-01T00:18:37.472058", "content": "Good point Updated the tutorial Thanks Dorell "},
{"id": 143711, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-01T16:38:25Z", "scrap_date": "2024-05-01T00:18:37.472058", "content": "Would it be possible to add testing examples in there as well"},
{"id": 143712, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-04T05:13:12Z", "scrap_date": "2024-05-01T00:18:37.473064", "content": "This is great thank you "},
{"id": 143713, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-04T18:55:46Z", "scrap_date": "2024-05-01T00:18:37.473064", "content": "Do you mean adding unit tests to the handler functions"},
{"id": 143714, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-04T22:41:28Z", "scrap_date": "2024-05-01T00:18:37.474056", "content": "I did indeed although I guess tests for the React side of things would be nice too Ive used Jest Enzyme to test my React app but I cant get Jest to mock the AWS SDK at all"},
{"id": 143715, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-05T23:38:59Z", "scrap_date": "2024-05-01T00:18:37.474056", "content": "Really amazing tutorial Very clean and good writing I ran into a few issues that were all my own doing I think it would be great if there was a way to capture troubleshooting tips from people as they walk through it On one of the elearning sites udacity i think they has a discussion thread for each topic or chapter so the students could leave notes for other students For example one of my problems was bad indentation for the delete api in serverless yml I got the super helpful message Cannot read property handler of undefined Maybe serverlessstack should just be a tag on StackOverflow Thanks for putting this all together Super helpful "},
{"id": 143716, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T17:52:47Z", "scrap_date": "2024-05-01T00:18:37.476056", "content": "Totally agree Resources for both unit testing and integration testing are lacking Its definitely something we want to cover down the road "},
{"id": 143717, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T18:00:10Z", "scrap_date": "2024-05-01T00:18:37.476056", "content": "While we figure out a more friendly way to do this we opened a discussion thread for each chapter on the GitHub page "},
{"id": 143718, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T16:14:15Z", "scrap_date": "2024-05-01T00:18:37.477057", "content": "Thanks fanjie I believe this framework is based on the idea that all routes other then direct to index html will be directed to the index html as 404 in the HTTP status So for a logical SPA path like domain compath the browser would show the valid page looking very VALID and in all its creative love but the http status would be 404 If that is correct I think this would have adverse affects on SEO no Seems like there is no golden bullet though If you end up going SPA with no true webserver you end up losing some HTTP status clarity Ive thought about what it might look like to add an API Gateway and Lambda layer that could push all requests thru and let the Lambda handle the simple nakedwww and single page redirects But not sure what that would look like Id be willing to invest time to figuring it out if someone thought it would work "},
{"id": 143719, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T21:42:53Z", "scrap_date": "2024-05-01T00:18:37.478057", "content": "Hi iDVB yeah this was a point that one of our readers brought up The way we deal with this in the tutorial is by creating a custom error response to respond with a 200 You can read about it here httpsserverlessstack comchapterscreateacloudfrontdistribution htmlcustomerrorresponses This responds to everything with a 200 so yeah there is no good solution currently "},
{"id": 143720, "question_id": 1437, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-14T14:17:27Z", "scrap_date": "2024-05-01T00:18:37.479057", "content": "Hi Frank Amazing repo im using it as the basis for my app Would you think about adding social login to it Would be great to see a clear example of how to integrate with Google and Facebook "},
{"id": 55272, "question_id": 5527, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-23T02:11:07Z", "scrap_date": "2024-05-01T00:18:38.375523", "content": "Your indentation is wrong "},
{"id": 55152, "question_id": 5515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-22T01:39:20Z", "scrap_date": "2024-05-01T00:18:39.228387", "content": "If you are using the AWSCLI you can try this httpsdocs aws amazon comlambdalatestdgwithuserappwalkthroughcustomeventsinvoke html"},
{"id": 55153, "question_id": 5515, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-23T02:07:02Z", "scrap_date": "2024-05-01T00:18:39.229387", "content": "If youre directly invoking the Lambda then the event the handler receives should be the same event you sent when you invoked the Lambda You wont be receiving an APIGatewayProxyRequest anymore Hence not request Body "},
{"id": 55154, "question_id": 5515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-23T03:25:25Z", "scrap_date": "2024-05-01T00:18:39.230387", "content": "Yeah this solves my issue Thanks "},
{"id": 3652, "question_id": 365, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-23T16:18:55Z", "scrap_date": "2024-05-01T00:18:40.269560", "content": "I wish there was an answer to this as well Im seeing my test stage get overwritten by prod or viceversa when deploying with the stage flag I tried adding a unique service name per stage and that did not work either Not sure what the deal is "},
{"id": 3653, "question_id": 365, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-23T17:08:28Z", "scrap_date": "2024-05-01T00:18:40.270560", "content": "Looks like I had to have a unique stackName per stage Im really not sure if this is how we are supposed to do this since it creates 2 completely separate stacks but it does seem to work Originally I had one API gateway with 2 stages test and prod but had 1 Lambda function and it would overwrite it when you deployed each stage Now it is independent and that issue is not there but in the API Gateway they are not stages under one but 2 completely separate APIs "},
{"id": 55162, "question_id": 5516, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-21T22:13:34Z", "scrap_date": "2024-05-01T00:18:41.242954", "content": "Hi Tom This is a really funny coincidence because I ran into your repository about 23 hours ago and had starred it for reference The monorepo serverless usage is quite poor now and we have been getting by using hacks here an there We decided to attempt to do it right once again Using your repository as an example we implemented the nohoist solution The issue was that we kept running into RangeError Maximum call stack size exceeded during Excluding development dependencies Was this something you ever experienced If so how did you resolve it Thanks "},
{"id": 55163, "question_id": 5516, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-22T16:12:18Z", "scrap_date": "2024-05-01T00:18:41.243955", "content": "RangeError Maximum call stack size exceeded during Excluding development dependencies Great lets raise the awareness of the poor mono repo support in the community so we can fix this Re your error sounds like this might happen when you have a lot of dependencies and this causes a serverless issue See their logic here This is worth creating an issue for at the serverless github Note that I am considering to filter production only dependencies using a hack described here This is a bug Steps to reprodue clone example at httpsgithub comtomm edemaserverlessmonoexampletreefa00a63ef55177c40b059b69e3a98d16982b6dec `yarn install` `cd packagesserverlessrandom` `yarn install production modulesfolder prod_node_modules Actual behavior two dependencies are installed `prod_node_modulesorgrandom` AND a circular reference to the module from which we installed `prod_node_modulesserverlessrandom` Expected behavior prod_node_modules should only contain dependency `orgrandom` Please mention your node js yarn and operating system version node 8 11 3 yarn 1 9 4 OSX Reason is that the beforementioned logic is bugged and leaves a few redundant dev dependencies I should really create an issue for this at the serverless framework but havent found the time to make a reproducable test case If you do find this time that would be great This might also resolve your issue "},
{"id": 55164, "question_id": 5516, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-22T17:20:43Z", "scrap_date": "2024-05-01T00:18:41.245955", "content": "Ive created an example here What do you think My biggest problem with it is that it takes about 60 seconds to run for me "},
{"id": 55165, "question_id": 5516, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-24T00:06:31Z", "scrap_date": "2024-05-01T00:18:41.246955", "content": "tommedema thanks for your reply we will do our part to raise awareness on serverless monorepo as a developer if you are using serverless you also are probably maintaining more code in your codebase therefore it follows that a serverless user is very likely to benefit from a monorepo solution btw the way we resolved our issue was by removing a bloated package from the dependencies we also took a deep look into how serverless packages and zips files the pattern matching algorithm in our usecase was mapping to about 200000 files processing all of those guys takes a reaaaaallly long time so i actually like your approach to highjack the artifact generation as the current algorithm is a bit inefficient it definitely gets the job done for small code bases but cant keep up on the bigger ones we had to rewrite a big package weve been using all over our codebase in order to shrink the size and the number of files the algorithm needs to process thanks for your help and your initiative in creating this example codebase it has helped us quite a bit and im sure lots of other people will find it helpful too "},
{"id": 35992, "question_id": 3599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-24T11:00:20Z", "scrap_date": "2024-05-01T00:18:42.278499", "content": "It is possible to deploy the application using the cloud formation reference However I am running into an issue with mapping the records on the analytics application stream Reference for the sample yml "},
{"id": 51882, "question_id": 5188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-22T00:36:28Z", "scrap_date": "2024-05-01T00:18:43.052667", "content": "Make sure youve added sourcemapsupport as a dependency and not a development dependency If it still fails then you may need to use httpswww npmjs compackagewebpacknodeexternals "},
{"id": 51883, "question_id": 5188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-25T08:24:44Z", "scrap_date": "2024-05-01T00:18:43.053695", "content": "Im following the same walkthrough and getting the same error message Ive got sourcemapsupport as a dependency ^0 4 18 and Ive got webpacknodeexternals added too Edit Ok never mind for me it was just a typo"},
{"id": 55722, "question_id": 5572, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-25T16:50:44Z", "scrap_date": "2024-05-01T00:18:44.178527", "content": "it seems i have reached the 125 number of buckets on my s3 account"},
{"id": 55572, "question_id": 5557, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-26T02:36:58Z", "scrap_date": "2024-05-01T00:18:45.204628", "content": "Is this expected Yes The default region for the Serverless Framework is useast1 unless you override it in the serverless yml or the command line during deployment "},
{"id": 55872, "question_id": 5587, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-27T09:07:30Z", "scrap_date": "2024-05-01T00:18:45.884667", "content": "I found the solution i changed the stackName by mistake "},
{"id": 56052, "question_id": 5605, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-28T11:35:27Z", "scrap_date": "2024-05-01T00:18:46.649131", "content": "Figured it out invalid query strings I used in the query string Cant do that "},
{"id": 56112, "question_id": 5611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-29T15:59:17Z", "scrap_date": "2024-05-01T00:18:47.796953", "content": "Started working on this again this morning and discovered the source of the problem the ClojureScript compiler We are trying Promesa and it seems several async calls in succession will trigger a huge cascade of nested promises so much in fact and causes the compiler to go into a recursive loop The maxBuffer issue popped up due to an error message being logged while in the recursive loop due to a misspelled local I think the maxBuffer error was the result of writing the invalid local error message to stderr over and over again Once the spelling of the local was corrected there were no maxBuffer errors but then the build would not end and caused great stress on my laptop CPU We are not investigating other options for ClojureScript promises and a fix for the compiler "},
{"id": 48462, "question_id": 4846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-29T17:58:27Z", "scrap_date": "2024-05-01T00:18:48.354379", "content": "Were you able to find any solution"},
{"id": 56212, "question_id": 5621, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-29T15:10:32Z", "scrap_date": "2024-05-01T00:18:49.412216", "content": "As you can see everything looks like it worked perfectly But Im not seeing anything in the AWS console "},
{"id": 56213, "question_id": 5621, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-30T00:29:31Z", "scrap_date": "2024-05-01T00:18:49.413217", "content": "Its almost certainly going to be one of those two things "},
{"id": 56214, "question_id": 5621, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-30T05:07:51Z", "scrap_date": "2024-05-01T00:18:49.413217", "content": "buggy youre a genius Just had to switch my region "},
{"id": 56442, "question_id": 5644, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-31T06:01:29Z", "scrap_date": "2024-05-01T00:18:50.109125", "content": "I tend to have the same structure Within each service I tend to add a folder called src for my own source code within which I have a folder for functions where my event handler functions go lib for my abstracted code that my handlers will combine together to describe the business need and test for my unit tests But you can do it anyway you like really "},
{"id": 14022, "question_id": 1402, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-28T09:29:58Z", "scrap_date": "2024-05-01T00:18:51.067189", "content": "Tag away Unfortunately I dont think you can have what youve described and do a deploy though a single master serverless yml file The output of a serverless yml is a service so it doesnt make sense to manage multiple services in it Nested stacks sound like a good idea when you first hear of them but dont work as well as I would expecthope for a variety of reasons if a nested stack has an issue then the failed status applies to the parent stack because the nested stack is a resource of the parent stack and if a resource fails to deploy then the stack has failed Nested stacks usually result in highly coupled stacks because their definitions are so intertwined not something you should want in a microservices architecture You want your services to be loosely coupled What you want is what is described in this docs page By specifically Output ting and Export ing them the values you want to share between stacks you end up declaring your interface between your services which encourages loose coupling I mentioned earlier The trick with crossstack references is that they must be unique in the account region they are in The easiest way to do this is to include the stack name in their name but that then becomes another parameter you would need to pass This has the added benefit of meaning you can point to specific versions and upgrade them at a later date by changing the nameversion of stackservice you point to I think crossstack references also lend themselves well to the layer cake approach to CFN which is a tried and tested strategy that I dont see used nearly enough Unfortunately I dont have any template I can share showing all these things together but I will do a blog post on it soon Personally I dont try and be too pedantic about the micro in microservices The smallest unit of functionality is a Lambda function and I have no issues reusing functions where it makes sensedoes not make them too complicated "},
{"id": 14023, "question_id": 1402, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-03T00:11:20Z", "scrap_date": "2024-05-01T00:18:51.070188", "content": "Hi rowanu Did you happen to get around to that blog post i checked and couldnt see one"},
{"id": 32392, "question_id": 3239, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-09T19:22:45Z", "scrap_date": "2024-05-01T00:18:53.148401", "content": "Principal AWS is an array"},
{"id": 53542, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T00:25:29Z", "scrap_date": "2024-05-01T00:18:54.144125", "content": "It sounds like Serverless isnt using the user you expect for deployments How are you telling Serverless which user to use for deployments"},
{"id": 53543, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T00:40:13Z", "scrap_date": "2024-05-01T00:18:54.145126", "content": "I set aws credentials in credentials file as per serverless documentation and then running sls deploy command I am begineer with serverless I dont know how to specify user during deployment I believe it is using credentails set but user name is not correct How do I set that "},
{"id": 53544, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-08T00:49:19Z", "scrap_date": "2024-05-01T00:18:54.146126", "content": "Can I assume this means youre setting the default profile then running sls deploy without specifying a profile on the command line or setting profile inside your serverless yml The Serverless Framework uses the AWS SDK and its mechanism for selecting which profile to use unless you specify it The chances are its being overridden by an environment variable somewhere Trying renaming the profile in your credentials file then deploy using"},
{"id": 53545, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T01:07:14Z", "scrap_date": "2024-05-01T00:18:54.147126", "content": "Hi buggy Thank you very much for your quick response Yes I have set only one profile which is default one Ill try your suggestion Thanks"},
{"id": 53546, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-09T08:44:31Z", "scrap_date": "2024-05-01T00:18:54.147126", "content": "mentioning profile name explicitly worked sls deploy awsprofile default But dont know why it is not used without mentioning it Thanks buggy"},
{"id": 53547, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-09T23:13:18Z", "scrap_date": "2024-05-01T00:18:54.148126", "content": "If you dont explicitly set the profile then the AWS SDK has a process for determining which one to use If you want to understand more then read the AWS Guide My best guess is youre setting the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables somewhere "},
{"id": 53548, "question_id": 5354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-10T00:47:45Z", "scrap_date": "2024-05-01T00:18:54.149127", "content": "Thanks buggy Yes that was the case I forgot that I had set key and secret in env var for an another project "},
{"id": 54122, "question_id": 5412, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-12T16:50:55Z", "scrap_date": "2024-05-01T00:18:55.017626", "content": "I was able to resolve this bizarre issue It was caused by some typo in my serverless yaml "},
{"id": 54102, "question_id": 5410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-12T16:03:22Z", "scrap_date": "2024-05-01T00:18:55.999487", "content": "Heres an update The issue appears to be that one Output is being created per path for an ApiGateway resource So GET foo id and PUT foo id and DELETE foo id together consume one Output namely ApiGatewayResourceFooIdVar When I add GET foo that consumes another and GET bar another These ApiGateway Output objects are only being created when the serverlesspluginsplitstacks plugin is used So this is a scaling limit related to that plugin the total number of unique paths in serverless yml cant exceed 60 "},
{"id": 54103, "question_id": 5410, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-12T18:36:02Z", "scrap_date": "2024-05-01T00:18:56.000488", "content": "Update^2 solved Just need to make sure that all the different ApiGatewayResource paths are not put into the same stack by the splitstacks plugin "},
{"id": 29532, "question_id": 2953, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-26T09:09:14Z", "scrap_date": "2024-05-01T00:18:57.148687", "content": "I found the answer in case anyone else has the same issue I needed to add an Inbound rule on the RDS security group allowing communication to the instance from anything in the VPC i e "},
{"id": 29533, "question_id": 2953, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-26T10:37:10Z", "scrap_date": "2024-05-01T00:18:57.149687", "content": "Ideally you wouldnt use a source of 0 0 0 00 it means anyone can communicate with your RDS i e the whole Internet You should be OK assuming you havent put your RDS instance in a public subnet At least use the security group that you already have as the source that way things inside the SG can talk to other things in the SG but nothing outside of it can Ideally youd have separate SGs for your RDS and Lambda functions but its a lot to do when you just get started "},
{"id": 29534, "question_id": 2953, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-13T11:51:05Z", "scrap_date": "2024-05-01T00:18:57.150687", "content": "Also make sure the execution role have permissions iamRoleStatements Effect Allow Action ec2CreateNetworkInterface ec2DescribeNetworkInterfaces ec2DeleteNetworkInterface Resource httpsdocs aws amazon comlambdalatestdgvpc html"},
{"id": 52192, "question_id": 5219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T08:38:47Z", "scrap_date": "2024-05-01T00:18:58.013722", "content": "There are 2 PRs that will allow it but none of them is merged yet But you can follow the discussions here This allows you to specify defaults for `sls deploy` and other commands like in the AWS provider Also allows setting function runtimes in either provider or function definitions They will work as follows in serverless yml provider stage prod region europewest1 runtime nodejs8 New regions are officially available outside US httpscloud google comfunc tionsdocslocations PR 43 was removed before because of issue httpsgithub comserverlessserverlessissues3332 Serverless framework hardcoding useast1 region which does not exist in GCF This PR ignores this region replacing to default region `uscentral1`"},
{"id": 52193, "question_id": 5219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-08T13:28:28Z", "scrap_date": "2024-05-01T00:18:58.015723", "content": "KeKs0r Thanks I found those too but then after 2 hours of digging I found that deploy command has region flag for specifying a region which seems to work I was worried that there wasnt any workaround and I was stuck with US region Setting default in yml will be nice of course "},
{"id": 52194, "question_id": 5219, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-13T12:14:22Z", "scrap_date": "2024-05-01T00:18:58.016723", "content": "I reproduced this issue 1 for fixing it There is a workaround just put the region paramter on the cli command serverless deploy region europewest1 jsdevslsnew serverless deploy region europewest1 Serverless Compiling with Typescript Serverless Using local tsconfig json Serverless Typescript compiled Serverless Packaging service Serverless Excluding development dependencies Serverless Compiling function first Serverless Creating deployment Serverless Checking deployment create progress Serverless Done Serverless Uploading artifacts Serverless Artifacts successfully uploaded Serverless Updating deployment Serverless Checking deployment update progress Serverless Done Service Information service slsnew project mrdmdev stage dev region europewest1 Deployed functions first httpseuropewest1mrdmdev cloudfunctions nethello"},
{"id": 53792, "question_id": 5379, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-10T00:13:18Z", "scrap_date": "2024-05-01T00:18:59.029579", "content": "You cant assign objects to environment variables From memory the return value is either a string or undefined "},
{"id": 53793, "question_id": 5379, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-13T12:31:43Z", "scrap_date": "2024-05-01T00:18:59.029579", "content": "thanks buggy for the help i manage to put it into another file"},
{"id": 54082, "question_id": 5408, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-12T22:45:43Z", "scrap_date": "2024-05-01T00:18:59.650878", "content": "Can you post the output when you invoke the function using Serverless it sounds like youre not sending the correct response from your Lambda for the API gateway "},
{"id": 54083, "question_id": 5408, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-13T17:36:31Z", "scrap_date": "2024-05-01T00:18:59.651878", "content": "I have solved it by now the problem was that i didnt supply a statusCode to my response you can find more info here httpsstackoverflow comquestions51799267serverlessinvokeworksbutcurlgiveserror"},
{"id": 54332, "question_id": 5433, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-14T13:36:27Z", "scrap_date": "2024-05-01T00:19:00.515676", "content": "Great write up and description of your issue So youre right about the shared usage plans There is a limit of 10 Usage Plans per API Key but Im not aware of a limit to the number of stages that can be associated with a Usage Plan I have a use case for a client that is similar in that they share an API key across multiple services But we use a single Usage Plan associated with multiple servicesstages and then just associate the API Key with that Usage Plan Im not sure of the CloudFormation support but we use the API directly to create and associate keys instead of relying on the Serverless Framework to do it "},
{"id": 54212, "question_id": 5421, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-14T13:51:28Z", "scrap_date": "2024-05-01T00:19:01.541145", "content": "Nesting your handler is perfectly acceptable e g handler Bhandler_b getAll should work just fine for routing your requests Im not sure I understand why youd have a separate node_modules folder in a subdirectory of a project but Node js will typically look for a node_modules folder recursively from the directory of the file My suggestion would be to package your entire Serverless app as ONE single node module with a single package json If the two handlers are coupled anyway Im not sure what the benefit is of separating them within the same function If there is more context to this please share "},
{"id": 53852, "question_id": 5385, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-09T23:24:27Z", "scrap_date": "2024-05-01T00:19:02.606811", "content": "This can happen if your CloudFormation stack gets out of sync with the resources in your account Typically this happens when someone manually modifies a resource in the AWS console For some resources you can fix the problem by simply correcting the name For most resources youll need to"},
{"id": 53853, "question_id": 5385, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-13T20:23:46Z", "scrap_date": "2024-05-01T00:19:02.607812", "content": "buggy I am replying here because Im working with vayias on this project For the sake of clarification what conditions what types of changes in the AWS console might trigger this error state As we move to production it would be really helpful to know what we should never do so that we can avoid needing to deploy an incomplete stack to production to get around this error "},
{"id": 53854, "question_id": 5385, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-13T23:34:16Z", "scrap_date": "2024-05-01T00:19:02.609807", "content": "cewing Typically it happens when someone makes a manual change to the stack using the AWS console If you deploy everything using CloudFormationServerlessSAM then you should be ok The reason using the console can be problematic is that sometimes AWS needs to recreate a resource when you make changes While the new resource might look like the old resource it will have a different ARN but the CloudFormation stack has the old ARN "},
{"id": 53855, "question_id": 5385, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-14T22:30:01Z", "scrap_date": "2024-05-01T00:19:02.610807", "content": "Thanks for the clear explanation buggy"},
{"id": 54432, "question_id": 5443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-14T23:25:01Z", "scrap_date": "2024-05-01T00:19:03.539051", "content": "The most common way is to put the code outside the handler function so it is only executed during cold start The alternative is to put it inside your handler function but conditionally execute it i e check if you already have valid DB credentials before requesting them "},
{"id": 54433, "question_id": 5443, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-15T03:33:01Z", "scrap_date": "2024-05-01T00:19:03.541044", "content": "Thanks for the quick reply Im a little new to node js so maybe this is more of a JS question but if I put a getConfig function outside of the handler which is async as it calls AWS parameter store I cant be sure that it will have completed before the handler begins execution so theres no way to be sure the data will be ready Lambda really could use some more lifetime handlers onColdBoot onEvent onTeardown etc The alternative is to put it inside your handler function but conditionally execute it i e check if you already have valid DB credentials before requesting them Yeah I think Ill go this route Just a bit of a shame as it adds some boilerplatey async cachesingleton stuff which I was hoping to avoid Thanks "},
{"id": 27412, "question_id": 2741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-21T22:40:01Z", "scrap_date": "2024-05-01T00:19:04.654219", "content": "A quick look at the docs because I havent used this functionality myself yet suggests that the SSM service uses a KMS key with the alias awsssm which is automatically created for you This is a common pattern used by other KMSbacked encryption services e g EBS etc Im not sure if this is configurable but presumably again untried you could update the alias to point at the key you want it to use rather than the one that was created by default "},
{"id": 27413, "question_id": 2741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-22T11:13:56Z", "scrap_date": "2024-05-01T00:19:04.656219", "content": "Im working on ssm right now too but I cant even deploy with it did you need to add any configuration settings other than creating the secure strings I get an error in a different part of my serverless yml if the ssm prefix is present "},
{"id": 27414, "question_id": 2741, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-25T04:07:00Z", "scrap_date": "2024-05-01T00:19:04.656219", "content": "Hi thanks for the reply You are right I wasnt using the correct alias All works now Thanks for your help rowanu"},
{"id": 27415, "question_id": 2741, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-25T20:17:23Z", "scrap_date": "2024-05-01T00:19:04.657219", "content": "delprofundo What version of sls are you using Support for the SSM syntax was added in v1 21 1 "},
{"id": 27416, "question_id": 2741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-26T00:02:10Z", "scrap_date": "2024-05-01T00:19:04.658220", "content": "1 22 0 Ive raised a case that has been referenced to yours I think once I get ready to go to production for now Ill pass the region in the cli arguments "},
{"id": 27417, "question_id": 2741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-15T06:21:04Z", "scrap_date": "2024-05-01T00:19:04.658220", "content": "lorengordon Im running into this issue now can you share the syntax you used to get it to work Also did you use the automatic key or did you force it to use a specific key"},
{"id": 54442, "question_id": 5444, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-14T23:09:07Z", "scrap_date": "2024-05-01T00:19:05.615001", "content": "As usual Ive found a workaround minutes after giving up and posting here In my case the most viable solution appears to be to have a awscredentials file that contains only named profiles And then to set the AWS_PROFILE environment variable to ensure that the fallback profile matches the profile I have passed on the command line via awsprofile This solution works for my usecase and unblocks me from moving forward However it is definitely more evidence that something serverless is doing is falling back on the default AWS profile and I still think itd be nice to figure out what that is c"},
{"id": 40402, "question_id": 4040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-17T09:31:14Z", "scrap_date": "2024-05-01T00:19:06.448563", "content": "After 10 hours discovered the problem my Serverless cli was not updated "},
{"id": 40403, "question_id": 4040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T08:56:51Z", "scrap_date": "2024-05-01T00:19:06.449563", "content": "Can you elaborate how do you solve this I am having the same problem the serverless version is the latest as well "},
{"id": 40404, "question_id": 4040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-15T21:55:45Z", "scrap_date": "2024-05-01T00:19:06.450563", "content": "I am facing a similar issue The complete issue is here httpsstackoverflow comquestions51687740serverlesslambdainvokinglambdagettingnoerrorsbutaemptyresponse And this is the error I am getting"},
{"id": 54612, "question_id": 5461, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T04:29:26Z", "scrap_date": "2024-05-01T00:19:07.454837", "content": "Mobile Hub will probably never have CloudFormation support Theyre designed for different audiences and anyone using CloudFormation will generally use it to setup all of the resources PinPoint currently doesnt have CloudFormation support and the only way to create a new PinPoint app is using Mobile Hub in the AWS console or the API Other people have asked for CloudFormation support and Im sure it will come one day Until then you might be able to create a custom resource for CloudFormation "},
{"id": 28282, "question_id": 2828, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-05T12:59:24Z", "scrap_date": "2024-05-01T00:19:09.264637", "content": "Hi wnofer You can use the sls install command for this It takes in the URL of a GitHub repo as an argument It will use the zip from that repo as a template to start a new project E g Links"},
{"id": 28283, "question_id": 2828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T13:14:30Z", "scrap_date": "2024-05-01T00:19:09.265638", "content": "Perfect Thank you for your fast response"},
{"id": 28284, "question_id": 2828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T14:56:44Z", "scrap_date": "2024-05-01T00:19:09.266638", "content": "Alex We host our own private GitLab server Is there a way to use GitLab instead of GitHub I currently get the folloing response when trying a repro from our server Thanks for the help"},
{"id": 28285, "question_id": 2828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T14:50:00Z", "scrap_date": "2024-05-01T00:19:09.267638", "content": "wnofer Right now its tied to Github There is a PR in progress that will update the sls create command to take in a URL as well That only supports GitHub or Bitbucket but I think we could add GitLab fairly easily PR httpsgithub comserverlessserverlesspull4133"},
{"id": 28286, "question_id": 2828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T07:46:27Z", "scrap_date": "2024-05-01T00:19:09.267638", "content": "Has this PR not yet been merged I cant seem to install from BitBucket and the documentation does not reflect that its possible either "},
{"id": 52342, "question_id": 5234, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-25T23:38:55Z", "scrap_date": "2024-05-01T00:19:10.196554", "content": "Its a CORS error Make sure youre setting AccessControlAllowOrigin to or httpsxxxxx0f67xxxxxe7963c04cxxxxx23bf vfs cloud9 useast1 amazonaws com"},
{"id": 23692, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-27T12:46:57Z", "scrap_date": "2024-05-01T00:19:11.036388", "content": "Have you tried something like this"},
{"id": 23693, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-11T12:53:13Z", "scrap_date": "2024-05-01T00:19:11.043390", "content": "We have the same issue Buggys solution above is not an option for us We have multiple environments where the same artifact should be able to be used We are trying to avoid building environment related versions That fights against the pipeline thinking We should be able to build an artifact that can be deployed into any existing environment In our opinion there should be a configuration next to the artifact and the configuration artifact deployment package for specific environment "},
{"id": 23694, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-26T18:29:35Z", "scrap_date": "2024-05-01T00:19:11.044391", "content": "Hey rajwilkhu have you found out the solution Im looking for how to solve that too "},
{"id": 23695, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-20T19:24:59Z", "scrap_date": "2024-05-01T00:19:11.047392", "content": "Hi all maybe someone found some solution for this scenario"},
{"id": 23696, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-20T23:02:15Z", "scrap_date": "2024-05-01T00:19:11.047392", "content": "We have a kind of solution SSMParameters and cloudformation exports Wherever possible we store unique environment variables in Parameters so that nothing unique ends up in cloudformation itself Serverless allows you to reference cloud formation directly as well so you can also often FnImportValue as well and these end up embedded in the cloudformation template file It starts you down the path of naming standards and those challenges but it does drive you closer to the goal of build once deploy anywhere "},
{"id": 23697, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T16:08:44Z", "scrap_date": "2024-05-01T00:19:11.049392", "content": "FnImportValue thank you for the reply right now Im using SSM Parameters the problem that I have is for example with the dynamoDB tabless name because to not have conflict with the table on each environment I put as a prefix the environment name how do you manage this scenario"},
{"id": 23698, "question_id": 2369, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-27T20:52:41Z", "scrap_date": "2024-05-01T00:19:11.050393", "content": "Sorry been a long while sense Ive read this forum Not intended Short answer is SSMparameters We use it like a huge central config file If anything is to be unique in one environment vs another its a parameter The functions always look to that fixed Key location and get a variable value back and thus our serverless configs are static Anything unique to a deployment should be a config and in the parameter store Our parameter store is then managed by CF templates or sometimes direct manipulation by Ops but we obviously prefer the former In some accounts we dont allow ANY direct manipulation except for break glass to help ensure its predictable By having a clear line in the sand between code and config it becomes much easier because we can actually get away with identical CF templates run in multiple accounts and thus are capable of doing the above goal or at least using a very generic codebuild task in each account and just pass unmodified source code to each one We actually do the later and literally lock out anything but readonly access to the account in question So we have high assurance that its deployed the exact same way every time "},
{"id": 52742, "question_id": 5274, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-28T11:11:48Z", "scrap_date": "2024-05-01T00:19:12.045106", "content": "Write my own Component I guess "},
{"id": 39192, "question_id": 3919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T15:12:44Z", "scrap_date": "2024-05-01T00:19:13.167538", "content": "Serverless doesnt see Aurora any different than it sees MySQL Its just a different Engine in your CloudFormation configuration in the Resources section of serverless yml See the Cloudformation AWSRDSDBInstance reference docs here Valid values for Engine are"},
{"id": 39193, "question_id": 3919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-04T22:15:44Z", "scrap_date": "2024-05-01T00:19:13.168539", "content": "This is not so simple because Aurora needs a dbcluster not a dbinstamce Since this post the way I chose to go is to declare bthe backing services directly in CF and to reference that with CF vars Thanks anyway for your feedback I appreciate"},
{"id": 39194, "question_id": 3919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T16:44:16Z", "scrap_date": "2024-05-01T00:19:13.169539", "content": "Heres the AWS CloudFormation reference for creating a AWSRDSDBCluster This too can be done in the Resources section of your serverless yml"},
{"id": 39195, "question_id": 3919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-30T07:18:41Z", "scrap_date": "2024-05-01T00:19:13.170539", "content": "Hai No it is not possible to see Aurora it is different vesion in oracle RAC DBA clusters Thanks Riya httpsmindmajix comoracleractraining "},
{"id": 51962, "question_id": 5196, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-23T19:41:51Z", "scrap_date": "2024-05-01T00:19:13.955286", "content": "Have you looked at AWS Batch That may be closer to your use case At least for data processing You could also try writing lighter weight functions for endpoints "},
{"id": 51963, "question_id": 5196, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-07-24T05:29:53Z", "scrap_date": "2024-05-01T00:19:13.957288", "content": "One quick thing to look at that I dont know if you have is if your lambda execution times are way below 100ms consider decreasing the size of the functions a notch Since you get billed per 100ms if you are using a 1024 size and execution finishes way below 100ms by using smaller Lambdas that still finish under 100ms you are reducing your GBsecond amount In the same toke if your Lambdas are taking a lot MORE than 100ms to run look at tweaking the size again You may have a sweet spot at a larger size that reduces execution time enough that overall you end up with a lower GBsecond amount as well In case you are unfamiliar with what I am talking about the memorySize configuration parameter can scale the size of your Lambda from 128MB all the way 3008MB with CPU scaling linearly along the way as well as cost "},
{"id": 51964, "question_id": 5196, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-30T23:26:46Z", "scrap_date": "2024-05-01T00:19:13.958288", "content": "Thanks yes I took them all down to 256 which makes a huge difference "},
{"id": 52782, "question_id": 5278, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-31T04:57:17Z", "scrap_date": "2024-05-01T00:19:14.782223", "content": "I guess it depends how you use the queues For myself every queue or SNS topic I create has only one publisher Because you dont pay for the actual queue or topic itself only the messages sent this means I can organise things a bit better That also means choosing where to define the queue or topic just became easier as it will be the publishing service that then configures it at least for me "},
{"id": 52783, "question_id": 5278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-31T06:32:23Z", "scrap_date": "2024-05-01T00:19:14.784406", "content": "Thats where my intuition was as well glad Im not way off base Thanks"},
{"id": 52784, "question_id": 5278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-31T06:46:22Z", "scrap_date": "2024-05-01T00:19:14.784406", "content": "Because the whole Serverless paradigmmodearchitecturedesign pattern whatever you want to call it is so new there are a lot of these questions as there isnt any concrete best practice yet Ive come up with a few based on my own experiences but they are very subjective and may not apply to everyone All we can do is share and eventually a general consensus will be formulated "},
{"id": 52972, "question_id": 5297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-31T18:57:39Z", "scrap_date": "2024-05-01T00:19:15.574887", "content": "Hey tmhn what version of the Serverless Framework are you using We recently released the Serverless Platform Beta Your deploy is showing an error in deploying to that Can you try updating to v1 29 2 of the Framework"},
{"id": 52973, "question_id": 5297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-01T09:03:53Z", "scrap_date": "2024-05-01T00:19:15.575881", "content": "Thanks alexdebrie1 your suggestion worked I found that I ran into a similar issue to httpsgithub comserverlessserverlessissues5177 but their resolution of serverless login and then rerunning the deploy command worked Thanks "},
{"id": 52974, "question_id": 5297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-01T11:56:26Z", "scrap_date": "2024-05-01T00:19:15.575881", "content": "Awesome Hit me up if you have any other questions "},
{"id": 19002, "question_id": 1900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T05:12:49Z", "scrap_date": "2024-05-01T00:19:16.236733", "content": "Did you ever find a solution I have the exact same issue "},
{"id": 19003, "question_id": 1900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T07:09:46Z", "scrap_date": "2024-05-01T00:19:16.237733", "content": "Hai Thanks for sharing your question You can run odbcinst j and check where the driver ini file is located odbcinst ini so you can set the path there Otherwise create the new one at odbcinst ini which can define the path to SQL ODBC driver library From the response it looks like everything is running OK except for the unixODBC manager cannot find the driver on Amazon Web Services Lambda Instance"},
{"id": 19004, "question_id": 1900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-01T21:30:24Z", "scrap_date": "2024-05-01T00:19:16.239728", "content": "Hi riyawilliams Thank you for your information relate to this issue I have packaged my zip file with odbcinst ini and odbc ini pointing to the directory where the drivers are present But still I couldnt resolve my issue Is there any suggestion you can provide related to this Please find my files structure and path I am pointing to the ODBC driver below Thank you for your help in Advance best sid"},
{"id": 53092, "question_id": 5309, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-02T14:25:24Z", "scrap_date": "2024-05-01T00:19:17.231307", "content": "sls client deploy isnt a standard Serverless command You might be missing a plugin that adds that command Check your serverless yml file to see what plugins are referenced and then make sure they are installed in your package json file "},
{"id": 53252, "question_id": 5325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-02T14:21:27Z", "scrap_date": "2024-05-01T00:19:18.347892", "content": "Your catchall paths should use proxy not any Defined paths will always override catchalls "},
{"id": 53253, "question_id": 5325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-02T15:39:43Z", "scrap_date": "2024-05-01T00:19:18.348892", "content": "functions RestAPI handler handler RestAPI events http path api any method any cors true GraphQL handler handler GraphQL events http path graphql any method any cors true UI handler handler UI events http path any method get cors true Hi jeremydaly I tried with the following but doesnt work"},
{"id": 53254, "question_id": 5325, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-02T16:00:32Z", "scrap_date": "2024-05-01T00:19:18.349893", "content": "Done With the following config works Thank you jeremydaly for the tip "},
{"id": 53255, "question_id": 5325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-03T02:18:19Z", "scrap_date": "2024-05-01T00:19:18.350893", "content": "Should have told you to replace all of your any s Glad you got it working "},
{"id": 53332, "question_id": 5333, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-03T10:01:58Z", "scrap_date": "2024-05-01T00:19:19.277951", "content": "I found that the error is caused due to VPC Since I use VPC at apnortheast2 by setting VPC security group and subnet at AWS Lambda console I was able to run the deployed sample program Now I am trying to set those information at serverless yml"},
{"id": 53333, "question_id": 5333, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-03T11:14:08Z", "scrap_date": "2024-05-01T00:19:19.278952", "content": "I added role and vpc to serverless yml but experiencing same error "},
{"id": 53334, "question_id": 5333, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-05T12:54:16Z", "scrap_date": "2024-05-01T00:19:19.278952", "content": "Problem solved I created a new IAM Role with AWSLambdaVPCAccessExecutionRole and specified this new role to serverless yml Then I was able to deploy successfully Although the IAM Role I used before also had AWSLambdaVPCAccessExecutionRole I was not able to deploy with that If anybody face this issue I recommend create a new IAM Role by referencing httpsdocs aws amazon comlambdalatestdgvpceccreateiamrole html"},
{"id": 52952, "question_id": 5295, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-06T11:45:18Z", "scrap_date": "2024-05-01T00:19:20.086007", "content": "Sorry Im not bringing much of a solution to the table but very interested into what could come into this discussion Like in your case we are also following a multiaccount strategy and using serverless for holding our logic and define the required infrastructure Matter of fact is that weve just released a small product to production The main account being completely defined with serverless but weve left the management of the child account to a separate process This secondary account is purely infrastructure no lambdas so its kind of ok to manage it manually as an independent CFN stack We do have to create IAM roles and policies in this secondary account and add the lambda principals of the main account as trusted entities Ideally I would love to be able to have a breakdown of several services with their interdependencies being able to be defined and more importantly deployed in a consistent manner across environments via serverless There are a number of already ongoing feature requests that Id say could help greatly towards this goal 1 If you have a question and not a bugfeature request please ask it at h ttpforum serverless com 2 Please check if an issue already exists so there are no duplicates 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Feature Proposal Description There are frequently people having trouble to find out the final resource names or identifiers that are used in the CF template because they need them for their custom resources e g Ref or GetAtt In the Serverless framework the generation of these identifiers is deterministic and they are already known at the very beginning of the lifecycles thus they are known at variable resolution time A new ` cfname ` variable resolution class can effectively solve the problems reduce complexity for the users and finally reduce the number of incoming issues It could work like this Reference Description ` cfname functionmyFunc ` Resolves to the logical id of myFunc ` cfname functionmyFuncversion ` Resolves to the logical id of the version resource of myFunc ` cfname functionmyFunceventxxx ` Resolves to the logical id of the automatically created event resource for event xxx of myFunc ` cfname apigdeployment ` Resolves to the name of the AWSApiGatewayDeployment resource ` cfname apigapiroot ` Resolves to the name of the AWSApiGatewayRestApi root resource These are only samples As soon as a name resolver is implemented the available entities that can be resolved can be added easily It would make sense to even offer resolution for non randomized resources because that will abstract the names away from the resources section and will not break if SLS changes them The variables then can be easily used anywhere in the serverless yml ``` Resources MyResourceThatNeedsARefToAFunction Type AWSSomething Properties Function Ref cfname functionmyFunc ``` Additional Data Serverless Framework Version you are using Operating System Stack Trace Provider Error messages Summary serverless framework is currently wedded to a few concepts which ma ke it very cumbersome to share javascript code and compiler compilation contexts between many node microservice stacks Specifically the fact that serverless does not allow specifying a path to the serverless config file pushes every set of cloudformation stacks deployed by serverless toward needing to be a separate npm package This requirement is essentially enforced by the framework due to the framework not exposing any mechanisms for supplying a path to the serverless config file to use for a given serverless invocation Problems Forcing developers toward describing every stack as an npm package adds a lot of overhead to the development process particularly when its desirable to share code between stacks What overhead is added by the need to describe each serverless stack as an npm package How much of this overhead is incidental complexity vs actually useful modularization I argue that for many projectscontexts this requirement adds a large amount of incidental complexity with net negative benefit rather than encouraging useful patterns every serverless deployable stack needs to setup and define its tooling environment Modern tooling requirements for javascript codebases are extensive compilerstranspilers test runners linters ide integrations Reuse of these processes between related projects is enormously beneficial It seems to be true that in general the fewer the number of packages for which you have to setup this tooling when working on related code the better the development experience you can arrange for your team every serverless deployable stack needs to describe full set of dependencies devDependencies and needs to separately install those dependencies in order for the serverless commands to be runnable Fullencapsulation of development environment rather than requiring the installation of tools globally into package json is very nice so if you wish to package all the required development dependencies then every stack deployment context ends up needing to install its own copy of the serverless framework If you are a using compilerlinter every stack is also going to need its own copy of the compiler and linter and configuration of those Every stack deployment context is going to need to manage versions of these things is going to have to install these things when setting up the development context for each stack and when running automated tests for each stack its very difficult to share code between stacks Simple solutions for sharing code between stacks that rely on nodes module resolution algorithm to organize shared dependencies will not work Furthermore normal techniques for easing development of related sets of npm packages will not work well with serverless because serverless does not handle packaging of symlinked node dependencies in a good way tools like `npm link`lernayarnworkspaces which aim to ease development of related sets of npm packages also do not work well with serverless If lerna symlinks relatedmodulea into servicebnode_modules then when serverless is packaging serviceb all of relatedmoduleanode_modules will be packaged into serviceb including all the dev dependencies for relatedmodulea not to mention source artificats the set of things normally excluded by npmignore etc This will generally make the package too large to deploy when packages have a lot of devDependencies This fact basically breaks the ability to use lerna to ease the development process of relatedmodulea in the context of testingdeployingpackaging serviceb even if we could use lerna the whole lerna concept is something of a large hack and for many projects introduces a large amount of complexity that may not actually be needed Goals For my purposes my goals are easily share code generated from a single compilation and testing context between serverless deployed stacks manage devDependencies and tooling configuration for as much of the codebase as possible in a single place shared code should be in the same compilation context for ensuring smoothest path to maximum benefit from compiler and ide tooling support easily creating new variations of a stack for use in automated testing or to deal with other kinds of strange businessdevelopment requirements ideally by just copyingmodifying a serverless yml file get the best experience from ides The pattern I have fallen on is to structure our repository like this ``` serverless_plugins custom plugins should be shareable between stacks package json scripts to start compiler run tests etc jest json jest debug json tsconfig json tslint json wallaby js src typescript code lib compiled javascript servicessome_serviceserverless yml servicessome_servicenode_modules node_modules servicessome_servicepackage json package json needed to expose devDependencies to serverless packaging process servicessome_servicelib lib servicessome_service serverless_plugins serverless_plugins ``` The basic idea of above pattern is to use symlinks to trick serverless so that running `serverless` command from any services directory behaves as if you had copied the serverless yml file into the project root directory and ran serverless from there Solution I really think a behavior like this should just be supported by default without having to use symlinks to hack a serverless yml file into the execution context of another folder I would like an option to allow providing a path to a yml file to use for serverless config This should interpret the config file as if the config file was located in the cwd paths defined in config files should be specified relative to the cwd everything should be executed just as if you had moved the configuration file to serverless yml prior to execution Alternative If adding the requested feature and exposing to users the ability to control which config file to use from the command line is not deemed desirable would a pull request that modified the Service class and Serverless constructor to allow easier implementation via a custom subclass of the Serverless class be accepted Right now I am monkey patching the serverless framework to allow using alternative config files in my automated testing environments Its not pretty and involved by necessity some copypasting but essentially required changing Service load method to consider options passed to Service constructor A little bit of changes to the framework could greatly ease this customization ``` PATCHED attempt to get serviceFilenames from `that` rather than only supporting hardcoded paths List of supported service filename variants The order defines the precedence const serviceFilenames that serviceFilenames null that serviceFilenames [serverless yaml serverless yml serverless json] ``` And then hacking the Serverless constructor to use my patched Service subclass and pass in custom path to serverless config file ``` export class JestServerlessConfig extends Serverless constructor serverlessContext JestServerlessContext configure servicePath super set servicePath to the directory in which you want serverless command to execute abs path servicePath serverlessContext executionPath interactive false HACK recreate the service this time with patched behavior this service new JestServerlessServicePatch this serviceFilenames [serverlessContext relativeServerlessConfigPath] HACK Variables class picks off this serverless service instance inside constructor and saves it make sure to update that reference to point at patched object this variables service this service this _jestServerlessContext serverlessContext ``` I also have to monkey patch serverlesslibutilsgetServerlessConfigFile Other Alternative Its possible I could add webpack to my build process and generate a bundle including all required node_modules for each services directory This could be a good alternative but webpack is complicated and it would be much slower It also would not really work all that well many varieties of common testing tools The need to do this ultimately results from a small addressable limitation of the serverless framework which I think would be better to handle with what seems a small augmentation to the framework With the new packagedeploy semantics the builds and deployments can be distrib uted on different servers The created artifacts can then be deployed to AWS using the CF template created in the build step Normally you construct your services so that some properties are set by variables defined in the serverless yml that are set depending on the service target e g stage or region A prominent example for that is the setting of Lambda environment variables Imagine you have the following service definition ``` service stashimibotdash provider name aws runtime nodejs6 10 stage dev region useast1 environment MY_VAR selfcustom selfcustom stage myVar custom stage optstage selfprovider stage dev myVar My3rdPartyAuthIdForDev prod myVar My3rdPartyAuthIdForProd ``` The problem with the package command is now that the variables are already substituted there and the CF template that is transferred to the deploy stage already contains the resolved variables As a consequence it is not possible to deploy a builtpackaged service to different stages i e the stage used to build also has to be used to deploy A workaround is to build all stagesregions independently on the build server create artifacts for each stage and deploy the corresponding artifact on the deployment server A proper solution would be that the build phase creates an artifact that is independent from the environment that the artifact is deployed to Proposal The build phase should keep the literal variable references in the artifacts CF template and the deploy phase should do the variable substitution depending on the stageregion selected at the time of deployment This would mean that only the variable subsitution functionality has to be moved Of course only variables that are usedplaced in the generated CF template should be deferred So maybe the `generateXXXTemplate ` function that is run in the build phase would be the target for a viable implementation then only the right variables would be affected On the deploy phase the substitution has to be made as soon as the CF template from the artifact is loaded to have the real values available for all plugins running in the deployment context Care has to be taken for plugins that might use the variable information during the build phase imo that is wrong anyway Essentially they are all targeted at being able better integration and easier management of the underlying CFN infrastructure There might be a case for a plugin that could wrap some of this requirements together However my knowledge of the internals of serverless is limited to envisage what could potentially be the path of least resistance Any potential hacks from other users or guiding input from serverless folks would be most welcome"},
{"id": 27622, "question_id": 2762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-07T08:18:16Z", "scrap_date": "2024-05-01T00:19:21.079857", "content": "I am running into the exact same problem while setting up a pubsub topic Did you figure this one out"},
{"id": 39082, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T03:21:16Z", "scrap_date": "2024-05-01T00:19:22.258169", "content": "Are you sure this is good practices to manage vpc es rds in serverless framework"},
{"id": 39083, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-02T07:35:22Z", "scrap_date": "2024-05-01T00:19:22.259169", "content": "Hi bill thanks for the interest in my question No I am not sure this is good practice to manage everything in the serverless fmk However there are lots of articles and examples doing that on the internet My 2 favorites are httpblog brianz bzpostaccessingvpcresourceswithlambda ajurasz github io Kotlin AWS Lambda Serverless Framework Arek Jurasz Software Engineer Experimenting with Kotlin AWS Lambda and Serverless Framework My personal opinion is that sls deploy should deliver a ready to go stack from end to end with different behavior in function of the stage For ex in dev I want to provision a t2 micro mysql for my rds whereas in prod i want to proviosion an aurora If I only needed serverless to configure my functions and events then using CloudFormation alone would be suffficient because it does not change much between stages AND I dont need the multi provider support What is your opinion Do you know any resource that describe such goodbad practices What are the drawbacks to manage that in serverless yml As a final note please note that I have multiple serverless yml for different services I configure the VPCs and subnets directly in AWS I just reference them in the serverless yml "},
{"id": 39084, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T13:21:40Z", "scrap_date": "2024-05-01T00:19:22.261170", "content": "Hi bill after much digging here and there I think that your point is That way Is that correct If so could you please show me how I can reference another stack from my serverless yml For ex if i have a cfdev yml with a MySQL RDS and a cfprod yml with an aurora RDS how can I get back that as a single set of DB_HOST DB_USER DB_PASSWORD variables inside serverless yml "},
{"id": 39085, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T23:46:11Z", "scrap_date": "2024-05-01T00:19:22.262170", "content": "I am not sure which is bestgood practice as well Seems your research made the right conclusion The owner of the link you provided talks about Serverless Design Patterns and Best Practices but only focus solution with Cloudformation template only If you or your team have strong knowledges about Cloudformation template it is not bad idea to manage ALL codes in serverless yml It will depend on the skillsets in your team I personally have very well knowledges and several year project experiences with Hashicorp Terraform so in my serverless projects I only manage serverless related resource with serverless framework and let Terraform to take care of whole infrastructure as code The reason is Cloudformation yaml is too hard to write and will spend much time to maintain in the future I always try to avoid writting CFN With current features in serverless framework a lot of infrastrure resource codes are missed so in most time if the resource is not api gateway lambda dynamodb I just copy the cloudformation yaml codes directly into serverless yml There are serverless plugins which can do extra jobs easily such as manage domain name but I will only add these plugins if it need spend too much time with CFN For layer management of course you need several stacks VPC databasesredismemcacheElasticetc and application layers For application layers you can manage one serverless yml or several serverless yml with different custom option for different stages such as devuatprod I discuss this with another ticket before Manage variables for deploying a serverless project with different environments take a look If you need reference another sls stack outputs please read this httpsserverless comframeworkdocsprovidersawsguidevariablesreferencecloudformationoutputs"},
{"id": 39086, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-03T21:45:30Z", "scrap_date": "2024-05-01T00:19:22.264171", "content": "I wouldnt be managing anything infrastructure related in serverless com other than very tiny starter projects Sls is great for managing apis and lambda functions but youre going to get a lot more mileage with your Infrastructureascode strategy having a library of other CloudFormation templates that do everything else We have master CF templates that build the basics such as VPCs and security groups a different template for security related items like roles and policies used by serverless and then just reference that in the serverless templates by passing the ARNs We also easily got to a point of dividing up our serverless projects into multiple repos each with their own serverless yml grouping API calls by categories Any code you would share across repos youd do custom npm packages for or just reference a URL directly in package json Use serverless for what its good at dont make it for your entire distributed system "},
{"id": 39087, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-08T15:36:30Z", "scrap_date": "2024-05-01T00:19:22.266172", "content": "I like managing ALL my infrastructure in serverless yml as it allows me to create the base infrastructure and other resources based on serverless variables I want to have separate databases S3 buckets perhaps even VPCs depending on whether Im deploying to dev qa or prod I create a serverless yml file that references a serverlessvars yml file that vars file has sections for each stage [dev] [qa] [prod] and perhaps others Each of those can specify customized resources For preserverless projects weve used CloudFormation but ended up wrapping it with Troposphere to get sane variable handling using Python parsing of ini files Doing everything in serverless with variables seems easier to me "},
{"id": 39088, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-08T20:20:12Z", "scrap_date": "2024-05-01T00:19:22.267166", "content": "Thanks everyone for your constructive answers I see that this is definitely not a one size fits all solution and I will keep learning by doing At the moment I manage infra in CFN and lambdas with serverless "},
{"id": 39089, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-02T18:09:12Z", "scrap_date": "2024-05-01T00:19:22.268167", "content": "Bit late to contribute here but fwiw Ive found it much easier to break down my serverless config using the undocumented serverless js feature Pehaps more specifically Ive found it much easier to share serverless config this way If Im creating a dynamodb table I need a role statement a table definition potentially a plugin like serverlessdynamodbdblocal If you use serverless js you can have an npm module that builds a serverless config object and merge that into you service config I imagine some would frown on this saying this is config not code but I found the yaml restrictions to be untenable using many distributed services I imagine serverless js would open similar doors for you with breaking down a large serverless configuration "},
{"id": 390810, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T14:06:13Z", "scrap_date": "2024-05-01T00:19:22.269167", "content": "A bit too late here for the sake of completeness take a look at Norstroms approach at their canonical HelloRetail app httpsgithub comNordstromhelloretail Services are in separate serverless sls endtoend deployment wired by custom script As for CF tempaltes just an opinion I found serverless quite convenient way to embedding including them as opposed to scripting the endtoend orchestration outside with custom code or something else Thanks for sharing the article BTW My thoughts on project structure in Project structure section of this story httpsmedium comdzimineexploringserverlesswithpythonstepfunctionsandwebfrontend8e0bf7203d4b"},
{"id": 390811, "question_id": 3908, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-07T16:27:31Z", "scrap_date": "2024-05-01T00:19:22.270167", "content": "Just thought it might be beneficial to some to share our solution We split out code into two stacks data stack contains all resources and api stack contains lambda functions We use a stack parameter for deploy and use yamlboost to separate our config nicely Data stack only gets deployed occasionally when there are changes manually api stack gets deployed automatically through ci So far this worked really well for us we started this about three month back "},
{"id": 53362, "question_id": 5336, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-09T02:56:27Z", "scrap_date": "2024-05-01T00:19:22.956200", "content": "This plugin might be useful A Serverless Plugin to write If Else conditions in serverless YAML file GitHub anantabserverlesspluginifelse A Serverless Plugin to write If Else conditions in serverless YAML file You could so something like"},
{"id": 49842, "question_id": 4984, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-12T18:34:20Z", "scrap_date": "2024-05-01T00:19:24.704891", "content": "Step Functions themselves have the capability to error handle Everything from your own custom retry schemes to other steps in your State Machine to capture and process errors Theres a lot of detail so they have a very complete document right here httpsdocs aws amazon comstepfunctionslatestdgconceptserrorhandling html"},
{"id": 49212, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T12:35:43Z", "scrap_date": "2024-05-01T00:19:25.497612", "content": "I know its no where as clean but may be able just generate a AWSLambdaEventSourceMapping resource From their could populate the needed SQS information "},
{"id": 49213, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-02T16:07:39Z", "scrap_date": "2024-05-01T00:19:25.498611", "content": "The work has already been completed It will be in v1 28 What did you implement Adds SQS event integration How did you im plement it EDIT 628 SQS integration is live Full testing instructions below I saw [Brett Andrews note that Lambda SQS integration is coming soon] httpstwitter comAWSbrettstatus1010008780375928833 Then I peeked at the [SAM implementation] httpsgithub comawslabsserverlessapplicationmodelpull451 of the SQS event It looks to be very similar to Kinesis DynamoDB streams as it is a pullbased integration Like the streams you can set batch size There is no need for the `startingPosition` parameter though I found the necessary IAM permissions by looking at the permissions on [this role] httpsgithub comawslabsserverlessapplicationmodelpull477filesdiffdc24340def2e9285840c922890edac32R8 How can we verify it We need to wait until the integration is actually released Once it is you could use the following `serverless yml` to test ```yml serverless yml service sqs provider name aws runtime nodejs6 10 functions hello handler handler hello events sqs arn FnGetAtt MyQueue Arn resources Resources MyQueue Type AWSSQSQueue Properties QueueName MyQueue ``` After you deploy run the following commands with the `awscli` to put a message into your Queue ```bash QUEUE_URL`aws sqs getqueueurl queuename MyQueue query QueueUrl output text` aws sqs sendmessage queueurl QUEUE_URL messagebody test ``` Then check to make sure your Lambda fired ```bash sls metrics Service wide metrics June 27 2018 316 PM June 28 2018 316 PM Invocations 1 Throttles 0 Errors 0 Duration avg 3 63ms ``` Todos [X] Write tests [X] Write documentation [X] Fix linting errors [x] Make sure code coverage has not dropped [X] Provide verification config commands resources [X] Enable Allow edits from maintainers for this PR [x] Update the messages below Is this ready for review YES Is it a breaking change NO"},
{"id": 49214, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T20:06:12Z", "scrap_date": "2024-05-01T00:19:25.501612", "content": "Hope to see it ASAP I was reading some posts that FIFO queues are not supported for this trigger Can you tell me if you know about it"},
{"id": 49215, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T20:16:17Z", "scrap_date": "2024-05-01T00:19:25.502613", "content": "FIFO is not supported since it couldnt scale past a concurrency of 1 I ran some tests and wrote about the behavior here AWS Lambda now supports SQS triggers to invoke serverless functions See how this new feature can turn the Simple Queue Service into a true message broker "},
{"id": 49216, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-02T20:37:18Z", "scrap_date": "2024-05-01T00:19:25.503613", "content": "Fair enough So for FIFO we are still left with cron lambdas I read you tests I want to run it for more than 5000 queues same way and see if its still processing successfully without failures Based on your example it need to scale without issues Thanks for article "},
{"id": 49217, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T20:54:33Z", "scrap_date": "2024-05-01T00:19:25.503613", "content": "How important is processing order If you can scale up your consumers the order differences will probably be fairly minimal since they process so quickly Im using a FIFO queue in one of my apps now that I trigger with CloudWatch and then trigger again at the end of every invocation until the queue is drained I really hate the way it works so Im thinking about using SQS triggers and keeping the concurrency low to minimize the impact on order I need to run some tests but if it works it will be so much cleaner "},
{"id": 49218, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T21:51:46Z", "scrap_date": "2024-05-01T00:19:25.504613", "content": "I cannot speak for other peoples use cases but I have numerous ETL scripts where order is imperative and FIFO queues are required That being said I can imagine there are plenty of other people also doing ETL work where FIFO queues are required In these cases since they are outofband ETL processes the order is more important than the performance "},
{"id": 49219, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T10:45:53Z", "scrap_date": "2024-05-01T00:19:25.505614", "content": "Yeah Jeremy theres a sub cases that Im facing too that the order is very important here and ruining the order under high loads of queues will give catastrophic results on the apps So I dont know if your approach will work for me as the apps must to work stable no mater the scale of the app is Thats why I love Serverless architecture "},
{"id": 492110, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-03T12:51:04Z", "scrap_date": "2024-05-01T00:19:25.506614", "content": "I get that processing order is sometime imperative I think the use case for SQS triggers doesnt really make a lot of sense in those cases If speed isnt an issue then perhaps CloudWatch schedule or log triggers are the right way to go "},
{"id": 492111, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-07-03T13:07:52Z", "scrap_date": "2024-05-01T00:19:25.507614", "content": "Or Kinesis if you keep it to a single stream "},
{"id": 492112, "question_id": 4921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-14T21:22:33Z", "scrap_date": "2024-05-01T00:19:25.507614", "content": "Looking at the documentation for AWS SQS I saw that FIFO queues dont support Lambda function triggers Since this is an AWS limitation I am now not going to expect SLS to solve it It just wouldnt make sense but at least there are couple of work arounds"},
{"id": 43702, "question_id": 4370, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-29T11:47:35Z", "scrap_date": "2024-05-01T00:19:26.132698", "content": "Go through httpsserverlessstack com it gives you the instruction on how to do that You can jump to part of Create a New React js App if you know serverless already "},
{"id": 43703, "question_id": 4370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-12T14:20:53Z", "scrap_date": "2024-05-01T00:19:26.133697", "content": "Have you found a way out to do it in through serverless rather using netily as mentioned in the serverless stack "},
{"id": 43704, "question_id": 4370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-12T14:22:27Z", "scrap_date": "2024-05-01T00:19:26.134698", "content": "It uses netily do complete the process that is deploying to s3 cloudfront and then a custom domain at route 53 Can we do it using serverless only "},
{"id": 43705, "question_id": 4370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:31:48Z", "scrap_date": "2024-05-01T00:19:26.134698", "content": "in my experience there are better ways to transfer your web site to S3 buckets while i imagine theres a way that serverless can do this gulp is probably an easier tool along with this addon httpswww npmjs compackagegulpawspublish then in your gulp file gulp task awspublishdev function "},
{"id": 43706, "question_id": 4370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:34:52Z", "scrap_date": "2024-05-01T00:19:26.135698", "content": "probably should also mention theres a cloudfront addon which will invalidate the cache for you a synchronously httpswww npmjs compackagegulpcloudfrontinvalidate gulp task invalidatecloudfront function var cfSettings distribution your name Cloudfront distribution ID wait false Whether to wait until invalidation is completed default false paths [] Configure OriginPath to be removed of file path to invalidation indexRootPath true Invalidate index html root paths fooindex html and foo default false "},
{"id": 50792, "question_id": 5079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T04:58:36Z", "scrap_date": "2024-05-01T00:19:27.225697", "content": "i did this once and I thought the command serverless remove cleaned up things enough to get started again"},
{"id": 50793, "question_id": 5079, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-07-15T06:12:23Z", "scrap_date": "2024-05-01T00:19:27.226692", "content": "I think I figured this out I went in the local folders and just did sls info v to see the detailed information and that gave me the bucket name and from that I tried recreating the same bucket on S3 and it allowed me to and then sls deploy started working once it could find the bucket sls remove didnt work again in another folder so I did sls remove force and it removed everything and deleted the s3 bucket after it too Hope this helps someone else going through this issue "},
{"id": 50682, "question_id": 5068, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T17:53:15Z", "scrap_date": "2024-05-01T00:19:28.309144", "content": "Are you indenting correctly"},
{"id": 50683, "question_id": 5068, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T18:06:01Z", "scrap_date": "2024-05-01T00:19:28.310144", "content": "Hi Jeremy Thank you very much for responding back Yes I am indenting them correctly as shown above "},
{"id": 50812, "question_id": 5081, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T21:20:16Z", "scrap_date": "2024-05-01T00:19:29.181829", "content": "Following is a sample code in serverless yml Following code will come in handler js to use the variables const var_1_val process env my_var_1 Ideally you should store environment variables in ec 2 parameter store and then use them in serverless yml"},
{"id": 50942, "question_id": 5094, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-17T00:07:50Z", "scrap_date": "2024-05-01T00:19:29.880105", "content": "It looks like youre posting data to the API endpoint from a multipart HTML form Are you doing that in your local environment too"},
{"id": 50402, "question_id": 5040, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-11T15:46:33Z", "scrap_date": "2024-05-01T00:19:30.763743", "content": "Do you want to reference a Serverless generated function in a DIFFERENT CloudFormation template In that case you can reference resources by referencing the stack they are in httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesstack html If you want to reference in the same CloudFormation template you can use the logicalIds "},
{"id": 50403, "question_id": 5040, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-17T15:33:56Z", "scrap_date": "2024-05-01T00:19:30.764743", "content": "I wanted to reference the function in the same stack What I actually had to do is use the logical id Logical id for serverless autogenerated lambda is the lambda function name with the LambdaFunction postfix everything in PascalCase example The logical id is RandomNameLambdaFunction"},
{"id": 51002, "question_id": 5100, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T13:13:08Z", "scrap_date": "2024-05-01T00:19:31.721042", "content": "Are you specifying your profile in your serverless yml file or are you relying on a default"},
{"id": 51003, "question_id": 5100, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T13:35:44Z", "scrap_date": "2024-05-01T00:19:31.722048", "content": "I am providing awsProfile and envName in a stage_vars yml file and referencing them in my serverless and CFN template files But it seems serverless cannot take it from there as it was doing before I updated my serverless version to 1 28 0"},
{"id": 51004, "question_id": 5100, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T17:25:24Z", "scrap_date": "2024-05-01T00:19:31.723048", "content": "Im sure there have been a few changes since v1 24 that affect the serverless yml file I had an issue with using integers in environment variables strings only now so it is possible that how you need to reference the profile from an external file has changed You can try testing it by moving the profile reference into the main file "},
{"id": 43052, "question_id": 4305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-21T00:50:37Z", "scrap_date": "2024-05-01T00:19:32.630900", "content": "I would still like to know for future if this is possible But my deadline is up and I have given up Instead I moved my endpoint from GET to POST I replaced the GET endpoint with a response which gives an HTML form challenging for authentication This posts to the POST endpoint with username and password fields The POST endpoint now checks these before allowing the protected response In this way I give a similar user experience to HTTP basic which will have to do I actually made the POST endpoint also accept HTTP basic authentication because why not and Id already written the code though it will not challenge for this since I cant get that WWWAuthenticate header through "},
{"id": 43053, "question_id": 4305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-27T00:45:31Z", "scrap_date": "2024-05-01T00:19:32.632900", "content": "If you are looking for a way to accomplish basic auth from a set of lambda functions 1 write out the header as something that wont get remapped like XWWWAuthenticate 2 Write a lambda function for OriginResponse that replaces XWWWAuthenticate with WWWAuthenticate The Authorization header on the return will be remapped but you can look for that in the lambda and process it just like you would the normal Authorization header This assumes an architecture of CloudFront to API Gateway to Lambda This is how I got it to work "},
{"id": 43054, "question_id": 4305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T18:01:33Z", "scrap_date": "2024-05-01T00:19:32.633901", "content": "You just need to modify the 401 Unauthorized response template so that it contains the WWWAuthenticate header set to Basic Apart from that youll need to create a custom authorizer that verifies that the provided credentials are correct You can find more info here"},
{"id": 51122, "question_id": 5112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T00:07:24Z", "scrap_date": "2024-05-01T00:19:33.625495", "content": "Even if earlier versions of Serverless are no longer supported you should be able to continue using them If you are upgrading from pre 1 0 Serverless then youre probably going to need to start from scratch because there were major changes to the way it worked "},
{"id": 36732, "question_id": 3673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-17T08:05:21Z", "scrap_date": "2024-05-01T00:19:34.600016", "content": "alekbe any luck with this Also having the same issues"},
{"id": 36733, "question_id": 3673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T00:01:51Z", "scrap_date": "2024-05-01T00:19:34.601016", "content": "Serverless can only setup Lambda triggers for Cognito User Pools that it creates because the Lambda trigger configuration is part of the CloudFormation template for the Cognito User Pool You can still use Serverless to deploy functions that will be used by a User Pool setup outside of Serverless but you need to manually configure the User Pool to use those function You may also be able to find or write a plugin to handle this for you using a custom event "},
{"id": 36734, "question_id": 3673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T02:21:34Z", "scrap_date": "2024-05-01T00:19:34.602016", "content": "I have had the same problem and have a workaround for it See Linking Lambda Function to an Exiting User Pool"},
{"id": 36735, "question_id": 3673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T05:16:19Z", "scrap_date": "2024-05-01T00:19:34.602016", "content": "Ok got it Thanks mate "},
{"id": 37912, "question_id": 3791, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-26T13:02:35Z", "scrap_date": "2024-05-01T00:19:35.609253", "content": "You can enable default serverside encryption in the resources cloudformation section of your serverless yml file Example for AES256 encryption See also cloudformation user guide httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiess3bucketbucketencryption html If you want to enforce encryption you have to add a policy httpsaws amazon comdeblogssecurityhowtopreventuploadsofunencryptedobjectstoamazons3"},
{"id": 37913, "question_id": 3791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T17:09:08Z", "scrap_date": "2024-05-01T00:19:35.611253", "content": "JSON Resources MyBucket Type AWSS3Bucket Properties BucketEncryption ServerSideEncryptionConfiguration [ ServerSideEncryptionByDefault SSEAlgorithm AES256 ] "},
{"id": 46452, "question_id": 4645, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T19:32:26Z", "scrap_date": "2024-05-01T00:19:36.263323", "content": "Also wanted to cc brianneisler but new users only get to at mentions Also post has to be at least 20 chars long "},
{"id": 46453, "question_id": 4645, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T17:51:41Z", "scrap_date": "2024-05-01T00:19:36.264323", "content": "monico_moreno We are working on those dates We may have a workshop in SF pretty soon "},
{"id": 49552, "question_id": 4955, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-04T00:29:07Z", "scrap_date": "2024-05-01T00:19:37.377037", "content": "Docs being out of sync is a problem with many open source projects that use the master branch for development and document generation Until the feature gets released you could look at overriding the default by setting your own API Gateway in the resources section If you dont absolutely need this feature right now then I would recommend waiting because they do frequent releases "},
{"id": 49553, "question_id": 4955, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T18:09:37Z", "scrap_date": "2024-05-01T00:19:37.379037", "content": "Update proposal at httpsgithub comserverlesssitepull290"},
{"id": 45942, "question_id": 4594, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-05-29T11:47:11Z", "scrap_date": "2024-05-01T00:19:38.403465", "content": "I made three tables in one YAML file with this"},
{"id": 45943, "question_id": 4594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T18:09:39Z", "scrap_date": "2024-05-01T00:19:38.404466", "content": "Already managed to do it "},
{"id": 48702, "question_id": 4870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-26T19:52:33Z", "scrap_date": "2024-05-01T00:19:40.520810", "content": "What does your AJAX call look like"},
{"id": 48703, "question_id": 4870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-26T22:53:15Z", "scrap_date": "2024-05-01T00:19:40.521810", "content": "Setting cors only enables the HTTP OPTIONS You also need to make sure youre setting the AccessControlAllowOrigin header in the response from your Lambda You may need to set additional headers like AccessControlAllowCredentials too "},
{"id": 48704, "question_id": 4870, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-27T05:25:27Z", "scrap_date": "2024-05-01T00:19:40.522811", "content": " ajax url awsEndPoint contentType applicationxwwwformurlencoded charsetUTF8 method POST data formData crossDomain true dataType html done function data thankyouform modal toggle console log data This how my Ajax looks which works And my y ml looks like yours you positive its a cors issue vs a 500 error being returned by the lambda expression"},
{"id": 48705, "question_id": 4870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-27T08:06:52Z", "scrap_date": "2024-05-01T00:19:40.523811", "content": "My issue has been resolved I put this code in my handler js and function js const response statusCode 200 headers AccessControlAllowOrigin ContentType applicationjson Required for CORS support to work body JSON stringify message event body text "},
{"id": 48402, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-22T14:47:27Z", "scrap_date": "2024-05-01T00:19:41.525348", "content": "The cloudwatchLog property is monitoring EVENTS from awslambdaa not writing to it When something gets written to that log anything that matches appFilter should get sent in as an event to this function console log statements write to the the default log group created by Serverless This is in the form of awslambdayourfunctionname "},
{"id": 48403, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-23T08:53:51Z", "scrap_date": "2024-05-01T00:19:41.526348", "content": "Thank u for your answer I dont use EVENTS so I removed the all resources and cloudwatchLog I uploaded again my functions but I still continue to dont see any logs in cloudwatch no stream log nothing"},
{"id": 48404, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-23T19:47:22Z", "scrap_date": "2024-05-01T00:19:41.527348", "content": "Have you tried executing your function from the Lambda dashboard That will show you want you are logging and will link you directly to the correct CloudWatch log group "},
{"id": 48405, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-24T00:04:16Z", "scrap_date": "2024-05-01T00:19:41.527348", "content": "The log groups should be visible immediately after deployment The log streams wont be visible until after your Lambda has executed If everything else fails is it possible you deleted the log groups manually Try completely removing the project using sls remove then deploying using sls deploy Repeat the checks "},
{"id": 48406, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-25T16:49:48Z", "scrap_date": "2024-05-01T00:19:41.528349", "content": "I think maybe Ive another type of problem now my serverless yml is so simple and my auth function is I cannot see the log but also in graphics I dont see execution time and execution count still 0 when Ill try to access at my lambda from the url continue to say messageUnauthorized "},
{"id": 48407, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-25T22:47:28Z", "scrap_date": "2024-05-01T00:19:41.529350", "content": "The cors true on the auth handler wont do anything Are you using Node 6 19 or 8 10"},
{"id": 48408, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-25T22:48:23Z", "scrap_date": "2024-05-01T00:19:41.530350", "content": "Also can you try triggering the Lambda from the console"},
{"id": 48409, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-27T16:50:07Z", "scrap_date": "2024-05-01T00:19:41.530350", "content": "im using 8 10 and ill tried also to remove corstrue no changes how can I try to trigger lambda from the console"},
{"id": 484010, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-27T18:55:34Z", "scrap_date": "2024-05-01T00:19:41.531350", "content": "Log in to the AWS Console and go to the Lambda service console Then click on the function you want to test This will open up the details of the function At the top there is an option to TEST the function Click test and then create a sample event You can use the default or select a preconfigured one from the drop down Save it and then click TEST again It will run the function and show you the output and logs with a link to the CloudWatch log group "},
{"id": 484011, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-27T20:16:31Z", "scrap_date": "2024-05-01T00:19:41.532350", "content": "perfect yes if Ill try to test it on lambda console it works the log appear and the right message appear too Why my auth function doesnt executed when I call my url endpoint whats wrong"},
{"id": 484012, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-28T04:43:29Z", "scrap_date": "2024-05-01T00:19:41.532350", "content": "It sounds like youre using the wrong URL for the endpoint Also it should be"},
{"id": 484013, "question_id": 4840, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-28T07:26:12Z", "scrap_date": "2024-05-01T00:19:41.533351", "content": "Im currently using the URLs given by serverless deploy console endpoints GET httpsblablabla executeapi euwest1 amazonaws comstaging"},
{"id": 48982, "question_id": 4898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-28T19:10:47Z", "scrap_date": "2024-05-01T00:19:42.549556", "content": "AFAIK there isnt Might be an interesting feature though The output is always well structured so you could probably easily parse it yourself and convert it to JSON "},
{"id": 48432, "question_id": 4843, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-29T00:08:22Z", "scrap_date": "2024-05-01T00:19:43.323406", "content": "We just use different aws accounts per stage Not sure if thats possible for you Edit how do you have sls set up By default it should not create new vpcs"},
{"id": 5572, "question_id": 557, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-20T06:56:05Z", "scrap_date": "2024-05-01T00:19:44.350698", "content": "Not sure if this is going to help you or not but i have a fullon auth workflow signinloginreset password running in serverless I originally used httpsgithub comdanilopLambdAuth as a base for my methods The version i used was outdated not sure if its been updated since i got it so i updated the lambda handlers to how i wanted them but kept the main logic On my lambdas that require aws authentication i call sts to get temporary credentials and pass these credentials into the call to API Gateway That library doesnt use facebook auth it uses its own system I still plan on adding facebook as an option just havnt gotten there yet The concepts remain the same though If you have specific questions I would be happy to help Its quite a process to get everything to work and to understand everything but i find that if you just start youll eventually get there"},
{"id": 5573, "question_id": 557, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-20T07:58:18Z", "scrap_date": "2024-05-01T00:19:44.352700", "content": "We use Cognito as auth layer for our web app You can see it here httpsgithub comkebooladeveloperportal This is authorizer function httpsgithub comkebooladeveloperportalblobmasterlambdaauthorizer js I found it in some aws article it is simply copied from it And configuration in serverless yml looks like I know that APIG supports Cognito User Pool Authorizer without need of special lambda function and Serverless should support authorizer definition by ARN see httpsserverless comframeworkdocsprovidersawseventsapigatewayhttpsetupwithcustomauthorizerviaarn but I havent tried it yet So if you try I will be happy to hear if it works o "},
{"id": 5574, "question_id": 557, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-20T08:01:20Z", "scrap_date": "2024-05-01T00:19:44.353699", "content": " Heres the article I refered to httpsaws amazon comblogsmobileintegratingamazoncognitouserpoolswithapigateway "},
{"id": 5575, "question_id": 557, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-10T16:28:19Z", "scrap_date": "2024-05-01T00:19:44.354700", "content": "Due to cognito documentation is terrible bad we spent to many time researching our clients are mobile apps and website and currently we are not planning to use cognito data sync I finally ended implementing JWT for my endpoints by using a lambda custom authorizer In less than 2 days the authorization system was working The login endpoint had 900 milliseconds as a response time when used cognito now it is 70 milliseconds by using JWT However we are using cognito for uploading data to S3 This has been solved by creating a endpoint that returns a token a the cognito identityId to clients "},
{"id": 5576, "question_id": 557, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-07T01:01:19Z", "scrap_date": "2024-05-01T00:19:44.355701", "content": "Yup it seems Cognito has out grown what it was initially designed for as a mobile solution I see you already figured it out but for anyone else looking to use Cognito as authenticators heres a quick step by step tutorial with the example serverless yml config httpserverlessstack comchaptersaddacreatenoteapi htmlconfiguretheapiendpoint"},
{"id": 5577, "question_id": 557, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-15T11:16:59Z", "scrap_date": "2024-05-01T00:19:44.356701", "content": "Can you please tell me how did you do your authorization system using serverless I tried implementing my own solution but I didnt know what to do with bcrypt lib that I use to hash password "},
{"id": 5578, "question_id": 557, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-01T11:43:31Z", "scrap_date": "2024-05-01T00:19:44.356701", "content": "SamiSammour my post is more than 1 year old but at the time I used the node js aws template called custom authorizer it was available in create a lambda function web section In this case authorizers didnt work as passwords You should use tokens google for JWT so you dont need that bcrypt lib in this case you will use it only one time in login api endpoint If you read about api gateway authorizers you will understand the whole thing Authorizers are attached to the endpoints that require the user to be authenticated Im pretty sure nowadays should exist npm libraries that implements custom authorizer for aws serverless "},
{"id": 49162, "question_id": 4916, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T16:24:45Z", "scrap_date": "2024-05-01T00:19:45.366949", "content": "Local references dont work like that because they require a lookup to the CloudFormation stack I wrote a post about this that should help you accomplish what you want Using STAGES and ENVIRONMENT variables together in your Serverless project can create a really powerful workflow for you and your development team Learn how to properly configure your environments per stage "},
{"id": 49492, "question_id": 4949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T13:12:22Z", "scrap_date": "2024-05-01T00:19:46.165969", "content": "It may be different with Java but the event for the Javascript handler contains null instead of an empty object when there are no query parameters Is it possible youve got code somewhere that doesnt take that into consideration"},
{"id": 49493, "question_id": 4949, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T14:35:27Z", "scrap_date": "2024-05-01T00:19:46.166969", "content": "No theres nowehere in my code where I can handle null query params Actually I forgot to say that when I run the lambda on localhost without adding a query param I get no error the function executes without a problem Its only when deployed that I get an NPE"},
{"id": 49412, "question_id": 4941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T11:44:35Z", "scrap_date": "2024-05-01T00:19:47.029766", "content": "By default webpack will use tree shaking to remove dead code Unfortunately it can get this wrong sometimes Ive had success using the webpacknodeexternals plugin to make sure it packages all of your dependencies externally "},
{"id": 49413, "question_id": 4941, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-03T14:54:27Z", "scrap_date": "2024-05-01T00:19:47.030767", "content": "Thanks for the reply actually I removed and recreate my app and all package are loaded weird but it works now"},
{"id": 49622, "question_id": 4962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-04T12:26:27Z", "scrap_date": "2024-05-01T00:19:47.759920", "content": "serverless deploy return Function myauth does not exist in this Service although I created it by hand and tested it When you say created it by hand do you mean outside of serverless myauth needs to be a function defined in your serverless yml file Also its very unlikely that you have a Lambda that responds to both http and cognitoUserPool events so I suspect thats been configured incorrectly "},
{"id": 49482, "question_id": 4948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T13:18:10Z", "scrap_date": "2024-05-01T00:19:48.594195", "content": "No The code is a required part of the CloudFormation template and serverless doesnt support uploading it separately "},
{"id": 49483, "question_id": 4948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-04T03:09:37Z", "scrap_date": "2024-05-01T00:19:48.595195", "content": "so in other words if i have a modification only in my cloudformation i have to redeploy whole functions again "},
{"id": 49484, "question_id": 4948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-04T12:22:11Z", "scrap_date": "2024-05-01T00:19:48.596195", "content": "Correct Using Serverless you cant update CloudFormation without deploying the code "},
{"id": 49485, "question_id": 4948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-05T03:15:18Z", "scrap_date": "2024-05-01T00:19:48.597200", "content": "Noted Thanks"},
{"id": 49452, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T19:59:15Z", "scrap_date": "2024-05-01T00:19:49.507756", "content": "Hi Zack What region are you in The cold start times are usually very low even for python and the roundtrip to dynamodb is generally only a few milliseconds Maybe there is a network issue or something else happening but this is not typical by any means Once a function is warm it typically stays warm for several minutes Response times should be almost instantaneous with a warm function Jeremy"},
{"id": 49453, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-02T20:42:00Z", "scrap_date": "2024-05-01T00:19:49.508757", "content": "Hey Jeremy I deployed to USEast 1 for the initial test could region play that large of a factor for a simple function Happy to test in USWest 1 or 2 if you think itd make a difference I tried testing on several networks today and noticed the same behavior with request times upwards of 6001500ms every seven or eight requests I also tried making requests in Postman chrome and via the python shell just see if there were any weird interactions but the same behavior persists Thanks Zack"},
{"id": 49454, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-02T21:42:38Z", "scrap_date": "2024-05-01T00:19:49.509757", "content": "I threw together a quick and dirty script to show what I mean it runs a 1000 requests against a simple List endpoint connected to DynamoDB Its equivalent to the python API dynamoDB example I just changed the table name endpoint Here is the code And here are the run results Theres an unexpectedly high number of longrunning requests for such a simple function 87 out of 1000 Thoughts"},
{"id": 49455, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T12:08:08Z", "scrap_date": "2024-05-01T00:19:49.510757", "content": "Assuming your URL endpoint is correct then this is the result for 100 requests with a concurrency of 1 from the other side of the planet Sydney Australia using the Apache Benchmark tool I did hit the URL once before running the test to make sure it was warm Its nothing like the 3000ms response time youre seeing "},
{"id": 49456, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T13:32:09Z", "scrap_date": "2024-05-01T00:19:49.511757", "content": "I got the following up here in Boston MA"},
{"id": 49457, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T13:57:18Z", "scrap_date": "2024-05-01T00:19:49.512758", "content": "Thanks for looking into it Jeremy and buggy If you wouldnt mind could one of you gentlemen share the code youre using to test I just reran my own test this morning on the same network Denver CO and got the following results A much lower average time to run and a far more acceptable number of longrunning requests The results seem the be improved from last night is there a buffer time which the code is deployedloaded within the AWS infrastructure"},
{"id": 49458, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-03T14:04:04Z", "scrap_date": "2024-05-01T00:19:49.513758", "content": "I just used loadtest loadtest n 100 c 1 https378cqxe0e4 executeapi useast1 amazonaws comdevconfigurations"},
{"id": 49459, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T14:22:43Z", "scrap_date": "2024-05-01T00:19:49.513758", "content": "Results from loadtest And for sanitys sake heres the AWS dashboard showing 4s invocations yesterday Im just not sure how to explain the approx 10 of requests that seem to be consistently longrunning "},
{"id": 494510, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T15:34:40Z", "scrap_date": "2024-05-01T00:19:49.514758", "content": "This might be worthy of a support ticket to AWS Doesnt seem to make sense "},
{"id": 494511, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-03T16:14:34Z", "scrap_date": "2024-05-01T00:19:49.514758", "content": "For what its worth I did some testing in the other US AZs and got stellar results e g 95 below 180ms in uswest2 Seems to be an issue solely with useast1 which is obviously the default region for a lot of services maybe its oversaturated or theyre experiencing networking issues internally "},
{"id": 494512, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-04T00:14:49Z", "scrap_date": "2024-05-01T00:19:49.515758", "content": "There are a lot of places where latency is added Start by eliminating the network between you and the API Gateway endpoint by using ping If thats ok then look at your CloudWatch logs andor dashboards for slow Lambda Also consider enabling xray If youre Lambda is accessing external resources like DynamoDB then make sure you have sufficient read capacity provisioned Is it possible your first few requests are fast because theyre using reserve capacity but later requests cant You mentioned doing 1000 requests I only performed 100 Are you prewarming the Lambda or does your test include a cold start Are you using concurrency 1 If so is it possible additional cold starts are causing the problem or that this is showing a lack of provisioning in other resources DynamoDB "},
{"id": 494513, "question_id": 4945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-05T11:31:22Z", "scrap_date": "2024-05-01T00:19:49.517759", "content": "could be that parts of your stack run on other zones"},
{"id": 35152, "question_id": 3515, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-16T11:56:44Z", "scrap_date": "2024-05-01T00:19:50.383438", "content": "httpsaws amazon comapigatewayfaqs Q Can I create HTTPS endpoints Yes all of the APIs created with Amazon API Gateway expose HTTPS endpoints only Amazon API Gateway does not support unencrypted HTTP endpoints By default Amazon API Gateway assigns an internal domain to the API that automatically uses the Amazon API Gateway certificate When configuring your APIs to run under a custom domain name you can provide your own certificate for the domain "},
{"id": 35153, "question_id": 3515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-16T12:31:48Z", "scrap_date": "2024-05-01T00:19:50.385445", "content": "Thanks Bill It looks like AWS does not support what I need I will have to figure out a workaround for this At least I can stop beating my head against a wall trying to make a round peg fit a square hole "},
{"id": 35154, "question_id": 3515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-04T17:39:12Z", "scrap_date": "2024-05-01T00:19:50.386439", "content": "Hi gap just having the same issue did you solve it Ok the solution is to use REGIONAL API GATEWAY and manually create cloudfront that point to stage endpoints and allow HTTP at the cloudfront side"},
{"id": 49922, "question_id": 4992, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-06T12:01:18Z", "scrap_date": "2024-05-01T00:19:51.168164", "content": "Please ignore looks like I used not space char instead of space"},
{"id": 48872, "question_id": 4887, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-27T19:01:56Z", "scrap_date": "2024-05-01T00:19:52.204252", "content": "Yan Cui did something with Shifter httpstheburningmonk com201803thisblogisnowserverless Also there are some new Serverless CMS projects out there I dont know how far along they are "},
{"id": 48873, "question_id": 4887, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-27T19:14:10Z", "scrap_date": "2024-05-01T00:19:52.205252", "content": "Thanks jeremydaly I will check that link Right now Im looking at httpshexo io and tutorial at httpsslowcoder com20180327BuildaServerlessProductionReadyBlog I will try to find out how easy it is to integrate simple lambda functions i e mail list subscribe function This does not use serverless com but end result looks ok Also I was thinking of writing Serverless Component but I couldnt manage to deploy httpsgithub comserverlesscomponentstreemasterregistrystaticwebsite and gave up "},
{"id": 48874, "question_id": 4887, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-07-07T08:20:28Z", "scrap_date": "2024-05-01T00:19:52.206252", "content": "I decided that I will go with hexo io "},
{"id": 49882, "question_id": 4988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T13:14:30Z", "scrap_date": "2024-05-01T00:19:53.010703", "content": "I tried your exact configuration and I didnt have any problems If you can switch it on in the console then it shouldnt be a permissions error Have you tried deploying without including the enabled true line in the event config It is enabled by default "},
{"id": 49883, "question_id": 4988, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-07T13:29:00Z", "scrap_date": "2024-05-01T00:19:53.011703", "content": "Hi jeremydaly I got it working the issue was the indentation in the SQS event it was But it should have been The template was not failling neither creating the event trigger but It looks that there was an EventSourceMapping from a previuous execution so I needed to manually remove via the aws cli aws lambda deleteeventsourcemapping uuid 3a9e218d61be4d1c98a123f289a9bea1 Thanks for taking a look "},
{"id": 49884, "question_id": 4988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T18:00:04Z", "scrap_date": "2024-05-01T00:19:53.012703", "content": "Indentation errors Glad you got it working "},
{"id": 49682, "question_id": 4968, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-08T21:24:04Z", "scrap_date": "2024-05-01T00:19:53.877047", "content": "I think Ill solve this differently Since all the external parts are defined in a database anyway Ill just make a lambda which is triggered by changes in the dynamodb table and let that lambda addremove the needed queues "},
{"id": 47682, "question_id": 4768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T23:01:09Z", "scrap_date": "2024-05-01T00:19:55.971491", "content": "If that is the case is there a way for Serverless to generate again them preferrably with the same URL It really depends how the API GW was removed If it was removed manually then you can create a new API GW by This will create a new API GW If you were using the API GW URL assigned by AWS then there is no way to get that URL back "},
{"id": 47683, "question_id": 4768, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-15T06:43:00Z", "scrap_date": "2024-05-01T00:19:55.973492", "content": "Hi Following way will not retrieve your api gateway url but it will help you redeploy Your api should get deployed properly "},
{"id": 47642, "question_id": 4764, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-14T23:45:31Z", "scrap_date": "2024-05-01T00:19:56.621925", "content": "Not really People who need to specify the deployment bucket tend to be in corporations with devops teams who create these resources for them For everyone else the name of the deployment bucket is meaningless so they just let Serverless handle naming and creation of the bucket While Serverless defines the S3 event as part of the function in the CloudFormation template its actually the opposite direction Your S3 bucket is configured to trigger a Lambda in response to events This means that if your S3 bucket isnt part of the CloudFormation stack managed by Serverless then you cant use the bucket as an event source for the function in Serverless For S3 buckets setup outside of Serverless you can still trigger functions deployed by Serverless but you need to set up the triggers when you create the S3 bucket after youve deployed the functions via Serverless "},
{"id": 47643, "question_id": 4764, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T13:03:56Z", "scrap_date": "2024-05-01T00:19:56.623925", "content": "My natural inclination was to define the deployment bucket which on reflection was a mistake The idea was that my architecture would be more explicitly defined in the code You mentioned that I can reconfigure an existing bucket to trigger an existing lambda function I guess my question then is if I can do it why cant Serverless"},
{"id": 47644, "question_id": 4764, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T14:23:37Z", "scrap_date": "2024-05-01T00:19:56.624926", "content": "I guess my question then is if I can do it why cant Serverless You can log into the console and change the settings on any resource in your account Serverless uses CloudFormation to deploy the stack so its limited to resources that it creates Having said that Im sure someone will now build a plugin for Serverless that allows you to do exactly this by making API calls after the CloudFormation stack has been deployed "},
{"id": 47032, "question_id": 4703, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-08T04:57:17Z", "scrap_date": "2024-05-01T00:19:57.428518", "content": "From a serverless pov whats the best replacement From a serverless pov its completely irrelevant Pick any version control system that makes you happy or dont use one It really doesnt matter "},
{"id": 47033, "question_id": 4703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-08T20:53:53Z", "scrap_date": "2024-05-01T00:19:57.429518", "content": "OK I see that all the serverless project are structured like github projects So it it doesnt matter where do I start to structure a project I know theres got to be a serveless yml and for instance a lambda py but what else and how structured Thats my question point me to the docs and Im happy to read"},
{"id": 47034, "question_id": 4703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-08T22:22:13Z", "scrap_date": "2024-05-01T00:19:57.430518", "content": "lesatdgl We use Bitbucket com to host our repos As buggy where you host your serverless projects is totally independent of their structure "},
{"id": 47035, "question_id": 4703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-10T11:49:43Z", "scrap_date": "2024-05-01T00:19:57.431523", "content": "structured like github projects Im not sure what you mean by structured like github projects There isnt a github project structure A Serverless Framework project is effectively any folder with a serverless yml file in it Everything else can be structured in any way you want Within a single repo you can put multiple Serverless projects if you want It certainly has nothing to do with where your project is hosted "},
{"id": 47036, "question_id": 4703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T02:21:42Z", "scrap_date": "2024-05-01T00:19:57.432518", "content": "www gitlab com is almost identical to github Plus you can keep projects secret for free instead of having to pay on github The free option at gitlab is fine for my purposes since my testing is done on AWS There is also Amazon CodeCommit It is free or 1mth AWS CodeCommit does not support forks of public repos Not supporting public forks is an issue if you work on the Android and Linux kernel source code like I do It is not a fatal flaw but it is inconvenient Both GitHub and GitLab support it With public forks GitHub has a master copy of LinuxAndroid and then you only need to store your deltas to the master copy in your account If you arent working on a giant open source project this wont matter to you CodeCommit gives you 50GB for free That is plenty for a normal project My projects are atypical and the repos are 17GB in size That is not counting AndroidLinux which are huge 200GB Git is actually quite good at compressing things Just dont store binaries in your repos and you will be fine "},
{"id": 47037, "question_id": 4703, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T15:12:15Z", "scrap_date": "2024-05-01T00:19:57.433518", "content": "OK thats helpful I guess my natural analness was assuming much more organization than is necessary probably a product of decades with Big Blue"},
{"id": 47822, "question_id": 4782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T14:41:25Z", "scrap_date": "2024-05-01T00:19:58.456226", "content": "Being a serverless novice I was just curious if well have to wait for serverless to support this or is there a way to hack the yml config to start using it If there is CloudFormation support for private endpoints then you can use it today because Serverless allows you to override the resource it generates I know its literally the next day but what is the timeline for implementing it This is best asked on the Github project You may also need to create an issue to add support "},
{"id": 47823, "question_id": 4782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T15:02:40Z", "scrap_date": "2024-05-01T00:19:58.457225", "content": "okay thanks I may post this feature request on github Ill also look into writing some cloudformation and putting that in the yml "},
{"id": 47824, "question_id": 4782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T18:53:11Z", "scrap_date": "2024-05-01T00:19:58.457225", "content": "CloudFormation supports private endpoints httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesapigatewayrestapiendpointconfiguration html"},
{"id": 47562, "question_id": 4756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T01:20:22Z", "scrap_date": "2024-05-01T00:19:59.544751", "content": "If youre using Lambda proxy integration then event headers should be an object with all of the headers passed to the API Gateway "},
{"id": 47563, "question_id": 4756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T16:54:29Z", "scrap_date": "2024-05-01T00:19:59.545752", "content": "Thank you for a quick response I see that you are correct all my headers did get passed by the API gateway Their names were not in the same case as they were sent "},
{"id": 47564, "question_id": 4756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T22:46:45Z", "scrap_date": "2024-05-01T00:19:59.546752", "content": "I seem to remember having the same problem a while ago I solved it by writing a simple function to copy the header object but lower case all of the keys "},
{"id": 47565, "question_id": 4756, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-15T19:30:23Z", "scrap_date": "2024-05-01T00:19:59.547752", "content": "New instances of API Gateway use HTTP2 which automatically converts all headers to lowercase per the spec "},
{"id": 46022, "question_id": 4602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-15T11:22:10Z", "scrap_date": "2024-05-01T00:20:00.458103", "content": "I am also face the same issue Node Version 8 9 4 Serverless Version 1 27 3"},
{"id": 46023, "question_id": 4602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-15T11:23:39Z", "scrap_date": "2024-05-01T00:20:00.459104", "content": "got the same issue Does anyone know the solution "},
{"id": 46024, "question_id": 4602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-16T11:47:45Z", "scrap_date": "2024-05-01T00:20:00.460104", "content": "The solution can be found here Another option is to use Ubuntu on windows which I personally used till this fixed appeared "},
{"id": 47772, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-15T19:04:40Z", "scrap_date": "2024-05-01T00:20:01.482311", "content": "I would avoid tying production databases to Serverless projects I would suggest duplicating your existing Serverless project and removing the DynamoDB creation piece from your configuration Then add whatever permissions are necessary to your new projects role to connect to the existing DynamoDB tables When you publish your new project you can switch your custom domain in API gateway so that it connects to your new project This should eliminate any downtime and preserve your data Until you can copy over your DynamoDB tables I believe youll have to leave the old CloudFormation stack intact You could remove all the functions from it and just leave the DynamoDB piece if you want to clean up the rest of the old components Also you cant sls deploy anymore because the current configuration and the Cloudformation stack are out of sync You could try removing the LSI and that might fix this issue "},
{"id": 47773, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-16T01:03:20Z", "scrap_date": "2024-05-01T00:20:01.484312", "content": "I agree with jeremydaly that your CloudFormation is now out of sync but Im 99 sure you cant fix it by removing the LSI because adding and removing the LSI results in creating a new resource with a different ID Before you do anything make sure you have backed up the data in your tables I would then remove the table from my serverless yml and attempt an sls deploy This should clean up your CloudFormation by removing the old table You can then create the table again by adding it to your serverless yml and deploying before restoring data I would disagree on moving the database setup outside of Serverless as I think there are too many advantages to having it inside One thing I strongly recommend is setting DeletionPolicy Retain on your tables to prevent accidental deletion if theyre removed from the CloudFormation policy "},
{"id": 47774, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-16T01:09:51Z", "scrap_date": "2024-05-01T00:20:01.485312", "content": "buggy what are the advantages to keeping production database tables attached to a Serverless project I would NEVER have Serverless create RDS instances for me "},
{"id": 47775, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-16T01:56:19Z", "scrap_date": "2024-05-01T00:20:01.486312", "content": "Which is fine because I would never use RDS with Lambda because of the cold start delays Advantages Its important to remember that DynamoDB is not even close to RDS With RDS you also need to setup a database schema users etc With RDS you create the table and youre done "},
{"id": 47776, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-17T07:04:09Z", "scrap_date": "2024-05-01T00:20:01.487312", "content": "Thanks for your very helpful answers I agree that I want to keep the Dynamodb tables part of my Serverless project What I am looking for is guidelines or algorithm on how to manage the complex update cases automatically or semi automatically can anyone share how do you manage such cases"},
{"id": 47777, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-17T23:30:59Z", "scrap_date": "2024-05-01T00:20:01.488313", "content": "Youre probably going to end up creating a new table and copying data from the old table Once the data has been copied then deploy the application to use the new table If youre dealing with frequently changing data in a large table then you might want to look at DynamoDB streams to help keep the new table in sync with the old table "},
{"id": 47778, "question_id": 4777, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-18T14:53:03Z", "scrap_date": "2024-05-01T00:20:01.488313", "content": "Reusing RDS connections in Lambda significantly mitigates cold start problems httpswww jeremydaly comreusedatabaseconnectionsawslambda Also I agree that certain types of applications are perfect for a DynamoDB backend Personally I like the ability to teardown and recreate my Serverless stacks without worrying about the affect on my underlying data "},
{"id": 47992, "question_id": 4799, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-06-18T15:24:55Z", "scrap_date": "2024-05-01T00:20:02.363132", "content": "You have to grant s3PutObject on the bucket youve created with at the end Try something like this"},
{"id": 32612, "question_id": 3261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-18T19:21:46Z", "scrap_date": "2024-05-01T00:20:03.237082", "content": "Have you found a solution to this I too am encountering the same problem in Firebase Cloud Functions "},
{"id": 47412, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-12T22:56:19Z", "scrap_date": "2024-05-01T00:20:04.180909", "content": "How to make sure it only runs once First If you declare your handler async then you cant use callback to callback to send the response You need to return lesson success true Second Your Lambdas need to be idempotent because they may be executed multiple times with the same input This is baked into the basic execution model which guarantees a Lambda will be executed at least once From Invoke AWS Lambda Invocations occur at least once in response to an event and functions must be idempotent to handle this Most of the time it will only executed once but it will occasionally it will run multiple times "},
{"id": 47413, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T06:57:35Z", "scrap_date": "2024-05-01T00:20:04.181909", "content": "First If you declare your handler async then you cant use callback to callback to send the response You need to return lesson success true Thank you Didnt knew about this Second Your Lambdas need to be idempotent because they may be executed multiple times with the same input This is baked into the basic execution model which guarantees a Lambda will be executed at least once I dont understand this Is Idempotent same as Pure functions in Functional Programming Same Input Same Output If so then it does that So I have removed callback did do return lesson success true Anything else I have to do Because when I invoke the function sls invoke f cron l then it just runs once i e sends 1 message to the Telegram Group but in Cron it runs twice Most of the time it will only executed once but it will occasionally it will run multiple times Is there any way to prevent this"},
{"id": 47414, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T12:14:23Z", "scrap_date": "2024-05-01T00:20:04.183910", "content": "I think youre main problem here is using async and callback The async handler syntax with Node 8 10 doesnt include the callback parameter Using return should solve the bulk of your problem I dont understand this Is Idempotent same as Pure functions in Functional Programming Same Input Same Output If so then it does that Pure functions dont have side effects like network calls Being idempotent is not the same as being pure For example I could have a Lambda that creates a record in DynamoDB If the Lambda generates a random string for the key then its not idempotent because subsequent calls with the same event will result in multiple records being added to DynamoDB but if I have a consistent way to generate the key perhaps using an ID included in the event so only one record is ever created and I always return success even if the record already exists then Im idempotent "},
{"id": 47415, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T13:15:47Z", "scrap_date": "2024-05-01T00:20:04.184910", "content": "Cool thanks man for all the explanation I deployed the new version Lets see how that works this Sunday Ill post the updates if it works or if it doesnt Also if I can store the data in DynamoDB then I can make a boolean to not run Lambda the 2nd time By default runCron true On 1st run it runs the cron make runCron false On 2nd run its runCron false then dont run it Can I do this in Lambda Currently it runs twice every Sunday 1000 am 1001 am UTC "},
{"id": 47416, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-14T01:51:39Z", "scrap_date": "2024-05-01T00:20:04.185910", "content": "A Lambda being executed multiple times for a single event should be very rare If the asynccallback change fixes your problem and the occasional duplicate message isnt a problem then personally I wouldnt worry about making the Lambda fully idempotent "},
{"id": 47417, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-17T10:42:52Z", "scrap_date": "2024-05-01T00:20:04.186911", "content": "Hey it just ran but again it ran twice Any idea of how I can fix this now I also changed asynccallback fix as stated httpsgithub comdeadcoder0904lessonsofhntelegrambot"},
{"id": 47418, "question_id": 4741, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-18T22:52:16Z", "scrap_date": "2024-05-01T00:20:04.187911", "content": "Can you simplify the function by removing the lines with await to confirm that it only runs once If it still executes multiple times are they for the same event If it works then is it possible your function is timing out during the first execution Try adding each of the lines with await one at a time to see if it still only triggers once The CloudWatch logs can also tell you this If your function is timing out then increase the timeout Are you sure the service only scheduled once Check CloudWatch to make sure you dont have two accidentally scheduled perhaps in a different stage or region"},
{"id": 47962, "question_id": 4796, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-18T14:17:04Z", "scrap_date": "2024-05-01T00:20:04.938403", "content": "Youre using 3 dots in your path Isnt that your issue"},
{"id": 47963, "question_id": 4796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-19T00:20:18Z", "scrap_date": "2024-05-01T00:20:04.939404", "content": "I solved it According this article I must use PYTHONPATH instead of sys "},
{"id": 11172, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-15T00:46:25Z", "scrap_date": "2024-05-01T00:20:05.872175", "content": "If you want to actually return the error to the end HTTP user then you dont want to pass the error to the callback thats telling Lambda and API GW that the function had an error which is why its telling the user 500 It sounds like you want a successful HTTP requestresponse with the error details as the payload So you should be using callback null error instead of callback error Not sure if Im explaining clearly but Im pretty sure thats what youre after "},
{"id": 11173, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-15T01:13:39Z", "scrap_date": "2024-05-01T00:20:05.873176", "content": "Thanks for the reply callback null error doesnt work for me HTTP1 1 502 Bad Gateway despite the error object having a response code set in the object IIUC What did end up working was callback null statusCode 400 body JSON stringify error Still dont understand must be a bug or inconsistency I assume with the way the error object is treated "},
{"id": 11174, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-15T09:29:11Z", "scrap_date": "2024-05-01T00:20:05.874176", "content": "Ah sorry about that I was forgetting the new Lambda proxy response types I still often forget to stringify the payload Glad you sorted it out "},
{"id": 11175, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-23T05:44:33Z", "scrap_date": "2024-05-01T00:20:05.874176", "content": "What youre sending back in the callback in the situation of a basic Lambda Proxy is the actual response object Youve got to set the statusCode headers and body as shown in the Serverless documentation statusCode should be a number headers is an Object with the keyvalue pairs as your header keyvalue pairs body is the response body which needs to be JSON stringify ed by you if its a JSON Doc"},
{"id": 11176, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T19:37:08Z", "scrap_date": "2024-05-01T00:20:05.875177", "content": "When you hit an internal server error it usually means some parts of your web server is not configured correctly or the application is trying to do something and the server is failing to carry out the request due to a conflict or restriction This error can only be resolved by fixes to the Web server software It is up to the administrators of the Web server site to locate and analyse the logs which should give further information about the error "},
{"id": 11177, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-15T23:15:03Z", "scrap_date": "2024-05-01T00:20:05.876177", "content": "Same here banging my head for hours it is still raw from documentation and implementation perspective so not synchronized Im wasting my time here"},
{"id": 11178, "question_id": 1117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-19T09:56:23Z", "scrap_date": "2024-05-01T00:20:05.877177", "content": "I relized that the problem was with serverless deploy f function_name I just used serverless deploy v and it is working now const response statusCode 200 body JSON stringify message Data callback null response "},
{"id": 38902, "question_id": 3890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-20T05:33:39Z", "scrap_date": "2024-05-01T00:20:06.629778", "content": "You can add aws resource with cloudformation codes directly into serverless yml Sample code for you AWSEC2VPCEndpoint"},
{"id": 48072, "question_id": 4807, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-19T15:29:25Z", "scrap_date": "2024-05-01T00:20:07.574485", "content": "Did you make any changes to the role after you deployed Serverless uses a CloudFormation stack to build the environment and any changes through the CLI or UI can cause the two to get out of sync "},
{"id": 48073, "question_id": 4807, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-19T16:21:21Z", "scrap_date": "2024-05-01T00:20:07.575485", "content": "I didnt make any changes to the role Im only using the deploy and remove commands of the cli When I look at the stack events from cloud formation I see the role creation but I dont see any event related to policy does this mean the cli is creating the inline policy outside of cloudformation Stack events for awsnodejsdev"},
{"id": 48074, "question_id": 4807, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-19T19:25:38Z", "scrap_date": "2024-05-01T00:20:07.576485", "content": "The IAM Role created has an inline policy Thats part of the stack Have you tried deleting the stack from the CloudFormation console"},
{"id": 48075, "question_id": 4807, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-20T11:25:53Z", "scrap_date": "2024-05-01T00:20:07.577486", "content": "Deleting the stack manually from the console results in the same error I tested out a deploy and remove with a new service name awsnodejs1dev vs awsnodejsdev and it worked fine so it must be an issue on the AWS side In any case thank you for your help much appreciated "},
{"id": 48112, "question_id": 4811, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-20T11:59:59Z", "scrap_date": "2024-05-01T00:20:08.692561", "content": "You can assign VPCs per function according to httpsserverless comframeworkdocsprovidersawsguideserverless yml However it doesnt seem possible to negate a globally set VPC It would be nice to be able to set vpc false under a function and have that skip the VPC config What you want to accomplish is possible through custom variables Move your VPC configuration under custom Then add vpc with a reference to the custom variable to each function that you want to apply it to Hope that helps "},
{"id": 48272, "question_id": 4827, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-21T13:45:54Z", "scrap_date": "2024-05-01T00:20:09.685621", "content": "Ok helped"},
{"id": 46782, "question_id": 4678, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T23:50:09Z", "scrap_date": "2024-05-01T00:20:11.436059", "content": "Think I answered my own question This works perfectly well to a point That point is when the variables are circular In your included file dont reference variables in your included file Assign them another way e g I did this serverless yml env dev yml That IAM_ROLE variable is referencing via the serverless yml the same AWS_ACCOUNT_ID in the file Serverless wont deploy with this but also doesnt show an error If you need that circular reference try this instead serverless yml env dev yml"},
{"id": 46832, "question_id": 4683, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T10:19:02Z", "scrap_date": "2024-05-01T00:20:12.137611", "content": "Mostly no You can update the code for an existing function using If you want to deploy a new function or updateremove an existing function you need to deploy the stack using CloudFormation which happens when you do an"},
{"id": 46702, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T15:34:09Z", "scrap_date": "2024-05-01T00:20:13.026634", "content": "serverlessapigwybinary Okay it turns out the i needed to take out integration lambda unlike stated in httpsgithub comryanmurakamiserverlessapigwybinary"},
{"id": 46703, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T08:39:04Z", "scrap_date": "2024-05-01T00:20:13.027634", "content": "For some reason it stopped working again Keep getting Execution failed due to configuration error Unable to base64 decode the body After spending a day trying to fix it with no success ive decided to use S3 for the file download "},
{"id": 46704, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T10:06:08Z", "scrap_date": "2024-05-01T00:20:13.028635", "content": "If you still want help can you post your full handler"},
{"id": 46705, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T10:19:26Z", "scrap_date": "2024-05-01T00:20:13.029635", "content": "My handler is posted in the original post It is pretty much it except some imports "},
{"id": 46706, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T10:35:34Z", "scrap_date": "2024-05-01T00:20:13.029635", "content": "When debugging code everything is important pretty much cant be debugged Things I dont know but suspect"},
{"id": 46707, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T10:52:01Z", "scrap_date": "2024-05-01T00:20:13.030636", "content": "Most of your comments referring to nodejs The code is in python not not js The error is not in the lambdas no error logs there it is from API Gatway test button in aws console "},
{"id": 46708, "question_id": 4670, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T11:18:37Z", "scrap_date": "2024-05-01T00:20:13.030636", "content": "Then I would focus on and It seems like youre base64 encoding the file then decoding it and sending the decoded file as the body Can you try this"},
{"id": 46322, "question_id": 4632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T12:21:08Z", "scrap_date": "2024-05-01T00:20:13.832914", "content": "Not sure what the SLS team used but if you want to create a CLI written in JS commander js is a pretty common one "},
{"id": 46323, "question_id": 4632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T14:59:30Z", "scrap_date": "2024-05-01T00:20:13.833914", "content": "Given my limited js skills Id like to stick to python not sure how js will play nicely with python"},
{"id": 45282, "question_id": 4528, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-05-20T01:30:22Z", "scrap_date": "2024-05-01T00:20:14.975390", "content": "Write the AWS domain out to a file during deploy Then make a script to add a CNAME record at your nonAmazon domain provider which points to the AWS domain name I do this for dev too We have a test domain and then then I make subdomains off from it with each developers name So www jim testme com CNAME aws url www bill testme com CNAME another aws url Now each developer has an easy to remember URL to work with I have split my YAML into static and volatile files I only run the static stuff about once a month The static YAML file creates the AWS URLs and adds the CNAME records There is a shell script that does the deploy reads the output and then fixes up the CNAMEs "},
{"id": 45283, "question_id": 4528, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-07T23:53:20Z", "scrap_date": "2024-05-01T00:20:14.977391", "content": "hi everyone Im in the same challenge when I deploy each environment is in its own AWS account but theres only one account which owns the Route53 DNS domain Like bill when I deploy my dev Serverless Lambdas I want them to appear in dev example com where example com is controlled by the Prod AWS account Partial solution This solution is simple As a Dev I do my Serverless deploy using my Dev account It spits out a long URL like https6dzyltptt3 executeapi useast1 amazonaws com If I curl this domain I get hello world like expected If I set up a CNAME in the Prod account pointing to 6dzyltptt etc it doesnt work as expected The certificate isnt set up correctly curl https6dzyltptt3 executeapi useast1 amazonaws comdevelopmenthello Hello world 233752 curl httpsbeerdev example comdevelopmenthello curl 35 error14077410SSL routinesSSL23_GET_SERVER_HELLOsslv3 alert handshake failure I like the idea of having static and dynamic files Any ideas how we can get crossaccount Serverless environments working"},
{"id": 31712, "question_id": 3171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-07T21:48:42Z", "scrap_date": "2024-05-01T00:20:15.937850", "content": "bill Did you ever solve this I have the same issue "},
{"id": 31713, "question_id": 3171, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-08T20:45:37Z", "scrap_date": "2024-05-01T00:20:15.938850", "content": "With serverlessoffline v3 25 4 and serverlessdynamodclocal v0 2 30 the DynamoDB table specified in the resources section will be migrated on `serverless offline start with the following addition in your serverless yml file "},
{"id": 47092, "question_id": 4709, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-10T12:13:15Z", "scrap_date": "2024-05-01T00:20:16.541110", "content": "I think the syntax is supposed to be I tend to prefer an alternative syntax so if that fails please try"},
{"id": 47093, "question_id": 4709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-11T08:25:02Z", "scrap_date": "2024-05-01T00:20:16.541110", "content": "You were right my syntax was simply wrong thanks Somehow could not see it "},
{"id": 47222, "question_id": 4722, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-11T09:52:02Z", "scrap_date": "2024-05-01T00:20:17.662784", "content": "Well after writing out that long screed I had another think about it and decided that as my ultimate goal was to present the API through my custom domain I should search for how to do that And goodness me I found serverlessdomainmanager plugin realised that I knew how to configure it and it worked first time Thats quite amazing So the answer is that events http stuff in the lambdas is enough to tell serverless how to construct the API and serverlessdomainmanager is then smart enough to attach the newly constructed API to the custom domain name "},
{"id": 19922, "question_id": 1992, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T23:43:51Z", "scrap_date": "2024-05-01T00:20:18.658083", "content": "Looks like the path to your code is incomplete Change create to index create in the handler prop do the same for all the functions This should fix your issue"},
{"id": 19923, "question_id": 1992, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T15:20:24Z", "scrap_date": "2024-05-01T00:20:18.659083", "content": "That gives me the following Regardless I have since tried about every permutation of that snippet imaginable And the only way I can get it to run is with the default that is created from the googlenodejs template and a function named http I would LOVE for you guys to create an example working repo for google that has multiple servicesfolders as one might use to break out CRUD functionality by model "},
{"id": 19924, "question_id": 1992, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-11T12:48:43Z", "scrap_date": "2024-05-01T00:20:18.660083", "content": "Its really unclear error message But the issue is that function and handler names should not be the same So in your example valid config could look like this"},
{"id": 47272, "question_id": 4727, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-11T23:23:06Z", "scrap_date": "2024-05-01T00:20:19.561114", "content": "The best place to report this is the Serverless Framework Github repo where development takes place "},
{"id": 1752, "question_id": 175, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-01T14:42:06Z", "scrap_date": "2024-05-01T00:20:20.587644", "content": "There isnt a clean way of doing this yet that Im aware of There is a bit of a dirty way though After youve deployed your application lookup the name of the AWSApiGatewayMethod for your method the way I do this is by looking within cloudfromations stack template for my api Then using that name within serverless yml under Resources drop in something like this "},
{"id": 1753, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T10:27:45Z", "scrap_date": "2024-05-01T00:20:20.588644", "content": "Hi Camhart your dirty way worked like a charm Hope this could become a feature thanks a lot bye Federico"},
{"id": 1754, "question_id": 175, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-05T17:28:28Z", "scrap_date": "2024-05-01T00:20:20.589644", "content": "Yup definitely something we want to support in the future With our latest release and on master the name of the Method has changed though so make sure to update your custom resources so they still work then "},
{"id": 1755, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T22:05:40Z", "scrap_date": "2024-05-01T00:20:20.590646", "content": "flomotlik is there a way to set all api endpoints to use AWS_IAM authorization without having to define them one by one"},
{"id": 1756, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-18T05:55:23Z", "scrap_date": "2024-05-01T00:20:20.590646", "content": "At the moment there isnt"},
{"id": 1757, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T14:26:23Z", "scrap_date": "2024-05-01T00:20:20.591645", "content": "flomotlik Ive noticed that since 1 0 2 version this does not work I get an error saying that a resource type is need So I tried this format is not being applied by the forum here resources Resources ApiGatewayMethodV1UsersUseridTestPost My post method Type AWSApiGatewayMethod Properties AuthorizationType AWS_IAM But it does not work It produces the following output and the application does not exit I must to press ctrlc in order to cancel and the next time I try to deploy the api I got a The specified bucket does not exist which can be solved by deleted the stack task from Cloudformation console Serverless Creating Stack Serverless Checking Stack create progress CloudFormation CREATE_IN_PROGRESS AWSCloudFormationStack serverlessuserservicedev CloudFormation CREATE_FAILED AWSApiGatewayResource ApiGatewayMethodV1UsersUseridTestPost CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_IN_PROGRESS AWSIAMRole IamRoleLambdaExecution CloudFormation CREATE_FAILED AWSIAMRole IamRoleLambdaExecution CloudFormation CREATE_FAILED AWSS3Bucket ServerlessDeploymentBucket CloudFormation ROLLBACK_IN_PROGRESS AWSCloudFormationStack serverlessuserservicedev CloudFormation DELETE_COMPLETE AWSApiGatewayResource ApiGatewayMethodV1UsersUseridTestPost CloudFormation DELETE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation DELETE_IN_PROGRESS AWSIAMRole IamRoleLambdaExecution CloudFormation DELETE_COMPLETE AWSIAMRole IamRoleLambdaExecution CloudFormation DELETE_COMPLETE AWSS3Bucket ServerlessDeploymentBucket CloudFormation ROLLBACK_COMPLETE AWSCloudFormationStack serverlessuserservicedev"},
{"id": 1758, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T14:42:40Z", "scrap_date": "2024-05-01T00:20:20.593646", "content": "If you update to 1 0 3 which we released today this should work "},
{"id": 1759, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T16:36:20Z", "scrap_date": "2024-05-01T00:20:20.594646", "content": "flomotlik thanks but Ive just tried 1 03 version and unfortunately it does not work This configuration Produces this error And this configuration Produces this other error"},
{"id": 17510, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T23:34:04Z", "scrap_date": "2024-05-01T00:20:20.595646", "content": "After some tests Ive added a comment on the following issue I think the bug should be reopened httpsgithub comserverlessserverlessissues2359"},
{"id": 17511, "question_id": 175, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-16T22:53:31Z", "scrap_date": "2024-05-01T00:20:20.595646", "content": "FWIW This worked for me"},
{"id": 17512, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-08T17:00:49Z", "scrap_date": "2024-05-01T00:20:20.596647", "content": "I am getting the same error as endymion as well Property HttpMethod cannot be empty and I am using a path parameter as well as he mentioned in the github issue I have also noticed that the people who have gotten this working seem to be using lambda integration as opposed to lambdaproxy integration would that be a requirement for getting this to work"},
{"id": 17513, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-08T19:55:19Z", "scrap_date": "2024-05-01T00:20:20.597647", "content": "Im using serverless 1 6 1 by the way "},
{"id": 17514, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T03:12:48Z", "scrap_date": "2024-05-01T00:20:20.597647", "content": "I used below syntax in serverless yml and it worked for me Key thing was to identify correct name ApiGatewayMethodHelloGet I figured that out from cloud formation template from S3 sls deploys code in S3 for every service if you drill down thos S3 bucket you will see cloud formation template created by sls resources Resources ApiGatewayMethodHelloGet Type AWSApiGatewayMethod Properties AuthorizationType AWS_IAM"},
{"id": 17515, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-25T23:17:31Z", "scrap_date": "2024-05-01T00:20:20.598648", "content": "Im about to implement AWS_IAM Before I use the workarounds described here has there been any progress in this feature Im using sls v1 8 0 "},
{"id": 17516, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-01T15:27:09Z", "scrap_date": "2024-05-01T00:20:20.599647", "content": "As of today I dont believe so Keep an eye on PR 3534 hopefully we can start using it in the next release"},
{"id": 17517, "question_id": 175, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T08:49:00Z", "scrap_date": "2024-05-01T00:20:20.599647", "content": "You helped me 100 find the answer this was make or break for me If you set it manually in the UI as soon as you do any update it will reset it to 0 You have to find the name in the json in the s3 bucket "},
{"id": 47492, "question_id": 4749, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T12:28:01Z", "scrap_date": "2024-05-01T00:20:21.255633", "content": "Stages in the Serverless Framework are very different to stages in the API Gateway Unless you know what youre doing and you have a very strong need for them I would stay away from API Gateway stages beyond what serverless does automatically and use the Serverless Framework stages instead "},
{"id": 47442, "question_id": 4744, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T13:07:42Z", "scrap_date": "2024-05-01T00:20:22.369955", "content": "Well I understand now that client certs arent going to do what I want but Id still be interested to know if theres already a way to manage client certs using Serverless or if Id need to create a new plugin Thanks again "},
{"id": 47322, "question_id": 4732, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T15:00:21Z", "scrap_date": "2024-05-01T00:20:23.188534", "content": "In the YAML you have pasted the function VehicleUnshared event is missing the s on the end "},
{"id": 40642, "question_id": 4064, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-21T16:09:25Z", "scrap_date": "2024-05-01T00:20:23.947639", "content": "You cant But You could define multiple services ie multiple projects with their own serverless yml each using whatever runtime you like then map them all to the same domain using the APIG Custom Domain feature See this Tutorial for some tips "},
{"id": 40643, "question_id": 4064, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-13T16:30:02Z", "scrap_date": "2024-05-01T00:20:23.949645", "content": "Checkout this example It does exactly what youre looking for 1 serverless yml 2 functions 2 runtimes "},
{"id": 31862, "question_id": 3186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T20:36:45Z", "scrap_date": "2024-05-01T00:20:24.927701", "content": "Ive had this happen before Check the formattingwhitespace of the yaml I has stuff incorrectly nested under the provider key and it was the root cause "},
{"id": 31863, "question_id": 3186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-11T01:52:39Z", "scrap_date": "2024-05-01T00:20:24.929702", "content": "it is a very first and basic demo helloworld just in case i reindent the whole serverless yml file but it still doesnt help service serverlesshelloworld provider name aws runtime nodejs6 10 functions helloWorld handler handler helloWorld events http path helloworld method get cors true"},
{"id": 31864, "question_id": 3186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T13:39:59Z", "scrap_date": "2024-05-01T00:20:24.930702", "content": "Had a similar problem when we wrote it on a windows machine and ran it in a Linux environment had something to do with the line endings We used dos2unix on the serverless yml file and it fixed our issue "},
{"id": 45562, "question_id": 4556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-24T11:05:19Z", "scrap_date": "2024-05-01T00:20:26.901627", "content": "I think your problem is here export async function main event context callback Try removing the async "},
{"id": 45563, "question_id": 4556, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-25T03:45:53Z", "scrap_date": "2024-05-01T00:20:26.901627", "content": "inconceivable Yeah removing async resolved the error Thanks for the good catch On a side note I am under the impression that adding async to functions is generally harmless it only enables await to work Any idea why is it tripping up in this case relevant stackoverflow httpsstackoverflow comquestions45594596asyncfunctionwithoutawaitinjavascriptutm_mediumorganicutm_sourcegoogle_rich_qautm_campaigngoogle_rich_qa"},
{"id": 45564, "question_id": 4556, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-25T10:42:28Z", "scrap_date": "2024-05-01T00:20:26.902628", "content": "Functions declared async actually return a Promise so you could think of as a short way of writing My best guess is that AWS is always passing the event context and callback parameters into your handler even if callback isnt documented in the async syntax then theyre looking to see if you return a Promise or not If you return a Promise then they call callback for you once it resolves When you had async in your code the main function was returning a Promise that resolved once everything inside main finished running which was happening before the callback passed to end was executed resulting in the Lambda terminating Of course Im not an expert on the internals of Lambda so I could be completely wrong "},
{"id": 45362, "question_id": 4536, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-19T19:01:45Z", "scrap_date": "2024-05-01T00:20:27.937401", "content": "mbudm Good to hear you are enjoying developing with Serverless I would love to have your article published on our blog when you are ready Let me know "},
{"id": 45363, "question_id": 4536, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-27T04:29:41Z", "scrap_date": "2024-05-01T00:20:27.938401", "content": "Sure will do rupakg thats the sort of motivation that I need to provoke me to actually write something"},
{"id": 45012, "question_id": 4501, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-20T04:58:37Z", "scrap_date": "2024-05-01T00:20:29.024783", "content": "Thank you it is my favorite AWS Training resource"},
{"id": 45013, "question_id": 4501, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-22T04:27:41Z", "scrap_date": "2024-05-01T00:20:29.025783", "content": "Really appreciate it You and the serverless stack website saved my time a lot "},
{"id": 45792, "question_id": 4579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-27T10:27:41Z", "scrap_date": "2024-05-01T00:20:29.649292", "content": "httpsdocs aws amazon comgenerallatestgrrande html"},
{"id": 45793, "question_id": 4579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-27T10:53:16Z", "scrap_date": "2024-05-01T00:20:29.650292", "content": "Thanks Bill most appreciated"},
{"id": 45794, "question_id": 4579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-28T05:51:32Z", "scrap_date": "2024-05-01T00:20:29.650292", "content": "I prefer httpsaws amazon comaboutawsglobalinfrastructureregionalproductservices The table format makes it a little easier to read "},
{"id": 32172, "question_id": 3217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T13:25:49Z", "scrap_date": "2024-05-01T00:20:30.459888", "content": "I hate this error too I think it is a security feature of AWS You are forced to change the name of phoneNumberTable to something like phoneNumberTable1 Then the next time you get the error change it back to phoneNumberTable Deleting the resource will not work Maybe someone can enlighten us on a way around it The AWS recommended solution is to rename httpsaws amazon compremiumsupportknowledgecentercloudformationcustomname"},
{"id": 32173, "question_id": 3217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T18:19:32Z", "scrap_date": "2024-05-01T00:20:30.460889", "content": "I wasnt aware you could change the name then change it back that is an interesting tactic also This way I dont have to delete all the others tables just the one I messed up on You could add this as an answer on stackoverflow also if you wanted "},
{"id": 32174, "question_id": 3217, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-30T18:44:34Z", "scrap_date": "2024-05-01T00:20:30.461890", "content": "Be aware that changing the name of the table creates a new table with the new name and drops the original table unless it has DeletionPolicy Retain So be sure to backup your data first if you wish to keep it My process for these situations has been"},
{"id": 32175, "question_id": 3217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-21T16:55:11Z", "scrap_date": "2024-05-01T00:20:30.462890", "content": "Did you use the backup tool in the DynamoDB dashboard If not how did you do it"},
{"id": 32176, "question_id": 3217, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-05-22T20:22:54Z", "scrap_date": "2024-05-01T00:20:30.462890", "content": "I have a fairly simple node js script to copy table to table "},
{"id": 32177, "question_id": 3217, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-28T09:42:20Z", "scrap_date": "2024-05-01T00:20:30.463890", "content": "That looks useful Thanks "},
{"id": 46002, "question_id": 4600, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-29T23:51:12Z", "scrap_date": "2024-05-01T00:20:30.987959", "content": "You indentation looks wrong Can I confirm youre deploying to the same stage both times"},
{"id": 46003, "question_id": 4600, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T10:29:14Z", "scrap_date": "2024-05-01T00:20:30.988959", "content": "hi thanks for your reply yes we are deploying to the same prod stage each time via CircleCI the full block looks like this 2 space indentation on each level following httpsserverless comframeworkdocsprovidersawseventsstreams functions mylambda handler distfunctionsmylambda handler events stream type kinesis batchSize 50 arn envAWS_KINESIS_STREAM "},
{"id": 45932, "question_id": 4593, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T05:56:38Z", "scrap_date": "2024-05-01T00:20:32.125178", "content": "take a look about sls aws events DynamoDB Kinesis Streams"},
{"id": 45933, "question_id": 4593, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T06:37:31Z", "scrap_date": "2024-05-01T00:20:32.125178", "content": "No this is not what I want I know how to create function and other resources DyDb bucket kinesis But dont know how to create EMR as a resource "},
{"id": 45934, "question_id": 4593, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T12:27:16Z", "scrap_date": "2024-05-01T00:20:32.126179", "content": "It looks like CloudFormation supports EMR Is there a reason you cant deploy EMR using the CloudFormation syntax in your resources section"},
{"id": 46172, "question_id": 4617, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T10:36:52Z", "scrap_date": "2024-05-01T00:20:33.041065", "content": "The easiest solution is to pass the usage plan ID to the Lambda as an environment variable You can set the value of the environment variable using a Ref in your serverless yml Something like Then inside your Lambda use process env USAGE_PLAN_ID"},
{"id": 46262, "question_id": 4626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T21:49:31Z", "scrap_date": "2024-05-01T00:20:33.971125", "content": "I figured that while verbose doesnt work in fact SLS_DEBUG serverless deploy does Is this a bug So my error is looking like that in verbose mode doesnt help me unfortunately LogeMBPserverlesseucentral1 ml SLS_DEBUG serverless deploy Serverless Load command run Serverless Load command config Serverless Load command configcredentials Serverless Load command create Serverless Load command install Serverless Load command package Serverless Load command deploy Serverless Load command deployfunction Serverless Load command deploylist Serverless Load command deploylistfunctions Serverless Load command invoke Serverless Load command invokelocal Serverless Load command info Serverless Load command logs Serverless Load command login Serverless Load command logout Serverless Load command metrics Serverless Load command print Serverless Load command remove Serverless Load command rollback Serverless Load command rollbackfunction Serverless Load command slstats Serverless Load command plugin Serverless Load command plugin Serverless Load command plugininstall Serverless Load command plugin Serverless Load command pluginuninstall Serverless Load command plugin Serverless Load command pluginlist Serverless Load command plugin Serverless Load command pluginsearch Serverless Load command emit Serverless Load command config Serverless Load command configcredentials Serverless Load command rollback Serverless Load command rollbackfunction Serverless Invoke deploy Serverless Invoke package Serverless Invoke awscommonvalidate Serverless Invoke awscommoncleanupTempDir Serverless Packaging service Serverless Excluding development dependencies Serverless Invoke awspackagefinalize Serverless Invoke awscommonmoveArtifactsToPackage Serverless Invoke awscommonvalidate Serverless Invoke awsdeploydeploy Serverless Error The specified bucket does not exist Stack Trace ServerlessError The specified bucket does not exist at BbPromise fromCallback catch err usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js27211 From previous event at persistentRequest usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js25513 at doCall usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js2079 at BbPromise usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js22414 From previous event at persistentRequest usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js20538 at Object request requestQueue add [as promiseGenerator] usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js24549 at Queue _dequeue usrlocallibnode_modulesserverlessnode_modulespromisequeuelibindex js15330 at usrlocallibnode_modulesserverlessnode_modulespromisequeuelibindex js10918 From previous event at Queue add usrlocallibnode_modulesserverlessnode_modulespromisequeuelibindex js9416 at AwsProvider request usrlocallibnode_modulesserverlesslibpluginsawsproviderawsProvider js24539 at AwsDeploy getMostRecentObjects usrlocallibnode_modulesserverlesslibpluginsawsdeploylibcheckForChanges js3326 From previous event at AwsDeploy checkForChanges usrlocallibnode_modulesserverlesslibpluginsawsdeploylibcheckForChanges js208 From previous event at Object awsdeploydeploycheckForChanges [as hook] usrlocallibnode_modulesserverlesslibpluginsawsdeployindex js11210 at BbPromise reduce usrlocallibnode_modulesserverlesslibclassesPluginManager js37255 From previous event at PluginManager invoke usrlocallibnode_modulesserverlesslibclassesPluginManager js37222 at PluginManager spawn usrlocallibnode_modulesserverlesslibclassesPluginManager js39017 at AwsDeploy BbPromise bind then usrlocallibnode_modulesserverlesslibpluginsawsdeployindex js10148 From previous event at Object deploydeploy [as hook] usrlocallibnode_modulesserverlesslibpluginsawsdeployindex js9710 at BbPromise reduce usrlocallibnode_modulesserverlesslibclassesPluginManager js37255 From previous event at PluginManager invoke usrlocallibnode_modulesserverlesslibclassesPluginManager js37222 at PluginManager run usrlocallibnode_modulesserverlesslibclassesPluginManager js40317 at variables populateService then usrlocallibnode_modulesserverlesslibServerless js10233 at runCallback timers js69618 at tryOnImmediate timers js6675 at processImmediate timers js6495 at process topLevelDomainCallback domain js12123 From previous event at Serverless run usrlocallibnode_modulesserverlesslibServerless js8974 at serverless init then usrlocallibnode_modulesserverlessbinserverless4250 Get Support Docs docs serverless com Bugs Issues serverlessserverless GitHub Issues forum serverless com Your Environment Information OS darwin Node Version 10 0 0 Serverless Version 1 27 3"},
{"id": 46263, "question_id": 4626, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T22:07:52Z", "scrap_date": "2024-05-01T00:20:33.979128", "content": "Yikes I found the problem Someone killed my accesskey on AWS and created a new one So it was basically a security issue but of course the error message didnt reported properly To the devs Would it be possible to present a better error than Bucket does not exist for an auth problem like this This is misleading at best Would have saved me 3 hours Thanks Marc"},
{"id": 16272, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-05T12:12:20Z", "scrap_date": "2024-05-01T00:20:34.715351", "content": "Ive found the solution to this details about the claimed identity are available as part of the requestContext attribute Sample interestingdisappointing that identity is not populated at all Hope this helps someone "},
{"id": 16273, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-05T19:18:00Z", "scrap_date": "2024-05-01T00:20:34.716548", "content": "Hi barticus IMO serverless is mainly a tool to deploy your function s and doesnt limit what your function s can do If you protect your endpoint with a Cognito Authorizer and assuming you use lambda proxy integration and you pass the ID token as a request header then you should be able to get the sub claim as follows edit its requestContext and not context see AWS mapping reference In case it helps here is a Java example for my framework JRestless that also explains how to set everything up awsgatewaysecuritycognitoauthorizer The cognito related data in the lambda context ILambdaContext in case of C as well as in yourRequestObject context identity will only be set if you invoke your API Gateway endpoint through the AWS SDK and you use Cognito Federated Identity working on an example for this for JRestless as well Hope this helps "},
{"id": 16274, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-20T21:28:31Z", "scrap_date": "2024-05-01T00:20:34.718352", "content": "The cognito related data in the lambda context ILambdaContext in case of C as well as in yourRequestObject context identity will only be set if you invoke your API Gateway endpoint through the AWS SDK and you use Cognito Federated Identity working on an example for this for JRestless2 as well This was really confusing for me too You would think since they have a shiny button in the console for using Cognito Pools as an authorizer they would fill out all that for us instead of just dumping the claims In NodeJS this is the output when I invoke my API via postman Furthermore if you used Federated Identities to get IAM creds to auth with the api via sig4 how does the API know who the user is Do you have an example of how to invoke api gateway endpoints using Cognito Federated Identity so that those properties are not null"},
{"id": 16275, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T10:31:37Z", "scrap_date": "2024-05-01T00:20:34.719352", "content": "Hi VictorioBerra I dont think this is possible when you get iam creds you are assuming a particular iam role and are thus acting as that role rather than as the user you assumed the credentials with In my application i dont get IAM creds or use the sig4 authentication once you have authenticated the user directly with cognito you will get a JWT which you supply as your authorization header and thats all there is to it API Gateway gives you a little tool to validate that a token is valid for it It depends on what language you are using for your front end I am using javascript so this project was a great reference i looked at when creating my interactions between cognito and then to API gateway Hope that helps "},
{"id": 16276, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T20:19:16Z", "scrap_date": "2024-05-01T00:20:34.721347", "content": "Hi VictorioBerra Its a little difficult to present you a full example here In general you need an Identity Pool and use that to log your user in using the SDK If you also use a User Pool as an authentication provider and want to invoke your APIGW through JS later you may find Use Case 17 here useful Once you managed to log users in you furthermore need to generate an SDK for your APIGW and invoke the endpoints through it You may find this useful Invoke API Gateway function with Cognito Authentication from Javascript Note the cognitoIdentityId will be the users ID in the Identity Pool not the User Pool "},
{"id": 16277, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T17:22:39Z", "scrap_date": "2024-05-01T00:20:34.722353", "content": "Whats the difference between these amazoncognitoauthjs The Amazon Cognito Auth SDK for JavaScript simplifies adding signup signin with user profile functionality to web apps amazoncognitoidentityjs Amazon Cognito Identity SDK for JavaScript"},
{"id": 16278, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-22T23:27:07Z", "scrap_date": "2024-05-01T00:20:34.723353", "content": "Okay everyone I got it working Here is what I did Auth and get creds There are a number of ways to do this Now that you have a user pool you can use the frontend library amazoncognitoidentityjs this will allow you to authenticate and get a JWT call authenticate with the above library With the JWT you can use the CognitoIdentityCredentials and config credentials get to actually populate the AccessKeyId and SecretAccessToken and SessionToken FINALLY use Postman NOT THE CHROME APP you must download the desktop app to call your APIG and there you go I have some code samples and blog posts coming soon I have to clean up my code a lot and move hardcoded stuff to text inputs "},
{"id": 16279, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-01T11:00:36Z", "scrap_date": "2024-05-01T00:20:34.724353", "content": "any news on your blog posts I am on my way too and any more infos are badly needed "},
{"id": 162710, "question_id": 1627, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-01T13:12:42Z", "scrap_date": "2024-05-01T00:20:34.725354", "content": "Its been a while since I worked on this but i think this is what you want My github code samples Javascript Cognito IdentityPool Authenticator Example GitHub VictorioBerrajscognitoauthexample Javascript Cognito IdentityPool Authenticator Example"},
{"id": 46402, "question_id": 4640, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-02T01:45:04Z", "scrap_date": "2024-05-01T00:20:35.554466", "content": "It looks like awslambda components are so you can include functions inside components you build If youre not building a component then use functions "},
{"id": 46222, "question_id": 4622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-31T22:53:49Z", "scrap_date": "2024-05-01T00:20:36.437462", "content": "I think the issue is that executeapi API Gateway permissions are more complicated than that They have the form arnawsexecuteapiregionaccountidapiidstagenameHTTPVERBresourcepath and last time I tried something like this a wildcard right after the apiid portion was not enough So you probably want something like Dont quote me on this but I also think that if your resourcepath also has in it then you need to build out the permission so that it has the same number of as your resource So if your API has a GET and POST to xyz then the policy statement would have to look like arnawsexecuteapiregionaccountidapiidstagename I vaguely remember having to have permissions like to match the levels in all my resources I could be wrong though so YMMV See httpsdocs aws amazon comgenerallatestgrawsarnsandnamespaces htmlarnsyntaxapigateway httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayiampolicyexamplesforapiexecution html"},
{"id": 46223, "question_id": 4622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T22:11:52Z", "scrap_date": "2024-05-01T00:20:36.439462", "content": "Thanks for the comprehensive answer I will need to do some reading by the looks of it Sean"},
{"id": 46102, "question_id": 4610, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-30T23:08:11Z", "scrap_date": "2024-05-01T00:20:37.232567", "content": "It looks like youre returning a JSON object in body It needs to be a string Wrap the value with a JSON stringify to convert it and it should be ok "},
{"id": 46103, "question_id": 4610, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-03T18:54:56Z", "scrap_date": "2024-05-01T00:20:37.232567", "content": "Hi buggy thanks for the help it solved now i missed the JSON stringify "},
{"id": 46352, "question_id": 4635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T01:31:29Z", "scrap_date": "2024-05-01T00:20:37.696400", "content": "serverless deploy function only updates the code for LATEST You need to use the full serverless deploy if youre updating the CloudFormation template too Is there a way to reflect my changes when just deploying a single function Stop using aliases and versions"},
{"id": 46353, "question_id": 4635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T01:38:43Z", "scrap_date": "2024-05-01T00:20:37.698401", "content": "I was using them to mantain a dev and prod version of my app Now Id just change de serverless yml stage value to deploy my code and test right Its a little scary what if by mistake prod stage is deployed and I havent test the app yet "},
{"id": 46354, "question_id": 4635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T02:04:23Z", "scrap_date": "2024-05-01T00:20:37.699401", "content": "What you probably want are Serverless Framework stages These are different to API Gateway stages or Lambda aliases because they deploy a complete copy of the environment This allows you to safely test everything in test before deploying to prod "},
{"id": 46355, "question_id": 4635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T02:20:10Z", "scrap_date": "2024-05-01T00:20:37.699401", "content": "Serverless Framework stages I mention using the stage parameter in the yml file thatd do it right Is this article correct"},
{"id": 46356, "question_id": 4635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T00:00:18Z", "scrap_date": "2024-05-01T00:20:37.700402", "content": "You can also set it during deployment with the s or stage command line option I typically dont set the stage in the provider section In the custom section I add Then reference custom stage anywhere I need the current stage in my serverless yml file There are variations on this including setting the stage in the provider setting to optstage dev "},
{"id": 46372, "question_id": 4637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-01T18:28:02Z", "scrap_date": "2024-05-01T00:20:38.811541", "content": "Any help would be greatly appreciated "},
{"id": 46373, "question_id": 4637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-02T01:19:31Z", "scrap_date": "2024-05-01T00:20:38.812536", "content": "You dont actually need to log into your Serverless account to use the Serverless Framework Unless you really need to be logged in I would skip it "},
{"id": 46374, "question_id": 4637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-03T00:30:15Z", "scrap_date": "2024-05-01T00:20:38.813536", "content": "Unfortunately I get the same error no matter what I try to do at the command line "},
{"id": 46375, "question_id": 4637, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T00:01:40Z", "scrap_date": "2024-05-01T00:20:38.813536", "content": "It sounds like it didnt install correctly I have you tried removing it and installing it again"},
{"id": 46482, "question_id": 4648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T03:13:41Z", "scrap_date": "2024-05-01T00:20:39.898480", "content": "Have you looked at the request in your browsers developer tools This will tell you exactly what its sending and should help you narrow down the problem "},
{"id": 44682, "question_id": 4468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-10T01:14:29Z", "scrap_date": "2024-05-01T00:20:41.957530", "content": "You can reference it directly Ref ApiGatewayRestApi See this question I asked before [Fixed] How do i getreference api gateway restapi id in serverless yml This is the way to get api gateway id You need use it and add more path region etc to form the full api gateway url"},
{"id": 44683, "question_id": 4468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-10T04:12:44Z", "scrap_date": "2024-05-01T00:20:41.958530", "content": "You can reference it directly Ref ApiGatewayRestApi See this question I asked before [Fixed] How do i getreference api gateway restapi id in serverless yml This is the way to get api gateway id You need use it and add more path region etc to form the full api gateway url Thanks mate for pointing me at the correct path One more quick question it appears that ApiGatewayRestApi corresponds to AWSApiGatewayRestApi and in aws docs it says When the logical ID of this resource is provided to the Ref intrinsic function Ref returns the RestApi ID such as a1bcdef2gh So I assume ApiGatewayRestApi is the logical id But I could not find ApiGatewayRestApi anywhere in serverless docs "},
{"id": 44684, "question_id": 4468, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-10T12:00:16Z", "scrap_date": "2024-05-01T00:20:41.960530", "content": "I wrote something on this a year ago How to I get my API Gateway URL with the Serverless Framework The short version is"},
{"id": 44685, "question_id": 4468, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-10T23:31:39Z", "scrap_date": "2024-05-01T00:20:41.960530", "content": "Yup Ive read your post Really helpful Thanks"},
{"id": 12992, "question_id": 1299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-11T07:07:29Z", "scrap_date": "2024-05-01T00:20:42.883915", "content": "I have the same problem"},
{"id": 20112, "question_id": 2011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-15T04:52:54Z", "scrap_date": "2024-05-01T00:20:43.536873", "content": "I havent tried the tutorials or seen that error but i can tell you my sls file looks the same so i doubt it related to that It looks a bit like a code issue but i was wondering if its something as crazy as http cant be used for a function name I had issues getting one called trigger fully deployed but when i renamed it it deployed without an issue "},
{"id": 20113, "question_id": 2011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-14T17:22:00Z", "scrap_date": "2024-05-01T00:20:43.538871", "content": "I am facing same issue Any solution"},
{"id": 44822, "question_id": 4482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-12T14:27:03Z", "scrap_date": "2024-05-01T00:20:44.372031", "content": "Ok I got it working I wrote a small utility function to convert schema gql to the appropriate JSON file Then I added the it to the serverless yml Lastly I added the script to my deployment workflow Feedback is appreciated "},
{"id": 44823, "question_id": 4482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T00:27:03Z", "scrap_date": "2024-05-01T00:20:44.373031", "content": "Ideally Id like something like Definition file schema gql Its actually something very close to that Definition file schema gql "},
{"id": 44882, "question_id": 4488, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T00:46:31Z", "scrap_date": "2024-05-01T00:20:45.292254", "content": "you can use roles to deploy Just make sure your credentials are set I defined a deployment role with minimal permissions for shipping code also defined other roles for creating infrastructure I wrote some details here httpsmedium comdav009serverlessframeworkminimaliamrolepermissionsba34bec0154e"},
{"id": 45032, "question_id": 4503, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T01:30:07Z", "scrap_date": "2024-05-01T00:20:46.390784", "content": "I think we would need to support group by aggregation joins on multiple tables to build some APIs I couldnt find any information as to how this can be achieved DynamoDB is a super fast keyvalue store It doesnt support joins group by or aggregation Even conditions work different than you expect if youre coming from a SQL background "},
{"id": 44692, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-10T11:14:52Z", "scrap_date": "2024-05-01T00:20:47.415047", "content": "I dont think there is one right or wrong answer to this So far Ive tended to include extra resources in the yml with my lambda s if those components belong together Recently there have been occasions where weve deployed components separately in one instance a kinesis stream was shared between elements of a larger system and on another occasion we had a dynamo db table that we needed to ensure persisted irrespective of the wider server being removed However Im not sure you need to use ansible or another tool to do this to date weve managed quite well with a separate serverless yml with no handler and just resources this will create a separate cloud formation stack for you Hope that helps "},
{"id": 44693, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-10T23:30:50Z", "scrap_date": "2024-05-01T00:20:47.416047", "content": "Thanks for your reply So you deploy resources sitting in a separate yml file first b4 deploy the main serverless yml"},
{"id": 44694, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-11T14:05:08Z", "scrap_date": "2024-05-01T00:20:47.417048", "content": "Again not sure if it matters two much so long as both service and resource and deployed before you try and use the service That said if we are deploying our resources separately from our service then it is likely to be done first as a one off deployment outside of our CD pipeline"},
{"id": 44695, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-11T16:09:40Z", "scrap_date": "2024-05-01T00:20:47.418048", "content": "I recommend making multiple YAML files I have one to set up all of the static parts of my deployment things that rarely change like Cloudfront I have a second to set up the IOT portion of my system And a third for all of the lambdas used by the web app My three files are designed so that they can be deployed independently Also my deployments write out local config files which the other YAML files read For example the ID of a Cognito User pool created by the static YML file is read by the lambda YAML file "},
{"id": 44696, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-12T23:35:05Z", "scrap_date": "2024-05-01T00:20:47.419048", "content": "We also have separate yaml files and we use a deploy parameter to select the desired stack We further use yamlboost since there are some limitations when it comes to merging yaml files in serverless configs "},
{"id": 44697, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-14T05:04:44Z", "scrap_date": "2024-05-01T00:20:47.420049", "content": "Thanks for your advice Wonder if you can show me any yml example of how you structure them and deploy them separately Appreciated"},
{"id": 44698, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-05-14T10:03:26Z", "scrap_date": "2024-05-01T00:20:47.420049", "content": "The key bit is writing an output file Put the things that dont change like Cloudfront S3 buckets Cognito Pools etc in one YML file When it creates those static things write the IDs out to a local file In a second YAML file put your volatile stuff like your API and read in the IDs for the static items I might only run my static YAML file once a month Here is how to read from a file This reads the developers name so that he can have a custom domain name More details on how to write variables to files "},
{"id": 44699, "question_id": 4469, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T23:39:13Z", "scrap_date": "2024-05-01T00:20:47.421054", "content": "Thank you so much for your examples "},
{"id": 30142, "question_id": 3014, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-17T04:56:51Z", "scrap_date": "2024-05-01T00:20:48.343104", "content": "Having a similar issue with Serverless Error Serverless plugin serverlessawsdocumentation not found Make sure its installed and listed in the plugins section of your serverless config file Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Issues forum serverless com Your Environment Information OS linux Node Version 8 11 0 Serverless Version 1 27 2 Is there a workaround to this issue of using plugins with the serverless package command"},
{"id": 45212, "question_id": 4521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-17T12:34:46Z", "scrap_date": "2024-05-01T00:20:49.194352", "content": "Just remove them from your project and dont put them in your serverless yml I am assuming that you want to do a Resource only deployment "},
{"id": 33912, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T01:16:05Z", "scrap_date": "2024-05-01T00:20:50.360722", "content": "Inside the serverless folder you should see the zip file that is being uploaded Unzip it and check exactly what is being uploaded You may find additional files and folders youre not expecting that can be excluded If you cant see anything obvious then check the size of your node_modules folder It may be that one of your dependencies is actually very large or that adding up the size of all your dependencies and their dependencies is causing the problem Next if you can survive with awssdk 2 143 0 then move it from dependencies to devDependencies This will excluded it and its dependencies from the upload and you will use the version included with Lambda Finally you may need to look at webpack and tree shaking to reduce the size of your files "},
{"id": 33913, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T11:49:10Z", "scrap_date": "2024-05-01T00:20:50.362722", "content": "Thanks buggy great suggestions Ill give that a try today Especially like the awssdk one as I definitely do not need the latest Do you happen to know where one can find information on configuring your npm deps on a functionbyfunction basis This would be very helpful for me as each function will have a pretty different dependency graph "},
{"id": 33914, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T12:00:34Z", "scrap_date": "2024-05-01T00:20:50.363722", "content": "Ok I can see that the node_modules folder DOES indeed have way more than it should It should only include my dependencies but it appears to also be including my devDependencies For instance things like Babel etc are being included How does one avoid this"},
{"id": 33915, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T21:28:08Z", "scrap_date": "2024-05-01T00:20:50.363722", "content": "Can I assume youre using an older version of Serverless If you are then upgrade the version as they added support excluding devDependencies a while ago "},
{"id": 33916, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T10:15:45Z", "scrap_date": "2024-05-01T00:20:50.364723", "content": "No thats just it I remember when this wasnt included but I have the latest version 1 25 0 I even out of desperation explicitly added to my serverless yml file "},
{"id": 33917, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T10:18:39Z", "scrap_date": "2024-05-01T00:20:50.365724", "content": "In fact when I deploy it writes to the console that it is excluding devDependencies "},
{"id": 33918, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T10:59:03Z", "scrap_date": "2024-05-01T00:20:50.365724", "content": "Im starting to run out of ideas short of a bug Have you double checked your packages json to make sure you havent accidentally added some as dependencies instead of dev dependencies"},
{"id": 33919, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-03T10:43:31Z", "scrap_date": "2024-05-01T00:20:50.366723", "content": "This is how I do it to reduce the lambda size do not install node modules globally not even serverless Use npx to run serverless commands from local node_modules e g npx sls deploy v In serverless yml Global settings for all lambdas Single lambda remember to run npm install for each lambda folder I am using httpswww npmjs compackageserverlesspluginscripts and separate npminstaller js with package json postinstall script to do that scripts hooks beforepackagecreateDeploymentArtifacts npm install Hope this helps HOX Check indentation no time to play with this editor "},
{"id": 339110, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-13T08:35:50Z", "scrap_date": "2024-05-01T00:20:50.367724", "content": "I found this plugin to be helpful for this httpswww npmjs compackageserverlesspluginincludedependencies It cut my single file function a very simple custom authorizer down from 110MB to 52MB However that was still huge and I realized it had the code from other functions in it even though I have package individually set to true However I think that may be because I have a mixed setup where my other functions use the Java runtime So I was able to add individual exclude rules to my JavaScript function to exclude the directories of the others Its via the normal package exclude config which you find more info on here httpsserverless comframeworkdocsprovidersawsguidepackaging I wound up excluding a few more things and the final was down to only 180kb "},
{"id": 339111, "question_id": 3391, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-17T17:17:04Z", "scrap_date": "2024-05-01T00:20:50.368724", "content": "In the end I created a script that does static analysis on my dependencies and creates a list of safe directories to exclude You can then use sls package to dig into the produced output and add or subtract a bit more Ive gotten my 50 MB functions to consistently 4 2mb and I suspect if I spent a bit more time I could probably slim down a bit more though Ive already hit my 8020 rule so not sure ill do this in the short term "},
{"id": 45232, "question_id": 4523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-17T12:43:50Z", "scrap_date": "2024-05-01T00:20:51.305330", "content": "That is a very old version Things have considerably changed since that version I am not sure how much code you have but my suggestion will be to rewrite the app using the latest version You can deploy to a dev stage and test out the functionality As far as CF templates are concerned they might have changed in AWS as well So you will have to fix themmigrate them as well For the DynamoDB table I would recommend you take a backup of the table recreate it with the latest version and then copy the data over to the new table If that is not feasible and the data schema has not changed you might be able to still reference the old tables from you code In your new app you can set the DynamoDB table to have DeletionPolicy Retain flag set Hope this helps "},
{"id": 45233, "question_id": 4523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-18T00:20:07Z", "scrap_date": "2024-05-01T00:20:51.307330", "content": "There were a number of changes between 0 5 and 1 0 that made them incompatible The cleanest and possibly only solution will be to start a new project With existing resources like DynamoDB you have a couple of options "},
{"id": 44802, "question_id": 4480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-11T15:31:58Z", "scrap_date": "2024-05-01T00:20:52.314679", "content": "jonsmirl so does AWS throw an error when it encounters the frameworks vars or the framework is throwing an error as it cannot find the AWS vars I am guessing the latter but please confirm "},
{"id": 44803, "question_id": 4480, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-11T15:49:49Z", "scrap_date": "2024-05-01T00:20:52.315679", "content": "AWS and severless use the same default syntax for their variables so when serverless processes an AWS variable it gets an error The syntax conflict is with AWS policy variables httpsdocs aws amazon comIAMlatestUserGuidereference_policies_variables html By the time your YAML get loaded up to AWS all of the serverless syntax is gone If you really really want them to keep using the same variable syntax you could teach serverless about all of the possible AWS variables so that it wont declare them errors But that set of variables changes as AWS evolves Plus I suspect it will be very confusing for users if you do this some variables will evaluate locally and others would evaluate in the cloud Much better to simply change the SLS variable syntax to not conflict With the current scheme the first time you try and use an AWS policy variable you will get an error from SLS about an undefined variable You will stare at that error for a while and swear that your syntax is correct and it is After a while you will start asking on the forum and searching in Google Sooner or later you will find something that explains this problem and which recommends changing your SLS variable syntax like in the first post in this thread After you change the SLS syntax you will then have to go back through all of your YAML files and edit them to use the alternative syntax "},
{"id": 45122, "question_id": 4512, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-20T14:18:36Z", "scrap_date": "2024-05-01T00:20:53.155636", "content": "How about trying httpsgithub combalmbeesdynamotypeorm haha i maintain and use this on production so proudly recommend to you Ive been through same phase of searching for dynamodb ORM and i really couldnt find any decent one "},
{"id": 45392, "question_id": 4539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-20T19:58:34Z", "scrap_date": "2024-05-01T00:20:54.044499", "content": "Did you ever get a solution to this"},
{"id": 45393, "question_id": 4539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-20T20:09:48Z", "scrap_date": "2024-05-01T00:20:54.044499", "content": "Nope Tried adding multiple entries but serverless didnt like that "},
{"id": 45394, "question_id": 4539, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-05-21T01:09:08Z", "scrap_date": "2024-05-01T00:20:54.045499", "content": "I have a setup like this using the httpsgithub comamplifyeducationserverlessdomainmanager plugin In my case the DNS names and SSL certificates are not managed via serverless so this presupposes that they already exist in Route 53 and Certificate Manager Setup config file with stage specific values Hope that helps "},
{"id": 45422, "question_id": 4542, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-21T00:58:50Z", "scrap_date": "2024-05-01T00:20:54.761195", "content": "If you are talking about adding custom CloudFormation resources beforepackagefinalize is a good spot If you are talking about adding filesassetsetc to the serverless zip file then afterpackageinitialize or maybe beforepackagesetupProviderConfiguration"},
{"id": 45423, "question_id": 4542, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-21T01:12:27Z", "scrap_date": "2024-05-01T00:20:54.762195", "content": "I too was confused in the beginning about where to hook plugins into the serverless lifecycle So I made a simple plugin that bound to every event and printed out where it was Code and log is here gist github com httpsgist github combwinant406b7cf1677ba63896f5253d07d01f37 lifecycleplugin js use strict This plugin will bind to all available lifecycle events and print them out as they are invoked class LifecyclePrinter constructor serverless options this serverless serverless this options options this provider this serverless getProvider aws This file has been truncated show original slspluginawslifecycleevents log sandbox sls deploy IN beforepackagecleanup IN beforeawscommonvalidatevalidate IN afterawscommonvalidatevalidate IN beforeawscommoncleanupTempDircleanup IN afterawscommoncleanupTempDircleanup IN afterpackagecleanup IN beforepackageinitialize IN afterpackageinitialize IN beforepackagesetupProviderConfiguration This file has been truncated show original"},
{"id": 45424, "question_id": 4542, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-21T01:14:13Z", "scrap_date": "2024-05-01T00:20:54.765196", "content": "This is really great thanks for sharing I guess its not completely obvious what is happening at each of these hooks but it sure does help "},
{"id": 44922, "question_id": 4492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-14T14:26:49Z", "scrap_date": "2024-05-01T00:20:55.707649", "content": "Can you show me the yaml from the Resources section where you are creating the DynamoDB table The environment var for the table name should be used there "},
{"id": 44923, "question_id": 4492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-14T20:04:38Z", "scrap_date": "2024-05-01T00:20:55.708650", "content": "I updated the post yml provider has been added for ref thx "},
{"id": 44924, "question_id": 4492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-14T20:29:12Z", "scrap_date": "2024-05-01T00:20:55.709650", "content": "The yaml section is not formatted correctly so it is very hard to read Here is an example how it should be This configuration assumes that the Serverless Framework will create and manage the DynamoDB table for you On deploy it will create the DynamoDB table and on remove it will destroy it If you are connecting to an existing table you will just need to use the SDK and make dynamo calls from your code No need to add the DynamoDB config in the Resources section You will still need the IAMRoleStatements to give access to perform operations on the table Hope this helps "},
{"id": 44925, "question_id": 4492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T13:11:37Z", "scrap_date": "2024-05-01T00:20:55.710650", "content": "thanks for the reply in my case I want to call the deployed function myserverlessdeployedfunction that saves data to dynamodb when I invoke local the function it works well however when I deployed the function to the aws then call it with the function name It no longer saves data to db anymore with no error popup here is my code const AWS require awssdk function deployScraper const lambda new AWS Lambda region useast1 Here is the output of the call lambda invoked StatusCode 200 LogResult U1RBUlQgUmVxdWVzdElkOiA3ZjAxMTA0Ni01ODNmLTExZTgtODZiNy02YmFjZjIwYWFmYjggVmVyc2lvbjogJExBVEVTVAoyMDE4LTA1LTE1VDEyOjU3OjE5Ljg3M1oJN2YwMTEwNDYtNTgzZi0xMWU4LTg2YjctNmJhY2YyMGFhZmI4CUVycm9yIHNhdmluZyBkYXRhIHRvIER5bmFtb0RCOiB7Im1lc3NhZ2UiOiJNaXNzaW5nIHJlcXVpcmVkIGtleSAnVGFibGVOYW1lJyBpbiBwYXJhbXMiLCJjb2RlIjoiTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyIiwidGltZSI6IjIwMTgtMDUtMTVUMTI6NTc6MTkuODczWiJ9CjIwMTgtMDUtMTVUMTI6NTc6MTkuODc1Wgk3ZjAxMTA0Ni01ODNmLTExZTgtODZiNy02YmFjZjIwYWFmYjgJKG5vZGU6MSkgVW5oYW5kbGVkUHJvbWlzZVJlamVjdGlvbldhcm5pbmc6IFVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiAocmVqZWN0aW9uIGlkOiAxKTogRXJyb3Igc2F3aW5nIGRhdGEgdG8gRHluYW1vREI6IHsibWVzc2FnZSI6Ik1pc3NpbmcgcmVxdWlyZWQga2V5ICdUYWJsZU5hbWUnIGluIHBhcmFtcyIsImNvZGUiOiJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXIiLCJ0aW1lIjoiMjAxOC0wNS0xNVQxMjo1NzoxOS44NzNaIn0KRU5EIFJlcXVlc3RJZDogN2YwMTEwNDYtNTgzZi0xMWU4LTg2YjctNmJhY2YyMGFhZmI4ClJFUE9SVCBSZXF1ZXN0SWQ6IDdmMDExMDQ2LTU4M2YtMTFlOC04NmI3LTZiYWNmMjBhYWZiOAlEdXJhdGlvbjogMTMzOC42NCBtcwlCaWxsZWQgRHVyYXRpb246IDE0MDAgbXMgCU1lbW9yeSBTaXplOiAxMDI0IE1CCU1heCBNZW1vcnkgVXNlZDogNzEgTUIJCg ExecutedVersion LATEST Payload statusCode200body \\message\\\\completed\\ here is yaml serverless privder"},
{"id": 44926, "question_id": 4492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-16T18:37:49Z", "scrap_date": "2024-05-01T00:20:55.713651", "content": "Hello folks issue has been fixed myself the error code from AWS log isnt reflect the actual error I was confused about the error and check many times try to have the missing table name fixed however the above script are correct aws report error since I have some bugs in my node script nothing to do with yaml and deplyed handler function Thanks "},
{"id": 44927, "question_id": 4492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-21T16:10:35Z", "scrap_date": "2024-05-01T00:20:55.714652", "content": "Good to hear it solved your issue "},
{"id": 43682, "question_id": 4368, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-29T11:54:28Z", "scrap_date": "2024-05-01T00:20:57.711772", "content": "How about to define the methods directly in part of cors"},
{"id": 43712, "question_id": 4371, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-29T11:43:31Z", "scrap_date": "2024-05-01T00:20:58.391827", "content": "Are you looking for the output feature in serverless yml httpsserverless comframeworkdocsprovidersawsguideserverless yml You need run sls info v to show the outputs "},
{"id": 43713, "question_id": 4371, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-29T12:12:11Z", "scrap_date": "2024-05-01T00:20:58.392833", "content": "I ended up using the plugin serverlessstackoutput so I could do some custom logging at the end of a deploy and also reformat the outputs and save them to file "},
{"id": 42072, "question_id": 4207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-14T19:59:49Z", "scrap_date": "2024-05-01T00:20:59.327706", "content": "Partially answering my own question I modified my CloudFormation stack to use FnGetAtt [1] rather than Ref because the first has the option to export the Arn whereas Ref only exports the key id This doesnt fully solve the problem since it seems attempting an FnImportValue doesnt currently work since its expecting a string and will output the appropriate error [1] httpsdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferencegetatt html"},
{"id": 42073, "question_id": 4207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-16T16:47:41Z", "scrap_date": "2024-05-01T00:20:59.328706", "content": "Any luck figuring this out Im struggling trying to set the awsKmsKeyArn value as well I dont want to hardcode the region or the key id in the value since im trying to deploy my application to multiple regions Id like to be able to reference the alias of the KMS key if possible "},
{"id": 42074, "question_id": 4207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-01T05:57:59Z", "scrap_date": "2024-05-01T00:20:59.329706", "content": "Unfortunately I havent made progress though Id still appreciate someone properly answering this I personally avoided this issue by opting for using AWS Secrets Manager to store my RDS instance information what I was originally encrypting You can use AWS Systems Managers Parameter Store to store any global configs Though region info you may be able to get away with passing in the regions as parameters to the template"},
{"id": 44002, "question_id": 4400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-02T23:21:06Z", "scrap_date": "2024-05-01T00:21:00.430495", "content": "Managed to fix the issue will be creating a plugin for it "},
{"id": 44042, "question_id": 4404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-02T22:01:18Z", "scrap_date": "2024-05-01T00:21:01.483974", "content": "Hey jonsmirl yep this was discovered after publishing the new version Theres a proposed fix here We would definitely appreciate you testing to see if it solves your problem Well fasttrack a fix and 1 27 1 release as soon as were comfortable Until then its best to pin to a 1 26 version Sorry about that "},
{"id": 44043, "question_id": 4404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-02T22:38:58Z", "scrap_date": "2024-05-01T00:21:01.484973", "content": "Be warned this totally trashed my deployment on AWS Luckily this was a dev deployment and I can easily rebuild it When the bug changed the table names cloudformation removed all of tables with the old correct names "},
{"id": 44044, "question_id": 4404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-03T00:32:49Z", "scrap_date": "2024-05-01T00:21:01.485974", "content": "Yikes thats not ideal Sorry to hear that and glad it was on a dev environment While Im here do you use DeletionPolicy on your CloudFormation resources For things like DynamoDB tables this can be really helpful to make sure you dont accidentally clobber them"},
{"id": 43912, "question_id": 4391, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-01T07:25:27Z", "scrap_date": "2024-05-01T00:21:02.327351", "content": "Change the command to sls invoke local f name log"},
{"id": 43913, "question_id": 4391, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-03T03:59:15Z", "scrap_date": "2024-05-01T00:21:02.329351", "content": "That works thank you "},
{"id": 43642, "question_id": 4364, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-01T00:31:24Z", "scrap_date": "2024-05-01T00:21:03.398344", "content": "Here is my create js code import uuid from uuid import AWS from awssdk"},
{"id": 43643, "question_id": 4364, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-03T07:17:57Z", "scrap_date": "2024-05-01T00:21:03.399344", "content": "FYI I needed to install babelpluginsourcemapsupport to fix this Show me your package json babelrc and webpack config to debug further if that doesnt help"},
{"id": 33172, "question_id": 3317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-15T01:13:21Z", "scrap_date": "2024-05-01T00:21:04.296705", "content": "Nope not yet If you want new functionality the GitHub repo issues is the best place to request it theres already one for this functionality "},
{"id": 33173, "question_id": 3317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T01:06:09Z", "scrap_date": "2024-05-01T00:21:04.297706", "content": "This made it to release 1 27 0 httpsgithub comserverlessserverlessreleasestagv1 27 0 See httpsgithub comserverlessserverlesspull4694 for details on use "},
{"id": 44222, "question_id": 4422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T13:53:30Z", "scrap_date": "2024-05-01T00:21:05.220330", "content": "Also an extended version of what I demoed is available in the form of 4episode tutorial on FreeCodeCamp Building a community signup app with Serverless StepFunctions and StackStorm Exchange"},
{"id": 43862, "question_id": 4386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T17:07:00Z", "scrap_date": "2024-05-01T00:21:06.027867", "content": "I got this to work by changing the location to Central US Not sure why it fixed the problem"},
{"id": 44212, "question_id": 4421, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T06:08:09Z", "scrap_date": "2024-05-01T00:21:06.958174", "content": "httpsgithub comserverlessserverlessissues3135 and httpsgithub comserverlessserverlessissues2853"},
{"id": 42572, "question_id": 4257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-15T14:07:53Z", "scrap_date": "2024-05-01T00:21:08.111986", "content": "can you show us the codes you deployed and whats the error you got"},
{"id": 42573, "question_id": 4257, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T06:14:49Z", "scrap_date": "2024-05-01T00:21:08.112986", "content": "The secrets manager uses a public endpoint and requires internet access When you add your lambda to a private subnet within a VPC not routing through an IGW you will be unable to connect to the internet and also the secrets manager The easy [though expensive] fix is to add a managed NAT Gateway instance which will provide internet access to lambdas in your private subnet and protect your lambas from incoming requests from outside the network The cheaper solution is to setup your own NAT Gateway using the preconfigured AWS NAT AMI and this can be installed on any size EC2 instance you want Other solutions may involve not using private subnets and using network ACLs and security groups to protect access to from your resources while maintaining internet access Im mostly guessing that this is the issue you were facing due to the limited information "},
{"id": 43752, "question_id": 4375, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-05-03T11:05:36Z", "scrap_date": "2024-05-01T00:21:09.151577", "content": "Run the lambda trigger in the same region as the DynamoDB table When constructing the AWS SES service in the lambda pass in the region to connect to like this const ses new AWS SES region uswest2 ses sendEmail Ive got a lambda in useast2 sending emails out through SES in useast1 this way"},
{"id": 43753, "question_id": 4375, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T07:04:06Z", "scrap_date": "2024-05-01T00:21:09.152578", "content": "Thanks bwinant this was something I was missing I was updating the region AWS config region xxx but not instantiating SES like this I also was missing the iamRoleStatements effect"},
{"id": 43963, "question_id": 4396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-02T19:44:33Z", "scrap_date": "2024-05-01T00:21:09.987814", "content": "Thanks although this project appears to be using Google and IBM transcription services not AWS transcribe "},
{"id": 43964, "question_id": 4396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T03:34:08Z", "scrap_date": "2024-05-01T00:21:09.988811", "content": "Should be Eats to put the transciption to S3 Bucket or alternatively to dynamodb and trigger event from that Cloudwatch event from metrics made of lamda is another pattern"},
{"id": 43965, "question_id": 4396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T13:54:56Z", "scrap_date": "2024-05-01T00:21:09.989812", "content": "unfortunately it doesnt appear that AWS Transcribe lets you specify where the results go as far as I can tell you have to poll the service to see when a job completes and then it provides a URL where you can grab the results It seems like a big hole to not be able to subscribe to a competion event but I dont see any way to do that odd "},
{"id": 39452, "question_id": 3945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-08T06:52:11Z", "scrap_date": "2024-05-01T00:21:11.116868", "content": "jamestharpe Here is how httpbenfoster ioblogawsapigatewayiprestrictions"},
{"id": 39453, "question_id": 3945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-12T17:10:03Z", "scrap_date": "2024-05-01T00:21:11.117868", "content": "That describes a manual process Im looking to automate "},
{"id": 39454, "question_id": 3945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T05:49:08Z", "scrap_date": "2024-05-01T00:21:11.117868", "content": "jamestharpe maybe you can write a serverless plugin to automate it "},
{"id": 39455, "question_id": 3945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-15T17:14:22Z", "scrap_date": "2024-05-01T00:21:11.118869", "content": " and how do I do that"},
{"id": 39456, "question_id": 3945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T14:00:50Z", "scrap_date": "2024-05-01T00:21:11.118869", "content": "Checkout the docs to get started with plugins If you need specific help after that let us know "},
{"id": 40112, "question_id": 4011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T05:47:43Z", "scrap_date": "2024-05-01T00:21:11.997941", "content": "lauragift21 can you please share our serverless yml file here"},
{"id": 40113, "question_id": 4011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T10:05:13Z", "scrap_date": "2024-05-01T00:21:11.998942", "content": ""},
{"id": 40114, "question_id": 4011, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-14T14:54:54Z", "scrap_date": "2024-05-01T00:21:11.998942", "content": "Did you create the deployment bucket before trying to deploy You need to create it manually prior to deploying but then can use the same bucket for all your deployments "},
{"id": 40115, "question_id": 4011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T17:56:06Z", "scrap_date": "2024-05-01T00:21:12.000009", "content": "No I dont think I did any idea how I can do this"},
{"id": 40116, "question_id": 4011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-15T06:51:02Z", "scrap_date": "2024-05-01T00:21:12.000942", "content": "via the aws console would be the simplest"},
{"id": 40117, "question_id": 4011, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T14:04:09Z", "scrap_date": "2024-05-01T00:21:12.000942", "content": "If you look at the error message it is clear that serverless CLI cannot find the profile development Make sure that a profile section with name development exists in the awscredentials file on your machine Let me know "},
{"id": 39222, "question_id": 3922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-14T15:56:44Z", "scrap_date": "2024-05-01T00:21:13.854072", "content": "Im having this issue following the serverlesshttp example too Did anyone find a solution"},
{"id": 39223, "question_id": 3922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-14T23:53:18Z", "scrap_date": "2024-05-01T00:21:13.855073", "content": "any should be ok Can you paste your config here"},
{"id": 42642, "question_id": 4264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-16T20:14:23Z", "scrap_date": "2024-05-01T00:21:14.764955", "content": "If the question is about AWS Pseudo Parameters Heres an example on how to reference aws account id "},
{"id": 42752, "question_id": 4275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-17T14:45:07Z", "scrap_date": "2024-05-01T00:21:15.725029", "content": "Of course a good nights sleep solved my problem my client code was still using GET in the ajax call event body will be empty in that instance so how about some error handling for an error on a GET module exports newcontact event context callback console log event console log iam here if event httpMethod GET const response statusCode 404 headers AccessControlAllowOrigin AccessControlAllowCredentials true ContentType applicationjson body JSON stringify message GET generated an error input event else console log POST console log event body var formAttributes querystring parse event body "},
{"id": 28652, "question_id": 2865, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-12T13:35:03Z", "scrap_date": "2024-05-01T00:21:16.563068", "content": "You need to look at data email and data password to see if theyre defined then dynamically generate the UpdateExpression and ExpressionAttributeValues so they only contain the values being updated "},
{"id": 28653, "question_id": 2865, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T20:26:47Z", "scrap_date": "2024-05-01T00:21:16.564068", "content": "Thanks buggy Looks this is the only solution I plan to get from id first and compare with event body if email is in body key list then I use it from event body otherwise replace with exist email from get httpdocs aws amazon comAWSJavaScriptSDKlatestAWSDynamoDBDocumentClient htmlgetproperty"},
{"id": 28654, "question_id": 2865, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-17T20:38:53Z", "scrap_date": "2024-05-01T00:21:16.565068", "content": "ExpressionAttributeValues Hi I am using nodejs is there any way to dynamically generate the ExpressionAttributeValues and the UpdateExpression for a nested json object like id 12345 sub firstname John lastname Doe type tyepid 7 typename ch otherole other role email k d com "},
{"id": 42842, "question_id": 4284, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-18T05:09:43Z", "scrap_date": "2024-05-01T00:21:17.507152", "content": "RMMoreton Serverless framework is an open source project so why not raise a PR to update the document directly httpsgithub comserverlesssiteblobmastercontentlearnquickstart md"},
{"id": 23872, "question_id": 2387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-31T14:26:06Z", "scrap_date": "2024-05-01T00:21:18.499595", "content": "Couple of things"},
{"id": 23873, "question_id": 2387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-31T21:22:37Z", "scrap_date": "2024-05-01T00:21:18.500595", "content": "Hi Rupak I solved this issue by downgrade to v1 17 0 its due to the auto exclude devDependencies of v1 18 0 now a new release v1 18 1 solved this issue thanks for your help "},
{"id": 23874, "question_id": 2387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-01T04:20:53Z", "scrap_date": "2024-05-01T00:21:18.501596", "content": "Glad you got it working "},
{"id": 23875, "question_id": 2387, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-18T22:41:38Z", "scrap_date": "2024-05-01T00:21:18.501596", "content": "The 502 Bad Gateway error usually happens when there are some network errors between computer and internet severs This means that a server not necessarily a web server acting as a gateway or proxy and received an invalid response from an upstream or origin server In most cases the problem is not with you computer or your internet connection its far more likely that its the websites server instead Often simply refreshing or reloading the page CtrlF5 will work but sometimes the problem can persist for days "},
{"id": 42712, "question_id": 4271, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-18T23:11:14Z", "scrap_date": "2024-05-01T00:21:19.606270", "content": "Hello everyone I found the solution to this problem I found an old and outdated tutorial explaining how to do this and combined with the AWS C template Handler cs serverless yml"},
{"id": 42992, "question_id": 4299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-19T14:40:03Z", "scrap_date": "2024-05-01T00:21:20.058509", "content": "Does the plugin know about the pip conf file Find out if there is a way to pass in the pip server url or include the pip conf somehow I saw that you posted the issue on their repo Thanks Rupak Ganguly"},
{"id": 42222, "question_id": 4222, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-19T23:15:59Z", "scrap_date": "2024-05-01T00:21:20.893814", "content": "your aws profile doesnt have a permission to cloudformationdescribeStacks you need to add this policy to your aws profile or ask the admin of your aws account to do it it is possible that you are missing other permissions as well serverless framework recommends to use a profile with full admin rights which sometimes might not be possible"},
{"id": 42522, "question_id": 4252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-14T01:06:17Z", "scrap_date": "2024-05-01T00:21:21.672703", "content": "You can go through this document first httpsserverless comframeworkdocsprovidersawsguideserverless yml"},
{"id": 42523, "question_id": 4252, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-14T15:40:07Z", "scrap_date": "2024-05-01T00:21:21.673703", "content": "Bill Thanks but thats simply a menu of whats available it has no syntax or structure information Ive done some looking at whats generated by the CloudFormation designer and it appears theres no structure just throw the pieces in as long as the inside of each piece is properly structured and even there it doesnt appear to have any order requirements only that the necessary attributes are included True Not True"},
{"id": 42524, "question_id": 4252, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-14T20:37:40Z", "scrap_date": "2024-05-01T00:21:21.674704", "content": "Mostly true Some resources need be ordering by DependsOn mostly neednt Cloudformation serverless framework in fact generates cloudformation tempaltes will take care of the ordering how to create these resources if it cant handler properly you need add DependsOn"},
{"id": 42525, "question_id": 4252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-16T21:16:50Z", "scrap_date": "2024-05-01T00:21:21.674704", "content": "Super Thanks for the help"},
{"id": 42526, "question_id": 4252, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-20T11:55:02Z", "scrap_date": "2024-05-01T00:21:21.675705", "content": "Its a YAML file So creates a dicthashobject with foo and bar as the keys Dicts are unordered so it doesnt matter whether foo or bar comes first Ordering only matters when theres a list"},
{"id": 43102, "question_id": 4310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-21T22:07:29Z", "scrap_date": "2024-05-01T00:21:22.167643", "content": "So to kind of answer my own question I now understand that my serverlessgraphql uses AWS Cognito Pools for authentication and produces the Cognito Pool identity object in which the sub field is the id while the serverless configuration uses AWS IAM for authentication which produces a cognitoIdentityId string as the id WHICH DOES NOT MATCH the Cognito id Looks like Amazon did not foresee switching from IAM to Cognito Pools concurrently with existing data tables having utilized the IAM id So I think thats that I see serverlessgraphql presently supports apikey and Cognito Pools for AppSync Does it support IAM"},
{"id": 43192, "question_id": 4319, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-23T08:01:19Z", "scrap_date": "2024-05-01T00:21:23.192367", "content": "Hi [Disclaimer I am new to Serverless] One thought occurs to me does your toolset require a build step before deployment of changed code For example with go I need to execute a make command to build my changed images before redeploying "},
{"id": 43252, "question_id": 4325, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-23T11:30:10Z", "scrap_date": "2024-05-01T00:21:24.173234", "content": "can you redo all steps within virtualenv "},
{"id": 43292, "question_id": 4329, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T00:24:06Z", "scrap_date": "2024-05-01T00:21:25.248878", "content": "Got it working Sorry for this I have no credentials to access Dashboard so I created my own account then test it from their D "},
{"id": 25092, "question_id": 2509, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-16T21:45:35Z", "scrap_date": "2024-05-01T00:21:26.013784", "content": "Serverless doesnt use SAM so I wouldnt expect it any time soon "},
{"id": 25093, "question_id": 2509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-19T09:59:53Z", "scrap_date": "2024-05-01T00:21:26.014785", "content": "I also think it would be good to have awssamlocal integration For example it would allow to test binarystatic libraries without having to upload them first and then speed up the development process buggy can you please explain more why you think this is a nontopic Maybe a serverless plugin would be a good tradeoff "},
{"id": 25094, "question_id": 2509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T05:51:42Z", "scrap_date": "2024-05-01T00:21:26.015785", "content": "Serverless support for AWS is based on CloudFormation To support SAM the first step is writing a new provider Im not saying that it wont happen simply that it wont happen any time soon "},
{"id": 25095, "question_id": 2509, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T15:19:39Z", "scrap_date": "2024-05-01T00:21:26.015785", "content": "i am using httpsgithub comSAPessiserverlesssam to test packages in a lambdalike environment My workflow is "},
{"id": 43442, "question_id": 4344, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-04-24T16:18:38Z", "scrap_date": "2024-05-01T00:21:27.051233", "content": "Have a look at sls package That should create your cf template in the serverless directory "},
{"id": 41362, "question_id": 4136, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-04T22:14:30Z", "scrap_date": "2024-05-01T00:21:28.412096", "content": "Much of what your are doing is implemented in the awsamplify library httpsaws github ioawsamplify"},
{"id": 21682, "question_id": 2168, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-29T14:33:31Z", "scrap_date": "2024-05-01T00:21:29.499147", "content": "Im seeing this with the latest version 1 16 1 going back to 1 16 0 eliminates the issue npm install g serverless 16 0"},
{"id": 21683, "question_id": 2168, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-29T15:42:13Z", "scrap_date": "2024-05-01T00:21:29.500148", "content": "Hello folks This issue has been resolved and is available in the master branch httpsgithub comserverlessserverless It will be in the next release If you cant wait you can install the framework from github You can install Node js packages not only from the npm registry but also from git providers like GitHub The next release should be out next Wednesday I believe"},
{"id": 21684, "question_id": 2168, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-29T16:10:01Z", "scrap_date": "2024-05-01T00:21:29.501148", "content": "Thanks for the info I will probably go back to the old version 1 16 0 "},
{"id": 21685, "question_id": 2168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-05T12:38:22Z", "scrap_date": "2024-05-01T00:21:29.501148", "content": "This method works like a charm Thanks mate "},
{"id": 41742, "question_id": 4174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T10:56:54Z", "scrap_date": "2024-05-01T00:21:30.466975", "content": "Amplify is a very new product While its improving at a rapid pace its not very mature In particular its very centered around mobile hub and use cases that it supports Mobile hub itself is an attempt to simplify the development process which makes a lot of assumptions for you and doesnt always set things up the way you want Im currently using Amplify but I wouldnt recommend it unless you can live entirely inside the its current use cases or youre willing to get your hands dirty you need to be willing to look at the Amplify code and occasionally write PRs I dont make much use of Mobile Hub Generally I try to provision services using the resource section in serverless so its a repeatable deployment process "},
{"id": 41743, "question_id": 4174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T13:36:34Z", "scrap_date": "2024-05-01T00:21:30.468976", "content": "Thanks for the reply buggy Yes Ive decided against using the mobile hub as Ive already built a substantial part of this project using both serverless and cloudformation for provisioning cloudformation for separate EC2 stacks I am intending to use Amplify however by configuring it manually opposed to leveraging its integration with Mobile Hub My reasoning behind this choice was that Amazon appear to be linking to Amplify in all of their docsexamples as the preferred method for interacting with AWS services No doubt Ill have to roll up my sleeves along the way like youve mentioned but thats to be expected I suppose "},
{"id": 41772, "question_id": 4177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-05T22:35:25Z", "scrap_date": "2024-05-01T00:21:31.148374", "content": "danilolutz Can you please show me how you call the function Maybe try a sls invoke f function_name d longUrl httpwww google com and post the results I tried it and it works for me Thanks Rupak Ganguly"},
{"id": 41773, "question_id": 4177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-05T23:31:31Z", "scrap_date": "2024-05-01T00:21:31.149374", "content": "Hi rupakg thank you for you answer but i figure it out you need more information A have an endpoint like below And my package structure as a follow So i read json do some database inputs selects etc and i call the function from one to another package And i call the shortener function like this Also the log that you ask for But in this case i guess im passing json wrong Thank you again for your time Regards Danilo"},
{"id": 41774, "question_id": 4177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T00:17:48Z", "scrap_date": "2024-05-01T00:21:31.150374", "content": "So rupakg i have increased timeout to 60 seconds a have a decent log for you But is very strange the Google API take so long to response back maybe a configuration error So follow my serverless yml"},
{"id": 41775, "question_id": 4177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T00:39:04Z", "scrap_date": "2024-05-01T00:21:31.151375", "content": "Finally i figure it out i just remove VPC group from serverless yml and its working thank so much rupakg"},
{"id": 41776, "question_id": 4177, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-06T16:14:16Z", "scrap_date": "2024-05-01T00:21:31.152375", "content": "danilolutz Glad to hear that it worked out "},
{"id": 41602, "question_id": 4160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T22:10:13Z", "scrap_date": "2024-05-01T00:21:32.170537", "content": "Your yaml looks to be using CloudFormation key values I think serverless framework uses a slightly different format See if this is helpful in any way httpsserverless comframeworkdocsprovidersawsguideevents"},
{"id": 41462, "question_id": 4146, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T22:17:19Z", "scrap_date": "2024-05-01T00:21:33.069400", "content": "Not sure but you can always convert from json to yml if you find that easier to read like I do httpswww json2yaml com"},
{"id": 41112, "question_id": 4111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T01:46:34Z", "scrap_date": "2024-05-01T00:21:34.093162", "content": "Thank you for using this plugin ajmal744 Yes already supported that It works with the update mode if you specify name statement under stepFunctions section in serverless yml"},
{"id": 41113, "question_id": 4111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T09:42:36Z", "scrap_date": "2024-05-01T00:21:34.094163", "content": "Thanks a lot for response Sorry for being naive what do you mean by update mode Do you have an example of it please "},
{"id": 41114, "question_id": 4111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-07T11:58:41Z", "scrap_date": "2024-05-01T00:21:34.095157", "content": "ajmal744 Here is a sample it is deployed with updating state machine if you specify name section On the other hand if you dont specify the name it is deployed with creating state machine every deployment"},
{"id": 42032, "question_id": 4203, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-09T04:26:09Z", "scrap_date": "2024-05-01T00:21:35.052559", "content": "To use await you need to call sns publish promise I would then use a trycatch block to log any error "},
{"id": 42033, "question_id": 4203, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T05:36:49Z", "scrap_date": "2024-05-01T00:21:35.052559", "content": "Oh man Forehead slap Thanks buggy that was a silly unforced error on my part Cheers "},
{"id": 41132, "question_id": 4113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T20:26:15Z", "scrap_date": "2024-05-01T00:21:36.141473", "content": "Create CloudFront distribution and set your front end i e served from S3 as one origin and API Gateway entry point to your lambdas as another origin and set correspondent behaviours root goes to front end origin api for example goes to your APIG I did it manually but you can do it with CloudFormation and embed it into serverless yml Hope it helps"},
{"id": 41722, "question_id": 4172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T21:59:19Z", "scrap_date": "2024-05-01T00:21:37.245889", "content": "Can you provide a little more information about what you have tried as far as troubleshooting Do you have both profiles in your credential file"},
{"id": 41723, "question_id": 4172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T05:47:43Z", "scrap_date": "2024-05-01T00:21:37.246889", "content": "I used aws configure to add my credentials for the aws accounts as I am using Windows I never mentioned profile while configuring credentials In one of the accounts say X serverless I had a profile field in my serverless yml having a value iot I was for sometime using the other account say Y whose serverless yml had no profile option so I guess it used default as profile for account Y Now when I changed credentials back to account X I was getting an error no iot profile exists so I went to credential file it had stored the credentials for this account X in default profile like this [default] so I changed it to [iot] my profile being iot Now when I use serverless deploy it gives error that logs for these lambda are already there "},
{"id": 41724, "question_id": 4172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-09T23:12:13Z", "scrap_date": "2024-05-01T00:21:37.248890", "content": "Have you checked both accounts on the AWS Console to see if the Lambdas are there"},
{"id": 41725, "question_id": 4172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-10T04:54:51Z", "scrap_date": "2024-05-01T00:21:37.248890", "content": "Yes both the accounts lambdas are there and working fine Its just I am unable to deploy or change anything in account X "},
{"id": 41562, "question_id": 4156, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-10T07:43:21Z", "scrap_date": "2024-05-01T00:21:38.136571", "content": "Is it possible to combine functions written in different languages in one project"},
{"id": 41812, "question_id": 4181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T19:26:04Z", "scrap_date": "2024-05-01T00:21:39.241862", "content": "Looks like you have all the right elements but since youre code isnt displayed with indentation cant tell if you have a yml formatting problem add ``` before and after your config code so it preserves formatting example"},
{"id": 41813, "question_id": 4181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-10T18:42:31Z", "scrap_date": "2024-05-01T00:21:39.242862", "content": ""},
{"id": 41162, "question_id": 4116, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-10T23:20:17Z", "scrap_date": "2024-05-01T00:21:40.301652", "content": "Custom Authorizers recently renamed to Lambda Authorizers need to return an IAM policy and not a simple message More can be found here httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayuselambdaauthorizer html"},
{"id": 42122, "question_id": 4212, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-11T07:05:58Z", "scrap_date": "2024-05-01T00:21:40.952913", "content": "After searching a while Ive found that updating the name of the function reacreates the logs So I added a character to the name and deploy Then I set again the correct lambda function names and deploy again "},
{"id": 42192, "question_id": 4219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T01:52:10Z", "scrap_date": "2024-05-01T00:21:41.869201", "content": "Well I guess I should start with individually packaging each function Thatll make more sense with large binaries The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 41692, "question_id": 4169, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-09T11:55:42Z", "scrap_date": "2024-05-01T00:21:42.910922", "content": "Hi John Id suggest you take a refresher on asynchronous programming callbacks and promises in Node The callback function in docClient scan is called once data is available but the call to docClient scan can return before then This means that tmp in console log tmp is virtually but not 100 guaranteed to return an empty list Using callbacks the only approach I know is to put your code that uses tmp inside the callback itself You could also look at using Promises that can be chained or asyncawait If it was me Id go with updating the runtime to node 8 10 then using asyncawait as its a lot less confusing "},
{"id": 41693, "question_id": 4169, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T23:22:23Z", "scrap_date": "2024-05-01T00:21:42.912922", "content": "Hello buggy finally it is working with promises Thanks mate "},
{"id": 26432, "question_id": 2643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T06:58:39Z", "scrap_date": "2024-05-01T00:21:44.677083", "content": "Hmm sounds like youve uncovered an edgecase in the variable rendering it just doesnt make sense that removing one line would fix the problem I think a GH issue is your best bet "},
{"id": 26433, "question_id": 2643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T14:16:48Z", "scrap_date": "2024-05-01T00:21:44.678084", "content": "Thanks Im opening an issue there "},
{"id": 26434, "question_id": 2643, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-15T09:50:04Z", "scrap_date": "2024-05-01T00:21:44.679083", "content": "For people that would like to follow status Hey fellas I have a base code with some legacy apis and Im trying to unify all in one container repository with git subrepo and creating one unique serverless yml file in this container git Im trying to do the following in my serverless file ``` functions file api1functions yml file api2functions yml ``` Inside this functions yml is simply the function declaration like so ``` users DependsOn RedisInstance handler api1handler index timeout 30 vpc securityGroupIds Ref RedisSecurityGroup subnetIds Ref PrivateSubnet events http any proxy environment stage optstage ``` And I am getting the error below when I try to do that Serverless Error Trying to populate non string value into a string for variable file api2functions yml Please make sure the value of the property is a string But when I remove one of the file its working as expected uploading the functions of this file ``` functions file api1functions yml ``` Thanks "},
{"id": 39642, "question_id": 3964, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-15T11:58:51Z", "scrap_date": "2024-05-01T00:21:45.405503", "content": "Im facing the same problem and could not find a best practice for this What I did so far as a workaround I wrote a small script that builds the libraries packs them and installs those packsages as dependencies to the services Manual example with your structure Now you can use your libary inside of your service1 by using require import statements My small script just does this for my whole project i e building and packaging my libraries sometimes install one lib to another and afterwards install all the libs into the service which are dependent on them Of course I have to do this everytime I change some code in my libs but the scripts takes only a couple of seconds Best way I could find so far Also Im using npm pack instead of npm install because the former one will exclude all unnecessary stuff like devDeps src code etc This was important for our project since were using TypeScript and the tsc is huge like 30MB Note that npm5 only creates a symlink and serverless does not seem to be able to remove devDeps from symlinks Otherwise our services would have been to big for Lambda There exists a related issue on github httpsgithub comserverlessserverlessissues4124"},
{"id": 40412, "question_id": 4041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T13:56:17Z", "scrap_date": "2024-05-01T00:21:46.492528", "content": "Ive started hacking this together And the lambda routine"},
{"id": 40413, "question_id": 4041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T14:01:50Z", "scrap_date": "2024-05-01T00:21:46.493528", "content": "One thing to watch out for if you make a syntax error in the lambda function it will exit and not send a reply to cloudformation That will result in cloudformation hanging for an hour before it decides to give up and exit It will look like cloudformation is stuck but sooner or later it will decide to exit So dont do what I did and initially put this into a stack that takes a couple of hours to rollback and rebuild Debug it standalone first What is the purpose in doing all of this The private key was generated on AWS instead of a local machine Since it was never on a local machine there is no way to accidentally expose it and a lot of people have been burnt very badly by accidentally exposing private keys The only way to see the private key is to log into my root AWS account which is MFA protected but you should never need to do that Another plus SSM keeps a history of all of these keys So you have to work at it in order to lose your old key values Should help in preventing accident deletion "},
{"id": 12612, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-04T14:11:45Z", "scrap_date": "2024-05-01T00:21:47.518213", "content": "Are you using Sequelize"},
{"id": 12613, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-02-04T14:14:20Z", "scrap_date": "2024-05-01T00:21:47.519214", "content": "On the first line after your functions module definition add the following line context callbackWaitsForEmptyEventLoop false"},
{"id": 12614, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T09:46:53Z", "scrap_date": "2024-05-01T00:21:47.519214", "content": "Did that help at all"},
{"id": 12615, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T18:45:15Z", "scrap_date": "2024-05-01T00:21:47.520214", "content": "Yes i am using Sequelize"},
{"id": 12616, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T13:38:34Z", "scrap_date": "2024-05-01T00:21:47.520214", "content": "Did my suggestion help you"},
{"id": 12617, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T13:50:42Z", "scrap_date": "2024-05-01T00:21:47.521215", "content": "Yes thanks It works like a charm "},
{"id": 12618, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T21:26:47Z", "scrap_date": "2024-05-01T00:21:47.521215", "content": "Im using the pg module directly and this helped me to shave off exactly 10 seconds of every request The postgres module is by default pooling up connections and doesnt let them go until 10 seconds of idle time Therefor the requests didnt finish until the pool timed out the connection and closed it Whats very interesting is that Amazon themselves encourage this very behaviour Take advantage of container reuse to improve the performance of your function Make sure any externalized configuration or dependencies that your code retrieves are stored and referenced locally after initial execution Limit the reinitialization of variablesobjects on every invocation Instead use static initializationconstructor globalstatic variables and singletons Keep alive and reuse connections HTTP database etc that were established during a previous invocation ref Best practices for working with AWS Lambda functions AWS Lambda"},
{"id": 12619, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T06:54:47Z", "scrap_date": "2024-05-01T00:21:47.523215", "content": "context callbackWaitsForEmptyEventLoop false Oh my god its taken me 2 days to figure out why my RDS responses time out "},
{"id": 126110, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T07:14:33Z", "scrap_date": "2024-05-01T00:21:47.523215", "content": "Just be aware that using that setting means that if you have a callback outside of an asynchronous operation such as a Promise or anonymous function that the code executing within those asynchronous blocks may not complete before the lambda execution ends "},
{"id": 126111, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T07:28:11Z", "scrap_date": "2024-05-01T00:21:47.524216", "content": "Hmm it is inside a promise using pgpromise Is there a better way"},
{"id": 126112, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T08:43:00Z", "scrap_date": "2024-05-01T00:21:47.525216", "content": "If your function callback is within a promise thats fine Just be aware if you initiate a Promise it gets added to the event loop and if outside that promise after you initiated it you run your function callback that promise may or may not finish executing "},
{"id": 126113, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T12:37:27Z", "scrap_date": "2024-05-01T00:21:47.525216", "content": "Also in addition to If your Lambdas and RDS are on different VPCs or different AZs thatll be a problem too Make sure theyre geographically close "},
{"id": 126114, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-18T14:18:19Z", "scrap_date": "2024-05-01T00:21:47.526217", "content": "Turn on AWS XRay and you can get a detailed timing breakdown of your lambda function In my case the the source of the slow down was not at all where I expected it to be Also note that XRay can cover much more than just lambda You can set it up to instrument your entire AWS deployment "},
{"id": 126115, "question_id": 1261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-18T15:56:34Z", "scrap_date": "2024-05-01T00:21:47.527217", "content": "Thanks thats really helpful wish Id known about that earlier "},
{"id": 37002, "question_id": 3700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T09:39:40Z", "scrap_date": "2024-05-01T00:21:48.357438", "content": "Problem resolved there was errors in babel "},
{"id": 37003, "question_id": 3700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-16T17:19:42Z", "scrap_date": "2024-05-01T00:21:48.358439", "content": "Hi there Im seeing a similar problem do you mind explaining what errors you saw in babel and how you resolved them"},
{"id": 37004, "question_id": 3700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-19T11:56:27Z", "scrap_date": "2024-05-01T00:21:48.358439", "content": "My babelrc file was missing so when i did a serverless deploy it did not transform my syntax "},
{"id": 3072, "question_id": 307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-15T22:29:22Z", "scrap_date": "2024-05-01T00:21:49.305266", "content": "AWS API GW which provides the HTTP S interface to Lambda supports POST requests You need to know the insandouts of API GW to configure it properly but theres examples in the Serverless docs "},
{"id": 3073, "question_id": 307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:27:53Z", "scrap_date": "2024-05-01T00:21:49.306266", "content": "rowanu APIG doesnt support file uploads though The way you would do it is upload directly into S3 by requesting a short lived URL to upload into then have Lambda functions react to it "},
{"id": 3074, "question_id": 307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-18T23:56:51Z", "scrap_date": "2024-05-01T00:21:49.307267", "content": "Ah my bad I assumed POST support was enough but havent done it myself A bit of research turns up this guide to proxy S3 via API GW which looks relevant "},
{"id": 3075, "question_id": 307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T09:17:07Z", "scrap_date": "2024-05-01T00:21:49.307267", "content": "OK yeah thats as I thought flomotlik rowanu APIG doesnt support file uploads though The way you would do it is upload directly into S3 by requesting a short lived URL to upload into then have Lambda functions react to it This wouldnt work as the POST is not under my control reminder crashReporter Electron Id need something to catch this POST and upload to S3 then have Lambda react to that Its the same problem kind of But since the first part of my question has been pretty much validated does Serverless Framework support what I want to do at all I e if I use a different provider like webtask io "},
{"id": 3076, "question_id": 307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T09:20:05Z", "scrap_date": "2024-05-01T00:21:49.308267", "content": "Oh wait Serverless only supports AWS Serverless Framework Documentation "},
{"id": 3077, "question_id": 307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-22T23:50:57Z", "scrap_date": "2024-05-01T00:21:49.309268", "content": "For my case I turn binary file into base64 code from client side and send it in JSON file along with other field that you want like file name On the client side lambda turn the base64 code into binary format and put into the bucket by using putObject function This is how I turn base64 into binary let data JSON parse event body let binary new Buffer data[base64field] base64 s3 putObject Body binary Cheers John"},
{"id": 40533, "question_id": 4053, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T03:51:11Z", "scrap_date": "2024-05-01T00:21:49.968368", "content": "authorizer selfcustom cognitoAuthorizer Not sure this is the right reference if you need reference cognitoPoolArn it should be If you need reference cognitoAuthorizers arn it should be"},
{"id": 40792, "question_id": 4079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-24T07:45:45Z", "scrap_date": "2024-05-01T00:21:51.027453", "content": "Not get your questions Can you give details"},
{"id": 40793, "question_id": 4079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-24T16:49:32Z", "scrap_date": "2024-05-01T00:21:51.028453", "content": "Ive used a template to create a python lambda skeleton which works and prints out the search args name email of contact all good That lambda needs to be fleshed out with code to save the contact info in a DynamoDB table send a confirmation email to contact Im asking if theres templates to help with that process to minimize the code I need to write andor to help in writing that code"},
{"id": 40794, "question_id": 4079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T03:53:36Z", "scrap_date": "2024-05-01T00:21:51.029454", "content": "Are you looking for idea to call a lambda function from another lambda Can an AWS Lambda function call another And my understanding is you need three lambda functions there is no part to minimize the code because each function is used for different purposes You can start with serverless example there are several good samples you can reference DynamoDB httpsgithub comserverlessexamplestreemasterawsnoderestapiwithdynamodb SES httpsgithub comlakshmantgldawssesserverlessexample"},
{"id": 40795, "question_id": 4079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T17:14:55Z", "scrap_date": "2024-05-01T00:21:51.030453", "content": "No not calling lambda from lambda you can do that thru events what I want to minimize is CODE I HAVE TO WRITE for example all lambda doing anything to DynamoDB are 80 to 90 percent common because most is administrivia"},
{"id": 40797, "question_id": 4079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T20:52:05Z", "scrap_date": "2024-05-01T00:21:51.031453", "content": "Working with serverless you have to deal with the coding a lot of codes There is no short way to bypass Franky say If you are worry about writing codes maybe you need send the job to others who can help And did you read the sample codes I pasted above It gives you the way to start But how far you can go depend on your own efforts DynamoDB httpsgithub comserverlessexamplestreemasterawsnoderestapiwithdynamodb SES httpsgithub comlakshmantgldawssesserverlessexample The first sample for DynamoDB has included most useful codes to createupdatedeletequeryscan a dynamoDB "},
{"id": 40798, "question_id": 4079, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T22:32:14Z", "scrap_date": "2024-05-01T00:21:51.032454", "content": "I would suggest starting with awsamply httpsaws github ioawsamplify See our starter kits for React Ionic Vue and React Native "},
{"id": 41012, "question_id": 4101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T18:03:29Z", "scrap_date": "2024-05-01T00:21:51.801694", "content": "nice and details Thanks a lot Recommend to publish it as a formal blog with sample codes for example httpsmedium com"},
{"id": 41013, "question_id": 4101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T18:24:18Z", "scrap_date": "2024-05-01T00:21:51.802694", "content": "Here is an example of how to run init in parallel "},
{"id": 41014, "question_id": 4101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T22:51:59Z", "scrap_date": "2024-05-01T00:21:51.803695", "content": "Thanks for the codes I read an blog before about the memory performance benchmark about lambda paste here for reference How to make Lambda faster memory performance benchmark"},
{"id": 41015, "question_id": 4101, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-27T23:03:01Z", "scrap_date": "2024-05-01T00:21:51.803695", "content": "Note that the Fibonacci test in that article is totally compute bound When you are compute bound it pays to increase your memory and get a faster processor up to a point The last chart in the linked article says the cut over is at 2GB My functions are IO bound and are simply waiting for responses from other AWS services They only need about 30ms of actual compute time When you are IO bound you should reduce your memory as much as is practically possible After all why pay for lambda time when all you are doing is waiting for remote IO to complete Until I added in all of the xray code I was not aware of how IO bound my functions were Now I know their run time is totally dominated by IO wait time So all observations are consistent upto 2GB lambda if you are compute bound 128MB lambda if you are IO bound biggest lambda offered if you are memory bound "},
{"id": 41016, "question_id": 4101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T23:41:19Z", "scrap_date": "2024-05-01T00:21:51.805696", "content": "Totally make sense Thanks "},
{"id": 40842, "question_id": 4084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-25T21:14:58Z", "scrap_date": "2024-05-01T00:21:52.812763", "content": " before you delete make sure you have backup your data Can you destroy and recreare it will it fix your problem"},
{"id": 40843, "question_id": 4084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T00:05:06Z", "scrap_date": "2024-05-01T00:21:52.813763", "content": "removed and redeployed them all same thing no trace of any connected authorizers this framework sometimes wtf"},
{"id": 40844, "question_id": 4084, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-28T00:35:19Z", "scrap_date": "2024-05-01T00:21:52.814763", "content": "finally I just realized i spelled authorizor instead of authorizer jfc"},
{"id": 40902, "question_id": 4090, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-27T01:51:09Z", "scrap_date": "2024-05-01T00:21:53.905221", "content": "When I got 500 error I always try to look lambda log Cheers John"},
{"id": 40903, "question_id": 4090, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-27T09:07:24Z", "scrap_date": "2024-05-01T00:21:53.905221", "content": "Im going to put my solution since I didnt find it somewhere else Someone talked about this but not directly from this error The error was due to timeout but it didnt specify why It looks like the first time you deploy you need to call that function to unfreeze it The first time you call that function it takes between 6000ms and 10000ms depends on the function but Amazon sets the default timeout at 6 seconds so sometimes youre never able to unfreeze the function Said that you need to set a timeout at least to 30 secs and the error will be gone "},
{"id": 40904, "question_id": 4090, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-28T18:56:49Z", "scrap_date": "2024-05-01T00:21:53.907217", "content": "Yes that is right Thanks for the sharing rafaelruizmunoz"},
{"id": 28432, "question_id": 2843, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-28T20:22:38Z", "scrap_date": "2024-05-01T00:21:54.866970", "content": "Even the Azure NodeJS sample doesnt seem to work at all When I try to install using npm install g serverlessazurefunctions it throws up a bunch of warnings and doesnt install anything despite it saying that it installed the package Very frustrating "},
{"id": 40912, "question_id": 4091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-26T22:04:10Z", "scrap_date": "2024-05-01T00:21:55.699786", "content": "Looking at the cloudformation generated Looking at the cloudformation generated What needs to be set in RequestParameters I think is integration request header XAmzInvocationType Event Where and how do you set this in the serverless yml file What needs to be set in RequestParameters I think is integration request header XAmzInvocationType Event Where and how do you set this in the serverless yml file"},
{"id": 40913, "question_id": 4091, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-27T23:24:06Z", "scrap_date": "2024-05-01T00:21:55.701787", "content": "I solved it by overriding the the CF Resource httpsserverless comframeworkdocsprovidersawsguideresourcesoverrideawscloudformationresource Functions looks like this Resource to override looks like this"},
{"id": 40914, "question_id": 4091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-27T23:43:34Z", "scrap_date": "2024-05-01T00:21:55.701787", "content": "Can I ask to reformat all codes with proper indentation"},
{"id": 40915, "question_id": 4091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-28T20:30:47Z", "scrap_date": "2024-05-01T00:21:55.702787", "content": "There has been a feature ticket submitted httpsgithub comserverlessserverlessissues4862"},
{"id": 40692, "question_id": 4069, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-30T04:10:48Z", "scrap_date": "2024-05-01T00:21:56.258823", "content": "Realised this can be achieved via usage plan But global to all the APIs configured in the serverless yml "},
{"id": 41292, "question_id": 4129, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-02T14:12:07Z", "scrap_date": "2024-05-01T00:21:57.355263", "content": "I managed to figure this out Basically I was incorrectly including the API key The API key had already been created before so removing the apiKeys section fixed the issue "},
{"id": 41312, "question_id": 4131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-03T08:45:11Z", "scrap_date": "2024-05-01T00:21:58.503933", "content": "Ok I have found what I need events http method any path api proxy "},
{"id": 39282, "question_id": 3928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-03T18:18:42Z", "scrap_date": "2024-05-01T00:22:00.612120", "content": "This could be a bug in Serverless Its not creating an AWSSNSTopicPolicy according to this document httpsaws amazon compremiumsupportknowledgecenterunablevalidatedestinations3"},
{"id": 39352, "question_id": 3935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T18:50:07Z", "scrap_date": "2024-05-01T00:22:01.638178", "content": "OK I solved it When you do a serverless deploy functions alerts it does nothing When you run the full Monty of serverless deploy it works cause it also uploads the Cloudformation template to s3 Why shouldnt function work"},
{"id": 39242, "question_id": 3924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T15:56:29Z", "scrap_date": "2024-05-01T00:22:02.415257", "content": "Your local credentials are used by Serverless during deployment to create the AWS resources but the permissions granted to you Lambda functions are those defined in provider iamRoleStatements in your serverless yml See the Serverless Reference for details"},
{"id": 39243, "question_id": 3924, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T19:59:44Z", "scrap_date": "2024-05-01T00:22:02.416257", "content": "Figured it out Thank you so much "},
{"id": 39062, "question_id": 3906, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-01T17:50:06Z", "scrap_date": "2024-05-01T00:22:03.284686", "content": "Personally when I tried to figure out what I wanted to do with cloudwatch alarms I came across the serverlesspluginawsalerts plugin [ [NPM version][npmimage]][npmurl] [ [Build Status][travisimage]][travisurl] [ [Dependency Status][daviddmimage]][daviddmurl] [ [codecov][codecovimage]][codecovurl] Latest version 1 7 4 last published 7 months ago Start using It works really well and I havent had any issues with it In your serverless yml file you simply add the following Then in each function you want to add alerts just add an alarms field You do need to create a SNS topic to publish the alerts to and then you can subscribe with your email to get the alerts sent to you Another option More recently I learned about Dashbird I just started using it but it also takes care of error notifications Enhanced serverless monitoring automated alerting and actionable WellArchitected insights for AWS managed services Try it free for 14 days The really killer feature in my opinion is that you can click on the error and it will pull the specific cloudwatch log associated with that invocation Which was previously a super big issue with hunting down errors You have to pay to use it but if you are using it in a business setting I think it is easily worth it "},
{"id": 39063, "question_id": 3906, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-05T23:51:38Z", "scrap_date": "2024-05-01T00:22:03.287773", "content": "Thanks for responding I figured it out and fixed It was a syntax issue and I have given the correct one below"},
{"id": 38152, "question_id": 3815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T09:24:39Z", "scrap_date": "2024-05-01T00:22:04.289377", "content": "For JavaScript Ive been using the AWS DynamoDB DocumentClient library DynamoDB has a number of interesting quirks like not being able to store an empty string For null it stores NULL true so it sounds like its working the way I would expect "},
{"id": 38153, "question_id": 3815, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-21T11:40:05Z", "scrap_date": "2024-05-01T00:22:04.290378", "content": "I started by using DocumentClient too but then I had to do a PATCH endpoint with dynamic attributes and the fancy way with the UpdateExpression was too restrictive to my taste Not only I dont like the format but it didnt look friendly with dynamic attributes This PATCH endpoint would fail when either rating or description wasnt provided I started using httpawspilot github iodynamodboop and I got this code now which not only looks cleaner but allows dynamic attributes too"},
{"id": 38154, "question_id": 3815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-24T10:44:47Z", "scrap_date": "2024-05-01T00:22:04.291378", "content": "I feel your pain My team just decided to write one since we couldnt really fine one that works smoothly and using this on production everyday and I proudly recommend you to give it a try Typescript AWS DynamoDB ORM Contribute to balmbeesdynamotypes development by creating an account on GitHub "},
{"id": 38155, "question_id": 3815, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-02T19:23:10Z", "scrap_date": "2024-05-01T00:22:04.292378", "content": "interesting quirks is a bit of an understatement my work with it lately has been in Python but a colleague here is using httpsgithub comryanfitzvogels in her JS code Looked pretty good "},
{"id": 38156, "question_id": 3815, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-06T17:48:57Z", "scrap_date": "2024-05-01T00:22:04.292378", "content": "Theres also httpsgithub comautomategreendynamoose which were currently planning to refactor the documentation and make it a bit easier to read Its pretty easy to use and very similar to Mongoose ^^"},
{"id": 17332, "question_id": 1733, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-19T21:07:52Z", "scrap_date": "2024-05-01T00:22:04.985406", "content": "my mistake this is what Im needing Resource arnawslambda optregion selfcustom accountId function selfservice optstage hello Thanks guys "},
{"id": 17333, "question_id": 1733, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-06T21:38:32Z", "scrap_date": "2024-05-01T00:22:04.986407", "content": "where is th best place to define step functions a in the serverless yml that the client of the step function is b in the serverless yml of the stack that contains the step functions which may not be possible if they exist across a couple of separate stacks c in a separate stepfunctions serverless project altogether And in here the step functions might use lambdas in many other stacks"},
{"id": 38892, "question_id": 3889, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-27T23:44:10Z", "scrap_date": "2024-05-01T00:22:06.006927", "content": "You can use a lambda backed custom resource to spin up whatever you want and then return values back to reference in other parts of your yaml httpsdocs aws amazon comAWSCloudFormationlatestUserGuidetemplatecustomresources html In the response from your lambda backed custom resource you can return values back in Data and then beforehand reference that with cloudformation getAttr This is a good post on the topic httpsstelligent com20160216awslambdabackedcustomresourcesforstackoutputsresourcesandparameters"},
{"id": 38893, "question_id": 3889, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T23:46:45Z", "scrap_date": "2024-05-01T00:22:06.007928", "content": "Thanks I had found that stuff but I wonder can this be incorporated into a serverless yml service"},
{"id": 38894, "question_id": 3889, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T00:04:50Z", "scrap_date": "2024-05-01T00:22:06.008928", "content": "If raw cloudformation supports the functionality yes Otherwise you will need to"},
{"id": 38895, "question_id": 3889, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-06T23:50:31Z", "scrap_date": "2024-05-01T00:22:06.008928", "content": "eliasisrael Custom Resources are the way to go for things not natively supported in CFN Especially if it IS however supported by the AWS SDK For your specific example of transcoder resources Im actually refactoring these to deploy with SLS CloudFormation Custom Resource for AWS ElasticTranscoder Pipeline GitHub mazerteawscloudformationelastictranscoderpipeline CloudFormation Custom Resource for AWS ElasticTranscoder Pipeline AWS CloudFormation Custom Resource for AWS ElasticTranscoder Preset GitHub mazerteawscloudformationelastictranscoderpreset AWS CloudFormation Custom Resource for AWS ElasticTranscoder Preset They both work great out of the box but the UPDATE ignores OutputBucket changes which was an issue for us I have a fix for that too Ill be open sourcing the fork once Im done which hopefully will be before EOW "},
{"id": 38896, "question_id": 3889, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-07T01:47:14Z", "scrap_date": "2024-05-01T00:22:06.010928", "content": "Thanks We found those too and based our work on those examples "},
{"id": 38897, "question_id": 3889, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-03-07T22:09:24Z", "scrap_date": "2024-05-01T00:22:06.010928", "content": "Here are those that Ive refactored to SLS and fixed some update pipeline bugs that were in them CloudFormation Custom Resource for AWS ElasticTranscoder Pipeline GitHub iDVBcfnelastictranscoderpipeline CloudFormation Custom Resource for AWS ElasticTranscoder Pipeline AWS CloudFormation Custom Resource for AWS ElasticTranscoder Preset GitHub iDVBcfnelastictranscoderpreset AWS CloudFormation Custom Resource for AWS ElasticTranscoder Preset Cheers D"},
{"id": 39482, "question_id": 3948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-07T23:25:45Z", "scrap_date": "2024-05-01T00:22:06.676896", "content": "Th URL will stay the same unless you sls remove then sls deploy Thats when API Gateway will generate the API ID which is the part that changes But You would be better served to use a Custom Domain so it never changes You can learn more about Custom Domains here Or in the AWS API Gateway Docs if you want the manualnonserverless way of setting it up "},
{"id": 10452, "question_id": 1045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-05T09:27:47Z", "scrap_date": "2024-05-01T00:22:07.808606", "content": "Hey you able to resolve this issue Im also stuck on the same "},
{"id": 10453, "question_id": 1045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-05T21:31:52Z", "scrap_date": "2024-05-01T00:22:07.809606", "content": "Just opened an issue for this in the serverless project httpsgithub comserverlessserverlessissues3565 Please upvote "},
{"id": 10454, "question_id": 1045, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-08T02:16:13Z", "scrap_date": "2024-05-01T00:22:07.810606", "content": "It seems to be undocumented but you can change the variable syntax by setting variableSyntax in your serverless yml See httpsgithub comserverlessserverlessissues1679"},
{"id": 10455, "question_id": 1045, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-08T11:43:24Z", "scrap_date": "2024-05-01T00:22:07.810606", "content": "I am aware of variableSyntax option however thats less than acceptable and acts as a hacky workaround Using a custom syntax makes the code out of line compared to any other serverless codeguidelinesexamples "},
{"id": 10456, "question_id": 1045, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-08T02:27:22Z", "scrap_date": "2024-05-01T00:22:07.811608", "content": "you can also just merge the string using the Join function to pseudoescape it"},
{"id": 39572, "question_id": 3957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-08T06:38:10Z", "scrap_date": "2024-05-01T00:22:08.675718", "content": "victor Unfortunately there is no way to map those Lambda functions back to the framework The Framework maintains its own state What you can do is create a new project via the framework and copy the code for the functions into the framework project "},
{"id": 39573, "question_id": 3957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-08T11:23:28Z", "scrap_date": "2024-05-01T00:22:08.676719", "content": "Thanks rupakg ill try that "},
{"id": 36602, "question_id": 3660, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-09T11:33:27Z", "scrap_date": "2024-05-01T00:22:09.808744", "content": "Hi Ranjani I think I experienced the same issue tldr depending on your set up it might be sufficient to populate the response property in your http event like so setup serverless version 1 26 0 with serverlesspluginbinddeploymentid context I wanted to enable caching in ApiGateway and override the default behavior for some of the methods To do so I had to deploy a custom AWSApiGatewayStage hence the need of serverlesspluginbinddeploymentid what happened It looks like when I added the custom stage to my resources all of my endpoints started failing with error 500 and ApiGateway complaining as follows Execution failed due to configuration error No match for output mapping and no default output mapping configured I checked the CloudFormation templates that were generated before and after I added my custom stage and the difference is that in every AWSApiGatewayMethod configurations for Properties Integration IntegrationResponse and Properties MethodResponses were empty lists as opposed to the expected list of configurations In detail the following is what was missing IntegrationResponses MethodResponses My Custom Resources Hope this helps please keep us updated about your issue"},
{"id": 35832, "question_id": 3583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-10T19:10:14Z", "scrap_date": "2024-05-01T00:22:10.752386", "content": "Did you every find anything about this issue I am just running into this issue now and cant find any documentation online about it Thanks "},
{"id": 35833, "question_id": 3583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-10T02:03:08Z", "scrap_date": "2024-05-01T00:22:10.753386", "content": "Hey I also got that error It was solved by reinstall nvm and npm After install both of them I have these versions [root xxxxxxxxxx buildscripts] npm version 5 7 1 [root xxxxxxxxxx buildscripts] nvm version 0 33 8 I hope this workaround also works in your site"},
{"id": 35834, "question_id": 3583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-10T02:15:14Z", "scrap_date": "2024-05-01T00:22:10.754387", "content": "For your info After pass the first error Array buffer allocation failed now I am getting this one Serverless Error An error occurred TagComplianceSubscribeLambdaFunction Unzipped size must be smaller than 262144000 bytes Stack Trace And the root cause is because of Unzipped size 250 Mb We can confirm it by checking the AWS lambda limits httpsdocs aws amazon comlambdalatestdglimits html Indeed it looks like the Array buffer allocation failed is related to the Unzipped files size "},
{"id": 39912, "question_id": 3991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-12T19:37:05Z", "scrap_date": "2024-05-01T00:22:11.622290", "content": "djacobos can you tell me what region is set for the serverlessadmin profile that you are using"},
{"id": 39914, "question_id": 3991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-12T20:37:03Z", "scrap_date": "2024-05-01T00:22:11.623290", "content": "There is no issue here Sorry My CLI was pointing to the wrong directory "},
{"id": 24892, "question_id": 2489, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-08-14T18:16:36Z", "scrap_date": "2024-05-01T00:22:12.425968", "content": "use provider stackTags example Stage is included by default The above adds stack and region This includes Resources as long as they are created after adding the stack tags to the provider I dont see any place to set tags on APIGW resources even through the AWS console so cant help you there But this handles everything else "},
{"id": 24893, "question_id": 2489, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-13T00:48:53Z", "scrap_date": "2024-05-01T00:22:12.427978", "content": "as long as they are created after adding the stack tags to the provider Do you mean that you have to run deploy twice before this works Or do you just mean that you of course need to already have these tags in the yml before deploying Also are STACK and REGION reserved words or can we place any tag name globally on all resources this way"},
{"id": 39992, "question_id": 3999, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-13T03:39:19Z", "scrap_date": "2024-05-01T00:22:13.352427", "content": "This is the complete error log Serverless Installing required Python packages with python3 6 Serverless Docker Image lambcilambdabuildpython3 6 Error Traceback most recent call last File varlanglibpython3 6runpy py line 183 in _run_module_as_main mod_name mod_spec code _get_module_details mod_name _Error File varlanglibpython3 6runpy py line 142 in _get_module_details return _get_module_details pkg_main_name error File varlanglibpython3 6runpy py line 109 in _get_module_details import pkg_name File varlanglibpython3 6sitepackagespip init py line 21 in from pip _vendor requests packages urllib3 exceptions import DependencyWarning ValueError source code string cannot contain null bytes Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Forums forum serverless com Chat gitter imserverlessserverless Your Environment Information OS darwin Node Version 8 6 0 Serverless Version 1 26 1"},
{"id": 32162, "question_id": 3216, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T05:58:32Z", "scrap_date": "2024-05-01T00:22:14.200045", "content": "You could check my repo"},
{"id": 18152, "question_id": 1815, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-05T21:16:08Z", "scrap_date": "2024-05-01T00:22:16.002913", "content": "Hi mantzas There is currently an feature request open in github discussing this feature Its on our roadmap to implement in the near future httpsgithub comserverlessserverlessissues2982 In the mean time there is a plugin available if you need to use this functionality right away httpsgithub comgmetzkerserverlesspluginlambdadeadletter Hope this helps "},
{"id": 18153, "question_id": 1815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-06T05:05:59Z", "scrap_date": "2024-05-01T00:22:16.003913", "content": "thanks the plugin will do just fine for now"},
{"id": 18154, "question_id": 1815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T00:19:17Z", "scrap_date": "2024-05-01T00:22:16.003913", "content": "What is the status of this Has this fetaure being implemented I am looking to use DLQ with SQS"},
{"id": 18155, "question_id": 1815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T09:15:22Z", "scrap_date": "2024-05-01T00:22:16.004913", "content": "The instructions are in the docs httpsserverless comframeworkdocsprovidersawsguidefunctionsdeadletterqueuedlq"},
{"id": 18156, "question_id": 1815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T19:29:05Z", "scrap_date": "2024-05-01T00:22:16.004913", "content": "Yes they state Were working on a fix so that SQS queue arns will be supported in the future Which Is why I am asking if the fix has been implemented yet"},
{"id": 38212, "question_id": 3821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-21T13:55:48Z", "scrap_date": "2024-05-01T00:22:17.010258", "content": "A single severless yml file can deploy multiple lambdas each in their own file in a subdirectory "},
{"id": 38213, "question_id": 3821, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T07:31:54Z", "scrap_date": "2024-05-01T00:22:17.010258", "content": "This is what I saw was happening with package individually set to true for each function a zip was created that had ALL the js files and all dependencies If I set exclude to everything and then for each function just included the specific files I needed in the package then the zip files just included what was necessary great BUT there is no way to deploy them individually Yes there is sls deploy function but that just swaps out the zip file as soon as you want to change some configuration for a function environment variable event schedule etc then you need to run a regular deploy which deploys EVERYTHING and takes quite a bit of time Thats why I thought I need separate serverless yml files for each function The functions arent related they dont need to share a cloudformation stack they arent interacting with different apis the only thing they share is all the provider info "},
{"id": 14002, "question_id": 1400, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T16:05:26Z", "scrap_date": "2024-05-01T00:22:17.600296", "content": "Maybe this bug report could be relevant httpsgithub comserverlessserverlessissues4663"},
{"id": 38102, "question_id": 3810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T05:56:34Z", "scrap_date": "2024-05-01T00:22:18.659161", "content": "Are you using Node The framework should be excluding development dependencies automatically If its not then what version of Serverless are you using"},
{"id": 38103, "question_id": 3810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T16:59:55Z", "scrap_date": "2024-05-01T00:22:18.660161", "content": "Solved Using npm prune I could resolve it "},
{"id": 38372, "question_id": 3837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T22:57:35Z", "scrap_date": "2024-05-01T00:22:19.475422", "content": "Please review its DeletionPolicy is Retain or Delete "},
{"id": 38262, "question_id": 3826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T13:14:21Z", "scrap_date": "2024-05-01T00:22:20.458220", "content": "Hey thanks for the question We definitely need to work on docs Events are not emitted to any specific space They are emitted on specific path Which means that you can have two different subscriptions it two different spaces subscribed to user created event on path It means that every user created event emitted on will invoke both functions Let me know if you have more questions MW"},
{"id": 38263, "question_id": 3826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-23T03:05:57Z", "scrap_date": "2024-05-01T00:22:20.459221", "content": "But having all events be visible across all spaces seems to violate at least the spirit of the concept of Spaces in the serverless README Quotes Space is a coarsegrained sandbox All access crossspace is disabled different teamsdepartments use different spaces for isolation I dont see how spaces can be considered sandboxes totally isolated from each other if all events are visible to all spaces Seems like an enormous hole "},
{"id": 38264, "question_id": 3826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-23T13:26:43Z", "scrap_date": "2024-05-01T00:22:20.460221", "content": "Hey spaces implementation is definitelly not done We only implemented the first pass of it We intentionally didnt bound subscription path with space as it provides some limitations It doesnt mean though that we wont do that in next release EG is still in early phase things can change quickly "},
{"id": 38312, "question_id": 3831, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-25T00:05:54Z", "scrap_date": "2024-05-01T00:22:21.016597", "content": "I created a bug report here httpsgithub comserverlessserverlessissues4765"},
{"id": 19212, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-25T03:59:31Z", "scrap_date": "2024-05-01T00:22:22.048856", "content": "The VPC configuration does not create a VPC for you You must already have the VPCSubnets in place "},
{"id": 19213, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-25T04:00:02Z", "scrap_date": "2024-05-01T00:22:22.048856", "content": "yep i have those in place"},
{"id": 19214, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-25T04:01:05Z", "scrap_date": "2024-05-01T00:22:22.049856", "content": "im migrating from serverless 5 where we had all of these lambdas running in vpc and configured from sfunction"},
{"id": 19215, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-25T04:09:47Z", "scrap_date": "2024-05-01T00:22:22.050856", "content": "well for anyone with this same problem dont put the security group and subnetids in quotes so securityGroupIds no quotes argh"},
{"id": 19216, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-19T13:18:29Z", "scrap_date": "2024-05-01T00:22:22.050856", "content": "I tried all solutions exposed here and in other topics but I still fail configuring a lambda to connect to an existing VPC the lambda is always in NO VPC I use sls 1 26 0 This is my serverless yml file I replace sensitive data by xxx Could someone show me a working full example Or point me to what I did wrong"},
{"id": 19217, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-20T16:28:55Z", "scrap_date": "2024-05-01T00:22:22.051857", "content": "ant1 you have securityGroupsIds make it securityGroupIds"},
{"id": 19218, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-20T16:49:41Z", "scrap_date": "2024-05-01T00:22:22.052857", "content": "srgavai Thank you so much youre perfect right "},
{"id": 19219, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-24T17:03:06Z", "scrap_date": "2024-05-01T00:22:22.052857", "content": "slowly learning my way through SERVERLESS One question I have for the group in a deployment can serverless CREATE vpc subnets and security groups I can see here where it can be inserted into and conjunction with those structures but on a green field deployment can it actually create those AWS resources If not then what tool are people using to create those objects which server does not create and how are those objects then passed to awaiting serverless so it can run round 2 "},
{"id": 192110, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-25T09:51:50Z", "scrap_date": "2024-05-01T00:22:22.053857", "content": "jorgedlt Serverless uses CloudFormation to setup resources Anything you can setup with CloudFormation you can add to the resources section of your serverless yml and serverless will set it up during deployment "},
{"id": 192111, "question_id": 1921, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-25T15:45:26Z", "scrap_date": "2024-05-01T00:22:22.054858", "content": "Thanks Buggy My other DEV friends have come back with the same answer so Ill follow that advise As follow on question Since some of the foundation based objects are to be deployd with CF and SLS would come as a second layer Is there a way to have SLS know about or be aware of the previous CF layer or deployment Therefore being able to reference those objects by name AWSID etc I know there is a similar mechanism in CF proper where one cf deployment can reference previous CF deployments similar to this httpsdocs aws amazon comAWSCloudFormationlatestUserGuidewalkthroughcrossstackref html"},
{"id": 38642, "question_id": 3864, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-25T22:45:16Z", "scrap_date": "2024-05-01T00:22:23.129675", "content": "So after some digging I found my issue was related to the serverlesswsgi module that Im using with flask It has a static list of mime types where anything but these will become base64 encoded and it seems that applicationjavascript isnt one of them for some reason I needed to add this type here github com logandkserverlesswsgiblobmasterwsgi pyL16 the request when the handler is called by AWS Lambda Inspired by httpsgithub commiserlouzappa Author Logan Raarup logan dk import base64 import os import sys TEXT_MIME_TYPES [ applicationjson applicationxml applicationvnd apijson ] import importlib noqa E402 from werkzeug datastructures import Headers noqa E402 from werkzeug wrappers import Response noqa E402 from werkzeug urls import url_encode noqa E402 from werkzeug _compat import not sure how Im the first to run into this but I submitted an issue "},
{"id": 18712, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2017-05-15T16:01:14Z", "scrap_date": "2024-05-01T00:22:24.259873", "content": "Configure the deploymentBucket property in provider example You can see it in the Serverless Docs here "},
{"id": 18713, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-17T07:46:11Z", "scrap_date": "2024-05-01T00:22:24.260873", "content": "Does deploymentBucket property refers to an existing bucket My experiment shown it does I want it to be created as part of deployment to follow good naming convention as Deamoner yet simplify deployment Tried to create a bucket in resources section and use it here but doesnt seem to work What is the recommended way And shouldnt deploymentBucket directive create a bucket if one doesnt exist"},
{"id": 18714, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-19T18:38:12Z", "scrap_date": "2024-05-01T00:22:24.261873", "content": "The deploymentBucket just defines a bucket parent folder that serverless will then store its deployments inside of In my above example it creates a bucket named my useast1 serverless deploys Then creates its normal folder structure inside that bucket example my useast1 serverless deploysserverlessmyservicedev149575400503820170525T231325 038Z zip json files So its deploymentBucketserverlessservicenamestageuid datetimefiles Hope that helps "},
{"id": 18715, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-20T19:45:52Z", "scrap_date": "2024-05-01T00:22:24.262873", "content": "What happens if I set the deploymentBucket on a service that is already deployed Im currently using the default behavior but would like to consolidate deployments under a single parent bucket "},
{"id": 18716, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-20T23:50:08Z", "scrap_date": "2024-05-01T00:22:24.263874", "content": "I just whipped up a very simple serverless project to test this out and found that You must manually delete the contents of the original deployment bucket or youll get a failed deploy because CF is trying to delete the bucket and its not empty Other than that it appears to work fine "},
{"id": 18717, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-21T00:37:23Z", "scrap_date": "2024-05-01T00:22:24.264874", "content": "Thanks bfieber for confirming this It seems that Serverless Framework keeps a state about my service Whenever I deploy it does a delta of changes between last deployed and new state It is unclear to me where this state is saved and how it can be shared with my team mates The reason Im mentioning my confusion is that it relates to state of deployment bucket before and after the change Source control will have the definition after the change but not the previous state In my setup I expect each developer on the team will have their own Serverless Platform credentials tied to their github account and their own AWS Credentials that maps to same AWS account but mapped to different IAM users all with appropriate access to manage the service If SF manages prepost state then why does it fail to delete the old bucket Anyway per your description I can change the deploymentBucket delete old bucket and then sls deploy and everything should work with same lambda function API gateway etc Thanks "},
{"id": 18718, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-21T04:10:37Z", "scrap_date": "2024-05-01T00:22:24.265874", "content": "I was able to make the transition to use a deployment bucket and I figured out how things work under the hood Serverless Framework defines a new cloud formation and submits it and AWS does the transition from previous Stack to new one So anyone who connects to same account and attempts to update service would update the same CloudFormation and hence service "},
{"id": 18719, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-26T15:52:21Z", "scrap_date": "2024-05-01T00:22:24.266875", "content": "bfieber thanks for sharing Actually I have another related question with that regard As you mentioned serverless creates deployment package files under deploymentBucketserverless I was thinking if we can leverage as a version for CICD purpose So when CF stack with actual Lambda s code is tested and confirmed instead of making new deployment we can promote exactly the same package to another env e g TEST PROD So my question is if this value is available in runtimw during deployment so we can hook up to deployment pipeline and persist it as a service version And assuming we have it is there any way plugin to just get it deployed from remote S3 folder I know there is an option to create actual deployment package is sls locally and get it deployed as a next step But just curious if we can do the same with S3 Id appreciate your thoughts on that Thank you "},
{"id": 187110, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-26T16:38:10Z", "scrap_date": "2024-05-01T00:22:24.268875", "content": "The problem I see with that strategy is that all the variable magic that happens in the sls packagedeploy is stageenv specific So any entries in your serverless yml file such as would still point to the stageenv that you originally built for eg TEST So you would still need to sls packagedeploy to update those configuration properties to point to PROD Thats a very simple example but get much more complicated ifwhen you start laying in references to other Resources or exportedimported CF variables Personally I commit the code configuration variables to a code repository but require a sls packagedeploy for any time I push code to any stageenvironment "},
{"id": 187111, "question_id": 1871, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-26T17:02:38Z", "scrap_date": "2024-05-01T00:22:24.269876", "content": "bfieber valid point regarding env specific configuration pieces Actually our intent is to introduce some sort of versioning per sls service so we can always say whats deployed on some particular environment And having this timesamp based folder structure is pretty close conceptually to artifact based deployments which might not be applicable for serverless deployment model Anyway I really appreciate your feedback Thanks "},
{"id": 36182, "question_id": 3618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T21:37:57Z", "scrap_date": "2024-05-01T00:22:24.817201", "content": "Serverless already use AWS validateTemplate API to validate CF see httpsgithub comserverlessserverlessissues4511 Failing that itd be an issue that AWS APIs should be fixing "},
{"id": 36183, "question_id": 3618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T21:59:45Z", "scrap_date": "2024-05-01T00:22:24.818201", "content": "Which would work if the typo I mentioned was in the resources block presumably But when serverless builds the compiled cf template it simply skips anything it doesnt understand which is why no error is emitted "},
{"id": 38932, "question_id": 3893, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T01:51:31Z", "scrap_date": "2024-05-01T00:22:25.888050", "content": "I think its related to versionFunctions option on the provider Off the top of my head Im not sure if you can change "},
{"id": 38933, "question_id": 3893, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T01:59:02Z", "scrap_date": "2024-05-01T00:22:25.889045", "content": "Something is pruning me down to five copies Maybe it is cloudformation The doc says all of the versions are kept These versions are not cleaned up by serverless so make sure you use a plugin or other tool to prune sufficiently old versions The framework cant clean up versions because it doesnt have information about whether older versions are invoked or not This feature adds to the number of total stack outputs and resources because a function version is a separate resource from the function it refers to "},
{"id": 38982, "question_id": 3898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T13:55:17Z", "scrap_date": "2024-05-01T00:22:26.988189", "content": "Hmm I think I can answer this myself It looks like API gateway has its own concept of stage and this is hardcoded into the URLs it generates httpsdocs aws amazon comapigatewaylatestdeveloperguidehowtocallapi html If so the only way to get rid of them would be to attach a custom domain httpsdocs aws amazon comapigatewaylatestdeveloperguidehowtocustomdomains html I guess it might be workable to get a cert for app mydomain com and then publish each app under foodev app mydomain com fooprod app mydomain com etc that would avoid the 40 minute delay each time I have a new app or stage to deploy This would be especially fine if API Gateway can get its own certs from Amazon Certificate Manager which apparently it can now Previously people were manually deploying letsencrypt certs "},
{"id": 38752, "question_id": 3875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T21:36:27Z", "scrap_date": "2024-05-01T00:22:27.845876", "content": "I fixed more bugs and got new ones could use some help again I have some kind of URL mismatch due to the staging part of the url dev which isnt used by Next js and it goes looking for files at the wrong path This is a Bug Report Description I am building a Hello World applica tion using Serverless and Next js My development environment works fine but I am having troubles with the deployed code on AWS Lambda This is not an issue with the `serverless` CLI itself You can test against this repository and follow the getting started part it will work local But when deploying to aws and visiting the endpoint it will fail with ` message Internal server error ` and the logs show `Unable to import module lambdasserver Error` which is rather cryptic and unhelpful The development environment seems to work fine I probably missed some webpack config or something httpsgithub comVadorequestserverlesswithnext I do not know how to debug this and I am rather stuck right now The `lambdasserver` probably refers to my lambda in `lambdasserver js` but I do not know what is happening for it not to be found At first I had the following error ``` Unable to import module lambdasserver Error at Function Module _resolveFilename module js46915 at Function Module _load module js41725 at Module require module js49717 at require internalmodule js2019 at Object anonymous vartasklambdasserver js9818 at __webpack_require__ vartasklambdasserver js2030 at Object anonymous vartasklambdasserver js731 at __webpack_require__ vartasklambdasserver js2030 at vartasklambdasserver js6318 at Object anonymous vartasklambdasserver js6610 ``` But then I added `webpackIncludeModules` to my `serverless yml` file and the stacktrace is not shown anymore even though the error persists ```yml custom webpackIncludeModules true ``` Additional Data Serverless Framework Version you are using 1 26 0 Operating System MacOS X 10 13 3 17D47 "},
{"id": 37742, "question_id": 3774, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T15:54:19Z", "scrap_date": "2024-05-01T00:22:28.758475", "content": "Youre very close Just make the value of the Resource property an array like so Hope it helps "},
{"id": 37892, "question_id": 3789, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-01T23:17:30Z", "scrap_date": "2024-05-01T00:22:29.833815", "content": "VadorequestSL Unfortunately there is no good answer We have a number of open issues on the matter httpsgithub comserverlessserverlessissues3084 httpsgithub comserverlessserverlessissues1439 and havent nailed down a more restrictive policy due to the large number of use cases people have "},
{"id": 37893, "question_id": 3789, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T03:45:21Z", "scrap_date": "2024-05-01T00:22:29.834815", "content": "VadorequestSL Theres a Serverless IAM policy generator using Yeoman that does a pretty good job of handling this It will configure the API Gateway Lambda Cloudwatch etc access thats standard for most Serverless services If youre using something nonstandard RDS Elasticsearch etc youll need to add the additional policies yourself Also heres a blog post about IAM basics with Serverless Let me know if those help"},
{"id": 35973, "question_id": 3597, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-09T19:47:46Z", "scrap_date": "2024-05-01T00:22:31.480245", "content": "Hi Karthik It looks like your Lambda function doesnt have Internet access Lambda is trying to access SES API and it timeouts before SES API connection timeout occurred this is why you dont get any error By default Lambdas in VPC dont have Internet access You need to add NAT Gateway or NAT Instance to your VPC Below article can help you configure VPC for Lambda with Internet Access httpsaws amazon compremiumsupportknowledgecenterinternetaccesslambdafunction I hope this will help you "},
{"id": 37342, "question_id": 3734, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T09:26:47Z", "scrap_date": "2024-05-01T00:22:32.351511", "content": "I got same issue set the http event integration type as lambda but the http response templates are not created in aws gateway "},
{"id": 37452, "question_id": 3745, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T10:58:00Z", "scrap_date": "2024-05-01T00:22:33.046389", "content": "Maybe If you can its going to look something like this What youre doing is"},
{"id": 11522, "question_id": 1152, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-20T17:18:00Z", "scrap_date": "2024-05-01T00:22:34.076618", "content": "I found that changing the service name in yml from e g serviceserver to serviceserverV1 solves the issue I have not been able to find where this information is stored "},
{"id": 11523, "question_id": 1152, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-20T21:47:37Z", "scrap_date": "2024-05-01T00:22:34.077619", "content": "Got it It checks the deployment against the stored CloudFormation stack which is named Once I deleted the stack then I can redeploy Makes perfect sense "},
{"id": 11524, "question_id": 1152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T03:54:30Z", "scrap_date": "2024-05-01T00:22:34.078619", "content": "Nice one findingsharing this fix "},
{"id": 11525, "question_id": 1152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T15:16:33Z", "scrap_date": "2024-05-01T00:22:34.078619", "content": "If this is DEV deploy or something you are playing with You can change the region This will make the deployment happen e g serverless deploy region eucentral1"},
{"id": 36122, "question_id": 3612, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T13:15:12Z", "scrap_date": "2024-05-01T00:22:35.053955", "content": "See docs for package excludeinclude properties The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 36123, "question_id": 3612, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T19:05:30Z", "scrap_date": "2024-05-01T00:22:35.053955", "content": "Havent tested it but this should be the yaml snippet for your desired behaviour"},
{"id": 37442, "question_id": 3744, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-11T23:31:55Z", "scrap_date": "2024-05-01T00:22:36.159345", "content": "You can programmatically run the serverless framework with child processes in node Here is an example "},
{"id": 32092, "question_id": 3209, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T21:15:21Z", "scrap_date": "2024-05-01T00:22:37.228312", "content": "Found the solution here httpsgithub comjkehlerawslambdapsycopg2"},
{"id": 32094, "question_id": 3209, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T10:26:49Z", "scrap_date": "2024-05-01T00:22:37.229312", "content": "assuming dockerizePip true is the best option"},
{"id": 34532, "question_id": 3453, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T14:29:11Z", "scrap_date": "2024-05-01T00:22:38.099298", "content": "require googlecloud vision You sure the last arent whats causing your issue"},
{"id": 16162, "question_id": 1616, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T14:40:07Z", "scrap_date": "2024-05-01T00:22:39.187326", "content": "Would like to know that as well"},
{"id": 37392, "question_id": 3739, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-12T16:57:55Z", "scrap_date": "2024-05-01T00:22:40.218998", "content": "Nevermind It seems this was fixed in Serverless 1 26 For anyone seeing in this in the future note it looks to me like youll want to specify an authorizer name so your yaml would look something like this"},
{"id": 37532, "question_id": 3753, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T21:56:26Z", "scrap_date": "2024-05-01T00:22:41.024446", "content": "Depending on when the scheduled tasks run you could have 1 scheduled function that rotates calls to your endpoints Or you can have 1 scheduled function that triggers a step function flow to run all your endpoints functions with the desired endpoints"},
{"id": 36532, "question_id": 3653, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-04T05:38:10Z", "scrap_date": "2024-05-01T00:22:41.895156", "content": "Seems the sample codes can be found in Amazon Cognito Identity SDK for JavaScript Contribute to amazonarchivesamazoncognitoidentityjs development by creating an account on GitHub The Amazon Cognito Auth SDK for JavaScript simplifies adding signup signin with user profile functionality to web apps GitHub amazonarchivesamazoncognitoauthjs The Amazon Cognito Auth Source for the demo app client in the Serverless Stack Guide GitHub AnomalyInnovationsserverlessstackdemoclient Source for the demo app client in the Serverless Stack Guide Learn how to use an Amazon Cognito user pool to authorize calling an API method "},
{"id": 36533, "question_id": 3653, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-13T06:19:06Z", "scrap_date": "2024-05-01T00:22:41.897157", "content": "Did research on this for 2 weeks I got big help from this repo but I still have several questions I collect all of them with Cognito will be appreciated if you give any words for help The codes in srccontainers has loginsignup modules to help end users to login with Cognito user pool accounts After successfully login srcRoutes js gives two options notesnew and notesid which are mapped to two js files srccontainersNewNote js and srccontainersNote js These options are mapped to API Gateway event path endpoint with different methods If I have 50 endpoints note is an endpoint for me Do I have to write 50 2 js files to handles these endpoints Are there any ways to accept endpoints as variables so if the endpoint name is changed I neednt change the codes in Notes js How to support proxy in path such as notes proxy If I need control the permission that different groups to access different endpoint how do you set the permission with Cognito groups to control it For example"},
{"id": 37692, "question_id": 3769, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-14T16:07:59Z", "scrap_date": "2024-05-01T00:22:42.921045", "content": "You can run OpenFaaS or OpenWhisk on on prem servers "},
{"id": 37712, "question_id": 3771, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-15T21:06:05Z", "scrap_date": "2024-05-01T00:22:43.962107", "content": "Out of the box not exactly However you can use serverless variables httpsserverless comframeworkdocsprovidersawsguidevariables to define something once and then reference it in multiple locations within the same file "},
{"id": 9882, "question_id": 988, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-22T20:02:57Z", "scrap_date": "2024-05-01T00:22:44.803160", "content": "From what I have seen from example code is that many choose to use the aws cli in their build options along with sls deploy in order to upload files to s3 with MIME types when they deploy This is what I use in my work flow also I have not come across a way to do this via cloud formation or directly through sls deploy Example uploading file to s3 bucket with css MIME via aws cli aws s3 cp yourpathstyle css s3yourbucket contenttype textcss"},
{"id": 9883, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T23:24:05Z", "scrap_date": "2024-05-01T00:22:44.804161", "content": "When you say build options are you talking about something built into sls or are you referring to npm scripts or tools like Grunt Gulp or Webpack How would you tie this into sls deploy Do you have a sample on GitHub or elsewhere Thanks Mark"},
{"id": 9884, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T23:59:37Z", "scrap_date": "2024-05-01T00:22:44.805161", "content": "I refer to production build software like grunt gulp and webpack Here is one example of an implementation using webpack httpsgithub comserverlessserverlessgraphqlblobmasterpackage json In the package json they use aws s3 sync to upload the frontend to s3 bucket and sls deploy in their webpack build options I doing something similar but with bash scripting and Leiningen for clojurescript builds github "},
{"id": 9885, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T20:24:05Z", "scrap_date": "2024-05-01T00:22:44.806162", "content": "In my serverless handler js file I need to know the name of the S3 bucket and key that was created and synched in my npm script using the aws cli I want this config info for the S3 bucket and key in only one location myconfig js myconfig json package json or other What ways would you recommend so that the config is defined once and can be used in my builddeploy scripts as well as the Lambda function code"},
{"id": 9886, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-24T05:37:45Z", "scrap_date": "2024-05-01T00:22:44.807162", "content": "Unfortunately I do not have enough experience with your requested use case to make a proper recommendation hopefully someone else can chime in "},
{"id": 9887, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-24T06:00:29Z", "scrap_date": "2024-05-01T00:22:44.807162", "content": "You have been awesome with the help so far Thank you "},
{"id": 9888, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-24T16:45:43Z", "scrap_date": "2024-05-01T00:22:44.808162", "content": "Hi there rmtuckerphx Not sure if youre still searching for a solution to this but you might want to check out the README for this example GitHub serverlessexamples Serverless Examples A collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more s "},
{"id": 9889, "question_id": 988, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T22:57:27Z", "scrap_date": "2024-05-01T00:22:44.809162", "content": "I think you are looking for something like serverlessfinch Github httpsgithub comfernandomcserverlessfinch Blog Post httpswww fernandomc compostsdeployyourwebsiteserverlessfinchserverlessframework I cant vouch for it completely yet still implementing it myself "},
{"id": 37812, "question_id": 3781, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-15T19:27:39Z", "scrap_date": "2024-05-01T00:22:45.256419", "content": "You can set the env vars on the provider or function level Then in your code you can access the variables on process env like I used the optwhateverVariable variable syntax to reference CLI flags but you can use any variable The variable types are listed here httpsserverless comframeworkdocsprovidersawsguidevariables"},
{"id": 37813, "question_id": 3781, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T23:02:41Z", "scrap_date": "2024-05-01T00:22:45.258419", "content": "Nice I know I read it somewhere like 4 days ago but couldnt find where The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more By the way as the docs states environment variable should be using uppercase process env NODE_ENV"},
{"id": 34822, "question_id": 3482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-12T03:52:32Z", "scrap_date": "2024-05-01T00:22:47.202902", "content": "It is Your communication to SNS i e the API endpoint is encrypted using TLS SSL and the triggering process i e SNS Lambda happens under the hood and is presumably encrypted too ask your friendly AWS SATAM for more details For an added layer of security you could conceivably encrypt your SNS message payload but youd have to do that in your application as SNS doesnt have builtin encryption of payloads Heres a similar answer on SO "},
{"id": 34823, "question_id": 3482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-24T23:26:35Z", "scrap_date": "2024-05-01T00:22:47.203903", "content": "Just came to know that we can enable ssl in all SNS requests by setting sslEnabled flag to true in case of node sdk this sns new AWS SNS sslEnabled true "},
{"id": 33522, "question_id": 3352, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-18T11:26:50Z", "scrap_date": "2024-05-01T00:22:48.260417", "content": "Hi all I tried deleting the domain and got the following Serverless Invoke delete_domain Error Error devservices mydomain com was not deleted Error Error devservices mydomain com could not be found in API Gateway NotFoundException Invalid domain name identifier specified"},
{"id": 33523, "question_id": 3352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-24T15:54:15Z", "scrap_date": "2024-05-01T00:22:48.261420", "content": "Hi jsvachon did you find out what was the problem I am experiencing the same issue Cheers Igor"},
{"id": 33524, "question_id": 3352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-25T15:33:25Z", "scrap_date": "2024-05-01T00:22:48.262417", "content": "Ok in my case the problem was as usual on my side I probably ran the sls create_domain without the stage parameter and created the domain in my default environment After I found and deleted it I could create a domain in the right environment without any problems "},
{"id": 36072, "question_id": 3607, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-26T08:50:33Z", "scrap_date": "2024-05-01T00:22:49.190020", "content": "Just realized this is the wrong place to post I opened an issue 1 If you have a question and not a bugfeature request please ask it at h ttpforum serverless com 2 Please check if an issue already exists so there are no duplicates 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Bug Report Description In my serverless yml Im setting an environment variable like so `USERPOOL_ARN cf selfprovider environment STACK_NAME UserPoolArn ` Works fine when I deploy to the default stage but when I try to deploy to a different stage I get an error saying stack does not exist I checked in cloudformation and the stack definitely exists However this works `AWS_PROFILEtestProfile sls deploy s test` Additional Data ``` Serverless Error Stack with id physicianmanagertest does not exist Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Forums forum serverless com Chat gitter imserverlessserverless Your Environment Information OS darwin Node Version 8 6 0 Serverless Version 1 16 0 ``` Cant figure out how to delete the post tho"},
{"id": 36352, "question_id": 3635, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-30T01:18:54Z", "scrap_date": "2024-05-01T00:22:49.842709", "content": "ericruiz developer Yep you can use sls print to resolve your config Docs here"},
{"id": 36353, "question_id": 3635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-30T03:07:44Z", "scrap_date": "2024-05-01T00:22:49.843709", "content": "Thanks so much Ill try this first thing tomorrow I shouldve mentioned Im leveraging the GCP side of serverless this isnt listed under GCP but seems like it would work considering I can use SLS_DEBUG Well see "},
{"id": 35382, "question_id": 3538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-30T05:21:24Z", "scrap_date": "2024-05-01T00:22:50.897017", "content": "Seems there is an open issue on serverless "},
{"id": 36372, "question_id": 3637, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-30T14:05:53Z", "scrap_date": "2024-05-01T00:22:52.000762", "content": "well i figured it out I was wrong I did modify my serverless yml file I had commented out all the entries that created an api endpoint I was experimenting with something else and forgot I had done that Apparently if you attempt to add an api key with no endpoints being created the cloud formation template fails with the error I described in my original post I dont know if this is a cloud formation issue or a serverless issue So in summary you cant create an api key if you dont also create endpoints I guess that makes sense since why do you need an api key if you dont have endpoints I guess all I can say is because I wanted to It would be nice if the error that was reported was a little more descriptive since Unresolved resource dependencies [ApiGatewayApiKey1] in the Resources block of the template doesnt really lead one to the conclusion that it is because you are not creating endpoints "},
{"id": 36462, "question_id": 3646, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T15:39:24Z", "scrap_date": "2024-05-01T00:22:53.058958", "content": "Looks like a variable parsing order bug Can you report this in the repo httpsgithub comserverlessserverlessissuesqis3Aissueis3Aopensort3Aupdateddesc for us to track it"},
{"id": 36463, "question_id": 3646, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T17:50:35Z", "scrap_date": "2024-05-01T00:22:53.059958", "content": "No problem I have raised httpsgithub comserverlessserverlessissues4702 I assume for the moment I will need to supply region into the serverless deploy command until this can be fixed Thanks John"},
{"id": 36272, "question_id": 3627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T20:48:31Z", "scrap_date": "2024-05-01T00:22:54.172666", "content": "Can you run sls logout to remove your user token This should fix the problem"},
{"id": 32462, "question_id": 3246, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-11T15:44:27Z", "scrap_date": "2024-05-01T00:22:55.224936", "content": "Very much agree here Especially since functions are supposed to be able to takeover any providerlevel parameters Is there a roadmap with serverless features that are planned"},
{"id": 32463, "question_id": 3246, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T18:33:14Z", "scrap_date": "2024-05-01T00:22:55.225935", "content": "Yeah the framework does need this horike37 what do you think"},
{"id": 32464, "question_id": 3246, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-13T01:56:41Z", "scrap_date": "2024-05-01T00:22:55.226935", "content": "Thank you for pinging DavidWells just commented it on httpsgithub comserverlessserverlessissues4313issuecomment349614369 "},
{"id": 32465, "question_id": 3246, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-02-01T09:23:51Z", "scrap_date": "2024-05-01T00:22:55.227935", "content": "Ive just put together a new plugin implementing support for iamRoleStatements at the function level More details at httpsgithub comfunctionaloneserverlessiamrolesperfunction Feedback and comments are welcome "},
{"id": 36402, "question_id": 3640, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-31T15:43:04Z", "scrap_date": "2024-05-01T00:22:55.702932", "content": "All the resources defined in resources should be initialized on deploy Make sure it is formatted like so httpsgithub comserverlessexamplesblobmasterawsnoderestapiwithdynamodbserverless ymlL62L79 Did you look in cloudformation stack for the resources you have defined Also double check the region you are looking at Default region is useast1"},
{"id": 36403, "question_id": 3640, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T08:16:19Z", "scrap_date": "2024-05-01T00:22:55.703933", "content": "Sorry my mistake and wrong indentation I didnt notice that resources section is under the provider section "},
{"id": 36404, "question_id": 3640, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T19:07:50Z", "scrap_date": "2024-05-01T00:22:55.704933", "content": "I curse the YAML gods on a regular basis Most of my yaml writing happens in Atom editor these days It has some solid indentation showing and linting tools "},
{"id": 36632, "question_id": 3663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T20:20:40Z", "scrap_date": "2024-05-01T00:22:56.822334", "content": "Interesting What are the specific resources that are clashing Whats the error messages The stack data should all be in CF Im unaware of how the local stack files in serverless folder would effect this "},
{"id": 36633, "question_id": 3663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T20:30:28Z", "scrap_date": "2024-05-01T00:22:56.823340", "content": "Ok so 30 seconds ago I realized my particular predicament was ENTIRELY USER ERROR ON MY PART I started deploying to QA with a second checkout and switched aws access keys and accounts on myself but did not switch back again when I moved back to dev Im sorry to have thrown any shadow in the direction of the servlerless project Its truly been a delight to work with Im moving toward production and had a bit of a panic moment when this happened this morning Im an relieved that this would have been surprising Thank you again "},
{"id": 36634, "question_id": 3663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T20:48:30Z", "scrap_date": "2024-05-01T00:22:56.825340", "content": "And I just setup of aws profiles to avoid this in the future For my particular question about retaining resources this plugin looks promising to me httpswww npmjs compackageserverlesspluginadditionalstacks"},
{"id": 36635, "question_id": 3663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T21:13:08Z", "scrap_date": "2024-05-01T00:22:56.825340", "content": "Glad we you did all the work figured it out Super stoked for you and your project going to production Can you share any details on the project or is it top secret"},
{"id": 36636, "question_id": 3663, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-02-01T21:16:25Z", "scrap_date": "2024-05-01T00:22:56.826341", "content": "the business side is confidential but the techish side healthcare space lots of records step functions delegating to humans typescript front and back ends"},
{"id": 36637, "question_id": 3663, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-01T22:24:50Z", "scrap_date": "2024-05-01T00:22:56.827341", "content": "Sounds awesome I love seeing step functions with a human component in the flow Being in the healthcare space what kinds of compliance standards do you need to follow And follow up to that were you able to achieve that easily with the framework also ignore me if you are busy "},
{"id": 36662, "question_id": 3666, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-02T01:43:10Z", "scrap_date": "2024-05-01T00:22:57.630023", "content": "Sounds like you also need IAM permissions set on the lambda pulling from SQS Locally it works with your creds and sdk invoke under the hood but in AWS the lambda needs permissions as well Check out httpsgithub comsbstjnsqsworkerserverlessblobmasterserverless ymlL18 for a good SQS example"},
{"id": 36663, "question_id": 3666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-02T02:20:30Z", "scrap_date": "2024-05-01T00:22:57.632024", "content": "Thanks for the response I just figured out Serverless has not created IAM roles while deploying Not sure why and I am going to dig into the stack I manually edited the policy created by Serverles for lambda and it worked "},
{"id": 36664, "question_id": 3666, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-02T03:27:26Z", "scrap_date": "2024-05-01T00:22:57.632024", "content": "Figured out the issue It was due to improper indentation of iamRoleStatements "},
{"id": 36582, "question_id": 3658, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-01T20:17:58Z", "scrap_date": "2024-05-01T00:22:58.691534", "content": "Hi jbvdm If I am not mistaken then you seem to expect that serverless will take care of building the artifacts This however is not the case for Java You have to build it with gradle and then run serverless deploy Serverless will pick up the artifacts created by gradle you referenced and deploys them So serverless will simply ignore the given includeexclude statements since you or rather gradle built the artifact Given that youll need to take care of building separate artifacts with certain packages only in gradle This might be helpful And just my personal opinion I dont think it is a good practice to just deploy a portion certain packages of a Java project It might be better to have just one artifact and each function references a different handler i e class Or really have one Java project per function "},
{"id": 36583, "question_id": 3658, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-02T04:23:25Z", "scrap_date": "2024-05-01T00:22:58.693535", "content": "Hi bbilger Thank you for your advice It seems intuitive now that you have given me some direction to work towards We have decoupled our code so it is in the form of microservices However I havent thought of still keeping it in different projects inside the Serverless project Would you suggest this as a good way forward The reason for using the Serverless Framework is to keep all our code in on place but still have our functions as microservices If this is not the best application for this framework would there be another better solution I have asked this question on Stackoverflow Would you mind giving me the same answer so I could accept it as correct gain some cred link to question"},
{"id": 27362, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-20T20:23:14Z", "scrap_date": "2024-05-01T00:22:59.779308", "content": "delprofundo Just for clarity it looks like youre trying to use SSM here dev ssm selfcustom local integraPayApiPassword true Does selfcustom local integraPayApiPassword resolve to an actual password or a key name in SSM The way its written now that should resolve to a key name that will then be grabbed from SSM Id suggest trying a simpler config file just to isolate the SSM issue"},
{"id": 27363, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-22T11:08:04Z", "scrap_date": "2024-05-01T00:22:59.780308", "content": "Hey Sorry Alex two different places Here probably smarter Yep as per my post in Gitter I pulled that complex reference out to just use the simple reference to a key name first before trying the more complex approach using v 1 22 0 an example is dev ssmmpauatintegraapipasstrue and the error Profile selfcustom profiles selfprovider stage does not exist and my custom section"},
{"id": 27364, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-22T13:52:40Z", "scrap_date": "2024-05-01T00:22:59.781309", "content": "delprofundo One thing to note is that its actually a tilde not a dash for the true if you want to decrypt a secure string So it should be Im guessing this isnt causing your problem but can you fix that first and give it a shot"},
{"id": 27365, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-22T14:04:58Z", "scrap_date": "2024-05-01T00:22:59.782310", "content": "Ah should have mentioned that yes Ive changed it to and no change its the presence of the prefix thats borking "},
{"id": 27366, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-22T14:23:18Z", "scrap_date": "2024-05-01T00:22:59.783310", "content": "delprofundo Could you create a new separate Serverless service with a simple serverless yml just for testing Use And see if it resolves Also can you paste your provider block"},
{"id": 27367, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-23T04:34:50Z", "scrap_date": "2024-05-01T00:22:59.783310", "content": "Hey Alex Yep that deployed Below is my entire serverless yml for the project that might be the best bet Some extra fooling around I did I hard coded the reference to the profile that was boring oringinally that then leaves me with the following message Inaccessible host `ssm This service may not be available in the ` optregion selfcustom regions selfprovider stage region strange feels like the customs arent being exploded It could be something to do with the webpackserverless plugin as if I remove it from the plugin sections the the build doesnt bork right at the start "},
{"id": 27368, "question_id": 2736, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-02T04:31:08Z", "scrap_date": "2024-05-01T00:22:59.784310", "content": "Hi delprofundo Did you figure this out Im having the exact same issue Cheers Adrian"},
{"id": 36642, "question_id": 3664, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-02T01:39:19Z", "scrap_date": "2024-05-01T00:23:00.769463", "content": "Are you using the step functions plugin to manage your step functions httpsserverless combloghowtomanageyourawsstepfunctionswithserverless From what I have seen it doesnt deletes any in progress flows when updating "},
{"id": 36643, "question_id": 3664, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-02T11:06:04Z", "scrap_date": "2024-05-01T00:23:00.770464", "content": "Yep thats what I am using 3 for Takahiro for making it So you think the old code should finish executing on old lambdas"},
{"id": 36644, "question_id": 3664, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-02T16:54:25Z", "scrap_date": "2024-05-01T00:23:00.771458", "content": "Hmmm it looks like if you change the lambda it will effect other flows At least with this set up httpsgithub comDavidWellsserverlessworkshoptreemasterlessonscodecompleteeventsstepfunctions where a lambda is scheduled to trigger at a given timestamp However there MUST be a way to stop this from happening IDK how tho _ _ There were some improvements made to step functions recently httpsaws amazon comaboutawswhatsnew201711awsstepfunctionsaddssupportforupdatingstatemachines to update old flows"},
{"id": 37012, "question_id": 3701, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T15:26:04Z", "scrap_date": "2024-05-01T00:23:01.884802", "content": "Interesting I havent seen this before Are you on a shared account The rate limit on cloudwatch is 10 requests per second per region httpsdocs aws amazon comAmazonCloudWatchlatestlogscloudwatch_limits_cwl html"},
{"id": 37013, "question_id": 3701, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-06T15:26:25Z", "scrap_date": "2024-05-01T00:23:01.885802", "content": "I recommend including a startTime Currently you are trying to retrieve all logs from when youre logs begin For the last 5 minutes of logs try Or if you trying to tail the logs and watch them live I do this all the time Various intervals are available See the Serverless Logs Docs Hope it helps "},
{"id": 37014, "question_id": 3701, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-06T15:37:15Z", "scrap_date": "2024-05-01T00:23:01.886803", "content": "DavidWells no its just two developers using it so we couldnt go over 10 requests per second Could it be because Im using Dashbird to monitor all the lambdas Thanks bfieber Im now adding startTime and it seems to work "},
{"id": 33842, "question_id": 3384, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-08T23:03:04Z", "scrap_date": "2024-05-01T00:23:03.917663", "content": "Im having the same issue here A week ago I upgraded to 1 25 0 and it started to prompt error messages like function with same version is already created and XML is not valid "},
{"id": 21052, "question_id": 2105, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T03:22:14Z", "scrap_date": "2024-05-01T00:23:04.618406", "content": "I am interested to know about the same "},
{"id": 21053, "question_id": 2105, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-13T09:53:31Z", "scrap_date": "2024-05-01T00:23:04.619406", "content": "This forum is created by discourse httpsgithub comdiscoursediscourse You can easily build it by following its install guide "},
{"id": 21054, "question_id": 2105, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-18T05:44:41Z", "scrap_date": "2024-05-01T00:23:04.619406", "content": "What about a server less hosting of discourse or similar application Anyone tried it"},
{"id": 21055, "question_id": 2105, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T12:43:01Z", "scrap_date": "2024-05-01T00:23:04.620406", "content": "The A Cloud Guru team have a serverless forum but its not open source "},
{"id": 21056, "question_id": 2105, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-09T10:58:34Z", "scrap_date": "2024-05-01T00:23:04.620406", "content": "Is that forum truly only discourse It seems a bit different from the default option "},
{"id": 34452, "question_id": 3445, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-10T00:12:37Z", "scrap_date": "2024-05-01T00:23:05.371787", "content": "In your serverless yml youre setting the LifecycleConfiguration property inside your Lambda permission resource i e Type AWSLambdaPermission which has nothing to do with permissions The LifecycleConfiguration property belongs in your CFN bucket definition See the comment on line 19 of your gist "},
{"id": 34453, "question_id": 3445, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-10T19:02:04Z", "scrap_date": "2024-05-01T00:23:05.372787", "content": "Thank you for your help That totally worked "},
{"id": 19442, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-29T05:32:29Z", "scrap_date": "2024-05-01T00:23:06.286078", "content": "What is your local operating system While I havent come across this answer personally it looks like you mightve uploaded pyc files which are probably not going to work on AWS Linux "},
{"id": 19443, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T02:02:05Z", "scrap_date": "2024-05-01T00:23:06.287079", "content": "I was using OSX Ended up using ec2 instance Deployment went fine on ec2 instance with Amazon Linux Do you know why it did not work on OSX"},
{"id": 19444, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-31T10:36:00Z", "scrap_date": "2024-05-01T00:23:06.288263", "content": " pyc files are compiled bytecode and so only work on the platform they were compiled on When theyre getting packaged up and pushed to Lambda theyre no long on the same platform i e OSX they were compiled on "},
{"id": 19445, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T13:55:35Z", "scrap_date": "2024-05-01T00:23:06.288263", "content": "There is a serverless plugin you can use to get around the problem of compiling on OSX It uses Docker to pip install everything in your requirements txt file on Linux httpswww npmjs compackageserverlesspythonrequirements"},
{"id": 19446, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T01:24:58Z", "scrap_date": "2024-05-01T00:23:06.289079", "content": "Good to know what is happening under the hood Thanks "},
{"id": 19447, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T01:25:35Z", "scrap_date": "2024-05-01T00:23:06.290080", "content": "Great Thanks for sharing this "},
{"id": 19448, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-20T01:03:50Z", "scrap_date": "2024-05-01T00:23:06.290080", "content": "Hi can u tell me how u used the plugin to bypass the dependencies Here is the problem that i am facing httpsstackoverflow comquestions45179452awslambdabuildingexternaldependencylibrariesinpython"},
{"id": 19449, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-22T05:20:21Z", "scrap_date": "2024-05-01T00:23:06.291080", "content": "You likely havent built the packages on the right architecture I have a blog post which goes through this in more detail and also covers how to correctly setup your path so that your code can import the libraries httpblog brianz bzpoststructuringserverlessapplicationswithpython"},
{"id": 194410, "question_id": 1944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-12T09:43:33Z", "scrap_date": "2024-05-01T00:23:06.292080", "content": "worked for me It wasted 4 hrs of mine just to figure out why lambda is not working Thanks a lot"},
{"id": 34852, "question_id": 3485, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-12T20:17:32Z", "scrap_date": "2024-05-01T00:23:07.353359", "content": "thanks for sharing it is a great idea With this idea we can nearly do most with serverless "},
{"id": 34722, "question_id": 3472, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-13T23:18:56Z", "scrap_date": "2024-05-01T00:23:07.942772", "content": "There is currently no way to do this with Cloudformation You can do it through the CLI though and bake it into your CICD pipeline "},
{"id": 34552, "question_id": 3455, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-08T23:44:36Z", "scrap_date": "2024-05-01T00:23:09.037400", "content": "Hi amitm02 Youll need to configure binary media types e g imagepng imagegif etc AND you need to pass a corresponding ContentType header Setting up binary media types cannot be configured natively in serverless yet but theres a plugin for this The following links might help Once you setup binary media types and POST an image with a matching ContentType header the binary data will be base64 encoded This means the body will be base64 encoded and the property isBase64Encoded will be set to true Note Binary media types are applied to requests and responses and require appropriate ContentType and Accept headers Also keep in mind that theres a limit of 10MB So using S3 instead might be beneficial in some situations "},
{"id": 34553, "question_id": 3455, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-09T08:09:38Z", "scrap_date": "2024-05-01T00:23:09.039400", "content": "for future reference ive used to following in the lambda body event[body] log info API isBase64Encoded format event[isBase64Encoded] log info body type format type body log info body len format len body log info contenttype format event[headers][ContentType] log info b64decoding img b64decode body "},
{"id": 34554, "question_id": 3455, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-14T18:35:29Z", "scrap_date": "2024-05-01T00:23:09.040401", "content": "Nice on getting it working I was trying to get it working but decided I would upload to s3 from the client and then send the path the my lambda function "},
{"id": 35002, "question_id": 3500, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-15T02:49:00Z", "scrap_date": "2024-05-01T00:23:09.796088", "content": "Can you just use _ instead of a like so v1_0 "},
{"id": 35003, "question_id": 3500, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-15T03:33:38Z", "scrap_date": "2024-05-01T00:23:09.797253", "content": "agree looks I have to adjust the key to avoid to use dot in it "},
{"id": 35132, "question_id": 3513, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-16T02:44:10Z", "scrap_date": "2024-05-01T00:23:10.292127", "content": "Hey gap as I understand it youre including the api prefix to your routes from the basePath Because of that should your request be Note that I added api before test in the path Does that fix your problem"},
{"id": 35133, "question_id": 3513, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-16T02:46:54Z", "scrap_date": "2024-05-01T00:23:10.293128", "content": "Yes it does Silly typo on my part Thanks "},
{"id": 35032, "question_id": 3503, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-16T03:34:35Z", "scrap_date": "2024-05-01T00:23:11.097420", "content": "OK solved The problem was in the absence of indentation of function names from the keyword functions in the yml file This was probably not required for older serverless versions "},
{"id": 35422, "question_id": 3542, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-18T16:59:31Z", "scrap_date": "2024-05-01T00:23:12.136219", "content": "Just run sls deploy There is no resources command right now "},
{"id": 34062, "question_id": 3406, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-17T19:56:28Z", "scrap_date": "2024-05-01T00:23:12.926302", "content": "I have a little experience that may help I designed an api that I did not consider large It worked fine in development using the offline plugin When I deployed it I ran into problems See Deploy error number of resources greater than 200 To address Question 1 I had to break my project into sub services which caused a lot of pain I use a serverless yaml at the top of my project for offline development I have half a dozen subservices with their own serverless yaml for deployment I use the serverlessdomainmanager plugin to manage the apigate but it requires a prefix on the url which makes my front end my complicated Question 3 I use nvm to manage node versions I work in both node 6 and 8 without problem I do not know about how the packaging works because it just works Run npm or yarn to install your dependencies locally and they will be copied when deploying Question 5 I use the cli and have no problems There is a project for deploy multiple httpsgithub comthreadheapserviceless for deploying multiple project but I have not used it Question 6 I found if the database connection had to close or else the function would time out I hope this helps a bit "},
{"id": 34063, "question_id": 3406, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-18T17:24:22Z", "scrap_date": "2024-05-01T00:23:12.929302", "content": "Many thanks for your input and thoughts"},
{"id": 35272, "question_id": 3527, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-18T21:35:50Z", "scrap_date": "2024-05-01T00:23:13.468556", "content": "This project httpsgithub comsbstjnserverlessanalyticsblobmasterserverless ymlL111L115 is an example of API gateway directly into kinesis httpsgithub comsbstjnserverlessanalyticsblobmasterserverless ymlL111L115 It skips the middle man of lambda which saves some Perhaps it will help"},
{"id": 35142, "question_id": 3514, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-18T21:40:22Z", "scrap_date": "2024-05-01T00:23:14.222396", "content": "can you share the repo andor your serverless yml"},
{"id": 35492, "question_id": 3549, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-19T06:15:34Z", "scrap_date": "2024-05-01T00:23:15.320949", "content": "you can copy and paste to serverless yml resources session It is supported directly"},
{"id": 35512, "question_id": 3551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-19T22:03:20Z", "scrap_date": "2024-05-01T00:23:16.189884", "content": "Does the SNS topic with that name already exist in your account You can use the framework to generate a new sns topic or you can reuse the arn of an existing one see httpsgithub comDavidWellsserverlessworkshoptreemasterlessonscodecompleteeventssns for both example"},
{"id": 33552, "question_id": 3355, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-19T05:18:06Z", "scrap_date": "2024-05-01T00:23:17.895125", "content": "The Serverless Framework doesnt support this out of the box which is why you need to use a plugin like serverlessfinch or write your own deployment script using the AWS CLI If you have more than a few files that need uploading then youll probably want to have a local folder that matches what you want S3 to look like Im currently deploying our website via an NPM script because its a separate project deploy aws s3 cp YOUR_SOURCE_FOLDER s3YOUR_S3_BUCKET profile YOUR_AWS_PROFILE recursive grants readurihttpacs amazonaws comgroupsglobalAllUsers cachecontrol \\maxage30\\ If it was part of the same project as the API then Id probably use serverlessfinch instead "},
{"id": 33553, "question_id": 3355, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-19T15:41:07Z", "scrap_date": "2024-05-01T00:23:17.897126", "content": "Thank you for confirming my options Im using boto scripts for the custom stuff as part of my CICD and finch as part of service configs "},
{"id": 33532, "question_id": 3353, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-19T16:49:32Z", "scrap_date": "2024-05-01T00:23:18.855714", "content": "Hi JS Please try update your Serverlesss version Here its working with a new fresh installed 1 24 1 serverless create templateurl httpsgithub comserverlessserverlesstreemasterlibpluginscreatetemplatesawsnodejs path myService Serverless Generating boilerplate Serverless Downloading and installing awsnodejs Serverless Successfully installed myService Regards NB"},
{"id": 33533, "question_id": 3353, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-19T19:34:59Z", "scrap_date": "2024-05-01T00:23:18.857714", "content": "Thanks that was indeed the problem "},
{"id": 28462, "question_id": 2846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-18T10:25:00Z", "scrap_date": "2024-05-01T00:23:19.987796", "content": "Hi jfoxtech I am having the exact same issue Were you able to resolve the problem If yes I would really appreciate if you could share the solution "},
{"id": 28463, "question_id": 2846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-19T22:39:09Z", "scrap_date": "2024-05-01T00:23:19.988796", "content": "ayazmaroof Did you go through these urls are they helpful httpsgithub comserverlessserverlessissues3182 httpsgithub comserverlessserverlessissues2831"},
{"id": 28464, "question_id": 2846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-20T15:35:15Z", "scrap_date": "2024-05-01T00:23:19.989798", "content": "I think you may have an indentation issue And since I cant see your provider property I cant tell if you have your apiKeys property nested under it our not It should looks like this See Setting API keys for your Rest API in the Serverless online reference for more details "},
{"id": 33612, "question_id": 3361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-20T18:38:05Z", "scrap_date": "2024-05-01T00:23:20.950591", "content": "run sls print to see if your variable are resolving correctly Sounds like one of your variables cant resolve a value"},
{"id": 19082, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-22T16:02:51Z", "scrap_date": "2024-05-01T00:23:21.962983", "content": "I asked a similar question here"},
{"id": 19083, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-22T17:29:57Z", "scrap_date": "2024-05-01T00:23:21.963983", "content": "Yes I know What did you get out of it"},
{"id": 19084, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-23T08:15:07Z", "scrap_date": "2024-05-01T00:23:21.963983", "content": "Honestly speaking if anything I found there are little to no examples of testing Serverless services with mocks for the AWS SDK I still cant figure out how to get mocks working with Jest \\_ _ "},
{"id": 19085, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-23T10:27:05Z", "scrap_date": "2024-05-01T00:23:21.964983", "content": "Heres a thread Ive started in order to fix this httpsgithub comserverlessexamplesissues158"},
{"id": 19086, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-23T16:29:21Z", "scrap_date": "2024-05-01T00:23:21.965983", "content": "What issues are you having with Sinon Ive used it and its great for stubbing out the AWS calls"},
{"id": 19087, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-23T21:24:17Z", "scrap_date": "2024-05-01T00:23:21.965983", "content": "Sinon doesnt seem to work for stubbing another instance of requiring the awssdk module No matter what I tried there is no way to mock the above Even modules ilke awssdkmock says that the instantiation of the AWS module must be inside the handler Are you doing it differently"},
{"id": 19088, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T08:36:07Z", "scrap_date": "2024-05-01T00:23:21.966984", "content": "Heya So its more about the structure I think note Im actually away from my laptop at the moment so this is from memory but should give a rough outline Is this the kinda thing you wanted"},
{"id": 19089, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T08:56:58Z", "scrap_date": "2024-05-01T00:23:21.967984", "content": "Thank you so much for helping out The above snippet wont work Plus I dont understand how stubbing the instance of the DynamoDB you have created inside the test will affect the instance inside the myFunction module Thank you"},
{"id": 190810, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T09:01:58Z", "scrap_date": "2024-05-01T00:23:21.967984", "content": "Heya Because when you import myFunction the function is the thing thats exported so in myFunction after its imports it looks like this export default event callback If you think about it were importing a function into this script so it works in the test scope rather than its own Also I as I remember multi requires ie imports will resolve back to the same object check this out httpsdeveloper mozilla orgendocsWebJavaScriptReferenceStatementsimport In short it will work try it "},
{"id": 190811, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-24T11:39:25Z", "scrap_date": "2024-05-01T00:23:21.968984", "content": "To be clear this is how I set things up handler js Then when you want to add a new function you simply import it and add it to the handler object this also means your functions are standalone and fit in with the above test layout "},
{"id": 190812, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-29T15:50:27Z", "scrap_date": "2024-05-01T00:23:21.969984", "content": "Hi kbariotis So I actually setup an entire services bootstrap framework that includes testing It combines a number of node modules together to get the job done Take a look at using a combination of mocha chai chaiaspromised and the main one serverlessmochaplugin What that last one does is allow you to pass whatever values you want into your function as the event parameter that would be passed from any AWS service meaning mocking is a piece of cake It sets up the lambda as a wrapped promise ready to be tested For example in testing my validation function for my custom authorizer the object passed into wrapped run is a mocked event object"},
{"id": 190813, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-26T14:26:44Z", "scrap_date": "2024-05-01T00:23:21.970985", "content": "I used mockery and it helped me Here is an example let assert require chai assert let mockery require mockery let sinon require sinon mockery enable warnOnReplace false warnOnUnregistered false let deleteItemSpy sinon spy let querySpy sinon spy mockery registerMock dynamodbdoc DynamoDB function this deleteItem deleteItemSpy this query querySpy let handler require handler let fakeRequest body requestContext authorizer claims cognitousername test email test com queryStringParameters id 1 describe Invitations table related methods function it DELETE method done fakeRequest httpMethod DELETE handler invitations fakeRequest sinon assert calledWith deleteItemSpy sinon match ConditionExpression createdBy createdBy ExpressionAttributeValues createdBy test Key id 1 TableName invitations done "},
{"id": 190814, "question_id": 1908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-22T18:46:54Z", "scrap_date": "2024-05-01T00:23:21.972985", "content": "Might be a bit late but here is a post I wrote about how to do this httpswww jeremydaly comstubawsserviceslambdafunctionsusingserverlesssinonjspromises"},
{"id": 33652, "question_id": 3365, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-21T05:02:29Z", "scrap_date": "2024-05-01T00:23:22.909539", "content": "like this httpsgithub comDavidWellsdavidwells iotreemasterbackendcontactform "},
{"id": 33653, "question_id": 3365, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-21T05:04:16Z", "scrap_date": "2024-05-01T00:23:22.910539", "content": "this is the frontend code httpsgithub comDavidWellsdavidwells ioblobmastersrcpagesContactindex jsL26L30 The form will ping the lambda and send an email via AWS SNS"},
{"id": 27682, "question_id": 2768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-26T17:01:06Z", "scrap_date": "2024-05-01T00:23:23.942582", "content": "OmniPotent42 I dont quite understand your issue here Could you add some examples what environment variable s and how you want them injected into your function"},
{"id": 27683, "question_id": 2768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-24T18:50:32Z", "scrap_date": "2024-05-01T00:23:23.943582", "content": "I have the same problem here I dont believe CloudFormation is the way to go within Serverless variable syntax Its almost like we need a parsable argument to the ssm syntax to split if the type is StringList much like you can pass true at the end of the param name for decryption "},
{"id": 33902, "question_id": 3390, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-27T17:09:16Z", "scrap_date": "2024-05-01T00:23:24.980598", "content": "Doesnt sound like you can AFAIK Serverless is built with a microservices approach in mind so it is expected that you build a separate serverless yml for each service "},
{"id": 33903, "question_id": 3390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-27T17:42:05Z", "scrap_date": "2024-05-01T00:23:24.981598", "content": "Thanks for the answer So in deployment process we have to deploy each service separately"},
{"id": 33904, "question_id": 3390, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-28T00:28:42Z", "scrap_date": "2024-05-01T00:23:24.982598", "content": "Typically you have one service per Serverless project Each service should be independent and deployed on its own For small projects you may find it easier to have one Serverless project with everything in it If thats the case then you could use the folder structure to keep your code separate but youll still have a single serverless yml "},
{"id": 6222, "question_id": 622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-24T11:48:29Z", "scrap_date": "2024-05-01T00:23:25.769327", "content": "Your serverless yml file should look something like this Your default response will now be 201 instead of 200 All you need to do to get a 201 response is return a success To have it return a 409 error you need you need to callback with an error object"},
{"id": 6223, "question_id": 622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-21T19:47:11Z", "scrap_date": "2024-05-01T00:23:25.771328", "content": "Sorry to bring this back to life But Im new to serverless and AWS lambda with API Gateway So I having a little trouble to return a 404 status code I have this in the serverless yml for the get service and my lambda function returns callback null JSON stringify statusCode 404 body message Resource not found I get a return with status 200 and the json in the body In serverlessoffline I get a status 200 and the json in the body In lambda test I got http 500 message Internal server error anyone can explain it to me why"},
{"id": 6224, "question_id": 622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-22T13:30:34Z", "scrap_date": "2024-05-01T00:23:25.772328", "content": "I tried setting the callback in the error callback JSON stringify null with no luck too"},
{"id": 6225, "question_id": 622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T05:17:09Z", "scrap_date": "2024-05-01T00:23:25.772328", "content": "You JSON stringify the body content and return the rest as a Javascript object "},
{"id": 6226, "question_id": 622, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T20:52:04Z", "scrap_date": "2024-05-01T00:23:25.773329", "content": "I got help in gitter The problem was integration type set to lambda So I removed from serverless yml integration and response Using the default integration lambdaproxy And the body dont need to be a string At lest Im passing a JSON object to it and its working great Thanks anyway "},
{"id": 33942, "question_id": 3394, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-29T06:44:24Z", "scrap_date": "2024-05-01T00:23:26.698877", "content": "You can use method any in place of configuring each method individually Assuming theyre all returning the same error message then your configuration could be as simple as"},
{"id": 30623, "question_id": 3062, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T09:13:41Z", "scrap_date": "2024-05-01T00:23:27.665167", "content": "I am not sure how you setup a gateway to an s3 folder could you give details For your second question I got the answer now Set a Cloudwatch log group and enable events in a lambda function to steam the logs to dynamodb in serverless framework such as Currently there is a bug in serverless that it cant reference log group name in lambda function as Ref CustomAccessLogs This is a Bug Report Proposal Description For bug reports What went wrong Get the error when reference a log group TypeError event cloudwatchLog logGroup replace is not a function What did you expect should have happened replace the reference log group name with real one What was the config you used ``` functions pushCustomAccesslogs handler logslogs handler events cloudwatchLog logGroup Ref CustomAccessLogs resources Resources CustomAccessLogs Type AWSLogsLogGroup ``` What stacktrace or error message from your provider did you see ``` Serverless Invoke awscommoncleanupTempDir Serverless Packaging service Serverless Excluding development dependencies LogGroupName Ref CustomAccessLogs Here is the name Type Error event cloudwatchLog logGroup replace is not a function For debugging logs run again after setting the SLS_DEBUG environment variable Stack Trace TypeError event cloudwatchLog logGroup replace is not a function at functionObj events forEach event usrlibnode_modulesserverlesslibpluginsawspackagecompileeventscloudWatchLogindex js4859 ``` The error line is LogGroupName event cloudwatchLog logGroup replace \\r\\ng httpsgithub comserverlessserverlessblobc345e9a9bfb5dd49a13788009430e24c400243f2libpluginsawspackagecompileeventscloudWatchLogindex jsL48 Additional Data Your Environment Information OS linux Node Version 6 11 3 Serverless Version 1 25 0 I added a debug line before replace function console log LogGroupName event cloudwatchLog logGroup from deploy debug log seems the logGroup name is not referenced properly LogGroupName Ref CustomAccessLogs Enable Custom Access logs in the api gateway I have given details in this ticket How to setup Custom Access Logging for api gateway using serverless After you enable this feature you will get both auth denies or allowed access logs in cloudwatch Here is a sample log So the hander logssteam steam will be triggered automatically for every new logs in log group CustomAccessLogs In that hander you can addupdate codes read the data body and create records to dynamodb You can customise the handler to filter the cloudwatch logs which you are interested "},
{"id": 33832, "question_id": 3383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T00:59:25Z", "scrap_date": "2024-05-01T00:23:28.409597", "content": "My question is is it possible to run a Serverless application on servers No Not for Lambda If this is important to you then you could look at IBM Cloud FunctionOpenWhisk but I dont know enough about them to give a definitive answer "},
{"id": 33833, "question_id": 3383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T09:30:53Z", "scrap_date": "2024-05-01T00:23:28.411597", "content": "I guess you could do this with OpenFaaS on EC2 You will have to do your testing if it scales any faster than Lambda though "},
{"id": 33834, "question_id": 3383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T23:41:13Z", "scrap_date": "2024-05-01T00:23:28.411597", "content": "I meant manual scaling i e scaling your servers in advance in anticipation for a high traffic season Im not sure Lambda can do this though "},
{"id": 33835, "question_id": 3383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-29T06:57:17Z", "scrap_date": "2024-05-01T00:23:28.412598", "content": "I meant manual scaling i e scaling your servers in advance in anticipation for a high traffic season Im not sure Lambda can do this though Basically no You cant prescale Lambda by using EC2 The best you could do is throw a lot of fake traffic at the end point and cause Lambda to launch additional instances "},
{"id": 33836, "question_id": 3383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T15:47:52Z", "scrap_date": "2024-05-01T00:23:28.413598", "content": "I believe spotinst is running lambda on EC2 Spot by NetApps cloud automation solution uses advanced analytics to continuously optimize your cloud infrastructure resources "},
{"id": 13722, "question_id": 1372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T21:39:06Z", "scrap_date": "2024-05-01T00:23:29.538351", "content": "It sounds like your Stripewebhook function definition in the functions section of your serverless yml has an invalid value for one of the properties probably youve got an array instead of a string "},
{"id": 13723, "question_id": 1372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-23T12:37:50Z", "scrap_date": "2024-05-01T00:23:29.539351", "content": "My serverless yaml is like from httpsserverless comframeworkdocsprovidersawsguidevariablesnestingvariablereferences the line profile selfcustom profiles selfprovider stage seems to be failing what am i missing"},
{"id": 13724, "question_id": 1372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-23T14:59:44Z", "scrap_date": "2024-05-01T00:23:29.540352", "content": "doh i am so blind it should be"},
{"id": 13725, "question_id": 1372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-25T05:02:16Z", "scrap_date": "2024-05-01T00:23:29.540352", "content": "I didnt realise you could put multiple in a variables reference thanks for sharing your solution "},
{"id": 13726, "question_id": 1372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T17:31:12Z", "scrap_date": "2024-05-01T00:23:29.541352", "content": "This error message came to me too when referencing a field in custom in the environment like that"},
{"id": 13727, "question_id": 1372, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T16:31:39Z", "scrap_date": "2024-05-01T00:23:29.541352", "content": "I got the same error when using lists in secrets which were then mapped to environment variables"},
{"id": 34132, "question_id": 3413, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-31T12:45:54Z", "scrap_date": "2024-05-01T00:23:30.564342", "content": "you can create s3 bucket resource in serverless stackA set output key Then in Serverless stackB you can reference it Details in document Reference CloudFormation Outputs"},
{"id": 34032, "question_id": 3403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T20:27:51Z", "scrap_date": "2024-05-01T00:23:31.682605", "content": "Thanks I will try it with my project "},
{"id": 34033, "question_id": 3403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-31T04:03:55Z", "scrap_date": "2024-05-01T00:23:31.683599", "content": "Note that your app has to be served from a https domain or amplify is not going to work I have been exploring how to proxy S3 behind API gateway to achieve this Why S3 uses HTTPS If you need a custom domain HTTPS you do it with CloudFront "},
{"id": 34034, "question_id": 3403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-31T14:25:04Z", "scrap_date": "2024-05-01T00:23:31.684601", "content": "Is S3 Cloudfront anything different than an edge optimized API Gateway S3 Proxy with the caching check turned on Awsamplify will refuse login submissions from forms not hosted on https Advantages I have a single domain without CORS Under than domain there are three edge optimized proxies First an unprotected S3 caching proxy holding my web app Second another S3 proxy protected by AWS using Cognito to access it This exposes user specific data Third the edge optimized Lambda proxy from serverless which also uses Cognito to control access the API All of this is in a single API in APi Gateway It is not that complex there are four methods The two S3 proxies the lambda proxy and a root proxy that only returns index html No need for custom authentication To achieve this with serverless you need this plugin serverlesspluginbinddeploymentid which lets you alter the API deployment I need to alter the deployment to make it depend on my two S3 proxies Pathmapping also works with the plugin since you can now make it depend on deployment Is there a better way to do this"},
{"id": 34082, "question_id": 3408, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-31T07:53:35Z", "scrap_date": "2024-05-01T00:23:32.534704", "content": "No problem in fact just need to wait set with Cloudfront takes time"},
{"id": 34083, "question_id": 3408, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-31T15:06:02Z", "scrap_date": "2024-05-01T00:23:32.535705", "content": "I have split my serverless code into two projects One project holds the things that seldom change and take a long time to deploy The other one holds the stuff that changes all of the time So now I can deploy the more volatile stuff without touching the mostly static things My static serverless project creates an output file with the name of things like the user pool and domain The more volatile serverless project imports this file "},
{"id": 13662, "question_id": 1366, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-28T11:36:06Z", "scrap_date": "2024-05-01T00:23:34.444606", "content": "I came across this blog post which pointed out that you can include swagger in CloudFormation But it appears only for ApiGateway cloudformation So I gave it a shot exporting the swagger of the working api I configured manually then pulled out just the http proxy part and gave it a go in serverless yml It deploys properly but ends up overwriting the other serverlesscreated resources "},
{"id": 13663, "question_id": 1366, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-02-28T12:48:33Z", "scrap_date": "2024-05-01T00:23:34.446606", "content": "Update I got it working I noticed that the exported swagger is basically cloudformation so that told me what pieces were missing from the original cloudformation "},
{"id": 13664, "question_id": 1366, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-03T09:14:05Z", "scrap_date": "2024-05-01T00:23:34.446606", "content": "The AWS documentation is poor in many places but Ive found it almost unusable when it comes to API Gateway so thanks for the above Id got almost all the way to that by inspecting the integration PATCH requests when manually setting them up in the management console but in the process removed the RequestParameters from the method "},
{"id": 18992, "question_id": 1899, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T22:30:23Z", "scrap_date": "2024-05-01T00:23:35.128880", "content": "Playing around and figured out that if I sls package first Then modify the fubarserverlessstate json to include the Integration RequestParameters it works snippet I I was trying to do this in cloudformationtemplateupdatestack json with no results changing it in serverlessstate json made the params show up in aws Now the question is how can I make this work via setup in serverless yml instead of manually mucking with the CF template"},
{"id": 18993, "question_id": 1899, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-03T00:10:28Z", "scrap_date": "2024-05-01T00:23:35.129881", "content": "I am looking for the similar and got this solution"},
{"id": 32342, "question_id": 3234, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-04T00:12:46Z", "scrap_date": "2024-05-01T00:23:36.056816", "content": "You binary will need to be compiled to work on the AWS Linuxbased container that Lambda runs in If youve got Docker you could compile you package inside httpsgithub comlambcidockerlambda and it should run in Lambda "},
{"id": 32343, "question_id": 3234, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-04T05:22:42Z", "scrap_date": "2024-05-01T00:23:36.057862", "content": "Thanks rowanu that Docker lambda helped me debug and build "},
{"id": 31102, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T11:17:42Z", "scrap_date": "2024-05-01T00:23:37.192175", "content": "anyone Im currently using auth0 for the auth flow and hosted page but I would like to switch to cognito because auth0 is too limited"},
{"id": 31103, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T12:11:39Z", "scrap_date": "2024-05-01T00:23:37.193175", "content": "Hmm what specific part of the authentication flow are you having trouble with I believe that giving more details might result in better response"},
{"id": 31104, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T13:43:45Z", "scrap_date": "2024-05-01T00:23:37.194176", "content": "Im having issues with starting the auth flow for example how can I redirect the user to the hosted page with all the required params Ive tried to use the auth0 approach but I get an error about invalid params on the hosted page"},
{"id": 31105, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T00:47:24Z", "scrap_date": "2024-05-01T00:23:37.194176", "content": "You want awsamplify A declarative JavaScript library for application development using cloud services GitHub awsamplifyamplifyjs A declarative JavaScript library for application development using cloud services "},
{"id": 31106, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T12:38:08Z", "scrap_date": "2024-05-01T00:23:37.195176", "content": "thank you for the link but it seems that amplify doesnt allow cognito hosted page only client side auth via js"},
{"id": 31107, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T13:21:52Z", "scrap_date": "2024-05-01T00:23:37.196176", "content": "Yes AWS does not host the auth pages for you you have to host them yourself Auth0 is definitely easier but it is more money "},
{"id": 31108, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-30T15:33:46Z", "scrap_date": "2024-05-01T00:23:37.196176", "content": "cognito provide an hosted page too here is an example httpswla auth apsoutheast2 amazoncognito comloginresponse_typecodeclient_id1t80si9ch1voi0bdusm5c9svnstate00a4715e13b34da38553dcc757d1d544redirect_uriwlasigninscopeopenidcode_challengeCHdOC4yZEQWOg3jZNCTm8b8v8jPnKjizRipIF0ltvr8code_challenge_methodS256"},
{"id": 31109, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-30T15:42:38Z", "scrap_date": "2024-05-01T00:23:37.197177", "content": "I forgot about that User Pools support OAuth that page is part of the OAuth flow OAuth is another way to get to your User Pool Something like Auth0 would use an OAuth flow to access your Cognito User Pool I have been using the amazoncognitoidentityjs SDK which is also used in awsamplify Amazon Cognito Identity SDK for JavaScript Contribute to amazonarchivesamazoncognitoidentityjs development by creating an account on GitHub The SDK uses direct API calls and does not follow the OAuth protocol The SDK manages things like exchanging the token for credentials and refreshing the credentials when they expire If you go the OAuth route you have to implement that yourself "},
{"id": 311010, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-12-01T03:22:22Z", "scrap_date": "2024-05-01T00:23:37.198177", "content": "xzx got me to check this out there is new support for social logins on Cognito user pools I was able to add this httpswww npmjs compackagereduximplicitoauth2 into a demo reactredux app and get CognitoGoogleFacebook logins going in about an hour AWS is handling all of the GoogleFacebook stuff for you Downside only CognitoGoogleFacebookAmazon It automagically made this page for me httpsdigispeaker auth useast1 amazoncognito comloginclient_id71hfsop6tn8sr85kqg088emdkrredirect_urihttps3A2F2Flocalhost3A30002Fredirect htmlresponse_typetokenscopeopenid20profile20emailstatecjanc9fdf0000325kmnz959zq Im going to chuck my awsamplify stuff and switch to this "},
{"id": 311011, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-01T11:13:43Z", "scrap_date": "2024-05-01T00:23:37.199177", "content": "this is what I was looking for but I dont use redux do you think this is possible to do the same with awsamplify "},
{"id": 311012, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-01T12:07:01Z", "scrap_date": "2024-05-01T00:23:37.200177", "content": "Look for packages that support Oauth2 That screen is from an Oauth2 login flow But there are only four providers available User Pool Google Facebook Amazon and you cant add anything else awsamplify uses the Cognito javascript SDK and has a different set of APIs it is not using these prebuilt pages Instead it expects you to write your own pages For example if you needed to integrate a corporate login you cant use the prebuilt page from the User Pool Note it is possible to combine lots of Oauth2 sources that is what Auth0 does But it is a fair amount of work "},
{"id": 311013, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-01T13:40:50Z", "scrap_date": "2024-05-01T00:23:37.201178", "content": "so with awsamplify you cannot do something like auth login and the user is redirected to the cognito hosted page i e httpsxxxx auth useast1 amazoncognito comloginclient_id redirect_uriresponse_typetokenscopeopenid20profile20emailstate"},
{"id": 311014, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-12-01T14:12:29Z", "scrap_date": "2024-05-01T00:23:37.202178", "content": "I dont think so awsamplify is building its own UI in react I have discovered a problem with that OAuth page generated by the User Pool With federated logins it is storing the federated ID in the user pool then when it accesses the federated pool it uses the ID from the user pool This is in conflict with the mobile app code generated by Mobile Hub The code from Mobile Hub directly inserts the federated users into the federated pool and does not give them an alias in the user pool ie so if you sign on with Google from a browser and then sign on with Google from a mobile app they dont end up as the same user in the federated pool Of course this is only a problem if your users can switch between app and browser like mine can To fix this I cant use the federated support provided by the user pool I can still use OAuth with the user pool I just have to turn off the federation support Then I have to go back to writing code that directly hits the three different OAuth providers User Pool Google Facebook Now when I present the token to the federated pool is will be a true Facebook or Google token and not an aliased on from the user pool These true tokens will match the tokens from the mobile apps There is a great deal of the left hand not being coordinated with the right hand going on at Amazon Often one group doesnt even know of the existence of another option somewhere else in AWS User authorization is definitely not handled in a coordinated manner Edit The problem with user pool Social OAuth is that when it gets a token from GoogleFacebook it remaps that token into a User Pool token instead of just handing me back the GoogleFacebook token Its that remapping that breaks the mobileweb portability Since the token has been remapped it doesnt match the unaltered tokens from mobile so the federation pool considers them two different users "},
{"id": 311015, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-02T01:28:50Z", "scrap_date": "2024-05-01T00:23:37.204173", "content": "Thanks jonsmirl xzx You both save me a lot of time to set Cognito jonsmirl Did you finally work it out with OAuth2 Cognito any codes share to me"},
{"id": 311016, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-04T15:19:58Z", "scrap_date": "2024-05-01T00:23:37.205173", "content": "Thanks jonsmirl I had configured cognito but for the life of me I couldnt find out what the autogenerated URL was but I was able to figure it out from looking at your link Did the aws console cognito dashboard provide you with that URL Fortunately in my case I only have a web client so this flow should work for me I had implemented it in JS but I dont want to handle every use case renewing passwords or forgotten passwords for example There is a great deal of the left hand not being coordinated with the right hand going on at Amazon Often one group doesnt even know of the existence of another option somewhere else in AWS User authorization is definitely not handled in a coordinated manner Thats exactly how I feel as well For example whilst setting up my identity pool I get to choose that only administrators can create users which is great However if I add social logins federation then I can login with Google as a user that was not created by an admin and still get a token back and a successful login I also cant seem to set the hosted_domain param in the autogenerated cognito login page so I might have to just revert to what I had before Unfortunate because I was looking to care less about authentication and have someone else handle it for me "},
{"id": 311017, "question_id": 3110, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-12-04T16:38:33Z", "scrap_date": "2024-05-01T00:23:37.207175", "content": "AWS docs are assuming you know a decent amount about how OAuth works You would need to know about endpoints then if you search on endpoints you can find the doc httpdocs aws amazon comcognitolatestdeveloperguideloginendpoint html"},
{"id": 14122, "question_id": 1412, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-01T22:23:07Z", "scrap_date": "2024-05-01T00:23:38.202684", "content": "Theres nothing wrong with using plugins in Serverless even the AWS support is a plugin "},
{"id": 14123, "question_id": 1412, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-31T00:00:59Z", "scrap_date": "2024-05-01T00:23:38.202684", "content": "I created a service to add support for ES7 asyncawait to Serverless called Serverless ES7 and wrote about it here You can use it by running serverless install url httpsgithub comAnomalyInnovationsserverlesses7 It automatically picks up your handler functions and generates proper error messages with line numbers in CloudWatch "},
{"id": 32512, "question_id": 3251, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-05T14:11:28Z", "scrap_date": "2024-05-01T00:23:39.211945", "content": "AWS Reference Sample Events Published by Event Sources"},
{"id": 32513, "question_id": 3251, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-05T16:47:43Z", "scrap_date": "2024-05-01T00:23:39.213945", "content": "Nice thanks There seem to be more events on this page than on the serverless docs Is my mapping right API Gateway Kinesis DynamoDB S3 Schedule SNS IoT CloudWatch Log Cognito User Pool These seem to be missing in the list CloudWatch Event Alexa Smart Home Alexa Skill"},
{"id": 20412, "question_id": 2041, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-23T21:24:37Z", "scrap_date": "2024-05-01T00:23:40.252477", "content": "Im interested in this as well I found this httpsgithub comlocalstacklocalstack after some googling but Im curious if there is something that already exists with a tighter integration to the serverless framework "},
{"id": 20413, "question_id": 2041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T13:41:47Z", "scrap_date": "2024-05-01T00:23:40.253478", "content": "Have you succeeded in locally trigger a Dynamodb locally using localstack Or does someone already done it locally through an other way"},
{"id": 20414, "question_id": 2041, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-08T14:49:30Z", "scrap_date": "2024-05-01T00:23:40.253478", "content": "We use jasmine unit tests there is no need to test the stream or you just end up testing the AWS platform imo "},
{"id": 32782, "question_id": 3278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-07T23:43:31Z", "scrap_date": "2024-05-01T00:23:41.106085", "content": "bpair For newer apps you can npm install serverless savedev to add Serverless as a dev dependency then add a deploy script in your packages json that does sls deploy This will allow you to deploy using npm run deploy which will use the newer version from your node_modules folder instead of the global version "},
{"id": 32783, "question_id": 3278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-08T00:57:22Z", "scrap_date": "2024-05-01T00:23:41.107086", "content": "you can run serverless command from docker with new serverless framework version directly Try image svlsserverless1 24 1 Usage in httpshub docker comrsvlsserverless Available versions httpshub docker comrsvlsserverlesstags"},
{"id": 32784, "question_id": 3278, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-08T16:34:04Z", "scrap_date": "2024-05-01T00:23:41.108086", "content": "Thanks I will try that "},
{"id": 32842, "question_id": 3284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-09T09:18:42Z", "scrap_date": "2024-05-01T00:23:42.218401", "content": "this upload is to save the zip file to s3 my understand is it is reasonable If you upload the same zip file from aws console how is the speed"},
{"id": 32843, "question_id": 3284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-09T12:47:05Z", "scrap_date": "2024-05-01T00:23:42.219404", "content": "There definitely seems to be something wrong I followed your advice and uploaded it manually with aws s3 sync and the transfer speed was indeed 70 kilobytes per second resulting in it finishing in less than 2 minutes When I use sls deploy the uploading artifacts part takes more than 10 minutes Perhaps s3 sync is smart enough to use multipart uploading"},
{"id": 32844, "question_id": 3284, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-09T20:09:57Z", "scrap_date": "2024-05-01T00:23:42.220404", "content": "I filed a bug report here httpsgithub comserverlessserverlessissues4545"},
{"id": 32845, "question_id": 3284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T11:08:37Z", "scrap_date": "2024-05-01T00:23:42.221405", "content": "See the updates in ticket 4545 hope this problem can be fixed ASAP"},
{"id": 10272, "question_id": 1027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-30T10:12:09Z", "scrap_date": "2024-05-01T00:23:43.286225", "content": "Are you setting a specific timeout value Do you have logging to see what its stuck doing when it timesout Without knowing what kind of work your function is doing and what timeout value youve set theres no way for us to know if youre not getting a legitimate timeout in Lambda What do you mean by The callback methods on local and lambda seem to be different too exactly What calls How are they different The only other thing I can think of is to check whenif youre return ing your callback calls as that sometimes can result in different endstates in the Lambda environment vs locally "},
{"id": 10273, "question_id": 1027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-30T11:00:30Z", "scrap_date": "2024-05-01T00:23:43.288226", "content": "No I didnt set specific timeout value from code My function queries my db and returns result I can see the result from my query already but it stuck at this line What calls How are they different The callback functions in the signature When I invoke locally the body of that method is the body of callback you can find in invokeLocalNodeJs handlerPath handlerName event in libpluginsawsinvokeLocalindex js while body of that method when running on Lambda is I did `return callback null response ``` from the promise On a side note when I invoke locally after I see my result it takes about 40s until it completely stop After raising the timeout to 40s I can get successful result from Lambda and got charged for 30s My query is very fast should complete under 1s Is there something I need to pay attention to here"},
{"id": 10274, "question_id": 1027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-30T12:24:52Z", "scrap_date": "2024-05-01T00:23:43.290227", "content": "On a side note when I invoke locally after I see my result it takes about 40s until it completely stop After raising the timeout to 40s I can get successful result from Lambda and got charged for 30s My query is very fast should complete under 1s Is there something I need to pay attention to here The default timeout for a Lambda is 3 seconds so thats why it was timing out earlier It sounds like something funny is going on and I would investigate why its taking so long In your original message you mentioned using Bluebird Promises Can I ask why Node already has support for Promises "},
{"id": 10275, "question_id": 1027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-31T05:06:32Z", "scrap_date": "2024-05-01T00:23:43.291226", "content": "Cool I didnt know about the differences in the payload 1 to buggy s suggestion to use native Promises Thats what I use and havent had any issue Do you have any logging or instrumentation that tells you where the function is spending all of its time in Lambda i e if the query should be finished in 1 second can you see if that is happening when run in Lambda"},
{"id": 10276, "question_id": 1027, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-11T19:11:35Z", "scrap_date": "2024-05-01T00:23:43.292227", "content": "If your event loop isnt empty lambda will hold back the handler callback by default eg you kept a connection open with your db Use this property to prevent it from responding context callbackWaitsForEmptyEventLoop false I think sls invoke local should replicate this behavior to avoid confusion will create an issue "},
{"id": 10277, "question_id": 1027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T18:56:43Z", "scrap_date": "2024-05-01T00:23:43.293227", "content": "With Mongoose in my NodeJS handler I had to manually mongoose disconnect just before my callback call This was the only thing that prevented the timeouts "},
{"id": 32932, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T11:01:47Z", "scrap_date": "2024-05-01T00:23:43.687453", "content": "suppose you have two environment files So in serverless yml you can easily manage which files need be excluded when packaging for different environments "},
{"id": 32933, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T11:17:03Z", "scrap_date": "2024-05-01T00:23:43.689454", "content": "Thanks However that is not related to what I want to do I am deploying a PHP lambda So in the deploy step I download the PHP binary and put it in the project directory thanks to a plugin serverless deploy then uploads that and it works The problem is I have this PHP binary in my project now And I have the same problem with many files e g I generate cache files optimized autoloader etc And all those files are left in my project i e on my PC after serverless deploy So I would like to prepare the zip file in a separate directory even a temp directory is fine Can I do that"},
{"id": 32934, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T11:23:03Z", "scrap_date": "2024-05-01T00:23:43.690453", "content": "Only for package So option package is what you are looking for"},
{"id": 32935, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T15:11:13Z", "scrap_date": "2024-05-01T00:23:43.690453", "content": "But this will just put the zip in the output path right it will still zip the content of the folders directory "},
{"id": 32936, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T21:03:45Z", "scrap_date": "2024-05-01T00:23:43.691455", "content": "if you add the folders in exclude list it will not package into zip"},
{"id": 32937, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T22:35:01Z", "scrap_date": "2024-05-01T00:23:43.692455", "content": "I do not want to exclude it the PHP binary should be deployed into the lambda Here is another way to explain it Expected files Actual files binphp is created by my serverless plugin which generates it when running serverless deploy or serverless package I want this file on the lambda but not in my project I would like the lambda to be generated in a temporary directory where I could add binphp without affecting my local files "},
{"id": 32938, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-11T22:38:39Z", "scrap_date": "2024-05-01T00:23:43.693455", "content": "I still dont get your points If you dont want binphp to be in project your meaning is not controlled by source control right you can exclude it via gitignore"},
{"id": 32939, "question_id": 3293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T07:32:38Z", "scrap_date": "2024-05-01T00:23:43.693455", "content": "We are getting closer to my point I dont want it in my project at all Here is another problem I need to install Composer dependencies its npm for PHP basically optimized for production in the lambda I want them optimized for development on my machine So serverless deploy optimizes them for production thanks to my plugin but then my dev environment is all messed up "},
{"id": 33092, "question_id": 3309, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T09:04:05Z", "scrap_date": "2024-05-01T00:23:44.725322", "content": "It turns out that I was incompetent at a much bugger scale that I was aware Ive completely missed a proper configuration for the TS compiler This is a working starting point for my journey in TS and Serverless Im sorry for wasting your attention Maurizio"},
{"id": 13272, "question_id": 1327, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-17T17:37:59Z", "scrap_date": "2024-05-01T00:23:45.673569", "content": "Did you try including headers in your lambda response"},
{"id": 13273, "question_id": 1327, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-12T12:53:36Z", "scrap_date": "2024-05-01T00:23:45.673569", "content": "That doesnt work We need a way to set AccessControlMaxAge for the OPTIONS request "},
{"id": 33132, "question_id": 3313, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-12T18:47:34Z", "scrap_date": "2024-05-01T00:23:46.586439", "content": "You can reference cloudformation values like so httpsgithub comDavidWellsserverlessworkshopblobmasterlessonscodecompleteeventsdynamodbstreamsserverless ymlL21 and pass them in an environment variables more info here httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferencegetatt html"},
{"id": 33133, "question_id": 3313, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-13T11:14:13Z", "scrap_date": "2024-05-01T00:23:46.587439", "content": "Thanks Im trying to do this with a Cognito Identity Pool but I get the error ResourcesIamRoleLambdaExecutionPropertiesPolicies0PolicyDocumentStatement2Resource0FnJoin10FnGetAtt Resource type AWSCognitoIdentityPool does not support attribute Arn This doesnt work with a Cognito Identity Pool"},
{"id": 33134, "question_id": 3313, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-13T11:28:51Z", "scrap_date": "2024-05-01T00:23:46.588440", "content": "Ok now its working What I did was And for environment I did like you have Thanks "},
{"id": 33262, "question_id": 3326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-15T01:11:42Z", "scrap_date": "2024-05-01T00:23:47.457510", "content": "Just to be clear if youre getting a Lambda error in CloudWatch Logs then you have deployed the service successfully its just not running Without knowing anything about keystone my guess would be that its trying to make a directory outside of tmp in the Lambda container you can only write to tmp everywhere else is readonly "},
{"id": 30102, "question_id": 3010, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-15T08:59:03Z", "scrap_date": "2024-05-01T00:23:48.554576", "content": "Weve received some feedback from alexdebrie1 and pushed a 1 1 0 version of the plugin The new version makes it easier to discover StackStorm actions and the list of parameters they expect It also allows you to define transformations for event data and action output allowing you to use StackStorm actions with events of any kind and to shape their output the way you like Theres quite a few less exciting changes for you to explore too so keep your eyes open dzimine wrote a blog to help you start with the plugin and answer some of the common questions weve been asked Were hoping that you can give it a shot when you get bored with all this holidays coming and provide us with more feedback and feature request for the next release sometime in January Stay tuned and happy holidays from StackStorm team "},
{"id": 31212, "question_id": 3121, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-16T14:39:42Z", "scrap_date": "2024-05-01T00:23:50.082080", "content": "Assign the contents of your file to a property of custom instead of custom itself And stack is indented too far use 2 spaces instead of 4 example Then you can reference those props later with example Hope that helps "},
{"id": 31213, "question_id": 3121, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-18T05:54:23Z", "scrap_date": "2024-05-01T00:23:50.083078", "content": "This really makes sense Thanks a lot"},
{"id": 5082, "question_id": 508, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-12T23:45:05Z", "scrap_date": "2024-05-01T00:23:50.934751", "content": "I just signed up to ask exactly this Ive rolled my own deployment tools which use a CF custom resource to grab my lambdas zip from S3 inject a simple json file containing references to other CF resources and then replace the original zip The lambda resource DependsOn this preprocessing step Note that its possible to save these references as a separate S3 config file but the latency is way better when its injected directly into he lambda Id like to replicate this capability in serverless in order to complete the transition from my own tools to serverless Its not clear to me if I can add the required DependsOn to the current function declaration if I need to create a plugin or alternatively if there is some other technique which is clearly better I do a similar thing to inject KMS encoded secrets "},
{"id": 5083, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T01:22:58Z", "scrap_date": "2024-05-01T00:23:50.936751", "content": "Yeah this has been discussed many times in the the Gitter I dont think its possible to refer to CloudFormation Outputs in serverless yml due to the reason viz mentioned theres a circular dependency You cant deploy your service without a defined serverless yml and you dont know your outputs until youve deployed The way to deal with this would be to create two stacksservices one with the dependent resources exposed via CFN outputs and the other one to refer to it using cross stack references "},
{"id": 5084, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:09:29Z", "scrap_date": "2024-05-01T00:23:50.937752", "content": "As rowanu mentioned this is not possible yet but a super important feature for us To really make this work though we need some way for passing those variables to your lambda functions inside your Cloudformation template Basically AWS needs to implement this feature so we can use it to expose that data to you we cant really do anything about that ourselves because wed always have to make this a two step process because we dont know the data ourselves beforehand Hopefully this is something we can provide soon were definitely telling AWS that this is necessary "},
{"id": 5085, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T22:58:23Z", "scrap_date": "2024-05-01T00:23:50.938752", "content": "flomotlik I have a solution for this now Basically I have a custom CloudFormation resource which grabs the zip file and injects a file containing the template references I need and then replaces the original zip in S3 The lambda function DependsOn this preprocessing step The code for my solution is below In this case Im deploying LambdaFunction and I want to inject a reference to ABucket into that function Ive created a custom resource LambdaSettings to specify the settings I want to inject The other lambda SettingsFunction simply grabs the zip from S3 injects the settings and replaces the original zip The only prior knowledge required is the zip file location Obviously Ive omitted the permission and role resources etc I inject a json file below but a settings py would be better I would like to extend serverless to do exactly this so I can ditch my custom deployment tools and switch to serverless Its not clear to me if I need to extend serverless itself or if I can implement this feature via a plugin "},
{"id": 5086, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T09:40:40Z", "scrap_date": "2024-05-01T00:23:50.940753", "content": "andrew beck awesome stuff Its certainly possible to implement this as a plugin basically everything in Serverless is a plugin all of our AWS deployment integrations for example are no different than any plugin you could write But we cant merge this into master because were working on a solution with AWS that should make this much easier We currently have to wait until AWS gets ready to release something in this direction though This is why wed love to see this as an option but we cant include it in Serverless directly If thats fine with you please go ahead and let us know when the plugin is ready wed be happy to include it in our README list until we have something else in place that makes this easier "},
{"id": 5087, "question_id": 508, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-20T06:49:30Z", "scrap_date": "2024-05-01T00:23:50.941753", "content": "For anyone looking for a way to access their queues you can use the AWS SDK in your function body to retrieve queues by QueueNamePrefix given that you can define the queue name in the serverless yml resources section this makes a workaround for this issue fairly straightforward In the meantime I hope AWS and the Serverless team continue to work together "},
{"id": 5088, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-01T10:27:45Z", "scrap_date": "2024-05-01T00:23:50.942753", "content": "Guys have Amazon released native solution or I should use andrew beck s one flomotlik may be you know"},
{"id": 5089, "question_id": 508, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-07T13:19:52Z", "scrap_date": "2024-05-01T00:23:50.942753", "content": "No I dont think so Ive also spent few hours digging into the question and this thread is one of the most helpful together with this github discussion in a similar topic The solution of andrew beck seems a bit hard to maintain Id personally go for splitting the service into 2 and try using cross stack reference as rowanu has mentioned The original question of viz is about elasticsearch just like my case Only the deployment of the smallest instance in a selfmanaged service way takes at least 10 minutes which is a goodenough reason to split service for CF and another one for the functionalities already Update after success hopefully this will be useful for someone else or my futureself Service 1 the elasticsearch one creating a domain The Outputs are important as the serverless framework and serverlessstackoutput will not give you the endpoint after successful deployment at least at the moment Then in Service 2 where the endpiont is to be feeded in automatically In the code of the function then its safe to pull the necessary API information"},
{"id": 50810, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-18T09:26:31Z", "scrap_date": "2024-05-01T00:23:50.944755", "content": "kalinchernev how do you orchestrate this such that service 1 is deployed prior to service 2 on a sls deploy or do you use terraform etc personally I need to create a custom cloudformation resource backed by a lambda where the lambda has to be pulled from an AWS s3 bucket as per the AWS docs Of course I dont want to manually create a s3 bucket and upload the lambda code this has to be automated Im looking into creating a plugin to do this but I have no idea how to have my serverless yml reference to the s3 bucket created by the plugin "},
{"id": 50811, "question_id": 508, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-18T09:56:50Z", "scrap_date": "2024-05-01T00:23:50.945755", "content": "For the moment a shell script It might be that there are better ways I dont know of but thats the current very basic orchestration in which serverlessstackoutput is configured in each service so that services can rely on the endpoint provided by the previous one "},
{"id": 31222, "question_id": 3122, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-18T01:44:51Z", "scrap_date": "2024-05-01T00:23:51.493008", "content": "heanders is mispelled heanders selfcustom allowedheaders "},
{"id": 31223, "question_id": 3122, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-19T00:04:30Z", "scrap_date": "2024-05-01T00:23:51.494009", "content": "Thats a fantastic catch DavidWells Gosh i must be overworked Thank you so much Its totally working after all sorry for the exclamation marks i m rather excitable "},
{"id": 31512, "question_id": 3151, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-20T06:28:00Z", "scrap_date": "2024-05-01T00:23:52.331865", "content": "I figured out what it was apparently you are only supposed to define the keys and not the other attributes Got my answer here httpsstackoverflow comquestions47385177serverlessframeworkdynamodbtableresourcedefinitionwithsortkey47385697noredirect1comment81725074_47385697"},
{"id": 31513, "question_id": 3151, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-20T14:58:15Z", "scrap_date": "2024-05-01T00:23:52.332865", "content": "Something to remember here is that NoSQL databases do not have predefined schema other than the keys with which to represent the item All other attributes columns are optional and thus do not need to be declared beforehand "},
{"id": 8142, "question_id": 814, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-20T20:14:51Z", "scrap_date": "2024-05-01T00:23:53.339220", "content": "I saw a similar error after adding a dependency I removed the node_modules directory ran npm install again and it cleared up "},
{"id": 30462, "question_id": 3046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-07T07:57:55Z", "scrap_date": "2024-05-01T00:23:53.882349", "content": "BTW for the assumedrole user I followed the following steps via the awscli in order to do some local testing awscli fails to acquire session token before issuing stsAssumeRole call Issue 2279 awsawscli GitHub But I dont think that has anything to do with it The Lambda execution role does have complete iot access Lambda is even a trusted relationship Really confused by this"},
{"id": 30463, "question_id": 3046, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-21T09:49:03Z", "scrap_date": "2024-05-01T00:23:53.883349", "content": "The logs you show in your first screenshot show a lot more than just IoT actions going on do you know that your function has all the required permissions e g to access S3 the DB ACM etc You havent mentioned or shown CloudWatch Logs in any of your details have you check the functions log output to see exactly where the permission error is being hit"},
{"id": 31722, "question_id": 3172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-23T18:59:09Z", "scrap_date": "2024-05-01T00:23:54.618030", "content": "After googling for some time I found this page ``` bash WARNING in awssdklibapi_loader js Critical dependencies 13155 9 the request of a dependency is an expression 1041246 the request of a dependency is an expression 1082158 the request of a dependency is an expression 1141852 the request of a dependency is an expression awssdklibapi_loader js 131559 1041246 1082158 1141852 WARNING in awssdklibutil js Critical dependencies 403045 the request of a dependency is an expression 431153 the request of a dependency is an expression awssdklibutil js 403045 431153 ``` Any clue In the webpack config js you have to add this externals [ awssdk awssdk included in Lambda ] Now I get some warnings when running serverless package [2] external awssdk 42 bytes 0 1 2 3 4 [not cacheable] But awssdk is no longer included and it works on aws I understand why its not included in the template when I run serverless create template awsnodejstypescript path myService since its not needed because the template doesnt depend on any aws stuff But it would be nice if it could be added as documentation in the webpack config file "},
{"id": 31742, "question_id": 3174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-24T11:55:14Z", "scrap_date": "2024-05-01T00:23:55.566059", "content": "x11joe Its just a regular query string format You can use httpsnodejs orgdocslatestv6 xapiquerystring html or any NPM package that can decode a query string "},
{"id": 31743, "question_id": 3174, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-25T00:12:46Z", "scrap_date": "2024-05-01T00:23:55.567059", "content": "Thanks for your reply I found a good library QS that fixes this really nicely Im still new to JS coming from PHP "},
{"id": 31872, "question_id": 3187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-25T00:16:25Z", "scrap_date": "2024-05-01T00:23:56.525634", "content": "Im an idiot my extra flag was missing an extra on pstage "},
{"id": 31242, "question_id": 3124, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-16T06:45:22Z", "scrap_date": "2024-05-01T00:23:57.413409", "content": "Lambda uses Node 6 which doesnt support asyncawait You need to use something like Babel or TypeScript my preference that can transpile newer versions of ES to run on older versions of Node Using Webpack is one way to achieve this The serverlesswebpack plugin will use Webpack to build the upload file which allows you to run Babel or TypeScript as part of the build process Personally Im a little old school on this pre serverlesswebpack using npm to handle deployments My deployment script is setup to lint and compile TypeScript creating a version that will run on Node 6 then running tests before doing the deployment If I was starting from scratch today Id probably look at serverlesswebpack first "},
{"id": 31243, "question_id": 3124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T06:56:07Z", "scrap_date": "2024-05-01T00:23:57.414409", "content": "thanks a lot buggy We use cirle ci for managing deployments But more manual is probably useful in this scenario What I dont understand is according to the serverlessstack tutorial webpack is being used as devdependency only So if by using babelpresetes2015 I can use imports locally why cant I run it in lambda when babelruntime is provided as dependency "},
{"id": 31244, "question_id": 3124, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-16T08:24:45Z", "scrap_date": "2024-05-01T00:23:57.415409", "content": "Webpack is a build tool so you dont need it at runtime in Lambda With TypeScript I believe Babel works similarly Serverless uses the serverlesswebpack plugin to run Webpack which builds the files that are uploaded to Lambda Webpack uses TypeScript or Babel to compile ES78 code back to ES6 thats supported by Node 6 Its the compiled ES6 version that is being sent to Lambda and not your ES 78 source versions From what Ive read the bableruntime package add polyfills for missing objects and functions but it wont help with missing syntax Thats what the babel compiler run by Webpack handles "},
{"id": 31245, "question_id": 3124, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-22T13:56:30Z", "scrap_date": "2024-05-01T00:23:57.417410", "content": "I actually prefer to use syntax that is native to the NodeJS runtime Lambda supports This is simply because debugging transpiled code is near impossible at least in my experience NodeJS version 8 is the latest LTS version supports asyncawait natively which I imagine is somewhere in Amazons roadmap to support Id recommend holding out for that unless someone has had a different experience with transpiled code in Lambda"},
{"id": 31246, "question_id": 3124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-23T01:04:38Z", "scrap_date": "2024-05-01T00:23:57.418410", "content": "reecefenwick you read my mind I was thinking the same thing Since I came from express I am used to using asyncawait Thats why But I guess I could wait "},
{"id": 31247, "question_id": 3124, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-25T11:20:46Z", "scrap_date": "2024-05-01T00:23:57.418410", "content": "You could use coroutine and generator function with yield in the mean time The syntax is a bit dense but code like that should be very easy to change over to asyncawait later when Lambda supports a newer runtime "},
{"id": 31912, "question_id": 3191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-26T02:10:14Z", "scrap_date": "2024-05-01T00:23:58.483813", "content": "If possible I would have one account per developer and use organisations to manage them This prevents developers from accidentally trashing each others versions and makes it really easy to track expenditure for each developer If you cant do that then I would use a different API key for each developer so that you can easily remove access for a single developer when they leave I would avoid a single shared API key Its impossible to prevent access to a single developer so if someone leaves or is let go then you end up needing to expire the key and reissue a new key to every developer "},
{"id": 31913, "question_id": 3191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-26T02:55:52Z", "scrap_date": "2024-05-01T00:23:58.485813", "content": "Thanks buggy That confirmed my target approach Cheers "},
{"id": 5382, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T13:46:12Z", "scrap_date": "2024-05-01T00:23:59.603532", "content": "How to use Serverless Variables to insert dynamic configuration info into your serverless yml Found this Guide name did not attract my attention tho maybe it should be more explicit "},
{"id": 5383, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T14:17:21Z", "scrap_date": "2024-05-01T00:23:59.604532", "content": "Just FYI with 60 functions it might make more sense to split them up into separate services so you dont have one huge serverless yml file "},
{"id": 5384, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T15:08:16Z", "scrap_date": "2024-05-01T00:23:59.605527", "content": "Its planned in the future Last month were kind of rushy FYI from what I see now my deploy time will go from 2 hours with Serverless 0 5 6 to 5 minutes with Serverless v1 so I like it"},
{"id": 5385, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T18:33:57Z", "scrap_date": "2024-05-01T00:23:59.605527", "content": "Awesome great to hear that youre happy with it Let us know if anything else comes up "},
{"id": 5386, "question_id": 538, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-18T00:43:17Z", "scrap_date": "2024-05-01T00:23:59.606527", "content": "I have the issue here I have several functions in the serverless yml I want to move each functions config into functions folder and use file pathtothefile to include them in the main serverless yml The serverless yml looks like this I got this error"},
{"id": 5387, "question_id": 538, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-18T09:31:09Z", "scrap_date": "2024-05-01T00:23:59.607528", "content": "I want to develop a plugin that will automatically detect function yml files under the root of the project Is there a lifecycle event that is fired every time the serverless yml is loaded Cant find it Do you guys have any idea how I could achieve this "},
{"id": 5388, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-26T18:26:03Z", "scrap_date": "2024-05-01T00:23:59.607528", "content": "titozzz Hello Im currently trying to do the same thing separate the function part from serverless yml inside each function Did you ever work out a solution using file pathtothefile Im working on automating the setup of a serverless service and am interested to know if youre working on a plugin"},
{"id": 5389, "question_id": 538, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-10-24T12:11:24Z", "scrap_date": "2024-05-01T00:23:59.608528", "content": "Hi Guys Just created a way to load functions in external files In the serverless yml file I put The wrapper script code follows The functions files are in the same directory that the script Bellow one function file I recommend to always put a new line at the end of function yml because the wrapper load all files content in a single variable Its important to exclude the jsyaml from deploy Regards "},
{"id": 53810, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T02:56:08Z", "scrap_date": "2024-05-01T00:23:59.609529", "content": "I like the idea of this One question being a relative newbie to Serverless Why is it important to exclude jsyaml Ive looked around and Im picking you exclude it in the package json file The other alternative from other comments would be to break up all the apis into seperate sls services to keep them lightweight Im wondering actually if this is not the best option as breaking them up would isolate changes made in one service from other services and only changes would get deployed as the other services would be unchanged"},
{"id": 53811, "question_id": 538, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T12:21:10Z", "scrap_date": "2024-05-01T00:23:59.610528", "content": "Hi I excluded the jsyaml just because its used only in the wrapper js I choosen a single project for the whole API because we have some vpcenv configuration and its easier to mantain in a single file Also we want to centrilize the deploy process for production Breaking up the API in sls services is a good aproach too but we found more easy to mantain the single file structure Regards "},
{"id": 31482, "question_id": 3148, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T12:41:44Z", "scrap_date": "2024-05-01T00:24:00.415812", "content": "When I make a REST call to my lambda endpoint what happens Does the call pass through ELB and then terminate right in my instance Or is there another instance in the middle that terminates the http request and then converts the REST call to stdin like Function Watchdog does with OpenFAAS If you want a deep understanding then youll need to find someone inside AWS who is willing to talk about it From what I can tell the API GW terminates the HTTP endpoint and invokes the Lambda just like you could Im wondering if lambda functions could be Docker images Not yet but I think its on the wish list for a lot of people "},
{"id": 21082, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-22T00:00:02Z", "scrap_date": "2024-05-01T00:24:01.221648", "content": "I expect the answer is very similar to per stage environment variables in which case it will be something like Note This hasnt been tested so it may require a little debugging"},
{"id": 21083, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T15:59:52Z", "scrap_date": "2024-05-01T00:24:01.222648", "content": "I tried this but it doesnt work When running sls offline start stage dev the console outputs Serverless command offline not found I tested it with a really simple config"},
{"id": 21084, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T08:29:31Z", "scrap_date": "2024-05-01T00:24:01.222648", "content": "stgogm Have you checked the serverlessoffline plugin is installed correctly"},
{"id": 21085, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T12:56:59Z", "scrap_date": "2024-05-01T00:24:01.223648", "content": "Yes of course Im sorry I forgot to mention that If I declare the plugins like that it works as expected but not if I reference it "},
{"id": 21086, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T18:55:54Z", "scrap_date": "2024-05-01T00:24:01.223648", "content": "I have the same problem and it has nothing to do with plugins really strange "},
{"id": 21087, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-24T13:30:07Z", "scrap_date": "2024-05-01T00:24:01.224649", "content": "I really need a solution for this Any insights buggy Thanks "},
{"id": 21088, "question_id": 2108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T17:26:50Z", "scrap_date": "2024-05-01T00:24:01.224649", "content": "Well I havent been able to solve this so I figured out a terrible workaround for this particular problem I created a config for each stage inside a stages folder in my project local yml development yml staging yml and production yml Each with the plugins required serverlessoffline andor serverlessdomainmanager or none And in my package json I added the following example You can add something like that to each stage or deploy task as needed That way each time a script is executed the appropriate serverless yml is assigned "},
{"id": 32022, "question_id": 3202, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T19:36:54Z", "scrap_date": "2024-05-01T00:24:02.123102", "content": "Pass topic into the function via environment variables httpsgithub comDavidWellsserverlessworkshopblobmasterlessonscodecompleteeventssnssnsadvancedserverless ymlL16"},
{"id": 32023, "question_id": 3202, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-27T20:08:21Z", "scrap_date": "2024-05-01T00:24:02.124103", "content": "Thanks but according to httpdocs aws amazon comAWSJavaScriptSDKlatestAWSSNS htmlpublishproperty I should pass TopicARN and phone number The topic you want to publish to If you dont specify a value for the TopicArn parameter you must specify a value for the PhoneNumber or TargetArn parameters TopicArn topicARN Either TopicArn or EndpointArn but not both If you dont specify a value for the TargetArn parameter you must specify a value for the PhoneNumber or TopicArn parameters TargetArn String"},
{"id": 32032, "question_id": 3203, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T21:45:39Z", "scrap_date": "2024-05-01T00:24:03.127599", "content": "This seems to work"},
{"id": 30402, "question_id": 3040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T15:59:23Z", "scrap_date": "2024-05-01T00:24:05.343930", "content": "This is probably what you want httpshackernoon comserverlesspasswordprotectingastaticwebsiteinanawss3bucketbfaaa01b8666 But you have to use cloudfront"},
{"id": 30403, "question_id": 3040, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-08T16:02:26Z", "scrap_date": "2024-05-01T00:24:05.344931", "content": "This is another solution that requires Cognito authentication httpdocs aws amazon comIAMlatestUserGuidereference_policies_examples_s3_cognitobucket html I believe there are policy variables available for role_names but I have not tried using them You would replace cognitoidentity amazonaws com sub with a role_name variable role idcallerspecifiedrolename where role id is the unique id of the role and the callerspecifiedrolename is specified by the RoleSessionName parameter passed to the AssumeRoleWithWebIdentity request "},
{"id": 30404, "question_id": 3040, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-11T11:24:45Z", "scrap_date": "2024-05-01T00:24:05.345925", "content": "You could use a custom authenticator that takes in JWT tokens You would control the access via REST paths rather than the specific buckets but just use JWT grants the rest path or some other identifier to route to the proper path in the bucket for your CRUD operations "},
{"id": 30342, "question_id": 3034, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-11T11:29:25Z", "scrap_date": "2024-05-01T00:24:06.199983", "content": "maxReceivesPerSecond You may have to define it as a Resource within your serverless yaml Serverless Framework AWS Infrastructure Resources Then you can use the CloudFormation syntax AWSSNSTopic AWS CloudFormation to attach the attributes you want applied when the SNS topic is created by cloud formation Your function will then need to make reference to the SNS topic via full ARN rather than just the name I cant recall the syntax for this offhand but there is a way to use the Ref intrinsic function within your serverless yml "},
{"id": 30762, "question_id": 3076, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-12T01:14:54Z", "scrap_date": "2024-05-01T00:24:07.152321", "content": "Without codes show us it is hard to do anything When I got the unauthorized error I do these check logs if there are any hints serverless logs f auth_function_name Clean the cache and set the TTL to 0 to do the troubleshooting Otherwise even you change something the cache still makes it unauthorized After fix the problem dont forget to change TTL value back Good luck "},
{"id": 30792, "question_id": 3079, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-12T09:33:07Z", "scrap_date": "2024-05-01T00:24:08.174676", "content": "Are you trying to get the cloudformation output of this service i e the service of this serverless yml file in which you are defining the environment variables If so I might have part of a solution with plugins but for that you would have to be able to access output generated by a plugin from within serverless yml Unfortunately I am not yet sure how to do that last part Ill see if I can figure this out Anyway if you can somehow access plugin output from within serverless yml then in your plugin you could do Note that you would have to wait for the afterawsinfogatherData lifecycle event to have occured otherwise the cloudformation output data will not yet be available To simplify this you can also install the serverlessscriptableplugin and then define a script instead of a new plugin to gather the output as such And then somehow you would have to in your serverless yml Of course the last step doesnt work Perhaps someone else here can enlighten us if this last step can be achieved"},
{"id": 30712, "question_id": 3071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-10T15:07:08Z", "scrap_date": "2024-05-01T00:24:08.867808", "content": "Instead of Sub try using FnGetAtt Heres an working example from one of my stacks bucket names changes to protect the innocent The policy includes 2 statements 1 for development allowing Public Get from localhost of objects in the MyS3BucketContracts folder The other for production allows Public Get of Objects in the same folder but only if the Referrer page is MyAppS3Bucket Hope this is helpful "},
{"id": 30713, "question_id": 3071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-11T00:39:16Z", "scrap_date": "2024-05-01T00:24:08.868808", "content": "Thanks for this Unfortunately couldnt get the FnJoins to work Even copying yours it says it isnt valid YAML But ended up building the ARN manually"},
{"id": 30714, "question_id": 3071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T10:11:24Z", "scrap_date": "2024-05-01T00:24:08.869809", "content": "iscofield building the ARN manually does not seem right Instead try reformatting the YAML to something like instead of I dont know why but this kind of formatting has worked for me in the past whereas I also got YAML errors with the shorter syntax "},
{"id": 30592, "question_id": 3059, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-09T13:30:56Z", "scrap_date": "2024-05-01T00:24:09.737238", "content": "Hey doque where is your iamRoleStatements in serverless yml Its supposed to be a field under provider rather than a toplevel block E g If that doesnt help can you share more of your serverless yml "},
{"id": 30593, "question_id": 3059, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-09T15:08:03Z", "scrap_date": "2024-05-01T00:24:09.738238", "content": "Thank you That was indeed it "},
{"id": 30594, "question_id": 3059, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T10:21:26Z", "scrap_date": "2024-05-01T00:24:09.738238", "content": "Even better would be to define this on a function level since probably not all of your functions need this role "},
{"id": 13852, "question_id": 1385, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T10:25:30Z", "scrap_date": "2024-05-01T00:24:10.742504", "content": "It sounds like you simply need to use a package manager and then import es6 or require the package after installing it with npm or yarn If your shared code can be made public publish it as libraries to NPM If not consider having a private NPM registry Alternatively you can include packages with direct references to private github repositories "},
{"id": 30542, "question_id": 3054, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T10:43:44Z", "scrap_date": "2024-05-01T00:24:11.904870", "content": "Did you disable reconnect in the mongo driver This error seems to be thrown only if reconnect is disabled "},
{"id": 29272, "question_id": 2927, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T11:07:11Z", "scrap_date": "2024-05-01T00:24:12.912475", "content": "folder function1 functionname This should work just fine Your problem is that you want to see your lambdas code in the AWS console This is a limitation of lambda as soon as you upload a zip instead of a single block of javascript code you wont be able to see the lambdas code within the AWS console The real question is why do you want to see your code in the AWS console I believe you should stay away from the AWS console as much as possible and just use the serverless framework and its functions within your code editor Can you confirm that the functions actually do work by making a HTTP request to them"},
{"id": 20432, "question_id": 2043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T07:58:17Z", "scrap_date": "2024-05-01T00:24:13.674727", "content": "HI pkubat I want do same thing as you wanted Have you find a way to resolve your issue"},
{"id": 20433, "question_id": 2043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T13:29:02Z", "scrap_date": "2024-05-01T00:24:13.675728", "content": "ztmdsbt Plugins are loaded before the serverless yml is parsed so you cant have dynamic variables like this Can you expand on the use case for having stagespecific plugins"},
{"id": 20434, "question_id": 2043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T18:32:13Z", "scrap_date": "2024-05-01T00:24:13.675728", "content": "My scenario is that I would like to debug TypeScript with serverlessoffline and without serverlesswebpack I was having trouble with the source mapping So being able to disable the webpack plugin during development would streamline the workflow So I guess I would not need this feature if I solved the webpack issue but debugging without webpack is faster to build too "},
{"id": 20435, "question_id": 2043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T20:47:19Z", "scrap_date": "2024-05-01T00:24:13.676723", "content": "I see That does make sense and I can understand why you would want that Unfortunately it doesnt really fit with how the Framework works given the plugin loading structure Sorry about that your best bet is just to comment out that plugin when needed "},
{"id": 20436, "question_id": 2043, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-30T21:02:57Z", "scrap_date": "2024-05-01T00:24:13.677723", "content": "Thanks Alex yeah that is what I ended up doing Also added documentation to the repos README about uncommenting and commenting those plugins "},
{"id": 20437, "question_id": 2043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T11:10:35Z", "scrap_date": "2024-05-01T00:24:13.677723", "content": "Why not always run the plugin and then inside the plugin access the environment from the options object You can then conditionally run the plugin logic If you dont want to define for which environment it should run within the plugin you could also do this within serverless yml and then have the plugin lookup if it should run or not based on the given environment Something like Indicating that it would only run its logic if the stage equals prod "},
{"id": 30732, "question_id": 3073, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T01:18:18Z", "scrap_date": "2024-05-01T00:24:14.697576", "content": "What IAM role did you check Did you wait for a while and check again The role policy is not updated immediately sometime you have to wait for several minutes "},
{"id": 30733, "question_id": 3073, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T13:50:13Z", "scrap_date": "2024-05-01T00:24:14.698576", "content": "I actually worked around this issue by adding a role manually in the AWS console and then linking to it in the provider section of serverless yml "},
{"id": 30022, "question_id": 3002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-01T09:29:15Z", "scrap_date": "2024-05-01T00:24:15.650642", "content": "I found a nice guide for this CodeEngine com Processing A Contact Form Using AWS Cloudfront API Gateway Lambda and SES Example Of Processing A Contact Form With AWS Cloudfront API Gateway Lambda and SES Amazon Web Services In case somebody else needs it But there is alot of configuration to do here in cloudfront I hope somehow I can copy that when I want to move from dev to production "},
{"id": 30023, "question_id": 3002, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-11-06T20:41:22Z", "scrap_date": "2024-05-01T00:24:15.651642", "content": "You should be doing your CloudFront configuration in CloudFormation You can do CloudFormation in your serverless yml under the resources property but I probably wouldnt do it in the same serverless yml as your application Your CloudFront distribution will rarely change so its best to keep it separate i e in a resourceonly service "},
{"id": 30024, "question_id": 3002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T20:25:52Z", "scrap_date": "2024-05-01T00:24:15.652643", "content": "Thx for the answer rowanu Ill look into cloudformation Regarding my original question I found out that I dont really need a domain pointing to my apigateway I used serverless yml files to configure the api But the downside of this is that all my functions got their own tiny apis I have moved away from that and now I just use serverless to upload the function Then I setup the api manually in the aws console That way all the functions can be under one common api and the basic url doesnt change That way I can have a dev url and a prod url in my frontend and I dont have to update it all the time "},
{"id": 30025, "question_id": 3002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T10:34:28Z", "scrap_date": "2024-05-01T00:24:15.654643", "content": "ObiWan it seems like bad practice to manually click around Amazons GUIs You should really manage your infrastructure from cloudformation probably within serverless yml Otherwise it would be hard for other developers to work on your infrastructure and it would be hard to run automated tests in your continuous integration pipelines as they cannot easily spawn a new instance of your setup "},
{"id": 30026, "question_id": 3002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-12T18:42:50Z", "scrap_date": "2024-05-01T00:24:15.655644", "content": "I completely agree But if I create all my functions in one serverless project wont I get one big function which will take longer time to wake from hibernation when it runs I have splittet all my functions into different projects and that means that I get an api for each if I configure it in the projects Am I with serverless able to configure the apis for functions which is not in the current project If so that would be neat then I could have an api project and still have lots of small functions "},
{"id": 30602, "question_id": 3060, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-12T10:31:44Z", "scrap_date": "2024-05-01T00:24:16.627720", "content": "I believe you could do something like this in serverless yml "},
{"id": 30603, "question_id": 3060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T14:44:48Z", "scrap_date": "2024-05-01T00:24:16.627720", "content": "Thanks tommedema that seems really obvious now I know it "},
{"id": 12592, "question_id": 1259, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-09T14:00:52Z", "scrap_date": "2024-05-01T00:24:17.545603", "content": "All of this can be done but not directly within serverless You can put a CloudFront distribution in front of your serverless applications which itself can have a Route 53 domain alias This would give you the subdomain for your APIs that you are looking for as well as the ability to have multiple serverless definitions API Gateway definitions within the same domain Not sure whenif CloudFront definitions will come to serverless There is a limitation on being able to supply your own SSL for a CloudFormation defined CloudFront definition IIRC and there may be other limitations as well making it better to define this manually rather than through configurations However that is just a guess "},
{"id": 12593, "question_id": 1259, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-11T11:34:12Z", "scrap_date": "2024-05-01T00:24:17.546604", "content": "To follow up this article was written recently to describe how to set it up directly with serverless in much more detilal Learn how to set up a custom domain name for AWS Lambda API Gateway using the Serverless Framework to configure a clean domain name for your services This plugin has also been created since then serverlessplugincustomdomain Add API Gateway Custom Domain BasePathMappings reliably"},
{"id": 12594, "question_id": 1259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T17:32:06Z", "scrap_date": "2024-05-01T00:24:17.547599", "content": "Another option serverlessdomainmanager plugin Im using this one in my project and its worked well Handles creation of the Route53 record as well as variable basePath by stage Heres the relevant section from my serverless yml Hope it helps "},
{"id": 14192, "question_id": 1419, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-24T23:56:14Z", "scrap_date": "2024-05-01T00:24:18.413337", "content": "I took the HTTP proxy example and modified to implement MOCK integration until it matched what I wanted I used the solution suggested here to pass in secrets Storing Database credentials securely If your method is anything other than a basic GET or POST an OPTIONS method for CORS will also be needed "},
{"id": 14193, "question_id": 1419, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-13T20:47:12Z", "scrap_date": "2024-05-01T00:24:18.415337", "content": "If anyone else comes across this Just spent a few hours trying to figure this out I needed to add a mock HEAD response to an existing endpoint at users id After a bit of trial and error I looked at the generated cloudformationtemplatecreatestack json that gets created for my existing endpoints and followed that template Below is the answer Note that the key part is the referencing the existing api using the serverless naming schema ApiGatewayResource YOUR_FUNCTION_NAME DYNAMIC_VAR_NAME Var"},
{"id": 30932, "question_id": 3093, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T03:53:34Z", "scrap_date": "2024-05-01T00:24:19.359715", "content": "SOLVED nevermind I got it working using symlinks If anyone has a similar issue here is what I did from the root of my main project cd api1 ln s core_code corecode And that will link in the core_code directory and on deploy it will package the core code into the main deployment package Tested successfully "},
{"id": 30933, "question_id": 3093, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T11:05:02Z", "scrap_date": "2024-05-01T00:24:19.360716", "content": "Not really get your point when you say it is resolved Are you thinking to fix it with different stages option of stage "},
{"id": 28672, "question_id": 2867, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T07:47:51Z", "scrap_date": "2024-05-01T00:24:21.421214", "content": "Is this a normal behaviour Why is there CloudFront in between if I have not enabled it manually"},
{"id": 28673, "question_id": 2867, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T08:13:24Z", "scrap_date": "2024-05-01T00:24:21.421214", "content": "It sounds suspiciously like a problem with the custom authorizer because of the status code and 5 minutes being the default TTL to cache custom authorizer results You could try checking the Cloud Watch logs to see if your Lambda actually runs You could also try setting the TTL to 0 so the cache is disabled to see if returns 200 sooner "},
{"id": 28674, "question_id": 2867, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T08:46:25Z", "scrap_date": "2024-05-01T00:24:21.422214", "content": "Please find attached my authorizer The code is based on httpdocs aws amazon comapigatewaylatestdeveloperguideusecustomauthorizer html Is it possible that by setting the context awsRequestId as principalId instead of some fixed value like user in the aws example something gets mixed up What would be the appropriate usage of the principalId "},
{"id": 28675, "question_id": 2867, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T09:17:01Z", "scrap_date": "2024-05-01T00:24:21.423214", "content": "Its been a while since I used a custom authorizer so Im a little rusty here The way Ive always understood custom authorizers is they need to return a policy document with all of the resources the user is allowed to access By default that policy document is cached against authorization token for 5 minutes In your case the first time the custom authorizer is called it grants access to invoke the Lambda handling the POST but not the GET When you then call the GET it fails because the cached policy says they dont have access After 5 minutes when the cache has expired and you attempt to GET it generates a new policy saying you have access to GET but not POST Solution 1 Return a policy that allows access to the Lambdas handling both the POST and GET Solution 2 Set resultTtlInSeconds 0 so that the policy document isnt cached "},
{"id": 28676, "question_id": 2867, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-24T06:31:02Z", "scrap_date": "2024-05-01T00:24:21.425214", "content": "Thank you very much for such a detailed answer Solution 1 did the job I really had to consider that the policies are cached such that all policies have to be returned directly not only for the requested arn "},
{"id": 29572, "question_id": 2957, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-26T06:14:52Z", "scrap_date": "2024-05-01T00:24:22.398436", "content": "Figure out only and must only put the attributes used by index into attribute definition httpsmaketips nettip156cloudformationdynamodbindexwithgsi"},
{"id": 29612, "question_id": 2961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-26T13:48:01Z", "scrap_date": "2024-05-01T00:24:23.248985", "content": "iamatharkhan Can you give more detail on what is not working Is it throwing an error Is it deploying the function without hooking up the triggers The first syntax should work I just deployed a sample project with it and confirmed there are two subscription triggers Perhaps its a YML indentation issue FWIW here is my full serverless yml with two subscriptions to one topic"},
{"id": 29613, "question_id": 2961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-26T15:17:47Z", "scrap_date": "2024-05-01T00:24:23.249985", "content": "Hi alexdebrie1 thanks for looking into it The first syntax was incorrect because I am using preexisting topics So the new syntaxs Ive tried are following i am getting following error Serverless Error "},
{"id": 29614, "question_id": 2961, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-26T15:31:48Z", "scrap_date": "2024-05-01T00:24:23.250985", "content": "Hmm that first one should work What if you tried putting the ARN on the same line as the sns declaration"},
{"id": 29652, "question_id": 2965, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-26T20:03:10Z", "scrap_date": "2024-05-01T00:24:24.051419", "content": "Change the Ref to Ref"},
{"id": 29682, "question_id": 2968, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-26T20:30:57Z", "scrap_date": "2024-05-01T00:24:25.031335", "content": "Hey webchaz you should be able to access it at event requestContext identity sourceIp Theres an example API Gateway event object here Also in the docs where you found the context documentation thats included in the event object in the requestContext key as shown above when using the default lambdaproxy event type "},
{"id": 29352, "question_id": 2935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-26T21:19:01Z", "scrap_date": "2024-05-01T00:24:25.669343", "content": "My RDS is not in Amazon VPC and my lambda is in Amazon VPC This is going to cause you lots and lots of pain Can your Lambda function communicate to the Internet Thats what it will need to even attempt a connection to your RDS instance if its not in your VPC This sounds like a very nonstandard complicated and probably insecure setup e g publicfacing database is there any chance you can simplify it"},
{"id": 29353, "question_id": 2935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-27T05:45:03Z", "scrap_date": "2024-05-01T00:24:25.671350", "content": "Hi If you are using NodeJS try this this solved a similar issue with RDSPostgre httpdocs aws amazon comlambdalatestdgnodejsprogmodelcontext html"},
{"id": 27912, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-18T22:25:25Z", "scrap_date": "2024-05-01T00:24:26.509525", "content": "I think the vanilla way to do this would be parse the output of the sls deploy or sls info commands and test those You could also get the stack outputs which include the endpoints and test those so you dont have to parse text "},
{"id": 27913, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-20T15:02:00Z", "scrap_date": "2024-05-01T00:24:26.510525", "content": "I was considering the same problem yesterday as far as I can tell nothing currently exists to output the stack outputs to a file In bash I managed to come up with this serverless info verbose grep ServiceEndpoint sed sServiceEndpoint\\\\ g awk print 1yourpath xargs n1 curl Not the prettiest and Im trying to work a way to make it into a plugin at the moment or at least aliasable in bash "},
{"id": 27914, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-21T02:02:35Z", "scrap_date": "2024-05-01T00:24:26.511525", "content": "Thank you redroot sls info seems to be the good way to start However if you have a custom domain and use the serverlessdomainmanager plugin the name of the domain is not printed in the info output But I guess that is something I should report to the plugin author I highly appreciate your efforts embedding this to a plugin "},
{"id": 27915, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-23T10:02:21Z", "scrap_date": "2024-05-01T00:24:26.512526", "content": "balassy thats a shame does serverless info verbose also not print it out"},
{"id": 27916, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-24T02:59:04Z", "scrap_date": "2024-05-01T00:24:26.513526", "content": "redroot No even with the verbose parameter the custom domain does not get printed to the output so Ive created an issue for that httpsgithub comamplifyeducationserverlessdomainmanagerissues35"},
{"id": 27917, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-27T21:08:00Z", "scrap_date": "2024-05-01T00:24:26.513526", "content": "Thanks to jconstanceamplify the 1 1 16 version of the serverlessdomainmanager package prints the name of the custom domain in the sls info verbose output "},
{"id": 27918, "question_id": 2791, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-27T21:13:59Z", "scrap_date": "2024-05-01T00:24:26.514526", "content": "FYI I started another discussion on producing a computer friendly output in sls info "},
{"id": 29452, "question_id": 2945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-31T00:31:23Z", "scrap_date": "2024-05-01T00:24:27.511459", "content": "Bumping this again to see if anyone knows If not Ill open an issue in Github"},
{"id": 29832, "question_id": 2983, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T13:23:01Z", "scrap_date": "2024-05-01T00:24:28.524646", "content": "Hey aussiegeek can you tell me what errors youre getting I was able to subscribe to this topic without any issues For reference heres my serverless yml "},
{"id": 29833, "question_id": 2983, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-31T05:29:13Z", "scrap_date": "2024-05-01T00:24:28.525647", "content": "Turns out Id typod the arn of the SNS topic and was hitting invalid name errors because cloudformation was trying to create a new topic"},
{"id": 29834, "question_id": 2983, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-31T13:22:08Z", "scrap_date": "2024-05-01T00:24:28.526647", "content": "Nice good to hear I will say I had some issues removing the stack when I was done I couldnt call ListSubscriptions on the SNS topic since I dont own it which caused some other problems with the removal process You might need to manually remove some items "},
{"id": 29282, "question_id": 2928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-23T08:48:51Z", "scrap_date": "2024-05-01T00:24:29.037583", "content": "If you dont want resources to be updated when you do a deploy its usually a sign they belong in a different service "},
{"id": 29283, "question_id": 2928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-23T10:52:41Z", "scrap_date": "2024-05-01T00:24:29.038583", "content": "but the resource has a reference to other resource in the file policy is part of CognitoAuthRole which have ref to CognitoIdentityPool And another question Is it possible to change the attributes of the resource without making it to be created as new to only update the resource without creating a new one i e changing one of the cognito pool attributes so the cognito pool wont be recreated and all of the users will be kept "},
{"id": 29284, "question_id": 2928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-25T01:07:17Z", "scrap_date": "2024-05-01T00:24:29.039583", "content": "Thats what CloudFormation outputs which are supported by sls variables and crossstack references are for The specific resource property determines if a resource will be edited or replaced when its changed check the Update requires field for the relevant resource in the CFN docs e g Cognito User Pools "},
{"id": 29285, "question_id": 2928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-25T20:32:06Z", "scrap_date": "2024-05-01T00:24:29.040584", "content": "Im pretty sure that changing the role wont result in a deletereplace of your userpool I would test this first but Im 90 certain of two things With those things in mind Im not sure you have a problem The way to verify this is pretty simple Deploy your stack log into the console and create a user in your userpool Then make some changes to the AuthRole and redeploy If your user is still there you have no problem "},
{"id": 29286, "question_id": 2928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-31T12:38:27Z", "scrap_date": "2024-05-01T00:24:29.041584", "content": "I tried to do this therefore I asked the question the problem exists a new cognito pool with a new id is created when changing the policy and try to deploy again "},
{"id": 29287, "question_id": 2928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-31T18:35:07Z", "scrap_date": "2024-05-01T00:24:29.042584", "content": "I just verified this on my own stack that is nearly identical to yours I am able to change the policy statement in the cognito authunauth roles without deleting and recreating the userpools Not sure exactly what you are doing to make them deleterecreate themselves "},
{"id": 29812, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-29T18:15:33Z", "scrap_date": "2024-05-01T00:24:29.846167", "content": "Hey bill If I understand your question correctly the syntax would be something like Does that help For reference here are docs on Serverless custom authorizer settings "},
{"id": 29813, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-29T22:27:03Z", "scrap_date": "2024-05-01T00:24:29.847167", "content": "Thanks a lot alexdebrie1 Thats what I am looking for Finally I realised whatever I transfer the header with other name in identitySource in aws event it is still called authorizationToken and I still need to use event authorizationToke to catch its value That explains why my code event headers[Xtoken] doesnt work before And it is really good that the key of specified authorization header is case insensitive"},
{"id": 29814, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T01:29:15Z", "scrap_date": "2024-05-01T00:24:29.848168", "content": "alexdebrie1 Do you have any ideas that how to let the authorizer to accepts multiple headers I need to authorise both headers "},
{"id": 29815, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-30T01:32:32Z", "scrap_date": "2024-05-01T00:24:29.849168", "content": "bill I think youd need to use the REQUEST type for your custom authorizer This passes in the entire request rather than just a single header "},
{"id": 29816, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-30T01:33:28Z", "scrap_date": "2024-05-01T00:24:29.849168", "content": "REQUEST type thanks I am not sure if I fully understand this part but will take a try "},
{"id": 29817, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-01T06:04:00Z", "scrap_date": "2024-05-01T00:24:29.850168", "content": "Hi you can either use TOKEN or REQUEST type of custom authorizer with API Gateway With TOKEN youll get only the one header that you have defined as event payload along with method arn and with REQUEST youll get the whole request event with all headers httpdocs aws amazon comapigatewaylatestdeveloperguideusecustomauthorizer htmlapigatewaycustomauthorizerinput This feature will be supported in the next release of Serverless Framework httpsgithub comserverlessserverlesspull4372 "},
{"id": 29818, "question_id": 2981, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-01T07:18:23Z", "scrap_date": "2024-05-01T00:24:29.851169", "content": "Thanks I already built with latest serverless codes and using this feature "},
{"id": 29512, "question_id": 2951, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-01T10:53:08Z", "scrap_date": "2024-05-01T00:24:30.838494", "content": "Issue with the develop branch should be reported at Github project "},
{"id": 30032, "question_id": 3003, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-01T12:19:08Z", "scrap_date": "2024-05-01T00:24:31.890173", "content": "Due to AWS concept limitations only a workaround is helpful httpsforums aws amazon comthread jspamessageID783626783626"},
{"id": 30012, "question_id": 3001, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-01T09:48:51Z", "scrap_date": "2024-05-01T00:24:32.805542", "content": "nsizer youre in luck 1 24 will be releasing today Im excited about the new Authorizer Type as well Edit Its live Check out the v1 24 release notes "},
{"id": 28752, "question_id": 2875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T22:52:27Z", "scrap_date": "2024-05-01T00:24:33.658888", "content": "Deploying multiple microservices under a single API GW was added recently See How to deploy multiple microservices under one API domain with Serverless Note I havent actually tried it yet Each resource has a unique template that lets the single lambda function which table to use in the database as well as some other info that tells it which fields on the body are required or not The easiest solution is probably to simplify the routing at the API GW by moving some of the configrouting into the Lambda"},
{"id": 28753, "question_id": 2875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T16:05:53Z", "scrap_date": "2024-05-01T00:24:33.659889", "content": "Doesnt the first solution you provided only make the apis appear to be combined The plugin describes setting up a custom URL to assign each API gateway to a subsection of this doesnt exactly solve the issue of keeping them together Unless its doing something else that Im not aware of that doesnt seem like it actually solves the problem "},
{"id": 28754, "question_id": 2875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T17:45:18Z", "scrap_date": "2024-05-01T00:24:33.660889", "content": "Hey maybe you could use a proxy endpoint One for every combinationmethod api proxy "},
{"id": 28755, "question_id": 2875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-18T15:46:26Z", "scrap_date": "2024-05-01T00:24:33.660889", "content": "CloudFormation has a limit of 200 stacks per deployment httpdocs aws amazon comgenerallatestgraws_service_limits htmllimits_cloudformation Each CORS configuration for an endpoint adds another Stack to your set so your effective size will be N number of endpoints 2 whatever else you have going on So you really have 2 options in front of you Break your code up so that groups of endpoints are facilitated by a single function Usually this is done around a logical resource path users is one function accounts is another If you dont want to break up your application into microservices then you will have to look at a different cloud provider They may treat the structure differently and your deployment will no longer hit the account limits "},
{"id": 28756, "question_id": 2875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-20T10:21:34Z", "scrap_date": "2024-05-01T00:24:33.662890", "content": "This is the reason why we are still on 0 5 6 of serverless framework where these limits were never reached We tried to upgrade to 1 x but these limitations prevented us from using it which is a real shame I am hoping that one day some other solution will be made available to allow us to upgrade "},
{"id": 28757, "question_id": 2875, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-01T19:29:36Z", "scrap_date": "2024-05-01T00:24:33.663890", "content": "I have decided to go with a different approach than Serverless for API definintions I am using Swagger to define my endpoints and then run a node script that assembles and uploads the swagger to my API This way I have 2 MB of template that I can use instead of being limited by CloudFormation sizes "},
{"id": 30062, "question_id": 3006, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-02T00:18:35Z", "scrap_date": "2024-05-01T00:24:34.620767", "content": "In API Gateway custom authorizer settings are attached to the custom authorizer not the individual resourcesmethods However authorizer settings are defined at the event level in serverless yml So it looks serverless doesnt translate this configuration into an appropriate number of custom authorizers in API Gateway As a workaround you might need to deploy two instances of the same function and then reference each one individually with the separate settings "},
{"id": 6922, "question_id": 692, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-31T22:36:38Z", "scrap_date": "2024-05-01T00:24:36.426684", "content": "The main reason for using separate accounts is to protect Production from the other environmentsstages Having separate accounts for your environments is the recommended by AWS way to limit the blast radius of your applications and users It means you can give your developers full access to a development account and not have to worry about your production application s be impacted unintentionally While you could theoretically limit access to stagesenvironments in the same account using IAM permissions it would be very fiddly errorprone frustrating and basically not worth the effort This separation is a musthave in most larger organisations If youre working in a smaller organisation maybe you can get away with one account for everything but in the longrun youll be much better off using multiple accounts theres not additional cost from the AWS side of things and it will make youre life much simpler i e troubleshooting reporting etc "},
{"id": 6923, "question_id": 692, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-29T23:41:28Z", "scrap_date": "2024-05-01T00:24:36.427684", "content": "I created different profiles in the config and credentials files but when I deployed using a profile which I thought referred to a different account it still deployed to the same account as my original profile Where how in serverless yml do you specify the account that it should deploy to"},
{"id": 6924, "question_id": 692, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T00:04:19Z", "scrap_date": "2024-05-01T00:24:36.428685", "content": "You can specify the profile inside the provider block ie Make sure foo matches the profile name in your awscredentials"},
{"id": 6925, "question_id": 692, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-30T18:44:46Z", "scrap_date": "2024-05-01T00:24:36.429685", "content": "Thank you However Im way beyond that point Ive got multiple profiles configured and I can successfully use them as you stated Ive also got them configured to accept the command line option variable The problem is that we use different AWS accounts for different stages but even when I use the profile and credentials for the new account when I run SLS deploy profile it still ends up creating the project in the original account even though the credentials for the devApd profile are in the new account provider name aws runtime nodejs6 10 stage devAws profile selfcustom profiles selfprovider stage region uswest2 custom defaultStage devAws myStage optstage selfcustom defaultStage myRegion optregion selfprovider region profiles devAws devAws Original shared dev env devApd devApd prodAws prodAws C\\TFS\\APDRepairSolutions\\Main\\Source\\OECAWSComponents\\oecorderupdateappSLS deploy stage devApd AWSprofile devApd Serverless Packaging service Serverless Excluding development dependencies Serverless Uploading CloudFormation file to S3 Serverless Uploading artifacts Serverless Uploading service zip file to S3 5 31 MB Serverless Validating template Serverless Updating Stack Serverless Checking Stack update progress Serverless Stack update finished Service Information service oecOrderUpdate stage devApd region uswest2 api keys None endpoints POST https executeapi uswest2 amazonaws comdevApdOrderCreated POST https executeapi uswest2 amazonaws comdevApdOrderUpdated POST https executeapi uswest2 amazonaws comdevApdAttachmentCreated GET https executeapi uswest2 amazonaws comdevApdApiHealthCheck functions orderCreated oecOrderUpdatedevApdorderCreated orderUpdated oecOrderUpdatedevApdorderUpdated attachmentCreated oecOrderUpdatedevApdattachmentCreated apiHealthCheck oecOrderUpdatedevApdapiHealthCheck"},
{"id": 6926, "question_id": 692, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T07:25:27Z", "scrap_date": "2024-05-01T00:24:36.432685", "content": "SLS deploy profile Last time I checked there wasnt a profile option for sls deploy You need to set the AWS_PROFILE environment variable If you dont then it uses the default profile Try using"},
{"id": 6927, "question_id": 692, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T18:01:41Z", "scrap_date": "2024-05-01T00:24:36.433685", "content": "mitchellLisa Sorry for the late response Did you get it to work SLS deploy stage devApd AWSprofile devApd I see you are using awsprofile Does devApd match the profile name in your aws credentials file buggy is right profile will not work "},
{"id": 6928, "question_id": 692, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T18:17:57Z", "scrap_date": "2024-05-01T00:24:36.434686", "content": "Yes I was fortunate enough to have already been helped I had a variable in the wrong place Thank you for replying though "},
{"id": 15252, "question_id": 1525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T20:35:37Z", "scrap_date": "2024-05-01T00:24:37.219941", "content": "I get the same thing did you find a solution"},
{"id": 15253, "question_id": 1525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-15T13:17:09Z", "scrap_date": "2024-05-01T00:24:37.220941", "content": "Same here Is this a local environment issue node version 6 11 4 OS Linux Mint v18 2 Serverless version 1 23 0 Thanks Javier"},
{"id": 28962, "question_id": 2896, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T08:27:22Z", "scrap_date": "2024-05-01T00:24:38.151377", "content": "The serverless framework uses cloud formation Anything you can define in cloud formation you can define in the resource section of your serverless yml "},
{"id": 19602, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T05:00:32Z", "scrap_date": "2024-05-01T00:24:39.312110", "content": "not working still trying to burrow into the cloudwatch logs"},
{"id": 19603, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T05:08:10Z", "scrap_date": "2024-05-01T00:24:39.313111", "content": "This is my current serverless yml Not working but I noticed my RDS is available in apsoutheast2b whilst my lambda functions are deployed to US East N Virginia Could this be an issue"},
{"id": 19604, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-30T06:16:55Z", "scrap_date": "2024-05-01T00:24:39.313111", "content": "Your RDS database and Lambda function are required to be within the same VPC The instruction on the AWS side on how to do so is here and how to specify VPC details in the Serverless framework is here Hope that helps"},
{"id": 19605, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T07:54:39Z", "scrap_date": "2024-05-01T00:24:39.314111", "content": "The second url is the same mate Thanks"},
{"id": 19606, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-30T07:58:33Z", "scrap_date": "2024-05-01T00:24:39.315111", "content": "Thanks Fixed Was in a hurry as I was busy heading out as I posted that "},
{"id": 19607, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T00:50:55Z", "scrap_date": "2024-05-01T00:24:39.315111", "content": "Thanks again I created a new IAM Role which before I was adding the policies to the existing IAM User which was created for the serverless deployment This is the provider part of my serverless yml This doesnt work I am concerned that the profile and role have conflicts UPDATE This works it was the IP of the security group on AWS that needed to be set for internal access "},
{"id": 19608, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-31T01:51:53Z", "scrap_date": "2024-05-01T00:24:39.316112", "content": "I also needed to set my Security Group Postgres TCP IP to accept calls from IP \t 0 0 0 00 which is all internal calls basically Thanks for the help"},
{"id": 19609, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T19:56:10Z", "scrap_date": "2024-05-01T00:24:39.317112", "content": "Hmm If I create a database on aws Should it then be possible for me to deploy a nodejs function lambda and with configuration in serverless yml give it access to my database If I deploy my function and then go to my database and allow everyone to connect to it then it works But is that nesseserry By reading here I have read I should configure this vpc securityGroupIds sg9999999 subnetIds subnet9999999 subnet9999999 subnet9999999 The security group is from my mysql instance details page And so are the subnets Is that correct It still doesnt work unless I allow access to my db from all ips "},
{"id": 196010, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T20:14:12Z", "scrap_date": "2024-05-01T00:24:39.318112", "content": "Ok Just learned a little more The vpc securityGroup I add for my functions serverless yml is the group which will be added to that function And then what I need to do before that is to allow that group access to that vpc I use Is that the same way you guys do it or is there a smarter way"},
{"id": 196011, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-12T23:33:48Z", "scrap_date": "2024-05-01T00:24:39.319113", "content": "RDS Lambda is complicated It feels like you need to chose between security or fast cold start times If your Lambda is inside the VPC your database is secure but your Lamdba cold start time rises from 3s to 13s Deploy Lambda outside the VPC and you need to open your database to the world "},
{"id": 196012, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T05:32:53Z", "scrap_date": "2024-05-01T00:24:39.319113", "content": "Thx for replying Can you tell me how I decide if my lambda runs on the vpc or normal Is that by giving the lambdas security group access to the vpc resource"},
{"id": 196013, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T06:23:46Z", "scrap_date": "2024-05-01T00:24:39.320113", "content": "Ultimately I decided that Lambda RDS was a bad idea for a web app and stayed with DynamoDB If I had to connect to RDS from Lambda then I would run the Lambda inside the VPC for security reasons "},
{"id": 196014, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T17:01:44Z", "scrap_date": "2024-05-01T00:24:39.321113", "content": "Ill take a look at DynamoDB Im starting up a new project and still havent chosen the technology stack "},
{"id": 196015, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T19:19:35Z", "scrap_date": "2024-05-01T00:24:39.321113", "content": "Do you code with nodejs whcih library do you use On this page there are so many to choose from httpsaws amazon comdynamodbcommunity"},
{"id": 196016, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-14T00:32:13Z", "scrap_date": "2024-05-01T00:24:39.322114", "content": "Ive been using httpdocs aws amazon comAWSJavaScriptSDKlatestAWSDynamoDBDocumentClient html"},
{"id": 196017, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-15T18:02:08Z", "scrap_date": "2024-05-01T00:24:39.322114", "content": "Cool thx The last days I have ben googling a bit about dynamodb it seems a few of the week points are transaction handling and backup of the database Is that something you also experience as a problem"},
{"id": 196018, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-15T20:57:44Z", "scrap_date": "2024-05-01T00:24:39.323114", "content": "Ok looks like Im to eager to ask questions Just found out there is a batch put and batch delete So I guess that solves the transactional issue "},
{"id": 196019, "question_id": 1960, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T08:30:50Z", "scrap_date": "2024-05-01T00:24:39.324114", "content": "Backup is fine There are no transactions The eventual consistency can also be a problem if you dont design your app to deal with it "},
{"id": 28702, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T22:15:30Z", "scrap_date": "2024-05-01T00:24:40.306069", "content": "Have you tried making the service name dynamic Im guessing that the deployment bucket for Serverless is still in the same region but if you change the service name it should treat it as a completely new service and you wont have that issue "},
{"id": 28703, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-12T22:42:15Z", "scrap_date": "2024-05-01T00:24:40.306069", "content": "Try using or just remove the deploymentBucket "},
{"id": 28704, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T12:27:11Z", "scrap_date": "2024-05-01T00:24:40.307069", "content": "I can not remove the deployment bucket for policy reasons but your first suggestion worked Can you explain the difference between selfprovider region and optregion selfprovider region I read it as selfprovider region is the value I specify with region not sure what the optregion part is "},
{"id": 28705, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-14T00:25:34Z", "scrap_date": "2024-05-01T00:24:40.308070", "content": "Using region doesnt change the value of selfprovider region Its always the value of region set in the provider section of serverless yml By using optregion selfprovider region youre telling it to use the value from the region command line option if provided then the value for region from the provider section in your serverless yml if it isnt "},
{"id": 28706, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-14T09:38:04Z", "scrap_date": "2024-05-01T00:24:40.309070", "content": "regarding your sample about region to be defined I have another question Can we defaultly set the order in sls on how to read the variables "},
{"id": 28707, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-14T10:29:23Z", "scrap_date": "2024-05-01T00:24:40.309070", "content": "The easiest solution is probably to set it as Then just use selfprovider region If you want others then add them into the list "},
{"id": 28708, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-14T20:16:51Z", "scrap_date": "2024-05-01T00:24:40.310070", "content": "Thanks How can we let sls know this order without add them as a long list in serverless yml looks sls doesnt support this feature currently Refer AWS Cli httpdocs aws amazon comclilatestuserguideclichapgettingstarted htmlconfigsettingsandprecedence could we have the similar feature in SLS The AWS CLI looks for credentials and configuration settings in the following order Command line options region output format and profile can be specified as command options to override default settings Environment variables AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY and AWS_SESSION_TOKEN The AWS credentials file located at awscredentials on Linux macOS or Unix or at C\\Users\\USERNAME aws\\credentials on Windows This file can contain multiple named profiles in addition to a default profile The CLI configuration file typically located at awsconfig on Linux macOS or Unix or at C\\Users\\USERNAME aws\\config on Windows This file can contain a default profile named profiles and CLI specific configuration parameters for each Container credentials provided by Amazon EC2 Container Service on container instances when you assign a role to your task Instance profile credentials these credentials can be used on EC2 instances with an assigned instance role and are delivered through the Amazon EC2 metadata service I prefer order 1 2 3"},
{"id": 28709, "question_id": 2870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T09:19:37Z", "scrap_date": "2024-05-01T00:24:40.312071", "content": "If you want to request a feature youll need to submit an issue on the Github project page "},
{"id": 28082, "question_id": 2808, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T09:33:02Z", "scrap_date": "2024-05-01T00:24:40.724576", "content": "You could schedule a Cloud Watch Event via the API httpdocs aws amazon comAWSJavaScriptSDKlatestAWSCloudWatchEvents htmlputRuleproperty"},
{"id": 28142, "question_id": 2814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T01:25:25Z", "scrap_date": "2024-05-01T00:24:41.686797", "content": ""},
{"id": 28143, "question_id": 2814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T09:02:36Z", "scrap_date": "2024-05-01T00:24:41.687797", "content": "Thanks for replying TrentBartlem but my triggers are reoccurring like it will run every day of month or week The solution you give is for one time trigger only "},
{"id": 28144, "question_id": 2814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T00:26:30Z", "scrap_date": "2024-05-01T00:24:41.688798", "content": "So have 2 lambdas listen to expired events "},
{"id": 28145, "question_id": 2814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T09:35:32Z", "scrap_date": "2024-05-01T00:24:41.688798", "content": "Create Cloud Watch Events via the API and trigger your Lambda httpdocs aws amazon comAWSJavaScriptSDKlatestAWSCloudWatchEvents htmlputRuleproperty"},
{"id": 28262, "question_id": 2826, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-06T01:32:44Z", "scrap_date": "2024-05-01T00:24:42.788587", "content": "I believe that by default AWS will retry a failing Lambda 2 times with exponential backoff "},
{"id": 28263, "question_id": 2826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-06T09:16:28Z", "scrap_date": "2024-05-01T00:24:42.789586", "content": "Thanks Trent I reread the retry documentation httpdocs aws amazon comlambdalatestdgretriesonerrors html and I see it says the same thing I must have missed the first failure somehow so it looked like the lambda was just being run twice every time Cheers Adam"},
{"id": 28264, "question_id": 2826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T09:27:07Z", "scrap_date": "2024-05-01T00:24:42.790587", "content": "First rule of Serverless is Lambdas must be idempotent That said it does sounds funny Normally this only happens occasionally "},
{"id": 28265, "question_id": 2826, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T09:54:18Z", "scrap_date": "2024-05-01T00:24:42.790587", "content": "Agreed and thats true in this case too I only spotted it because it was screwing up my monitoring A lambda that appeared to be succeeding was still showing as an error As it is the root issue turned out to be an hidden asynchronicity in elasticsearch which highlighted an unhandled exception path in my code So the first invocation failed but the second worked As Trent and the documentation points out theres an automatic retry when the lambda is invoked by an event so whilst it looked like voodoo it was actually doing the right thing Cheers A"},
{"id": 28902, "question_id": 2890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T05:14:40Z", "scrap_date": "2024-05-01T00:24:43.577607", "content": "I wrote this a while ago about environment variables You can use the same approach for other variables i e different readwrite capacity on tables for each environment etc As developers we all know that it is best practice to keep configuration outside of the application This serves two purposes It makes it easier to deploy the application into different environments stages like development staging and production "},
{"id": 28903, "question_id": 2890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T10:28:42Z", "scrap_date": "2024-05-01T00:24:43.578700", "content": "Thanks buggy very informative document Seems we are in different approach I prefer to manage the environments with different env files which you mix them into one For my problem that using ssmdeletion_policy in env file do you think thats a bug"},
{"id": 28892, "question_id": 2889, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-16T05:07:56Z", "scrap_date": "2024-05-01T00:24:44.668493", "content": "A stage in the Serverless Framework context is a complete environment Different Lambdas S3 buckets DynamoDB tables API GW etc This makes it easy to deploy traditional stages i e testing production etc that are independent and is probably what youre really after Using the API GW stage to manage dev uat prod etc is messy at best and more likely dangerous "},
{"id": 28893, "question_id": 2889, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T10:34:12Z", "scrap_date": "2024-05-01T00:24:44.670493", "content": "I understand your points But seems this feature is not available "},
{"id": 28152, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-04T21:44:34Z", "scrap_date": "2024-05-01T00:24:45.473833", "content": "It may be beyond what you want to setup in your serverless CloudFormation template but the way we solve this problem is to have a small EC2 instance in the VPC called a bastion host This enables us to establish ssh tunnels to the JDBC endpoint of the database RDS or Redshift in the VPC Then we can connect psql or SQL dashboards running on our laptops to the database You might check out this QuickStart for creating such a box httpsaws amazon comquickstartarchitecturelinuxbastion"},
{"id": 28153, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T05:09:32Z", "scrap_date": "2024-05-01T00:24:45.474833", "content": "Sorry no I the functions I have that need to VPC to connect to postgres also dont reach out they time out even though I get results from my database queries Im not sure how to get this to connect theres talk of NATs and allowing traffic from 0 0 0 00 but Im clueless how I go about adding that to the CloudFormation template Advice would be appreciated "},
{"id": 28154, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-08T00:46:19Z", "scrap_date": "2024-05-01T00:24:45.475833", "content": "To make a db reachable on the public Internet you would need to make the subnet it is in public by adding an internet gateway and then adding the rds resource flags to make your db publicly accessible This of course is not very secure so you would minimally want to add ip whitelisted security groups attached to the db Alternatively you can do the bastion host setup as mentioned above put that into a public subnet and add security group rules that allow communication between the host and the db Also make sure that there are no subnet nacls that block traffic by default there arent any If you do the bastion host you can then do a forwarded port on your system from the db port to the host forwarding it to the db then use your pg client to connect to localhost which will forward that to the db NAT is only for outbound access of hosts in a private subnet so they can make outbound calls but they dont allow in traffic Bastion host is the preferred open db is a bad idea "},
{"id": 28155, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T06:19:05Z", "scrap_date": "2024-05-01T00:24:45.477828", "content": "Im dealing with a similar topic so these are actually ideas not proven examples All AWS Lambda functions run securely inside a default systemmanaged VPC ClassicLink removes the need to make use of public IPv4 addresses or Elastic IP addresses to enable communication between instances in these platforms Update August 23 2023 The retirement announced in this blog post is now complete There are no more EC2 instances running with EC2Classic networking Update July 29 2021 Added link to the Support Automation Workflow document Please share if you find a solution "},
{"id": 28156, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T06:37:00Z", "scrap_date": "2024-05-01T00:24:45.478829", "content": "Okay I just reread you question I think you want to connect to your DB from your desktop I believe you need configure security group inbound rules to whitelist your IP "},
{"id": 28157, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-15T21:49:53Z", "scrap_date": "2024-05-01T00:24:45.479829", "content": "Hey Sime Yes it was about migrating an existing database which ideally is done through psql Ill check whitelisting an IP on the security group "},
{"id": 28158, "question_id": 2815, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T14:40:00Z", "scrap_date": "2024-05-01T00:24:45.479829", "content": "Whitelisted security groups will do nothing if the DB is not publicly accessible and inside of a public subnet There is a specific flag for PubliclyAccessible httpdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesrdsdatabaseinstance htmlcfnrdsdbinstancepubliclyaccessible See my answer above "},
{"id": 17972, "question_id": 1797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-01T23:14:29Z", "scrap_date": "2024-05-01T00:24:46.373766", "content": "Services without functions is definitely a valid usecase I remember when johncmckim implemented it You should log an issue "},
{"id": 17973, "question_id": 1797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-02T20:53:46Z", "scrap_date": "2024-05-01T00:24:46.374767", "content": "Thanks for the confirmation rowanu Looks like somebody beat me to creating the issue But Ill keep my eye on it "},
{"id": 17974, "question_id": 1797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T17:54:08Z", "scrap_date": "2024-05-01T00:24:46.374767", "content": "Hi bfieber johncmckim Im getting this problem now Do you know if it was solved"},
{"id": 17975, "question_id": 1797, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T22:47:44Z", "scrap_date": "2024-05-01T00:24:46.375767", "content": "Not sure it was ever solved But to make it happy I just have a dummy function in my core that nobodynothing calls "},
{"id": 17976, "question_id": 1797, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-17T03:32:25Z", "scrap_date": "2024-05-01T00:24:46.375767", "content": "It was a bug httpsgithub comserverlessserverlessissues3547 Should be fixed in current version "},
{"id": 29082, "question_id": 2908, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T19:39:15Z", "scrap_date": "2024-05-01T00:24:47.352210", "content": "realizing now that some packages are included with Node js so they dont need to be installed with the project just referenced httpsnodejs orgapihttps html"},
{"id": 29062, "question_id": 2906, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T06:59:06Z", "scrap_date": "2024-05-01T00:24:48.247256", "content": "Hi For DynamoDB I would use the UUID as the partition key as this is more random and DynamoDB likes this see documentation on partition key Remember there are some limitations to using a local index for your example you would probably need a global index Be aware this is basically just another table which eats from the capacity of your main table There is more theory to this but I think its better if you read the documentation its too much to get it all in this answer Another way to solve your problem is to just put the users also in your company table Remember this is NoSQL there is no schema if you also put the companies into your user table you ever only have to query one table and all the info is just there I would advise to think about these things when going from SQL to NoSQL it is not a lift and shift activity You can get great advantages in NoSQL when you use its power but also it can become a great pain when you try to use it as a SQL database Sorry if I made it more confusing for you but I really think its good if you invest some time in researching NoSQL before you dive in When you do I am sure you will find its a lot of fun good luck "},
{"id": 29063, "question_id": 2906, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T20:48:58Z", "scrap_date": "2024-05-01T00:24:48.250257", "content": "Hi Meije Thx alot for the answer Still reading the documentation for dynamodb "},
{"id": 25992, "question_id": 2599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-12T18:43:42Z", "scrap_date": "2024-05-01T00:24:49.127596", "content": "Hey guys just have a quick announcement to make We added support for Pull Requests to SEED httpsseed run Pull requests made to your Serverless project get automatically built deployed to their own stage and get their own unique endpoint And there is nothing to configure Sign up for our beta httpsseed run and give it a try "},
{"id": 25993, "question_id": 2599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T08:51:25Z", "scrap_date": "2024-05-01T00:24:49.128596", "content": "fanjie I registered but didnt get any mail Second please enable Auth0 or others that we can login via google github etc "},
{"id": 25994, "question_id": 2599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-13T18:11:50Z", "scrap_date": "2024-05-01T00:24:49.129596", "content": "Just sent you an invite email Yeah good point GitHub and Google are definitely on our list "},
{"id": 25995, "question_id": 2599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-19T20:53:59Z", "scrap_date": "2024-05-01T00:24:49.130596", "content": "We added CloudFormation changeset review to SEED httpsseed run You can now review CF changes before deploying your Serverless project to production Love to hear what you guys think "},
{"id": 28412, "question_id": 2841, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-20T10:05:56Z", "scrap_date": "2024-05-01T00:24:50.227605", "content": "Ive just submitted a PR that adds this functionality to serverlessfinch feel free to leave your comments as its nice to have a second use case to think about httpsgithub comfernandomcserverlessfinchpull10"},
{"id": 26792, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-15T00:37:05Z", "scrap_date": "2024-05-01T00:24:51.946974", "content": "To run the Serverless Framework you need v4 or higher as per the projects package json The quickstart link you posted involves running a Lambda function locally so your local version should match that of your runtime The article does look a bit out of date because the default AWS Lambda runtime is now NodeJs v6 10 3 Note that this version is not required if youre happy to only run the framework and not invoke functions locally "},
{"id": 26793, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T09:41:53Z", "scrap_date": "2024-05-01T00:24:51.947975", "content": "The quickstart link you posted involves running a Lambda function locally Thanks but could you just clarify I thought sls invoke f function is not running the function locally but actually invoking it in AWS The l flag fetches execution logs back from AWS I found a separate page on sls invoke local The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 26794, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T20:29:18Z", "scrap_date": "2024-05-01T00:24:51.948976", "content": "Yep youre right in thinking that I was just talking about the local version because the quickstart guide you linked uses invoke local in Step 3 "},
{"id": 26795, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T20:44:50Z", "scrap_date": "2024-05-01T00:24:51.949976", "content": "I think we must be looking at different quickstart pages The one Im looking at and linked to earlier is https serverless com framework docs providers aws guide quickstart The word local doesnt appear anywhere on this page and step 3 has serverless invoke f hello l"},
{"id": 26796, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-17T00:09:40Z", "scrap_date": "2024-05-01T00:24:51.950976", "content": "Regardless of the actual minimum version Id strongly recommend 6 10 x Serverless will run on this version and it means youre using the same version locally when buildingtesting Lambda If youre using lower or higher versions then you could end up trying to debug code remotely that is having an issue because of something as simple as different Node versions "},
{"id": 26797, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-17T03:22:54Z", "scrap_date": "2024-05-01T00:24:51.950976", "content": "Whoops dont know what I was looking at Disregard my local comments but the minimum version as per the package json is the correct answer to your original question "},
{"id": 26798, "question_id": 2679, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-17T08:24:05Z", "scrap_date": "2024-05-01T00:24:51.951976", "content": "the minimum version as per the package json is the correct answer to your original question OK thats clear now and as Im developing lambda functions in python I wont be doing any invoke local on javascript But it does seem that the minimum JS requirement given in the AWS quickstart page is misleading then It only really matters because the nodejs version in the Ubuntu 16 04 standard repositories is 4 something Because of the QS instructions I went hunting for the node_6 x repositories and installed from there but it turns out I neednt have bothered "},
{"id": 27172, "question_id": 2717, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T15:06:28Z", "scrap_date": "2024-05-01T00:24:53.001032", "content": "httpsstatus aws amazon com should help "},
{"id": 20022, "question_id": 2002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-05T22:39:20Z", "scrap_date": "2024-05-01T00:24:54.012276", "content": "Addendum This still doest work even if I remove nested variables Still throws invalid variable reference syntax for variable cfMyStack devCustomerPoolClient "},
{"id": 20023, "question_id": 2002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T19:32:18Z", "scrap_date": "2024-05-01T00:24:54.013276", "content": "Did you ever figure this out I thought I had this working and returned to my code after a while and am now am getting the above error "},
{"id": 20024, "question_id": 2002, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-18T20:37:14Z", "scrap_date": "2024-05-01T00:24:54.014276", "content": "I ended up using FnImportValue E g "},
{"id": 20025, "question_id": 2002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T21:29:31Z", "scrap_date": "2024-05-01T00:24:54.014276", "content": "My problem ended up being easierstupider I was using a global install of sls that was an old version Once I ran the local updated version it worked "},
{"id": 20026, "question_id": 2002, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-18T23:05:28Z", "scrap_date": "2024-05-01T00:24:54.015277", "content": "Looks like an older version of Serverless didnt parse environment variables the syntax was being passed directly to CFN and it obviously didnt like it "},
{"id": 22452, "question_id": 2245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-08T05:13:11Z", "scrap_date": "2024-05-01T00:24:55.007190", "content": "Well I figured it out As I mentioned originally I was using severless 1 15 1 and I had upgraded to 1 17 While under 1 15 I created and configured usage plans in my serverless file It appears that in 1 17 usage plans are created automatically if you are adding an api key So when I upgraded to 1 17 all of a sudden I am attempting to create another usage plan and adding the same api that was added to the usage plan serverless creates for me I must have missed the documentation regarding this change is 1 17 I assume I can configure the usage plan that serverless creates by the normal overriding process If anyone knows of any gotchas let me know "},
{"id": 22453, "question_id": 2245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-20T06:34:46Z", "scrap_date": "2024-05-01T00:24:55.008184", "content": "Same thing happened for me I had issues with 1 22 0 whereby a new usage plan was being created for an existing API key Had to npm uninstall g serverless and reinstall to an older version e g npm install g serverless 10 2 in order to deploy "},
{"id": 22454, "question_id": 2245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-20T06:35:37Z", "scrap_date": "2024-05-01T00:24:55.009184", "content": "Can you how did you configure usage plan IDs manually shawnmullen "},
{"id": 22455, "question_id": 2245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-20T07:38:24Z", "scrap_date": "2024-05-01T00:24:55.010185", "content": "If you are using the latest version of Serverless and if you already have an api key assigned to a usage plan you will need to delete the usage plan first and then redeploy Serverless will then create a new usage plan and assign the api key to it "},
{"id": 22456, "question_id": 2245, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-20T07:45:21Z", "scrap_date": "2024-05-01T00:24:55.010185", "content": "Assuming the following is in the provider section of the serverless yml file apiKeys UserServiceApiKey I put the following in the resources section resources Resources ApiGatewayRestApi Type AWSApiGatewayRestApi Properties Name myuserserviceapi"},
{"id": 27542, "question_id": 2754, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-24T20:29:01Z", "scrap_date": "2024-05-01T00:24:55.828472", "content": "Thats usually caused by an IAM issue not a code issue Did something change with your IAM roles If you look at the configuration for your Lambda functions youll see the role that theyre trying to assume is it correct Does it have a trust relationship with the Lambda service i e lambda amazonaws com "},
{"id": 24832, "question_id": 2483, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-25T09:16:51Z", "scrap_date": "2024-05-01T00:24:56.930498", "content": "Hi We ran into the same issue and decided to create and opensource Serverless plugin that does exactly that So feel free to check it out and let me know if it works for you httpsgithub comDroplrserverlessapicloudfront"},
{"id": 3572, "question_id": 357, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-22T11:30:50Z", "scrap_date": "2024-05-01T00:24:57.721822", "content": "In case it would help anyone Ive managed to configure what I needed with much help of this json from the awsmcloudfront project At serverless yml Ive added resources Resources file cloudformationresources json and the json files consists the following The only bummer right now is that I have to specify the s3 bucket name and the api gateway endpoint so it can be created only after these resources were deployed If anyone has an idea of how to connect these to the resources Im going to deploy in the new environment and do not exist yet Ill be happy to hear "},
{"id": 3573, "question_id": 357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-22T22:42:48Z", "scrap_date": "2024-05-01T00:24:57.722822", "content": "Nice work with the CF setup You can get the logical ids of your bucket and endpoints from this page in the docs With that you should be able to use Ref s to avoid hardcoding values Hope that helps "},
{"id": 3574, "question_id": 357, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-25T10:58:03Z", "scrap_date": "2024-05-01T00:24:57.723822", "content": "Thanks It helped In case it would help anyone heres the updated json I still have to check some things but for now it works "},
{"id": 3575, "question_id": 357, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-25T09:18:38Z", "scrap_date": "2024-05-01T00:24:57.723822", "content": "If anyone is also trying to achieve this we created and opensourced plugin that automatically setsup CloudFront distribution in front of API gateway httpsgithub comDroplrserverlessapicloudfront Greetings "},
{"id": 27812, "question_id": 2781, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-09-27T20:25:55Z", "scrap_date": "2024-05-01T00:24:58.633037", "content": "Found what was going on here and wanted to share in case others run into it Turns out if you simply try to Thatll sure write your awscredentials file but itll put the creds under [default] and since in my case Im already running in the context of a Lambda function the default is already taken by the userrole assigned to my outer Lambda But if instead you and then Itll pick it up correctly Weird corner case that I may be the only person to have to deal with but since I found the answer I wanted to post it Got hung up for an hour not realizing that the write used profile but the read used awsprofile 8 "},
{"id": 27602, "question_id": 2760, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-26T04:15:21Z", "scrap_date": "2024-05-01T00:24:59.739756", "content": "It looks like the TOKEN type is hardcoded into Serverless github com serverlessserverlessblobbe148344bdef62aa93de91fd150047092fd61b55libpluginsawsdeploycompileeventsapiGatewaylibauthorizers jsL72 Properties AuthorizerResultTtlInSeconds resultTtlInSeconds AuthorizerUri FnJoin [ [ arnawsapigateway Ref AWSRegion lambdapath20150331functions authorizerArn invocations ]] IdentitySource identitySource Name authorizerName RestApiId Ref RestApiApigEvent Type TOKEN ` const authorizerTemplateJson JSON parse authorizerTemplate if authorizer identityValidationExpression typeof authorizer identityValidationExpression string This being the case how can I get the HTTP request parameters into the Authorizer function Im getting the request in the run function itself as expected due to lambdaproxy "},
{"id": 27603, "question_id": 2760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-27T13:59:28Z", "scrap_date": "2024-05-01T00:24:59.742757", "content": "Im having the same problem I found this plugin and I was hopeful it would just work httpsgithub comSC5serverlessplugincfauthorizer I made the changes per the docs but deployment would fail The AWSApiGatewayAuthorizer docs confirm this is required The plugin code is very short and I suspect that one may only need to add some kind of definition around line 6667 to add the AuthorizerUri But Im very green with serverless and CloudFormation and Im not sure how to go about making the change "},
{"id": 27604, "question_id": 2760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-02T00:12:21Z", "scrap_date": "2024-05-01T00:24:59.743757", "content": "Bump Raised as httpsgithub comserverlessserverlessissues4325"},
{"id": 27932, "question_id": 2793, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-09-29T13:21:05Z", "scrap_date": "2024-05-01T00:25:00.535474", "content": "themyth92 You can use Serverless without any Lambda functions and its a pattern we see a lot with people to provision infrastructure that may be more permanent than a particular service Are you defining APIGatewayDeployment and ApiGatewayRestApi in your stack Right now Serverless will only provision those if you have a Lambda function with an http event hooked up to it If you dont have those youll have to write the CloudFormation yourself in the resources section "},
{"id": 27933, "question_id": 2793, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-02T08:16:45Z", "scrap_date": "2024-05-01T00:25:00.537475", "content": "Ok really appreciate your response"},
{"id": 28022, "question_id": 2802, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-02T22:33:31Z", "scrap_date": "2024-05-01T00:25:01.405698", "content": "I apologize for possibly wasting anyones time It turned out to not be a serverless error Even though I had updated the file with the correct yaml formatting I had to rebuild the pipeline so that the deploy job would check out the new revision with the yaml correction from github Good grief "},
{"id": 27742, "question_id": 2774, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-27T20:53:23Z", "scrap_date": "2024-05-01T00:25:02.488187", "content": "Please ignore this post Mistake in proxy configuration "},
{"id": 27743, "question_id": 2774, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-02T12:11:21Z", "scrap_date": "2024-05-01T00:25:02.488187", "content": "Hi Could you elaborate a bit more about the proxy configuration Were you using a proxy and it was wrongly configured I still have the same problem since I reported this here a couple of weeks ago Inaccessible host deploying in nondefault region I do not use a proxy Any help is welcome "},
{"id": 27744, "question_id": 2774, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-02T14:15:21Z", "scrap_date": "2024-05-01T00:25:02.489187", "content": "If you access the internet through a proxy you would need to have environment variables HTTP_PROXY and HTTPS_PROXY configured to httpproxy_server I use a proxy and it was wrongly configured If you dont use a proxy guess you wont need the variables Also verify httpdocs aws amazon comgenerallatestgrrande html and check if the service is available in your region Hope this helps "},
{"id": 27745, "question_id": 2774, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-03T06:22:06Z", "scrap_date": "2024-05-01T00:25:02.490188", "content": "Thanks for the pointers I checked also how virtual hosting works for S3 Theres something weird It seems I should be using bucket id s3 amazonaws com or bucket id s3eucentral1 amazonaws com But in the error I see mind the point before s3 redacted bucket id s3 eucentral1 amazonaws com This service may not be available in the `eucentral1 region Looking for that in internet that domain looks like a bit fishy"},
{"id": 16622, "question_id": 1662, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-03T07:10:09Z", "scrap_date": "2024-05-01T00:25:03.347618", "content": "I know this is quite an old question and I hope you have figured it out already In case you havent what youre missing is including the plugin in your YAML file You do not need the aliases property and it should be removed "},
{"id": 12102, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-01T20:56:05Z", "scrap_date": "2024-05-01T00:25:04.405760", "content": "checkout httpsserverless comframeworkdocsprovidersawsguidevariablesreferencevariablesinotherfiles"},
{"id": 12103, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T02:03:02Z", "scrap_date": "2024-05-01T00:25:04.406761", "content": "This does not answer my question This response demonstrates how to use an external file that contains custom values Im already doing that as stated in my original post The goal is to use the common custom file plus those custom settings specific to just this single service "},
{"id": 12104, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T06:21:56Z", "scrap_date": "2024-05-01T00:25:04.406761", "content": "Hmm I dont think this is possible You could have separate configs based on the env though and use the stage in the config file name Like this"},
{"id": 12105, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T11:32:41Z", "scrap_date": "2024-05-01T00:25:04.407761", "content": "FYI selfprovider stage seems to always have the current stage even its been overridden via a command line option "},
{"id": 12106, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T20:18:45Z", "scrap_date": "2024-05-01T00:25:04.408761", "content": "Yeah the right way to get the stage is selfopt stage provider stage so that you get the option if set or the default "},
{"id": 12107, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T22:34:39Z", "scrap_date": "2024-05-01T00:25:04.408761", "content": "Hmm in earlier releases of Serverless selfprovider stage was always the stage youre actually deploying into i e if you changed it using s it would contain that value instead of the one in the config Ive just tested with the latest release and its no longer doing that Time to upgrade my configs"},
{"id": 12108, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-28T20:22:21Z", "scrap_date": "2024-05-01T00:25:04.409761", "content": "Using selfopt stage provider stage failed for me with an Invalid variable reference syntax for variable provider stage error I had to specify the self prefix for provider stage as well so this is what I ultimately used that worked selfopt stage selfprovider stage Serverless 1 18 Node 6 11 OS darwin "},
{"id": 12109, "question_id": 1210, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-03T17:56:57Z", "scrap_date": "2024-05-01T00:25:04.410762", "content": "AxeOfMen I just ran into the same problem and trying to add the same plugin I got this to work and then reference your variables like selfcustom custom your var path "},
{"id": 1772, "question_id": 177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-25T11:01:40Z", "scrap_date": "2024-05-01T00:25:05.491186", "content": "At the moment we dont have any plans of adding this but could you open in issue in Github describing this in detail and adding how youre currently doing this in the serverless yml Definitely sounds like an interesting feature"},
{"id": 1773, "question_id": 177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-17T14:34:15Z", "scrap_date": "2024-05-01T00:25:05.492186", "content": "Ill be interested in a similar feature however I only need to add a custom header Long story short the cors version of AMP requires the AMPAccessControlAllowSourceOrigin header to be defined on preflight requests Can you link the github issue here "},
{"id": 1774, "question_id": 177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-03T20:14:53Z", "scrap_date": "2024-05-01T00:25:05.493187", "content": "Hi there any updates I tried to use suggestion found somewhere in forum While serverless does not choke on it I still get errors like follows Request header field AccessControlAllowCredentials is not allowed by AccessControlAllowHeaders in preflight response I really interested in the solution or workaround Regards VB"},
{"id": 27892, "question_id": 2789, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-28T20:58:40Z", "scrap_date": "2024-05-01T00:25:06.616974", "content": "Did you try environments with handler In your lambda handler resize resize there should be codes as below to get these environments"},
{"id": 27893, "question_id": 2789, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-03T09:54:27Z", "scrap_date": "2024-05-01T00:25:06.617974", "content": "Thanks mate will try this now I also assumed you meant proper json width 1024 "},
{"id": 27894, "question_id": 2789, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-04T02:51:59Z", "scrap_date": "2024-05-01T00:25:06.617974", "content": "updated Does it work"},
{"id": 27895, "question_id": 2789, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-05T07:19:12Z", "scrap_date": "2024-05-01T00:25:06.618975", "content": "Yep all good thanks for the suggestion Legend "},
{"id": 26392, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T16:12:24Z", "scrap_date": "2024-05-01T00:25:07.891940", "content": "himadri Can you paste a longer portion of the stack trace Hard to tell what the issue is there "},
{"id": 26393, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T16:24:54Z", "scrap_date": "2024-05-01T00:25:07.891940", "content": "Hi Thanks for replying But I am not getting any other details in CloudWatch "},
{"id": 26394, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T16:29:49Z", "scrap_date": "2024-05-01T00:25:07.892940", "content": "Can you please guide what to do "},
{"id": 26395, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T16:30:44Z", "scrap_date": "2024-05-01T00:25:07.892940", "content": "There should be additional logs in CloudWatch or something If not you could paste your serverless yml and function code in an attempt to reproduce"},
{"id": 26396, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T16:39:05Z", "scrap_date": "2024-05-01T00:25:07.893940", "content": "Here is my serverless yml file httpsgist github comhimadrigangulyf9571c09a3c01c79ebf920034f5e5e55"},
{"id": 26397, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-05T16:51:41Z", "scrap_date": "2024-05-01T00:25:07.894941", "content": "Since youre zipping your dependencies do you have the line to unzip them at the top of your handler py module Its going to be tough to debug without a longer stack trace or your function code "},
{"id": 26398, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T16:58:17Z", "scrap_date": "2024-05-01T00:25:07.894941", "content": "Yes included that like this import unzip_requirements "},
{"id": 26399, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T17:12:04Z", "scrap_date": "2024-05-01T00:25:07.895941", "content": "So what can be the problem What other things should I check"},
{"id": 263910, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T17:25:00Z", "scrap_date": "2024-05-01T00:25:07.895941", "content": "Also checked my Python version under virtualenv which is Python 3 6 2 "},
{"id": 263911, "question_id": 2639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T17:39:00Z", "scrap_date": "2024-05-01T00:25:07.896941", "content": "Before using Serverless when I am manually creating the zip file with all the python modules in the root path and uploading it to Lambda it is working fine To automate the process I am using the Serverless Framework and now I got into this problem "},
{"id": 26232, "question_id": 2623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T02:43:55Z", "scrap_date": "2024-05-01T00:25:08.970869", "content": "Invoking sounds like a fragile way to do this what happens if the invoke to update the second service failstimesout Has the deployment of the first service failed What if your invocation breaks the second service e g incorrect endpoint update Now you have two broken services Usually I would use a DNS alias to point at the latestactive deployment and point my dependent services to that instead of directly at a specific service deployment endpoint When it comes time to use a new version you update the DNS record to point to the new version This means you dont need to touch the second service and risk breaking it This model also has the potential to use canary deployments as long as your application can handle it Obviously this is all worstcase scenarios but thats what you have to plan for you dont get the happy path all the time "},
{"id": 26233, "question_id": 2623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T13:13:39Z", "scrap_date": "2024-05-01T00:25:08.972869", "content": "Thanks for your help that is a much more elegant solution Im looking now into route 53 thanks for the help "},
{"id": 26234, "question_id": 2623, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T20:36:07Z", "scrap_date": "2024-05-01T00:25:08.973872", "content": "Its basically a bluegreen deployment look that up for countless examples if you havent seen it already "},
{"id": 26402, "question_id": 2640, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T20:37:55Z", "scrap_date": "2024-05-01T00:25:09.951916", "content": "Sorry himadri Working on a fix "},
{"id": 26403, "question_id": 2640, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-05T21:27:24Z", "scrap_date": "2024-05-01T00:25:09.952916", "content": "DavidWells Not at all an issue buddy Just saw it and thought it would be helpful to report the error Thanks for replying back Take care "},
{"id": 23902, "question_id": 2390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-27T21:10:20Z", "scrap_date": "2024-05-01T00:25:10.955066", "content": "Hello Im bumping this because it seems like a hole in the feature set having nothing really to do with Azure it applies to all platforms how to extract the endpoints and other info after deployments in machine readable format seems important Currently Im piping info through some javascript code to extract the ServiceEndpoint information Thanks VS"},
{"id": 23903, "question_id": 2390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T06:50:28Z", "scrap_date": "2024-05-01T00:25:10.956066", "content": "victorstone Why do you want to extract the API endpoint Im not sure about Azure but there are ways to get it for AWS depending on what you want to do with it "},
{"id": 23904, "question_id": 2390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T22:12:37Z", "scrap_date": "2024-05-01T00:25:10.956066", "content": "I embed it into a generated client SDK class "},
{"id": 23905, "question_id": 2390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T23:20:43Z", "scrap_date": "2024-05-01T00:25:10.957067", "content": "That one I dont have an off the shelf solution for You could put in a feature request over at the Github repo or build a custom plugin that just returns the endpoint "},
{"id": 23906, "question_id": 2390, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T03:13:04Z", "scrap_date": "2024-05-01T00:25:10.957067", "content": "ok thanks for confirming I looked at forking the Info plugin but I dont have the time right now"},
{"id": 26352, "question_id": 2635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T17:03:26Z", "scrap_date": "2024-05-01T00:25:11.934191", "content": "Well I found one of the answers here the reason for the timeout is because my lambda function is running in a VPC without an Internet gateway but KMS has to be accessed over the Internet Grr Im still not clear how the buttons in the AWS Lambda console to encryptdecrypt individual environment variables are related to the decryption done within the lambda nor what role the awsKmsKeyArn setting in serverless plays "},
{"id": 26353, "question_id": 2635, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-04T18:01:11Z", "scrap_date": "2024-05-01T00:25:11.935191", "content": "After finally finding this httpsgithub comawslabsserverlessapplicationmodelissues48 it seems that CloudFormation doesnt support the encryption of individual keys which the Lambda console does The awsKmsKeyArn seems to be just for the bulk encryptionatrest of the settings Anyway next thing is to deploy NAT gateways for VPC subnets "},
{"id": 26354, "question_id": 2635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T10:24:33Z", "scrap_date": "2024-05-01T00:25:11.936192", "content": "I found this confusing too but can share what I found in using KMS with serverless for encrypting sensitive environment variables I hope this helps It would be great if some of the assumptions here can be clarified "},
{"id": 26355, "question_id": 2635, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-06T10:49:26Z", "scrap_date": "2024-05-01T00:25:11.937192", "content": "I agree with most of the above I just mention this part This key is then used when your Lambda function uses the KMS API to decrypt so you dont have to explicitly select the key again I believe that the encrypted data block actually includes the key ID because you can use aws kms decrypt to decrypt a block without having to specify the key ID So as you say the awsKmsKeyArn parameter might be to do with how data is encrypted at rest in the absence of explicit encryption but its not at all clear "},
{"id": 26357, "question_id": 2635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T11:23:19Z", "scrap_date": "2024-05-01T00:25:11.938192", "content": "That makes sense thanks "},
{"id": 26462, "question_id": 2646, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-06T13:35:33Z", "scrap_date": "2024-05-01T00:25:12.953043", "content": "yaronya Thats a constraint enforced by AWS CloudFormation rather than by the Serverless Framework Might be best to take it up with AWS support "},
{"id": 25782, "question_id": 2578, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-29T11:07:48Z", "scrap_date": "2024-05-01T00:25:14.114499", "content": "By default webpack should have tree shaking enabled which would exclude the test files unless youre including them some how Are you able to share your webpack config and the location of your test folder"},
{"id": 25783, "question_id": 2578, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T17:15:50Z", "scrap_date": "2024-05-01T00:25:14.115505", "content": "webpack config js Id like to exclude node_modules test scripts bin directories "},
{"id": 26442, "question_id": 2644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T23:10:05Z", "scrap_date": "2024-05-01T00:25:15.108367", "content": "It looks like youre using Lambda proxy integration in which case errors work just like a successful responses For example Using callback err is a bad response to the API gateway for Lambda proxy integration "},
{"id": 26443, "question_id": 2644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T01:33:28Z", "scrap_date": "2024-05-01T00:25:15.109368", "content": "That would work Im just concerned if I dont use callback err Lambda believes the function ran successfully and the error wont show up in its metrics for example on the dashboard It feels hacky to be using the success callback for errors "},
{"id": 26444, "question_id": 2644, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-06T05:19:36Z", "scrap_date": "2024-05-01T00:25:15.110836", "content": "It feels hacky to be using the success callback for errors Regardless of how it feels this is how proxy integration works If you dont like it you can use the original Lambda integration method instead Generally speaking Lambda proxy integration is preferred because its less complicated to setup and more flexible "},
{"id": 26445, "question_id": 2644, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-06T06:14:49Z", "scrap_date": "2024-05-01T00:25:15.111830", "content": "Keep in mind theres a different between HTTP errors which are up to your application e g a 4xx vs a 5xx error and Lambda errors which will show up even if you dont use callback "},
{"id": 26446, "question_id": 2644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T18:58:54Z", "scrap_date": "2024-05-01T00:25:15.111830", "content": "Ahh that makes sense rowanu thanks for the reminder In that case Ill update my thinking to treat handled exceptions as a successful invocation and invocation errors as infrastructure issues and unhandled exceptions "},
{"id": 23002, "question_id": 2300, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T15:36:52Z", "scrap_date": "2024-05-01T00:25:16.038341", "content": "Did you ever figure this out same problem "},
{"id": 23003, "question_id": 2300, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T03:34:49Z", "scrap_date": "2024-05-01T00:25:16.039341", "content": "I vaguely remember hearing the solution is to use sls logout"},
{"id": 26552, "question_id": 2655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T14:39:06Z", "scrap_date": "2024-05-01T00:25:16.939257", "content": "himadri Could you add a little more information on this In particular itd be helpful to have"},
{"id": 26553, "question_id": 2655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T15:01:14Z", "scrap_date": "2024-05-01T00:25:16.940258", "content": "Sory my mistake SLS version 1 21 1 And here is the full version of my serverless yml file "},
{"id": 26554, "question_id": 2655, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T15:35:24Z", "scrap_date": "2024-05-01T00:25:16.941258", "content": "Have you seen the serverless yml file"},
{"id": 26502, "question_id": 2650, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T03:42:24Z", "scrap_date": "2024-05-01T00:25:17.745797", "content": "Normally you give your Lambda access to specific resources This limits damage caused if there is a problem The only examples Ive see using managed policies also used custom roles that you need to setup in the resources section "},
{"id": 26503, "question_id": 2650, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T21:49:05Z", "scrap_date": "2024-05-01T00:25:17.746798", "content": "A quick search of the code doesnt show me a way to set managed policy ARNs at a service or function level You would have to use your own custom rolesadd to the autogenerated roles in order to get this to work the exception is AWSLambdaVPCAccessExecutionRole which is added to your function when VPC configuration is provided to your function This sounds like it would be useful functionality so might be worth a feature request "},
{"id": 25812, "question_id": 2581, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T21:51:15Z", "scrap_date": "2024-05-01T00:25:18.317844", "content": "You cant reference an exported variable from the same service Use Ref instead with the JSONstyle syntax "},
{"id": 25862, "question_id": 2586, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T21:58:12Z", "scrap_date": "2024-05-01T00:25:18.859328", "content": "Sounds like a strange one Can you try logging the headers out before making the request A few issues on the requests repo suggest a potential issue with newlines or other unprintable characters "},
{"id": 25863, "question_id": 2586, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-08T00:38:47Z", "scrap_date": "2024-05-01T00:25:18.860329", "content": "Oh thanks for reminding me this was open Rowan I reported the fix to AWS but not here Ok so I need to go back and do some further investigation as Im not totally certain if the issue was just the strongsoap client or any of the other clones in its family borking or Lambda soap The issue turned out to be fixed by removing a function from the object prototype that we had added The soap client seemingly only in lambda borks with the modified prototype with the lovely error above Once I moved the function to just being a regular function no such error Once we go live 3 weeks to go and 6 weeks work ill go back and see what combinations cause it and report back if there is anything of import Cheers b"},
{"id": 24292, "question_id": 2429, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-07T22:48:50Z", "scrap_date": "2024-05-01T00:25:19.960378", "content": "The function name that you need to pass to DependsOn is not the name of your function in your serverless yml definition it is the Logical Resource ID of the resource in CloudFormation see the docs for details which is generated by Serverless for you when it compiles your CloudFormation template Heres the relevant section of the docs about naming resources Once youve worked out your functions name use that in the DependsOn field and you should be right Another way to work it out is to compile your template using the sls package command and inspect the file created in the serverless directory of your service "},
{"id": 24293, "question_id": 2429, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-25T14:07:15Z", "scrap_date": "2024-05-01T00:25:19.961378", "content": "Thanks Worked like a charm "},
{"id": 24294, "question_id": 2429, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-08T19:01:04Z", "scrap_date": "2024-05-01T00:25:19.962378", "content": "Can you guys please share an example this my yml functions get handler srchandlersget get events schedule rate rate 10 minutes enabled false esources Resources usersTable Type AWSS3Bucket Properties BucketName table optstage exceptionGetMetricsFilter Type AWSLogsMetricFilter DependsOn getLambdaFunction Properties LogGroupName Ref awslambdadc optstage get FilterPattern Exception MetricTransformations MetricValue 1 MetricNamespace dcgetexception MetricName dcgetexception i am getting this error CloudFormation template is invalid Template format error Unresolved resource dependencies [awslambdadcdevget getLambdaFunction] in the Resources block of the template"},
{"id": 24295, "question_id": 2429, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-08T21:33:40Z", "scrap_date": "2024-05-01T00:25:19.963379", "content": "Ok resolved I didnt realize that the logical ids were case sensitive"},
{"id": 26662, "question_id": 2666, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T07:02:19Z", "scrap_date": "2024-05-01T00:25:20.720600", "content": "Are you using the package option when running sls deploy If you arent using it that would explain why Serverless is rebuilding the entire package The serverless deployment package consists of the code and the Cloud Formation template I dont believe Cloud Formation supports variables inside the template but I could be wrong Requests to change the way it works are best raised as an issue on Github "},
{"id": 26482, "question_id": 2648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T21:47:08Z", "scrap_date": "2024-05-01T00:25:21.389449", "content": "Looking at the CFN docs for S3Bucket type resources doesnt show any Rules property hence the message "},
{"id": 25212, "question_id": 2521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-17T21:30:33Z", "scrap_date": "2024-05-01T00:25:23.143084", "content": "The import syntax is not supported in the version of NodeJs supported by Lambda I think it might be in the latest version of NodeJs v8 but only v6 10 is supported in Lambda You can run a precompile step e g using Babel to support these newer language features something like serverlessbabelplugin "},
{"id": 17662, "question_id": 1766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T15:00:17Z", "scrap_date": "2024-05-01T00:25:24.123950", "content": "are there any updates on this issue"},
{"id": 25322, "question_id": 2532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T15:57:28Z", "scrap_date": "2024-05-01T00:25:25.004412", "content": "You can npm install then in your serverless directory Then when you deploy the node packages get installed into lambda along with your function "},
{"id": 25323, "question_id": 2532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-18T16:21:55Z", "scrap_date": "2024-05-01T00:25:25.005412", "content": "That part is clear but the issue is can we hook express middleware Im not sure about this Helmet is a middleware "},
{"id": 25152, "question_id": 2515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-17T03:09:13Z", "scrap_date": "2024-05-01T00:25:26.059762", "content": "Apparently using this hex seems to work or at least render the image 1px I found this here httpschrislarson meblogtutorial201612161x1_pixel_aws_lambda html Not quite sure why this would work but my base64 wouldnt I tried multiple variations of the base64 excluding dataimagegifbase64 and only sending the base64 string but none of that seemed to render in the browser "},
{"id": 25153, "question_id": 2515, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-19T00:38:47Z", "scrap_date": "2024-05-01T00:25:26.060763", "content": "I dont have an exact answer but struggled with it myself so some pointer Once you done consider using a plugin to keep your APIGateway configuration as part of serverless code GitHub maciejtrederserverlessapigwbinary serverlessapigwbinary Serverless plugin for binary files support in AWS Gateway or httpsgithub comryanmurakamiserverlessapigwybinary Ask someone else why the hell there are two and how are they different troll"},
{"id": 24972, "question_id": 2497, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T10:12:51Z", "scrap_date": "2024-05-01T00:25:27.068725", "content": "Are you simply looking for the result successfailure or are you trying to monitor it during deployment"},
{"id": 25102, "question_id": 2510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-16T13:55:00Z", "scrap_date": "2024-05-01T00:25:27.925919", "content": "The other alternative I can see is to stick it in the env yml file as a static string but that doesnt feel right somehow because its essentially hard coded"},
{"id": 25103, "question_id": 2510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T10:17:26Z", "scrap_date": "2024-05-01T00:25:27.926920", "content": "I wouldnt use environment variables Its probably best to do this in your Lambda If you do it outside of the handler function then it should be available inside the handler but it will only be executed once when the Lambda is loaded "},
{"id": 25302, "question_id": 2530, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T11:03:13Z", "scrap_date": "2024-05-01T00:25:29.063984", "content": "It sounds like a filesystem permission issue Check the ownergroup and permissions for the file"},
{"id": 7902, "question_id": 790, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-20T23:04:59Z", "scrap_date": "2024-05-01T00:25:30.197033", "content": "You need to make sure the objects ContentType aka MIME type is set correctly the CLI tool will take care of this for you but if youre doing your upload with the SDK you will need to do it yourself "},
{"id": 7903, "question_id": 790, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-21T10:07:50Z", "scrap_date": "2024-05-01T00:25:30.198033", "content": "Have you thought about using direct upload to S3 instead of going via Lambda See httpdocs aws amazon comAmazonS3latestAPIsigv4authenticationHTTPPOST html"},
{"id": 7904, "question_id": 790, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T01:15:50Z", "scrap_date": "2024-05-01T00:25:30.199034", "content": "I tried that and hit the wall AWS Docs are fuzzy and their example only works with text files The most I came forward is to upload a corrupted image using this AWS S3 service proxy approach "},
{"id": 24662, "question_id": 2466, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T03:25:50Z", "scrap_date": "2024-05-01T00:25:31.158078", "content": "Amazon only gives you 1 cents a month worth of free S3 puts Your overage is going to be 1 5 cents "},
{"id": 24663, "question_id": 2466, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T11:52:01Z", "scrap_date": "2024-05-01T00:25:31.159079", "content": "You can push only the function you changed too you dont have to push everything every time sls deploy function f create"},
{"id": 24664, "question_id": 2466, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T22:16:19Z", "scrap_date": "2024-05-01T00:25:31.160079", "content": "Thanks I was pushing everything every time so maybe that was the issue Then when deploying an specific function how does it know which files needs to upload in case it has some dependencies "},
{"id": 24665, "question_id": 2466, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T23:54:04Z", "scrap_date": "2024-05-01T00:25:31.160079", "content": "If youre using webpack and tree shaking then deploying a single function might help If youre not then its unlikely to make much difference when it comes to S3 usage during deployment All of the dependencies still need to be packaged and deployed with the function "},
{"id": 25502, "question_id": 2550, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-23T06:13:03Z", "scrap_date": "2024-05-01T00:25:32.237184", "content": "Is it possible using Serverless to create a lambda function that runs CodeBuild after a zip file is uploaded to S3 Almost certainly You can trigger a lambda when a file is uploaded to S3 see Serverless Framework AWS Lambda Events S3 You can use the AWS SDK to interact with CodeBuild to create projects and start builds see Class AWS CodeBuild AWS SDK for JavaScript "},
{"id": 25592, "question_id": 2559, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-23T23:09:18Z", "scrap_date": "2024-05-01T00:25:33.101041", "content": "include __dirname Looks like your include is only including the current directory and not the libshared Where is babel config defined"},
{"id": 25593, "question_id": 2559, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-23T23:39:26Z", "scrap_date": "2024-05-01T00:25:33.102041", "content": "ok so I had tried [ __dirname lib ] but that didnt work Thanks to your note I was inspired to look again and include [__dirname path join __dirname lib ] did the trick Thanks "},
{"id": 18392, "question_id": 1839, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-10T19:54:26Z", "scrap_date": "2024-05-01T00:25:34.121027", "content": "Have a look at the serverlessoffline plugin And if you use dynamodb there is the serverlessdynamodblocal plugin as well Hope it helps "},
{"id": 18393, "question_id": 1839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-10T23:59:22Z", "scrap_date": "2024-05-01T00:25:34.122027", "content": "Yep This is exactly what Im looking for Thanks "},
{"id": 18394, "question_id": 1839, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-24T11:14:08Z", "scrap_date": "2024-05-01T00:25:34.123027", "content": "Thanks but it only works with NodeJS while Im using Python 3 6 Actually even such basic invoke local functionality would be good but it needs a way so that I can convert a JSON request body into the events body string rather automatically serverlessoffline plugin seems to be cool I dont know why it has to be NodeJSonly I think what it does is preparing the event object to mimic API gateways so API gateway can do this regardless of language I dont get why it requires a specific language Update This seems interesting httpsserverless comframeworkdocsplatformcommandsserverlessrun via alexbdebrie httpstwitter comalexbdebriestatus900373779003580416 Update 2 NOTE currently supports node js 6 3 only"},
{"id": 25472, "question_id": 2547, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T23:40:39Z", "scrap_date": "2024-05-01T00:25:35.005460", "content": "lewisblackwood Im glad you found the article helpful I dont use CircleCI but I assume its just setting standard environment variables right Could you add a stage in env yml for the CI that sets the environment variables from envSOME_VAR For example Currently you cant conditionally include the file but this would allow you to pickup the values from the environment variables set inside CircleCI "},
{"id": 25473, "question_id": 2547, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-24T08:27:27Z", "scrap_date": "2024-05-01T00:25:35.006460", "content": "Hey buggy I did Thanks for writing it It is just standard environment variables on Circle The issue is that its linked to the GitHub repository for my project and my env yml isnt checked in So Circle wouldnt be able to load my env yml I think the best option is probably to follow your suggestion but use a different file for each stage I can load envcircle yml which would just reference SOME_VAR envSOME_VAR as you suggest Thanks for the reply Ill try out the above and follow up here if there are any issues "},
{"id": 25474, "question_id": 2547, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-24T10:40:02Z", "scrap_date": "2024-05-01T00:25:35.007460", "content": "Looking at the Circle CI docs I think a better solution would be to commit an envci yml then use a step inside your circleciconfig yml to copy this to env yml before the build starts "},
{"id": 25475, "question_id": 2547, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-24T11:26:36Z", "scrap_date": "2024-05-01T00:25:35.008461", "content": "Thats a much better solution than mine buggy Ive just tried that and it works great Thanks for all your help on this "},
{"id": 23782, "question_id": 2378, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-30T21:50:22Z", "scrap_date": "2024-05-01T00:25:36.155328", "content": "I think your issue is because while serveless yml is obviously YAML under the hood its converted in to JSON because CloudFormation only started supporting YAML relatively recently This means that while youre writing YAML you cant use the YAML shorthand for CFN intrinsic functions I think what you need to do is update the Role property of your function to look more like this This uses the old function syntax which you still have to use sometimes in YAML e g chaining functions "},
{"id": 23783, "question_id": 2378, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-24T20:54:38Z", "scrap_date": "2024-05-01T00:25:36.156328", "content": "Sorry for the late reply I solved my problem with the code below and went on vacation Similar solution though yours is easier on the eyes Thank you "},
{"id": 9572, "question_id": 957, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-03T23:57:15Z", "scrap_date": "2024-05-01T00:25:37.143338", "content": "Was just trying to figure this out myself Any luck Anyone else"},
{"id": 9573, "question_id": 957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-25T11:57:23Z", "scrap_date": "2024-05-01T00:25:37.144344", "content": "Hi Jacob Did you figure out how to solve this yet"},
{"id": 9574, "question_id": 957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-25T14:17:29Z", "scrap_date": "2024-05-01T00:25:37.145344", "content": "hmarvin Sorry we havent gotten around to answering this The short answer is that you cant just use Route53 to point to your custom domain as API Gateway requires SSL Youll need to configure a custom domain name in API Gateway General docs are here Theres a serverlessdomainmanager plugin that helps with this process I havent had the chance to use it myself yet but Id be curious to hear if it works for you "},
{"id": 25772, "question_id": 2577, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-25T17:46:54Z", "scrap_date": "2024-05-01T00:25:38.216580", "content": "Its because we You Or maybe a bug with my lambda listening to the webhooks here I will look into it Thanks for the report"},
{"id": 24182, "question_id": 2418, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-04T21:19:31Z", "scrap_date": "2024-05-01T00:25:40.116490", "content": "Sorry not following you here What is the question "},
{"id": 24183, "question_id": 2418, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T09:14:27Z", "scrap_date": "2024-05-01T00:25:40.117491", "content": "Hi David I want to define something similar below in serverless yml so that when I execute serverless deploy The deploy should generate the following structure in API gateway Something like this in the definition But the definition wrong Should generate the model with the following definition The generated model should be assigned to the request body of the method POST APIs devauditapi Resource health POST Please let me know if you can help Thank you Satheesh"},
{"id": 24184, "question_id": 2418, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T13:47:51Z", "scrap_date": "2024-05-01T00:25:40.118491", "content": "Hi On to my future investigation and googling through I found the Serverless AWS Documentation plugin which helps in deploying model from yml as well as documentation You can find the more on there serverlessawsdocumentation Serverless 1 0 plugin to add documentation and models to the serverless generated API Gateway Thanks Satheesh"},
{"id": 24362, "question_id": 2436, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T20:08:00Z", "scrap_date": "2024-05-01T00:25:41.061497", "content": "Your conclusion is correct A current limitation is that event sources need to be created as part of the service There are some issues being discussed about how to get around this but its not a simple problem As you mentioned also the CFN intrinsic functions only work on resources in the current template "},
{"id": 24363, "question_id": 2436, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T20:29:47Z", "scrap_date": "2024-05-01T00:25:41.063497", "content": "Thank you I just searched and saw that my guess was right and was about to update "},
{"id": 24392, "question_id": 2439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-08T03:43:31Z", "scrap_date": "2024-05-01T00:25:42.058781", "content": "I think youre going to struggle getting this to work because youre effectively asking for nonidempotent deploys which is a Bad Idea Couldnt you just precreatedefine buckets in all your environments with the production environment owned by ops and the rest owned by you and then just create an environmentbucket name mapping That way the deployment steps are the same regardless of the environment "},
{"id": 24393, "question_id": 2439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-08T13:52:10Z", "scrap_date": "2024-05-01T00:25:42.059782", "content": "I can precreate the deployment bucket but I would much rather expess the deployment processrequirements within the serverless configuration It seems like thats a big part of the point of using a deployment framework I spelunked around in the framework code trying to understand how it works to see if I could find a clean way to achieve this the logic around the handling of provider deploymentBucket is bananas and very hard to follow This is the approach I tried first and seems the cleanest but I couldnt find a way to get it to work The idea being that CONDITION_CREATE_DEPLOYMENT_BUCKET would be false in environments where an ops team manages the creation of required resources I have to work within some external constraints regarding ops policies for deployment but I want to implement the project in such a way that I can incrementally over time move as much of that external deployment logic into project code over time as the understanding with ops evolves "},
{"id": 24394, "question_id": 2439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T01:39:22Z", "scrap_date": "2024-05-01T00:25:42.061782", "content": "Im up for a challenge but it comes with a warning While I regularly use stage specific settings I havent tried anything this complex so it may fail spectacularly Also I havent tested this so you may have a bit of debugging to do I would start with something like this inside your serverless yml What does this do provider will gets its values from customer provider STAGE where STAGE is either the stage from the command line or custom defaultStage custom provider STAGE then contains the entire provider section for that stage To make this a little more DRY Im using YAML anchors a feature of YAML and not specific to Serverless custom provider default should contain any settings that are common to all stages The other stages inherit these through default_provider The default values can be override per stage by simply setting the value again in that stage In this example Im adding role and deploymentBucket in custom provider prod because theyre only applicable to prod Theres a lot that could go wrong here especially around the use of YAML anchors If theyre causing you problems then you could try removing them or moving the providers to their own file Hopefully this will help you PS I wrote a about per stage environment variables over here and Im basically applying that to the provider section "},
{"id": 24395, "question_id": 2439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T03:19:09Z", "scrap_date": "2024-05-01T00:25:42.063782", "content": "Yikes my brain will break if I try to use yaml anchors inside serverless yml I ended up adding a plugin that attaches to the package lifecyle and tries to create the deployment bucket given by provider DeploymentBucket Im not 100 sure which event is appropriate to attach to but this event occurs before the code that checks to verify the existence of the deploymentBucket s3 resource so it works AWSProviderFromServerless for reference just a class I reuse in various plugins for getting typed and correctly configured objects for interacting with various awssdk apis Guess I need to include AwsProvider also "},
{"id": 24582, "question_id": 2458, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-09T17:32:45Z", "scrap_date": "2024-05-01T00:25:42.804636", "content": "Good question jonsmirl I dont think the AWS docs are clear on this The context object youre referring to there is actually included within the event object under a key of requestContext Thus to get the context identity cognitoIdentityId youll need to access event requestContext identity cognitoIdentityId Its hard to find this in the AWS docs so I usually go to the Serverless docs here to see an example event from API Gateway Can you let me know if that works for you If it doesnt can you let me know the integration type youre using for API Gateway e g lambdaproxy http httpproxy "},
{"id": 24583, "question_id": 2458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T17:41:02Z", "scrap_date": "2024-05-01T00:25:42.805636", "content": "Thanks for that answer it was exactly what I needed I have no clue where that is in the Amazon docs I have been looking for this answer for two days "},
{"id": 24584, "question_id": 2458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T17:44:10Z", "scrap_date": "2024-05-01T00:25:42.806637", "content": "Youre welcome Sorry we missed that the first two times you asked "},
{"id": 24585, "question_id": 2458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T17:45:00Z", "scrap_date": "2024-05-01T00:25:42.807637", "content": "The context object youre referring to there is actually included within the event object under a key of requestContext Thus to get the context identity cognitoIdentityId youll need to access event requestContext identity cognitoIdentityId I did not ask when you search the forum two others have asked the identical question "},
{"id": 24382, "question_id": 2438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-07T22:42:20Z", "scrap_date": "2024-05-01T00:25:43.855159", "content": "I think the method youre after is ANY but Im struggling to find it mentioned in the docs that I can link to I did find it in the code so am confident it will work for you "},
{"id": 24383, "question_id": 2438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-08T16:24:51Z", "scrap_date": "2024-05-01T00:25:43.856165", "content": "Thank you for the response So essentially Ill use the any method and route by default to a single node function e g exports http which will in turn route to the correct method by determining the request method"},
{"id": 24384, "question_id": 2438, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-08T17:46:26Z", "scrap_date": "2024-05-01T00:25:43.857165", "content": "Looks like the any method is not required I was able to get it working with the following code serverless yml index js"},
{"id": 24385, "question_id": 2438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T01:49:29Z", "scrap_date": "2024-05-01T00:25:43.858165", "content": "ANY works I think its AWS specific while smick appears to be using GCP "},
{"id": 24386, "question_id": 2438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T22:00:16Z", "scrap_date": "2024-05-01T00:25:43.858165", "content": "Ah my bad I just assumed AWS "},
{"id": 24652, "question_id": 2465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T22:07:57Z", "scrap_date": "2024-05-01T00:25:44.728510", "content": "Per the Serverless API Gateway docs You need to move the private property to the http event like so Hope it helps "},
{"id": 24592, "question_id": 2459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-09T22:12:18Z", "scrap_date": "2024-05-01T00:25:45.719593", "content": "Unfortunately no The variableSyntax property is exposed to deal with this exact issue "},
{"id": 9112, "question_id": 911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T01:22:41Z", "scrap_date": "2024-05-01T00:25:46.774536", "content": "Can you run sls version and confirm youre using 1 2 0 or later"},
{"id": 9113, "question_id": 911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T01:26:35Z", "scrap_date": "2024-05-01T00:25:46.774536", "content": "Also I think it should be Youre using selfstage instead of selfprovider stage "},
{"id": 9114, "question_id": 911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T02:32:01Z", "scrap_date": "2024-05-01T00:25:46.775536", "content": "Thanks Im using serverless 1 3 0 I had selfstage as I thought I was able to reference local yml defined variables like that updating with the environment both under the provider and under my function I still dont have bucket defined in process env"},
{"id": 9115, "question_id": 911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T03:22:09Z", "scrap_date": "2024-05-01T00:25:46.776536", "content": "Log in to the AWS console and find your Lambda When youre on the code tab for the function scroll down and look for Environment variables Does it have an environment variable called bucket listed If bucket isnt defined then try hard coding a value like bucket xxx and deploy again Once you have it deploying with a value it should be easy to make it stage specific You can reference local environment variables using self but the stage is in the provider section so its provider stage and not just stage Hence it the whole variable is selfprovider stage "},
{"id": 9116, "question_id": 911, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-12T21:43:36Z", "scrap_date": "2024-05-01T00:25:46.777536", "content": "Hi buggy I dont know it the variables should be in context stageVariables or in process env but anyway I cant confirm that your sample it does not work serverless 1 3 0 bucket variable is not created and it does not appear on amazon console lambda environment variables "},
{"id": 9117, "question_id": 911, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-08-10T05:18:48Z", "scrap_date": "2024-05-01T00:25:46.778537", "content": "I was battling this After looking around a lot I finally found the solution in the sls deploy function reference Note Because this command is only deploying the function code function properties such as environment variables and events will not be deployed Those properties are deployed via CloudFormation which does not execute with this command In other words you gotta use sls deploy without function to update environment vars "},
{"id": 8612, "question_id": 861, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-01T10:04:11Z", "scrap_date": "2024-05-01T00:25:47.657976", "content": "raxan92 Your custom variables need to be in the custom section Use this instead Rich"},
{"id": 8613, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T10:27:09Z", "scrap_date": "2024-05-01T00:25:47.657976", "content": "Hey Rich Thanks for the reply I kinda went about relocating the other variables to an env yml and calling them in The environment variable PREFIX wasnt being set probably because it wasnt recognized as a string Im not sure if putting them into custom in your example would be another solution Ill make sure to try it out and find out The other issue I encountered thats similar was when I was trying to add in self optstage _prefix into a string which threw the error Trying to populate non string value into a string I assumed that values set are string by default for no reason and didnt completely take in that error when it was thrown I know better now at the very least Please do correct me if Im wrong Im still new to serverless and lambda would like to have the right understanding on things "},
{"id": 8614, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T10:38:54Z", "scrap_date": "2024-05-01T00:25:47.659977", "content": "Rax Can you give me a high level overview of what youre trying to doachieve From the first post it looked like youre having trouble setting an environment variable called PREFIX but after the second post Im confused talking about using env yml can calling in variables etc Are you just trying to have different values in your environment for each stage Rich"},
{"id": 8615, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T11:00:13Z", "scrap_date": "2024-05-01T00:25:47.660977", "content": "Hey Rich Yup basically Im trying to set different values for each stage the prefix will be used to prefix tables according to the stage Sorry for not being clear I was using that as a test case where I was trying to set the variable PREFIX according to the stage but when I deployed the lambda I didnt see the environment variable being set on the console page for the test lambda It was probably unnecessary to mention the rest of the problems In anycase thank you Regards Sarkunan"},
{"id": 8616, "question_id": 861, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-12-01T11:22:53Z", "scrap_date": "2024-05-01T00:25:47.661978", "content": "That makes this a lot easier to answer and gives your more options If you only want to prefix table names with the stage you can do something like Inside your code use process env MY_TABLE to reference the correct table At some point youll probably end up with environment variable that cant simply be prefixed API keys or usernamepassword for example When that happens you can put this into serverless yml Then inside your env yml put Ive got a more detailed writeup of this at Using Environment Variables with the Serverless Framework Ill update it in the next day to better cover your scenario "},
{"id": 8617, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-02T00:24:49Z", "scrap_date": "2024-05-01T00:25:47.662978", "content": "Hey Rich Thank you for that example its a lot more clearer to me now and thanks for the write up I actually found that after posting the question here Hope to see it updated Thanks again have a good day "},
{"id": 8618, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-03T05:42:30Z", "scrap_date": "2024-05-01T00:25:47.663978", "content": "Hey Rich I am currently trying to setup my environment variables and have followed the process you have outlined here and in the writeup I created the env yml file and it is in the same directory as my serverless yml file and reference it like so environment file env yml selfcustom stage However I cant seem to get it working I can set up an env var like this which outputs the stage correctly environment MY_VAR selfcustom stage So it seems my env yml file is not being referenced correctly Do I need to change the way I reference the vars in code currently I do it like this process env MY_VAR Or do I need to include the env yml as a resource or something like that I feel like I have missed a step somewhere I hope this makes sense and you can identify what Ive done wrong Cheers Bernd"},
{"id": 8619, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-03T11:07:49Z", "scrap_date": "2024-05-01T00:25:47.664978", "content": "Hey Bernd What youve posted looks right Could you post your env yml The problem is most likely in that Rich"},
{"id": 86110, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-03T12:20:58Z", "scrap_date": "2024-05-01T00:25:47.665979", "content": "Sure I have since gotten around this issue by allowing my env yml file to be included in my repo by removing it from gitignore Obviously when I was building the project the env yml file wasnt there and as such didnt get included resulting in undefined variables But for anyone else who might need a similar solution my env yml file is included below The secret variables are set in the GitLab repo so although I am committing env yml to my repo the values are still obscured "},
{"id": 86111, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T01:52:15Z", "scrap_date": "2024-05-01T00:25:47.666979", "content": "Are you deploying from a different machine If you are then you need to have the env yml on that machine too I wouldnt recommend putting your env yml into version control as it defeats the main purpose for having it in its own file anyone with access to version control can see your credentials Normally each developer would have their own env yml and only the person or machine deploying to production would have the production credentials "},
{"id": 86112, "question_id": 861, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T05:29:55Z", "scrap_date": "2024-05-01T00:25:47.667979", "content": "I had a problem where my env vars were not updating and it seems you must deploy using sls deploy not sls deploy function I dont know if that was your issue but it solved it for me httpforum serverless comtaccessingstageorenvvariablesinlambda9117"},
{"id": 24542, "question_id": 2454, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T05:31:02Z", "scrap_date": "2024-05-01T00:25:48.137725", "content": "If anyone is interested heres a hacky way I found to do this with a custom plugin "},
{"id": 12652, "question_id": 1265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-05T22:44:54Z", "scrap_date": "2024-05-01T00:25:49.178401", "content": "If you need to reference it from CFN can you get it via a Ref The S3 bucket resource returns its name from a Ref call Otherwise I think this is something you could probably get via a plugin but Im not familiar with the workings of EB to give more detail "},
{"id": 12653, "question_id": 1265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T03:57:29Z", "scrap_date": "2024-05-01T00:25:49.179401", "content": "I know I can get the S3 bucket as declared in serverless yml but I need the full path to the code bundle that sls deploy uploads I want to reference that full path in my CFN template that is declared in serverless yml I looked into writing a plugin but it looks like all variables are expanded before any plugins run including mine and the deploy plugin that generates the full artifact path so I dont think theres a way to do it "},
{"id": 12654, "question_id": 1265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-28T14:13:53Z", "scrap_date": "2024-05-01T00:25:49.180401", "content": "Did you figure out how to get this full path"},
{"id": 12655, "question_id": 1265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T16:57:29Z", "scrap_date": "2024-05-01T00:25:49.180401", "content": "I ended up writing a plugin that modifies my CFN template Heres an example This was written in February so I dont know what might have changed in Serverless since then "},
{"id": 24732, "question_id": 2473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T21:43:27Z", "scrap_date": "2024-05-01T00:25:50.258905", "content": "Hey FacioRatio This may help httpsgithub comserverlessserverlessissues2946issuecomment280183207 So define the package artifact on function level as well Else serverless tries to package it for you when deploying a single function whats not really applicable for C Java "},
{"id": 24733, "question_id": 2473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T22:32:33Z", "scrap_date": "2024-05-01T00:25:50.259905", "content": "Thank you for your response I tried it perhaps naively this way but I get the same error as before "},
{"id": 24734, "question_id": 2473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T22:59:42Z", "scrap_date": "2024-05-01T00:25:50.260905", "content": "Hmm strange Which commands are you executing Running serverless deploy multiple times should just work fine in your case and only updateupload your artifact package and changes if any in the cloudformation template serverless creates Id rather not use the function deployment for C Java "},
{"id": 24735, "question_id": 2473, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T23:21:32Z", "scrap_date": "2024-05-01T00:25:50.261906", "content": "Im running It didnt occur to me to just do which is what you just implied I should do and which did work I dont know whether the change to my yml file is needed or not Currently its in there though Thanks Guess I fell into the fool category this time Edit removed deployed without the selfpackage artifact line and deployed again and it all worked "},
{"id": 24672, "question_id": 2467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-10T17:15:31Z", "scrap_date": "2024-05-01T00:25:50.957940", "content": "I asked with more detail on AWS Lambda forum My lambda execution role includes this Condition ForAllValuesStringEquals dynamodbLeadingKeys [ cognitoidentity amazonaws com sub ] Action [ dynamodbQuery dynamodbGetItem dynamodbPutItem dynamodbUpdateItem dynamodbDeleteItem ] Resource arnawsdynamodbuseast1tabledigispeakerdev Effect Allow In ApiGateway I have Invoke with caller credentials checked In my lambda code I dump the variable and use it to access dynamodb console error context identity cognitoIdentityId const dynamoDb new AWS DynamoDB DocumentClient const params TableName process env DYNAMODB_TABLE Item id context identity cognitoIdentityId timestamp Date now toString text data text checked false createdAt timestamp updatedAt timestamp write the event to the database dynamoDb put params error handle potential errors if error console error error callback new Error Couldnt create the event item return Why does the put fail If I remove the condition on leadingkeys it will succeed The logged value of context identity cognitoIdentityId is the correct user id useast1e7c7bea010ee4f108bc5f473f1b9bdc9 Why doesnt cognitoidentity amazonaws com sub in the policy resolve equal to context identity cognitoIdentityId inside the lambda function In ApiGateway I have Invoke with caller credentials checked Is there a way to dump the policy with resolved variables from inside the lambda function That would let me see what cognitoidentity amazonaws com sub is resolving to 20170810T155440 644Z\t379d99137de411e7a66b43295915f7bd\t [AccessDeniedException User arnawssts794688751975assumedroledigispeakerdevuseast1lambdaRoledigispeakerdevcreate is not authorized to perform dynamodbPutItem on resource arnawsdynamodbuseast1794688751975tabledigispeakerdev] message User arnawssts794688751975assumedroledigispeakerdevuseast1lambdaRoledigispeakerdevcreate is not authorized to perform dynamodbPutItem on resource arnawsdynamodbuseast1794688751975tabledigispeakerdev code AccessDeniedException time Thu Aug 10 2017 155440 GMT0000 UTC requestId 57C54H4P1RCNUOU6FST4GF1AUBVV4KQNSO5AEMVJF66Q9ASUAAJG statusCode 400 retryable false retryDelay 45 197168621234596 "},
{"id": 24673, "question_id": 2467, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-11T18:39:29Z", "scrap_date": "2024-05-01T00:25:50.961942", "content": "I finally located an explanation for this behavior httpsforums aws amazon comthread jspamessageID687420687420"},
{"id": 24802, "question_id": 2480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-13T02:17:12Z", "scrap_date": "2024-05-01T00:25:51.857305", "content": "Hey monkeysuffrage Was your deploy successful You can check with sls info v If your deploy was successful it will show your service name stage region and other details If it does work try the following things from the sls info v output Check the region value Is it useast1 the region youre checking in your console Look at the ARN from your function It will be at the bottom of sls info v under the Stack Outputs header It should look something like this HelloLambdaFunctionQualifiedArn arnawslambdauswest2111110001111functionmyservicedevhello1 The 12 digit number in middle of the ARN right after the region is your AWS account id Check to see if this matches your other functions You can find this in the Lambda console by clicking on one of your existing functions there should be an ARN value in the top right of the console Let me know if neither of those work and we can keep digging"},
{"id": 24803, "question_id": 2480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-13T02:59:00Z", "scrap_date": "2024-05-01T00:25:51.859303", "content": "Yes I see whats happening it deployed under the serverless demo user because I followed the advice in the video So now I guess Im going to undo all of that and redo the serverless config Thanks for the help troubleshooting this "},
{"id": 24804, "question_id": 2480, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-13T03:01:50Z", "scrap_date": "2024-05-01T00:25:51.860304", "content": "Nope I spoke too soon I just realized that I have no idea what Im doing regarding IAM usersroles Can someone point me in the right direction I just want to be able to see my serverlessdeployed functions when Im logged in the normal way "},
{"id": 24512, "question_id": 2451, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-09T17:41:46Z", "scrap_date": "2024-05-01T00:25:52.542896", "content": "Hi kukula I recommend handling this with different JSON config files for each environment You can then tell Serverless which config file to use based on the stage For example lets say I have an environment variable called DB_CONN that is my db connection string I want this to vary across dev staging and prod environments Id set my serverless yml with In the custom block Im setting up my stage My default stage is dev but I can override it by passing a stage variable at the command line Note the DB_CONN line in the environments section It pulls the DB_CONN value from a file named config stage json Now I can have three different files in my repository Let me know if this works for you "},
{"id": 24513, "question_id": 2451, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T13:18:18Z", "scrap_date": "2024-05-01T00:25:52.543896", "content": "Thank you for advise alexdebrie1 What it is best practice with a listed settings like securityGroupIds and subnetIds"},
{"id": 24514, "question_id": 2451, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T19:40:31Z", "scrap_date": "2024-05-01T00:25:52.544897", "content": "Youre welcome kukula For lists you can use an array in your JSON Note that you could also make your config file in YML if its easier to write in yml for both your serverless yml file and your config prod yml file Just make sure youre referencing the proper file name and property within the file "},
{"id": 24812, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-13T20:17:55Z", "scrap_date": "2024-05-01T00:25:53.550165", "content": "Can you include your handler code At least he part s that determine the response object Usually I get this error when I forget to JSON stringify the body payload for the lambdaproxy integration but it looks like youre doing that so it must be something else in the returned object thats doing it You can tell its an issue with the payload because the error is happening when API Gateway is attempting to render the response everything is fine in your code but getting 500s on the client "},
{"id": 24813, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T03:15:06Z", "scrap_date": "2024-05-01T00:25:53.551166", "content": "Appreciate the response Here is the handler code"},
{"id": 24814, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T10:22:41Z", "scrap_date": "2024-05-01T00:25:53.552166", "content": "In the code youve shared youve got a header AccessControlAllow that you didnt have in your original snippet Is that the wildcard in the header name allowed I havent seen it before "},
{"id": 24815, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T13:21:30Z", "scrap_date": "2024-05-01T00:25:53.552166", "content": "Ive updated the handler code to Same result Are there any other headers I need to specify"},
{"id": 24816, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T14:47:18Z", "scrap_date": "2024-05-01T00:25:53.553166", "content": "I must be missing something in my configuration I have another simple function that queries data from a dynamoDB table The query is successful and I can see the results in the logs but the client still gets the message Internal server error "},
{"id": 24817, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T16:47:32Z", "scrap_date": "2024-05-01T00:25:53.554167", "content": "okay I have to be missing something obvious I simplified even further using a basic Hello World example Testing using sls invoke f hello works as expected However when I use postman to execute a simple GET request the client still gets the status 502 Bad Gateway with message Internal server error I have included below both the function definition as well as the handler hello handler backendtest hello events http cors true path hello method get use strict module exports hello function event context callback "},
{"id": 24818, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-14T21:42:00Z", "scrap_date": "2024-05-01T00:25:53.555167", "content": "rlr0329 For the most recent example youve got a headers key inside your headers key When I removed that I was able to get it to work Does that solve your problem with the simple example And anything similar in your other code that could be causing issues"},
{"id": 24819, "question_id": 2481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T22:32:39Z", "scrap_date": "2024-05-01T00:25:53.555167", "content": "Thank you alexdebrie1 That did solve the problem with the simple example Cant believe I missed that Found the problem with my other exampleit was an issue with the callback The module definition was module exports getPrjList event context callback I was simply doing a return response instead of callback null response I am new to nodeJS and still trying to wrap my head around callbacks Anyways thanks again for your help "},
{"id": 10982, "question_id": 1098, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-11T04:31:54Z", "scrap_date": "2024-05-01T00:25:55.740203", "content": "The resources section in serverless yml is just CloudFormation All the CFN docs apply to it Another way to handle this that avoids the need for nested stacks is crossstack references I avoid nested stacks like the plague What resources are you creating so many of that youre hitting the limit Individual functions Do you have a 11 mapping between endpointsmethods and functions I use CloudFormation every day for all my projects Serverless and otherwise and still havent hit this limit so we must be doing something very different "},
{"id": 10983, "question_id": 1098, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T07:22:37Z", "scrap_date": "2024-05-01T00:25:55.741204", "content": "yes i get the feeling I am doing something wrong For my api there is a one to one mapping between api endpointmethod and lambda function But that is all it is I assume that each get put delete etc is a resource right now I have roughly 46 methods on roughly 15 endpoints each method maps to a lambda function However even at 46 methods why are there over 200 resources"},
{"id": 10984, "question_id": 1098, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T22:35:05Z", "scrap_date": "2024-05-01T00:25:55.742274", "content": "Serverless has to create a bunch of background resources to glue the other resources e g functions methods etc together so theres definitely going to be more than you think The best way to see all the resources is go to the CloudFormation section of the AWS Console select your stack and go to the Resources tab Heres an AWS CLI command will print out an ordered summary of how many of each resource has been created Id be interested to see what youve got if you can share Unfortunately I think youll still be left with few options A Split in to multiple services B Reuse functions for multiple endpoints Update I realised the first version of the command I gave you didnt work "},
{"id": 10985, "question_id": 1098, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-16T22:09:02Z", "scrap_date": "2024-05-01T00:25:55.743204", "content": "I think rowanu is correct with 46 methods you have not structured your project correctly it is dead easy to reference a resource that is output by one CloudFormation in another serverless or otherwise httpdocs aws amazon comAWSCloudFormationlatestUserGuidewalkthroughcrossstackref html You need to break up your solutions into much smaller projects services"},
{"id": 10986, "question_id": 1098, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-16T23:02:10Z", "scrap_date": "2024-05-01T00:25:55.744334", "content": "It is wrong to have a service with 46 methods I dont think Ill go with that The idea that no service should be so complicated that it has 46 methods doesnt seem realistic I know I could break it up into smaller services but it seems to me that breaking up a service simply because the provider aws has a limitation and not because it makes some kind of logical sense is not a great idea either "},
{"id": 10987, "question_id": 1098, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-20T06:48:05Z", "scrap_date": "2024-05-01T00:25:55.745205", "content": "Theres a discussion about this going on at httpsgithub comserverlessserverlessissues3411"},
{"id": 22792, "question_id": 2279, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-20T17:42:54Z", "scrap_date": "2024-05-01T00:25:56.652260", "content": "Create a module lets call it invokeLambda that looks a bit like this simplified Then another module say invokeLocal that does something like Note that this assumes a 1to1 relationship between function name and file name this might not be the case but hopefully you can use some method to determine the filename from the function name Otherwise you might have to fall back to a static map or perhaps you could read serverless yml and get it from there Then you can inject whichever one of these is relevant based on some test that you can use to determine where the code is running It could be as simple as something like Then you can use it and whichever method is defined for the environment will be used HTH"},
{"id": 22892, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-14T11:40:20Z", "scrap_date": "2024-05-01T00:25:57.788310", "content": "I think what youre looking for is CloudWatch Alarrms You can set up metrics for API GatewayLambda and have any alerts posted to an SNS topic You can then subscribe to the topic with email or set up another Lambda to post to a Slack channel Hope that helps httpsdocs aws amazon comlambdalatestdgmonitoringfunctionsmetrics html"},
{"id": 22893, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-15T15:40:59Z", "scrap_date": "2024-05-01T00:25:57.789310", "content": "Hey Thanks for the reply Yeah Cloud Watch alarms are something I already use for alerting on events But really what I think Im after is more of an orchestration tool Going back to the container example I guess it would be a Kubernetes type thing only for serverless applications I cant find anything that really covers this so maybe its a good idea for a new project"},
{"id": 22894, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-16T03:15:38Z", "scrap_date": "2024-05-01T00:25:57.790310", "content": "Serverless technologies are still new so there are definitely gaps in the tooling available "},
{"id": 22895, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T16:52:37Z", "scrap_date": "2024-05-01T00:25:57.791310", "content": "I know its not an exact answer to your question but maybe helpful as general strategy for deployments It ensures a working deployment before going live Bluegreen deployment allows you to upgrade production software without downtime You deploy the new version into a copy of the production environment and change routing to switch "},
{"id": 22896, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T14:06:43Z", "scrap_date": "2024-05-01T00:25:57.791310", "content": "Hey Thanks for the link not really what Im thinking about as blue green is more of a deployment strategy not a post deployment monitoring tool Ive not tried bluegreen deployment with a serverless application How did you set this up This would be really interesting to hear how you got it working If I was to implement this on a API Gateway Lambda stack Im struggling to see how to handle the switch over between blue green connection draining ramp up down etc Thanks"},
{"id": 22897, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T22:15:22Z", "scrap_date": "2024-05-01T00:25:57.792371", "content": "Youd need at least a separate DNS record in front of your service to allow you to bluegreen it but that wouldnt explicitly take care of connection draining In practice the draining might just work because clients that have the old site might not reresolve the DNS name and therefore get the new services endpoint but not sure how comfortable you are relying on that DNS client implementations are notoriously varied in their implementations I find a more successful strategy for service deployments is the Canary model which is also mentioned on Fowlers blog again with an additional layer of DNS you direct a portion of your traffic to the new service using Route53 weighted records and monitoring the results "},
{"id": 22898, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-20T08:58:24Z", "scrap_date": "2024-05-01T00:25:57.794311", "content": "tomwilderspin sorry I have to admit I did not set it up myself up to now I am interested in a solution to your problem as well Bluegreen deployment just popped up my mind as a possible solution to solve a part of your problem For sure the solution would be somehow possible with a green and red production stage at API gateway and set up a custom domain My guess would be to automate the removing of the custom domain of the old eg green stage and add it to the new red stage with CloudFront But that would be the route I would try it Never did it up to now I also would be really interested whether this is a feasible approach rowanu thanks for your input Indeed the change of DNS entries couldwould cause connection draining I did not know the Canary model Very interesting Do you know if this is possible to set up in front of API gateway as well"},
{"id": 22899, "question_id": 2289, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T05:48:22Z", "scrap_date": "2024-05-01T00:25:57.795312", "content": "Definitely but you have to do it yourself Ill put a blog post together around it sooner or later "},
{"id": 23352, "question_id": 2335, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-21T06:01:04Z", "scrap_date": "2024-05-01T00:25:58.904163", "content": "Im not sure the YAML merge syntax is supported in serverless yml A quick search of the forums showed me saying something similar a while back try variables maybe httpforum serverless comtmergingmapsinserverlessymlwithexternalfiles785"},
{"id": 22902, "question_id": 2290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-14T22:33:18Z", "scrap_date": "2024-05-01T00:25:59.338373", "content": "any ideas anyone I do not want my information to be pushed to serverless platform yet and it increases already slow deployment time"},
{"id": 22903, "question_id": 2290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-17T06:16:45Z", "scrap_date": "2024-05-01T00:25:59.339373", "content": "You havent mentioned it so I have to as Are you using the packaging settings "},
{"id": 22904, "question_id": 2290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T13:34:19Z", "scrap_date": "2024-05-01T00:25:59.339373", "content": "No I am not using packaging settings Should I be looking into that setting I migrated from 1 11 to 1 17 so I may have to go back to review the features introduced between these versions"},
{"id": 22905, "question_id": 2290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T20:49:18Z", "scrap_date": "2024-05-01T00:25:59.340373", "content": "Yes you should definitely investigate these settings they are there to address this exact issue One thing that recently changed is that now devDependencies are not included in your function package If you have your dependencies defined in the appropriate locations in your package json i e depenedencies vs devDependencies then your package contents will change and hopefully get much smaller Even if that doesnt solve your issue completely you can then use the packaging settings linked above to explicitly includeexclude the files you want included via globs "},
{"id": 22906, "question_id": 2290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T23:37:17Z", "scrap_date": "2024-05-01T00:25:59.341374", "content": "Oh I only just reread your question and noticed youre talking about the Servleress Platform things I thought your issue was due to package size You might want to ignore some of my earlier advice I havent seen that issue yet but will see what I can dig up in the code "},
{"id": 22907, "question_id": 2290, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T10:31:33Z", "scrap_date": "2024-05-01T00:25:59.342437", "content": "Hi Pgali sorry for the inconvenience Publishing by the Platform only happens if you ran serverless login before and logged into the Platform By running severless logout you again can optout of this feature If you still want to be logged in but track only some services you can set publish to false in the service object inside the serverless yml e g I hope this helps P S The Platform shouldnt have failed here We are going to look into the bug Feel free to always reach out to us directly "},
{"id": 21192, "question_id": 2119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-20T12:08:20Z", "scrap_date": "2024-05-01T00:25:59.941459", "content": "Sorry I dont know the answer of your main question But about the second part enablingdisabling according to environnement I use the following trick for schedule enabling I have a js file with two functions enabled js serverless yml Im not sure it is the best way to do it but it works Note that with this example the stage must be declared explicitely at deployment with stage or s "},
{"id": 21193, "question_id": 2119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-22T06:30:49Z", "scrap_date": "2024-05-01T00:25:59.942551", "content": "schedule has an enable option that sns doesnt seem to support chris_sf Id try setting something like then you could use"},
{"id": 23502, "question_id": 2350, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-22T06:52:48Z", "scrap_date": "2024-05-01T00:26:00.933871", "content": "You can set the runtime per function httpsserverless comframeworkdocsprovidersawsguidefunctions"},
{"id": 23382, "question_id": 2338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-21T05:55:18Z", "scrap_date": "2024-05-01T00:26:01.744499", "content": "The iamRoleStatements property and its children need to be indented another level i e they need to be under the provider property"},
{"id": 23383, "question_id": 2338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-21T07:58:42Z", "scrap_date": "2024-05-01T00:26:01.745505", "content": "thanks rowanu this fixed it"},
{"id": 23384, "question_id": 2338, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-22T09:07:13Z", "scrap_date": "2024-05-01T00:26:01.746505", "content": "No worries I did exactly the same thing 4 days ago "},
{"id": 23422, "question_id": 2342, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T15:28:23Z", "scrap_date": "2024-05-01T00:26:02.675365", "content": "mysqlevents mysqlevents requires a constant open connection to listen for changes on the database Lambda functions only run when invoked and then are frozen until the next invocation This means it will no longer be listening on that connection This is similar to why websockets dont work inside of lambda functions Is it possible to use Socket io with AWS Lambda Stack Overflow"},
{"id": 23423, "question_id": 2342, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T05:11:06Z", "scrap_date": "2024-05-01T00:26:02.676365", "content": "Thank u so much brianneisler Is there any other way to use mysqlevents to listen for changes in database Or is there any modules available to detect the changes in database within lambda function"},
{"id": 23372, "question_id": 2337, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-21T05:52:34Z", "scrap_date": "2024-05-01T00:26:03.672258", "content": "Do you mean a DynamoDB local plugin or the Javabased utility provided by AWS Either way the DDB instance probably only stores your data inmemory so everything is getting dropped when the process stops "},
{"id": 23373, "question_id": 2337, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T09:06:05Z", "scrap_date": "2024-05-01T00:26:03.673259", "content": "Hi Thanks you I understood it"},
{"id": 23582, "question_id": 2358, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-24T02:51:07Z", "scrap_date": "2024-05-01T00:26:04.556846", "content": "What error message are you getting I think your problem is that while snsPublish is a valid action sesPublis is not You probably want sesSendEmail Check out the Cloudonaut IAM reference for all the possible actions "},
{"id": 23583, "question_id": 2358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T11:09:25Z", "scrap_date": "2024-05-01T00:26:04.557846", "content": "the error was Missing final domain My bad I had googled this and went down the wrong path Turns out it was just missing proper email in the Source attribute "},
{"id": 23584, "question_id": 2358, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T13:38:48Z", "scrap_date": "2024-05-01T00:26:04.558846", "content": ""},
{"id": 23585, "question_id": 2358, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-24T13:40:51Z", "scrap_date": "2024-05-01T00:26:04.559847", "content": "this worked after following the required process with AWS to verify the email address in the Destination object "},
{"id": 23602, "question_id": 2360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-25T20:07:12Z", "scrap_date": "2024-05-01T00:26:05.454999", "content": "If youve created this bucket yourself then it cant be removed unless you remove all the objects in the bucket first thats just how S3 rolls Heres the reference in the docs Note For Amazon S3 buckets you must delete all objects in the bucket for deletion to succeed Serverless knows about its deployment bucket and cleans it up by deleting all the objects in it because its only required temporarily i e at deploytime "},
{"id": 23603, "question_id": 2360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-26T00:23:58Z", "scrap_date": "2024-05-01T00:26:05.457000", "content": "Did you delete the stack of cloudFormation When deleting S3 you also need to delete the stack Please try once "},
{"id": 23562, "question_id": 2356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-23T21:09:40Z", "scrap_date": "2024-05-01T00:26:06.588750", "content": "My understanding is that the stage variable is originally from API Gateway and is now synonymous with environment Stage is one of my pet peeves about API Gateway nothing else in AWS has the idea of stages like it does so having it there feels really clunky Unfortunately stage is not something you can avoid in API GW so SLS had to work with it You can refer to the stage value through Serverless Variables usually with something like optstage which will get the stage value passed in the command line options "},
{"id": 23563, "question_id": 2356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T08:07:03Z", "scrap_date": "2024-05-01T00:26:06.589750", "content": "Thank you for your response However I believe Ive not explained myself correctly I do not mind the stage section within API Gateway what I do not understand is why when I run serverless deploy then serverless deploy stage prod for example I get two different API Gateways in the first place with the stage suffix added to the name"},
{"id": 23564, "question_id": 2356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T10:39:05Z", "scrap_date": "2024-05-01T00:26:06.590750", "content": "Oh I misunderstood you It sounds like a bug if those two commands produce different deployments The resource name should include something to make it unique or let CloudFormation name it uniquely "},
{"id": 23565, "question_id": 2356, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-26T05:04:08Z", "scrap_date": "2024-05-01T00:26:06.591751", "content": "Thank you for your response However I believe Ive not explained myself correctly I do not mind the stage section within API Gateway what I do not understand is why when I run serverless deploy then serverless deploy stage prod for example I get two different API Gateways in the first place with the stage suffix added to the name The API Gateway and Serverless Framework stages are closely related but not the same thing One of the early decisions with Serverless was that each stage should be a complete deployment with everything you need new Lambdas API Gateway Dynamo DB Tables etc This is the only way to cleanly deploy the same app to different environments Thats why you get two different API Gateways When creating the API Gateway it just happens to use the Serverless Framework stage name as the stage for the API Gateway "},
{"id": 23482, "question_id": 2348, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T20:02:49Z", "scrap_date": "2024-05-01T00:26:07.278746", "content": "Id probably handle this in the code"},
{"id": 23483, "question_id": 2348, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-22T20:40:30Z", "scrap_date": "2024-05-01T00:26:07.279747", "content": "Interesting what is your use case"},
{"id": 23484, "question_id": 2348, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-27T18:13:47Z", "scrap_date": "2024-05-01T00:26:07.279747", "content": "I am building out API endpoints as Lambda functions and Id like to offer the response formatted in JSON and XML depending on the requests contenttype header "},
{"id": 23542, "question_id": 2354, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-22T18:15:24Z", "scrap_date": "2024-05-01T00:26:07.957991", "content": "i think i know why theres no need to add resources xxxDynamoDbTable if the item already exists"},
{"id": 23543, "question_id": 2354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-23T21:14:12Z", "scrap_date": "2024-05-01T00:26:07.958991", "content": "Just for any one else who comes across this the short answer is you cant manage the same resource in multiple CloudFormation templates or Serverless services As youve already discovered whats happening here is that your second service is trying to create a DDB table with the same name and table names must be unique Your options are"},
{"id": 23544, "question_id": 2354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-27T18:14:50Z", "scrap_date": "2024-05-01T00:26:07.959991", "content": "Is there a way to have serverless skip creating the DDB if it already exists"},
{"id": 23545, "question_id": 2354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-27T20:05:39Z", "scrap_date": "2024-05-01T00:26:07.959991", "content": "Not from another templateservice Deploying the same template does exactly that One of the major benefits of using CloudFormation is idempotent deployments having a template that does one thing one time and another thing another time based on some outside state not expressed in the parameters would break that "},
{"id": 23822, "question_id": 2382, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-29T04:16:40Z", "scrap_date": "2024-05-01T00:26:09.010643", "content": "You can define as many DynamoDBs in your serverless yml as you want Just add them to the resources and iamRoleStatements sections Your Lambda will then be able to access all of them My two tips would be"},
{"id": 21832, "question_id": 2183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T14:33:43Z", "scrap_date": "2024-05-01T00:26:10.674487", "content": "aws cli is your friend for this aws cloudfront createinvalidation distributionid yourdistributionid paths "},
{"id": 21833, "question_id": 2183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T14:47:45Z", "scrap_date": "2024-05-01T00:26:10.675488", "content": "I was hoping to not use AWS cli and instead just use serverless as cloud agnostic devops Not possible"},
{"id": 21834, "question_id": 2183, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-30T23:43:16Z", "scrap_date": "2024-05-01T00:26:10.675488", "content": "I dont believe there is a way to do it through CloudFormation therefore not built in mechanism for doing it with serverless unless you feel adventurous enough to write a plugin for it "},
{"id": 21835, "question_id": 2183, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-02T15:30:30Z", "scrap_date": "2024-05-01T00:26:10.676487", "content": "Theres a couple of ways you could do this Personally I do the first when I upload objects to S3 "},
{"id": 21836, "question_id": 2183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T05:24:27Z", "scrap_date": "2024-05-01T00:26:10.676487", "content": "Originally we didnt set cache TTLs and needed to invalidate the cache during every deployment That took a while and quickly became painful We then changed to setting the cache control to 30 seconds when uploading to S3 Heres our command if that helps Its a trade off between longer cache times that are good for performance and being able to test changes quickly Right now I think weve swung too far towards development and I plan to experiment with longer cache times over the next few weeks "},
{"id": 21837, "question_id": 2183, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T08:23:40Z", "scrap_date": "2024-05-01T00:26:10.677488", "content": "The other alternative we have started using is to set Cloudfront to forward all query parameters and cache on them and then pass a query parameter thats different with each release The same can be done with headers instead if you prefer"},
{"id": 22342, "question_id": 2234, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T22:08:38Z", "scrap_date": "2024-05-01T00:26:11.543862", "content": "What version of Serverless have you got installed If none of the examples are working it might be a version issue "},
{"id": 21592, "question_id": 2159, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-06T05:38:46Z", "scrap_date": "2024-05-01T00:26:12.275357", "content": "I dont know of a way to produce a serverless yml with variables replaced but if you look in the serverless folder you should see the two CloudFormation files that will show the values being sent to AWS "},
{"id": 21593, "question_id": 2159, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-06T22:45:10Z", "scrap_date": "2024-05-01T00:26:12.277357", "content": "Just to add to what buggy said the command youre looking for is serverless package which will create the CloudFormation template with your variables populated Its not in the format of serverless yml but will let you know if your config is good "},
{"id": 22332, "question_id": 2233, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-06T21:15:31Z", "scrap_date": "2024-05-01T00:26:13.201375", "content": "I also ran into this in serverlesspythonrequirements Serverless changed its behavior a few releases ago That variable substitution is not called by the time plugin constructors get called Unless you actually need it then just access it in your lifecycle hooks it should be resolved by then here was my fix httpsgithub comUnitedIncomeserverlesspythonrequirementscommit2d1e218c383070d8f8244caa585c12843812f3d4"},
{"id": 22333, "question_id": 2233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T21:44:52Z", "scrap_date": "2024-05-01T00:26:13.203375", "content": "This is the issue and the fix Many thanks It might be nice to explicitly call out in the documentation that variables arent resolved until after plugin creation has completed Thanks again "},
{"id": 22334, "question_id": 2233, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-07T01:43:25Z", "scrap_date": "2024-05-01T00:26:13.203375", "content": "Thats a good idea Ive gone ahead and made a PR httpsgithub comserverlessserverlesspull3911"},
{"id": 22012, "question_id": 2201, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-04T05:45:46Z", "scrap_date": "2024-05-01T00:26:14.304124", "content": "I was wondering about the same is there any way to achieve this using serverless framework"},
{"id": 22013, "question_id": 2201, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-07T14:44:01Z", "scrap_date": "2024-05-01T00:26:14.305125", "content": "Follow the thread here 3896"},
{"id": 22462, "question_id": 2246, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-09T16:37:37Z", "scrap_date": "2024-05-01T00:26:15.063547", "content": "Turns out this is a bug in NodeJS v8 1 httpsgithub comnodejsnodeissues12921 Downgrading my deploy environment to 6 10 fixes the issue"},
{"id": 22612, "question_id": 2261, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T22:13:13Z", "scrap_date": "2024-05-01T00:26:16.060558", "content": "The resources section in serverless yml is just CloudFormation Check the docs for KMS keys for all the hotness also relevant key policies It would look something like this"},
{"id": 22402, "question_id": 2240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T08:50:10Z", "scrap_date": "2024-05-01T00:26:16.943011", "content": "Ahhh VPCs Hows your AWS networking Because youre about to learn a lot There are a multitude of things that can go wrong be unintuitive Check the following things on both your source i e Lambda ENI and target i e WordPress server also an ENI technically 1 Route tables between subnets that the ENIs are in 1 NACLs on the subnets the ENIs are in Remember that NACLs are stateless so need rules going both ways 1 Security Groups that are associated with the ENIs check the corresponding ingress and egress rules on both sides Any one of those things that is misconfigured will cause a silent timeout If youve got VPC Flow Logs enabled for your VPC you can check them out to see if the packets are being rejected which could be because of either NACLs or SGs "},
{"id": 22652, "question_id": 2265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T20:45:35Z", "scrap_date": "2024-05-01T00:26:17.970040", "content": "Just found out stagev100 works I guess because there is at least one character in it Still this is not very nice there should be at least a separator between major minor and micro version Stack service name and stage name seem to contradict each other on anything that is not a character Any idea"},
{"id": 22653, "question_id": 2265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T13:50:16Z", "scrap_date": "2024-05-01T00:26:17.971041", "content": "Use underscores stagev1_0_0 the error message you posted says you can use them Stage name only allows azAZ09_ "},
{"id": 22654, "question_id": 2265, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T13:51:02Z", "scrap_date": "2024-05-01T00:26:17.972041", "content": "Sorry I didnt read properly you tried that already Sorry "},
{"id": 22602, "question_id": 2260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T14:05:08Z", "scrap_date": "2024-05-01T00:26:19.010244", "content": "I think the answer is simply that youve used the wrong reference in your config Youve defined the domain name as DomainName under environment but you are trying to refer to it as though it is under vars So where you have selfvars domainName you should have selfenvironment DomainName note that you defined it with an initial upper case so you should use an initial upper case when you refer to it or change it all over to initial lower case The stage is related to the software developtestrelease cycle and would normally be things like development or dev staging test or testing uat user acceptance testing and production If you dont know what it is your provider will give you a default value so where you have selfvars domainName you could just put selfprovider stage and then you dont need to define stage under environment "},
{"id": 22682, "question_id": 2268, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T04:07:55Z", "scrap_date": "2024-05-01T00:26:19.764326", "content": "How can I go about created a GraphQL server on AWS lambda through serverless Ive written a few using httpgraphql orggraphqljs In a very simple implementation your handler just need to get the parameters from the event into the graphql function then send the output back to the browser correctly For most of my implementations Ive also handled authentication and setup a context there too Once youve implemented that youre just writing the schemaresolvers There are other options depending your preferred language including"},
{"id": 22683, "question_id": 2268, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T09:54:04Z", "scrap_date": "2024-05-01T00:26:19.766327", "content": "buggy Do you have a sample code by any chance Im new to both Lambda and GraphQL so having confusions Working on NodeJS though "},
{"id": 22684, "question_id": 2268, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-11T20:57:08Z", "scrap_date": "2024-05-01T00:26:19.766327", "content": "Ive done this for Madison Square Garden httpsgithub comHoraceShmoracemsggraphqlapi This was just a proof of concept for what ended up being a real application so ignore the fact that the data layer simply relays to a public REST API A production application should access a database directly "},
{"id": 21652, "question_id": 2165, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T22:50:27Z", "scrap_date": "2024-05-01T00:26:20.677579", "content": "Looking at those bugs reports Im not sure this feature works "},
{"id": 22732, "question_id": 2273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T20:38:24Z", "scrap_date": "2024-05-01T00:26:21.793476", "content": "Hey does your serverless file similar this httpsgithub comProbablePrimeserverlesssnsissueblobmasterserverless yml Im having what sounds like a similar issue Theres some discussion here Im looking around for some details and found Create a subscription between my Amazon SQS queue and an Amazon SNS topic in CloudFormation AWS rePost which seems helpful Ill be trying out some stuff on the above repo today and will let you know if i get anywhere Edit I Fixed it A repro to help people answer a query i have regarding sns and stuff GitHub ProbablePrimeserverlesssnsissue A repro to help people answer a query i have regarding sns and stuff The key part here is the Ref function available in cloudformation Ref AWS CloudFormation"},
{"id": 15702, "question_id": 1570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-28T14:00:43Z", "scrap_date": "2024-05-01T00:26:22.803821", "content": "I just use a local environment variable export NODE_ENVlocal or add it to your bash_profile for a more permanent solution Then check it in your code if process env NODE_ENV local It would be nice though if there was a builtin env variable in serverless to check against when running invoke local "},
{"id": 15703, "question_id": 1570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-28T23:12:01Z", "scrap_date": "2024-05-01T00:26:22.804821", "content": "I think this is what localstack is aimed at dealing with Youd change the endpoint your lambda object points to to point locally and then run your SDK commands as normal I havent tested this so cant comment on how effective it is I would generally think that this is an antipattern because its going to greatly complicate your application and you can never be 100 sure it matches the real world AWS API "},
{"id": 15704, "question_id": 1570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-12T17:17:46Z", "scrap_date": "2024-05-01T00:26:22.805821", "content": "lambda invoke Im also looking for this solution Does sls offer no way of doing a local lambda invoke mnort9 Im not sure I understand you solution Is there an api for local testing without using localstack"},
{"id": 15705, "question_id": 1570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-12T17:57:05Z", "scrap_date": "2024-05-01T00:26:22.805821", "content": "As of v1 14 serverless provides a IS_LOCAL env variable when running sls invoke local Google Cloud Functions Rollback function DeadLetterConfig Login command and more in the Serverless Framework v1 14 release "},
{"id": 22762, "question_id": 2276, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-13T00:22:48Z", "scrap_date": "2024-05-01T00:26:23.857514", "content": "Hi leeeomaaax I am not 100 sure but I highly doubt that this is possible since even if you mapped it to a custom domain incl defining a base path APIGW doesnt really care about it i e the endpoints are still available through the amazonaws com domain So I think the best you can do is to handle this in your authorizer e g allow always for case a and actually check for case b if this is what you want to do In any case Id stick withe serverless default approach authorizer authFn authFn handler "},
{"id": 22763, "question_id": 2276, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-13T14:50:53Z", "scrap_date": "2024-05-01T00:26:23.859512", "content": "bbilger thank you very much for replying Im not sure I understood you recommendation basepath1 and basepath2 are actually two different services they do completely different things on the same resource How would I check for case b in my authorizer since I cant add more elements to the policy statement My solution for now is duplicating the declaration of functions on the serverless yml and putting the base path in it domain comserverlessServiceAsBasePathformerBasePath1resourceresourceID serverlessServiceAsBasePath would be the base path formerBasePath1resourceresourceID is now in a duplicated function declaration in yml"},
{"id": 22764, "question_id": 2276, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-13T20:47:28Z", "scrap_date": "2024-05-01T00:26:23.860512", "content": "Hi leeeomaaax Hmmm I am confused and probably I am totally missing the point here but if those are two different services how is the base path relevant then at all You can easily register an authorizer per endpoint see serverless yml below If the question is about the policy and the value for Resource the resource is passed as methodArn to your custom authorizer handler and so you can generate the policy accordingly See first example here httpdocs aws amazon comapigatewaylatestdeveloperguideusecustomauthorizer html If this still doesnt answer your question when you say base path do you mean the base path you defined on the custom domain or the path of the endpoint regardless of your custom domain Docs httpsserverless comframeworkdocsprovidersawseventsapigatewayhttpendpointswithcustomauthorizers serverless yml custom authorizer"},
{"id": 22862, "question_id": 2286, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-13T22:42:50Z", "scrap_date": "2024-05-01T00:26:24.522153", "content": "There is no suggested maximum so the answer is it depends Since functions are simply discrete pieces of code the number of functions will depend largely on how much each of your individual functions do There is a maximum number of functions and resources determined by CloudFormation limits on AWS Im not sure about the nonAWS platforms but that can be workedaround by using nested stacks crossstack references and resourceonly services "},
{"id": 21012, "question_id": 2101, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-21T00:00:14Z", "scrap_date": "2024-05-01T00:26:26.597668", "content": "This is the behaviour of the AWS SDK not Serverless I dont set up a default profile for just this reason all my profiles are named and must be explicitly called "},
{"id": 5492, "question_id": 549, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-15T09:20:02Z", "scrap_date": "2024-05-01T00:26:27.406891", "content": "I havent used it yet myself but Ive heard good things about this plugin "},
{"id": 5493, "question_id": 549, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-16T21:21:49Z", "scrap_date": "2024-05-01T00:26:27.407891", "content": "Were using serverlesswebpack currently at 1 0 0rc 2 working fine with Serverless 1 0 0 Our webpack config js includes the babel loader We have installed babelcli babelcore babelplugintransformruntime babelloader babelpresetes2015 babelpresetstage0 if you need stage 0 Then you just need to include the plugin in your serverless yml Let me know if you have any trouble "},
{"id": 5494, "question_id": 549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T04:50:55Z", "scrap_date": "2024-05-01T00:26:27.408891", "content": "Thanks Ill try it"},
{"id": 5495, "question_id": 549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-03T04:52:57Z", "scrap_date": "2024-05-01T00:26:27.409891", "content": "I tried to add multiple entries with entry handler handler js handler2 handler2 js But I always got this Path must be a string Received handler handler js handler2 handler2 js Have you had more luck"},
{"id": 5496, "question_id": 549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-08T12:39:51Z", "scrap_date": "2024-05-01T00:26:27.409891", "content": "Have you been able to get this working Please share your project structure What I have experienced is that all functions get packaged the same way I end up with multiple zip files with the same size in the serverless folder When I extract them they all have the exact same content I have these on my yml file plugins custom webpackIncludeModules packagePath package json package individually true"},
{"id": 5497, "question_id": 549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-09T03:53:53Z", "scrap_date": "2024-05-01T00:26:27.410892", "content": "Hello lima02 In my serverless yml I only have And my webpack config js contains If I run sls package Im getting several zipfiles with different size "},
{"id": 5498, "question_id": 549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-10T04:42:39Z", "scrap_date": "2024-05-01T00:26:27.411892", "content": "Hi remicastaing Thank you so much for helping out I have tried your config but unfortunately I am still getting the same results Would you mind sharing your package json file as well as the Serverless Framework version you are using I am using 1 15 1 bash4 2 sls version 1 15 1 and this is my package json devDependencies babelcore ^6 24 1 babelloader ^7 0 0 babelplugintransformruntime ^6 23 0 babelpolyfill ^6 23 0 babelpresetes2015 ^6 24 1 babelpresetstage0 ^6 24 1 serverlesswebpack ^1 0 0rc 4 webpack ^2 6 1 webpacknodeexternals ^1 6 0 dependencies awssdk ^2 63 0 babelruntime ^6 23 0 sharp ^0 18 1 Cheers"},
{"id": 5499, "question_id": 549, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-10T07:16:53Z", "scrap_date": "2024-05-01T00:26:27.412892", "content": "And this is my package json Im playing with serverlessoffline local dynamodb graphql "},
{"id": 54910, "question_id": 549, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-21T03:54:27Z", "scrap_date": "2024-05-01T00:26:27.413893", "content": "Thank you I noticed your plugin reference on Serverless yml is serverlesswebpack and not serverlesspluginwebpack Can you please confirm because it is a different plugin and does not match your package json Cheers"},
{"id": 15392, "question_id": 1539, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-23T19:05:01Z", "scrap_date": "2024-05-01T00:26:28.523550", "content": "Hi garethmcc Just to make sure Do you pass an authorization header e g curl v header Authorization xyz v1x If not then your custom authorizer wont get invoked at all and youll get a 403 with that message In case it helps heres an example but its for Java httpsgithub combbilgerjrestlessexamplestreemasterawsgatewayawsgatewaysecuritycustomauthorizer"},
{"id": 15393, "question_id": 1539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-23T19:25:30Z", "scrap_date": "2024-05-01T00:26:28.524551", "content": "Well slap me silly and call me Harriet Thanks for pointing out the obvious I knew it would be something as simple as that As soon as I added an actual Authorization header to my request suddenly my authorization function is logging Thanks so much bilger "},
{"id": 15394, "question_id": 1539, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-22T04:53:48Z", "scrap_date": "2024-05-01T00:26:28.525550", "content": "i am facing the same issue even when i pass the headers what is the solution"},
{"id": 21242, "question_id": 2124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T09:51:49Z", "scrap_date": "2024-05-01T00:26:29.018772", "content": "I believe your use case doesnt fit well for Lambda Try running ur functionality in a nodejs app on aws beanstalk "},
{"id": 21243, "question_id": 2124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T19:22:26Z", "scrap_date": "2024-05-01T00:26:29.019772", "content": "How do you mean evaluate And when you say serve do you mean the results of that evaulation or do you mean the original file The abstract answer to how to do something that requires a lot of computation or a lot of memory is to attempt to break the problem up into smaller chunks and then process those smaller chunks instead The specifics are where things get tricky So I dont know much about tensorflow but I found this in their docs httpswww tensorflow orgdeploydistributed Perhaps you have a distributed system running and then you are simply controlling or calling into that system from your lambda There may be some other way to implement the processing as a database and a series of lambdas but it could be that it is just simply not designed in a way that will be possible without a ton of work "},
{"id": 21244, "question_id": 2124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T19:43:31Z", "scrap_date": "2024-05-01T00:26:29.021772", "content": "I think I was unclear about the terminology but basically I already have my model and can get a prediction out of it by feeding it an Image URL it takes care of everything and then spits out an prediction of whats in that image But I need to have dependencies for that model and the model itself loaded into the filesystem which presents an issue since serverless and lambda wont let me upload a bundle 260 MB in size I am just looking for a way to perhaps download the needed model and dependencies into the lambda filesystem on instantiation Would a valid solution be to upload my model and dependencies to an s3 bucket and when my lambda function runs download that stuff into tmp "},
{"id": 21245, "question_id": 2124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T19:50:58Z", "scrap_date": "2024-05-01T00:26:29.022773", "content": "Lambda also has a memory limitation You can crank up the memory to just over 1GB I think but if processing the file takes more than that then that could be another problem But if that isnt a problem and it fits in those memory constraints then you definitely can put it into s3 and then load the file from there The only problem with this is that it will read it from s3 upon every invocation of the lambda Depending on your usage patterns it could get expensive Is this something youre going to be doing multiple times a second Or more like multiple times a day"},
{"id": 21246, "question_id": 2124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T20:31:45Z", "scrap_date": "2024-05-01T00:26:29.023774", "content": "Itll be close to a few times an hour If I keep the lambda instance warm shouldnt it not need to redownload from S3 every time"},
{"id": 21247, "question_id": 2124, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T21:50:05Z", "scrap_date": "2024-05-01T00:26:29.024774", "content": "Maybe but at a few times an hour downloading shouldnt be a problem It should only take a second or two at that size too Very fast "},
{"id": 21312, "question_id": 2131, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-24T15:58:26Z", "scrap_date": "2024-05-01T00:26:29.839787", "content": "This plugin should do the trick for you"},
{"id": 21313, "question_id": 2131, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-24T17:25:09Z", "scrap_date": "2024-05-01T00:26:29.839787", "content": "brilliant Ill give this a try thanks "},
{"id": 21132, "question_id": 2113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-22T06:46:30Z", "scrap_date": "2024-05-01T00:26:30.878647", "content": "Were using crypto directly no openpgp without any problems Our Lambdas are all written in TypeScript and use Node 6 "},
{"id": 21133, "question_id": 2113, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-23T21:58:47Z", "scrap_date": "2024-05-01T00:26:30.879647", "content": "It could be a red herring crypto is a builtin module in node so it should always be available If openpgp is using native modules however it could be that those modules are failing to load You have to make sure the binaries youre publishing are compatible with the operating system the lambdas are running in e g linux So if you are publishing from mac or windows you will need to build linux binaries before publishing Fortunately this is pretty easy to do for both systems using docker What I do before publish is So for that 3rd step what that looks like for me essentially is this This will download a linux container running node v6 11 0 then run the command npm install production with my build folder symlinked to the usrsrcapp folder on the container Once docker is done the end result is that I now have a buildnode_modules folder which is full of linux binaries Pro Tips"},
{"id": 21134, "question_id": 2113, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-25T15:17:40Z", "scrap_date": "2024-05-01T00:26:30.881647", "content": "Thanks a lot Justin this was exactly the issue We ended up requiring ec2 for many other irrelevant reasons but this helped me in another project I did exactly what you were talking about and got it working Thanks again man "},
{"id": 21032, "question_id": 2103, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T00:20:16Z", "scrap_date": "2024-05-01T00:26:31.827785", "content": ""},
{"id": 21112, "question_id": 2111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T00:24:34Z", "scrap_date": "2024-05-01T00:26:32.866948", "content": "What youre asking for doesnt make much sense EBs main usecase is if you want webbased i e clickyclicky Infrastructure as Code which doesnt fit with Serverlesss CLIdriven approach Serverless is backed by CloudFormation and EB is backed by CloudFormation Just use Serverless as it is and you get all of the benefits of EB with the ability to customise to a level that EB does not support "},
{"id": 21342, "question_id": 2134, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-26T00:33:24Z", "scrap_date": "2024-05-01T00:26:33.517957", "content": "Are you defining a toplevel package setting for your service Something like"},
{"id": 18422, "question_id": 1842, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-11T08:36:05Z", "scrap_date": "2024-05-01T00:26:34.304806", "content": "What version of Serverless are you using It seems to work with 1 12"},
{"id": 18423, "question_id": 1842, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-13T19:23:16Z", "scrap_date": "2024-05-01T00:26:34.305806", "content": "I got this same error after upgrading to Node 6 10 2 with Serverless 1 8 Upgraded to Serverless 1 15 and it works as expected "},
{"id": 18424, "question_id": 1842, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T05:09:13Z", "scrap_date": "2024-05-01T00:26:34.306806", "content": "All good now after upgrading to Serverless 1 15"},
{"id": 21492, "question_id": 2149, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-27T15:48:46Z", "scrap_date": "2024-05-01T00:26:35.429867", "content": "Hey Todd If you are connecting to an existing table you will just need to use the SDK and make dynamo calls from your code Also make sure to provide the function correct IAM access to your existing table like httpsgithub comserverlessexamplesblobmasterawsnoderestapiwithdynamodbserverless ymlL10L19 No need to define the table again in your serverless yml Or you can create a new table migrate the data from existing one into that new table created from serverless yml resources"},
{"id": 21482, "question_id": 2148, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-28T00:35:59Z", "scrap_date": "2024-05-01T00:26:35.878549", "content": "I am using Powershell on Windows machine but have also tried in the terminal window of VS Code GitBash same problem exists "},
{"id": 21622, "question_id": 2162, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-06-28T18:57:12Z", "scrap_date": "2024-05-01T00:26:36.838437", "content": "Cant nest the userSignup key under the tables key environment contents must only be 1 layer deep of key value pairs example Hope it helps "},
{"id": 21692, "question_id": 2169, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-29T15:55:16Z", "scrap_date": "2024-05-01T00:26:37.909161", "content": "Can you share whats the output of file xxx so when you run it locally"},
{"id": 21212, "question_id": 2121, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-23T19:58:41Z", "scrap_date": "2024-05-01T00:26:38.794051", "content": "You can break them up into multiple files of course and read them from those files like That may help a little But beyond just make the file itself easier to read trying to maintain the flow of the application itself can get quite complex with SNS Who subscribes to who and what comes after what can get hard to maintain Youre basically representing a complex graph as a flat list like a 2d1d projection it can be hard to understand One thing that may be worth looking into is the new AWS Step Functions which there is a Serverless plugin for httpswww npmjs compackageserverlessstepfunctions The step functions provide you with a feature that lets you define the relationships between lambdas into essentially workflow documents You can visualize these documents as well as rely on it for doing some heavy lifting with regards to parallelism conditions error handling and retrying Its still a fairly new service but the value outweighs the risk for me and it may be worth looking into for you "},
{"id": 21213, "question_id": 2121, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T05:15:21Z", "scrap_date": "2024-05-01T00:26:38.795051", "content": "Thanks This is very helpful "},
{"id": 21792, "question_id": 2179, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-29T23:56:50Z", "scrap_date": "2024-05-01T00:26:39.770753", "content": "To prevent resources from being deleted with the rest of the stack you should add DeletionPolicy Retain to those resources "},
{"id": 21793, "question_id": 2179, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-30T14:27:32Z", "scrap_date": "2024-05-01T00:26:39.771753", "content": "Its not spelled out in a simple changelog type format but you can generate the CloudFormation files using package instead of deploy example sls package s stage That generates the files in the serverless folder including You can see the target Cloudformation state in the serverlessstate json file Hope that helps "},
{"id": 19412, "question_id": 1941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-28T18:54:13Z", "scrap_date": "2024-05-01T00:26:41.724321", "content": "Looks a simple typo somewhere caused the issue I rerecreated from scratch and no longer have the issue "},
{"id": 19542, "question_id": 1954, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-29T00:23:24Z", "scrap_date": "2024-05-01T00:26:42.584961", "content": "The docs say that using will only work if selfresources Outputs BouncesSnsTopic Value resolves to a value starting with arn Read the second half of the docs covering the usage with intrinsic CloudFormation functions The topicName is required and the topciArn must contain the value given in topicName "},
{"id": 19543, "question_id": 1954, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-29T00:42:14Z", "scrap_date": "2024-05-01T00:26:42.586962", "content": "Ah gotcha thanks for explaining The reason it threw both me and my fellow developers is because similar approaches have worked in other places I think in other words replacing a literal string starting with arn could be replace with a FnSub arnxxx etc string For example it works in the arn field but not the sns field So I think you could imagine our confusion that wasnt resolved by the documentation of that page Thanks "},
{"id": 19322, "question_id": 1932, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-26T07:52:06Z", "scrap_date": "2024-05-01T00:26:43.579255", "content": "This appears to be the same error httpsgithub comserverlessserverlessissues3508"},
{"id": 19323, "question_id": 1932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-26T08:07:55Z", "scrap_date": "2024-05-01T00:26:43.580255", "content": "Thanks Marc I did stumble upon that while trying to figure it out but Ive tried all the solutions commented in that thread with no success Hoping if there was anything else other than what has already been suggested Cheers"},
{"id": 19324, "question_id": 1932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-26T08:26:53Z", "scrap_date": "2024-05-01T00:26:43.580255", "content": "Hrmm well from the looks of it it might be serverless is ok but the AWS sdk is bugging out have you seen this The AWS SDK for JavaScript can be configured to work from behind a network proxy In browsers proxy connections are transparently managed and the SDK works out of the box without any additional configuration This article focuses on using the SDK "},
{"id": 19325, "question_id": 1932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-29T01:15:40Z", "scrap_date": "2024-05-01T00:26:43.581255", "content": "Hi Marc Ive just tried that and it didnt work as well same error I am sure its the proxy as Ive tried it in a different environment thats not behind a proxy and works fine "},
{"id": 19292, "question_id": 1929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-25T19:31:11Z", "scrap_date": "2024-05-01T00:26:44.602532", "content": "What does your serverless yml look like It appears that the hander cannot be found on the path specified handlersmanageconfig "},
{"id": 19293, "question_id": 1929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-26T06:49:20Z", "scrap_date": "2024-05-01T00:26:44.602532", "content": "HI David Thanks for the reply"},
{"id": 19294, "question_id": 1929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-27T10:21:25Z", "scrap_date": "2024-05-01T00:26:44.603533", "content": "Can you confirm you have a file handlersmanageconfig js relative to the folder with your serverless yml and that it exports a function called load "},
{"id": 19295, "question_id": 1929, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T00:01:06Z", "scrap_date": "2024-05-01T00:26:44.605533", "content": "Sounds like the paths are incorrect Can you provide a pull link to the project Like buggy mentions it looks like the code path is not matching up correctly "},
{"id": 19632, "question_id": 1963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T12:01:58Z", "scrap_date": "2024-05-01T00:26:45.531677", "content": "The line below the list says awsproxy and aws_proxy are alternative styles for lambdaproxy so it looks like theyre the same I would have assumed theyre recommending that integration type as opposed to the other 4 on the list If you dont specify an integration explicitly then it defaults to Lambda Proxy "},
{"id": 19932, "question_id": 1993, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-01T20:28:59Z", "scrap_date": "2024-05-01T00:26:46.593433", "content": "Two things sls remove is the one to watch out for If for some reason you need to tear down the stack and redeploy the random string appended to API gateway URLs will change PS we are working on some things to make it so users dont need to worry about this in the future "},
{"id": 19832, "question_id": 1983, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T15:09:46Z", "scrap_date": "2024-05-01T00:26:47.185464", "content": "Have a look at Serverless Offline plugin"},
{"id": 19833, "question_id": 1983, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T21:50:51Z", "scrap_date": "2024-05-01T00:26:47.186465", "content": "Hi bfieber Looking at the docs i cant see a way to call a lambda function from within another one Is this possible with this framework Regards"},
{"id": 8682, "question_id": 868, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-03T13:04:02Z", "scrap_date": "2024-05-01T00:26:48.186452", "content": "In case anyone else has this question later or if anyone has improvement suggestions probably isnt exactly secure this is how I solved the problem"},
{"id": 8683, "question_id": 868, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-04T02:39:33Z", "scrap_date": "2024-05-01T00:26:48.187453", "content": "You probably want to replace Resource with just the Lambda functions you want to allow executed That follows the principle of least privilege which could save you in the event that something goes wrong "},
{"id": 8684, "question_id": 868, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-03T00:42:40Z", "scrap_date": "2024-05-01T00:26:48.187453", "content": "Hey where is lambda defined at Im trying to figure out how to do this "},
{"id": 13322, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T00:01:47Z", "scrap_date": "2024-05-01T00:26:49.306488", "content": "Not sure if I follow exactly what youre trying to achieve Are you able to provide a bit more clarity or an example use case"},
{"id": 13323, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T07:36:46Z", "scrap_date": "2024-05-01T00:26:49.307488", "content": "In serverless yml you define a function with an event of http and a path What I would like to do is write a function that could call another function via that path So instrad of having to store the path to a function in an environment or stage variable I someone reference the function I want to call and get the path set for the http event That way all functions with an http event are routed to other functions via serverless yml Make sense"},
{"id": 13324, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T08:25:13Z", "scrap_date": "2024-05-01T00:26:49.308489", "content": "Sorry not really I guess Im just trying to understand the actual use case What exactly is it you want say a user or someone calling one endpoint to do Can you describe a user story What will trigger one endpoint to need to call another without it being initiated on the client side Lambda functions are pretty self contained the serverless yml really stops at your deployment unless you want to inject stuff into the environment variables of the function Is there any reason you would be calling the other functions through the API gateway rather than just invoking them inside the function you want to call them with If you just invoke the function directly inside the calling function youll cut out a lot of API gateway overhead Also with serverless using a naming convention approach you wont need to know the path as you can just use the function name The other option would be to include your serverless yml file in your lambda function so you could read it into an object inside the function at runtime and reference whatever config items you need Feels a bit hacky though"},
{"id": 13325, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T11:58:21Z", "scrap_date": "2024-05-01T00:26:49.310489", "content": "garethmcc Im also pretty confused by your messages From the first message it sound like you need to redirect from one URL to another Is that correct If your first Lambda is triggered by the API Gateway and youre using Lambda Proxy Integration then you can work out the base URL using You can then construct the URL for any other resource by appending the resource path to the base URL "},
{"id": 13326, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-04T04:26:53Z", "scrap_date": "2024-05-01T00:26:49.311489", "content": "I am not certain I understand the OP but I think the problem is similar enough to mine that I will add my case here Scenario I have a serverless application with two functions The first function is driven by an S3 event The second function is driven by a proxy HTTP call via API gateway The two functions are used together as part of an async flow Currently I have the hostname semistatically defined in the code of function 1 Something to the effect of httpsXXXXXXXXX executeapi region amazonaws com stage path The missing piece for me is the hostname I hope this is clear enough to find some help Thanks "},
{"id": 13327, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-04T12:22:37Z", "scrap_date": "2024-05-01T00:26:49.312490", "content": "gavinhogan Id look at passing the callback URL to the Lambda triggered by S3 using an environment variable set in your serverless yml You should be able to get the missing part using a ref See httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferenceref html"},
{"id": 13328, "question_id": 1332, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-04T15:40:38Z", "scrap_date": "2024-05-01T00:26:49.313489", "content": "Thanks buggy You pointed me to the right path This what I ended up with Hope this helps someone else "},
{"id": 19942, "question_id": 1994, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T03:08:55Z", "scrap_date": "2024-05-01T00:26:50.360603", "content": "Can you wrap your YAML in ```yaml and ``` so that the formatting is maintained You probably probably want something like this"},
{"id": 19943, "question_id": 1994, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-04T23:00:21Z", "scrap_date": "2024-05-01T00:26:50.361604", "content": "First it seems the code edit is not allowing for the yaml format Sorry mate Second thanks i think i got how it works will give it a shot"},
{"id": 19944, "question_id": 1994, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-07T04:21:09Z", "scrap_date": "2024-05-01T00:26:50.361604", "content": "In case someone finds this post here goes a good solution in the serverless yml add the following add envsenv dev yml envsenv prod yml You can now access the contents as follows in your hello js in world you can access name like process env name hope this helps someone someday"},
{"id": 20262, "question_id": 2026, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-10T21:29:03Z", "scrap_date": "2024-05-01T00:26:51.477597", "content": "The plugin doesnt support that feature yet They are working on it though httpsgithub comelasticcodersserverlesswebpackissues107 And httpsgithub comelasticcodersserverlesswebpackissues120"},
{"id": 1682, "question_id": 168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T15:11:06Z", "scrap_date": "2024-05-01T00:26:52.574167", "content": "Hi mikkelspring this is sadly not possible We are introducing a different way to configure your system though that will allow this httpsgithub comserverlessserverlesspull1834"},
{"id": 1683, "question_id": 168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T21:48:01Z", "scrap_date": "2024-05-01T00:26:52.575168", "content": "Cool thanks looks like serverless is on the cusp of a lot of wonderful things"},
{"id": 1684, "question_id": 168, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-01T05:08:49Z", "scrap_date": "2024-05-01T00:26:52.575168", "content": "This is also what I would like to do as our Resources section is now getting pretty big Id like to be able to split up into different files for instance etc"},
{"id": 20302, "question_id": 2030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-08T19:34:03Z", "scrap_date": "2024-05-01T00:26:53.675685", "content": "hey pkordes Yep were aware of the issue and working on a fix now httpsgithub comserverlessserverlessissues3757 Thanks for reporting and sorry for the inconvenience "},
{"id": 20303, "question_id": 2030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-09T14:27:43Z", "scrap_date": "2024-05-01T00:26:53.676685", "content": "How will I know when this is fixed I dont see versions on the Github repo For instance there are commits mentioning 1 15 but nothing about 1 15 1"},
{"id": 20304, "question_id": 2030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-10T12:24:33Z", "scrap_date": "2024-05-01T00:26:53.677686", "content": "HI I had the same problem How s the resolution Tks"},
{"id": 20305, "question_id": 2030, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-12T03:23:21Z", "scrap_date": "2024-05-01T00:26:53.678687", "content": "1 15 2 has been released to NPM but it also seems to have install issues "},
{"id": 20072, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-07T15:49:06Z", "scrap_date": "2024-05-01T00:26:54.623955", "content": "Following as I too am interested in this I moved away from Serverless because of this exact issue "},
{"id": 20073, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-07T20:31:22Z", "scrap_date": "2024-05-01T00:26:54.623955", "content": "Looking at the AWS API Gateway console Stage is required to deploy make available your API gateway endpoints So I cant imagine there would be any way for Serverless to deploy without defining a stage as well Through the API Gateway console you could set the Integration Request Lambda Function value to point at a different functionversion but I dont see a way to do that via serverless atm "},
{"id": 20074, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-07T22:41:17Z", "scrap_date": "2024-05-01T00:26:54.624955", "content": "It might be possible but I dont know anyone who has tried The framework does allow you to overwrite defaults it uses by manually configuring resources in the resources section Have a look at httpsserverless comframeworkdocsprovidersawsguideresources Its the ApiGatewayDeployment you need to override The only problem I can see is that it uses a random number in the naming "},
{"id": 20075, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-09T13:10:40Z", "scrap_date": "2024-05-01T00:26:54.625955", "content": "Thanks buggy bfieber I will be looking into this in the next couple days and see what I can achieve with it I will try to create my own apiGateway definition as buggy suggested "},
{"id": 20076, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-09T14:05:09Z", "scrap_date": "2024-05-01T00:26:54.626955", "content": "Quick question why does it need a random number in the naming looking at the api documentation i cant see any mention of that being a requirement "},
{"id": 20077, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-10T05:39:57Z", "scrap_date": "2024-05-01T00:26:54.626955", "content": "The AWS documentation I dont think its a requirement for AWS Its just how Serverless names things "},
{"id": 20078, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-12T07:45:56Z", "scrap_date": "2024-05-01T00:26:54.627956", "content": "Hi Buggy Thanks for your reply yes I meant AWS does serverless have any special tag to generate random numbers within names or will have to create a js function get a random number going and pass it to serverless Also apologies if I missed it but I couldnt find what characters are allowing within normalised strings in serverless is it azAZ09_ Regards Ricardo"},
{"id": 20079, "question_id": 2007, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-12T11:35:50Z", "scrap_date": "2024-05-01T00:26:54.628955", "content": "Look at the source if you want a definitive answer but it looks like theyre using unix timestamps from the values Im seeing Rich"},
{"id": 20272, "question_id": 2027, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-12T15:43:27Z", "scrap_date": "2024-05-01T00:26:55.356208", "content": "I got this to work with the following in my serverless yml mappings yml"},
{"id": 17602, "question_id": 1760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T03:21:42Z", "scrap_date": "2024-05-01T00:26:56.333047", "content": "I havent had this issue myself but maybe try putting a DependsOn IamRoleLambdaExecution in there to make sure that the role is present before the stream is created"},
{"id": 17603, "question_id": 1760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T05:29:47Z", "scrap_date": "2024-05-01T00:26:56.334047", "content": "Thank you for the help Unfortunately it did not solve the issue and the error remains although Cloudformation template now includes DependsOne value Anything else I can test or should I raise the issue"},
{"id": 17604, "question_id": 1760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-28T11:43:55Z", "scrap_date": "2024-05-01T00:26:56.335042", "content": "Before raising an issue can you run sls deploy noDeploy if youre using less then 1 12 otherwise run sls package and check the generated CloudFormation template which will be in the serverless directory in your services directory looks OK Usually these property errors are due to it not being in the right location but your YAML snippet looks fine just covering all bases If the generated template looks good raise away "},
{"id": 17605, "question_id": 1760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-06T05:46:41Z", "scrap_date": "2024-05-01T00:26:56.336048", "content": "Problem finally solved Thank you pmuens RoleArn lowercase Arn is used everywhere else but for Firehose it is RoleARN httpdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertieskinesisfirehosekinesisdeliverystreams3destinationconfiguration html"},
{"id": 17606, "question_id": 1760, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-13T01:03:40Z", "scrap_date": "2024-05-01T00:26:56.337048", "content": "Thanks for sharing the solution thats a strange discrepancy "},
{"id": 18172, "question_id": 1817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-08T00:50:46Z", "scrap_date": "2024-05-01T00:26:57.950941", "content": "Have you installed the npm package and added it your serverless yml "},
{"id": 18142, "question_id": 1814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-05T21:11:43Z", "scrap_date": "2024-05-01T00:26:58.937114", "content": "Hi kuashe This feature isnt currently on our radar However we strongly pay attention to feature requests and use the thumbs up feature in github to determine which features to work on next If this is important to you please feel free to open up an issue with a feature request in github and we can see what the community thinks Serverless Framework Build web mobile and IoT applications with serverless architectures using AWS Lambda Azure Functions Google CloudFunctions more serverlessserverless"},
{"id": 18143, "question_id": 1814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-06T06:12:35Z", "scrap_date": "2024-05-01T00:26:58.939115", "content": "Thanks for you answer brianneisler not sure if my feature will get a lot of thumbs up Anyway im willing to do a pull request to implement this if this doesnt get feedback I really prefer JSON to YML plus everything in node uses JSON package json grunt webpak etc It feels awkard to use YML Would my pull request be accepted if I added support for JSON "},
{"id": 18144, "question_id": 1814, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-08T00:58:42Z", "scrap_date": "2024-05-01T00:26:58.940115", "content": "kuashe development discussion mostly happens on Github I would recommend opening an issue there so people can discuss it "},
{"id": 7962, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-21T13:57:02Z", "scrap_date": "2024-05-01T00:26:59.965980", "content": "As far as I know APIGateway do not support binary transfers Use S3 upload and setup event in lambda for that S3 I did not implement it yet so cant say much more but working on it "},
{"id": 7963, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-21T21:04:37Z", "scrap_date": "2024-05-01T00:26:59.966980", "content": "AWS just announced support for binary data in the API Gateway httpsaws amazon comaboutawswhatsnew201611binarydatanowsupportedbyapigateway Trying to get it working via serverless but it may be that the CloudFormation deploy needs to be changed to support "},
{"id": 7964, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-22T23:43:24Z", "scrap_date": "2024-05-01T00:26:59.967981", "content": "Unfortunately it appears that the only way to enable binary payload support is either through the Web Console described in the announcement or through the Swaggerbased API Gateway deployments httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewaycontentencodingsexamplesimagelambda html Maybe Serverless should switch to Swagger definitions instead of listing all the resources in the CloudFormation It looks like AWS API Gateway is putting the advanced options there "},
{"id": 7965, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-22T23:49:52Z", "scrap_date": "2024-05-01T00:26:59.968981", "content": "Swagger doesnt help when it comes to non API GW resources so isnt really a valid option to manage infrastructure My guess is that the Swagger definitions are managed by the API GW Team internally so theyre free to make changes whenever they feel like it CFN is probably another team internally hence the lag CFN will get there "},
{"id": 7966, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-23T00:31:19Z", "scrap_date": "2024-05-01T00:26:59.969981", "content": "rowanu I dont get your point Why is Swagger not an option The recently introduced serverless application model SAM is using that approach as well See Example AWSServerlessApi github com awslabsserverlessapplicationmodelblobmasterversions20161031 mdexampleawsserverlessapi AWS Serverless Application Model SAM Version 20161031 The key words MUST MUST NOT REQUIRED SHALL SHALL NOT SHOULD SHOULD NOT RECOMMENDED MAY and OPTIONAL in this document are to be interpreted as described in [RFC 2119] httpwww ietf orgrfcrfc2119 txt The AWS Serverless Application Model SAM is licensed under [The Apache License Version 2 0] httpwww apache orglicensesLICENSE2 0 html Introduction AWS SAM is a model used to define serverless applications on AWS Serverless applications are applications composed of functions triggered by events A typical serverless application consists of one or more AWS Lambda functions triggered by events such as object uploads to [Amazon S3] httpsaws amazon coms3 [Amazon SNS] httpsaws amazon comsns notifications and API actions Those functions can stand alone or leverage other resources such as [Amazon DynamoDB] httpsaws amazon comdynamodb tables or S3 buckets The most basic serverless application is simply a function AWS SAM is based on [AWS CloudFormation] httpsaws amazon comcloudformation A serverless application is defined in a [CloudFormation template] httpdocs aws amazon comAWSCloudFormationlatestUserGuidegettingstarted templatebasics html and deployed as a [CloudFormation stack] httpdocs aws amazon comAWSCloudFormationlatestUserGuideupdating stacks walkthrough html An AWS SAM template is a CloudFormation template AWS SAM defines a set of objects which can be included in a CloudFormation template to describe common components of serverless applications easily Specification This file has been truncated show original"},
{"id": 7967, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-23T00:49:26Z", "scrap_date": "2024-05-01T00:26:59.972982", "content": "tobyhede Leaving aside the fact that you cannot enable binary support through serverless yet it seems to me that binary support is not working with Lambda Proxy Integration lambdaproxy is the default configuration in serverless It works however with lambda integrated functions I started a thread in the AWS forum about this bug httpsforums aws amazon comthread jspathreadID243584tstart0 Note You need to configure a binary mime type e g imagepng in APIGs binary support section and request the resource with the accept header set to the configured binary mime type e g imagepng "},
{"id": 7968, "question_id": 796, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-11-23T04:27:34Z", "scrap_date": "2024-05-01T00:26:59.973982", "content": "I dont get your point Why is Swagger not an option Swagger is fine for provisioning API GW resources but not other AWS resources e g Buckets CW Events IAM Roles etc so using Swagger is not an option for the entire service Before the SAM update it was not possible to use Swagger in CFN so it was an eitheror choice between the two Now that CFN via SAM can provision Swaggerdefined resources there might be a way to combine the two but that will definitely require some rework in Serverless to make happen "},
{"id": 7969, "question_id": 796, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-29T15:35:03Z", "scrap_date": "2024-05-01T00:26:59.974983", "content": "Hi tobyhede I stumbled across this forum post and am facing my own challenges getting binary support working for file uploads with a Lambda Integration function that I am deploying via serverless version 1 2 1 Have you had success with getting binary support working for your use case"},
{"id": 79610, "question_id": 796, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-30T00:53:38Z", "scrap_date": "2024-05-01T00:26:59.975983", "content": "No struggled with it for a while but no luck "},
{"id": 79611, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T06:29:59Z", "scrap_date": "2024-05-01T00:26:59.975983", "content": "I was also looking into it and will more over the week We are also considering options how to extend the framework for adding binary support Before we move on I would love to understand your usecases "},
{"id": 79612, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T10:34:25Z", "scrap_date": "2024-05-01T00:26:59.976983", "content": "Hey Good to see I wasnt the only person having problems with this It did my head in for awhile I was looking at making a serverless image hosting service but was having a hard time getting binary data into my lambdas Ive abandoned the idea for now due to APIG and lambda payload size limitations but I might come back with signed uploads and then work via S3 events Thats a different story I managed to get the binary data going in on a LAMBDA_PROXY but never tried going out I suspect the method is similar though Annoyingly I couldnt find any serverless config options to set the binary formats and has to do them manually Anyway httpsaws amazon comblogscomputebinarysupportforapiintegrationswithamazonapigateway was a lot of help callback null postProcessResource outputFile file new Buffer fs readFileSync file toString base64 postProcessResource just unlinks the file Granted that is with a nonproxy example but if you have a look at index jsL7L15 and api jsonL71L73 from bustlelabsgziptest it is definitely possible Basically base64 Binary in will give you base64 base64 out will give you binary This was a bit of a brain dump but I hope it helps "},
{"id": 79613, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T18:24:39Z", "scrap_date": "2024-05-01T00:26:59.978984", "content": "rob thanks a lot for the link to httpsgithub combustlelabsgziptest So one has to add isBase64Encoded true to the response object in order to make it work with lambda proxy integrated functions Still I think one cannot enable binary media types with serverless so this must be done manually "},
{"id": 79614, "question_id": 796, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-30T19:31:09Z", "scrap_date": "2024-05-01T00:26:59.979984", "content": "My use case was actually uploading a binary file to API GatewayLambda rather than returning binary data I just cracked the code on making it work using the serverless framework Ill put a sample project on github and link to it here by the end of my afternoon that recreates the thumbnail service described here httpsaws amazon comblogscomputebinarysupportforapiintegrationswithamazonapigateway but uses the serverless framework Hopefully it will save others some headaches and remind me what I did to get it working when I forget a month from now and encounter the same problems "},
{"id": 79615, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T20:24:20Z", "scrap_date": "2024-05-01T00:26:59.980984", "content": "krisgholson I dont know what you mean by your afternoon but Im refreshing the page every 5 min from now on I was working on an image serving exampletutorial for httpsgithub comserverlessexamples Definitely will mentioned you and link yo yours as well"},
{"id": 79616, "question_id": 796, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-30T21:37:25Z", "scrap_date": "2024-05-01T00:26:59.980984", "content": "nikgraf Stop refreshing your page here it is at 437pm EST Thats my afternoon Hopefully it helps Recreate the thumbnail service described here httpsaws amazon comblogscomputebinarysupportforapiintegrationswithamazonapigateway using the serverless com framework and documen "},
{"id": 79617, "question_id": 796, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-30T21:48:17Z", "scrap_date": "2024-05-01T00:26:59.981985", "content": "Nice work My usecase is quite similar trying to return an image via lambda Have it as Base64 but the data is coming out and not being able to be rendered as an image by the browser Will have another play and see if I can get your magic to work "},
{"id": 79618, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T13:19:38Z", "scrap_date": "2024-05-01T00:26:59.982985", "content": "I spent two days wrestling handling posted files and finally found the binary option Now like others I want to be able to enable it in my serverless config From what I can see in the API Docs httpdocs aws amazon comapigatewayapireferenceresourceintegration its a matter of passing contentHandling CONVERT_TO_BINARY in the Integration Then the body of the event passed to your Lambda is the base64 encoded content of the request body Does it look right to anyone that handling this would be added about here httpsgithub comserverlessserverlessblob2cb4dc4dc5dab459bb63659bf5e5c2136440368blibpluginsawsdeploycompileeventsapiGatewaylibmethodintegration jsL30"},
{"id": 79619, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T13:37:53Z", "scrap_date": "2024-05-01T00:26:59.983985", "content": "Thanks krisgholson this is great I was hoping for a solution that would not need the user interface funkybob yep exactly I was looking at contentHandling exactly like you did and tried to add it where you mentioned it Unfortunately the deployment fails then because that option yet doesnt exist CloudFormation I will try to get a response from AWS if they plan to add this soon but cant promise anything "},
{"id": 79620, "question_id": 796, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T19:12:41Z", "scrap_date": "2024-05-01T00:26:59.984986", "content": "I might be wrong here but I dont think that you can configure the contentHandling at all for lambda functions invoked from APIGW or rather that it will have any effect doing so After this feature is configured you can specify if you would like API Gateway to either pass the Integration Request and Response bodies through convert them to text Base64 encoding or convert them to binary Base64 decoding These options are available for HTTP AWS Service and HTTP Proxy integrations In the case of Lambda Function and Lambda Function Proxy Integrations which currently only support JSON the request body is always converted to JSON See Binary Support for API Integrations with Amazon API Gateway AWS Compute Blog Only the binary media types need to be defined which I guess is also not possible using CloudFormation You can see this also if you export the swagger file If you follow for example GitHub krisgholsonserverlessthumbnail Recreate the thumbnail service described here httpsaws amazon comblogscomputebinarysupportforapiintegrationswithamazonapigateway using the serverless com framework and document some gotchas and export the swagger file from APIGW youll see contentHandling set to CONVERT_TO_TEXT Thats why I suggested serverless to follow SAM and allow referencing a swagger file "},
{"id": 18282, "question_id": 1828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-08T21:30:14Z", "scrap_date": "2024-05-01T00:27:00.968238", "content": "Can you format the javascript and yaml properly using ```javascript or ```yaml at the top and ``` at the bottom so its readable"},
{"id": 18283, "question_id": 1828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-09T01:11:55Z", "scrap_date": "2024-05-01T00:27:00.969238", "content": "Do you ever see END or REPORT lines for the first request i e 5cec If not Id be logging a support call to AWS I cant think of any good reason why you shouldnt see some additional data especially billing for that first request and I doubt theres much you or your code can do about it if not "},
{"id": 18284, "question_id": 1828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-09T16:55:57Z", "scrap_date": "2024-05-01T00:27:00.969238", "content": "Done Thanks for the tip "},
{"id": 18285, "question_id": 1828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-10T03:09:08Z", "scrap_date": "2024-05-01T00:27:00.970239", "content": "Those dont appear so I guess Ill reach out to support Thanks "},
{"id": 10842, "question_id": 1084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-11T13:29:13Z", "scrap_date": "2024-05-01T00:27:01.884358", "content": "It looks like Serverless does not support it currently ref httpsgithub comserverlessserverlessissues2483"},
{"id": 10843, "question_id": 1084, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-11T14:49:22Z", "scrap_date": "2024-05-01T00:27:01.885353", "content": "I create DNS entries for internal routes and then put them into environment variables So"},
{"id": 18472, "question_id": 1847, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-12T01:12:35Z", "scrap_date": "2024-05-01T00:27:02.984534", "content": "Assuming youre using one handler for both admindeals and admindeals dealId then this should work You need to configure both paths as separate events that trigger the function There is no syntax to indicate an optional parameter or default value "},
{"id": 18473, "question_id": 1847, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T21:12:04Z", "scrap_date": "2024-05-01T00:27:02.985534", "content": "Thanks I will give that a try "},
{"id": 3792, "question_id": 379, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T05:07:39Z", "scrap_date": "2024-05-01T00:27:04.024112", "content": "Im using httpsgithub comsilvermineserverlesspluginwriteenvvars to shim environment variables in to my functions and its working well Im hoping that Serverless will have support for environment variables natively in the future and make this unnecessary If your secrets really need to be secure i e not on disk anywhere then youll have to roll AWS KMS in to your application "},
{"id": 3793, "question_id": 379, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-05T20:52:59Z", "scrap_date": "2024-05-01T00:27:04.025112", "content": "I am looking to do the same and I am looking to use serverlesscrypt to encrypt my variables and then add them as environment variables to the function "},
{"id": 3794, "question_id": 379, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T22:12:14Z", "scrap_date": "2024-05-01T00:27:04.026112", "content": "Also check out httpsserverless comblogserverlessv1 13 0 we just added async variable support for easier secret management"},
{"id": 18532, "question_id": 1853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T22:05:50Z", "scrap_date": "2024-05-01T00:27:04.907397", "content": "Hey Rick Did you install serverless globally on your machine npm i serverless g Second question what version of nodejs are you running Run node version in the terminal to get what version you are currently running"},
{"id": 18533, "question_id": 1853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-13T00:04:54Z", "scrap_date": "2024-05-01T00:27:04.909397", "content": "David Yes I installed Serverless globally My current node js version is 6 9 5 Rick"},
{"id": 18534, "question_id": 1853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-13T00:19:12Z", "scrap_date": "2024-05-01T00:27:04.909397", "content": "You will want to create a new folder and run the following command inside of that new folder That will scaffold how a default API endpoint for you Then from inside that same folder you can deploy with There are no html files required "},
{"id": 18535, "question_id": 1853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-13T00:21:25Z", "scrap_date": "2024-05-01T00:27:04.910398", "content": "So from your terminal you can do Make sure you have your AWS credentials setup on your machine httpswww youtube comwatchvHSd9uYj2LJA"},
{"id": 18536, "question_id": 1853, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-13T00:43:53Z", "scrap_date": "2024-05-01T00:27:04.911398", "content": "David That worked I was referring to the document here midway down the page Async Serverless variables CrossService communication Lambda tags and more in the Serverless Framework v1 13 release Those instructions were missing your first two steps thats all I needed Rick"},
{"id": 18592, "question_id": 1859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T22:03:39Z", "scrap_date": "2024-05-01T00:27:05.939605", "content": "Not currently no When you rename the service the framework will create a new stack Out of curiosity what is the reason you want to keep the urls Thanks "},
{"id": 18593, "question_id": 1859, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-13T06:38:12Z", "scrap_date": "2024-05-01T00:27:05.940605", "content": "The service is deployed in use and multiple things depend on the endpoint URLs But its not only endpoints its also resources created like DynamoDB tables It will be really hard to move it to a new locationstack without disruption One of my pet peeves is being able to rename projects etc Due to changing goals with the software naming can become obsolete fast "},
{"id": 18594, "question_id": 1859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-13T08:29:28Z", "scrap_date": "2024-05-01T00:27:05.941606", "content": "I have the similar situation on this issue "},
{"id": 13892, "question_id": 1389, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-24T23:49:51Z", "scrap_date": "2024-05-01T00:27:06.744301", "content": "The answer is The only solution is to add a NAT Gateway or NAT instance to your VPC so that resources like your Lambda function that reside in your private subnet will have access to resources outside the VPC A guide to doing that is here httpsgist github comreggidc5f2620b7b4f515e68e46255ac042a7"},
{"id": 13893, "question_id": 1389, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-25T05:05:58Z", "scrap_date": "2024-05-01T00:27:06.746295", "content": "Nice work posting the solution to your own question The solution you found is the right one The confusion arises because most but not all AWS service endpoints are public Internet endpoints which means that the private subnets of a VPC cannot access it by default You need a NAT server s either via the NAT Gateway service or your own to give the private subnets Internet access Another option would be to put your Lambda ENIs in a public subnet where it will get a public IP by default "},
{"id": 13894, "question_id": 1389, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-15T00:00:47Z", "scrap_date": "2024-05-01T00:27:06.747295", "content": "realseanp I read the guide but how does that translate to serverless yml config Im having trouble finding an example yml file which sets up a NAT Gateway along with the VPC I got to the same place as you lambdas cant access the internet using this example httpsgithub commugglmenzelserverlessexamplescachedrdswsblobmasterserverless yml"},
{"id": 18512, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T07:25:18Z", "scrap_date": "2024-05-01T00:27:07.736277", "content": "Its much more likely youre simply not setting the AccessControlAllowOrigin header Are you setting the header in the response Dont forget to also set cors true inside your serverless yml "},
{"id": 18513, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-12T09:22:31Z", "scrap_date": "2024-05-01T00:27:07.737277", "content": "Yup I did that It works on single function and single method approach but not on multiple methods in same function I want something like this"},
{"id": 18514, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-12T12:24:51Z", "scrap_date": "2024-05-01T00:27:07.738278", "content": "If youre routing everything through a single Lambda then you can simplify the config by dealing with invalid methodpath combinations in the Lambda This reduces your config to I wrote a post back in December about doing exactly what youre trying to do It didnt have CORS support then but Ive just added that You get view it here including the sourcesettings all tested If youre still stuck then can you post your Lambda source"},
{"id": 18515, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T04:50:11Z", "scrap_date": "2024-05-01T00:27:07.739278", "content": "Your github link is not available Though I tried your solution but still doesnt work "},
{"id": 18516, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T06:24:33Z", "scrap_date": "2024-05-01T00:27:07.739278", "content": "What browser are you using Can you paste the error message here Can you make your code public both the handler and the serverless yml "},
{"id": 18517, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T07:30:08Z", "scrap_date": "2024-05-01T00:27:07.740272", "content": "Using Chrome "},
{"id": 18518, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T10:23:33Z", "scrap_date": "2024-05-01T00:27:07.741278", "content": "The real problem is the 502 error from your API Something is going wrong in your handler and the API Gateway is generating the response rather than your Lambda so the headers arent being set Sort that out and it should work Here are a few things I can see Your main function shouldnt be async Your main function doesnt return a result by calling callback under all circumstances If youre using lambda proxy integration then its your responsibility to return an error In main youre calling which calls but listItems is async so you should await the result Having said that I actually think you dont want it to be async either as youre returning via the callback Hopefully this help "},
{"id": 18519, "question_id": 1851, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T11:15:19Z", "scrap_date": "2024-05-01T00:27:07.742279", "content": "Thanks for checking it out But this code works if there is a single method in a function "},
{"id": 18272, "question_id": 1827, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T22:11:17Z", "scrap_date": "2024-05-01T00:27:08.510403", "content": "Like you mention sls deploy function f function name will update your function code without redeploying the entire stack When a change is made to serverless yml you will need to run a sls deploy aka full deploy to have those new values in serverless yml take effect"},
{"id": 18273, "question_id": 1827, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-14T05:47:53Z", "scrap_date": "2024-05-01T00:27:08.512403", "content": "Hi DavidWells Thanks for you reply As your said maybe there is no way to just update serverless yml but have to deploy all How about update other files individually such as uuid js moment js _users j_s and so on Those files are changing time and time again but my functions in handler js may not change so frequently "},
{"id": 18274, "question_id": 1827, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-14T10:11:04Z", "scrap_date": "2024-05-01T00:27:08.513404", "content": "You cant update a single file in an existing function because AWS doesnt allow it You need to deploy a new package with all of the files required by that function "},
{"id": 18275, "question_id": 1827, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T13:41:44Z", "scrap_date": "2024-05-01T00:27:08.513404", "content": "Hi buggy Its so pity but rule I got it thank you "},
{"id": 18552, "question_id": 1855, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T20:25:53Z", "scrap_date": "2024-05-01T00:27:09.226403", "content": "Fixed with patch release httpsgithub comserverlessserverlessreleasestagv1 13 2 Thanks for the report "},
{"id": 18553, "question_id": 1855, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-15T20:37:15Z", "scrap_date": "2024-05-01T00:27:09.227403", "content": "Thank you Everything is now working perfectly again "},
{"id": 18722, "question_id": 1872, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-16T02:44:33Z", "scrap_date": "2024-05-01T00:27:10.342883", "content": "I dont think theres any way to nest The serverless yml is a regular YAML file so you can probably use anchors to duplicateinherit properties Ive done something similar with environment variables but never with function handlers "},
{"id": 18742, "question_id": 1874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T22:10:00Z", "scrap_date": "2024-05-01T00:27:11.241514", "content": "Do you have a profile named test in the Usersxxxx awscredentials file"},
{"id": 18743, "question_id": 1874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-15T22:11:12Z", "scrap_date": "2024-05-01T00:27:11.242515", "content": "The aws credentials file should look like"},
{"id": 18744, "question_id": 1874, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-15T22:33:58Z", "scrap_date": "2024-05-01T00:27:11.243515", "content": "While I havent tested it extensively I think Ive seen the AWS SDK which Serverless uses prioritise the AWS_ACCESS_KEY_ID and AWS_ACCESS_KEY_ID variables over a specific profile which would explain what youre seeing assuming your profiles are setup correctly as per DavidWells s question "},
{"id": 18745, "question_id": 1874, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-16T13:38:57Z", "scrap_date": "2024-05-01T00:27:11.244516", "content": "Yeah that must be it Thanks "},
{"id": 18902, "question_id": 1890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-17T23:50:03Z", "scrap_date": "2024-05-01T00:27:12.105090", "content": "Use sls deploy stagemy_new_feature I believe this is a limitation of cloudformation naming conventions"},
{"id": 18903, "question_id": 1890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-17T23:57:25Z", "scrap_date": "2024-05-01T00:27:12.105090", "content": "known Thanks David My team tends to used in branch names in git Is there a serverless way to convert the dashes to underscores or should I use a script to preporcess the stage name"},
{"id": 18904, "question_id": 1890, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-18T18:28:01Z", "scrap_date": "2024-05-01T00:27:12.106091", "content": "Heres one I just created that accomplishes what youre looking for It grabs the current branch name and converts all nonASCII characters into underscores sanitized_branchname is what you want Id just throw this into an npm script and boom An example of a weird branch name being converted"},
{"id": 8172, "question_id": 817, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-17T03:33:17Z", "scrap_date": "2024-05-01T00:27:14.085402", "content": "rommell Did you find information on this Im working on a plugin and have the same question"},
{"id": 17182, "question_id": 1718, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-17T07:08:44Z", "scrap_date": "2024-05-01T00:27:14.613673", "content": "Normally Id trigger a second Lambda via SNS to handle the background tasks "},
{"id": 17183, "question_id": 1718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-17T09:45:29Z", "scrap_date": "2024-05-01T00:27:14.614673", "content": "thanks youre so helpful "},
{"id": 16932, "question_id": 1693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-15T15:01:42Z", "scrap_date": "2024-05-01T00:27:15.151888", "content": "The best solution seems to be putting dev dependencies into a packages jsonnode_modules in your project root and runtime dependencies into a package jsonnode_modules in your service folder I wrote a blog post about Keeping Dev Dependencies Out Of Your Serverless Package a few weeks ago You could also look at using the serverlesswebpack plugin With tree shaking this will get your package even smaller "},
{"id": 16933, "question_id": 1693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-17T20:37:29Z", "scrap_date": "2024-05-01T00:27:15.152887", "content": "Thank you buggy Ive done a quick test here and it seems to be working I thought sls invoke test wouldnt run with serverlessmochaplugin outside of the service folder "},
{"id": 16302, "question_id": 1630, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T02:00:59Z", "scrap_date": "2024-05-01T00:27:15.647708", "content": "Im new to Serverless Framework and 1 seems like the best way to avoid bleeding serverless concerns into your app code but how do you specify a sub directory as a Serverless deployment target"},
{"id": 16952, "question_id": 1695, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T03:50:06Z", "scrap_date": "2024-05-01T00:27:16.340324", "content": "Please surround your serverless yml in triple backticks e g ``` so that it gets rendered with proper formatting Errors like the one youre receiving are often due to issues with whitespace because YAML is whitespacesensitive "},
{"id": 14042, "question_id": 1404, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-02-28T02:35:34Z", "scrap_date": "2024-05-01T00:27:17.323551", "content": "Never mind"},
{"id": 14043, "question_id": 1404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T04:20:25Z", "scrap_date": "2024-05-01T00:27:17.324550", "content": "Passing array in yml is sucks Does serverless has some plan to fix this system"},
{"id": 14044, "question_id": 1404, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T04:38:04Z", "scrap_date": "2024-05-01T00:27:17.331552", "content": "ztmdsbt This is probably better discussed over at Github "},
{"id": 17142, "question_id": 1714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-19T03:43:49Z", "scrap_date": "2024-05-01T00:27:18.342681", "content": "Finally I found the issue and resolved it by removing the below line from my serverless yml file integration lambda Basically i should use the lambdaproxy integration which is default in serverless framework to get those context variables So that we can access them inside lambda functions using event requestContext authorizer yourKey"},
{"id": 17022, "question_id": 1702, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-04-13T19:48:31Z", "scrap_date": "2024-05-01T00:27:19.460074", "content": "The way I just resolved this myself was by using Javascript based variables In my serverless config I have the following vpc securityGroupIds file config optregionselfprovider region vpc js security subnetIds file config optregionselfprovider region vpc js subnets I then created a file vpc js within the folders config useast1eucentral1etc The js file contents look like this Hope that helps "},
{"id": 17023, "question_id": 1702, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-20T22:42:37Z", "scrap_date": "2024-05-01T00:27:19.462074", "content": "worked like a charm thanks "},
{"id": 16382, "question_id": 1638, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-20T06:23:54Z", "scrap_date": "2024-05-01T00:27:20.453470", "content": "Just ran into the same thing did you ever find a resolution"},
{"id": 16383, "question_id": 1638, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T00:05:03Z", "scrap_date": "2024-05-01T00:27:20.453470", "content": "I havent had the error personally but sounds like you need to give it the old sls deploy noDeploy and check out the generated template and see whats doing Do you have other functions in your service Ones that use the default role i e IamRoleLambdaExecution Maybe because its not being used its not appearing in the generated template but it is still being referenced as a dependency"},
{"id": 16384, "question_id": 1638, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T00:45:37Z", "scrap_date": "2024-05-01T00:27:20.454471", "content": "For me this happened adding a custom role to a function with a kinesis event The EventSourceMapping has a dependency on the bakedin role which is causing the error PopEventSourceMappingKinesisKinesis Type AWSLambdaEventSourceMapping DependsOn IamRoleLambdaExecution etc etc It might be a bug in the mapping generation "},
{"id": 16385, "question_id": 1638, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T01:16:48Z", "scrap_date": "2024-05-01T00:27:20.455471", "content": "Is the IamRoleLambdaExecution resource still present in the template It looks like the dependency on IamRoleLambdaExecution is hardcoded Open an issue"},
{"id": 16386, "question_id": 1638, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T01:31:43Z", "scrap_date": "2024-05-01T00:27:20.456471", "content": "Yep github com tobyhedeserverlessblobf173630009528c4c53870c98e52dac7d8dff83d4libpluginsawsdeploycompileeventsstreamindex jsL122 return EventSourceArn split [1] const lambdaLogicalId this provider naming getLambdaLogicalId functionName const streamLogicalId this provider naming getStreamLogicalId functionName streamType streamName const funcRole functionObj role this serverless service provider role let dependsOn IamRoleLambdaExecution if funcRole if check whether the custom role is an ARN typeof funcRole string funcRole indexOf 1 dependsOn [] else if otherwise check if we have an inservice reference to a role ARN typeof funcRole object FnGetAtt in funcRole Array isArray funcRole[FnGetAtt] Will open "},
{"id": 16387, "question_id": 1638, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-04-21T01:59:26Z", "scrap_date": "2024-05-01T00:27:20.458472", "content": "Issue and PR httpsgithub comserverlessserverlessissues3499 httpsgithub comserverlessserverlesspull3500"},
{"id": 16912, "question_id": 1691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T09:01:21Z", "scrap_date": "2024-05-01T00:27:21.152168", "content": "I guess the lack of response means no one quite knows if this possible or not"},
{"id": 16902, "question_id": 1690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T03:47:44Z", "scrap_date": "2024-05-01T00:27:21.912183", "content": "As mentioned in the text youre missing logsDescribeLogGroups permission in your Actions list you have logsDescribeLogStreams but not Groups This is why the documentation still recommends Administrator access Also please remove your AWS account ID when sharing snippets"},
{"id": 16903, "question_id": 1690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T12:52:51Z", "scrap_date": "2024-05-01T00:27:21.914189", "content": "First of all thanks for your reply I understand why Administrative Access is recommended My question was more to find out how to cover all the bases for the logGroups I tried and it didnt work I ended up just adding more and more logGroups until the errors went away And then I got the following error An error occurred while provisioning your stack ListRequestLogGroup It is really difficult to debug the errors that come up with the already exists and LogGroup errors because they are not well documented when you run into them "},
{"id": 16904, "question_id": 1690, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-18T21:32:52Z", "scrap_date": "2024-05-01T00:27:21.915190", "content": "The quickesteasiestsurest way to fix the new error message is to remove the service and redeploy it from scratch There are other ways to get around the error if you cant afford to remove the stack but they get tricky for exactly the reasons you mentioned Search the forum for loggroup to see some approaches "},
{"id": 16905, "question_id": 1690, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-21T13:04:04Z", "scrap_date": "2024-05-01T00:27:21.916251", "content": "Thanks for the help I was able to get rid of all errors I did have to do a lot of renaming of elements mostly my database tables Anyway thanks for the help I wished our company could just give admin access but I understand there are a lot of reasons for not giving that control "},
{"id": 17402, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-20T22:41:22Z", "scrap_date": "2024-05-01T00:27:23.011239", "content": "It doesnt sound like youre packaging your functions individually Keep in mind too that the packaging settings changed in the v1 11 release "},
{"id": 17403, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T07:37:34Z", "scrap_date": "2024-05-01T00:27:23.012240", "content": "In my project the node_modules and package json is in the root of the project and when adding the to the serverless yaml the deploy command hangs on Uploading function zip files to S3 would I have to for each function exclude node_modules and then individually include the modules needed for the specific function as per httpsserverless comframeworkdocsprovidersawsguidepackagingexamples "},
{"id": 17404, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T08:03:20Z", "scrap_date": "2024-05-01T00:27:23.013240", "content": "Unfortunately yes you would For more complex functions i e those with many dependencies I usually have a subdirectory per function and can then package it by directory If you are going to do it off a shared node_modules directory I suggest you use the legacybundling option From the docs The legacybundling argument will cause npm to install the package such that versions of npm prior to 1 4 such as the one included with node 0 8 can install the package This eliminates all automatic deduping This means each module will have all of its dependencies contained in its own directory "},
{"id": 17405, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T08:39:22Z", "scrap_date": "2024-05-01T00:27:23.014240", "content": "cool this works for the getSignedUrl will include only but rowanu how do you deal with the included modules dependancies as those will need to also be included"},
{"id": 17406, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T20:36:42Z", "scrap_date": "2024-05-01T00:27:23.015240", "content": "Thats what the legacybundling argument does it installs a modules dependencies in the modules directory "},
{"id": 17407, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-22T10:16:44Z", "scrap_date": "2024-05-01T00:27:23.015240", "content": "Another thing you can look at is moving your dev dependencies into a node_modules in the parent directory the one above your service folder Theyll still be available to Serverless but they wont be packaged with your code While it wont help you with having the smallest possible package for each function it is a quick win to remove packages like the awssdk compilerstranspilers test frameworks plugins and their dependencies "},
{"id": 17408, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-22T12:36:22Z", "scrap_date": "2024-05-01T00:27:23.016297", "content": "that is a good idea to move dev dependencies thanks and yes using legacybundling does fix the issue I am using the awssdk in my functions to access dynamoDB and S3 is there an alternative way to package these"},
{"id": 17409, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-23T03:18:03Z", "scrap_date": "2024-05-01T00:27:23.017241", "content": "See the docs Lambda runtimes AWS Lambda The following libraries are available in the AWS Lambda execution environment regardless of the supported runtime you use so you dont need to include them If you can limit yourself the currently included version then theres no need to include it in the upload package to use it "},
{"id": 174010, "question_id": 1740, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-24T10:37:19Z", "scrap_date": "2024-05-01T00:27:23.018241", "content": "Hi thanks for the replies I have one issue which I find strange in that if I enable the individually true for a specific function as I get an error about missing module I deploy my function as rm rf node_modules npm install production legacybundling AWS_PROFILEdev sls deploy stage dev region useast1 otherwise it works if i comment the package block i have checked the function code and I am only using awssdk request and jsonwebtoken within it any advice is much appreciated"},
{"id": 17562, "question_id": 1756, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-25T11:59:42Z", "scrap_date": "2024-05-01T00:27:23.931417", "content": "It looks like python 3 6 support has already been merged and will be in the next release Theres no need to wait for Serverless you can change the runtime setting in your serverless yml to python3 6 and use it now "},
{"id": 17563, "question_id": 1756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-25T18:17:05Z", "scrap_date": "2024-05-01T00:27:23.932417", "content": "Thanks for adding the support but im still getting problems running it up Here is the complete output Any ideas"},
{"id": 17564, "question_id": 1756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-25T20:28:55Z", "scrap_date": "2024-05-01T00:27:23.932417", "content": "Just use awspython as template and be sure to have python 3 6 available as default in your environment ps you must replace python2 7 with python3 6 in your serverless yml"},
{"id": 17565, "question_id": 1756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-25T20:40:40Z", "scrap_date": "2024-05-01T00:27:23.933418", "content": "thanks for your reply I talked with the guys in Gitter and found out that the release is still in testing not fully released yet so downloading that branch commit should just work until its fully release It appears that the documentation was released prior to having fully out there "},
{"id": 17566, "question_id": 1756, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-25T23:35:30Z", "scrap_date": "2024-05-01T00:27:23.934418", "content": "enriquemanuel If you just want to deploy functions using Python 3 6 then you dont need the version from Github While it includes better support for 3 6 you really can just use the 2 7 template and update the runtime value to python3 6 "},
{"id": 17567, "question_id": 1756, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-26T01:47:36Z", "scrap_date": "2024-05-01T00:27:23.935418", "content": "thanks i kind of imagine that but since i was using the framework from the Get go i wanted to do it from scratch correctly "},
{"id": 17692, "question_id": 1769, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-26T22:52:13Z", "scrap_date": "2024-05-01T00:27:25.036421", "content": "I assume youre talking about a Lambda backing the API Gateway using Lambda proxy integration Something like this will do it You should get a 404 error response with the body message Not found "},
{"id": 17693, "question_id": 1769, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T03:00:25Z", "scrap_date": "2024-05-01T00:27:25.037421", "content": "thanx that worked i thought we have to callback new Error [404] Not found "},
{"id": 17694, "question_id": 1769, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-27T05:51:07Z", "scrap_date": "2024-05-01T00:27:25.038421", "content": "There are two ways to integrate the API Gateway and Lambda The default used by Serverless is Lambda Proxy Integration For that you need to return an object telling the API Gateway how to respond Its the easiest to use so if youre new Id recommend sticking to it The more complicated Lambda Integration uses the callback error parameter to trigger different responses "},
{"id": 17482, "question_id": 1748, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T03:58:04Z", "scrap_date": "2024-05-01T00:27:26.162474", "content": "Ive heard of people getting this error before but havent worked out how to solve it If you add the SLS_DEBUG at the beginning of you command do you get any interesting additional output"},
{"id": 17483, "question_id": 1748, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T14:10:01Z", "scrap_date": "2024-05-01T00:27:26.163474", "content": "the screenshot that Ive shown above is after I added SLS_DEBUG If I run the command in the format below then it is fine "},
{"id": 17484, "question_id": 1748, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T22:12:07Z", "scrap_date": "2024-05-01T00:27:26.163474", "content": "Its hard to see whats changed between the working and nonworking command because youre using screenshots is it just that you defined a stage value"},
{"id": 17485, "question_id": 1748, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-29T20:03:44Z", "scrap_date": "2024-05-01T00:27:26.164474", "content": "Yes instead of storing stage and region in the serverless yml file I just passed them in through the CLI "},
{"id": 8922, "question_id": 892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-06T12:05:16Z", "scrap_date": "2024-05-01T00:27:27.029266", "content": "If you dont mind moving the stage to last then something like this seems to work"},
{"id": 8923, "question_id": 892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-06T14:50:55Z", "scrap_date": "2024-05-01T00:27:27.029266", "content": "I did this and it does work I was just hoping theres a real way to do this one that doesnt require knowing about serverless internals and hoping they dont change and break your stuff The best way I see is define the topic in the resources and for the SNS event to handle a Ref to that resource Is this worth a feature request"},
{"id": 8924, "question_id": 892, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-12-06T18:21:42Z", "scrap_date": "2024-05-01T00:27:27.030267", "content": "I found a slightly better solution that relies on how AWS formats SNS ARNs rather than how Serverless formats logical Ids This is what Im going with until Serverless comes up with a better solution "},
{"id": 8925, "question_id": 892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-30T16:31:13Z", "scrap_date": "2024-05-01T00:27:27.031267", "content": "Thankyou benschoenfeld your solution works I had something similar to this but something was wrong after copying your answer I got the desired result similar to your original question I had also previously tried creating my own topic under resources and then referencing it in the sns event setup According to the documentation it should be possible to specify an arn in the event setup and rather than creating the topic when you specify a topicName and displayName it references an existing topic but I couldnt get that to work I definitely think this is worth improving did you end up creating a ticket for this"},
{"id": 15902, "question_id": 1590, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-30T11:03:15Z", "scrap_date": "2024-05-01T00:27:28.954868", "content": "You need to use two Serverless projects One will setup the DynamoDB in eucentral1 and the second will setup the Lambdas in uswest1 "},
{"id": 15862, "question_id": 1586, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-30T01:34:09Z", "scrap_date": "2024-05-01T00:27:29.991557", "content": "Ive worked around similar issues by deleting the topic redeploying or by commenting out the attached event in serverless yml and attaching manually via the Web console "},
{"id": 15863, "question_id": 1586, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-30T10:59:32Z", "scrap_date": "2024-05-01T00:27:29.992557", "content": "You can get into this state if the topic has been manually remove "},
{"id": 15864, "question_id": 1586, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-30T14:44:49Z", "scrap_date": "2024-05-01T00:27:29.993558", "content": "Thanks guys Manually attaching the topic via the AWS console is out of the questions since these are supposed to be automated deployments However I did follow the suggestion from buggy and verified that the topic s did not exist However upon redeploy with the topic references I still get the failures I did notice however that when I remove the references and the deployment is successful the stack outputs show a qualified function ARN which seems to have an incrementing version number eg Im wondering if some remaining data from previous versions is gorking my deployments ServerLessTM claims the following during deployment However it does not seem to remove old qualified versions of the functions I also tried deleting the entire CF stack including the deployment bucket but the problem persists btw below is my Environment Information in case that might be pertinent "},
{"id": 15922, "question_id": 1592, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-30T21:47:16Z", "scrap_date": "2024-05-01T00:27:30.904966", "content": "Yep but its a bit of a daisychain In the environment section of your provider or specific function you can set a variable that is And then referencing that In your function code Id recommend setting a default in case you forget to provide an option at deploy time I also think the reference has to be opt not options as in your example but I havent tested it and the docs only show opt "},
{"id": 15923, "question_id": 1592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T08:40:22Z", "scrap_date": "2024-05-01T00:27:30.906966", "content": "Thanks Does the job perfectly Just in case it helps someone else I came up with an alternative solution yesterday Less daisy chaining but also less flexible and a touch more code Ill probably switch to the above method Then in the config something like"},
{"id": 15942, "question_id": 1594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-30T21:22:33Z", "scrap_date": "2024-05-01T00:27:31.913439", "content": "Its most likely that its not an IAM policy issue its much more likely to be a networking issue It looks like youve all the right pieces of config from a serverless yml point of view but I cant see the RDS networking configuration The things to check in order If you have VPC Flow Logs enabled look for the IP and port 5432 for pgsql of the ENI your functions are using to see if the connection is being attempted If you dont have flow logs turn them on Hope that helps "},
{"id": 15943, "question_id": 1594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T13:50:03Z", "scrap_date": "2024-05-01T00:27:31.914439", "content": "I took the subnets and security group IDs straight from the RDS instance so they are exactly the same We use these to stand up every test so these have connected before just not when made with Serverless 1 x They are on the same subnets All in the same NACL which allows all traffic our cloud team set these up Inbound and outbound are set correctly All in all we have used these before on other projects and it work except for this one "},
{"id": 15612, "question_id": 1561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-27T21:43:12Z", "scrap_date": "2024-05-01T00:27:32.581085", "content": "Thanks for sharing This will definitely come in handy "},
{"id": 15613, "question_id": 1561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T02:48:22Z", "scrap_date": "2024-05-01T00:27:32.582085", "content": "Hey Ive been using Codeship for my own CIcd of serverless ended up working there but havent moved to the encrypted variables yet Just wanted to let you know that theres a free tier for the pro version of Codeship as well in case you want to try it out Keep in mind that you dont need to deploy containers to use Pro as long as you can define your environment using docker files youll be fine"},
{"id": 15614, "question_id": 1561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T12:34:10Z", "scrap_date": "2024-05-01T00:27:32.583086", "content": "Thanks for the tip dennisnewel Its good to know thats an option I dont have any experience with docker files yet but I might look at going this route "},
{"id": 15615, "question_id": 1561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T13:58:47Z", "scrap_date": "2024-05-01T00:27:32.584086", "content": "let me know if you need any help getting setup"},
{"id": 16032, "question_id": 1603, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T13:24:37Z", "scrap_date": "2024-05-01T00:27:33.620918", "content": "Managed to make some progress in that I can get this to work in an invoke local but not on AWS Within get js I have require appvalidator js Which references the file in functionsappvalidator js Works fine with sls invoke local on AWS it calls out a syntax error on the require statement any clues please"},
{"id": 16033, "question_id": 1603, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-31T15:21:59Z", "scrap_date": "2024-05-01T00:27:33.621918", "content": "This is a voyage of discovery Invoking the function through sls returns the top line of the error whereas the AWS logs dont Turns out I had managed to get the path correct but the stack trace was showing the same errors I only found this out by invoking through sls with log It also told me the next issue I had was syntax but code passed all the syntax checks turns out Im running node 6 locally and 4 on AWS hence it working locally Nearly there just some issues with ES6 class method invocation to resolve "},
{"id": 15232, "question_id": 1523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-25T18:33:25Z", "scrap_date": "2024-05-01T00:27:34.612588", "content": "Would like to know more no debugging is my No1 frustration with Lambda "},
{"id": 15233, "question_id": 1523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-26T10:53:45Z", "scrap_date": "2024-05-01T00:27:34.613588", "content": "Sure Glad to share info Currently the platform provides We are also implementing alerting so that you could attach an alert to a specific lambda or a service to notify you when something fails You could either try our demo or sign up for a free beta account If you want to contact me directly you can email me at taavi io"},
{"id": 15234, "question_id": 1523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T15:20:43Z", "scrap_date": "2024-05-01T00:27:34.614589", "content": "Ah Im after code line debugging "},
{"id": 15235, "question_id": 1523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T15:33:21Z", "scrap_date": "2024-05-01T00:27:34.614589", "content": "Could you specify what exactly do you mean Maybe we can implement it Youre also welcome to our private beta Just sign up at httpsdashbird io and we will send you an invite Taavi"},
{"id": 15236, "question_id": 1523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-31T18:11:04Z", "scrap_date": "2024-05-01T00:27:34.615590", "content": "Im going to try the 1st Emulate AWS and API Gateway locally when developing your Serverless project dheraultserverlessoffline"},
{"id": 14512, "question_id": 1451, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-08T21:32:10Z", "scrap_date": "2024-05-01T00:27:35.696650", "content": "Have you seen the authorizers documentation I havent done it myself yet but theres a section in there detailing the use of Cognito User Pools "},
{"id": 14513, "question_id": 1451, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-08T21:49:08Z", "scrap_date": "2024-05-01T00:27:35.697650", "content": "YesIve seen it Thanks anyway But this only explains how to configure it on the service itself what I dont know yet is how do I call one of these functions on the frontend with authentication Right now Im simply doing an Ajax call via Javascript to these functions without any headers For what Ive read until now I think I need to use Api Gateway SDK but I dont know if I could do the same by just passing some information on the headers of the Ajax call "},
{"id": 14514, "question_id": 1451, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-08T23:11:42Z", "scrap_date": "2024-05-01T00:27:35.698650", "content": "dbeja Are you using the User Pool Identity Pool setup Or just Identify Pool If you are using Identity Pool federated with Facebook login you might find this stackoverflow answer useful amazon web services How to authenticate API Gateway calls with Facebook Stack Overflow To use a federated identity you set the API Gateway method to use AWS_IAM authorization You use Cognito to create a role and associate it with your Cognito identity pool You then use the Identity and Access Management IAM service to grant this role permission to call your API Gateway method And then use aws sdk in JS to invoke the apis var apigateway new AWS APIGateway If you are using User Pool you can authenticate your apis with the User Pool and include the Authentication header in your Ajax call See the code here Call the Create API"},
{"id": 14515, "question_id": 1451, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-10T15:52:04Z", "scrap_date": "2024-05-01T00:27:35.700651", "content": "Thanks fanjie Im using just a Identity Pool federated with Facebook login I just need to use AWS SDK Javascript or do I need to download also API Gateway SDK Javascript Right now I have this callback Where the user is authenticate on Cognito but I cant find any example on what to do next how does AWS APIGateway knows its authenticated and how do I call the functions with this apigateway Do you know any examples I could follow The ones I found seem to be a different case scenario Thank you "},
{"id": 14516, "question_id": 1451, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-31T19:21:58Z", "scrap_date": "2024-05-01T00:27:35.701651", "content": "dbeja You probably have it figured out already I played around with social login cognito and it seems you could just use the JS SDK generated from the API Gateway console And here are the instructions on using it Ignore step 6 and 7 since the AWS credentials are already set after the AWS config credentials get call How to use a JavaScript SDK that you generated by API Gateway "},
{"id": 16092, "question_id": 1609, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-01T11:21:57Z", "scrap_date": "2024-05-01T00:27:36.266665", "content": "Dont worry I have this working now I had corrupted the date in the policy version Still mystified by the semicolons appearing in the environment keys if anyone else has run into that "},
{"id": 15342, "question_id": 1534, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-02T15:28:47Z", "scrap_date": "2024-05-01T00:27:36.797690", "content": "an answer to this question would be great "},
{"id": 16022, "question_id": 1602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-03T00:13:54Z", "scrap_date": "2024-05-01T00:27:37.664914", "content": "Ive built a serverless graphql API and its working fine If its only working correctly once then it sounds like youve got stuff happening outside the handler method that isnt executing on subsequent invocations "},
{"id": 16023, "question_id": 1602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-03T03:37:20Z", "scrap_date": "2024-05-01T00:27:37.665915", "content": "Yep sounds like classic scope leakage "},
{"id": 16142, "question_id": 1614, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-03T17:46:33Z", "scrap_date": "2024-05-01T00:27:38.627766", "content": "Im an idiot the file config optstage config yml SubnetId1 needs to be surrounded by double quotes "},
{"id": 2922, "question_id": 292, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-09-14T09:40:14Z", "scrap_date": "2024-05-01T00:27:39.451261", "content": "You can use the custom request template to map your API Gateway query strings to the event object in your lambda function That part of the document has some typo currently and Ive opened a PR meanwhile you can view my forked version of it here So for example if you have a get request like this In your serverless yml or if you like the multiline version using syntax notice singlequotes must be doubled in singlequoted strings but in the multiline version there is no more singlequotes so no need to double it and now you can access them through the event object in the lambda function"},
{"id": 2923, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T01:26:58Z", "scrap_date": "2024-05-01T00:27:39.452261", "content": "This doesnt work for me Im trying to define a simple GET HTTP event that takes a single query string parameter foo In my serverless yml My lambda function simply returns the event object The event mapping remains the same default The query string parameter keyvalueDo you see anything wrong with the above Do you know of any examples demonstrating how to define an HTTP event containing URL parameters e g users userid Thanks "},
{"id": 2924, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T03:17:01Z", "scrap_date": "2024-05-01T00:27:39.453262", "content": "Your indentation for template is incorrect the applicationjson should be one more indented than the template "},
{"id": 2925, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T03:48:02Z", "scrap_date": "2024-05-01T00:27:39.454262", "content": "One more thing about debugging these things note that youre just using the serverless framework to control things in AWS which youll normally have to setup by yourself In other words you can view all the things serverless has done for you in the AWS console For example let see what the template thing is doing to the API Gateway"},
{"id": 2926, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T15:04:00Z", "scrap_date": "2024-05-01T00:27:39.455262", "content": "Dax Thank you for the through explanation I do understand that serverless is attempting to automate the APIG configuration that I would otherwise do manually Im viewing the APIG in the AWS console after each deployment I fixed the indentation as you suggested but re deploying the function still does not change the request body mapping template in the API Gateway The function definition now looks like Under hello GET Integration Request Body Mapping Templates I see that the default templates are still in use It seems that my request template is ignored Could this be a bug I will try to create a new functionHTTP event using the same request template in the serverless yml and see if updating an existing mapping template is the issue Im using the latest serverless v1 0 0rc 2 Thank you for your replies Nick"},
{"id": 2927, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T06:14:31Z", "scrap_date": "2024-05-01T00:27:39.456263", "content": "Thanks for this answer helped me"},
{"id": 2928, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T13:48:51Z", "scrap_date": "2024-05-01T00:27:39.457263", "content": "Hi I am using the approach described above and I am sure my indentation and syntax is correct but when I run the sls deploy script it gives me the following error Warning Youre using the LAMBDAPROXY in combination with request response configuration in your function chargePointRead This configuration will be ignored during deployment When I check through the AWS UI it shows that no request params have been set "},
{"id": 2929, "question_id": 292, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-01T10:57:49Z", "scrap_date": "2024-05-01T00:27:39.458263", "content": "From Serverless 1 0 which was released after those posts the default is proxylambda integration You need to add integration lambda to your http event configuration to switch back to lambda integration See httpsserverless comframeworkdocsprovidersawseventsapigatewaylambdaintegration"},
{"id": 29210, "question_id": 292, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-04T09:08:26Z", "scrap_date": "2024-05-01T00:27:39.458263", "content": "With proxylambda integration default one with serverless framework we can access directly to the source Ip through the event console log event requestContext identity sourceIp "},
{"id": 12862, "question_id": 1286, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-04T13:31:08Z", "scrap_date": "2024-05-01T00:27:40.335583", "content": "Turns out I needed to grant the rule permission to invoke the lambda When editing the rule in the console it was adding the permission automatically hence subsequent executions would succeed "},
{"id": 12152, "question_id": 1215, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-03T01:35:09Z", "scrap_date": "2024-05-01T00:27:41.249891", "content": "Support for NodeJs 4 3 is a relatively recent thing in Lambda it wouldnt have been an option when Serverless v1 0 was being developed Bluebird also has some nice features that arent in the native promise implementation e g coroutines etc which is another reason to use it "},
{"id": 12153, "question_id": 1215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-03T07:39:58Z", "scrap_date": "2024-05-01T00:27:41.250891", "content": "So in summary you need to return the promise with a callback to deliver the response"},
{"id": 12154, "question_id": 1215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-06T05:31:14Z", "scrap_date": "2024-05-01T00:27:41.251891", "content": "You dont even need to return it but its good practice to do it "},
{"id": 16362, "question_id": 1636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-05T19:26:05Z", "scrap_date": "2024-05-01T00:27:42.152121", "content": "Hi kdrnaik24 Is there any particular reason you are not using lambda proxy integration If not then you should Edit I read over that you return an integer That is probably not possible Can you try returning a object instead Also your custom response template looks strange to me but its been a while Ive been using nonproxy integration since you are using Java some promo for my Java framework JRestless in case you are interested "},
{"id": 16363, "question_id": 1636, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-06T09:25:28Z", "scrap_date": "2024-05-01T00:27:42.154122", "content": "Hi bbilger Thak you for reply Its working now "},
{"id": 14602, "question_id": 1460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-10T05:19:55Z", "scrap_date": "2024-05-01T00:27:44.167078", "content": "Its hard to tell with your message can you please wrap your code samples with four backticks like ```` so that we can see the exact whitespacing used The most common cause of silent failures is the whitespace being wrong "},
{"id": 14603, "question_id": 1460, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-10T17:51:24Z", "scrap_date": "2024-05-01T00:27:44.168078", "content": "Thanks Is it better now"},
{"id": 14604, "question_id": 1460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-10T20:33:23Z", "scrap_date": "2024-05-01T00:27:44.169079", "content": "Much Yep looks like youre missing a level of indentation on the rate line I should look like"},
{"id": 14605, "question_id": 1460, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-13T10:52:15Z", "scrap_date": "2024-05-01T00:27:44.170079", "content": "Great That worked Thanks a lot Didnt realise indentation was that important"},
{"id": 14422, "question_id": 1442, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-11T11:56:32Z", "scrap_date": "2024-05-01T00:27:44.938065", "content": "I believe this was due a bug introduced in a recent release of the OpenWhisk client library This has now been resolved and should hopefully be working Can you try reinstalling the plugin to upgrade the version of the client library to the latest release and try again If you are still having issues can you open a ticket in httpsgithub comserverlessserverlessopenwhisk and Ill investigate "},
{"id": 14423, "question_id": 1442, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-13T19:56:28Z", "scrap_date": "2024-05-01T00:27:44.939065", "content": "That did the trick thanks so much "},
{"id": 13462, "question_id": 1346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T15:44:36Z", "scrap_date": "2024-05-01T00:27:45.757365", "content": "Just to clarify I then have to remove the stack manually by checking the box that says to bypass the security group If I try to delete the security group manually it tells me the SG is associated with one or more network interfaces Note that the following security groups cannot be deleted These security groups are associated with one or more network interfaces Delete the network interfaces or associate them with different security groups View your network interfaces sgb49640cc walkmeApiprodLambdaExecSecurityGroupFAXKKSZRYI1P walkmeApiprodLambdaExecSecurityGroup Looking at network interfaces associated to that I find only the one created by this template AWS Lambda VPC ENI 0535f9b27fed48928be8c167dc7068ed"},
{"id": 13463, "question_id": 1346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-13T20:44:48Z", "scrap_date": "2024-05-01T00:27:45.759371", "content": "I can concur with the behaviour I am testing again now but I believe the behaviour is easily replicated if you add an existing function to a vpc Was this similar to your scenario Did you start the function off outside a vpc then add it to a vpc"},
{"id": 14352, "question_id": 1435, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T22:45:35Z", "scrap_date": "2024-05-01T00:27:46.860148", "content": "I suppose a better way to get around this problem would be to simply invoke one function after the other has finished as there no other means for data to appear in the first S3 bucket "},
{"id": 14353, "question_id": 1435, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-14T02:46:36Z", "scrap_date": "2024-05-01T00:27:46.861148", "content": "Your post is a little confusing but Ill take a stab at it I dont think itd be a good idea to attach those to the lifetime of any functions deployment yet Im not sure how tightly is this is going to be coupled to the deployment can someone help me to understand it better You can set the DeletionPolicy attribute so a resource S3 bucket so it isnt removed accidentally See DeletionPolicy attribute AWS CloudFormation You could also just add it to your resources section Ive not figured why would input buckets have to be created why it is up to me to create any output buckets or am I missing something Im going to assume youre dumping the output into another bucket you only mention this as a perhaps and thats what youre calling the output bucket You dont need to create the input buck the one triggering the Lambda to process s3ObjectCreated events because Serverless automatically creates buckets that are specified as an event source You need to create the output buckets because theyre not an event source for anything else "},
{"id": 9852, "question_id": 985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-20T19:00:31Z", "scrap_date": "2024-05-01T00:27:48.009138", "content": "No not at the moment Changing the location of the handler file at deploy time would mean that the handler function reference in your serverless yml would need to be changed too Whats the benefit youre after Why not just put your serverless yml in your src folder too Then all of your src will be the toplevel of your service "},
{"id": 9853, "question_id": 985, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-20T22:48:22Z", "scrap_date": "2024-05-01T00:27:48.010137", "content": "Moving the serverless yml file inside the src folder was what I needed to do Thank you "},
{"id": 9854, "question_id": 985, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-14T14:25:41Z", "scrap_date": "2024-05-01T00:27:48.010137", "content": "For packaging it would be nice if we could specify the target location in side the ZIP location I have a similar project setup and just to keep the project clean I really wanted to keep my source code in src and my serverless yaml at the root of the repo Its also required if you are using python with a virtual environment because lambda requires copying the pip dependencies from VIRTUAL_ENVlibpython2 7sitepackages to the root of the zip file See some docs here "},
{"id": 14892, "question_id": 1489, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-15T01:47:40Z", "scrap_date": "2024-05-01T00:27:48.942435", "content": "Logging is hard in a serverless environment The sls logs command is one of the ways Serverless is trying to make it easier for developers sls local is one of the other ways the framework is making it easier to get feedback quickly but is relatively recent functionality in the grand scheme of things Logging is definitely a problemspace with lots of room for improvement The SLS_DEBUG environment parameter is for debugging the Serverless Framework not your functions which are deployed by Serverless but not actually running the Serverless code You use it when you run the serverless or sls which is just an alias to serverless command e g sls deploy etc It doesnt have any impact in your function unless you specifically add it Nice work sharing your experiences I think its something we all go through we just try to forget about it "},
{"id": 14893, "question_id": 1489, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-15T02:00:18Z", "scrap_date": "2024-05-01T00:27:48.944436", "content": "Thanks for the clarity on the SLS_DEBUG If theres a way to increase the transparencypathto getting at sls local in the docs I think it will go a long way Googlingsearching issues led me to building outofdate mental models about how to solve these problems when the solution was buried in version release notes "},
{"id": 14232, "question_id": 1423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-08T21:19:28Z", "scrap_date": "2024-05-01T00:27:49.746287", "content": "Were you able to figure this out I have the same problem "},
{"id": 14233, "question_id": 1423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T02:15:00Z", "scrap_date": "2024-05-01T00:27:49.747294", "content": "Yeah i did The issue is what i used in the LogicalID In my original post above I indicated the logicalID I used and then it started working I was referencing the DB table name previously "},
{"id": 14952, "question_id": 1495, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-16T21:46:52Z", "scrap_date": "2024-05-01T00:27:50.705516", "content": "Amazon only supports prefixsuffix matching with filters not exact match The S3 event docs for Serverless include an example of how to configure those "},
{"id": 15002, "question_id": 1500, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-18T06:32:16Z", "scrap_date": "2024-05-01T00:27:51.833656", "content": "Found It dynamodb put doesnt return any result "},
{"id": 14912, "question_id": 1491, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-19T17:37:07Z", "scrap_date": "2024-05-01T00:27:52.653591", "content": "The OpenWhisk Alarm package has a maxTriggers property to control the maximum number of invocations It defaults to 1000000 but can be set to 1 as infinity GitHub apacheopenwhiskpackagealarms Apache OpenWhisk package that can be used to create periodic timebased alarms apacheopenwhiskpackagealarms"},
{"id": 8842, "question_id": 884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-05T22:41:35Z", "scrap_date": "2024-05-01T00:27:53.744461", "content": "You can create Services with no functions thanks to johncmckim s PR for your shared resources You would then set the shared resources details as variables and pass them off to your code with environment variables "},
{"id": 8843, "question_id": 884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-06T19:11:24Z", "scrap_date": "2024-05-01T00:27:53.746462", "content": "Thank your very much for your response Okay nice I was thinking about an functionless service for the resources Im not sure if I understand the documentation What I figured create a service name resources and in the resourceserverless yml define the something like resources Resources myTable Type AWSDynamoDBTable Properties TableName optstage MyTable in the say they apiserverless yaml I reference it like functions hello handler handler hello environment MY_TABLE_NAME file resourcesserverless yml resources Resources myTable Properties TableName Optionally I would define custom variables in the resourcesserveless yml so the path to reference is a little shorter Did I get that more or less correctly Kind regard thomas P S Im coming from In serverless 0 5 6 There were the CloudFormationOutputs which were stored in _meta and could be used and referenced as environment variables Especially when ARNs are needed this comes in handy right Does serverless1 x handle it in a similar way Or how do I get the details in to variables and into the environment of the other services"},
{"id": 8844, "question_id": 884, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-19T20:41:22Z", "scrap_date": "2024-05-01T00:27:53.748463", "content": "Hi I was wondering the same thing did it work for you Thanks"},
{"id": 15142, "question_id": 1514, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T02:31:10Z", "scrap_date": "2024-05-01T00:27:54.720987", "content": "Serverless is just a NPM module If you can do an npm install serverless you can use it You probably wont be able to do this on a machine that only has system NodeJs installed or rather it would require you to haveuse root permissions which is not a good idea Ideally you would have a local version of node installed and be able to install you dependent modules like serverless locally to your build and execute it i e so that the specific version you deployed with is stored as part of your build artefacts "},
{"id": 12062, "question_id": 1206, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-01T20:49:30Z", "scrap_date": "2024-05-01T00:27:55.623770", "content": "Hey Cyberider There is an IBM tag but it looked like it was empty I just tagged this post with it Ping me if you have other tag suggestions"},
{"id": 12063, "question_id": 1206, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-19T11:39:13Z", "scrap_date": "2024-05-01T00:27:55.624770", "content": "Hi David Would you mind renaming this tag to only openwhisk OpenWhisk its open source project now in ASF incubation Also people can use OpenWhisk can use it on their own computers and use the serverless framework with it "},
{"id": 12064, "question_id": 1206, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-19T17:39:47Z", "scrap_date": "2024-05-01T00:27:55.625771", "content": "this is a good idea "},
{"id": 12065, "question_id": 1206, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T06:59:38Z", "scrap_date": "2024-05-01T00:27:55.626775", "content": "Good idea Updated it"},
{"id": 14932, "question_id": 1493, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-19T21:07:02Z", "scrap_date": "2024-05-01T00:27:56.587590", "content": "The issue is that pass role is not intended to change accounts just limit the permissions used when deploying to a specific role You should be able to specify a profile that uses a crossaccount role see the CLI docs for more detail as long as you dont require MFA If you need MFA like I do youll need to do a manual STS assume role to set my local environment variables The STS command is relatively quick so Ive just been wrapping my commands with this script which requires jq This assumes the role you want to use and runs the command you passed it its not actually SLS specific e g script sh sls deploy "},
{"id": 14933, "question_id": 1493, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T13:30:07Z", "scrap_date": "2024-05-01T00:27:56.588591", "content": "Thanks Rowan I was hoping to avoid that since it is a bit fugly but if the pass role isnt for this use case then I shall have to assume role manually Cheers Doug "},
{"id": 13812, "question_id": 1381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-24T02:15:06Z", "scrap_date": "2024-05-01T00:27:57.547691", "content": "UPDATE I get the same self signed cert error when I vagrant ssh into my OpenWhisk box and install the serverless framework there even after setting the environment variables as instructed Unlike when I tried it before the wsk command line works just fine here though Anybody else run into this"},
{"id": 13813, "question_id": 1381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-24T21:59:58Z", "scrap_date": "2024-05-01T00:27:57.548692", "content": "Hi I have got this error too With the wsk the i option solves it but in this case not I have seen a possibility rest api to send over this ignore option in the contractor for the deploy Did you solved the problem"},
{"id": 13814, "question_id": 1381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-24T23:19:49Z", "scrap_date": "2024-05-01T00:27:57.548692", "content": "Nope still seeing it Misery loves company though 8 "},
{"id": 13815, "question_id": 1381, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-25T12:50:43Z", "scrap_date": "2024-05-01T00:27:57.549692", "content": "Nope still seeing it Misery loves company though 8 The issue is accepted and will be part of the the release update See below the Github issue record with comment history Add ignore_certs constructor option or make it available like wsk i Current ly I get an error during deploy of the boilerplate Failed to deploy function localessdevhello_world due to error Error encountered calling OpenWhisk Error self signed certificate"},
{"id": 13816, "question_id": 1381, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-11T13:22:52Z", "scrap_date": "2024-05-01T00:27:57.550692", "content": "This has now been resolved with the 0 5 release of the plugin please upgrade and try again Use the following configuration to support this "},
{"id": 13817, "question_id": 1381, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T16:58:04Z", "scrap_date": "2024-05-01T00:27:57.551692", "content": "I finally got a chance to validate this and its working great now thanks so much I hope we get a chance to meet in Vegas I get there Tuesday morning and hope to escape the show floor for a few OpenWhisk sessions "},
{"id": 15162, "question_id": 1516, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T23:35:29Z", "scrap_date": "2024-05-01T00:27:58.182078", "content": "Hey alanwhite I get passed this issue by doing this from the credentials httpsserverless comframeworkdocsprovidersazureguidecredentials setup azure role assignment create objectId objectIDFromCreateStep o Contributor I think this is just an issue with the docs Though I get an issue right after this step "},
{"id": 15163, "question_id": 1516, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T09:46:28Z", "scrap_date": "2024-05-01T00:27:58.183078", "content": "Thanks GroundedSage Makes sense this line is indeed missing from the quickstart page but is indeed there on credentials Speedy response much appreciated "},
{"id": 10772, "question_id": 1077, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T21:14:30Z", "scrap_date": "2024-05-01T00:27:59.634781", "content": "Did you solve this I had the same problem The tutorial has a few typos in create js Line 5 should be const dynamoDb new AWS DynamoDB DocumentClient The author wrote AWS DynamoDb with a lowercase b and around line 37 you need to pass JSON stringify the same argument you called dynamoDb put with around line 28 They should both be result or results Hope that helps "},
{"id": 13752, "question_id": 1375, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-22T23:40:52Z", "scrap_date": "2024-05-01T00:28:00.659786", "content": "I do something similar with stage in my CICD example you can find on Github Specifically in my serverless yml Thatll try the runtime option first then the local variable reference "},
{"id": 13753, "question_id": 1375, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-23T00:54:14Z", "scrap_date": "2024-05-01T00:28:00.660786", "content": "stage works but region doesnt"},
{"id": 13772, "question_id": 1377, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-23T18:42:41Z", "scrap_date": "2024-05-01T00:28:01.309417", "content": "avi Serverless comes with templates for Java Theres also an example httpsgithub comserverlessexamplestreemasterawsjavasimplehttpendpoint And last but not least I am the author of the framework JRestless that allows you to use JAXRS on AWS Lambda it can be used together with the serverless framework You can find examples on how to use JRestless here httpsgithub combbilgerjrestlessexamples"},
{"id": 13773, "question_id": 1377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-23T19:02:05Z", "scrap_date": "2024-05-01T00:28:01.311412", "content": "Perfect thank you PS maybe the docs should be tweaked to make this stuff easier to find "},
{"id": 13612, "question_id": 1361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T21:54:58Z", "scrap_date": "2024-05-01T00:28:02.334509", "content": "Hmm havent tried it myself I wouldve assumed it worked but errors like that suggest that theres something more going on Are you sure theres no global variable in your code i e everything is scoped correctly If the warm container is already being caused there might be some bleed between the two If you just want it to work why not just create two separate functions The only downside I can see is that youll have to pay for two CWE Rules but you wont incur any additional Lambda costs you only pay for the GB Seconds you use "},
{"id": 13613, "question_id": 1361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T22:08:19Z", "scrap_date": "2024-05-01T00:28:02.336509", "content": "Yep just figured it out that sometimes the container is kept for the lambda function so when there are variables that are not inside the handler scope their state are kept I didnt know about this behaviour "},
{"id": 13614, "question_id": 1361, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-24T02:46:02Z", "scrap_date": "2024-05-01T00:28:02.337510", "content": "From the meetup last night check out Serverless Meetup San Francisco February 22 2017 Ops tips from the Serverless trenches Slides 10 and 11 discuss some of the limit testing that the IOpipe team has done Super interesting stuff "},
{"id": 12192, "question_id": 1219, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-25T14:04:47Z", "scrap_date": "2024-05-01T00:28:03.187940", "content": "Hello Not at the moment We have an open issue that you can follow when this is implemented github comserverlessserverlessopenwhisk \t Add runtime support for nonNode js languages opened 0533PM 26 Jan 17 UTC closed 0230PM 11 Apr 17 UTC jthomas Each runtime will need packaging in a different way to the current package bundle Native runtimes Python Java Swift should be easy "},
{"id": 13982, "question_id": 1398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-27T16:27:12Z", "scrap_date": "2024-05-01T00:28:04.027339", "content": "Forget it We decided to separate the API url and now they are different so the error basically means that items POST is not defined should be itemscreate I am migrating and old api I know it probably would make more sense to set PUT instead of create "},
{"id": 13862, "question_id": 1386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-24T17:15:35Z", "scrap_date": "2024-05-01T00:28:05.153023", "content": "I ran into the same thing when building this Contribute to nerdguruserverlessTodos development by creating an account on GitHub My workaround was to do the following That way at deployment time the URLs you need are saved in deploy out so that you can parse for them later "},
{"id": 13863, "question_id": 1386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-24T18:55:37Z", "scrap_date": "2024-05-01T00:28:05.155029", "content": "sls info grep etc etc was all I came up with so far which I guess is the same thing you suggested The issue is that at deploy time I need the tester function to know the url for the microserfice function Unless there is some way to inject it after creation Can ENV vars be set after the fact somehow I can grep the URLs easily enough as part of the build process and then leave them as an artifact for later stages in the pipeline hmmmm this might work "},
{"id": 13864, "question_id": 1386, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-02-28T05:32:16Z", "scrap_date": "2024-05-01T00:28:05.156029", "content": "jdchmiel Are both Lambda functions part of the same serverless project You could pass the URL into your Lambda as an environment variable If you have a lot of URLs you might want to consider passing a base URL without the pathtoresource as you can easily add that later "},
{"id": 13865, "question_id": 1386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-28T13:56:26Z", "scrap_date": "2024-05-01T00:28:05.156029", "content": "Perfect This is exactly what I needed I did not know we could use cloudformation template syntax outside of the resources stanza of the serverless file I will give this a shot "},
{"id": 13866, "question_id": 1386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-28T22:13:29Z", "scrap_date": "2024-05-01T00:28:05.157024", "content": "From memory there are only three places you can use this in your serverless yml I seem to remember they are resources IAM statements and environment variables "},
{"id": 14052, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-28T23:18:27Z", "scrap_date": "2024-05-01T00:28:06.026585", "content": "CF config will never automatically create an S3 bucket It sounds like Serverless is creating the bucket for you You can run sls noDeploy and then look at the templates generated in the serverless directory in your services directory to confirm that the bucket is being defined for you "},
{"id": 14053, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-28T23:37:46Z", "scrap_date": "2024-05-01T00:28:06.027586", "content": "OK well the only two references to AWSS3 in the CF templates are ServerlessDeploymentBucket and my staticBucket Anything else I can check"},
{"id": 14054, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T00:13:15Z", "scrap_date": "2024-05-01T00:28:06.027586", "content": "Are you referencing your staticBucket anywhere else If youre using it as an S3 event source then SLS will try to create it for your automatically Just to be clear are you expecting to see another bucket definition That is 3 buckets"},
{"id": 14055, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T00:16:20Z", "scrap_date": "2024-05-01T00:28:06.028586", "content": "No no other references Its a bucket for me to stuff static assets into to be served from CloudFront As such its only referenced in the CFront config and my s3 assets config for my plugin Why I find peculiar is that the CloudFront config works when the bucket is not defined Im sure in the past CF has cracked it with me when Ive tried to reference a S3 bucket that didnt exist "},
{"id": 14056, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T01:13:24Z", "scrap_date": "2024-05-01T00:28:06.029586", "content": "Yeah it will totally do that if it doesnt exist Is this bucket created outside of CFN or leftover from an earlier templatedeploy Are you changing the name between deploys or is it just continually reusing the same old bucket for your static files This would explain why it no longer gives you an error If you change the name of the bucket CF should point to I would assume it will complain again "},
{"id": 14057, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T01:29:58Z", "scrap_date": "2024-05-01T00:28:06.030587", "content": "Ive tried changing the name just in case it was colliding with something Thing is Ive deployed without the s3 entry in resources and the bucket does NOT show in my AWS console And if I try to go to the url I get Yet CloudFront is happily referring to it as an S3 Origin "},
{"id": 14058, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-01T03:11:58Z", "scrap_date": "2024-05-01T00:28:06.031587", "content": "OK After a chance spotting that an extra bucket was created then delete during the deploy I realised the problem was I didnt have s3PutBucketAcl permission on my deploy role Thanks for helping me out Nice to know theres someone else on here in the same timezone as I am too"},
{"id": 14059, "question_id": 1405, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T03:36:30Z", "scrap_date": "2024-05-01T00:28:06.031587", "content": "Oh wow I really thought it would complain if it wasnt there maybe thats only if its referred to via an alias i e NOT a custom origin Will have to go and check At least it told you what the problem was at request time "},
{"id": 8442, "question_id": 844, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-28T11:21:53Z", "scrap_date": "2024-05-01T00:28:07.000255", "content": "You can definitely deploy new functions and API endpoints without needing to remove everything first You just need to run sls deploy Exactly how are you modifying the DynamoDB tables"},
{"id": 8443, "question_id": 844, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-28T12:09:41Z", "scrap_date": "2024-05-01T00:28:07.001256", "content": "Here is the resources section in my serverless yml file slightly modified field names but essentially the same Before I put in the GSI stuff sls deploy would fail with table already exists Now with the GSI stuff it fails saying GSI already exists I am not a CF expert or fan so I am sure there is something I am doing wrong "},
{"id": 8444, "question_id": 844, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-28T12:51:32Z", "scrap_date": "2024-05-01T00:28:07.002256", "content": "well I am not sure what to say I just tried it again and it worked I changed nothing in serverless yml for the resources but I added a new function with api endpoint and it worked without first removing I must have tried 4 or 5 times yesterday and it never worked "},
{"id": 8445, "question_id": 844, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T05:36:12Z", "scrap_date": "2024-05-01T00:28:07.004251", "content": "Trying to create two dynamoDB tables under resources in serverless yml I get an error stating Cannot read property LogicalResourceId of null Any idea what might be the problem "},
{"id": 4322, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T11:01:45Z", "scrap_date": "2024-05-01T00:28:07.604285", "content": "flomotlik I am facing same problem as its described above "},
{"id": 4323, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T11:36:44Z", "scrap_date": "2024-05-01T00:28:07.605285", "content": "Regarding naming you can use custom resources to overwrite the name basically you edit the CF template and set a different name for it Regarding versioning it is probably the best way to do it the way you proposed for now but were also going to work on a different APIGservice support where you can have a service that is only there to set up APIG and then you can have other services that hook into that one APIG So the resources are still in separate stacks and its all managed through Cloudformation but you can have one APIG "},
{"id": 4324, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-16T17:37:25Z", "scrap_date": "2024-05-01T00:28:07.606285", "content": "flomotlik I have renamed api gateway with custom resource however only cloudformationtemplatecreatestack json is updated and cloudformationtemplateupdatestack json still contains stage prefix NOTE I am using serverless v1 0 0 serverless yml cloudformationtemplatecreatestack json cloudformationtemplateupdatestack json Is this normal behaviour as I would expect whatever is defined in custom resource it should overwrite both create and update stacks"},
{"id": 4325, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T07:51:45Z", "scrap_date": "2024-05-01T00:28:07.607286", "content": "Yup thats a bug that was introduced with V1 Were working on fixing this as quickly as possible "},
{"id": 4326, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T16:18:31Z", "scrap_date": "2024-05-01T00:28:07.608285", "content": "Hey guys any news on this As others have mentioned the custom resources do overwrite the name but then just create several APIs with the same name for different stages I know the guideline is to use separate AWS accounts per stage but in small teamscompanies the overhead would be quite absurd Being a happy 0 5 x user this is not a nice surprise should I brace for more"},
{"id": 4327, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T21:35:40Z", "scrap_date": "2024-05-01T00:28:07.609287", "content": "Only this week Ive been able to setup an API Gateway with a custom name I havent had it create multiple gateways unless Ive been using multiple Serverless configurations sharing the same resources template I believe this is because each configuration has no idea about creating or updating shared resources It just thinks that it manages the resources and no other configuration does TLDR It works when you have all of your functionsapi endpoints managed by one Serverless configuration Adding multiple Serverless configurations will produce multiple Api Gateways "},
{"id": 4328, "question_id": 432, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T22:50:27Z", "scrap_date": "2024-05-01T00:28:07.610286", "content": "Hi David thanks for responding Just to be sure have you tried with multiple stages"},
{"id": 4329, "question_id": 432, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-01T05:40:16Z", "scrap_date": "2024-05-01T00:28:07.610286", "content": "Is there anything further on this or planned feature in the future At the moment my lambda and api gateway admin pages are getting filled with different entries for each stage "},
{"id": 14092, "question_id": 1409, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-01T06:45:53Z", "scrap_date": "2024-05-01T00:28:08.706201", "content": "It was my mistake I didnt name the resource name in yml correctly "},
{"id": 10932, "question_id": 1093, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T10:54:20Z", "scrap_date": "2024-05-01T00:28:09.390195", "content": "Im asking myself the exact same question and id like some recommendations on the right way to specify the requiredoptionnal query parameters in LambdaProxy mode "},
{"id": 14162, "question_id": 1416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T18:28:00Z", "scrap_date": "2024-05-01T00:28:10.519227", "content": "Your formatting is wrong in the serverless yml file You need to nest another level deep under http Also I think you need to not default export your create function Hope this helps"},
{"id": 14163, "question_id": 1416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T18:46:48Z", "scrap_date": "2024-05-01T00:28:10.520226", "content": "Thank you Ill try changing the way Im exporting my function My formatting is actually correct in my serverless yml but I messed it up while pasting sorry about that Update Ive removed the handlers directory from the picture to simplify My handler function createUser js is now in the root of my service with my serverless yml Im exporting my function like this export function Create event context callback code Serverless yml like this I should note that Im using the serverlessbabelplugin as well but Im not sure if thats relevant here or not Its possible that the issue is in the packaging of my service"},
{"id": 14164, "question_id": 1416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T22:09:55Z", "scrap_date": "2024-05-01T00:28:10.521227", "content": "It looks like the file is missing Run sls deploy n This should create a zip file inside your serverless folder Unzip that file and you can see whats being uploaded It may be that serverlessbabelplugin is putting the compiled JS files into another folder I dont use it so Im not sure how it works "},
{"id": 14165, "question_id": 1416, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T22:11:42Z", "scrap_date": "2024-05-01T00:28:10.522228", "content": "Thanks for the tip will try that now "},
{"id": 14166, "question_id": 1416, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-06T17:24:01Z", "scrap_date": "2024-05-01T00:28:10.523228", "content": "I managed to get it working I dont think the serverlessbabelplugin was an issue as all the required files seemed to be zipped correctly However I decided to remove the plugin for other reasons In the end this is what Im using successfully serverless yml and in my handler subscribeUser js All is working well now "},
{"id": 13932, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-26T23:23:19Z", "scrap_date": "2024-05-01T00:28:11.278453", "content": "I prefer the DocumentClient interface but I hear good things about dynogels too "},
{"id": 13933, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-27T00:27:39Z", "scrap_date": "2024-05-01T00:28:11.279453", "content": "rhlsthrm The default Lambda environment includes AWS SDK for Javascript 2 7 10 and the SDK has supported promises since 2 3 0 All you need to do is add promise after method calls See httpsaws amazon comblogsdevelopersupportforpromisesinthesdk"},
{"id": 13935, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-27T18:05:55Z", "scrap_date": "2024-05-01T00:28:11.280454", "content": "dynogels looks cool I like the schemabased interface Thanks for the info "},
{"id": 13936, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-01T19:45:14Z", "scrap_date": "2024-05-01T00:28:11.281454", "content": "the AWSSDK Document client is really quite good and its Promise support is very good "},
{"id": 13937, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-04T16:02:35Z", "scrap_date": "2024-05-01T00:28:11.281454", "content": "What issues did you have with httpawspilot github iodynamodboop Im using it at the moment after i was unhappy with a couple others i looked into But I did not give dynogels a try yet "},
{"id": 13938, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-05T19:50:31Z", "scrap_date": "2024-05-01T00:28:11.282454", "content": "I was having trouble with the configuration to get it to work But since I found out the AWSSDK Document Client works fine and supports promises I decided to use that and did not spend time debugging my previous issue "},
{"id": 13939, "question_id": 1393, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-07T01:51:13Z", "scrap_date": "2024-05-01T00:28:11.282454", "content": "The schema model from dynogels works really well but it doesnt have promise support dynogelspromisified worked great for me "},
{"id": 14222, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-02T23:59:10Z", "scrap_date": "2024-05-01T00:28:12.314365", "content": "s3 was down yesterday Perhaps this had something to do with it"},
{"id": 14223, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-03T07:02:03Z", "scrap_date": "2024-05-01T00:28:12.315365", "content": "I dont think so as it is still not working and S3 is up It groks at the above command if I run it locally all works as expected The JSON payload is small "},
{"id": 14224, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-07T06:48:12Z", "scrap_date": "2024-05-01T00:28:12.315365", "content": "Can you confirm you are able to reach the internet from the Lambda function This may sound silly but if the Lambda is inside a VPC within a private subnet then you need a managed NAT instance or roll your own to access the internet I fell into this trap just yesterday took me ages to find out this little gem and fix it "},
{"id": 14225, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-07T07:03:19Z", "scrap_date": "2024-05-01T00:28:12.316366", "content": "hi yes it is an issue with the lambda not being able to access the internet a good resource i find is httpsmedium comphilipphollyawslambdaenableoutgoinginternetaccesswithinvpc8dd250e11e12 hombvkfhy"},
{"id": 14226, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T10:26:44Z", "scrap_date": "2024-05-01T00:28:12.317366", "content": "Awesome article sorry I didnt mention that I solved mine by using the internal dns of the EC2 that I wanted to access prior to that I was using the public IP address derp Hope you got your problem solved"},
{"id": 14227, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T17:00:50Z", "scrap_date": "2024-05-01T00:28:12.317366", "content": "Hi I have added my lambda function to my existing VPC and am able to return data back to my client as detailed in the medium article Although I have an issue which I am unclear as to why it is not working On my VPC I have a mongo cluster when I console log the response from my lambda function I am able to see it in the logs but the curl client times out I am using curl X POST H Authorization Bearer _FQLs7c2k3E H ContentType applicationjson H CacheControl nocache d query user username httpsxxx executeapi useast1 amazonaws comdevgraphql other graphql queries work when reading from S3 for example here is the getUser code here are the logs So my lambda function is connecting to the mongo cluster and getting the data from it but it times out when returning it back to the client What am I missing here Any advice is much appreciated "},
{"id": 14228, "question_id": 1422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-08T15:58:33Z", "scrap_date": "2024-05-01T00:28:12.319367", "content": "OK my issue was that the callback should return content done this fixed it[quotekhinester post7 topic1422] callback null statusCode 200 body JSON stringify response headers AccessControlAllowOrigin [quote] to in httpsgithub comserverlessserverlessissues1036 is the old way "},
{"id": 14532, "question_id": 1453, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-08T20:19:15Z", "scrap_date": "2024-05-01T00:28:13.148817", "content": "Hi for me this works"},
{"id": 14533, "question_id": 1453, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T05:05:15Z", "scrap_date": "2024-05-01T00:28:13.149817", "content": "Thats pretty close to what I have in my provider section I do not have the stage or region sections I will try and copypaste yours and edit to add my securitygroup and subnet ids "},
{"id": 14534, "question_id": 1453, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T15:10:49Z", "scrap_date": "2024-05-01T00:28:13.150818", "content": "Thanks I changed around the order of items And now the package will deploy and properly configure the vpc I think I will submit this as a bug to the serverless team Or if the order of items in the yml is critical perhaps the docs should call this out Anyway thanks for the quick help "},
{"id": 11872, "question_id": 1187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-29T05:14:29Z", "scrap_date": "2024-05-01T00:28:14.907036", "content": "Ive been using validator ts lately but that only helps if youre using TypeScript It looks promising but I really need to clean up the default error messages "},
{"id": 11873, "question_id": 1187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-30T23:17:46Z", "scrap_date": "2024-05-01T00:28:14.908036", "content": "Thanks buggy Im not using TypeScript but as I see I should use Joi js by creating request body schema payloads Currently I dont mind the error messages because Im using lambda integration and our development schedule is very tight I hope to get rid of that one day"},
{"id": 11812, "question_id": 1181, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-27T03:53:20Z", "scrap_date": "2024-05-01T00:28:15.774672", "content": "Yes Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework Youll get a better answer if you ask a more specific question "},
{"id": 11813, "question_id": 1181, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-31T03:37:01Z", "scrap_date": "2024-05-01T00:28:15.775673", "content": "any idea if I want to use weighted trafficking bluegreen deployment with route53 how to do the setup"},
{"id": 12072, "question_id": 1207, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-01T20:58:19Z", "scrap_date": "2024-05-01T00:28:16.782743", "content": "Hey carmely Are you talking about adding a custom domain on top of your API gateway endpoint httpdocs aws amazon comapigatewaylatestdeveloperguidehowtocustomdomains htmlhowtocustomdomainsconsole Wiring up API gateway to a lambda function can be done like so httpsserverless comframeworkdocsprovidersawseventsapigatewayhttpendpointwithextendedoptions"},
{"id": 12073, "question_id": 1207, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-02T00:46:56Z", "scrap_date": "2024-05-01T00:28:16.784745", "content": "Ill throw in a third option are you trying to work out your endpoint URL from inside your Lambda function that handles the endpoint"},
{"id": 12074, "question_id": 1207, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-02T03:36:08Z", "scrap_date": "2024-05-01T00:28:16.784745", "content": "Thanks Yes that is what I want Actually I am thinking about the service discovery When I use serverless to deploy the lambda functions Gateway APIs will be autocreated I need the HTTP end points for these Gateway APIs so I can create records in Service Registrar probably Dynamo DB Previously I was thinking if there were any events thrown out on Gateway API creation then I can have another lambda function listen to it and do the registration However AWS does not provide such events Any idea for the alternatives or do I have to make the Gateway API immutable by adding a custom domain manually"},
{"id": 12132, "question_id": 1213, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T23:56:28Z", "scrap_date": "2024-05-01T00:28:17.882931", "content": "hi rsweetland can you post the exact CORS error a screenshot of the browser debugger window will do Need to know which endpoint you are trying to reach whether its the GET or OPTIONS thats failing etc Also your complete yaml file would be good too where are you defining the auth function cheers Chris "},
{"id": 12134, "question_id": 1213, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T00:29:56Z", "scrap_date": "2024-05-01T00:28:17.883931", "content": "OK I think the CORS is misleading as this is not set on your 401 response So lets focus on the real problem your 401 error 401 means that your request is unauthorised so your auth0 authoriser is failing did you replace the code here in the example authoriser "},
{"id": 12135, "question_id": 1213, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T01:26:47Z", "scrap_date": "2024-05-01T00:28:17.884932", "content": "Ah It is the auth function Awesome Thank you I did enter and just doublechecked those values I added some logs around the auth function and found an invalid signature error However when I paste the token into jwt io with the AUTH0_CLIENT_SECRET value the signature says its valid Forum not letting me post a link to the github code for some reason Authorizer function pasted below The fact the that the live demo is working fine gives me hope that its me not the code Any ideas Thanks again "},
{"id": 12136, "question_id": 1213, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-03T02:16:57Z", "scrap_date": "2024-05-01T00:28:17.885932", "content": "hi rsweetland from our experience we could not get the jwt verify function to work The signature just would not validate just like what you are experiencing Instead we post to Auth0 and we let them tell us whether its a valid token or not Like this We tried a lot to get jwt verify to work but in the end our best bet was to ask Auth0 We might revisit in the future but for now its good for us For AuthPolicy which I omitted you can use something like this httpsgithub comamowuawsauthpolicy hope this helps"},
{"id": 12137, "question_id": 1213, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T18:22:02Z", "scrap_date": "2024-05-01T00:28:17.886932", "content": "Huge help This led me right to the issue Just two days ago a PR was submitted on the examples repo to fix the bug More info on issue 62 in the Serverless Examples Repo forum is not letting me post a link PR not yet merged but in the meantime I manually removed the base64 encoding of the AUTH0_CLIENT_SECRET and it worked Working auth function without base64 encoding Thanks again str3tch Really appreciate your help "},
{"id": 11132, "question_id": 1113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-18T17:41:54Z", "scrap_date": "2024-05-01T00:28:18.985823", "content": "Check out httpsgithub combennybauerserverlesspythonsample for a python example with pip dependancies "},
{"id": 11133, "question_id": 1113, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-05T00:21:45Z", "scrap_date": "2024-05-01T00:28:18.986821", "content": "My current approach involves using pip install t r requirements txt in my code directory and I hate it Im trying to learn the innards of serverless enough that I can write an alternative packaging config that works by specifying a list of dirs and for each a list of globs This would allow"},
{"id": 12722, "question_id": 1272, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T01:00:52Z", "scrap_date": "2024-05-01T00:28:19.841033", "content": "It sounds like youre being bitten by one of the breaking changes in 1 6 Removed function Arns from CloudFormation outputs Is there any more detail if you run the command with SLS_DEBUG I cant be sure if its the problem or what the fix would be without more information Youre right that theres not much out there about this I cant find getLambdaOutputLogicalId mentioned anywhere "},
{"id": 12742, "question_id": 1274, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-06T22:57:10Z", "scrap_date": "2024-05-01T00:28:20.881712", "content": "You cant use resource format The API GW expects the resource path to be a fixed string i e resource or a path parameter i e resource Use the ContentType header and respond appropriately "},
{"id": 12743, "question_id": 1274, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T23:22:06Z", "scrap_date": "2024-05-01T00:28:20.882713", "content": "Thanks for the reply buggy In my case I need to support a period in the URL as Im building a reverse proxy to provide backwards compatibility for an existing API an API which I didnt design though specifying the response format as part of the URL is not uncommon Through further testing it looks like I can simply use a single param resource resource and then split on the in my code The param comes through as users json for example That should work just fine "},
{"id": 12752, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T18:46:40Z", "scrap_date": "2024-05-01T00:28:22.014181", "content": "Hey Tim You will want to expose your lambda function via API gateway with the http event See httpsserverless comframeworkdocsprovidersawseventsapigateway for some examples"},
{"id": 12753, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T19:02:35Z", "scrap_date": "2024-05-01T00:28:22.016181", "content": "Hi DavidWells its already using HTTP as a trigger my challenge is outbound HTTP access so my lambda function can make a request to an external API ie Twilio when its called "},
{"id": 12754, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T19:06:21Z", "scrap_date": "2024-05-01T00:28:22.016181", "content": "Here is a twilio example httpsgithub comserverlessexamplesblobmasterawsnodetwiliosendtextmessagehandler jsL17 You should also be able to use the request module from NPM to make outbound http requests"},
{"id": 12755, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T20:07:04Z", "scrap_date": "2024-05-01T00:28:22.017182", "content": "Wow thats odd it suggests that lambda functions created via serverless automatically have access to make outbound http requests I cant imagine why mine wouldnt work then I actually am using request to make the request commented out right now since it doesnt work but whenever I try to make an outbound http request my lambda function throws a 502 bad gateway error when I invoke it There are no more detailed logs any idea what else it could be"},
{"id": 12756, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T20:45:46Z", "scrap_date": "2024-05-01T00:28:22.018182", "content": "Look at the logs of your function sls logs f functionName t and see what the error is Cloudwatch should give you some insight into where your function is erroring out "},
{"id": 12757, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T21:03:34Z", "scrap_date": "2024-05-01T00:28:22.019182", "content": "Yep all nonVPC Lambda functions have Internet access If theres no other interesting log output as per DavidWells s comment can you try requesting another URL to confirm basic connectivity Are you doing anything special with proxies or authentication"},
{"id": 12758, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T21:29:59Z", "scrap_date": "2024-05-01T00:28:22.019182", "content": "DavidWells unfortunately the CloudWatch logs as well as sls logs just show the START END and REPORT logs none of which appear related I did console log the URL being constructedrequested which worked and I even console log ed inside request s success callback and that showed in the logs The issue appears to be that accessing my lambda function over HTTP throws a 502 bad gateway error instantly before the console log s of the URLsuccess message even show up in the logs Note that I dont get the 502 error when not making an http request within the lambda function rowanu I did try request ing httpswww google com with the same result Im not doing anything with proxies or authentication Thanks for your time "},
{"id": 12759, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-06T22:31:06Z", "scrap_date": "2024-05-01T00:28:22.021183", "content": ""},
{"id": 127510, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-06T23:10:18Z", "scrap_date": "2024-05-01T00:28:22.021183", "content": "buggy so I added a bunch of logging and it does in fact complete the request so apparently it has access to make an outbound request The problem is that long before the console logs show the request being made or completed the lambda function has returned a 502 bad gateway error to the requestor This 502 error is only shown when the lambda function is making an http request The logs dont give any indication why its happening Any idea what could be causing it As shown in the log below theres a log when the function is called a log of the URL its querying a log when the request is initiated when it completes and verifying that err is null Ive even tried console log ing the response body in here as well and it shows the expected response But the initiating http request that kicks off this function errors out 502 long before any of these logs show up in my console "},
{"id": 127511, "question_id": 1275, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-06T23:32:41Z", "scrap_date": "2024-05-01T00:28:22.023183", "content": "I think Ive figured it out the request module callback function signature is err response body I thought I could simply pass the lambda callback to the request But request s response object contains a bunch more properties than just statusCode and body and I think thats whats throwing it So this works thanks though"},
{"id": 10572, "question_id": 1057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T11:23:48Z", "scrap_date": "2024-05-01T00:28:22.646850", "content": "Were you able to resole this I am getting the same error on OPTIONS call "},
{"id": 10573, "question_id": 1057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-03T11:26:18Z", "scrap_date": "2024-05-01T00:28:22.647850", "content": "When you remove and deploy youll get a new hostname for the API GW Every time Ive done that and received a forbidden message its because Ive forgotten to update the hostname somewhere and its calling the old hostname "},
{"id": 10574, "question_id": 1057, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-07T11:41:42Z", "scrap_date": "2024-05-01T00:28:22.648851", "content": "I am also facing the same issue on POST request Is there any workaround to fix this issue"},
{"id": 11732, "question_id": 1173, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-07T22:06:21Z", "scrap_date": "2024-05-01T00:28:23.382050", "content": "So this is not possible to do in serverless yml I have ended up splitting code inside my handler using event[clickType] to route steps in Python code "},
{"id": 12702, "question_id": 1270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:09:07Z", "scrap_date": "2024-05-01T00:28:24.312799", "content": "If you are looking to define your APIs and document them in the same place I dont think anything exists right now Previously I was using swagger to define and document my APIs in the same place and used AWS tools to deploy it It was not my favorite thing to do and since Ive embraced separation of concerns as the better way to do it Now I just use Readme io or some other documentation provider and document things manually They focus their attention on one problem and end up solving it really well "},
{"id": 11862, "question_id": 1186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-28T06:39:31Z", "scrap_date": "2024-05-01T00:28:25.149919", "content": "Youre talking about building a multitenant web application I wouldnt try deploying separate applications for each tenant subdomain You normally do better building the application so that data is scoped to the current tenant For example In DynamoDB you could use a range key on the tenant subdomain and email or create your own hash key using a composite value like subdomain email i e foobar john com "},
{"id": 11863, "question_id": 1186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-30T02:12:06Z", "scrap_date": "2024-05-01T00:28:25.150919", "content": "Thank your for your reply Rich The DynamoDB suggestion sounds plausible But can my serverless functions move between Cognito user pools and such I at least what isolation there I think Scoping sounds too painful "},
{"id": 11864, "question_id": 1186, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-31T00:46:46Z", "scrap_date": "2024-05-01T00:28:25.151919", "content": "Hendry At one of startups I work at we built a system like this Im going to have one of my fellow engineers speak to the details on the Route 53 configuration used to route the traffic Within the application code the tenancy would be determined at the time of authentication and the sub domain obviously determines which tenant it is We are currently moving authentication over to use Auth0 so Ill speak to that possible solutions there You can define a client for each tenant via their management API This client will then return a client ID which you can use in your system to track which tenant they belong to You can have a single client but then use rules to determine if a user is able to authenticate into the particular domain they are attempting to login to First rule would attach the subdomain to the users app_metadata on first login the second rule would enforce matching between the domains You can use roles and permission definitions on the user object as described here httpsauth0 comdocstutorialsusingauth0withmultitenantapps Any of the above would work I can provide details if you dig into any one of them and need more "},
{"id": 11865, "question_id": 1186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-02T08:19:55Z", "scrap_date": "2024-05-01T00:28:25.153919", "content": "Would love to hear about the Route53 setup The thought of editing CF and pointing Route53 to it makes me have cold sweats since there will be a long delay and a poor UX right I was avoiding auth0 in favour of straight up Cognito but I guess it must have some convenience that I am seeking Thank you Matt"},
{"id": 11866, "question_id": 1186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:19:52Z", "scrap_date": "2024-05-01T00:28:25.153919", "content": "Hendry Do you have any specific reason for thinking that Route53 will result in a long delay and poor UX Want to make sure Im not missing anything My experience so far with this setup has my API calls responding on average 200ms with some exceptions around cold starts on the lambda functions Here is my best explanation hopefully someone will correct any mistakes I make in here Sorry its not more detailed Regarding Auth0 it was a lot easier to implement than I found for incognito Comes with out of the box login form though its bulky and big and with the JWT token the authorizer for your functions is about a dozen lines of code end executes incredibly fast Incognito you dont need an authorizer for but maintaining the user identities were not nearly as straight forward which to me was a greater concern given the ease of configuration for both Performance is more or less the same across the two IIRC but its been a while since I compared "},
{"id": 12942, "question_id": 1294, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-10T01:54:09Z", "scrap_date": "2024-05-01T00:28:26.169955", "content": "Heres what I ended up with some of the previous values were miscues from the AWS docs I was following "},
{"id": 13042, "question_id": 1304, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-11T01:40:40Z", "scrap_date": "2024-05-01T00:28:27.242232", "content": "Can you explain more about how youre testing locally My first though is that youre sending a JSON object in the body when testing locally which is different to what the browser will send when posting a form Have you tried sending first_nameBlablalast_nameOOOOOemailoooo40aaa com as the body with content type set to applicationxwwwformurlencoded "},
{"id": 6472, "question_id": 647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T13:51:31Z", "scrap_date": "2024-05-01T00:28:28.200825", "content": "Im having the same issue Documentation says when specifying the arn serverless tries to create only the permission but it seems to try to create the whole SNS topic "},
{"id": 6473, "question_id": 647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-09T23:25:31Z", "scrap_date": "2024-05-01T00:28:28.201826", "content": "not fixed in serverless 1 1 0 still getting the same error"},
{"id": 6474, "question_id": 647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T13:21:00Z", "scrap_date": "2024-05-01T00:28:28.201826", "content": "I had the same issue try"},
{"id": 6475, "question_id": 647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T09:48:29Z", "scrap_date": "2024-05-01T00:28:28.202825", "content": "Hello We still have the issue from the OP with the 1 4 0 and the following solution doesnt work either Any solutions Best Jean"},
{"id": 6476, "question_id": 647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T05:37:04Z", "scrap_date": "2024-05-01T00:28:28.202825", "content": "Hi all I was having this problem in the same day that I was able to update the stack numerous times I realised that I was doing the deploy in a new terminal which was using the latest Node version default for NVM was 7 0 0 so tried rolling back to Node version 4 3 2 and hey presto the deploy was working again So you may want to try a different version of NodeJS"},
{"id": 13172, "question_id": 1317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-13T21:51:01Z", "scrap_date": "2024-05-01T00:28:29.305468", "content": "What does your serverless yml look like Also is console log event in your function logging an object or a string Try console log typeof event to see"},
{"id": 13173, "question_id": 1317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T08:20:24Z", "scrap_date": "2024-05-01T00:28:29.306469", "content": "serverless yml looks something like this and event is an object"},
{"id": 11072, "question_id": 1107, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-12T22:52:15Z", "scrap_date": "2024-05-01T00:28:31.145381", "content": "This is planned see the issue Looking at the last few comments someone said they would work on CW Logs event just a couple of days ago Theres also an example plugin mentioned on this old issue but I cant vouch for it "},
{"id": 11182, "question_id": 1118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-15T09:37:24Z", "scrap_date": "2024-05-01T00:28:32.245253", "content": "DwollaDb and ActivitiesDb are appearing at the top level of your generated CFN template thats too damn high You want them to appear under the Resources heading in the template Under your resources in your serverless yml file you need to create a Resources heading and then put your tables under it I know it seems a bit strange to doubleresource them but whats happening in the background is that your serverless yml s resource object is being merged with the automatically generated CFN template which is why you need to specify this Doublecheck the resources documentation page for an example of what Im describing "},
{"id": 11183, "question_id": 1118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-15T14:04:10Z", "scrap_date": "2024-05-01T00:28:32.247264", "content": "Ah thank you rowanu after 2000 lines in two serverless yml files in a day I got a bit blind to it all Everything worked like a charm once you found the obvious error "},
{"id": 11042, "question_id": 1104, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-13T23:23:17Z", "scrap_date": "2024-05-01T00:28:33.345463", "content": "Just in case anybodys wondering I am just importing the jar locally at this point I suspect that the AWS console does something similar when it allows us to specify a S3 obbject for the source as an alternative to uploading it directly We have a jenkins job which builds the jar and exports it to S3 The jar is used by several lambdas each of which invokes a different entry point The job which builds the jar when successful triggers another job which invokes serverless to deployupdate the gateway coupled lambdas It starts out by importing the jar from s3 into its work space While I could probably write a python script to pull the gateway URLs I would rather not if theres an easier way to access that information As always I am grateful for any guidance offered "},
{"id": 11043, "question_id": 1104, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-15T00:48:08Z", "scrap_date": "2024-05-01T00:28:33.347464", "content": "Are you talking about the API Gateway endpoint URLs you get in an sls info command Im not sure what thats got to with S3 so I might not be understanding your question "},
{"id": 11044, "question_id": 1104, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-16T22:37:58Z", "scrap_date": "2024-05-01T00:28:33.348465", "content": "I was conflating a couple of totally different questions My bad Transferring my jar artifact from s3 to my build environment is not a big deal and I misunderstood how the deployment is packaged so I thought the deployment bucket was redundant I now understand that not to be the case I also did not know about sls info which your response clued me in to so I am grateful for that I will try to phrase my questions more articulately in the future thx s"},
{"id": 11282, "question_id": 1128, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-17T04:18:35Z", "scrap_date": "2024-05-01T00:28:34.358808", "content": "Furthermore I find that especially once deployed to production its VERY handy to have copies of the input event json to rerun recreate reproduce issues locally in development Short of developing this functionality everytime I write a lambda function could there be some trick I am missing If you want production to save copies of the input event for each request you can simply log the event to Cloud Watch Then you can copy the event from Cloud Watch to event json to test locally "},
{"id": 11283, "question_id": 1128, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-17T06:46:06Z", "scrap_date": "2024-05-01T00:28:34.359808", "content": "True thanks for the tip Though would be nice if there was some convenience function since copypastes can be fiddly Btw what about a debugging JS story"},
{"id": 10802, "question_id": 1080, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-12T19:18:00Z", "scrap_date": "2024-05-01T00:28:35.452621", "content": "Edit Found a plugin httpsgithub comsvdgraafserverlesspluginstagevariables I forked an existing plugin and added a PR to the original plugin to add stage variable support Pull request off original plugin httpsgithub compaulSambolinserverlessenableapilogspull4 Fork httpsgithub comcamhartserverlessenableapilogs From README md"},
{"id": 282, "question_id": 28, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-07-19T20:35:57Z", "scrap_date": "2024-05-01T00:28:36.585633", "content": "I have trailed the Apex framework but I havent used it in production Creating and deploying lambda functions with Apex was much easier than Serverless v0 5 However Serverless v1 0 simplifies that greatly The infrastructure management with Apex is done using Terraform Theres a lot missing with the AWS Terraform provider It was painful to use in my testing The Serverless Frameworks integration with CloudFormation is much easier especially in v1 0 The support for Golang through a nodejs shim is quite interesting I didnt try that myself but I like the idea "},
{"id": 283, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-20T14:32:43Z", "scrap_date": "2024-05-01T00:28:36.586633", "content": "Interesting Do you think we should support Go lang in Serverless"},
{"id": 284, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-20T20:31:02Z", "scrap_date": "2024-05-01T00:28:36.587633", "content": "If people ask for it Note that I am not asking for it I just found supporting languages that Lambda itself did not support an interesting idea If someone really wanted it they could probably create a plug for v1 0 that hooked into deploycreateDeploymentPackage to create a nodejs shim for golang "},
{"id": 285, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T06:07:11Z", "scrap_date": "2024-05-01T00:28:36.588634", "content": "Yes Were already testing some shim for Golang which works but is unfortunately not that super reliable Hopefully AWS will announce more languages a reInvent "},
{"id": 286, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T15:14:18Z", "scrap_date": "2024-05-01T00:28:36.588634", "content": "Yep the packaging hookplugin should make that easier "},
{"id": 287, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-20T08:12:11Z", "scrap_date": "2024-05-01T00:28:36.589628", "content": "Ive used Apex and its slick and minimalist It feels like it has less of a web focus and more of backend services focus I like that Serverless uses CloudFormation under the hood Apex only supports Terraform which Im less of a fan of for singlecloud application which is all of mine I get the impression that Golang support is one of the more highly requested languages for Lambda support so I wouldnt be surprised if AWS supports it natively in the near future "},
{"id": 288, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T20:39:58Z", "scrap_date": "2024-05-01T00:28:36.590634", "content": "Im using golang for my lambda functions and looking into how I can use serverless for this to deploy The only thing i need to figure out is how to get the framework to include my golang binary when it builds the zip file and upload it to lambda as a zip file and not as inline code Ive invested too much in go at this point to switch over to javascript My go binary is called via javascript child_process "},
{"id": 289, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T12:06:37Z", "scrap_date": "2024-05-01T00:28:36.591634", "content": "Hi Rowanall were you able to use both Apex and serverless together Did you or anyone find a way to use golang with serverless AWS will support it natively eventually but Ive heard it wont be announced at reinvent so might be a wee way off yet In the meantime would be good to know if anyone has managed to get this going at all Thanks for your help "},
{"id": 2810, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T19:08:43Z", "scrap_date": "2024-05-01T00:28:36.591634", "content": "ReInvent is only 3 weeks away I dont think using Apex and Serverless together is a good idea theyre both deployment frameworks so theres an overlap of functionality and concerns To make Serverless run Golang function today youd just need to point your functions handler to a shim function that calls the Golang binary e g Apexs shim is pretty simple and could be easily modified "},
{"id": 2811, "question_id": 28, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-18T11:34:44Z", "scrap_date": "2024-05-01T00:28:36.592635", "content": "For anyone interested Ive written a complete sample project demonstrating using serverless with awslambdagoshim which is a python shim Currently it works with sls invoke and API Gateway The code is here httpsgithub comyunspaceserverlessgolang and its inspired by cristim s proposal httpsgithub comserverlessserverlessissues2712 I saw some stats somewhere that Python has the fastest cold startup time but once warmed up Java is actually the most performant in serving responses My attempt here is to leverage the Python startup time but use Go for hopefully even better warmed up performance than Java "},
{"id": 11362, "question_id": 1136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-18T17:35:37Z", "scrap_date": "2024-05-01T00:28:37.389463", "content": "Nice work Very timely Do you want to add this to the examples repo httpsgithub comserverlessexamplesblobmastercommunityexamples json"},
{"id": 11322, "question_id": 1132, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-18T17:38:10Z", "scrap_date": "2024-05-01T00:28:38.338773", "content": "Check out httpsserverless comblogbuildingaserverlessscreenshotservicewithlambda Its an example of a lambda running a PhanomJS binary file via Node Serverless Screenshot Service Contribute to svdgraafserverlessscreenshot development by creating an account on GitHub "},
{"id": 11432, "question_id": 1143, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-18T22:25:48Z", "scrap_date": "2024-05-01T00:28:39.347780", "content": "Hey Duane Out of the box there is no support for this but you are in luck You can add or create plugins to alter the deploy step and transpile your coffeescript into ES5 Checkout httpsgithub comFidelLimitedserverlesspluginoptimize and httpsgithub comserverlessserverlessbabelplugin for plugin examples that are using Babel For additional examples on how plugins work see httpsgithub comserverlessplugins or the tutorial on our blog httpsserverless comblogwritingserverlessplugins"},
{"id": 11433, "question_id": 1143, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-19T02:00:57Z", "scrap_date": "2024-05-01T00:28:39.348780", "content": "Ok then theres one now its not fancy but it works httpswww npmjs compackageserverlesscoffeescript"},
{"id": 11434, "question_id": 1143, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-19T02:28:36Z", "scrap_date": "2024-05-01T00:28:39.349816", "content": "Great work Im sure the other coffeescripters with enjoy this Thanks for giving back to the community "},
{"id": 8772, "question_id": 877, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-12T01:57:22Z", "scrap_date": "2024-05-01T00:28:40.494980", "content": "I ran into this problem again had to downgrade to version 1 2 0 Anyone have an answer to the question Here is what the serverless cli responded with when I did sls deploy Serverless Creating Stack Serverless Checking Stack create progress CloudFormation CREATE_IN_PROGRESS AWSCloudFormationStack userservice CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_COMPLETE AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_COMPLETE AWSCloudFormationStack userservice Serverless Stack create finished Serverless Packaging service Serverless Uploading CloudFormation file to S3 Serverless Uploading service zip file to S3 6 8 MB Serverless Updating Stack Serverless Error Get Support Docs docs serverless com Bugs github comserverlessserverlessissues Your Environment Information OS linux Node Version 4 6 1 Serverless Version 1 3 0"},
{"id": 8773, "question_id": 877, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-19T22:50:49Z", "scrap_date": "2024-05-01T00:28:40.496982", "content": "I also have this problem A brief google yields this result httpdocs aws amazon comAWSCloudFormationlatestUserGuidecloudformationlimits html It looks like the cloudformation template serverless generates hits some sort of limit when the deployed environment gets big EDIT Further info serverless generates the Outputs section of the cftemplae to allow other cftemplates to reference these resources Im looking to see if serverless has a way of limiting or disabling this which is especially useful if you dont plan on exposing anything to other templates and want to build successfully "},
{"id": 8774, "question_id": 877, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-19T23:23:45Z", "scrap_date": "2024-05-01T00:28:40.497982", "content": "Okay looks like there isnt From looking at the code it seems like serverless will add two entries into the Outputs section of the cftemplate as part of the compileFunction and theres no settings check So in other words if you have more than 30 lambdas you will hit this error Im going to see what I can do about this"},
{"id": 8775, "question_id": 877, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-20T02:57:02Z", "scrap_date": "2024-05-01T00:28:40.498987", "content": "Our current solution is to replace the offending file with a copy but with the offending lines commented out"},
{"id": 11192, "question_id": 1119, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-01-16T05:36:11Z", "scrap_date": "2024-05-01T00:28:41.190666", "content": "hendry you can set a deletion policy when you create the table This will prevent it from being deleted when you remove your serverles project Note that if you do this and want to recreate a dev environment youll have delete the table manually after removal "},
{"id": 11193, "question_id": 1119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-16T06:34:32Z", "scrap_date": "2024-05-01T00:28:41.191666", "content": "Oh will it fail to create if it sees an existing table with the name it wants"},
{"id": 11194, "question_id": 1119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-16T07:08:25Z", "scrap_date": "2024-05-01T00:28:41.192666", "content": "Thats right hendry But it stops you deleting production data so its a win If you dont like that you could use Serverless Variables to only set it to Retain on production using Reference Variables in Javascript Files "},
{"id": 11195, "question_id": 1119, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T23:39:27Z", "scrap_date": "2024-05-01T00:28:41.193666", "content": "The other option is to manage your DDB Tables in a separate stack to your Serverless service This sounds like what you want You could even use Serverless for this separate stack just create a serverless yml without any function definitions and just use the resources section to define your DDB table all thanks to a PR from johncmckim "},
{"id": 1842, "question_id": 184, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:47:33Z", "scrap_date": "2024-05-01T00:28:42.262717", "content": "At the moment nobody in the core team is using Windows though we definitely want Serverless to run on Windows as well If you could raise those issues in the repo so we can fix them there that would be great "},
{"id": 1843, "question_id": 184, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-22T15:27:52Z", "scrap_date": "2024-05-01T00:28:42.263716", "content": "Have you been able to get this running on Windows I cloned the repository on Windows but get a different error test js was not expected Tried the same on my mac and there the npm test runs successfully after simply doing a clone and npm install Im using Windows 10 npm 3 10 9 Node 6 9 2 "},
{"id": 11112, "question_id": 1111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-19T18:23:44Z", "scrap_date": "2024-05-01T00:28:43.269181", "content": "I got it to work but Im not sure what it was particularly so Im outlining the top probabilities for you I added the following to my serverless yml file I changed the return execution in my handler js to invoke the context suceed method The issue was that API Gateway didnt like what Lambda was giving it which is odd because I began the project serverlessfirst so perhaps a step is missing in the documentation OR some specific documentation needs to be added to address this approach "},
{"id": 11113, "question_id": 1111, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-20T01:41:19Z", "scrap_date": "2024-05-01T00:28:43.271188", "content": "Hey Im not sure why youre using a response model with Lambda Proxy The whole point of Lambda Proxy Integration is that you return the status code headers and body that you want the API gateway to send back Rich"},
{"id": 11114, "question_id": 1111, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T01:02:44Z", "scrap_date": "2024-05-01T00:28:43.271188", "content": "I thought that was a necessity for API Gateway to conform to The 502 error I had been running into is not at all informative so Im not yet certain what can be trimmed to no effect Also I was outlining my path of resolution so the response model isnt actually active in my current working code Thanks for pointing that out as it would indeed be redundant and its final exclusion was not clearly mentioned in my posts "},
{"id": 11202, "question_id": 1120, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-21T23:36:46Z", "scrap_date": "2024-05-01T00:28:44.251614", "content": "As suggested by the error the DyanmoDBv2 property is not valid I think you should have just DyanmoDB i e no v2 needed as specified in the CFN docs "},
{"id": 11203, "question_id": 1120, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T10:28:48Z", "scrap_date": "2024-05-01T00:28:44.252614", "content": "Yep there is also DynamoDBv2 action but it seems that CFN does not support it yet DynamoDBv2 action"},
{"id": 11572, "question_id": 1157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T04:02:11Z", "scrap_date": "2024-05-01T00:28:44.907015", "content": "Hey Jesper seems like the handler file must be at the same location as the yml file Not true My serverless yml is in the root folder I then use src for my TypeScript source and dist for the output from the TypeScript compiler My serverless yml then sets the handler as distcardscards handler for example I exclude the src folder and types by using the following in my serverless yml I think you can fix your syntax errors by enclosing the patterns that start with a in quotes"},
{"id": 11573, "question_id": 1157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T04:20:08Z", "scrap_date": "2024-05-01T00:28:44.909016", "content": "Thank your help I will give this a try Edit yep wrapping the pattern in quotes fixes the syntax error "},
{"id": 10952, "question_id": 1095, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-10T23:14:27Z", "scrap_date": "2024-05-01T00:28:45.991886", "content": "Seems like a popular idea but I havent had a chance to do it myself This blog post details using Swagger JSON in CloudFormation which means it will be possible to do it in Serverless You might have to take advantage of the fact that Serverless merges the contents of the resources section with the generated CFN template Knowing that you could override the generated body field to inject your Swagger definition Im not sure of any caveats or gotchas but youd have be familiar with the generated names of resource e g functions etc to use in your Swagger If you do get it working please share "},
{"id": 10953, "question_id": 1095, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T00:00:59Z", "scrap_date": "2024-05-01T00:28:45.993886", "content": ""},
{"id": 10954, "question_id": 1095, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-11T01:28:05Z", "scrap_date": "2024-05-01T00:28:45.993886", "content": "While I think Swagger is cool it seems like another case of API GW doing things differentlyhaving multiple ways to do things e g stages It just doesnt seem to play well with the other AWS services but we obviously have no choice but use it My gut feel is that its still a bit early to integrate this kind of thing in to the Serverless core its still relatively new and people are still working out the best way to use and integrate it I think the usecases need to be better understood If anyone out there has good realworld examples or detailed plans where theyre using it and its working for them it would be great to see "},
{"id": 10955, "question_id": 1095, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-24T17:06:04Z", "scrap_date": "2024-05-01T00:28:45.994887", "content": "I would test to agree with what youre saying That does leave us with the question of how best to document APIs that we are deploying with Serverless Are there any good tools or plugins out there Ideally were looking for something that would allow the documentation to be embedded in the Serverless configuration andor the lambda functions "},
{"id": 9772, "question_id": 977, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T19:43:09Z", "scrap_date": "2024-05-01T00:28:47.943141", "content": "1 I have the same question It seems that serverless does not utilize the parameters section of Cloudformation templates allowing reusability This reusability gives operators Looks like there might be some means of just creating artifacts locally but then you need to build your own tooling to push to S3 manage S3 links between lambda ZIP code and templates Deploy your service to the specified provider"},
{"id": 9773, "question_id": 977, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-19T20:14:44Z", "scrap_date": "2024-05-01T00:28:47.944256", "content": "The newly introduced AWS SAM sort of supports this model of packaging and deploying as being two different steps giving the ability to deploy same package in multiple accounts andor regions With SAM In order to deploy your application the first step is to package it which creates the deployment zip uploads it to the S3 bucket that you specified and converts your original template to include the code uri that points to the deployment zip aws cloudformation package templatefile example yaml outputtemplatefile serverlessoutput yaml s3bucket s3bucketname You can then run the deploy as following aws cloudformation deploy templatefile serverlessoutput yaml stackname newstackname capabilities CAPABILITY_IAM Since the second command is normal cloudformation deploy we can use parameters with [parameteroverrides [ ]] It would be nice if Serverless supported the same as well "},
{"id": 9774, "question_id": 977, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T23:30:19Z", "scrap_date": "2024-05-01T00:28:47.946142", "content": "Weve been discussing these changes on this GH issue feel free to chime in "},
{"id": 9775, "question_id": 977, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-20T02:51:35Z", "scrap_date": "2024-05-01T00:28:47.946142", "content": "What would be best way to handle propagation of the same code to dev uat and prod environments Considering we could have different accounts per environment How do you ensure the same version goes to prod after you tested in uat Personally Id use version control i e git to handle this Just use tags and branches like you would with any other code base "},
{"id": 9692, "question_id": 969, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T23:24:27Z", "scrap_date": "2024-05-01T00:28:49.027870", "content": "Yep definitely a user permissions issue When creating the user you should select Attach existing policies directly When you see a list of policies filter them by AWS Managed Job Function and you should see AdministratorAccess as an option "},
{"id": 9693, "question_id": 969, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-22T01:33:16Z", "scrap_date": "2024-05-01T00:28:49.028870", "content": "Duh Thank you Amit"},
{"id": 9942, "question_id": 994, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-21T21:27:21Z", "scrap_date": "2024-05-01T00:28:50.216677", "content": "Of course CodeBuild is just a managed build server so you can do any build step you want "},
{"id": 9943, "question_id": 994, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T12:59:58Z", "scrap_date": "2024-05-01T00:28:50.217677", "content": "Thanks a lot"},
{"id": 9542, "question_id": 954, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-22T20:24:22Z", "scrap_date": "2024-05-01T00:28:51.025296", "content": "I have a clojurescript website that is hosted on aws using serverless My serverless deployment repo for the HTML is here and I build the css and app js here Welcome to serverless clojurian"},
{"id": 9862, "question_id": 986, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T00:48:29Z", "scrap_date": "2024-05-01T00:28:51.659234", "content": "Please try your plugin file to put the node_modules in your serverless project then define as follow"},
{"id": 9902, "question_id": 990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T00:38:51Z", "scrap_date": "2024-05-01T00:28:52.706723", "content": "Is it because the node_modules is in the top folder What is the best practice It works ok the node_modules is in the top folder There may be other causes I think the folder structure of multiple services looks like The following repository has examples of a serverless project I think that it is good to try it also here Serverless Examples A collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more G "},
{"id": 9903, "question_id": 990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-23T02:12:31Z", "scrap_date": "2024-05-01T00:28:52.708724", "content": "or is it better to put it into each individual services as we need to optimize the zipped file size to be uploaded to lambda"},
{"id": 9904, "question_id": 990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T02:26:42Z", "scrap_date": "2024-05-01T00:28:52.708724", "content": "or is it better to put it into each individual services as we need to optimize the zipped file size to be uploaded to lambda Yes I think so "},
{"id": 9702, "question_id": 970, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T04:20:29Z", "scrap_date": "2024-05-01T00:28:53.838567", "content": "I think the document is older Added the getProvider function as follow But the document has not been updated httpsgithub comserverlessserverlesscommitdf7692ac809ead5febe1f59645ad9c3c901dcd3adifff63d6ce6eb4e6337529123dd064ba480 I think that it is better to use the function to confirm existence of the provider "},
{"id": 9382, "question_id": 938, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T04:42:42Z", "scrap_date": "2024-05-01T00:28:54.868031", "content": "I think that it can not use with IAM EC 2 role as far as reading the document github com serverlessserverlessblobmasterdocsprovidersawsguidecredentials md title Serverless Framework AWS Lambda Guide Credentials menuText Credentials menuOrder 3 description How to set up the Serverless Framework with your Amazon Web Services credentials layout Doc DOCSSITELINKSTART automatically generated [Read this on the main serverless docs site] httpswww serverless comframeworkdocsprovidersawsguidecredentials DOCSSITELINKEND AWS Credentials The Serverless Framework needs access to your cloud providers account so that it can create and manage resources on your behalf This guide is for the Amazon Web Services AWS provider so we will step through the process of setting up credential for AWS and using them with Serverless [Watch the video on setting up credentials] httpswww youtube comwatchvHSd9uYj2LJA This file has been truncated show original"},
{"id": 9522, "question_id": 952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T01:08:48Z", "scrap_date": "2024-05-01T00:28:55.914961", "content": "Does that error occur every time Maybe it looks like to fail remove S3 deployment bucket Is there any deficiency in IAM permission setting of aws If IAM permission is OK please show me contents of serverless yml"},
{"id": 9523, "question_id": 952, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T05:26:33Z", "scrap_date": "2024-05-01T00:28:55.915961", "content": "its always happen after i use command remove on serverless supposed to be IAM permission its not problem because i give full access on this account what if i delete the bucket on s3 that used by serverless is i cant never deploy the lambda function with the same name ever again serverless yml content is"},
{"id": 10012, "question_id": 1001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T18:18:23Z", "scrap_date": "2024-05-01T00:28:57.046578", "content": "what do you mean by create"},
{"id": 10013, "question_id": 1001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T18:21:47Z", "scrap_date": "2024-05-01T00:28:57.047578", "content": "I want something like this picture"},
{"id": 10014, "question_id": 1001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T18:35:11Z", "scrap_date": "2024-05-01T00:28:57.048579", "content": "Got it Unfortunately I dont know the answer to that sorry "},
{"id": 10015, "question_id": 1001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T18:36:24Z", "scrap_date": "2024-05-01T00:28:57.048579", "content": "Thanks anyway I intend to use these parameters to export the Swagger documentation from API Gateway"},
{"id": 10016, "question_id": 1001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-22T19:09:59Z", "scrap_date": "2024-05-01T00:28:57.049579", "content": "if its just to document your endpoints then maybe this plugin is interesting for you httpsgithub comandrewcuriosoramlserverless never tried it myself raml is not swagger sure but I think there are converters out there also the plugin isnt doing exactly what you need but at least it allows you to add some description to your endpoints"},
{"id": 10017, "question_id": 1001, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T17:21:39Z", "scrap_date": "2024-05-01T00:28:57.050633", "content": "fsantana Just saw this httpsgithub comserverlessserverlessissues2990 So it seems to be a bug that you cannot set it right now "},
{"id": 9622, "question_id": 962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T00:54:11Z", "scrap_date": "2024-05-01T00:28:58.069050", "content": "Is there any error log in CloudWatchLogs"},
{"id": 9623, "question_id": 962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-24T21:47:34Z", "scrap_date": "2024-05-01T00:28:58.070050", "content": "Turns out I forget to set the get method in the jQuery Now it runs as expected "},
{"id": 9442, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T04:25:23Z", "scrap_date": "2024-05-01T00:28:59.092903", "content": "Do you know the details of the error Please check to use sls logs serverless Serverless Framework Commands AWS Lambda Logs View logs of your AWS Lambda Function within your terminal using the Serverless Framework"},
{"id": 9443, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T04:46:20Z", "scrap_date": "2024-05-01T00:28:59.093903", "content": "Hello Thanks for the response This is what I see with the logs START RequestId 6f011cb6c21e11e6858fffc651c7ddfb Version LATEST END RequestId 6f011cb6c21e11e6858fffc651c7ddfb REPORT RequestId 6f011cb6c21e11e6858fffc651c7ddfb Duration 0 46 ms Billed Duration 100 ms Memory Size 1024 MB Max Memory Used 16 MB But when I try to verify the webhook from FB I get to see this response The URL couldnt be validated Callback verification failed with the following errors HTTP Status Code 502 HTTP Message Bad Gateway Any suggestions as to what I should dolook for Thanks again for responding "},
{"id": 9444, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T05:38:49Z", "scrap_date": "2024-05-01T00:28:59.094903", "content": "Hmmmm It seems that nothing remains in the log HTTP Status Code 502 HTTP Message Bad Gateway When is this error returning Is it when you accessed the API Gateway URL Can I get a screen shot of the error And please give me as follow"},
{"id": 9445, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T10:40:51Z", "scrap_date": "2024-05-01T00:28:59.095903", "content": "Hi Seems like 1 step forward and 2 back I had deleted the lambda function and APIs last week I am trying to deploy again But my deployment itself is failing My serverless yml is as follows service gitaquote provider name aws runtime nodejs4 3 region uswest2 functions webhook handler handler webhook Source code of handler js is as follows use strict Your first function handler module exports webhook event context callback if event method GET facebook app verification if event query[hub verify_token] STRONGXXTOKEN event query[hub challenge] return callback null parseInt event query[hub challenge] else return callback Invalid token "},
{"id": 9446, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-23T10:42:37Z", "scrap_date": "2024-05-01T00:28:59.097904", "content": "I am following this tutorial httpsserverless comblogbuildingafacebookmessengerchatbotwithserverless and unable to attach files since this site is not allowing me to upload files with other than jpg png option thanks"},
{"id": 9447, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-26T12:54:03Z", "scrap_date": "2024-05-01T00:28:59.097904", "content": "I think Integrationlambda is missing in serverless yml The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more By default the Framework uses the lambdaproxy method When you use lambdaproxy method the Lambda function does not work Please write Integrationlambda and try again "},
{"id": 9448, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-26T13:34:11Z", "scrap_date": "2024-05-01T00:28:59.098904", "content": "Thanks a lot for help I am still not getting the API endpoints See the attached screenshot I have added Integration lambda to the yml"},
{"id": 9449, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-26T18:53:20Z", "scrap_date": "2024-05-01T00:28:59.099905", "content": "I think Indentation in serverless yml is incorrect Just tested on my side and succeeded My serverless yml as follow"},
{"id": 94410, "question_id": 944, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T02:41:40Z", "scrap_date": "2024-05-01T00:28:59.099905", "content": "Hello Are there any rules with regards to spaces vs tabs in indentation That apart a new issue now I am using the same yml that you sent I deleted all the buckets manually as well as the lambda functions I see that you mentioned that this got to do with permissions in another thread but that cant be the case oh dear this is turning out to be a long thread "},
{"id": 94411, "question_id": 944, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-27T09:05:34Z", "scrap_date": "2024-05-01T00:28:59.100905", "content": "Are there any rules with regards to spaces vs tabs in indentation I dont know I use only spaces I deleted all the buckets manually as well as the lambda functions That is the cause Update Stack failed because manually deleted S3 bucket Do you know the CloudFormarion stack operated by Serverless You should delete the CF Stack on AWS Manangemant console then retry sls deploy again As another method will execute sls deploy with another stage name or region specified "},
{"id": 94412, "question_id": 944, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-27T12:19:53Z", "scrap_date": "2024-05-01T00:28:59.101905", "content": "Hi Thanks a lot for your help I now have a working version deployed on my FB page httpswww facebook comgitainmyhw I have just purchased a copy of AWS lambda in action hoping to cover the gaps in knowledge The Serverless Framework is a breeze Looking forward to building and deploying apps in the near future and thanks once again for the help Best"},
{"id": 10102, "question_id": 1010, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T07:59:06Z", "scrap_date": "2024-05-01T00:28:59.895953", "content": "Its coming watch this issue looks like it should be in the next release v1 5 0 "},
{"id": 10103, "question_id": 1010, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T08:03:14Z", "scrap_date": "2024-05-01T00:28:59.896954", "content": "Thanks for the update Any other workaround until then "},
{"id": 10104, "question_id": 1010, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T21:49:39Z", "scrap_date": "2024-05-01T00:28:59.897954", "content": "You could checkout the branch and run that as your version of Serverless locally "},
{"id": 9282, "question_id": 928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-28T02:51:57Z", "scrap_date": "2024-05-01T00:29:00.722141", "content": "This might help httpskennbrodhagen net20160309howtoreturnacustomerrorobjectandstatuscodefromapigatewaywithlambda Its been a while since I watched it but I seem to remember he had a solution "},
{"id": 10202, "question_id": 1020, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-28T19:51:33Z", "scrap_date": "2024-05-01T00:29:01.866892", "content": "You are mixing lambda and lambdaproxy serverless Serverless Framework AWS Lambda Events API Gateway Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework Short answer remove integration and request from serverless yml"},
{"id": 10203, "question_id": 1020, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-28T19:55:51Z", "scrap_date": "2024-05-01T00:29:01.867892", "content": "ah so is there anyway to access the query params or headers with lambda proxy never mind I see the event has a body param and I can access query params from there"},
{"id": 4512, "question_id": 451, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-05T06:49:38Z", "scrap_date": "2024-05-01T00:29:02.933651", "content": "Hi mpradilla Try puting sitepackages on your path If this doesnt resolve it let me know "},
{"id": 4513, "question_id": 451, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T14:46:43Z", "scrap_date": "2024-05-01T00:29:02.934651", "content": "Thanks for your response el0ck I did what you suggested with some minor differences moving installed packages to lib and ignoring venv and it worked This way the dependencies can be loaded Now I am facing a more complicated issue related with the compilation of the external dependencies This issue The solution for this kind of troubles made me doubt completely from the approach to solve my problem Probably I don t need a lambda function but a compute engine instance to perform my job This way I am also free of the troubles of having a different development and deploy environment with lambda Thank you again for your time This is something definitely needs to be included in the Hello world of serverless awspython template "},
{"id": 4514, "question_id": 451, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-06T02:09:59Z", "scrap_date": "2024-05-01T00:29:02.936653", "content": "Dont give up mpradilla This is completely achievable on lambda It is not necessary to manually zip your package first Let me describe the way I use lambda to run python code with external python modules that leverage precompiled libraries Firstly when serverless zips your lambda it follows symlinks As such one can symlink the virtual environments sitepackages into the function directory That way it doesnt clutter the lib directory which can be used solely for your precompiled libraries In your case numpys multiarray so For local testing you run the code OUTSIDE your virtual environment to ensure the manual imports below are working As you have found the lambda execution environment is a linux 64 bit architecture You are not developing on this so your multiarray so is different hence your invalid ELF header error You problem is solved by developing on a linux64 machine Thus when you install scikitlearn and its dependency numpy you will get the shared object files that can be used by lambda It is worth noting for other readers that this error may report in cloudwatch logs as simply an ImportError ImportError No module named numpy So far you know all this however at some point you may run into the followin case Sometimes you may require libraries from other directories that are on your local LD_LIBRARY_PATH but dont get zipped up with the lambda function I have lambda code that requires the intel math kernel libraries Here are my problems I need to include only the libraries I need not entire lib directories The directory where I put the libraries must already be on the LD_LIBRARY_PATH when my lambda starts This restricts the directory to the lib beside my handler I run the function in the lambda execution environment and cherry pick the libraries as they error out and add them to lib thus ensuring I have the bare minimum libraries I need Now that this is in the service repository I can continue to develop on my mac because the linux64 binaries are deployed "},
{"id": 4515, "question_id": 451, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-29T13:07:04Z", "scrap_date": "2024-05-01T00:29:02.939653", "content": "How do you do the cherry picking of the libraries"},
{"id": 8282, "question_id": 828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-25T00:08:25Z", "scrap_date": "2024-05-01T00:29:04.929750", "content": "For anyone that feels they need to see the authenticate module here it is Note I have validated that all the require statements are represented in node_modules or locally in lib from the AWS Lambda download that I took to investigate"},
{"id": 8283, "question_id": 828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-25T00:18:02Z", "scrap_date": "2024-05-01T00:29:04.930750", "content": "I have now rolled back to 1 1 0 and the same error is occurring Im at a complete loss why my full rollback is no longer working "},
{"id": 8284, "question_id": 828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-25T09:09:35Z", "scrap_date": "2024-05-01T00:29:04.931750", "content": "Im closing this because I found that in the eagerness to reduce file size I had removed a package from package json which was still being referenced Well actually I guess there is no way to close this but please consider it closed "},
{"id": 8202, "question_id": 820, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-23T15:57:27Z", "scrap_date": "2024-05-01T00:29:06.041010", "content": "I figured it out finally You must do a first deploy of your service WITH the EC2 iamRoleStatements but WITHOUT the VPC key Once the deployed has ended then you can add the VPC info to your serverless yml and make a new deploy Is possible to fix this "},
{"id": 8203, "question_id": 820, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-24T22:51:04Z", "scrap_date": "2024-05-01T00:29:06.042010", "content": "Does it work if you do it in that order I ended up with a separate script that created the user as a once off and then just reference that role in serverless yml iamRoleARN arnawsiamXXXXXXXXroleMyLambdaVpcExecutionRole I think if your way works its less moving parts though so Id rather do that "},
{"id": 8204, "question_id": 820, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-25T12:02:55Z", "scrap_date": "2024-05-01T00:29:06.043010", "content": "Yep my solution works "},
{"id": 8205, "question_id": 820, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-26T05:15:07Z", "scrap_date": "2024-05-01T00:29:06.044010", "content": "Youll find this mentioned a few times in some issues in GitHub Check our PR 2127 I think thats where the work is being done to fix it "},
{"id": 8082, "question_id": 808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-22T22:51:16Z", "scrap_date": "2024-05-01T00:29:06.984969", "content": "Have you also updated your service definition to include the relevant packaging options Because Serverless works with many languages it doesnt currently automatically workout languagespecific dependencies packages etc It will be a difficult problem to solve consistently especially if when more languages are supported Once you specify individually true in your serverless yml and the various specific includesexcludes for your funciton I think your targeted deploy command will work as you expect As I havent personally tested it with Java please report back and let us know if it does or doesnt work "},
{"id": 8083, "question_id": 808, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-26T21:00:33Z", "scrap_date": "2024-05-01T00:29:06.986970", "content": "Hi thanks for quick reply It worked when I moved the artefact property to function definition rather than global and set individually to true So this is working But I was expecting this to work as well which isnt I dont want to define the package in each of my function definitions But I would still love to deploy individual function from my local in the development phase "},
{"id": 8462, "question_id": 846, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-28T22:00:18Z", "scrap_date": "2024-05-01T00:29:07.634065", "content": "samredway It looks like youre trying to use the same table name in different stages You need to use different tables names My serverless yml looks like I then use process env SHOPS_TABLE inside my code so that it always references the correct table for that stage If you dont want to follow a naming scheme like that for production then look at perstage environment variables This would allow you to use EvChargePointTable on production but selfservice EvChargePointTable selfcustom stage in other stages The other option is to use different AWS accounts for each stage which is also a good idea Just remember that it will only work until you need to deploy S3 buckets that need to be globally unique "},
{"id": 8463, "question_id": 846, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-29T12:01:42Z", "scrap_date": "2024-05-01T00:29:07.636065", "content": "This makes sense I was realising that I would probably have to do something like this so thanks for the guidance on how to implement I have am considering a strategy of running a test database locally for development each dev on the project will then have there own dev DB and only using staging for production and potentially a second database for use by Jenkins for automated end to end tests which would have to be set up something like you suggest NOTE TO SERVERLESS DEVS may be an idea to enable different databases on different stages by adding a pre or post fix to the database name e g MyDatabaseproduction and MyDatabasetesting"},
{"id": 3302, "question_id": 330, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T22:54:14Z", "scrap_date": "2024-05-01T00:29:08.194905", "content": "If you want to get the benefit of packaging your functions individually youll need to set up perfunctions include exclude settings in the function definitions e g adapted from the docs "},
{"id": 3303, "question_id": 330, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-15T00:19:33Z", "scrap_date": "2024-05-01T00:29:08.195906", "content": "so I have to manually define all includes an excludes per function to prevent serverless from deploying the same package for every function"},
{"id": 3304, "question_id": 330, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-15T09:15:07Z", "scrap_date": "2024-05-01T00:29:08.196906", "content": "Yes at the moment you do if you want to control the size of your functions deployment Serverless supports all the runtimes that Lambda supports and so currently doesnt know at a code level what your individual functions require to be packaged with them to work given the different methods of importing and managing dependencies its going to be nontrivial problem to solve programatically Having the ability to define includes yourself means you can include noncode related assets e g data files if you wish "},
{"id": 3305, "question_id": 330, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-06T07:50:06Z", "scrap_date": "2024-05-01T00:29:08.197907", "content": "Hi You may exclude all globally and then include what you want in every function "},
{"id": 8632, "question_id": 863, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-01T22:03:18Z", "scrap_date": "2024-05-01T00:29:09.236390", "content": "One best practice is to use different AWS accounts for each stage If you dont it can get messy very quickly Previously youve been able to link these accounts for billing purposes and AWS Organizations will make that easier "},
{"id": 8633, "question_id": 863, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-06T10:46:35Z", "scrap_date": "2024-05-01T00:29:09.237390", "content": "I dont know if its best practice but Ive got"},
{"id": 8882, "question_id": 888, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-06T21:33:34Z", "scrap_date": "2024-05-01T00:29:10.054173", "content": "Just a bit of additional information here We have common perenvironment network stacks From these we make the subnet IDs and VPC ID available as stack outputs Some of the lambda functions we use require the ability to connect to our internal network and hence require the subnet IDs My biggest concern here is that Serverless offer a way to be able to cleanly read outputs from these existing stacks I can definitely see the making this work via either The 2nd option seems preferable and not too difficult assuming I can grok building a serverless plugin My question is Is there a more obvious idiomatic way to do this in Serverless that Im missing"},
{"id": 8912, "question_id": 891, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-07T05:57:18Z", "scrap_date": "2024-05-01T00:29:10.951380", "content": "Update v0 2 0 Now with unit tests readme badges and autopopulation of baseUri if your project has been deployed to CloudFront "},
{"id": 272, "question_id": 27, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-20T16:54:06Z", "scrap_date": "2024-05-01T00:29:11.806256", "content": "Im getting errors on deploy and it suggests For debugging logs run again after setting SLS_DEBUG env var But docs dont say how that should be set or where to find logs"},
{"id": 273, "question_id": 27, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2016-07-20T20:25:12Z", "scrap_date": "2024-05-01T00:29:11.807256", "content": "Please add dates to the blog For example the word Today doesnt have meaning Today were proud to announce the release of Serverless V1 0alpha2"},
{"id": 274, "question_id": 27, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-21T06:09:29Z", "scrap_date": "2024-05-01T00:29:11.808256", "content": "Good feedback so far Would you love to have more guides which will show you how you can build applications but wont go into depth or more isolated documentation about a specific functionality with all its features"},
{"id": 275, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T08:03:26Z", "scrap_date": "2024-05-01T00:29:11.809257", "content": "Youre totally right Thats what I had in mind as well Our blog is pretty minimal at this point and well add much more features in the future were discussing maybe moving to Medium "},
{"id": 276, "question_id": 27, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-21T14:39:43Z", "scrap_date": "2024-05-01T00:29:11.810257", "content": "Id love to see some info on the context vs the callback For instance the difference between returning the callback or calling context done Examples of code in general is appreciated like handling POST and query parameters "},
{"id": 277, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T14:57:18Z", "scrap_date": "2024-05-01T00:29:11.810257", "content": "Im seeing my own issues here sometimes its tough to see where serverless docs stop and AWS lambda docs begin I have questions in AWS land httpdocs aws amazon comlambdalatestdgprogrammingmodelv2 html"},
{"id": 278, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T15:13:18Z", "scrap_date": "2024-05-01T00:29:11.811251", "content": "What you think about AWS docs Do you think we should cover some guides about using Lambda so that you wouldnt need to get back to AWS docs Were currently relying on the users ability to get through AWS docs "},
{"id": 279, "question_id": 27, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-07-21T16:04:49Z", "scrap_date": "2024-05-01T00:29:11.812258", "content": "TBH their docs are OK but you probably dont need to repeat their stuff it would be good to at least reference it There are a lot of metas to wade through in the serverless landscape just pointing to the AWS docs to say learn about the function structure here would be really useful "},
{"id": 2710, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T18:34:45Z", "scrap_date": "2024-05-01T00:29:11.812258", "content": "Regarding v0 5 related docs In Event Sources Configurations there is a sample for CloudFormation Schedule Event Source However it does not mention about the how to pass an input in the config I have sent a documentation update with a sample Related source line httpsgithub comserverlessserverlessblobbf2810a7592ee593881b07842a661610a2908062libactionsEventLambdaSchedule jsL111"},
{"id": 2711, "question_id": 27, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-22T05:37:25Z", "scrap_date": "2024-05-01T00:29:11.813258", "content": "agreed for sure Theyre already covering a lot of stuff Im thinking maybe we could just offer some tuts or guides on how to do specific AWS things on Serverless"},
{"id": 2712, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-27T21:32:39Z", "scrap_date": "2024-05-01T00:29:11.814258", "content": "1 for tutorials and guides I think thats more important initially and replicating the docs would be a waste Tutorials and guides that link to AWS docs allow developers to learn concepts and then dive deeper into the AWS docs once theyve gotten started The AWS docs are dense They contain a lot of information and are hard to understand initially Though once you have your head around the concepts the docs become extremely helpful The same will apply with Azure Google Cloud functions ect "},
{"id": 2713, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-05T02:41:04Z", "scrap_date": "2024-05-01T00:29:11.815259", "content": "As someone who only arrived at the project today I am very excited to use serverless but I appear to have found it in a state of transition The website has what appear to be v0 5 instructions and the repo has 1 0beta instructions but no details about whats been deprecated For instance the concept of being able to generate a project appears to have been deprecated in favor of a every service is a template model I never read that I just had to piece it together from the two sets of docs and a few error messages when create project didnt work What would be really helpful is a few details on how we should be structuring and initializing services especially ones that are designed to work together In the previous version it seemed clear that if I wanted to create a REST API project which I do and wanted each of my endpoints to be a service I could create a folder structure within my project and deploy updates to each piece as needed or the project as a whole Now if I want to create my REST API do I use nested folders Do I make individual templatesrepos for each possible endpoint called modelNameCreate modelNameUpdate etc Should I be running npm init myself or did I miss a step What should my gitignore look like so I dont accidentally deploy generated files that are only relevant to serverless Here the v1 docs dont offer any guidance And since the previous docs are still prominent on your website its a little confusing for a newbie trying to make their first baby steps which direction to go That all said Im really excited about the project and can guess that some of the above is slated to be resolved in beta 2 Just wanted to let you know what the experience was of someone coming to it cold "},
{"id": 2714, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-05T02:59:52Z", "scrap_date": "2024-05-01T00:29:11.817259", "content": "Would be good to get some v1 examples and recommendations of file structureboilerplate for more advanced real world projects with multiple services or does everything live under one service multiple functions endpoints methods per endpoint node modules shared logiclibs binaries etc "},
{"id": 2715, "question_id": 27, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-05T11:55:51Z", "scrap_date": "2024-05-01T00:29:11.818259", "content": "I would second what dehuszar is saying I have also arrived at serverless in the last couple of days and its been a little bit confusing figuring out which docs to follow Now that Ive got that sorted installed the latest beta and deployed my first service I want to delve deeper and build some more complex stuff A few tutorialsbest practices for the layoutstructure of a service would really help with that Maybe some common use cases eg CRUD using dynamoDB or SNS messaging would be a good place to start There seems to be lots of good stuff happening here which is awesome and Im excited to see where this project goes"},
{"id": 2716, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-15T20:52:07Z", "scrap_date": "2024-05-01T00:29:11.820260", "content": "I would like to 3rd what dehuszar and pointless_cog I started working on the project this past weekend and had trouble finding the docs that matched V1 The examples did not match up to what I was seeing I would suggest having a toplevel docs that branch off to respective versions 5 and V1 Also I received a weird subscription error from AWS when I attempted to deploy not subscribed to service I ended up creating a new account still received it When I used SLS Logging the logs were ambiguous I know its but it would be helpful to answer some of the issues that we may encounter when attempting to use the serverless functionality Just some suggestions"},
{"id": 2717, "question_id": 27, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-16T12:06:16Z", "scrap_date": "2024-05-01T00:29:11.821255", "content": "A good sample project like the boilerplates in v0 5 would be great As mentioned by others before this is what is a bit confusing at the moment All of this could be answered with a slightly more advanced template than the existing one Great stuff though I really love the way this project is going and I have to say that contrary to a lot of open source projects this one feels really welcoming So well done getting the community going and creating such a good atmosphere"},
{"id": 2718, "question_id": 27, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-08-16T15:31:41Z", "scrap_date": "2024-05-01T00:29:11.822255", "content": "Just starting with v1 I have some experience with 0 5 and trying to figure out all the changes Given the ongoing development of v1 its been quite a challenge to get all the informations I was looking for from the documentation The new structure of Serverless is neat yet until you figured it out it is quite difficult to understand where to look for the informations you need especially in GitHub I think a couple of things would have speed up my discovery For more help here is what I tried to do I decided to go full serverless for a new project Ill be starting soon I wanted to know in no particular orderimportance I managed to answer almost all those questions myself but it took me the best part of a day and quite some digging Hope it helps "},
{"id": 2719, "question_id": 27, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-08-18T05:26:25Z", "scrap_date": "2024-05-01T00:29:11.823256", "content": "Id love to see a v0 vs v1 section in the documentation to help better transition over In its current state theres on easy way to migrate over because the v1 docs arent complete and theres a significant difference between both versions that its not as intuitive as might be assumed "},
{"id": 2720, "question_id": 27, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-21T14:04:00Z", "scrap_date": "2024-05-01T00:29:11.824256", "content": "A simple real world sample with a CRUD in mysql for example with more than one function "},
{"id": 8032, "question_id": 803, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-22T15:54:43Z", "scrap_date": "2024-05-01T00:29:12.857698", "content": "Ive been looking at AWS SAM all day and it is strikingly similar to the Serverless Frameworks core functionality the YAML could be mistaken for serverless yml and it can all be done with the standard AWS CLI in Jenkins Its the first time I have played with the environment variables too which is nice However the feedback loop leaves a lot to be desired its not so informative for deployments and lacks the useful CLI create function that saves time Also seems to lack plugin capability which is useful to enforce security guidelines development standards and custom deployment steps Im interested in what the guys at Serverless Inc think to this maybe they knew this was coming "},
{"id": 8033, "question_id": 803, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-09T05:53:11Z", "scrap_date": "2024-05-01T00:29:12.859699", "content": "The guys response in youtube livechat httpswww youtube comwatchvIoW_IcvRTGMt4m32s Theres also a github discussion related to SAM support httpsgithub comserverlessserverlessissues2867"},
{"id": 9192, "question_id": 919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-11T19:05:54Z", "scrap_date": "2024-05-01T00:29:13.692205", "content": "You could make the Resource or just the region part of it a variable I cant recall off the top of my head if you can put Serverless Variables in an external file that you load you can definitely do it by moving your policy in to your serverless yml and doing something like env optstage _resource "},
{"id": 9193, "question_id": 919, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-12T00:23:35Z", "scrap_date": "2024-05-01T00:29:13.693205", "content": "You can use Serverless variable inside external files the YAML files at least Ive done it using external YAML files to define environment variables Id convert it to a YAML file then use selfprovider region inside your definition This is untested but should work Resource arnawscognitoidentity selfprovider region 222222222222"},
{"id": 9194, "question_id": 919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-12T23:10:07Z", "scrap_date": "2024-05-01T00:29:13.694205", "content": "Same solution here Variables interpolated into the resource names "},
{"id": 9312, "question_id": 931, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-13T15:39:01Z", "scrap_date": "2024-05-01T00:29:14.464373", "content": "Maybe the feature will support in version 1 4 0 httpsgithub comserverlessserverlessissues2721 I dont know why it is already documented "},
{"id": 8712, "question_id": 871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-03T06:24:37Z", "scrap_date": "2024-05-01T00:29:15.175604", "content": "how are you defining a custom role"},
{"id": 8713, "question_id": 871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-03T23:22:09Z", "scrap_date": "2024-05-01T00:29:15.175604", "content": "Hi The custom role is defined in resources section of serverless xml Here is the extract"},
{"id": 8714, "question_id": 871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-04T00:49:52Z", "scrap_date": "2024-05-01T00:29:15.176604", "content": "I have updated the serverless version from 1 1 0 to 1 3 0 and no longer seeing the reported error However i do see a new error"},
{"id": 8715, "question_id": 871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-13T16:08:31Z", "scrap_date": "2024-05-01T00:29:15.177605", "content": "Please help me on the issue reported"},
{"id": 8716, "question_id": 871, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-13T21:13:40Z", "scrap_date": "2024-05-01T00:29:15.177605", "content": "Theres something wrong with your template have you checked it with sls deploy noDeploy and looking at the serverlesscloudformationtemplateupdatestack json file"},
{"id": 8822, "question_id": 882, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T01:52:21Z", "scrap_date": "2024-05-01T00:29:16.308707", "content": "Unfortunately you cant do what youre planning to do as part of Serverless Stages are only really supported by API GW so its a bit hard to make the idea stick over all the actions Serverless performs e g S3 and CFN dont have the concept of stages "},
{"id": 8792, "question_id": 879, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T01:56:01Z", "scrap_date": "2024-05-01T00:29:17.429735", "content": "I cant see an issue for this in the projects GitHub maybe raise a feature request Given the throttle settings are supported in CFN this shouldnt be too hard to implement "},
{"id": 8542, "question_id": 854, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T02:09:28Z", "scrap_date": "2024-05-01T00:29:18.313583", "content": "The Resources section of your services serverless yml is just CloudFormation so you can manage anything CFN can like KMS Keys I think the policy property in that resource definition is what you want "},
{"id": 7332, "question_id": 733, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T19:09:42Z", "scrap_date": "2024-05-01T00:29:20.251803", "content": "Thats what query and scan are for "},
{"id": 7333, "question_id": 733, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-08T00:21:19Z", "scrap_date": "2024-05-01T00:29:20.252803", "content": "There is a getBatch operation in dynamo Give it a try It is the efficient approach than iterating get multiple times "},
{"id": 7282, "question_id": 728, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-06T22:10:50Z", "scrap_date": "2024-05-01T00:29:21.231068", "content": "What languageruntime are you using In NodeJS the context callbackWaitsForEmptyEventLoop property defaults to true so that Lambda will wait up until the functions configured timeout value for outstanding callbacks to return Im not sure about other runtimes "},
{"id": 7283, "question_id": 728, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T11:03:44Z", "scrap_date": "2024-05-01T00:29:21.232069", "content": "jdheeter are you asking how to set the timeout for a Lambda function Theres a timeout property you can set for the function in serverless yml It doesnt seem to be in the documentation but checkout out the source "},
{"id": 7284, "question_id": 728, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-08T02:38:13Z", "scrap_date": "2024-05-01T00:29:21.232069", "content": "Thanks for the clarification "},
{"id": 7302, "question_id": 730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T10:00:14Z", "scrap_date": "2024-05-01T00:29:22.301554", "content": "Not really answering your question but I simply changed to pure javascript bcryp library Using native libs is pain in the ass "},
{"id": 7303, "question_id": 730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T11:53:57Z", "scrap_date": "2024-05-01T00:29:22.302554", "content": "Thanks for your answer if youre talking about bcrypt js I have tested it and it is very very slow Anyway the issue will exist with other libraries"},
{"id": 7304, "question_id": 730, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-07T19:12:34Z", "scrap_date": "2024-05-01T00:29:22.303549", "content": "No Serverless does not compile native libs for you its polyglot by default so supporting all the various runtimes compilations is nontrivial AWS just released an official AWS Linux container to help address usecases like yours With it you can compile native libraries consistently without using a development machine "},
{"id": 7305, "question_id": 730, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-08T09:31:30Z", "scrap_date": "2024-05-01T00:29:22.304549", "content": "ho great news I did not know thank you"},
{"id": 3322, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T15:06:24Z", "scrap_date": "2024-05-01T00:29:23.279359", "content": "Hey slank have you settled on a solution for this Ive landed on returning custom exceptions and too want that stack trace gone Ive found this PR httpsgithub comserverlessserverlesspull2014 which I think will solve what were after but its not merged yet "},
{"id": 3323, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T16:10:20Z", "scrap_date": "2024-05-01T00:29:23.281358", "content": "No I didnt find a solution Once AWS released Simple Proxy I developed a WSGI adapter for it and never looked back "},
{"id": 3324, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T15:32:56Z", "scrap_date": "2024-05-01T00:29:23.281849", "content": "Custom Status code will be merged soonish but yeah going with the Proxy is definitely a good idea "},
{"id": 3325, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-25T14:29:29Z", "scrap_date": "2024-05-01T00:29:23.281849", "content": "Hey slank and flomotlik thanks for this Im curious as to how you catch these errors and format their response One thing I really liked about the original Lambda integration was that if an error raised anywhere the errortype and message were pushed out to the requester The Proxy integration seems to offer only Process exited before completing request I liked the idea of regex matching a 403 for example in an error message then formatting it with some meaning Thoughts"},
{"id": 3326, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-25T16:04:26Z", "scrap_date": "2024-05-01T00:29:23.282853", "content": "Is it via a strategy like this httpflask pocoo orgdocs0 11patternsapierrors"},
{"id": 3327, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-25T23:58:55Z", "scrap_date": "2024-05-01T00:29:23.283853", "content": "1 Im interested in configure my own error responses as something more standard and especially to avoid the stack trace For example"},
{"id": 3328, "question_id": 332, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-08T14:23:08Z", "scrap_date": "2024-05-01T00:29:23.283853", "content": "How would the serverless yml look when using awsgi Perhaps compared to httpswww npmjs compackageserverlesswsgi "},
{"id": 2962, "question_id": 296, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:46:08Z", "scrap_date": "2024-05-01T00:29:24.303640", "content": "petteri custom APIG domain names are something that isnt natively supported in the framework yet but an important feature going forward "},
{"id": 2963, "question_id": 296, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-08T18:08:25Z", "scrap_date": "2024-05-01T00:29:24.304641", "content": "I wrote a custom script that automates custom domain setup with APIG however it wont help you with your deletion issue AWS Lambda lets you run code without provisioning or managing servers You pay only for the compute time you consume there is no charge when "},
{"id": 1342, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-18T12:51:57Z", "scrap_date": "2024-05-01T00:29:25.417488", "content": "ok I just found out that the reason point 2 and 3 were not working for me was because of a bug in the packaging plugin when using serverless on Windows A pull request fixing this has been merged today and it now seems to work if I duplicate the changes on my side "},
{"id": 1343, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-20T20:47:14Z", "scrap_date": "2024-05-01T00:29:25.418489", "content": "It would be great to have some samples of recommended directory structure as requested in 1 I have the same question as a newcomer to serverless The sample template is just a bit too simple "},
{"id": 1344, "question_id": 134, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-20T21:26:05Z", "scrap_date": "2024-05-01T00:29:25.419490", "content": "OK I found one that is close to what I was looking for httpsgithub comzanonioawsserverlessdemo It is for v0 5 though Id love to see what the current thinking is in the context of v1 "},
{"id": 1345, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-21T19:08:27Z", "scrap_date": "2024-05-01T00:29:25.420490", "content": "agreed with points above Im a serverless noob and I can make one service work as the docs have walked me through I think that simple example was needed as I tried to get into serverless 0 5 and it was too confusing Now at least I have my foot in the door and I understand a bit of what is happening here However moving forward I could use a pet store example to show me best practices for building out a bigger solution "},
{"id": 1346, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T09:20:34Z", "scrap_date": "2024-05-01T00:29:25.421494", "content": "Thanks for the questions we will add more documentation and examples in the near future as docs are one of our highest priorities now that weve gotten most of the features for v1 0 implemented Basically you want to get all the dependencies through npm into your node_modules folder in the same directory You can also have a lib folder in the same directory as your serverless yml which will get automatically packaged and you can reference it in your other files "},
{"id": 1347, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T11:36:41Z", "scrap_date": "2024-05-01T00:29:25.422491", "content": "fruffin I found this article httpscloudonaut iocreateaserverlessrestfulapiwiththeserverlessframeworkpoweredbyapigatewaylambdaanddynamodb Take a look I think it could help Best Regards Cesar Oliveira"},
{"id": 1348, "question_id": 134, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2016-08-24T19:17:38Z", "scrap_date": "2024-05-01T00:29:25.423491", "content": "Not sure if our use case should be used as a reference but we are working on a small to medium sized REST API something around 15 resources with an average of 2 methods per resource CORS Our workflowdesign may present future flaws and changes but we are confident of the path This is our third tour with API Gateway Lambdas We were early adopters since day 1 and started with our own deployment at first all by hand In our second tour we wrote our own scripts in gulp At that time there were no Serverles or Apex Now we are confident that Serverless being targeted and supported by AWS would be the best choice and we are rewriting everything with the Beta version We have no intention to use other cloud services like Google IBM or Azure So multiprovider is not a value in our opinion Comments and suggestions are always welcomed Our project rely heavily in other AWS services like IAM S3 SQS Kinesis Cognito and a lot more really really a lot So our desire to integrate Serverless project with Cloudformation are high but Im not sure how much this will pan out in reality more about this at the end We tend to break our services in microservices not nanoservices The breakdown is done considering operational aspects ie a balance between how easy it is to deploy a new full stage instead of following the academical definitions of microservices Our API has a centralized authentication strategy we have our own OAuth2 implementation so we have a token endpoint that handles all authentication processes and issues JWT token containing action based permissions plus context information all data signed and encrypted Once clients get a token they call whichever resource endpoints they need always sending this token Each resource endpoint validates the JWT token before further processing the request The token has information about which actions the clientuser are allowed but Its up to the resource to decide if they want enforce it or not Even thou this process is common to every lambda function we do not implement it as an authorizer Those are only used when the API Gateway integrates directly to another AWS services bypassing the lambda function In this scenario we use authorizers to provision proper AWS credentials otherwise everything else in regards to IAM permissions are declared directly on the Lambda execution roles Since we trace a lot of calls trough Cloudwatch we pass along the requestid generated by the API Gateway to track other services brokers like SQSSNS and so for Our projects are all nodejs based A single project here is usually composed of multiple Serverless Functions with a single root Serverless yml easy to deploy remember This is also possible because most of our functions use the same node modules hence there is very few gain to have each function handled by its own Serverless yaml Our project structure looks like this We have functions for collections resources and entity resources ie USERS and USER We avoid creating too much directories since in the past we ended with a mess This also helps visualize when we are creating complex solutionsdependencies Simple is the new black We do BDD and E2E but not TDD Thats due to AWS services dependencies that in the end forces us to develop in deployed stages most of the time Mocking AWS service is done but in the end still very limited We are still considering if in future the Serverless yaml will manage its AWS resources trough CF templates We are keen because it enable us to create new stacks for whatever reason but it also risky because removing the wrong stage may throw away resources that cannot be easily recovered like RDS S3 content ES clusters Also we had some headache with CF stacks updatesrollbacks As of today AWS services are managed manually through CloudFormation Ie we use CF as way to document and keep everything reproducible but we manually apply them in CF We try to do not update CF stacks as much as possible for the mentioned reasons We use environment variables loaded in runtime to carry parameters and some sensitive information Sensitive parameters are each day less and less present due to use of IAM Roles and credentials We are still fighting in regards to dynamic debug levels Cloduwatch is sometimes a bless and other times a real pain So we do not kept production with a verbose debug mode but since those are controlled by a env file when we need to elevate the verboseness a redeploy is required Far from ideal The use of a shared resource like an S3 file or KeyValue service does not work due to time to load and failure risks they impose As I said havent found yet a good solution for this problem Hope that this information helps in anyway Cheers Eric"},
{"id": 1349, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-11T16:26:19Z", "scrap_date": "2024-05-01T00:29:25.429493", "content": "I have been working recently with v1 0 of a private npm registry that works with npm cli and replaces its login using github github enterprise Mainly for a use case for a client I am working on site with at the moment for internal modules they wish to keep private Hopefully the repo helps some people with some pointers around v1 until the documentation is updated Also feedback welcome as still learning this as we go with everyone Serverless private npm registry using httpsserverless com craftshipcodeboxnpm"},
{"id": 13411, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-12T04:00:01Z", "scrap_date": "2024-05-01T00:29:25.431493", "content": "The proper folder structure of Serverless Framework is what I really want to know nowadays I just simply designed my project structure like below Is this structure good or bad I want to know whether this design has problems and how can I organize my folders in a proper way "},
{"id": 13412, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:48:51Z", "scrap_date": "2024-05-01T00:29:25.431493", "content": "yuhwan the folder design looks good but going forward we dont really have a very strict folder structure Basically you can build separate services and every service is its own folder If you want to do this in one repo or every service gets its own repo is completely up to you and you can easily change this in the future once you e g want to move a service out into its own repo "},
{"id": 13413, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-18T12:41:24Z", "scrap_date": "2024-05-01T00:29:25.432494", "content": "folder design looks good but going forward we dont really have a very strict folder structure Basically you can build separate services and every service is its own folder If you want to do this in one repo or every service gets its own repo is completely up to you and you can easily change this in the future once you e g want to move a service out into its own repo Hey I to have a question around the folder structure I have a CRUD API that was created in an older version of serverless where by I have a data access library that was ultimately shared by all CRUD functions I used the magic handlers feature so that all CRUD functions could find the lib folder Now that Im going to try and migrate my API to the new version of Serverless I am slightly confused It feels like I now need to create a single Serverless Service at root level which maps out all my CRUD functions across the API so that a single lib folder can be shared across them However I feel like I should be setting it up so that each CRUD endpoint is a Serverless Service but then I cant see how they can access the lib folder from root level The old structure was like this API __ Users Handler for CRUD around Users __ Contacts Handler for CRUD around Contacts __ Tasks Handler for CRUD around Task __ Lib Serverless Service __ Data Access Lots of data access stuff __ Error Handling Any advance here would be helpful as I would love to stay up to date with the amazing work you are doing"},
{"id": 13414, "question_id": 134, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-19T05:50:45Z", "scrap_date": "2024-05-01T00:29:25.434493", "content": "For shared libs we want users to rely on their native package management e g NPM in this case So the idea is that your shared lib is either in a separate repo and gets installed as a dependency or you use npm link httpsdocs npmjs comclilink if its in the same repo This makes sure you have a clean setup of your dependencies and we dont introduce a special way how you can or should build dependencies of your projects "},
{"id": 13415, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T11:47:21Z", "scrap_date": "2024-05-01T00:29:25.435494", "content": "Thank you Eric I was struggling figuring out how to structure my project in order to make it testable Would you mind posting a copy of your serverless yaml file please Im getting this error errorMessage Handler get missing on module session and I cant seem to figure out the correct configstructure for this "},
{"id": 13416, "question_id": 134, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-09-28T17:34:06Z", "scrap_date": "2024-05-01T00:29:25.436495", "content": "Hi Patrax sorry for my long delay on getting back to you I was away for a few weeks My serverless yml is a bit outdated and it may worth a doublecheck given latest releases I also redacted some sentive information the ones in angled brackets but kept the structure as is so you could understand it Best regards"},
{"id": 13417, "question_id": 134, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-28T22:15:57Z", "scrap_date": "2024-05-01T00:29:25.437495", "content": "IMO the documentation and templates are as clear as they can be They allow readers to understand the functionality of the framework without obscuring the concepts with structure In this way it it is clear that project structure is a personalteam choice Rather than more documentation perhaps a sticky post should be added to the forum so that the above contributors ericchaves and others can post links to their demo repositories without being obscured by more project specific questions Perhaps in time a single page in the Docs could be added with links to theses demo repositories Cloud There are significant differences between v0 5 x and v1 0 when it comes to packaging lambdas Perhaps this forum post will help you"},
{"id": 13418, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-29T06:21:31Z", "scrap_date": "2024-05-01T00:29:25.438495", "content": "And why exactly it is bad to have suggested project structure in documentation I love how angular2 does it Clear documentation on how things are naming rules best practices etc Its clear for everyone And theres a standard you can expect when you go into any a2 project If you dont want to you dont need to follow it its optional I fail to see the negative in that "},
{"id": 13419, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-03T19:40:28Z", "scrap_date": "2024-05-01T00:29:25.439496", "content": "Hi all we have created a serverlessreactboilerplate initial version which focuses upon offline development with AWS Lambda API Gateway and Dynamodb The boilerplate consists of CRUD operations for a Todo application and a simple react web client that utilizes the api A serverless react boilerplate for offline development 99xtserverlessreactboilerplate"},
{"id": 13421, "question_id": 134, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T10:18:47Z", "scrap_date": "2024-05-01T00:29:25.440496", "content": "Agree with flomotlik for nodejs services make extensive use of private published to npm as private or local custom npm modules and npm link If you make your functions in those modules as pure as possible writing tests using something as simple as tape is quick and easy Try to separate IO operations or hard to mock things into their own packages or the serverless handlers themselves to deal with the parts of the service your building that is specific to AWS Done this way development iterations can be as fast as running the tests or opening the node repl just running node in your terminal` and requiring in the package youre building to play with it This also catches syntax errors immediately If you move in this direction you should experience significantly less deployinvoke iterations during development and less waiting on CloudWatch logs to show up "},
{"id": 13422, "question_id": 134, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-10T19:42:52Z", "scrap_date": "2024-05-01T00:29:25.441501", "content": "here are a bunch of real world examples httpsgithub comserverlessserverlessservicesv10"},
{"id": 3402, "question_id": 340, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-10T04:30:27Z", "scrap_date": "2024-05-01T00:29:25.893921", "content": "I was looking for this too It looks like the 1 0 RCs are hard coded for a limited number of response codes There is a plugin that might help with this httpsgithub comsilvermineserverlesspluginmultipleresponses"},
{"id": 3403, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T06:12:49Z", "scrap_date": "2024-05-01T00:29:25.894921", "content": "Thank you for sharing the plugin This plugin will suffice to set up the custom responses "},
{"id": 3404, "question_id": 340, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-12T14:50:27Z", "scrap_date": "2024-05-01T00:29:25.894921", "content": "With the latest master and the proxy integration you can simply return the status code from code now This should make this a lot simpler "},
{"id": 3405, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T12:55:17Z", "scrap_date": "2024-05-01T00:29:25.895921", "content": "Hi flomotlik can you elaborate on this How would one return a 302 status code along with URL to redirect to"},
{"id": 3406, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T14:16:12Z", "scrap_date": "2024-05-01T00:29:25.896922", "content": "The proxy integration allows you to set headers and status code directly so you simply set the 302 status code and the applicable header e g Location and you should be all set apigateway proxy httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewaysetupsimpleproxy html Our docs are currently a bit wrong as you shouldnt use the context succeed method but simply use the callback that is also provided But you get the picture from here Our documentation httpsserverless comframeworkdocsprovidersawseventsapigateway"},
{"id": 3408, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T12:34:19Z", "scrap_date": "2024-05-01T00:29:25.897922", "content": "Hi flomotlik I still cant get this to work Heres my lambda function And heres my yaml configuration Ive tried both lambda and lamdaproxy integrations but all I get back is the full response JSON in the browser Am I missing something in my configuration Update flomotlik Thank you that works now with the body specified Its a shame serverlessoffline doesnt support it "},
{"id": 3409, "question_id": 340, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-17T13:39:05Z", "scrap_date": "2024-05-01T00:29:25.898922", "content": "The response object doesnt have a body config Maybe that is the issue And also check that you have Serverless 1 0 2 installed "},
{"id": 34010, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T06:47:05Z", "scrap_date": "2024-05-01T00:29:25.898922", "content": "flomotlik do you have an example of the equivalent of this when using Java I tried returning a string of JSON with the similar fields but that didnt work it just passes the JSON straight through to the responsebrowser I dont see a mapping in the AWS API Gateway config that seems like itd handle a 302 so Im wondering if this is feasible with Java If there are any docs for Java examples of this stuff please point me to that as I may just not be aware of those I should note I have also tried throwing an exception and combining that with a response mapping However I cant seem to use a dynamic Location header value as when I deploy Im told Invalid mapping expression Heres what I have for the yaml config Note I tried a template in the response and that properly uses that same dynamic value so it may just be that Serverless doesnt allow a dynamic header value Id still be interested in knowing if there is a better way to do this or way to use the default mappings and not raise an exception to achieve this etc "},
{"id": 34012, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T10:53:54Z", "scrap_date": "2024-05-01T00:29:25.900923", "content": "chris You seem to be mixing lambda and lambda proxy integration type Returning a JSON response with statusCode headers and body will only work if youre using lambdaproxy in which case you dont need the request and response sections in your serverless yml you also dont need the integration lambda either as it defaults to lambdaproxy Assuming your serverless yml now looks like Now you just need to write your Lambda function so that it returns a Java bean with statusCode headers and body properties Based on the Java examples in the AWS docs I would expect the response class to look something like"},
{"id": 34013, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T17:09:25Z", "scrap_date": "2024-05-01T00:29:25.902215", "content": "buggy thanks So that allows me to do a proper response but I cant seem to get the query parameter without doing a mapping or Im just not understanding JSON data from a POST tends to work but I havent seen how to get a query parameter with a GET to work I am using the POJO approach for my handler vs inheriting from the interface I have a class that has a code property but it never gets set from the code query parameter which is why I had that request template mapping before Any guidance there Are query parameters maybe mapped a different way when Ive used the JavaScript implementation I know I had to get them from event pathParameters I happen to be doing all this in Kotlin so its possible there is something not translating right but Ive done Lambda handlers in Kotlin this same way before and it worked fine Ive just never had to use query params it was always JSON data sent to a POST which got mapped into my request object just fine "},
{"id": 34014, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T18:02:02Z", "scrap_date": "2024-05-01T00:29:25.903924", "content": "chris Query parameters in proxy integration can be obtained via event queryStringParameters which is a map of strings I am using the following mapping in my framework httpsgithub combbilgerjrestlessblobmasterawsgatewayjrestlessawsgatewaycoresrcmainjavacomjrestlessawsgatewayioGatewayRequest java AndOr httpsgithub combbilgerjrestlessblobmasterawsgatewayjrestlessawsgatewayhandlersrcmainjavacomjrestlessawsgatewayioGatewayRequestImpl java"},
{"id": 34015, "question_id": 340, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T19:59:06Z", "scrap_date": "2024-05-01T00:29:25.904924", "content": "bbilger thank you I have it all working now The key was adding a queryStringParameters field to my request object Since I only needed that and only needed a single element from it I was able to do a nice simple data class Thank you everyone for the help "},
{"id": 7512, "question_id": 751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T23:05:50Z", "scrap_date": "2024-05-01T00:29:26.945953", "content": "Sounds like httpsgithub comserverlessserverlessissues2614 Seems like renaming functions is a workaround option "},
{"id": 7472, "question_id": 747, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-09T21:59:19Z", "scrap_date": "2024-05-01T00:29:27.860354", "content": "You can totally use SNS but you would have to set up a SNS Topic subscribe to it etc The easiest way is to just Invoke linking the JS SDK but all have it your function from your original function SNS also doesnt allow you to pass much data in a message so Invoke is better for that too The Lambda runtime environment always includes the AWS SDK so you dont need to packageinclude it with your function You will need to make sure your function has the right IAM privileges e g lambdaInvokeAsync lambdaInvokeFunction etc "},
{"id": 7473, "question_id": 747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-10T23:56:48Z", "scrap_date": "2024-05-01T00:29:27.862356", "content": "Ok thanks for the info Seems like a good topic for documentation "},
{"id": 7622, "question_id": 762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-13T21:24:27Z", "scrap_date": "2024-05-01T00:29:28.916346", "content": "Not sure about your serverlessoffline part although doing a PR and improving the plugin is a good idea because you can share the benefits with others even if it is a bit more work I would strongly recommend you upgrade to v1 as v0 5 is no longer maintained and plugin support for it will dwindle "},
{"id": 7623, "question_id": 762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T02:30:39Z", "scrap_date": "2024-05-01T00:29:28.918347", "content": "some of the plugins i use metasync autoprune dont have a v1 counterpart i forgot thats why i halted the upgrade"},
{"id": 7624, "question_id": 762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T02:49:34Z", "scrap_date": "2024-05-01T00:29:28.918347", "content": "Ah Unfortunately thats not too surprising Ive felt that pain myself That being said plugin support is only going to head in one direction "},
{"id": 6322, "question_id": 632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T04:54:57Z", "scrap_date": "2024-05-01T00:29:30.002551", "content": "Hey nerdguru Serverless is definitely capable of this Check out the docs on variables httpsserverless comframeworkdocsprovidersawsguidevariables heres an example of where I am setting my CORS origins per stage hope this helps its very powerful If you want to reference code inside your actual lambda code you can use the serverlesspluginwriteenvvars plugin Contribute to silvermineserverlesspluginwriteenvvars development by creating an account on GitHub cheers Stretch"},
{"id": 6323, "question_id": 632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T05:07:37Z", "scrap_date": "2024-05-01T00:29:30.003550", "content": "Thanks so much str3tch for the quick turnaround and the pointers That gives me something to play with and if I run into issues Ill post something else "},
{"id": 6324, "question_id": 632, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-14T21:22:50Z", "scrap_date": "2024-05-01T00:29:30.004550", "content": "As a follow up heres how I mimicked what I did on my own in Java now using serverless com and Node in my handler I hadnt realized the phase was part of the function name already so I spilt off of that use it to find the right bucket phase baseBucketName object json that then has config information that tells my function what to do Now I can pass different parameters into my function by editing the config json file and not have to redeploy "},
{"id": 7562, "question_id": 756, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-13T21:33:35Z", "scrap_date": "2024-05-01T00:29:30.993175", "content": "Unfortunately Im not aware of an offical upgrade path that doesnt involve bringing down your service this is why Semver major revision numbers exist breakingnonbackwardscompatible changes A hacky untested workaround comes to mind Remove logsCreateLogGroup permission via the Console from the associated IAM Role so that the function is not allowed to create log groups in the future In my past experience a function without proper CloudWatch access will continue to work fine there will just be no logs to see Hopefully your new deployment will then be able create its own group with the same name "},
{"id": 7563, "question_id": 756, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-14T22:35:50Z", "scrap_date": "2024-05-01T00:29:30.994175", "content": "Thanks so much Works like a charm I know the semver but it is just that I still want to do it without breaking the current production Really great workaround Thanks again "},
{"id": 7682, "question_id": 768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T23:06:47Z", "scrap_date": "2024-05-01T00:29:32.062999", "content": "Your snippet looks fine but Im just going off the docs I havent used this functionality myself Have you verified your function is using the newly created role and not your specified role via the console The CLI output doesnt really give enough information Id start by running serverless deploy noDeploy and checking the template created in serverlesscloudformationtemplateupdatestack json to see if your specified role ARN is referenced anywhere If its not you might have found a bug Are you running on the latest version of Serverless v1 1 0 Update looks like youre not the only one having issues with it httpsgithub comserverlessserverlessissues2706"},
{"id": 7683, "question_id": 768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T23:15:06Z", "scrap_date": "2024-05-01T00:29:32.065000", "content": "Thanks for the reply rowanu I upgraded to 1 1 and that didnt solve it Upon doing a serverless deploy noDeploy I see no references to my arn in serverlesscloudformationtemplateupdatestack json Id say I found a bug then Ill document here in a bit Easy workaround though to manually apply the role in the Lambda console "},
{"id": 7684, "question_id": 768, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T23:31:21Z", "scrap_date": "2024-05-01T00:29:32.066000", "content": "Your other option as mentioned in the bug report I linked above is to run Serverless off master as the issue seems to be fixed there v1 2 0 is due out any day now so you should be right once its released "},
{"id": 7662, "question_id": 766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T18:13:14Z", "scrap_date": "2024-05-01T00:29:32.764753", "content": "Update Adding lambdas through the IAM account configured in credentials manually through the Lambda Console results in visible functions in aws lambda listfunctions so it seems to be an issue wherein my serverless configuration is not picking up credentialsconfig from local Ive checked all zones and the IAM account in question has no lambdas listed "},
{"id": 7663, "question_id": 766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T18:45:56Z", "scrap_date": "2024-05-01T00:29:32.765753", "content": "I have the solution determined here now The first issue is why Serverless deployed to a different zone than my AWS CLI is configured to The guide implied to me that the AWSCLI values would be picked up but upon further research the Serverless CLI documentation on the deploy command merely states that USEAST1 will be picked up as the default and the credentials would be picked up I would recommend clarifying that between the two documents since the guide specifically talks about configuring AWSCLI default values but its not a huge deal It took a substantial amount of time for my function to show up in USEAST1 but Im going to guess thats a combination of some latencypropogation issues and refresh issues on my AWS account side Once the function appeared it ran as expected "},
{"id": 7664, "question_id": 766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T23:00:22Z", "scrap_date": "2024-05-01T00:29:32.766753", "content": "Yeah this issue comes up because the AWS SDKs dont alway respect the various values specified in the AWS CLI configuration files i e awsconfig and awscredentials or whatever the equivalent is on Windows Its pretty annoying because its slightly different for the different language SDKs As youve discovered the way to do it for Serverless is set region in the provider section of your serverless yml You can always see where the service is being deployed in the summary at the end of a serverless deploy or by running serverless info your stack trace shows useast1 the default "},
{"id": 7665, "question_id": 766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T23:17:55Z", "scrap_date": "2024-05-01T00:29:32.767754", "content": "Yep I noticed the USEAST1 in the script right off but there was a rather large delay where the Lambda Console for USEAST1 didnt show the deployment took about 1 hour for the function to show up which Im assuming is just weird behavior Thanks for the response "},
{"id": 7666, "question_id": 766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-14T23:33:04Z", "scrap_date": "2024-05-01T00:29:32.768754", "content": "1 hour That would make troubleshooting difficult but I guess you never know with useast1 "},
{"id": 6982, "question_id": 698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T19:19:06Z", "scrap_date": "2024-05-01T00:29:33.741107", "content": "ha got it to work its gnarly though i added the following and the exclude worked as i hoped it would however this is arguably a suboptimal workaround has nobody encountered this before"},
{"id": 6983, "question_id": 698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T20:04:05Z", "scrap_date": "2024-05-01T00:29:33.742108", "content": "calben try git When you use it excludes the top level files only excludes files and subfolders "},
{"id": 6984, "question_id": 698, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-15T21:46:38Z", "scrap_date": "2024-05-01T00:29:33.743108", "content": "FWIW this was addedfixed to work by default with httpsgithub comserverlessserverlesspull2617"},
{"id": 7792, "question_id": 779, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-17T02:45:09Z", "scrap_date": "2024-05-01T00:29:34.236287", "content": "Nope region cant be configured at a function level As this is not a common use case most services will want to be in the same region if they have shared resources or just for administration purposes I think your perfunction deployment is a good workaround "},
{"id": 7793, "question_id": 779, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-17T02:58:06Z", "scrap_date": "2024-05-01T00:29:34.237287", "content": "Thank you I agree that this is not a common requirement "},
{"id": 5952, "question_id": 595, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T06:08:04Z", "scrap_date": "2024-05-01T00:29:36.364375", "content": "adambiggs I assume you dont share the DynamoDB table across stages If not you can have different instances of your lambda connected to each tables stream You can use the solution I describe here Disable Function Per Stage But you run the same risks by only ever executing the code in production "},
{"id": 5953, "question_id": 595, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T23:05:27Z", "scrap_date": "2024-05-01T00:29:36.366376", "content": "Thanks for the reply johncmckim Thats what I ended up doing I set up a SERVERLESS_STAGE variable using the serverlesspluginwriteenvvars plugin and then simply return from the function without doing anything if the variable prod Seems like a bit of an inefficient solution But it works "},
{"id": 4772, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-09T07:10:18Z", "scrap_date": "2024-05-01T00:29:37.239493", "content": "Do you get this when deployed or offline Because when using new Error [404] Not found I would still get 200 status code from serverlessoffline but 404 from deployed version "},
{"id": 4773, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T18:03:40Z", "scrap_date": "2024-05-01T00:29:37.240494", "content": "Thanks for the reply Custom error status codes using new Error are working fine but 201 is a success rather than error "},
{"id": 4774, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T23:11:21Z", "scrap_date": "2024-05-01T00:29:37.241494", "content": "The response status codes for 1 0rc1 and rc2 appear to be hard coded In particular There is a plugin that might help you httpsgithub comsilvermineserverlesspluginmultipleresponses As of a couple of days ago the master branch how has support for the lambdaproxy integration This allows you to set the HTTP response code and headers from your lambda so you can to return a 201 "},
{"id": 4775, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-11T00:31:51Z", "scrap_date": "2024-05-01T00:29:37.263500", "content": "Great explanation thanks "},
{"id": 4776, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:47:14Z", "scrap_date": "2024-05-01T00:29:37.263500", "content": "The nonproxy APIG integration doesnt allow to set any other Status Code than 200 for successful return That was one of the main downsides to it and why AWS implemented the new proxy integration "},
{"id": 4777, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T22:19:40Z", "scrap_date": "2024-05-01T00:29:37.264501", "content": "Not entirely correct You can configure the APIGW to return any status code you want on success The limitation is that you can only set one default status code and that code is always returned on success So if you want your success code to always be 201 created or 204 no content then you can do that Note Serverless 0 5 allowed this but 1 0 doesnt That said Lambda proxy integration is much more flexible and easier to use IMHO so Im really glad its the default Its going to make it easier for web developers to move to APIGWLambda"},
{"id": 4778, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:16:28Z", "scrap_date": "2024-05-01T00:29:37.265501", "content": "Yup youre totally correct buggy Thanks for that "},
{"id": 4779, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T06:45:21Z", "scrap_date": "2024-05-01T00:29:37.266501", "content": "hey i need to change mystatus code and its work well with lambdaproxy but i need lambda intregration cuz i work with response and request how can i change it this is my yml file functions sendData handler handler send events http method POST path send integration lambda cors true response headers ContentType texthtml template input path statusCodes 201 pattern Default response method 409 pattern statusCode409 JSON response template input path errorMessage JSON return object headers ContentType applicationjsonhal and this is my handler js use strict module exports send event context callback let data event body json_data let stats 0 let response callback null response can anyone related buggy flomotlik"},
{"id": 47710, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T11:27:29Z", "scrap_date": "2024-05-01T00:29:37.267502", "content": "frengkys You can change your response codes by returning an error from your Lambda that triggers the correct response See Status Codes in the documentation With Servlerss 1 0 you may also need to look at the multi responses plugin as support in this area isnt as good in 1 0 as it was in 0 5 Personally I think youre going to spend a lot of time mucking around trying to get this working and Im not 100 sure youll get the desired result anyway Can you tell me a little more about why you feel you cant use lambdaproxy integration It might be easier to solve that problem "},
{"id": 47711, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-23T07:47:13Z", "scrap_date": "2024-05-01T00:29:37.268502", "content": "hai buggy cuz i work with POST request i wanna send json data from client to lambda if i change lambda to lambdaproxy it will return error than i found on doc that say if we want to work with requst and respond on api gateway we should use lambda intregration instead lambda proxy or there are another way to use lambdaproxy to send json request to serverless lambda cuz itll be pain if it will take a lot of time to mucking around with it"},
{"id": 47712, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-23T10:46:46Z", "scrap_date": "2024-05-01T00:29:37.269502", "content": "You should be able to call JSON parse on the body passed into your function and JSON stringify on the object you return in your body That will handle converting between a string and Javascript object Having said that I noticed the 1 0 3 release notes mentioned Custom Status code for nonproxy APIG integration 2014 I havent had a chance to look at this properly but upgrading to 1 0 3 might give you the functionality you need "},
{"id": 47713, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-23T18:43:18Z", "scrap_date": "2024-05-01T00:29:37.270502", "content": "ive been try it on v1 03 but the additional statusCode [409] not change but [201] default change correctly response headers ContentType texthtml template input path statusCodes 201 pattern Default response method 409 pattern statusCode409 JSON response template applicationjson input path errorMessage JSON return object applicationxml input path body errorMessage XML return object headers ContentType applicationjsonhal if i have json value with this format animals air bird water fish land cat im just call it like this right JSON parse JSON stringify event body animals but why return SyntaxError Unexpected token u at Object parse native this error always shown when i change lambda intregration to proxy "},
{"id": 47714, "question_id": 477, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-24T11:49:06Z", "scrap_date": "2024-05-01T00:29:37.272503", "content": "see Cant change non proxy status code [apig]"},
{"id": 542, "question_id": 54, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2016-08-03T04:58:51Z", "scrap_date": "2024-05-01T00:29:38.357577", "content": "Custom Authorizers Without that we would not have approval to use API Gateway "},
{"id": 543, "question_id": 54, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-08-03T05:33:05Z", "scrap_date": "2024-05-01T00:29:38.358577", "content": "Looks like you have the requestresponse templates already planned I just wanted to add that since Lambdas reject form encoded data right now to me that addition seems fairly critical Or is there a workaround"},
{"id": 544, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-25T14:24:02Z", "scrap_date": "2024-05-01T00:29:38.358577", "content": "It looks like it is implemented but not documented in the current 1 0beta version If I have time I can start playing around with it in the next few days and come up with some examples for the documentation "},
{"id": 545, "question_id": 54, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-08-25T18:46:21Z", "scrap_date": "2024-05-01T00:29:38.359578", "content": "I think that being able to fully customize integration requestresponse is a key feature As fully customize I meant Define a serverless template that could be reused among several API Gateway resource functions pretty much like the v5 did Allow us to configure Mock integration requests and AWS Service Proxy integration request which makes easyier to connect API Gateway to AWS services directly Allow mapping response status headers and body for at least JSON content and TEXT content commonly used in rest errors response Also important would be Enable cloudwatch logs and metrics to deployed stages Support the setup process of custom domains with AWS issued SSL Allow a custom CORS lambda function to be declared in Serverless yaml similar to authorizers ie an easy no verbose YAML block that describe a general OPTIONS lambda function with a mapping to the CORS response headers which could be later reused in multiple resource http events Cheers Eric"},
{"id": 546, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-26T05:20:59Z", "scrap_date": "2024-05-01T00:29:38.361578", "content": "Add features for cognito user pool configuration"},
{"id": 547, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-26T14:40:26Z", "scrap_date": "2024-05-01T00:29:38.361578", "content": "Did you ever get around to doing this It would be extremely helpful "},
{"id": 548, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-26T14:52:12Z", "scrap_date": "2024-05-01T00:29:38.362579", "content": "Not yet I might have time this weekend though but I cant make any promises right now "},
{"id": 549, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-27T21:30:23Z", "scrap_date": "2024-05-01T00:29:38.362579", "content": "Custom Authorizers are part of the Compile API Gateway Events plugin I know thats not obvious at all from scanning the docs but theres a lot more documentation in the plugins section "},
{"id": 5410, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-28T00:15:59Z", "scrap_date": "2024-05-01T00:29:38.363579", "content": "Awesome thanks for figuring that out "},
{"id": 5411, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:15:40Z", "scrap_date": "2024-05-01T00:29:38.363579", "content": "arjabbar thanks for finding and linking this Were currently restructuring our Docs to make all this WAY easier to find "},
{"id": 5412, "question_id": 54, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-30T06:17:12Z", "scrap_date": "2024-05-01T00:29:38.364579", "content": "Those are some great points Thanks for taking the time to write them out definitely gave me some good ideas Some of it will be in V1 e g requestresponse template some in a later release but can be done at the moment through custom resources "},
{"id": 5413, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T13:19:57Z", "scrap_date": "2024-05-01T00:29:38.364579", "content": "Another helpful feature although not related with API GW would be having script hooks for prepost deployment allowing us to perform extra tasks outside of the Serverless scope but required for the final application to run ie running migrations provisioning external resources etc Something like running a named make file "},
{"id": 5414, "question_id": 54, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T13:10:32Z", "scrap_date": "2024-05-01T00:29:38.365579", "content": "HTTP Service Proxy would be a feature we would love to have supported Were actually holding off on upgrading from v0 5 6 to v1 x because Service Proxies dont appear to be implemented yet Also the CORS and IAM solutions appear to still be in flux and it seems best to wait until they settle and are documented Even if Ive misinterpreted the finality of these two features it still reflects how confusing it is for us right now to understand where things are in the documentation and our hesitation to upgrade "},
{"id": 5992, "question_id": 599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-20T09:53:26Z", "scrap_date": "2024-05-01T00:29:39.225341", "content": "Ive been using Validator to handle simple validation httpswww npmjs compackagevalidator"},
{"id": 5993, "question_id": 599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T15:27:18Z", "scrap_date": "2024-05-01T00:29:39.226342", "content": "Im using Joi httpsgithub comhapijsjoi something like this"},
{"id": 5994, "question_id": 599, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T15:42:16Z", "scrap_date": "2024-05-01T00:29:39.227342", "content": "Ah it looks good Vandium internally uses Joi so migration could be quite easy Thank you guys "},
{"id": 6292, "question_id": 629, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-25T22:33:54Z", "scrap_date": "2024-05-01T00:29:40.235570", "content": "padraigobrien if you think its a good idea go and support this issue on Github httpsgithub comserverlessserverlessissues2473 Its not possible right now But I think its a good idea and hopefully we can get that change in "},
{"id": 6293, "question_id": 629, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T21:32:49Z", "scrap_date": "2024-05-01T00:29:40.237571", "content": "gave it a thumbs up on git"},
{"id": 5652, "question_id": 565, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-17T18:18:54Z", "scrap_date": "2024-05-01T00:29:41.059266", "content": "Quando tiver as outras sobre arquitetura manda aqui tbm Parabens bem massa a talk D"},
{"id": 5653, "question_id": 565, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T21:38:29Z", "scrap_date": "2024-05-01T00:29:41.060266", "content": "Woohoo "},
{"id": 5654, "question_id": 565, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-26T21:33:15Z", "scrap_date": "2024-05-01T00:29:41.061267", "content": "Bacana Bom trabalho"},
{"id": 6502, "question_id": 650, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T16:32:51Z", "scrap_date": "2024-05-01T00:29:42.118658", "content": "Andrew Curioso andrewcurioso Answered this for me thank you That is normal if you are seeing the output directly from Lambda The body part of the message is doubleencoded an encoded Json string inside a Json object which is why you are seein the slashes But API gateway should unescape the slashes on the way through and what will end up on the clientside is the version without the slashes For completeness I also removed the message Hope it helps someone else in the future "},
{"id": 5962, "question_id": 596, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T08:57:02Z", "scrap_date": "2024-05-01T00:29:43.110698", "content": "Your indentation is not correct The arn and below should move 2 spaces to the right It does deploy but theres no event Unfortunately when you correct the indentation you will be affected by this bug httpsgithub comserverlessserverlessissues2365 I have verified this with 1 0 3 "},
{"id": 5332, "question_id": 533, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-20T14:00:41Z", "scrap_date": "2024-05-01T00:29:43.973912", "content": "AFAIK you cant yet use CF templates to automatically create a custom domain for your API Gateway endpoint which is annoying because APIG is backed by CloudFront which requires everything to be SSL which means you need to give it SSL certs like you would any other HTTPS web server and while that functionality is available via the aws cli it doesnt seem to be available in CloudFormation yet "},
{"id": 5333, "question_id": 533, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T21:35:34Z", "scrap_date": "2024-05-01T00:29:43.975913", "content": "Thank you very much ianserlin"},
{"id": 6352, "question_id": 635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T13:23:59Z", "scrap_date": "2024-05-01T00:29:45.060331", "content": "Not sure how to pass back null values but perhaps you check this in your code"},
{"id": 6353, "question_id": 635, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T23:17:52Z", "scrap_date": "2024-05-01T00:29:45.061332", "content": "Short answer You cant Long answer JSON doesnt support null values Youll need to use an empty string so something else that you client understands to represent a null value "},
{"id": 6112, "question_id": 611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-30T13:56:09Z", "scrap_date": "2024-05-01T00:29:46.052006", "content": "1 I would also like to see sample project with best practices for v1 0 It seems that every project out there is written using 0 versions Example with Unit tests and CI integration would be great something with Mocha Chai "},
{"id": 6113, "question_id": 611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-30T17:28:49Z", "scrap_date": "2024-05-01T00:29:46.053006", "content": "1 A sample projet with some sign up sign in authentication logic would be great "},
{"id": 6114, "question_id": 611, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-31T00:02:25Z", "scrap_date": "2024-05-01T00:29:46.054007", "content": "Weve just open sourced a yeoman generator for our services Its very new so it might have issues But it solves three main problems for us Take a look and let us know what you think Wed appreciate any feedback that you have Contribute to ACloudGurugeneratorserverlessservice development by creating an account on GitHub "},
{"id": 6115, "question_id": 611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T11:06:57Z", "scrap_date": "2024-05-01T00:29:46.055007", "content": "I just tested your generator its pretty nice Snyk tool was new to me I always asked myself how they secure all those npm dependencies It would be nice too see a feature for generating authentication for serverless service via AWS or Firebase cause they offer that for free"},
{"id": 6116, "question_id": 611, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-31T23:25:06Z", "scrap_date": "2024-05-01T00:29:46.056007", "content": "ivanderbu2 I agree that it would be great if there were open source services that people could just drop into their environment I dont want to make that part of this generator as I want it to be suitable for all types of services We open sourced our policy generator for api gateway Its not specific to AWS Firebase or Auth0 It just helps create your policy document I hope that helps "},
{"id": 6932, "question_id": 693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T23:03:25Z", "scrap_date": "2024-05-01T00:29:47.069183", "content": "While I havent looked in to this part of the deployment recently my impression is that the API GW Deployment Resource Id is timestamped to ensure that it is unique so that you can have multiple HTTP events on a function and not have a name collision Ill keep an eye on it next time I do a deployment and see if I can add more detail I get the feeling this was done deliberately but I can definitely see why you wouldnt want to do it maybe the name should be generated in a more consistent manner so that it can be unique without changing every time "},
{"id": 6933, "question_id": 693, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T01:30:44Z", "scrap_date": "2024-05-01T00:29:47.071184", "content": "After observing it through the day Im no longer sure that what Im seeing is downtime but might actually be a performance problem in my lambdas startup process I have a few further tests I will be running tomorrow and will add detail here on my findings M"},
{"id": 6852, "question_id": 685, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T04:21:10Z", "scrap_date": "2024-05-01T00:29:47.950901", "content": "Its a work in progress see this PR "},
{"id": 6822, "question_id": 682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T23:21:07Z", "scrap_date": "2024-05-01T00:29:48.819967", "content": "You need to have some kind of variable support currently theres no builtin way to do this in Serverless but I suspect this will change very soon As a workaround you can use the this plugin and create perstage variables for the value you want to set Edit Checkout str3tch s excellent response in this thread "},
{"id": 6823, "question_id": 682, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T16:34:07Z", "scrap_date": "2024-05-01T00:29:48.820967", "content": "Thank you very much "},
{"id": 6742, "question_id": 674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T11:19:59Z", "scrap_date": "2024-05-01T00:29:49.454800", "content": "Here is more info httpdocs aws amazon comapigatewaylatestdeveloperguidehowtocustomdomains html see section Base Path Examples of API Mappings for a Custom Domain Name It would be great if this could be automated I dont know if there any other solution "},
{"id": 6743, "question_id": 674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T13:38:36Z", "scrap_date": "2024-05-01T00:29:49.456801", "content": "Hi I am facing exactly same issue I have 15 microservices at the moment and I can tell what you try to achieve is not possible with serverless at the moment Even if you would be able to pass same base URL for all your APIs this would basically remove all your previous changes from other serveless services Currently when you deploy API Gateway through serverless it basically replace previous API Gateway changes so if you have 2 serverless projects and you deploy auth and then user to api gateway you will end up only with users endpoints no auth endpoints because serveless doesnt know anything about your endpoints from auth project I spoke with flomotlik about this issue in London Serveless conf and they are actually working on solution as this is a pain for people that try to develop medium or large projects with many services and endpoints My understanding is that in the future you should be able to create new serverless project just for api gateway where you specify all endpoints and function names you dont want to hard code the function names and instead this value should come from output of other serverless projects e g during the CI deployment If you cant wait till this feature will be add to serveless framework I would suggest to use cloudfromation and swagger for now "},
{"id": 6744, "question_id": 674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T21:30:56Z", "scrap_date": "2024-05-01T00:29:49.458801", "content": "Hi martinmicunda Than you for your message Could you give me some more detail about do it by using cloudformation and swagger I suppose cloudformation templates generated by serveless could be useful "},
{"id": 6745, "question_id": 674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-29T10:50:29Z", "scrap_date": "2024-05-01T00:29:49.459802", "content": "endymion here are a few resources that might help you to start httpssookocheff compostapideployingswaggertoapigateway httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewayswaggerextensions html httpswww jayway com20160918introductionswaggercloudformationapigateway"},
{"id": 6746, "question_id": 674, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T23:07:11Z", "scrap_date": "2024-05-01T00:29:49.460802", "content": "Could you setup one API GW to proxy all of the other API GWs"},
{"id": 6522, "question_id": 652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T15:55:03Z", "scrap_date": "2024-05-01T00:29:50.570528", "content": "You can invoke the same lambda or other lambda functions with the aws SDK Check out httpstackoverflow comquestions31714788cananawslambdafunctioncallanother31714788 So you could schedule a lambda cron function to run every 5 minutes lets say and inside that function call You will just need to make sure your cron function has the correct IAM roles that allow it to invoke the other function"},
{"id": 6523, "question_id": 652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T13:35:15Z", "scrap_date": "2024-05-01T00:29:50.571528", "content": "Hi David Thanks for the reply This is something that I considered doing however it solves the problem by creating another Lambda which is something that I am trying to avoid The inputs that I am trying to pass in are ones that are usually environmenttest dependent and can change often Examples are setting True or False for DryRun in certain functions and setting which account ARN to use for others I was trying to find something that would allow me to alter a json file and then allow me to deploy the Lambda in Serverless along with the json in order to use it as an input for any kind of invocation manual or otherwise along with any other event messages that were passed However after looking into it some more on both the Serverless and Amazon side Im not sure that this is possible to do at this time as it seems that it will just receive input based on how it was invoked e g SNS invoked functions receiving message based inputs and Cron invoked functions receiving Cron related inputs "},
{"id": 6524, "question_id": 652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T07:25:41Z", "scrap_date": "2024-05-01T00:29:50.573529", "content": "It seems to me that if you were invoking a Lambda on a schedule and passing it the event json data that data is not able to change so essentially its just hardcoded data Why not just either hardcode the data in your script or embed the file in the Lambda function and then access it through require event json Alternatively put the JSON file somewhere where Lambda can access it S3 a HTTP site etc and then when the Lambda is triggered by the schedule you can download the file before executing the rest of the script "},
{"id": 6525, "question_id": 652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T18:36:53Z", "scrap_date": "2024-05-01T00:29:50.574529", "content": "Thanks for the response dsole I dont want to hardcode the data into the script for a couple of reasons Some of the inputs that I feed in are used in multiple places throughout the script and changing a line in vim is quicker and easier to understand for others that are reading the script than going into an IDE and refactoring several lines especially when you want to change things while troubleshooting As well using a json file with KeyValue pairs improves the code by allowing it to become more generic and reusable Accessing the file from S3 is something that Ill keep in mind but after messing around inside of the AWS Console and reading more AWS documentation I found out that under CloudWatchEventsRules you can configure the input of a rule to be a matched event part of a matched event or json text This rule is created by Serverless based on what is under events for a function in the serverless yml file so it makes sense to me that there should be some way of specifying the input that the rule passes to the Lambda when it invokes it likely this would be something that is done inside of the serverless yml file Do you have any advice based on the above i e how would I go about altering the serverless yml file to create the invocation rule to pass in the input that is equivalent to that found in the event json file "},
{"id": 6526, "question_id": 652, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-03T11:53:28Z", "scrap_date": "2024-05-01T00:29:50.576529", "content": "Im no expert but I dont think that is supported For it to be deployed the constant JSON input on a CloudWatch rules target would need to be set in the CloudFormation template created by Serverless Specifically it would need to populate the Input property on a Target set on a AWSEventsRule resource But looking at the code for the schedule event that Input property is not set and so that indicates that its not currently supported Perhaps you could modify the schedule events source code or maybe the generated template could be extended if you create a plugin "},
{"id": 4702, "question_id": 470, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T15:34:40Z", "scrap_date": "2024-05-01T00:29:52.414111", "content": "What Ive seen a couple of people do is have a Cloudfront distribution in front of APIG so you can do anything from custom domains to SSL easily and simply point from Cloudfront to your APIG You can also set it up that only that specific cloudfront can talk to APIG through auth headers "},
{"id": 3832, "question_id": 383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T15:03:13Z", "scrap_date": "2024-05-01T00:29:53.468395", "content": "Im having the same issue when I try to deploy with 3 endpoints with cors set to true "},
{"id": 3833, "question_id": 383, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T15:35:40Z", "scrap_date": "2024-05-01T00:29:53.468395", "content": "Could you try updating to the latest serverless 1 0 that was just released This should hopefully solve that And then run serverless deploy v so we can see verbose output"},
{"id": 4022, "question_id": 402, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-27T21:42:45Z", "scrap_date": "2024-05-01T00:29:54.554064", "content": "If you are using Api Gateway then just event stage"},
{"id": 4023, "question_id": 402, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-03T01:27:06Z", "scrap_date": "2024-05-01T00:29:54.555065", "content": "Thanks man but I am not using API gateway I think I need to wait for serverlesshelpersjs new version which is compatible with V1"},
{"id": 4024, "question_id": 402, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T10:23:31Z", "scrap_date": "2024-05-01T00:29:54.555065", "content": "Serverless will most likely have a solution for this post v1 final release but in the meantime check out httpswww npmjs compackageserverlesspluginwriteenvvars which is both straightforward and reliable just dont forget to add require dotenv config at the top of your handler js "},
{"id": 4025, "question_id": 402, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-12T15:36:41Z", "scrap_date": "2024-05-01T00:29:54.556065", "content": "We will have a much broader environment variable integration in the future its a very important feature for us we just need a little more time until we can release it "},
{"id": 5052, "question_id": 505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T20:02:18Z", "scrap_date": "2024-05-01T00:29:55.032274", "content": "Hey SeeThruHead the handler Syntax for the serverless yml file is filename exportedFunctionName So if you have a file called redirector and export a function called redirect in there you can write handler redirector redirect in the serverless yml file So the only thing you need to do here is to do a named export and then update the handler in your serverless yml to point to the exported handler "},
{"id": 5053, "question_id": 505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T20:06:44Z", "scrap_date": "2024-05-01T00:29:55.033275", "content": "sorry maybe i wasnt clear the file is the function it does not have any subfunctions ie module exports function rather than module exports redirector function i assumed i should be able to just put redirector inside serverless yml because a require redirector should be the proper function to run"},
{"id": 5054, "question_id": 505, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-12T22:55:01Z", "scrap_date": "2024-05-01T00:29:55.034275", "content": "You have to export a distinct handler function you cant use the default export as Lambda doesnt support it i e its not a Serverless issue The convention is to call it handler The natural way to do it is"},
{"id": 4342, "question_id": 434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-04T23:10:57Z", "scrap_date": "2024-05-01T00:29:56.150343", "content": "Ill be there Ill be attending some partner stuff but would be up for catching up too Its gonna be huuuuge "},
{"id": 4343, "question_id": 434, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T01:30:02Z", "scrap_date": "2024-05-01T00:29:56.151343", "content": "Ill be there as well"},
{"id": 5112, "question_id": 511, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-13T01:33:34Z", "scrap_date": "2024-05-01T00:29:57.001525", "content": "v0 5 docs can be found here httpsserverless readme io "},
{"id": 5113, "question_id": 511, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T01:35:22Z", "scrap_date": "2024-05-01T00:29:57.002525", "content": "Thanks I also just found the original link in the archives httpsweb archive orgweb20160404084553httpdocs serverless comv0 5 0docs"},
{"id": 4842, "question_id": 484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:49:49Z", "scrap_date": "2024-05-01T00:29:58.036387", "content": "You can add a console log event to your function handler to see exactly where your data is accessible "},
{"id": 4843, "question_id": 484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T09:31:01Z", "scrap_date": "2024-05-01T00:29:58.037385", "content": "ahhhh thanyou for replying "},
{"id": 4752, "question_id": 475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-08T00:35:10Z", "scrap_date": "2024-05-01T00:29:59.122279", "content": "No not at the moment There have been other people discussing this but it just doesnt make sense for the project to address this use case at this point in time while work is still in progress to v1 0 "},
{"id": 4753, "question_id": 475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T15:00:42Z", "scrap_date": "2024-05-01T00:29:59.123280", "content": "As rowanu mentioned this is currently not possible but what would be your use case"},
{"id": 4754, "question_id": 475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T21:46:48Z", "scrap_date": "2024-05-01T00:29:59.124280", "content": "flomotlik For performing integration tests in CI Currently I do"},
{"id": 4755, "question_id": 475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-12T22:27:53Z", "scrap_date": "2024-05-01T00:29:59.124280", "content": "bencooling Could you use invoke from the AWS Javascript SDK"},
{"id": 4756, "question_id": 475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T02:14:23Z", "scrap_date": "2024-05-01T00:29:59.125280", "content": "Thanks buggy I havent touched AWS Lambda yet thanks for bringing the invoke method to my attention "},
{"id": 4757, "question_id": 475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-13T15:04:51Z", "scrap_date": "2024-05-01T00:29:59.125280", "content": "In the future we want to provide testing libraries as well that make these things easier Testing is a VERY important topic for us going forward Weve started by implementing this small mock library httpsgithub comserverlessawseventmocks but there will be more"},
{"id": 4758, "question_id": 475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-13T15:05:25Z", "scrap_date": "2024-05-01T00:29:59.126280", "content": "And also were going to start opening issues and starting the discussion there so checking out the issues and milestone goals we share could give you a chance to chime in there "},
{"id": 5132, "question_id": 513, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:06:50Z", "scrap_date": "2024-05-01T00:30:00.055354", "content": "Hey darren_strachan is that with Version 1 0 Thats a weird error can you show the a screenshot of the full error you can also run it with SLS_DEBUGtrue serverless create template awsnodejs name myspecialservice to get more details "},
{"id": 4712, "question_id": 471, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T15:31:58Z", "scrap_date": "2024-05-01T00:30:00.753329", "content": "With the new proxy that should be possible You can simply catch all errors yourself and then return a proper exit status We want to make this a lot easier in the future through our SDK that well introduce at some point "},
{"id": 4713, "question_id": 471, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T23:25:51Z", "scrap_date": "2024-05-01T00:30:00.754329", "content": "flomotlik do you mean by using Configure as proxy resource amazon feature that is shown when create a resource option is chosen Thank you in advance"},
{"id": 4714, "question_id": 471, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-12T23:51:47Z", "scrap_date": "2024-05-01T00:30:00.755330", "content": "endymion Serverless 1 0 supports Lambda proxy integration You can catch any unhandled exceptions log the stack trace and anything else you want then return a custom 500 error message to the user "},
{"id": 4715, "question_id": 471, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:13:53Z", "scrap_date": "2024-05-01T00:30:00.755330", "content": "Exactly what buggy said"},
{"id": 5232, "question_id": 523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:03:04Z", "scrap_date": "2024-05-01T00:30:01.622016", "content": "Can you try removing the succeed call and only calling the callback with the statuscodeheaders hash The context methods are outdated for newer versions of Node httpdocs aws amazon comlambdalatestdgnodejsprogmodelhandler html If you want to return context and event in the body you can do please check for typos If that doesnt work please post the details of the OPTIONS and Get request so we can look in more detail "},
{"id": 5233, "question_id": 523, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T17:50:26Z", "scrap_date": "2024-05-01T00:30:01.623016", "content": "Hey flomotlik thanks for the reply Things are now working"},
{"id": 5372, "question_id": 537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T14:22:27Z", "scrap_date": "2024-05-01T00:30:02.318568", "content": "How about an external variable file httpsserverless comframeworkdocsguideserverlessvariables You could also look into the cross stack referencing as defined here httpdocs aws amazon comAWSCloudFormationlatestUserGuidewalkthroughcrossstackref html"},
{"id": 5373, "question_id": 537, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-14T14:28:43Z", "scrap_date": "2024-05-01T00:30:02.319568", "content": "Thanks flomotlik thats perfect"},
{"id": 5302, "question_id": 530, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T14:24:23Z", "scrap_date": "2024-05-01T00:30:03.268300", "content": "It should be passed through by default can you add a console log statement to the function to print the event data You can also look into the proxy that would pass this through automatically httpsserverless comframeworkdocsprovidersawseventsapigateway"},
{"id": 5303, "question_id": 530, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-14T14:41:00Z", "scrap_date": "2024-05-01T00:30:03.269300", "content": "Hey thanks It was really being passed by default It was probably my misunderstading about how api gateway works "},
{"id": 5392, "question_id": 539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T14:19:53Z", "scrap_date": "2024-05-01T00:30:04.007661", "content": "If that is still the case this is a bug This should not be happening with 1 0 2 any more it actually was fixed a while ago Can you try this with the latest version and otherwise raise an issue in Github "},
{"id": 5393, "question_id": 539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T14:36:34Z", "scrap_date": "2024-05-01T00:30:04.008661", "content": "This was with a recent master branch commit 1411fb168 after 1 0 2 It seems like the custom resources are created in cloudformationtemplatecreatestack json while the lambda functions are only created in the next step in cloudformationtemplateupdatestack json Ill do some more testing and report an issue "},
{"id": 5394, "question_id": 539, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T15:09:49Z", "scrap_date": "2024-05-01T00:30:04.009661", "content": "Its probably related to this bug httpsgithub comserverlessserverlessissues2359"},
{"id": 5322, "question_id": 532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T22:30:54Z", "scrap_date": "2024-05-01T00:30:04.655940", "content": "You should use whatever package management your language of choice currently limited to Python NodeJs and Java recommends Serverless is a deployment framework it makes no decisions and has no preference on dependency management "},
{"id": 5323, "question_id": 532, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-14T09:45:21Z", "scrap_date": "2024-05-01T00:30:04.656940", "content": "And to add what rowanu said we even have a Maven template that uses normal Maven dependency management and simply installs dependencies in the final zip file and pushes it to AWS So you should be all set "},
{"id": 5324, "question_id": 532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T18:17:05Z", "scrap_date": "2024-05-01T00:30:04.656940", "content": "Thanks for the info How we do it when the development env is nodejs"},
{"id": 5325, "question_id": 532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T18:33:02Z", "scrap_date": "2024-05-01T00:30:04.657940", "content": "NodeJS by default installs dependencies into a local node_modules folder which will be picked up by default Nothing additional to do really"},
{"id": 5326, "question_id": 532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T21:06:49Z", "scrap_date": "2024-05-01T00:30:04.658940", "content": "I tried through package json defined the dependecies configuring the package options include in serverless yml file and it did not work package json scripts dependencies async 2 1 1\t serverless yml package include C\\Users\\U24285\\AppData\\Roaming\\npm\\node_modules\\async Am I doing anything wrong here"},
{"id": 5327, "question_id": 532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T21:11:47Z", "scrap_date": "2024-05-01T00:30:04.659941", "content": "I also made sure the modules are installed in nodejs The issue is modules folders are not being added in the deployment package So it fails when run saying Cannot find module async"},
{"id": 5328, "question_id": 532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T22:02:52Z", "scrap_date": "2024-05-01T00:30:04.659941", "content": "I found this httpstackoverflow comquestions37169377serverlessframeworkhowtoaddexternalnpmpackages but looks weird I think it may be like this Define a npm packag json in the application root directory and run an npm install save option to download all dependencies This will create a node_modules folder under root and the same will get added to the the deployment package That we can avoid commiting these modules into the bitbucket May be I am wrong any thoughts"},
{"id": 5472, "question_id": 547, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-15T10:53:56Z", "scrap_date": "2024-05-01T00:30:05.690146", "content": "When you create a Lambda you need to specify the handler function This is an AWS requirement and not something imposed by the Serverless framework If you want to a single Lambda function to handle different events you need to route everything through a single handler function inside the Lambda You can create multiple Lambda functions from a single source by exporting multiple handlers and then telling each Lambda to use a different handler I dont think theres one correct way to handle this The advantage of the first approach is that your Lambda is less likely to need a cold start if youre sending lots of events through it "},
{"id": 3142, "question_id": 314, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-17T13:43:53Z", "scrap_date": "2024-05-01T00:30:07.602540", "content": "Hi Emmanuel were currently working on better environment variable support for your functions Will be released in the near future and is a very important feature for us This should replace APIG stage variables completely I also have an extra question Why different stages are creating a whole new cloudFront stack on AWS instead of simply create an API Gateway stage in the same stack We believe that every infrastructure should be completely separate from each other so updating staging should not influence your production system which it would if we would be setting up APIG with different stages We simply disagree with AWS that this is a good way to build systems so we didnt use this feature "},
{"id": 3143, "question_id": 314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T08:00:14Z", "scrap_date": "2024-05-01T00:30:07.603891", "content": "Hi flomotlik Thank you for your answer Is there any github issue related to this feature that I can follow to stay up to date Cheers"},
{"id": 3144, "question_id": 314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T13:47:02Z", "scrap_date": "2024-05-01T00:30:07.604894", "content": "flomotlik Id like to clarify the following statement We believe that every infrastructure should be completely separate from each other so updating staging should not influence your production system which it would if we would be setting up APIG with different stages We simply disagree with AWS that this is a good way to build systems so we didnt use this feature Does this actually mean that now new API will be created per environment DEVTESTPROD and every single API will contain only one stage I am asking to finalize migration from 0 5 to 1 0 so after initial deployment I identified that my dev resources were moved to completely new API instance and I this causes some problems for consumers which currently use the old URL Thank you "},
{"id": 3145, "question_id": 314, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-20T14:03:18Z", "scrap_date": "2024-05-01T00:30:07.605894", "content": "Here is the Issue for Environment Variables Access environment variables in code Issue 1455 serverlessserverless GitHub Does this actually mean that now new API will be created per environment DEVTESTPROD and every single API will contain only one stage Yup exactly We also want to add an easier way for you to set up DNS for your API Gateway so you dont have to send out your actual API Gateway URL and can use a custom name in the future "},
{"id": 3147, "question_id": 314, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T18:51:27Z", "scrap_date": "2024-05-01T00:30:07.606895", "content": "Thanks flomotlik Thats useful information and now I am good to go "},
{"id": 3482, "question_id": 348, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-09-20T21:02:24Z", "scrap_date": "2024-05-01T00:30:08.593692", "content": "Hi Cagataygurturk Yes I absolutely remember you from the early days and I was also super sad when I noticed you left our community to build your own Framework because you are a VIP I understand your concern I am the original author of JAWSServerless Framework and it was always a personal dream of mine to work on it on a fulltime basis But doing opensource fulltime is hard Especially for me back then because I had very little resources as I was living in a small studio apartment coding the project on a laptop with a cracked screen Fortunately the project had strong traction which attracted investors and after various grassroots fundraising efforts it eventually became clear raising venture capital was the only way I could continue work on the project and scale it to meet the ambitious goals I believed it could achieve So I did As a result there is a company Serverless Inc that is now the owner and maintainer of the Serverless Framework which I founded and now run We employ 12 people Even better we hired many of our opensource contributors and are improving the Framework faster than ever The Company plans to keep the Framework opensource forever To be clear we are making products to accompany it Not just because we are a company but because there are things that myself and the team wish to build to solve problems for serverless workflows and architectures which we believe can only be sustained as a product All of our planned products will be optional Its up to them to succeed by their own merit Additionally several other companies have discussed building their own products into the Framework as plugins and thats fine with us Regarding your question of whether this is ethical Thats a big question There are dozens of companies who have started through opensource projects all of which have received tons of voluntary contributions yet also benefit tons of endusers who pay nothing I am personally unable and uncomfortable performing that ethical calculation But I am capable of empathy And if you feel you have personally suffered an injustice then tell me about it My email is austen[AT] serverless com Overall its still early for products and improving the Framework and its community is where the majority of our dollars are going Weve just hired a new awesome person who is in charge of acknowledging contributors and making them more visible as long as thats something they desire Even though you have a similar project you are still one of our VIPs and well be reaching out to you regarding this effort The contributions you made earlier on were meaningful to the project and meaningful to me personally Thank you Kind regards Austen Collins"},
{"id": 2662, "question_id": 266, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-21T03:35:53Z", "scrap_date": "2024-05-01T00:30:09.214706", "content": "I think you need to do cb null event Although I am a newcomer to serverless so this is an uneducated guess I think Ive seen stuff that tells me that this changed from 0 5 1 0 "},
{"id": 2532, "question_id": 253, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-14T14:53:00Z", "scrap_date": "2024-05-01T00:30:10.130972", "content": "hi did you make it working I got exactly the same issue "},
{"id": 2533, "question_id": 253, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-23T14:14:32Z", "scrap_date": "2024-05-01T00:30:10.131972", "content": "Hi It seems that the team is working on this issue and simplifying the vpc stuff in this PR Maybe we should wait some weeks for it "},
{"id": 2534, "question_id": 253, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-26T01:22:39Z", "scrap_date": "2024-05-01T00:30:10.133346", "content": "Ive discovered a workaround for the current RC version 1 Edit your yml file and remove all SecurityGroups and Subnet configuration 2 Add the following resource resources Resources AWSLambdaVPCAccessExecutionRole Type AWSIAMManagedPolicy Properties Description Policy for allowing vpc connection Roles Ref IamRoleLambdaExecution PolicyDocument Version 20121017 Statement Effect Allow Action ec2CreateNetworkInterface ec2DescribeNetworkInterfaces ec2DeleteNetworkInterface Resource 3 Run sls deploy 4 Notice that your Lambdas wont work without the VPCSG configurations however Serverless will create the role correctly 5 Edit your yml file again and add the VPCSG configurations 6 Run sls deploy again Notice that Serverless works with Cloudformation which updates the stack everytime you deploy "},
{"id": 3672, "question_id": 367, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-24T02:36:17Z", "scrap_date": "2024-05-01T00:30:10.828975", "content": "Yeah it could definitely be a permissions issue I looked through the blog post and code and couldnt find where he was setting that up Usually you would do it in serverless yml but theres nothing there Also did you manually via the console create the Pets table in DynamoDb"},
{"id": 3673, "question_id": 367, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T07:35:43Z", "scrap_date": "2024-05-01T00:30:10.829975", "content": "I created the pets table manually Ill have a look at the serveress yml that give me some kind of direction for finding the problem Thanks for answering my question"},
{"id": 3862, "question_id": 386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T23:25:00Z", "scrap_date": "2024-05-01T00:30:11.957021", "content": "Not something Ive used myself but have you tried referencing variables in another file directly Im guessing it would look something like"},
{"id": 3863, "question_id": 386, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-27T06:41:19Z", "scrap_date": "2024-05-01T00:30:11.958027", "content": "Thanks for the response Yeah I tried that also unless I put the list inline I receive"},
{"id": 3452, "question_id": 345, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-28T04:16:39Z", "scrap_date": "2024-05-01T00:30:12.875904", "content": "Related issue 2199 Perhaps I misunderstand your use case but rather than have two seperate services I would use one with a single serverless yml It would look something like this In the issue you posted 2199 you said you are using python For python code requiring a limited number of extra modules in this case your Commons I symlink it directly into the function directory This is clean and clear to those looking at project structure Furthermore it allows for clear python imports in the lambda function If you symlinked commons from AlarmsManager your Alarm py might look like this This method would allow you to keep your two individual services"},
{"id": 2642, "question_id": 264, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-09T07:56:07Z", "scrap_date": "2024-05-01T00:30:13.664911", "content": "I got the same error Serverless Framework Version youre using 1 0 0beta 2 Operating System Windows 10 enterprise"},
{"id": 2643, "question_id": 264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:52:31Z", "scrap_date": "2024-05-01T00:30:13.665911", "content": "Can you run serverless deploy noDeploy and inspect the created artifacts if they contain all dependencies and the handler file correctly requires the right path"},
{"id": 2644, "question_id": 264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-28T06:19:40Z", "scrap_date": "2024-05-01T00:30:13.666911", "content": "It was my mistake I was not properly referencing the modules It works properly "},
{"id": 3702, "question_id": 370, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-28T06:32:04Z", "scrap_date": "2024-05-01T00:30:14.502532", "content": "There is a PR open for it at the moment httpsgithub comserverlessserverlesspull2056"},
{"id": 2702, "question_id": 270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-11T12:36:50Z", "scrap_date": "2024-05-01T00:30:15.622024", "content": "According to the documentation 01apigateway md You should be able to define defaultcustom requestresponse templates But I came across an issue when trying their example code functions create handler posts create events http method get path whatever request template applicationjson httpMethod context httpMethod This fails at deployment "},
{"id": 2703, "question_id": 270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-11T15:46:28Z", "scrap_date": "2024-05-01T00:30:15.623024", "content": "Hi It seems RequestResponse templates are Velocity templates that transform HTTP request into Integration request i e Lambda event and Lamda integration response into HTTP method response On the contrary models are attached on the left client facing side in the AWS Api Gateway Console authoring dashboard BR"},
{"id": 2704, "question_id": 270, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-11T16:19:19Z", "scrap_date": "2024-05-01T00:30:15.624025", "content": "I had this issue recently I first wrapped it within single quote marks which fixed it but have found the nicest way that is currently supported is to do a multi line YAML string Example Hope this helps mjzone Jon"},
{"id": 2705, "question_id": 270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-11T16:46:54Z", "scrap_date": "2024-05-01T00:30:15.625025", "content": "Super it works like a charm Thanks Jon jonsharratt"},
{"id": 2706, "question_id": 270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-11T17:02:38Z", "scrap_date": "2024-05-01T00:30:15.625025", "content": "Thats right marjanSterjev I mixed up templatesmodels "},
{"id": 2707, "question_id": 270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:53:37Z", "scrap_date": "2024-05-01T00:30:15.626025", "content": "FYI were also currently working on a new feature for this that will make this a lot easier and mostly unnecessary due to automated matching More to come soon "},
{"id": 2708, "question_id": 270, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-29T15:04:58Z", "scrap_date": "2024-05-01T00:30:15.626025", "content": "Im also interested in support for APIGW requestresponse models I tried to just define them as CloudFormation resources but I still need to have the mapping between the method and the model I saw that there was httpsgithub comserverlessserverlessissues1734 but I havent found any other information "},
{"id": 4152, "question_id": 415, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-29T23:46:30Z", "scrap_date": "2024-05-01T00:30:16.602299", "content": "I havent tried to associate managed policies and Im not sure the provider or iamRoleStatements configuration objects support it As a workaround you could just inline the managed policy Looking at the AWSLambdaKinesisExecutionRole role in the AWS IAM Console it would look something like this in addition to your other statement "},
{"id": 4153, "question_id": 415, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-30T00:55:36Z", "scrap_date": "2024-05-01T00:30:16.604305", "content": "Thanks rowanu That does work I had done what you did copying the statement but had this Im not sure why specifying the specific resource commands stream doesnt work Im still learning about IAM policies and such Ill stick to your wildcard solution for now "},
{"id": 4154, "question_id": 415, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-30T03:16:06Z", "scrap_date": "2024-05-01T00:30:16.604305", "content": "Ah I only saw a subset of actions hence my suggestion The Resource ARN you specified looks too specific I would expect youd need a star somewhere in the last section i e streamcommands for it to work in a generic wayacross deployments Im not familiar with Kinesis so cant be more specific than that unfortunately "},
{"id": 4372, "question_id": 437, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2016-10-04T23:21:18Z", "scrap_date": "2024-05-01T00:30:17.727879", "content": "Its not currently possible in the core framework due to CFN behaviour but there is a plugin for that "},
{"id": 2212, "question_id": 221, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-01T21:59:59Z", "scrap_date": "2024-05-01T00:30:18.628547", "content": "Brett Francis had the same issue and ended up constructing the zip file himself through a script im assuming You can see part of the chat thread here httpsgitter imserverlessserverlessat57c680d02dcc4f3129484f87"},
{"id": 2213, "question_id": 221, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-05T06:54:07Z", "scrap_date": "2024-05-01T00:30:18.629547", "content": "Hi polvoazul I have never needed to prezip my python functions as per the gitter conversation pip install your packages beside the function code Then import in code as you would usually"},
{"id": 942, "question_id": 94, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-10T13:56:09Z", "scrap_date": "2024-05-01T00:30:19.623187", "content": "This can probably be fixed with a DependsOn setting httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsattributedependson html Otherwise the kinesis stream or the lambda function might not have been created thus the mapping doesnt work Please also check the function logical name as it isnt necessarily just myFunction"},
{"id": 943, "question_id": 94, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-16T04:23:35Z", "scrap_date": "2024-05-01T00:30:19.624187", "content": "Can you please show an example configuration that works I am trying to accomplish the exact same scenario and am stuck on the function name too I also tried to use the full name of the lambda function as it is deployed on AWS but still no luck "},
{"id": 944, "question_id": 94, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-16T04:56:17Z", "scrap_date": "2024-05-01T00:30:19.625188", "content": "OK I figured it out there needs to be DependsOn and IAM role EDIT I was trying to setup another stream which was failing on permissions for an indiscernible reason It appears to be because I needed to include IamPolicyLambda in DependsOn"},
{"id": 945, "question_id": 94, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-16T21:40:25Z", "scrap_date": "2024-05-01T00:30:19.626188", "content": "This solution does not work for me Still get the same error as mikkelspring Any suggestions"},
{"id": 946, "question_id": 94, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T02:53:27Z", "scrap_date": "2024-05-01T00:30:19.626188", "content": "Hey yeehaa123 sorry didnt see this because I left the job I was at It is still working for me but I have noticed that in general things can fail until you have created the function separately I tend to comment out all my resources deploy and then uncomment themdeploy again Also the variables have changed with Serverless RC1 so now I have"},
{"id": 947, "question_id": 94, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-05T16:39:40Z", "scrap_date": "2024-05-01T00:30:19.627188", "content": "yeeha123 If you are deploying with v1 0 0rc1 or later it might be because the way the lambda functions are named in the autogenerated CloudFormation file have changed so instead of every instance of hello in the resources section posted by mikkelspring you would need to replace it with HelloLambdaFunction as this is the name that Serverless gives the lambda hello in CloudFormation Cheers "},
{"id": 4592, "question_id": 459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T16:29:34Z", "scrap_date": "2024-05-01T00:30:20.756520", "content": "Hey endymion You actually do not need to If you deploy with v1 0 0rc1 or greater you should receive your event in your handler as automatically If you do want to do something more fancy the docs you are looking for are here httpsgithub comserverlessserverlessblobmasterdocs02providersawsevents01apigateway md Cheers "},
{"id": 4593, "question_id": 459, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T20:35:59Z", "scrap_date": "2024-05-01T00:30:20.757521", "content": "Hi ianserlin Thank you very much for your help "},
{"id": 4632, "question_id": 463, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-05T22:42:36Z", "scrap_date": "2024-05-01T00:30:21.870044", "content": "Yes if youre after code sharing they you should use whatever modulepackage management tool your language e g npm for node etc and just treat your separate Serverless servers as standalone applications aka microservices This will ensure you can lock your code to specific versions which will make upgrading shared functionality much easier in the future trust me on this one If you need to share AWS resources e g ARNs etc then you want the new crossstack references Each of your services will be their own CFN stack and you can define your own outputs and refer to them from other services "},
{"id": 1412, "question_id": 141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T17:12:13Z", "scrap_date": "2024-05-01T00:30:24.083029", "content": "You can take a look at the recently released Serverless Webpack plugin httpsgithub comelasticcodersserverlesswebpack Were probably going to move it into our Community plugins repo at some point httpsgithub comserverlesscommunityplugins"},
{"id": 1413, "question_id": 141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-25T13:19:30Z", "scrap_date": "2024-05-01T00:30:24.084029", "content": "Thanks I am using this now to reduce my deployment package from 3 6mb to 380kb Lots better "},
{"id": 1722, "question_id": 172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T15:08:59Z", "scrap_date": "2024-05-01T00:30:25.216383", "content": "This is a bug and will be resolved soon with this Issue httpsgithub comserverlessserverlessissues1931"},
{"id": 1723, "question_id": 172, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:18:32Z", "scrap_date": "2024-05-01T00:30:25.217383", "content": "Thanks for letting me know "},
{"id": 1862, "question_id": 186, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-08-29T09:43:44Z", "scrap_date": "2024-05-01T00:30:26.190706", "content": "Hi We have working auth with Cognito user pool but it is still using Serverless 0 5 First what you need is custom authorizer function httpsgithub comkebooladeveloperportaltreemasterauthorizer it is more or less copied from some aws tutorial API Gateway supports direct Cognito User pool authorizer however I didnt find a way how to reference it from endpoint deifinition in Serverless Then you configure endpoints like this httpsgithub comkebooladeveloperportalblobmasterauthmesfunction jsonL17 Im not sure if I havent forgotten something just ask if anything is not clear Jakub"},
{"id": 1863, "question_id": 186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-29T10:31:21Z", "scrap_date": "2024-05-01T00:30:26.192707", "content": "currently i use server less v1 Can i move v1 to v0 5"},
{"id": 1864, "question_id": 186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-29T13:41:03Z", "scrap_date": "2024-05-01T00:30:26.192707", "content": "I dont think it is necessary you just need to adjust our code for sls 1 0 "},
{"id": 1865, "question_id": 186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:14:56Z", "scrap_date": "2024-05-01T00:30:26.193707", "content": "You should be able to set this up through custom resources httpsgithub comserverlessserverlessblobmasterdocsguidecustomproviderresources md Currently cognito isnt supported by Cloudformation so we cant set it up automatically "},
{"id": 1866, "question_id": 186, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:22:09Z", "scrap_date": "2024-05-01T00:30:26.194707", "content": "If anyone manages to set it using custom resources I would be very grateful to see it So far I have zero experience with Cloud Formation and dont have a clue how to start so now I give up until Cognito is supported o "},
{"id": 1982, "question_id": 198, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-29T22:42:08Z", "scrap_date": "2024-05-01T00:30:27.359740", "content": "CFN is just JSON you can use any JSON to YAML toolservice to do the conversion I havent used Kinesis yet myself but I think what youre trying to do should be possible You may just need to include a reference to the IAM Role that is automatically assigned to your Lambda Functions by Serverless IamRoleLambda You can see an example creating a resource and allowing access to it from your functions on my blog about using DynamoDb with Serverless "},
{"id": 1983, "question_id": 198, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:38:14Z", "scrap_date": "2024-05-01T00:30:27.361741", "content": "As rowanu already mentioned you can use any JSONyml converted for the IAM Role I would use a Ref instead of defining it directly thats probably what rowanu meant as well With the new variable system were merging soon you can even leave it in JSON and include it through the variable file syntax Also dont forget to use serverless deploy noDeploy to get the compiled CF template so you can take a look before deploying it And if you get it running let me know super interested in things like this and showing our community the different ways users set up complex projects on Serverless"},
{"id": 1984, "question_id": 198, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-30T13:24:09Z", "scrap_date": "2024-05-01T00:30:27.362741", "content": "Thanks Rowan I hadnt thought to create individual policies as you have in your post I think that will help Ill update with Progress Also thanks flomotlik deploy noDeploy is really helping Im piecing together a lambdafirehoseredshift chain and will post here if I get it working Cheers "},
{"id": 2062, "question_id": 206, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-30T06:14:00Z", "scrap_date": "2024-05-01T00:30:28.395611", "content": "Hey camhart basically what you need to do is check the Cloudformation template were creating for you and then in the resources section you can overwrite those configurations in the cloud formation template by creating the same template structure and changing whichever values should be different This is definitely an advanced feature and it certainly helps if you have Cloudformation experience already "},
{"id": 2063, "question_id": 206, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-30T15:14:40Z", "scrap_date": "2024-05-01T00:30:28.396612", "content": "flomotlik Ive figured out I can do the following to get it set as well as setting the AuthorizationType to AWS_IAM however I found the name PostMethodApigEventCreateaccountAccountCreate by looking it up under AWS consoles cloud formation listing Is it possible for me to not have to lookup the name PostMethodApigEventCreateaccountAccountCreate but somehow grab the name Do you think a custom plugin would be required I should add I tried changing the name but carrying in the references see below that that resource had but cloudformation didnt like it Edit While this results in the box being checked I started to get unexplained 5XX errors I might be missing something essential that also needs included "},
{"id": 2322, "question_id": 232, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-05T17:20:41Z", "scrap_date": "2024-05-01T00:30:29.576941", "content": "At the moment running your function locally is not supported in the framework you can take a look at the serverless offline plugin httpsgithub comdheraultserverlessofflinetreeserverless_v1"},
{"id": 2162, "question_id": 216, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:36:14Z", "scrap_date": "2024-05-01T00:30:30.196681", "content": "Thanks WilliamEddy I opened a PR on our site repo httpsgithub comserverlesssitepull7"},
{"id": 2142, "question_id": 214, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-05T17:40:37Z", "scrap_date": "2024-05-01T00:30:31.186726", "content": "V0 and V1 dont fully overlap in terms of features The best way to start would be going through the docs and the guide at httpsgithub comserverlessserverlesstreemasterdocs so you fully understand the feature set of V1 and can then decide how to move it over It very much depends on the different features you used in V0"},
{"id": 1782, "question_id": 178, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-25T11:03:43Z", "scrap_date": "2024-05-01T00:30:32.001173", "content": "Can you try adding a dependsOn configuration to the EventSourceMapping to make sure the function is created first Or is the function already created and you just want to add something"},
{"id": 1783, "question_id": 178, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-25T12:04:00Z", "scrap_date": "2024-05-01T00:30:32.002179", "content": "The function is already created "},
{"id": 1784, "question_id": 178, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-25T12:52:09Z", "scrap_date": "2024-05-01T00:30:32.003179", "content": "Are you on the latest beta or master Weve shipped something recently that could potentially solve this problem otherwise can you run serverless deploy noDeploy so we can see the full CF template and maybe you can see an issue there What is the error Cloudformation is showing in the webUI soon we will show those errors on the command line as well "},
{"id": 1785, "question_id": 178, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-25T20:33:25Z", "scrap_date": "2024-05-01T00:30:32.004179", "content": "Im using the latest beta i see the cloudformation ang im getting this error stack bellow CREATE_FAILED\tAWSLambdaFunction\thello\tTemplate error IAM role awsnodejsdevIamRoleLambda24KZ4873YXHE doesnt exist"},
{"id": 1786, "question_id": 178, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-05T17:48:27Z", "scrap_date": "2024-05-01T00:30:32.004179", "content": "Hmm this might be solved with a few recent merges we did but there is also an issue with a race condition that happens sometimes with Roles Can you try with the latest master"},
{"id": 2362, "question_id": 236, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-05T23:40:19Z", "scrap_date": "2024-05-01T00:30:32.898994", "content": "Looks like a great chance to contribute to the project send a PR httpsgithub comserverlessserverless"},
{"id": 2352, "question_id": 235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:51:42Z", "scrap_date": "2024-05-01T00:30:33.891057", "content": "Can you try this with the latest master We just updated the naming of resources and this should work now I think "},
{"id": 2353, "question_id": 235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T18:19:24Z", "scrap_date": "2024-05-01T00:30:33.892057", "content": "I can try but i dont see recent commits related to this"},
{"id": 2354, "question_id": 235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T18:44:19Z", "scrap_date": "2024-05-01T00:30:33.893058", "content": "This one should have introduce it httpsgithub comserverlessserverlesspull1951"},
{"id": 2355, "question_id": 235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T21:29:37Z", "scrap_date": "2024-05-01T00:30:33.894058", "content": "did a fresh npm g install serverlessserverless and tried for the entire past hour to make it work and it did not work did you click the pic to see the problem with mapping the api to the services ^^"},
{"id": 2356, "question_id": 235, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-06T03:24:33Z", "scrap_date": "2024-05-01T00:30:33.894058", "content": "if 1738 could be fixed I could at least create versioned url like this v1 api mydomain comusers usable for my needs can this be fixed soon"},
{"id": 772, "question_id": 77, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-05T02:20:37Z", "scrap_date": "2024-05-01T00:30:34.899121", "content": "Im going to need this too"},
{"id": 773, "question_id": 77, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-05T12:27:51Z", "scrap_date": "2024-05-01T00:30:34.900121", "content": "We dont have CORS support in master yet but we have a pull request that will be merged really soon There was a bug until yesterday that stopped us from merging The PR is here httpsgithub comserverlessserverlesspull1703"},
{"id": 774, "question_id": 77, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-31T04:15:51Z", "scrap_date": "2024-05-01T00:30:34.901122", "content": "Hey guys so did this get in 1 0 0 beta 2 I am trying getInvite handler getInvite handle events http path invites inviteId method get cors origins headers xcustomheader"},
{"id": 775, "question_id": 77, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:41:45Z", "scrap_date": "2024-05-01T00:30:34.902122", "content": "beeleebow there was a bug with custom headers Can you try this with the latest master branch"},
{"id": 776, "question_id": 77, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-06T09:50:43Z", "scrap_date": "2024-05-01T00:30:34.903122", "content": "Yeah I actually work with puug who tracked down the bug We have just been monkey patching for the last week or so Keep up the good work guys this serverless thing has legs"},
{"id": 777, "question_id": 77, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-06T12:07:03Z", "scrap_date": "2024-05-01T00:30:34.903122", "content": "beeleebow cool let us know if anything else comes up"},
{"id": 2372, "question_id": 237, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-06T12:29:16Z", "scrap_date": "2024-05-01T00:30:35.764486", "content": "Thanks fixed here httpsgithub comserverlessserverlesspull2034"},
{"id": 2392, "question_id": 239, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-06T07:46:59Z", "scrap_date": "2024-05-01T00:30:36.212501", "content": "I guess I can look for error codes directly in the regex something like NotAuthorizedException UserNotFoundException But will the disjunction work I didnt see it in any example but I would have to specify the response for each lambda function again and again now I use template according to httpsgithub comserverlessserverlessissues608 Well simply I m not sure whats the best approach and welcome any suggestions o "},
{"id": 2393, "question_id": 239, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-06T12:31:14Z", "scrap_date": "2024-05-01T00:30:36.214502", "content": "Were currently discussing this functionality here httpsgithub comserverlessserverlesspull2014 Basically so youre able to add your own regexes"},
{"id": 2462, "question_id": 246, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-06T21:34:47Z", "scrap_date": "2024-05-01T00:30:37.256018", "content": "looks like this is the best source httpsgithub comserverlessserverlessmilestone13closed1 from this list it looks like and probably a ton of other things i missed while skimming "},
{"id": 2463, "question_id": 246, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-07T07:05:00Z", "scrap_date": "2024-05-01T00:30:37.257019", "content": "dennisnewel and flomotlik what are your thoughts on maintaining a changelog md for tracking the changes Raised issue 2051 on this "},
{"id": 2464, "question_id": 246, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-08T12:01:43Z", "scrap_date": "2024-05-01T00:30:37.258019", "content": "Were releasing a blog post for every release in our blog httpblog serverless comnewreleaseserverlessv10rc1 In the future well also do proper Changelogs we just decided as were doing blogposts at the moment for everything that changed the Changeling is not necessary until after the V1 release "},
{"id": 2602, "question_id": 260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-08T19:30:41Z", "scrap_date": "2024-05-01T00:30:38.204087", "content": "Pending Issue 1455 and Closed PR 2053 follow the discussion for possible solutions "},
{"id": 262, "question_id": 26, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-19T15:44:07Z", "scrap_date": "2024-05-01T00:30:39.291288", "content": "I really like the approach of Eric Elliott to unit testing Could you structure the default testing suite in Serverless to mimic this style Or even various styles depending on which you prefer Could set up in CLI during project setup Measuring Software Quality Reading time 9 min read"},
{"id": 263, "question_id": 26, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-19T16:08:35Z", "scrap_date": "2024-05-01T00:30:39.292288", "content": "n1alloc interesting Thanks for sharing Is that what you use to test your won serverless applications"},
{"id": 264, "question_id": 26, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-19T16:43:05Z", "scrap_date": "2024-05-01T00:30:39.292288", "content": "We initially used from scratch Even though we still do not have a boilerplate we do use couple of our own code blocks We are still on V0 5 6 We make heavy use of serverlessoffline plugin when it comes to the development We also have developed couple of serverless plugins which we use at development For DynamoDb npm serverlessdynamodblocal Serverless dynamodb local plugin For Shared dependencies and dependency management GitHub 99xtserverlessdependencyinstall Serverless plugin to manage dependencies Contribute to 99xtserverlessdependencyinstall development by creating an account on GitHub I would also love to see some functionality to debug serverless projects Offline May be attaching chrome debugger tools would be nice "},
{"id": 265, "question_id": 26, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-21T15:16:28Z", "scrap_date": "2024-05-01T00:30:39.294289", "content": "Do you rely on local development 100 its a little tough to locally test everything specially when youre dealing without outside services Mailchimp twiliio etc It seems that for practical applications youre gonna have to get back online sooner or later "},
{"id": 266, "question_id": 26, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-07-21T16:26:55Z", "scrap_date": "2024-05-01T00:30:39.295283", "content": "Not 100 but most of the time Do agree with you when we need external services we move out from offline However given our use cases so far offline was pretty useful for us "},
{"id": 267, "question_id": 26, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-07-27T21:08:15Z", "scrap_date": "2024-05-01T00:30:39.296290", "content": "I started out testing 100 locally I abandoned that fairly quickly as the support isnt great The important part of local testing is quick feedback loops I dont really care if my code is run on my machine or AWS but I do care if it takes 5 minutes to test a small change or I have to dig through lots of CloudFormation logs to see an error Ive gone from testing locally to testing only on AWS Im using TDD writing testing with vows and lambda wrapper to test code before deploying and testing on AWS CloudFormation logs are very helpful when you find the right logs The API Gateway logs can be difficult to deal with Matching a request to API Gateway logs is hard and its frustrating to test and resolve "},
{"id": 268, "question_id": 26, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-08-04T01:35:34Z", "scrap_date": "2024-05-01T00:30:39.297290", "content": "I would echo rehrumesh comments earlier We wish to do more local development This is especially useful in the debugging stage since we can use codeinsight while the code is running in our environments A pluggable mock system could help to use plugins for different AWS services as they become available The goal is the following At each stage the we could weed out issues with the least amount of work Digging through AWS log files is a very inefficient way at the moment "},
{"id": 269, "question_id": 26, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-05T02:16:06Z", "scrap_date": "2024-05-01T00:30:39.298290", "content": "I would also really like to develop locally for most things I am working on a REST API to sit in front of DynamoDB and Im creating an SPA frontend application based on Ember that will utilize the API Several Lambda scripts will be triggered based on events I dont need every events result to be accurately represented only that Im passing in what Im expected and getting returned what I expected Whether an external service like MailChimp got the request or whether a resulting file actually ended up in S3 is not really that important in the initial stages for my use case But being able to get the basic interaction and flow of data between the front end application to the API Gateway to DynamoDB in place locally would be really nice And being able to see whats happening in a particular place in my code by dropping a break point or debugger statement is much more helpful than sifting through logs after the fact Then when I feel like Im achieving what I wanted deploy to dev test then stage test then prod "},
{"id": 2610, "question_id": 26, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-10T08:56:19Z", "scrap_date": "2024-05-01T00:30:39.300290", "content": "dehuszar If you are using Serverless v0 5X give following library a try httpswww npmjs compackageserverlessdynamodblocal This library will emulate DynamoDB locally "},
{"id": 2611, "question_id": 26, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-10T10:02:58Z", "scrap_date": "2024-05-01T00:30:39.300290", "content": "rehrumesh Thanks Yeah I had seen that as well Since 1 x is a bit of a bigbang rewrite I am stating the above more as a desire to ensure the new codebase can still accommodate the features provided by the library you mention as well as the serve and offline plugins I will probably keep learning how to use and configure AWS by hand using their provided tools until the 1 x codebase gets a little more stabilized and regains some form of offline testing workflow "},
{"id": 962, "question_id": 96, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-12T10:17:00Z", "scrap_date": "2024-05-01T00:30:40.188525", "content": "Can you check what specific issue is shown in Cloudformation and post them here"},
{"id": 832, "question_id": 83, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-15T09:18:42Z", "scrap_date": "2024-05-01T00:30:41.028065", "content": "Hi all of this will be possible with upcoming changes You can follow the pull request here httpgithub comserverlessserverlesspull1834 I cant give exact details how all of those features will work as were currently implementing them but both use cases you mentioned are very important for us best Flo"},
{"id": 833, "question_id": 83, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-15T11:37:57Z", "scrap_date": "2024-05-01T00:30:41.030065", "content": "Hi Flo Excellent that is very good to hear I will monitor that issue closely thank you for your reply "},
{"id": 1562, "question_id": 156, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T09:22:33Z", "scrap_date": "2024-05-01T00:30:42.145059", "content": "At the moment youre not able to reference an existing API We decided that all resources that are used inside of a service should also be created by that service as it makes the CF deployment much cleaner Any resource you want to handle externally needs to be connected externally as well What you would have to do is create the functions through Serverless and then configure your existing endpoint to run those previously deployed functions This way you can have one API Gateway endpoint configured "},
{"id": 1522, "question_id": 152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-21T05:56:31Z", "scrap_date": "2024-05-01T00:30:43.062825", "content": "I have this same need I have edited serverless env yaml to include variables under the stage but they are not showing up under process env in my lambda function "},
{"id": 1523, "question_id": 152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-21T08:14:21Z", "scrap_date": "2024-05-01T00:30:43.063825", "content": "I think that Im gonna use serverlesssecrets for this "},
{"id": 1524, "question_id": 152, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T09:25:36Z", "scrap_date": "2024-05-01T00:30:43.064831", "content": "At the moment we dont include any environment variables or config variables into your lambda Were still discussing internally how we want this to be done in a cross language way Here is the issue discussing this httpsgithub comserverlessserverlessissues1455"},
{"id": 1332, "question_id": 133, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T17:16:40Z", "scrap_date": "2024-05-01T00:30:44.208456", "content": "The bucket is defined and created through the Cloudformation template If it is removed by hand that might lead to the issue you mentioned and you probably have to completely redeploy the whole system or create that bucket by hand again "},
{"id": 1333, "question_id": 133, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T17:31:30Z", "scrap_date": "2024-05-01T00:30:44.209456", "content": "Thats what appeared to have happened Is this something that could be fixed with a cleanup type method where serverless can fix the issue I spent several hours trying to figure out what happened I could not sls deploy in the same directory I had to go to a new directory and create an environment and then sls deploy Then I cam back to my old directory and it worked again "},
{"id": 1334, "question_id": 133, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T18:28:35Z", "scrap_date": "2024-05-01T00:30:44.210456", "content": "Kind of but well also add some warnings to the documentation that resources should only be changed through cloudforamtion otherwise there might be inconsistencies This is definitely lacking from the docs thanks for bringing this up "},
{"id": 1742, "question_id": 174, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-24T15:09:44Z", "scrap_date": "2024-05-01T00:30:45.276391", "content": "You can use any Unit testing framework for your specific language to test the functions E g Mocha for Nodejs best Flo"},
{"id": 1672, "question_id": 167, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T15:11:38Z", "scrap_date": "2024-05-01T00:30:45.879593", "content": "Its planned for the next release that should come out over the next few weeks High priority issue for us "},
{"id": 1673, "question_id": 167, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-24T18:02:35Z", "scrap_date": "2024-05-01T00:30:45.880593", "content": "Hi Florian Great to hear that Thanks for the feedback I know that in projects like this is hard to kept an agenda but sharing a rough ETA for bigger milestones would he us plan if we should wait for it or if we need to account for some alternative in the meantime Congrats for you and the team by the way Serverless is growing into a great tool "},
{"id": 1674, "question_id": 167, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-25T10:53:37Z", "scrap_date": "2024-05-01T00:30:45.881594", "content": "The best place to check are our Github milestones httpsgithub comserverlessserverlessmilestones That will give you a good picture of next steps and release timeframe"},
{"id": 1572, "question_id": 157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T09:17:41Z", "scrap_date": "2024-05-01T00:30:46.703054", "content": "Yes you can simply point to the subdirectory with invitesinviteHanderls create I added a PR for putting this into our docs httpsgithub comserverlessserverlesspull1919"},
{"id": 1573, "question_id": 157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-23T03:35:53Z", "scrap_date": "2024-05-01T00:30:46.704054", "content": "Hey I think the issue I am having is with serverless on windows It seems when I deploy from windows the lambda function doesnt get the dependencies bundled up with it I get errors about not being able to find referenced modules This doesnt occur when I do the sls deploy from a mac Any ideas why the difference between platforms This is what I get on Windows But I get the expected response on Mac Here is the repo I am using httpsgithub combeeleebowserverlessexample Thanks for your help Brad"},
{"id": 1574, "question_id": 157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-23T03:43:34Z", "scrap_date": "2024-05-01T00:30:46.705055", "content": "Yes there is an issue in beta 2 causing sub directories to be somewhat invisible when unzipped in AWS when packaged from Windows There is a PR to fix this httpsgithub comserverlessserverlesspull1863 I reproduced the changes locally a few days ago and it has been working great since"},
{"id": 1575, "question_id": 157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-23T07:36:24Z", "scrap_date": "2024-05-01T00:30:46.706056", "content": "The PR has been merged into master btw so if you do npm install g serverlessserverless youll get the latest master with that change"},
{"id": 1576, "question_id": 157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-25T11:13:39Z", "scrap_date": "2024-05-01T00:30:46.707055", "content": "Thanks We ended up using httpsgithub comelasticcodersserverlesswebpack which gets us around this problem via the webpack bundling"},
{"id": 2482, "question_id": 248, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-12T18:29:05Z", "scrap_date": "2024-05-01T00:30:47.667482", "content": "Im using httpcodeship com for automated deployments triggered by checkins on bitbucket Im sure you can do the same thing with Jenkins What im doing is firstly make sure i have serverless installed as well as the dependencies then i add variablessecrets code not included here and deploy everything to the dev stage For 1 0 the deployment command is different but the rest is pretty much the same"},
{"id": 972, "question_id": 97, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-11T01:56:47Z", "scrap_date": "2024-05-01T00:30:48.550381", "content": "Another question just emerged In 1 0 how do you just generate the CloudFormation template without deploying it to AWS Previously with 0 5 serverless project create c true now with 1 0"},
{"id": 973, "question_id": 97, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-13T16:29:22Z", "scrap_date": "2024-05-01T00:30:48.551381", "content": "Im also trying to find an example of serverless yml with multiple functions but cant Can someone post one here please"},
{"id": 974, "question_id": 97, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-15T09:13:16Z", "scrap_date": "2024-05-01T00:30:48.552381", "content": "Bilal you can add new functions the the yml and point to any handler file either in the same directory or sub directories I dont think well be adding a create function command anytime soon as adding new functions is a lot easier in V1 than it was in V0 You also dont have to point it to 1 specific file e g handler js you can point it to any file you want to as long as its part of your service and will be zipped and uploaded For creating only the artefacts but not deploy them we currently have a PR open that will fix this httpsgithub comserverlessserverlesspull1808"},
{"id": 975, "question_id": 97, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-18T05:17:26Z", "scrap_date": "2024-05-01T00:30:48.553381", "content": "Echoing the OPs comment publishing a v0 vs v1 page would be really helpful because I think its fair to say the differences are quite significant I personally feel like I just mastered v0 and v1 really feels like a completely different product Thats not a critique either new isnt bad but having a comparison blog post or chart may help veteran users transition faster "},
{"id": 976, "question_id": 97, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T17:13:21Z", "scrap_date": "2024-05-01T00:30:48.554382", "content": "Yup now that were closer to 1 x release and figured out all the features were starting to get to a point where were going to write more docs and especially can provide an update guide Thats definitely the plan to go forward so you know exactly how to update from 0 5 to 1 0"},
{"id": 977, "question_id": 97, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-13T00:38:56Z", "scrap_date": "2024-05-01T00:30:48.555382", "content": "flomotlik I think you should reconsider creating additional functions in the Serverless CLI I think it would be easy to implement and it is a good feature especially for new users who are unsure of how to wire in a new function I liked how much you could do with the command line on v 5 and feel like you guys have cut a lot of that out of the newer version A simple project structure example with multiple endpoints would also go a long way to reassure new users that their structure is sound Just my 2 cents I loved serverless since JAWS "},
{"id": 978, "question_id": 97, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-13T07:57:30Z", "scrap_date": "2024-05-01T00:30:48.556383", "content": "contractorwolf yeah especially around docs and examples there is a LOT we need to do to make complex examples easier to understand and set up One of the main reasons why I dont want to add a separate function create command is because I think it would make it too easy for us to have a bad UX in the config file e g Yeah the serverless yml gets more complex and hard to manage but it doesnt matter because we have those helper commands I want the config file to be soooo damn easy and the provided examples and template projects to be so clear that there is simply no question how to do or change things in your serverless yml by hand Any tooling we build on top of the config file that makes setting up the config file easier would set the wrong incentives for us because we can always rely on a crutch with the commands So I totally get the problem youre talking about and we need to tackle it I just dont want to set the wrong incentives for us and the community working on it because I strongly believe that setting the right incentives is really important for the long term success of the Project or any project really "},
{"id": 2842, "question_id": 284, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-13T15:20:50Z", "scrap_date": "2024-05-01T00:30:49.589765", "content": "Ok solved I need two indentations under http four spaces instead of two Sorry for messing this forum "},
{"id": 3032, "question_id": 303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-15T04:34:36Z", "scrap_date": "2024-05-01T00:30:50.193612", "content": "how do I create project with sls when I tried sls project create it says project not found and when I tried serverless create template awsnodejs it just creats template how to I create full project "},
{"id": 3033, "question_id": 303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-15T12:30:48Z", "scrap_date": "2024-05-01T00:30:50.194612", "content": "Hi vinodhum Serverless v1 changed how projects are setup With v0 you got a scaffolding when you created the project With v1 you have to scaffold everything yourself as you see fit and configure it in the serverless yml file MemorySize and Timeout can be configured for each function like this"},
{"id": 3034, "question_id": 303, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-15T17:12:04Z", "scrap_date": "2024-05-01T00:30:50.195612", "content": "thanx a lot it worked "},
{"id": 3102, "question_id": 310, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-15T21:03:41Z", "scrap_date": "2024-05-01T00:30:51.296643", "content": "Resolved with changing frontend request headers Seemed to be malformed headers on the request EDIT Upon more research this did not get solved by changing the front end headers It seems the options method 200s then gets the preflight error"},
{"id": 2902, "question_id": 290, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:26:55Z", "scrap_date": "2024-05-01T00:30:52.213973", "content": "Depending on how fast the calculations need to be you could run it in several datacenters and then have eventually consistent results e g calculate in 2 datacenters or have fallback only and compare the results of both If they are fine everything is good if one datacenter dies not a problem because it gets calculated twice Depends on how expensive your calculations are and if calculating twice would be fine "},
{"id": 2772, "question_id": 277, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-15T22:31:23Z", "scrap_date": "2024-05-01T00:30:53.298923", "content": "The serverless env yml file is gone Profiles per stage will be supported once this PR is merged "},
{"id": 2773, "question_id": 277, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:44:17Z", "scrap_date": "2024-05-01T00:30:53.299923", "content": "Merged now available on master"},
{"id": 2592, "question_id": 259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-09T05:22:06Z", "scrap_date": "2024-05-01T00:30:54.307961", "content": "From what I have seen so far you cant properly version your APIs or Lambda functions with Serverless My definition of proper is basically you can have multiple version running at the same time Ive tried many different ways to do this with the framework but none were successful "},
{"id": 2593, "question_id": 259, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:51:29Z", "scrap_date": "2024-05-01T00:30:54.309961", "content": "shawnmullen the basic problem is that Versioning of Lambda functions and Cloudformation doesnt play well together We got this request a few times now and we might implement this at some point in the future but were not sure yet how exactly "},
{"id": 1932, "question_id": 193, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-26T23:07:08Z", "scrap_date": "2024-05-01T00:30:55.331743", "content": "It seems from looking at the source code that setting the AWS_PROFILE environment variable to the name of the profile is the way to do it currently "},
{"id": 1933, "question_id": 193, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-04T07:25:01Z", "scrap_date": "2024-05-01T00:30:55.332744", "content": "There are 2 PRs currently pending about this httpsgithub comserverlessserverlesspull1905 and httpsgithub comserverlessserverlesspull1945"},
{"id": 1934, "question_id": 193, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:30:46Z", "scrap_date": "2024-05-01T00:30:55.333744", "content": "Yup this will be fixed soon as andymac4182 mentioned"},
{"id": 1935, "question_id": 193, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-09-18T14:33:39Z", "scrap_date": "2024-05-01T00:30:55.333744", "content": "Im trying out Serverless for the first time and found documentation outlining use of a profile to authenticate Serverless with AWS httpsgithub comserverlessserverlessblobmasterdocs02providersaws01setup md service newservice provider name aws runtime nodejs4 3 stage dev profile devProfile The above documentation seems to conflict with this issue and the related PRs and my attempts to set the profile in serverless yml have failed it simply throws the ServerlessError AWS provider credentials not found I know this issue and the responses are recent but I just wanted to follow up on this and figure out if this has been resolved yet and if so how I can use it I installed Serverless via npm and its at 1 0 0rc 1 Do I need to install a later version off github and do you have instructions for doing so"},
{"id": 3182, "question_id": 318, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T00:00:35Z", "scrap_date": "2024-05-01T00:30:56.372078", "content": "It looks like you have an issue with your code or event json If you set SLS_DEBUG youll get a more detailed stack track which might include a specific file and line number Run this command to set it once SLS_DEBUG serverless invoke f hello p event json "},
{"id": 3152, "question_id": 315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-16T20:24:23Z", "scrap_date": "2024-05-01T00:30:57.487991", "content": "never mind i figured it out its yaml got another question how to I reference the table created in iamRole "},
{"id": 3153, "question_id": 315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T04:34:50Z", "scrap_date": "2024-05-01T00:30:57.488991", "content": "anybody know how to the ref to table to iamRole Resource "},
{"id": 3154, "question_id": 315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:36:16Z", "scrap_date": "2024-05-01T00:30:57.489991", "content": "Wouldnt using Ref work like described here httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcedynamodbtable html"},
{"id": 3155, "question_id": 315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T18:03:31Z", "scrap_date": "2024-05-01T00:30:57.489991", "content": "ya fallowed that guide but I keep getting below error An error occurred while provisioning your stack IamPolicyLambdaExecution ActionsCondition can contain only one colon here what I am using"},
{"id": 3156, "question_id": 315, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T03:18:41Z", "scrap_date": "2024-05-01T00:30:57.490992", "content": "Shameless selfpromotion here I wrote a blog post on adding DDB to my Serverless Service "},
{"id": 3172, "question_id": 317, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T00:02:07Z", "scrap_date": "2024-05-01T00:30:58.471288", "content": "Does your IAM UserRole have permission to editmodify Lambdas It sounds like a permissions issue You can run serverless deploy noDeploy and then inspect the zip file created in the serverless directory to see exactly whats included in your Lambda function It should contain your node_modules directory if things are working as expected "},
{"id": 3173, "question_id": 317, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-19T05:38:24Z", "scrap_date": "2024-05-01T00:30:58.473464", "content": "You cant edit the function online because we upload a zip file to Lambda After deployment you can check the serverless folder in your service where youll find the zip file and Cloudformation templates that were deployed if you run serverless deploy noDeploy the artifacts will be created and not deployed "},
{"id": 2042, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-29T22:36:41Z", "scrap_date": "2024-05-01T00:30:59.369018", "content": "I like your request to work with CFN Change Sets and I dont think its possible yet Ill have a look to see how much work that will be as it sounds useful Restricting deployment access to a specific user is not going to be something I think that the Serverless framework will be able to do for you its more of an AWS setting As mentioned in the setup docs the framework currently works best with Administratorlevel policy access to your AWS account so restricting it is not really possible until all the IAM requirements are naileddown In the future when all requirements are sorted it will be possible to set up a restricted role to run deployments with and require that users using that role have 2FA enabled but not yet "},
{"id": 2043, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T07:02:50Z", "scrap_date": "2024-05-01T00:30:59.371019", "content": "Im happy to configure all of that manually in AWS My main question is Can I generate the CloudFormation JSON with serverless to upload manually instead of deploying directly with serverless"},
{"id": 2044, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T07:08:05Z", "scrap_date": "2024-05-01T00:30:59.372020", "content": "Yup serverless deploy noDeploy Although at the moment the stack needs to be created but if you just want to update things running the command will put the compiled cf templates into a serverless folder in your current directory"},
{"id": 2045, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T07:30:54Z", "scrap_date": "2024-05-01T00:30:59.373020", "content": "At the moment the generate json file doesnt seem to include anything defined under functionsevents only custom resources defined in the resources section of serverless yml Is that correct"},
{"id": 2046, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T13:34:05Z", "scrap_date": "2024-05-01T00:30:59.373020", "content": "serverless deploy noDeploy should include everything 2 files should be created one stack file that shows the stack that will be used for creation of the whole CF stack and one to update The update one has all resources in it If it was never deployed before it might fail otherwise it should work fine "},
{"id": 2047, "question_id": 204, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-30T13:49:11Z", "scrap_date": "2024-05-01T00:30:59.374021", "content": "Ok seems like thats a bug in 1 0 0beta2 that has been fixed since httpsgithub comserverlessserverlesspull1881"},
{"id": 2048, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-09T13:04:29Z", "scrap_date": "2024-05-01T00:30:59.375025", "content": "Hi All Regarding the CloudFront template I dont have enough permissions to create CF in AWS due to the Company policy restrictions But I have existing CF template created by Admin Is it possible to associate this existing one with serverless service via configuration Thanks "},
{"id": 2049, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:50:08Z", "scrap_date": "2024-05-01T00:30:59.376021", "content": "dtabolich its currently not possible to set a fully custom CF stack name so you will have to get permission to create the CF stack or have an Admin create the CF stack for you "},
{"id": 20410, "question_id": 204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T13:53:15Z", "scrap_date": "2024-05-01T00:30:59.376021", "content": "flomotlik thanks for comments Actually Ive managed this by creating stack in advanced based on the naming convention you use and seems that it is working now There are some incompatible changes from AWS resources perspective like API Gateway stages but hopefully Ill be able to solve them behind CF Thank you "},
{"id": 2822, "question_id": 282, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-13T11:58:08Z", "scrap_date": "2024-05-01T00:31:00.452069", "content": "Hm it looks like the env key is one problem When I rename it to custom and include all variables directly to the serverless yml it works But when I reference them using custom file env yml it shows the error again "},
{"id": 2823, "question_id": 282, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-17T13:32:54Z", "scrap_date": "2024-05-01T00:31:00.453069", "content": "JakubMatejka could you add that as an issue in our github with a config that fails This looks like a bug "},
{"id": 2824, "question_id": 282, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T14:02:24Z", "scrap_date": "2024-05-01T00:31:00.454069", "content": "I created the issue httpsgithub comserverlessserverlessissues2169 As I write it there I was able to bypass the problem by direct referencing the variable file env yml S3_BUCKET_ICONS Thanks "},
{"id": 1442, "question_id": 144, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T23:34:44Z", "scrap_date": "2024-05-01T00:31:01.695161", "content": "You could try httpsgithub comsilvermineserverlesspluginwriteenvvars until that functionality is added back into the core "},
{"id": 1262, "question_id": 126, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-16T03:21:40Z", "scrap_date": "2024-05-01T00:31:02.236202", "content": "The following works for me The path will then be available inside the event object "},
{"id": 1263, "question_id": 126, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-16T10:00:48Z", "scrap_date": "2024-05-01T00:31:02.237202", "content": "yeah sorry my bad For some reason I was expecting it to show up as a query string parameter which is of course a totally different thing to my defense it was very late All good With that said though how would I declare query string parameters from the serverless config Thanks "},
{"id": 1264, "question_id": 126, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-16T13:29:32Z", "scrap_date": "2024-05-01T00:31:02.237202", "content": "You dont need to define the Query parameters in serverless config at all If you add query parameters to the request they should show up in the event data"},
{"id": 1265, "question_id": 126, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-19T23:12:58Z", "scrap_date": "2024-05-01T00:31:02.238202", "content": "How do you get the event data if youre using the awsjavagradle template instead of node js The context object doesnt seem to have it and I cant find path query param data anywhere else httpsgithub comawsawslambdajavalibsblobmasterawslambdajavacoresrcmainjavacomamazonawsserviceslambdaruntimeContext java"},
{"id": 1266, "question_id": 126, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-06T06:03:30Z", "scrap_date": "2024-05-01T00:31:02.239202", "content": "Maybe this should be in the docs as an example I also struggled with this now"},
{"id": 4622, "question_id": 462, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T16:43:09Z", "scrap_date": "2024-05-01T00:31:03.291453", "content": "Hey amatmakur The sample you downloaded was for a Serverless v0 5x project and you are probably using serverless v1 0 0rc2 What I would do is create a new folder go into that folder and then create a new serverless service using serverless create template awsnodejs name myspecialservice assuming you are creating a nodejs service see httpsgithub comserverlessserverlessblobmasterdocs01guide02creatingservices md and then move in just the javascript code from the sample project that you need and not the surrounding oldstyle serverless project configuration Cheers "},
{"id": 4623, "question_id": 462, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-05T22:44:25Z", "scrap_date": "2024-05-01T00:31:03.293453", "content": "Just to add to ianserlin s already good answer v0 x and v1 x Serverless projects are completely different The project was rewritten so you can basically assume that anything for v0 x is irrelevant for you v1 x service "},
{"id": 4624, "question_id": 462, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T16:55:06Z", "scrap_date": "2024-05-01T00:31:03.294453", "content": "Thank you ianserlin and rowanu I now run into a different problem My js file has the const request require request and i get an error saying Cannot find module request I am running v1 0 1rc 2 Should i explicitly define the dependency on npm_modules somewhere in my configuration If not how could i fix this issue"},
{"id": 4625, "question_id": 462, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T17:25:18Z", "scrap_date": "2024-05-01T00:31:03.295454", "content": "Hi an upgrade of the serverless solved this problem"},
{"id": 4492, "question_id": 449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-05T06:59:39Z", "scrap_date": "2024-05-01T00:31:04.257466", "content": "Hi AlexMcConnell You lambda function gets its own role IamRoleLambda You have to add your own s3 access policy to this and add the role to the policy Try something like this"},
{"id": 4493, "question_id": 449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T00:30:09Z", "scrap_date": "2024-05-01T00:31:04.258467", "content": "There is an easier way to do this now If you use a template the configuration to achieve this is commented out Try and look at serverless yaml"},
{"id": 4494, "question_id": 449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T17:45:31Z", "scrap_date": "2024-05-01T00:31:04.259467", "content": "I did this but its very confusing I had to upgrade to 1 0 from 0 5 5 Are those three files the entire project Do I replace one of my functions with them"},
{"id": 4495, "question_id": 449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T22:17:19Z", "scrap_date": "2024-05-01T00:31:04.260467", "content": "I understand how you are confused Firstly version 1 0 is completely different to 0 5 x Everyone on this forum is using and discussing v1 0 My guess is that your problems stem from a lack of groundwork You will feel much more confident going forward if you spend some time understanding the AWS services you wish to use and the serverless framework concepts Try creating a new project with the awspython template as shown above Try deploying it Afterwards go find the lambda function in your AWS console and hit the Test button Perhaps try adding an http GET endpoint and sls deploy again Check out the docs and good luck"},
{"id": 4542, "question_id": 454, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-11T03:39:47Z", "scrap_date": "2024-05-01T00:31:04.981470", "content": "You can deploy an individual function using sls deploy function f functionName See the docs "},
{"id": 4912, "question_id": 491, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T05:53:37Z", "scrap_date": "2024-05-01T00:31:05.631527", "content": "how do i set below properties on api Properties AuthorizationType AWS_IAM sets authorization to AWS_IAM"},
{"id": 3502, "question_id": 350, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-22T00:27:18Z", "scrap_date": "2024-05-01T00:31:06.685789", "content": "Theres an outstanding PR for this functionality inprogress right now You could definitely do this in CloudFormation under the resources section of your serverless yml too if you cant wait Youd need to use Serverless Variables to generate your function names on the fly in order to make it work "},
{"id": 3503, "question_id": 350, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T12:30:21Z", "scrap_date": "2024-05-01T00:31:06.686789", "content": "Can you make an example on how to do this with variables"},
{"id": 3504, "question_id": 350, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:30:27Z", "scrap_date": "2024-05-01T00:31:06.687789", "content": "We will merge the PR rowanu mentioned soon so it will be in the next release of Serverless and hit master soon before that Definitely very important feature and extended Security Controls in general are a SUPER important next step in Serverless More info to come next week on our blog "},
{"id": 4412, "question_id": 441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T10:13:54Z", "scrap_date": "2024-05-01T00:31:07.738774", "content": "When I looked at the source I also concluded that the 200 response was hard coded Have a look at httpsgithub comsilvermineserverlesspluginmultipleresponses as it might help you for now "},
{"id": 4413, "question_id": 441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T11:39:33Z", "scrap_date": "2024-05-01T00:31:07.739774", "content": "It looks like the master branch now has support for the lambdaproxy integration type If you dont mind your Lambda understanding HTTP then you can use that to send back a 201"},
{"id": 4414, "question_id": 441, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-10T22:59:13Z", "scrap_date": "2024-05-01T00:31:07.740774", "content": "Yeah my preference is to use the new lambdaproxy integration Now thats in master I assume itll be a part of the next release candidate so Ill pick it up then "},
{"id": 4415, "question_id": 441, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-12T14:48:21Z", "scrap_date": "2024-05-01T00:31:07.741774", "content": "The master has now been released as 1 0 so youre good to go with the proxy"},
{"id": 4812, "question_id": 481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T03:33:22Z", "scrap_date": "2024-05-01T00:31:08.704710", "content": "They serve very different purposes and are completely independent awsserverlessexpress translates an application defined in Express API to run a HTTPbased application on AWS Lambda and API Gateway Serverless the framework is a currently AWS Lambdabased application framework You dont have to have any HTTP based access to your Serverless application if you dont wantneed it "},
{"id": 4813, "question_id": 481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T03:48:14Z", "scrap_date": "2024-05-01T00:31:08.705710", "content": "Sure but for those who are building an HTTP API via APIGLambda it could be more convenient and easier to have some sort of awsserverlessexpress integration with Serverless instead of defining everything about the APIG endpoint configurations in the serverless yml file "},
{"id": 4814, "question_id": 481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T04:28:07Z", "scrap_date": "2024-05-01T00:31:08.706711", "content": "Why are you trying to combine the two Whats the benefit I cant see it If you want to use the Express API to define endpoints use awsserverlessexpress If you want more flexibility and customisation use Serverless "},
{"id": 4815, "question_id": 481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T04:31:17Z", "scrap_date": "2024-05-01T00:31:08.707711", "content": "hey im totaly newbe to this so if i want to make rest api from aws lambda its no need to work with express right cuz serverless is actually support it right"},
{"id": 4816, "question_id": 481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-10T05:06:24Z", "scrap_date": "2024-05-01T00:31:08.707711", "content": "Yes Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework"},
{"id": 4817, "question_id": 481, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:52:11Z", "scrap_date": "2024-05-01T00:31:08.708711", "content": "Basically we decided to implement our own HTTP endpoint mapping because we want to have full control over how this is set up thats also why we dont use swagger Through our Plugin infrastructure this could be extended though to support aws express currently we dont have any plans to do this ourselves though "},
{"id": 4232, "question_id": 423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-29T22:25:09Z", "scrap_date": "2024-05-01T00:31:09.385884", "content": "remembered github has a compare feature heres the difference from RC1 to RC2 in terms of commits httpsgithub comserverlessserverlesscompare1 0 0rc 1 1 0 0rc 2 skimming through this it looks to be mainly documentation and bug fixes"},
{"id": 4233, "question_id": 423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-29T23:31:09Z", "scrap_date": "2024-05-01T00:31:09.386471", "content": "Yeah I think official updates will be pretty light before the release of v1 0 time is better spent on working software over comprehensive documentation "},
{"id": 4234, "question_id": 423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-30T04:58:53Z", "scrap_date": "2024-05-01T00:31:09.387464", "content": "Agreed Im not looking for something super specific esp not when its mainly bug fixing etc To avoid too much guessing though maybe for next rc release assuming its not the final one a post similar to my reply would be doable something along the line of This rc cut includes further bugfixes as well as new functionality X see here for details with a link to the compare view "},
{"id": 4235, "question_id": 423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T17:41:54Z", "scrap_date": "2024-05-01T00:31:09.388464", "content": "rowanu the main serverless documentation has already switch to primarily focusing on 1 0 already httpsgithub comserverlessserverless Would you recommend 0 5 6 or v1 0 for beginners barely getting their feet wet"},
{"id": 4236, "question_id": 423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-06T21:44:20Z", "scrap_date": "2024-05-01T00:31:09.388464", "content": "Definitely v1 x Its a much cleaner and clearer implementation in my opinion This does mean that you need to look out for and ignore v0 xrelated documentation and posts but v1 x stuff will soon outnumber the old stuff Things are a little complicated documentationwise at this point in time due to it still being in the RC stage but things will be much clearer once v1 0 is released "},
{"id": 4237, "question_id": 423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T15:30:34Z", "scrap_date": "2024-05-01T00:31:09.389464", "content": "Yup sorry that was unclear I just wanted to get a bug fix out From now on were going to document things better and create Github releases and proper Changelogs"},
{"id": 5442, "question_id": 544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T18:38:17Z", "scrap_date": "2024-05-01T00:31:10.683760", "content": "Is there an easy way to let cloud formation\\serverless generate unique names for resources and pass these generated names to the lambda code This is a super important feature for us and were working with AWS to resolve this Basically it needs to be set through CF to really work well and we need to wait on AWS to implement this so we can integrate this Once they will put this in place at some point well integrate immediately They know its an important feature For now I would look into a simple way to fix it like Environment variables through dotenv or something Serverless Framework Packaging"},
{"id": 5443, "question_id": 544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-15T03:23:12Z", "scrap_date": "2024-05-01T00:31:10.685761", "content": "thanks flomotlik I followed the link you shared and im already using serverlesspluginwriteenvvars that relies on dotenv which is the recommended method to handle env vars in javascript the thing is that serverlesspluginwriteenvvars runs before serverless deploys the stack to CF so resource ids arent generated at that stage yet I think ill try to extend serverlesspluginwriteenvvars so it would run after deploying the stack but before uploading the lambda code Hopefully id be able to query cloud formation for the generated ids at that stage and update the env file before packaging and deploying the code to lambda Any thoughts or pointers regarding this solution approach"},
{"id": 5444, "question_id": 544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T08:05:08Z", "scrap_date": "2024-05-01T00:31:10.686761", "content": "I think ill try to extend serverlesspluginwriteenvvars so it would run after deploying the stack but before uploading the lambda code The problem is deployment of resources and Lambda code happens in the same step as its all done through CF Thats why we need to have CF implement something better if we really want this to work out well "},
{"id": 5445, "question_id": 544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T18:48:03Z", "scrap_date": "2024-05-01T00:31:10.687761", "content": "got it in that case ill wait for a proper solution thanks "},
{"id": 5102, "question_id": 510, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-13T15:12:50Z", "scrap_date": "2024-05-01T00:31:11.182113", "content": "path v1tests id The problem is we renamed an APIG Cloudformation resource when it contains a variable Add Var at the end of path variable CF name by flomotlik Pull Request 2201 serverlessserverless GitHub Basically we now have a resource with a different name but the same path as v1tests id and because CF creates resources first before deleting old ones there is a clash Simple solution For one deployment rename id to ids deploy and then after that deployment you should be able to switch it back "},
{"id": 5103, "question_id": 510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:13:14Z", "scrap_date": "2024-05-01T00:31:11.184113", "content": "Also Ill add this to our Changelog because at the moment we dont have a breaking changes section there "},
{"id": 5104, "question_id": 510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T00:07:31Z", "scrap_date": "2024-05-01T00:31:11.185114", "content": "Thanks for the response I tried the trick of renaming the params but it then started complaining about siblings having id So my quickest way to get it working was to delete the stack and start again cheers Chris "},
{"id": 5105, "question_id": 510, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-17T02:20:07Z", "scrap_date": "2024-05-01T00:31:11.186114", "content": "I tried the same solution renaming the parameters but got the same error I assume its still considered the same route even though the parameter has a different name We can deleterecreate the stack for now this API isnt handling live traffic but Im interested to know of a workaround that doesnt involve a lot of downtime "},
{"id": 5106, "question_id": 510, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T14:02:03Z", "scrap_date": "2024-05-01T00:31:11.187115", "content": "I just changed service name and it works fine "},
{"id": 5107, "question_id": 510, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-18T00:33:22Z", "scrap_date": "2024-05-01T00:31:11.187624", "content": "Got the same problem My solution is removing the brackets from the URL first e g photos id photosid Deploy and add the brackets back Deploy again "},
{"id": 3042, "question_id": 304, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-17T13:29:46Z", "scrap_date": "2024-05-01T00:31:12.281811", "content": "Hey davidrdark at the moment this is not possible Could you create an issue in our Github for it Additionally you can work around it at the moment by overwriting the function through custom resources httpsgithub comserverlessserverlessblobmasterdocs01guide06customproviderresources md Basically those custom resources get merged on top of the functions we define from the config so you can overwrite things "},
{"id": 3043, "question_id": 304, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T21:28:45Z", "scrap_date": "2024-05-01T00:31:12.282812", "content": "Thanks for the response flomotlik Ill give that a try then submit the issue for this feature "},
{"id": 3044, "question_id": 304, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-18T02:36:32Z", "scrap_date": "2024-05-01T00:31:12.283812", "content": "I attempted to solve this with this PR It seems to work for me Let me know if it works for you davidrdark flomotlik"},
{"id": 5592, "question_id": 559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T01:10:38Z", "scrap_date": "2024-05-01T00:31:13.166208", "content": "str3tch The create stack just creates the S3 bucket for the code packages The resources you define in serverless yml are not included in the create stack Is that Lambda in the same service I have gotten this to work without issues by using FnGetAttr Maybe try this"},
{"id": 5593, "question_id": 559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T02:05:05Z", "scrap_date": "2024-05-01T00:31:13.167209", "content": "hey johncmckim its definitely in the create stack Along with everything else in my resources section heres a screenshot"},
{"id": 5594, "question_id": 559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T02:21:30Z", "scrap_date": "2024-05-01T00:31:13.167209", "content": "FnGetAttr Hey johncmckim I am trying the FnGetAttr what value do you put in there Im presuming it has to be the logical name of the lambda as specified in the CF template not the lamdba name given in the yaml file For instance instead of putAgentData I specify PutAgentDataLambdaFunction is that what you do However I still cant get it to work as all resources are in the create CF template and I think it tries to resolve the create before the update and it fails"},
{"id": 5595, "question_id": 559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T04:39:44Z", "scrap_date": "2024-05-01T00:31:13.168209", "content": "OK the ugly workaround Ive had to do is temporarily remove the resources from the yaml file so only lambdas are present Then deploy This creates the lambdas Then I readd the resources but making sure I manually create the lambda references using FnJoin as the FnGetAtt does not work and deploy again This works because the first deploy created the lambdas which can now be referenced by the second deploy However its an ugly workaround and cutting and pasting code is not great at all Is there something Im missing Is there a better way to be able to reference lambdas in the resources cheers Chris "},
{"id": 5596, "question_id": 559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T11:24:43Z", "scrap_date": "2024-05-01T00:31:13.169209", "content": "str3tch This is a bug that was introduced and is currently getting resolved The resources should only be in the update template not in the create template PR to fix this httpsgithub comserverlessserverlesspull2385 Were also introducing more stringent testing in our main repo and including our integration test suite there now to make sure things like this NEVER break again "},
{"id": 5597, "question_id": 559, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-17T21:50:38Z", "scrap_date": "2024-05-01T00:31:13.171209", "content": "ahhh flomotlik thank you I thought I was going crazy pretty shocking bug that slipped through but glad its being fixed when is the next NPM release of serverless planned theres a few things that need fixing up I think "},
{"id": 5598, "question_id": 559, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-18T05:57:21Z", "scrap_date": "2024-05-01T00:31:13.171209", "content": "Well do the release as soon as this bug is fixed probably later this week Were also introducing more testing and processes to make sure that doesnt slip through any more "},
{"id": 5822, "question_id": 582, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-18T18:27:10Z", "scrap_date": "2024-05-01T00:31:14.020702", "content": "I figured out my own problem For anyone else looking for the solutions to this it turns out that something Serverless does transforms your JSON input to the API So I was putting in the following JSON but it was being transformed into so my Lambda function had to be changed to call event body email instead of event email like it was before "},
{"id": 5823, "question_id": 582, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-18T23:19:37Z", "scrap_date": "2024-05-01T00:31:14.021702", "content": "Nice work posting the answer to your own question I wish more people would do that "},
{"id": 3602, "question_id": 360, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-09-22T00:20:15Z", "scrap_date": "2024-05-01T00:31:15.008385", "content": "I could imagine a solution using Serverless Variables to do this but have not actually done it myself With this command And this serverless yml In this contrived example the DDB table would not get created because optstage is prod As mentioned in the docs you can use environment variables in Serverless as well "},
{"id": 3603, "question_id": 360, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-22T20:07:53Z", "scrap_date": "2024-05-01T00:31:15.010385", "content": "Thanks That worked great by any chance do you know how to get the streamarn of an existing dynamodb table If I create the table it is easy but I cannot figure out how to get it if the table and stream are already created Here is the resource section from my serverless yml file with the table and trigger I want to get rid of the hardcoded text arn "},
{"id": 3604, "question_id": 360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-22T22:37:48Z", "scrap_date": "2024-05-01T00:31:15.010385", "content": "Im not familiar with DDB Streams you might be able to get it using FnGetAtt Search for StreamArn on this page and refer to your table by its logical ID Let me know if that worksdoesnt work "},
{"id": 3605, "question_id": 360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-19T15:24:09Z", "scrap_date": "2024-05-01T00:31:15.011385", "content": "Facing a similar issue I think it is not supported httpsgithub comserverlessserverlessissues2365"},
{"id": 5842, "question_id": 584, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-19T22:32:51Z", "scrap_date": "2024-05-01T00:31:16.078794", "content": "I can confirm this doesnt work for me either in apnortheast2 It seems like the ApiGatewayRestApi resource is a distinct servicefunction and not present in Seouls API GW or CloudFormation functionality I think you have to get in touch with AWS to fix this Try raising a support request in your account Edit Just to be clear its not a Serverless issue "},
{"id": 5843, "question_id": 584, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-19T23:29:46Z", "scrap_date": "2024-05-01T00:31:16.080795", "content": "Awesome thanks rowanu Will just move to Singapore I think works there Cheers"},
{"id": 6042, "question_id": 604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T00:59:38Z", "scrap_date": "2024-05-01T00:31:16.741604", "content": "Hi Adam As far as Im aware this functionality doesnt exist I assume there are certain functions you dont want deployed to production Whats the use case What problem are you trying to solve Can you separate the functions that cant be deployed to certain stages into separate projects that are deployed separately"},
{"id": 6043, "question_id": 604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T02:39:12Z", "scrap_date": "2024-05-01T00:31:16.742604", "content": "1 all the things johncmckim said If your functions cant be deployed to the same stage s they dont belong in the same service "},
{"id": 6044, "question_id": 604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T03:15:13Z", "scrap_date": "2024-05-01T00:31:16.743605", "content": "This might actually be related to the issue I recently opened about our DynamoDB backup service When a DyanmoDB stream event is triggered I dont want all my Serverless stages to try to back up the same record "},
{"id": 6045, "question_id": 604, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T04:13:52Z", "scrap_date": "2024-05-01T00:31:16.744605", "content": "My use case is we have develop release and master stages The functions in question are maintenance jobs for our analytics We dont run analytics in the release stage and the develop stage doesnt get enough data to warrant running the functions They are grouped with other functions that do get deployed So u guess the answer is to seperate them into seperate projects Having them deployed is no issue I guess by disabled I mean no triggers or in the case of develop different triggers to master would work"},
{"id": 6046, "question_id": 604, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-21T06:04:48Z", "scrap_date": "2024-05-01T00:31:16.745605", "content": "Having them deployed is no issue I guess by disabled I mean no triggers or in the case of develop different triggers to master would work AdamM I would still deploy those functions but optionally disable certain logic per stage You could do that by injecting the stage as an environment variable You can then check the variable and not invoke certain logic based on that I wouldnt avoid triggering those lambdas otherwise how do you know those triggers actually work Just stub out what you need to and log that it was triggered That said if youre only execute code in production you run a real risk of having issues that only appear in production "},
{"id": 5272, "question_id": 527, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T15:41:04Z", "scrap_date": "2024-05-01T00:31:17.638392", "content": "In the template file in serverless is AWS_IAM set correctly or what is the Authorization type there Could you post the relevant serverless yml and CF template parts so we can check those out "},
{"id": 5273, "question_id": 527, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T18:43:03Z", "scrap_date": "2024-05-01T00:31:17.639389", "content": "This is my serverless yml With RC2 this works outofthebox I tried to reproduce the problem from scratch starting totally clean but now with 1 0 0 But now I can not even get the userService to be deployed It fails with error At this point the relevant CF template part is Earlier today Ive seen that the Authorization type was NONE in the one of the CF files But due to the error above I can not get to that point anymore When I try to add the type to the resources in an attempt to solve the error Type AWSApiGatewayMethod the stack also fails to create"},
{"id": 5274, "question_id": 527, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-14T10:13:15Z", "scrap_date": "2024-05-01T00:31:17.641390", "content": "Definitely a bug httpsgithub comserverlessserverlessissues2359 Looking into this today "},
{"id": 5275, "question_id": 527, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-21T13:47:37Z", "scrap_date": "2024-05-01T00:31:17.641390", "content": "I can confirm that this is fixed in 1 0 3 thanks a lot"},
{"id": 7082, "question_id": 708, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2016-11-03T16:17:49Z", "scrap_date": "2024-05-01T00:31:18.428411", "content": "Hey Frank I build the docs from scratch using httpphenomic io and the docs markdown pulls in from the httpsgithub comserverlessserverlesstreemasterdocs repo The site is open sourced here httpsgithub comserverlesssite so you can see the implementation "},
{"id": 6762, "question_id": 676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T11:12:42Z", "scrap_date": "2024-05-01T00:31:19.350220", "content": "Related question httpforum serverless comtapigatewaysamebaseurlsformyapis674 I hope someone could give some advice on this"},
{"id": 6763, "question_id": 676, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-02T06:28:04Z", "scrap_date": "2024-05-01T00:31:19.351221", "content": "What i did in my project is that i have created multiple services like one service for users and one for chat then in custom domain i map example com with base path of users to users service and with base path of chat to chat server "},
{"id": 6764, "question_id": 676, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-04T03:51:51Z", "scrap_date": "2024-05-01T00:31:19.351221", "content": "what Ive found so far is that I can define multiple base path mappings for a specific customer domain eg if I have a custom domain of devservices lawpath com I can map multiple base paths and end up with things like httpsdevservices lawpath comusers and httpsdevservices lawpath comapplications etc The only problem is that I have to define the base paths manually although I have to admit that I havent spent much time trying to work out how to do it from my serverless yml Nevertheless I do currently have multiple APIs mapped to different base paths on my custom domain "},
{"id": 6942, "question_id": 694, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-31T15:34:41Z", "scrap_date": "2024-05-01T00:31:20.451202", "content": "It was changed to use globs for exclusion at which point it stopped supporting include httpsgithub comserverlessserverlesspull2194 Looks like theyve just merged in a PR that will allow includes again though not with the old syntax httpsgithub comserverlessserverlesspull2266 "},
{"id": 6943, "question_id": 694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T22:46:00Z", "scrap_date": "2024-05-01T00:31:20.452202", "content": "Yeah looks like the PR vyh mentioned is the way to do it today There is a much bigger discussion related to this going on in httpsgithub comserverlessserverlessissues2460 "},
{"id": 6944, "question_id": 694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-01T03:07:33Z", "scrap_date": "2024-05-01T00:31:20.452202", "content": "Cool thanks guys ill just include all for now and see how things turn out"},
{"id": 6945, "question_id": 694, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-03T16:58:12Z", "scrap_date": "2024-05-01T00:31:20.453202", "content": "so now there is no possibility to include a specific file for only one function or do i understand the new syntax wrong and so the packagedocumentation is wrong httpsserverless comframeworkdocsprovidersawsguidepackaging "},
{"id": 6946, "question_id": 694, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-03T21:47:35Z", "scrap_date": "2024-05-01T00:31:20.454202", "content": "Yes you can include a file in a specific function Unfortunately it involves a double negative as per the docs you linked In your functions package options you can put a in front of the file you want to include as one of the exclude entries I feel a bit silly writing that but thats the current implementation Again this is currently under discussion in issue I linked above and Im hoping it gets sorted for the next release "},
{"id": 6947, "question_id": 694, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-04T18:17:08Z", "scrap_date": "2024-05-01T00:31:20.455202", "content": "thank you the syntax is not nice but if it work i can live with it "},
{"id": 932, "question_id": 93, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-15T09:20:26Z", "scrap_date": "2024-05-01T00:31:21.442233", "content": "Hi have you tried indenting the excludeinclude definitions This might be a yml issue here best Flo"},
{"id": 933, "question_id": 93, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-16T06:42:38Z", "scrap_date": "2024-05-01T00:31:21.442233", "content": "I have vscode yml validation extension which is not showing error "},
{"id": 934, "question_id": 93, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T16:51:45Z", "scrap_date": "2024-05-01T00:31:21.443234", "content": "Same here Did you figured out what is going on"},
{"id": 935, "question_id": 93, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-06T10:37:36Z", "scrap_date": "2024-05-01T00:31:21.444234", "content": "nope i just created a script to pull node_module and common code from root to current service dir "},
{"id": 936, "question_id": 93, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-04T18:20:06Z", "scrap_date": "2024-05-01T00:31:21.444234", "content": "does an include of a parent folder work now because i dont get it running "},
{"id": 7242, "question_id": 724, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-06T16:44:59Z", "scrap_date": "2024-05-01T00:31:22.501470", "content": "Found the problem In my serverless yml file when defining the http events that would trigger my function I accidentally had a leading on several of the paths Ex path apiv0register when it should have been path apiv0register Removing the leading slash solved the issue "},
{"id": 6132, "question_id": 613, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-07T21:17:10Z", "scrap_date": "2024-05-01T00:31:22.981906", "content": "Im also super keen to know the answer to this"},
{"id": 6133, "question_id": 613, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-07T21:40:09Z", "scrap_date": "2024-05-01T00:31:22.982906", "content": "I dont have my experience with python but it should be a similar process I use a serverless yml like below The serverlesspluginwriteenvvars plugin then creates a env file and includes it in your code package You can then load the env file with something like pythondotenv Once youve done this you can get the name like this LAMBDA_NAME os environ get LAMBDA_NAME "},
{"id": 3292, "question_id": 329, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-31T12:48:10Z", "scrap_date": "2024-05-01T00:31:24.039099", "content": "I would love to have something like this as well "},
{"id": 3293, "question_id": 329, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-07T23:30:12Z", "scrap_date": "2024-05-01T00:31:24.040100", "content": "There is no official migration plan httpsserverless comframeworkdocsprovidersawsguidev0_to_v1howtoupgradefrom0xto1x"},
{"id": 3294, "question_id": 329, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-07T23:30:47Z", "scrap_date": "2024-05-01T00:31:24.040100", "content": "Heres a migration guide httpsserverless zonemigratingfromserverlessv05tov10partonesetupconfiganddeployment9c926c8c56f9 1gxjmmii0"},
{"id": 7522, "question_id": 752, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-17T15:43:31Z", "scrap_date": "2024-05-01T00:31:25.162671", "content": "I will be there with some folks from 3scale RedHat"},
{"id": 7842, "question_id": 784, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-18T08:09:08Z", "scrap_date": "2024-05-01T00:31:25.877268", "content": "Im no expert but the originating PullRequest says that its to force CloudFormation to see that something is changed Adds a unique timestamp token to the APIG deployment logical id to prompt AWS CF to restart deployment Adds a unique timestamp token to the APIG deployment logical id to prompt AWS CF to restart deployment "},
{"id": 7843, "question_id": 784, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-20T22:34:40Z", "scrap_date": "2024-05-01T00:31:25.878268", "content": "Hi svrist Thanks for pointing me to the PR It would be nice to get a bit more details about what was the issue this was trying to fix It obviously works as far as I can tell with nonunique logical resource name "},
{"id": 7852, "question_id": 785, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-20T22:58:49Z", "scrap_date": "2024-05-01T00:31:26.948307", "content": "Unfortunately I dont have a solution for your mapping merge I just wanted to point out with the recently announced environment variable support your implementation might be able to change See httpsgithub comserverlessserverlesspull2748 and httpsgithub comserverlessserverlessissues2673"},
{"id": 7822, "question_id": 782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-21T00:14:59Z", "scrap_date": "2024-05-01T00:31:27.999535", "content": "Reviewing the docs and API GW Console its not very clear but it seems that you can only reference Authorizers inside the API GW deployment i e you wont be able to reference them from another API GW API or Serverless Service "},
{"id": 7872, "question_id": 787, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-20T23:00:41Z", "scrap_date": "2024-05-01T00:31:28.779992", "content": "You can create BucketPolicy resources in the Resources section and refer to your bucket by using the Ref LogicalId CloudFormation syntax "},
{"id": 7873, "question_id": 787, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-21T00:22:01Z", "scrap_date": "2024-05-01T00:31:28.780992", "content": "Thank you rowanu that was exactly what I needed"},
{"id": 7952, "question_id": 795, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-21T21:57:40Z", "scrap_date": "2024-05-01T00:31:29.710611", "content": "A quick test shows me that it will work if your path variable is the same i e Can you just rename the variables Remember that you can get the method used from the event httpMethod property "},
{"id": 6392, "question_id": 639, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-26T15:51:20Z", "scrap_date": "2024-05-01T00:31:30.626583", "content": "Found this httpsgithub comserverlessserverlessissues2543"},
{"id": 6393, "question_id": 639, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-15T22:23:50Z", "scrap_date": "2024-05-01T00:31:30.626583", "content": "As discussed on Gitter this is solved with httpsgithub comserverlessserverlesspull2567 It should be in the v1 2 0 release "},
{"id": 6394, "question_id": 639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-16T09:08:24Z", "scrap_date": "2024-05-01T00:31:30.627583", "content": "Do you know when v1 2 0 is going live And is it going to work with more coplex json something like that"},
{"id": 6395, "question_id": 639, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-16T22:41:14Z", "scrap_date": "2024-05-01T00:31:30.628583", "content": "v1 2 0 is due any moment now httpsgithub comserverlessserverlessmilestone16 It should work with any JSONYML object you put in there "},
{"id": 6396, "question_id": 639, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-22T12:14:59Z", "scrap_date": "2024-05-01T00:31:30.629584", "content": "Hi rowanu Ive just used serverless 1 2 0 and the JSON input worked like a charm I was wondering do you know if I can change the name of the CloudWatch Rule as currently is something like that function_nameenvFunction_NameEventsRuleSchedule1P4RWCPZQK971 It will be great if I can change the name to something else "},
{"id": 6397, "question_id": 639, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-22T21:21:03Z", "scrap_date": "2024-05-01T00:31:30.629584", "content": "Good to hear it worked thanks for reporting back Unfortunately theres no way to change the name that Im aware of It has to be unique and its helpful to see what resource relates to a specific servicefunction Why do you care what it is named The name has no material impact on the functionality so shouldnt matter If you have some reporting requirements better to change what you display at the reporting level rather than expose the plumbing of your service "},
{"id": 6398, "question_id": 639, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-22T21:34:46Z", "scrap_date": "2024-05-01T00:31:30.630584", "content": "Its not that important just I like to have my CloudWatch Rules with proper naming using special syntax But the most important was that now I can pass my JSON input and it works Thanks one more time "},
{"id": 8102, "question_id": 810, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-22T22:11:02Z", "scrap_date": "2024-05-01T00:31:31.648719", "content": "Do you have an exclude option set but perhaps with no value This is suggesting one of your exclude patterns is not a valid pattern or even a string "},
{"id": 8052, "question_id": 805, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-22T22:13:58Z", "scrap_date": "2024-05-01T00:31:32.289555", "content": "You cant do it by default but theres a plugin for that "},
{"id": 3202, "question_id": 320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T05:40:48Z", "scrap_date": "2024-05-01T00:31:32.813578", "content": "mnichols Yup we switched that recently from just the function name for consistency You can read more about it here httpsgithub comserverlessserverlessblobmasterdocs02providersaws04resourcenamesreference md"},
{"id": 3203, "question_id": 320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T00:26:48Z", "scrap_date": "2024-05-01T00:31:32.814584", "content": "Thank you for the pointer flomotlik "},
{"id": 3204, "question_id": 320, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-25T06:26:02Z", "scrap_date": "2024-05-01T00:31:32.815584", "content": "An updated link httpsserverless comframeworkdocsprovidersawsguideresourcesawscloudformationresourcereference"},
{"id": 8252, "question_id": 825, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-11-25T00:37:38Z", "scrap_date": "2024-05-01T00:31:33.526510", "content": "sime do you mean theses They were linked to from blog post announcing 1 2 0 "},
{"id": 8253, "question_id": 825, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-25T06:27:50Z", "scrap_date": "2024-05-01T00:31:33.527510", "content": "You know what I was only looking at the root of the GitHub repo I e CHANGELOG md Thanks I completely missed that a blog exists and almost never look that the releases of any project Cheers "},
{"id": 8242, "question_id": 824, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T02:21:29Z", "scrap_date": "2024-05-01T00:31:34.608161", "content": "Do your functions really need to be 50mb Is there any way you can use the packaging settings to reduce your function size Unfortunately I dont think theres currently a way to do what you want I have added your usecase to the issue related to deployment "},
{"id": 8692, "question_id": 869, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T02:04:33Z", "scrap_date": "2024-05-01T00:31:35.306274", "content": "The update stack command that Serverless uses to deploy your service requires IAM privileges even if theres no actual change to the IAM resources "},
{"id": 8693, "question_id": 869, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-14T03:30:01Z", "scrap_date": "2024-05-01T00:31:35.307274", "content": "Actually rowanu Ive since found that if you have a clean slate i e deploying a new service then you do not need IAM rights at all as long as you reference an existing role I think the PutRolePolicy was because I had an existing service which I changed to reference an existing role "},
{"id": 9252, "question_id": 925, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T01:50:02Z", "scrap_date": "2024-05-01T00:31:35.927865", "content": "Yes you can install a service from a GitHub URL "},
{"id": 9253, "question_id": 925, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T10:09:06Z", "scrap_date": "2024-05-01T00:31:35.927865", "content": "Ive seen this but its from a GitHub URL only What I am after is something that works in a package management sort of way maybe it leverages npm and you can give it a particular version The plugin that handles service installs literally downloads the zip from GitHub httpsgithub comserverlessserverlessblobmasterlibpluginsinstallinstall jsL60"},
{"id": 9452, "question_id": 945, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T19:13:17Z", "scrap_date": "2024-05-01T00:31:37.028161", "content": "Upon looking further into the bug list this appears to be the same issue as reported in httpsgithub comserverlessserverlesspull2234 and httpsgithub comserverlessserverlessissues2233 Is the typical response to run the cloudformation for the mapping at a later point through a parent script D"},
{"id": 9412, "question_id": 941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T03:01:37Z", "scrap_date": "2024-05-01T00:31:37.618789", "content": "In thinking about this maybe the answer is that I need to define modular policies and then have the various roles be the possible groupings of these policies Does this make sense Has anyone done this"},
{"id": 9413, "question_id": 941, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-14T04:51:39Z", "scrap_date": "2024-05-01T00:31:37.619790", "content": "You are correct in thinking you need to define things in terms of IAM Policies not Roles A Lambda function can only have one Role A Role can and usually does have multiple Policies attached to it When defined separately Policies can be attached to multiple Roles AWS provides a bunch of commonlyused Policies that are called Managed Policies which should cover a vast majority of your usecases A Role can also have Inline Policies i e policies that only exist for that role Heres the relevant docs "},
{"id": 9414, "question_id": 941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T15:07:10Z", "scrap_date": "2024-05-01T00:31:37.621790", "content": "Thanks rowanu Do you know of any good YAML examples of a serverless config that weaves this together"},
{"id": 9415, "question_id": 941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T15:11:28Z", "scrap_date": "2024-05-01T00:31:37.621790", "content": "Im imagining that a policy definition in serverless config might look like this Is that right"},
{"id": 9416, "question_id": 941, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-14T21:57:39Z", "scrap_date": "2024-05-01T00:31:37.622791", "content": "Hmm not quite If youre extending the default function role in Serverless then you can just define the policy statements which is what you did in your snippet If youre defining the CFN resource in the resources section you need the whole object Check the CFN IAM Policy docs A full IAM Policy resource would look like Here Im using the CFN Ref function to link the Policy and Role You could also define the Policy in the Role i e the other direction to the example above see the CFN Policies property in the IAM Role docs"},
{"id": 9417, "question_id": 941, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T22:24:03Z", "scrap_date": "2024-05-01T00:31:37.623791", "content": "Yes my first stab at it was a bit of a fumble but I did eventually end up with something nearly identical to what you suggested Unfortunately then I ran into another issue Policy creation works but does it"},
{"id": 9332, "question_id": 933, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-13T20:56:31Z", "scrap_date": "2024-05-01T00:31:38.658849", "content": "Which version of Serverless are you using Could you show me serverless yml"},
{"id": 9333, "question_id": 933, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-14T22:45:14Z", "scrap_date": "2024-05-01T00:31:38.659843", "content": "Im using version 1 3 0 but Ive solved the problem by renaming the authorizer This authorizer name was used in another serverless project but the project was different so In fact it can be a bug since serverless creates different names by using the project function names "},
{"id": 9482, "question_id": 948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T23:20:30Z", "scrap_date": "2024-05-01T00:31:39.805937", "content": "Its not obvious whats going wrong here I think you need to run a sls deploy noDeploy and look at the contents of the update CloudFormation template file in serverless and see whereif there are the references to the policies in the roles or vice versa "},
{"id": 9483, "question_id": 948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-15T01:28:03Z", "scrap_date": "2024-05-01T00:31:39.806937", "content": "Im a bit lost in the CloudFormation template but from my standpoint it appears that its ok too"},
{"id": 9484, "question_id": 948, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-15T01:30:08Z", "scrap_date": "2024-05-01T00:31:39.807938", "content": "Well i just checked again and for reasons unknown to me all the roles ARE now getting updated "},
{"id": 9172, "question_id": 917, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-16T09:13:04Z", "scrap_date": "2024-05-01T00:31:40.920937", "content": "Have you tried not using the PHPesque practice of putting [] on the field name Its not at all part of the form specs I have some code that works using for getting a list of tags to filter by "},
{"id": 9552, "question_id": 955, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-16T08:10:11Z", "scrap_date": "2024-05-01T00:31:41.976188", "content": "Your Environment Information OS linux Node Version 4 6 1 Serverless Version 1 4 0"},
{"id": 9553, "question_id": 955, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-18T13:29:59Z", "scrap_date": "2024-05-01T00:31:41.977188", "content": "Im not sure if this is the same problem you are seeing but I was getting Access Denied errors when attempting to put files to S3 I traced the error down to not having s3PutObjectAcl permission in my IAM Role I did have s3PutObject If thats not helpful perhaps enable s3 to see if this is an IAM issue If enbling fixed the problem use this list to work out what other permisions you may be missing httpdocs aws amazon comIAMlatestUserGuidelist_s3 html If that dosent work you could try activating CloudTrail although to be honest Ive had limited sucess with CT for debugging Good Luck Hamish"},
{"id": 9554, "question_id": 955, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-18T21:01:13Z", "scrap_date": "2024-05-01T00:31:41.979189", "content": "Thanks but I think Ive narrowed down the cause a little more All operations are normally done as the deploy role whereas the bucket is owned by the run role so I actually dont have access to the bucket So now I need to figure out how to make the same call but using the created role Or just give my deploy role access to the s3 bucket "},
{"id": 9555, "question_id": 955, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-18T22:34:56Z", "scrap_date": "2024-05-01T00:31:41.980189", "content": "Well in fact you were perfectly correct hamish Thanks again "},
{"id": 8592, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T21:48:38Z", "scrap_date": "2024-05-01T00:31:42.570014", "content": "mohitg Try adding the following Ill write a full post on getting DyanmoDB streams working when I get a chance "},
{"id": 8593, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T22:48:00Z", "scrap_date": "2024-05-01T00:31:42.571015", "content": "Thanks Buggy I added the following and was able to deploy the lambdas However if the stream is different for each function then how can multiple resource value be provided in the iamRoleStatements "},
{"id": 8594, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-30T22:56:39Z", "scrap_date": "2024-05-01T00:31:42.572015", "content": "iamRoleStatements is an array of statements Just add each stream "},
{"id": 8595, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T15:54:12Z", "scrap_date": "2024-05-01T00:31:42.573015", "content": "Thank You buggy I see that the role provided at the function level is overriden after putting iamRoleStatements Please let me know how can I still have the role arnawsiamuseast1XXrolelambda_dynamo mentioned at function level attached as well The role generated by serverless attached to all lambdas is as below"},
{"id": 8596, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-01T23:37:18Z", "scrap_date": "2024-05-01T00:31:42.573015", "content": "The same principle applies You just need to add the IAM role statements to your custom roles Assuming youre doing this as resources in your serverless yml you can look at AssumeRolePolicyDocument in httpdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceiamrole html for an example "},
{"id": 8597, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-02T04:27:56Z", "scrap_date": "2024-05-01T00:31:42.574015", "content": "Thanks for your reply However I wanted to use role ARN at function level instead of custom roles Also If I define custom roles I will not be able to share the custom role across multiple services "},
{"id": 8598, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-02T10:33:54Z", "scrap_date": "2024-05-01T00:31:42.575016", "content": "However I wanted to use role ARN at function level instead of custom roles Those role arnawsiamuseast1XXrolelambda_dynamo that youre adding to the function are what Im referring to You need to add the role statements to those If youre creating and managing them outside of Serverless then you need to add the statements outside of Serverless too "},
{"id": 8599, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-02T20:57:46Z", "scrap_date": "2024-05-01T00:31:42.576016", "content": "Hi buggy I have updated the role created externally with IAM role statements and updated the serverless framework to v1 3 Now I see new error on deploying Here is my updated serverless yaml"},
{"id": 85910, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-04T05:36:21Z", "scrap_date": "2024-05-01T00:31:42.576016", "content": "Ill probably start upgrading to 1 3 later this week Once I do Ill have a look at this again "},
{"id": 85911, "question_id": 859, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-07T08:16:51Z", "scrap_date": "2024-05-01T00:31:42.577016", "content": "FWIW Resource takes either a single value or an array of values you dont need to repeat the whole policy statement for each ARN "},
{"id": 85912, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-07T16:07:24Z", "scrap_date": "2024-05-01T00:31:42.578017", "content": "Hi rowanu I am repeating the StreamFunctionEventSourceMapping in the Resources as I required mapping for 2 different functions Let me know if you thoughts "},
{"id": 85913, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-12T16:20:23Z", "scrap_date": "2024-05-01T00:31:42.578017", "content": "Hi buggy Please let me know if you are seeing similar issue after upgrade "},
{"id": 85914, "question_id": 859, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T04:16:42Z", "scrap_date": "2024-05-01T00:31:42.579017", "content": "Hi buggy Let me know if you are able to see the issue "},
{"id": 9742, "question_id": 974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T06:58:06Z", "scrap_date": "2024-05-01T00:31:43.671431", "content": "The Serverless Framework is powered by CloudFormation so if theres a CloudFormation bug there usually isnt a way around that Is there is a reason you absolutely must use uswest1 Could you use uswest2 or useast1 for now until that problem is resolved"},
{"id": 9743, "question_id": 974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T07:05:47Z", "scrap_date": "2024-05-01T00:31:43.672431", "content": "Thanks for your reply johncmckim Because our old machines and databases are all in uswest1 I remember amazon is not support cross region VPC and database access I am not quiet sure I am beginner for this these days I want to change the API into AWS lambda and saw serverless is a good infrastructure to start it Or can I create in lambda uswest2 and make it available access to RDS in uswest1 then I can use uswest2 to solve this "},
{"id": 9744, "question_id": 974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T07:10:55Z", "scrap_date": "2024-05-01T00:31:43.674432", "content": "Ah ok Serverless is a good way to start You might have some trouble accessing your old resources from another region depending on your network setup Its hard to know without knowing what your existing infrastructure is Another option to get you up and running might be to create the Lambda functions through the serverless framework and the API Gateway manually for now This way you can learn about API Gateway too Once CloudFormation resolves the problem you can create HTTP events in the Serverless framework "},
{"id": 9745, "question_id": 974, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-19T07:39:13Z", "scrap_date": "2024-05-01T00:31:43.675432", "content": "Thanks johncmckim Cool after I commented the event http part of config it can now create successfully The reason why I choose serverless is that I feel its hard to use AWS GUI console there is so many buttons and forms and cannot use git to track changes And serverless is text based so I can save to git Its easier to track and find bugs Hope that the amazon can resolve the problem faster"},
{"id": 9746, "question_id": 974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-19T07:43:15Z", "scrap_date": "2024-05-01T00:31:43.676432", "content": "The reason why I choose serverless is that I feel its hard to use AWS GUI console there is so many buttons and forms and cannot use git to track changes And serverless is text based so I can save to git Its easier to track and find bugs thats why I like it too Infrastructure as code is great Hopefully its a temporary issue and you can use those events again soon "},
{"id": 10182, "question_id": 1018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-29T08:19:25Z", "scrap_date": "2024-05-01T00:31:44.278121", "content": "Can you give the stack trace given when you run the command with SLS_DEBUG1 at the beginning Hopefully this will have more information about the specific resource which is causing the error If I had to guess I would assume S3 is the culprit bucket names must be globally unique at least in part because they have domain names associated with them and public DNS must be globally unique "},
{"id": 10183, "question_id": 1018, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-29T17:32:17Z", "scrap_date": "2024-05-01T00:31:44.279115", "content": "Thanks for the time rowanu I actually figured out the culprit was that the other person was on 1 4 0 and I was on 1 0 0rc2 I needed to update then change the paths of the functions to something arbitrary to clear the old functions then deploy then change them back then deploy "},
{"id": 10412, "question_id": 1041, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-02T18:34:05Z", "scrap_date": "2024-05-01T00:31:45.115159", "content": "there are two types of integrations see httpsserverless comframeworkdocsprovidersawseventsapigateway The difference is that with lambda you have to model your event object request and you are also quite limited regarding your response dynamic headers status codes etc With lambdaproxy a default event model is used which looks like this httpsgithub combbilgerjrestlesstreemasterawsgatewayjrestlessawsgatewayhandlerrequestschema and you also have more freedom regarding responses but your response object must follow the schema httpsgithub combbilgerjrestlesstreemasterawsgatewayjrestlessawsgatewayhandlerresponseschema To make it short either use lambda and model your request via the request parameter in your serverless yml or use lambdaproxy without the request parameter in your serverless yml Internally serverless removes the request parameter when you use lambdaproxy thus the warning "},
{"id": 8332, "question_id": 833, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-26T16:08:34Z", "scrap_date": "2024-05-01T00:31:45.995182", "content": "Hi Sasha Im currently working on Serverless examples I just created an issue httpsgithub comserverlessexamplesissues11 for it an if nobody jumps on it I probably get to it by end of next work or the week after cheers Nik"},
{"id": 8333, "question_id": 833, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-27T01:36:20Z", "scrap_date": "2024-05-01T00:31:45.996182", "content": "Thank you Nik Really appreciate it "},
{"id": 8334, "question_id": 833, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-27T04:31:24Z", "scrap_date": "2024-05-01T00:31:45.997182", "content": "I too would like to see an example of this Working on this ATM but still getting used to serverlessfu so it might take me a while "},
{"id": 8335, "question_id": 833, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-06T10:11:38Z", "scrap_date": "2024-05-01T00:31:45.998182", "content": "Sorry I have been quite busy but I hope to get to it next week "},
{"id": 8336, "question_id": 833, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-03T23:38:06Z", "scrap_date": "2024-05-01T00:31:45.998182", "content": "Hi Nik did you get a chance to look at it S"},
{"id": 10472, "question_id": 1047, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-03T21:26:13Z", "scrap_date": "2024-05-01T00:31:47.046418", "content": "You mean like this one "},
{"id": 10473, "question_id": 1047, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T06:21:53Z", "scrap_date": "2024-05-01T00:31:47.047418", "content": "You dont know if it also supports Google Endpoints just like Serverless framework supports AWS API Gateway"},
{"id": 10474, "question_id": 1047, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T08:57:20Z", "scrap_date": "2024-05-01T00:31:47.048412", "content": "Sorry Im not familiar with GCF Check the implementation for all the details "},
{"id": 10475, "question_id": 1047, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-04T13:45:42Z", "scrap_date": "2024-05-01T00:31:47.049419", "content": "According to some discussion on the GCF alpha mailing list Google Endpoints does not yet tie into GCF Still waiting for word from one of the Google devs if this is on the roadmap yet "},
{"id": 10342, "question_id": 1034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T12:22:00Z", "scrap_date": "2024-05-01T00:31:47.948970", "content": "I think there is a way to use Route 53 to do custom domain SSL on S3 but it is also possible to use a custom domain with SSL in api gateway to return a lambda with basic html using serverless That html can then reference your frontend bundle js via cloudfront with s3 origin Sounds like the long way around but it actually has the benefit of keeping your lambda hot is quite performant and can help with code splittinginitial load I have a website using this technique you can see the code here"},
{"id": 10343, "question_id": 1034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T18:21:52Z", "scrap_date": "2024-05-01T00:31:47.950970", "content": "Thanks looks like this will work "},
{"id": 10523, "question_id": 1052, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-05T04:06:38Z", "scrap_date": "2024-05-01T00:31:48.753824", "content": "This is still an issue Ive tried to do a bit more debugging If I login to the drone server and open a shell console to the docker container that is running the serverless deployment while the deployment is currently in the hung state ie its stuck on Checking Stack update progress and the actual stack update has completed successfully in Cloudformation If at this point I manually run the sls deploy command the original hung process picks up the stack updates from my manual process and finishes the job successfully This is a real strange one I know probably not really something many if any are experiencing If someone is able to shed some light on how that check updates process is working it might help I see its using setTimeout wonder if thats causing it to lose connection or something Any help would be greatly appreciated Cheers Paul"},
{"id": 10524, "question_id": 1052, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-05T06:29:33Z", "scrap_date": "2024-05-01T00:31:48.755825", "content": "OK so I have managed to get to find where the issue is but not the absolute root cause in this scenario in monitorStack its setting the monitoredSince time to now 5 seconds So it only checks events after it started monitoring The problem Im seeing on the drone server is that the event times being reported are always before monitoredSince Sometimes up to 6080 seconds So its never detecting that the updates have completed or failed Ive checked the time on my drone server and its correct and synced to internet My drone server is an EC2 instance in AWS so it would probably have very quick response time to instigating the CF update Not sure why there is such a delay between kicking off the cloudformation update and starting the monitoring task Ive modified it to 120 seconds and its all working ok Not really sure on the best way to fix it maybe the monitor task should be passed the time from updatestack function from before updatestack function called AWS update Rather than the monitorStack trying to guess the start time I think that would be the most robust solution Ill just raise an issue in the github repo and see if I can find some time to submit a PR Cheers Paul"},
{"id": 5512, "question_id": 551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-25T17:03:16Z", "scrap_date": "2024-05-01T00:31:49.869358", "content": "I have the exact same problem and can also only resolve it by adding integration lambda to the serverless yml file Any insights would be greatly appreciated "},
{"id": 5513, "question_id": 551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-26T15:36:42Z", "scrap_date": "2024-05-01T00:31:49.870359", "content": "The Java templates Gradle and maven arent designed for Lambda Proxy Integration If you want to make them work with Lambda Proxy Integration you have to return a response object like the JavaScript template does This means you have to return an object with getters for statusCode int body String and headers MapString String a response object could look like this httpsgithub combbilgerjrestlessblobmasterawsgatewayjrestlessawsgatewayhandlersrcmainjavacomjrestlessawsgatewayioGatewayResponse java The body must be a string So make sure to serialize your actual response body to a string if you want a JSON response you can use Jackson for serialization for example You might want to check out my framework jrestless httpsgithub combbilgerjrestless Its a Jersey container for AWS Lambda and provides JAXRS functionality through Jersey the reference implementation for JAXRS This allows usage of most JAXRS features and gives Spring integration too You can use serverless to configure and deploy your Lambda functions "},
{"id": 5514, "question_id": 551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-05T08:18:58Z", "scrap_date": "2024-05-01T00:31:49.872359", "content": "Thanks for the hint I could get it to work now jrestless looks great "},
{"id": 5515, "question_id": 551, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-06T01:27:34Z", "scrap_date": "2024-05-01T00:31:49.873360", "content": "FYI Since it wasnt mentioned in the release notes serverless v1 5 0 has updated Java templates that work with lambdaproxy "},
{"id": 10892, "question_id": 1089, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-09T13:25:56Z", "scrap_date": "2024-05-01T00:31:50.675526", "content": "Hmmm I guess I have found a solution I just have to check the event Records[0] Sns TopicArn field to know how to route data"},
{"id": 11002, "question_id": 1100, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T04:34:51Z", "scrap_date": "2024-05-01T00:31:51.772712", "content": "The problem is its hard for Serverless to know which modules are used for your application and which are only used for development NPM v3 tries to store them as flat as possible so its not simple I have gotten around this by installing my function dependencies in subdirectories and then packaging up the them I put my development dependencies in the top level of my service and ignore it for packaging purposes The only issue is that I have to have a package json in each function directory but I actually like this as it makes dependencies explicit per function "},
{"id": 11003, "question_id": 1100, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T14:49:28Z", "scrap_date": "2024-05-01T00:31:51.774713", "content": "I thought of doing something similar where I would have build folders for local developmenttesting vs builddeploy folders The only problem with that is keeping the dependencies in sync between the two folders to ensure I dont miss anything Unit Testing should hopefully find anything missing but that is assuming tests have 100 code coverage that would be Utopia "},
{"id": 11004, "question_id": 1100, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T20:41:35Z", "scrap_date": "2024-05-01T00:31:51.775714", "content": "I maintain excludes in serverless yml for all dev dependencies and everything else dont need in runtime like the git folder"},
{"id": 11692, "question_id": 1169, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-01-24T18:55:15Z", "scrap_date": "2024-05-01T00:31:52.886904", "content": "To answer my own question I had to create a resource on its own outside of the other resource and enter a more static arn "},
{"id": 8502, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-03T03:02:42Z", "scrap_date": "2024-05-01T00:31:53.633717", "content": "Ive been trying to do this as well and it doesnt look to be possible As you can see it simply calls the function and uses the result immediately It is not possible to use an async function here "},
{"id": 8503, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-03T10:09:37Z", "scrap_date": "2024-05-01T00:31:53.634717", "content": "I havent look at the code thats implementing the external JS files for variables but if its using require then everything has to be synchronous async calls will not work Thats just how require rolls "},
{"id": 8504, "question_id": 850, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-23T09:58:44Z", "scrap_date": "2024-05-01T00:31:53.635717", "content": "I need an async variable lookup as well it is definitely using require to load the js file as a node module The reason looking up stack outputs using the sdk or looking up dynamodb tables is out of the question is because serverless is not passing a callback or expecting a Promise Maybe this is a feature request"},
{"id": 8505, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T12:23:04Z", "scrap_date": "2024-05-01T00:31:53.635717", "content": "Im curious what a concrete use case is for this functionality Environment variables arent calculated each request theyre set at deployment time Why do you need to store your config in a DynamoDB table over a yaml file Updating the DynamoDB record wont change the environment variables until the code is redeployed anyway "},
{"id": 8506, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T19:17:58Z", "scrap_date": "2024-05-01T00:31:53.636718", "content": "e g to not store your apikeys in the git repository but have them easily accessible to your collaborators "},
{"id": 8507, "question_id": 850, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-23T21:32:11Z", "scrap_date": "2024-05-01T00:31:53.637718", "content": "Sounds like you need a prebuild step isnt that what rake is for razbomi But seriously you guys all need some kind of prebuild step Trying to shoehorn this in to Serverless sounds like a slippery slope to me matthiasn what youre describing sounds like something your build system should be taking care of i e populating environment variables so that theyre available to the task at hand What happens if the async call in your code in your exclude fails Your deploy fails How long should it wait for the async function to return Now your Serverless service can fail to deploy due to a failure in an external system that isnt directly involved in the deploy I think async requires is planned for JavaScript in the future but cant find the RFC right now A quick look on NPM show asyncrequire but it still sounds like a bad idea to me "},
{"id": 8508, "question_id": 850, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-24T07:48:02Z", "scrap_date": "2024-05-01T00:31:53.638712", "content": "Background I need to access to VPC resources So I need to get the list of subnet ids which the VPC stack has as an Output I thought that I can avoid the prebuild step and rake by calling the javascript sdks describe_stacks inside the javascript variable reference untill I eyeballed the variable code I worked around the async issue using crossstack references More specifically after a couple of forhead slaps I abandoned the javascript variable reference altogether in favor of FnImport Had to export the output first "},
{"id": 8509, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-24T12:39:31Z", "scrap_date": "2024-05-01T00:31:53.640719", "content": "e g to not store your apikeys in the git repository but have them easilyaccessible to your collaborators Im doing this by using a secrets yml that stores my secrets for each stage I keep this file out of git so that each developer can easily configure their own environment I wrote an article explaining it at Keeping Dev Dependencies Out Of Your Serverless Package "},
{"id": 85010, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-24T16:50:03Z", "scrap_date": "2024-05-01T00:31:53.641719", "content": "buggy thanks for the advice"},
{"id": 85011, "question_id": 850, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-24T22:36:03Z", "scrap_date": "2024-05-01T00:31:53.641719", "content": "1 for sharing a good crossstack references example "},
{"id": 11642, "question_id": 1164, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-24T22:43:04Z", "scrap_date": "2024-05-01T00:31:54.692725", "content": "Why would the environment variables be sharedavailable Each function runs in its own container with its own environment Sharing environment variables between your functions automagically sounds a lot like global variables which while they might seem like a good idea at start are generally a bad idea because they result in tightly coupled codefunctions which are hard to troubleshoot "},
{"id": 11622, "question_id": 1162, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-24T01:26:22Z", "scrap_date": "2024-05-01T00:31:55.650619", "content": "This should be pretty easy if youre using the default Lambda Proxy integration for your function Heres a code example in the AWS docs Basically"},
{"id": 11623, "question_id": 1162, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-26T17:41:24Z", "scrap_date": "2024-05-01T00:31:55.651619", "content": "Thanks for the answer I was making it much harder that it was All the redirect examples I could find online for python were written before the advent of LAMBDA_PROXY and I was following them It works now "},
{"id": 10552, "question_id": 1055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-26T19:11:08Z", "scrap_date": "2024-05-01T00:31:56.520668", "content": "Hello svr3105 Looks like cleaning up your syntax would be the place to start where youve got this file inputfile ymlarnResource I believe you should have this instead file inputfile yml arnResource Hope that helps "},
{"id": 11852, "question_id": 1185, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-27T21:57:05Z", "scrap_date": "2024-05-01T00:31:57.649714", "content": "Unfortunately no CloudFormation resource created in a single template can only be created in a single region Youll have to create the DDB table separately and then refer to from your Lambda functions in the other region "},
{"id": 6182, "question_id": 618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T17:37:41Z", "scrap_date": "2024-05-01T00:31:58.344234", "content": "was just wondering the same question you make any progress on this"},
{"id": 6183, "question_id": 618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-28T21:25:35Z", "scrap_date": "2024-05-01T00:31:58.345234", "content": "hey contractorwolf Unfortunately no We are currently developing and have no time to research on this It is on my pending tasks I hope someone could explain this in order to make a try "},
{"id": 6184, "question_id": 618, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-29T05:12:32Z", "scrap_date": "2024-05-01T00:31:58.345234", "content": ""},
{"id": 6185, "question_id": 618, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-27T14:55:43Z", "scrap_date": "2024-05-01T00:31:58.346234", "content": "excellent proxy was exactly what I was looking for Maybe we could ask to have this included in the api gateway documentation serverless Serverless Framework AWS Lambda Events API Gateway Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework"},
{"id": 6186, "question_id": 618, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-27T21:59:31Z", "scrap_date": "2024-05-01T00:31:58.347235", "content": "That sounds like a great idea jkristia feel free to submit a PR on the relevant docs page "},
{"id": 11762, "question_id": 1176, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-26T09:04:32Z", "scrap_date": "2024-05-01T00:31:59.320900", "content": "The Lambda Proxy integration is still relatively new so its not without its rough edges As the content could be JSON or it could not theres currently no assumption made about the content type If its JSON treat it like serialised JSON The service makes no attempt to read the headers and work out the content type for you Now that you mention it that sounds like a good idea for a PR "},
{"id": 11763, "question_id": 1176, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-26T11:31:47Z", "scrap_date": "2024-05-01T00:31:59.321900", "content": "Hey hendry Ill assume your building an API that only accepts JSON The input is a serialized JSON object so youre not going crazy Ive been using the following Any uncaught exceptions which could include deserializing the JSON result in a 500 error "},
{"id": 11764, "question_id": 1176, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-28T03:30:53Z", "scrap_date": "2024-05-01T00:31:59.322901", "content": "Ill assume your building an API that only accepts JSON Oh but the point I was trying to make is that usually that comes down as the event in my other lambda functions so this inconsistency RE API gateway is a bit annoying "},
{"id": 11765, "question_id": 1176, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-28T06:04:13Z", "scrap_date": "2024-05-01T00:31:59.323901", "content": "The event is specific to the source With Lambda proxy your Lambda is processing a generic HTTP request so this approach makes sense The user could be sending XML HTTP POST parameters or anything they want in the body The only way the Lambda proxy integration can deal with every possibility is to pass the entire request to the Lambda and let it deal with it Thats why you need parse the body first If you want to receive a JSON object then you should switch from Lambda proxy to Lambda integration The reason I said about only accepting JSON is so that I didnt need to check the ContentType header first "},
{"id": 11832, "question_id": 1183, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-27T16:49:33Z", "scrap_date": "2024-05-01T00:32:00.328849", "content": "Thats a Lambda constraint not a Serverless Framework one From httpsaws amazon comlambdafaqsslight_smile Q How long can an AWS Lambda function execute All calls made to AWS Lambda must complete execution within 300 seconds The default timeout is 3 seconds but you can set the timeout to any value between 1 and 300 seconds "},
{"id": 11833, "question_id": 1183, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-28T06:15:14Z", "scrap_date": "2024-05-01T00:32:00.329848", "content": "There are two approaches you can take Split the file and process it in parallel For example You could have one Lambda that reads the file and publishes SNS messages with chunks of the file Then have another Lambda that reads those messages and processes the data Use context getRemainingTimeInMillis to find out how long your Lambda has remaining then launch a new Lambda to continue processing "},
{"id": 11792, "question_id": 1179, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-29T12:18:19Z", "scrap_date": "2024-05-01T00:32:00.792172", "content": "I think its an actual bug httpsgithub comserverlessserverlessissues2773 Im a noob so I could be do doing something wrong myself "},
{"id": 11912, "question_id": 1191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-29T21:07:35Z", "scrap_date": "2024-05-01T00:32:01.915285", "content": "Oh OK I see the bin is there in the local package too so it seems works just fine "},
{"id": 11913, "question_id": 1191, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-29T21:08:04Z", "scrap_date": "2024-05-01T00:32:01.916285", "content": "The command you are looking for is npm link If you check out the Serverless project somewhere locally and then run the following commands you will be using your own local version of sls "},
{"id": 13232, "question_id": 1323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T10:48:03Z", "scrap_date": "2024-05-01T00:32:02.982602", "content": "You could use API Gateway to make sure the URL stays the same throughout deploys I use API Gateway and a custom subdomain for my API the URL for each stage stays the same as I am not calling the function directly "},
{"id": 13233, "question_id": 1323, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T11:01:36Z", "scrap_date": "2024-05-01T00:32:02.983602", "content": "Isnt that what serverless is already doing when i define the lambda endpoints with their syntax Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework So how do i use those URLs from my static page on S3 also managed by serverless Right now i took the endpoints i got from the output after a serverless deploy and edit them into my javascript file on s3 "},
{"id": 13234, "question_id": 1323, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-14T20:16:03Z", "scrap_date": "2024-05-01T00:32:02.984602", "content": "Yes you are right I hooked up API Gateway to my custom domain name e g api your domain com The easiest way to do so is using Route 53 on AWS Maybe this link can help httpdocs aws amazon comapigatewaylatestdeveloperguidehowtocustomdomains html"},
{"id": 4302, "question_id": 430, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-04T02:34:38Z", "scrap_date": "2024-05-01T00:32:03.932005", "content": "d an device management system using all serverless services from AWS This will include API Gateway Lambda DynamoDB and IoT Please excuse me if this is a dumb question but I have found support for everything except the IoT service Is there any plans to support this and if not does anyone have recommendations on how I could add the support The Serverless framework support IoT via CloudFormation Ive created a project similar to yours see AWS IoT with the Serverless Framework by John McKim Serverless Zone The only change you need to make is to update the variabelSyntax in serverless yml to allow you to use the IoT SQL functions "},
{"id": 4303, "question_id": 430, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-04T02:48:41Z", "scrap_date": "2024-05-01T00:32:03.933005", "content": "Thank you that is very helpful"},
{"id": 4304, "question_id": 430, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T15:36:34Z", "scrap_date": "2024-05-01T00:32:03.934005", "content": "Hi John thanks for all your posts on Garden Aid A question as Im new to AWS AWS IoT and Serverless do you have any instructions on how to deploy all of the different services on AWS For instance for GitHub gardenaidiothub IoT Hub for Garden Aid I can see there is a deploy sh but it show Error Please set IOPIPE_KEY env var and for sls deploy I get the below error complaining about the function clientId If I hard code the clientId the sls deploy works up to a point when a FnGetAtt reference Undefined is shown as in the below screenshot It would be really helpful if you could point out how to resolve this issue and allow me to deploy the IoT service onto AWS Thanks in advance Ettore IoT Hub for Garden Aid Contribute to gardenaidiothub development by creating an account on GitHub "},
{"id": 4305, "question_id": 430, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-14T20:38:43Z", "scrap_date": "2024-05-01T00:32:03.935006", "content": "Hi IOPipe is a separate service I tried for this project I like the service but using it is completely option in your own projects Invalid variable syntax for clientId looks like a bug That project uses a custom variable syntax to allow the use of IoT variables in the serverless yml Specifically it is setup so normal variables become optblah so I can clientId in the rule actions This has been broken by the framework many times Id suggest filing a bug about that issue That second error relates to a change the Serverless framework made when they went from 1 0 0alpha to beta I believe The naming scheme for CloudFormation resources changed The change means checkMoistureLevel becomes CheckMoistureLevelLambdaFunction in CloudFormation So anywhere in the resources section it should now be CheckMoistureLevelLambdaFunction instead of checkMoistureLevel I hope that helps Feel free to submit a PR to fix these problems if you get around to it"},
{"id": 4306, "question_id": 430, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-15T16:23:13Z", "scrap_date": "2024-05-01T00:32:03.937006", "content": "Hi John and many thanks for your reply I managed to have it working by removing the new variable syntax and changing back the way other ordinary variables are accessed e g I will file a bug soon and share the link here Regarding the env file as with the Serverless 1 6 version the access to env file is managed through the file syntax now do you know how to access nested variables for stageName and topicPrefix See my post [here] where I show what I mean by using your example Access nested variable in env yml Excuse my ignorance what is it a PR Peer review Thanks Ettore "},
{"id": 9432, "question_id": 943, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-14T16:09:53Z", "scrap_date": "2024-05-01T00:32:04.999069", "content": "OK I figured this out the integrationlambda isnt required Also that it is advisable to use spaces rather than tabs"},
{"id": 9433, "question_id": 943, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-14T22:55:18Z", "scrap_date": "2024-05-01T00:32:05.000070", "content": "Could you upload whole your serverless yml"},
{"id": 9434, "question_id": 943, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-16T18:20:14Z", "scrap_date": "2024-05-01T00:32:05.001070", "content": "Hi RKW I know its been a while since this was posted but Im facing a similar error and this post was the most similar to what Im experiencing right now Can you please elaborate on how exactly you solved your problem Also did you receive support from Serverless staff If yes can you please send me the issues link on GitHub Thanks Igor"},
{"id": 2512, "question_id": 251, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-08T03:22:25Z", "scrap_date": "2024-05-01T00:32:05.763274", "content": "well i figured it out for the most part I had to look through the cloud formation scripts to see what I was doing wrong "},
{"id": 2513, "question_id": 251, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-08T12:07:01Z", "scrap_date": "2024-05-01T00:32:05.763274", "content": "yup serverless deploy noDeploy should help a lot there to show you the actual CF template so you can overwrite things"},
{"id": 1912, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-05T17:46:04Z", "scrap_date": "2024-05-01T00:32:06.536965", "content": "Basically Serverless will deploy separate API Gateways for separate services If you want all of those services behind the same API Gateway you can either deploy that whole API as one service which leads to lots of code in that one service or you create a separate API Gateway that you then connect to the different functions deployed independently through serverless or you have another API Gateway that proxies requests to the actual services that are running behind the scenes At the moment this is a bit cumbersome and we have to find better ways to do this in the future "},
{"id": 1913, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-07T13:32:53Z", "scrap_date": "2024-05-01T00:32:06.537965", "content": "Thanks for the reply Plan to continue to use 0 5 there are a few other things missing in 1 0 that makes a simple port a bit had and will require some redesign The other missing feature was that it seems its one IAM role per service not per function and use different for the auth module where only one function can request the private key I guess it will work just need some mental realiment That i will look at on the other side of the deadline"},
{"id": 1914, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-08T12:02:48Z", "scrap_date": "2024-05-01T00:32:06.538966", "content": "Per function IAM Role is definitely a feature that will be coming soonish Dont know how soon but its something we want and we have some contributors thinking about contributing it "},
{"id": 1915, "question_id": 191, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-09-10T00:44:03Z", "scrap_date": "2024-05-01T00:32:06.539967", "content": "Having support for a single APIG API multiple serverless services would be so great I could imagine the serverless services can take an APIG API id and maybe even a base resource path for the endpoints in that service feels more microservicey "},
{"id": 1916, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-30T23:21:23Z", "scrap_date": "2024-05-01T00:32:06.539967", "content": "Thanks for those suggestions flomotlik Im working on a project and having to deal with a similar situation Does proxying result in counting a single call as double In other terms would that impact the APIG cost Im new to all this "},
{"id": 1917, "question_id": 191, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-12-29T22:14:33Z", "scrap_date": "2024-05-01T00:32:06.540966", "content": "Hello would it not be a good solution to have a infrastructure services that create the API Gateway resource and export the API Gateway Id for cross stack references httpsdocs aws amazon comAWSCloudFormationlatestUserGuideoutputssectionstructure html The other services could now import the values with the cross stack references for just add the resources to the gateway and not create a whole new api gateway I have just look at the source code javascript is not my primary language but is looks like that there are just smaller changes required to make this possible e g replace Ref ApiGatewayId with Import ApiGatewayId if its set via the serverless yml"},
{"id": 1918, "question_id": 191, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-09T21:39:04Z", "scrap_date": "2024-05-01T00:32:06.541967", "content": "flomotlik I have setup 2 very simple templates to illustrate how it could be possible to share the ApiGatewayId and the ApiRootResourceId between services I thing to implement this solution via a variable if set use import instead of Ref RestApiGateway should be easy Is it possible to create from this discussion a issue in github AWSTemplateFormatVersion 20100909 Resources MyApi Type AWSApiGatewayRestApi Properties Name MyApi Outputs ApiGatewayId Value Ref MyApi Export Name ApiGatewayId ResourceId Value FnGetAtt [ MyApi RootResourceId ] Export Name ResourceId AWSTemplateFormatVersion 20100909 Resources AGM4WGN5 Type AWSApiGatewayMethod Properties RestApiId FnImportValue ApiGatewayId HttpMethod GET AuthorizationType NONE ResourceId FnImportValue ResourceId "},
{"id": 1919, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-23T23:28:21Z", "scrap_date": "2024-05-01T00:32:06.543967", "content": "I have a similar request To have multiple services behind the same API gateway Is there any plan to add this support in the near future "},
{"id": 19110, "question_id": 191, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-30T23:49:33Z", "scrap_date": "2024-05-01T00:32:06.544967", "content": "If it helps you can have different API Gateway definitions behind the same CloudFront definition So you could end up with the same URL api yourspecialdomain com going to different API gateways depending on the path defined under the behaviors of your CloudFront definition I wanted the same segmentation of my project as well and this is how I ended up solving it "},
{"id": 19111, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-12T09:52:47Z", "scrap_date": "2024-05-01T00:32:06.545968", "content": "For Example in our project we have the micro service subscriptions As an admin it is allowed to access the subscriptions endpoints without limitation But customer access there scoped endpoint customers id subscriptions With that scenario it is not possible to use the base path mapping Arw there some problems at Serverless that prevent this feature or just to less interest in this feature"},
{"id": 19112, "question_id": 191, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-17T17:19:08Z", "scrap_date": "2024-05-01T00:32:06.546968", "content": "It should be possible you just have to use cloudfronts simple regex matching on the path patterns and a proper order The first possible match to the path will determine the origin So in your case you would want something similar to the following If Im understanding your case correctly this would meet it Im not entirely sure why we cant merge together multiple services under a single API gateway definition I imagine it has to do with either priorities or the known work around "},
{"id": 13242, "question_id": 1324, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-17T17:44:29Z", "scrap_date": "2024-05-01T00:32:07.231853", "content": "This is a matter of opinion corporate culture and code structuresystem design If you can get away with doing redblack deployments its ideal to have your entire system defined as a single unit via CloudFormation so you can control your rollout If people are scared about the concept then clearly this is problematic but thats not really a technical problem The second part is a matter of how you organize your system Having 100s of resources is not bad but having 100s of horribly organized resources is worse than horrible So you need a good strategy for manging how you organize each microservice and the resources that service is going to use Not just systems like S3 or DynamoDB but also other logic that it needs to access Properly designed this can create a dream come true scenario for a business because things can be beautifully decoupled and wonderfully stable Badly organized with poorly understood contracts between services means that each time you deploy you are risking an entire system crash "},
{"id": 13452, "question_id": 1345, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T17:31:01Z", "scrap_date": "2024-05-01T00:32:08.193386", "content": "And weirdly now that I have removed the prod stage and all resources that didnt delete when I did remove The deploy is again failing this worked for me on the dev stage Note that this same deploy was working on the prior version of serverless RobWeaverWalkMe robweaver serverless deploy stageprod regionuswest2 verbose WARNING You are running v1 7 0 v1 8 0 will include the following breaking changes Will replace IamPolicyLambdaExecution resource with inline policies httpsgit iovDilm sls info will output the short function name rather than the lambda name BREAKING Update function name displaying for info plugin by pmuens Pull Request 3239 serverlessserverless GitHub You can optout from these warnings by setting the SLS_IGNORE_WARNING environment variable Serverless Creating Stack Serverless Checking Stack create progress CloudFormation CREATE_IN_PROGRESS AWSCloudFormationStack walkmeApiprod CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_IN_PROGRESS AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_COMPLETE AWSS3Bucket ServerlessDeploymentBucket CloudFormation CREATE_COMPLETE AWSCloudFormationStack walkmeApiprod Serverless Stack create finished Serverless Packaging service Serverless Uploading CloudFormation file to S3 Serverless Uploading service zip file to S3 6 31 MB Serverless Updating Stack Serverless Checking Stack update progress CloudFormation UPDATE_IN_PROGRESS AWSCloudFormationStack walkmeApiprod CloudFormation CREATE_IN_PROGRESS AWSApiGatewayRestApi ApiGatewayRestApi CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup GetLoginURLLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup UpdateWalkmeLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup TriggerEmailLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup UpdateLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup GetLogGroup CloudFormation CREATE_IN_PROGRESS AWSDynamoDBTable WalkMeCustomersTable CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup DeleteLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup CronCreateCheckLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup CreateLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup TriggerAlertLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup ListLogGroup CloudFormation CREATE_IN_PROGRESS AWSSNSTopic WalkMeAlarmTopic CloudFormation CREATE_IN_PROGRESS AWSApiGatewayRestApi ApiGatewayRestApi CloudFormation CREATE_FAILED AWSLogsLogGroup GetLoginURLLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup UpdateWalkmeLogGroup CloudFormation CREATE_COMPLETE AWSApiGatewayRestApi ApiGatewayRestApi CloudFormation CREATE_FAILED AWSLogsLogGroup CronCreateCheckLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup DeleteLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup GetLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup CreateLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup ListLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup TriggerAlertLogGroup CloudFormation CREATE_IN_PROGRESS AWSLogsLogGroup TriggerCreateLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup TriggerEmailLogGroup CloudFormation CREATE_FAILED AWSLogsLogGroup UpdateLogGroup CloudFormation CREATE_IN_PROGRESS AWSDynamoDBTable WalkMeCustomersTable CloudFormation CREATE_IN_PROGRESS AWSSNSTopic WalkMeAlarmTopic CloudFormation CREATE_FAILED AWSSNSTopic WalkMeAlarmTopic CloudFormation CREATE_FAILED AWSDynamoDBTable WalkMeCustomersTable CloudFormation CREATE_FAILED AWSLogsLogGroup TriggerCreateLogGroup CloudFormation UPDATE_ROLLBACK_IN_PROGRESS AWSCloudFormationStack walkmeApiprod CloudFormation UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS AWSCloudFormationStack walkmeApiprod CloudFormation DELETE_IN_PROGRESS AWSSNSTopic WalkMeAlarmTopic CloudFormation DELETE_IN_PROGRESS AWSApiGatewayRestApi ApiGatewayRestApi CloudFormation DELETE_COMPLETE AWSLogsLogGroup UpdateWalkmeLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup GetLoginURLLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup GetLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup CronCreateCheckLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup CreateLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup UpdateLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup TriggerAlertLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup TriggerEmailLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup TriggerCreateLogGroup CloudFormation DELETE_COMPLETE AWSLogsLogGroup DeleteLogGroup CloudFormation DELETE_COMPLETE AWSDynamoDBTable WalkMeCustomersTable CloudFormation DELETE_COMPLETE AWSLogsLogGroup ListLogGroup CloudFormation DELETE_COMPLETE AWSApiGatewayRestApi ApiGatewayRestApi CloudFormation DELETE_COMPLETE AWSSNSTopic WalkMeAlarmTopic CloudFormation UPDATE_ROLLBACK_COMPLETE AWSCloudFormationStack walkmeApiprod Serverless Deployment failed Serverless Error Get Support Docs docs serverless com Bugs Issues serverlessserverless GitHub Your Environment Information OS darwin Node Version 7 4 0 Serverless Version 1 7 0"},
{"id": 13453, "question_id": 1345, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-18T17:49:54Z", "scrap_date": "2024-05-01T00:32:08.201389", "content": "Just for comparison here is the output from 1 6 1 which built the stack successfully for me"},
{"id": 13454, "question_id": 1345, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-19T10:08:07Z", "scrap_date": "2024-05-01T00:32:08.201389", "content": "Hey Rob I experienced a similar problem I could removedeploy with 1 6 1 but 1 7 0 always gave me this error when I tried to deploy It was happening with just one function and I got around it by renaming the function in my serverless yml It doesnt help with the root cause but it might help you deploy "},
{"id": 13352, "question_id": 1335, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-17T17:28:26Z", "scrap_date": "2024-05-01T00:32:08.996625", "content": "connect ETIMEDOUT 54 239 28 247443 Im going to guess the reason you are not getting a lot of responses is a result of what you already outline This is a connectivity problem between your machine and AWS services via https This will either be your machines firewall anti virus or your companys firewall There is little we can do to help you debug this you will need to involve your admin "},
{"id": 13353, "question_id": 1335, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-19T19:23:17Z", "scrap_date": "2024-05-01T00:32:08.997625", "content": "Can you manually access the AWS console from your same environment"},
{"id": 13492, "question_id": 1349, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-19T10:18:06Z", "scrap_date": "2024-05-01T00:32:09.680004", "content": "In that context I think override is change the defaults that Serverless sets and attach is adding additional resources If you want to use a DynamoDB table thats been created outside of Serverless you just need to give your Lambda the relevant IAM permissions to access it "},
{"id": 13493, "question_id": 1349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-19T19:21:54Z", "scrap_date": "2024-05-01T00:32:09.681004", "content": "If you want to use a DynamoDB table thats been created outside of Serverless If the DynamoDB table is created through Serverless will the behavior be to create a new table every time it is redeployed overwrite you just need to give your Lambda the relevant IAM permissions to access it Is there an example of how to do this somewhere I think having two example cases would be good one which overwrites a resource and one which attaches to an already running resource"},
{"id": 13494, "question_id": 1349, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-19T22:41:05Z", "scrap_date": "2024-05-01T00:32:09.683004", "content": "If its created through Serverless then it wont create the table again Obviously this only applies if youre providing a unique table name so dont expect it to work if youre deploying development staging and production to the same account but you dont prefix or suffix your table with the stage name I dont have a tested example handy but I would assume its the same way you normally provide access to DynamoDB tables "},
{"id": 13495, "question_id": 1349, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-20T00:04:33Z", "scrap_date": "2024-05-01T00:32:09.683004", "content": "Thanks this is how I have mine set up For whatever reason I dont get an error when I redeploy when the DB table exists Now everything works fine and I can redeploy to the same db "},
{"id": 13622, "question_id": 1362, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-21T03:56:12Z", "scrap_date": "2024-05-01T00:32:10.422698", "content": "So is there any way to load only the code and let lambda service run yarn install It might make deployments quick but it would make cold starts really slow while packages are downloaded You could look at using excludeinclude in your serverless yml but that probably wont help much Something like webpack and tree shaking might help I havent used this I find the best option is to be careful with your package selection Pay attention to the packages youre using and which packages they depend on Its really easy to include one package and discover that it pulls in 1020 dependencies Could you have written your own function instead using the package"},
{"id": 13623, "question_id": 1362, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-21T04:23:58Z", "scrap_date": "2024-05-01T00:32:10.424698", "content": "It might make deployments quick but it would make cold starts really slow while packages are downloaded Since I am quite new to Serverless framework so I do not understand how exactly cold starts would affect this reading up on that httpsblog newrelic com20170111awslambdacoldstartoptimization Webpack w tree shaking and package selection Thanks for all those ideas Will try them out and post here what works best for me Since I am using GraphQL package size really matters to me not just for faster deployment but also for Lamda size limit PS A small improvement can be made by uploading the codebase to a faster upstream which will then install dependencies and do sls deploy "},
{"id": 13624, "question_id": 1362, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-21T09:38:48Z", "scrap_date": "2024-05-01T00:32:10.426699", "content": "Hey dpkshrma It looks like I originally quoted the wrong sentence If you found a way to get Lambda to download packages it would slow down cold starts Start by focusing on the packages youre using Are you including any you dont really need If you only need it for one or two things could you write the code yourself Could you change packages for a smaller one or one with less dependencies Do you have development dependencies or source folders that youre packaging Importantly dont optimize for deployment time Optimize for execution You mention your Lambda size is this currently an issue AWS reports resource usage so check with that "},
{"id": 13625, "question_id": 1362, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-21T09:54:53Z", "scrap_date": "2024-05-01T00:32:10.427699", "content": "It is stated as a drawback in the serverless blog here in Graph pattern I looked up the max size that a lambda function can have and it was 50MB ref Lamda function size limit And yes youre correct Ive got quite a few devDependencies mostly babel stupid of me to keep them in there after build If I exclude them alone size would fall by a good number Thanks again "},
{"id": 13642, "question_id": 1364, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-21T10:08:15Z", "scrap_date": "2024-05-01T00:32:11.400347", "content": "Ok its my bad I was typing securityGroup s Ids in one location and the correct securityGroupIds in another Copy paste is my friend With the correct syntax its works just fine Sorry for the inconvenience Stephane"},
{"id": 13602, "question_id": 1360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-20T21:29:55Z", "scrap_date": "2024-05-01T00:32:12.251383", "content": "Youve got a tab on the authorizer line is that intentional If its like that in your serverless yml then its probably going to be ignored it should be all spaces "},
{"id": 13603, "question_id": 1360, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-21T15:30:13Z", "scrap_date": "2024-05-01T00:32:12.252383", "content": "Wow thats not how it looked in my UI at all Itd sure be nice if serverless threw warnings on unexpected items in the yaml "},
{"id": 13052, "question_id": 1305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-17T16:53:52Z", "scrap_date": "2024-05-01T00:32:13.090431", "content": "As of now you dont have a lot of good choices I dont know what the official strategy is for serverless but it seems like they are slowly adding in the ability to hook in existing resources to the deploy but for many things it doesnt exist yet As I see it I only see a the following options "},
{"id": 13053, "question_id": 1305, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T13:53:52Z", "scrap_date": "2024-05-01T00:32:13.091431", "content": "Thanks for the suggestions Matt My use case in this case would be everyone who ever deployed a CF stack using Serverless 1 0 and now wants to deploy the same stack with 1 0 right I will research on how to move DynamoDB items from one DB to the other and the same with S3 which should be easy "},
{"id": 11012, "question_id": 1101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T05:24:54Z", "scrap_date": "2024-05-01T00:32:14.221650", "content": "We recently had the AWS solution architects pay us a visit and their advice was the use multiple AWS account and use consolidated billing This is because there is on 1 Dynamo instance per account By separating the Prod from staging in different accounts your code would not need to change ie staging_dynamo prod_dynamo and also provides better security By doing it this way this will eliminated using stages "},
{"id": 11013, "question_id": 1101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-11T05:30:05Z", "scrap_date": "2024-05-01T00:32:14.222650", "content": "I agree two AWS accounts is probably best but I dont have the time and energy to set up another Esp when API gateway seem to have an API level construct for this "},
{"id": 11014, "question_id": 1101, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-11T19:26:16Z", "scrap_date": "2024-05-01T00:32:14.223650", "content": "Issue 1 The Serverless framework doesnt use the API gateway stages When it talks about a stage it refers to a complete copy of the environment API Gateway Lambdas Dynamo DB Tables etc I think its actually a better solution as it allows you to deploy and test changes without risking the production environment Issue 2 It deploys to the stage set in your serverless yml file or dev if none is set by default You can override this by using the stage command line option Issue 3 You need to use variables in your serverless yml My preference is to set resource name in the custom section and use that throughout my config Inside your code you use environment variables to find the name of the resource so you dont need to modify the code for each stage While this would allow you to deploy everything to a single AWS account the best practice is to use one account per stage with consolidated billing as fracca said Ill try to do a full writeup of this later today "},
{"id": 11015, "question_id": 1101, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-12T01:55:52Z", "scrap_date": "2024-05-01T00:32:14.225651", "content": "Thank you buggy for your reply It deploys to the stage set in your serverless yml file or dev if none is set by default You can override this by using the stage command line option The issue is that I expect at the very least verbose output to tell me I am deploying to the stage dev as default I also expect to pull dev into my serverless config Neither selfcustom stage or optstage works with a simple severless deploy Why optstage isnt set to dev by default Sorry I eventually found selfprovider stage to work even though stage was not set in provider YASSS a default that works "},
{"id": 11016, "question_id": 1101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-12T03:00:55Z", "scrap_date": "2024-05-01T00:32:14.226651", "content": "Sorry I eventually found selfprovider stage to work even though stage was not set in provider YASSS a default that works Sorry about that I quickly copied a the code from a config file and forgot to update it correctly Rich"},
{"id": 11017, "question_id": 1101, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-09T15:49:31Z", "scrap_date": "2024-05-01T00:32:14.227651", "content": "I found this example but I havent tested it out yet Use the myStage variable in your serverless yml file which will use the optstage if it is set or else default to selfprovider stage I think I would leave selfprovider stage set to dev to keep this as the default behaviour and set to production when I need to using the stage command line option "},
{"id": 6442, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T23:52:12Z", "scrap_date": "2024-05-01T00:32:15.339231", "content": "renanosf what is your Lambda execution time I assume it is very quick for a hello world but it is worth asking "},
{"id": 6443, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T00:17:27Z", "scrap_date": "2024-05-01T00:32:15.340231", "content": "Just 2ms testing from the lambda console"},
{"id": 6444, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T00:24:04Z", "scrap_date": "2024-05-01T00:32:15.341232", "content": "We use runscope to monitor our endpoints We see similar latency from the Brazil location Im not sure about methods of improving this other than developing a multiregion architecture Would like to see if others have solutions "},
{"id": 6445, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T00:54:09Z", "scrap_date": "2024-05-01T00:32:15.341232", "content": "Well I hope aws to launch api gateway and lambda in Sao Paulo region anytime soon Although Im not sure about that after all that time without it "},
{"id": 6446, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T06:58:16Z", "scrap_date": "2024-05-01T00:32:15.342232", "content": "Just to be perfectly clear you did try doing multiple requests Because first request is supposed to be slower but subsequent requests are faster I get similar latency from EU to US with my first request but its good afterwards "},
{"id": 6447, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-27T14:16:38Z", "scrap_date": "2024-05-01T00:32:15.343233", "content": "I did a test with 1000 requests and the average time was 551ms Now the weird part of the test is that once in a while the request returns in 200ms as I was previously expecting"},
{"id": 6448, "question_id": 644, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-29T10:47:29Z", "scrap_date": "2024-05-01T00:32:15.343233", "content": "I have similar issues from Sydney to useast1 and uswest2 For example I have a Rails app hosted in uswest2 that responds in about 450ms but the Lambda function via the API GW is taking 750ms despite the Lambda function itself running in less than 50ms useast1 was even worse at 950ms and you needed to double those times from a user perspective if it triggers a CORS preflight check In the end Ive decided to no worry about it I can find ways to keep the response times within acceptable limits and being able to easily scale wins "},
{"id": 6449, "question_id": 644, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-10T09:26:22Z", "scrap_date": "2024-05-01T00:32:15.345233", "content": "Is API gateway always putting 200300ms of latency in front of lambda requests AWS Lambda API Gateway and EC2 latency compared over a 24 hour period within the useast1 region Its an ongoing problem httpsforums aws amazon comthread jspathreadID225458 Has anyone found a way around it It seems Lambda API Gateway only avoids this latency if your app is already so large that youre doing 100 requests per second per function "},
{"id": 4652, "question_id": 465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-08T06:10:05Z", "scrap_date": "2024-05-01T00:32:16.172573", "content": "No Its a bit annoying it doesnt go away but its nice to be able to review the generated CloudFormation file and zipped bundle immediately if you need to debug your serverless yml configuration This folder will get regenerated every time you deploy and is just a build artifact you and safely deleteignore it "},
{"id": 4653, "question_id": 465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:59:59Z", "scrap_date": "2024-05-01T00:32:16.173572", "content": "In the past we had it the other way around where it was deleted after the deployment now we delete and recreate and leave it so its easier to debug things We should probably add this to gitignore of each template httpsgithub comserverlessserverlessissues2343"},
{"id": 4654, "question_id": 465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T08:31:40Z", "scrap_date": "2024-05-01T00:32:16.174573", "content": "So if serverless directory is not needed where are information stored If I checkout code on different machine how does serverless knows which function to update"},
{"id": 4655, "question_id": 465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T09:44:40Z", "scrap_date": "2024-05-01T00:32:16.175574", "content": "The deploy bucket automatically created on s3 and the CloudFormation stack"},
{"id": 4656, "question_id": 465, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-11T09:59:18Z", "scrap_date": "2024-05-01T00:32:16.175574", "content": "Nice idea Thanks for explanation "},
{"id": 13882, "question_id": 1388, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-25T12:51:39Z", "scrap_date": "2024-05-01T00:32:17.150620", "content": "The issue is accepted and will be part of the the release update See below the Github issue record with comment history httpsgithub comserverlessserverlessopenwhiskissues36"},
{"id": 13883, "question_id": 1388, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-11T13:22:10Z", "scrap_date": "2024-05-01T00:32:17.151620", "content": "This should now be resolved with the 0 5 release of the plugin Use the following configuration to support this "},
{"id": 13884, "question_id": 1388, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-12T14:33:15Z", "scrap_date": "2024-05-01T00:32:17.152620", "content": "Great news and excellent support I will update towards the 0 5 version"},
{"id": 14262, "question_id": 1426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-02T22:45:50Z", "scrap_date": "2024-05-01T00:32:18.220668", "content": "I also manually added code to the publish consuming function to post back to the same topic to verify the publishing code worked It did and a new sns message was posted "},
{"id": 14263, "question_id": 1426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-03T23:25:05Z", "scrap_date": "2024-05-01T00:32:18.221668", "content": "Manually publishing messages to the topic via the AWS console works as expected The published method fires and works without errors I also added in code to post from the published lambda back to the same topic thus causing a 2nd run of the lambda handler Published ran twice as expected Meaning the same code used to publish from the publisher function works At least it works in the context of the published function while handing a message Im guessing its permissions since the published lambda can publish new messages I thought it was just the snsPublish permission but it seems there needs to be something else "},
{"id": 14264, "question_id": 1426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-04T10:12:49Z", "scrap_date": "2024-05-01T00:32:18.223668", "content": "Its always hard to debug code from fragments Have you tried adding a after the promise to see whats actually returned If you havent given the Lambda permissions to publish to the topic then my money is on that "},
{"id": 14265, "question_id": 1426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-04T18:18:02Z", "scrap_date": "2024-05-01T00:32:18.224669", "content": "Its the VPC I did my best to narrow down the problem by isolating components and have discovered its the VPC settings Now Im trying to figure how to both publish to SNS and also connect to my RDS hosted DB From my readings I think need a NAT gateway on a subnet that the lambda is on in addition to the subnet that the DB is on "},
{"id": 14266, "question_id": 1426, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T02:11:20Z", "scrap_date": "2024-05-01T00:32:18.224669", "content": "Found this great blog post New Access Resources in a VPC from Your Lambda Functions It says this Internet Access As soon as you enable this functionality for a particular function the function no longer has access to the Internet by default If your function requires this type of access you will need to set up a Managed NAT Gateway in your VPC see New Managed NAT Network Address Translation Gateway for AWS for more information or run your own NAT see NAT Instances "},
{"id": 14267, "question_id": 1426, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-13T09:09:04Z", "scrap_date": "2024-05-01T00:32:18.225669", "content": "Internet Access As soon as you enable this functionality for a particular function the function no longer has access to the Internet by default I ran into the same thing with a function that when it was VPC enabled suddenly couldnt interact with SQS Solved by splitting the functions out rather than fight with network security bods who controlled the security group config "},
{"id": 15212, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-20T22:26:17Z", "scrap_date": "2024-05-01T00:32:18.746596", "content": "I think youll find its deleting the old table from the Cloud Formation stack but not actually removing it from DynamoDB If it has deleted it from DynamoDB then did you deploy with DeletionPolicy Retain before changing the name of the table"},
{"id": 15213, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T00:09:01Z", "scrap_date": "2024-05-01T00:32:18.747597", "content": "The deletion policy only applies when you delete the the resource or stack which contains the resource If you rename the table then you get the behaviour described in the docs replacement The only thing that might work not that Ive tested it it would be to rename the logical resource i e companiesTable in this case and the table name at the same time "},
{"id": 15214, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-21T02:20:23Z", "scrap_date": "2024-05-01T00:32:18.749597", "content": "rowanu AWS doesnt supports renaming DynamoDB tables If youre renaming a table in your serverless yml which is what I assume msingleton is doing then youre really deleting the old table and creating a new one Even with DelectionPolicy Retain you still see CloudFormation report the table has been deleted but in the DynamoDB console the table is still there Thats why I think the delete message is in reference to deleting it from the CloudFormation stack and not actually deleting the resource "},
{"id": 15216, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T20:46:19Z", "scrap_date": "2024-05-01T00:32:18.750598", "content": "buggy yea it definitely is removing the actual table from dynamo its no longer in the dynamodb console Sounds like I might just need to be careful not to do that or its just better to manage that resource outside of serverless just to be safe"},
{"id": 15217, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-21T23:04:03Z", "scrap_date": "2024-05-01T00:32:18.750598", "content": "Yeah A common pattern is to manage it in a different stack i e a resourceonly stack You can still use SLS to provision it even if the service doesnt have any functions "},
{"id": 15218, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T23:47:51Z", "scrap_date": "2024-05-01T00:32:18.751598", "content": "msingleton Was the application deployed with DeletionPolicy Retain before you renamed then table Ive done this many times and its always worked for me but if you added the DeletionPolicy and renamed in the same deploy then it makes sense that it would still delete the old table "},
{"id": 15219, "question_id": 1521, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-22T13:38:05Z", "scrap_date": "2024-05-01T00:32:18.752598", "content": "buggy the initial application was deployed without deletion policy I added it after renaming then renamed a few more times to test and it deleted every time Possibly if I rename the resource in the config file and deploy it with Retain it may work"},
{"id": 15312, "question_id": 1531, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-23T21:05:45Z", "scrap_date": "2024-05-01T00:32:19.832924", "content": "The vartask is where your code gets put in the Lambda container The error is suggesting theres a permissions issue with the file or perhaps the filename is different Do you have any funky restrictions on that file locally that might be getting propagated via packaging e g no read access "},
{"id": 15313, "question_id": 1531, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-23T21:52:29Z", "scrap_date": "2024-05-01T00:32:19.833924", "content": "Thanks Rowan was indeed a permissions thing Enjoying the chatbot course btw need to downgrade serverless to 1 6 1 now"},
{"id": 9222, "question_id": 922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-12T00:25:34Z", "scrap_date": "2024-05-01T00:32:20.901789", "content": "Youve got more chance of getting a response if you post a detailed report Which dyanmodb example When did you get that message Can you post cloudwatch logs"},
{"id": 9223, "question_id": 922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-21T02:47:20Z", "scrap_date": "2024-05-01T00:32:20.902790", "content": "Im getting the same error I looked into cloudwatcch logs and found this Unable to import module todoscreate Error at require internalmodule js1217 "},
{"id": 9224, "question_id": 922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-22T11:13:30Z", "scrap_date": "2024-05-01T00:32:20.903790", "content": "diogenesgg Do you have a todoscreate js file Does it export a handler"},
{"id": 9225, "question_id": 922, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-24T02:44:30Z", "scrap_date": "2024-05-01T00:32:20.903790", "content": "I managed to get it to work Sorry I forgot to run npm install Thanks"},
{"id": 15812, "question_id": 1581, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-03-29T09:24:58Z", "scrap_date": "2024-05-01T00:32:21.602172", "content": "Defining them as an event source is sufficient to have them created If you want your Lambdas to be able to publish to the topic then you need to grant the publish permission in the iamRoleStatements "},
{"id": 15813, "question_id": 1581, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-29T09:50:45Z", "scrap_date": "2024-05-01T00:32:21.603173", "content": "Thanks I defs have some functions that need to publish so your comment about iamRoleStatements is very useful So a followup question about that Is it possible to name an SNS topic and then use that name inside a function that publishes to it How would I describe that in the yaml file"},
{"id": 15814, "question_id": 1581, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-03-29T11:53:21Z", "scrap_date": "2024-05-01T00:32:21.605173", "content": "This probably requires a bigger write up but the short version is something like this Then inside your publisher function you get the topic ARN from process env SNS_TOPIC_ARN if youre using Node or the equivalent for other languages "},
{"id": 15815, "question_id": 1581, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-29T12:02:39Z", "scrap_date": "2024-05-01T00:32:21.605173", "content": "Thanks mate This should definitely get me on my way "},
{"id": 15752, "question_id": 1575, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-28T23:08:19Z", "scrap_date": "2024-05-01T00:32:22.719670", "content": "The place to look would be on the GitHub project page "},
{"id": 15753, "question_id": 1575, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-29T10:45:01Z", "scrap_date": "2024-05-01T00:32:22.720676", "content": "Not sure I understand Im asking because I saw this in the AWS user guide Here are the available runtimes for AWS Lambda which is in the GitHub repo "},
{"id": 15754, "question_id": 1575, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-03-29T21:32:50Z", "scrap_date": "2024-05-01T00:32:22.721676", "content": "Sorry I wasnt very clear Because youre interested in the boilerplate code the best place to look is on Serverless project on GitHub as not everyone whos active on the project frequents the forums A quick search of the GitHub issuesPRs on the project doesnt show any hits so I think its safe to assume it doesnt exist A wider search of serverless clojure on GitHub shows some more interesting results including httpsgithub comnervoussystemsserverlesscljsplugin This still means theres room for an included template though "},
{"id": 15755, "question_id": 1575, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-29T21:37:48Z", "scrap_date": "2024-05-01T00:32:22.722676", "content": "Great thats very clear thanks "},
{"id": 16482, "question_id": 1648, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-04-06T18:58:44Z", "scrap_date": "2024-05-01T00:32:23.403073", "content": "Hi santrancisco It is as easy as that So you are talking about this example awsnodeauth0customauthorizersapi In the handlers privateEndpoint function you should be able to access the sub claim or rather principalId as follows edit its requestContext and not context In case of doubt just dumplog the event object "},
{"id": 16483, "question_id": 1648, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-06T23:05:05Z", "scrap_date": "2024-05-01T00:32:23.404073", "content": "bbilger mate you are a f legend Thank you very much "},
{"id": 16232, "question_id": 1623, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-07T01:38:01Z", "scrap_date": "2024-05-01T00:32:23.902000", "content": "Without knowing how you want your functions packaged theres no benefit to turning it on Unless youre using the advanced include exclude options just turning individually on means that each of your functions will have exactly the same zip file contents i e the contents of your service directory "},
{"id": 16112, "question_id": 1611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-07T01:48:25Z", "scrap_date": "2024-05-01T00:32:24.605019", "content": "Let me just start by saying I am completely biased in recommending this to you because I made it ngMeta[ogdescription] "},
{"id": 16202, "question_id": 1620, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-07T01:46:48Z", "scrap_date": "2024-05-01T00:32:25.473170", "content": "I think theres another post on here somewhere where someone removed the logsCreateLogGroup permission from the running Lambda functions IAM Role so that it cant automatically create a group then deploy using the new version which will fix the role and then create the group Note that I havent tried this myself please dont break your production application because of me "},
{"id": 16203, "question_id": 1620, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-07T02:01:54Z", "scrap_date": "2024-05-01T00:32:25.474171", "content": "This is a great idea Didnt even think of that "},
{"id": 16792, "question_id": 1679, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-04-10T19:49:44Z", "scrap_date": "2024-05-01T00:32:26.186058", "content": "OK it is memorySize not memory"},
{"id": 17052, "question_id": 1705, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-14T14:30:18Z", "scrap_date": "2024-05-01T00:32:27.287381", "content": "For anyone interest found out that this feature although documented is not planned for availability until the 1 12 release "},
{"id": 11302, "question_id": 1130, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-18T17:39:27Z", "scrap_date": "2024-05-01T00:32:27.846151", "content": "Hey Victor Checkout what httpsgithub comendlesscommerceendless is working on It sounds like it might be close to what you are looking for "},
{"id": 16782, "question_id": 1678, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-10T02:28:39Z", "scrap_date": "2024-05-01T00:32:28.807696", "content": "For what its worth Im using npm to handle building and deployment i e lint compile test deploy etc It would be pretty easy to add an extra step to invoke a lambda post deployment "},
{"id": 16783, "question_id": 1678, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-16T13:32:48Z", "scrap_date": "2024-05-01T00:32:28.808696", "content": "Yeah thats a good point Im not a webpack expert but I was thinking about exploring whether to do this there Youve now reminded me of a viable alternative thanks buggy "},
{"id": 15442, "question_id": 1544, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-27T04:07:02Z", "scrap_date": "2024-05-01T00:32:29.754159", "content": "This is the reason not to use stages if its in the same account then its likely users could get access to the wrong stage Especially since the Framework requires IAM access which can be exploited to escalate privileges If you want to ensure your production deployment is protected you need to use a separate account and roleuser to manage it This follows standard AWS practices to limit blastradius etc "},
{"id": 15443, "question_id": 1544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-16T13:40:09Z", "scrap_date": "2024-05-01T00:32:29.755174", "content": "Yeah I see your logic rowanu Ive never looked into how AWS feels about a second corporate account but I could do that find out the details Then I suppose the team responsible for pushing to release would have two certificates on their computer one for the development corporate account login and one for the production corporate account login Thanks for the idea "},
{"id": 17952, "question_id": 1795, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-01T23:19:09Z", "scrap_date": "2024-05-01T00:32:30.746231", "content": "These are the generated infracode files use to deploy your service i e your function and provider settings any custom resources defined You can totally delete them and you dont need to keep track of them they will be regenerated when you run commands e g servleress deploy package etc You might want to keep track of them as build artefacts so that you know exactly what was deployed at the time "},
{"id": 16212, "question_id": 1621, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-01T01:31:29Z", "scrap_date": "2024-05-01T00:32:31.612270", "content": "Hi above is still an issue thanks"},
{"id": 16213, "question_id": 1621, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-02T03:22:36Z", "scrap_date": "2024-05-01T00:32:31.612270", "content": "Looks like theres a related issue on the project If that doesnt help youll probably need to open your own issue "},
{"id": 17932, "question_id": 1793, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-02T18:58:50Z", "scrap_date": "2024-05-01T00:32:32.698560", "content": "Look for lambda with the dev prefix And to remove the endpoint simply remove the endpoint from serverless yml "},
{"id": 17782, "question_id": 1778, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-02T18:54:18Z", "scrap_date": "2024-05-01T00:32:33.689047", "content": "I was noticing something strange I believe I got around it by doing this"},
{"id": 17783, "question_id": 1778, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-02T19:14:38Z", "scrap_date": "2024-05-01T00:32:33.690047", "content": "joeyburgett sorry to hear that seems like a potential bug Please open up an issue in the github serverless repo and well take a look at it immediately Thanks GitHub serverlessserverless Serverless Framework Build web mobile and IoT applications with serverless architectures using AWS Lambda Azure Functions Google CloudFunctions more serverlessserverless"},
{"id": 17732, "question_id": 1773, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-02T18:52:48Z", "scrap_date": "2024-05-01T00:32:34.452403", "content": "You want to take a look at this plugin httpsgithub com9cookiesserverlessawsdocumentation"},
{"id": 17733, "question_id": 1773, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-02T19:33:45Z", "scrap_date": "2024-05-01T00:32:34.453403", "content": "Thank you this seems to do what Im looking for I will give it a try"},
{"id": 16322, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-07T00:27:31Z", "scrap_date": "2024-05-01T00:32:35.540518", "content": "Thanks Frank Being a newcomer to webpack and serverless myself I have already started playing around with this template you created I also upgraded babelpresetes2015 to babelpresetenv and set modules false to improve tree shaking If we get collection of template projects maybe someone can start a page like so httpandrewhfarmer comstarterproject"},
{"id": 16323, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-07T17:31:29Z", "scrap_date": "2024-05-01T00:32:35.541518", "content": "Great to hear jeffklee Let me know if you find some issues "},
{"id": 16324, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-19T20:12:54Z", "scrap_date": "2024-05-01T00:32:35.541518", "content": "Hi thanx for serverless with es7 support demo I am getting import error any idea if this is known issue or not supported import graphql from graphql Syntax error in module handler SyntaxError import graphql from graphql ^^^^^^ SyntaxError Unexpected token import"},
{"id": 16325, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-19T20:53:57Z", "scrap_date": "2024-05-01T00:32:35.542561", "content": "after some troubleshooting i found out that I get import error when I do serverless deploy function f functionName if i just do serverless deploy it works fine "},
{"id": 16326, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-21T19:57:07Z", "scrap_date": "2024-05-01T00:32:35.543518", "content": "Hi vinodhum Deploying single functions currently does not work due to an outstanding issue with the serverlesswebpack plugin it uses to transpile the code In the meanwhile you could give the suggested patch a try I know this is frustrating since deploying the entire project is a much lengthier process Feel free to let us know here if you run into further issues "},
{"id": 16327, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-22T19:34:25Z", "scrap_date": "2024-05-01T00:32:35.544519", "content": "may be if we can have an option of offline development that could help I tried offline plugin and when I tried to start offline it give me error any I idea how can I add offline to es7 template "},
{"id": 16328, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-22T20:53:10Z", "scrap_date": "2024-05-01T00:32:35.544519", "content": "I see that sls webpack serve is working for local development but when I try to pass data on body using post method I dont see it on eventbody when when I was working with offline pluing i was able to read it using event body"},
{"id": 16329, "question_id": 1632, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-03T21:10:43Z", "scrap_date": "2024-05-01T00:32:35.545519", "content": "offline plugin does not work as the plugin does not transpile ES7 code and it will throw syntax errors It is very unfortunate because the plugin does a really good job at mocking API Gateway with very realistic event object And you are right sls webpack serve does not seem to set event body properly I opened a ticket here Ideally it would be nice to get offline plugin to work with babel I havent used offline plugin too much and wonder how they handle identity when using IAM and User Pool authorizers "},
{"id": 18092, "question_id": 1809, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-04T19:43:52Z", "scrap_date": "2024-05-01T00:32:36.408523", "content": "please ignore I was misinterpreting the error message"},
{"id": 11542, "question_id": 1154, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-20T14:32:10Z", "scrap_date": "2024-05-01T00:32:37.369091", "content": "This is really cool Im a big fan"},
{"id": 11543, "question_id": 1154, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-20T20:31:38Z", "scrap_date": "2024-05-01T00:32:37.370092", "content": "Thanks nikgraf Really appreciate it "},
{"id": 11544, "question_id": 1154, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-05T06:34:35Z", "scrap_date": "2024-05-01T00:32:37.371092", "content": "bencooling Any chance well have ES6 exports syntax support Getting Unexpected token import errors"},
{"id": 11545, "question_id": 1154, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-05T06:55:32Z", "scrap_date": "2024-05-01T00:32:37.371092", "content": "bencooling Adding this seems to do the trick I would kindly recommend we add the instruction to the setup For those of us using webpack to do our transpiling we dont need to specify this custom object by default We would only need to do so for this specific plugin "},
{"id": 18192, "question_id": 1819, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-06T04:20:30Z", "scrap_date": "2024-05-01T00:32:38.125777", "content": "ok I have just realised that this branch has never been merged and its closed now I would definitely like to install that branch and give it a try"},
{"id": 18462, "question_id": 1846, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-12T22:09:16Z", "scrap_date": "2024-05-01T00:32:38.996584", "content": "Is there a way to automate the database creation by using the serverless framework Yes You will need to define the cloudformation in the resources block of serverless yml with the resources you need with your service In this case its cloudformation for a RDS instance Checkout Amazon RDS template snippets AWS CloudFormation for more info on that cloudformation yaml to place in the resources section"},
{"id": 18463, "question_id": 1846, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-20T00:19:11Z", "scrap_date": "2024-05-01T00:32:38.998584", "content": "You also ask about VPC yes you can do that in resourcesCloudFormation template however theres potentially a lot of stuff to add security groups etc plus I have had issues before when locating the lambda in the VPC and having it just hang when trying to call AWS SDK methods not in a current project so a i dont remember all the details and b it might have changed by now My advice would be to use the default VPC for your RDS to get started then once that works try creating another VPC and stuff You also mention deploy database scripts are you asking about database initialization or migrations Unfortunately thats outside the scope of what I know that SLS can do right now although in fairness theres been LOTS of stuff added recently HTH Mark"},
{"id": 18882, "question_id": 1888, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T00:01:08Z", "scrap_date": "2024-05-01T00:32:39.990692", "content": "Bueher Buehler Anyone Has no one ever needed to deploy Lambda in one account and access a resource in a different account from it"},
{"id": 18883, "question_id": 1888, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T13:05:36Z", "scrap_date": "2024-05-01T00:32:39.991692", "content": "Personally I have never got crossaccount Roles working with Lambda Ended up using API access keys to the other account to solve the issue not the best solution but worked ok for a short lived setup Would be great to find out if you get cross account roles working"},
{"id": 18884, "question_id": 1888, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-20T04:46:04Z", "scrap_date": "2024-05-01T00:32:39.992691", "content": "I sure did Thanks to this article You should be able to read through it and look at his examples to understand how he uses the sts assumerole from within his js function httpspprakash metech20151127automatedcrossaccountdnsmanagementthroughcfnandapiaccessthroughapigateway"},
{"id": 18942, "question_id": 1894, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-20T05:31:18Z", "scrap_date": "2024-05-01T00:32:40.895619", "content": "Hey vpsouza Thanks for asking Great that you want to try out the new Google Cloud Functions integration The problem is that v1 13 doesnt support the new googlenodejs template but v1 14 will The docs for 1 14 well release next Wednesday are already out there You can use the current master if you want to give it a try Additionally you can use the install command and install the boilerplate httpsgithub comserverlessboilerplategooglecloudfunctionsnodejs It will be deprecated as soon as well release v1 14 but should still work the googlenodejs template was derived from the boilerplate Let us know if you need anything else "},
{"id": 1362, "question_id": 136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-17T20:20:47Z", "scrap_date": "2024-05-01T00:32:41.829167", "content": "Ok just found the answer on a github issue In the end I had to declare the vpc under provider and delcare a managedpolicy in the resource section to update the IAM role "},
{"id": 1363, "question_id": 136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-22T17:15:38Z", "scrap_date": "2024-05-01T00:32:41.830167", "content": "This is also something were going to fix in the future For now you can also add the statement to your provider config as outlined here httpsgithub comserverlessserverlessblobmasterdocsguidecustomproviderresources mdaddingcustomiamrolestatements This means you can remove the managed Policy completely and the IamRoleLambda will be extended"},
{"id": 1364, "question_id": 136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-26T20:41:15Z", "scrap_date": "2024-05-01T00:32:41.831358", "content": "Looks like that link is broken I think this is the equivalent new content httpsgithub comserverlessserverlessblobmasterdocs02providersaws02iam md Heres the example from that link"},
{"id": 1365, "question_id": 136, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-20T11:53:03Z", "scrap_date": "2024-05-01T00:32:41.832345", "content": "Now that link is broken I think this is where it lives now httpsserverless comframeworkdocsprovidersawsguideiamthedefaultiamrole"},
{"id": 14462, "question_id": 1446, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-08T20:24:22Z", "scrap_date": "2024-05-01T00:32:42.866547", "content": "Hi You could look at cross region peering httpsaws amazon comanswersnetworkingawsmultipleregionmultivpcconnectivity and httpdocs aws amazon comAmazonVPClatestPeeringGuideWelcome html"},
{"id": 14463, "question_id": 1446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-08T21:34:39Z", "scrap_date": "2024-05-01T00:32:42.867547", "content": "Peering is definitely what you need Just keep in mind that your Lambda functions will need to be VPCbased themselves and by default Lambda functions are not VPCbased in order to leverage the VPC peering and talk to RDS based in a VPC "},
{"id": 14464, "question_id": 1446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-20T11:40:18Z", "scrap_date": "2024-05-01T00:32:42.868547", "content": "Is there a way to integrate the peering into serverless to any extent or is it a case of doing it manually after deploy e g"},
{"id": 14465, "question_id": 1446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-20T22:04:54Z", "scrap_date": "2024-05-01T00:32:42.869548", "content": "CloudFormation recently added support for VPC Peering connections which means you can do it in the resources section of your serverless yml It does involve crossaccount roles to accept the peering request in the other account and theres a decent walkthrough in the docs "},
{"id": 14466, "question_id": 1446, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-21T11:12:41Z", "scrap_date": "2024-05-01T00:32:42.870548", "content": "cheers for the info rowanu Turns out I dont need this approach yet I was worried that defining VPC details would mean a new VPC is created rather than integrating with my existing VPC but it magically works so Im all set It was the fact that you cant define the IDname of the VPC that made me think that but obviously that can be looked up from a subnet or security group ID "},
{"id": 15293, "question_id": 1529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-29T11:31:31Z", "scrap_date": "2024-05-01T00:32:43.966044", "content": "This the is solution"},
{"id": 15294, "question_id": 1529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-22T12:33:31Z", "scrap_date": "2024-05-01T00:32:43.966044", "content": "Ive made a PR addressing this hopefully we should be able to do this by v1 15 "},
{"id": 19102, "question_id": 1910, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-22T15:45:37Z", "scrap_date": "2024-05-01T00:32:44.959213", "content": "I found a solution but it is not a sustainable one moving forward By creating an AWS lambda function mirroring the serverless function I was able to find the correct System Data Sqlclient assembly version needed and move to the publish directory for serverless I must be doing something wrong arrrghhhh"},
{"id": 14862, "question_id": 1486, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T06:45:53Z", "scrap_date": "2024-05-01T00:32:46.047991", "content": "The documentation httpsserverless comframeworkdocsprovidersawsguideiam mentions allowing directly specifying the role as you are trying Is the role getting created with the name that you provided or some other default name"},
{"id": 19192, "question_id": 1919, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T22:14:28Z", "scrap_date": "2024-05-01T00:32:46.963421", "content": "I dont think Serverless supports anything like this at the moment To be honest I didnt even know API Gateway could do that so thanks for posting links Personally I write validation logic inside the handlers and return an error status if validation fails I suspect that this wouldnt be too hard to implement and as you mentioned it saves cost and effort writing validation logic inside handlers Id open an issue on the repo it definitely sounds like a cool feature to have "},
{"id": 19272, "question_id": 1927, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-05-25T17:20:49Z", "scrap_date": "2024-05-01T00:32:47.989734", "content": "Keep in mind that S3 Bucket names need to be globally unique So anybody else whos done that tutorial has run into the same problem Netlify should update their tutorial to explain that you need to alter the bucket name to make it unique eg instead of slsupload pick something like henningdevslsupload and use that value throughout the tutorial Hope this helps For more info see the 3 on this amazon S3 Getting Started page and Rules for Bucket Naming in the Developers Guide "},
{"id": 19273, "question_id": 1927, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-25T17:35:13Z", "scrap_date": "2024-05-01T00:32:47.990734", "content": "yes that seems to work If I rename the bucket I can also deploy and deploy my application again Maybe I oversaw that this error appeared already the first time I deployed it Thanks "},
{"id": 19274, "question_id": 1927, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-25T18:46:16Z", "scrap_date": "2024-05-01T00:32:47.991735", "content": "Glad I could help And yes as long as you keep the bucket nobody else can take your bucket name Therefore you can redeploy as much as you wish forever "},
{"id": 19252, "question_id": 1925, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-26T01:03:14Z", "scrap_date": "2024-05-01T00:32:48.857761", "content": "Please use backticks to quote your code samples as it preserves formatting which is very important in your serverless yml Youll need to create your log group and pass a reference to it in to your function One approach will be to create your audit log group separately and export the name as an output and then reference via the CloudFormation output variables Another way that might work but I havent tested is using the CloudFormation Ref function in your functions environment variables and pulling the log group reference that way it will only work if the Ref object is passed through to functions CFN definition directly and I havent looked at the code recently "},
{"id": 19253, "question_id": 1925, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-26T10:31:16Z", "scrap_date": "2024-05-01T00:32:48.858762", "content": "Thanks for the tips Using the Ref function worked great I would never have expected that I could use it there "},
{"id": 19254, "question_id": 1925, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-27T10:33:10Z", "scrap_date": "2024-05-01T00:32:48.859762", "content": "Glad it worked Most but not all of what you put in the serverless yml ends up in your CloudFormation template which means you can use all the Serverless goodies e g variables etc and CFN goodies e g Ref etc Its one of my favourite things about SLS "},
{"id": 20212, "question_id": 2021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-08T16:24:10Z", "scrap_date": "2024-05-01T00:32:49.931090", "content": "Hey hendry Good idea on the who for the sls deploy list command Ive added this as an issue on httpsgithub comserverlessserverlessissues3756 We have been investigating a more fine grained permissions model for the framework its quite challenge with different services requiring access to difference pieces of AWS eahefnawy was looking into this "},
{"id": 20213, "question_id": 2021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-12T14:09:16Z", "scrap_date": "2024-05-01T00:32:49.933091", "content": "This is the issue were the provider permission levels were being discussed httpsgithub comserverlessserverlessissues3084"},
{"id": 20214, "question_id": 2021, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-13T02:11:05Z", "scrap_date": "2024-05-01T00:32:49.933091", "content": "Thanks for the followup David I favour the two roles Guess the weak analogy is"},
{"id": 20382, "question_id": 2038, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-13T04:18:30Z", "scrap_date": "2024-05-01T00:32:50.863183", "content": "Short answer No Longer answer A Serverless Service comprises of the Functions and their event sources i e API GW all of which are managed in a CFN template I imagine CFN will support adopting existing resources at some stage but it is not possible at the moment "},
{"id": 20542, "question_id": 2054, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-13T19:42:18Z", "scrap_date": "2024-05-01T00:32:51.962266", "content": "I dont think so createstackjson only creates the s3 bucket used internally by the framework to store deployment builds All user defined resources are stored in updatestackjson This is my understanding please correct me if Im wrong Btw resources in updatestackjson are essentially created once and managed by CloudFormation for future updates Are you concerned with CF managing the resources"},
{"id": 20362, "question_id": 2036, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-10T00:16:38Z", "scrap_date": "2024-05-01T00:32:52.628226", "content": "I think I figured it out Somehow Im still not sure how my babelrc file httpsgithub comAnomalyInnovationsserverlessstackdemoapiblobmaster babelrc was missingdeleted Restoring it solved the issue I guess this is my punishment for not working out of a git repo from the getgo It would have been much easier to notice with diffs "},
{"id": 20363, "question_id": 2036, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-12T23:42:38Z", "scrap_date": "2024-05-01T00:32:52.630227", "content": "zkhan Glad you figured it out Let us know if you run into any issues on our Github page httpsgithub comAnomalyInnovationsserverlessstackcomissues"},
{"id": 20364, "question_id": 2036, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-14T19:30:28Z", "scrap_date": "2024-05-01T00:32:52.630227", "content": "fanjie All issues thus far are of my own creation Thank you for the amazing tutorial Im really enjoying it "},
{"id": 15632, "question_id": 1563, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-15T22:01:39Z", "scrap_date": "2024-05-01T00:32:53.451845", "content": "You need to have GetObject permissions on your deployment role The following policy cleared this error up for me "},
{"id": 20472, "question_id": 2047, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-13T02:01:32Z", "scrap_date": "2024-05-01T00:32:54.603356", "content": "You might want to use this plugin httpsgithub commaciejtrederserverlessapigwbinary"},
{"id": 20473, "question_id": 2047, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-16T16:33:35Z", "scrap_date": "2024-05-01T00:32:54.604357", "content": "Note There are two almost named similar plugin for Binary Support Weird Read more in detail of AWS doc for better understanding httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewaypayloadencodings html Plugins httpsgithub comryanmurakamiserverlessapigwybinary httpsgithub commaciejtrederserverlessapigwbinaryblobmasterindex js Both works on create Stack but not on update Stack getting this error Serverless Error "},
{"id": 20474, "question_id": 2047, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-06-19T17:25:42Z", "scrap_date": "2024-05-01T00:32:54.605357", "content": "Hello First of all I am happy to see that plugin developed by me is mentioned here Second NaraGitHub I am happy to inform you that in the newest version plugin is based on update action After stack deployment it is using AWS sdk to perform update on API gateway And no this plugins are not same The one developed by ryanmurakami is setting CONVERT_TO_BINARY on the resource Plugin developed by me httpsgithub comryanmurakamiserverlessapigwybinary is setting up general binary support Binary Support section in API gateway settings You can check out the working demo here httpangularuniversalserverless maciejtreder com GitHub maciejtrederngtoolkit star Angular toolbox Start your PWA in two steps Add Serverless support for existing projects and much more maciejtrederngtoolkit PS Everyone Feel free to give me a star on github as a celebration of my first post on this forum "},
{"id": 10122, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T18:41:20Z", "scrap_date": "2024-05-01T00:32:55.593397", "content": "Hi kuashe Have you seen httpsdeveloper ibm comopenwhisk Its the IBM FAAS compute service that can be hosted on prem Id imagine other providers are working on onpremise solutions as well as the entreprise needs this "},
{"id": 10123, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-27T20:23:04Z", "scrap_date": "2024-05-01T00:32:55.594397", "content": "Hey DavidWells thanks a lot for answering I heard of IBM solution I cant seriously consider IBM solution as theyre product are too often designed only for big companies and their community almost nonexistent I think the Serverless community including myself should work on a simplified Open Ssource implementation of the AWS Lambda API Gateway to be able to deploy Serverless on premise as well on the cloud seamlessly "},
{"id": 10124, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-27T21:48:42Z", "scrap_date": "2024-05-01T00:32:55.595398", "content": "Im afraid that if something like this was simple it wouldve been done already The reality is that setting up and maintaining the infrastructure that goes in to a service like Lambda or any of the other public cloud providers is hard which is why its only been done successfully by dedicated IaaS companies and not yet by OSS Im sure well get there eventually but at the moment its a ways off There are much bigger lowerlevel problems that need to be more completely solved before an application framework is the biggest issue Serverless with its pluginbased architecture will be able to run on such a stack relatively easily when it exists "},
{"id": 10125, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-28T09:51:32Z", "scrap_date": "2024-05-01T00:32:55.596398", "content": "rowanu To precise my point here replicating exactly the same architecture as AWS is impossible Yet doing a simplified rough and stable replication of the Lambda API Gateway is doable in a few weeks Sure FaaS is likely to be only done by Iaas companies therefore a simplified and limited implementation of the technology should be achieved with a very common stack that most developpers are familliar with such as express It wont have the same performance as AWS and it wont be perfect but it will allow for seamless deployement eventually after a few versions this tech will have improve "},
{"id": 10126, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-29T01:49:55Z", "scrap_date": "2024-05-01T00:32:55.597398", "content": "Yet doing a simplified rough and stable replication of the Lambda API Gateway is doable in a few weeks So youre volunteering"},
{"id": 10127, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-29T09:15:48Z", "scrap_date": "2024-05-01T00:32:55.598398", "content": "Of course Ive already started prototyping the tech To be honest i was thinking about maintaining the repo myself with help of people who wants to as i really really need serverless on premise But I came to the forum to see if other people are interrested in it and how we should organize I should just start the repo and see how things goes "},
{"id": 10128, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-29T10:28:25Z", "scrap_date": "2024-05-01T00:32:55.599399", "content": "Since you already started whats your tech stack BTW openwhisk recently became an Apache project so Id really consider using it "},
{"id": 10129, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-29T11:21:25Z", "scrap_date": "2024-05-01T00:32:55.600399", "content": "As I said it will be express for the first version Lot of people know express the framework is simple and straightforward Also nodejs is very simple The idea for this first version is just to get something that works with nodejs and python functions later the tech should be improved with very high performance architecture "},
{"id": 101210, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-29T12:14:31Z", "scrap_date": "2024-05-01T00:32:55.601399", "content": "bbilger I wouldnt bother with openwhisk its made by a big company for big companies I want to move fast and not have to adapt myself to the whole IBM cloud which must be heavy as hell and the community around it is almost nonexistent compared to AWS or Azure "},
{"id": 101211, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-29T16:59:51Z", "scrap_date": "2024-05-01T00:32:55.601399", "content": "kuashe Just a few things and my personal opinion Having said this I dont want to argue against your idea and I am curious to see some other OSS implementation or rather an alternative to openwhisk "},
{"id": 101212, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-31T09:34:56Z", "scrap_date": "2024-05-01T00:32:55.602400", "content": "I believe serverless support for Azure Functions is not too far away and you can deploy that on your own servers if you want to Otherwise closer to lambda the new AWS Greengrass product might be suitable for you httpsaws amazon comgreengrass"},
{"id": 101213, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-31T11:58:04Z", "scrap_date": "2024-05-01T00:32:55.603400", "content": "Thanks a lot Basically thats the idea i would like to have a sort of blackbox that you just need to deploy and it does all the job for you Unfortunately its made for IOT devices consumption In the doc its designed for 3 Devices running the SDK i dont think it suited for company who wants to deploy serverless solution on premise for thousands of clients Web Mobile Server as a true backend "},
{"id": 101214, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-04T11:50:25Z", "scrap_date": "2024-05-01T00:32:55.604400", "content": "Have you seen lambcis docker image of the lambda environment GitHub lambcidockerlambda Docker images and test runners that replicate the live AWS Lambda environment lambcidockerlambda It might be a step towards what you want to do"},
{"id": 101215, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-04T12:08:15Z", "scrap_date": "2024-05-01T00:32:55.605400", "content": "Yes indeed Needs and Http server but thats the idea "},
{"id": 101216, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-05T01:20:57Z", "scrap_date": "2024-05-01T00:32:55.605400", "content": "Theres also an official AWS Linux Docker image if youre after a Lambdalike environment Just saw fission which sounds relevant "},
{"id": 101217, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-05T08:54:10Z", "scrap_date": "2024-05-01T00:32:55.606594", "content": "Fission looks very promising and serious The problem its too packed with Kubernet what if i need to use docker Should be decoupled from kubernet Will still write my own otherwise thats what i needed i think the performance seemed very good "},
{"id": 101218, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-01-12T22:57:28Z", "scrap_date": "2024-05-01T00:32:55.607597", "content": "Hey there kuashe Im the author of Fission We built it on Kubernetes because we it takes care of cluster management scheduling networking and so on we didnt want to reinvent all that Kubernetes is pretty easy to get up and running these days even on dev laptops but if it doesnt work for you for some reason Id be very interested to learn more about your use case thanks soam"},
{"id": 101219, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-14T23:03:28Z", "scrap_date": "2024-05-01T00:32:55.609597", "content": "Hey soamvasani Thanks for reaching out My problem is very simple Lets say i create a serverless application maybe for some enterprise ill need to host it on site What if the client uses Docker Swarm or something else Ill need to be dealing with kubernet myself My point here is that the framework that Emulate serverless functions has to be indepent from the infrastructure Docker Rckt Kubernet etc Also the framework needs to emulate as much as possible functions from the differents provider seamlessly Google Azure AWS Otherwise Fission looks great "},
{"id": 101220, "question_id": 1012, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T15:22:39Z", "scrap_date": "2024-05-01T00:32:55.611592", "content": "Hi soamvasani Do you know if Fission will be supported by Serverless Have you guys been discussing this Looks like a promising solution"},
{"id": 21772, "question_id": 2177, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-29T23:57:57Z", "scrap_date": "2024-05-01T00:32:56.211450", "content": "Sounds like an IAM issue check that your IAM user has the correct permissions to deploy to CloudFormation You can do this from the AWS Console"},
{"id": 21773, "question_id": 2177, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-06-30T15:11:08Z", "scrap_date": "2024-05-01T00:32:56.212451", "content": "Thanks hassankhan problem solved CloudFormationValidateTemplate doesnt support specification of multiple resources You must specify as resources "},
{"id": 21774, "question_id": 2177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T17:54:05Z", "scrap_date": "2024-05-01T00:32:56.213451", "content": "Glad I could help"},
{"id": 21942, "question_id": 2194, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-02T15:25:03Z", "scrap_date": "2024-05-01T00:32:57.051513", "content": "Im quite new to GraphQL Id never even heard of subscriptions before After having now read a little about it it seems like GraphQL uses a PubSub service to update clients AWS has SNS for this purpose so Id imagine you could use that Looking around seems theres an older project that might be a good base although outdated httpsgithub comjonsharrattgraphqlaws Please do let us know how it goes"},
{"id": 21943, "question_id": 2194, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-02T16:33:42Z", "scrap_date": "2024-05-01T00:32:57.052513", "content": "Interesting I havent considered using AWS SNS but will look into it After researching some more people have been suggesting AWS IoT as well to maintain a websocket connection If I can find a way to integrate that with GraphQL Subscriptions that may be a good solution as well "},
{"id": 19472, "question_id": 1947, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-03T16:23:08Z", "scrap_date": "2024-05-01T00:32:58.092580", "content": "Have you found any solution for this Im looking for something similar "},
{"id": 21412, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-25T23:56:12Z", "scrap_date": "2024-05-01T00:32:59.220100", "content": "bhaskyknl Indentation is important for YAML files Can you please add ```yaml on the line before your serverless yml and ``` on the line blow so that it maintains the correct formatting"},
{"id": 21413, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T02:01:53Z", "scrap_date": "2024-05-01T00:32:59.221100", "content": ""},
{"id": 21414, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T02:04:19Z", "scrap_date": "2024-05-01T00:32:59.222100", "content": "Thanks for replying you are saying like this"},
{"id": 21415, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T02:17:45Z", "scrap_date": "2024-05-01T00:32:59.222100", "content": "bhaskyknl If you do it correctly then your message will look like Instead of If youre using code tags them remove them "},
{"id": 21416, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T02:23:46Z", "scrap_date": "2024-05-01T00:32:59.223100", "content": "I have correct indentation in my serverless yml file however i pasted here in forum it is not formatting "},
{"id": 21417, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T18:27:19Z", "scrap_date": "2024-05-01T00:32:59.224101", "content": "Is there any update on my issue"},
{"id": 21418, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T22:35:15Z", "scrap_date": "2024-05-01T00:32:59.224101", "content": "Hi bhaskyknl I think your mistake is that your template is incorrect since you have double single quotes around toDate it must be toDate input params toDate instead of toDate input params toDate A few side notes Full Example serverless yml build gradle just for completeness "},
{"id": 21419, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-28T02:32:38Z", "scrap_date": "2024-05-01T00:32:59.225101", "content": "Thanks for the update I am able to access query params now I went through the doc using lambdaproxy Can you please provide if you have any example for HTTP POST method using java for lambdaproxy I am using spring boot After i deployed into aws lambda i am getting aws gateway timeout error for 1st run subsequent runs gives result within 30 mins Is there a solution for this timeout issue Thanks Bhasky"},
{"id": 214110, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-28T21:06:28Z", "scrap_date": "2024-05-01T00:32:59.226101", "content": "regarding binary check this How to add binary media type to serverless yml The important steps are to regarding the timeout"},
{"id": 214111, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-29T23:11:53Z", "scrap_date": "2024-05-01T00:32:59.227101", "content": "Thanks for the update Can you please provide an example how we mention lambdaproxy awsproxy aws_proxy in serverless yml and how we access the requestpath variable using aws lambda java for PUT method Thanks Bhasky"},
{"id": 214112, "question_id": 2141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-03T20:35:26Z", "scrap_date": "2024-05-01T00:32:59.227101", "content": "Hi bhaskyknl See httpdocs aws amazon comapigatewaylatestdeveloperguideapigatewaysetupsimpleproxy htmlapigatewaysimpleproxyforlambdainputformat"},
{"id": 22042, "question_id": 2204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-04T12:21:23Z", "scrap_date": "2024-05-01T00:32:59.982544", "content": "DynamoDB costs depends of the IOPS provided if youve reserved 1K IOPS you will pay for 1K IOPS even if you use just 10 Im running an api that is handling 35M request per month and the cost do not exceed us120 200 so be careful with the IOPS reserved in DynamoDB"},
{"id": 22043, "question_id": 2204, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-04T12:27:06Z", "scrap_date": "2024-05-01T00:32:59.983544", "content": "Start by looking at which Lambdas are running and whats triggering them If you have no traffic then maybe youve accidentally put an infinite loop into your application For example You have a Lambda triggered by writing to DynamoDB thats writing back to DynamoDB triggering the next invocation "},
{"id": 21992, "question_id": 2199, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-04T14:52:39Z", "scrap_date": "2024-05-01T00:33:01.048989", "content": "Solved the issue had HostedZoneId instead of HostedZoneName under APIDomainNameProperties Regards Gero"},
{"id": 21722, "question_id": 2172, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-05T02:13:44Z", "scrap_date": "2024-05-01T00:33:01.594850", "content": "First you probably meant to use 301 302 303 307 or 308 rather than 304 Second You need to add a P3P header The value doesnt seem to matter but some browsers wont accept the cookie if you dont "},
{"id": 22142, "question_id": 2214, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-05T02:24:42Z", "scrap_date": "2024-05-01T00:33:02.559718", "content": "Cant see an obvious way to do this through the builtin options but one way to do it would be to run sls package command and launch the templates that are generated in the serverless directory or where ever you put them yourself passing the disablerollback option "},
{"id": 22222, "question_id": 2222, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-05T20:08:53Z", "scrap_date": "2024-05-01T00:33:03.417982", "content": "For more context the stack trace is TypeError this pkg cleanup is not a function at OpenWhiskDeployFunction cleanup usrlocallibnode_modulesserverlessopenwhiskdeployFunctionindex js7121 From previous event at PluginManager invoke usrlocallibnode_modulesserverlesslibclassesPluginManager js21722 at PluginManager run usrlocallibnode_modulesserverlesslibclassesPluginManager js23617 at variables populateService then usrlocallibnode_modulesserverlesslibServerless js10733 at runCallback timers js80020 at tryOnImmediate timers js7625 at processImmediate [as _immediateCallback] timers js7335 From previous event at Serverless run usrlocallibnode_modulesserverlesslibServerless js9474 at serverless init then usrlocallibnode_modulesserverlessbinserverless3250 at"},
{"id": 21572, "question_id": 2157, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T05:36:21Z", "scrap_date": "2024-05-01T00:33:04.398970", "content": "Something like this may work Change your environment configs to Then use this for your serverless yml"},
{"id": 21872, "question_id": 2187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-12T20:33:54Z", "scrap_date": "2024-05-01T00:33:05.113997", "content": "Managing the stack with two tools would be fiddly at best Ideally youd slice off functionsfunctionality and migrate them to Serverless piecebypiece but only ever having one tool to manage one component "},
{"id": 21873, "question_id": 2187, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-15T05:36:11Z", "scrap_date": "2024-05-01T00:33:05.114997", "content": "The answer to these questions will always be it depends There are times when the best approach is to take a hit and spend the time converting the entire project at once If your project is small cant be broken up or isnt very complex then this might be the best approach for you But if youve got a large project with a complex configuration then I would take rowanu s advice and try to slice of bits until youve been able to migrate the entire project "},
{"id": 22882, "question_id": 2288, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-15T05:40:56Z", "scrap_date": "2024-05-01T00:33:06.061173", "content": "Is there a way to add these permissions without having to manually attach the policy When you say manually are you going into the console after deploying and making the adjustment there You could give the function the relevant permissions by setting the iamRoleStatements inside your serverless yml "},
{"id": 23042, "question_id": 2304, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-17T03:56:59Z", "scrap_date": "2024-05-01T00:33:07.129176", "content": "Its been a couple of versions since I looked at this but Serverless was including everything in your service directory in the zip by default You shouldnt need to package it specifically "},
{"id": 22932, "question_id": 2293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-17T05:24:16Z", "scrap_date": "2024-05-01T00:33:07.813956", "content": "CloudFront is a global service like IAM etc which in practice means it only existsworks in useast1 ACM certificates can only be used with CloudFront if they exist in useast1 so this is why youre getting this error The easiest resolution is to just deploy your service to useast1 If you have to deploy your service to apsoutheast2 then youll need to deploy your resources separately since CloudFormation templates are preregion "},
{"id": 22972, "question_id": 2297, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-15T15:46:34Z", "scrap_date": "2024-05-01T00:33:08.866400", "content": "Hey You can do this using the profile flag on the cli for example serverless deploy awsprofile prodProfile Loads more methods and explaination can be found here serverless Serverless Framework AWS Lambda Guide Credentials How to set up the Serverless Framework with your Amazon Web Services credentials Per account creds info How to set up the Serverless Framework with your Amazon Web Services credentials Hope this helps"},
{"id": 22973, "question_id": 2297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-15T19:12:11Z", "scrap_date": "2024-05-01T00:33:08.868400", "content": "Thanks for your reply So do I create another function for that Or I can reuse the same function Because the prod account has different Kinesis stream name and SQS"},
{"id": 22974, "question_id": 2297, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-16T03:00:08Z", "scrap_date": "2024-05-01T00:33:08.869401", "content": "Dont hard code stuff into your application or your serverless yaml The simplest solution is to add then include selfcustom stage as part of the resource name You can do a similar thing with region if you need to deploy the same stage to different regions Then pass the relevant information to your functions using environment variables "},
{"id": 22975, "question_id": 2297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-16T12:10:37Z", "scrap_date": "2024-05-01T00:33:08.870401", "content": "Thanks I think Im starting to get it now "},
{"id": 22976, "question_id": 2297, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T11:55:48Z", "scrap_date": "2024-05-01T00:33:08.870401", "content": "From what I see you can put the stage directly into the provider section and it will be used in naming However you can provide the default stage in the custom section Ive adapted the example from the documentation as follows The corresponding cloud formation stack will then have the name servicestage and the stage will default to dev if no stage is provided "},
{"id": 22642, "question_id": 2264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T11:45:47Z", "scrap_date": "2024-05-01T00:33:09.880265", "content": "Do you have Python 2 7 installed correctly It seems the most common resolution to Error spawn python2 7 ENOENT involves making sure Python 2 7 is installed and in the path "},
{"id": 22643, "question_id": 2264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T12:18:47Z", "scrap_date": "2024-05-01T00:33:09.881265", "content": "Apparently it is a issue running on windows "},
{"id": 23092, "question_id": 2309, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T04:35:04Z", "scrap_date": "2024-05-01T00:33:10.498784", "content": "The right way to do this is to vendor your shared code and use the package management tools to manage it i e npm One feature that will probably help you is the npm link command It will let you keep one authoritative copy of your library locally and link to it from multiple services Doing what youve outlined i e incorporating the parent node_modules directory is not a good idea because it means that your service relies on external to the project directory dependencies and not a scenario that NPM supports "},
{"id": 23093, "question_id": 2309, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T13:18:27Z", "scrap_date": "2024-05-01T00:33:10.500784", "content": "OK thanks for your advice Rowan Ill explore some more as to what is possible with the ideas you describe above If I find a solution Ill try to remember to post it here Though it does seem to me that its a permanent or temporary limitation of serverless or webpack not npm In our design our repository starts at the parent directory and we see all of this code as one project Its possible that serverless and webpack running in the subdirectory defines itself as the project and is not willing to move ahead without a package json though I still suspect it could be because I havent configured them properly Node doesnt seem to have restrictions against looking in a parent directory for required modules httpsnodejs orgapimodules html Ill try to learn more and improve my understanding of this situation as Im not an endall expert on all these tools Thanks "},
{"id": 23094, "question_id": 2309, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T20:59:06Z", "scrap_date": "2024-05-01T00:33:10.501785", "content": "Yeah this might be a bit different from what youre used to if youre relatively new to NodeJs package management Having a package json in the root of your project is a common convention but maybe not something thats explicitly called out npm relies on all of you dependencies being declared in a local package json to avoid the mess that is systeminstalled i e implicit dependencies which is why Ruby has bundler and Python has virtualenv etc Most of the tooling in the NodeJs ecosystem relies on there being a package json in the root of the project e g Webpack relies on package json for resolution as mentioned in their docs Each Serverless Service effectively assumes it is the project youre working on lumping them together in a metarepository is not a common practice Do you have multiple functions in your Serverless Service If so I would argue it deserves its own project but now were getting in to semantics The model youre following reminds me more of an Apex project "},
{"id": 23182, "question_id": 2318, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-18T21:05:46Z", "scrap_date": "2024-05-01T00:33:11.528188", "content": "Not that Im aware of and for anyone else reading this its actually serverless yml i e not yaml "},
{"id": 23222, "question_id": 2322, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T05:28:39Z", "scrap_date": "2024-05-01T00:33:12.519197", "content": "I hesitate to suggest it but you could use the CloudFormation Designer I dont personally like the output it generates its very lowlevel but it is a visualization of your service stack "},
{"id": 23262, "question_id": 2326, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T18:08:25Z", "scrap_date": "2024-05-01T00:33:13.186606", "content": "There was a typo in the handler function name ignore this post "},
{"id": 23922, "question_id": 2392, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-30T20:13:59Z", "scrap_date": "2024-05-01T00:33:14.281168", "content": "They dont The sls invoke command is going to be run in Lambda so its not going to have access to your local credentials Your local credentials will not be and should not be uploaded in to the Lambda service Your functions take their permissions from the IAM Role that is created and assigned by Serverless when it generates your service The default permissions includes access to do things like log to CloudWatch etc You can add permissions to the default role created or you can create a custom role for your functions but this is more complicated "},
{"id": 23923, "question_id": 2392, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-30T20:55:21Z", "scrap_date": "2024-05-01T00:33:14.282168", "content": "Thanks rowanu that makes sense now I originally reused some of my S3 code that I use a lot but outside of Lambda functions The snippet included which I habitually followed without considering the Lambda environment properly "},
{"id": 23772, "question_id": 2377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-30T21:55:23Z", "scrap_date": "2024-05-01T00:33:14.808300", "content": "Unfortunately the short answer is You cant While it might be possible it would require quite a detailed setup that I havent seen attempted and documented at least not in public Serverless will nearly always need IAM permissions to create the IAM roles that your functions will run as and once you give someone IAM permissions they can create themselves any other permissions they want Follow this issue on GitHub to track the topic "},
{"id": 23752, "question_id": 2375, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-30T21:56:21Z", "scrap_date": "2024-05-01T00:33:15.889774", "content": "Sounds like a regression Probably best to open an issue "},
{"id": 23753, "question_id": 2375, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-30T23:40:13Z", "scrap_date": "2024-05-01T00:33:15.890769", "content": "Im using nodejs 6 10 on AWS lambda Done Can not use custom artifact zip in v1 18 Issue 4015 serverlessserverless GitHub"},
{"id": 23832, "question_id": 2383, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-29T04:21:44Z", "scrap_date": "2024-05-01T00:33:16.587559", "content": "A couple of releases ago Serverless stopped packaging dev dependencies in the zip file "},
{"id": 23834, "question_id": 2383, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-07-31T21:27:24Z", "scrap_date": "2024-05-01T00:33:16.588560", "content": "All good on v1 18 1 Can close this post now"},
{"id": 23952, "question_id": 2395, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-31T11:56:48Z", "scrap_date": "2024-05-01T00:33:17.534588", "content": "Note that sometimes the error is totally different looks like a xlsx error but Im almost sure its still a memory issue never had before And also sometimes execution goes fine and I have the expected result Here is the second error I can have"},
{"id": 23953, "question_id": 2395, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-01T09:57:49Z", "scrap_date": "2024-05-01T00:33:17.535588", "content": "Never mind I thought it was linked to serverless because it didnt happen before but I also upgraded my node version I found the issue was retrieving a xlsx file with http get via a pipe and was trying to parse it on request on end event instead of pipe on finished so sometimes the file was not totally closed when I opened it "},
{"id": 18852, "question_id": 1885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T13:10:21Z", "scrap_date": "2024-05-01T00:33:18.338698", "content": "Worth checking you are in the project root directory and then try serverless deploy stage test package serverless"},
{"id": 18853, "question_id": 1885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T13:15:37Z", "scrap_date": "2024-05-01T00:33:18.339699", "content": "In other words I need to be in the same directory where the serverless yml is I thought the purpose of the package was that I could send that to my CI server and just deploy it but it seems I still need the serverless yml right"},
{"id": 18854, "question_id": 1885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-19T13:45:40Z", "scrap_date": "2024-05-01T00:33:18.340699", "content": "Yeah I think you will need to be as it needs the serverless yml The idea of packaging with CI is not to package first locally then push up rather that your CI task runner runs the serverless deploy stage test package serverless This allows you create consistent deploy packages using a version number param or commit tag for example quick ref in the Docs httpsserverless comframeworkdocsprovidersawsguidepackaging"},
{"id": 18855, "question_id": 1885, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T06:05:45Z", "scrap_date": "2024-05-01T00:33:18.341700", "content": "You are right it is not very good from CICD prospective I follow below workaround "},
{"id": 23992, "question_id": 2399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-01T11:54:05Z", "scrap_date": "2024-05-01T00:33:19.253056", "content": "How I thought when I remove the env variables run deploy and return them back and run deploy again it works fine Question is is it a bug"},
{"id": 23993, "question_id": 2399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-01T23:52:56Z", "scrap_date": "2024-05-01T00:33:19.253056", "content": "No its not a bug How can you reference a variable variable that doesnt exist When you first deploy the stack there are no outputs to reference so it fails These kinds of variables are useful if you first deploy your resource i e RDS in this case and then in a separate stackservice reference it in your function "},
{"id": 23994, "question_id": 2399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T01:21:15Z", "scrap_date": "2024-05-01T00:33:19.254056", "content": "I know you can use FnJoin inside environment variables Ive never tried using using FnGetAtt there but this might work If you try it Id love know the result "},
{"id": 23995, "question_id": 2399, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-02T10:45:54Z", "scrap_date": "2024-05-01T00:33:19.255057", "content": "buggy It works like a charm thanks rowanu How would you setup automated deploy of such service then If I didnt get the advice from buggy I thought Serverless creates the resources first and then resolves the variables I found few more similar problems one of them was a policy on some resource for the lambda role which I had to remove for the first deploy but I dont remember exactly maybe Serverless could distinguish between some setup deploy and the subsequent ones"},
{"id": 23996, "question_id": 2399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T20:23:16Z", "scrap_date": "2024-05-01T00:33:19.256057", "content": "If it had to make that distinction between setupnotsetup deployments then it wouldnt be idempotent While what youre describing would be convenient there are many strange and wonderful ways such an approach can fail e g What if there was bug in the logic and SLS thought it was doing the setup run and it wasnt What if some of your setup process completed successfully but not all of it should SLS do the setup run because some dependencies are missing or should it do no setup because some are present The key is to separate your service and its dependencies and not to deploy them all at once Deploy you dependencies first and then the thing that depends on them This has the added benefit that by calling out your dependencies explicitly i e by putting them in another stackservice you make things much easier to maintain and troubleshoot in the future "},
{"id": 24032, "question_id": 2403, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T20:31:46Z", "scrap_date": "2024-05-01T00:33:20.063519", "content": "Currently no The variables system is not just JavaScript There are two ways I can think of that you could do this neither are particularly elegant"},
{"id": 24072, "question_id": 2407, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T20:26:31Z", "scrap_date": "2024-05-01T00:33:20.837354", "content": "Sounds like youre using VPCbased Lambdas There have been issues with cleaning up the ENIs that are allocated to VPCbased Lambdas in the past it used to just not do it if any traffic had been sent through the ENI in last 1224 hours That error message suggests that they might now clean themselves up If possible I would recommend waiting a day and seeing what happenstrying to clean it up again If you cant wait that long you should log a support request with AWS "},
{"id": 24073, "question_id": 2407, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T21:12:59Z", "scrap_date": "2024-05-01T00:33:20.839354", "content": "Other weird part is the existing lambdas are getting deleted so lets say if I deployed lambda with function name sqs2kafkaset0functionName and if I redploy the function again with name sqs2kafkaset1functionname the previous one gets deleted Thanks Harsh"},
{"id": 24074, "question_id": 2407, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-02T22:14:28Z", "scrap_date": "2024-05-01T00:33:20.839354", "content": "Hmm not sure why that would be Lambda function names need to be unique Might be something to do with the generated CloudFormation from SLS "},
{"id": 24152, "question_id": 2415, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-04T01:21:08Z", "scrap_date": "2024-05-01T00:33:21.895795", "content": "With a little help from my friends this issue has been resolved Since we already had the body JSON object we only needed to pass it through Sigh Sleep is required "},
{"id": 24842, "question_id": 2484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-14T11:08:18Z", "scrap_date": "2024-05-01T00:33:22.972488", "content": "If your Lambda is using node you could use httpswww npmjs compackagex509 examples on there show how to use it "},
{"id": 24843, "question_id": 2484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T03:26:06Z", "scrap_date": "2024-05-01T00:33:22.973488", "content": "That package is a wrapper for calling openssl Ive figured out now that lambda nodes have openssl available Im still working on figuring out how to use serverless to include this package into my function upload "},
{"id": 24762, "question_id": 2476, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-13T20:11:42Z", "scrap_date": "2024-05-01T00:33:23.921499", "content": "This looks like an issue with the implementation in Serverless to me I would open an issue against the project to support Ref s in that field I also wouldve expected to be able to pass the Ref or similar through The other approach that comes to mind is to create your SNS topic in a separate stack that you deploy before your service This has the added benefit of being able to be reused between services without you needing to subscribe multiple times Note that the PR you linked is also adding the required snsPublish permissions to the default role so you dont need the same thing in your serverless yml s iamRoleStatements "},
{"id": 24763, "question_id": 2476, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T14:32:15Z", "scrap_date": "2024-05-01T00:33:23.923500", "content": "Thanks rowanu issue created github comserverlessserverless Issue Lambda onError cannot use CloudFormation Ref requires ARN string \t \topened by shentonfreude \ton 20170815 \t \t \tclosed by pmuens \ton 20170901 \t This is a Bug Report Feature Proposal Description For bug reports What went wrong I created an SNS topic resource and tried to reference \t kindbug \t statushelpwanted"},
{"id": 24952, "question_id": 2495, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T21:47:58Z", "scrap_date": "2024-05-01T00:33:24.881745", "content": "It needs it because the features and hence the permissions required are in a steady state of change AdministratorAccess is the only policy guaranteed to work If you limit yourself to a subset of features you can probably limit the permissions granted Unfortunately its always going to need IAM permissions to create the lambda function role which renders all other limitations moot If something can create IAM resources it can create a resource with AdministratorAccess Theres a possibly outdated GitHub issue about this which might help you "},
{"id": 25002, "question_id": 2500, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T21:48:30Z", "scrap_date": "2024-05-01T00:33:25.749995", "content": "The closest thing is this issue on GitHub which might be a bit out of date because new features have been added since it was last updated "},
{"id": 24902, "question_id": 2490, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T21:38:05Z", "scrap_date": "2024-05-01T00:33:26.399202", "content": "Yeah I had that problem on another computer Im working from a different machine right now but I realise now I probably havent logged out of this session in aaaaages Has anything changed with the forum config recently DavidWells "},
{"id": 24903, "question_id": 2490, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-15T22:04:13Z", "scrap_date": "2024-05-01T00:33:26.400202", "content": "Ahoy We have just updated the site to use https only today This should fix the login issues people are experiencing If you do see any other issues ping me on Twitter DavidWells and we can get it sorted Thanks for this report "},
{"id": 25042, "question_id": 2504, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-16T02:43:47Z", "scrap_date": "2024-05-01T00:33:26.957002", "content": "It is possible for Lambda functions to only be a couple of kb but you need to restrict yourself to just code you write plus the AWSSDK as a dev dependency Once you start to use third party NPMs then you get all of the baggage that comes with them Serverless helps you with some of this It will automatically exclude dev dependencies from the upload package You can further control what is being uploaded using the excludeinclude options in your serverless yml file This allows you to exclude additional config files source files test files etc If that still isnt enough then consider something like webpack to reduce the size further through tree shaking but understand that while it might decrease the size of each function it may increase the size of the upload package "},
{"id": 25043, "question_id": 2504, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-16T03:50:17Z", "scrap_date": "2024-05-01T00:33:26.959002", "content": "I just removed the npm dependencies from my functions and now my deploy package is 100K for 30 functions But when starting off with serverless it would make sense to include some of that npm baggage initially to demonstrate how it can be done Now that I understand how libraries can be loaded along with the functions Ill implement my complex support code as a native library So get started quick and easy include a node package then work on making it smaller I also assume that if any function inside my zip gets called it will keep my lambda container hot Or is AWS putting every lambda function on my account into a single container How does that work if I have different memory sizes set on my functions That was another misconception I had I initially thought AWS was putting each function in a tiny language based container I thought Amazon had built Javascript Python etc containers but now I know these is nothing but a standard Linux container with the language runtime instead Now that Ive made this leap of understanding Ive changed my code to do OS level things like exec openssl I really did not want to parse certificates in Javascript "},
{"id": 25044, "question_id": 2504, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-16T04:08:10Z", "scrap_date": "2024-05-01T00:33:26.961003", "content": "I also assume that if any function inside my zip gets called it will keep my lambda container hot Or is AWS putting every lambda function on my account into a single container How does that work if I have different memory sizes set on my functions Each Lambda function is its own container One function might stay hot while another goes cold If you want to keep a function hot you need to call that function The zip file created by Serverless has nothing to do with that Its just how the code gets packaged for uploading to AWS "},
{"id": 25052, "question_id": 2505, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-16T07:34:44Z", "scrap_date": "2024-05-01T00:33:27.869388", "content": "Not natively but there a number of plugins that can do what youre after The first one I found is serverlessclients3 which has the added benefit of being maintained by the Serverless Framework Team It does look like it always uploadsoverwrites your static files so doesnt sound like its as intelligent as s3_webiste Check the main list of plugins or the awesome list there might be others that do similar "},
{"id": 19342, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-29T20:04:44Z", "scrap_date": "2024-05-01T00:33:28.920006", "content": "Currently the Serverless framework does not support Lambda and it might never The reason is that Lambda is designed to fit a very unique use case that only interacts with a very limited set of event triggers as well having limited function size and instance size only 128MB memory instances It would be cool if the framework could find a way to do it but its probably not likely "},
{"id": 19343, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-29T21:32:35Z", "scrap_date": "2024-05-01T00:33:28.921007", "content": "Thank you for the reply I hope it will be supported as I see it as a great possibility if you are in need of running some simple logic as close to the user as possible it would seem a great fit I guess I see it more as a contender to scripting in Nginx but with automatic CDN distribution than for full fledged business logic and in that case the current limitations should not be too troubling Would it maybe be possible to manually configure CloudFront and Lambda and use Serverless for controlling API Gateway and other Lambda logic Or would I need to drop Serverless altogether if using Lambda For some context Im looking into rendering webpages using Lambda and having CloudFront as cache in front and would like to use Lambda for some manipulation of the incoming requests like country or device detection to serve different results depending on these "},
{"id": 19344, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-29T21:37:48Z", "scrap_date": "2024-05-01T00:33:28.923007", "content": "To be honest Lambda would be a bad way to run a site from What is probably a better method is to use S3 to store your HTML CSS and JS and the JS on that frontend communicates to a Lambda backend via HTTP S3 buckets can be fed through Cloudfront as well allowing for any manual settingup of Lambda if you really need to "},
{"id": 19345, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T06:20:16Z", "scrap_date": "2024-05-01T00:33:28.924008", "content": "That is pretty much how our current stack works except our data producing API is not in Lambda What Im trying to add in between there is serverside rendering of the HTML For that part Im hoping Lambda Lambda could be a viable solution"},
{"id": 19346, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T09:44:43Z", "scrap_date": "2024-05-01T00:33:28.924008", "content": "Is it possible to use Serverless to test and develop a L function though Going through AWSs web IDE is painful"},
{"id": 19347, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T20:01:13Z", "scrap_date": "2024-05-01T00:33:28.925008", "content": "Amazon have said Lambda is not meant for large workload which is why there are restrictions At best it is meant to drop in a header into a request andor response "},
{"id": 19348, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T20:04:18Z", "scrap_date": "2024-05-01T00:33:28.926008", "content": "osmestad What clientside rendering can you not do that requires serverside rendering The solution for us was to invest in use of a clientside framework such as Vue to help componentise the different portions of our pages and each component is now a seperate private node module that then goes through the webpack compile process to optimise everything So far there has been zero need for us to have serverside rendering and we just allow JS on the clientside to request data it needs to finish rendering a page "},
{"id": 19349, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-30T23:04:32Z", "scrap_date": "2024-05-01T00:33:28.927008", "content": "garethmcc An example would be sharing a link from your site on social media sites like Facebook FB for instance looks for the Open Graph meta tags when converting the link to an embedded card with a photo and all that I use the Vue Head library to change the meta tags based on which component is loaded but unfortunately FBs Open Graph parser doesnt wait for the pages JS to complete execution before rendering the embedded card osmestad This is a problem Im facing now and I am looking into attaching a L function to Cloud Front to check the User Agent in the request header and take appropriate action if the request originated from FB e g return tags with appropriate meta data I havent figured how to instruct the L function to continue as normal e g Cloud Front responds to the request if the User Agent isnt FB Timely question Thanks for asking If I get any further Ill post it here "},
{"id": 193410, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-30T23:47:51Z", "scrap_date": "2024-05-01T00:33:28.928009", "content": "garethmcc If you cannot see potential use cases in L it does not mean others cannot either rick and anyone else please share your ideassuccesses with utilizing Serverless for developing L functions"},
{"id": 193411, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-05T06:54:48Z", "scrap_date": "2024-05-01T00:33:28.929009", "content": "We currently use Cloudformation to deploy our Cloudfront distributions that sit in front of S3 Bundling our lambda functions into a serverless app that includes the Cloudfront distribution would allow us to test promote our CDN the same way we develop our applications I would say that is a very valid use case and something relatively simple to implement once Cloudformation supports lambda function associations Of course one could write a plugin that uses the APISDK for CreateUpdateDistribution to shoehorn the event association in there instead "},
{"id": 193412, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-09T21:59:22Z", "scrap_date": "2024-05-01T00:33:28.930009", "content": "Dead simple caching would be my current usecase depending of course the actual implementation "},
{"id": 193413, "question_id": 1934, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-08-25T20:28:54Z", "scrap_date": "2024-05-01T00:33:28.931010", "content": "If you need Lambda support right now with Serverless see this plugin that I just wrote and released httpsgithub comsilvermineserverlessplugincloudfrontlambdaedge My usecase is that I need to secure my S3 bucket and only allow access to it via CloudFormation To do this you need your CloudFormation template to reference the buckets REST endpoint rather than the website endpoint The REST endpoint does not support default documents e g index html on subdirectories e g example comfoo will not show the fooindex html file from your bucket via the REST endpoint only via the website endpoint So I wrote a Lambda function attached to the origin request and if the requested URI ends with it will append index html to the request before sending it on to S3 "},
{"id": 8562, "question_id": 856, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-01T05:38:29Z", "scrap_date": "2024-05-01T00:33:29.879549", "content": "If you would like to serve static website resources on serverless there is a working example in the docs httpsgithub comserverlessserverlesstreemasterdocsprovidersawsexampleswebservinghtmlnode However it uses an api gateway endpoint and a lambda to serve content so not sure if it will fit your use case "},
{"id": 8563, "question_id": 856, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-19T04:28:17Z", "scrap_date": "2024-05-01T00:33:29.880549", "content": "I would try using the serverlesss3crud you can easily install the service with serverless install url httpsgithub comtscanlinserverlesss3crud and then use said service as outlined in the readme to upload update and delete you files in s3 "},
{"id": 8564, "question_id": 856, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-19T17:44:48Z", "scrap_date": "2024-05-01T00:33:29.881549", "content": "Serverless Framework is a brilliant toolset and I personally cant get enough of it right now But not every problem should be addressed with the same tool IMHO I use S3 for hosting client applications and since Gulp is my task runner I have long used gulpawspublish Im not disparaging serverless just offering a possible alternative to consider "},
{"id": 8565, "question_id": 856, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-26T17:38:16Z", "scrap_date": "2024-05-01T00:33:29.882549", "content": "Im interested to know the most common solution to this these days "},
{"id": 23392, "question_id": 2339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-22T06:49:44Z", "scrap_date": "2024-05-01T00:33:30.862134", "content": "That second error function only works after full deploy sounds suspiciously like youre making a change that requires cloud formation to be updated Remember that deploying a function only updates the code not the entire cloud formation It would help if you can provide the exact error messages youre getting "},
{"id": 23393, "question_id": 2339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-22T15:05:04Z", "scrap_date": "2024-05-01T00:33:30.863135", "content": "nah just working inside the app code havent modified the environment in days To replicate all I need to do is add a comment to any function and deploy that function and get this Syntax error in module handler SyntaxError import cwbRESify from librepresentorsRESifier representor library ^^^^^^ SyntaxError Unexpected token import at createScript vm js5610 at Object runInThisContext vm js9710 at Module _compile module js54228 at Object Module _extensions js module js57910 at Module load module js48732 at tryModuleLoad module js44612 at Function Module _load module js4383 at Module require module js49717 at require internalmodule js2019 so its saying no bueno on the import that works if i deploy the whole thing "},
{"id": 23394, "question_id": 2339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-23T07:42:25Z", "scrap_date": "2024-05-01T00:33:30.865136", "content": "That error definitely looks like its uploading the source instead of compiling it "},
{"id": 23395, "question_id": 2339, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-28T14:17:57Z", "scrap_date": "2024-05-01T00:33:30.865136", "content": "For what its worth moved to 2 2 2 for serverlesswebpack and add package individually true to serverless yml"},
{"id": 22292, "question_id": 2229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T13:06:40Z", "scrap_date": "2024-05-01T00:33:31.916115", "content": "I might be misunderstanding something here but you dont need to worry about CORS between a Lambda function and some external API in this case Google Sheets This is because Lambda is not bound by any single origin policy like you have in a web browser If this isnt the case maybe post the code and error message Ive sometimes seen CORS in error messages when it turned out to have nothing to do with CORS "},
{"id": 22293, "question_id": 2229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-22T11:21:15Z", "scrap_date": "2024-05-01T00:33:31.917120", "content": "Ive probably done some obvious mistake but Im looking for it in the wrong place My handler js looks like this Everything works when call it using serverless invoke f getUrl path libdata json log data json contains queryStringParameters url httpsdocs google comspreadsheetsd1G0j8b47KjXUh_EJiZdNO2jJ_JNVcm_gMMCQHGtxG4T4pubgid2014987267singletrueoutputcsv but when I call it from an simple htmlpage within script tags it gives me CORSerror in return Calling the hello function in handler js works fine error message 5vwsfh6pyi executeapi euwest1 amazonaws comdevcorsUrlurlhttps3A2F2Fdocs google com2Fspreadsheets2Fd2F1G0j8b47KjXUh_EJiZdNO2jJ_JNVcm_gMMCQHGtxG4T42Fpub3Fgid3D201498726726single3Dtrue26output3Dcsv Failed to load resource the server responded with a status of 502 corsAmazonTest html1 XMLHttpRequest cannot load https5vwsfh6pyi executeapi euwest1 amazonaws comdevcorsUrlurlhttps3A2F2Fdocs google com2Fspreadsheets2Fd2F1G0j8b47KjXUh_EJiZdNO2jJ_JNVcm_gMMCQHGtxG4T42Fpub3Fgid3D201498726726single3Dtrue26output3Dcsv No AccessControlAllowOrigin header is present on the requested resource Origin null is therefore not allowed access The response had HTTP status code 502 "},
{"id": 22294, "question_id": 2229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-28T11:59:36Z", "scrap_date": "2024-05-01T00:33:31.920121", "content": "Nevermind I found my stupid mistake and u where absolutely correct Nothing to do with CORS It was my response object and how I updated it "},
{"id": 22295, "question_id": 2229, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-28T14:33:25Z", "scrap_date": "2024-05-01T00:33:31.920121", "content": "Nice work And yes its usually just some mistake in the code misuse of an API etc An uncaught error in the lambda function will be thrown out to the API gateway which will wrap the error in a 500 response and send it back But this implicit 500 response doesnt have a CORS header so when it gets to the browser it fails the CORS check The actual error message from lambda never gets to the browser Its misleading but from the browsers perspective its correct behaviour If you make the request from say curl you will find it doesnt hit the CORS error because CORS is not required in these cases there is no other origin Some good ways to avoid this not implying that you dont do any or all of this have wellstructured modular code write unit andor integration tests automate as much as you can and run functions locally Its much less expensive on your time to run something locally and have it spit an error straight back at you than it is to deploy then call the API then check the remote logs etc Im actually wondering now whether there is a fix for this in the API Gateway configuration just by enabling CORS on the 500 response And then how you would do that in serverless andor cloud formation i e via a serverless plugin "},
{"id": 25982, "question_id": 2598, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T14:44:58Z", "scrap_date": "2024-05-01T00:33:32.752116", "content": "Not sure if my experience applies to your issue but I have had instances when some of my APIG changes arent updated with a deploy But deploying a 2nd time typically works Weird I know but try redeploying twice and see if it helps "},
{"id": 25932, "question_id": 2593, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T14:41:07Z", "scrap_date": "2024-05-01T00:33:33.513256", "content": "Yes See Serverless Resources Docs for details on how the naming conventions work For example Hope it helps "},
{"id": 25934, "question_id": 2593, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T17:21:07Z", "scrap_date": "2024-05-01T00:33:33.513256", "content": "Got it I see what you mean thanks"},
{"id": 26102, "question_id": 2610, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-31T04:52:56Z", "scrap_date": "2024-05-01T00:33:34.347535", "content": "To answer myself Cloud Functions is only available on USCENTRAL1 at this point "},
{"id": 18342, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-10T23:43:35Z", "scrap_date": "2024-05-01T00:33:35.000956", "content": "Nope its up to your code to handle the behaviour as appropriate Another scenario where your Lambda function may be called more than once is retries If your function does not call the success method without an error object in the case of NodeJs then Lambda will reinvoke the function 3 times by default and it is configurable "},
{"id": 18343, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-11T22:06:51Z", "scrap_date": "2024-05-01T00:33:35.001957", "content": "It is tricky to handle it in the application given two calls will happen in different time Is there anything in the request available to the app that can be used to identify that given request got already processed Otherwise clients would need to pass some sort of message id which is not very convenient I know it can happen as retry but receiving the request again after successfully returning a response is a different thing "},
{"id": 18344, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T10:08:58Z", "scrap_date": "2024-05-01T00:33:35.002957", "content": "Theres nothing builtin that Im aware of It really doesnt happen often I have never personally seen it but imagine theyre just covering themselves for in the even of failure scenarios where the system might reinvoke just to be sure that the event was received at least once "},
{"id": 18345, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-12T13:16:36Z", "scrap_date": "2024-05-01T00:33:35.003957", "content": "Like Rowan Ive never seen a Lambda executed twice for a single event except where it is well documented this will happen i e SNS retrying failures With mutations youll find a lot of the time they are idempotent can easily be made idempotent or it doesnt really matter For example Instead of returning an error if someone tries to delete something thats already been deleted try returning a success Mutations that create resources are a little trickier If you absolutely 100 cannot have a duplicate i e youre processing financial transactions then you should design your API appropriately If you dont care that much but youre still a little concerned then you can probably use the request ID from the API gateway to deduplicate In my case anything I can make idempotent easily is made idempotent and everything else I just ignore "},
{"id": 18346, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T13:31:00Z", "scrap_date": "2024-05-01T00:33:35.004957", "content": "so you are saying that request from the API gateway is available inside the my code is there anything I need to do for that or serverless framework gives it to me for free"},
{"id": 18347, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-13T01:50:24Z", "scrap_date": "2024-05-01T00:33:35.005958", "content": "The event your Lambda receives depends on how it was trigger AWS publishes a list of sample events If it was trigger by the API gateway then yes otherwise no You should think of the Serverless Framework as a deployment tool rather than a framework like Ruby on Rails Once the deployment is complete youre living 100 in the platform you deployed to AWS Azure etc "},
{"id": 18348, "question_id": 1834, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-01T05:34:04Z", "scrap_date": "2024-05-01T00:33:35.006959", "content": "I have seen this for a function triggered off a cloud watch scheduled event I have a function that I want to run once every 10 minutes however every now and again 2 invocations will happen at the same time rather than just one I have also seen similar behaviour when a function is triggered off an SNS message There appear to be other people experiencing this here httpsforums aws amazon comthread jspathreadID241313"},
{"id": 26152, "question_id": 2615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-31T23:40:25Z", "scrap_date": "2024-05-01T00:33:36.025657", "content": "disregard it was my bad i was using trying to use the cors true and set headers looks like you need to do either or and use the correct indentation hard to tell above since it gets stripped in this editor"},
{"id": 26153, "question_id": 2615, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-01T14:37:09Z", "scrap_date": "2024-05-01T00:33:36.026657", "content": "not related to cors but for your indenting issue add 3 backticks next to 1 under the above and below your yml snippet and ti will preserve any tabsspacesetc Hope it helps "},
{"id": 25252, "question_id": 2525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-21T11:22:05Z", "scrap_date": "2024-05-01T00:33:37.061340", "content": "See httpdocs aws amazon comAWSSimpleQueueServicelatestSQSDeveloperGuidesqsapipermissionsreference html You need to grant sqsListQueues to arnawssqsregionaccount_id while the other permissions can be granted to individual queues "},
{"id": 25253, "question_id": 2525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-02T23:49:26Z", "scrap_date": "2024-05-01T00:33:37.062340", "content": "buggy thanks for the response That is correct I had found it in the documentation It makes sense that you would need permission to all the queues in order to list them out I refactored my application so I dont use that method anymore thus reducing the rights the role needs in order to execute the function "},
{"id": 26062, "question_id": 2606, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T03:04:55Z", "scrap_date": "2024-05-01T00:33:37.946522", "content": "Probably best to raise a GH issue for this kind of bug "},
{"id": 26063, "question_id": 2606, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T18:09:26Z", "scrap_date": "2024-05-01T00:33:37.947520", "content": "pkeeley There was a regression in 1 21 0 in packaging binary files The full issue is here A patch is in progress but Id recommend downgrading to 1 20 2 for the time being "},
{"id": 26272, "question_id": 2627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-03T19:12:38Z", "scrap_date": "2024-05-01T00:33:38.726392", "content": "You may want to checkout this recently released book first httpswww manning combooksserverlessarchitecturesonaws and for a bigger book httpswww packtpub comapplicationdevelopmentbuildingserverlesswebapplications For a open source resources checkout pmuensserverlessbook on github and serverlessstack com sorry I can only include 2 links If youre looking for video tutorials the only Ive checked out so far are the ones by acloudguru which are excellent Hope that helps Im going through some of these currently Let me know how it goes and Id love to hear other resources people recommend "},
{"id": 26273, "question_id": 2627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T11:54:42Z", "scrap_date": "2024-05-01T00:33:38.727393", "content": "Thanks for answering I am just reading the manning book but I dont like it so much I would rather need a problem solution guide based on the serverless framework for an ordinary web app which covers the areas mentioned in my first statement The serverlessbook httpsgithub compmuensserverlessbook is nice but way to basic From my point of view it is really easy to get started with serverless but only for quick start But for real development it is hard because there are many pieces which has to fit together E g how to write unit tests how to do development e g for a web app does every request of the browser goes to real aws infrastructure or do I mock it and so on how do I searching it seems dynamodb it is not really the best fit for stuff like fulltext search geo search etc I really would like give serverless a try but I realize that solving all these problems is not that easy "},
{"id": 26274, "question_id": 2627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-04T16:45:30Z", "scrap_date": "2024-05-01T00:33:38.729393", "content": "Hey maku I just gave a talk on some of my favorite resources httpswww youtube comwatchvpej8jUYTVXE One of the resources listed in there was httpsserverlessstack com a super comprehensive guide on building an entire app w javascript Another thing you might want to checkout for unit tests etc is the a cloud guru yeoman generator httpsgithub comACloudGurugeneratorserverlessservice its a nice starting template for a serverless project "},
{"id": 26275, "question_id": 2627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-05T13:19:43Z", "scrap_date": "2024-05-01T00:33:38.730394", "content": "Hi DavidWells coincidentally I watched your talk a few days ago I liked it very much Therefore I knew already httpsserverlessstack com This is the best resource I found so far As always with new techs you have to learn most of yourself by bringing information of several sources together It is not an easy task because you dont want to do it wrong But thanks for your hints "},
{"id": 26112, "question_id": 2611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T21:53:30Z", "scrap_date": "2024-05-01T00:33:39.733803", "content": "Not really an answer to your original question but perhaps an alternative approach httpshackernoon comyoushouldusessmparameterstoreoverlambdaenvvariables5197fc6ea45b"},
{"id": 26113, "question_id": 2611, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T23:11:57Z", "scrap_date": "2024-05-01T00:33:39.734804", "content": "Thanks Rowanu Actually I already figured out what I was doing wrong and was able to solve my problem But SSM parameter could be very useful in my project as I am sharing same environment variables across multiple Lamda functions "},
{"id": 26722, "question_id": 2672, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T23:14:00Z", "scrap_date": "2024-05-01T00:33:40.775677", "content": "I figured it out It was because of my default version of Python 3 5 on ubuntu I upgraded to python3 6 on ubuntu and then created virtualenv for python3 6 It fixed the problem"},
{"id": 17812, "question_id": 1781, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-29T11:50:53Z", "scrap_date": "2024-05-01T00:33:41.720551", "content": "Hey Alex just looked into your source Looks good so far You only need to hook into lifecycle events or define commands so that you can call the request method from the CLI Youre right Were currently whitelisting the supported providers Best would be if you fork the serverless repo and modify the array with the whitelisted providers can be found in the Service js class After adding faas there you should be able to run your plugin as an own independent provider plugin Just dropping the different provider implementations here for inspration Note Most of the plugins hook into the main provider independent plugin lifecycle events Those core plugin skeletons can be found here However you can also define your own lifecycle events and expose them so that other plugins can hook into yours "},
{"id": 17813, "question_id": 1781, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-29T13:01:38Z", "scrap_date": "2024-05-01T00:33:41.722551", "content": "What do you think about submitting a PR to Service js along the lines of the following to enable development Failing that once Ive extended the hardcoded array in my own fork what is the best way to override the released serverless global CLIpackage with my forked version Ill have more questions once past this stage I think this was the primary blocker for me "},
{"id": 17814, "question_id": 1781, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-30T17:42:54Z", "scrap_date": "2024-05-01T00:33:41.723552", "content": "Yes that looks like a potential solution Maybe we could remove this whitelisting of providers altogether and just check if a value is provided as a string and therefore not null Not 100 sure what the intention was when decided to add it This way Serverless will be way more open for other plugin authors to integrate their provider solution "},
{"id": 17815, "question_id": 1781, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-12T01:45:54Z", "scrap_date": "2024-05-01T00:33:41.724552", "content": "Sorry to revive an older post but Im also looking into building a provider of my own and I was wondering what the current state is regarding the whitelisting I dont feel like having my userbase installing a fork of serverless and feel even less like maintaining it Thanks "},
{"id": 3352, "question_id": 335, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-19T23:45:02Z", "scrap_date": "2024-05-01T00:33:42.307592", "content": "Im not familiar with 0 x and havent seen this in 1 x yet Can you give concrete examplesrequirements"},
{"id": 3353, "question_id": 335, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-09-20T08:20:26Z", "scrap_date": "2024-05-01T00:33:42.308592", "content": "No problem Ill provide an example Suppose I have a GET method endpoint which receives and query parameter Based on said query param it run logic access DB storage etc and produces a response Very Basic illustration GET processq1 HTTP 200 OK response for q1 is Now as the response in the same for every given query param when q1 it always produces same result etc I dont want to calculate the response each time by invoking a lambda function Id like the API gateway to issue a response from cache Thus reducing latency and providing better performance Also Id like to configure caching properties for each endpoint specifically and not in the AWS console but in serverless yml Hope It helps to clarify the issue BTW you can see an article discussing these features in version 0 x here"},
{"id": 3354, "question_id": 335, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-21T06:13:32Z", "scrap_date": "2024-05-01T00:33:42.310593", "content": "I would love to have this functionality also "},
{"id": 3355, "question_id": 335, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-13T02:32:25Z", "scrap_date": "2024-05-01T00:33:42.310593", "content": "Yan Cui from Space Ape Games has written a blog post on how to get caching working in serverless 1 x havent attempted it myself but looks quite thorough httpsmedium comtheburningmonkserverless1xenableapigatewaycachingonrequestparameters894b31762068"},
{"id": 26912, "question_id": 2691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-13T07:50:29Z", "scrap_date": "2024-05-01T00:33:43.320298", "content": "note I removed the https from two of the urls since new posers arent allowed to share more than tow links "},
{"id": 26913, "question_id": 2691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-13T16:51:47Z", "scrap_date": "2024-05-01T00:33:43.321298", "content": "little more information When I try the install feature using the slack button at httpsapi slack comdocsslackbutton I get the following error made the error a little more descriptive so I know where it comes from Note it properly redirects me to the error html 20170913 080421 329 0700 \td2669844989411e7a27541b194c286cd\t[Error SlackAPIError generated by your requestToken function] END RequestId d2669844989411e7a27541b194c286cd REPORT RequestId d2669844989411e7a27541b194c286cd\tDuration 258 70 ms\tBilled Duration 300 ms \tMemory Size 1024 MBMax Memory Used 23 MB However when I run it directly from the command line MacBookProserverlesschatbot hckia sls invoke f install statusCode 302 headers Location httpss3uswest2 amazonaws comforexdevserverlessdeploymentbucketo150tudg9vb9success html Everything works out fine START RequestId effcb7a598a211e78fbfa1614258a0d9 Version LATEST 20170913 094523 966 0700 \teffcb7a598a211e78fbfa1614258a0d9\tRequesting token with null END RequestId effcb7a598a211e78fbfa1614258a0d9 REPORT RequestId effcb7a598a211e78fbfa1614258a0d9\tDuration 4 13 ms\tBilled Duration 100 ms \tMemory Size 1024 MBMax Memory Used 22 MB"},
{"id": 26914, "question_id": 2691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-13T20:49:14Z", "scrap_date": "2024-05-01T00:33:43.323299", "content": "Hey Cyrus sorry to hear youre having problems with the code Thanks for buying the course Ive posted a request for clarification over on your original A Cloud Guru post but it looks like an issue with your CLIENT_SECRET environment variable from what I can see so far "},
{"id": 26915, "question_id": 2691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-13T22:52:18Z", "scrap_date": "2024-05-01T00:33:43.324300", "content": "Hey thanks for getting back to me man Ill follow up there and if we get stumped come back here to see if anyone has any information "},
{"id": 26916, "question_id": 2691, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-14T00:02:52Z", "scrap_date": "2024-05-01T00:33:43.324300", "content": "Found the problem when looking at the code on my github repo CLIENT_SECRET was typed out as ClIENT_SECRET Null is a normal response from the command line as it generates no token I believe but once I fixed that typo all was well Thanks again "},
{"id": 26962, "question_id": 2696, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-14T09:47:25Z", "scrap_date": "2024-05-01T00:33:44.106799", "content": "You can use a Ref instead See httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferenceref html"},
{"id": 27072, "question_id": 2707, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-15T05:35:09Z", "scrap_date": "2024-05-01T00:33:45.143966", "content": "Here is a cloudformation template with GSIs defined httpsgist github comDavidWells5e47a458b2cee376716bbafa81319675filecloudformationdynamodbymlL23 You can modify this and add to the resources block of your serverless yml file"},
{"id": 27073, "question_id": 2707, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-15T05:40:29Z", "scrap_date": "2024-05-01T00:33:45.144966", "content": "like dis httpsgist github comDavidWellsc7df5df9c3e5039ee8c7c888aece2dd5fileserverlessymlL17"},
{"id": 27074, "question_id": 2707, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-15T15:15:31Z", "scrap_date": "2024-05-01T00:33:45.145966", "content": "David Thanks for the prompt reply This looks like exactly what I need Rick"},
{"id": 27132, "question_id": 2713, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-09-16T12:55:45Z", "scrap_date": "2024-05-01T00:33:46.125950", "content": "Setting CORS true isnt enough That just enables OPTIONS in the API GW You also need to return the AccessControlAllowOrigin in the header response from your Lambda You may also need to return AccessControlAllowCredentials and AccessControlExposeHeaders too Because youre using Lambda integration youll need to add these to your template in the API GW "},
{"id": 27002, "question_id": 2700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-15T18:37:59Z", "scrap_date": "2024-05-01T00:33:47.226924", "content": "In 1 18 version the deploy function command works fine This error is happing at version 1 22 "},
{"id": 27003, "question_id": 2700, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T12:58:25Z", "scrap_date": "2024-05-01T00:33:47.227924", "content": "Try going back to 1 21 I tried to install 1 22 this afternoon and it seems a little unstable "},
{"id": 27052, "question_id": 2705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-15T03:49:14Z", "scrap_date": "2024-05-01T00:33:48.235826", "content": "Do I need dynamodb to trigger a lambda first which would then have some logic to detect insert v update and subsequently post a sns event Yes You need to attach a Lambda to the DDB stream the write the message to SNS "},
{"id": 27053, "question_id": 2705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-15T14:11:04Z", "scrap_date": "2024-05-01T00:33:48.236826", "content": "Im trying to stream dynamodb inserts to a lambda trigger but having some issues general config seems to be wrong Is there a way I can get around having to hardcode the latest arn for the dynamodb stream functions companyInfoByDateInsert handler com serverless handlers CompanyInfoByDateInsertHandler events resources Resources StockpickerDynamoDbTable Type AWSDynamoDBTable DeletionPolicy Retain Properties TableName selfprovider environment companyInfoByDateDynamoDbTable AttributeDefinitions AttributeName date AttributeType S AttributeName ticker AttributeType S KeySchema AttributeName date KeyType HASH AttributeName ticker KeyType RANGE"},
{"id": 27054, "question_id": 2705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T12:49:21Z", "scrap_date": "2024-05-01T00:33:48.237826", "content": "The streams documentation has an example httpsserverless comframeworkdocsprovidersawseventsstreams Also checkout the CloudFormation docs httpdocs aws amazon comAWSCloudFormationlatestUserGuideintrinsicfunctionreferencegetatt html I believe the batchSize and enabled options youre trying to use only apply to Kinesis streams "},
{"id": 27055, "question_id": 2705, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T17:46:22Z", "scrap_date": "2024-05-01T00:33:48.238827", "content": "it just will not set up the trigger on my lambda can you see anything obvious that is wrong here this time there is even nothing in the lambda trigger tab"},
{"id": 10682, "question_id": 1068, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T17:01:55Z", "scrap_date": "2024-05-01T00:33:49.131702", "content": "I would like to do this as well Did you have any luck figuring out how to do it"},
{"id": 10683, "question_id": 1068, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-16T20:35:45Z", "scrap_date": "2024-05-01T00:33:49.132702", "content": "I have the same task of using the serverless framework to create a proxy for S3 service To be honest its harder than expected because the integration between formats is not fully clear Initially I started from building the swagger specification and trying to import it in the API Gateway Then I imagined extending it with the specific extensions from the Amazon Console UI It didnt work because the validation on import is strict and the errors from the console are not understandable I couldnt import an existing swagger spec which by the way is already available as a linked resource to the link given by RudolfVonKrugstein Thus one could assume that importing the example swagger spec modifying it a bit and then exporting it will be ok but I havent been able to make a stage for it so far I still dont know why but I tend to believe that the swagger specification is still important My second and current approach trying to make use of the serverless framework is defining the resources in the serverless yaml of the given service similarly to this example here To be very honest I am still not happy with this for 2 main reasons Im still on my journey of figuring whether a good Cloud Formation template is better than a good swagger specification when it comes to integrating the serverless framework with the API Gateway The variables feature in serverless yaml config has been really flexible so far to take values from all sorts of places so I hope that maybe when the Cloud Formation format is good it will be feasible to reference a swagger spec somehow in the serverless yaml file so that both CF and swagger work well together At any case the serverless provides mostly the deployment part of the task not so much the local emulation of the AWS For example imagine being able to work only with serverlessoffline as a tool to both define but also test the features locally and having the same definition again used as CF after serverless deployment "},
{"id": 28222, "question_id": 2822, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-07T18:15:06Z", "scrap_date": "2024-05-01T00:33:50.008930", "content": "You can create Custom IAM roles As per docs you can create custom IAM roles"},
{"id": 27722, "question_id": 2772, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-08T00:49:25Z", "scrap_date": "2024-05-01T00:33:51.121368", "content": "You would create a cloudwatch alarm resource separately and target the cloudwatch metrics from your api gateway using the Ref object for the gateway id in the alarm In cloudwatch there are metrics for all resources Just target the ones u want using cloudformation and an alarm "},
{"id": 28392, "question_id": 2839, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-09T07:22:07Z", "scrap_date": "2024-05-01T00:33:52.129823", "content": "I have a React app with a Serverless backend Early on the decision was made to keep them completely separate Theyre actually in two different repos The React app is built using Webpack and deployed to S3 using the AWS command line tool To keep everything repeatable I have npm scripts npm run deploy is all I need to run Each stage has its own Webpack config and the define plugin allows me to set different API endpoints for each stage Yes it means I need manually put the API endpoint into the config but that doesnt change once the stage is setup "},
{"id": 27472, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-24T20:34:10Z", "scrap_date": "2024-05-01T00:33:53.096031", "content": "The SNS APIs publish API only allows one topicmessage per call "},
{"id": 27473, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-25T03:08:04Z", "scrap_date": "2024-05-01T00:33:53.097030", "content": "In situations where I have a Lambda processing events from DynamoDB that need to trigger multiple other Lambda I find the best solution is to publish a generic message to SNS then use the fan out functionality by configuring multiple Lambda as subscribers just add the same topic as a trigger to each Lambda For example When a new user is added to DynamoDB you could publish a created message to the user topic then subscribe two Lambda to the user topic one to send a welcome message and one to add the user to a mailing list "},
{"id": 27474, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-25T15:35:58Z", "scrap_date": "2024-05-01T00:33:53.098031", "content": "I assume though if only one Lambda needs to be called then a direct call to Lambda is preferable over SNS scenario"},
{"id": 27475, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-26T01:49:32Z", "scrap_date": "2024-05-01T00:33:53.099031", "content": "Not really SNS provides loose coupling that a direct call doesnt If you only need to call one Lambda then Id question why you dont just put that functionality into the Lambda processing the stream "},
{"id": 27476, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-26T13:38:56Z", "scrap_date": "2024-05-01T00:33:53.100031", "content": "well the thing is the Lambda that processes the stream can receive a bunch of events at once so doing a bunch of work there 3 rest calls which I want to do together in parallel would be too much for that Lambda itself"},
{"id": 27477, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-08T00:52:13Z", "scrap_date": "2024-05-01T00:33:53.101032", "content": "You would subscribe multiple items to the topic Topic called once many subscripted items get the message "},
{"id": 27478, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T02:22:52Z", "scrap_date": "2024-05-01T00:33:53.101032", "content": "so you are in favor of SNS over a lambda call "},
{"id": 27479, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T02:44:12Z", "scrap_date": "2024-05-01T00:33:53.102032", "content": "I mean either can work but it appears that because of the timeout issue andor multiple requests doing a direct call wont work So options are to trigger other multiple lambdas via sns by having them subscribe to the sns or something else like sqs queues or even dynamo again by storing data in a a table to process From the little info I know about your use case having a lambda call an sns to invoke multiple other lambdas asynchronously sounds like a good approach If you did sqs or a dynamo table youd just have another task running on a schedule to process results from the first task running on a schedule So youre not gaining anything That is when you read the stream data from dynamo and realize you need to act on it that should be the point where you do the action i e call the sns to fan out to othwr lambdas "},
{"id": 274710, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T03:19:28Z", "scrap_date": "2024-05-01T00:33:53.103032", "content": "theres actually no need for fan out right now in my use case there is just one job to be done for each dynamodb event so there would only be one subscriber lambda Sure its more future proof to have sns but just wondered which was more economical in terms of api call calling a lambda directly and asynchronously or publishing to SNS"},
{"id": 274711, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T07:44:52Z", "scrap_date": "2024-05-01T00:33:53.104032", "content": "My general rule of thumb is that if you have one Lambda directly invoking another then youre doing it wrong There are obviously some use cases for this but generally dont do it Use SNS because it decouples the processes and adds retries You get a similar result with Kinesis streams and DynamoDB streams Dont use SQS because its not currently supported as an event source for Lambda When setting up topics I try to use names like user created instead of commands like send welcome email "},
{"id": 274712, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T12:21:09Z", "scrap_date": "2024-05-01T00:33:53.105033", "content": "good point btw do you ever have to add any dedupe logic for SNS messages when there is only one subscriber "},
{"id": 274713, "question_id": 2747, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T22:42:38Z", "scrap_date": "2024-05-01T00:33:53.106033", "content": "Your Lambdas should be idempotent anyway If they are then deduplication of messages from SNS doesnt matter "},
{"id": 28492, "question_id": 2849, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-10T07:37:15Z", "scrap_date": "2024-05-01T00:33:54.152170", "content": "Can you include your config yml"},
{"id": 28493, "question_id": 2849, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-10T08:00:43Z", "scrap_date": "2024-05-01T00:33:54.153170", "content": "Just updated Actually it might not be caused by the file config yml coz even I change it to stage opt stage dev the error still can be reproduced But using stage dev works well "},
{"id": 28494, "question_id": 2849, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-10T08:37:48Z", "scrap_date": "2024-05-01T00:33:54.154170", "content": "Did you mean opt stage dev because it should be optstage dev "},
{"id": 28495, "question_id": 2849, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T02:23:05Z", "scrap_date": "2024-05-01T00:33:54.154170", "content": "Yes that was a typo It should be optstage dev Even the using the correct syntax I still keep getting same error "},
{"id": 28072, "question_id": 2807, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T03:31:13Z", "scrap_date": "2024-05-01T00:33:54.879327", "content": "It could work but not sure what Serverless is really giving you in that scenario If youre using CloudFormation to manage your service resources maybe something like this pattern from AWS would help you test them"},
{"id": 29052, "question_id": 2905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T03:30:07Z", "scrap_date": "2024-05-01T00:33:56.045179", "content": ""},
{"id": 29054, "question_id": 2905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T14:59:55Z", "scrap_date": "2024-05-01T00:33:56.046179", "content": "I was under the impression that when you add the ttl to dynamodb the item is not actually deleted up until an hour later "},
{"id": 29055, "question_id": 2905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-17T23:26:18Z", "scrap_date": "2024-05-01T00:33:56.047179", "content": "Sorry can you elaborate on that a bit"},
{"id": 29056, "question_id": 2905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-18T05:59:58Z", "scrap_date": "2024-05-01T00:33:56.047179", "content": "You should be able to use the CloudWatch Event API to schedule an event that triggers your Lambda at the correct time "},
{"id": 29057, "question_id": 2905, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-20T18:29:16Z", "scrap_date": "2024-05-01T00:33:56.048179", "content": "As damianesteban mentioned timing is not guaranteed In our use case weve actually seen items not be deleted for several days past their TTL DynamoDB expiration is not meant to be used for precision timing See How it works DynamoDB Time to Live TTL Amazon DynamoDB where it says DynamoDB typically deletes expired items within 48 hours of expiration The exact duration within which an item truly gets deleted after expiration is specific to the nature of the workload and the size of the table Items that have expired and not been deleted will still show up in reads queries and scans "},
{"id": 29058, "question_id": 2905, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-20T22:12:20Z", "scrap_date": "2024-05-01T00:33:56.049179", "content": "The way we currently solved this is by polling a DynamoDB table every 5 minutes If DynamoDB TTL didnt have that delay it would be fantastic because it would take care of both scheduling and removing the item in one shot "},
{"id": 29002, "question_id": 2900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-22T04:06:38Z", "scrap_date": "2024-05-01T00:33:56.943424", "content": "Theres no exclusion configuration youd have to specify the VPC config in all the relevant functions i e not use the global VPC settings object Mixing VPCbased functions and nonVPCbased functions is probably a sign they belong in a separate service "},
{"id": 28912, "question_id": 2891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-22T04:12:47Z", "scrap_date": "2024-05-01T00:33:57.994519", "content": "Whered you get your resources configuration from Do you really need the DependsOn configuration Even if you do need it the IamPolicyLambdaExecution doesnt exist so is causing the failure "},
{"id": 28802, "question_id": 2880, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-22T04:17:00Z", "scrap_date": "2024-05-01T00:33:58.992919", "content": "Is that your actual resources section The indentation is not right in the code youve pasted Resources should be 2 spaces in You definitely can define functions you the resources block its just CloudFormation "},
{"id": 29312, "question_id": 2931, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-10-23T21:27:26Z", "scrap_date": "2024-05-01T00:33:59.895492", "content": "you dont need to login to run sls command The hompepage user guide is confusing a lot of newbie "},
{"id": 28782, "question_id": 2878, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T07:47:17Z", "scrap_date": "2024-05-01T00:34:00.892701", "content": "No one has experienced something like that Is it a bug on the dynamodb side"},
{"id": 28783, "question_id": 2878, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T08:22:47Z", "scrap_date": "2024-05-01T00:34:00.892701", "content": "Everything else being equal I would look your IAM permissions and make sure your Lambda has sufficient privileges to access the data "},
{"id": 28784, "question_id": 2878, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T08:41:16Z", "scrap_date": "2024-05-01T00:34:00.893701", "content": "I am running locally that is why I am so confused Running the same query in the lambda function via sls offline start returns 0 items Running the same query within the webbased shell for serverlessdynamodblocal returns all the elements it should Any ideas"},
{"id": 28785, "question_id": 2878, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T09:36:11Z", "scrap_date": "2024-05-01T00:34:00.894701", "content": "Sorry Im not using serverlessdynamodblocal "},
{"id": 28786, "question_id": 2878, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-20T08:49:29Z", "scrap_date": "2024-05-01T00:34:00.895701", "content": "I have experienced similar issues recently make sure your region is correct"},
{"id": 28787, "question_id": 2878, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-24T06:28:29Z", "scrap_date": "2024-05-01T00:34:00.895701", "content": "Setting the region solved the issue Thank you "},
{"id": 4942, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-12T14:32:57Z", "scrap_date": "2024-05-01T00:34:01.591753", "content": "There is a PR for Custom roles open httpsgithub comserverlessserverlesspull2073 You can set a preexisting bucket httpsserverless comframeworkdocsprovidersaws"},
{"id": 4943, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:49:39Z", "scrap_date": "2024-05-01T00:34:01.592753", "content": "Should we follow the specific naming pattern or I can put something like deploymentBucket testbucket"},
{"id": 4944, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:56:48Z", "scrap_date": "2024-05-01T00:34:01.593754", "content": "You can use any bucket name that you want there One thing you need to make sure is that the bucket is in the same region as the lambda function so I would put the region in the bucket but its really up to you "},
{"id": 4945, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T14:59:48Z", "scrap_date": "2024-05-01T00:34:01.593754", "content": "Thank you will try that out "},
{"id": 4946, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T18:18:12Z", "scrap_date": "2024-05-01T00:34:01.594754", "content": "As per Aws documentation S3 does not need a region selection and its global "},
{"id": 4947, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T18:32:37Z", "scrap_date": "2024-05-01T00:34:01.594754", "content": "For some reason the logic does not work for me I am using serverless 1 0 0rc 2 My configuration is as below provider profile file deploymentenv yml custom selfcustom myStage profile name aws runtime nodejs4 3 iamRoleARN file deploymentenv yml iamRoleARN deploymentBucket file deploymentenv yml deploymentBucket The name will be read from another yml field as above The entries in that file is deploymentBucket testserverlessdeployment"},
{"id": 4948, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-13T20:11:23Z", "scrap_date": "2024-05-01T00:34:01.595754", "content": "deepu sundar If you dont provide a region it will create the bucket in USEAST1 If you want to deploy your functions somewhere else make sure the bucket is there httpdocs aws amazon comAmazonS3latestdevUsingBucket htmlcreatebucketintro"},
{"id": 4949, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-26T09:12:11Z", "scrap_date": "2024-05-01T00:34:01.596755", "content": "Just faced with another strange behavior Based on the comments of the feature httpsgithub comserverlessserverlesspull2189 After the deploy you will see the S3 resource created initially then removed from the CF file and the bucket created and deleted Does this mean that S3 bucket with randomly generated name will be created anyway even if you explicitly define deploymentBucket in serverless yml I am asking because I identified a lot of S3 buckets via AWS console but all of them except specified one are empty This might be due to the Retain policy I have assigned before but anyway My expectation is that sls doesnt create bucket in case if it is specified Is this correct Thank you "},
{"id": 49410, "question_id": 494, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-19T20:30:35Z", "scrap_date": "2024-05-01T00:34:01.597755", "content": "Your first link is dead New one is httpsserverless comframeworkdocsprovidersawsguideservices"},
{"id": 49411, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-08T02:56:41Z", "scrap_date": "2024-05-01T00:34:01.598755", "content": "I seemed to have run into an issue trying to do a serverless deploy when using the deploymentBucket to specify a preexisting S3 bucket Does this work in the version 1 3 0 Ive added a github issue 2888 but Im not sure if its a bug or something Im doing wrong Here is a snippit from my serverless yml provider name aws runtime python2 7 stage dev region uswest2 deploymentBucket mycoolbucket profile sdradworkflowdev Here is the error I get serverless deploy v Serverless Error Get Support Docs docs serverless com Bugs Issues serverlessserverless GitHub Your Environment Information OS darwin Node Version 7 2 1 Serverless Version 1 3 0"},
{"id": 49412, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-12T19:38:53Z", "scrap_date": "2024-05-01T00:34:01.599755", "content": "Hi Were you able to resolve your problem Would you mind sharing it if so Thank you "},
{"id": 49413, "question_id": 494, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-01-15T20:58:20Z", "scrap_date": "2024-05-01T00:34:01.600756", "content": "github issue 2888 For me the bucket I was original trying to use for deployment required serverside encryption The admins had a policy on the bucket that requires you me to upload objects with SSE AES256 serverless only supports specifying a deployment bucket but no options for out serverless uploads to that bucket In that ticket I suggested we implement an object for deploymentBucket or deploymentBucketOptions so we can specify S3 upload parameters like ss3 or ss3KmsKeyId Probably not an issue for most people but on my end I dont have much control over the bucket policies "},
{"id": 49414, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T06:21:03Z", "scrap_date": "2024-05-01T00:34:01.601756", "content": "I definitely feel your pain this is my most recent blocker for using serverless at work"},
{"id": 49415, "question_id": 494, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-03T21:29:59Z", "scrap_date": "2024-05-01T00:34:01.602756", "content": "Has this been solved yet It is effortless to use the web UI to select an existing role "},
{"id": 30182, "question_id": 3018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-03T19:18:41Z", "scrap_date": "2024-05-01T00:34:02.535517", "content": "Hi pgali Unless something changed here recently the response is not the usual lambdaproxy response body status headers You basically need to return the policy directly You can find some example for my serverless java framework JRestless here jrestlessexamples JRestless Examples The authorizer is not specific for that framework httpsgithub combbilgerjrestlessexamplesblobmasterawsgatewayawsgatewaysecuritycustomauthorizersrcmainjavacomjrestlessawsexamplesCustomAuthorizerHandler java Hope this helps "},
{"id": 30183, "question_id": 3018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-04T01:42:57Z", "scrap_date": "2024-05-01T00:34:02.537516", "content": "bbliger Thank you very much Helped a lot I have been on this for almost a week and couldnt figure out what I was doing wrong Your explanation helped Ironically I did review your project and glanced it over without realizing thats how we are supposed to support custom authorizer in java i was still trying to get it working using lambdaproxy Also you had mentioned using JS why because of cold start issues Also how did you implement policies in your project Did you use dynamodb SUBpolicy mapping or did you just do it inline by using the token custom attributes to figure out the policy You made my day "},
{"id": 30184, "question_id": 3018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-04T13:18:12Z", "scrap_date": "2024-05-01T00:34:02.538517", "content": "pgali Glad to hear that it works now Yes Id rather implement a simple custom authorizer in JS because of cold start time But as always If your authorizer is called constantly then that is not really an issue I rarely used custom authorizers so far but when I used them I created the policy inline "},
{"id": 29662, "question_id": 2966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-06T09:04:24Z", "scrap_date": "2024-05-01T00:34:03.592841", "content": "Creating a Lambda function doesnt always require creating a role at the same time but the Serverless Framework does require permissions to create roles at the same time as functions as per the docs Its unfortunate but its required to deliver many of the features that the framework includes "},
{"id": 29742, "question_id": 2974, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-06T09:07:30Z", "scrap_date": "2024-05-01T00:34:04.636648", "content": "You need to incorporate the command line options in your variables via overwriting theres an example in the docs "},
{"id": 29782, "question_id": 2978, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-06T09:17:04Z", "scrap_date": "2024-05-01T00:34:05.361618", "content": "Listen for the pending event see the docs for an example event and then do a describeInstances call against the AMI Id sent in the event payload to get availabilityzone and behave accordingly "},
{"id": 29952, "question_id": 2995, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-06T20:14:49Z", "scrap_date": "2024-05-01T00:34:06.436062", "content": "Whats your motivation for using the same pipeline It really doesnt make sense from a pipeline perspective If the pipeline build gets broken how will you know which one of the repos broke it"},
{"id": 30332, "question_id": 3033, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-06T21:30:58Z", "scrap_date": "2024-05-01T00:34:07.550924", "content": "Whats happening is youre telling Serverless to loook for a profile you havent set up which is why its complaining If youre setting your environment variables then you dont need to use a profile profiles refer to saved credentials in your awscredentials file "},
{"id": 30422, "question_id": 3042, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-07T11:15:28Z", "scrap_date": "2024-05-01T00:34:08.600998", "content": "If youre running Lambda outside of a VPC then it cant be done If youre running Lambda inside a VPC then you need to configure a NAT gateway for internet access so all traffic should appear to be coming from the NAT gateway "},
{"id": 30982, "question_id": 3098, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-14T15:52:38Z", "scrap_date": "2024-05-01T00:34:09.503060", "content": "Its the regular expression format that it doesnt like means zero or more of whatever character comes before it You can fix that by changing yml to yml Meaning 0 or more of any character followed by yml Hope it helps "},
{"id": 30983, "question_id": 3098, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-14T22:18:59Z", "scrap_date": "2024-05-01T00:34:09.504060", "content": "Thanks bfieber That fixes my issue "},
{"id": 31132, "question_id": 3113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T19:50:13Z", "scrap_date": "2024-05-01T00:34:10.390320", "content": "For cors to work for auth failures you need to set this in your resources httpsgithub comserverlessformsserviceblobmasterbackendserverless ymlL96L105 Super odd but a quirk of how custom authorizers work in AWS "},
{"id": 31133, "question_id": 3113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T20:47:04Z", "scrap_date": "2024-05-01T00:34:10.391320", "content": "Thanks for the response but unfortunately that did not change the output Interestingly the live demo they have in their readme is giving me the same error I created the demo account using a email and password that I verified"},
{"id": 31134, "question_id": 3113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T23:24:35Z", "scrap_date": "2024-05-01T00:34:10.392320", "content": "Looks like my once working code is broken Change the ResponseType to UNAUTHORIZED I managed to get this working The JWT validation is failing in the authorizer right now Im unclear as to why"},
{"id": 31135, "question_id": 3113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-14T23:34:27Z", "scrap_date": "2024-05-01T00:34:10.392320", "content": "See the PR here httpsgithub comserverlessexamplespull219files That fixes the CORS issue However the JWT I get back from auth0 is no longer validating You can sls logs f auth t to tail the auth logs to see the jwt verification failing Ive had many issues with auth0 as of late and its starting to get on my nerves"},
{"id": 31136, "question_id": 3113, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T00:00:59Z", "scrap_date": "2024-05-01T00:34:10.393321", "content": "Fixed it JWT secret needed to be base 64 decoded to validate the jwt Demo is working again httpauth0serverlessprotectedroutesdemo surge sh"},
{"id": 30842, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T09:47:39Z", "scrap_date": "2024-05-01T00:34:10.931279", "content": "can you set outputs in serverless yml then you can easily get it by command serverless info v For example you can output the dynamodb ARN with below codes"},
{"id": 30843, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T15:31:30Z", "scrap_date": "2024-05-01T00:34:10.932278", "content": "I did this like so In serverless yml Where my cloudformation template has outputs like this And scriptscompileweb js Note that this is making use of create react apps support for injecting environment variables with webpack Does this answer your question"},
{"id": 30844, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T16:12:37Z", "scrap_date": "2024-05-01T00:34:10.933278", "content": "That is the conclusion I have come to also you need to write plugin scripts to do it Thanks for the example "},
{"id": 30845, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T16:37:12Z", "scrap_date": "2024-05-01T00:34:10.933278", "content": "No worries Are you going to open source your plugin Would be interesting to compare our approaches "},
{"id": 30846, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T16:51:06Z", "scrap_date": "2024-05-01T00:34:10.934279", "content": "First I would need to write it I just hit this problem yesterday "},
{"id": 30847, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T17:38:46Z", "scrap_date": "2024-05-01T00:34:10.935279", "content": "You can also checkout the serverlessstackoutput plugin It will write the cloudformation outputs to a file and you can run custom code against it if you wish eg postDeploy stuff Here is an example of postDeploy script writing all my endpoints out to a manifest file httpsgithub comserverlessformsserviceblobmasterbackendserverless ymlL15L17"},
{"id": 30848, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T19:54:25Z", "scrap_date": "2024-05-01T00:34:10.936279", "content": "DavidWells thats a good tip as well though keep in mind that with this approach you wont have access to the serverless or options objects Of course you can try to parse serverless yml but that doesnt give you all information e g command line options compiled references or dynamic modifications made by other plugins Do you gitignore the output file Just curious I guess itd be better to do so since it is technically not source code and you wouldnt want to have to recommit after every deploy "},
{"id": 30849, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T23:07:38Z", "scrap_date": "2024-05-01T00:34:10.937280", "content": "Yeah Im trying to figure out the best way for the using the manifest file I create in a CICD flow Committing the manifest json to git is the simple solution But that has its limitations for multiple stages etc The serverlessstackoutputs plugin doesnt have the serverless object but it could httpsgithub comsbstjnserverlessstackoutputblobmastersrcplugin tsL51 That might be nice as a secondary param sbstjn what do you think require splits join [func] data serverless Currently I am parsing the raw serverless yml and that has the pitfalls you mention no env vars and limited variable usage "},
{"id": 308410, "question_id": 3084, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-14T16:34:12Z", "scrap_date": "2024-05-01T00:34:10.939281", "content": "I just released v0 2 2 of serverlessstackoutput on GitHub which includes this feature hopefully Should be on NPM in a few minutes please test the changes and let me know if this works for you The CLI options are available in the handler as well "},
{"id": 31182, "question_id": 3118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T12:07:40Z", "scrap_date": "2024-05-01T00:34:11.586459", "content": "Hi For anyone else who might run into this one Instead of adding the userGroup as a set to user or instead of having it as a seperate table Im going to add it as a flattened array So on my user Ill have a userGroups attribute with values like this groupA_groupB_groupC now I can make an index on the userGroups column and select where userGroups contain the userGroup Im looking for Hope it makes sence "},
{"id": 31183, "question_id": 3118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T12:17:28Z", "scrap_date": "2024-05-01T00:34:11.587460", "content": "NoSQL databases dont really do relationships especially many to many Depending on the size of your table and frequency of use you may be able to get away with a scan against the User table where groups includes desired group Failing that the typical advice for NoSQL databases is to copy the data you need "},
{"id": 31184, "question_id": 3118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T12:32:26Z", "scrap_date": "2024-05-01T00:34:11.588460", "content": "Hmm ok buggy Ill think a little more about this Just found out I cant do my initial plan since contains cant be used on an index key "},
{"id": 31185, "question_id": 3118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T12:47:07Z", "scrap_date": "2024-05-01T00:34:11.589460", "content": "So a typical solution to this could be to have multible users with same userid where key could be userid and sort could be a group Then I could create an index with group as key and userid as sort and when I update a user I would just have to update all of them Hmm that migth be a solution They would rarely change once created "},
{"id": 31186, "question_id": 3118, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T13:05:01Z", "scrap_date": "2024-05-01T00:34:11.590460", "content": "Ok then in this example I would create a user table like this userId group name companyId primary with data userIdkeyValue1 groupOne aName companyId1 true userIdkeyValue1 groupTwo aName companyId1 null and an index on groupId key userId sort to find users by group How would you solve showing one of each user for an admin page "},
{"id": 30532, "question_id": 3053, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T12:12:06Z", "scrap_date": "2024-05-01T00:34:12.533436", "content": "Is this for the functions youre uploading to Lambda The Lambda environment already provides a version of the SDK and its updated regularly so you dont need to include that at all httpdocs aws amazon comlambdalatestdgcurrentsupportedversions html"},
{"id": 30533, "question_id": 3053, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T13:26:24Z", "scrap_date": "2024-05-01T00:34:12.535436", "content": "This is code that runs on hardware we sell We make little embedded devices that use AWS for cloud data storage They have no UI so the code is an app that is always running I filed a bug on the SDK httpsgithub comawsawssdkcppissues724"},
{"id": 30162, "question_id": 3016, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T20:47:20Z", "scrap_date": "2024-05-01T00:34:13.596059", "content": "Hi I think youre working too hard to reach your goal The inspector has been natively supported in Chrome Dev tools for some time now I know VS Code might be one of the best editors with debugging capabilities but if you have a look at this video from Paul Irish youll get an idea how easy it could be For CLI applications like yours the only difference I do is to not specify the number after the breaking point like this example Just sharing idea "},
{"id": 31262, "question_id": 3126, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-16T06:12:57Z", "scrap_date": "2024-05-01T00:34:14.751597", "content": "piersmacdonald Did you run npm install from the folder that contains the package json If you have you should see a node_modules folder If not then run npm install before sls deploy "},
{"id": 31263, "question_id": 3126, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-16T18:09:36Z", "scrap_date": "2024-05-01T00:34:14.753598", "content": "Derp Yes that was it Sorry about that As I mentioned Im from a NET background where deploys trigger a build and builds trigger a package install This isnt the first time Ive forgot to do those independently Ill catch on Thanks buggy "},
{"id": 31062, "question_id": 3106, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T12:01:40Z", "scrap_date": "2024-05-01T00:34:15.715127", "content": "If youre getting a timeout its probably a network issue so without more information about your network topology its going to be difficult to debug The most common problem with database connectivity is youre deploying to Lambda outside a VPC but trying to connect to an RDS instance inside a VPC For that the simple solution is deploy your Lambda inside your VPC "},
{"id": 31063, "question_id": 3106, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-15T20:19:10Z", "scrap_date": "2024-05-01T00:34:15.717128", "content": "My database is external to AWS not in RDS neither EC2"},
{"id": 31064, "question_id": 3106, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-15T23:11:06Z", "scrap_date": "2024-05-01T00:34:15.717128", "content": "Is the database accessible from any IP address Have you set context callbackWaitsForEmptyEventLoop false in your Lambda"},
{"id": 31065, "question_id": 3106, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T10:46:48Z", "scrap_date": "2024-05-01T00:34:15.718129", "content": "Oh yeah It worked Thanks I guess is time to dig up on the lambda context"},
{"id": 31066, "question_id": 3106, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T21:35:42Z", "scrap_date": "2024-05-01T00:34:15.719129", "content": "Awesomeee It worked buggy Thanks "},
{"id": 30972, "question_id": 3097, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-17T22:20:40Z", "scrap_date": "2024-05-01T00:34:16.566558", "content": "I got better performances after adjusted DynamoDBs ProvisionedThroughput read and write capacity units"},
{"id": 31392, "question_id": 3139, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-18T01:42:09Z", "scrap_date": "2024-05-01T00:34:17.605111", "content": "The lambda function will put the item into Dynamo or into an sns topic or kinesis via the awssdk inside the lambda function See httpsgithub comDavidWellsserverlessworkshopblobmasterlessonseventssnssnsbasichandler jsL15L25 for an sns example There are additional examples inside events folder of that repo"},
{"id": 31442, "question_id": 3144, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-18T01:38:38Z", "scrap_date": "2024-05-01T00:34:18.209245", "content": "This thread might be related No AccessControlAllowOrigin header is present on the requested resource You might need to set these headers on your UNATHORIZED response httpsgithub comserverlessexamplesblobmasterawsnodeauth0customauthorizersapiserverless ymlL36L55"},
{"id": 31443, "question_id": 3144, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-18T01:48:09Z", "scrap_date": "2024-05-01T00:34:18.210245", "content": "Thanks i do have that in my serverless yml I believe this is actually a cloudfront problem I just changed it to whitelist headers and pass through these CORS headers Well see if that helps "},
{"id": 30742, "question_id": 3074, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T01:07:30Z", "scrap_date": "2024-05-01T00:34:19.093647", "content": "Did you ever find an answer to this Im curious about this as well "},
{"id": 30743, "question_id": 3074, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T01:53:51Z", "scrap_date": "2024-05-01T00:34:19.094644", "content": "Yes I get something by myself For question 1 my understanding is I have to customize the policies to nominate allowed endpoints when validate in authorizer for that token owner For example if that Authorization token owner has only permission to access endpoint 1 2 5 this is the policy I need to generate which allow all methods Remember you have to customize the methods as well otherwise if token owner access with method GET you only set the policy cache to GET then all requests from the same owner with same token for other methods such as POST PUT DELETE etc will be refused So if the token owner can do only method GETPOST the policy need be updated as below There are aws limits for the policy size so make sure it is kept in limit This way I manage the policies is not only for request token same for token type as well Same solution For questions 2 I still dont get answer "},
{"id": 31172, "question_id": 3117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-16T02:50:55Z", "scrap_date": "2024-05-01T00:34:19.954526", "content": "Ups never mind I just updated node and all worked ok tks"},
{"id": 31173, "question_id": 3117, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T15:13:21Z", "scrap_date": "2024-05-01T00:34:19.955526", "content": "what command did you use to update node Thanks"},
{"id": 31732, "question_id": 3173, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T16:16:06Z", "scrap_date": "2024-05-01T00:34:20.830555", "content": "Im curious about this as well It looks like there are a couple other questions on this topic on the forum that havent been answered "},
{"id": 31733, "question_id": 3173, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T21:02:49Z", "scrap_date": "2024-05-01T00:34:20.831555", "content": "already asked by someone following this issue httpsgithub comserverlessserverlessissues4461"},
{"id": 31734, "question_id": 3173, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T21:33:01Z", "scrap_date": "2024-05-01T00:34:20.832561", "content": "bill i see that its asked but do we have an answer defined Reluctant to just 1 an old issue when this is pretty broken if there isnt a canonical fix Logging is table stakes "},
{"id": 31735, "question_id": 3173, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-28T23:11:57Z", "scrap_date": "2024-05-01T00:34:20.833556", "content": "Yes and same feeling I am also waiting for the reliable solution as well for this issue "},
{"id": 32202, "question_id": 3220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T20:27:05Z", "scrap_date": "2024-05-01T00:34:21.919137", "content": "Check out this post httpsserverless comblogserverlessexpressrestapi by alexdebrie1 it should help "},
{"id": 32203, "question_id": 3220, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-01T01:16:16Z", "scrap_date": "2024-05-01T00:34:21.919137", "content": "As I said too tired to work properly I was following not well enough seems like this article Thank "},
{"id": 32232, "question_id": 3223, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-01T09:41:04Z", "scrap_date": "2024-05-01T00:34:22.603456", "content": "I managed to resolve the issue The issue was due to the fact I had already created custom domain in the api gateway and hence create_domain was not working Upon deleting it worked "},
{"id": 30552, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T20:25:22Z", "scrap_date": "2024-05-01T00:34:23.617549", "content": "Check out getOpenIdTokenForDeveloperIdentity AssumeRoleWithWebIdentity Then on this page httpdocs aws amazon comIAMlatestUserGuidereference_policies_variables html role idcallerspecifiedrolename I think youd find it much easier to use a Cognito User Pool and not roll your own authentication "},
{"id": 30553, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T20:27:33Z", "scrap_date": "2024-05-01T00:34:23.618550", "content": "Ok Thx for the pointers Ill look into that Is it possible to group the users so some users have read access to the same bucket and only one of them is an admin of the bucket"},
{"id": 30554, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T20:31:58Z", "scrap_date": "2024-05-01T00:34:23.618550", "content": "I also have lambda functions where I also use the api gateway to controll which users are allowed to call the different functions Is that also something that can be controlled if I use the cognito user pool"},
{"id": 30555, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T20:37:04Z", "scrap_date": "2024-05-01T00:34:23.619550", "content": "You can set different restrictions like this httpdocs aws amazon comIAMlatestUserGuidereference_policies_examples_s3_cognitobucket html Rolling your own authentication is a lot of work Far easier to use a service Lamda functions run in their own role So you should make a specific role for each lambda function that restricts what it can do to a minimum The Cognito user id is passed as an input variable into the lambda function Those web authenticated identities are also passed The S3 policy variables will not work as you expect them to from lambda Lamda runs in its own role not as the Cognito user The policy variables are for when your app directly accesses S3 without lambda in the way "},
{"id": 30556, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-08T20:44:54Z", "scrap_date": "2024-05-01T00:34:23.621551", "content": "Thx alot Ill look into this "},
{"id": 30557, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-11T11:22:29Z", "scrap_date": "2024-05-01T00:34:23.621551", "content": "It sounds like you need an authorizer that is controlling this access httpdocs aws amazon comapigatewaylatestdeveloperguideusecustomauthorizer html I found incognito to be a bit cumbersome and Auth0 custom authorizer with a JWT token a bit easier to manage From there you could use the URL to determine what users have access to and simply route them to the appropriate bucket or path within the bucket The authorizer could be written to grant additional permisions or bucket access based on the grants within the JWT token so you are offloading that complexity to the 3rd party and not having to roll it yourselves If you wanted to get clever you could put your own CloudFront instance infront of the gateway and your S3 bucket You could then route all GET requests directly to your S3 bucket and then route your other method calls to API gateway You will probably have some things to figure out regarding CloudFront cache but it could be an effective solution for delivery if cost is a concern "},
{"id": 30558, "question_id": 3055, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-01T12:22:18Z", "scrap_date": "2024-05-01T00:34:23.623551", "content": "Matt you can use AssumeRoleWithWebIdentity on AWS to exchange your Auth0 JWT token for temporary AWS credentials Those temp credentials will have a Cognito ID set in them That exchange process uses a Federation Pool in Cognito I do find Cognito to be confusing There are two pieces to it User Pools those function like the Auth0 piece and return JWT tokens Federation Pools those are free to use You give them tokens and they return temporary AWS credentials locked to the role associated with the Federation Pool Note there is also AWS support for Developer Authenticated entities I have not tried working with that yet That may be how you deal with JWT tokens you made up yourself "},
{"id": 20892, "question_id": 2089, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-21T06:44:04Z", "scrap_date": "2024-05-01T00:34:24.656562", "content": "Your yml is not formatted use before and after your yml snippet so it formats since formatting is critical with yml There is an example of how to specify an IAM policy for your function to access s3 Look at bullet point 2 Im on mobile so Ill include the answer inline later "},
{"id": 20893, "question_id": 2089, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-21T08:41:23Z", "scrap_date": "2024-05-01T00:34:24.658562", "content": "Dear matt I am aaa Thank you very much for your helping Your comment is very great for me because I wrote yml firstly I will try reading your link Best regards aaa"},
{"id": 20894, "question_id": 2089, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-02T16:15:37Z", "scrap_date": "2024-05-01T00:34:24.658562", "content": "Hi Folks I tried this but seem to have a formatting issue Id like to grant readwrite access to three existing buckets newimagebucket baselineimagebucket deltaimagebucket Ive updated serverless yml like so When I attempt to deploy I get Any pointers Thanks Denali"},
{"id": 33042, "question_id": 3304, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-11T22:26:57Z", "scrap_date": "2024-05-01T00:34:25.759629", "content": "Define it in a custom variable file for each environment Feed it to lambda functions notice the environment variables I set for that lambda function Then you should be fine to reference this variable by below way in handler js So you can control to use which environment file by feeding option stage when deploy"},
{"id": 33043, "question_id": 3304, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-15T11:31:34Z", "scrap_date": "2024-05-01T00:34:25.760629", "content": "Works perfect Thanks for excellent guide "},
{"id": 23612, "question_id": 2361, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-25T06:21:03Z", "scrap_date": "2024-05-01T00:34:26.412029", "content": "I think it should be capitalized i e Version"},
{"id": 23613, "question_id": 2361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-15T19:48:58Z", "scrap_date": "2024-05-01T00:34:26.413029", "content": "Version 20121017"},
{"id": 33442, "question_id": 3344, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-16T12:18:19Z", "scrap_date": "2024-05-01T00:34:27.487650", "content": "It looks like the frameworkVersion is checked before the variable substitution is done "},
{"id": 33443, "question_id": 3344, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-17T05:23:21Z", "scrap_date": "2024-05-01T00:34:27.487650", "content": "Makes sense The way that variable substitution is done would depend on the framework version Thanks Rick "},
{"id": 33452, "question_id": 3345, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-17T08:29:37Z", "scrap_date": "2024-05-01T00:34:28.137373", "content": "I dont see there is the keyword named common in serverless framework If you need to reference from two files you can do this Then you can reference those variables with example Hope that helps "},
{"id": 33453, "question_id": 3345, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-17T18:49:05Z", "scrap_date": "2024-05-01T00:34:28.138375", "content": "Yes it does Thanks Bill I guess my confusion is because there doesnt seem to be any mention in the docs that custom is a keyword My assumption was that i could choose whatever keys i wanted "},
{"id": 33454, "question_id": 3345, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-17T20:10:28Z", "scrap_date": "2024-05-01T00:34:28.139374", "content": "ic If you need to know the list of all available properties in serverless yml when the provider is set to aws Please go through this document Serverless ym Reference The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more Interesting part is custom is not in the list Seems the document need be updated "},
{"id": 33542, "question_id": 3354, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-19T04:53:11Z", "scrap_date": "2024-05-01T00:34:28.975245", "content": "check out httpsgithub comserverlessheavenserverlesswebpack"},
{"id": 33543, "question_id": 3354, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-19T05:19:42Z", "scrap_date": "2024-05-01T00:34:28.976245", "content": "Cool thanks DavidWells This is pretty much what i was after Though I managed to work it out already in a more manual way"},
{"id": 29502, "question_id": 2950, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-26T18:48:22Z", "scrap_date": "2024-05-01T00:34:30.060808", "content": "Allow me to update my point of view After a long night and sleepy morning I have tested the previous approaches and I have slightly changed my point of view Option 1 is still not viable even at the maximum level of encapsulation I feel that there is still too many boilerplate code A moderate sized REST API has too many endpoints to be directly specified in the serverless yml file perhaps it is fine for small sized APIs Option 2 was my favourite but after some test I see some flaws Mainly regarding routing the solution proposed in the cited post is not scalable As a heavy user of express I think that manually managing the routing of methods params again in a large API you are introducing lot of not standard code again not safe Option 3 seemed almost discarded for me but is now my way to go If I have to introduce my team to serverless I will do so by using serverless as a proxy and as a way to deploy my API httpsserverless comblogserverlessexpressrestapi I am a strong believer of GraphQL and serverless their many synergies make me feel it is the way to go However it still too early for me and my team to migrate to such a new stack Am I biasing my decision towards using technologies which are more confortable for me is there any gotcha in using express that I am missing here Again any thoughts are welcomed "},
{"id": 29503, "question_id": 2950, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-26T20:48:17Z", "scrap_date": "2024-05-01T00:34:30.062809", "content": "Hey jacintoArias I dont think theres a right answer here but I think youve nailed the key aspects I dont think theres anything wrong with starting with an Express proxy its a comfortable switch while still showing the benefits of Serverless Down the road you may wish to write resourcespecific handlers without the use of a web framework but its not required now For a counterpoint on using a web framework you should read Ben Kehoes thoughts on using the lambdaproxy integration Its a good explanation of why you might eventually move away from this approach while still noting that its a great onramp to Serverless "},
{"id": 29504, "question_id": 2950, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-27T08:10:31Z", "scrap_date": "2024-05-01T00:34:30.063809", "content": "Thanks for the feedback that post develops on the pitfalls I was afraid of I will tweak my production applications by using a hybrid approach as described in the mentioned blog post in which you use a lambda proxy to an express app but declaring the endpoints on the serverless yml file you avoid the boilerplate code and gain visibility security and the self documenting aspect of API gateway As I mentioned I will move away from this approach but from my point of view I wont be moving away from lambda proxy serverless I will be moving away from REST and serverless will help me do that "},
{"id": 29505, "question_id": 2950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-07T11:00:26Z", "scrap_date": "2024-05-01T00:34:30.065810", "content": "Alex is 100 correct about their being no correct solution Where possible I would stay away from 3 It will lead you down the path of building monolithic applications with a single Lambda that does everything Once you start using GraphQL you may find yourself going down this path too if youre not careful You can reduce the amount of boiler plate in option 1 by extracting common code into shared libraries but Ive always found the though of one Lambda per API endpoint to very painful My preference for REST API has typically been one Lambda per resource The only routing is based on the verb and resource ID "},
{"id": 29506, "question_id": 2950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-24T09:39:19Z", "scrap_date": "2024-05-01T00:34:30.066810", "content": "I just wanted to update this for anyone that follows this conversation with the same problems You are absolutely right and experience has led me to that exact path Express has been a powerful entry point for us but we are removing it in favor of doing the routing with serverless We now even have multiple services sharing resources so modularity is key We have services that are specific for creating resources and several APIs services which are modelled as a set of Lambdas one accessing each resource as you suggest Shared libraries are a must for reducing boilerplate code and improve reusability for example when accessing and modelling the data layer However this approach is very new and there aren t many examples andor good practices out there just tiny bits of advice I could really use an opinionated example on how people are organising big projects I m currently struggling with my CICD pipeline I could really use a monorepo for all my services"},
{"id": 29507, "question_id": 2950, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-01T15:06:04Z", "scrap_date": "2024-05-01T00:34:30.067810", "content": "Im finding myself in the same situation as outlined in this thread I imagine anyone thats interested in developing a larger andor growing REST API will wrestle with the same questions of how to structure their project and Lambdas etc How you decided to structure your shared libraries e g for data access etc would be very helpful for me to know How did you decide to break up your serverless yml files Is there a separate one for each resource and then the functions defined inside are only relevant to that endpoint w GETPOSTetc If so then how do the different services share common code Is everything in one GIT repo Sorry Im still pretty green in this area "},
{"id": 34202, "question_id": 3420, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T17:37:45Z", "scrap_date": "2024-05-01T00:34:31.021783", "content": "This plugin saves the cloudformation output as JSON Might be useful to look at Serverless plugin to process AWS CloudFormation Stack Output GitHub sbstjnserverlessstackoutput Serverless plugin to process AWS CloudFormation Stack Output"},
{"id": 34203, "question_id": 3420, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T18:02:02Z", "scrap_date": "2024-05-01T00:34:31.022784", "content": "This writes the output to a file or allows chaining another js function that is executed as part of the same serverless process For my use I really dont want to generate a temporary file and I need the output derived from the serverless config to chain as stdin of a process written in another language "},
{"id": 34222, "question_id": 3422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T19:11:48Z", "scrap_date": "2024-05-01T00:34:31.935574", "content": "What does your serverless yml look like Sounds like it has ALOT of functions in it You might need to split up the service into smaller pieces or use sub stacks"},
{"id": 34223, "question_id": 3422, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T21:11:56Z", "scrap_date": "2024-05-01T00:34:31.936575", "content": "Thanks David I have 32 functions in my serverless yml I removed some which has brought down the number of resources Is there a guideline on breaking up services I am not familiar with sub stacks Time to do more research "},
{"id": 34224, "question_id": 3422, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-03T00:13:44Z", "scrap_date": "2024-05-01T00:34:31.937575", "content": "Sub stacks are painful to use from what I hear You are better off breaking up your large large service into microservices based on the domain they handle Like a userservice billingservice authservice etc Depends on your app on how youd logically break in down into smaller pieces I recommend checking out pretty much all the microservice talks from httpswww youtube comuserGotoConferences"},
{"id": 32102, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-29T03:56:14Z", "scrap_date": "2024-05-01T00:34:32.724116", "content": "I cant speak as to whether establishing a connection to a RDS endpoint would affect performance but my guess is probably not Lambda can work fairly seamlessly with RDS "},
{"id": 32103, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-29T12:09:51Z", "scrap_date": "2024-05-01T00:34:32.725117", "content": "On further thought VPC configuration etc could prove painful if youre shooting for a true serverless approach However Serverless Aurora was just announced httpsserverless comblogultimatelistserverlessannouncementsreinventserverlessauroracomingsoon"},
{"id": 32104, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T12:23:11Z", "scrap_date": "2024-05-01T00:34:32.726123", "content": "That sounds great Any idea when that should happen Thanks "},
{"id": 32105, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-12-01T06:19:05Z", "scrap_date": "2024-05-01T00:34:32.726123", "content": "There are two databases you might use inside RDS Aurora which implements mysql 5 6 functionality and Mysql which is Mysql 5 7 and hence has things like JSON columns I am using both and both perform very well Aurora is more selfmanaging in that it deals with replication and growing of the database automatically Cold starts are not an issue your application just opens a new connection to the database just like any other database I run RDS inside a VPC so no direct access from the public Internet is possible and I also run lambda inside a VPC private subnet The only tricky bits I had to deal with were Having to build a NAT Gateway so that the Lambda function had outbound Internet connectivity this costs money too unfortunately but I wanted all Lambda functions to make outbound connectivity from a fixed IP address Configuring an S3 policy to allow access to S3 from the private subnet HTH Brian "},
{"id": 32106, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-04T14:16:52Z", "scrap_date": "2024-05-01T00:34:32.728117", "content": "I have been using RDS MySQL with APIG and lambda for about 6 months so far without any issues I am too in a VPC which means I need to use NAT gateway but it was not difficult to set up I can only recommend this setup "},
{"id": 32107, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-04T23:51:49Z", "scrap_date": "2024-05-01T00:34:32.729117", "content": "Currently Lambda SQL feels like an antipattern You can do it but there are a number of gotchas For example You need to run Lambda inside a VPC that has access to the database That means slow cold start times cause by running Lambda inside a VPC Lambda not having internet access by default etc You can work around many of these I expect this to change once Serverless Aurora is available "},
{"id": 32108, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-03T01:08:34Z", "scrap_date": "2024-05-01T00:34:32.730118", "content": "I cant speak as to whether establishing a connection to a RDS endpoint would affect performance but my guess is probably not Lambda can work fairly seamlessly with RDS How are you handling your database connection pool D"},
{"id": 32109, "question_id": 3210, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-03T01:10:14Z", "scrap_date": "2024-05-01T00:34:32.730118", "content": "Serverless Aurora is intended to be a database for infrequent intermittent or unpredictable workloads "},
{"id": 1882, "question_id": 188, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-08-30T00:43:12Z", "scrap_date": "2024-05-01T00:34:33.578921", "content": "Your Lambda functions should be completely stateless and relying on a previously opened connection is stateful This is part of the LambdaFaaS FunctionasaService model rather than a Serverless thing Basically you cannot guarantee that your function will run in the same contextcontainer but it might Are you sure that it is really a performance issue for your application This is definitely a tradeoff that using Lambda forces you to make While its obviously less efficient to create connections every time the upside is that you dont need to manage the underlying application container i e OS etc yourself "},
{"id": 1883, "question_id": 188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:26:48Z", "scrap_date": "2024-05-01T00:34:33.579921", "content": "Thanks rowanu Thinking about it this past days I realized thats the way it should be to preserve the stateless character of the service The performance problem shouldnt be that if you manage your db to be clustered and balancing the connections over that cluster But that problem would be with a lot of simultaneous connections Thank you very much for your clarification Much appreciated "},
{"id": 1884, "question_id": 188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-08-30T06:45:49Z", "scrap_date": "2024-05-01T00:34:33.580990", "content": "dfernper I think this should be working by default httpsforums aws amazon comthread jspathreadID216000 Basically if the Mysql Node driver does proper connection pooling stores the pool in the same process it should be fine Have you tried accessing the connection pool and logging it on every request to make sure if it already has been running One issue of course is that if you burst functions like crazy you might run out of connections but other than that it should be fine "},
{"id": 1885, "question_id": 188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-30T08:56:52Z", "scrap_date": "2024-05-01T00:34:33.581993", "content": "Look at this article httpswww cleveroad comblogthebestnodejsframeworkforyourprojectexpressjskoajsorsailsjs I think it would help you"},
{"id": 1886, "question_id": 188, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-03T01:13:31Z", "scrap_date": "2024-05-01T00:34:33.582988", "content": "dfernper how did you end up handling your connection pooling"},
{"id": 34182, "question_id": 3418, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-04T04:47:38Z", "scrap_date": "2024-05-01T00:34:34.445009", "content": "I gave up on this and built the string externally and then put it into file That gets rid of the need for concatenation inside of serverless "},
{"id": 34252, "question_id": 3425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-04T22:17:20Z", "scrap_date": "2024-05-01T00:34:35.456070", "content": "Got your point The better way is to raise a featurebug issue ticket to this open source repository directly The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 34253, "question_id": 3425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-05T00:10:02Z", "scrap_date": "2024-05-01T00:34:35.457082", "content": "thanks for the feedback"},
{"id": 34254, "question_id": 3425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-05T04:23:09Z", "scrap_date": "2024-05-01T00:34:35.457082", "content": "awsKmsKeyArn I dig the changes about this feature and seems the developer has difficulty to move it to provider Add KMS key support by pmuens Pull Request 3672 serverlessserverless GitHub Thanks for the feedback candlerb Add KMS key support by pmuens Pull Request 3672 serverlessserverless GitHub hassankhan thanks for the feedback and this Add KMS key support by pmuens Pull Request 3672 serverlessserverless GitHub Thanks for the review nalbion"},
{"id": 34462, "question_id": 3446, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-01-08T00:44:55Z", "scrap_date": "2024-05-01T00:34:36.414538", "content": "For DynamoDB index the resource path is different So you need to add the index path as well in iamRoleStatements For example By the way I dont think you need to GetItemPutItemUpdateItemDeleteItem index If this is the case you can add these permissions back easily Please read this document for further understanding httpsdocs aws amazon comamazondynamodblatestdeveloperguideapipermissionsreference html"},
{"id": 35482, "question_id": 3548, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-19T03:32:38Z", "scrap_date": "2024-05-01T00:34:37.445416", "content": "Dude I want this too I dont think thats how the js variable resolution works tho horike37 what do you think about passing in the current this serverless context into the JS files"},
{"id": 35483, "question_id": 3548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-19T21:59:43Z", "scrap_date": "2024-05-01T00:34:37.446416", "content": "This is how i ended up solving it but its a nasty hack i dont like This is part of my serverless yaml That allows me to generate arns on the fly "},
{"id": 35484, "question_id": 3548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-20T09:51:38Z", "scrap_date": "2024-05-01T00:34:37.447417", "content": "Interesting Does it work Could you share the file settingsSeverless js"},
{"id": 35485, "question_id": 3548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-20T10:54:29Z", "scrap_date": "2024-05-01T00:34:37.447417", "content": "bill here it is it works gist github com httpsgist github comcodingPerfectiond1d04c4f95b7e38eb5f5bf8d92ef4dae settingsSeverless js module exports serviceName return changeBotapi region return eucentral1 accountId sry not sharing this return 1111 This file has been truncated show original"},
{"id": 35486, "question_id": 3548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-20T11:28:48Z", "scrap_date": "2024-05-01T00:34:37.449417", "content": "ic you hardcoded it not get the region name and account id onfly With this why not set directly such as Then you will easily reference them for example selfcustom region if you add below line in serverless yml By the way region and accountid can be referenced directly"},
{"id": 35487, "question_id": 3548, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-20T11:44:12Z", "scrap_date": "2024-05-01T00:34:37.450417", "content": "That allows me to generate arns on the fly I agree your approach is a bit cleaner but still a dirty hack "},
{"id": 35692, "question_id": 3569, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-22T07:39:29Z", "scrap_date": "2024-05-01T00:34:38.638013", "content": "I shouldve waited 5 minutes because all of a sudden I had an epiphany In the provider section I configured the following variable And in the event"},
{"id": 18982, "question_id": 1898, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-22T12:44:14Z", "scrap_date": "2024-05-01T00:34:39.540266", "content": "Unfortunately setting up a dummy handler is the only way to get it working currently As they say its not a bug its a feature This is because events are tied to functions i e you cannot define events without a corresponding Lambda After v1 14 releases the docs will have more information but tldr is there will be more integration types HTTP_PROXY MOCK "},
{"id": 18983, "question_id": 1898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-22T14:43:49Z", "scrap_date": "2024-05-01T00:34:39.541266", "content": "Thanks for the response hassankhan That makes sense And its what I assumed I just wanted to make sure I wasnt missing something obvious "},
{"id": 18984, "question_id": 1898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-20T20:00:06Z", "scrap_date": "2024-05-01T00:34:39.542272", "content": "What does twos dummy handler look like Im getting this same error message Thanks in advance "},
{"id": 18985, "question_id": 1898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-21T23:12:32Z", "scrap_date": "2024-05-01T00:34:39.543267", "content": "The added handler definition in serverlessyml The dummy handler code"},
{"id": 18986, "question_id": 1898, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-22T15:31:56Z", "scrap_date": "2024-05-01T00:34:39.543267", "content": "Hey thank you bfieber Ill try that I got it working with some slightly different sample code out of GitHub masterawsnodesimplehttpendpoint Serverless Examples nbspA collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more e Sean"},
{"id": 35722, "question_id": 3572, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-22T20:38:01Z", "scrap_date": "2024-05-01T00:34:40.565316", "content": "Hi xriu What are you struggling with in particular To test http and other lambda handlers Hope this helps "},
{"id": 35723, "question_id": 3572, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-23T17:15:12Z", "scrap_date": "2024-05-01T00:34:40.566313", "content": "Thanks bbilger I will take a look at this repos Just to share another repository that I found today httpsgithub comlambcidockerlambda"},
{"id": 35742, "question_id": 3574, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-23T22:59:24Z", "scrap_date": "2024-05-01T00:34:41.625838", "content": "There are a couple things that look wrong to me Add return lambda invoke also wont work because lambda invoke will return immediately You probably want to have a read of httpsaws amazon comblogsdevelopersupportforpromisesinthesdk"},
{"id": 35122, "question_id": 3512, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-24T02:24:34Z", "scrap_date": "2024-05-01T00:34:42.461579", "content": "AWS supports IAM authentication for MySQL and Aurora httpsdocs aws amazon comAmazonRDSlatestUserGuideUsingWithRDS IAMDBAuth html The other option is to set some variables like RDS_USERNAME and RDS_PASSWORD in your serverless yml then use the variables for MasterUsername and MasterUserPassword and pass them into your Lambda as environment variables "},
{"id": 37142, "question_id": 3714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-07T00:57:04Z", "scrap_date": "2024-05-01T00:34:43.577743", "content": "Yes You just have define it as Cloudformation code "},
{"id": 36912, "question_id": 3691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-05T21:47:06Z", "scrap_date": "2024-05-01T00:34:44.647634", "content": "It sounds like you might want to shift around your data model to accommodate for multiple users IE not having a separate databases for each usertenant Then you can lock down permissions on what data the given client could access in your lambda function by checking their JWT or other metaheaders sent with requests A new deployment for each new tenant will give you the problems you describe in the long run Out of date or hard to update individual stacks Alternatively you can have individual stacks and use variables you will want to script your deployments so Its not a huge pain in the ass to update 100 stacks manually when software updates roll out I recommend the data modal approach not this "},
{"id": 36913, "question_id": 3691, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-07T06:53:05Z", "scrap_date": "2024-05-01T00:34:44.648634", "content": "Hi David thanks for your reply I understand the complexity behind automating the deployment and synchronization of multiple stacks I also understand the added complexity of changing my front back end although I have an approach in mind that I think will suit my needs It lead me to two follow up questions If I want to separate my auth0 databases per client I can see my environment variable section grow rather quickly Is there a good approach for that Second is there any implication in cost one large table vs several small ones"},
{"id": 36752, "question_id": 3675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-03T06:36:32Z", "scrap_date": "2024-05-01T00:34:45.654693", "content": "Your code snippet doesnt look complete can you include the rest Also youll need to give us more information than its not work working What happens Do you get any error messages"},
{"id": 36753, "question_id": 3675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-07T22:48:18Z", "scrap_date": "2024-05-01T00:34:45.655715", "content": "Thank you I eventually got it to work Not sure though what i was doing wrong perhaps made a typo somewhere "},
{"id": 37762, "question_id": 3776, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-02-15T16:00:20Z", "scrap_date": "2024-05-01T00:34:46.708129", "content": "Here are a couple great Blog posts that I followed to do the same thing for my project using the API Gateway Custom Domains via the serverlessdomainmanager plugin How to set up a custom domain name for Lambda API Gateway with Serverless How to deploy multiple microservices under one API domain with Serverless Hope it helps "},
{"id": 37763, "question_id": 3776, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T13:43:11Z", "scrap_date": "2024-05-01T00:34:46.709129", "content": "Okay my issue is a bit different since I cannot move my domain ownership to AWS Im currently trying to setup a Hosted zone linked to a subdomain Basically my domain is already used with services running so I can only use a subdomain Currently waiting for AWS certificate approval "},
{"id": 37772, "question_id": 3777, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-15T16:26:54Z", "scrap_date": "2024-05-01T00:34:47.764876", "content": "Thats a limitation of AWS You can read more about it in the AWS Docs here You could consider trying a Messaging Fanout Pattern for Serverless Architectures Using Amazon SNS Buggy talks about it in a similar thread HERE Hope it helps "},
{"id": 37902, "question_id": 3790, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T19:10:06Z", "scrap_date": "2024-05-01T00:34:48.633870", "content": "See the aws Cloudformation reference Here example Enjoy"},
{"id": 37903, "question_id": 3790, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-16T20:05:51Z", "scrap_date": "2024-05-01T00:34:48.634871", "content": "Thank you very much I should have thought about looking at CF definitions before I posted "},
{"id": 37702, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T15:34:03Z", "scrap_date": "2024-05-01T00:34:49.546711", "content": "You would use cloudformation resources httpsserverless comframeworkdocsprovidersawsguideresources create iam managed policies httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourceiammanagedpolicy html to give access to the api in policy document attach them to user"},
{"id": 37703, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-15T15:34:41Z", "scrap_date": "2024-05-01T00:34:49.548712", "content": "Here is create user httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesiamuser html"},
{"id": 37704, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-16T02:22:30Z", "scrap_date": "2024-05-01T00:34:49.548712", "content": "Thanks I get how to do it manually I was hoping I could generate them based on setting a role name on the functions "},
{"id": 37705, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-16T04:09:12Z", "scrap_date": "2024-05-01T00:34:49.549713", "content": "You can set IAM roles per function with httpsgithub comfunctionaloneserverlessiamrolesperfunction Grabbed from httpsgithub comserverlessplugins"},
{"id": 37706, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-18T22:47:53Z", "scrap_date": "2024-05-01T00:34:49.550712", "content": "Thanks I didnt know about the plugins list That plugin isnt quite what Im after but will be a good starting point for writing one I want to specify application roles for each function from say [admin poweruser user] Then have the plugin generate an IAM role for each application role allowing executeapiInvoke for each path of the function that specified that role So the below would be generated for the admin role if admin was specified on the POST hello function "},
{"id": 37707, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-19T10:00:31Z", "scrap_date": "2024-05-01T00:34:49.551713", "content": "I didnt do this with AWS_IAM but with custom authorizer One thing you need take care if you want to enable policy cache get better performance you need include all valid endpoints for that user For example the user has permission to access endpoint1 and endpoin2 When access endpoint1 you need set the policy cache for both of them otherwise the user cant access endpoint2 within policy cache timeout default is 300 seconds "},
{"id": 37708, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-19T22:26:05Z", "scrap_date": "2024-05-01T00:34:49.552713", "content": "bill Thanks for the info Did you generate the policy from your serverless yml Or is it manually maintained"},
{"id": 37709, "question_id": 3770, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-19T22:59:49Z", "scrap_date": "2024-05-01T00:34:49.552713", "content": "You need manually care with a monolith lambda functions to generate the policy cache with IAM policy The policy cache has size limits dont remember about 200k or 400k so if you need manage too many endpoints with different methods you have to split them properly In my case I need assign different methods for different endpoints such as Then this policy cache can be huge which possibly hits the limits "},
{"id": 862, "question_id": 86, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-27T07:26:00Z", "scrap_date": "2024-05-01T00:34:50.087371", "content": "hey did you get anything "},
{"id": 863, "question_id": 86, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-14T22:03:50Z", "scrap_date": "2024-05-01T00:34:50.088371", "content": "Did you guys got anything related to unit testing I have recently wrote a code in Python using Serverless framework Now I am wondering how to write unit tests for that Any example would be appreciated "},
{"id": 864, "question_id": 86, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-17T22:21:43Z", "scrap_date": "2024-05-01T00:34:50.089372", "content": "Has anyone found a way to do this yet So far I have decided to create a python package I will unit test myself prior to deployment I think I will use the nose package to help me do this httppythontesting netframeworknosenoseintroduction But I am unable to find a way to test the endpoints yet I have seen a post about using Mocha to test node endpoints but nothing for python "},
{"id": 865, "question_id": 86, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-01T18:37:45Z", "scrap_date": "2024-05-01T00:34:50.090372", "content": "[Edit] I figured out how to test python lambda functions and wrote a post about it joshuaballoch github iotestinglambdafunctions I also made that part of a series on how to make a productionready setup for AWS Lambda functions joshuaballoch github ioproductionreadyawslambda Original Post I am currently exploring this Will post with more ifwhen i find it"},
{"id": 866, "question_id": 86, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T03:53:45Z", "scrap_date": "2024-05-01T00:34:50.091372", "content": "joshuaballoch Thanks for your updating Both blogs are great I just tested with the first one placebo nice tool which I should know before I deal with a lot of boto3 codes I can use placebo not only for serverless and lambda but also for other projects using boto3 I will continues to test the rest tools in the url you mentioned Thanks again "},
{"id": 38292, "question_id": 3829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T11:53:18Z", "scrap_date": "2024-05-01T00:34:50.615574", "content": "Hi Kiran Have you looked at AWS Amplify It makes it really easy to do exactly what you just said There are also some videos on YouTube I can recommend Be warned that its still early days for the project so things may change quickly Also while Mobile Hub makes it really easy to set everything up you may need to provision resources independently For example I had to setup Cognito User Pool and Federated Identity manually through the console to get email logins without usernames workings Rich"},
{"id": 38293, "question_id": 3829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-22T13:27:35Z", "scrap_date": "2024-05-01T00:34:50.617571", "content": "Hi Rich I will have a look at it Thanks for the links Also I am still looking into the Cognito federated identity examples for my case as you mentioned AWS amplify is still in early days Thank you Kiran"},
{"id": 38294, "question_id": 3829, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T19:06:41Z", "scrap_date": "2024-05-01T00:34:50.618571", "content": "I used this projectpage as a guide in doing that exact thing a couple months ago httpsserverlessstack com I didnt end up completely testing the federated identity part since i didnt have a good provider and the requirement went away beyond User Pools but in starting to test it i did make a developer account at salesforce com to test as an identity provider HTH Mark"},
{"id": 39002, "question_id": 3900, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-02T19:11:36Z", "scrap_date": "2024-05-01T00:34:51.414638", "content": "This plugin sounds awesome What does your serverless yml look like The error sounds like its coming from a misconfigured http event"},
{"id": 39003, "question_id": 3900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T21:03:55Z", "scrap_date": "2024-05-01T00:34:51.415638", "content": "Issue solved by calling deploy as child process exec sls deploy region region "},
{"id": 39004, "question_id": 3900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T21:57:33Z", "scrap_date": "2024-05-01T00:34:51.416639", "content": "Awesome Ive had to execSync the framework more times than I can count One day programatic access will be a first class citizen one day Are you planning on open sourcing the plugin Wed love to share that with the community at large via the plugin repo httpsgithub comserverlessplugins"},
{"id": 39202, "question_id": 3920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-03T11:26:22Z", "scrap_date": "2024-05-01T00:34:52.580203", "content": "The trick was to use any "},
{"id": 39952, "question_id": 3995, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T05:58:40Z", "scrap_date": "2024-05-01T00:34:53.390119", "content": "service serverlesshelloworld plugins provider name aws runtime nodejs6 10 functions helloWorld handler handler helloWorld events http path helloworld method get cors true"},
{"id": 42892, "question_id": 4289, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-25T16:57:55Z", "scrap_date": "2024-05-01T00:34:54.259145", "content": "It appears so based upon the link It looks like SNS has joined the family of VPC endpoints which before only included S3 and DynamoDB And yes that will eliminate the IGW and NAT if that is the only public service you need access to As for implementation you will need a CF Resource in your serverless yml With that said I didnt find any Template Reference on line to it e g AWSSNSVPCEndpoint But I didnt look very hard"},
{"id": 41622, "question_id": 4162, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-28T17:30:03Z", "scrap_date": "2024-05-01T00:34:55.317117", "content": "Theres an open issue to support this feature here Recently the CLI and Backend was updated to support path parameters In CLI yo u would configure like ``` wsk api create api users id get myWebAction reponsetype http ``` I want to be able to configure same using serverless yml file ``` service ibmscalasbtcloudfunction provider name openwhisk runtime java memory 512 timeout 60 functions hello handler targetscala2 12hello jarhello Handler events http path apihello id method get resp http request parameters paths id true plugins serverlessopenwhisk ``` This is due to the OpenWhisk client library not supporting this feature Once this PR is merged and a new version is released it should automatically be working Parse path parameters from route options and generate correct swagger New crea tion parameter to pass authentication key for secured web actions "},
{"id": 44452, "question_id": 4445, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-08T05:13:53Z", "scrap_date": "2024-05-01T00:34:56.213027", "content": "Ill assume youre doing this through a Lambda The easiest solution is to grant that permission to the default IAM role See httpsserverless comframeworkdocsprovidersawsguideiamthedefaultiamrole for more information "},
{"id": 44453, "question_id": 4445, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-08T05:18:52Z", "scrap_date": "2024-05-01T00:34:56.214025", "content": "Hi buggy yes I did like you said I didnt get it before is that I chose the wrong iam role statement I wrote others instead of arnawscognitoidp and arnawscognitosync After changing these two I got what I wanted "},
{"id": 44412, "question_id": 4441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T13:48:01Z", "scrap_date": "2024-05-01T00:34:57.237396", "content": "Hi Agnitra It is possible But due to the variance of feature set and functionality across the cloud providers it is hard practically If you take a small example and let me know I can help you through that I would suggest you start with AWS and Azure first Google Cloud has a very small subset of the functionality Changes that you will have to consider If you can create a project and share it on Github I can help you with it Hope that helps Thanks Rupak Ganguly"},
{"id": 44413, "question_id": 4441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T05:05:44Z", "scrap_date": "2024-05-01T00:34:57.238396", "content": "hi rupak I had tried the simple boilerplate template code that serverless framework provides by default Even the interface of the handlers are different for different providers Is there any provider agnostic universal serverless function signature which will work when deployed to AWS and AZURE at the same time without any changes made to the code The functions portion of the serverless yml file also has significant differences Is there any universal format for that also"},
{"id": 44414, "question_id": 4441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T05:45:23Z", "scrap_date": "2024-05-01T00:34:57.239402", "content": "Is there any provider agnostic universal serverless function signature which will work when deployed to AWS and AZURE at the same time without any changes made to the code No The cloud providers have become the new operating systems and just like Mac versus PC theyre not compatible "},
{"id": 44415, "question_id": 4441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T06:43:45Z", "scrap_date": "2024-05-01T00:34:57.240397", "content": "Is there a possibility to use docker conatiners to run code on serverless architecture on cloud"},
{"id": 44416, "question_id": 4441, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T07:03:35Z", "scrap_date": "2024-05-01T00:34:57.241396", "content": "AWS has Fargate but many people would argue thats not really serverless anymore Im not sure about the other cloud providers Solving the compute problem is relatively easy Your function can export a different handler for each platform that abstracts away the platform specifics before executing the common business logic The real problem is that serverless architectures are more than just functions If you need the ability to deploy the same application across multiple providers without code changes then serverless isnt the right solution for you "},
{"id": 44552, "question_id": 4455, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T01:37:03Z", "scrap_date": "2024-05-01T00:34:58.261187", "content": "Turns out I needed to run the prod seed As well as a couple of other things Change prod seed to use useast2 add incognito user to the DynamoDB user table "},
{"id": 39852, "question_id": 3985, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-12T11:28:18Z", "scrap_date": "2024-05-01T00:34:59.206695", "content": "Update this page is the closest I can find it describes an angular js app which authenticates three different resources The google and cip resources are authenticated against a federated identity pool and the google resource is authorized only to people who authenticated via the Google identity provider within that pool The code for this application is published but Im lost in the cloudformation template Note I dont necessarily want to create the identity pool from serverless having a single preexisting identity pool which is shared by many apps would in fact be better But I will need somehow to create permissions such that only authenticated users can access each app Preferably this will be further restricted for authorization e g only to users in a particular group although as long as the claims are passed through to the app I can check it there My head is starting to explode"},
{"id": 39853, "question_id": 3985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-12T12:23:27Z", "scrap_date": "2024-05-01T00:34:59.207695", "content": "Oh and just a bit of background Right now the way I solve this is to have a couple of EC2 instances running Apache mod_proxy and mod_auth_openidc Users hit the proxy URL and mod_auth_openidc transparently redirects them to the OpenIDC provider if necessary only when theyve authenticated does it proxy the request through to API Gateway It can also enforce authorisation e g specific organisation claim The great thing about this is that its completely transparent to the LambdaFlask application The only code needed in Lambda is to check the source IP address of the connection to check that the request is coming from the proxy so that people cant bypass the authentication by hitting the API gateway URL directly With AWS able to attach custom domains to API gateway instances and ACS issuing the certificates for those custom domains I thought it would be much cleaner if I could get rid of the proxy VMs and have people connect directly to API gateway But that means doing the full OpenID authenticationauthorisation in API gateway too Right now it looks like the web app would need to serve a bunch of Javascript which handles the entire flow plus configure IAM roles to perform the authorisation to specific API gateway URLs "},
{"id": 39854, "question_id": 3985, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-03-16T07:37:05Z", "scrap_date": "2024-05-01T00:34:59.210696", "content": "Yes it is possible to use Federated identities This is a simple way to do it User requests a token directly to the provider i e Google User sends the token to my public APIG endpoint On Lambda From now user has to sign requests from the client using those credentials to endpoints like this You can also take a look at this serverless auth boilerplate"},
{"id": 39855, "question_id": 3985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-16T09:17:53Z", "scrap_date": "2024-05-01T00:34:59.211696", "content": "Thank you Can I just clarify a few points my scenario is a Flask web app running in Lambda and user has a regular web browser accessing this app just following links in HTML User requests a token directly to the provider i e Google If this takes place in the browser presumably this means my Flask app has to return a page containing Javascript for the user to request the token or else the Flask app returns a HTTP redirect pointing the user directly to Google Im guessing that the callback URL I should use when requesting the token is the authsigningoogle service you mentioned which I need to provide as part of my Flask app Verify the token Does this mean the Flask app needs to get involved in JWT decoding and signature verification This is similar to what Id have to do to use OpenID Connect without Cognito Return credentials to the user In a cookie Otherwise how else will the browser retain them for the next request From now user has to sign requests from the client using those credentials to endpoints like this This part I dont understand How can I make the clients web browser send headers like XApiKey and XAmz with every request Does every page request have to come from Javascript XmlHttpRequest rather than just letting the browser follow links If so this would be a complete rewrite of the app using a clientside framework like sammy or angular The way I handle it at the moment is The net effect is that the Flask app is unmodified it just receives HTTP requests and returns HTML pages If an unauthenticated unauthorized user connects to the proxy then mod_auth_openidc intercepts this redirects them to GoogleO365 or whatever handles the callback response gives them a suitable cookie and performs the necessary authorization e g I was hoping to achieve something similar with API Gateway and Cognito but looks like I was hoping for too much Aside the proxy is going to remain for some other applications anyway because those applications require HTTPS client certificate authentication which API Gateway definitely cant do You can also take a look at this serverless auth boilerplate Ah thank you As a nonJavascript person Im trying to decode the source to serverlessauthenticationghpages As far as I can see so presumably this is using a Lambda custom authorizer not IAM authorization In fact I dont think its using Cognito at all But even given that I dont understand this fully my main takeaway is that the client browser is unable to access any protected page except via XHR to add the Authorization header "},
{"id": 39856, "question_id": 3985, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T07:45:42Z", "scrap_date": "2024-05-01T00:34:59.214697", "content": "Run into same issue after you and your post probably saved me several hours of hitting my head to the wall Thanks "},
{"id": 27842, "question_id": 2784, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-09-27T21:49:58Z", "scrap_date": "2024-05-01T00:35:00.014298", "content": "Hey richburdon there sure is You should check out the awesome serverlesshttp plugin to work with that You can get started with the following steps Install serverlesshttp by running npm install save serverlesshttp Update your Express index file Youll need to import the serverlesshttp library at the top of your file const serverless require serverlesshttp then export your wrapped application module exports handler serverless app For reference an example application might look like this Just make sure your handler refers to the file and exported function of your Express app Let me know if that works for you "},
{"id": 27843, "question_id": 2784, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T07:51:48Z", "scrap_date": "2024-05-01T00:35:00.017299", "content": "So in this example if I just wanted to work with get functions I could call handler get in serverless yml Also I could name it app rather than handler Do nderstand this correctly Does similar package existing for python as well I tried wsgi wrapper but ran into some issues Im just more fluent in Python than js"},
{"id": 40312, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-03-19T02:06:47Z", "scrap_date": "2024-05-01T00:35:01.140041", "content": "There are few options to achieve this"},
{"id": 40313, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-20T03:50:39Z", "scrap_date": "2024-05-01T00:35:01.140041", "content": "Hi Dawid I tried no 2 but it is not working is the same as an example that show in serverless framework github For 1 it is a little bit to understand for me as I am new to AWS and serverless framework ecosystem I want to and I am trying to do in third way but there is some problem I can successfully upload the text file For binary file jpeg it is not showing properly just blank image when I open the file in s3 Then what is you have to enable binary content type I believe it meant to add ContentType imagejpg along with bucket key body inside s3s putObject function If so I already did Do I need to add secret key and other credential info inside the code Many thanks Kind Regards John"},
{"id": 40314, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-03-20T06:38:57Z", "scrap_date": "2024-05-01T00:35:01.142041", "content": "You can checkout out this video httpswww youtube comwatchvBrYJlR0yRnwt83s Have in mind that with the 3rd option your actual file size can be more less 4 5MB maximum size of lambda function request is around 6MB and you also have to count headers etc The body in lmabda will be base64 encoded so when you call putObject on s3 bucket you actually have to do this The above code will not work because it is in ES6 syntax"},
{"id": 40315, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-21T00:27:43Z", "scrap_date": "2024-05-01T00:35:01.143041", "content": "Hi Dawid Thanks for you help Finally I decided to receive the code image to base64 from client side via http post body and used that code as data for Body in s3 putObject The problem is when I open the image on s3 it show error message on blank screen like"},
{"id": 40316, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-21T06:34:36Z", "scrap_date": "2024-05-01T00:35:01.144042", "content": "Finally it works after tried to put binary data in Body of s3s putObject function Thank you so much for your help and explain me how to do it Dawid Cheers John"},
{"id": 40317, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-17T15:05:19Z", "scrap_date": "2024-05-01T00:35:01.144042", "content": "Im having the same issue and cant seem to get it to work The file doesnt open in S3 Am I doing something wrong as opposed to yours Thanks Kieran"},
{"id": 40318, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-23T05:56:56Z", "scrap_date": "2024-05-01T00:35:01.145042", "content": "You need to make change in some places let buffer Buffer from event body base64 to let buffer new Buffer event body base64 and ContentEncoding is not base64 It is imagejpeg It should works now Cheers John"},
{"id": 40319, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-23T07:43:27Z", "scrap_date": "2024-05-01T00:35:01.146042", "content": "Hi John Oh brilliant Ill give that a shot If I was to send videos and audios etc would base64 be best for that Like a universal content type Thanks Kieran"},
{"id": 403110, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-23T23:24:06Z", "scrap_date": "2024-05-01T00:35:01.147043", "content": "Hey Smiffy I am not pretty sure whether base64 is best for videos and audios I am in the learning stage May someone give you advice about that By the way have you tried my code Is it working Cheers John"},
{"id": 403111, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-25T22:12:16Z", "scrap_date": "2024-05-01T00:35:01.147043", "content": "Amazon implements all of this for you in awsamplify httpsaws github ioawsamplify httpsaws github ioawsamplifymediastorage_guide"},
{"id": 403112, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T09:32:52Z", "scrap_date": "2024-05-01T00:35:01.148043", "content": "Hi John Serious apologies did not mean to keep you waiting I was kept well busy being on call in work Havent even had time to look at my own stuff Thanks a million for your help Hopefully I will have time to try this soon Again sorry for the delay and thanks Kieran"},
{"id": 403113, "question_id": 4031, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T09:33:26Z", "scrap_date": "2024-05-01T00:35:01.149043", "content": "Hi Jonsmirl Havent tried this Thanks for showing it and I will give it a shot Kieran"},
{"id": 44632, "question_id": 4463, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T18:32:12Z", "scrap_date": "2024-05-01T00:35:01.897443", "content": "I dont know the specific answer here and I have some other questions in another thread about some other serverless yml parameters docs are sparse What I have found is that in a lot of cases the keywords syntax usage etc in serverless yml often maps directly or pretty closely to cloudformation For instance these might help httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesapigatewayusageplanquotasettings html httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesapigatewayusageplanthrottlesettings html"},
{"id": 44633, "question_id": 4463, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-09T19:05:25Z", "scrap_date": "2024-05-01T00:35:01.899444", "content": "Ah thanks very much I guess it makes sense that a lot of this would be passthrough I will look there "},
{"id": 45442, "question_id": 4544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-21T06:30:43Z", "scrap_date": "2024-05-01T00:35:02.921328", "content": "From my openwhisk console I am getting an endpoint via which i am able to invoke my function But on deploying via serverless framework I get the above HTTP 502 error on the console though my code gets deployed but no endpoints are created"},
{"id": 45443, "question_id": 4544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T04:03:57Z", "scrap_date": "2024-05-01T00:35:02.922327", "content": "Solved it by myself Had to pass another parameter as OW_APIGW_ACCESS_TOKEN "},
{"id": 45444, "question_id": 4544, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T04:29:31Z", "scrap_date": "2024-05-01T00:35:02.923569", "content": "Nice to hear your problem is fixed May I ask to reformat your original question with proper code format"},
{"id": 45462, "question_id": 4546, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-22T10:55:13Z", "scrap_date": "2024-05-01T00:35:03.792568", "content": "I think youre indentation is incorrect for private true Try something like"},
{"id": 45463, "question_id": 4546, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T13:39:38Z", "scrap_date": "2024-05-01T00:35:03.793574", "content": "Thank you so much I had tried that before to no avail Must have been something else at the time "},
{"id": 45492, "question_id": 4549, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-23T10:02:31Z", "scrap_date": "2024-05-01T00:35:04.872415", "content": "Found another forum discussing the same httpsgithub comserverlessserverlessissues4539 Looks like currently its not supported but the workaroundsupport is provided here httpsgithub comserverlessserverlessissues3362"},
{"id": 45493, "question_id": 4549, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-23T12:36:48Z", "scrap_date": "2024-05-01T00:35:04.873415", "content": "The Serverless Framework generally allows you to override the default configuration for resources by providing your own in the resources section If you can do it with Cloud Formation you can probably do it with the Serverless Framework The issue you reference is about having an easy way to configure it and there isnt an easy way "},
{"id": 45502, "question_id": 4550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-23T12:27:08Z", "scrap_date": "2024-05-01T00:35:05.742454", "content": "The simplest solution I can think of will look something like"},
{"id": 45503, "question_id": 4550, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-24T04:17:24Z", "scrap_date": "2024-05-01T00:35:05.743821", "content": "Nice I think it works Thanks Learnt about the new syntax"},
{"id": 43762, "question_id": 4376, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-04T09:51:10Z", "scrap_date": "2024-05-01T00:35:06.454842", "content": "Hi Ive gotten this error twice It happens error after having reset the password of my Windows user The solution for me has been to go into Docker Settings Shared Drives click Apply and then input my new password "},
{"id": 46582, "question_id": 4658, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T02:56:05Z", "scrap_date": "2024-05-01T00:35:07.341661", "content": "It depends There are definitely ways to do it I moved all of the mapping templates for AppSync out of the main serverless yml "},
{"id": 46682, "question_id": 4668, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-05T13:19:03Z", "scrap_date": "2024-05-01T00:35:08.426579", "content": "So turns out I was completely reading the error messages incorrectly and what was actually happening was that both the s3 destination config and the kinesis event stream config need their own access roles but the error messages dont go any deeper than the top level resource"},
{"id": 47292, "question_id": 4729, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-11T23:42:17Z", "scrap_date": "2024-05-01T00:35:09.511658", "content": "Have you tried None of the profiles in my awscredentials file have profile in front of the profile name "},
{"id": 47293, "question_id": 4729, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T16:54:38Z", "scrap_date": "2024-05-01T00:35:09.512658", "content": "The [profile wfweb] is in the config file not the credentials one I will give that a try Still think this is a bug in the fact that the aws cli allows me to use the profile but the awsprofile seems to be only looking in the credentials file "},
{"id": 47294, "question_id": 4729, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-13T17:34:04Z", "scrap_date": "2024-05-01T00:35:09.513659", "content": "Appears that copying the section to the awscredentials file removing the profile part does work so my guess is that the sls is not using both files the way the aws CLI does copying the source_profile bit into the credentials is my workaround Can we log this as a bug"},
{"id": 47295, "question_id": 4729, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T00:55:01Z", "scrap_date": "2024-05-01T00:35:09.514659", "content": "Bugs should be logged at httpsgithub comserverlessserverlessissues"},
{"id": 47296, "question_id": 4729, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-14T15:11:56Z", "scrap_date": "2024-05-01T00:35:09.514659", "content": "Opened new issue httpsgithub comserverlessserverlessissues5048"},
{"id": 42152, "question_id": 4215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-12T10:54:59Z", "scrap_date": "2024-05-01T00:35:10.491658", "content": "Thanks to post this update My understand is serverless framework only takes care of lambda iam role and its policy in block of provider iamRoleStatements If you need manage IAM role to API Gateway you can directly copypaste the sample codes from your URLs to Resources block as normal cloudformation jsonyaml codes "},
{"id": 42153, "question_id": 4215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-01T10:02:18Z", "scrap_date": "2024-05-01T00:35:10.492658", "content": "Just to save people a few clicks At present cloudformation does not support apigateway resource policies The following issue has been created on serverless you could subscribe to this to be notified when cloudformation supports it so someone is able to implement it in serverless 1 If you have a question and not a bugfeature request please ask it at h ttpforum serverless com 2 Please check if an issue already exists so there are no duplicates 3 Check out and follow our Guidelines httpsgithub comserverlessserverlessblobmasterCONTRIBUTING md 4 Fill out the whole template so we have a good overview on the issue 5 Do not remove any section of the template If something is not applicable leave it empty but leave it in the Issue 6 Please follow the template otherwise we will have to ask you to update it This is a Feature Proposal Description Recently API Gateway April 2nd 2018 started providing resource policy to handle each API Which includes blacklisting IP or allowing denying IP This is currently only supported by the API Gateway API AWS console AWS SDK and not yet by CloudFormation which I am guessing is why it is not yet supported by Serverless [Announcement] httpsaws amazon comaboutawswhatsnew201804amazonapigatewaysupportsresourcepolicies [Blog for consolebased setup] httpslobster1234 github io20180414amazonapigatewayipwhitelisting Probably best to wait for CloudFormation to catch up on this so I am just registering for a future task For feature proposals IP Blacklisting or allowing a certain type of method Basically IAM type policy but without creating IAM rolepolicy Json input or parameter based information can be set up Note [Forum Question in relation] httpsforum serverless comtapigatewayresourcepolicy4215 "},
{"id": 42154, "question_id": 4215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-14T21:12:32Z", "scrap_date": "2024-05-01T00:35:10.495659", "content": "While the CF support is being developed is their a recommend way of implementing a resource policy after Serverless deploy has been executed"},
{"id": 48362, "question_id": 4836, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-22T01:54:40Z", "scrap_date": "2024-05-01T00:35:11.051691", "content": "mgstigler Bugs should be reported at httpsgithub comserverlessserverlessissues"},
{"id": 48132, "question_id": 4813, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-21T04:20:14Z", "scrap_date": "2024-05-01T00:35:11.838728", "content": "You dont need to log into your Serverless account to use Serverless Generally speaking Id advise against using serverless login"},
{"id": 48133, "question_id": 4813, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-21T18:54:04Z", "scrap_date": "2024-05-01T00:35:11.839729", "content": "thanks for the advise i will try but fyi I see below when i try to run serverless run"},
{"id": 48134, "question_id": 4813, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-22T01:56:26Z", "scrap_date": "2024-05-01T00:35:11.839729", "content": "mehrotraprateek Are you signed up for the Serverless Platform Beta You might need to contact someone at Serverless Inc for support with that I dont think many people here are using it "},
{"id": 48382, "question_id": 4838, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-22T02:09:56Z", "scrap_date": "2024-05-01T00:35:12.598013", "content": "The Lambda triggers for your Cognito User Pool are part of the Cognito User Pool configuration in CloudFormation so you cant use a preexisting user pool as an event source for a function setup in serverless There may be a third party plugin to allow you to work around this I havent looked that will update the user pool after the functions have been deployed You may be able to create your user pool via CloudFormation then modify it manually without those change be overriden during the next deployment Ive been able to do that with some but not all settings The only way to know for sure is to test it "},
{"id": 39722, "question_id": 3972, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-04-28T20:56:17Z", "scrap_date": "2024-05-01T00:35:13.371792", "content": "I did it by requiring typescript from a Javascript file like this Update I discovered that this approach can cause problems when using serverless offline as it invokes the expensive register method every time you invoke a lambda function I found moving the require outside helps"},
{"id": 33462, "question_id": 3346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-24T06:30:18Z", "scrap_date": "2024-05-01T00:35:13.897151", "content": "eric snyder did you find the workaround or fix this issue I am getting the same problem while installing MySQL package "},
{"id": 33463, "question_id": 3346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-25T13:51:41Z", "scrap_date": "2024-05-01T00:35:13.898151", "content": "Anyone find an answer to this"},
{"id": 49802, "question_id": 4980, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-05T22:59:13Z", "scrap_date": "2024-05-01T00:35:14.953053", "content": "No log typically means your Lambda isnt being invoked You can try invoking it manually from the console using a test event to see if that creates a log entry If it creates a log entry that way but not via the API GW then youre probably using the wrong URL to trigger it "},
{"id": 49803, "question_id": 4980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T07:43:20Z", "scrap_date": "2024-05-01T00:35:14.955061", "content": "hi buggy thanks for the response there is a log but there is no error log and if i invoke via test event it said timeout after 10 seconds i try increase the timeout but it keep get timeout after xx seconds it look the callback is not called triggered any suggestion to check"},
{"id": 49804, "question_id": 4980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T07:44:24Z", "scrap_date": "2024-05-01T00:35:14.955061", "content": "if i am using same code copy paste to other function its working normally "},
{"id": 49805, "question_id": 4980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T07:52:11Z", "scrap_date": "2024-05-01T00:35:14.956059", "content": "Are you using the Node 8 10 runtime with an async handler If you are then remove the async I wrote a blog post about How async Lambda handlers work in Node 8 10 because its a common mistake that could cause something like this "},
{"id": 49806, "question_id": 4980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-09T08:11:33Z", "scrap_date": "2024-05-01T00:35:14.957059", "content": "yes i am using async but not sure node version i will check and test first thank you very much for the help"},
{"id": 50082, "question_id": 5008, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-08T11:44:54Z", "scrap_date": "2024-05-01T00:35:16.037680", "content": "If you want to use GraphQL then have a look at AppSync before you build a custom GraphQL server using Lambda "},
{"id": 50083, "question_id": 5008, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-10T11:03:31Z", "scrap_date": "2024-05-01T00:35:16.039680", "content": "Checking it out now and it seems promising thanks But the question still stands as I wonder how to access a static file "},
{"id": 27662, "question_id": 2766, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-09-26T15:48:17Z", "scrap_date": "2024-05-01T00:35:16.953158", "content": "Sometimes a little more time is needed almost immediately after posting this I tried prefixing the path with a This works "},
{"id": 27663, "question_id": 2766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-10T03:38:13Z", "scrap_date": "2024-05-01T00:35:16.954155", "content": "Where is this proxy documented This is exactly the solution Im looking for but Ive been pouring over docs for a few nights and havent run across this anywhere "},
{"id": 27664, "question_id": 2766, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-10T11:42:29Z", "scrap_date": "2024-05-01T00:35:16.955157", "content": "This is an AWS configuration It isnt specific to Serverless httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewaysetupsimpleproxy html"},
{"id": 50182, "question_id": 5018, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-10T11:59:00Z", "scrap_date": "2024-05-01T00:35:18.101016", "content": "Im not really seeing the problem here Are youre suggesting that if you serve the data wrapped in a HTML template then its secure but if you send JSON from an API endpoint its suddenly not Give how easy it is to scrape a data driven HTML site precisely because every page is rendered using a template I dont see the problem Your API endpoint has the exact same problems that your PHP page did If you need to restrict access to the endpoint then just use an authorizer You can store a token in local or session storage and automatically include it in the header with your AJAX request This is no worse than having PHP send cookies back and forth between the client and the server "},
{"id": 50183, "question_id": 5018, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-10T12:45:14Z", "scrap_date": "2024-05-01T00:35:18.103016", "content": "I agree buggy But two things are different here But yeah in the end it is similar And for private routes we can use authorizers Thanks for clarification "},
{"id": 50332, "question_id": 5033, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T05:29:18Z", "scrap_date": "2024-05-01T00:35:19.096379", "content": "To request a new feature please use the Github issues Its where the developers mostly hang out "},
{"id": 13512, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-02-22T21:52:51Z", "scrap_date": "2024-05-01T00:35:20.227592", "content": "I build my handers in a way that I separate my internal functions which I unit test and easiliy from my functions that require access to external resources like the awssdk On principal I try avoid testing things I dont own Its not always possible "},
{"id": 13513, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-22T23:42:43Z", "scrap_date": "2024-05-01T00:35:20.228592", "content": "1 and then test the endpoints with Mocha "},
{"id": 13514, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-05T07:29:22Z", "scrap_date": "2024-05-01T00:35:20.229593", "content": "Hi thanks for the response Ive structured my functions similarly however this isnt always possible and a need for mocking does occassionally arise I was wondering if anyone had a solution"},
{"id": 13515, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-29T15:52:21Z", "scrap_date": "2024-05-01T00:35:20.230593", "content": "hassankhan perhaps my answer here would help "},
{"id": 13516, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-22T02:57:57Z", "scrap_date": "2024-05-01T00:35:20.230593", "content": "I managed to use awssdkmock with Jest in the end although I am using Typescript as well Going to put my code up here in case it helps anyone in the future import ExternalError from errorsExternalError import ResourceNotFoundError from errorsResourceNotFoundError import ValidationError from errorsValidationError export interface IDynamoDBItemKey [name string] string export default class DynamoDBAdapter protected client DynamoDB DocumentClient constructor client DynamoDB DocumentClient this client client public scan tableName string limit number 100 public query tableName string keys IDynamoDBItemKey limit number 100 public batchGet tableName string keyName string keyValues string[] public get tableName string key IDynamoDBItemKey public put tableName string item T Promise public delete tableName string key IDynamoDBItemKey Promise import AWS from awssdk import MockAWS from awssdkmock import DynamoDBAdapter from srcadaptersDynamoDBAdapter MockAWS setSDKInstance AWS describe DynamoDBAdapter let adapter DynamoDBAdapter describe batchGet describe get describe put describe delete "},
{"id": 13517, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-06-26T22:01:38Z", "scrap_date": "2024-05-01T00:35:20.233594", "content": "I have broken up my testing into two different techniques unit and integration tests Unit tests are pretty straight forward I attempt to break out code from my lambdas into independent modules and then invoke them from within unit tests like normal Purely functional or limited mocking no aws service code allowed in these tests However this still leaves my actual lambda handler code untested without more complex mocking Therefore I actually test my handlers with integration tests instead of unit tests To do integration testing I rely heavily on Docker To start with I create a dockercompose yml file which launches all of my mock services which my lambdas are dependent on When I run integration tests I am using mocha and in global before after functions I am shell execing dockercompose up and dockercompose down to launch those services After they are done starting up I then run my integration tests My integration tests are a set of json files and each file creates a single mocha test e g it which loads the file and invokes a lambda using the data in the file which look a little bit like this I have multiple groups of lambdas which I call an app Each one has its own serverless yml file in this case one called feeds I then specify which handler I am wanting to call in this case one called http2s3 It then grabs the event object and invokes the lambda passing in that data as the event data To invoke the lambda I am using another docker container called lambcilambda which I then put in the same virtual network as my mock services and when invoked runs my code locally in a near perfect simulation of a lambda container The lambda container then emits the results of that invocation as json which I can parse and compare to the expectedResults field using json schema validation The code to do this looks like this The other mock services as they are starting up such as the mockapi also looked at the same test files and setup routes based on the routes in the test files They then respond with the predefined payloads when the tests call them I also have a env file which allows me to override endpoints and other settings on awssdk clients to point to local mocks instead of aws services in the cloud For example the above http2s3 test is configured in the env file with this line And then in the dockercompose yml file I am running a s3rver server And then in my lambda I am loading configuration for s3 from environment variables using nconf Because the values in the env file are being loaded into the docker container as environment variables e g e aws_s3_endpointhttps3rver5000 nconf is then loading it into a config object which I can use to configure the s3 client like so This allows me to test my handler without needing to connect to aws at all everything is running locally I also dont need any conditional code in the lambda which would behave differently when running locally vs in production I also dont need to setup complex mocks per test though I am now mocking entire services Ive found that most major services already have free docker containers for this purpose And most other things can be mocked with a simple http server call and response The tests are not fast about 3s per invocation plus aproximately 10s for startupshutdown of dockercompose Because of this speed or lack there of my goal is to write a single integration test per lambda and then rely on unit tests as much as possible "},
{"id": 13518, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-26T23:00:04Z", "scrap_date": "2024-05-01T00:35:20.237595", "content": "Wow thank you for the detailed reply Ive done things a little differently I have my Serverless projects and a shared lib module The lib module is covered by unit tests and any functionality relating to AWS services is mockedstubbed out The Serverless projects themselves are mostly integration tested by deploying a test stage that includes all CloudFormation resources and running a series of fetch calls against it I have just under 80 tests for one Serverless project 18 functions30 endpoints and running it against a deployed API finishes in just under a minute"},
{"id": 13519, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-27T04:39:49Z", "scrap_date": "2024-05-01T00:35:20.238595", "content": "This is really cool Thanks for sharing It does seem like a complex setup would you recommend it Has it caught bigbad errors before deploy The tests are not fast about 3s per invocation plus aproximately 10s for startupshutdown of dockercompose Because of this speed or lack there of my goal is to write a single integration test per lambda and then rely on unit tests as much as possible Would it not be almost faster to depoy to a test environment in AWS"},
{"id": 135110, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-27T23:29:50Z", "scrap_date": "2024-05-01T00:35:20.239596", "content": "Im not sure yet I do like it mostly and am going to go down the path further for now but I do wish it was faster Its definitely faster than a deploy and has the benefit of not needing to be online to run so those are pluses It is kind of complex though but it may be less complex than mocking with something like sinon Ideally amazon would release an entire local simulator that would simplify things but lacking that its not too terribly bad with Docker "},
{"id": 135111, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-28T00:53:45Z", "scrap_date": "2024-05-01T00:35:20.240596", "content": "Thanks for the extra info I just dont see a local simulator ever happening If AWS cant even keep CloudFormation up to date with all the releases how could they keep another thing up to date especially since its just for testing purposes "},
{"id": 135112, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-30T21:54:31Z", "scrap_date": "2024-05-01T00:35:20.241596", "content": "If only they had a way to test those versions before deploying them like a local simulator or something But yes I agree its not likely Each individual service releasing its own container version is an ok workaround "},
{"id": 135113, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T11:59:09Z", "scrap_date": "2024-05-01T00:35:20.242596", "content": "justinmchase although its an old topic I was wondering if after a year your testing methodology has changed Are you still using docker and mocks From my experience testing only locally does not catch all the integration problems that weve encountered I actually run my tests in the cloud although I pay in other areas like But in the end we managed to catch more problems with this solution"},
{"id": 135114, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T12:15:23Z", "scrap_date": "2024-05-01T00:35:20.243597", "content": "If you follow the one Lambda one function principle then I find it easy to write tests with Jest Ill mock the externals dependencies call the handler and check the return value plus calls to the external dependencies "},
{"id": 135115, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T12:23:02Z", "scrap_date": "2024-05-01T00:35:20.244597", "content": "buggy I agree with you when were talking about testing your business logic but in the end integration tests do not test your logic they test that all of your components are well configured and are behaving as expected Ill take me as an example in addition to the regular services that probably everybody use like S3 RDS or DynamoDB Im also using AWS Rekognition image analysis and Im using Googles Firestore as persistent service for my mobile devices its complicated to mock and orchestrate everything locally "},
{"id": 135116, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T13:07:42Z", "scrap_date": "2024-05-01T00:35:20.245597", "content": "Mocking shouldnt be complicated By mocking my external dependencies and testing the handler as a whole I can test more than just business logic I can also simulate error conditions in external services and be certain how my handler will respond Im also using TypeScript and I take advantage of interfaces For example If Lambda A publishing a message to an SNS topic that Lambda B will read from then I have a common interface that is used by both Lambda A B If I forget to put a attribute into the message in Lambda A or try using a one that doesnt exist in Lambda B then TypeScript will generate an error long before I even get to the test stage This gives me a high level of confidence when I ship At the end of the day you still need to test in a real environment Staging QA production and you need monitoring in production because silly things happen like putting the wrong value into an environment variable "},
{"id": 135117, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T13:24:11Z", "scrap_date": "2024-05-01T00:35:20.246598", "content": "buggy how do you verify that the code you wrote for your mobile device plays nicely with an api gw that you provisioned you wont convince me that mocking is going to give you this certainty In the end serverless might and will contain components written in multiple languages especially in big projects As a developer seeing my code running and being tested for the first time in a real cloud environment only during CI is not a responsibility Im willing to take In a nutshell for me finding out bugs in CI that I could have found during testing on my own in a real cloud environment is just wrong "},
{"id": 135118, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T14:48:40Z", "scrap_date": "2024-05-01T00:35:20.248598", "content": "The original question was about testing your Lambda functions What Ive described is how I test my Lambda functions What you seem to be asking is how do you test your client Thats not a serverless architecture or framework specific problem as any clientserver architecture is going to have this problem In nonserverless environments its a little easier to solve because developers can easily run the backend locally but in serverless environments simulators will only get you so far Theres no easy solution for how do i emulate big expensive service locally At some point you may need to have separate accounts your developers can use One solution that may help is the API gateway pattern Im doing this with a GraphQL API My clients only interact with the backend through my GraphQLAPI There is no direct access from the client to any other service I can download the latest GraphQL schema in JSON format generate TypeScript interfaces for it against the queries that I plan to run validating them in the process and then use those interfaces in my code If the schema changes in a way that isnt compatible with the client then either TypeScript or apollocodegen will raise an error before tests are run Its not 100 full proof but it gives me enough confidence As a bonus it also makes it easy to switch service providers If I need to switch external providers for some reason I only need to modify the gateway to use the new service provider Its quick and painless If my client is accessing multiple service providers directly then I need to update the client ship it and wait for everyone to upgrade before I can remove the old provider "},
{"id": 135119, "question_id": 1351, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T15:13:32Z", "scrap_date": "2024-05-01T00:35:20.250599", "content": "Im not asking how to test my client Im asking how do I test my system as a whole which includes a client as well as other external services Your solution works very well when you are the sole provider of all interfaces in the system the idea of serverless is consuming services by other providers not only AWS unfortunately most of them event the good ones do not provide any consistent and testable interface I do agree with you that its not a problem that is specific for serverless system but its amplified when moving to a serverless platforms Regarding your comment At some point you may need to have separate accounts your developers can use Ill be honest its not feasible with the current AWS offering its quite expensive to open and provision certain services to all developers I do not have a solution but its a real problem In the end what I wanted to emphasise is that concentrating only on Lambda testing is just dangerous"},
{"id": 43072, "question_id": 4307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-28T14:14:26Z", "scrap_date": "2024-05-01T00:35:21.152152", "content": "i am having the same issue right now did you come to any solution"},
{"id": 43073, "question_id": 4307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-28T18:13:26Z", "scrap_date": "2024-05-01T00:35:21.153152", "content": "You can invoke any function locally with sls invoke local f myFunction p pathtodata json l or sls invoke local f myFunction d myEventcontent Look here for the AWS S3 Event Message Structure And here for Sample S3 Events Or if you have a function deployed you can console log event as the first line of your function and capture an actual event as it fires "},
{"id": 43074, "question_id": 4307, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T13:26:51Z", "scrap_date": "2024-05-01T00:35:21.154153", "content": "serverlesss3local may help you This plugin supports s3 events to start lambda functions Please see the simple_event example "},
{"id": 39622, "question_id": 3962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T18:38:12Z", "scrap_date": "2024-05-01T00:35:21.850746", "content": "Were you able to get this figured out If so would you share your solution Im running into the same problem "},
{"id": 39623, "question_id": 3962, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-11T21:36:51Z", "scrap_date": "2024-05-01T00:35:21.851746", "content": "Have you created the distribution in the same serverless configuration If you have the cloudfront distribution definition in your template such as You can use You refer to the resource you created for your distribution i e in this case MyCloudfrontDistribution If you didnt create the distribution in this cloudformation albeit within serverless template you can output the value in your other template then retrieve the value using FnImportValue"},
{"id": 31422, "question_id": 3142, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-07T20:35:19Z", "scrap_date": "2024-05-01T00:35:22.942547", "content": "Any solution to this Im attempting to setup a similar dev environment and interested on how to breakpoint within pycharm Most solutions Ive seen are using node and VSCode "},
{"id": 31423, "question_id": 3142, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-06T05:23:08Z", "scrap_date": "2024-05-01T00:35:22.943547", "content": "Any solution for this Seems like a fundamental feature need to be able to debug Python functions through SLS Please help "},
{"id": 31424, "question_id": 3142, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-18T18:09:42Z", "scrap_date": "2024-05-01T00:35:22.944548", "content": "It looks like good solution I was developing an Alexa skill using Python in AWS Lambda and wanted to make my local development workflow as seamless as possible One Reading time 3 min read"},
{"id": 51642, "question_id": 5164, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-20T08:28:11Z", "scrap_date": "2024-05-01T00:35:23.796788", "content": "I havent tried to do it this way Usually I just open up two terminal windows side by side and have each log a different function "},
{"id": 51772, "question_id": 5177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-22T00:46:44Z", "scrap_date": "2024-05-01T00:35:24.743479", "content": "Was CORS enabled on the API Gateway manually If so try removing it manually and then deploying with Serverless "},
{"id": 51773, "question_id": 5177, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-23T08:54:34Z", "scrap_date": "2024-05-01T00:35:24.744476", "content": "Thanks that helped Removed OPTIONS method for api which was created when i manually enabling CORS "},
{"id": 50602, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-13T07:34:01Z", "scrap_date": "2024-05-01T00:35:25.803404", "content": "I havent done it myself yet but do plan to eventually It looks like what you need to do is use the CloudFormation from those articles and convert into the correct yaml you can use in the resources section of your serverless yml to create your DAX cluster etc Maybe someone else has some more complete advice but thats where I would start "},
{"id": 50603, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-13T07:37:12Z", "scrap_date": "2024-05-01T00:35:25.804405", "content": "Yup the CloudFormation is only 1 part of the puzzle though Apparently lambdas dont like to be confined to a VPC and additional config needs to be done to allow them to communicate with the rest of the Internet Ive found separate guides as linked above and I was wondering whether the Serverless framework had any implementation "},
{"id": 50605, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T02:07:29Z", "scrap_date": "2024-05-01T00:35:25.805405", "content": "The Serverless Framework is a deployment tool It just reduces the amount of CloudFormation template you need to write Anything you can do with CloudFormation you can do with it Your biggest problem is that accessing a DAX cluster requires you to deploy your Lambda inside a VPC That introduces all of the VPC limitations plus your Lambda will have approximately 10 seconds of additional latency during gold start while the EIN is attached "},
{"id": 50606, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T12:39:37Z", "scrap_date": "2024-05-01T00:35:25.806406", "content": "Hi laboro18 Ive created VPC to use with my RDS and ES instance Ive shared a gist for any questions lets communicate through the gist "},
{"id": 50607, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-19T22:05:11Z", "scrap_date": "2024-05-01T00:35:25.806406", "content": "That introduces all of the VPC limitations plus your Lambda will have approximately 10 seconds of additional latency during gold start while the EIN is attached Does this mean that using ServerlessLambda inside a VPC renders Lambdas fairly useless We do all of our work inside VPCs and I really want to move our next project to Serverless Do any of the other cloud providers have a better solution for this"},
{"id": 50608, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T02:29:46Z", "scrap_date": "2024-05-01T00:35:25.807406", "content": "useles is a very strong word There are definitely uses for Lambda inside a VPC It really comes down to your use case I believe that Bustle runs Lambda inside a VPC and it works for them It wouldnt work for me because my traffic levels are too sporadic and almost every user would suffer through a cold start "},
{"id": 50609, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T08:31:11Z", "scrap_date": "2024-05-01T00:35:25.808406", "content": "I have had to deploy lambda functions within a VPC before and while it does add a little latency its not on the order of 10 seconds Usually when people suffer the 10 second latency issue its because of the context callbackWaitsForEmptyEventLoop set to true that causes the event loop to wait for the database connection to time out Being in a VPC can add some time on to the cold start but its not 10 seconds At worst I saw an additional second "},
{"id": 506010, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T17:14:16Z", "scrap_date": "2024-05-01T00:35:25.809411", "content": "Keep in mind that Lambda APIG The use case that forced me to put a Lambda in a VPC was communicating with a financial institution that requires sftp request come from a whitelisted IP or block of IPs since they were unwilling to whitelist every IP that AWS could possibly apply to an outbound connection from RandomLambda_01 I had to put it in a VPC But Since this particular Lambda isnt being called interactively by an end user but being scheduled to make calls or triggered by some other event if it takes an extra 10 seconds to run it doesnt really effect anybody So yes useless is way to myopic as a blanket statement on a tool It just may not be a good tool for your use case "},
{"id": 506011, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T17:38:33Z", "scrap_date": "2024-05-01T00:35:25.810407", "content": "Thank you for this That makes me feel much better about moving forward on Serverless with a VPC "},
{"id": 506012, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T17:41:06Z", "scrap_date": "2024-05-01T00:35:25.811407", "content": "Im thinking my use case for a VPC would be to communicate with a database RDS instance that is not publicly accessible From my experience with AWS the only way to do that is to put everything in a VPC I would like to move to a more modern architecture with ephemeral workloads on demand so I dont know if the same requirements exist yet Do you connect to private databases in AWS and can that be done without a VPC"},
{"id": 506013, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T20:41:36Z", "scrap_date": "2024-05-01T00:35:25.812407", "content": "Ive managed to keep everything in this platform in DynamoDB CloudSearch and S3 so havent needed to access RDS or EC2 resources "},
{"id": 506014, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-22T00:32:43Z", "scrap_date": "2024-05-01T00:35:25.812407", "content": "Being in a VPC can add some time on to the cold start but its not 10 seconds At worst I saw an additional second garethmcc The 810 second additional delay on cold start inside a VPC is well documented and even AWS admits it The delay is caused by the time it takes to add an EIN to the Lambda before it can start running your code and has nothing to do with context callbackWaitsForEmptyEventLoop "},
{"id": 506015, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-23T05:02:02Z", "scrap_date": "2024-05-01T00:35:25.813408", "content": "There is a delay But it is not 10 seconds and I have not seen any AWS documentation that says as much From personal experience having Lambdas inside a VPC called by API Gateway then communicating with an RDS database I think the worst delay I saw was 1 5 seconds This isnt reading from a blog post but having it actually running Without a VPC its 1 second so there is a difference but it is not 10 seconds "},
{"id": 506016, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T03:29:45Z", "scrap_date": "2024-05-01T00:35:25.814408", "content": "garethmcc Can you share how youre configuring your Lambda and how youre measuring cold starts"},
{"id": 506017, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T05:14:02Z", "scrap_date": "2024-05-01T00:35:25.815408", "content": "I no longer work at the company I did this at so dont have access to the code I wrote there However it was not very complicated We had multiple services with Lambdas inside a VPC making SQL requests to multiple RDS databases using the Sequelize ORM I didnt need to check whether a specific instance of a Lambda was a cold start because we had no Lambda executions exceed 2 seconds I do recall these 2 seconds executions occurred immediately after redeploying changes to a Lambda which forces a cold start as the new code replaces the old But our general metrics showed no Lambda executing beyond 2 seconds as a maximum What we did find was 10 second stall happening because of the previously mentioned context callbackWaitsForEmptyEventLoop being set to true by default causing the Lambda to wait for the database connection to drop before executing the callback This is where I see most people end up having issues with a 10 second wait when dealing with RDS database "},
{"id": 506018, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T05:52:15Z", "scrap_date": "2024-05-01T00:35:25.816409", "content": "The problem youre describing does exist and can be fixed as you described but this isnt the cold start problem This article does a good job of explaining the additional latency for Lambdas inside a VPC httpsmedium freecodecamp orglambdavpccoldstartsalatencykiller5408323278dd"},
{"id": 506019, "question_id": 5060, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-24T06:23:17Z", "scrap_date": "2024-05-01T00:35:25.817409", "content": "Interesting read but I have never seen an effect like that on my lambdas running in a VPC Nothing like 10 seconds latency and this is a backend service serving thousands of requests a day All I can say is none of my experience thus far has shown these results It doesnt matter what articles you might point to it doesnt change the reality I saw on a daily basis for over a year "},
{"id": 48912, "question_id": 4891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-29T00:09:15Z", "scrap_date": "2024-05-01T00:35:26.345850", "content": "It seems rather pointless to recreate the bucket and delete all its previous contents every time I deploy the lambda with slight changes Why do you think this is going happen"},
{"id": 48913, "question_id": 4891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-09T17:18:42Z", "scrap_date": "2024-05-01T00:35:26.346848", "content": "Perhaps the original poster was referring to my example below running sls deploy will create the bucket If I change the bucket name the original bucket is deleted However I noticed if there are objects in the bucket then the deploy fails which is much better than deleting files in the bucket "},
{"id": 54702, "question_id": 5470, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T04:46:01Z", "scrap_date": "2024-05-01T00:35:27.418461", "content": "This is a bad idea Use SQS or SNS to trigger Lambdas for background tasks only If your API response depends on those tasks completing then they should be done in the original Lambda"},
{"id": 54582, "question_id": 5458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T04:35:46Z", "scrap_date": "2024-05-01T00:35:28.254601", "content": "For both cost and performance reasons its usually better to invoke the Lambda directly or use SNS for asynchronous requests rather calling other API via the API gateway If you still need to work out the API Gateway URL then check out How to I get my API Gateway URL with the Serverless Framework"},
{"id": 54583, "question_id": 5458, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T10:55:26Z", "scrap_date": "2024-05-01T00:35:28.255608", "content": "Thanks I just found it I will take a look at invoking the Lambda directly though This is a very lowvolume API where neither cost nor performance is a big deal but I do want to learn good practice Thanks again for your response "},
{"id": 54252, "question_id": 5425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-14T13:17:52Z", "scrap_date": "2024-05-01T00:35:29.134666", "content": "Enable the SLS_DEBUG by running export SLS_DEBUG and then run it again I suspect that there is a new limitation introduced to one of your configurations in your serverless yml file If that doesnt help you solve it please post the results here "},
{"id": 54253, "question_id": 5425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T18:39:11Z", "scrap_date": "2024-05-01T00:35:29.136663", "content": "I apologize for my lack of knowledge but where do I enable SLS_Debug I created a powershell script to handle the packaging and deployment to AWS so I donaTMt know where to do it "},
{"id": 54254, "question_id": 5425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-18T00:18:10Z", "scrap_date": "2024-05-01T00:35:29.136663", "content": "You can do that right in your terminal Or perhaps add that to your powershell script "},
{"id": 54822, "question_id": 5482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T16:06:14Z", "scrap_date": "2024-05-01T00:35:30.224923", "content": "Hello no solution but one try Ive the exact same problem with buckets I want them to stay what ever happen to the serverless projectfunction So I used DeletionPolicy Retain Fine for the first run and until you keep the associate CloudFormation stack living But when I drop the stack in order to rebuild with a somehow different design but reusing data thus the bucket I can not find any way to do that with serverless Try Could not find any way to get arn dynamically with serverless maybe I can provide input variables an existing arn for the existing bucket or the computed expected bucket arn it is possible with bucket but not for mush resources but for other resources the arn might not be computed in advance Looks like a simple requirement I do not want to loose my data But cant figure how to do it with serverless Code portion to illustrate Custom option to disable bucket creation using Conditions So not creating those buckets can be achieved with AWS_PROFILEserverless serverless deploy createBucket no But it fails because of the reference in another resource Error is obviously about the missing resource disable by the condition Is there a way to achieve this I do not want to loose my data "},
{"id": 54823, "question_id": 5482, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-18T09:25:07Z", "scrap_date": "2024-05-01T00:35:30.226920", "content": "placplacboom I would expect this happen if youre removing the stack between deployments but not if youre only deploying Serverless uses CloudFormation for deployments and if you tell CloudFormation to create a resource that already exists it will fail Stack updates which is what happens if you use sls deploy without doing an sls remove in between will be ok because the stack will continue using the resource it created earlier placplacboom and smougenot you should think of DeletionPolicy Retain as a fail safe that stops data from being removed if someone screws up and accidentally deletes the CloudFormation stack Dont use it as a way to keep data between deleting and recreating a stack If you want to do that then you need to look at putting those resources into their own CloudFormation stack and using cross stack references See httpsserverless comframeworkdocsprovidersawsguidevariablesreferencecloudformationoutputs for more information "},
{"id": 53462, "question_id": 5346, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-06T01:07:07Z", "scrap_date": "2024-05-01T00:35:31.206391", "content": "You can use FnGetAtt to return the ARN for a queue httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiessqsqueues html"},
{"id": 53463, "question_id": 5346, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-17T00:55:47Z", "scrap_date": "2024-05-01T00:35:31.207391", "content": "It wont work Ive changed my code to use FnGetAtt but still not working If I replace sqs attribute value with string arnawssqsuseast1XXXXXXXXwaitingdev it works like a charm Also Ive print FnGetAtt [WaitingSQS Arn] using environment variable and looks correct but I have no idea on whats wrong Any idea buggy"},
{"id": 53464, "question_id": 5346, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-19T13:51:47Z", "scrap_date": "2024-05-01T00:35:31.208471", "content": "Fixed I was trying to update resources instead of run sls remove and a sls deploy After that I run sls remove it works like a charm Thx"},
{"id": 54842, "question_id": 5484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-18T09:00:40Z", "scrap_date": "2024-05-01T00:35:32.243877", "content": ""},
{"id": 54843, "question_id": 5484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-18T12:51:41Z", "scrap_date": "2024-05-01T00:35:32.243877", "content": "Rich Thanks very much Ive done 12 I can do 3 now that I know how where to look"},
{"id": 54844, "question_id": 5484, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-19T17:39:22Z", "scrap_date": "2024-05-01T00:35:32.244878", "content": "Thanks Found all the bits and pieces scattered all over hellandgone by npm The issues came from developing python3 in a pipenv and having sls installed global How should I install serverless global or in the venv"},
{"id": 57572, "question_id": 5757, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-11T12:23:16Z", "scrap_date": "2024-05-01T00:35:32.924784", "content": "You might want to open an issue in the Serverless Framework GitHub repository There is even a template provided when you create one "},
{"id": 57573, "question_id": 5757, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-12T13:59:48Z", "scrap_date": "2024-05-01T00:35:32.925784", "content": "Thanks Teddy I have submitted an issue "},
{"id": 57672, "question_id": 5767, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-12T20:17:24Z", "scrap_date": "2024-05-01T00:35:34.033995", "content": "Found it in the documentation Thats what you get for being too tired For others package exclude node_modulesawssdk The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more The Serverless Framework documentation for AWS Lambda API Gateway EventBridge DynamoDB and much more "},
{"id": 31122, "question_id": 3112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-12T19:36:23Z", "scrap_date": "2024-05-01T00:35:34.789846", "content": "Did you ever figure this out Im seeing the same thing It definitey has something to do with the configuration because if you dont supply one it seems to work correctly ish using default log4j settings I guess "},
{"id": 31123, "question_id": 3112, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-13T08:30:17Z", "scrap_date": "2024-05-01T00:35:34.790843", "content": "Not that I cant remember I handed it over to our API developers and they continued that journey "},
{"id": 59002, "question_id": 5900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-23T13:15:28Z", "scrap_date": "2024-05-01T00:35:35.841829", "content": "Hi Ashwanth can you share your code I suppose that youre not awaiting on Promiseasync function but I might be wrong "},
{"id": 22482, "question_id": 2248, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-07-08T04:48:26Z", "scrap_date": "2024-05-01T00:35:36.682867", "content": "I store my environment variables in the root of my project in a env file thats in the gitignore and Ill load that into a JS file that can be referenced via serverless yml Ex This will allow you to pull your environment variables from a local env file or straight from the environment like in CI "},
{"id": 22483, "question_id": 2248, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-09T13:55:14Z", "scrap_date": "2024-05-01T00:35:36.683867", "content": "Check the serverlesskmssecrets plugin httpsgithub comSC5serverlesskmssecrets It allows you to encrypt variables using KMS The module is still at its early phases some rough edges in the dev experience that need to get polished but gets the job done "},
{"id": 22484, "question_id": 2248, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-10T11:53:05Z", "scrap_date": "2024-05-01T00:35:36.684867", "content": "How do I manage all these desires without committing secrets to git Is there a better way than just never committing serverless yml The long version Read this Keeping secrets out of Git The short version Create a secrets yml that looks something like Add secrets yml to your gitignore Put this into your serverless yml Then reference the secrets like selfcustom secrets API_KEY etc "},
{"id": 22485, "question_id": 2248, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T14:00:14Z", "scrap_date": "2024-05-01T00:35:36.685867", "content": "This might be completely irrelevant but I found it useful If you are using gitlab you can run your deployments from gitlabci and it will store your secrets separately from the repo in the project settings You can easily configure it to deploy automatically for example whenever a tag is added This article talks about it httpsabout gitlab com20160826cideploymentandenvironments"},
{"id": 59262, "question_id": 5926, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-25T00:08:00Z", "scrap_date": "2024-05-01T00:35:37.397107", "content": "Look at the CloudWatch Logs Every time a Lambda executes it will report the execution time and maximum memory used "},
{"id": 44792, "question_id": 4479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-12T03:48:59Z", "scrap_date": "2024-05-01T00:35:38.498820", "content": "Thats a great question The AppSync stuff is so new that Im finding a lot of people are trying to figure out some of the same questions I recommended your question Quora "},
{"id": 44793, "question_id": 4479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-15T01:18:13Z", "scrap_date": "2024-05-01T00:35:38.499817", "content": "The main question that I want to ask you guys is related to the pricing of AppSync Since AWS Lambda costs 0 21M requests and AWS AppSync costs 41M Query httpsaws amazon comappsyncpricing does that mean that AppSync is 20 time more expensive than Lambda For most people AppSync will replace the API Gateway in their stack AppSync is charged at 4million while the API Gateway is charged at 3 50million In both cases Lambda charges are in addition As GraphQL is designed to reduce the number of requests you make to your API I suspect it still works out cheaper even with the slightly higher cost "},
{"id": 44794, "question_id": 4479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-08T23:45:28Z", "scrap_date": "2024-05-01T00:35:38.500834", "content": "buggy sounds like you are comparing AppSync a GraphQL gateway with API Gateway a restful gateway directly is this interpretation of your above post correct In another question in this context is whether you see AppSync Dynamo a comparable alternative route to APIGateway Lambda Dynamo If so then AppSync APIGateway Dynamo in this context Would love to see your view point "},
{"id": 44795, "question_id": 4479, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-09T06:36:52Z", "scrap_date": "2024-05-01T00:35:38.502840", "content": "syang AppSync and the API Gateway are directly comparable in the stack One provides a GraphQL endpoint the other a REST endpoint Everything else remains the same Both AppSync and the API Gateway can proxy to DynamoDB or Lambda AppSync DynamoDB or API Gateway DynamoDB AppSync Lambda DynamoDB or API Gateway Lambda DynamoDB The biggest difference are Personally my default is now AppSync and I only use the API Gateway if I need to provide a REST API "},
{"id": 31992, "question_id": 3199, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-09T08:49:59Z", "scrap_date": "2024-05-01T00:35:39.337006", "content": "I Also have the same question Any help is appreciated "},
{"id": 2852, "question_id": 285, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-13T22:48:53Z", "scrap_date": "2024-05-01T00:35:40.296183", "content": "While this question is more an opinionated question and imo does not belong here I still feel the need to answer read respond to this There is good and bad tracking Stuff like email marketing automation would probably be filed under bad as long as it is not forum summaries and similar stuff that plays into keeping users in the loop I am very very sure that the data gathered and sent to serverless is not used for marketing automation I understand this just as a general set to get a big and data driven 10k miles overview to make technological and executive decisions Making data based decisions imo is an actually pretty smart move and I would all the time opt in while I would prefer the current state reason being automated setups that are else not tracked and considered in decisions There also is a point that I do not like and that I believe would need improvement I would like to be able to read a page where I can see the exact data set that is gathered and a written promise about what the data will be used for and for what not "},
{"id": 2853, "question_id": 285, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-09-14T15:32:29Z", "scrap_date": "2024-05-01T00:35:40.298183", "content": "kaiser I am little baffled Can you direct me to a more appropriate forum where we can discuss core serverless features and their implementation The tracking element is in serverless core I do appreciate any guidance on this as it is important to clarify The issue is less that companies track data but whether consent was obtained There are quite a few alternatives You could simply ask for volunteers Display a command line message as part of processing Please help us make serverless better by enabling tracking etc People can then choose For example if you wish to contribute you should be able to do so But I wish to not send my data into the cloud by default because I am sceptical of the long term uses Today this is a small young company A bigger meaner company will come and take this data and will use it in different ways What if they wish to analyze who has written certain functions and target you for special attention Once companies feel they can do this it normally expands and becomes bigger Who controls this Where is the policy as you stated Nonetheless my initial issue is simple Just ask the user for permission do not automatically start collecting "},
{"id": 2854, "question_id": 285, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-09-17T13:41:24Z", "scrap_date": "2024-05-01T00:35:40.300184", "content": "kaiser we are not tracking any personal data so we wouldnt even be able to use this for marketing automation but very good point to bring up because that is definitely not what were trying to do with our builtin framework tracking Here is also a more indepth discussion of our tracking and reasons for it And as part of V1 we will also add a more comprehensive documentation about our tracking Here is the pull request implementing the new tracking functionality httpsgithub comserverlessserverlesspull2101 Documentation and notifications in the user commands will be handled in a separate PR "},
{"id": 2855, "question_id": 285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-07T05:43:13Z", "scrap_date": "2024-05-01T00:35:40.301184", "content": "I heard about the PR and it sounds like there are a few people concerned about the introduction of anything that tracks information where tracking is not optional Probably a good idea to open a wider discussion around how features like that should be submittedhandled Some folks will be put off using the framework if features like that are merged in without making them optional and most likely off by default "},
{"id": 2856, "question_id": 285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-11T06:26:35Z", "scrap_date": "2024-05-01T00:35:40.302185", "content": "str3tch mentioned that you can opt out of tracking In case it helps anyone else you can see tracking options using sls tracking help"},
{"id": 2857, "question_id": 285, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2016-10-11T16:38:17Z", "scrap_date": "2024-05-01T00:35:40.302185", "content": "Weve also just merged indepth descriptions on what were tracking how and why httpsgithub comserverlessserverlessblobmasterdocsusagetracking md And the first time were tracking something and creating an anonymous user id were also writing a message about it "},
{"id": 2858, "question_id": 285, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-11T21:54:00Z", "scrap_date": "2024-05-01T00:35:40.303185", "content": "Im one of those people who dislike it when companies track by default I think it would be better to prompt the user during serverless create to enable tracking You could also add a trackingtrue false option to bypass the prompt That way people are consciously opting in to tracking Currently they need to read all of the documentation to realize that tracking is enabled unless they explicitly disable it It just feels like its the wrong default "},
{"id": 2859, "question_id": 285, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-11T22:05:48Z", "scrap_date": "2024-05-01T00:35:40.304185", "content": "Totally understand the feeling I wrote more about why were tracking by default httpsgithub comserverlessserverlesspull2101 Were also now printing a message the first time were tracking and when the anonymous user id is created so everyone really knows whats happening and there are no surprises "},
{"id": 28510, "question_id": 285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-22T12:55:50Z", "scrap_date": "2024-05-01T00:35:40.305185", "content": "I have no problem with the tracking and would have opted in if asked However I am disgusted to find out I am being tracked without my consent Very sour taste Makes me wonder what other secret things are happening This needs to be fixed "},
{"id": 28511, "question_id": 285, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-05T17:05:08Z", "scrap_date": "2024-05-01T00:35:40.306186", "content": "geofftech You can opt out of the anonymous tracking with the serverless slstats disable command If you are curious about what is tracked you can checkout the httpsgithub comserverlessserverlessblobmasterlibServerless jsL83 httpsgithub comserverlessserverlessblobmasterlibclassesUtils jsL121"},
{"id": 35072, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-15T19:20:35Z", "scrap_date": "2024-05-01T00:35:41.083068", "content": "I dont completely understand your question but my question is if you only need to invoke a function locally why even include it in your serverless yml file Any functions in the serverless yml file will be deployed to the provider Can you describe your use case so I can better help you Thanks Rupak Ganguly"},
{"id": 35073, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-15T19:46:58Z", "scrap_date": "2024-05-01T00:35:41.084069", "content": "I do the similar thing differences are I need initialise dynamodb tables I split the tasks seperately and managed with npm scripts "},
{"id": 35074, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-16T07:32:31Z", "scrap_date": "2024-05-01T00:35:41.084069", "content": "I want to to have access to properties stated in the serverlesss yml e g stage environment variables etc "},
{"id": 35075, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-16T16:53:56Z", "scrap_date": "2024-05-01T00:35:41.085069", "content": "You have access to the variables using the frameworks variable system or if you need access to those to modify the lifecycle events of the framework itself you can write a plugin The plugin system has access to lot more things Let me know if that answers your question "},
{"id": 35076, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-17T07:28:25Z", "scrap_date": "2024-05-01T00:35:41.086069", "content": "To the best of my knowledge the variable system works only under sls invoke or sls invoke local So if i want a local function to access the variable system i need to invoke it "},
{"id": 35077, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-17T19:54:51Z", "scrap_date": "2024-05-01T00:35:41.086069", "content": "amitm02 Not really sure what you want to do TBH If you can describe your use case a little better I can be of better help Where is your function in relation to the serverless service What are you trying to do etc "},
{"id": 35078, "question_id": 3507, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-22T18:32:00Z", "scrap_date": "2024-05-01T00:35:41.087070", "content": "I have a use case that is similar to this I have a daily batch processing lambda function whose input data finally grew enough that it exceeds the current memory limit of AWS Lambda functions I would like to configure a larger memory limit for local invocation instead of rewriting the process to live outside of the serverless framework if possible Im looking for ideas on how I could achieve that increased memorytimeout when invoked locally "},
{"id": 55942, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-28T03:30:40Z", "scrap_date": "2024-05-01T00:35:41.922327", "content": "Ive just run into this error message as well on a project where Im also using This is a serverless project that was working just fine have deployed multiple times recently without any issue I made a minor code change and now Im hitting this when I try to deploy It seems like something changed behind the scenes but Im not sure where Thanks in advance if anyone has any clues as to whats going on "},
{"id": 55943, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-28T03:46:31Z", "scrap_date": "2024-05-01T00:35:41.923327", "content": "It looks like backrevving serverlessstepfunctions to version 1 6 1 resolves this issue for me Looking through the logs in github this changeset seems a likely candidate Restrict permissions given to the generated IAM role since its related to IAM role according to the comments "},
{"id": 55944, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-28T07:32:25Z", "scrap_date": "2024-05-01T00:35:41.924587", "content": "I have logged this issue in the plugins Github This is a Bug Report Description Also reported in [Serverless forums] httpsforum serverless comtiamrolestatemachineexecutionpolicystatementmustcontainresources5594 Using version 1 7 0 of plugin caused a deployment error of `IamRoleStateMachineExecution Policy statement must contain resources` We resolved the issue by downgrading back to version 1 6 1 Apologies but at the moment I am unable to supply a sample config as I need strip out sensitive information Our step function uses parallel steps and the same function is referenced in multiple steps Environment OS linux Node Version 8 9 4 Serverless Version 1 25 0"},
{"id": 55945, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-28T13:22:07Z", "scrap_date": "2024-05-01T00:35:41.925328", "content": "Thanks I added some more detail to the bug report "},
{"id": 55946, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-28T14:35:56Z", "scrap_date": "2024-05-01T00:35:41.926328", "content": "Thank you so much I pinned serverlessstepfunctions to 1 6 1 and everything worked just fine "},
{"id": 55947, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-04T13:54:50Z", "scrap_date": "2024-05-01T00:35:41.926328", "content": "It looks like there was a new release that fixes this but I havent tried it myself yet "},
{"id": 55948, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-06T00:03:22Z", "scrap_date": "2024-05-01T00:35:41.927328", "content": "I tried with the 1 7 2 release latest tagged release as of today and still encountered this issue But I can also confirm that pinning serverlessstepfunctions to 1 6 1 does work "},
{"id": 55949, "question_id": 5594, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-24T06:52:29Z", "scrap_date": "2024-05-01T00:35:41.928329", "content": "I was having the same error and it worked with serverlessstepfunctions 6 1"},
{"id": 38912, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-27T23:33:22Z", "scrap_date": "2024-05-01T00:35:42.749419", "content": "Holy smokes Go is freakin fast Thanks for posting this jonsmirl"},
{"id": 38913, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-28T00:13:06Z", "scrap_date": "2024-05-01T00:35:42.750419", "content": "Go is fast because you upload a compiled x86 executable up to lambda You can actually run that compiled executable from your Linux command line Javascript reJITs the lambda function over and over Note that Javascript has to JIT all of those libraries that you uploaded with your tiny function My donothing Go lambda that just returns Hello world runs in 0 31ms This is on a 512MB lambda node That is just the lambda time not from the browser For my 18ms function that does the DynamoDB read the fastest round trip I have observed is 49ms I switched over to the donothing function and Ive observed 40ms round trips when making direct calls to lambda When I say directly hitting lambda I am using AWS Sig4 to sign direct calls to httpslambda useast1 amazonaws com Edit the surprising part to me was that Cloudfront was so much slower Apparently the public Internet pipes between Boston and Virginia are pretty good Probably almost the same speed as the Cloudfront private pipes But Cloudfront is an https termination so they have to decrypt and reencrypt my https traffic That appears to take on the order of 30 ms which adds far more delay than the dedicated AWS pipes can remove Also note that API calls cant be cached so Cloudfront caching does nothing I do have my web app cached in Cloudfront and that is a clear benefit Costwise API Gateway is the most expensive option Cloudfront and Direct Lambda appear to be a wash The data transfer rate is higher for Direct Lamda but Direct Lambda does not have the 1million HTTPS request surcharge Cloudfront has "},
{"id": 38914, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T00:58:44Z", "scrap_date": "2024-05-01T00:35:42.752419", "content": "Love your post jonsmirl Thanks for posting "},
{"id": 38915, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T01:14:19Z", "scrap_date": "2024-05-01T00:35:42.753420", "content": "For people that are worried about managing versions of an API while making direct lambda calls lambda supports aliases Your app does not need to be pointed at LATEST of a lambda function You can add alias suffices to your lambda ARNS arnawslambdaawsregionacctidfunctionhelloworldPROD arnawslambdaawsregionacctidfunctionhelloworldBETA arnawslambdaawsregionacctidfunctionhelloworldDEV There are commands that you can use to do something like map PROD to V21 of your function Then deploy a new version V22 and when you are happy with it set PROD equal to V22 To rollback set PROD back to V21 The app never changes httpsdocs aws amazon comlambdalatestdgaliasesintro html"},
{"id": 38916, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T12:57:41Z", "scrap_date": "2024-05-01T00:35:42.754420", "content": "I checked out the cold start time this morning With cold start the lambda and database results should have fallen out of the cache overnight This is round trip from the browser Cold start response 639ms Subsequent call 58ms"},
{"id": 38917, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-04T12:30:42Z", "scrap_date": "2024-05-01T00:35:42.755475", "content": "Directly calling lambda round trip from browser about 60ms How do you call the lambda directly from browser without going thru apigw"},
{"id": 38918, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-04T14:25:05Z", "scrap_date": "2024-05-01T00:35:42.756479", "content": "You can call every AWS service directly it is what mobile apps do For example the URL for lambda is httpslambda useast1 amazonaws com Then you look up the API in the documentation for example lambda invoke Invokes a Lambda function You can invoke a function synchronously and wait for the response or asynchronously To invoke a function asynchronously set InvocationType to Event All AWS calls are POST This one is POST 20150331functionsFunctionNameinvocationsQualifierQualifier Your browser needs AWS credentials to make the call I am using awsamplify to get those credentials A declarative JavaScript library for application development using cloud services GitHub awsamplifyamplifyjs A declarative JavaScript library for application development using cloud services Finally you need to make the request amplify has a routine in it to make the signed request These signed requests are just like calling API Gateway using IAM security There is an example on this page that makes a direct lambda call httpsaws github ioawsamplifymediaapi_guide html this is the key bit name MyCustomLambdaApi endpoint httpslambda useast1 amazonaws com20150331functionsyourFuncNameinvocations service lambda region useast1 "},
{"id": 38919, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-04T14:35:01Z", "scrap_date": "2024-05-01T00:35:42.758479", "content": "Ive been playing with cost reduction even more For small functions Go will always finish way under the 100ms slice with 512MB For most of my functions I am able to push the memory down to 128MB and they still finish in under 100ms Since the CPU is slower for 128MB they run longer maybe even double going from 18ms to 36ms But now they cost 14 as much to run My top problem now is lambda charges relating to latency I call into AWS IOT from lambda using the SDK The latency on those calls is terrible The Publish call which I do a lot of will randomly vary between 100ms and 3000ms to complete Since I always make that call with the same parameters that latency is some mess inside of AWS This is annoying since it adds 3000ms to my lambda bill on every lambda call while the lambda twiddles its thumbs waiting for AWS IOT to respond That is why I wanted to drop the memory down from 512 to 128 That cuts my wait time charge 75 "},
{"id": 389110, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T03:58:11Z", "scrap_date": "2024-05-01T00:35:42.760480", "content": "I turned on AWS Xray for some of my lambda functions Xray is very useful It tells me how long my calls sit in the queue before lambda acts on them and then it tells me how long AWS SDK calls using remote services take Some AWS SDK calls execute locally so the dont need special measurement plumbing What Ive observed so far DynamoDB is lightning fast Typical response time is 56ms IOT services are pig slow Typical response time 2560ms All of my IOT devices have a human owner who has a Cognito ID When I get a message from a device I do iot ListPrincipalThings immediately followed by iot ListThingPrincipals That uses AWS iot to track which CognitoID owns the device Those are trivially simple calls one string for input one string for output Just a simple DB lookup But those calls take 50ms each to run So the pair of them is running over 100ms Im going to rewrite my stuff now to keep my own database of who owns each device in DynamoDB where I can access it in a single 5ms call "},
{"id": 389111, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T10:55:25Z", "scrap_date": "2024-05-01T00:35:42.761481", "content": "Youve done a great job examining and logging your findings These are quite helpful so thank you I can just offer a few observations which might be useful If you are trying to optimize lambda response for speed especially with API gateway involved its pretty much an impossible task due to latency between various services I can spin up an ec2 endpoint on something like a lamp stack and get 5ms response time end to end with proper caching Lambda can return a response pretty fast as well but it could still be running especially if you did some async operation Honestly I dont think lamba is the best solution for APIs that require an immediate or near real time response time Unless you can use caching but then underlying solution doesnt matter as much To offer some tips to speed things up On Dynamo increase your readwrite capacity units If you are planning to query by something other than primary key youre going to need an index Be mindful Use one file per function Dont do handler save or handler get in one file This tends to grow unnecessarily big quickly Be mindful of cold starts that will add as much as a second to your response time because the container needs to come alive again Unless your API is hit non stop consider using serverless plugin to keep your lambdas warm Remember that billing is done in 100ms increments so you are not going to see any savings if your function runs for 5ms vs 85ms More memory faster running function You need to find a balance for each use case If you see strange outliers in terms of response time or timeouts make sure youre exiting correctly and not just leaving some process to accidentally run in the background until things timeout "},
{"id": 389112, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-05T12:43:41Z", "scrap_date": "2024-05-01T00:35:42.765476", "content": "My use case involves several hundred thousand sensors uploading tiny bits of data to store in a database But the sensor traffic is variable and it depends on what the sensor is seeing The sensor may go quiet for hours and then burst up 200 data points in five minutes I use IOT because IOT is very cheap for tracking whether the sensor is online or offline If the sensor goes offline I get an IOT message Scaling is also important since the sensors wake up in a somewhat coordinated fashion Occasionally thousands will try and transmit at the same time So I am not concerned about response time but more about lambda bills since the lambdas can get hit millions of times every day I used Xray to try and understand why my trivial lambda 50 lines of straightline code was taking over 100ms to run My initial guess was that Javascript was slow Javascript is slow and Go is much faster but Javascript was not the core problem Now it is obvious to me that iotxxx calls are extremely slow ListPrincipalThings and ListThingsPrincipals are used in a pair to determine which customer owns the IOT device I thought those simple calls would run instantly but Xray shows that they do no run quickly and running the pair takes over 100ms These two calls force my trivial lambda from one 100ms slice into two slices Now that I know where the problem is I am going to complain to the IOT team to fix this Meanwhile I will rework my upload strategy to not use these calls "},
{"id": 389113, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-08T23:42:59Z", "scrap_date": "2024-05-01T00:35:42.767476", "content": "jonsmirl regarding the JIT comment I can understand it is true for cold start but is it still true for warm start Javascript reJITs the lambda function over and over Note that Javascript has to JIT all of those libraries that you uploaded with your tiny function "},
{"id": 389114, "question_id": 3891, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-09T01:40:12Z", "scrap_date": "2024-05-01T00:35:42.768477", "content": "I dont know the details of how AWS handles Javascript but even with a warm start my Go functions are 10x faster than Javascript Even with a JIT Javascript is still interpreted thats because you can write self modifying code in Javascript Go is a true compiled language If you know Javascript it is not hard to learn Go It only took me a week to learn enough Go to convert my preexisting Javascript functions over to it Ive been running my Go functions now for months without issue Another important side effect you can get away with far less memory when using Go That will let you set your memory slice down to the minimum size ie 14 the price "},
{"id": 66752, "question_id": 6675, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-07T13:02:12Z", "scrap_date": "2024-05-01T00:35:43.728675", "content": "Is your staging environment the same account as production environment If so that makes thigns tricky Id generally recommend keeping those in separate AWS environmens which makes this easier "},
{"id": 66753, "question_id": 6675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-07T14:26:42Z", "scrap_date": "2024-05-01T00:35:43.729676", "content": "The staging environment is a separate CloudFormation stack than the production environment but they are both on the same AWS account Are you suggesting to use an AWS account for staging and AWS account for production There isnt anyway to do that with IAM Groups or Roles"},
{"id": 66754, "question_id": 6675, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T01:48:18Z", "scrap_date": "2024-05-01T00:35:43.729676", "content": "There are more then one way to do things and no one size fits all But it is definitely a huge management benefit to have separate accounts for production and the QAtestdev account httpsaws amazon comanswersaccountmanagementawsmultiaccountsecuritystrategy At my company we have at least two accounts for each Account Team Prod and Devtest Keeps things nicely separated and easier to have higher levels of security for our prod accounts D"},
{"id": 14172, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T22:22:02Z", "scrap_date": "2024-05-01T00:35:44.849317", "content": "Just to be clear is your target function failing after hitting your timeout i e 30 seconds or is there an error message Im a bit confused by the ordering of your steps are you giving permissions to your function by adding them to the iamRoleStatements property in the provider section OR are you creating an IAM and manually assigning it to your function Your invoke function looks good the only thing I would do is move the const lambda new AWS Lambda outside of your function theres no need to initialise the object on every invocation you can do it once per container by putting it in the modules toplevel scope "},
{"id": 14173, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-01T22:25:45Z", "scrap_date": "2024-05-01T00:35:44.850317", "content": "Just to be clear is your target function failing after hitting your timeout i e 30 seconds or is there an error message No error message at all Just the system start message my preinvoke call message then the system end and report messages I assume a timeout because the duration is always the run time I set for the function [quoterowanu post2 topic1417] Im a bit confused by the ordering of your steps are you giving permissions to your function by adding them to the iamRoleStatements property in the provider section OR are you creating an IAM and manually assigning it to your function [quote] Both I tried every combo I could think of With the provider added permissions Without those but with a manually made role With a role and the provider extra permissions in the same serverless yml file I even tried without lambda permissions hoping to get an error message "},
{"id": 14174, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-01T22:31:47Z", "scrap_date": "2024-05-01T00:35:44.852318", "content": "Output looks like this"},
{"id": 14175, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T22:36:24Z", "scrap_date": "2024-05-01T00:35:44.852318", "content": "Yep definitely a timeout you can see the message in the last line Can you try setting the InvocationType to DryRun and rerun it This will not actually call the function but it will confirm you have the right permissions to call it as per the docs You can also use this parameter to request AWS Lambda to not execute the function but do some verification such as if the caller is authorized to invoke the function and if the inputs are valid You request this by specifying DryRun as the InvocationType "},
{"id": 14176, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T22:42:32Z", "scrap_date": "2024-05-01T00:35:44.853319", "content": "Can you try setting the InvocationType to DryRun and rerun it DryRun produces the same output Or lack there of really An error message would be a wonderful thing "},
{"id": 14177, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-01T22:44:44Z", "scrap_date": "2024-05-01T00:35:44.854319", "content": "Very strange you should get something from the DryRun setting Maybe its not even getting to the lambda invoke can you move the const lambda declaration out of the function the line before it should be fine If the function was called multiple times at once the reinitialisation could be an issue "},
{"id": 14178, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-03-01T23:09:06Z", "scrap_date": "2024-05-01T00:35:44.855319", "content": "Ive updated the code and deployed Same issue The Gist got updated to so you can look at the code "},
{"id": 14179, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-02T02:00:44Z", "scrap_date": "2024-05-01T00:35:44.856319", "content": "Theres nothing obviously wrong I can see Have you tried logging out the function name and payload to make sure theyre as you expect Obviously the function name needs to exist and the payload should be a valid JSON object but I wouldve expected all kinds of errors if the werent both the case already "},
{"id": 141710, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-23T11:52:27Z", "scrap_date": "2024-05-01T00:35:44.856319", "content": "Im having exactly the same problem The frist lambda gets a timeout no error is visible in the log Both lambda functions them self runs with no errors and successfully Im not sure if the second lambda is even called there is nothing in the CloudWatch log But the invoke code is executed in my code but nothing happend Can somebody provide a minimal example for this use case or give me some tipps"},
{"id": 141711, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-23T13:56:39Z", "scrap_date": "2024-05-01T00:35:44.857319", "content": "To invoke the lambda function via sdk the lambda functions need to have internet access Follow the following instruction to get it done httpsgist github comreggidc5f2620b7b4f515e68e46255ac042a7"},
{"id": 141712, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-15T01:34:07Z", "scrap_date": "2024-05-01T00:35:44.858320", "content": "I am experiencing the same issue Any updates on the above problem"},
{"id": 141713, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-08-16T16:31:57Z", "scrap_date": "2024-05-01T00:35:44.859320", "content": "For me the issue was subnet routes It was a silent error of not being able to reach the IP address of the Amazon service and the protected resource my lambda was using Check your routes to the service your calling from lambda Then check the Amazon gateway for external accessible services "},
{"id": 141714, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-30T01:49:05Z", "scrap_date": "2024-05-01T00:35:44.859320", "content": "I think the issue here is that your Lambda function needs a resource policy that allows its invocation from your test function Unfortunately adding InvokeFunction InvokeAsync privileges to your Lambda role will not work This is essentially saying your Lambda can invoke other Lambdas Its easy to see in the AWS console if your Lambda function can be invoked by other Lambdaswhomever by going into the Lambda service page picking your function going to the Triggers tab and expanding the View function policy drop down Im on the same boat as you looking for a way to assign invocation permissions from the Serverless configuration but Im coming up short But not all is lost You can either add it manually in the console or using the AWS CLI by using the addpermission functionality httpdocs aws amazon comclilatestreferencelambdaaddpermission html Im curious if adding permissions to invoke your Lambda to your test function s app role policy would work Edit To add to all this Ill say that generally speaking you dont want to invoke a Lambda from another unless you have a good reason which in my case may be true because debugging integration issues between the two becomes more cumbersome Refer to this excellent conversation for more info Best Practice Question API call Lambda Invoke or require "},
{"id": 141716, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T03:20:35Z", "scrap_date": "2024-05-01T00:35:44.862321", "content": "Catertion please dont necrobump this thread with new questions create a new topic for them Topics are free "},
{"id": 141717, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-28T18:47:46Z", "scrap_date": "2024-05-01T00:35:44.863323", "content": "Did anyone ever figure this out If I use AWS SDK to invoke on Lambda function from another it works fine HOWEVER if I try to do this asynchronously like this the 2nd function call myOtherLambda never gets called no errors just gets bypassed as if it were not there exports handler async event "},
{"id": 141718, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-29T20:53:14Z", "scrap_date": "2024-05-01T00:35:44.864321", "content": "I whipped up a simple example serverless yml handlers js deploy invoke test test output If you want to view the logs from the test2 function Hope this helps "},
{"id": 141719, "question_id": 1417, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T09:49:38Z", "scrap_date": "2024-05-01T00:35:44.865322", "content": "Am I correct to understand that Lambdas even when in the same VPC and subnet will need internet access to invoke eachother directly"},
{"id": 61882, "question_id": 6188, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-23T18:45:17Z", "scrap_date": "2024-05-01T00:35:45.489282", "content": "Turns out this was due to SES not being available in the region I was using It sure wouldve been nice with a error message such as type not supported in region but instead the generic unrecognized type was raised "},
{"id": 61883, "question_id": 6188, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-12-23T20:19:49Z", "scrap_date": "2024-05-01T00:35:45.490282", "content": "consider to use serverlesssestemplate plugin"},
{"id": 67822, "question_id": 6782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T06:54:06Z", "scrap_date": "2024-05-01T00:35:46.360125", "content": "That response looks wrong My gut feeling is that youve configured the API Gateway to use Lambda integration but youve written the Lambda as though youre using Lambda proxy integration The API Gateway should be consuming the response and only returning the body in the HTTP body but here youre saying its returning the entire response structure "},
{"id": 67823, "question_id": 6782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T07:18:19Z", "scrap_date": "2024-05-01T00:35:46.361125", "content": "Hi buggy thanks for your reply But I cant get completely what you want to mean Do i need to change something"},
{"id": 67824, "question_id": 6782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T08:44:41Z", "scrap_date": "2024-05-01T00:35:46.362368", "content": "Check your serverless yml to see if you have the http event configured with integration lambda If you have the remove it and try again "},
{"id": 67825, "question_id": 6782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-24T06:16:19Z", "scrap_date": "2024-05-01T00:35:46.363125", "content": "Hi buggy actually I didt make with yml I have first created lambda function in aws and then created API gateway pointing to that lambda function I think here i cant find serverless yml file please let me know if this can be extracted from API gateway "},
{"id": 67826, "question_id": 6782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-24T06:53:28Z", "scrap_date": "2024-05-01T00:35:46.364126", "content": "If youre not using the Serverless Framework then you need to look at the AWS console to figure out how youve configure the API gateway integration with Lambda There are two methods Lambda and Lambda Proxy My guess is youre using Lambda and you need to be using Lambda Proxy The other option is to keep Lambda and setting up mapping templates correctly "},
{"id": 67827, "question_id": 6782, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-24T09:46:02Z", "scrap_date": "2024-05-01T00:35:46.365126", "content": "Hi buggy Now I am able to complete this Need to update mapping template in integration Request "},
{"id": 68922, "question_id": 6892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-09T21:51:25Z", "scrap_date": "2024-05-01T00:35:47.411179", "content": "This doesnt answer you question specifically but DynamoDB has pay per request No need to setting up autoscaling though if you expect a high amount of traffic best to run the number on how might it will cost you Just a few years ago creating a database that could support your business at any scale while providing consistent low latency was a daunting task That changed for me in 2012 while reading Werner Vogels blog post announcing Amazon DynamoDB it "},
{"id": 68923, "question_id": 6892, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-10T19:30:24Z", "scrap_date": "2024-05-01T00:35:47.412179", "content": "I believe thats covered in the docs httpsgithub commedikooserverlessplugindynamodbautoscalingiamroleconfiguration"},
{"id": 57512, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-11T06:58:10Z", "scrap_date": "2024-05-01T00:35:48.531573", "content": "Ive read that cold starts for a VPC can take 10 seconds Correct Is there a solution Im missing here You can try keeping your Lambda warm by implementing a ping function then calling it regularly This reduces the chance of someone hitting a cold start in some circumstances Are default VPCs faster No "},
{"id": 57513, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-11T07:48:13Z", "scrap_date": "2024-05-01T00:35:48.532574", "content": "You can try keeping your Lambda warm by implementing a ping function then calling it regularly This reduces the chance of someone hitting a cold start in some circumstances This only helps that one instance The minute scale is needed beyond that request time starts climbing again Bummer I think Ill look into dropping the VPC Thanks for the response "},
{"id": 57514, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-09-12T18:43:03Z", "scrap_date": "2024-05-01T00:35:48.533580", "content": "The 10 second cold start usually only applies to the first few concurrent functions After that Lambda has already allocated container space that is connected to your VPC If you have significant load the cold start times drop dramatically as ENIs are shared between containers Also note that VPC Lambdas stay warm for a minimum of 15 minutes as opposed to 5 minutes for nonVPC ones This means that intermittent spikes that scale up your Lambdas will most likely be warm and ready to respond on subsequent spikes This dramatically reduces cold starts If you absolutely need to keep VPC Lambdas warm use this httpsgithub comjeremydalylambdawarmer It was endorsed by Chris Munns over at AWS since it follows all of their recommendations It can even be used to keep several concurrent functions warm "},
{"id": 57515, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T20:20:24Z", "scrap_date": "2024-05-01T00:35:48.534575", "content": "piersmacdonald This only helps that one instance The minute scale is needed beyond that request time starts climbing again Can you please elaborate on that"},
{"id": 57516, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-23T21:17:21Z", "scrap_date": "2024-05-01T00:35:48.535575", "content": "You might be able to keep one instance warm but if AWS needs to scale the number instances of a Lambda then each new instance has a 10 second delay in launching Any requests being serviced by these new instances is going to be delayed until the new instance is running It means that keeping your Lambda warm as a strategy really only works if you have a Lambda with low usage and a concurrency of 1 If your traffic spikes and a lot of Lambdas need to be launched then it doesnt help Note AWS is continually working to improve Lambda performance inside a VPC so this may be smaller now "},
{"id": 57517, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-24T12:25:08Z", "scrap_date": "2024-05-01T00:35:48.536575", "content": "Heya so actually httpsgithub comFidelLimitedserverlesspluginwarmup now has built in concurrency warmup youll need to add it to your package json and point at the master branch as theyre not doing a release until theyve updateddone the tests I believe Seems to work rather well I would say if youre API has relatively stable traffic people tend to all worked up about cold starts when essentially if that endpoint is getting hit a couple of times an hour at least you wont get them at all "},
{"id": 57518, "question_id": 5751, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-11T05:58:20Z", "scrap_date": "2024-05-01T00:35:48.537575", "content": "Sorry poorly worded on my part Lambda warming only works if you keep enough lambdas warm to deal with load at any given time Doing so eliminates a key advantage of serverless scalability If I keep 1 lambda warm it helps the first request after a cold start but if there are 10 simultaneous requests 90 of them are still experiencing slowness "},
{"id": 69662, "question_id": 6966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-11T06:52:32Z", "scrap_date": "2024-05-01T00:35:49.599757", "content": "Were facing the exact same issue weve downgraded to 1 35 1 for the time being Shall wait for a fix or a notice that this has been a breaking change requiring further config "},
{"id": 69663, "question_id": 6966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-11T07:12:06Z", "scrap_date": "2024-05-01T00:35:49.600757", "content": "Same issue for me Hope soon the fix will be released "},
{"id": 69664, "question_id": 6966, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-11T13:27:00Z", "scrap_date": "2024-05-01T00:35:49.601758", "content": "I had to fall back to npm i g serverless 35 1 this fix the issue for now"},
{"id": 70342, "question_id": 7034, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-17T15:35:59Z", "scrap_date": "2024-05-01T00:35:50.349507", "content": "Depends on which service in RDS use choose If you use Aurora Serverless you dont really have to manage anything If you go with standard Aurora MySQL PostgreSQL etc you will have to determine how many readreplicas you need choose instance sizes etc But will all of these services things like automated backups service patches and server maintenance are all taken care of for you "},
{"id": 84892, "question_id": 8489, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T12:56:39Z", "scrap_date": "2024-05-01T00:35:51.498706", "content": "VPCs are composed of Subnets which specify a block of IP addresses within that VPC and live in a specific Availability Zone When you are assigning a lambda function to a specific subnet you are also assigning the lambda function to the larger VPC Even in the lambda console you also have to pick specific subnets to assign your lambda function to"},
{"id": 84893, "question_id": 8489, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-06T13:00:27Z", "scrap_date": "2024-05-01T00:35:51.500706", "content": "Sorry but dont get your response In console you specify VPC id subnets and security groups By looking at serverless API it seems you can only specify subnets and security groups Which VPC is it going to use Is it going to be default How do I specify my custom one You can notice VPC dropdown on your screenshot "},
{"id": 84894, "question_id": 8489, "domain": "forum.serverless.com", "like_num": 5, "created_date": "2019-06-06T13:06:10Z", "scrap_date": "2024-05-01T00:35:51.501707", "content": "Subnets are already linked to a specific custom VPC when you create them The reason the Lambda Console gives you the option to select a VPC is so that it can conveniently display the available subnets within that VPC that are already created For example when you create a custom VPC A you will then have to create a Subnet Z When you create Subnet Z you will specify that it belongs to VPC A So serverless yml doesnt let you specify a specific VPC because it already knows the VPC from the Subnet that you specify Subnets belong to a VPC a Subnet cannot belong to multiple VPCs This also means that if you specify multiple Subnets they must both belong to the same VPC"},
{"id": 84895, "question_id": 8489, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-06-06T13:17:33Z", "scrap_date": "2024-05-01T00:35:51.502707", "content": "Ah that makes sense This is really helpful information I did not know that subnet cannot belong to multiple VPCs thats why I got confused Thank you "},
{"id": 85982, "question_id": 8598, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T10:13:30Z", "scrap_date": "2024-05-01T00:35:52.569777", "content": "Does httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewaycustomdomaintlsversion html help It indicates TSLv1 is supported "},
{"id": 85983, "question_id": 8598, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T15:18:21Z", "scrap_date": "2024-05-01T00:35:52.570777", "content": "Thanks Actually it appears this may not be the problem The legacy app support team told me this was the issue but I then connected to my APIlambda function with curl and forced tlsv1 0 and it worked just fine So I suspect theres some other problem still investigating "},
{"id": 76532, "question_id": 7653, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T15:31:56Z", "scrap_date": "2024-05-01T00:35:53.516658", "content": "Similar issue here Did you find any solution Cheers"},
{"id": 63612, "question_id": 6361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-05T02:59:56Z", "scrap_date": "2024-05-01T00:35:55.020906", "content": "You need to create a DB subnet group with the subnets want to use then use that when creating the RDS instance The RDS CloudFormation docs are the best place to start looking "},
{"id": 63613, "question_id": 6361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-05T17:36:23Z", "scrap_date": "2024-05-01T00:35:55.021907", "content": "Thanks for the response What would be insanely useful for people who like myself are searching for how to do this sort of thing is the posting of example YAML In the meanwhile Ill check out what youve said above "},
{"id": 63614, "question_id": 6361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-05T17:45:55Z", "scrap_date": "2024-05-01T00:35:55.022907", "content": "Well I tried setting the new RDS DB instance to having the same security groups as my VPC using VPCSecurityGroups [sgabc123 sgxyz789 etc ] but got this An error occurred RDSInstance VPC Security Groups cannot be associated with nonVPC DB Instances so it seems it still thinks my DB is not associated with a VPC"},
{"id": 63615, "question_id": 6361, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-08T07:53:03Z", "scrap_date": "2024-05-01T00:35:55.023907", "content": "Should be something like this"},
{"id": 63616, "question_id": 6361, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T16:56:54Z", "scrap_date": "2024-05-01T00:35:55.023907", "content": "Thank you very much Dawid I have been struggling with this for a while trying to make the code portable among all AWS Regions especially when there is no default VPC or default subnet Your solution gets the RDS created We are mostly focused on IoT Core and Lambda and not very familiar with VPCs Subnets etc Can you suggest an enhancement that would allow an external tool like MySQL WorkBench to communicate with the RDS using Port 3306 over TCP Thank you in advance for your help Best Willliam"},
{"id": 85702, "question_id": 8570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T10:30:29Z", "scrap_date": "2024-05-01T00:35:56.105958", "content": "It depends why its not working Is this creating a circular dependency If it is then using httpsgithub comfunctionaloneserverlessiamrolesperfunction to implement per function IAM roles might solve the problem "},
{"id": 85703, "question_id": 8570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T14:14:53Z", "scrap_date": "2024-05-01T00:35:56.106958", "content": "Yeah Im running into circular dependency issues Can you explain why this might solve the problem"},
{"id": 85704, "question_id": 8570, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-22T05:32:20Z", "scrap_date": "2024-05-01T00:35:56.107958", "content": "Serverless creates one role that is shared by all Lambda so if one has a dependency on Cognito User Pools they all do When this has happend to me in the past its because one of those Lambda was actually a Lambda trigger on the User Pool and shouldnt have a dependency on it Without seeing the full serverless yml its impossible to understand if setting up per Lambda IAM roles will help "},
{"id": 36022, "question_id": 3602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-25T09:34:44Z", "scrap_date": "2024-05-01T00:35:57.072043", "content": "Update to the above the line wasnt working so Ive now replaced it with statements similar to throughout Which is truly ugly and not going to be nice to maintain "},
{"id": 36023, "question_id": 3602, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-01-25T10:06:50Z", "scrap_date": "2024-05-01T00:35:57.073042", "content": "I think you meant to use instead of"},
{"id": 36024, "question_id": 3602, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-25T10:26:41Z", "scrap_date": "2024-05-01T00:35:57.074042", "content": "I might have just said a somewhat naughty word It took me at least 5 minutes of staring at your response before I saw what the difference was Thankyou 1000 internet points to buggy "},
{"id": 36025, "question_id": 3602, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-08T11:28:40Z", "scrap_date": "2024-05-01T00:35:57.074042", "content": "For future readers struggling to find the actual difference its using dot instead of colon custom x instead of customx "},
{"id": 87232, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-07T08:18:13Z", "scrap_date": "2024-05-01T00:35:58.185234", "content": "Initial guess would be that the IAM role you have assumed when logged in via the console has more privileges than than IAM role youre creating in the serverless yml If you want to save the orders in GOB format on S3 then the lambda will need write access to S3 something like Here"},
{"id": 87233, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-07T08:46:22Z", "scrap_date": "2024-05-01T00:35:58.186234", "content": "Hi The function has readwrite access to S3 The shared snipped only contains configuration specific to this function but since the bucket was being shared with a lot of other functions We added permission for that in provider section in serverless yml The attached configuration is just imported in serverless yml All this function needs was s3putObject s3getObject dynamodbQuery dynamodbUpdateItem and we have added all the permissions The only problem we are facing right now is This function doesnt executes automatically at the given intervals It works perfectly fine when I go into the Lambda console Create a test event and try to run it using the test event "},
{"id": 87234, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-08T14:58:50Z", "scrap_date": "2024-05-01T00:35:58.187240", "content": "Im still inclined to think its an IAM permissions issue the lambda may not have permission to invoke itself I found an answer on StackOverflow which may help you here "},
{"id": 87235, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-08T18:25:20Z", "scrap_date": "2024-05-01T00:35:58.188240", "content": "Hey So I read up a little bit on how this particular bit in serverless works and learned it creates cloudwatch event rules and binds the rules with the function that needs to be executed Then I found the interface where I can check existing rules and serverless is not even adding cloudwatch event rules which is why the function is not triggering automatically I tried deploying in Debug mode and I get no warnings or any indication as to what may be going wrong here Also To test your suggestion I added lambdaInvokeFunction permission in the provider section to all the resources in my project and that didnt help Now I am trying to figure out why wont it add cloudwatch event rules "},
{"id": 87236, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-09T13:28:34Z", "scrap_date": "2024-05-01T00:35:58.189235", "content": "I checked the lambdas I have access to and found one which is shceduled every 5 minutes using rate and the iam role for it has the following actions for resource for resources arnawslogsloggroupawslambda Hope this helps Are there any Cloudwatch logs for the execution of the Lambda"},
{"id": 87237, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-10T12:12:01Z", "scrap_date": "2024-05-01T00:35:58.190235", "content": "hi it was an alignment issue in the attached configuration in original post serverless never gave us a warning to help us understand what was wrong and only really figured it out after hours of hit and trial "},
{"id": 87238, "question_id": 8723, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-10T13:37:16Z", "scrap_date": "2024-05-01T00:35:58.191248", "content": "No way Good investigating At least youll know to check that in the future and so will I and anyone else who reads this thread "},
{"id": 87482, "question_id": 8748, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-11T02:18:43Z", "scrap_date": "2024-05-01T00:35:59.053146", "content": "So I worked around the issue and got it working I feel like this should be much smoother OOTB so please let me know if Ive missed something obvious Here is what I did to get the functions uploading with executable permissions Install buildlambdazip makefile serverless yml"},
{"id": 84202, "question_id": 8420, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-11T16:19:58Z", "scrap_date": "2024-05-01T00:35:59.986754", "content": "I guess it is time to talk to people more actively and try to PR this if it is not included in sls yet Oh well "},
{"id": 87532, "question_id": 8753, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-11T22:09:08Z", "scrap_date": "2024-05-01T00:36:00.810709", "content": "I upgraded my ancient Node from 6 x to 8 and its working again "},
{"id": 97882, "question_id": 9788, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-08T06:19:51Z", "scrap_date": "2024-05-01T00:36:01.776984", "content": "According to the serverlesswsgi document you have to set the API_GATEWAY_BASE_PATH environment variable as fleet"},
{"id": 96272, "question_id": 9627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-06T12:54:36Z", "scrap_date": "2024-05-01T00:36:02.580101", "content": "How have you configured the function in your serverless yml You can override the memory limits by adding memorySize and timeout to the yml serverless Serverless Framework AWS Lambda Guide Serverless yml Reference A list of all available properties on serverless yml for AWS"},
{"id": 96273, "question_id": 9627, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-08T06:28:16Z", "scrap_date": "2024-05-01T00:36:02.581102", "content": "Thanks for the reply praneetrattan I created this PR and it has just been published fixing the issue now you are able to configure this in version 1 57 0 github comserverlessserverless Update AWS Limits on Lambda serverlessmaster winstonwplimitsonimprovelambdaedge opened 0601PM 04 Nov 19 UTC winstonwp 133 8"},
{"id": 104392, "question_id": 10439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-02T21:03:06Z", "scrap_date": "2024-05-01T00:36:03.651131", "content": "Hello The serverlesswebsocketsplugin has been deprecated because the features have been integrated directly into the core of the Serverless Framework starting with version 1 38 as indicated in the latest issue of the repository As to why it was in the form of a plugin originally it is because WebSocket APIs which were released back at reInvent 2018 did not have initial CloudFormation support The temporary solution was therefore to offer support in the form of a plugin which is no longer needed You can also look at the official documentation of the Framework regarding WebSockets to get started Hope this helps "},
{"id": 104393, "question_id": 10439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T04:42:46Z", "scrap_date": "2024-05-01T00:36:03.652131", "content": "As teddy already said we no longer need the plugin Its all available in the core of the framework"},
{"id": 104394, "question_id": 10439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-03T14:59:26Z", "scrap_date": "2024-05-01T00:36:03.653133", "content": "Thanks teddygustiaux and garethmcc I am still somewhat confused but now I understand that I was looking at old articles It is unfortunate that a google search for Serverless Websockets brings up all the older blog posts Possibly someone from the Serverless team could add a callout that this guide is outdated and link to the newer ones you have provided here I probably should have looked through the issues but I didnt even bother because I figured the repo was archived so people couldnt ask questions anyway In my opinion that closed issue deprecation notice is nowhere near as __ as it should be It should be front and center at the top of the README in bold letters the way it is in countless other deprecated READMEs If you leave the repo the way it is currently you will most likely get simpletons like me asking questions here because they are super confused "},
{"id": 104395, "question_id": 10439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-05T02:37:04Z", "scrap_date": "2024-05-01T00:36:03.654132", "content": "teddygustiaux garethmcc Thanks for updating the README with a deprecation notice It would also be great if the blog article that keeps being linked to contained some link to the full source code I would like to see what the full connectHandler code looks like for all the handler functions Currently it only has one loose snippet of sending a message to a client Can you please point me to some example implementation of connectionHandler fooHandler disconnectHandler and defaultHandler and also add some link s to this in the blog post Thanks "},
{"id": 104396, "question_id": 10439, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-06T13:56:19Z", "scrap_date": "2024-05-01T00:36:03.656132", "content": "Are there any samples for the implementation of these handler functions"},
{"id": 18232, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-10T21:42:05Z", "scrap_date": "2024-05-01T00:36:04.275382", "content": ""},
{"id": 18233, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-11T08:30:41Z", "scrap_date": "2024-05-01T00:36:04.275382", "content": "Thank you Im sorry it wasnt clear in my original post Id like to getreturn other users info usernames uuids avatars online status etc and cant figure how to do it from inside lambda function i e access Cognito for other users info Correct me please but I think Cognito only passes info about current user i e the one making the request no So how can I get this users friends info or show a list of voters for a post Does it make sense to store users emails passwords and UUIDs in Cognito and then duplicate UUIDs usernames emails in Dynamodb in UserProfile table along with users preferencessettings so lambda can access all the necessary info to send a Graphql response or act upon those settings e g send notifications Is there a better way to arrange such info for a forumlike app considering there will be eventstriggers like Hey Alice and Bob like your post "},
{"id": 18234, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-11T14:13:19Z", "scrap_date": "2024-05-01T00:36:04.277383", "content": "Have you looked at this API Action ListUsers Lists the users in the Amazon Cognito user pool returns the attributes httpdocs aws amazon comcognitouseridentitypoolslatestAPIReferenceAPI_ListUsers html"},
{"id": 18235, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-11T15:53:34Z", "scrap_date": "2024-05-01T00:36:04.278383", "content": "I always try to use Cognito for registrationvalidationrecovery process saving just emailpassword on Cognito and then save all the rest on dynamo An example on how to use cognito that way Building a public API on AWS Just in case it helps"},
{"id": 18236, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-12T07:21:54Z", "scrap_date": "2024-05-01T00:36:04.278383", "content": "Thanks So far it seems I should use Cognito for authentication and keepduplicate some user info in Dynamodb tables as it is easier to construct queries to Dynamodb tables using DynamooseDynogels Can someone point me to an article or source code for an app using AWS that implements similar functionality as described above I already went through the Serverlessstack tutorial like SpaceFinder by AWS Labs or ServerlessGraphqlAPI using Apollo "},
{"id": 18237, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-23T14:50:08Z", "scrap_date": "2024-05-01T00:36:04.279383", "content": "Just to chime in we use Cognito strictly for authentication and store all other user data in DynamoDB using their emails as ids There is a way for DynamoDB to prevent access using an ID from a Cognito Identity Pool User Youd need to add the following policy to the role your users will take when coming in from Cognito two roles if you have auth AND unauth "},
{"id": 18238, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-24T08:00:35Z", "scrap_date": "2024-05-01T00:36:04.280384", "content": "Thanks Can you explain why you guys decided to use emails as IDs instead of some randomly generated UUID What happens if some users change their emails How do they keep their account related infoprofile"},
{"id": 18239, "question_id": 1823, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-05-24T11:04:33Z", "scrap_date": "2024-05-01T00:36:04.281384", "content": "Technically were not using their emails were using the sub claim in the JWT token which cannot be changed after registration We set the sub claim to be the email and we do not allow changing emails in our application its for internal company use "},
{"id": 19582, "question_id": 1958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T04:12:58Z", "scrap_date": "2024-05-01T00:36:05.341402", "content": "Youre correct that SQS isnt currently a trigger for Lambda Have you considering using up a data pipeline instead httpdocs aws amazon comdatapipelinelatestDeveloperGuidedpimportexportddbpart1 html"},
{"id": 19583, "question_id": 1958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-05-30T04:41:34Z", "scrap_date": "2024-05-01T00:36:05.342400", "content": "I havent used them yet but this sounds like something you could do with Step Functions it has a wait condition Now that SFs are in apsoutheast2 I might get a chance to use them "},
{"id": 22162, "question_id": 2216, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T02:23:09Z", "scrap_date": "2024-05-01T00:36:06.207424", "content": "Packaging code dynamically on deployment goes against deployment best practices your deploys should be explicit and easily repeatable so that you can do things like reliably rollback in the event of a deployment issue or bug You want to be sure that the codepackage you tested in your development environment is exactly the same as the code you deploy to production The only way I can think to make your setup work would be to vendor your code internally i e create modules out of them and then use something like npm link to share it between your functions "},
{"id": 21902, "question_id": 2190, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-06T12:17:02Z", "scrap_date": "2024-05-01T00:36:07.280986", "content": "Currently there isnt a simple way to put multiple services behind a single API Gateway I suspect the most common approach is to have a separate gateway project that invokes those other services when required Im doing something similar but using GraphQL instead of REST "},
{"id": 22522, "question_id": 2252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T22:26:44Z", "scrap_date": "2024-05-01T00:36:08.370590", "content": "Youre on the right track Scheduled trigger function is a pattern thats worked well for me Just make sure you set up your DLQ Where are you querying from Why are you worried it will be slow Dumping stuff in to Kinesis is not a bad idea but Id probably only do it after Ive proved the alternative i e no steam is actually too slow How long is your processing expected to take Keep in mind that you can increase the memory allocated to your functions to improve their performance even if they are not memory bound The amount of memory you allocate also determines your functions access to CPU IO and network capacity Where are you writing to If it was just S3 then I think a separate writer would be overkill youd have to worry about Kinesis message size etc "},
{"id": 22523, "question_id": 2252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T23:18:31Z", "scrap_date": "2024-05-01T00:36:08.371590", "content": "Thanks for the reply its great to hear im on the right track Ill need to look into DLQs For the source its external to my network and therefore out of my control and can sometimes be slow Ill have to keep an eye on it and adjust for any problems I see Processing needs some more evaluation but youre right that a separate writer might be overkill "},
{"id": 22524, "question_id": 2252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-10T23:54:52Z", "scrap_date": "2024-05-01T00:36:08.372577", "content": "OK If theres a speed mismatch e g reading vs processing then putting a stream in between is a good idea but just watch out for message sizes An alternative way would be to use S3 to stage data e g Reader saves to S3 and then sends SNS message with location to the Process function "},
{"id": 22525, "question_id": 2252, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-11T12:26:03Z", "scrap_date": "2024-05-01T00:36:08.373592", "content": "I would definitely go with using a scheduled task to determine the number of pages of data to process and queue up the events I would avoid Kinesis unless there is a need simply because it adds complexity that is best avoided However I dont think SNS alone will give you want you want If your entry point function the one called by a scheduled task simply publishes an SNS notification for every slice this will trigger all of the slices to be processed practically simultaneously which isnt a problem for Lambda but it might be for your external source Instead I would do something like This way you are only publishing one event on the SNS topic so the processor function is only invoked once That processor function would receiveMessage from the SQS queue that gives it the slice to process Then when its done its processing it adds another message to the SNS topic which triggers the next invocation If the SQS queue is empty the function quits without publishing to SNS this stops it from continuing to process indefinitely The other problem you might have which you havent mentioned is how to then collate the results of all of the slices into a single result set at the end Although it might be that the way you are storing those results it actually doesnt matter But if this is not the case then you can store the partial results from each slice in a known location Dynamo or S3 and then when the SQS queue is empty thats where you can do the collation probably in a separate function that is triggered by publishing to a different SNS topic "},
{"id": 25192, "question_id": 2519, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-24T00:40:46Z", "scrap_date": "2024-05-01T00:36:09.311190", "content": "So Q1 any suggestions for good resources to understand architectures and development strategy Checkout GitHub serverlessexamples Serverless Examples A collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more and the community architecture examples GitHub serverlessexamples Serverless Examples A collection of boilerplates and examples of serverless architectures built with the Serverless Framework on AWS Lambda Microsoft Azure Google Cloud Functions and more Maybe for your other question something like this Trigger Lambda function with map of the third party api call you need Those fan out and invoke lambdas to make the requests then they take the data and pipe to a queue that feeds into DynamoDB S3 This plugin from trek10 might also be of interest to you GitHub trek10incserverlessawslambdafanout Quickly add a fanout lambda with targets to a serverless project"},
{"id": 25922, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T13:51:34Z", "scrap_date": "2024-05-01T00:36:10.040624", "content": "If you want to use AWS then yes it would be logical to go with DynamoDB for storing data and ElasticSearch to search data Just keep in mind you do need to stream the data from DynamoDB to ElasticSearch using a custom Lambda There used to be a blueprint available to get the job done but it was removed "},
{"id": 25923, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T17:23:41Z", "scrap_date": "2024-05-01T00:36:10.042624", "content": "I am curious if elasticsearch is the best option As far as i understand the aws service is not really managed So you have to choose which ec2 instance you use and this service has to be always on Is there anything comparable to lambdadynamodb etc where only the real consumption has to be paid and not too expensive "},
{"id": 25924, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T17:53:17Z", "scrap_date": "2024-05-01T00:36:10.042624", "content": "I believe it is managed as you dont have to install or maintain anything yourself But it is true you have to pay for every x amount of time you use it If you dont want this you could consider Cloudant IBM Service The free plan could perhaps work for your startup You can check the pricing here httpswww ibm comanalyticsusentechnologyclouddataservicescloudantpricing You could even consider dropping DynamoDB completely then or you could stream the DynamoDB records to Cloudant like you would with ElasticSearch Both Cloudant and ElasticSearch are built on top of Lucene so query capabilities will be similar Btw did you actually calculate how much the costs will be when using Elasticsearch Could be that they are still very low "},
{"id": 25925, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T18:24:49Z", "scrap_date": "2024-05-01T00:36:10.044624", "content": "Another popular solution is Algolia Its basically a managed search index where you pay for a certain number of operations rather than choosing an instance size "},
{"id": 25926, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T19:19:41Z", "scrap_date": "2024-05-01T00:36:10.045624", "content": "If you start exploring dynamoDB you will quickly be stuck at the how do I query my data now question Im working on a personal implementation of a true serverless backend for my web app My pick is based on one of the first website who did serverless backend dekki com They use Algolia for any kind of query For the rest they rely on dynamoDB when you just have to fetch your item by its key basically Algolia has a nice free tier that should be enough for a small personal project When you decide on your stack and start building it let us know how it goes and what limitations you encounter Have a look at my personal project if that can give you some clue httpsgithub comThommasvgadb My next step is to listen to dynamodb event and send the data to an Algolia index Then I will be able to query my data by any field "},
{"id": 25927, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T20:04:47Z", "scrap_date": "2024-05-01T00:36:10.046625", "content": "Thommas in the Lambda interface in AWS a blueprint is available which can be used as a starting point to stream the data to Algolia you would still have to map the DynamoDB stream events to the Algolia requests I have used this to stream my data to ElasticSearch Might be of help for you "},
{"id": 25928, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T20:39:24Z", "scrap_date": "2024-05-01T00:36:10.047625", "content": "Thanks I will have a look you would still have to map the DynamoDB stream events to the Algolia requests I was expecting to do this I might want to not store every field of my objects in Algolia only the fields I want to query I have used this to stream my data to ElasticSearch Based on this articles conclusion Why did you rely on ElasticSearch and not Algolia for queries We created Algolia to answer the shortcomings of database full text search It is a SaaS API dedicated to solving app and web developers struggles Maybe you were using ElasticSearch for analytics or logs only Edit nvm this article is too old "},
{"id": 25929, "question_id": 2592, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-30T20:58:26Z", "scrap_date": "2024-05-01T00:36:10.048626", "content": "Not the best reason but a requirement for the project was to only use AWS services If i had the choice to pick a different service i think i would have used Cloudant because i have good experience with Cloudant But Algolia sounds like a good pick as well i guess all of them have atleast some pros and cons"},
{"id": 26572, "question_id": 2657, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-09-08T00:57:50Z", "scrap_date": "2024-05-01T00:36:11.009581", "content": "but I dont see anything about passing data from that i e user ID into the called function From the manual see Amazon API Gateway For the Lambda proxy integration the context object returned from an custom authorizer is passed to the backend Lambda function as part of the input event You can retrieve the context keyvalue pairs in the Lambda function by calling event requestContext authorizer key For the preceding custom authorizer example key is stringKey numberKey or booleanKey Their values are stringified i e stringval 123 or true respectively "},
{"id": 26573, "question_id": 2657, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-08T22:06:33Z", "scrap_date": "2024-05-01T00:36:11.010581", "content": "Thank you for this it was very helpful This got me where I needed to go I wish the Serverless docs would have linked to this it would have saved me a ton of time I suppose they expect you to know Lambda well but I think there are a lot of people coming in myself included who only use Serverless as their Lambda exposure "},
{"id": 26622, "question_id": 2662, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-09T12:46:11Z", "scrap_date": "2024-05-01T00:36:11.583579", "content": "Before you spend too much time building metrics into your Lambdas have a look at CloudWatch Lambda doesnt really have the concept of middleware If you need more then export a new function that implements the middleware and have it call your old function "},
{"id": 22992, "question_id": 2299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-06T17:58:27Z", "scrap_date": "2024-05-01T00:36:12.658738", "content": "how did you resolve it"},
{"id": 22993, "question_id": 2299, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-11T07:03:49Z", "scrap_date": "2024-05-01T00:36:12.659739", "content": "two7sclash try running sls logout then deploying "},
{"id": 25832, "question_id": 2583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-07T21:52:46Z", "scrap_date": "2024-05-01T00:36:13.654759", "content": "Sounds like you should be deploying those resource in to a separate AWS account Serverless requires IAM privileges to deploy a service so that it can create the requisite IAM roles for you functions so theres not much you can do to lockdown a user that needs to deploy Serverless services "},
{"id": 25833, "question_id": 2583, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-09-13T05:36:27Z", "scrap_date": "2024-05-01T00:36:13.655759", "content": "Thanks for the response are you sure there is no way to do it in same account where each user is isolated and limited to just his functions in case of Lambda "},
{"id": 25834, "question_id": 2583, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-14T09:52:23Z", "scrap_date": "2024-05-01T00:36:13.656759", "content": "arrayaddu You cant The best practice with Lambda is for each developer and environment to have their own AWS account "},
{"id": 27032, "question_id": 2703, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-15T00:31:25Z", "scrap_date": "2024-05-01T00:36:14.695767", "content": "Currently we have the client request a signed URL using API GW Lambda It then directly uploads the file to S3 and makes another call API GW Lambda DynamoDB to store information about the upload This works for us because we need a lot more information than just a file being uploaded "},
{"id": 27033, "question_id": 2703, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-18T16:23:18Z", "scrap_date": "2024-05-01T00:36:14.696767", "content": "Were doing the same as Buggy Client hits requests a S3 PresignedPost via APIG Lambda which uploads directly to S3 Then posts upload related details via APIG Lambda DynamoDB"},
{"id": 27034, "question_id": 2703, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-09-20T20:20:21Z", "scrap_date": "2024-05-01T00:36:14.697776", "content": "I get a presigned URL via AWS IOTlambda since my headless device is identified via a certificate instead of an AWS user ID Another PUBLISH is used to load the metadata into DynamoDB When I generate the presigned URL I put the CognitoID of the human owner in the files path "},
{"id": 28522, "question_id": 2852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T03:29:21Z", "scrap_date": "2024-05-01T00:36:15.784677", "content": "Are all the variables mentioned specified Specifically are you defining all of the variables in the provider section of your serverless yml which you havent included Also I think the Resource section in your iamRoleStatements should be an array i e Its a little confusing because its Resource and not Resources but thats how IAM works "},
{"id": 28523, "question_id": 2852, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-11T09:23:20Z", "scrap_date": "2024-05-01T00:36:15.785677", "content": "Thank you it was simply the way Id defined the Resource block as I suspected but didnt know how to fix although it was fairly obvious looking at the rest of the YAML but it always is once youve done it You were absolutely correct that I needed to defined the Resource using that array functionality"},
{"id": 28202, "question_id": 2820, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-04T21:47:48Z", "scrap_date": "2024-05-01T00:36:16.777927", "content": "You will find that implemented here httpsgithub comserverlessexamplestreemasterawsnoderestapiwithdynamodb"},
{"id": 28203, "question_id": 2820, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-09T07:24:53Z", "scrap_date": "2024-05-01T00:36:16.778927", "content": "You might also want to look at signed URLs to provide time limited access to the files in S3 "},
{"id": 28204, "question_id": 2820, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-09T07:54:31Z", "scrap_date": "2024-05-01T00:36:16.779933", "content": "Thanks i have started using API Lambda with the files stored in S3"},
{"id": 28205, "question_id": 2820, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-16T03:13:43Z", "scrap_date": "2024-05-01T00:36:16.779933", "content": "This might help Architect a real time search platform using the Serverless Framework and AWS Lambda API Gateway Kinesis Algolia"},
{"id": 29902, "question_id": 2990, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-11-03T09:10:25Z", "scrap_date": "2024-05-01T00:36:17.861153", "content": "Its hard to answer this in a general sense Ill give you what Im doing though I have an ownership account which manages DNS cloudtrail etc I have a CI account and a prod account for the app I run my staging workflows from my CI account Right now DNS is manual I update the ALIAS entry in the ownership account once the stacks have been created in the CI or prod account I have codepipelines in both my CI and my prod accounts CI does the build puts it on staging etc There is then an approval stage When approval is authorized I have a custom Lambda function that moves the code into a production S3 Bucket I then have a pipeline in production that builds the code from S3 as opposed to github "},
{"id": 23522, "question_id": 2352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-23T21:16:26Z", "scrap_date": "2024-05-01T00:36:18.951913", "content": "Youll want to create a CloudFront Distribution in front of your bucket and do your SSL there This also means you can use AWS ACM for your certificates and get them for free "},
{"id": 23523, "question_id": 2352, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-10-25T00:26:30Z", "scrap_date": "2024-05-01T00:36:18.952914", "content": "I am not sure that is accurate Describes how CloudFront processes viewer requests and responses for your custom origin ClientSide SSL Authentication CloudFront does not support client authentication with clientside SSL certificates If an origin requests a clientside certificate CloudFront drops the request "},
{"id": 23524, "question_id": 2352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-10-25T01:08:26Z", "scrap_date": "2024-05-01T00:36:18.953914", "content": "Whoops looks like I confused clientside certificates with serverside certificates"},
{"id": 23525, "question_id": 2352, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-13T02:08:05Z", "scrap_date": "2024-05-01T00:36:18.953914", "content": "I achieved this by using the client side certificate to attach to AWS IOT Then I made an IOT function that returned a JWT token to the client That token has the serial number from the client certificate embedded in it You then exchange the token for temporary credentials I am working in C but this should all be possible from Javascript in a browser Check out developer authenticated identities "},
{"id": 31702, "question_id": 3170, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-24T12:32:57Z", "scrap_date": "2024-05-01T00:36:20.081215", "content": "tomiwaAdey Its probably not too late to learn new tricks but you need to stop thinking in terms of servers and long running scripts For example You have a Lambda triggered from a DynamoDB stream that reads the contents of a URL and places it into S3 one invoke one URL Placing the content into S3 triggers a Lambda that processes the file doing what ever script B does but also adding new URLs to DynamoDB triggering the first Lambda to grab additional content Using DynamoDB over Kinesis Streams or SNS will help keep track of which URLs youve previously processed and DynamoDB streams will auto scale unlike Kinesis Streams "},
{"id": 31922, "question_id": 3192, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-28T13:53:44Z", "scrap_date": "2024-05-01T00:36:20.997378", "content": "Maybe thisll help httpsgithub comgothinksterangularjsrealworldexampleapptreemaster Also see there page for a link to the live demo Its a productionready Medium clone the end product of this tutorial by thinksterIO httpsthinkster ioangularjses6tutorial "},
{"id": 31923, "question_id": 3192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-03T10:30:58Z", "scrap_date": "2024-05-01T00:36:20.998375", "content": "I dont know if there are any readymade CMS solutions which you can just drop on top of your APIs Youll have to do some development no matter what frameworks or technologies you choose aristanoble s suggestions are Angularbased Here are some for React Michael Wanyoike walks you through building a fullstack JavaScript CRUD contact list application using Node FeathersJS and MongoDB for the backend API Building a singlepage CRUD app using React and Redux can be challenging because youll have to deal w new techniques and terms like Reading time 10 min read"},
{"id": 31924, "question_id": 3192, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-04T19:58:26Z", "scrap_date": "2024-05-01T00:36:21.000376", "content": "thanks guys I also had an idea that perhaps I could change the scaffolding templates in a RubyRails or GroovyGrails app so that they call external services i e my crud api gateways rather than internal orm methods"},
{"id": 33212, "question_id": 3321, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-14T19:20:51Z", "scrap_date": "2024-05-01T00:36:21.727917", "content": "This is a good question I think you would need to persist the stream elsewhere s3redshift _ _ for replays I dont know if any stream service retains the transaction logs forever Would make event sourcing much easier P "},
{"id": 33213, "question_id": 3321, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-14T19:47:13Z", "scrap_date": "2024-05-01T00:36:21.728914", "content": "thanks it hard to get some solid examples of solutions to all the various dynamodb limitations getting around transactions replaying views etc"},
{"id": 7092, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-08T14:29:50Z", "scrap_date": "2024-05-01T00:36:22.555228", "content": "Ive never created a CD pipeline for a Serverless project but I have done plenty of them for RoR projects and one for a Net project Having a private repo shouldnt be a problem and you shouldnt have to pay for anything except hosting costs I suggest you go with TeamCity for your deployment pipeline since its free up to 25 projects and Bitbucket offers free private repo hosting TeamCity like most other CD platforms allows you to break up your pipeline into build steps Usually Step 1 would be building the project For a Serverless project that means running npm install The second step might be to run your tests so npm test And the third step might be to deploy the code to whatever your staging environment is like dev or alpha TeamCity also allows you to create sub projects which I used to separate my different environments This isnt the only way to separate environments but its the way I chose So you can set your staging environment to automatically pull down build and test your changes everytime you push up code chages but then have production only run when you log into TeamCity and actually click the Build Now button You can also have production only run once you tag a release or if you merge in changes to a branch named production It all depends on what works best for you Like I said before though I never set up a pipeline for a Serverless project so Im sure there are plenty of gotchas out there I havent done one to figure out what those are "},
{"id": 7093, "question_id": 709, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-11-12T07:33:56Z", "scrap_date": "2024-05-01T00:36:22.558223", "content": "I did not try it on my own but studied a bit looks quiet interesting LambCI its a CI environment built on Lambda hence even nearly no hosting costs Serverless continuous integration LambCI has 15 repositories available Follow their code on GitHub If you find it useful and do some testing I would be really interested in your findings "},
{"id": 7094, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-15T22:31:41Z", "scrap_date": "2024-05-01T00:36:22.559223", "content": "Anyone done any blog post or similar with lambCI serverless framework Cause feels like lambCI serverless framework should be a good fit So would be awesome to have something to look at"},
{"id": 7095, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-02-09T14:40:07Z", "scrap_date": "2024-05-01T00:36:22.560224", "content": "Im using BitBucket org with their pipelines its super quick to set up with a single configuration file The file format is pretty simple and you can do just about anything you want as each build runs in a docker container An SLS deployment shouldnt take more than 1530 minutes to setup as long as you are only doing unit testing Integration testing will likely involve more effort Currently you get 300 minutes a month free I havent yet seen any long term pricing on it "},
{"id": 7096, "question_id": 709, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2017-02-15T13:51:02Z", "scrap_date": "2024-05-01T00:36:22.561223", "content": "1 for the Bitbucket Pipelines CICD I have a simple yml file that specifies how to build and deploy for a dev version and a production version You can then combine that with the environment variables within Pieplines configuration and Serverless to ensure you do not store details such as web service AWS and database credentials in GIT which is always painful Here is an example of our yml deploy configuration note this is our full deploy config Because of the environment variables being setup within Pipelines we dont need to redact anything from the deploy script and no confidential data in git "},
{"id": 7097, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-03-07T05:06:22Z", "scrap_date": "2024-05-01T00:36:22.562224", "content": "use gitlab com it has CI as well as free private repos"},
{"id": 7098, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-23T15:40:14Z", "scrap_date": "2024-05-01T00:36:22.562224", "content": "mattfilion so Matt If I understand correctly you are suggesting that the CI server would start the SLS deployment creating a different stack run the integration tests using that stack and then destroy the newly created stack Is that right Any thoughts on this approach Wouldnt be slow or costly garethmcc I dont see the testing step Are you running tests"},
{"id": 7099, "question_id": 709, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-23T16:00:33Z", "scrap_date": "2024-05-01T00:36:22.563225", "content": "Yes you could create a temp stack or use something like serverlessoffline to mock the functionality Optionally if you wanted to get super clever you could always do some sort of redblack deployment where you do your deploy run your tests against the new deploy and then change whatever routes the traffic to point to the new one Though this is probably only appropriate for production For reference here is the script I use for my deployments In my case Im optimistic about my dev builds in that breaks will be rare and when they happen I can fix them quickly So I just push then run newman if it breaks then a new build will happen to resolve the break "},
{"id": 70910, "question_id": 709, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-04-23T16:46:09Z", "scrap_date": "2024-05-01T00:36:22.565225", "content": "Hi there Same as with mattfilion we run the build and deploy on the pipelines CI server We have also just recently added the yarn test command added the serverlessoptimizer plugin to reduce per function size which makes deployment faster and more streamlined and ensure that all of our dev tools such as mocha chai serverlessoffline etc are marked as only for dev so that the lambda server doesnt include them either Mocha works beautifully with Pipelines as a failed test immediately stops the deployment and then pipelines can notify you of failed deployment Weve already caught some very interesting integration bugs with this setup Currently every service has a vagrant machine defined as a part of the project purely for dev testing purposes Every developer working on a service has to vagrant ssh into the machine for that service in order to accurately run the tests Bear in mind with this setup functions are never down The lambda only switches to the new version in S3 once its pushed Any currently running functions continue to use the old version until they are finished I believe but may be wrong that they also need to time out before the new version is used so it even gives you a few minutes buffer as Lambda doesnt destroy functions immediately once finished "},
{"id": 70911, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-24T07:50:16Z", "scrap_date": "2024-05-01T00:36:22.567225", "content": "hellomichibye has written a blog post and created a template for a CICD pipeline for a Serverless application httpscloudonaut ioawsvelocityserverlessapp"},
{"id": 70912, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-04-27T20:23:44Z", "scrap_date": "2024-05-01T00:36:22.567225", "content": "What do you all do with the cloud formation files that the deploy creates in addition to your source zip Do you cache these between deploys Let the deploy recreate each time"},
{"id": 70913, "question_id": 709, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-20T13:55:14Z", "scrap_date": "2024-05-01T00:36:22.568226", "content": "Also recommend you take a look at the article GitHub vs BitBucket vs GitLab Developers Research Im sure it will be useful for you "},
{"id": 33882, "question_id": 3388, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T09:33:59Z", "scrap_date": "2024-05-01T00:36:23.271600", "content": "I would let the front end submit each line to a temp DynamoDB table then process each line with your different Lambdas"},
{"id": 33883, "question_id": 3388, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-29T18:29:51Z", "scrap_date": "2024-05-01T00:36:23.272600", "content": "Actually I take that back After thinking about how I would do it I would do it with an ETL job and AWS Glue Good luck "},
{"id": 33982, "question_id": 3398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T01:36:12Z", "scrap_date": "2024-05-01T00:36:24.099316", "content": "Whats the api gateway request Do you mean the method such as PUTPOSTDELETE or the paths that admin users can access specified This is the template for the methodArn you can define in policy when calls custom authorizer handler Amazon API Gateway So what you can define for different users are two parts only And read this document as well to see if it is helpful for your question Today Amazon API Gateway is launching custom request authorizers With custom request authorizers developers can authorize their APIs using bearer token authorization strategies such as OAuth using an AWS Lambda function For each incoming request "},
{"id": 33983, "question_id": 3398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T15:52:40Z", "scrap_date": "2024-05-01T00:36:24.100316", "content": "yes I meant the methods but if I use one authorizer doesnt it mean that this authorizer has to do some sort of checking of a whole list of allowed method arns and allowed roles for those methods meaning that as time goes by I would need to keep maintaining a mapping of method arns roles in the authorizer "},
{"id": 33984, "question_id": 3398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T17:54:01Z", "scrap_date": "2024-05-01T00:36:24.101316", "content": "To do this with Cognito and AWS_IAM authentication on API Gateway youd use two different Identity pools one for normal users one for admins When you log in via those two pools you receive two different roles The role policy for normal users only allows access to the normal lambda functions name the functions user and match on user The admin role policy allows access to normal plus admin functions name the functions admin and match on user admin So now if a normal user tries to call an admin function AWS wont let them I believe it is free when AWS denies a function call like this so if someone tries a million requests hacking the admin API it doesnt cost anything "},
{"id": 33985, "question_id": 3398, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T20:15:42Z", "scrap_date": "2024-05-01T00:36:24.103317", "content": "jonsmirl If the normal users can only access several normal lambda functions such as service 12 5 the other normal users can access service 257 what should we do Does Cognito support to create as more groups as possible not only two groups adminnormal "},
{"id": 33986, "question_id": 3398, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-02T20:59:30Z", "scrap_date": "2024-05-01T00:36:24.103317", "content": "You can make as many Cognito pools are you want But you will need to come up with some scheme for getting the correct users into the pools "},
{"id": 34492, "question_id": 3449, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-07T23:38:28Z", "scrap_date": "2024-05-01T00:36:25.195123", "content": "Amazon API Gateway has a feature that enables customers to create their own API definitions directly in front of an AWS service API In fact your idea is good you dont have to always send the requests to lambda aws provides other way such as DynamoDB Kinesis cloudwatch The choice depends on your own business I think you are following this aws document httpsaws amazon comblogscomputeusingamazonapigatewayasaproxyfordynamodb for the implementation to let api gateway talk to dynamodb via AWS Service Proxy"},
{"id": 34493, "question_id": 3449, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-10T08:57:45Z", "scrap_date": "2024-05-01T00:36:25.197124", "content": "Yeah I did this for a while for one of our calls httpsdrive google comopenid1bZ969fStZkwQR8TB5Yv11gePchwk9x Initially I did it for the performance I found that since we didnt need the performance improvement on the call the overhead of maintaining the Apache Velocity code just became a drag at some point so I converted it over to Lambda Perhaps if this was the primary call of the system and it would save significant money on Lambda calls that might be another reason to do it Carmine"},
{"id": 34494, "question_id": 3449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-14T17:04:43Z", "scrap_date": "2024-05-01T00:36:25.198124", "content": "Thank you for your contribution I performed this by using API GW UI And yes there is an overhead maintaining the Apache Velocity code Do you know if AWS SAM do a better job I think we need to create a Swagger file with all API GW configuration and Apache Velocity code "},
{"id": 34922, "question_id": 3492, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-12T17:29:38Z", "scrap_date": "2024-05-01T00:36:26.236443", "content": "If you can create a CloudFormation template to do all that provisioning and configuration you could add that as a resource in one of your serverless yml files "},
{"id": 34923, "question_id": 3492, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-01-12T20:07:03Z", "scrap_date": "2024-05-01T00:36:26.237441", "content": "I think there are three ways to deal with it Cloudfront is just another layer you can add cloudfront resources in serverless yml directly they use cloudfornation yaml template and syntax you can references api gateway resources to cloudfront output serverless api gateway resource in serverless yml deal with cloudfront deployment reference api gateway resources from cloudformation outputs variables you still need set outputs from serverless so terraform can reference them maybe this is the simplest way but depand on your team skillsets on master terraform Please note cloudfront deployment takes long time normaly about 1520 minutes I recommend split api gateway and cloudfront deployment in two layers"},
{"id": 34924, "question_id": 3492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-15T11:34:53Z", "scrap_date": "2024-05-01T00:36:26.239441", "content": "These are both great responses thanks for the help bill Java1Guy I dont think I can allow one serverless yml to coordinate the deployment because there are several repos each with their own serverless deployments each running on CI Maybe I should use a different CI strategy instead of at the individual repo level Any ideas"},
{"id": 34925, "question_id": 3492, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-15T19:37:12Z", "scrap_date": "2024-05-01T00:36:26.240447", "content": "There is no limits for you My current serverless project has serveral serverless stacks you just need define the outputs so others can reference them easily "},
{"id": 35442, "question_id": 3544, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-01-18T16:57:06Z", "scrap_date": "2024-05-01T00:36:27.011917", "content": "If you can do direct lambda calls that will be cheaper and faster You will need to add IAM permissions for services to invoke each others functions "},
{"id": 35252, "question_id": 3525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-09T18:06:51Z", "scrap_date": "2024-05-01T00:36:27.868722", "content": "Hi Completely forgot about this question But should anyone else end up here in desprate search This is a good place to start httpsdocs aws amazon comAWSJavaScriptSDKlatestAWSCognitoIdentityServiceProvider html Regards Merc "},
{"id": 36942, "question_id": 3694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T15:30:30Z", "scrap_date": "2024-05-01T00:36:29.026469", "content": "Serverside in serverless You should look at the Userpool triggers like the PostConfirmation trigger I think that is what you are looking for "},
{"id": 36943, "question_id": 3694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-06T15:46:34Z", "scrap_date": "2024-05-01T00:36:29.027469", "content": "i want to create user generate user token and return the token all in the one funciton"},
{"id": 36944, "question_id": 3694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-07T01:05:45Z", "scrap_date": "2024-05-01T00:36:29.028469", "content": "Yes You can do this with the triggers and return it as part of the event I would not advice to do this for security reasons but may be okay depending on your use case "},
{"id": 36945, "question_id": 3694, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-12T23:20:58Z", "scrap_date": "2024-05-01T00:36:29.029470", "content": "i would be generating it from inside a oauth verification endpoint then redirecting and sending it to front end over https"},
{"id": 37592, "question_id": 3759, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-23T21:16:59Z", "scrap_date": "2024-05-01T00:36:29.697549", "content": "Im seeing the same behavior Almost every other call fails with a 403 Have you figured anything out since you posted this"},
{"id": 37593, "question_id": 3759, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-24T17:43:03Z", "scrap_date": "2024-05-01T00:36:29.699550", "content": "its because of cached authorizer results With custom authorizer the way the call works is if the returned Lambdagenerated policy is invalid or the permissions are denied the API call does not succeed The way the Caching works is For a valid policy whether allow or deny API Gateway caches the returned policy associated with the incoming token or identity source request parameters It then uses the cached policy for the current and subsequent requests over a preconfigured timetolive TTL period The default TTL value is 300 seconds Currently the maximum TTL value is 3600 seconds and cannot be increased Your authorizer probably caches for a particular arn access for the 300 seconds Either use wildcards for arn inside the authorizer or use TTL of 0"},
{"id": 37594, "question_id": 3759, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-25T09:37:10Z", "scrap_date": "2024-05-01T00:36:29.700550", "content": "A common problem with custom authorizers is only returning a policy valid for the current request You really should be returning a policy that includes everything the user can do If you only want to return a policy for the current request then set the timeout to 0 as walshe suggested The downside of turning off caching is that youll need to execute two Lambda for every API call and this will probably impact your performance "},
{"id": 38842, "question_id": 3884, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-02T19:18:58Z", "scrap_date": "2024-05-01T00:36:30.774548", "content": "This is great thanks for sharing I added it to our latest cronicle issue httpsserverless curated coissues25start "},
{"id": 39132, "question_id": 3913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T19:07:22Z", "scrap_date": "2024-05-01T00:36:31.629882", "content": "The best and recommended way is to get API rate limits raised from the provider If you cant this lib can help work around some of those limits httpsgithub comIndigoUnitednodetokendealer"},
{"id": 39133, "question_id": 3913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T20:27:57Z", "scrap_date": "2024-05-01T00:36:31.631323", "content": "Hi David Thanks for answer So you say that either have to raise limits which is cool or basically have several API keys and use them with nodetokendealer again raising limits in a cheeky way right But this does not tackle the core problem however large a my limits I can always appear in a situation where several of my serverless function reach the temp limit This more a question of control and management I guess your idea is to have one one for each api key serveless function that does all communication right The thing is that I thought that serverless really shine when we use some kind of atomic action Like function fetch one request vs function fetch all requests This is what I want to discuss As an example think of some queue architecture when servless function takes one of something and make an API call based on that Or is this a bad idea"},
{"id": 39134, "question_id": 3913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-03T22:07:44Z", "scrap_date": "2024-05-01T00:36:31.633321", "content": "You gotta bump up your API limits with whatever the API provider is avoid rate limiting Lambda by default is limited to 1000 concurrent innovations unless you ask AWS to raise your limits This means 1000 functions can all call the same API with the same key and you could see rate limit exceptions You need to handle these exceptions in your function code and add in retryfailover logic Or be sneaky and try rotating keys Even then you will want retyfailover logic"},
{"id": 39135, "question_id": 3913, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-09T08:00:33Z", "scrap_date": "2024-05-01T00:36:31.634321", "content": "Hi David OK gotcha I was hoping there will be some magic to remove step where code has to use retryfailover logic but good to know that this is no such trick too "},
{"id": 40322, "question_id": 4032, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-18T16:57:08Z", "scrap_date": "2024-05-01T00:36:32.664344", "content": "There are several ways Do you think about AWS Systems Manager Parameter Store With that you can assign different IAM permissions different devprod kms keys and use securestring to save the password in ssm"},
{"id": 40323, "question_id": 4032, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-18T17:06:55Z", "scrap_date": "2024-05-01T00:36:32.665344", "content": "Have a look at what I did in this post I generated the keys on AWS and then stored then in SSM "},
{"id": 40582, "question_id": 4058, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-21T05:07:06Z", "scrap_date": "2024-05-01T00:36:33.550497", "content": "Add below lines in your serverless yml For detail discussion about this limits check this url Hello I had strange issue with quantity of lablda functions ``` Error The CloudFormation template is invalid Template format error Number of resources 208 is greater than maximum allowed 200 For debugging logs run again after setting the SLS_DEBUG environment variable ``` Someone has in idea how I can handle this out _Note If I comment out several functions from yml file its starts to deploy so its for sure with count of functions that I have _"},
{"id": 40583, "question_id": 4058, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-03-21T06:31:28Z", "scrap_date": "2024-05-01T00:36:33.552497", "content": "Thank you so much bill It works You save my day Cheers John"},
{"id": 40772, "question_id": 4077, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-24T09:23:02Z", "scrap_date": "2024-05-01T00:36:34.368836", "content": "quote make it more secure Basic practice is disabling access to Mongo by limiting external IPs to a list but that seems to be not realistic with serveless right Should only loginpassword auth be enough So you need build mongodb in VPC and set lambda functions in that VPC as well "},
{"id": 40773, "question_id": 4077, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-29T07:20:24Z", "scrap_date": "2024-05-01T00:36:34.369837", "content": "Hallo Thanks Bill that is a nice idea I was hoping that something like this was possible I will try to find more info on Google VPC and how to put serverless function cloud functions there "},
{"id": 39582, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-08T06:43:22Z", "scrap_date": "2024-05-01T00:36:35.413464", "content": "RegNatarajan So what do you mean by mapping blank or You can map a domain like www lol com Can you please explain with an example and also what are you trying to do"},
{"id": 39583, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-08T07:23:55Z", "scrap_date": "2024-05-01T00:36:35.414465", "content": "Sure happy to elaborate In the API Gateways custom domain area you can set base mappings so that www mydomain xthis maps to the lambda function this and www mydomain xthat maps to the lambda function that This is all working perfectly My issue is that I also want something to happen when people simply go to www mydomain x no further base mapping just the root of the domain When I add a blank base mapping it says if I have a blank one I cant have any more I want to know if theres a workaround as obviously Id rather have something happen when people go to www mydomain x "},
{"id": 39584, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T05:50:47Z", "scrap_date": "2024-05-01T00:36:35.415465", "content": "RegNatarajan you will prolly have to do the root domainCNAME mappings via CloudFront or Route53"},
{"id": 39585, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T06:31:03Z", "scrap_date": "2024-05-01T00:36:35.415465", "content": "Thanks for that but I have already set up the domain for Cloudfront and I use Route53 to map to that Cloudfront FQDN I actually have to do that for the other mappings to work Setting up a second CNAME would obviously break the ones I have "},
{"id": 39586, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T15:03:38Z", "scrap_date": "2024-05-01T00:36:35.416465", "content": "This is a limitation of API Gateway Custom Domains You get either root mapping or 1 context mapping You could map your domain to a S3 bucket Then enable Static website hosting on the bucket and config configure Redirect requests to point to an API endpoint "},
{"id": 39587, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-14T17:55:00Z", "scrap_date": "2024-05-01T00:36:35.417466", "content": "Thats what I was afraid of Im not crazy about redirecting subfolders to the API directly as the URLs will be ugly I hope AWS addresses this but for now Ill just use a subdomain app mydomain com and accept that I cant have anything in Its not what I wanted to hear but thanks for the confirmation "},
{"id": 39588, "question_id": 3958, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-29T21:36:45Z", "scrap_date": "2024-05-01T00:36:35.418467", "content": "Thats what I was afraid of Im not crazy about redirecting subfolders to the API directly as the URLs will be ugly I hope AWS addresses this but for now Ill just use a subdomain app mydomain com and accept that I cant have anything in Its not what I wanted to hear but thanks for the confirmation I found out how to do this so Im answering my own original question It is definitely possible contrary to the posts above You need to deploy child resources off the root of your api and then create getpost methods in each of those child resources This lets you assign lambda functions to and to xxx and yyy and so on This should be easier but it isnt and at least theres a solution "},
{"id": 30272, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-05T08:44:01Z", "scrap_date": "2024-05-01T00:36:36.216985", "content": "My other question is using serverless like this with Lambda even good practice to create a website Do the limitations of Lambda get in the way"},
{"id": 30273, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-05T23:32:57Z", "scrap_date": "2024-05-01T00:36:36.217985", "content": "Hi I checked your solution You would be using a bazooka to kill a bee if u implement ur whole website like this For simple website hosting following is what i suggest Web site hosting use S3 bucket to store your static webiste files S3 bucket with static website hosting will make your S3 bucket a webserver but you can serve only static content For dynamic stuff you can use jquery or angular js and get dynamic data from apis Apis you write in serverless framework Note S3 bucket supports only http url for SSL you will need to connect S3 bucket to cloudfront distribution SSL certifcates aws provides free ssl certificates you can use aws cerrtificate manager to issue an ssl certificate to ur domain This certificate you can attach to ur cloudfront distribution Above all things can be done without using serverless framework by going in the aws console You would be using serverless technologies but not serverless framework Now as far as serverless framework is concerned ideally it should be used to get dynamic data in the webpage Making apis Let me know if this answers your question "},
{"id": 30274, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-06T00:55:41Z", "scrap_date": "2024-05-01T00:36:36.219986", "content": "Hi there this sounds about right I was curious how to use it correctly So I was thinking using ReactJS Library maybe with Redux as my HTMLCSS generating code base I believe reactJS can load the dynamic content via AJAX perhaps using the serverless framework to generate just the parts I need which I do like this design pattern My only worry is the SEO side of it For search engines to find my site its important the server side renders the results so that the SEO bot can find the text needed That text might be dynamic How do I solve this issue React JS uses javascript to render the text after the fact which the search engine bots fail to read from my understanding Essentially it will see an empty page without the content in it since most of the content is dynamic for everything Maybe I use serverside for the important SEO parts on the frontend side of the website and backend parts where you need a login I just do all client side rendering"},
{"id": 30275, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-23T01:07:41Z", "scrap_date": "2024-05-01T00:36:36.220986", "content": "x11joe I just came across the same thoughts Im basically gonna build a react app which display stuff based on settings Those settings are gonna be stored in a DB I need a server endpoint node lambda which retrieves such settings and displays the HTML page with contains the settings retrieved from the DB and the react app I could do what dhavalyours is saying store my static HTML file in S3 bucket and serve it Then use ajax to load such settings through an endpoint lambda But it would kill my SEO Hence the fact that Im looking for a solution using Serverless Im also thinking about serving some kind of template html file maybe handlebars "},
{"id": 30276, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-28T16:56:08Z", "scrap_date": "2024-05-01T00:36:36.222987", "content": "x11joe I just did a boilerplate for Serverless Handlebars SSR This is a simple projectboilerplate that put Serverless and Handlebars together in order to do simple Server Side Rendering GitHub Vadorequestserverlessssrhbs This is a simple projectboi Feedback welcome "},
{"id": 30277, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-02T19:33:12Z", "scrap_date": "2024-05-01T00:36:36.222987", "content": "Ive been implementing the same pattern s3Reactapigwlambda for the past month or so The fact that you are serverless doesnt really impact the SEO it would look like a normal React page which is popular enough that I would imagine people have given SEO quite a bit of thought It wasnt relevant in my case A quick Google search does turn up this httpsmedium freecodecamp orgseovsreactisitneccessarytorenderreactpagesinthebackend74ce5015c0c9"},
{"id": 30278, "question_id": 3027, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-03T12:32:35Z", "scrap_date": "2024-05-01T00:36:36.223987", "content": "Beware that serverless may impact SEO Indeed SEO needs fast responses if a SEO request doesnt get answered fast enough you may lose the preview mode preview on facebook slack etc And since serverless functions have a startup time if cold you may run into this issue Its probably not an issue if the lambdas replies fast but for those that need 6sec to get warm its likely gonna be an issue I dont have much feedback about this though mostly assuming behaviour here "},
{"id": 20712, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-07-19T09:50:42Z", "scrap_date": "2024-05-01T00:36:37.348042", "content": "I published a plugin to remove all the overhead from the Auto Scaling configuration Serverless Plugin for Amazon DynamoDB Auto Scaling configuration sbstjnserverlessdynamodbautoscaling"},
{"id": 20713, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T18:03:52Z", "scrap_date": "2024-05-01T00:36:37.349042", "content": "Nice add sbstjn Works great with one table Trying to use it with multiple tables CloudFormation fails creating the CloudWatch alarms with the following Error Is there any way you can include DependsOn clauses in the CloudFormation template where each alarm depends on the previous alarm to override the default parallelism of CF attempting to create the CW alarms Just a thought But great work Thanks "},
{"id": 20714, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-19T19:12:19Z", "scrap_date": "2024-05-01T00:36:37.350043", "content": "Hey Brett thanks for trying out the plugin How many tables do you try to update I just created five tables with Auto Scaling and everything works fine Can you provide an example serverless yml so I can reproduce this"},
{"id": 20715, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-19T20:22:58Z", "scrap_date": "2024-05-01T00:36:37.351043", "content": "Hi sbstjn It appears to work fine with one but fails with any more than one Here is a gist of a simplified serverless project If you comment out tables 25 in the autoscale yml it will deploy fine but fail if you have more than 1 uncommented Hope it helps "},
{"id": 20716, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-20T10:40:18Z", "scrap_date": "2024-05-01T00:36:37.352043", "content": "Thanks for the configuration files I created a GitHub issue for this Hopefully I can find a solution for this soon "},
{"id": 20717, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T11:26:56Z", "scrap_date": "2024-05-01T00:36:37.353038", "content": "I just released v0 2 0 which should prevent this But there is a breaking change in the configuration API Would be awesome if you can try the new version and check if your configuration still fails "},
{"id": 20718, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T15:00:18Z", "scrap_date": "2024-05-01T00:36:37.353038", "content": "Just gave it a go with the sample config I shared with you the other day and it all went smoothly Going to update the stack Im working on at DayJob01 and see how that goes Great work edit Looks like I spoke too soon Worked well when creating the stack fresh ie Included the building of the Tables But Updating a stack to Add Autoscaling to a stack that already had the Tables created is falling over Heres the error message from sls deploy"},
{"id": 20719, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-21T21:35:47Z", "scrap_date": "2024-05-01T00:36:37.354038", "content": "Getting a strange intermittent error Not sure if its in your code or in CFs implementation of the scaling functionality And its random as to what element it fails on Can be any of the 5 tables and either Read or Write and sometimes it actually succeeds Having another issue with trying to deploy to different stages as well But still trying to nail down precisely where its happening Will add that when I nail it down "},
{"id": 207110, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T10:14:06Z", "scrap_date": "2024-05-01T00:36:37.355038", "content": "Based on the AWS docs I think the expired token is a general problem but not directly related to the plugin Maybe the CloudFormation deploy process takes too long so a temporary token may expire I added more values to the DependsOn list in an open Pull Request Hopefully this will prevent the Rate exceeded errors Feel free to check out the branch or wait until a next release Regarding the API rate error I think you should request an inrease of the CloudWatch rate limit httpdocs aws amazon comAmazonCloudWatchlatestmonitoringcloudwatch_limits html"},
{"id": 207111, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-24T16:58:00Z", "scrap_date": "2024-05-01T00:36:37.356039", "content": "The other issue I was trying to pin down Seems that the Role the plugin creates DynamoDBAutoscaleRole table isnt stage specific so when trying to deploy to another stage it burps trying to create a Role that already exists "},
{"id": 207112, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-24T17:09:32Z", "scrap_date": "2024-05-01T00:36:37.357039", "content": "True I will add the stage to the namings "},
{"id": 207113, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-24T02:25:46Z", "scrap_date": "2024-05-01T00:36:37.358039", "content": "I installed the plugin and configured When I deploy I do not get any errors but the auto scaling properties of the tables do not change I am trying to set auto scaling for two tables and there are no indexes Any ideas"},
{"id": 207114, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-08-24T14:59:34Z", "scrap_date": "2024-05-01T00:36:37.358039", "content": "Did you include the following in your serverless yml I only ask because I ran into this at first as well Hope it helps "},
{"id": 207115, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-27T15:00:39Z", "scrap_date": "2024-05-01T00:36:37.359039", "content": "Having the same problem as bfieber sbstjn upon stack update I think its still hitting the PutMetricAlarm limit An error occurred irhbackendTableScalingPolicyReadSponsorshipsDbThorndikeUseast1 Unable to create alarms for scaling policy irhbackendTableScalingPolicyReadSponsorshipsDbThorndikeUseast1 due to reason Rate exceeded Service AmazonCloudWatch Status Code 400 Error Code Throttling Request ID dad4cc23d37611e7842ba3d7d952d5ce Looks like the dependencies you currently have are all logical dependencies I think you need illogical dependencies i e dependencies to the other scaling policies and scaleable targets being created simultaneously because those are the ones that add up to the rate limit "},
{"id": 207116, "question_id": 2071, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-03T13:39:37Z", "scrap_date": "2024-05-01T00:36:37.360040", "content": "Hi sbstjn When executing sls package I have this error Serverless plugin serverlessdynamodbautoscaling initialization errored Unexpected token It is strange because the only things I did was npm install serverlessdynamodbautoscaling serverlessdynamodbautoscaling 6 2 node_modulesserverlessdynamodbautoscaling md5 2 1 charenc 0 2 crypt 0 2 isbuffer 1 6 lodash 17 5 and added plugins serverlessdynamodbautoscaling to the serverless yml file Adding this configuration doesnt solve the problem custom capacities table applicationsTable DynamoDB Resource index List or single index name read minimum 1 Minimum read capacity maximum 5 Maximum read capacity usage 0 75 Targeted usage percentage write minimum 1 Minimum write capacity maximum 5 Maximum write capacity usage 0 5 Targeted usage percentage Do you have any idea what might cause this error Pieter"},
{"id": 33962, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-29T07:33:26Z", "scrap_date": "2024-05-01T00:36:38.307000", "content": "My question though is this How do I guard the createOrUpdateUser api to stop it being maliciously getting called by anyone other than the react app If you can use Amplify or Auth0 then your life will be a lot easier I think youve simplified OAuth too much Part of the process involves validating the temporary token you receive in the callback while you exchange it for a one you can use with API calls During this step you can issue your own session token to the React app The API to exchange the token doesnt really need protecting There are a bunch of checks you need to do before calling the OAuth provider and the OAuth provider will return a failure if the code is wrong "},
{"id": 33963, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T00:38:56Z", "scrap_date": "2024-05-01T00:36:38.308001", "content": "Amplify Whats the product do you have its website for reference"},
{"id": 33964, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-30T00:47:36Z", "scrap_date": "2024-05-01T00:36:38.309010", "content": "bill Its an open source project from AWS that integrates a number of existing products Cognito Pinpoint S3 etc so that theyre easy to use in a serverless environment A declarative JavaScript library for application development using cloud services GitHub awsamplifyamplifyjs A declarative JavaScript library for application development using cloud services "},
{"id": 33965, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T00:48:26Z", "scrap_date": "2024-05-01T00:36:38.310013", "content": "Thanks a lot buggy"},
{"id": 33966, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T17:22:53Z", "scrap_date": "2024-05-01T00:36:38.311007", "content": "yeah I think I had it wrong a bit Actually I cannot use Auth0 in this case I think Basically a site called BigCommerce authenticates the user and then forwards them to my app via a callback url with a oauth token so I think this is how it shoudl basically work now Some where along the way I will need to store user info from the oauth token in my own database I guess I could do some sort of createUserIfNotExists logic in my authorizer It does sound like a lot of logic to have to execute each time in an authorizer but if I use the time to live caching feature then it may not be so bad "},
{"id": 33967, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T18:49:44Z", "scrap_date": "2024-05-01T00:36:38.312008", "content": "There is AssumeRoleWithWebIdentity httpsdocs aws amazon comSTSlatestAPIReferenceAPI_AssumeRoleWithWebIdentity html This requires a supported identity provider Maybe your site is implementing OIDC It so you can set it up in IAM as an Identity provider There are also Developer Authenticated Identities httpsdocs aws amazon comcognitolatestdeveloperguidedeveloperauthenticatedidentities html With developer authenticated identities you can store the tokens in a Cognito Identity Pool "},
{"id": 33968, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-30T20:19:42Z", "scrap_date": "2024-05-01T00:36:38.313008", "content": "This is a fully working react serverless app with auth0 for auth Serverless Forms Service to collect form data with Admin UI GitHub serverlessformsservice Serverless Forms Service to collect form data with Admin UI I gave a talk on it recently no video yet here are the slides with further explanation of the setup httpbit lyslsauthslides"},
{"id": 33969, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-31T04:45:08Z", "scrap_date": "2024-05-01T00:36:38.314009", "content": "walshe Ive done something similar with Shopify and it required building two API to start and complete the auth process in order meet all of the validation requirements and keep my Shopify API secret from users I see BigCommerce now uses OAuth 2 0 so I imagine their process is similar I would strongly suggest that you start with pen paper then draw the authentication process on paper along with what information flows in each direction and what information you need to keep secret Once youve done that I think youll have a very different view of how it works "},
{"id": 339610, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T15:39:29Z", "scrap_date": "2024-05-01T00:36:38.315009", "content": "thanks for link DavidWells"},
{"id": 339611, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-02T15:41:13Z", "scrap_date": "2024-05-01T00:36:38.315009", "content": "thanks buggy Ill have a look authentication always such a bugbear of mine"},
{"id": 339612, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-20T04:22:22Z", "scrap_date": "2024-05-01T00:36:38.316009", "content": "BigCommerce doesnt support OIDC"},
{"id": 339613, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-02T18:30:24Z", "scrap_date": "2024-05-01T00:36:38.317009", "content": "buggy just one more on this In my oauth callback the lambda and after I do all the handshake process with the external provider I need to redirect to my react app obviously Since we cant use a session in a serverless architecture I am therefore creating a customjwt token and passing it to the react app as a query param over https in the redirect 302 All subsequent requests to my other apiglambdas use the jwt in the header and are checked by a custom authorizer where the jwt in the header is verified My question is if the passing of the token in the redirect is safe whats a better way"},
{"id": 339614, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T03:47:36Z", "scrap_date": "2024-05-01T00:36:38.318009", "content": "Currently my callback page is in the SPA After loading it calls my API using POST to get an access token This avoids needing to pass tokens as query string parameters which I dont like doing because the token is publicly displayed and potentially it appears in cache logs Lately Ive been looking at Cognito Amplify and AppSync so my approach might change in the next few days as I get more serious about that combination "},
{"id": 339615, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-04T13:31:27Z", "scrap_date": "2024-05-01T00:36:38.319010", "content": "ah so you are saying you get the external auth provider to callback to the SPA rather than a serverless apig and from there you do a post to your apig where the handshake is completed and then you just return the token back in the post response buggy"},
{"id": 339616, "question_id": 3396, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-06T10:37:22Z", "scrap_date": "2024-05-01T00:36:38.319010", "content": "walshe Correct My complete process is this login is part of the SPA It makes an API call that returns a JWT token which is stored in the browser and a redirect URL that the user is sent to callback is part of the SPA It passes the query string parameters plus the JWT token from the first step to another API which handles the authentication and returns a session token generated by the API to authenticate future API calls a different JWT This approach uses the JWT token like a session storage during the OAuth process and means the browser doesnt get access to anything it wouldnt have access to during the regular OAuth flow "},
{"id": 42602, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-19T23:19:52Z", "scrap_date": "2024-05-01T00:36:39.334029", "content": "hi walshe I have the same question so far I am using MongoDB with Mongoose for my serverless but recently I started looking at AppSync DynamoDB What is your experience with this database I see there are using many concepts which I havent heard off Sounds like you had some issues Thanks"},
{"id": 42603, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-20T01:31:32Z", "scrap_date": "2024-05-01T00:36:39.335030", "content": "are you asking about dynamodb if so I would start playing with dynamodb on its own without appsync first just to make it easier to understand"},
{"id": 42604, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-20T01:42:55Z", "scrap_date": "2024-05-01T00:36:39.335030", "content": "originally wanted to move to MySQLAurora because I have massive spikes in db writes I need to do at basically any time of day this leaves me unable to preset dynamodb to higher capacity for certain times and I dont trust the autoscale option Now with MySQL I see there are a whole pile of other issues the main one being what the best way is to cache a mysql connection in a warm lambda which all seems a bit dodgy too Anyone with any solid solutions there I basically have a lambda consuming a kinesis stream in the lambda I need to write to database My batch size is currently 1 but I may increase to get better throughput andor make better use of mysql connections Anyone any idea when Aurora Serverless is out btw I guess that will be more expensive than dynamodb in any case"},
{"id": 42605, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-21T10:54:10Z", "scrap_date": "2024-05-01T00:36:39.337030", "content": "what kind of issues do you have with a connection I use mongodb and this is the approach I used httpswww mongodb comblogpostoptimizingawslambdaperformancewithmongodbatlasandnodejs the main problem I have was with serverlesssentryplugin the old version has a bug and it was impacting my mongodb connections it is fixed now btw"},
{"id": 42606, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-21T13:53:36Z", "scrap_date": "2024-05-01T00:36:39.338030", "content": "dawidt well I am going to have spikes in a post registration offline task where I need to save maybe 70000 rows in a short amount of time Even if I batch the inserts theres going to be a lot of connections required I did see that article and wondering if that is the general suggested approach to take I am also looking at FaunaDB which seems super cool in terms of scaling but its a bit pricy perhaps"},
{"id": 42607, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-22T20:46:08Z", "scrap_date": "2024-05-01T00:36:39.339031", "content": "if you can control all requests to your lambda and send them in batches one by one then the cached connection should be reused however when all requests will come at the same time or during your lambda is busy it will scale up and run it in another lambda which means a new connection will be created in terms of that article and mongodb I believe this is the best approach you can apply to your functions Ive never used FaundDB have a look at this one if you havent seen already httpswww jeremydaly commanagerdsconnectionsawslambdautm_campaignServerless2BDigestutm_mediumemailutm_sourceServerless_Digest_30"},
{"id": 42608, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T05:28:43Z", "scrap_date": "2024-05-01T00:36:39.340031", "content": "I recently needed to do a similar transition from SimpleDB to PostgreSQL to allow for more complex time series queries For a few reasons AuroraRDS wont work for me at the moment so Im currently running PostgreSQL on EC2 behind PgBouncer PgBouncer handles the connection pooling between Lambda and the database as well as providing a way to protect the database connection with TLS since I dont want to run my Lambdas in VPC Im using Alembic for migrations So far its been super simple to use coming from experience with DjangoSouth For ORM Im using a couple different solutions For general regular DB queries Im using Objection js which is an ORM wrapper around Knex But my project also uses GraphQL at the API layer so to avoid the N1 problem Im using JoinMonster which also uses Knex in the background By the way if you happen to be doing anything with time series data I highly recommend TimescaleDB Its an extension on top of PostgreSQL that enables highly performant time series insertions and queries So far its been working spectacularly for my 2M row datasets "},
{"id": 42609, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T14:01:47Z", "scrap_date": "2024-05-01T00:36:39.342032", "content": "thanks bennett very interesting I had trouble with RDS too couldnt connect from client outside aws but just found out yesterday that my aws account was in an isolated state or something but its good now Is it possible to use to install those extensions on an RDS postgres instance easily "},
{"id": 426010, "question_id": 4260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T15:21:19Z", "scrap_date": "2024-05-01T00:36:39.342032", "content": "Unfortunately no thats one of the reasons Im using EC2 Amazon has a whitelist of the extensions that are allowed to be installed on RDS Postgres and TimescaleDB currently isnt on there From what the creators say it sounds like the best way to get it added is just to submit feedback If enough people request it theyll put it on the list "},
{"id": 43332, "question_id": 4333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T12:28:01Z", "scrap_date": "2024-05-01T00:36:40.353762", "content": "Easiest to work from three different directories so that they each make a unique hidden serverless directory These directories can all be checked out from the same GIT Then set a local variable for DEV QA PROD in each directory Now when you sls deploy each copy of the serverless yml file can read the local variable and customize itself "},
{"id": 43333, "question_id": 4333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-25T08:23:46Z", "scrap_date": "2024-05-01T00:36:40.354759", "content": "Thank You for reply If I understand correctly I need to create 3 different s3 buckets each having DEV QA and PROD deployment packages having lambda handlers And each different stacks pointing to different s3 bucket environment And git will have 3 different working directories so how do i map git working directories to s3 buckets And how exactly do I promote code from DEV to QA to PROD Again Thank you very much for your time "},
{"id": 43334, "question_id": 4333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-25T22:09:00Z", "scrap_date": "2024-05-01T00:36:40.355765", "content": "You dont have to mess the S3 buckets Simply check your project out three times and set local variables for DEV QA PROD When you sls deploy from each of the three directories it will automatically create the S3 buckets for the cloud formation script It is also recommended that you run DEV QA and PROD under three different AWS accounts That way you can be sure that a mistake in your DEV environment wont delete the production database When you run sls deploy it creates the S3 buckets and uploads the lambda code "},
{"id": 43335, "question_id": 4333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-26T06:56:17Z", "scrap_date": "2024-05-01T00:36:40.356760", "content": "Ok However creating different AWS Accounts is not possible for us So to maintain different environment under same account do u think creating different s3 buckets with different deployment packages is a good idea Just to maintain different versions Also I am planning to have different Cognito cloudformation template and 2 SAM templates one for Lambda and one for DynamoDB I want to make sure that only authorized user of User Pool that is created in Cognito cloudformation template gets access to related Lambda and DynamoDB resources mentioned in 2 SAM templates I need to write a policy to restrict DEV lambda functions execution according to authenticated users of a particular environment For example DEV identity pool authenticated users can execute only DEV lambda functions QA identity pool authenticated users can only execute QA lambda functions PROD identity pool authenticated users can only execute PROD lambda functions I am already exporting userpool and identitypool arn as Outpout in cloudformation template but not sure how I can make it as input parameter to SAM templates Thanks again for all the help "},
{"id": 50702, "question_id": 5070, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T01:51:43Z", "scrap_date": "2024-05-01T00:36:41.457131", "content": "Cloud agnostic means that it works with multiple cloud providers Because serverless architectures are dependent on the underlying cloudservice provider you cant simply deploy an application to a different provider with modification more likely a rewrite "},
{"id": 50882, "question_id": 5088, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T16:33:16Z", "scrap_date": "2024-05-01T00:36:42.170300", "content": "You need to send back the headers with contenttypetexthtml as one of the entries You can also use a framework like Lambda API to handle this for you httpsgithub comjeremydalylambdaapi The response object from Lambda should look like this Documentation here httpsdocs aws amazon comapigatewaylatestdeveloperguidesetuplambdaproxyintegrations html"},
{"id": 50883, "question_id": 5088, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-16T17:24:07Z", "scrap_date": "2024-05-01T00:36:42.171300", "content": "Brilliant thanks I will try the standard solution and also take a close look at your API framework Appreciate the help "},
{"id": 50884, "question_id": 5088, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-17T02:09:44Z", "scrap_date": "2024-05-01T00:36:42.172300", "content": "jeremydaly I just wanted to follow up to say your solution worked perfectly and I really appreciate your help Thanks again "},
{"id": 50762, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T04:52:33Z", "scrap_date": "2024-05-01T00:36:42.818897", "content": "heres an example of an update call to table of a project I worked on var param ExpressionAttributeNames ipAddr IpAddress update LastUpdate ExpressionAttributeValues addr ipAddress time timeStamp Key MACAddress macAddress ReturnValues UPDATED_NEW TableName UpdateExpression SET ipAddr addr update time "},
{"id": 50763, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:01:54Z", "scrap_date": "2024-05-01T00:36:42.819897", "content": "Appreciate that thanks Do you have any Query code Im just amazed I cant find any that does more than console log I need to actually retrieve field values and use them "},
{"id": 50764, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:05:24Z", "scrap_date": "2024-05-01T00:36:42.820897", "content": "sure its a little harder to read primarily bc of the query upon return will then turn around and invoke the code you see above as well as potentially a PUT if the of rows returned is 0 dynamodb query findParam function error data if error console log error callback Error in UpdateDevice macAddress else if data Count0 blah blah blah do a put otherwise to an update"},
{"id": 50765, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:09:01Z", "scrap_date": "2024-05-01T00:36:42.821898", "content": "Were so close What Im looking for is how to access the data object returned by the query For instance how can you access the email address in your query data Email S doesnt work in my testing and neither does data items[0] email S How can you access that"},
{"id": 50766, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:21:59Z", "scrap_date": "2024-05-01T00:36:42.822898", "content": "that second parameter data is an array of whatever object you have stored in the Dynamo table for instance lets say your table was defined at email string macAddress string upon doing a query that didnt return an error youd be given an array of objects that will the contain 0 to N number of elements which satisfied the query the array has a property of Count which contain the number of rows returned In the case of Count 0 you can safely address the data array position of data Items[0] something like this would work "},
{"id": 50767, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:24:09Z", "scrap_date": "2024-05-01T00:36:42.823898", "content": "Youre a hero It worked I really really appreciate your help "},
{"id": 50768, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-15T05:26:40Z", "scrap_date": "2024-05-01T00:36:42.823898", "content": "honestly when in doubt let it error out just put alot of console log in your code so you can see what the objects look like properties will appear that will only improve your understanding and of course you are welcome "},
{"id": 50769, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:32:49Z", "scrap_date": "2024-05-01T00:36:42.824893", "content": "Just one more question if I may I am using API gateway to invoke my Lambda functions as Im trying to build an entirely serverless system If I put console log in my code that is invoked by browsing to a website can I see the output anywhere"},
{"id": 507610, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:37:14Z", "scrap_date": "2024-05-01T00:36:42.825893", "content": "if your console log message is in your lambda function it will appear in the cloudwatch logs created for your gateway apilambda function automatically by the serverless framework "},
{"id": 507611, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:37:58Z", "scrap_date": "2024-05-01T00:36:42.825893", "content": "Perfect A good project for tomorrow Thanks again "},
{"id": 507612, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-15T05:40:55Z", "scrap_date": "2024-05-01T00:36:42.826894", "content": "you are welcome its getting late here too need to hit the sack "},
{"id": 507613, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-07-19T22:20:04Z", "scrap_date": "2024-05-01T00:36:42.826894", "content": "DynamoDB was so tough to set up and query that my team switched back to RDSPostgres "},
{"id": 507614, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-20T08:25:32Z", "scrap_date": "2024-05-01T00:36:42.827894", "content": "The problem experienced here seems to be the misunderstanding that DynamoDB is not a drop in replacement for a relational database If you design your tables for DynamoDB the way you do for a postgres or mysql you will end up having issues For example there is no need to have relations You can store relations as objects within an item in Dynamo You also cant just query willy nilly You need to understand the access patterns of your application and then add keys around that access otherwise you will suffer frustration at the sheer cost of running scans DynamoDB is also crap at doing things like regular imports or exports of large data sets You need to add ancillary services on in order to accommodate that For example I use the DynamoDb stream on a table to send changes to data to a lambda function which persists them in an S3 bucket When it comes time for the monthly CSV export the client wants it comes straight out of S3 DynamoDB is designed to be a keyvalue store with single digit millisecond latency on requests over its keys It is not a general purpose datastore "},
{"id": 507615, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-20T14:45:14Z", "scrap_date": "2024-05-01T00:36:42.829894", "content": "These are all good points garethmcc I actually think I understand the purpose of DynamoDB quite well and I understand that its not a traditional RDBMS When someone like me moves from an RDBMS to a NoSQL store there will undoubtedly be many hundreds or even thousands of cases where he has to relearn how to do something simple Thats all thats happening with me I will have a year or two in front of me to get as comfortable with NoSQL as I am with SQL and that year or two will be filled with pain and frustration In my case its exacerbated by having to also learn a new language Node which operates quite differently from what Im used to I obviously think its all worth the pain or I wouldnt do it "},
{"id": 507616, "question_id": 5076, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-23T05:07:39Z", "scrap_date": "2024-05-01T00:36:42.830895", "content": "Hi RegNatarajan My comment wasnt meant as criticism to any single person just a general FYI to anyone currently reading this thread or that may come along later and not be aware of these reasonably fundamental differences I am by no means a NoSQL or DynamoDB expert but Im learning "},
{"id": 44252, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T06:03:54Z", "scrap_date": "2024-05-01T00:36:43.833035", "content": "Looks great The only part I will recommend to improve is the part on how to manage secrets Maybe aws secrets manager is too new when prepare this wiki But I would recommend to use it more than parameter store Plus aws secrets manager has SDK directly and secrets rotation which is a perfect match with Lambda "},
{"id": 44253, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T06:21:10Z", "scrap_date": "2024-05-01T00:36:43.834196", "content": "Thanks for the feedback Indeed the secrets manager came out just recently and we havent migrated to it It looks good some people say its a bit expensive compared to other services offered by AWS "},
{"id": 44254, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T18:18:41Z", "scrap_date": "2024-05-01T00:36:43.834196", "content": "Cold start time can be greatly reduced by starting your services all in parallel Ive switched over to Go for my function Go is compiled and significantly faster than Node Go has Goroutines for parallel execution I used xray to look at my cold starts and noticed that each service waits 50200ms for a response when it starts So a big way to lower your cold start time is to do those waits in parallel Example in Go BTW I also only use the minimum sized lambda containers 128MB Again Xray helped me determine what was going on My functions are spending 8090 of their time waiting for AWS to respond It costs 4x as much to wait inside a 512MB instance as it does to wait in a 128MB one Sure my code runs a little slower in the 128MB a few milliseconds but the performance difference is minor and my bills are 14 as much If a remote AWS API call is going to take 80ms to respond it takes 80ms so matter what size container your are in "},
{"id": 44255, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T18:36:32Z", "scrap_date": "2024-05-01T00:36:43.836193", "content": "You only have to use AWS Secrets Manager if you want to control the encryption keys By default each AWS account comes with one AWS generated key that is free to use So when you use System Parameter Store pick default encryption an it will use this free key AKAIK this key is identical to the Secrets Manager offering but AWS holds the private key for it instead of you I am not paranoid enough yet to worry about trusted AWS employees with access to the private keys getting into my stuff "},
{"id": 44256, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-06T20:03:51Z", "scrap_date": "2024-05-01T00:36:43.837194", "content": "Good points Even in Node its always better to run in parallel where possible await Promise all [ ] I know Go starts faster but were using JS heavily on all fronts "},
{"id": 44257, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-23T08:13:49Z", "scrap_date": "2024-05-01T00:36:43.838195", "content": "One other alternative to helping with the cold starts is to add a front controller Have a single function be the handler for all events and have it route to the required functions as needed For one this gives you great multivendor abstraction but it also means that you are not instantiating a cold start seperately for each function type All requests can reuse the same pool of warm lambdas There may be other problems with this approach like I said Ive only started looking into it But it may help "},
{"id": 44258, "question_id": 4425, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-27T21:31:28Z", "scrap_date": "2024-05-01T00:36:43.839194", "content": "Secrets Manager does more than just handle bring your own encryption keys it also has a Hashicorp Vault like capability where it can dynamically generaterotate login info for their various database solutions blog on the example August 31 2021 AWS KMS is replacing the term customer master key CMK with AWS KMS key and KMS key The concept has not changed To prevent breaking changes AWS KMS is keeping some variations of this term More info Recently we launched AWS Its not a bad option for those who have a simple app db relationship as it builds a more secure solution than a static encrypted password in a param somewhere uniquely generated short lived account per instance spawned We however ended up using a complete Hashicorp vault solution instead as it had more dynamic options available to it than the subset AWS Secret manager offered we make ops teams request temporary creds to login to aws at all for example Im not certain on the price difference between two instances vs Secrets Manager But the extra flexibility made for easy justification "},
{"id": 52732, "question_id": 5273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-30T09:59:17Z", "scrap_date": "2024-05-01T00:36:44.794018", "content": "For my own unit testing I like to use serverlessmochaplugin as well as awssdkmock so that I can mock any AWS services And this where using something like SNS would have been a boon because you could mock any number of responses and hard code some test event if your two services communicated via SNS instead of synchronously via http However there is a node module I have used that allows me to capture outgoing http requests and respond with whatever I like called mitm man in the middle You should ideally have tests that have no dependancy on any other service be they external third party or your own so these modules are very useful At least I have found they are httpswww npmjs compackageserverlessmochaplugin httpswww npmjs compackageawssdkmock httpswww npmjs compackagemitm Hope that helps "},
{"id": 52733, "question_id": 5273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-30T23:55:57Z", "scrap_date": "2024-05-01T00:36:44.796197", "content": "Thats a great start thanks I just noticed the SQS trigger support was added Were going to use those between services Add in awssdkmock and we should be off to the races"},
{"id": 52734, "question_id": 5273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-31T16:51:06Z", "scrap_date": "2024-05-01T00:36:44.797200", "content": "So have you used mitm to do integration testing IIm fiddling around with it right now Is the general premise to write a mitm handler with a conditional looking for any calls writing to aws and then pipe those to the awsmock library"},
{"id": 52735, "question_id": 5273, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-02T07:04:00Z", "scrap_date": "2024-05-01T00:36:44.797200", "content": "piersmacdonald mitm will capture all outgoing traffic you set it up to capture and then you can return whatever response you want I only really use mitm when i cant use awssdkmock for example for other third party APIs awssdkmock does what mitm does essentially but is only for aws services and is a lot easier to setup which is why both are in my tool belt "},
{"id": 32852, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-12-09T09:14:21Z", "scrap_date": "2024-05-01T00:36:45.836077", "content": "I have discussed this with buggy before with this ticket you can take a reference way 1 manage the custom variables for all environments in one place buggy s way way 2 manage custom variable files for each environment my way You neednt manage the branches for different environments you can put them in master branch directly "},
{"id": 32853, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T02:50:01Z", "scrap_date": "2024-05-01T00:36:45.838078", "content": "I was more talking about how to lay out the various serverless projects If I put all the projects inside one git project then a change to any one of them could cause the whole build process to redeploy all microservices each time Just looking for best advice really on how to structure them so that they can still share config but still builddeploy independently can codepipeline help with any of this"},
{"id": 32854, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T03:54:53Z", "scrap_date": "2024-05-01T00:36:45.839079", "content": "It sounds like youre talking about a monorepo Try googling deploy monorepo independently as the problem youre trying to solve which apps inside the monorepo need redeploying after a commit isnt a problem specific to Serverless The solution for other platforms could be applied to Serverless too "},
{"id": 32855, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T04:39:48Z", "scrap_date": "2024-05-01T00:36:45.839079", "content": "If they are totally different projects why not manage in different repositories if you want to manage similar projects then you can define the custom variables to reuse the codes "},
{"id": 32856, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-28T19:25:28Z", "scrap_date": "2024-05-01T00:36:45.840079", "content": "deploy monorepo independently thanks guys just trying to keep things easy to manage and keep track of for the moment I think Ill just put everything in one repo for the moment and eventually move things out as things take shape I guess for now I can always add some sort of script with git commands to check for folders that changed and then builddeploy only certain projects accordingly"},
{"id": 32857, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-01-08T05:53:13Z", "scrap_date": "2024-05-01T00:36:45.841079", "content": "Serverless keeps cache of deployed service in serverless folder so it wont redeploy it if nothing is changed If youre using circleci or similar you can keep serverless directories as an artifacts to speed up the process We recently opensourced tool that were using internaly httpsgithub com8bitesserviceless to deploy multiple services in parallel "},
{"id": 32858, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-08T15:07:13Z", "scrap_date": "2024-05-01T00:36:45.842079", "content": "ah great good to know"},
{"id": 32859, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-17T02:03:23Z", "scrap_date": "2024-05-01T00:36:45.842079", "content": "pvlasov dont suppose you have an example circleciother serverless monorep config where serverless folder is retained "},
{"id": 328510, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T00:40:19Z", "scrap_date": "2024-05-01T00:36:45.843080", "content": "have been trying bitbuck pipelines but cannot get caches to work "},
{"id": 328511, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T02:40:21Z", "scrap_date": "2024-05-01T00:36:45.843080", "content": "try to run from a serverless docker image which will be suitable for pipeline "},
{"id": 328512, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-22T23:55:50Z", "scrap_date": "2024-05-01T00:36:45.844080", "content": "that only complicates things further want to stay away from docker"},
{"id": 328513, "question_id": 3285, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-07-24T23:35:18Z", "scrap_date": "2024-05-01T00:36:45.845080", "content": "Hey walshe I ended up writing a chapter on this over at Serverless Stack In this chapter we will look at the common patterns for organizing Serverless Framework applications We will go over the microservice monorepo multirepo and monolith pattern Finally we will make some recommendations on the best way to organize "},
{"id": 50042, "question_id": 5004, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-11T06:12:54Z", "scrap_date": "2024-05-01T00:36:46.815577", "content": "So would you have your POST functions inside the VPC to store something in RDS and then use SQS or something to update Dynamo which your GET functions can read from"},
{"id": 50043, "question_id": 5004, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-12T15:30:03Z", "scrap_date": "2024-05-01T00:36:46.815577", "content": "That could be an option I would ask the question Why do you need RDS and if the answer doesnt require a realtime requirement then Id use DynamoDB to post data making it available for GETs as well and then use DynamoDB Streams to replicate the data into RDS That way your publicfacing functions are both outside of a VPC "},
{"id": 50044, "question_id": 5004, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-12T17:11:38Z", "scrap_date": "2024-05-01T00:36:46.816584", "content": "Hi Jeremy really awesome post quick question Is that possible for lambda not in vpc to access endpoints inside VPC"},
{"id": 50045, "question_id": 5004, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-09-12T18:35:20Z", "scrap_date": "2024-05-01T00:36:46.817584", "content": "No in order for your Lambda to access endpoints within a VPC the Lambda function must be inside that VPC as well However you can invoke VPC Lambda functions from other nonVPC Lambda functions and vice versa So if you need a function that can access your database perhaps a save operation you could package that into a VPC Lambda and then have another nonVPC service invoke it and pass the data to be saved You could either wait for the response with an InvocationType of RequestResponse or just pass the data off as an event using the Event invocation type "},
{"id": 59912, "question_id": 5991, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-30T12:15:22Z", "scrap_date": "2024-05-01T00:36:47.468192", "content": "The simplest solution is to invoke the Lambda directly "},
{"id": 60912, "question_id": 6091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T11:53:42Z", "scrap_date": "2024-05-01T00:36:48.623297", "content": "When you write the record you could add an additional attribute that contains those four values joined by a separator You would repeat the same process inside your Lambda to get the key to find the record You dont need to use a true hash function "},
{"id": 60913, "question_id": 6091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T13:58:54Z", "scrap_date": "2024-05-01T00:36:48.624298", "content": "it seems like a really good solution in out case and can be done in request VTL template But what if there would be much more complicated logic during record insertion"},
{"id": 60914, "question_id": 6091, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-10T22:14:37Z", "scrap_date": "2024-05-01T00:36:48.625306", "content": "If you cant solve it with VTL and DynamoDB then use Lambda"},
{"id": 59282, "question_id": 5928, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-28T02:42:29Z", "scrap_date": "2024-05-01T00:36:49.445219", "content": "Ive been playing around with some stuff to get this happening At the moment Ive managed to create and delete an aurora serverless instance Checkout httpsgithub comnibynoolserverlessaurora For migrations Im trying to work with serverlesspgmigrations available through NPM which appears to allow migrations for any DB supported by sequelizejs My biggest issue with Aurora Serverless is that it is inaccessible from outside AWS With this in mind Im trying to setup some sort of ondemand bastion host to make sure my migrations work as expected but it should be straight forward to manually create a bastion host if you want to verify your DB from outside AWS sorry for the lack of links as a new user Im restricted from posting too many in a single post "},
{"id": 59283, "question_id": 5928, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-24T04:15:20Z", "scrap_date": "2024-05-01T00:36:49.447220", "content": "CFN now supports the EngineMode property set it to serverless while creating a standard RDSaurora instance to end up with aurora serverless Should look something like this More data here httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawsresourcerdsdbcluster htmlcfnrdsdbclusterenginemode"},
{"id": 178022, "question_id": 17802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-11-07T10:39:54Z", "scrap_date": "2024-05-01T00:36:49.916241", "content": "Hi Good Afternoon A couple of common causes for this error Serverless Framework was not able to find the previously deployed CloudFormation stack for your Serverless app This can happen if you had tried to remove the app in the past but the remove failed Or if the CloudFormation stack for this app has been manually removed "},
{"id": 178023, "question_id": 17802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-28T10:41:54Z", "scrap_date": "2024-05-01T00:36:49.917242", "content": "Its frustrating when a longstanding error persists without a resolution In this case its possible that the serverless team is aware of the issue but has not yet found a payment solution "},
{"id": 178024, "question_id": 17802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-31T14:16:37Z", "scrap_date": "2024-05-01T00:36:49.918242", "content": "This error has been around for half a decade and it doesnt appear the Serverless team is any closer to resolving this issue Executing sls remove has no positive effect Ive removed the CloudFormation stacks S3 buckets deleted the local files and no matter what Im unable to get Serverless working How can such a prevalent error persist for this long and not receive any significant attention The Stack id does not exist error is serverless deployments can be frustrating especially if you have already tried various solutions like removing cloud formation stacks and deleting local files without success Resolving complex and longstanding issues requires thorough investigation understanding to the underlying causes and careful implementation of fixes The serverless team might be facing challenges in reproducing the error consistently or identifying the specific conditions that trigger it Regards"},
{"id": 178025, "question_id": 17802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-24T12:59:06Z", "scrap_date": "2024-05-01T00:36:49.920242", "content": "This error has been around for half a decade and it doesnt appear the Serverless team is any closer to resolving this issue Executing sls remove has no positive effect Ive removed the CloudFormation stacks S3 buckets deleted the local files and no matter what Im unable to get Serverless working How can such a prevalent error persist for this long and not receive any significant attention Ive found myself trapped in what seems like an endless loop of frustration with Serverless removal This problem has persisted for what feels like an eternity around five years to be exact Its disheartening that the Serverless team hasnt been able to crack this nut No matter how hard I try executing sls remove just doesnt seem to work as it should "},
{"id": 178026, "question_id": 17802, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-24T13:30:22Z", "scrap_date": "2024-05-01T00:36:49.922243", "content": "I think my next step will be to attempt using Serverless in a vm Maybe I can isolate the files preventing it from functioning properly on the system OS "},
{"id": 95292, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-28T16:29:16Z", "scrap_date": "2024-05-01T00:36:50.749443", "content": "From what I gather its a lambda function used to dynamically define the CloudWatch log role ARN property as part of CloudFormation custom resources feature This property seems to be an account property can be controlled in the web console under API Gateway Settings I didnt find yet how to disable its creation or control it This is left as a question to the audience Id personally rather not have it run nor created and in the process avoid giving the serverless userrole too many permissions "},
{"id": 95293, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-03T06:41:36Z", "scrap_date": "2024-05-01T00:36:50.750443", "content": "You have provided information to connect to serverless dashboard at serverless yml file Probably the auto crated lambda function sends some information from AWS to serverless dashboard To turn off this auto creation simply remove app and org from serverless yml app hello org DemoOrg"},
{"id": 95294, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-10T16:10:35Z", "scrap_date": "2024-05-01T00:36:50.751444", "content": "I have my serverless definition without app and org and still create this function any know how to avoid it I tested using a shared api gateway and using a shared role for the lambda invocations and nothing "},
{"id": 95295, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-11-04T02:37:24Z", "scrap_date": "2024-05-01T00:36:50.752444", "content": "Hi If you have below in your serverless yml Then change from true to false works for me if you can see the folder where you actually package all your code the zip file customresource zip is gone Hope this helps Version info Cheers"},
{"id": 95296, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-25T14:35:58Z", "scrap_date": "2024-05-01T00:36:50.753444", "content": "Hello guys Does anybody know how to disable creation of this function I cannot find the place in the code where that function creation is enabled I appreciate the help "},
{"id": 95297, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-27T19:18:54Z", "scrap_date": "2024-05-01T00:36:50.753444", "content": "The functions serves a very specific purpose and is related to limitations with AWS CloudFormation The Serverless Framework is designed to make use of CloudFormation for a number of reasons However in a lot of cases there are features that we and users want to use that is actually not supported by CloudFormation In order to help solve the issue that CloudFormation may not support certain features very quickly AWS introduced a feature called custom resources Custom resources AWS CloudFormation that allows someone to deploy a Lambda function that contains requests to the AWS SDK to create destroy etc resources in an AWS as if it was a part of CloudFormation already That is the function that every one is seeing And back when Node 12 was the latest version of Node this function would have been deployed as a Node 12 function Now that Node 12 is deprecated by AWS there are issues being created usually when someone attempts to push an update it fails and the CloudFormation rollback process attempts to rollback that Node 12 function and Lambda responds with an error The way I have seen users correct this is go to the Lambda service find the function and edit the runtime setting for that function in the AWS Console to something like Node 14 or higher then retry the rollback "},
{"id": 95298, "question_id": 9529, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-28T08:28:42Z", "scrap_date": "2024-05-01T00:36:50.755445", "content": "Thanks for your help garethmcc Changing the runtime worked "},
{"id": 194232, "question_id": 19423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-24T09:49:47Z", "scrap_date": "2024-05-01T00:36:51.863767", "content": "Do you know why the rollback failed"},
{"id": 194233, "question_id": 19423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-24T13:02:04Z", "scrap_date": "2024-05-01T00:36:51.864768", "content": "You can go into your CloudFormation console and manually select to continue the rollback CloudFormation select the stack in question open the Stack actions menu in the top Continue update rollback There have been times Ive needed to open the Advanced menu to skip some problem functions so keep that in mind As for why this happens Id love to know "},
{"id": 194234, "question_id": 19423, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-31T13:53:52Z", "scrap_date": "2024-05-01T00:36:51.865802", "content": "Thank you That seemed to solve it needed to skip the resource as well "},
{"id": 63122, "question_id": 6312, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-10-31T05:56:36Z", "scrap_date": "2024-05-01T00:36:52.689566", "content": "It gave me this error because when I logged in my serverless account and opened the admin panel the application I tried to deploy from app in serverless yml indeed didnt exist Instead I used another application from my account that did exist and it worked More info in my other thread "},
{"id": 63123, "question_id": 6312, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-18T09:05:06Z", "scrap_date": "2024-05-01T00:36:52.690563", "content": "Thanks for posting I had the same problem I was porting a project from Node to Python and hadnt set up a new serverless app Your message bridged the cryptic gap between the error and my simple mistake "},
{"id": 63124, "question_id": 6312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-08-27T21:16:57Z", "scrap_date": "2024-05-01T00:36:52.691569", "content": "Cara eu acho que voce so pulou a etapa incial httpsserverless comframeworkdocsgettingstarted"},
{"id": 63125, "question_id": 6312, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-01T17:16:18Z", "scrap_date": "2024-05-01T00:36:52.692570", "content": "You need to use the identical organization org and application name app that you registered with the Serverless Framework You need to use the identical organization org and application name app that you registered with the Serverless Framework You need to use the identical organization org and application name app that you registered with the Serverless Framework "},
{"id": 194522, "question_id": 19452, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-06T00:44:58Z", "scrap_date": "2024-05-01T00:36:53.728619", "content": "Hi Have you set the environment variable NODE_OPTIONS enablesourcemaps This page describes how to find TypeScript source code for Lambda function invocation errors in the Node js runtime "},
{"id": 65202, "question_id": 6520, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-30T07:38:36Z", "scrap_date": "2024-05-01T00:36:54.551455", "content": "You can use any type of AWS SDK for JS Java etc or just use awscli inside the docker container"},
{"id": 66422, "question_id": 6642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T12:54:39Z", "scrap_date": "2024-05-01T00:36:55.234976", "content": "I cant help much beyond confirming thats how AppSync works Even AWS has said this "},
{"id": 66423, "question_id": 6642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T16:11:40Z", "scrap_date": "2024-05-01T00:36:55.234976", "content": "can you please show a link on where they said this"},
{"id": 66424, "question_id": 6642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T20:56:52Z", "scrap_date": "2024-05-01T00:36:55.235977", "content": "can you please show a link on where they said this Not without spending a lot of time searching for one If you need a link then I would start at the Github issues for awsamplify or awsmobileappsyncsdkjs"},
{"id": 66425, "question_id": 6642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T21:10:09Z", "scrap_date": "2024-05-01T00:36:55.236977", "content": "can you maybe comment another strange situation I got with subscriptions whatever data structure I request in subscription every time I will only got fields specified in mutation"},
{"id": 66426, "question_id": 6642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-10T21:43:17Z", "scrap_date": "2024-05-01T00:36:55.236977", "content": "This is expected too Only the fields passed to the mutation are available in the subscription Its the way AppSync works "},
{"id": 66427, "question_id": 6642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-11T05:56:13Z", "scrap_date": "2024-05-01T00:36:55.237977", "content": "The subscription is need to have a selection of subfields There is an error if I dont select any But if I do they just ignored This all looks very strange This also means that I cant actually control what data would be passed to subscriber I might have same mutation to be triggered with different subfields by different clients the single subscriber would have different data in those cases then Looks inconsistent "},
{"id": 23082, "question_id": 2308, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-07-18T11:58:39Z", "scrap_date": "2024-05-01T00:36:56.072682", "content": "I havent tried it but you might be able to use DynamoDB streams for cross region replication "},
{"id": 23083, "question_id": 2308, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-07-21T23:52:56Z", "scrap_date": "2024-05-01T00:36:56.073680", "content": "I just manually created a datapipeline emr in production Its a one time setup and then youre done and I didnt need it in nonproduction so it wasnt worth automating "},
{"id": 23084, "question_id": 2308, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-12-19T11:02:43Z", "scrap_date": "2024-05-01T00:36:56.074765", "content": "We recently released a Serverless Plugin for automated DynamoDB backups Plugin for the Serverless Framework Configure automated DynamoDB OnDemand backups and manage backups lifecycle powered by AWS Lambda GitHub UnlyEdserverlessplugindynamodbbac It basically automate the lifecycle of On Demand backups Here is a screenshot of the backups made through the plugin I had configured a backup every 5mn at first then changed it to do one per day This is our very first SLS plugin and we hope youll like it Cheers"},
{"id": 4282, "question_id": 428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-18T05:19:23Z", "scrap_date": "2024-05-01T00:36:57.223589", "content": "I havent seen any fully baked wordpress like solutions out there but checkout our site httpsgithub comserverlesssite its built with phenomic io and hosted on a CDN via netlify We are using auth0 for user loginauth stuff and have a couple of serverless functions handling various web tasks One thing that Im looking into is an admin like interface for the static site by using httpsgithub comnetlifynetlifycms"},
{"id": 4283, "question_id": 428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-18T05:42:13Z", "scrap_date": "2024-05-01T00:36:57.224581", "content": "I highly recommend checking out the CRUD example httpsgithub compmuensserverlesscrud You can start to see how you could use serverless functions to recreate the wordpress admin backend "},
{"id": 4284, "question_id": 428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-10-19T00:42:21Z", "scrap_date": "2024-05-01T00:36:57.225582", "content": "Its a bit more complicated than Wordpress but you could use a static site generator like Jekyll Ive seen sites using it handed over to nontechnical staff inside marketing and design departments with a bit of training "},
{"id": 4285, "question_id": 428, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-10-19T00:47:55Z", "scrap_date": "2024-05-01T00:36:57.225582", "content": "Jekyll is a good option too I love httpphenomic io bc I can use all my react components for the site "},
{"id": 4286, "question_id": 428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-12-08T06:44:26Z", "scrap_date": "2024-05-01T00:36:57.226582", "content": "I invite you to take a look at my latest open source project httpsgithub comsirceljmLambdaBlogPlatform It is a blogging platform based on AWS Lambda Unlike static site generators you can This is for now but I plan to add other stuff as well"},
{"id": 4287, "question_id": 428, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-01-17T17:55:54Z", "scrap_date": "2024-05-01T00:36:57.227582", "content": "Whats the differences from httpsgithub comserverlessserverlessgraphqlblog "},
{"id": 69632, "question_id": 6963, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-01-12T10:10:09Z", "scrap_date": "2024-05-01T00:36:58.019848", "content": "I would start with a DynamoDB table and add one record for each URL you want downloaded Next add a Lambda to the table stream which writes to SQS and a Lambda that reads from SQS but has a limit on the number of parallel invocations The Lambda that reads from SQS will handle fetching the URL If it finds a new URL it can add it to the DynamoDB table I would also add a job number to the URL in the DynamoDB table You know have a few options You could query the table for all of the URLs in a particular job and look at the status to figure out how many have been completed The Lambda reading the pages would need to update the status appropriately You could create a job record in DynamoDB and have the two Lambda increment counters for the total number of URLs in the job and total number of complete URLs in the jobs "},
{"id": 68542, "question_id": 6854, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-13T21:17:06Z", "scrap_date": "2024-05-01T00:36:59.020712", "content": "Yan Cui addressed this whitepaper in his article You are thinking about serverless costs all wrong I wonder what other serverless thought leaders think about this paper and mainly issues listed there"},
{"id": 39322, "question_id": 3932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-11T17:18:04Z", "scrap_date": "2024-05-01T00:36:59.720556", "content": "Were you able to get this working"},
{"id": 39323, "question_id": 3932, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-25T21:59:15Z", "scrap_date": "2024-05-01T00:36:59.721554", "content": "bumping this I am trying the same thing and despite several attempts keep coming up empty on getting it to work I can have APIGateway and Cognito passing in the user policy to lambda associated with the user that prompted the lambda execution but cant do anything with they said policy"},
{"id": 78372, "question_id": 7837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-03-29T14:11:10Z", "scrap_date": "2024-05-01T00:37:00.775721", "content": "I experimented yesterday and figured this out Ive writen a quick post on my blog "},
{"id": 47713, "question_id": 4771, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-22T08:06:55Z", "scrap_date": "2024-05-01T00:37:01.844061", "content": "Oh no I missed it Did you record the webinar by any chance Thank you "},
{"id": 47714, "question_id": 4771, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-22T08:30:29Z", "scrap_date": "2024-05-01T00:37:01.845059", "content": "Yes we did Here is the recording youtu bea5RfAMOrEW0 Also I would appreciate if you take the short survey for providing feedback at httpbit ly2ttwAyS"},
{"id": 47715, "question_id": 4771, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-06-22T09:01:27Z", "scrap_date": "2024-05-01T00:37:01.846129", "content": "Brilliant thanks And sure Ill take the survey afterwards "},
{"id": 47716, "question_id": 4771, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-01T22:48:38Z", "scrap_date": "2024-05-01T00:37:01.847127", "content": "This is no longer available Is there anyway it can be rereleased Thanks "},
{"id": 79432, "question_id": 7943, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-09T18:27:17Z", "scrap_date": "2024-05-01T00:37:02.698988", "content": "Apparently it was a lack of indentation in the route keyword I had it before and serverless wants"},
{"id": 79652, "question_id": 7965, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-11T17:33:31Z", "scrap_date": "2024-05-01T00:37:03.703917", "content": "if it works why change it also depends whether you want to send a questionnaire on every order or is it on first order only i would make it part of the order process i e user makes order payment received trigger questionnaire function etc if you have many different api calls maybe you can split these within individual functions and wire them together in one orderworkflow step function this way you are able to track at what stage each order is at "},
{"id": 69072, "question_id": 6907, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-04-24T08:59:52Z", "scrap_date": "2024-05-01T00:37:04.326909", "content": "As far as I know in order to have dual authentication approaches youll need to create a Custom Authorizer Lambda Learn more here I had a similar issue to you and I wrote a Custom Authorizer Lambda function which can authenticate users who submit either an apikey or a JWT token "},
{"id": 85822, "question_id": 8582, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-21T10:01:39Z", "scrap_date": "2024-05-01T00:37:05.114285", "content": "Lambda is just like any other programing environment so you can definitely restrict users to their own data in a multitenant application How depends on many things including the database you are using "},
{"id": 85823, "question_id": 8582, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-24T05:05:34Z", "scrap_date": "2024-05-01T00:37:05.115285", "content": "Thank you buggy Could you give me any tutorial link how to create multitenant app with many databaes I cant find any good instruction "},
{"id": 85824, "question_id": 8582, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-27T14:19:13Z", "scrap_date": "2024-05-01T00:37:05.115285", "content": "Im not aware of any tutorials because it depends on the application requirements and architectual decisions I can tell you that Ive done it using AppSync Lambda DynamoDB The same general principle applies as doing it any other environment store the tenant ID with your data and write queries so people can only fetch data from tenants they have access to "},
{"id": 84752, "question_id": 8475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-06T12:37:37Z", "scrap_date": "2024-05-01T00:37:06.198210", "content": "Something else you may want to try that I havent personally investigated is the Amazon Aurora Serverless Data API This article does a really good job of explaining some of the tradeoffs it looks like AWS recently had quite a few improvements too 175ms first request time and 100ms subsequent request times "},
{"id": 84753, "question_id": 8475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-25T17:49:05Z", "scrap_date": "2024-05-01T00:37:06.199210", "content": "Ive been dealing with the same issue this week I setup the VPC and subnets but wasnt too excited about the cost of a NAT gateway I think the only other option is creating an EC2 t2 micro server for the NAT httpsdocs aws amazon comvpclatestuserguideVPC_NAT_Instance html reddit raws Alternatives to aws NAT 2 votes and 13 comments so far on Reddit From a cost perspective EC2 t2 micro 0 013 per hour 9month Aurora MySQL db t3 small 0 041 per hour 30month NAT Gateway 0 045 per hour 32month Aurora PostgreSQL db t3 medium 0 082 per hour 59month Based on a 30 day month and ondemand pricing Correction the EC2 t2 micro is under the freetier "},
{"id": 84754, "question_id": 8475, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-04T10:01:48Z", "scrap_date": "2024-05-01T00:37:06.201211", "content": "Thank you for the response Since I use my stack for proof of concepts I would like it to be under the free tier so a EC2 t2 micro NAT seems like the way to go Would be nice if I could configure it under the resources in my serverless yml file to not get any manual steps"},
{"id": 84755, "question_id": 8475, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-05T09:55:51Z", "scrap_date": "2024-05-01T00:37:06.202211", "content": "I think perhaps you may want to give DynamoDB a 2nd look as well It seems intimidating but it can handle pretty much any transactional workload for a normal web application you can think of quite nicely We recently released a blog post looking at database options httpsserverless comblogchoosingadatabasewithserverless"},
{"id": 88282, "question_id": 8828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-18T20:37:49Z", "scrap_date": "2024-05-01T00:37:07.191244", "content": "btw if there is any other place where serverless pals are handing out please invite me there Would be happy to join community Thank you very much "},
{"id": 42802, "question_id": 4280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-20T12:03:15Z", "scrap_date": "2024-05-01T00:37:07.699091", "content": "Im aware of Lambda should not invoke other lambda directly antipattern I dont consider that to be an antipattern at all I use it a lot and it works well Id say its both more reliable and more secure than a HTTP request between functions For example your internal services can be lambdas on a VPC with no API gateway link to the outside world and be able to access other internal resources which are not on the Internet For each lambda you can control which other lambdas its permitted to call by iamRoleStatements in the calling functions serverless yml If you dont want to directly couple lambdas then I guess youre looking at something like SQS in between but that makes things more complex because you cant get synchronous replies "},
{"id": 42803, "question_id": 4280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-23T09:33:12Z", "scrap_date": "2024-05-01T00:37:07.701092", "content": "When using SNS I have loose coupling between functions and they dont invoke themselves directly Could you ellaborate a bit more what is the loose coupling an issue for you Also dont understand what you mean about them invoking themselves directly I have been experimenting with this type of SNS eventdriven design and so far I am quite happy with this configuration Using SNS for all internal communications has little overhead in terms of boilerplate and does not present the issue of unnecessary or insecure traffic going to the world outside and back in This setup also gives you the benefit from using several subscribers on a particular topic if you need notifications or different processors Coupling lambdas together could get messy As long as the flow of eventsstate transitions stays the same you can introduce new features by simply modifying a single function or introducing a new one if necessary I think that the defining points on your design is whether it is important for you to process all those items independently and rely on the internal mechanisms for considering a task failed or whether it should be retried And how often new data might be getting published Remember that SQS does not guarantee that messages will be processed in the exact same order they are originally published Amazon SQS FAQs Message Queuing Service AWS Depending on how you answer those 2 questions you could also consider Kinesis Essentially think a bit more about the type of workload you are expecting to be processing and there might be a service that could align better to your specific needs "},
{"id": 42804, "question_id": 4280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T07:25:20Z", "scrap_date": "2024-05-01T00:37:07.703092", "content": "Hi jsancho Thanks for answering I think you get me wrong When using SNS I have loose coupling between functions and they dont invoke themselves directly Could you ellaborate a bit more what is the loose coupling an issue for you This wasnt an issue just a statement that using SNS between functions decouples them which is a good thing Also dont understand what you mean about them invoking themselves directly I thought that was clear Let me explain function A has a code that refers to function Bs ARN and invokesexecutes function B An example from AWS Docs This is an antipattern as you admit Coupling lambdas together could get messy Anyway I end up with two functions As you can see I resigned from and idea of having separate function for accessing data "},
{"id": 42805, "question_id": 4280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-24T09:22:04Z", "scrap_date": "2024-05-01T00:37:07.705093", "content": "OK finally get you In that case I think we are discussing fairly similar approaches Having a separate function to get the data sounds like overkill indeed It is difficult to make many more recommendations without knowing more about the type of workloads that you are dealing with Something that I would maybe add to the mix is that if you dont need individual failretry policies for each individual fields that you are accessing You could consider using batched reads and writes in Dynamo to avoid the overhead of individually processing every message Anyway sounds like you are getting somewhere now"},
{"id": 42806, "question_id": 4280, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-04-25T07:31:14Z", "scrap_date": "2024-05-01T00:37:07.706094", "content": "You could consider using batched reads and writes in Dynamo to avoid the overhead of individually processing every message Thats useful remark Thanks Anyway sounds like you are getting somewhere now Yes I have finished it already and its working fine "},
{"id": 88482, "question_id": 8848, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-22T14:06:44Z", "scrap_date": "2024-05-01T00:37:08.550938", "content": "API Gateway stages and Lambda aliases have a place but its not dev staging and production Tell the developers they need to deploy these to isolated stages Ideally that would be different accounts but you can do it inside a single account if you use Serverless stages and add the stage to the resource name Every time Ive seen someone using aliases for dev staging and production it turns out dev is using the same resource i e DynamoDB tables SNS SQS S3 buckets etc as production If youre doing that you might as well just develop on production because its only a matter of time until someone destroys production accidentally when deploying to dev "},
{"id": 88483, "question_id": 8848, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-23T10:02:52Z", "scrap_date": "2024-05-01T00:37:08.552935", "content": "Thanks for the reply Am I correct in understanding that most of the time if stages are being used as you mention the result would be in that API Gateway you would have multiple APIs e g My Service DEV My Service QA etc And within each of those there would be a single AWS API Gateway stage DEV and QA respectively "},
{"id": 88484, "question_id": 8848, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-07-23T10:53:22Z", "scrap_date": "2024-05-01T00:37:08.553941", "content": "Each stage would have its own API Gateway and each API Gateway would have a single stage with the name of the stage youre deploying to "},
{"id": 190982, "question_id": 19098, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-04T00:47:09Z", "scrap_date": "2024-05-01T00:37:09.635156", "content": "Still happening Are these guys asleep at the wheel They just released a new version of their dashboard which completely wiped my integrations and history "},
{"id": 112402, "question_id": 11240, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-09T14:49:32Z", "scrap_date": "2024-05-01T00:37:10.734522", "content": "Im running into this same issue Im seeing that Serverless examples tell you to go into the console to add this which makes no sense for an IAC framework Have you been able to figure this out"},
{"id": 169202, "question_id": 16920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-22T17:12:36Z", "scrap_date": "2024-05-01T00:37:11.773281", "content": "Yes johhue there is a way to bypass remove org from the serverless yml file keep in mind that you will need to have a valid AWS user configured in your local to deploy "},
{"id": 169203, "question_id": 16920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-08-10T08:56:01Z", "scrap_date": "2024-05-01T00:37:11.774281", "content": "What options are available fo r sidestepping the need for the Serverless Dashboard"},
{"id": 169205, "question_id": 16920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-09T07:02:28Z", "scrap_date": "2024-05-01T00:37:11.775291", "content": "Something has changed in recent version Now the prompt to register Serverless Dashboard always happens regardless of apporg setting in serverless yml file False alarm Mistakenly ran command in old format sls stage dev info instead of new format sls info stage dev"},
{"id": 169206, "question_id": 16920, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-09T15:26:01Z", "scrap_date": "2024-05-01T00:37:11.776295", "content": "Deleting the serverlessrc file should help stop the prompts from appearing"},
{"id": 102012, "question_id": 10201, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-25T03:14:15Z", "scrap_date": "2024-05-01T00:37:12.520286", "content": "Did you ever figure it out"},
{"id": 102013, "question_id": 10201, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-09T15:26:24Z", "scrap_date": "2024-05-01T00:37:12.521285", "content": "The ModuleNotFoundError No module named sklearn error occurs in Python when you try to import the sklearn module which is part of the scikitlearn library but Python cannot find it in your current environment To fix this you need to install scikitlearn using a package manager like pip Open your terminal or command prompt and run the following command pip install scikitlearn This will download and install the scikitlearn library allowing you to import and use it in your Python scripts Make sure you have a working Python environment set up and that pip is properly configured to install packages "},
{"id": 192113, "question_id": 19211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-09-14T13:44:44Z", "scrap_date": "2024-05-01T00:37:13.479264", "content": "Hi Same error here Did you understand how to solve it Fabio"},
{"id": 192114, "question_id": 19211, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-11T13:05:01Z", "scrap_date": "2024-05-01T00:37:13.480265", "content": "Hi I have upgraded to serverless v3 same issue reason serverless variables populateService is not a function Have you found a workaround "},
{"id": 176642, "question_id": 17664, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-11T19:33:29Z", "scrap_date": "2024-05-01T00:37:14.207547", "content": "i was facing the same issue while deploying the code to aws lambda the way i solved it was by using serverlesswebpack plugin plugins package individually true create a file webpack config js module exports target node mode production "},
{"id": 91253, "question_id": 9125, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-08-28T01:54:44Z", "scrap_date": "2024-05-01T00:37:15.252415", "content": "When we were doing this with NodeJS we used symlinks a lot to put lib directories into each service Now that were writing our services in TypeScript were using serverlesspluginwebpack and since that packages all the dependencies for you you can reference code outside the service directory without issue You could do the same even without TypeScript Jeremy Thomerson serverlesstraining com"},
{"id": 91254, "question_id": 9125, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-04T09:22:52Z", "scrap_date": "2024-05-01T00:37:15.253415", "content": "Its a perfect solution thank you "},
{"id": 86462, "question_id": 8646, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2019-07-04T06:41:43Z", "scrap_date": "2024-05-01T00:37:15.871741", "content": "Its better to regroup all your lambdas related to the same business in the same API gateway This question is not specific to serverless neater to API Gateway but more related to how REST API are build"},
{"id": 86463, "question_id": 8646, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-10-03T14:28:27Z", "scrap_date": "2024-05-01T00:37:15.872739", "content": "hi my cell rokhan kharratin lebase khab "},
{"id": 71232, "question_id": 7123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-04T16:49:55Z", "scrap_date": "2024-05-01T00:37:16.833689", "content": "I suggest you to either go with Front Lambda my other endpoints If you want to go with the conventional option of Amazon Web services This is the featured offered by AWS it self for a less technical guy So the person can easily undergo the hosting process all by himself However If your are technical enough to handle the technicalities of hosting server then you may also go with Front Api gateway my other endpoints Serverless will work fine in both cases I hope you have your answer now If you are referring to something else then do let me know "},
{"id": 71233, "question_id": 7123, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-11-05T15:52:58Z", "scrap_date": "2024-05-01T00:37:16.834687", "content": "If you are not utilize all feature of API gateway such as Auth Caching Logging Monitoring Throttling Bursting Elastic then you should consider using Lambda as proxy with ALB to save cost Refer to this article for more detail about the serverless pattern for AWS if you want to explore more"},
{"id": 101092, "question_id": 10109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-23T02:40:26Z", "scrap_date": "2024-05-01T00:37:17.968709", "content": "There are a couple of ways you can try to fix the first issue Regarding the temporary stacks for new task for featured environment not sure whether you read some posts from Yan Cui if not you should take a look theburningmonk com 1 Feb 17 Yubls road to Serverless architecture Testing and CICD theburningmonk com Serverless architectures have a different risk profile and they require a different approach to testing to traditional application development where the focus is on unit tests At the same time the improved tooling around packaging and deployment theburningmonk com 12 Sep 19 Why you should use temporary stacks when you do serverless theburningmonk com One of the benefits of serverless is the payperuse pricing model you get from the platform That is if your code doesnt run you dont pay for them Combined with the simplified deployment flow compared with applications running in containers or "},
{"id": 101093, "question_id": 10109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-23T21:10:15Z", "scrap_date": "2024-05-01T00:37:17.970709", "content": "I havent verified but could you add the endpoint as an Output to your cloudformation and then printparse via sls v info"},
{"id": 101094, "question_id": 10109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-24T15:55:52Z", "scrap_date": "2024-05-01T00:37:17.970709", "content": "Ive had good success with the serverlessstackoutput plugin I output any properties I need in followup scripts Configure the plugin to write them to selfprovider stage stack json which I can then read in my script Hope it helps "},
{"id": 101095, "question_id": 10109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-08T16:02:19Z", "scrap_date": "2024-05-01T00:37:17.971827", "content": "Im also interested in learning how others are performing end to end testing of their services There are a lot of resources available that suggest different approaches around testing in the cloud vs locally with mocks or tools like serverlessoffline and localstack There doesnt seem to be a very clear standard in practice however so Im curious what methods people are using The limited work Ive done has used a separate temporary environment for testing because our services are mostly around Lambda SQS SNS and API Gateway which are quick enough to spin up and pull down I imagine people using RDS may be using alternative ways to avoid the need to spend the significant time it takes to instantiate a new database instance "},
{"id": 101096, "question_id": 10109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-09T07:36:49Z", "scrap_date": "2024-05-01T00:37:17.972710", "content": "From my experience local testing is difficult but not impossible and does not need bloated tools such as localstack that try to emulate AWS services The thing to bear in mind about Lambda functions is that ultimately they are just functions that need parameters passed to them and that should generate a certain expected output with those parameters This means we can use tools as simple as Mocha and equivalents in other runtimes and just do unit tests to help execute code locally This does not mean you have to go down the rabbit hole and build out a full suite of unit tests you can of course do so if you want but using a tool such as this means you can now execute your function code by passing it parameters repeatedly and tie that execution into a debugger The only remaining issue is interaction with AWS services and this is where mocking steps in And I know a lot of folks immediately hear mocking and think its bad practice Mocking is ONLY bad practice if you use it to bypass elements you should actually be testing such as your own classes But why would you want to test that making a putItem call to DynamoDB is successful When in reality what is more useful is to be able to test what happens when that service fails You can mock success and failure of AWS services and therefore test that You cannot test failure if you are tied to the actual DynamoDB service and testing failure with a locally emulated version is not a cake walk either But Gareth that all sounds so painful to setup I hear you say Not really There are existing Node modules and serverless plugins you can use as well as this hand dandy blog post I wrote a few months back to guide you in setting all this up At the end you will have a way to repeatedly execute your function code with a debugger tied in and the best part is its a unit test you can run this in CICD as well "},
{"id": 101097, "question_id": 10109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-09T10:13:31Z", "scrap_date": "2024-05-01T00:37:17.975706", "content": "Hi Gareth Thanks for the above I read through your article and really liked it One thing I noticed was at the end you wrote The next step from here is to look at how we can incorporate this service we have been building in isolation into the rest of our application as a whole do you have any further thoughts on this I find the biggest issue with these smaller services is not so much the business logic but the configuration and maintaining the contract between the different services "},
{"id": 102272, "question_id": 10227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-13T23:47:49Z", "scrap_date": "2024-05-01T00:37:19.052668", "content": "Hello there I have the same question Have you got any solution It would be great to be able to set it up in the serverless yml file serverless"},
{"id": 102273, "question_id": 10227, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-16T17:26:31Z", "scrap_date": "2024-05-01T00:37:19.053666", "content": "Hi catolicasc Here is a proven answersolution NOTE Make sure your function has permission to invoke your target destination fns On your resource section DestConfigName Type AWSLambdaEventInvokeConfig Properties FunctionName yourfunctionname 64 max length MaximumEventAgeInSeconds 300 MaximumRetryAttempts 1 DestinationConfig OnFailure Destination arnawslambdaof our function OnSuccess Destination arnawslambdaof our function Qualifier LATEST or your specific version"},
{"id": 102274, "question_id": 10227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-21T13:34:32Z", "scrap_date": "2024-05-01T00:37:19.056673", "content": "thanks for contributing D"},
{"id": 102275, "question_id": 10227, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-22T18:31:02Z", "scrap_date": "2024-05-01T00:37:19.056673", "content": "Hi friend are you can share the your file serverless yml Thanks very much"},
{"id": 88092, "question_id": 8809, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-23T17:26:17Z", "scrap_date": "2024-05-01T00:37:20.054705", "content": "I too am looking for resources for testing the VTLs If there truly are not any I would consider building a tool set because the request and response templates are at the heart of the business logic for an AppSync powered app and need to be tested "},
{"id": 104212, "question_id": 10421, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-01T22:31:19Z", "scrap_date": "2024-05-01T00:37:21.081217", "content": "To prevent traffic peak You can activate throttling as documented in api gateway documentation httpsdocs aws amazon comapigatewaylatestdeveloperguideapigatewayrequestthrottling htmlapigatewayhowthrottlinglimitsareapplied For now I do not know how to do it in serverless without this plugin lib4dev in lib4dev Awesome libraries for developers"},
{"id": 104502, "question_id": 10450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-07T14:19:50Z", "scrap_date": "2024-05-01T00:37:21.948880", "content": "there doesnt seem to be a means of deploying an Aurora Serverless Cluster through Serverless Components at the moment Ive sifted through all of the posted npm modules and Im wondering if anyone knows when this will happen or if theres some type of workaround with regards to this I wonder if that is because Aurora RDS would look like MySQL or PostgreSQL to npm Ive used node12 xRDSMySql done manually and used the mysql npm modules vs anything specific for RDSAurora Although you do have different end points for ReadOnly vs the Write Andrew"},
{"id": 104503, "question_id": 10450, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-02-09T18:51:24Z", "scrap_date": "2024-05-01T00:37:21.950878", "content": "Hi Nytingale Ive managed to get an Aurora Serverless Cluster to deploy with CloudFormation not Components However I should note there are some caveats and prerequisites One thing to note is that Aurora Serverless Clusters exist in a VPC and as far as I recall cannot exist outside of one This means that in order to connect to the cluster your serverless functions would also have to deploy in the same VPC with an Internet Gateway etc This results in extraordinarily execution times and for a production service is not really fit for purpose at least in my opinion particularly when coupled with the cold start of the cluster and the lambda function it can easily be in excess of 10 seconds September 8 2021 Amazon Elasticsearch Service has been renamed to Amazon OpenSearch Service See details Update August 5 2020 We have fully rolled out the changes to the following additional Regions to those mentioned below These improvements This can be solved using the RDSDataService which allows SQL commands to be executed on the Aurora RDS using HTTP requests authenticated with a Secret ARN This removes the requirement for the lambda being deployed in the Cluster VPC Also as serverless infrastructure itself the RDS Cluster does have cold starts which in my experience will exceed the default APIGateway timeout when you attempt to connect from one of your serverless functions and results in a 500 error This can be confusing at first so be sure to manage the timeouts on requests to the RDS Right on to the actual explanation of how to get an Aurora Serverless Cluster deployed Youre going to need a few things Ive added a link to each of the corresponding template documentation pages Please review this and adjust the templates accordingly the examples below do not include delete protection etc VPC and Subnets Security Group RDS Subnet Group Secret Manager Secret Serverless Aurora Cluster For the purposes of this example Im assuming that the above templates are defined in separate yaml files With that in your serverless yml they would need to be included in resources section You will also need to add the relevant IAMRoleStatements for the RDS Data API and the Secrets Manager The AWS SDK includes an RDSDataService that can be used to connect to and excute commands to your RDS Instance Heres the Javascript RDSDataService SDK for reference httpsdocs aws amazon comAWSJavaScriptSDKlatestAWSRDSDataService html I hope this was helpful it took me a while to initially figure out "},
{"id": 104504, "question_id": 10450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-10T07:06:28Z", "scrap_date": "2024-05-01T00:37:21.953879", "content": "Thankfully enough the really long wait times is no longer an issue with Lambda as AWS has made some changes under the hood to correct that issue as of November last year if I recall "},
{"id": 104505, "question_id": 10450, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-02-10T11:20:23Z", "scrap_date": "2024-05-01T00:37:21.954885", "content": "I wasnt aware of this thats awesome September 8 2021 Amazon Elasticsearch Service has been renamed to Amazon OpenSearch Service See details Update August 5 2020 We have fully rolled out the changes to the following additional Regions to those mentioned below These improvements You can see the massive difference that this has made in function execution duration with it dropping to 933 ms from 14 8 seconds "},
{"id": 108302, "question_id": 10830, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-03-24T08:30:35Z", "scrap_date": "2024-05-01T00:37:23.069251", "content": "If your company requires database to live in VPC for security reasons then you dont have other options but must use VPC Otherwise having no VPC is preferable Serverless Lambda has improved a lot in the old days last year having VPC makes cold start a very painful issue for lambda but now with provisioned concurrency improved VPC networking and RDS proxy VPC performance is no longer an issue "},
{"id": 108303, "question_id": 10830, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-24T13:17:10Z", "scrap_date": "2024-05-01T00:37:23.071250", "content": "The short answer to your question is avoid VPC if at all possible For a Serverless applicaiton VPC is only required if you are using specific services that require it such as RDS or ElasticSearch etc or for security compliance reasons and even then you may still be ok Most of the serverless services are already within a default VPC so there is already a level of security inherent in these services Also for your CICD usage while I may be biased I would sincerely recommend looking into using Serverless Framework Pros CICD solution I will be giving a webinar on it this week if you are interested to learn more Its just far simpler to help you manage your deployments this way httpsserverless zoom uswebinarregister3415844877281WN_stINdhdpSYKgcI4L3Dl03w"},
{"id": 108304, "question_id": 10830, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-14T14:56:14Z", "scrap_date": "2024-05-01T00:37:23.072250", "content": "AWS best practice is to not use the default VPC that is created I suggest you create a new one as well as it will be more convenient while using Terraform Youll have full snaptube vidmate control to teardown and spin up the whole environment "},
{"id": 110992, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-12T20:42:36Z", "scrap_date": "2024-05-01T00:37:24.169068", "content": "At this point Im considering creating a Lambda that handles the OAuth callback e g the place Strava redirects to once the user logs in The lambda could then request the OAuth token from the 3rd party and then make API calls on behalf of the user Not sure if Im on the right track or not but it kidasorta feels right "},
{"id": 110993, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-14T11:52:46Z", "scrap_date": "2024-05-01T00:37:24.170262", "content": "Have you checked lambda authorizer here a link I found httpsaws amazon comblogscomputeintroducingcustomauthorizersinamazonapigateway I implemented with Serverless framework and its really easy and secure Check this blog httpsserverless comblogstrategiesimplementinguserauthenticationserverlessapplications and let me know if you have any questions"},
{"id": 110994, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-15T15:07:17Z", "scrap_date": "2024-05-01T00:37:24.171261", "content": "Thanks for the input I have read those articles and Im still considering my options Unless Im missing something custom Authorizers appear to be helpful for authorization who can call which API endpoint but that still leaves me to roll my own authentication Im still wrapping my head around the different authenticationauthorization strategies for serverless apps built on AWS which has been far more complicated than I expected Cognito is not trivial to understand but integrates well with the rest of AWS Rolling my own custom authorizers leaves me to manage the OAuth flow manage token storageexpiration etc All of this seems like a heavy lift for such a common use case "},
{"id": 110995, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-16T11:54:59Z", "scrap_date": "2024-05-01T00:37:24.172261", "content": "You want to 1 setup a user pool with Strava as an identity provider These references may help httpsdocs aws amazon comcognitolatestdeveloperguidecognitouserpoolsidentityfederation html httpsdevelopers strava comdocsauthentication Then 2 you can define a cognito authorizer and apply it to any secured resources such as http events in your sls functions "},
{"id": 110996, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-16T14:17:40Z", "scrap_date": "2024-05-01T00:37:24.173261", "content": "Cognito with federated identities is pretty terrible You have no choice but to use their builtin UI which will have to run in a webview if you are building a mobile application After spending over a week trying to get Cognito to work with the native Facebook SDK I ended up switching to Firebase Authentication and had it implemented in in half an hour Just my two cents "},
{"id": 110997, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-16T17:39:17Z", "scrap_date": "2024-05-01T00:37:24.174261", "content": "Thanks for the advice duongben Ive read that article on Cognito User Pools and Identity Federation several times since it sounds like what I need However step 5 makes it sound limited to the outofthebox identity providers Unless Im missing something I dont see a way to configure an identity provider other than the ones supported out of the box "},
{"id": 110998, "question_id": 11099, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-28T12:51:08Z", "scrap_date": "2024-05-01T00:37:24.175262", "content": "In addition to social providers Cognito integrates with OIDC or SAMLbased providers I think you want to pursue the OIDC httpsopenid netconnect integration httpsdocs aws amazon comcognitolatestdeveloperguidecognitouserpoolsoidcidp html The Strava docs mention OAuth classic a lot which can easily confuse those who are aware of the differences between it and the OAuth2 implementation which OIDC relies on However I spotted this note at the beginning of the Strava API docs Strava uses OAuth2 for authentication to the V3 API so you should be good to go "},
{"id": 114382, "question_id": 11438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-14T08:50:14Z", "scrap_date": "2024-05-01T00:37:25.285625", "content": "If all you are after is to be able to access one Lambda from another without exposing a public endpoint the best way to do so is to not use API Gateway at all Rather use services such as SNS SQS or even EventBridge to send messages between Lambdas If you really need to do synchronously then you can use the AWS SDK to call one Lambda directly using the invoke method httpsdocs aws amazon comAWSJavaScriptSDKlatestAWSLambda htmlinvokeproperty"},
{"id": 114383, "question_id": 11438, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-27T09:21:21Z", "scrap_date": "2024-05-01T00:37:25.287627", "content": "Sorry for the late feedback Yes it makes the job Thank you "},
{"id": 116542, "question_id": 11654, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-12T16:53:48Z", "scrap_date": "2024-05-01T00:37:26.292956", "content": "Hi Im working with a Stan model and I changed my calculation work process I didnt include any new information or boundaries yet I replaced a straightforward calculation in boundary change with an increasingly intricate one In this way caused Stan to begin utilizing a few times more memory in certainty it presently would snatch all accessible memory and trade and freeze Is there a portrayal some place of how Stan utilizes memory with the goal that I can make sense of what explicitly causes this"},
{"id": 117142, "question_id": 11714, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-18T17:23:59Z", "scrap_date": "2024-05-01T00:37:27.377000", "content": "I think you need to create another function in your serverless yml for example"},
{"id": 118372, "question_id": 11837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-30T03:37:54Z", "scrap_date": "2024-05-01T00:37:28.293334", "content": "I have found one listing based site which provide best serverless tutorials Can anyone check this and suggest me which one is better tutorial"},
{"id": 118374, "question_id": 11837, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-06-30T07:44:13Z", "scrap_date": "2024-05-01T00:37:28.294332", "content": "How about the free course created by myself httpswww serverless comlearncoursesfullstackapplicationdevelopmentonaws"},
{"id": 119262, "question_id": 11926, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-09T07:41:38Z", "scrap_date": "2024-05-01T00:37:29.230254", "content": "The requests dont wait until the previous one is finished Additional instances of the lambda functions are spun up on demand to cope with the extra load httpsdocs aws amazon comlambdalatestdginvocationscaling html I imagine there would be a cross over point where it makes more financial sense to have a dedicated web server handling all the requests rather than using Lambda but they have pricing calculators that you can use to determine this With AWS Lambda you pay only for what you use You are charged based on the number of requests for your functions and the time your code executes "},
{"id": 119263, "question_id": 11926, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-12T19:13:28Z", "scrap_date": "2024-05-01T00:37:29.231255", "content": "what Bearclawstu said is correct AWS lambda instantiate an instance and keeps it open to accept more request pre warm In case it cannot accept more accept based on your concurrency limits it will instantiate more instance to handle the load "},
{"id": 49902, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-07T12:44:35Z", "scrap_date": "2024-05-01T00:37:30.315133", "content": "I run my functions locally and if I get syntax errors I enable SLS_DEBUG to get more detailed information If the functions are running but Im getting service failures Ill dump errors to the logs in debug mode What types of errors are you trying to debug Connecting to AWS services Syntax errors Are you running a test suite to unit test your functions What language are you using"},
{"id": 49903, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-10T10:47:15Z", "scrap_date": "2024-05-01T00:37:30.317134", "content": "Hi All As jeremydaly said What types of errors are you trying to debug Connecting to AWS services Syntax errors Are you running a test suite to unit test your functions What language are you using what type of errors you are encounting I need to add one more question to this I e Runtime Errors Actually A runtime error is generated when a VBA program attempts to execute an invalid statement at run time If you are clear about what type of errors you are getting It will be easy to get your answer Thanks Kimberly"},
{"id": 49904, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-07-11T10:54:25Z", "scrap_date": "2024-05-01T00:37:30.318134", "content": "Hi I dont have a clear answer but Ill share my experience so far with debugging functions Im currently building a medium sized platform with serverless using typescript webpack I opted to do integration tests instead of unit tests in order to have some sort of flows covered For this I piggybacked on webpack and I use the bundles it creates and run them locally in some plain node js scripts This way I can build flows using responses from one function to another Im using VSCode and its debugger is very helpful when it comes to environment variables Obviously there are some catches to this approach Catch 1 My tests are not covering the serverless yml configuration Since Im using only the code that will be deployed to the Lambda function I often encounter errors generated by serverless yml misconfigurations mostly forgotten environment variables Possible solution I created flows in postman that work directly with API that would reveal any endpoint misconfiguration and I can use them as working examples and for demo purposes Catch 2 A webpack generated bundle is a bit hard to debug Webpack bundles everything in one file I tried to keep the number of modules used at minimum even avoided using lodash but still one file has 12 MB You can imagine that these files are a bit hard to debug but not impossible Possible solution Im thinking to transpile the typescript code to js and use those files without bundling and tree shaking Catch 3 The process of preparing the files for testing is long The bundle creation time increases with every new function you add I have now 60 functions that are bundled every time I need to run the tests and it takes 4 minutes to finish I have to run this after every update I do to the functions code so TDD is not easily achievable Possible solution Bundle only the functions needed for a certain test This way I dont have to bundle every thing every time This way I can get a shorter bundling time and still use the final product that would run in the lambda function The downside is to configure every test with what needs to bundle I know this is not probably the answer you were looking for but it might give you an insight on how others are doing it Also I think this course might help with debugging and in general about using serveless httpslivevideo manning comcourse38productionreadyserverless "},
{"id": 49905, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-11T11:37:51Z", "scrap_date": "2024-05-01T00:37:30.321135", "content": "IulianGioada great answer enlightening Ill share how Im doing tests and the problems I encounter A bit about my stack I use the standard testing pyramid e g unit testing my Lambda functions integration tests for my end to end testing and exploratory testing to find hidden gems Pay attention that except unit tests I run all of my tests in real environment I try to avoid mocks and simplify my dev environment and components Im dealing with For actual debugging during exploratory testing I use CloudWatch ES integration to send my logs for improved digestion CloudWatch is horrible and unusable ELK is a god sent service The issues that I encountered during testing"},
{"id": 49906, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-11T12:34:47Z", "scrap_date": "2024-05-01T00:37:30.323135", "content": "IulianGioada If youre using Typescript webpack then I can recommending Using this approach my CloudWatch logs now show errors from the original source code instead of the JavaScript file that webpack creates "},
{"id": 49907, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-07-18T18:09:17Z", "scrap_date": "2024-05-01T00:37:30.323135", "content": "httpshackernoon comrunninganddebuggingawslambdafunctionslocallywiththeserverlessframeworkandvscodea254e2011010"},
{"id": 49908, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-05T10:45:48Z", "scrap_date": "2024-05-01T00:37:30.324136", "content": "Im using Node js Lambdas that need to take weird realworld raw input events from fairly dumb IoT devices and then do some processing before sending them on to a legacy system Its a bit hacky and local debug werent doing the job because they were so different from the real usecases I switched over to using Rookout for live Lambdas a while back It lets you do step debugging on the Lambda by setting oldskool breakpoints that dump the stack without stopping the function execution "},
{"id": 49909, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-11-06T06:06:37Z", "scrap_date": "2024-05-01T00:37:30.325136", "content": "Adding my 2c here I have found unit tests the easiest way to debug locally To run your Lambda you will probably need some kind of wrapper script to pass it parameters to execute so you might as well make it a unit test Now you can execute tests with breakpoints any time you want There are a number of node modules I use to help with this If you want anymore clarification feel free to ask"},
{"id": 499010, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-02T18:38:09Z", "scrap_date": "2024-05-01T00:37:30.326136", "content": "I ran into the same issues so I created serverlesspluginlocalenv which is an npm module that uses your credentials to get all the environment variables you reference either from your resources section or import from other cloudformation templates I also use serverlessvscode to help debug my functions as it allows you to setup your test input JSON pretty easily and have multiple teest cases httpsmarketplace visualstudio comitemsitemNameMutualofEnumclaw serverlessvscode"},
{"id": 499011, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-03-13T11:49:34Z", "scrap_date": "2024-05-01T00:37:30.327137", "content": "Hi Thundra debugger is one of the debugging solutions for AWS lambda you can try it "},
{"id": 499012, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-04-30T15:26:33Z", "scrap_date": "2024-05-01T00:37:30.328137", "content": "I will probably be a minority but I just try as hard as possible to keep my code as flat as possible When I have tests this means I can write a test reproducing the issue in fifteen minutes or less and go wild with log Printf from there And Ill have a test case after snaptube vidmate Im done When I dont have tests I just add slightly more of log Printf and dont have a test case afterwards "},
{"id": 499013, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-30T15:50:46Z", "scrap_date": "2024-05-01T00:37:30.329132", "content": "I just got an email telling me this topic I had posted two years ago just got updated I had long forgotten I had posted it Two years later Im still very interested in this Since I posted this Ive written countless thousands of lines of node js on Lambda Ive moved my entire operation to Lambda and other parts of AWS including some fairly large web applications I even moved my development to AWS Cloud9 Ive drunk the AWS koolaid My debugging is still primitive though I stick console log in my code and spend time in Cloudwatch looking at logs I only recently moved to Cloud9 and I know that it has some debugging capabilities for Lambda but I admit I havent really investigated them yet I have too much to do like most of us and Ive gotten used to my primitive Cloudwatchoriented debugging and find it doesnt materially slow me down That doesnt mean Im not looking to improve however If any of you have interesting solutions or want to share how you debug your Lambdas Id be very interested to read them "},
{"id": 499014, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-14T08:53:48Z", "scrap_date": "2024-05-01T00:37:30.331132", "content": "At this point in time I would recommend taking a look at using Serverless Framework Pro with its stinn in beta Studio feature Studio lets you connect a service you are building on your local machine to a stack in the cloud and watches for changes to your Lambda functions As soon as the file is saved it is updated in the cloud within seconds Then studio also provides you a testing interface very similar to Postman so that you can trigger your freshly updated Lambda function In this way you can develop locally but actually test in the cloud instead of trying to find ways to create inaccurate copies of the locally or mocking services Actual testing that shows you actual results from the real cloud services you will use "},
{"id": 499015, "question_id": 4990, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-14T17:38:08Z", "scrap_date": "2024-05-01T00:37:30.332132", "content": "Ive been using the hello world app made with AWS Serverless Application Model I realize this is a different tool but they include an ability to run a API locally to execute the containerized lambdas running in a docker container and can pass a debug flag when starting the API and then get a connection from vscode In VS code in launch json In a terminal in the helloworld SAM application sam local startapi d 9999 Then in VS Code set some breakpoints and hit the launch debug button Assuming using the hello world project you can then hit the URL httplocalhost3000hello and any breakpoints that are hit will allow you to stop and inspect and step through just like any other remote debugging Im curious if something similar exists within serverless not SAM since our projects are setup to already use serverless and would like to avoid replicating configuration just for the sake of using the debug tools with SAM "},
{"id": 121092, "question_id": 12109, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-07-28T14:21:00Z", "scrap_date": "2024-05-01T00:37:31.227238", "content": "Maybe this post can help you httpstheburningmonk com202007arelambdatolambdacallsreallysobad"},
{"id": 143332, "question_id": 14333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-11T09:14:51Z", "scrap_date": "2024-05-01T00:37:32.186450", "content": "Hello toddpla It should be possible to use resources extensions to adjust the log group to be retained please refer to docs httpswww serverless comframeworkdocsprovidersawsguideresourcesoverrideawscloudformationresource I know its not an ideal solution and probably having a dedicated configuration would make things easier "},
{"id": 143333, "question_id": 14333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-02-10T19:13:51Z", "scrap_date": "2024-05-01T00:37:32.187448", "content": "Hello toddpla Were you able to achieve this Could you share your solution Thanks in advance "},
{"id": 143334, "question_id": 14333, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-27T23:25:43Z", "scrap_date": "2024-05-01T00:37:32.188454", "content": "I had the same situation you need to add some extra lines to your yml file to rewrite the default configuration add DeletionPolicy Retain to your functions resources this in root of file Resources MyFunctionLogGroup your log group name Type AWSLogsLogGroup DeletionPolicy Retain I hope it can help you"},
{"id": 182772, "question_id": 18277, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-30T10:31:06Z", "scrap_date": "2024-05-01T00:37:32.946467", "content": "Hello ImishinM did you find a solution Im facing exactly the same issue "},
{"id": 196502, "question_id": 19650, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-08T01:38:59Z", "scrap_date": "2024-05-01T00:37:33.990544", "content": "Im interested in what you do if you find a solution please post it here Thanks "},
{"id": 196504, "question_id": 19650, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-30T16:02:15Z", "scrap_date": "2024-05-01T00:37:33.990544", "content": "Hi a4xrbj1 I found a workaround that could be used even if it is not the best way to do it The AWS CLI or NodeJS sdk has the following methods that are usefull Reference deploy AWS CLI 1 31 3 Command Reference I used the NodeJS sdk because I think it is easier to parse JSON result To monitor BlueGreen deployments of a Serverless app I did the following steps NB It looks for the deployment in the paste 10 minutes change the window if it doesnt fit your needs Below is the code of the NodeJS script I hope that it will be helpful to someone "},
{"id": 119812, "question_id": 11981, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-08T12:51:24Z", "scrap_date": "2024-05-01T00:37:34.981794", "content": "One thing to watch out for if you make a syntax error in the lambda function it will exit and not send a reply to cloudformation That will result in cloudformation hanging for an hour before it decides to give up and exit It will look like cloudformation is stuck but Nox VLC sooner or later it will decide to exit So dont do what I did and initially put this into a stack that takes a couple of hours to rollback and rebuild Debug it standalone first "},
{"id": 119892, "question_id": 11989, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-11T16:06:03Z", "scrap_date": "2024-05-01T00:37:35.989553", "content": "am not an expert in this field But if you find the solution I am interested"},
{"id": 119893, "question_id": 11989, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-08-11T16:13:44Z", "scrap_date": "2024-05-01T00:37:35.990554", "content": "There is a plugin for doing this httpswww serverless compluginsserverlessapigatewayserviceproxy"},
{"id": 109312, "question_id": 10931, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-22T16:38:43Z", "scrap_date": "2024-05-01T00:37:36.968424", "content": "Generate API keys upon successful subscription and store them in a DynamoDB table along with the current expiry date Create an API to fetch URLs for the desired files not the files themselves Use API Gateway for this API and implement a custom authorizer that will hit your DDB table and verify the key is still valid Then the API will create a presigned URL for the desired object in S3 and return that to the user The user will then use the presigned URL to fetch the actual contents of the file 192 168 100 1 192 168 1 1 jpg to pdf directly from S3 "},
{"id": 110522, "question_id": 11052, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-22T16:36:23Z", "scrap_date": "2024-05-01T00:37:38.036899", "content": "When Stateful Functions joined Apache Flink at the beginning of this year the project had started as a library on top of Flink to build generalpurpose eventdriven applications Users would implement functions that receive and send messages and maintain state in persistent variables Flink provided the runtime with efficient exactlyonce state and messaging Stateful Functions 1 0 was a FaaSinspired mix between stream processing and actor 9Apps Showbox Tutuapp programmin"},
{"id": 101962, "question_id": 10196, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T13:21:51Z", "scrap_date": "2024-05-01T00:37:39.060184", "content": "My understanding of how AsyncAwait works in a C application is that when the program hits the Await keyword it stops returns the current thread to the thread pool and Kodi nox waits for the awaited operation to finish When the operation is done the program grabs a free thread out of the thread pool and continues executing the program "},
{"id": 112332, "question_id": 11233, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-30T13:19:28Z", "scrap_date": "2024-05-01T00:37:40.208007", "content": "In my experience API gateway has a 10s time out on waiting for the lambda function to start ie For the container to load Once the function has started it can run for much longer than 10s and still respond Ok If you use Java for your lambda function the youre screwed Container 9Apps Showbox Tutuapp starts for Java are often 40 seconds but using Node JS youre usually Ok "},
{"id": 117102, "question_id": 11710, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-02T13:00:51Z", "scrap_date": "2024-05-01T00:37:41.029776", "content": "Itll never happen as hyperbolic as you are phrasing it Containers havent 100 replaced VMs wjhich havent 100 replaced running bare metal servers There will always be use cases for all of the above When you see a kubernettes equivalent andor AWS hosting mechanism for unikernals after that we will have reached mass adoption "},
{"id": 117103, "question_id": 11710, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-03T23:34:00Z", "scrap_date": "2024-05-01T00:37:41.030776", "content": "When you see a kubernettes equivalent andor AWS hosting mechanism for unikernals after that we will have reached mass adoption There will always be use cases for all of the above 192 168 100 1 192 168 1 1 jpg to pdf"},
{"id": 39262, "question_id": 3926, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-06-07T04:47:52Z", "scrap_date": "2024-05-01T00:37:42.132030", "content": "Hi I think that completely depends on the cloud providers If they care about the cold start seriously they have to keep the function warm although it imposes some additional costs for them I think they had not expect how much the cold start would bit the users otherwise they would have set a higher cost for the FaaS and in return would have kept the functions warm or prefetched at least "},
{"id": 121632, "question_id": 12163, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-26T21:11:39Z", "scrap_date": "2024-05-01T00:37:42.969687", "content": "I cant find the post on mobile but recently they posted about a change they made to dynamo partitions which is supposed to help with the hotspots Im sure they still exist to some extent but not as bad as they were a few years ago Kodi nox"},
{"id": 102382, "question_id": 10238, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-26T21:12:33Z", "scrap_date": "2024-05-01T00:37:43.759121", "content": "This stack works fine for practically all my needs It runs the same locally as on multiple environments devstagingprod Those frameworks give me everything I need to create apps and APIs security middlewareserialization db abstractions logging metrics transactions connection pooling etc Its easy to debug locally and remotely 9Apps Showbox Tutuapp"},
{"id": 102383, "question_id": 10238, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-09-30T03:27:30Z", "scrap_date": "2024-05-01T00:37:43.760122", "content": "It should be great imho When you have a small team it allows you to do more Just imagine what you can do further with big teams Just like this recommendation by David Welch written in the front page Built our platform on goserverless with 2 engineers working nights and mornings for the first 14 months Didnt pay a dime until 16 months in have scaled to 10 employees w exp from 0 to senior very agile w CICD couldnt have made a better choice "},
{"id": 122932, "question_id": 12293, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-15T20:51:35Z", "scrap_date": "2024-05-01T00:37:44.814918", "content": "lets say there is a minimal service which take awssdk as dependency 192 168 100 1 192 168 1 1 jpg to pdf"},
{"id": 122492, "question_id": 12249, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-10-15T20:52:13Z", "scrap_date": "2024-05-01T00:37:45.530093", "content": "Id ultimately like to use this service quite a bit and deploy Lambda functions linking to various S3 buckets for more automation snaptube vidmate word to pdf"},
{"id": 7182, "question_id": 718, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2016-11-04T15:29:26Z", "scrap_date": "2024-05-01T00:37:46.596038", "content": "For now I ended up using auth0 and converted httpsgithub comjghaineslambdaauth0authorizer to serverless format httpsgithub comTazerserverlessauth0authorizer"},
{"id": 81082, "question_id": 8108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-08T16:32:02Z", "scrap_date": "2024-05-01T00:37:47.284405", "content": "From the Amazon whitepaper httpsd1 awsstatic comwhitepaperscomplianceAWS_HIPAA_Compliance_Whitepaper pdf AWS Lambda lets customers run code without provisioning or managing servers on their own AWS Lamba uses a compute fleet of Amazon Elastic Compute Cloud Amazon EC2 instances across multiple Availability Zones in a region which provides the high availability security performance and scalability of the AWS infrastructure To ensure that PHI remains encrypted while using AWS Lambda connections to external resources should use an encrypted protocol such as HTTPS or SSLTLS For example when S3 is accessed from a Lambda procedure it should be addressed with httpsbucket s3awsregion amazonaws com If any PHI is placed at rest or idled within a running procedure it should be encrypted clientside or serverside with keys obtained from AWS KMS or AWS CloudHSM Follow the related guidance for AWS API Gateway when triggering AWS Lambda functions through the service When using events from other AWS services to trigger AWS Lambda functions the event data should not contain in and of itself PHI For examplewhen a Lambda procedure is triggered from an S3 event such as the arrival of an object on S3 the object name which is relayed to Lambda should not have any PHI although the object itself can contain such data "},
{"id": 81083, "question_id": 8108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-08T16:44:58Z", "scrap_date": "2024-05-01T00:37:47.287407", "content": "Also from their reference NOTE If you are a Covered Entity or Business Associate as defined by the Health Insurance Portability and Accountability Act of 1996 as amended HIPAA you agree not to use these HIPAA Eligible Services for any purpose or in any manner involving Protected Health Information as defined by HIPAA without first entering into an AWS business associate agreement "},
{"id": 81084, "question_id": 8108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-08T20:37:07Z", "scrap_date": "2024-05-01T00:37:47.288406", "content": "Yup I saw that I was hoping someone had the cloud code to create the structure as they do for a regular Server based HIPAA example Oddly the Amazon Serverless pages even point to the server template as an example which is clearly incorrect Thanks"},
{"id": 81085, "question_id": 8108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-25T10:29:13Z", "scrap_date": "2024-05-01T00:37:47.288406", "content": "Hey Did you get it worked out What architecture did you use"},
{"id": 81086, "question_id": 8108, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-04T08:59:35Z", "scrap_date": "2024-05-01T00:37:47.289407", "content": "Serverless computing refers to an architecture discipline that allows you to build and run applications or services without thinking about servers You can focus on your applications without worrying about provisioning scaling or managing any servers You can use serverless architectures for nearly any type of application or backend service AWS handles the heavy lifting around scaling high availability and running those workloads "},
{"id": 8732, "question_id": 873, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2016-12-05T12:00:13Z", "scrap_date": "2024-05-01T00:37:48.044118", "content": "I dont think theres one correct solution As a general rule I dont have one Lambda directly invoke another In this case I think its important to consider that having one Lambda lookup users and another send the emails is both slower and more expensive than having everything inside a single Lambda Unless theres a strong reason to build it this way Id build one Lambda that does both Currently there are two reasons I split Lambdas For example I have a Lambda that handles an OAuth callback that meets both of those criteria After exchanging the OAuth token it needs to make a couple of external API calls that would delay the API response but dont actually change whats returned The callback Lambda stores the access token in DynamoDB then pushes an app installed message to an SNS topic I have three other Lambdas that subscribe to the app installed topic and take action Technically I could have used a single Lambda Ive taken this approach because"},
{"id": 8733, "question_id": 873, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2016-12-05T23:21:58Z", "scrap_date": "2024-05-01T00:37:48.046119", "content": "buggy s answer is spoton and should probably be required reading TLDR"},
{"id": 8734, "question_id": 873, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-01T09:44:06Z", "scrap_date": "2024-05-01T00:37:48.046119", "content": "Hi Rowanu Why shouldnt a lambda function call another lambda We were thinking of splitting a lambda function because we are going to have to make several rest calls for each request we receive some of which connect to slow rest servers sometimes taking 2 to 3sec handle a request therefore we were thinking of splitting the functions into one that handles requests main lambda and another one that caches data from db dblambda as our db dataset is very small but business requires us to use a db we thought that we could have the dblambda serving more instances of the main lambda as requests would be handled very fast Would this approach be wrong as per your post Also why is it bad to connect directly to another lambda function wont people that use microservice pattern be doing this Apologies for hijacking the thread Regards"},
{"id": 8735, "question_id": 873, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-01T10:15:32Z", "scrap_date": "2024-05-01T00:37:48.048120", "content": "Its not a hard rule there are definitely times when its fine to call a function directly from another function hey I even did it in my course to keep things simple The main concern I have is with tight coupling of functions leading to brittle code or hard to debugtrace errors This can totally be mitigated by design Using Lambda DLQs is one way to deal with the downsides The use case you have described is one I would watch out for What happens if one of those secondary requests failstakes a long time Does the initial request fail What about all those other secondary requests that succeeded Now you have to trace all the requests to work out where the real error is With something inbetween e g SNS or SQS you can buildin sensible retry logic or at least report where the exact failure is cleanly This may not be a big issue in your system but one I would watch out for as systems have a tendency to grow bigger than initially expected if theyre useful "},
{"id": 8736, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-01T11:09:47Z", "scrap_date": "2024-05-01T00:37:48.049120", "content": "Buggy is on the money always aim for event driven development with functions though a good rule of thumb is if its a requestresponse type user case then calling one function from another can be implemented but as mentioned already youre responsible for retries timeouts failures and corolation tracking of events etc so try to change the use case if possible makes it easier in the long run "},
{"id": 8737, "question_id": 873, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-01T21:48:22Z", "scrap_date": "2024-05-01T00:37:48.050120", "content": "Hi Rowanu AndyC Thanks for your replies i see what you mean with issues in debugging as we would have to trace any issues between two lambda functions So are you saying that microservices pattern is not a good pattern to use within lambda however at the moment if data is not found within db we return an error we are looking at a similar approach if we migrate db access to a different lambda If we have two lambdas that execute a very different speeds Main lambda would have to execute auth validation and several other requests to return valid data Dblambda would just mostly fetch cached data therefore it should be much quicker Would this be more error prone isnt this the same as making another async rest request And why I can see that this would be slower than keeping it in the same lambda but wouldnt the dblambda be able to serve more instances of the main lambda Why is it important to have complex retry policies Couldnt existing error handling logic be applied Apologies for all the questions but both answers created more questions Regards"},
{"id": 8738, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T01:35:29Z", "scrap_date": "2024-05-01T00:37:48.052120", "content": "So are you saying that microservices pattern is not a good pattern to use within lambda Hmm no were not saying that Were just pointing out that doing microservices properly usually involves things like messaging layers In a complex application it can be hard to differentiate between a timeout and a failure and what to do about it Messaging layers is one of the common ways to address that Of course you can write your own error handling logic to do this but then thats more work you have to do yourself rather than leveraging existing services Hope that makes sense "},
{"id": 8739, "question_id": 873, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-06-02T04:16:46Z", "scrap_date": "2024-05-01T00:37:48.053121", "content": "Lambda is great for Microservices The API Gateway pattern is a major exception to my rule that if you have one Lambda calling another youre probably doing it wrong It makes complete sense to build an API gateway as a single microservice handling common tasks like authentication then invoke Lambdas from another microservice to perform actions The problem is that a lot of people especially starting out equate a Lambda function to a regular function inside their code and start splitting up validation database access sending emails etc as separate Lambdas all invoked from a main Lambda Trying thinking of the code in your Lambda as stuff that needs to happen before you respond to the user and stuff that can happen after Anything that needs to happen before should be part of a single Lambda Anything that can happen after should generally be connected via SNS which gives your lose coupling retries etc An example A customer places an order order service You need to tell the warehouse warehouse service to pick the item and package it for shipping If youre invoking Lambdas directly then either But there are more problems The alternative is to publish a new order message via SNS Services that are interested in knowing about new orders can listen for this If the warehouse service is temporarily down then orders dont stop When the receipt service is added the order service isnt modified This is loose coupling This doesnt mean that one Lambda never needs to invoke another But you should ask yourself"},
{"id": 87310, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T08:28:43Z", "scrap_date": "2024-05-01T00:37:48.055121", "content": "Hi guys Thanks for your replies I think I understand better the missing pieces in our design Thanks you Regards"},
{"id": 87311, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-02T23:19:10Z", "scrap_date": "2024-05-01T00:37:48.056122", "content": "Hey im tasked with building a service which will pull from a database then for each record call a lambda function Each request takes seconds to complete which is why we were going to run it in parallel it by having each record call a separate API request to the lambda How do I invoke another lambda from within it Is there a better way to run this We wanted to run each request through lambda so we can get logs and see reporting and other metadata "},
{"id": 87312, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-06-03T04:21:27Z", "scrap_date": "2024-05-01T00:37:48.057116", "content": "neoadventist The first thing I would try is using SNS to handle the mismatch between the rate at which you can read from the database and the rate you can process the records If it works then its much easier than writing code to manage parallel invocations and retries "},
{"id": 87313, "question_id": 873, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-06-03T06:30:26Z", "scrap_date": "2024-05-01T00:37:48.058117", "content": "Hey I think its worth mentioning AWS Step Functions as a solution to chaining lambda functions without hard coupling one to another Step functions is great for acting as a state machine between events For example httpsdocs aws amazon comstepfunctionslatestdgtutorialcreatinglambdastatemachine html I have used this approach on few different projects with great results when needing to take the output of one lambda and passing it to another"},
{"id": 87314, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-02-10T13:11:38Z", "scrap_date": "2024-05-01T00:37:48.059117", "content": "I actually have an oauth function too but in there I need to do a couple of things synchronously really though so the info is available immediately save user and 2 other entity types to dynamodb tables etc My user microservice though should I call it through the api gateway or just through lambda invocation does a directly lambda invocation bypass any authorizors btw "},
{"id": 87315, "question_id": 873, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-02-11T10:42:40Z", "scrap_date": "2024-05-01T00:37:48.061117", "content": "If you bypass the API gateway then youre bypassing all of the authorizers too Personally Im using the API GW "},
{"id": 87316, "question_id": 873, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-22T02:32:09Z", "scrap_date": "2024-05-01T00:37:48.061117", "content": "[edited to simplify] Lets say I had a service to create orders I need to validate that the product ids are valid in the order and that the customer has the appropriate settings and subscription plan to pay for this order What I would expect to do is to create an orderscreateOrder lambda function which would make parallel calls to productslistProducts and customersgetCustomer to retrieve the information needed for validation before I am happy to create the order in the system This needs to happen synchronously as its a requestresponse from a third party to create the order I would usually want the logical domains customers products orders to be separate microservices how do I correctly model this on serverless if I am not supposed to call Lambdas from lambdas"},
{"id": 110642, "question_id": 11064, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-10T03:50:37Z", "scrap_date": "2024-05-01T00:37:48.524977", "content": "Try it out by passing path as hello instead of hello"},
{"id": 110644, "question_id": 11064, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-17T18:54:38Z", "scrap_date": "2024-05-01T00:37:48.525977", "content": "service name myService awsKmsKeyArn arnawskmsuseast1XXXXXXkeysomehash 192 168 100 1 jpg to pdf Optional KMS key arn which will be used for encryption for all functions frameworkVersion 1 0 0 2 0 0"},
{"id": 110645, "question_id": 11064, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-29T03:54:23Z", "scrap_date": "2024-05-01T00:37:48.526978", "content": "Thanks for posting this actually solved my problem But looking at it now the first yml that you posted is also valid it just has a different meaning or shape than what is expected by the framework "},
{"id": 132562, "question_id": 13256, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-27T21:28:58Z", "scrap_date": "2024-05-01T00:37:49.406995", "content": "Yes mostly Route53 is not part of the call flow though Your call does not go through Route53 Kodi nox "},
{"id": 132563, "question_id": 13256, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-02-28T10:35:02Z", "scrap_date": "2024-05-01T00:37:49.407996", "content": "Not really sure how this answers my question at all "},
{"id": 130902, "question_id": 13090, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-02-28T22:28:29Z", "scrap_date": "2024-05-01T00:37:50.464516", "content": "We use Terraform to provision our cloud provider accounts access policies networking kubernetes cluster and other services like object stores etc At the moment we do not have CD for Terraform changes but that is one of my next few projects Speed Test "},
{"id": 35322, "question_id": 3532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-17T16:08:56Z", "scrap_date": "2024-05-01T00:37:51.195459", "content": "And if it can be configured in serverless that would be most excelent "},
{"id": 35323, "question_id": 3532, "domain": "forum.serverless.com", "like_num": 8, "created_date": "2018-01-18T20:02:11Z", "scrap_date": "2024-05-01T00:37:51.195459", "content": ""},
{"id": 35324, "question_id": 3532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-10-25T18:23:44Z", "scrap_date": "2024-05-01T00:37:51.196454", "content": "Thank you Super helpful worked for me and so much simpler than a custom authorizer for my use case One question is it possible to configure those identity pool settings in CloudFormation"},
{"id": 35325, "question_id": 3532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-02-13T05:20:06Z", "scrap_date": "2024-05-01T00:37:51.196454", "content": "I followed these steps exactly And then I obtained the access token as a response from the aws cognitoidp admininitiateauth cli call When I pass the access token as a value for the Authorization header to make a request to an API Gateway endpoint I get the following response message Authorization header requires Credential parameter Authorization header requires Signature parameter Authorization header requires SignedHeaders parameter Authorization header requires existence of either a XAmzDate or a Date header "},
{"id": 35326, "question_id": 3532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-12-14T22:38:07Z", "scrap_date": "2024-05-01T00:37:51.197464", "content": "I have the same issue here Not sure what I need to do to resolve it "},
{"id": 35327, "question_id": 3532, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T23:51:03Z", "scrap_date": "2024-05-01T00:37:51.198467", "content": "This is not a direct answer but definitely related When using an aws_iam authorizer I could not use a simple sessionToken as my Authorization header and had to sign my Authorization header using AWS Signature V4 See this section in the serverless tutorial [ Connect to API Gateway with IAM Auth Serverless Stack ] Also see this SO post that helped me httpsstackoverflow comquestions49545475serverlessapigatewayawsiamangular5signingrequest"},
{"id": 124492, "question_id": 12449, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-08T22:21:49Z", "scrap_date": "2024-05-01T00:37:52.280079", "content": "We will have aws credit on this one and I want to use aws organizations so that in the future we will use different account for production and development Nox Vidmate VLC "},
{"id": 124822, "question_id": 12482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-30T04:04:04Z", "scrap_date": "2024-05-01T00:37:53.023421", "content": "I managed to figure it out I am doing golang codes and it turns out I needed to compile build the codes statically eg env CGO_ENABLED0 GOOSlinux GOARCHamd64 go build a ldflags s w extldflags static o binemail_validation email_validationmain go` I have shared my codes for anybody interested It consists of Golang codes connecting to MongoDB with both AWS and OpenWhisk IBM Cloud supported "},
{"id": 124823, "question_id": 12482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-09T21:34:51Z", "scrap_date": "2024-05-01T00:37:53.025421", "content": "Were currently set up on compo se io not necessarily badly but it seems to lack a certain finesse Has anyone used both and is able to comment on the differences or the pros and Kodi nox cons"},
{"id": 124824, "question_id": 12482, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-10T01:25:40Z", "scrap_date": "2024-05-01T00:37:53.025421", "content": "You want a comparison between mongodb in compose dot io compared to mongodb atlas You can always try the free tier in Mongodb Atlas so you can compare I have not tried compose and if it is a stable service for you then just stay But I think it is a great way to support mongodb development by supporting mongodb the company "},
{"id": 119152, "question_id": 11915, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-03T17:40:20Z", "scrap_date": "2024-05-01T00:37:54.095721", "content": "Is anyone willing to discuss the feasibility of this"},
{"id": 119153, "question_id": 11915, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-03-09T21:34:03Z", "scrap_date": "2024-05-01T00:37:54.097722", "content": "They really should have called it something else First of all it isnt AI and secondly it introduces problems that on a meta level people will always have to cope with The paper titled ironies of automation called all this out with the 80s AI winter Heres some other 9Apps Showbox Tutuapp papers which consider it in recent light "},
{"id": 43622, "question_id": 4362, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-11T22:22:53Z", "scrap_date": "2024-05-01T00:37:55.155529", "content": "I was wondering the same Any further insight on this"},
{"id": 186732, "question_id": 18673, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-13T17:23:29Z", "scrap_date": "2024-05-01T00:37:56.198182", "content": "Have you come to any interesting conclusions Im asking myself the same doubt Ive always used the configuration via yml file I would be interested in migrating to ts but I have many doubts about the actual support"},
{"id": 32082, "question_id": 3208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T04:00:20Z", "scrap_date": "2024-05-01T00:37:57.359752", "content": "If your question is whether you can do integration testing of all microservies in your local machine then the answer is probably not yet "},
{"id": 32083, "question_id": 3208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-29T13:23:56Z", "scrap_date": "2024-05-01T00:37:57.360749", "content": "well testing aside just getting them all working together locally i e one service able to call another or push sns messages to be consumed by another etc"},
{"id": 32084, "question_id": 3208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-02T05:14:19Z", "scrap_date": "2024-05-01T00:37:57.361750", "content": "Yeah I dont think its possible to set up a full microservices environment in your local pc yet "},
{"id": 32085, "question_id": 3208, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-03T23:05:41Z", "scrap_date": "2024-05-01T00:37:57.362750", "content": "It really depends how local you want in my Lambda code I try to have as much encapsulation of business logic as possible and write unit tests around those I say unit because the simplest thing is for them to still connect to AWS and use the real services Now depending on the service you could mock it out or in the case of database use a local database I know theres mock s3 but i havent used it But the essence is you can do a lot of development locally without the iteration of uploadingdeploying the lambda code OTOH if by local you might mean local to an EC2 instance you would want to check out Cloud9 it looks very interesting as it gives the local feel of lambda dev and debug although on an EC2 instance FBOW Again I havent used it personally but high on my list to checkout "},
{"id": 32602, "question_id": 3260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-06T07:11:48Z", "scrap_date": "2024-05-01T00:37:58.428650", "content": "If you debug with whats output in the logs Will you see the information you are looking for"},
{"id": 32603, "question_id": 3260, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-12-06T11:06:05Z", "scrap_date": "2024-05-01T00:37:58.429650", "content": "When the request arrives at the destination endpoint I can see those two attributes under event object event requestContext requestId event requestContext requestId identity caller But what I want to figure out is when the request is not yet senttransferred Meaning from the source endpoint I want to get these values and then send the request to the destination endpoint "},
{"id": 35732, "question_id": 3573, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-01-22T16:19:16Z", "scrap_date": "2024-05-01T00:37:59.015721", "content": "I just figured out my problem My requests were being sent with the data as Multipart form I changed it to Form URL Encoded and now it works I think I need to call app use multer in order to add Multipart form data support Hope this can help someone who runs into this same silly issue "},
{"id": 141672, "question_id": 14167, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-23T22:09:07Z", "scrap_date": "2024-05-01T00:37:59.996151", "content": "I dont think its quicker for the first user but the object will then be stored on the edge location for subsequent requests if the item is still cached Nox Vidmate VLC "},
{"id": 82642, "question_id": 8264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-11-06T09:46:04Z", "scrap_date": "2024-05-01T00:38:01.117533", "content": "Did you ever figure out the answer to this question"},
{"id": 82643, "question_id": 8264, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-03T21:43:04Z", "scrap_date": "2024-05-01T00:38:01.118533", "content": "I am trying to set up a deployment stage in an AWS CodePipeline for a ServerLess framework app I have to deploy from a development VPC to a production VPC I can use either CodeDeploy or CodeBuild to do the deployment Im just kind of stuck on how exactly to go about this Anyone done something like Nox Vidmate VLC this"},
{"id": 127072, "question_id": 12707, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-14T22:33:36Z", "scrap_date": "2024-05-01T00:38:02.176625", "content": "Is serverless and db queries wise I assume connecting to db on each request would take alot of resources but i alao am cloud computing noob 9Apps Showbox Tutuapp Anyone"},
{"id": 127073, "question_id": 12707, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-14T22:48:00Z", "scrap_date": "2024-05-01T00:38:02.177626", "content": "It can reuse a db connection actually"},
{"id": 148772, "question_id": 14877, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-05-04T16:09:57Z", "scrap_date": "2024-05-01T00:38:02.955404", "content": "You should be able to create EC2 instances via resources Heres an example below You can see the full documentation for all the options available to you here httpsdocs aws amazon comAWSCloudFormationlatestUserGuideawspropertiesec2instance html Scroll down to the YAML section Hope this helps Edit Further this is how you would define any resource that isnt available to be created with the Serverless framework itself Resources can be any AWS resource through raw Cloudformation "},
{"id": 148773, "question_id": 14877, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-06T12:32:46Z", "scrap_date": "2024-05-01T00:38:02.957423", "content": "Thanks a lot for the suggestion Ill try it out "},
{"id": 138282, "question_id": 13828, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-04T22:32:46Z", "scrap_date": "2024-05-01T00:38:03.370669", "content": "This whole thread is quite misleading The right conclusion which is also the one supported by the article you post is FaaS is not suited for all types of applications One very poorly suited application the article mentions is relational databases you cant really build them on top of snaptube vidmate lambda "},
{"id": 135572, "question_id": 13557, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-03-05T22:03:42Z", "scrap_date": "2024-05-01T00:38:04.444537", "content": "Security background includes not terminating cables properly keeping servers off as much as possible AND in the event of a cyber attack break glass and pull cables is basically muscle memory by 9Apps Showbox Tutuapp now "},
{"id": 135573, "question_id": 13557, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-07T00:34:41Z", "scrap_date": "2024-05-01T00:38:04.446538", "content": "If the data youre going to store is not large you can use the tmp folder of lambda to save info on the same context execution However user data will need to be recached when another lambda execution is spawned possibly due to autoscaling or being idle for too long If you want a more persistent cache try attaching an efs to ur lambda which will be shared by all executions or maybe you can use elasticache"},
{"id": 43992, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-04T08:13:54Z", "scrap_date": "2024-05-01T00:38:05.308720", "content": "Do you really need a microservices architecture today My default reaction is Once your application does become large enough to justify a microservices architecture then"},
{"id": 43993, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T09:42:43Z", "scrap_date": "2024-05-01T00:38:05.309721", "content": "I went with an architecture similar to your approch 1 and used it in production for few months I suggest you start with approach 1 and then extract microservices out one by one as described in the approach 2 when you will need it I have a monorepo with a graphql folder representing my graphql service with two endpoints graphql example comgraphql graphql example comgraphiql The Graphql service is just one Serverless project connecting to a mongo database In your case you would be connecting to 2 Dynamo tables In the future you could extract a service for one or more parts of the domain model ex User You would then need your graphql service to call the users service somehow jsonoverhttp gRPC Lamdba event This would complicate things so I would postpone it for when youll actually need it If your project is supposed to be a company that will last many years I would not go with a solution like AWS AppSync but rather would rebuild the entire stack piece by piece In the end AWS AppSync is just some glue using Apollo Dynamo Lambda and MQTT Yesterday at reInvent Amazon launched AppSync a new GraphQL service featuring realtime updates and builtin offline support Managed in the AWS console AppSyncs GraphQL layer aggregates data from other AWS products such as ElasticSearch and What happens when in 3 years you want to change one of the pieces"},
{"id": 43994, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T16:08:15Z", "scrap_date": "2024-05-01T00:38:05.311721", "content": "Thank you for the feedback the mapping templates were my original hesitation with going the AppSync route but after a little digging they arent as bad as I expected Having Lambda as a bailout to perform more customized login before connecting to DynamoDB is definitely worth it I have some additional questions specifically related to working with the mapping templates but Ill ask those in the appropriate forums "},
{"id": 43995, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T16:17:15Z", "scrap_date": "2024-05-01T00:38:05.312721", "content": "This is also good input I have scaled the project back down to keeping the individual microservices more as project organization rather than maintaining individual serverless projects and deployments If your project is supposed to be a company that will last many years I would not go with a solution like AWS AppSync but rather would rebuild the entire stack piece by piece Isnt AppSync supposed to be an enterprise level GraphQL service I am replacing an existing REST API that will definitely need to be around for several years Is your suggestion to avoid just based on the fact that Ill be tightly coupled to Dynamo Elasticsearch and Lambda Seems like the subscriptions auth and logging features are pretty nice addons to Apollo "},
{"id": 43996, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-05-07T17:56:11Z", "scrap_date": "2024-05-01T00:38:05.313722", "content": "I think AppSync is just comparable to solutions like Meteor Firebase and GraphcoolPrisma They aggregate many different backenddatabase technologies in one solution In my opinion this is generally a bad idea Imagine you went with Firebase 3 years ago and then graphql came along You would be stuck with Firebase and couldnt add graphql to the mix The same is going to happen again in the upcoming years One piece of AppSync will become obsolete and you will be stuck with the entire thing For example AppSync uses MQTT instead of websockets for the subscriptions part I would just start easy with a graphql Lambda a few dynamo tables already that scales very well I used the node npm package apolloserverlambda"},
{"id": 43997, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-07T18:01:38Z", "scrap_date": "2024-05-01T00:38:05.315722", "content": "Ive answered a similar question on Stackoverflow that might be relevant to you Serverless Web App Architecture"},
{"id": 43998, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-05-07T23:27:46Z", "scrap_date": "2024-05-01T00:38:05.315722", "content": "I think the arguments for not using AppSync are misguided Firebase and Graphcool are complete solutions while AppSync is the API Gateway of the GraphQL world For example I could build a REST API using the API Gateway DynamoDB and Cognito User Pools The same DynamoDB table and Cognito User Pool can be used with AppSync so the REST and GraphQL API now reference the same data Its also much faster to get started with AppSync than trying to build your own solution with Lambda and the API Gateway "},
{"id": 43999, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T00:23:11Z", "scrap_date": "2024-05-01T00:38:05.316890", "content": "I know I said Id ask these elsewhere and I will if necessary but when dealing with resolvers directly connected to DynamoDB and Elasticsearch data sources I dont know quite how to handle writing unit tests or debugging locally in my IDE Maybe this isnt even necessary for these data sources and can be reserved for Lambda function data sources Overall AppSync has been quite easy to get up and running especially with the help of the Serverless AppSync plugin Thanks for the suggestion"},
{"id": 439910, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T05:58:21Z", "scrap_date": "2024-05-01T00:38:05.317878", "content": "Im not aware of any frameworks for unit testing the mapping templates but it would be useful "},
{"id": 439911, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-05-08T06:06:42Z", "scrap_date": "2024-05-01T00:38:05.318878", "content": "I believe my point still stands given your clarification AppSync is not the same as FirebaseGraphcoolMeteor but its a comparable level of easytouse flexibility What would you compare it too in nonAWS otherwise Yes I agree AppSync is probably faster to get started with than building everything from scratch FirebaseGraphcool are probably easier to use though Its true that if you have already have DynamoDB tables for a REST API than migrating to AppSync is a good incremental step Ive built my own stack similar to AppSync just using Serverless apolloserverlambda Apollo and pusher com Ive used it for a large SaaS software that is already 5 years old and will likely go on for at least 5 more years "},
{"id": 439912, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-10T11:42:38Z", "scrap_date": "2024-05-01T00:38:05.319878", "content": "Reconfigure AppSync to use Lambda data sources and invoke Lambda from individual microservices How would an individual service invoke a lambda in this setup We have lambdas calling other serviceslambdas going through the AppSync frontend and that adds an unacceptable overhead "},
{"id": 439913, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-10T11:44:09Z", "scrap_date": "2024-05-01T00:38:05.320879", "content": "The same is going to happen again in the upcoming years One piece of AppSync will become obsolete and you will be stuck with the entire thing For example AppSync uses MQTT instead of websockets for the subscriptions part This is going to happen with every technology In the meantime you can get pretty far with AppSync we are finding "},
{"id": 439914, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-14T10:58:16Z", "scrap_date": "2024-05-01T00:38:05.322065", "content": "How would an individual service invoke a lambda in this setup We have lambdas calling other serviceslambdas going through the AppSync frontend and that adds an unacceptable overhead Something that works well from a practical perspective is treating the AppSync as a gateway service When you deploy it youre deploying the gateway AppSync with authentication and a schema You then expose the API ID to other services that add data sources and resolvers By default when AppSync is deployed to you get null back for all queriesmutations but as you deploy the other services the resolvers start to return data "},
{"id": 439915, "question_id": 4399, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-06-16T08:38:44Z", "scrap_date": "2024-05-01T00:38:05.323069", "content": "Yeah sure but we explicitly dont want to go through AppSync for microservice composition "},
{"id": 143063, "question_id": 14306, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-06T09:23:13Z", "scrap_date": "2024-05-01T00:38:06.362088", "content": "How can I check if a User pool with name demo_userpool exists programmatically This is assuming I only have the user pool name and not the ARN 192 168 100 1 192 168 1 1 or ID"},
{"id": 159112, "question_id": 15911, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-09-14T12:44:46Z", "scrap_date": "2024-05-01T00:38:07.278806", "content": "Follow this guide here Itll give you a step by step guide to complete everything youre asking for As itll be serverless you wont need to setup VPC subnets security groups or NACLs"},
{"id": 85612, "question_id": 8561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-22T16:39:51Z", "scrap_date": "2024-05-01T00:38:07.963032", "content": "What I usually do is creating a bastion host ec2 with SSH connection only and then stablish a connection through this ec2 In my opinion this is way more flexible and easier than managing it through lambda functions and also can be done automatically using serverless The only thing youll have to do is connecting to the bastion host and running your script or even create a script that does it all after the serverless deploy is successful thus making your aurora db setup happen soon after its deployed Im really curious if theres a better way than automating this process because I am using serverless less than a year so this possibility is totally plausible "},
{"id": 85613, "question_id": 8561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-08T21:03:27Z", "scrap_date": "2024-05-01T00:38:07.965029", "content": "Im also looking at starting a small proof of concept application with lambda aurora serverless Can anyone provide some pointers to code that will show an example of how to provision an Aurora Serverless within the serverless framework i e a serverless yml file with the right stuff to fire up the Aurora Serverless DB via cloudformation along with the other stuff in the stack Thanks in advance "},
{"id": 85614, "question_id": 8561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-08-26T03:28:57Z", "scrap_date": "2024-05-01T00:38:07.966030", "content": "Which langauge you use for lambda function definition If it is python their is handy library called peewee which helps to define migration scripts and link with bootstrapper which will create underline tables "},
{"id": 85615, "question_id": 8561, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-09T09:00:44Z", "scrap_date": "2024-05-01T00:38:07.967030", "content": "Here is the entire section from serverless yml which worked for me"},
{"id": 161142, "question_id": 16114, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T09:14:30Z", "scrap_date": "2024-05-01T00:38:08.852150", "content": "If you have two separate stacks yml files that interact one of them will need to have the environment variable hard coded or you need to use a much more complicated set up where the 2nd yml is re generated when the first is deployed We just do the first option "},
{"id": 161143, "question_id": 16114, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T10:56:18Z", "scrap_date": "2024-05-01T00:38:08.853150", "content": "Hi TomC Thanks for your reply I am trying to create a user pool dynamically in cognitouserpool yml of which I dont know the id until it is created at deploy time ie Stack Outputs UserPoolClientId xxxxxx UserPoolId xxxxxx So what I am trying to do is to get the contents of UserPooId and map it to an environment variable in my serverless yml file The one that includes cognitouserpool yml file to create the user pool Is there any way to do this Thanks "},
{"id": 161144, "question_id": 16114, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-10-19T11:14:35Z", "scrap_date": "2024-05-01T00:38:08.855158", "content": "The pool name will always be fixed for the lifetime of the stack is my understanding it doesnt change on each deploy So you can put whatever it is into the other stacks environment as per Managing Stages and Environments provider environment USER_POOL_CLIENT_ID foo "},
{"id": 149353, "question_id": 14935, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-12-06T14:47:17Z", "scrap_date": "2024-05-01T00:38:09.378194", "content": "Hi alper did you find any solution for this Our difference is we use Vault and the Lambda Extension for it Use AWS Lambda Extensions to Securely Retrieve Secrets From HashiCorp Vault The problem with that one is that we can use this as a proxy to Vault or read the secrets from disk not ideal Really missing also something like envconsul for Lambda "},
{"id": 103772, "question_id": 10377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-28T16:03:16Z", "scrap_date": "2024-05-01T00:38:10.388951", "content": "Hi I just realized a serverless project and I initialized some base ressources directly in the console VPC RDS Cognito It works pretty well like that I think we can do better The idea that I will test is to get one project to initialized these base ressource and then other projects reference the base ressources of this stack But I didnt tried it yet Does it make sense "},
{"id": 103773, "question_id": 10377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-01-29T00:52:03Z", "scrap_date": "2024-05-01T00:38:10.389950", "content": "to initialized these base Having more than one serverless stacks and one to manage resources make sense to me so far My conclusion is that Ill try to manage everything from the configuration file If I have to redeploy my stack or update it I thing it will be easier to manage if you are curious I did post the same question in these 2 subredits httpswww reddit comrawscommentseu83d1mix_serveless_and_manual_operations_in_aws_console httpswww reddit comrserverlesscommentseu7ynzmix_serveless_configuration_and_manual_operations"},
{"id": 103774, "question_id": 10377, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-29T15:03:03Z", "scrap_date": "2024-05-01T00:38:10.390951", "content": "Well doing things manually is the worst thing you can do in the Cloud If you are learning OK for the first time to get things maybe quickly setup but after you see it working destroy it and put all the resources inside your YAML file "},
{"id": 103775, "question_id": 10377, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-01-30T03:16:07Z", "scrap_date": "2024-05-01T00:38:10.391951", "content": "I have multiple Cloud Formation CF stacks in the same AWS account as well as manually creates resources Some of the CF stacks are managed by ElasticBeanstalk and some by Serverless The Cloud Formation stacks all share the manually created resources such as subnets security groups databases and internetnat gateways It works fine and I so far have had no issue with Serverless or Elastic Beanstalk trying to modify the shared resources I have considered putting the shared resources in another Cloud Formation stack but it seems unnecessary right now So do whatever makes sense to you but make sure to have a clear definition of what should be managed by Serverless so that you dont end up fighting it when manually modifying resources "},
{"id": 103776, "question_id": 10377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-15T14:41:58Z", "scrap_date": "2024-05-01T00:38:10.392951", "content": "sorry if this question is off topics Just point me where should write it instead and Ill do it So I bought this liveVideo on manning to learn more about Serverless framework So far its super nice but at some point for certain configurations ex api gateway usage plan cognito The instructor do not do it in the serverless yml but in the console directly "},
{"id": 103778, "question_id": 10377, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-08-17T18:53:06Z", "scrap_date": "2024-05-01T00:38:10.393952", "content": "sorry if this question is off topics Just point me where should write it instead and Ill do it So I bought this liveVideo on manning to learn more about Serverless framework So far its super nice but at some point for certain snaptube word to pdf configurations ex api gateway usage plan cognito The instructor do not do it in the serverless yml but in the console directly "},
{"id": 170242, "question_id": 17024, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-18T16:37:02Z", "scrap_date": "2024-05-01T00:38:10.833213", "content": "Can you post your code snippet which would provide some context How are you providing your subnet IDS As variables As a Cloudformation Reference This 2 year old Issue seems related"},
{"id": 160992, "question_id": 16099, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-20T23:29:22Z", "scrap_date": "2024-05-01T00:38:11.687328", "content": "MSK is just Kafka You would just use the moduledriver of your choice for the language of your choice and publish messages to Kafka directly 9Apps Showbox Tutuapp"},
{"id": 100285, "question_id": 10028, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-11T23:39:12Z", "scrap_date": "2024-05-01T00:38:12.450080", "content": "Did you record it If so can we access the recording"},
{"id": 196242, "question_id": 19624, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-19T07:19:22Z", "scrap_date": "2024-05-01T00:38:13.302246", "content": "Did you get anything Am facing same issue"},
{"id": 175642, "question_id": 17564, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-20T08:17:15Z", "scrap_date": "2024-05-01T00:38:14.219130", "content": "You can use a cloud migration tool like Gs Richcopy 360 or CloudFuze to migrate your files directly from AWS cloud to GCP Azure this is easy and fast"},
{"id": 199802, "question_id": 19980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-06T17:14:03Z", "scrap_date": "2024-05-01T00:38:14.947792", "content": "Is anyone from the serverless team able to provide any sort of information on the above I also get Unable to add Lambda Layers to function xyzHandler with runtime dotnet8 Support from the AWS team came over a month ago It would be nice to have some timelines so that we are not forced to build on soon to be legacy frameworks "},
{"id": 199803, "question_id": 19980, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-25T19:48:19Z", "scrap_date": "2024-05-01T00:38:14.948783", "content": "Was looking for the same but it seems that v4 of the serverless framework will include it Sadly no word on the release date yet GitHub serverlessserverless at v4 0 "},
{"id": 196472, "question_id": 19647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-15T13:12:10Z", "scrap_date": "2024-05-01T00:38:16.031233", "content": "Im waiting for the release too No news anywhere since the announcement But the announced changes were groundbreaking very important for me so fingers crossed for the announcement soon "},
{"id": 196473, "question_id": 19647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-18T20:11:09Z", "scrap_date": "2024-05-01T00:38:16.032233", "content": "Still no news about 4 0 No announcements No answer on the forim No way to contact Not attractive "},
{"id": 196474, "question_id": 19647, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-26T12:35:59Z", "scrap_date": "2024-05-01T00:38:16.033233", "content": "No reaction on the forum and no answer for the support from my corporate email Im evaluating for a huge organisation but Serverless team doesnt seem to care It for me gives a very sad message I cannot advise any serious companies to use a framework which doesnt even react It is a shame "},
{"id": 52152, "question_id": 5215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-25T11:51:58Z", "scrap_date": "2024-05-01T00:38:16.807265", "content": "I guess this is a slightly more difficult problem than I originally thought If it helps I did find the serverless rc file in my home directory from doing a login on my dev machine Not sure how to reuse that as I can see there are credentials"},
{"id": 52153, "question_id": 5215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-01T12:05:04Z", "scrap_date": "2024-05-01T00:38:16.808265", "content": "Hey garethmcc Great question and Ill work on adding this to our docs To publish with a CICD system you can set the SERVERLESS_ACCESS_KEY environment variable This value should be an access key that you create in the secure tab in the Serverless Dashboard The access key must belong to the tenant in which you are publishing your service Let me know if that helps "},
{"id": 52154, "question_id": 5215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-01T12:28:54Z", "scrap_date": "2024-05-01T00:38:16.809266", "content": "Thanks Alex I actually did not even see the tab at the top to be honest Ill feedback once I get it working Thanks for the input "},
{"id": 52155, "question_id": 5215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-01T12:53:51Z", "scrap_date": "2024-05-01T00:38:16.810266", "content": "I added the required config values in my serverless yml created a key from the dashboard UI and added the SERVERLESS_ACCESS_KEY environment variable to the CI process but it still has not shown up on the dashboard A verbose logging of the SLS deployment shows no confirmation that it logged in I added the sls login command as well but all it did was ask me to open my browser and waited It seems the deploy is just not logging in for some reason with the SERVERLESS_ACCESS_KEY set "},
{"id": 52156, "question_id": 5215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-02T07:01:47Z", "scrap_date": "2024-05-01T00:38:16.811267", "content": "alexdebrie1 Does it perhaps only add the service to the dashboard on the initial stack create and not on subsequent updates to the stack"},
{"id": 52157, "question_id": 5215, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-03T12:22:18Z", "scrap_date": "2024-05-01T00:38:16.811267", "content": "Im having the same issue where the app isnt appearing the dashboard I tried setting the SERVERLESS_ACCESS_KEY env var too Im also only updating an existing app not creating it from fresh so maybe thats the problem"},
{"id": 55792, "question_id": 5579, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-29T13:04:46Z", "scrap_date": "2024-05-01T00:38:17.721662", "content": "it depends how were deploying but from where I stand for by deploying it on my k8s cluster I can decouple the security from the service itself Ill try to post more detailed information here when possiblefinished "},
{"id": 48632, "question_id": 4863, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2018-08-29T13:05:50Z", "scrap_date": "2024-05-01T00:38:18.186790", "content": "Check Hightower demo here "},
{"id": 40082, "question_id": 4008, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-03-13T22:39:43Z", "scrap_date": "2024-05-01T00:38:19.168164", "content": "Note to all that I was able to solve this due to the fact that serverless uses a consistent name for its resources in cloud formation every time So for those currious the earlier mentioned example would look like this in the serverless tml And bam now my new service generates a keyvalue I can reference in other projects easily "},
{"id": 40083, "question_id": 4008, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-04-24T03:14:48Z", "scrap_date": "2024-05-01T00:38:19.170165", "content": "Useful stuff however in case you want to create a SecureString param it cant be done with serverless cloudformation so it would require some scripting Something like"},
{"id": 86332, "question_id": 8633, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-26T03:56:48Z", "scrap_date": "2024-05-01T00:38:20.110175", "content": "This is my handler use strict const AWS require awssdk const dynamo new AWS DynamoDB DocumentClient require awssdkclientsapigatewaymanagementapi const successfullResponse statusCode 200 body everything is alright const connectionHandler event context callback console log event if event requestContext eventType CONNECT Handle connection addConnection event requestContext connectionId then callback null successfullResponse catch err console log err callback null JSON stringify err else if event requestContext eventType DISCONNECT Handle disconnection deleteConnection event requestContext connectionId then callback null successfullResponse catch err console log err callback null statusCode 500 body Failed to connect JSON stringify err THIS ONE DOESNT DO ANYHTING const defaultHandler event context callback console log defaultHandler was called console log event callback null statusCode 200 body defaultHandler const sendMessageHandler event context callback console log EVENT JSON stringify event sendMessageToAllConnected event then callback null successfullResponse catch err callback null JSON stringify err const sendMessageToAllConnected event getConnectionIds then connectionData connectionData Items map connectionId send event connectionId connectionId const getConnectionIds const params TableName process env websocketIDTable ProjectionExpression connectionId return dynamo scan params promise const send event connectionId const body JSON parse event body const postData body data const endpoint event requestContext domainName event requestContext stage const apigwManagementApi new AWS ApiGatewayManagementApi apiVersion 20181129 endpoint endpoint const params ConnectionId connectionId Data postData return apigwManagementApi postToConnection params promise const addConnection connectionId const params TableName process env websocketIDTable Item connectionId connectionId return dynamo put params promise const deleteConnection connectionId const params TableName process env websocketIDTable Key connectionId connectionId return dynamo delete params promise const getStream event context callback const params TableName process env demoTable console log EVENT JSON stringify event dynamo scan params error result handle potential errors if error console error error callback new Error Error scanning db return module exports defaultHandler defaultHandler module exports connectionHandler connectionHandler module exports sendMessageHandler sendMessageHandler module exports getStream getStream"},
{"id": 54912, "question_id": 5491, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-09-19T09:51:23Z", "scrap_date": "2024-05-01T00:38:20.904584", "content": "I also get this issue any ideas"},
{"id": 101412, "question_id": 10141, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-12-27T16:25:49Z", "scrap_date": "2024-05-01T00:38:21.548039", "content": "FnGetAtt is an AWS CloudFormation intrinsic function used to get an attribute of a Resource See AWS Documentation In this case Its retrieving the StreamArn property of the MyDynamoDbTable resource StreamArn is the Arn Amazon Resource Name of a DynamoDB Stream A Stream is the method a DynamoDB Table uses to emit events in response to CreateModifyDelete actions similar to SQL triggers for onInsertonUpdateonDelete Hope it helps "},
{"id": 129492, "question_id": 12949, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2020-11-18T12:49:29Z", "scrap_date": "2024-05-01T00:38:22.646877", "content": "geotargeting in CloudFront CloudFront will detect the users country of origin and pass along the county code to you in the CloudFront ViewerCountry header You can use this information to customize your responses without having to use URLs that are specific to each country "},
{"id": 135672, "question_id": 13567, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-04-27T18:54:12Z", "scrap_date": "2024-05-01T00:38:23.734052", "content": "Hello aarti Hope you doing good I am a crypto and blockchain user kindly review my blog you can get a good information about [Blockchain Technology] Blogs Articles News on Cryptocurrency BTC ETH Coin786 "},
{"id": 100722, "question_id": 10072, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-05-28T00:02:37Z", "scrap_date": "2024-05-01T00:38:24.305753", "content": "Did you ever find a solution to this"},
{"id": 155372, "question_id": 15537, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-07-12T08:12:23Z", "scrap_date": "2024-05-01T00:38:24.881800", "content": "Got it"},
{"id": 98702, "question_id": 9870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2022-11-15T20:28:55Z", "scrap_date": "2024-05-01T00:38:25.993857", "content": "Get your 50 deal offer this BFCM unique logo designs is offering 50 off on Custom Website Design Developments The best 2022 BFCM offer for custom website design Get a 50 discount on all custom website design packages for 5 months "},
{"id": 136422, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-14T10:04:20Z", "scrap_date": "2024-05-01T00:38:26.786038", "content": "boxabirds you might have a look at this repo as an example GitHub awssamplescontactformprocessingwithsynchronousexpressworkflows This application uses a Synchronous Express workflow to analyse a contact form submission and provide customers with a case reference number and add resources section into your serverless yml"},
{"id": 136423, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-15T02:46:44Z", "scrap_date": "2024-05-01T00:38:26.787038", "content": "Thanks yes I saw that resource Unfortunately Im not sufficiently experienced to know how to translate AWS examples into Serverless com examples without a slow and errorprone test process "},
{"id": 136424, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-01-15T23:42:32Z", "scrap_date": "2024-05-01T00:38:26.788058", "content": "I was stuck on this for awhile and couldnt get an endpoint to use integration with StepFunctions Instead I had to use Lambda to invoke a StepFunction state machine "},
{"id": 136425, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2021-01-26T21:21:23Z", "scrap_date": "2024-05-01T00:38:26.789038", "content": "Hi I just had similar use case Like you said its a new feature serverlessstepfunctions plugin does not support it yet httpsgithub comserverlessoperationsserverlessstepfunctionsissues378 I managed to make it work with CloudFormation so I though I will share it with you You need to use step functions of type express and Http API gateway Step functions need to be express type because they offer synchronous execution You need to create Step function e g by using serverlessstepfunctions plugin Execution role for HttpApi integration Given you have a gateway already created HttpApi resource you need to create integration Http Api route with integration from point 3 The only drawback I noticed is the format of the response which cannot be mapped at the moment according to documentation only headers and status codes can be mapped [ Modifying the response of the StartSyncExecution Issue 6 awssamplescontactformprocessingwithsynchronousexpressworkflows GitHub ] Cheers jimmy"},
{"id": 136427, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2021-10-19T20:58:59Z", "scrap_date": "2024-05-01T00:38:26.791039", "content": "This is pretty late but just wanted to leave the message here just in case if anyone is looking for in the future I was able to implement using the serverless configuration itself without going to CloudFormation Here it is The response from the API call looks like this"},
{"id": 136429, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-04-27T12:58:10Z", "scrap_date": "2024-05-01T00:38:26.791039", "content": "This was very helpful thank you very much can I process response to return a shorter one i e output"},
{"id": 1364210, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-23T13:36:57Z", "scrap_date": "2024-05-01T00:38:26.792040", "content": "Thanks for posting your reply To your point I just posted a question a few minutes ago before I found this thread on this very subject I will give your solution a try Jay"},
{"id": 1364211, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-23T14:00:55Z", "scrap_date": "2024-05-01T00:38:26.793040", "content": "When Response Parameter mapping is too limited to satisfy requirements responses may be transformed in one of the states in your state machine prior to returning the response thru HTTP API For simple predictable response transformations I utilize the builtin JsonPath features with a Pass State in lieu of or in addition to a success state For more complex transformation implement lambda customized to transform responses to whatever degree needed before returning to the HTTP API The above approach works well with WS API too Cheers Jay"},
{"id": 1364212, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-01-20T05:09:45Z", "scrap_date": "2024-05-01T00:38:26.794040", "content": "Sorry about the delay Yes you can Set the response template as follows This will return just the output from the statefunction response "},
{"id": 1364213, "question_id": 13642, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-02-06T16:02:48Z", "scrap_date": "2024-05-01T00:38:26.795040", "content": "How to make the value of stateMachineArn dynamic instead of hardcoding in the request"},
{"id": 143422, "question_id": 14342, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-05T07:01:31Z", "scrap_date": "2024-05-01T00:38:27.837789", "content": " Both AWS Certified Solutions Architect and AWS Certified SysOps Administrator are popular certifications offered by Amazon Web Services AWS Heres some information about each certification AWS Certified Solutions Architect Associate Exam Pattern The exam consists of multiplechoice and multipleanswer questions testing your knowledge of designing and deploying scalable highly available and faulttolerant systems on AWS Duration The exam duration is 130 minutes How to Get Certified To become certified you need to pass the AWS Certified Solutions Architect Associate exam You can prepare for the exam by studying AWS whitepapers official AWS documentation and taking practice exams Exam Cost The exam fee is 150 USD Exam Time You can schedule the exam through the AWS Certification website at a time convenient for you AWS Certified SysOps Administrator Associate Exam Pattern Similar to the Solutions Architect exam this exam also includes multiplechoice and multipleanswer questions focusing on deploying managing and operating scalable systems on AWS Duration The exam duration is 130 minutes How to Get Certified To obtain this certification youll need to pass the AWS Certified SysOps Administrator Associate exam Preparation involves studying AWS documentation whitepapers and practicing with sample questions Exam Cost The exam fee is 150 USD Exam Time Like the Solutions Architect exam you can schedule the SysOps Administrator exam through the AWS Certification website Both certifications require a solid understanding of AWS services architecture best practices and handson experience with AWS cloud computing Its essential to thoroughly prepare for the exams by reviewing the relevant AWS resources and taking practice tests to gauge your readiness Additionally you can find more detailed information about exam topics study materials and exam scheduling on the official AWS Certification website "},
{"id": 150502, "question_id": 15050, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-09T14:34:11Z", "scrap_date": "2024-05-01T00:38:28.674981", "content": "Putting a message in one queue doing some work and passing it to another queue is perfectly normal way to program Of course any optimization is scenario specific As for as displaying status I wouldnt do that with another message queue You need a place to store metadata about the file and the state of the work You could make it a second file in S3 but Id probably do it in a DB maybe a nonsql with a key value pair where the filename is the key and the value is a json with all the meta data Then when the frontend wants the status they jsut read it from the DB 9Apps Showbox Tutuapp"},
{"id": 151892, "question_id": 15189, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-05-09T14:34:42Z", "scrap_date": "2024-05-01T00:38:29.449303", "content": "Currently using a middy validatorAJVJSONSchema on our lambda to validate the request body for further processing AWS API gateway supports request validation that would allow us to remove request validation from the lambda API and not trigger lambda invocations for invalid requests snaptube vidmate"},
{"id": 31602, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-21T22:56:46Z", "scrap_date": "2024-05-01T00:38:30.554767", "content": "Really good topic Could anyone give the detail opinions or experiences that why you vote Cogniot or why you vote Auth0"},
{"id": 31603, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2017-11-22T05:59:05Z", "scrap_date": "2024-05-01T00:38:30.555774", "content": "1 bill I wanted to know the exact same thing Which is why this poll surfaced Basically the scenarios is the same in every aspect Do you want to use The list goes onto areas like committing code continuous integration etc etc But most important is the auth If someone could tell us why one vs the other it would be of great help Food for thought Auth workflow with graphql in the latest apollo conference"},
{"id": 31604, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-11-22T17:09:59Z", "scrap_date": "2024-05-01T00:38:30.556768", "content": "I use Auth0 because its easier to implement and they provide better docs but I dont like their pricing"},
{"id": 31605, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2017-11-23T00:25:08Z", "scrap_date": "2024-05-01T00:38:30.556768", "content": "71 Apart of the price which xzx mentioned currently the reasons I didnt go with Auth0 are The Auth0 itselfs community forum is not active at all so when you ask some questions just no reply I dont find out any other ways to get help for auth0 questions such as slack channel gitter etc But with AWS the support is much much better Secondly when approach Auth0 they sent the salesman directly to you ask for your business proposal details more than help you to fix the problem I asked 6 questions one months ago but until now only get 2 answered and they ask me to go through their online document website only the website url to get the rest answers by myself And they are more interesting on your business try to get your customer name your boss and managers name try to get your idea I will deal with one of Auth0 sales this week lets see if anything goes better from them I hope Auth0 can see the votes and improve themselves Their product is great but the sales are just too aggressive and make me uncomfortable Some statements from the sales as these We are small company not like AWS who can provide free support to community our support engineers are very busy So the support will be provided only if you are pay customers Developer plan only need 13 dollars per month for the support I cant answer your questions because I am not technical support I need understand your business because I need recommend what pay plan you can go with "},
{"id": 31606, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-26T11:55:15Z", "scrap_date": "2024-05-01T00:38:30.559769", "content": "lol Aint that a bummer"},
{"id": 31607, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2017-11-27T11:28:24Z", "scrap_date": "2024-05-01T00:38:30.559769", "content": "I dont think we should attack small businesses like Auth0 for focusing on paying customers How may of you would continue working for your employer if they refused to pay you Youd move on pretty quickly and ignore their requests for help When it comes to AWS you do get basic support for free the AWS forums but if you want anything more than that then even they ask you pay As for the product itself Auth0 is a different product with support for a lot more providers than Cognito so it can be used in places Cognito cant "},
{"id": 31608, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 6, "created_date": "2017-11-29T16:59:56Z", "scrap_date": "2024-05-01T00:38:30.560770", "content": "Auth0 is far far easier to implement But it is way more expensive We started on Auth0 and then switched to Cognito Cognito has cost us a lot of development time On the other hand all of our data is collected in a single place AWS making it easier to analyze Cloudwatch alerts If Amazon had widgets comparable to the Auth0 widgets thered be no contest The only support for Cognito is some demo code and low level libraries that do about 10 of what you need I really wish that Mobile Hub would generate apps that implement support for both User Pools and Federated GoogleFacebook login Ive been complaining to some Amazon employees for a couple of months now to implement this So my two cents is start on Auth0 Learn about JWT tokens and how they work Put your development effort into other parts of your app Once you get the rest of your app working develop a parallel Cognito implementation and switch for production use BTW you can make Cognito work with all those other providers Auth0 supports Youre just going to to have to do some research and write some code That is advanced use of Cognito get the basic stuff going first "},
{"id": 31609, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2017-11-30T03:37:57Z", "scrap_date": "2024-05-01T00:38:30.562770", "content": "thanks a lot jonsmirl "},
{"id": 316010, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 4, "created_date": "2018-02-24T13:55:02Z", "scrap_date": "2024-05-01T00:38:30.563770", "content": "AWS is making it much easier to use Cognito with their Amplify library Still not up to Auth0 level but it is a huge improvement A declarative JavaScript library for application development using cloud services GitHub awsamplifyamplifyjs A declarative JavaScript library for application development using cloud services "},
{"id": 316011, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-17T09:04:27Z", "scrap_date": "2024-05-01T00:38:30.564771", "content": "It seems to me that the issue isnt whether Auth0 expects to be paid but rather how much I just checked their pricing and I was shocked Currently they want 745month for 5000 users and 1445month for 10000 After that you have to contact the company for pricing Im having trouble understanding their target market Thats not appealing for any startup aiming to scale And I would think that most local or niche services would balk at those prices if they develop their own code at all I think that jonsmirl has a point that one might start with Auth0 and then switch over I think that for less than 1000 users they are a viable option But Im concerned that switching would turn out to be easier said than done "},
{"id": 316012, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-17T10:17:09Z", "scrap_date": "2024-05-01T00:38:30.565771", "content": "ocked Currently they want 745month for 5000 users and 1445month for 10000 After that you have to contact the company for pricing I would presume they want to go after B2B SaaS companies with that pricing Anything consumer driven price asked is too much simply due lower expected lifetime value of the client That been said I think they have business issue with the price Extra pain of integrating something like Cognito doesnt justify the price they asked If alternative was to build whole auth system by hand they price would defendable but today you have other alternatives If you in a budget you could even separate your auth to firebase "},
{"id": 316013, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2018-06-17T11:13:43Z", "scrap_date": "2024-05-01T00:38:30.566771", "content": "AWS Amplify has improved greatly since I first wrote this It is easy now to start off on Amazon unless you need to integrate login providers not covered in Amplify "},
{"id": 316014, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-17T11:56:22Z", "scrap_date": "2024-05-01T00:38:30.567772", "content": "I think that jonsmirl has a point that one might start with Auth0 and then switch over Id caution anyone against thinking they can save a few s by using one authentication system now then replacing it with another later Authentication systems tend to be central to any product Trying to retro fit or replace your authentication is probably the single most expensive time consuming and disruptive thing you will ever do As jonsmirl pointed out Amplify and Cognito have improved a lot in recent months but they still suffer from a limited number of providers His advice to start off with Amplify unless you need a provider they dont support is spot on "},
{"id": 316015, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-06-17T13:37:22Z", "scrap_date": "2024-05-01T00:38:30.568772", "content": "Heck you right I forgot Amplify alltogether Makes it almost as easy as firebase or Auth0 "},
{"id": 316016, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-09-21T03:22:30Z", "scrap_date": "2024-05-01T00:38:30.569772", "content": "Ive used auth0 and the documentation was OK but hard to find what I was looking for i e the JS boilerplate for logging in using the Lock I ended up finding that in a random code sample Contrast that with Firebase which has clear stepbystep tutorials and offers the complete configuration object and initialization code in the console But the deal breaker with auth0 is that yesterday I was unable to log in and password reset didnt send any emails so I was effectively locked out of my account I posted on their community forum but theres been no reply I still dont understand how my password or email was changed without receiving any confirmation email As I mentioned in that post Im not a security noob neither a target of any sort I used a strong password so the likelihood of being hacked is infinitesimal And again when your password or email are changed any serious service will send a notification to the old email address I have received none "},
{"id": 316017, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-11-20T05:40:41Z", "scrap_date": "2024-05-01T00:38:30.570772", "content": "I am using Auth0 to start off with I might switch to CognitoAmplify after reading the problems with Auth0 in this thread For pricing Auth0 only seems to make sense for B2B SaaS companies "},
{"id": 316018, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2019-03-16T22:50:35Z", "scrap_date": "2024-05-01T00:38:30.571773", "content": "Read this first if you are thinking of building an SPA with cognito httpsgithub comawsamazoncognitoauthjsissues92"},
{"id": 316019, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-04-06T08:21:17Z", "scrap_date": "2024-05-01T00:38:30.572773", "content": "Cognito user pool has a big security issue which could be a deal breaker if your app is for a financial institution Cognito User Poll is an amazing tool but did you know it does NOT invalidate a token after a logout Find out more issues the tool has Reading time 7 min read"},
{"id": 316020, "question_id": 3160, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-05-19T23:40:25Z", "scrap_date": "2024-05-01T00:38:30.572773", "content": "some updates after years with cognito you cant backup and restore the user accounts the ids uuid of each account were generated as unique and cant be generated as same again This becomes an critical issue and block that we cant migrate this service to other aws account any more "},
{"id": 139572, "question_id": 13957, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-04T19:11:40Z", "scrap_date": "2024-05-01T00:38:31.374675", "content": "you found any solution"},
{"id": 175252, "question_id": 17525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-20T07:34:27Z", "scrap_date": "2024-05-01T00:38:31.960704", "content": "Obvious question Why do you need to pregenerate random usernames versus generating them when you need them I would keep them in DynamoDB Look for optimistic locking examples The same principle can be used to make sure that no other person has been allocated that username "},
{"id": 175253, "question_id": 17525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-20T13:27:47Z", "scrap_date": "2024-05-01T00:38:31.961704", "content": "So we have a API that we are building now that we are expecting huge amounts of traffic on in the future We want to basically assign a random generated username to each user however we want it to be a certain category Say superhero for now We found an API that generates random usernames based on a category However this API only allows 12 5K calls per day So the idea we had was to use the time we have before we go live and everyday make the 12 5K API calls and just store them on our side The issue though is how do I read from one table to update another and ensure that I am only ever assigning a username to one person when we have a serverless asynchronous workloads and can have x amount of lambdas requesting a username "},
{"id": 175254, "question_id": 17525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-21T14:08:55Z", "scrap_date": "2024-05-01T00:38:31.964705", "content": "The issue though is how do I read from one table to update another and ensure that I am only ever assigning a username to one person when we have a serverless asynchronous workloads and can have x amount of lambdas requesting a username Youre looking for conditional writes Put the usernames in your DynamoDB table then update the item setting a new attribute like UserID with the ID of the user youre assigning the username to and the attrtribute_not_exists condition expression to prevent it from succeeding if the UserID attribute has already been written i e someone got to it between you reading and claiming the username "},
{"id": 175255, "question_id": 17525, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-21T17:22:59Z", "scrap_date": "2024-05-01T00:38:31.966706", "content": "This would work if I had a way to pick a random item from dynamo Which I actually had an idea for basically assigning incremental ids as the hash and then I can pick a random one by just creating a random number The only issue with this that I saw was the performance over time will degrade and youd have to keep querying or scanning if youre using a condition expression to determine if its assigned but this only happens AFTER the query is executed meaning you may not get any results and would have to keep querying to find one I was also thinking of a stream that would delete them from the table once we made the assignment to the users table but then we would have no way to pick a random item from ddb since if we delete them that Id exist and youd have to account for that when generating a random number to lookup Appreciate the insight I originally wasnt thinking of assigning the user on the username table not the user table we can setup event driven stuff to maybe also put the user name in the user table if we want But just unsure how I can find an item in ddb from one query that doesnt have a flag without it being done after the query is already executed Post filter not pre filter "},
{"id": 49002, "question_id": 4900, "domain": "forum.serverless.com", "like_num": 3, "created_date": "2018-06-28T23:59:22Z", "scrap_date": "2024-05-01T00:38:32.752772", "content": "I have a dynamo database containing orders I have three groups that need to access the orders table customers create update and delete merchants update and admins update and delete Intuitively I would create three separate services one for each group each containing needed authorizers additional functions etc Microservices should be things like orders inventory accounting shipping rather than customers merchants and admins They are roles who would access the microservices and you may have separate UI for each role In which service should the dynamodb live or is it best to put in in a separate service Each service should maintain its own tables Shared tables make it difficult to update microservices independently How can the services communicate with one another with little overhead Should they use HTTP or can they invoke lambdas from another service directly My preference is to publish events to an event bus For example When someone places an order the order system publishes a new order event to an SNS topic The inventory system can subscribe to the topic and adjust the inventory levels when it receives the message The picking system can subscribe to the same notification and pick the products from the shelves ready for shipping For synchronous communication Ive been invoking Lambda directly to reduce overheadcosts And how can one service invoke a lambda from another service using exports and cross stack references Exactly Export the Lambda that make up the public interface from one stack and import them into others as a cross stack reference Additionally I am thinking about using an ORM like dynamodbdatamapper Would you recommend this at all Would you recommend to share the model code between the services Each service could then access the database which is an antipattern as far as I understand it but I cannot fully explain why Dont do this It means you need to update every service that accesses the database simultaneously This breaks the microservices architecture pattern and makes upgrades very difficult Would also be great to see some example projects andor tutorials where this is done well I looked at the helloretail example but could not grasp at how the event stream could help solving this issue A retail example The order system might receive orders via HTTP events and store them in DynamoDB It will then trigger new order events to the event bus event stream The inventory system will receive the new order event and adjust the inventory levels to reflect 1 less available for sale but the original number in stock The accounting system will receive the new order event and enter it into the accounts with something indicating it sill need to be shipped The picking system will receive the new order event and cause the item to be picked for shipping As each item is picked off the shelf an item picked message is pushed onto the event stream The inventory system receives the item picked message and adjusts the in stock level Once everything is packed an order ready message is put onto the event bus This can trigger the shipping system to arrange for delivery Once the order is shipped an order shipped message is put onto the event buss This can trigger the accounting system to mark the order as complete inside it The order system to mark the order status as shipped The reorder system to check inventory levels possibly via a Lambda and order new stock "},
{"id": 49003, "question_id": 4900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-07-23T08:33:51Z", "scrap_date": "2024-05-01T00:38:32.757773", "content": "Buggy has some very good advice and Id just like to add reasons why you should always first look to asynchronous communications like SNS SQS or a rollyourown variant if you really want like RabbitMQ or the like"},
{"id": 49004, "question_id": 4900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-05-31T02:07:24Z", "scrap_date": "2024-05-01T00:38:32.757773", "content": "Hey sorry to have brought this thread back up but I have the exact same question as OP Im new to microservices as well So on your retail example we have 3 services Accounting Service would probably have a reference to an Order probably an orderId field in the database How would one get that orderId reference from the OrderService I understand that microservices should maintain their own DBTables so we could not just query the order data directly from Accounting Service itself I can think of two ways to get that reference Or is there a better way to do this Thanks in advance "},
{"id": 49005, "question_id": 4900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2019-06-02T08:14:33Z", "scrap_date": "2024-05-01T00:38:32.758783", "content": "Yes there is Have the accounting service maintain its own list of orders with the order data an account needs to have In other words when a new order is added announce that event possibly through a service like SNS Have a function in the Account service listening to the New Order Created event and add that order to its own table in the Account service to reference later Why From Accounting Service do an API call to Order Service Problem with this idea is what if you end up with a situation where you need to resolve not one foreign key but two Three Five Twentyfive Having the original request to account have to sit idle while you make a relatively slow network request to multiple other services adds a lot of latency on and also floods your network with the additional activity that is not really necessary I know because I made the mistake of building it like this once On Client Side after fetching from the Accounting Service do another API call to Order Service to get the order details This has the problem of over complicating your clientside and also adding additional load to that end What if the user is on a mobile device with a really bad connection"},
{"id": 49006, "question_id": 4900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2020-09-26T20:01:48Z", "scrap_date": "2024-05-01T00:38:32.760771", "content": "Thank you very much for your very clear explanation But I steel have a question based on the original one Given the three services at least the orders and inventory services do need to share the same products What is the best practice to share this data between services"},
{"id": 49007, "question_id": 4900, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2022-08-28T02:24:13Z", "scrap_date": "2024-05-01T00:38:32.761772", "content": "The solution is that when orders are created and changes are emitted in an event so that the inventory service listens and updates its own database with the data it needs about orders "},
{"id": 176202, "question_id": 17620, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-03-13T07:01:23Z", "scrap_date": "2024-05-01T00:38:33.560052", "content": "Hi yutveg I hit exactly this scenario packaging all gem dependencies into a lambda layer The only problem I have is with the library not found by myself the error is the same as the example Ive tried multiple different variations of a custom ruby layer make file but still cannot resolve Did you find a resolution for this Id be grateful if you would share thanks"},
{"id": 187622, "question_id": 18762, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-04-16T00:41:56Z", "scrap_date": "2024-05-01T00:38:34.441218", "content": "You have each nest application as a Lambda That sounds strange Regardless we use an npm package GitHub peakaiaisservicediscoveryjs and put the lambdas in cloudmap and this library does both in one shot looks up the lambda by name via cloudmap then invokes it and greatly simplifies things rather than doing manual invoke commands They also have a serverless plugin GitHub peakaiserverlesscloudmap Serverless plugin for Cloudmap whicih is how you get your lambda functions registered into cloudmap in the first place "},
{"id": 187873, "question_id": 18787, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-04-25T17:15:32Z", "scrap_date": "2024-05-01T00:38:35.090721", "content": "This is large topic with a broad set of answers There are several ways to improve the performance of AWS Lambda functions Source httpschat openai com"},
{"id": 188742, "question_id": 18874, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-05-23T10:03:39Z", "scrap_date": "2024-05-01T00:38:36.208317", "content": "Seems like it was a temporary issue the error does not get thrown anymore "},
{"id": 190432, "question_id": 19043, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-02T06:20:05Z", "scrap_date": "2024-05-01T00:38:37.230160", "content": "so solution ended as a lambda based function on python inline unzip gz readline and post to confluent kafka cluster I achieved 7000tps achieved 5500 on my M1 Mac busy doing a golang version initial numbers look like it will be north of 10 000tps"},
{"id": 188822, "question_id": 18882, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-07-31T00:35:55Z", "scrap_date": "2024-05-01T00:38:38.262707", "content": "Closing this as the only way to bypass the limitation is to generate resourcebased permissions and subscriptions via templating Just via jinja2 template and thats it "},
{"id": 188702, "question_id": 18870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-05-27T12:33:56Z", "scrap_date": "2024-05-01T00:38:39.397662", "content": "AWS made changes to S3 bucket access I created a pull request updating the example This pull request forces S3 buckets to be private otherwise the deployment fails see httpsstackoverflow coma761020672693925 "},
{"id": 188703, "question_id": 18870, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-06-03T21:10:00Z", "scrap_date": "2024-05-01T00:38:39.398662", "content": "Do you know how I can configure this but without using CloudFront Im having the same exact error but I am not using CloudFront and I know it has to do with the BlockPublicPolicy now as default for new S3 Buckets but I dont know how to configure that in my serverless node js project "},
{"id": 188704, "question_id": 18870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-06-03T21:33:34Z", "scrap_date": "2024-05-01T00:38:39.399837", "content": "BlockPublicPolicy Check this link AWSS3Bucket examples Here are the settings I am using"},
{"id": 188705, "question_id": 18870, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2023-09-14T17:03:37Z", "scrap_date": "2024-05-01T00:38:39.399837", "content": "Just to complete what you mentionned which is true heres a blog post i wrote regarding that issue named How to solve the apis3putbucketpolicy access denied Error "},
{"id": 195712, "question_id": 19571, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-17T01:48:52Z", "scrap_date": "2024-05-01T00:38:40.462065", "content": "Prefer example in Nest js official docs it uses Serverless AWS and it works Nest is a framework for building efficient scalable Node js serverside applications It uses progressive JavaScript is built with TypeScript and combines elements of OOP Object Oriented Programming FP Functional Programming and FRP "},
{"id": 55552, "question_id": 5555, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2018-08-26T06:11:09Z", "scrap_date": "2024-05-01T00:38:40.895541", "content": "The S3 copyObject method seems to support copying across buckets Have you tried using it If the role the Lambda uses for execution has access to both buckets I dont think it would matter if they were owned by different accounts httpsdocs aws amazon comAWSJavaScriptSDKlatestAWSS3 htmlcopyObjectproperty"},
{"id": 55553, "question_id": 5555, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-03-09T08:11:38Z", "scrap_date": "2024-05-01T00:38:40.896542", "content": "You can Copy files directly between two S3 buckets belonging to two different accounts using tools like Gs Richcopy 360 and Goodsync check both"},
{"id": 201072, "question_id": 20107, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-25T16:16:00Z", "scrap_date": "2024-05-01T00:38:42.011786", "content": "Hey there This can be done by going to the apps listing page and clicking the menu icon to the right of the app or service name and deleting from there If you want to only delete a specific stage then click through to the stage overview and there is another menu option to the top right with a delete If you have any further questions regarding Serverless Dashboard it might be easier to use the chat support built in by clicking the speech bubble to the bottom left "},
{"id": 196162, "question_id": 19616, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-10-24T13:53:30Z", "scrap_date": "2024-05-01T00:38:42.897374", "content": "I tried adding a custom serverless configuration to go with my lambda custom pythonRequirements this is necessary to avoid crossplatform build issues dockerizePip true explicitly pass the arm64 platform to the docker build dockerImage public ecr awssambuildpython3 10latestarm64 explicitly tell pip to fetch the arm64 version of the package dockerRunCmdExtraArgs [ platform linuxarm64v8 ] and specified the lambda to use the arm64 architecture Didnt solve the issue "},
{"id": 196163, "question_id": 19616, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2023-11-10T22:06:48Z", "scrap_date": "2024-05-01T00:38:42.898375", "content": "Did you figure this out Im running into the same issue "},
{"id": 196164, "question_id": 19616, "domain": "forum.serverless.com", "like_num": 2, "created_date": "2023-11-22T14:19:49Z", "scrap_date": "2024-05-01T00:38:42.899589", "content": "boompig jonrobinson I had the same error using these dependencies in the requirements txt But there arent any dependency issues the errors occur when you build the dependecy package in pip install step for your Lambda in a different architecture In my case I use a devcontainer with VSCode with a Docker image that I build Basically I didnt specify the OS architecture in my Dockerfile So I replaced that line I also specified the architecture type in the default layer definition Finally I deployed my project again and solved my issue Conclusion You must build your dependency package on the same architecture you use to deploy your Lambdas PD About arm64 architecture vs x86 architecture Lambda instruction set architectures ARMx86 AWS Lambda"},
{"id": 196165, "question_id": 19616, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-02-22T18:43:13Z", "scrap_date": "2024-05-01T00:38:42.900375", "content": "Sorry for the late reply Thanks for the update "},
{"id": 196166, "question_id": 19616, "domain": "forum.serverless.com", "like_num": 1, "created_date": "2024-04-05T15:59:08Z", "scrap_date": "2024-05-01T00:38:42.901377", "content": "Downgrading to pydantic_core2 10 1 and then unsetting dependent package versions to avoid conflicts pydantic version becomes 1 9 0 resolved this issue for me Other relevant configs I am using"},
{"id": 196167, "question_id": 19616, "domain": "forum.serverless.com", "like_num": 0, "created_date": "2024-04-30T15:19:19Z", "scrap_date": "2024-05-01T00:38:42.901377", "content": "I encountered the same error and solved it by combining the answers from ernesrocker and adobelis Hope to find a better way soon "}
]